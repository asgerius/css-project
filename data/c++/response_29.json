[{"tags": ["c++", "pointers", "dynamic-arrays"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "edited": false, "score": 0, "creation_date": 1438214682, "post_id": 31713147, "comment_id": 51364003, "body": "Thanks for your fast response. I know how to do it with vectors, i was just trying to &quot;resize&quot; the pointer array without copying the elements that i don&#39;t want to delete to a new allocation and then deleting the old allocation (this is the way vectors do it if i am not mistaken)."}, {"owner": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "edited": false, "score": 0, "creation_date": 1438214725, "post_id": 31713147, "comment_id": 51364012, "body": "Apparently that is the only way you can do it. Thanks again."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "edited": false, "score": 0, "creation_date": 1438214742, "post_id": 31713147, "comment_id": 51364019, "body": "Yes, vectors do that. However vectors also allocate more than you&#39;re currently using (called the <code>capacity</code>), and remember how many items are in use via <code>size</code>. So if you are resizing by a small amount it does not need to do another allocation."}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1438214306, "creation_date": 1438214306, "answer_id": 31713147, "question_id": 31713095, "link": "https://stackoverflow.com/questions/31713095/delete-element-inside-pointers-array-resize/31713147#31713147", "title": "delete element inside pointers array (resize)", "body": "<p>You can't do either of those things. You can move items around within your existing allocation, and you can make a new allocation, copy items over, and delete the old allocation.</p>\n\n<p>To work with data you should use a container called <code>vector</code> which provides member functions to remove an element or resize.  A vector is the equivalent in C++ of what most other languages call an \"array\".</p>\n"}], "owner": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 31713147, "answer_count": 1, "score": 1, "last_activity_date": 1438214306, "creation_date": 1438214002, "question_id": 31713095, "link": "https://stackoverflow.com/questions/31713095/delete-element-inside-pointers-array-resize", "title": "delete element inside pointers array (resize)", "body": "<p>Im trying to understand pointers, below my code:</p>\n\n<pre><code>int main()\n{\n\n    int size = 5; //Size of array\n    int position = 2; //Position to delete\n\n    int *pointer = new int[size]; //Pointer declaration\n\n    //Populates array with numbers starting at 1 up to size elements (5 in this case)\n    for (int i = 0 ; i &lt; size; i++)\n    {\n        pointer[i] = i+1;\n    }\n\n    //Prints existing elements (numbers 1 to 5 in this case)\n    for (int i = 0 ; i &lt; size; i++)\n    {\n        std::cout &lt;&lt; pointer[i] &lt;&lt; \", \";\n    }\n\n\n    return 0;\n}\n</code></pre>\n\n<p>I know that if I do <code>delete [] pointers;</code> it will delete the array from the memory, but how can I delete just the object inside position 2 or resize the array? </p>\n"}, {"tags": ["c++", "documentation", "doxygen"], "comments": [{"owner": {"reputation": 4792, "user_id": 588243, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7134a1b3bb60919edcbf78eab4e0992d?s=128&d=identicon&r=PG", "display_name": "Torbj&#246;rn", "link": "https://stackoverflow.com/users/588243/torbj%c3%b6rn"}, "edited": false, "score": 0, "creation_date": 1469428050, "post_id": 31712964, "comment_id": 64512612, "body": "What version of Doxygen are you using? At least with 1.8.11 I couldn&#39;t reproduce this. Such pure virtual functions are actually displayed with a &#39;tag&#39; &quot;<i>pure virtual</i>&quot; to the very right of the function signature."}], "owner": {"reputation": 2214, "user_id": 214974, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/268d62cf4882738192072ceb5071ffb4?s=128&d=identicon&r=PG", "display_name": "sidewinderguy", "link": "https://stackoverflow.com/users/214974/sidewinderguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1438213180, "creation_date": 1438213180, "question_id": 31712964, "link": "https://stackoverflow.com/questions/31712964/customize-doxygen-formatting-of-pure-virtual-function", "title": "Customize doxygen formatting of pure virtual function", "body": "<p>Let's say I have a C++ class with a pure virtual function like this:</p>\n\n<pre><code>class Thing {\npublic:\n    virtual void doStuff(int a, int b) = 0;\n}\n</code></pre>\n\n<p>When doxygen runs over this, you get a line in the (HTML) docs that looks like:</p>\n\n<blockquote>\n  <p>virtual void doStuff(int a, int b)=0</p>\n</blockquote>\n\n<p>The thing is, this is technically correct but I think it looks really ugly to have that '=0' at the end there. The fact that this function is pure virtual (or even that it is virtual) does not matter to my customers. </p>\n\n<p>So is there any way to tell doxygen to hack off that '=0'? Or more generally to customize this output?</p>\n"}, {"tags": ["c++", "opengl", "math"], "comments": [{"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1438213953, "post_id": 31712959, "comment_id": 51363816, "body": "can you tell me what your definition of &quot;origin&quot; is? as far as I can guess, it&#39;s the upper left of the sprite... but I don&#39;t know if that&#39;s meant to be that way"}, {"owner": {"reputation": 783, "user_id": 3995239, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LLKKq.png?s=128&g=1", "display_name": "Accumulator", "link": "https://stackoverflow.com/users/3995239/accumulator"}, "reply_to_user": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1438214352, "post_id": 31712959, "comment_id": 51363922, "body": "for example I would do setOrigin(-1,2) on the sprite and it would move -1 pixels on the x axis (left 1 pixel if not flipped) and 2 pixels on the y axis (down 2 pixels)"}, {"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1438216381, "post_id": 31712959, "comment_id": 51364433, "body": "What about flipping the texture coordinates instead of the vertices? Otherwise I&#39;m not sure (sorry, but I can&#39;t tell what&#39;s wrong from your video)."}, {"owner": {"reputation": 1876, "user_id": 2209511, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6BtmQ.png?s=128&g=1", "display_name": "aslg", "link": "https://stackoverflow.com/users/2209511/aslg"}, "edited": false, "score": 0, "creation_date": 1438216434, "post_id": 31712959, "comment_id": 51364441, "body": "You want to your image in the same place, just flipped horizontally, then I believe that instead of <code>x += (w + ox)</code> it should be only <code>x += w</code>."}], "owner": {"reputation": 783, "user_id": 3995239, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LLKKq.png?s=128&g=1", "display_name": "Accumulator", "link": "https://stackoverflow.com/users/3995239/accumulator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438214394, "creation_date": 1438213140, "last_edit_date": 1438214394, "question_id": 31712959, "link": "https://stackoverflow.com/questions/31712959/flipping-a-sprite-in-opengl-with-an-x-origin-c", "title": "Flipping a sprite in OpenGL... with an x origin... (C++)", "body": "<p>I've managed to be able to flip sprites in OpenGL:</p>\n\n<pre><code>// ox is origin x, w is width, flip is whether the sprite should flipped\n\nif (flip) {\n    x += (w+ox);\n}\n\nx += ox;\ny += oy;\n\nglBegin(GL_QUADS);\n\n//bottom right\nglTexCoord2f(0, 0); glVertex2f(x, y);\n//top right\nglTexCoord2f(1, 0); glVertex2f(flip ? x - w : x + w, y);\n//top left\nglTexCoord2f(1, 1); glVertex2f(flip ? x - w : x + w, y + h);\n//bottom left\nglTexCoord2f(0, 1); glVertex2f(x, y + h);\n\nglEnd();\n\nglDisable(GL_TEXTURE_2D);\n</code></pre>\n\n<p>It <em>works</em>, but something is wrong with flipping sprites based on their origin. The sprite displays fine just how it should look when it's faced in the positive x direction (not flipped). But as soon as I flip it, all of the sprite positions (I'm using an animation of sprites) don't align just as they do when not flipped. What I'm trying to do is literally, just flip it with the origin flipped just right. If you don't get what I mean...</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=OY8rZEyjR4s\" rel=\"nofollow\">https://www.youtube.com/watch?v=OY8rZEyjR4s</a> (video of the problem in action)</p>\n\n<p>I've tried so much random math at this point, I don't know what to even try next, and of course I tried basic things like <code>x += flip ? -ox : ox;</code> and I messed with the <code>x += (w+ox);</code> line too.</p>\n\n<p>And I'm adding this because someone asked it in a comment, this is what I mean by origin:</p>\n\n<p>for example I would do setOrigin(-1,2) on the sprite and it would move -1 pixels on the x axis (left 1 pixel if not flipped) and 2 pixels on the y axis (down 2 pixels)</p>\n"}, {"tags": ["c++", "stl", "functor"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1438216609, "post_id": 31712955, "comment_id": 51364488, "body": "Note that <code>std::mem_fun</code> is deprecated since C++11 and removed in C++17 (in favour of <code>std::mem_fn</code> and <code>std::bind</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 13579, "user_id": 419391, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1817cc6266055df52382764dbffc125f?s=128&d=identicon&r=PG", "display_name": "Eric Z", "link": "https://stackoverflow.com/users/419391/eric-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1438214392, "last_edit_date": 1438214392, "creation_date": 1438214025, "answer_id": 31713098, "question_id": 31712955, "link": "https://stackoverflow.com/questions/31712955/create-an-unary-function-functor-for-non-static-member-function/31713098#31713098", "title": "create an unary_function functor for non-static member function", "body": "<pre><code>bool MyClass::tiny_test (int b)\n{                     // ^^^^^ You missed this argument\n    return a == b;\n}\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>// Supply one more argument. E.g., 3\n(mem_fun(&amp;MyClass::tiny_test))(this, 3);\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 2454025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdf738ba6122adf3df31306e076a2a55?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2454025/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438265304, "creation_date": 1438213127, "last_edit_date": 1438265304, "question_id": 31712955, "link": "https://stackoverflow.com/questions/31712955/create-an-unary-function-functor-for-non-static-member-function", "title": "create an unary_function functor for non-static member function", "body": "<p>The code should explain my difficulty. Though the code itself is quite meaningless, I'm planning to add containers in MyClass, and use algorithms with member functions.</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;\n\nusing namespace std;\n\nclass MyClass\n{\n    public:\n        MyClass() { a = 0; }\n        ~MyClass() {}\n    private:\n        int a;\n        bool tiny_test (int);\n        int Func();\n};\n\nbool MyClass::tiny_test (int b)\n{\n    return a == b;\n}\n\nint MyClass::Func()\n{\n    // does not compile\n    (mem_fun(&amp;MyClass::tiny_test))(this);\n\n    // commented below is another attempt, also no success\n    //mem_fun1_t&lt;bool, MyClass, int&gt; tmp_functor = mem_fun(&amp;MyClass::tiny_test);\n    //tmp_functor(this);\n    return 0;\n}\n\nint main(int argc, char** argv)\n{\n    return 0;\n}\n</code></pre>\n\n<p>Thanks a lot! Btw, I'm not using a static member function, simply because I believe it must work for non-static member functions.\nP.S. Eric, Jarod42, thanks for prompt replies!</p>\n"}, {"tags": ["c++", "boost", "boost-log"], "comments": [{"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1438218527, "post_id": 31712942, "comment_id": 51364950, "body": "Where&#39;s your MCVE? <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 334, "user_id": 4070787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dO3pW.jpg?s=128&g=1", "display_name": "dan-O", "link": "https://stackoverflow.com/users/4070787/dan-o"}, "reply_to_user": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1438219112, "post_id": 31712942, "comment_id": 51365109, "body": "@inetknght I added significant updates to the post."}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1438219469, "post_id": 31712942, "comment_id": 51365198, "body": "I have only ever seen &quot;Input/output error&quot; when filesystem is broken (eg, you need to run fdisk to check integrity)"}], "answers": [{"comments": [{"owner": {"reputation": 2998, "user_id": 2628257, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ujGHu.jpg?s=128&g=1", "display_name": "Sergio Basurco", "link": "https://stackoverflow.com/users/2628257/sergio-basurco"}, "edited": false, "score": 0, "creation_date": 1486370776, "post_id": 31714007, "comment_id": 71298661, "body": "Can confirm this as a recurring problem. Thank you for the fix"}], "tags": [], "owner": {"reputation": 334, "user_id": 4070787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dO3pW.jpg?s=128&g=1", "display_name": "dan-O", "link": "https://stackoverflow.com/users/4070787/dan-o"}, "is_accepted": true, "score": 4, "last_activity_date": 1438221347, "creation_date": 1438221347, "answer_id": 31714007, "question_id": 31712942, "link": "https://stackoverflow.com/questions/31712942/boost-log-causes-crash-when-trying-first-log-statement-when-not-administrator/31714007#31714007", "title": "Boost Log causes crash when trying first log statement (when not Administrator)", "body": "<p>Okay, I figured it out. </p>\n\n<p>The issue was this line here, setting up the text backend:</p>\n\n<pre><code>boost::shared_ptr&lt; boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt; &gt; textFileSink(new boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt;\n    boost::log::keywords::file_name = \"log_%7N.log\",                // file name pattern\n    boost::log::keywords::rotation_size = 16384                     // rotation size, in characters\n    ));\n</code></pre>\n\n<p>There was definitely a temporary log file being written to the local directory (a Program Files directory, which is bad). Based on the <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/log/doc/html/boost/log/sinks/text_file_backend.html\" rel=\"nofollow\">documentation here</a>, I saw that there <em>is</em> a temporary file written, and then passed to the file collector. </p>\n\n<p>So for the solution, I changed the code to this: </p>\n\n<pre><code>boost::shared_ptr&lt; boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt; &gt; textFileSink(new boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt;(\n    boost::log::keywords::file_name = appData + L\"\\\\log_%7N.log\",   // file name pattern\n    boost::log::keywords::rotation_size = 16384                         // rotation size, in characters\n    ));\n</code></pre>\n\n<p>Notice that I am now specifying the <code>file_name</code> as being in the AppData directory instead. </p>\n\n<p><strong>This solved the problem</strong>. </p>\n\n<p>I have a hard time believing that I am the first one to run into this issue, but I could not find this anywhere on the web. This would be a commonly recurring problem for windows developers, so hopefully this is helpful to someone else.</p>\n"}], "owner": {"reputation": 334, "user_id": 4070787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dO3pW.jpg?s=128&g=1", "display_name": "dan-O", "link": "https://stackoverflow.com/users/4070787/dan-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1748, "favorite_count": 2, "accepted_answer_id": 31714007, "answer_count": 1, "score": 4, "last_activity_date": 1438221347, "creation_date": 1438213043, "last_edit_date": 1438219085, "question_id": 31712942, "link": "https://stackoverflow.com/questions/31712942/boost-log-causes-crash-when-trying-first-log-statement-when-not-administrator", "title": "Boost Log causes crash when trying first log statement (when not Administrator)", "body": "<p>I am trying to deploy my application right now, which uses Boost Log (Boost 1.58). It is a simple console app, being run in Windows 7. Logging works perfectly fine on my personal desktop. </p>\n\n<p>However, when I deploy the application to a Win7 virtual machine, it crashes upon my first log statement:</p>\n\n<pre><code>boost::log::sources::severity_logger&lt;SeverityLevel&gt; slg;\nBOOST_LOG_SEV(slg, SeverityLevel::Notification) &lt;&lt; L\"Application loaded\"; // &lt;-- Crash here\n</code></pre>\n\n<p>The log <em>directory</em> gets created, but the log file never gets created and the application crashes. </p>\n\n<p>I have tried a logfile directory in my %APPDATA% directory, and also in my My Documents directory. </p>\n\n<p>The odd thing is: <em>When I run the app as Administrator, it works</em>! </p>\n\n<p>So this must be a permissions thing, but I have permissions to these folders, so...</p>\n\n<p>Any ideas?</p>\n\n<p><strong>* MORE *</strong></p>\n\n<p>Here is the code to set up my logger:</p>\n\n<pre><code>    wstring appData = GetMyAppDataPath();\n    boost::shared_ptr&lt; boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt; &gt; textFileSink(new boost::log::sinks::synchronous_sink&lt; boost::log::sinks::text_file_backend &gt;(to store rotated files\n        boost::log::keywords::file_name = \"log_%7N.log\",                // file name pattern\n        boost::log::keywords::rotation_size = 16384                     // rotation size, in characters\n        ));\n    // Set up where the rotated files will be stored\n    textFileSink-&gt;locked_backend()-&gt;set_file_collector(boost::log::sinks::file::make_collector(\n        boost::log::keywords::target = appData + L\"\\\\logs\",         // where to store rotated files\n        boost::log::keywords::max_size = 64 * 1024 * 1024,              // maximum total size of the stored files, in bytes (64 MiB)\n        boost::log::keywords::min_free_space = 100 * 1024 * 1024        // minimum free space on the drive, in bytes\n        ));\n    // Upon restart, scan the target directory for files matching the file_name pattern\n    textFileSink-&gt;locked_backend()-&gt;scan_for_files();\n    // Set up the format for output to the text file.\n    textFileSink-&gt;set_formatter(boost::log::expressions::stream\n        &lt;&lt; \"[\" &lt;&lt; boost::log::expressions::attr&lt; boost::posix_time::ptime &gt;(\"TimeStamp\") \n        &lt;&lt; \" \" &lt;&lt; boost::log::expressions::attr&lt; SeverityLevel, severity_tag &gt;(\"Severity\") &lt;&lt; \"] \"\n        &lt;&lt; boost::log::expressions::message\n        );\n    // Add it to the core\n    boost::log::core::get()-&gt;add_sink(textFileSink);\n</code></pre>\n\n<p>which is mostly taken from here: <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/log/example/rotating_file/main.cpp\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_58_0/libs/log/example/rotating_file/main.cpp</a> .</p>\n\n<p><strong>* ALSO *</strong></p>\n\n<p>I added an exception handler to the Boost Logger by adding: </p>\n\n<pre><code>boost::log::core::get()-&gt;set_exception_handler(boost::log::make_exception_handler&lt;\n        std::runtime_error,\n        std::logic_error,\n        std::exception\n    &gt;(pbb_boost_log_exception_handler()));\n</code></pre>\n\n<p>And then adding the handler. When I then run, I am able to catch the following exception before the crash:</p>\n\n<pre><code>std::exception: Failed to open file for writing: Input/output error: \"C:\\Program Files\\My App\\log_0000000.log\"\n</code></pre>\n\n<p>WTF? I am definitely setting the log file location to the <code>appData</code> value, which I have verified is correct. Furthermore, if I run this app as administrator, the log file ends up in the place where I expect it (appdata folder). So it must just be creating a temporary file at the executable's location. Is this normal behavior? I can't imagine it is... so what did I do??</p>\n"}, {"tags": ["c++", "algorithm", "find"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 2, "creation_date": 1438213187, "post_id": 31712932, "comment_id": 51363640, "body": "it returns end (not last), and end is one past the last element so you only have to check if the return is end to see if it found the value or not. That being said <i>don&#39;t use list</i>"}, {"owner": {"reputation": 89, "user_id": 2558430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9243a6291e7243267d34e82d383ee1?s=128&d=identicon&r=PG", "display_name": "joaomlap", "link": "https://stackoverflow.com/users/2558430/joaomlap"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1438213288, "post_id": 31712932, "comment_id": 51363669, "body": "Thanks, that&#39;s what I was wondering about. So if it is  == to list.end() I know that there is not a match? Great! Why shouldn&#39;t I use them?"}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 1, "creation_date": 1438213993, "post_id": 31712932, "comment_id": 51363825, "body": "@joaomlap in most cases you are better off using a <code>std::vector</code> it is faster."}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "reply_to_user": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 1, "creation_date": 1438215152, "post_id": 31712932, "comment_id": 51364125, "body": "@WorldSEnder I wasn&#39;t starting a new topic, I was responding to the question above about why not to use <code>std::list</code>."}], "owner": {"reputation": 89, "user_id": 2558430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9243a6291e7243267d34e82d383ee1?s=128&d=identicon&r=PG", "display_name": "joaomlap", "link": "https://stackoverflow.com/users/2558430/joaomlap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1438216276, "answer_count": 0, "score": 0, "last_activity_date": 1438212984, "creation_date": 1438212984, "question_id": 31712932, "link": "https://stackoverflow.com/questions/31712932/c-should-i-compare-the-last-element-of-a-list-to-my-val-when-i-am-running-find", "closed_reason": "Duplicate", "title": "c++ Should I compare the last element of a list to my val when I am running find algorithm?", "body": "<p>I am doing a search in a std::list and I am using find from the algorithm header, I saw the reference and it says that it returns <em>last</em> if it doesn't find any value that is equal to mine.</p>\n\n<p>I wonder if I should test after this if the last value is actually equal to my value.</p>\n\n<p>Am I thinking correctly or is there a more elegant solution?</p>\n"}, {"tags": ["c++", "windows", "winapi", "windows-8.1", "wmi"], "answers": [{"comments": [{"owner": {"reputation": 2268, "user_id": 742745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2411d6c9e745fdf9864d88ae04114e3b?s=128&d=identicon&r=PG", "display_name": "Aron Curzon", "link": "https://stackoverflow.com/users/742745/aron-curzon"}, "edited": false, "score": 1, "creation_date": 1461026298, "post_id": 31714342, "comment_id": 61000920, "body": "@RRUZ, Thanks for your sample code. Do you know how to make it work with multiple monitors with the same name (eg. SNY7702)?"}], "tags": [], "owner": {"reputation": 130798, "user_id": 91299, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FmhRj.png?s=128&g=1", "display_name": "RRUZ", "link": "https://stackoverflow.com/users/91299/rruz"}, "is_accepted": true, "score": 8, "last_activity_date": 1438224007, "creation_date": 1438224007, "answer_id": 31714342, "question_id": 31712915, "link": "https://stackoverflow.com/questions/31712915/detect-identify-the-port-hdmi-other-the-monitor-is-connected-to-in-windows-7/31714342#31714342", "title": "Detect/identify the port (HDMI, other) the monitor is connected to in Windows 7/8/10 Win32 C++", "body": "<p>You can use the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd162609(v=vs.85).aspx\" rel=\"noreferrer\"><code>EnumDisplayDevices</code></a> method to get the <code>DeviceID</code> of the monitor and then the  <a href=\"https://msdn.microsoft.com/en-us/library/bb980612(v=vs.85).aspx\" rel=\"noreferrer\"><code>WmiMonitorConnectionParams</code></a> WMI class (available since Windows Vista) and the <code>VideoOutputTechnology</code> property which returns a <a href=\"https://msdn.microsoft.com/en-us/library/ff546605.aspx\" rel=\"noreferrer\"><code>D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY</code></a> enumeration.  </p>\n\n<p>Try the next sample code </p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;atlstr.h&gt;\n#define _WIN32_DCOM\n#include &lt;iostream&gt;\nusing namespace std;\n#include &lt;comdef.h&gt;\n#include &lt;Wbemidl.h&gt;\n# pragma comment(lib, \"wbemuuid.lib\")            \n\n\ntypedef enum _D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY {\n    D3DKMDT_VOT_UNINITIALIZED = -2,\n    D3DKMDT_VOT_OTHER = -1,\n    D3DKMDT_VOT_HD15 = 0,\n    D3DKMDT_VOT_SVIDEO = 1,\n    D3DKMDT_VOT_COMPOSITE_VIDEO = 2,\n    D3DKMDT_VOT_COMPONENT_VIDEO = 3,\n    D3DKMDT_VOT_DVI = 4,\n    D3DKMDT_VOT_HDMI = 5,\n    D3DKMDT_VOT_LVDS = 6,\n    D3DKMDT_VOT_D_JPN = 8,\n    D3DKMDT_VOT_SDI = 9,\n    D3DKMDT_VOT_DISPLAYPORT_EXTERNAL = 10,\n    D3DKMDT_VOT_DISPLAYPORT_EMBEDDED = 11,\n    D3DKMDT_VOT_UDI_EXTERNAL = 12,\n    D3DKMDT_VOT_UDI_EMBEDDED = 13,\n    D3DKMDT_VOT_SDTVDONGLE = 14,\n#if (DXGKDDI_INTERFACE_VERSION &gt;= DXGKDDI_INTERFACE_VERSION_WDDM1_3_M1)\n    D3DKMDT_VOT_MIRACAST = 15,\n#endif \n    D3DKMDT_VOT_INTERNAL = 0x80000000,\n    D3DKMDT_VOT_SVIDEO_4PIN = D3DKMDT_VOT_SVIDEO,\n    D3DKMDT_VOT_SVIDEO_7PIN = D3DKMDT_VOT_SVIDEO,\n    D3DKMDT_VOT_RF = D3DKMDT_VOT_COMPOSITE_VIDEO,\n    D3DKMDT_VOT_RCA_3COMPONENT = D3DKMDT_VOT_COMPONENT_VIDEO,\n    D3DKMDT_VOT_BNC = D3DKMDT_VOT_COMPONENT_VIDEO\n} D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY;\n\n_D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY GetConnectorInfo(LPCWSTR ShortDeviceID)\n{\n    _D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY result = D3DKMDT_VOT_OTHER;\n\n    BSTR strNetworkResource;\n    strNetworkResource = L\"\\\\\\\\.\\\\root\\\\WMI\";\n\n    HRESULT hres;\n    hres = CoInitializeEx(0, COINIT_MULTITHREADED);\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"Failed to initialize COM library. Error code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n\n    hres = CoInitializeSecurity(\n        NULL,\n        -1,                          // COM authentication\n        NULL,                        // Authentication services\n        NULL,                        // Reserved\n        RPC_C_AUTHN_LEVEL_DEFAULT,   // Default authentication\n        RPC_C_IMP_LEVEL_IMPERSONATE, // Default Impersonation\n        NULL,                        // Authentication info\n        EOAC_NONE,                   // Additional capabilities\n        NULL                         // Reserved\n        );\n\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"Failed to initialize security. Error code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        CoUninitialize();\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n    IWbemLocator *pLoc = NULL;\n    hres = CoCreateInstance(CLSID_WbemLocator, 0, CLSCTX_INPROC_SERVER, IID_IWbemLocator, (LPVOID *)&amp;pLoc);\n\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"Failed to create IWbemLocator object.\" &lt;&lt; \" Err code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        CoUninitialize();\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n\n    IWbemServices *pSvc = NULL;\n\n    hres = pLoc-&gt;ConnectServer(\n        _bstr_t(strNetworkResource),      // Object path of WMI namespace\n        NULL,                    // User name. NULL = current user\n        NULL,                    // User password. NULL = current\n        0,                       // Locale. NULL indicates current\n        NULL,                    // Security flags.\n        0,                       // Authority (e.g. Kerberos)\n        0,                       // Context object\n        &amp;pSvc                    // pointer to IWbemServices proxy\n        );\n\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"Could not connect. Error code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        pLoc-&gt;Release();\n        CoUninitialize();\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n    hres = CoSetProxyBlanket(\n        pSvc,                        // Indicates the proxy to set\n        RPC_C_AUTHN_WINNT,           // RPC_C_AUTHN_xxx\n        RPC_C_AUTHZ_NONE,            // RPC_C_AUTHZ_xxx\n        NULL,                        // Server principal name\n        RPC_C_AUTHN_LEVEL_CALL,      // RPC_C_AUTHN_LEVEL_xxx\n        RPC_C_IMP_LEVEL_IMPERSONATE, // RPC_C_IMP_LEVEL_xxx\n        NULL,                        // client identity\n        EOAC_NONE                    // proxy capabilities\n        );\n\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"Could not set proxy blanket. Error code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        pSvc-&gt;Release();\n        pLoc-&gt;Release();\n        CoUninitialize();\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n\n    IEnumWbemClassObject* pEnumerator = NULL;\n    hres = pSvc-&gt;ExecQuery(L\"WQL\", L\"SELECT InstanceName, VideoOutputTechnology FROM WmiMonitorConnectionParams\",\n        WBEM_FLAG_FORWARD_ONLY | WBEM_FLAG_RETURN_IMMEDIATELY, NULL, &amp;pEnumerator);\n\n    if (FAILED(hres))\n    {\n        cout &lt;&lt; \"ExecQuery failed\" &lt;&lt; \" Error code = 0x\" &lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\n        cout &lt;&lt; _com_error(hres).ErrorMessage() &lt;&lt; endl;\n        pSvc-&gt;Release();\n        pLoc-&gt;Release();\n        CoUninitialize();\n        cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n        cin.get();\n        std::exit(1);\n    }\n\n\n    IWbemClassObject *pclsObj = NULL;\n    ULONG uReturn = 0;\n    BOOL bFound = false;\n    while (pEnumerator)\n    {\n        HRESULT hr = pEnumerator-&gt;Next(WBEM_INFINITE, 1, &amp;pclsObj, &amp;uReturn);\n\n        if (0 == uReturn || FAILED(hr))\n            break;\n\n        VARIANT vtProp;\n        CString DeviceID;\n        hr = pclsObj-&gt;Get(L\"InstanceName\", 0, &amp;vtProp, 0, 0);// String\n        if (!FAILED(hr))\n        {\n            if ((vtProp.vt == VT_NULL) || (vtProp.vt == VT_EMPTY))\n            { }\n            else\n            {\n                DeviceID.Format(L\"%s\", vtProp.bstrVal);\n                DeviceID = DeviceID.Mid(8, DeviceID.Find(L\"\\\\\", 9) - 8);\n                bFound = DeviceID.Compare(ShortDeviceID) == 0;\n            }\n        }\n        VariantClear(&amp;vtProp);\n\n        if (bFound)\n        {\n            hr = pclsObj-&gt;Get(L\"VideoOutputTechnology\", 0, &amp;vtProp, 0, 0);// Uint32\n            if (!FAILED(hr))\n            {\n                if ((vtProp.vt == VT_NULL) || (vtProp.vt == VT_EMPTY))\n                    result = D3DKMDT_VOT_OTHER;\n                else\n                {\n                    result = (_D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY)vtProp.uintVal;\n                }\n            }\n        }\n        VariantClear(&amp;vtProp);\n\n\n        pclsObj-&gt;Release();\n        pclsObj = NULL;\n\n        if (bFound)\n            break;\n    }\n\n\n    pSvc-&gt;Release();\n    pLoc-&gt;Release();\n    pEnumerator-&gt;Release();\n    if (pclsObj != NULL)\n        pclsObj-&gt;Release();\n\n    CoUninitialize();\n\n    return result;\n}\n\n\n\nvoid GetDisplayInfo()\n{\n\n    DISPLAY_DEVICE lpDisplayDevice;\n    lpDisplayDevice.cb = sizeof(lpDisplayDevice);\n    DWORD iDevNum = 0;\n\n    CString DeviceID;\n    while (EnumDisplayDevices(0, iDevNum, &amp;lpDisplayDevice, 0))\n    {\n        DISPLAY_DEVICE lpDisplayDevice2;\n        ZeroMemory(&amp;lpDisplayDevice2, sizeof(lpDisplayDevice2));\n        lpDisplayDevice2.cb = sizeof(lpDisplayDevice2);\n        DWORD devMon = 0;\n\n        while (EnumDisplayDevices(lpDisplayDevice.DeviceName, devMon, &amp;lpDisplayDevice2, 0))\n        {\n            if (lpDisplayDevice2.StateFlags &amp; DISPLAY_DEVICE_ACTIVE &amp;&amp; !(lpDisplayDevice2.StateFlags &amp; DISPLAY_DEVICE_MIRRORING_DRIVER))\n            {\n                DeviceID.Format(L\"%s\", lpDisplayDevice2.DeviceID);\n                wcout &lt;&lt; DeviceID.GetString() &lt;&lt; endl;\n                DeviceID = DeviceID.Mid(8, DeviceID.Find(L\"\\\\\", 9) - 8);\n                _D3DKMDT_VIDEO_OUTPUT_TECHNOLOGY VideoOutputTechnology = GetConnectorInfo(DeviceID.GetString());\n\n                switch (VideoOutputTechnology) \n                {\n                case D3DKMDT_VOT_HDMI:\n                    wcout &lt;&lt; \" VideoOutputTechnology : HDMI\" &lt;&lt; endl;\n                    break;\n                case D3DKMDT_VOT_INTERNAL:\n                    wcout &lt;&lt; \" VideoOutputTechnology : Internal Monitor\" &lt;&lt; endl;\n                    break;\n                default:\n                    wcout &lt;&lt; \" VideoOutputTechnology : \" &lt;&lt; VideoOutputTechnology &lt;&lt; endl;\n                    break;\n                }\n\n            }\n            devMon++;\n\n            ZeroMemory(&amp;lpDisplayDevice2, sizeof(lpDisplayDevice2));\n            lpDisplayDevice2.cb = sizeof(lpDisplayDevice2);\n        }\n\n        ZeroMemory(&amp;lpDisplayDevice, sizeof(lpDisplayDevice));\n        lpDisplayDevice.cb = sizeof(lpDisplayDevice);\n        iDevNum++;\n    }\n}\n\nint main(int argc, char* argv[])\n{\n    GetDisplayInfo();\n    cout &lt;&lt; \"press enter to exit\" &lt;&lt; endl;\n    cin.get();\n    return 0;  \n}\n</code></pre>\n\n<p>This will return something like </p>\n\n<pre><code>MONITOR\\CMN15BB\\{4d36e96e-e325-11ce-bfc1-08002be10318}\\0001\n   VideoOutputTechnology : Internal Monitor \nMONITOR\\SNY7702\\{4d36e96e-e325-11ce-bfc1-08002be10318}\\0000  \n   VideoOutputTechnology : HDMI\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 954, "user_id": 2545917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f85c63f3b2a56cdbb76f8876ac00e31?s=128&d=identicon&r=PG", "display_name": "weaknespase", "link": "https://stackoverflow.com/users/2545917/weaknespase"}, "is_accepted": false, "score": 1, "last_activity_date": 1579909842, "creation_date": 1579909842, "answer_id": 59905075, "question_id": 31712915, "link": "https://stackoverflow.com/questions/31712915/detect-identify-the-port-hdmi-other-the-monitor-is-connected-to-in-windows-7/59905075#59905075", "title": "Detect/identify the port (HDMI, other) the monitor is connected to in Windows 7/8/10 Win32 C++", "body": "<p>A lot of monitors support DDC/CI 2B, it's pretty easy to ask the monitor itself what it's connected to if it supports VCP feature <code>60h - Input Source</code>, using <a href=\"https://docs.microsoft.com/en-us/windows/win32/monitor/monitor-configuration\" rel=\"nofollow noreferrer\">Monitor Configuration API</a>.</p>\n\n<p>Not all displays support that protocol, notably most of integrated flat panels and very old CRTs, also it's not guaranteed that any particular monitor will support this VCP feature.</p>\n\n<pre><code>char* INPUT_SOURCES[] = {\n    \"Unknown\",\n    \"Analog video (R/G/B) 1\",\n    \"Analog video (R/G/B) 2\",\n    \"Digital video (TMDS) 1 DVI\",\n    \"Digital video (TMDS) 2 DVI\",\n    \"Composite video 1\",\n    \"Composite video 2\",\n    \"S-video 1\",\n    \"S-video 2\",\n    \"Tuner 1\",\n    \"Tuner 2\",\n    \"Tuner 3\",\n    \"Component video (YPbPr/ YCbCr) 1\",\n    \"Component video (YPbPr/ YCbCr) 2\",\n    \"Component video (YPbPr/ YCbCr) 3\",\n    \"DisplayPort 1\",\n    \"DisplayPort 2\",\n    \"Digital Video (TMDS) 3 HDMI\",\n    \"Digital Video (TMDS) 4 HDMI\"\n};\n\nchar* getInputSourceName(DWORD value)\n{\n    if (value &gt; ARRAYSIZE(INPUT_SOURCES)) value = 0;\n    return INPUT_SOURCES[value];\n}\n\nBOOL CALLBACK enumNextMonitor(HMONITOR monitor, HDC dc, LPRECT dRect, LPARAM param)\n{\n    DWORD physNum;\n    if (GetNumberOfPhysicalMonitorsFromHMONITOR(monitor, &amp;physNum)) {\n        if (physNum == 0) return 1;\n\n        PHYSICAL_MONITOR* displays = malloc(physNum * sizeof(PHYSICAL_MONITOR));\n        if (GetPhysicalMonitorsFromHMONITOR(monitor, physNum, displays)) {\n            for (DWORD i = 0; i &lt; physNum; i++) {\n                DWORD value;\n                if (GetVCPFeatureAndVCPFeatureReply(displays[i].hPhysicalMonitor, 0x60, NULL, &amp;value, NULL)) {\n                    printf(\n                        \"Display: %s, input is %s\\n\", \n                        displays[i].szPhysicalMonitorDescription, \n                        getInputSourceName(value)\n                    );\n                } else {\n                    printf(\n                        \"Display: %s, unknown input type\\n\", \n                        displays[i].szPhysicalMonitorDescription\n                    );\n                }\n            }\n        }\n        free(displays);\n    }\n}\n\nint main()\n{\n    EnumDisplayMonitors(NULL, NULL, enumNextMonitor, NULL);\n}\n</code></pre>\n\n<p>As a fallback, monitor EDID usually includes limited information about connection type used \u2013 it may be as simple as \"Analog\" or \"Digital\", with more detailed breakdown of digital connections for displays with more elaborate implementation.</p>\n\n<p>SetupAPI, that can be used to get display EDID, also provides reference to display adapter it connected too. Perhaps, it also can be queried for connection details.</p>\n"}], "owner": {"reputation": 2522, "user_id": 1490214, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tjpis.jpg?s=128&g=1", "display_name": "aalimian", "link": "https://stackoverflow.com/users/1490214/aalimian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7753, "favorite_count": 2, "accepted_answer_id": 31714342, "answer_count": 2, "score": 5, "last_activity_date": 1579909842, "creation_date": 1438212865, "question_id": 31712915, "link": "https://stackoverflow.com/questions/31712915/detect-identify-the-port-hdmi-other-the-monitor-is-connected-to-in-windows-7", "title": "Detect/identify the port (HDMI, other) the monitor is connected to in Windows 7/8/10 Win32 C++", "body": "<p>I am able to detect all the monitors that are connected to my system. I am able to get a lot of relevant information about them using the following Windows API calls:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd162610(v=vs.85).aspx\" rel=\"noreferrer\" title=\"EnumDisplayMonitors\">EnumDisplayMonitors</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd144901(v=vs.85).aspx\" rel=\"noreferrer\">GetMonitorInfo</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd162609(v=vs.85).aspx\" rel=\"noreferrer\">EnumDisplayDevices</a></p>\n\n<p>The system I am developing on is an AIO (all-in-one) that comes with 2 monitors. It has an external HDMI output that I can connect and external monitor. Then, through a port replicator I am able to connect the 4th monitor. All of the monitors are extending my desktop and all of them are working fine.</p>\n\n<p>My task is to detect the monitor that is connected through the HDMI port. The monitor information that I am able to extract using the above mentioned API do not give any specific information through which I will be able to detect the port type (e.g. HDMI, or USB).</p>\n\n<p>Does anyone know what API to use? Thanks!</p>\n"}, {"tags": ["c++", "c", "srand"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1438212026, "post_id": 31712750, "comment_id": 51363366, "body": "Simple soulution: cast to <code>unsigned int</code>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1438212513, "post_id": 31712750, "comment_id": 51363483, "body": "@Olaf: Yes, that will probably silence the warning -- but IMHO it&#39;s an annoying workaround, since the cast merely specifies the same conversion that would have happened anyway. It&#39;s also prone to error if you get the type wrong."}, {"owner": {"reputation": 537, "user_id": 3902763, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02819225c6fcfa3af9aa411a13e654bc?s=128&d=identicon&r=PG&f=1", "display_name": "oneday", "link": "https://stackoverflow.com/users/3902763/oneday"}, "edited": false, "score": 0, "creation_date": 1438213074, "post_id": 31712750, "comment_id": 51363617, "body": "so seems from all answers suggestion is to just to typecast it or ignore the compiler warning-"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1438213175, "post_id": 31712750, "comment_id": 51363637, "body": "What compiler are you using?"}, {"owner": {"reputation": 537, "user_id": 3902763, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02819225c6fcfa3af9aa411a13e654bc?s=128&d=identicon&r=PG&f=1", "display_name": "oneday", "link": "https://stackoverflow.com/users/3902763/oneday"}, "edited": false, "score": 0, "creation_date": 1438213223, "post_id": 31712750, "comment_id": 51363656, "body": "I tried it on both VC++ and gcc/Linux - got same warning at both places"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1438214495, "post_id": 31712750, "comment_id": 51363954, "body": "Casting is <b>no workaround</b>, but the C way to tell the compiler you know what you are doing and to shut up for this specific cast. That&#39;s why you shall <b>never</b> use casts just you think they look fancy or a **different langauge like C++ requires it - as for <code>malloc</code>, e.g."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1438214800, "post_id": 31712750, "comment_id": 51364043, "body": "Btw: C or C++! These are different languages. Choose one!"}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 3902763, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02819225c6fcfa3af9aa411a13e654bc?s=128&d=identicon&r=PG&f=1", "display_name": "oneday", "link": "https://stackoverflow.com/users/3902763/oneday"}, "edited": false, "score": 0, "creation_date": 1438213106, "post_id": 31712807, "comment_id": 51363622, "body": "I guess that&#39;s the answer that I am getting from everyone - will go ahead and implement it that way.. thanks rici"}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": true, "score": 2, "last_activity_date": 1438217225, "last_edit_date": 1438217225, "creation_date": 1438212305, "answer_id": 31712807, "question_id": 31712750, "link": "https://stackoverflow.com/questions/31712750/loss-of-precision-warning-with-usage-of-srand/31712807#31712807", "title": "Loss of precision - warning with usage of srand", "body": "<p>If you are using C++, look into <code>&lt;random&gt;</code>. It has much better PRNGs.</p>\n\n<p>If you're limited to <code>rand</code>, you can, in this case, ignore the warning, or better, tell the compiler you don't care by explicitly casting <code>(unsigned)time(NULL)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5101, "user_id": 2672913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/swwCb.png?s=128&g=1", "display_name": "Nick L.", "link": "https://stackoverflow.com/users/2672913/nick-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1438212530, "creation_date": 1438212530, "answer_id": 31712850, "question_id": 31712750, "link": "https://stackoverflow.com/questions/31712750/loss-of-precision-warning-with-usage-of-srand/31712850#31712850", "title": "Loss of precision - warning with usage of srand", "body": "<p>Putting it to simple logic, it makes a good sense that you lose precision when you use a <code>long long</code> instead of an <code>unsigned int</code> and that the compiler warns you for this.\n(<code>long long</code> can represent a bigger range of numbers, you can check <a href=\"https://msdn.microsoft.com/en-us/library/s3f49ktz.aspx\" rel=\"nofollow\">here</a> the difference).</p>\n\n<p>If you think that despite the loss your needs are covered, you can either cast it to an <code>unsigned int</code> or simply ignore the warning.</p>\n"}], "owner": {"reputation": 537, "user_id": 3902763, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02819225c6fcfa3af9aa411a13e654bc?s=128&d=identicon&r=PG&f=1", "display_name": "oneday", "link": "https://stackoverflow.com/users/3902763/oneday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 31712807, "answer_count": 2, "score": 1, "last_activity_date": 1438217225, "creation_date": 1438211841, "question_id": 31712750, "link": "https://stackoverflow.com/questions/31712750/loss-of-precision-warning-with-usage-of-srand", "title": "Loss of precision - warning with usage of srand", "body": "<p>I am trying to use srand along with time for randomized value. If I look at \nsrand function it takes unsigned int - but if we initialize it with time which seems to have long long value - so compiler keeps complaining about loss of precision warning. Any better way to do things ?</p>\n\n<pre><code>// srand definition\nvoid srand (unsigned int seed);\n// using srand with time to seed random value\nsrand(time(NULL));\n</code></pre>\n\n<p>warning 712: (Info -- Loss of precision (arg. no. 1) (long long to unsigned int))</p>\n"}, {"tags": ["c++", "console"], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 2551165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ee65be18e99db34f6d3499d7d58afe9?s=128&d=identicon&r=PG", "display_name": "Vesco", "link": "https://stackoverflow.com/users/2551165/vesco"}, "is_accepted": true, "score": 1, "last_activity_date": 1438211979, "creation_date": 1438211979, "answer_id": 31712768, "question_id": 31712706, "link": "https://stackoverflow.com/questions/31712706/open-console-from-a-file/31712768#31712768", "title": "Open Console From A File", "body": "<p>In VB net:</p>\n\n<pre><code>Imports System.Runtime.InteropServices\n</code></pre>\n\n<p><code>Public Class Form1</code></p>\n\n<pre><code>Public Class Win32\n    &lt;DllImport(\"kernel32.dll\")&gt; Public Shared Function AllocConsole() As Boolean\n\n    End Function\n    &lt;DllImport(\"kernel32.dll\")&gt; Public Shared Function FreeConsole() As Boolean\n\n    End Function\nEnd Class\n\nPrivate Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click\n    Win32.AllocConsole()\n    Console.WriteLine(\"Hey, I opened the console!\")\nEnd Sub\n\nPrivate Sub Button2_Click(sender As Object, e As EventArgs) Handles Button2.Click\n    Win32.FreeConsole()\nEnd Sub\nEnd Class\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4289777, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc9b8236a09d873d905251824000c7ef?s=128&d=identicon&r=PG&f=1", "display_name": "will smith", "link": "https://stackoverflow.com/users/4289777/will-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 31712768, "answer_count": 1, "score": 0, "last_activity_date": 1438211979, "creation_date": 1438211587, "question_id": 31712706, "link": "https://stackoverflow.com/questions/31712706/open-console-from-a-file", "title": "Open Console From A File", "body": "<p>very noob question here.</p>\n\n<p>I am making an application in visual studio that does not open the console. However, I would like to make an event linked to a button to open the console and start outputting data in it. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "boost-fusion", "boost-preprocessor"], "comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1438210791, "post_id": 31712561, "comment_id": 51363058, "body": "Use a container, such as <code>std::vector</code>, <code>std::map</code> or some such? Or explain further why those won&#39;t do what you wish to achieve..."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1438211201, "post_id": 31712561, "comment_id": 51363148, "body": "Containers are pretty different than counting members of struct, if op has already looked at an advanced library like fusion I think we should give him the benefit of the doubt that he really needs it."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1438211348, "post_id": 31712561, "comment_id": 51363186, "body": "@NirFriedman: Really? It would be about the first time I&#39;ve seen a request for &quot;introspection&quot; or &quot;reflection&quot; where the actual answer is &quot;yes, here is a way for the compiler to tell you the information you need&quot;."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1438211386, "post_id": 31712561, "comment_id": 51363199, "body": "@Adrian: You probably need to explain what it is you want to do IN your cases inside the switch too..."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1438211975, "post_id": 31712561, "comment_id": 51363348, "body": "@MatsPetersson I understand what you&#39;re saying, but I really do think that when in doubt, you need to give people the benefit of the doubt. I&#39;ve said &quot;You really want X&quot; in many answers in comments, but past a certain point, people start to feel like it&#39;s impossible to ask a question on SO without spending a ton of time justifying their need."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "edited": false, "score": 0, "creation_date": 1438212821, "post_id": 31712856, "comment_id": 51363545, "body": "How you will generate case statements? I had problem with passing that &quot;2&quot; into BOOST_PP_REPEAT and on top of that generate case statements. May you extend your example and show how it will generate case statements in switch?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "edited": false, "score": 0, "creation_date": 1438215378, "post_id": 31712856, "comment_id": 51364185, "body": "I realized my for_each isn&#39;t exactly equivalent to your case, I got a bit off the point. However, you can construct an appropriate lambda so that it will increment some captured variable, and only execute code when the increment matches a passed in runtime variable."}, {"owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "edited": false, "score": 0, "creation_date": 1438219477, "post_id": 31712856, "comment_id": 51365200, "body": "Thank you for your effort but I managed do what I needed - added sample code."}], "tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": false, "score": 1, "last_activity_date": 1513199330, "last_edit_date": 1513199330, "creation_date": 1438212549, "answer_id": 31712856, "question_id": 31712561, "link": "https://stackoverflow.com/questions/31712561/compile-time-switch-generation-based-on-number-of-fields-in-structure/31712856#31712856", "title": "Compile time switch generation based on number of fields in structure", "body": "<p>If you define the struct itself with <code>BOOST_FUSION_DEFINE_STRUCT</code>, boost will generate your struct in such a way that you can easily do this:</p>\n\n<pre><code>#include &lt;boost/fusion/include/define_struct.hpp&gt;\n#include &lt;boost/fusion/include/size.hpp&gt;\n#include &lt;boost/fusion/include/for_each.hpp&gt;\n\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n// demo::employee is a Fusion sequence\nBOOST_FUSION_DEFINE_STRUCT(\n    (),\n    employee,\n    (std::string, name)\n    (int, age))\n\nint main() {\n  employee e{\"hey\", 5};\n  int x = boost::fusion::size(e);\n  std::cerr &lt;&lt; x &lt;&lt; std::endl;\n\n  auto print = [] (auto v) { std::cerr &lt;&lt; v &lt;&lt; std::endl; };\n\n  boost::fusion::for_each(e, print);\n  return 0;\n}\n</code></pre>\n\n<p>I modified the code above to also iterate over the members of the struct and apply a generic function. It seems like this functionally does the same thing as your hypothetical case statement would.</p>\n\n<p>The reason you cannot pass the \"2\" this code generates to boost preprocessor macros is because the preprocessor runs first, before the code, you can't feed a number generate at compile time or at runtime into the preprocessor.</p>\n\n<p>This program prints:</p>\n\n<pre><code>2\nhey\n5\n</code></pre>\n\n<p>See:</p>\n\n<ol>\n<li><p><a href=\"http://www.boost.org/doc/libs/1_48_0/libs/fusion/doc/html/fusion/adapted/define_struct.html\" rel=\"nofollow noreferrer\">BOOST_FUSION_DEFINE_STRUCT in boost::fusion documentation</a></p></li>\n<li><p><a href=\"http://www.boost.org/doc/libs/1_48_0/libs/fusion/doc/html/fusion/sequence/intrinsic/functions/size.html\" rel=\"nofollow noreferrer\">size in boost::fusion documentation</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/13094535/iterating-over-boost-fusionvector\">Iterating over Boost fusion::vector</a></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "is_accepted": true, "score": 1, "last_activity_date": 1513199431, "last_edit_date": 1513199431, "creation_date": 1438219418, "answer_id": 31713778, "question_id": 31712561, "link": "https://stackoverflow.com/questions/31712561/compile-time-switch-generation-based-on-number-of-fields-in-structure/31713778#31713778", "title": "Compile time switch generation based on number of fields in structure", "body": "<p>After long searching, reading and finding <a href=\"http://boost.2283326.n4.nabble.com/Preprocessor-sequence-of-quot-pairs-quot-td4636239.html\" rel=\"nofollow noreferrer\">this article</a>. I managed to iterate over members from 0 to count - 1 (from that creating switch statement is easy).</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;boost/fusion/include/adapt_struct.hpp&gt;\n#include &lt;boost/preprocessor/repetition/repeat.hpp&gt;\n#include &lt;boost/fusion/include/define_struct.hpp&gt;\n#include &lt;boost/preprocessor/seq/size.hpp&gt;\n#include &lt;boost/preprocessor/seq/seq.hpp&gt;\n#include &lt;boost/preprocessor/seq/cat.hpp&gt;\n\nstruct MyStruct\n{\n    int x;\n    int y;\n};\n\n#define GO(r, data, elem) elem\n#define SEQ1 ((int,x))((int,y))\n\nBOOST_FUSION_ADAPT_STRUCT( \n    MyStruct,\n    BOOST_PP_SEQ_FOR_EACH(GO, ,SEQ1)      \n    )\n\n#define PRINT(unused, number, data) \\\n    std::cout &lt;&lt; number &lt;&lt; std::endl;\n\nint main()\n{\n    BOOST_PP_REPEAT(BOOST_PP_SEQ_SIZE(SEQ1), PRINT, \"data\")\n}\n</code></pre>\n\n<p>Now <code>BOOST_PP_REPEAT</code> may create case statements.</p>\n"}], "owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 31713778, "answer_count": 2, "score": 0, "last_activity_date": 1513199597, "creation_date": 1438210659, "last_edit_date": 1513199597, "question_id": 31712561, "link": "https://stackoverflow.com/questions/31712561/compile-time-switch-generation-based-on-number-of-fields-in-structure", "title": "Compile time switch generation based on number of fields in structure", "body": "<p>How in C++03 get in compile time number of members of chosen struct? I was experimenting with <code>BOOST_FUSION_ADAPT_STRUCT</code> but I did't get any working example.</p>\n\n<p>I want to generate switch statement in compile time, where there will be one case per each member. So lets say we have struct with 3 members then I want to generate this switch:</p>\n\n<pre><code>switch(val)\n{\n   case 0:\n       break;\n   case 1:\n       break;\n   case 2:\n       break;\n}\n</code></pre>\n\n<p>In each statement I will call template function with some parameters. One of this parameters is a member of structure.</p>\n\n<p>How I can do something like this?</p>\n"}, {"tags": ["c++", "templates", "friend"], "comments": [{"owner": {"reputation": 96, "user_id": 4937987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XUhCd.png?s=128&g=1", "display_name": "Pouya Tehrani", "link": "https://stackoverflow.com/users/4937987/pouya-tehrani"}, "edited": false, "score": 0, "creation_date": 1438212956, "post_id": 31712532, "comment_id": 51363579, "body": "try this to see if it works? : template&lt;class U&gt;     friend void impl:: wrap&lt;T&gt;:: AConstructor&lt;U&gt;::construct(A&lt;T&gt;*);"}], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 5005049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f856781bbd27d7b6b66b2beb2de3c7f4?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Rosler", "link": "https://stackoverflow.com/users/5005049/omer-rosler"}, "edited": false, "score": 0, "creation_date": 1438250990, "post_id": 31713094, "comment_id": 51378423, "body": "Actually, a design with type traits is what I had in mind, the problem is I&#39;m using gcc 4.1 so I can&#39;t use most of the type traits (some I implemented myself). This specialization is to check some inheritance, so I can&#39;t implement it myelf so I resort to partial speciazliations."}], "tags": [], "owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "is_accepted": true, "score": 2, "last_activity_date": 1438217239, "last_edit_date": 1495542611, "creation_date": 1438213992, "answer_id": 31713094, "question_id": 31712532, "link": "https://stackoverflow.com/questions/31712532/dependency-in-template-friend-of-template-class/31713094#31713094", "title": "Dependency in template friend of template class", "body": "<p>[Edit:\nThe following works with both g++ 4.9.0 and clang 3.5 on my machine:</p>\n\n<pre><code>template&lt;class T&gt;\nstruct dummy {};\n\ntemplate&lt;class T&gt;\nstruct A {\nprivate:\n  template&lt;class U&gt;\n  struct AConstructor {\n    static void construct(A&lt;T&gt;* thisPtr) {\n      thisPtr-&gt;foo = 42;\n    }\n  };\n\n  template&lt;class&gt;\n  friend class AConstructor;\n\npublic:\n  template&lt;class U&gt;\n  A(dummy&lt;U&gt;) {\n    AConstructor&lt;U&gt;::construct(this);\n  }\n\n  void print() const {\n    std::cout &lt;&lt; foo &lt;&lt; std::endl;\n  }\n\nprivate:\n  int foo;\n};\n\nint main() {\n  A&lt;void&gt; foobar( (impl::dummy&lt;void&gt;()) );\n  foobar.print();\n  return 0;\n}\n</code></pre>\n\n<p>]</p>\n\n<p><s>For me, this:</p>\n\n<pre><code>template&lt;class T&gt; \nstruct A; //forward declaration\n\nnamespace impl {\n\n  template&lt;class T&gt;\n  struct wrap {\n    template&lt;class U&gt;\n    struct AConstructor {\n      static void construct(A&lt;T&gt;* thisPtr) {\n        thisPtr-&gt;foo = 42;\n      }\n    };\n    //some partial specialization...\n  };\n\n  template&lt;class T&gt;\n  struct dummy{};\n\n} //end of namespace\n\ntemplate&lt;class T&gt;\nstruct A {\n  template&lt;class&gt;\n  friend class impl::wrap&lt;T&gt;::AConstructor;\n\n  template&lt;class U&gt;\n  A(impl::dummy&lt;U&gt;) {\n    impl::template wrap&lt;T&gt;::template AConstructor&lt;U&gt;::construct(this);\n  }\n\n  void print() const {\n    std::cout &lt;&lt; foo &lt;&lt; std::endl;\n  }\n\nprivate:\n  int foo;\n};\n\nint main() {\n  A&lt;void&gt; foobar( (impl::dummy&lt;void&gt;()) );\n  foobar.print();\n  return 0;\n}\n</code></pre>\n\n<p>compiles with g++ 4.9.0 and work as expected (it displays 42 on stdout) although the compilation fails with clang 3.5, i'd like to say that it is a clang bug, but i must admit i am not really sure of that. \nStill, you could find that useful if that was the case:<br>\n<a href=\"https://stackoverflow.com/questions/8967521/c-class-template-with-template-class-friend-whats-really-going-on-here\">Class template with template class friend, what&#39;s really going on here?</a><br>\n<a href=\"https://stackoverflow.com/questions/3292795/template-friend\">Template friend</a>\n</s></p>\n\n<p>However, i don't really like that design, are you sure you really need partial specialization of the constructors? You can't discard them with SFINAE, or access some subtypes with a trait class (or any other thing you want partial specialization for which can be replaced by something else)?<br>\nFor instance one of these constructions:</p>\n\n<pre><code>#include &lt;list&gt;\n#include &lt;vector&gt;\n\ntemplate&lt;class T&gt; \nstruct is_vector : std::false_type {};\n\ntemplate&lt;class T&gt;\nstruct is_vector&lt;std::vector&lt;T&gt;&gt; : std::true_type {};\n\nstruct A {\n  template&lt;\n    class T, typename std::enable_if&lt;is_vector&lt;T&gt;::value, void*&gt;::type = nullptr\n  &gt;\n  A(T) {\n    std::cout &lt;&lt; \"construction with a vector\" &lt;&lt; std::endl;\n  }\n\n  template&lt;class T&gt;\n  A(std::list&lt;T&gt;) {\n    std::cout &lt;&lt; \"construction with a list of \" &lt;&lt; typeid(T).name();\n    std::cout &lt;&lt; std::endl;\n  }\n\n  template&lt;\n    class T,\n    typename std::enable_if&lt;!is_vector&lt;T&gt;::value, void**&gt;::type = nullptr\n  &gt;\n  A(T) {\n    std::cout &lt;&lt; \"construction with an iterator (supposedly) whose value_type \"\n                 \"is\";\n    std::cout &lt;&lt; typeid(typename std::iterator_traits&lt;T&gt;::value_type).name();\n    std::cout &lt;&lt; std::endl;\n  }\n};\n\nint main() {\n  A(std::vector&lt;int&gt;());\n  A(std::list&lt;std::vector&lt;int&gt;&gt;());\n  A((char*) nullptr);\n  return 0;\n}\n</code></pre>\n\n<p>which displays this on my machine:  </p>\n\n<blockquote>\n  <p>construction with a vector<br>\n  construction with a list of NSt3__16vectorIiNS_9allocatorIiEEEE<br>\n  construction with an iterator (supposedly) whose value_type isc</p>\n</blockquote>\n\n<p>(of course i don't know exactly what you want to do, so i'm not sure, i'd have commented about this rather than put it in an answer, but i don't have enough reputation to do so, account created today)</p>\n"}], "owner": {"reputation": 237, "user_id": 5005049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f856781bbd27d7b6b66b2beb2de3c7f4?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Rosler", "link": "https://stackoverflow.com/users/5005049/omer-rosler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 31713094, "answer_count": 1, "score": 0, "last_activity_date": 1438217239, "creation_date": 1438210526, "question_id": 31712532, "link": "https://stackoverflow.com/questions/31712532/dependency-in-template-friend-of-template-class", "title": "Dependency in template friend of template class", "body": "<p>After hours of trying to find out this syntax by reading the standart I gave up on trying to understand this.\nI have a template class with a template constructor I need to partially specialize, since this is impossible I wrapped the constructor implementation in a diffrent template:</p>\n\n<pre><code>template&lt;class T&gt; \nstruct A; //forward declaration\nnamespace impl {\ntemplate&lt;class T&gt;\nstruct wrap {\n    template&lt;class U&gt;\n    struct AConstructor {\n        static void construct(A&lt;T&gt;*thisPtr) {...}\n    };\n    //some partial specialization...\n};\ntemplate&lt;class T&gt;\nstruct dummy{};\n} //end of namespace\ntemplate&lt;class T&gt;\nstruct A {\n   template&lt;class U&gt;\n    A(dummy&lt;U&gt;) {\n        impl::template wrap&lt;T&gt;::template AConstructor&lt;U&gt;::construct(this);\n    }\n};\n</code></pre>\n\n<p>This would have worked fine, but I need to access the private members of <code>A&lt;T&gt;</code> in the constructor implementation so I need a friend declaration, and this is wehere it gets tricky.\nI tried with or without the <code>template</code> keyword in possible locations and got compilation errors is visual studio: error C2992 (invalid or missing template parameter list) in the first and error C2952 (template declaration missing template parameter list) in the others:</p>\n\n<pre><code>template&lt;class T&gt;\nclass A {\n    //1\n    template&lt;class U&gt;\n    friend struct impl::template wrap&lt;T&gt;::template AConstructor;\n    //2,3 I also tried removing the static identifier with this declaration\n    template&lt;class U&gt;\n    friend void impl::template wrap&lt;T&gt;::template AConstructor&lt;U&gt;::construct(A&lt;T&gt;*);\n</code></pre>\n\n<p>How can I friend this function/struct?</p>\n"}, {"tags": ["c++", "function", "ifstream"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 2, "creation_date": 1438210513, "post_id": 31712516, "comment_id": 51362962, "body": "Your parameter is called <code>name</code>."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1438211199, "post_id": 31712516, "comment_id": 51363147, "body": "...And yes, it must be a C-style string, which you can get thus: <code>name.c_str()</code>"}, {"owner": {"reputation": 157, "user_id": 5121696, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/958969344121287/picture?type=large", "display_name": "Zach Stow", "link": "https://stackoverflow.com/users/5121696/zach-stow"}, "edited": false, "score": 0, "creation_date": 1438211569, "post_id": 31712516, "comment_id": 51363249, "body": "I changed ifs.open(file) to ifs.open(name.c_str()) and I&#39;m getting segmentation fault: 11"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1438212369, "post_id": 31712516, "comment_id": 51363445, "body": "So simplify the code as far as you can while still reproducing the error, and see how it looks."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1438212600, "post_id": 31712516, "comment_id": 51363507, "body": "Isn&#39;t it a problem that you have <code>int num_of_lines(string name);</code> inside your main? Doesn&#39;t this try to declare an int initialized from a string...? Or is this a legal way to declare a function header in c++?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438212825, "post_id": 31712516, "comment_id": 51363548, "body": "<code>file = argv[1]; if(argc == 1)die(&quot;usage: mywc your_file&quot;);</code> are the wrong way around: You need to check <code>argc</code> first, then access <code>argv[1]</code>."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1438213295, "post_id": 31712516, "comment_id": 51363672, "body": "Does this even compile for you? What do you mean <code>for(int i = 2; i &lt; argv.size();) ifs.close();</code>? What is <code>size</code> for a <code>char**</code>? And why is the iteration <code>++i</code> missing? And what does your loop do other than try to close <code>ifs</code> many times without opening it again? Shouldn&#39;t you keep updating <code>name&#47;file</code> in this loop? And do you give it a filename when you call it after compiling? It seems to work for me, at least it doesn&#39;t die for an empty input file..."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1438218319, "post_id": 31712516, "comment_id": 51364896, "body": "@AndrasDeak that is a function declaration. It&#39;s legal but redundant because the function is already visible"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1438219213, "post_id": 31712516, "comment_id": 51365131, "body": "Thanks, @MattMcNabb, it seemed weird to me anyway. I haven&#39;t yet seen any function declarations in <code>main</code>, so I wasn&#39;t sure if it was illegal or simply I&#39;ve missed it up till now (especially with all the fishy stuff going on in the asker&#39;s example)."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1438218374, "post_id": 31712861, "comment_id": 51364912, "body": "there&#39;s a few other problems too"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1438223135, "last_edit_date": 1438223135, "creation_date": 1438212605, "answer_id": 31712861, "question_id": 31712516, "link": "https://stackoverflow.com/questions/31712516/trying-to-open-and-close-a-file-inside-a-function/31712861#31712861", "title": "Trying to open and close a file inside a function", "body": "<p>You have couple of problems.</p>\n\n<ol>\n<li><p>The variable <code>file</code> is not defined in <code>num_of_lines</code>. You can fix the very easily by using <code>file</code> as the argument instead of `name.</p>\n\n<pre><code>int num_of_lines(string file)\n{\n   ...\n}\n</code></pre>\n\n<p>You can also use</p>\n\n<pre><code>int num_of_lines(string const&amp; file)\n{\n   ...\n}\n</code></pre>\n\n<p>to avoid making a copy of the <code>std::string</code>.</p></li>\n<li><p>Assuming <code>file</code> is of type <code>std::string</code>, you may have to use <code>file.c_str()</code> in the call to open depending on the version of C++ standard your compiler supports.</p>\n\n<p>If you have a C++11 compliant compiler, you can use:</p>\n\n<pre><code>string file;\nifstream ilines;\nilines.open(file);\n</code></pre>\n\n<p>If you only have a C++03 compliant compiler, you'll have to use:</p>\n\n<pre><code>string file;\nifstream ilines;\nilines.open(file.c_str());\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 157, "user_id": 5121696, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/958969344121287/picture?type=large", "display_name": "Zach Stow", "link": "https://stackoverflow.com/users/5121696/zach-stow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1534, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1438223135, "creation_date": 1438210417, "last_edit_date": 1438219710, "question_id": 31712516, "link": "https://stackoverflow.com/questions/31712516/trying-to-open-and-close-a-file-inside-a-function", "title": "Trying to open and close a file inside a function", "body": "<p>Having trouble getting my num_of_lines function to run. I do need to open and close the file inside the function, and will have to do the same for a couple other functions also. This is so I can get information from the begging of the file (I can't use any other functions that would allow me to do otherwise, because we have not learned them in class yet). I'm getting two errors:</p>\n\n<pre><code>hello.cpp:14:17: error: use of undeclared identifier 'file'; did you mean\n      'fill'?\n    ilines.open(file);        //does file need to be a c-string\n                ^~~~\n                fill\n\nhello.cpp:14:12: error: no matching member function for call to 'open'\n    ilines.open(file);        //does file need to be a c-string\n</code></pre>\n\n<p>Not sure what to do, thanks.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;cctype&gt;\n#define die(errmsg) {cerr &lt;&lt; errmsg &lt;&lt; endl; exit(1);} \nusing namespace std;\n\nint num_of_lines(string name)\n{\n    int cnt3 = 0;\n    string line;\n\n    ifstream ilines;     //Do I need to check for successful opening and closing each time\n\n    ilines.open(file);        //does file need to be a c-string\n\n    if(ilines.is_open())\n    {\n        while(getline(ilines, line))cnt3++;   \n    }  \n    ilines.close(); \n    return(cnt3);\n}\n\n\nint main(int argc, char **argv)\n{ \n    int num_of_lines(string name);\n\n    string file;\n    file = argv[1];\n\n    if(argc == 1)die(\"usage: mywc your_file\"); \n\n    ifstream ifs;\n\n    ifs.open(file);\n\n    if(ifs.is_open())\n    {\n\n        ifs.close();\n\n        int a;\n\n        a = num_of_lines(file);\n        cout &lt;&lt;\"Lines: \" &lt;&lt; a &lt;&lt; endl;\n    }\n    else\n    {\n        cerr &lt;&lt;\"Could not open: \" &lt;&lt; file &lt;&lt; endl;\n        exit(1);\n    }\n\n    //ifs.close();\n\n    return(0);\n}\n</code></pre>\n"}, {"tags": ["c++", "file", "fstream", "class-design", "member-variables"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1438209973, "post_id": 31712392, "comment_id": 51362799, "body": "The second version may make your compiler choke if a copy is made of <code>File_Handler</code>.  For example: <code>File_Handler f;  File_Handler f2 = f;</code>  Try that with the second version."}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1438210358, "post_id": 31712392, "comment_id": 51362926, "body": "@PaulMcKenzie He could <code>delete</code> the copy constructor to alleviate that."}, {"owner": {"reputation": 114, "user_id": 3490961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292c325e8ec0c914b02e37ebc01130ac?s=128&d=identicon&r=PG&f=1", "display_name": "Aemmel", "link": "https://stackoverflow.com/users/3490961/aemmel"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1438215093, "post_id": 31712392, "comment_id": 51364113, "body": "@PaulMcKenzie, ok, but as cmbasnett stated, I could get rid of that problem. So what would be the best decision here?"}], "owner": {"reputation": 114, "user_id": 3490961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292c325e8ec0c914b02e37ebc01130ac?s=128&d=identicon&r=PG&f=1", "display_name": "Aemmel", "link": "https://stackoverflow.com/users/3490961/aemmel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1438214620, "creation_date": 1438209757, "last_edit_date": 1438214620, "question_id": 31712392, "link": "https://stackoverflow.com/questions/31712392/best-way-to-save-file-in-a-class", "title": "Best way to save file in a class", "body": "<p>I'm currently writing on a File_Handler, a class that simplifys operations on files which I need for my program. </p>\n\n<p>My question is which way would be best to save the file in my class. Would it be best to save the path of my file as a std::string and reopen it in every function that uses the file, or would it be best if I'd save the actual std::fstream variable. Since it's a <code>File_Handler</code> it'll perfom a lot of operations on the same file in a lot of different functions. Down below is a quick demonstration of both ways:</p>\n\n<p>Opt. 1 would look like this: </p>\n\n<pre><code>class File_Handler\n{\npublic:\n    void foo() \n    {\n        std::fstream f(m_path);\n        //operations with 'f'..\n    }\nprivate:\n    std::string m_path; //save path of file here\n}\n</code></pre>\n\n<p>and Opt. 2 would look like this: </p>\n\n<pre><code>class File_Handler\n{\npublic:\n    void foo()\n    {\n        //operations on already opened 'm_file'\n    }\nprivate:\n    std::fstream m_file; //save actual file\n}\n</code></pre>\n\n<hr>\n\n<p>Which version is quicker, saver and over all better?</p>\n\n<p>Or is there even a better way? (For example copy the whole file into a vector and after every operation on the vector copy vector to file?..)</p>\n\n<p>I'd appreciate you help.</p>\n"}, {"tags": ["c++", "function"], "answers": [{"tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 3, "last_activity_date": 1438209888, "creation_date": 1438209888, "answer_id": 31712421, "question_id": 31712389, "link": "https://stackoverflow.com/questions/31712389/func-a-calls-func-b-and-vice-versa-why-does-it-not-work-experimenting/31712421#31712421", "title": "Func A calls Func B and Vice versa (why does it not work) Experimenting", "body": "<pre><code>int trollFuncyB(x);\n</code></pre>\n\n<p>This doesn't call <code>trollFuncyB</code>. It declares a local variable named <code>trollFuncyB</code> of type <code>int</code> and initializes its value to <code>x</code>. You get that warning because this local variable is never used.</p>\n\n<p>Call a function like this:</p>\n\n<pre><code>trollFuncyB(x);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1438209901, "creation_date": 1438209901, "answer_id": 31712424, "question_id": 31712389, "link": "https://stackoverflow.com/questions/31712389/func-a-calls-func-b-and-vice-versa-why-does-it-not-work-experimenting/31712424#31712424", "title": "Func A calls Func B and Vice versa (why does it not work) Experimenting", "body": "<p><code>int trollFuncyB(x);</code> is equivalent to <code>int trollFuncyB = x;</code>.\nIt is a declaration of a variable of type <code>int</code> initialized with <code>x</code>.</p>\n\n<p>You should replace it by:</p>\n\n<pre><code>int trollFuncyB(int); // declaration of the function (may be done outside of the function)\ntrollFuncyB(x);       // The call\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 3279672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/645119100/picture?type=large", "display_name": "Maveron", "link": "https://stackoverflow.com/users/3279672/maveron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438209901, "creation_date": 1438209742, "question_id": 31712389, "link": "https://stackoverflow.com/questions/31712389/func-a-calls-func-b-and-vice-versa-why-does-it-not-work-experimenting", "title": "Func A calls Func B and Vice versa (why does it not work) Experimenting", "body": "<p>I am just experimenting with C++ and trying to understand the basics of it through this lovely website <a href=\"http://www.learncpp.com/\" rel=\"nofollow\">http://www.learncpp.com/</a></p>\n\n<p>Now i am just trying my Following CODE:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nint trollFuncyA(int x){\n    x++;\n    cout &lt;&lt; \"we are In A and x = \" &lt;&lt; x &lt;&lt; endl;\n    if (x &gt; 20) return 1 ;\n    cout &lt;&lt; \"we are In a1 and x = \" &lt;&lt; x &lt;&lt; endl;\n    int trollFuncyB(x);\n    cout &lt;&lt; \"we are In a2 and x = \" &lt;&lt; x &lt;&lt; endl;\n    return 0;\n}\n\nint trollFuncyB(int x){\n    cout &lt;&lt; \"we are In B9 and x = \" &lt;&lt; x &lt;&lt; endl;\n     x++;\n     x =  x + 1;\n      cout &lt;&lt; \"we are In B and x = \" &lt;&lt; x &lt;&lt; endl;\n     int  trollFuncyA(x);\n      cout &lt;&lt; \"we are In B2 and x = \" &lt;&lt; x &lt;&lt; endl;\n      return 0;\n}\n\nint main()\n{\n\n    int troll = 0;\n\n   trollFuncyA(troll );\n\n    return 0;\n}\n</code></pre>\n\n<p>when I try to run it I run into some issues:</p>\n\n<p>1.) warning: C4189: 'trollFuncyB' : local variable is initialized but not referenced  (how can I solve that or is it unsolvable</p>\n\n<p>2.) I was hoping that int X would add up to 20   but it just run only trollFuncyA just only once until the end of the function, it almost seems that it ignores the trollFuncyB   ..... No matter how silly this program is. is it possible to make this run? <strong>I am Just trying to experiment here and I know about for / while loops .. I just thought this would be able to run as intended</strong></p>\n\n<p>Regards A newby</p>\n"}, {"tags": ["c++", "arduino", "raspberry-pi", "sensors"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3063726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4590c73ded0058c35bba20206edaa7?s=128&d=identicon&r=PG&f=1", "display_name": "tamngoman", "link": "https://stackoverflow.com/users/3063726/tamngoman"}, "edited": false, "score": 0, "creation_date": 1438223524, "post_id": 31713956, "comment_id": 51366024, "body": "i&#39;ll definitely try this tomorrow once i am in my lab. the only problem is its getting data from backleft currently, and doesnt switch between back and front left once it already initiates the turn. if it switches, it will always try to take a left, instead of going forward. this is one of the troubles of making the system fully autonomous"}], "tags": [], "owner": {"reputation": 51, "user_id": 1373945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a48dd097b0db22611a9649b819442ee?s=128&d=identicon&r=PG", "display_name": "user1373945", "link": "https://stackoverflow.com/users/1373945/user1373945"}, "is_accepted": false, "score": 0, "last_activity_date": 1438220966, "creation_date": 1438220966, "answer_id": 31713956, "question_id": 31712348, "link": "https://stackoverflow.com/questions/31712348/making-my-2-motors-with-wheels-take-a-smooth-left-as-its-tracking-the-left-sid/31713956#31713956", "title": "Making my 2 Motors (with wheels) take a smooth left as its tracking the left side using a range sensor", "body": "<p>Once you've initiated turning you probably need to start looking at the front-left sensor value, instead of the back-left. Perhaps continue turning until the front-left is at an appropriately low value, then start moving forwards. You may need to continue to correct steering after turning until the front-left and back-left sensors give the same distance from the wall (assuming you want to end up parallel).</p>\n"}], "owner": {"reputation": 21, "user_id": 3063726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4590c73ded0058c35bba20206edaa7?s=128&d=identicon&r=PG&f=1", "display_name": "tamngoman", "link": "https://stackoverflow.com/users/3063726/tamngoman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438220966, "creation_date": 1438209455, "question_id": 31712348, "link": "https://stackoverflow.com/questions/31712348/making-my-2-motors-with-wheels-take-a-smooth-left-as-its-tracking-the-left-sid", "title": "Making my 2 Motors (with wheels) take a smooth left as its tracking the left side using a range sensor", "body": "<p>So to jump right into it, I currently have my setup of using a urg laser sensor, a arduino pro mini (slave), a raspberry pi (master) and Sabertooth 2x12 PWM controlling 2 motors.</p>\n\n<p>btw i am programming in cpp</p>\n\n<p>I got everything all setup, and using the laser sensor data that I obtain from the urg laser sensor I am able to get the front, left, right, frontleft, front right, backleft, and backright of my little system that is being driven by 2 wheel drive( motor ) and 2 variable wheels in the front.</p>\n\n<p>I am tracking a obsolete wall, and its suppose to take a left when the backleft sensor detects nothing.</p>\n\n<p>It goes great! until it makes a turn (turn is set to 45 when it detects, to make a u turn around the obsolete wall) and stops midway, because the backleft is detecting the wall still halfway it turns. Its hard to explain unless you visualize it.</p>\n\n<p>which i will try via asci</p>\n\n<pre><code>--------------------\n     ----&gt;           [] &lt;-- my device (backleft detects nothing at this point)\n</code></pre>\n\n<p>mid turn</p>\n\n<pre><code>-------------------- [] &lt;-- it now detects a backleft and stops\n</code></pre>\n\n<p>anyway to keep make it do a smooth left turn without putting a delay. I want to make it as seamless as possible. Already implented PID so this is the last part :(</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["c++", "gcc", "makefile", "linker", "libopencm3"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1438209721, "post_id": 31712316, "comment_id": 51362724, "body": "Doesn&#39;t it strike you odd your <code>main.cpp</code> is clearly being compiled <i>twice</i>, including once when you&#39;re supposed to be compiling <code>Robot.cpp</code> ? Perchance, is there a <code>#include &quot;main.cpp&quot;</code> in your <code>Robot.cpp</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438234755, "post_id": 31712409, "comment_id": 51369201, "body": "when i do%.o: %.cpp how can i write the .ofiles into the ./build/ directory instead of where the makefile is?"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438236192, "post_id": 31712409, "comment_id": 51369751, "body": "@MartinFischer Updated."}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438236429, "post_id": 31712409, "comment_id": 51369860, "body": "can you please check my Makefile now if i did the whole makefile well now (like makefile standard) and perfect coded or is there still any mistake, failure or not-perfect part? <a href=\"https://bpaste.net/show/4f911a63003e\" rel=\"nofollow noreferrer\">bpaste.net/show/4f911a63003e</a>"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438236453, "post_id": 31712409, "comment_id": 51369881, "body": "@MartinFischer: 1) This works because OBJ_DIR happens to be defined in your makefile <code>OBJ_DIR = .&#47;build</code>  2) Don&#39;t forget to insure that only <i>one</i> file with <code>main()</code> is linked at a time!"}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438238872, "post_id": 31712409, "comment_id": 51370998, "body": "Sure. But now my makefile is ok and doesnt contain any stranges anymore?"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438242240, "post_id": 31712409, "comment_id": 51372897, "body": "@MartinFischer <a href=\"https://bpaste.net/show/6174277ec805\" rel=\"nofollow noreferrer\">here</a> are some suggestions, most of it isn&#39;t really that important but there are certain conventions in make. Also I can&#39;t guarantee it&#39;ll still work because I can&#39;t test it."}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438242615, "post_id": 31712409, "comment_id": 51373153, "body": "@user657267 Thanks my friend. I have just 2 questions:  #1: Why is := better than = ?  #2: Why are with following snippet the SRCS also Added to the OBJS, so OBJS is then all OBJS + SRCS ?  SRCS        = $(wildcard $(SRC_DIR)/*.cpp) \\ \t\t\t  $(wildcard $(SRC_DIR)/*.c) OBJS        = $(SRCS:$(SRC_DIR)/%.cpp=$(OBJ_DIR)/%.o) \\ \t\t\t  $(SRCS:$(SRC_DIR)/%.c=$(OBJ_DIR)/%.o)"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438243144, "post_id": 31712409, "comment_id": 51373461, "body": "@MartinFischer See <a href=\"https://www.gnu.org/software/make/manual/html_node/Flavors.html#Flavors\" rel=\"nofollow noreferrer\">here</a> for the first question, I&#39;m not sure about what&#39;s going on with the second question without a full example, but I have a hunch it has something to do with the answer to #1, try using immediate expansion with <code>:=</code> instead."}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438243593, "post_id": 31712409, "comment_id": 51373730, "body": "@user657267 Ok. My current makefile is: <a href=\"https://bpaste.net/show/e41bf6418a4a\" rel=\"nofollow noreferrer\">bpaste.net/show/e41bf6418a4a</a>   &gt; now please create a folder called src including some c/cpp files, and then run make clean (this prints the objs) now you see whats my problem is."}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438244320, "post_id": 31712409, "comment_id": 51374106, "body": "@MartinFischer the thing about substitutions is that they return the original string if there&#39;s no match, <a href=\"https://bpaste.net/show/dfd195cc8ed7\" rel=\"nofollow noreferrer\">this</a> is one way to do what you want, you can break it down into more commands if the one-liners are too cryptic."}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438245312, "post_id": 31712409, "comment_id": 51374671, "body": "@MartinFischer something like <code>$(FOO:.cpp=.o)</code> is just shorthand for <code>$(patsubst %.cpp,%.o,$(FOO))</code>, once you understand that it should be simple to understand. You usually use <code>patsubst</code> if you need to something more complicated or if you don&#39;t have a variable to work on."}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438245842, "post_id": 31712409, "comment_id": 51374987, "body": "@user657267 No there is still one problem. Once the make command successfully build my project, i cant do make again when i changed a file, i need first to make clean the project. Can we fix this?"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438245869, "post_id": 31712409, "comment_id": 51375003, "body": "@MartinFischer Which file?"}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438245960, "post_id": 31712409, "comment_id": 51375059, "body": "Robot.hpp, a header file (does it works just on SRC files not on headers?)"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438246157, "post_id": 31712409, "comment_id": 51375177, "body": "@MartinFischer Add <code>CPPFLAGS += -MMD -MP</code> somewhere and then <code>-include $(OBJ_DIR)&#47;*.d</code> at the end of your Makefile."}, {"owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 0, "creation_date": 1438246324, "post_id": 31712409, "comment_id": 51375271, "body": "Works. But can you explain pls what a .d file is and what <code>-include $(OBJ_DIR)&#47;*.d</code> is doing?"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "reply_to_user": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "edited": false, "score": 1, "creation_date": 1438246420, "post_id": 31712409, "comment_id": 51375329, "body": "@MartinFischer <code>-MMD -MP</code> makes GCC dump dependency (d) files as part of the compilation process, these are just makefile fragments which list the files that are <code>include</code>d in the respective source file, so you include them in the main makefile (aka auto dependency generation)."}], "tags": [], "owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "is_accepted": true, "score": 4, "last_activity_date": 1438236186, "last_edit_date": 1438236186, "creation_date": 1438209836, "answer_id": 31712409, "question_id": 31712316, "link": "https://stackoverflow.com/questions/31712316/c-makefile-ld-error/31712409#31712409", "title": "C++ Makefile LD Error", "body": "<p>You've made each object depend on <strong>all</strong> sources here</p>\n\n<pre><code>$(OBJS): $(SRCS)\n</code></pre>\n\n<p>Change it to something like</p>\n\n<pre><code>$(OBJS): $(OBJ_DIR)/%.o: %.cpp\n</code></pre>\n\n<p>Or simply</p>\n\n<pre><code>$(OBJ_DIR)/%.o: %.cpp\n</code></pre>\n"}], "owner": {"reputation": 675, "user_id": 4784666, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh3.googleusercontent.com/-Mb9XpU7rE_o/AAAAAAAAAAI/AAAAAAAAABE/KbF_UYZ95wQ/photo.jpg?sz=128", "display_name": "Martin Fischer", "link": "https://stackoverflow.com/users/4784666/martin-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 1, "accepted_answer_id": 31712409, "answer_count": 1, "score": 2, "last_activity_date": 1454525636, "creation_date": 1438209222, "last_edit_date": 1454525636, "question_id": 31712316, "link": "https://stackoverflow.com/questions/31712316/c-makefile-ld-error", "title": "C++ Makefile LD Error", "body": "<p>I'm programming an ARM in C++ with libopencm3. But my Makefile contains errors. Like you can see now!</p>\n\n<p>I have following Makefile:</p>\n\n<pre><code>Q           = @\nRM          = @rm -f\nMAKE        = make\nCC          = arm-none-eabi-gcc\nCPP         = arm-none-eabi-g++\nLD          = arm-none-eabi-gcc\nOBC         = arm-none-eabi-objcopy\nOBD         = arm-none-eabi-objdump\nSIZ         = arm-none-eabi-size\nSTFLASH     = st-flash\n\nFIRMWARE    = FIRMWARE\nLIBNAME     = opencm3_stm32f1\n\nSRCS        = main.cpp Robot.cpp\nOBJS        = $(SRCS:%.cpp=$(OBJ_DIR)/%.o)\n\nOPENCM3_DIR = $(realpath libopencm3)\nINCLUDE_DIR = $(OPENCM3_DIR)/include\nLIB_DIR     = $(OPENCM3_DIR)/lib\nSCRIPT_DIR  = $(OPENCM3_DIR)/scripts\nOBJ_DIR     = ./build\n\nLDSCRIPT    = stm32f103c8t6.ld\n\nCPPFLAGS    = -g -Os -Wall\nCPPFLAGS    += -Wextra -Wshadow -Wredundant-decls -Weffc++\nCPPFLAGS    += -fno-common -ffunction-sections -fdata-sections\nCPPFLAGS    += -MD -Wall -Wundef\nCPPFLAGS    += -I$(INCLUDE_DIR) -DSTM32F1\nCPPFLAGS    += -msoft-float -mfix-cortex-m3-ldrd\nCPPFLAGS    += -mthumb -mcpu=cortex-m3\n\nLDFLAGS     = --static -nostartfiles\nLDFLAGS     += -L$(LIB_DIR)\nLDFLAGS     += -T$(LDSCRIPT)\nLDFLAGS     += -Wl,-Map=$(OBJ_DIR)/$(FIRMWARE).MAP\nLDFLAGS     += -Wl,--gc-sections\nLDFLAGS      += -msoft-float -mfix-cortex-m3-ldrd\nLDFLAGS      += -mthumb -mcpu=cortex-m3\n\nLDLIBS      = -l$(LIBNAME)\nLDLIBS      += -Wl,--start-group -lc -lgcc -lnosys -Wl,--end-group\n\nall: bin elf hex\n\nlib:\n    $(Q)if [ ! \"`ls -A libopencm3`\" ] ; then \\\n        printf \"######## ERROR ########\\n\"; \\\n        printf \"\\tPlease run:\\n\"; \\\n        printf \"\\tgit clone https://github.com/libopencm3/libopencm3.git\\n\"; \\\n        printf \"######## ERROR ########\\n\"; \\\n        exit 1; \\\n        fi\n    $(Q)$(MAKE) -C libopencm3\n\nelf: $(OBJ_DIR)/$(FIRMWARE).ELF\nbin: $(OBJ_DIR)/$(FIRMWARE).BIN\nhex: $(OBJ_DIR)/$(FIRMWARE).HEX\n\ndox:\n    $(Q)doxygen Doxyfile\n\n$(OBJ_DIR)/$(FIRMWARE).BIN: $(OBJ_DIR)/$(FIRMWARE).ELF\n    $(Q)printf \"  OBJCOPY $(OBJ_DIR)/$(FIRMWARE).BIN\\n\"\n    $(Q)$(OBC) -Obinary $(OBJ_DIR)/$(FIRMWARE).ELF $(OBJ_DIR)/$(FIRMWARE).BIN\n\n$(OBJ_DIR)/$(FIRMWARE).HEX: $(OBJ_DIR)/$(FIRMWARE).ELF\n    $(Q)printf \"  OBJCOPY $(OBJ_DIR)/$(FIRMWARE).HEX\\n\"\n    $(Q)$(OBC) -Oihex $(OBJ_DIR)/$(FIRMWARE).ELF $(OBJ_DIR)/$(FIRMWARE).HEX\n\n$(OBJ_DIR)/$(FIRMWARE).ELF $(OBJ_DIR)/$(FIRMWARE).MAP: $(OBJS) $(LDSCRIPT) $(LIB_DIR)/lib$(LIBNAME).a\n    $(Q)printf \"  LD      $(OBJ_DIR)/$(FIRMWARE).ELF\\n\"\n    $(Q)$(LD) $(LDFLAGS) $(OBJS) $(LDLIBS) -o $(OBJ_DIR)/$(FIRMWARE).ELF\n    $(Q)$(SIZ) $(OBJ_DIR)/$(FIRMWARE).ELF\n\n$(OBJS): $(SRCS)\n    $(Q)printf \"  CPP     $(*).cpp\\n\"\n    $(Q)$(CPP) $(CPPFLAGS) -o $@ -c $&lt;\n\nflash: $(OBJ_DIR)/$(FIRMWARE).BIN\n    $(Q)printf \"  FLASH   $(OBJ_DIR)/$(FIRMWARE).BIN\\n\"\n    $(Q)$(STFLASH) write $(OBJ_DIR)/$(FIRMWARE).BIN 0x8000000\n\nlibclean:\n    $(Q)$(MAKE) -C libopencm3 clean\n\nclean:\n    $(Q)printf \"  CLEAN\\n\"\n    $(Q)$(RM) $(OBJ_DIR)/*.o\n    $(Q)$(RM) $(OBJ_DIR)/*.d\n\ndeepclean: clean\n    $(Q)$(RM) $(OBJ_DIR)/$(FIRMWARE).*\n</code></pre>\n\n<p>But the linking (LD) doesn't work. See the Error:</p>\n\n<pre><code>  CPP     build/main.cpp\nmain.cpp: In function 'int main()':\nmain.cpp:25:24: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n         for(i = 0; i &lt; 36000000UL; i++)\n                        ^\n  CPP     build/Robot.cpp\nmain.cpp: In function 'int main()':\nmain.cpp:25:24: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\n         for(i = 0; i &lt; 36000000UL; i++)\n                        ^\n  LD      ./build/FIRMWARE.ELF\n./build/Robot.o: In function `main':\n/home/martin/Dropbox/workspace/electronics/arm/Procyon/main.cpp:15: multiple definition of `main'\n./build/main.o:/home/martin/Dropbox/workspace/electronics/arm/Procyon/main.cpp:15: first defined here\ncollect2: error: ld returned 1 exit status\nMakefile:73: recipe for target 'build/FIRMWARE.ELF' failed\nmake: *** [build/FIRMWARE.ELF] Error 1\n</code></pre>\n\n<p>Where is the mistake?\nI don't know what's wrong with the LD, when i used this makefile for C (not C++) it worked fine !?</p>\n\n<p>Maybe is it cause i use gcc instead of g++ for LD'ing?</p>\n\n<p>Thanks,\nMartin</p>\n"}, {"tags": ["c++", "inheritance", "constructor"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 4, "creation_date": 1438209279, "post_id": 31712293, "comment_id": 51362578, "body": "Your code is wrong; you should use the constructor initializer list insted of line 14."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1438209445, "post_id": 31712293, "comment_id": 51362634, "body": "The top-&quot;Related&quot; article on the right side of your page is worth a read."}], "answers": [{"tags": [], "owner": {"reputation": 2736, "user_id": 2594660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7d187e6e2c5da17bf3d27b6719a22fb?s=128&d=identicon&r=PG", "display_name": "MarvMind", "link": "https://stackoverflow.com/users/2594660/marvmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1438209659, "creation_date": 1438209659, "answer_id": 31712376, "question_id": 31712293, "link": "https://stackoverflow.com/questions/31712293/constructor-inheritance-in-c/31712376#31712376", "title": "Constructor Inheritance in C++", "body": "<p>Implementing methods in the header has the advantage that the method can be inlined by the compiler. This can bring a significant speed-up. </p>\n"}, {"tags": [], "owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1438209690, "creation_date": 1438209690, "answer_id": 31712381, "question_id": 31712293, "link": "https://stackoverflow.com/questions/31712293/constructor-inheritance-in-c/31712381#31712381", "title": "Constructor Inheritance in C++", "body": "<p>Both answers are tight together. The syntax at the top is member initializer list. This is used to initialize members, ie. set their initial values. It does not need to be in header but it can be inlined if it is there. Anything in the body of the constructor (including assignment to member variables) is done <em>after</em> this initialization.</p>\n\n<p>Parent constructors can be called only from member initializer list. Your code at lines 10 and 14 are temporaries (just like <code>point2D name_i_will_never_use();</code>), not calls to constructor of parent class.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 5051316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tSHLr.png?s=128&g=1", "display_name": "ChajusSaib", "link": "https://stackoverflow.com/users/5051316/chajussaib"}, "is_accepted": false, "score": 1, "last_activity_date": 1438210066, "last_edit_date": 1438210066, "creation_date": 1438209742, "answer_id": 31712388, "question_id": 31712293, "link": "https://stackoverflow.com/questions/31712293/constructor-inheritance-in-c/31712388#31712388", "title": "Constructor Inheritance in C++", "body": "<p><strong>Question 1:</strong></p>\n\n<p>I hope this is what you are asking.</p>\n\n<p>People tend to implement constructors in header files and right in the class if it does not have much work to do and can be written on 1 line such as above. This is just style and varies person to person. Another reason is because it is inlined, for performance. </p>\n\n<p>Else if you are talking about the constructor initializer list<code>(CONSTR(...) : &lt;constructor initializer list&gt; { })</code> then the reason for this is that it initializes the data members, when you assign to them in the body of the constructor(like you are doing in the second piece of code) then that is not initializing it, that is assigning to them and is less efficient. Though it does have a use, sometimes you need to do other work before you get the data member/s value/s. Such as getting input.</p>\n\n<p><strong>Question 2:</strong></p>\n\n<p>You again have to use the constructor initializer list not the body so here is an example</p>\n\n<pre><code>point3D::point3D(int xP, int yP, int zP) : point2D(xP, yP), z(zP) { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1438278809, "last_edit_date": 1438278809, "creation_date": 1438209812, "answer_id": 31712402, "question_id": 31712293, "link": "https://stackoverflow.com/questions/31712293/constructor-inheritance-in-c/31712402#31712402", "title": "Constructor Inheritance in C++", "body": "<p>The both constructors</p>\n\n<pre><code>9.  point3D::point3D(){\n10.    point2D();\n11.    z = 0;\n12. }\n\n13. point3D::point3D(int xP, int yP, int zP){\n14.    point2D(xP, yP);\n15.    z = zP;\n16. }\n</code></pre>\n\n<p>are wrong. </p>\n\n<p>Statements</p>\n\n<pre><code>10.    point2D();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>14.    point2D(xP, yP);\n</code></pre>\n\n<p>do not make sense because they simply create temporary objects that will be deleted after execution of the statements. </p>\n\n<p>I think you mean the following</p>\n\n<pre><code>9.  point3D::point3D() : point2D(){\n11.    z = 0;\n12. }\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>9.  point3D::point3D(){\n11.    z = 0;\n12. }\n\n\n13. point3D::point3D(int xP, int yP, int zP) : point2D(xP, yP) {\n15.    z = zP;\n16. }\n</code></pre>\n\n<p>As for the first question then these constructor implementations</p>\n\n<pre><code>public:\n    point2D():x(0),y(0){};\n    point2D(int xP, int yP):x(xP),y(yP){};\n</code></pre>\n\n<p>are enough simple and readable so they can be placed in a header. By default constructors defined in a class have function specifier <code>inline</code>. And inline functions must be defined in each translation unit where they are used.  Thus it is natural to have their definitions in the class definition though they also can be defined inlined in the same header after the class definition.</p>\n"}], "owner": {"reputation": 23, "user_id": 5131666, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207529505544558/picture?type=large", "display_name": "FIM", "link": "https://stackoverflow.com/users/5131666/fim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1438278809, "creation_date": 1438209121, "question_id": 31712293, "link": "https://stackoverflow.com/questions/31712293/constructor-inheritance-in-c", "title": "Constructor Inheritance in C++", "body": "<p>I have 2 questions to make.\nWhy people implement some methods in the header of the class? Like:</p>\n\n<pre><code>public:\n    point2D():x(0),y(0){};\n    point2D(int xP, int yP):x(xP),y(yP){};\n</code></pre>\n\n<p>What is the real difference between this and implement in a different file(performance, memory)?</p>\n\n<p>And my second question is about the use of the constructor in a inheritance.</p>\n\n<pre><code>1. point2D::point2D(){\n2.    x = 10;\n3.    y = 10;\n4. }\n\n5. point2D::point2D(int xP, int yP){\n6.    x = xP;\n7.    y = yP;\n8. }\n\n9.  point3D::point3D(){\n10.    point2D();\n11.    z = 0;\n12. }\n\n13. point3D::point3D(int xP, int yP, int zP){\n14.    point2D(xP, yP);\n15.    z = zP;\n16. }\n</code></pre>\n\n<p>When I try to create my constructor in a separate CPP and the constructor for the point3D that receive 3 parameters(line 13) try to use the point2D constructor with 2 integer parameters(line 14), the constructor that is actually called is the point2D with no parameters. Why? We have 2 parameters inside the call of the constructor.</p>\n\n<p>Thank you guys and I hope I was clear in my doubts.</p>\n"}, {"tags": ["c++", "templates", "gcc", "clang++"], "comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1438730210, "post_id": 31711926, "comment_id": 51566677, "body": "It looks like nobody on SO knows the answer, so maybe you could submit a Clang bug and then post here if you get a response."}, {"owner": {"reputation": 662, "user_id": 1329132, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc79a0813d7c47f9aeaa879903689d1a?s=128&d=identicon&r=PG", "display_name": "dyomas", "link": "https://stackoverflow.com/users/1329132/dyomas"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 2, "creation_date": 1438774489, "post_id": 31711926, "comment_id": 51584747, "body": "@Brian, OK. <a href=\"https://llvm.org/bugs/show_bug.cgi?id=24357\" rel=\"nofollow noreferrer\">llvm.org/bugs/show_bug.cgi?id=24357</a> Waiting..."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 4, "creation_date": 1441839288, "post_id": 31711926, "comment_id": 52841383, "body": "Your SSCCE lacks command line switches and version numbers."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1441839411, "post_id": 31711926, "comment_id": 52841422, "body": "Also your error doesn&#39;t match your SSCCE (MyClass3). Its minor but I&#39;ve found its the kind of thing that will have people overlook a valid/interesting question."}, {"owner": {"reputation": 662, "user_id": 1329132, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc79a0813d7c47f9aeaa879903689d1a?s=128&d=identicon&r=PG", "display_name": "dyomas", "link": "https://stackoverflow.com/users/1329132/dyomas"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1441880475, "post_id": 31711926, "comment_id": 52857938, "body": "@kfsone, output fixed, thanks. Compiler switches are as simple as (g++|clang++) &lt;filename&gt;. It&#39;s obvious"}, {"owner": {"reputation": 22663, "user_id": 265629, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gJWXP.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/265629/alex"}, "edited": false, "score": 0, "creation_date": 1442670490, "post_id": 31711926, "comment_id": 53183401, "body": "What is the output of <code>clang++ --version</code>?"}, {"owner": {"reputation": 662, "user_id": 1329132, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc79a0813d7c47f9aeaa879903689d1a?s=128&d=identicon&r=PG", "display_name": "dyomas", "link": "https://stackoverflow.com/users/1329132/dyomas"}, "edited": false, "score": 0, "creation_date": 1442929123, "post_id": 31711926, "comment_id": 53279202, "body": "<code>Ubuntu clang version 3.4-1ubuntu3 (tags&#47;RELEASE_34&#47;final) (based on LLVM 3.4) Target: x86_64-pc-linux-gnu Thread model: posix</code>"}, {"owner": {"reputation": 14872, "user_id": 3919155, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3034f14bf0b65847592b2c2e08b9253e?s=128&d=identicon&r=PG&f=1", "display_name": "jotik", "link": "https://stackoverflow.com/users/3919155/jotik"}, "edited": false, "score": 0, "creation_date": 1461920370, "post_id": 31711926, "comment_id": 61427309, "body": "@dyomas Please include this information in your question. It might get lost in the comments."}], "answers": [{"comments": [{"owner": {"reputation": 662, "user_id": 1329132, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc79a0813d7c47f9aeaa879903689d1a?s=128&d=identicon&r=PG", "display_name": "dyomas", "link": "https://stackoverflow.com/users/1329132/dyomas"}, "edited": false, "score": 2, "creation_date": 1443428599, "post_id": 32798601, "comment_id": 53473106, "body": "See above: <i>In class call definition solves the problem, I know</i>"}], "tags": [], "owner": {"reputation": 367, "user_id": 4931387, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/rg0Jh.jpg?s=128&g=1", "display_name": "alwaystudent", "link": "https://stackoverflow.com/users/4931387/alwaystudent"}, "is_accepted": false, "score": -2, "last_activity_date": 1449777005, "last_edit_date": 1449777005, "creation_date": 1443280054, "answer_id": 32798601, "question_id": 31711926, "link": "https://stackoverflow.com/questions/31711926/nested-template-classes-with-pointer-to-method-not-compiled-in-clang/32798601#32798601", "title": "Nested template classes with pointer-to-method not compiled in clang++", "body": "<p>You can move the implementation of method  in the class definition :</p>\n\n<pre><code>template &lt;class T&gt; class MyClass\n{\n    template &lt;void (MyClass::*M)() const&gt; struct wrapper\n    {\n        virtual void call(){/* move implementation here */};\n    };\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 417, "user_id": 6154465, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QH6aSFzvxxc/AAAAAAAAAAI/AAAAAAAAAn8/4ZmFspG9pxA/photo.jpg?sz=128", "display_name": "Uri Brecher", "link": "https://stackoverflow.com/users/6154465/uri-brecher"}, "is_accepted": false, "score": 1, "last_activity_date": 1461916782, "creation_date": 1461916782, "answer_id": 36932803, "question_id": 31711926, "link": "https://stackoverflow.com/questions/31711926/nested-template-classes-with-pointer-to-method-not-compiled-in-clang/36932803#36932803", "title": "Nested template classes with pointer-to-method not compiled in clang++", "body": "<p>Possible workaround: consider using std::function instead of wrapper. It is not exactly the same (less constraint on which function pointers are acceptable) but it will compile on clang++ and simplify your code.</p>\n\n<pre><code>#include &lt;functional&gt;\n\ntemplate &lt;class T&gt; class MyClass\n{\n    typedef std::function&lt;void(void) const &gt; wrapper;\n};\n</code></pre>\n"}], "owner": {"reputation": 662, "user_id": 1329132, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cc79a0813d7c47f9aeaa879903689d1a?s=128&d=identicon&r=PG", "display_name": "dyomas", "link": "https://stackoverflow.com/users/1329132/dyomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 4, "answer_count": 2, "score": 23, "last_activity_date": 1461916782, "creation_date": 1438207114, "last_edit_date": 1441880351, "question_id": 31711926, "link": "https://stackoverflow.com/questions/31711926/nested-template-classes-with-pointer-to-method-not-compiled-in-clang", "title": "Nested template classes with pointer-to-method not compiled in clang++", "body": "<p><a href=\"http://sscce.org/\">SSCCE</a> of my problem is:</p>\n\n<pre><code>template &lt;class T&gt; class MyClass\n{\n  template &lt;void (MyClass::*M)() const&gt; struct wrapper\n  {\n    virtual void call();\n  };\n};\n\ntemplate &lt;typename T&gt;\ntemplate &lt;void (MyClass&lt;T&gt;::*M)() const&gt;\nvoid MyClass&lt;T&gt;::wrapper&lt;M&gt;::call()\n{\n}\n</code></pre>\n\n<p>This code compiled in gcc but failed with error:</p>\n\n<pre><code>error: nested name specifier 'MyClass&lt;T&gt;::wrapper&lt;M&gt;::' for declaration does not refer into a class, class template or class template partial specialization\nvoid MyClass&lt;T&gt;::wrapper&lt;M&gt;::call()\n ~~~~~~~~~~~~~~~~~~~~~~~~~^\n</code></pre>\n\n<p>in clang++. <strong>Why?</strong></p>\n\n<p>In class <em>call</em> definition solves the problem, I know. Any non pointer-to-method templates works fine everywhere. Experiments with <em>template/typename</em> has no result.</p>\n"}, {"tags": ["c++", "char", "spaces"], "comments": [{"owner": {"reputation": 140, "user_id": 4804663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-gZxNaI1Kal8/AAAAAAAAAAI/AAAAAAAAAQ0/PQ0DlUrTHyQ/photo.jpg?sz=128", "display_name": "Jacob Oaks", "link": "https://stackoverflow.com/users/4804663/jacob-oaks"}, "reply_to_user": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438207153, "post_id": 31711876, "comment_id": 51361731, "body": "@Matthew Excactly so"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1438207168, "post_id": 31711876, "comment_id": 51361739, "body": "Maybe you need to tell the input stream to <a href=\"http://en.cppreference.com/w/cpp/io/manip/noskipws\" rel=\"nofollow noreferrer\">not skip spaces</a>."}, {"owner": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438207197, "post_id": 31711876, "comment_id": 51361752, "body": "Is your problem that you want spaces added to <code>nextChar</code> instead of being skipped over?"}, {"owner": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438207363, "post_id": 31711876, "comment_id": 51361836, "body": "Oh, so you want the outer while loop (the inProgram one) to end after it detects a space?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438207560, "post_id": 31711876, "comment_id": 51361915, "body": "I had to make minor changes to run in a demo environment, but I believe I&#39;ve proven that your &quot;space-detecting&quot; code works just fine: <a href=\"http://coliru.stacked-crooked.com/a/eeb3c05e639813e0\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/eeb3c05e639813e0</a> So can you present a <a href=\"http://stackoverflow.com/help/mcve\">verifiable testcase</a> please? Thanks."}, {"owner": {"reputation": 140, "user_id": 4804663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-gZxNaI1Kal8/AAAAAAAAAAI/AAAAAAAAAQ0/PQ0DlUrTHyQ/photo.jpg?sz=128", "display_name": "Jacob Oaks", "link": "https://stackoverflow.com/users/4804663/jacob-oaks"}, "reply_to_user": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438207611, "post_id": 31711876, "comment_id": 51361935, "body": "@Matthew no, I want the inner while loop to end after it detects a space, so that the program can then act based on what nextTerm is."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438207685, "post_id": 31711876, "comment_id": 51361964, "body": "Why don&#39;t you just do repeated formatted extraction into a <code>std::string</code>? That&#39;ll already pull out one whitespace-separated token (i.e. a word) at a time. No need for all these loops and <code>push_back</code>s, surely..."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 0, "last_activity_date": 1438209041, "creation_date": 1438209041, "answer_id": 31712278, "question_id": 31711876, "link": "https://stackoverflow.com/questions/31711876/c-get-chars-individually-including-spaces/31712278#31712278", "title": "c++ Get chars individually including spaces", "body": "<p>I can think of the following ways to resolve the problem.</p>\n\n<ol>\n<li><p>Clear <code>nextTerm</code> before the inner <code>while</code> loop.</p>\n\n<pre><code>char nextChar;\nstd::string nextTerm;\nbool inProgram = true;\nwhile (inProgram)\n{\n   // Clear the term before adding new characters to it.\n   nextTerm.clear();\n\n   std::cin.get(nextChar);              \n   while (nextChar != ' ')\n   {             \n      nextTerm.push_back(nextChar);             \n      std::cin.get(nextChar); \n   }\n   //Parse each term until program ends\n}\n</code></pre></li>\n<li><p>Move the definition of <code>nextTerm</code> inside the outer <code>while</code> loop.</p>\n\n<pre><code>char nextChar;\nbool inProgram = true;\nwhile (inProgram)\n{   \n   // A new variable in every iteration of the loop.\n   std::string nextTerm;\n\n   std::cin.get(nextChar);              \n   while (nextChar != ' ')\n   {             \n      nextTerm.push_back(nextChar);             \n      std::cin.get(nextChar); \n   }\n   //Parse each term until program ends\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 140, "user_id": 4804663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-gZxNaI1Kal8/AAAAAAAAAAI/AAAAAAAAAQ0/PQ0DlUrTHyQ/photo.jpg?sz=128", "display_name": "Jacob Oaks", "link": "https://stackoverflow.com/users/4804663/jacob-oaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 31712278, "answer_count": 1, "score": 0, "last_activity_date": 1438209041, "creation_date": 1438206907, "last_edit_date": 1438208058, "question_id": 31711876, "link": "https://stackoverflow.com/questions/31711876/c-get-chars-individually-including-spaces", "title": "c++ Get chars individually including spaces", "body": "<p>Say we have this code:</p>\n\n<pre><code>char nextChar;\nstd::string nextTerm;\nbool inProgram = true;\nwhile (inProgram)\n{   \n    std::cin.get(nextChar);              \n    while (nextChar != ' ')\n    {             \n        nextTerm.push_back(nextChar);             \n        std::cin.get(nextChar); \n    }\n    //Parse each term until program ends\n}\n</code></pre>\n\n<p>Basically my goal here is to get each char individually and add to to a string (nextTerm), until it comes across a space, then stop to parse the term. This seems to just skip over spaces and directly get characters from the following word when two words are inputted. This seems like it would be simple yet I can't figure it out. Help is appreciated.</p>\n\n<p>EDIT:\nIt ends up that get does not skip spaces, and that it was a problem later in my program that was causing them to merge. Thanks for all the comments and help.</p>\n"}, {"tags": ["android", "c++", "qt", "c++11"], "comments": [{"owner": {"reputation": 145, "user_id": 1633071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fab0100dda2b689334e02564b42cda3?s=128&d=identicon&r=PG", "display_name": "Tim Smit", "link": "https://stackoverflow.com/users/1633071/tim-smit"}, "edited": false, "score": 0, "creation_date": 1438234197, "post_id": 31711793, "comment_id": 51368963, "body": "Do you have the libc6-dev package installed?"}, {"owner": {"reputation": 62673, "user_id": 492336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/UjW5c.png?s=128&g=1", "display_name": "sashoalm", "link": "https://stackoverflow.com/users/492336/sashoalm"}, "edited": false, "score": 0, "creation_date": 1438239361, "post_id": 31711793, "comment_id": 51371247, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/7412548/error-gnu-stubs-32-h-no-such-file-or-directory-while-compiling-nachos-source\">Error &quot;gnu/stubs-32.h: No such file or directory&quot; while compiling Nachos source code</a>"}, {"owner": {"reputation": 1, "user_id": 4929957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2eda28d93b44eae8491e4557b23058?s=128&d=identicon&r=PG&f=1", "display_name": "hack_off", "link": "https://stackoverflow.com/users/4929957/hack-off"}, "reply_to_user": {"reputation": 62673, "user_id": 492336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/UjW5c.png?s=128&g=1", "display_name": "sashoalm", "link": "https://stackoverflow.com/users/492336/sashoalm"}, "edited": false, "score": 0, "creation_date": 1438247499, "post_id": 31711793, "comment_id": 51376006, "body": "@sashoalm Nothing over there helped me with the problem. Like already stated on the question, the error is not &quot;gnu/stubs-32.h&quot; ubt &quot;gnu/stubs.h&quot; and I certainly am not trying to install any nachos or anything else. I&#39;m just trying to compile (build ) an android application on Qt5.4."}, {"owner": {"reputation": 1, "user_id": 4929957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2eda28d93b44eae8491e4557b23058?s=128&d=identicon&r=PG&f=1", "display_name": "hack_off", "link": "https://stackoverflow.com/users/4929957/hack-off"}, "reply_to_user": {"reputation": 145, "user_id": 1633071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fab0100dda2b689334e02564b42cda3?s=128&d=identicon&r=PG", "display_name": "Tim Smit", "link": "https://stackoverflow.com/users/1633071/tim-smit"}, "edited": false, "score": 0, "creation_date": 1438248659, "post_id": 31711793, "comment_id": 51376793, "body": "@TimSmit Thanks for the comment. I installed it but it didn&#39;t help that much."}, {"owner": {"reputation": 145, "user_id": 1633071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fab0100dda2b689334e02564b42cda3?s=128&d=identicon&r=PG", "display_name": "Tim Smit", "link": "https://stackoverflow.com/users/1633071/tim-smit"}, "edited": false, "score": 0, "creation_date": 1438779952, "post_id": 31711793, "comment_id": 51588681, "body": "If the problem persists and you have a multi-arch system, try adding &quot;LIBS+= -L/usr/lib64&quot; to your project file or maybe build a 32-bits executable to see if the problem is solved then (CONFIG += m32)"}], "owner": {"reputation": 1, "user_id": 4929957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2eda28d93b44eae8491e4557b23058?s=128&d=identicon&r=PG&f=1", "display_name": "hack_off", "link": "https://stackoverflow.com/users/4929957/hack-off"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438248502, "creation_date": 1438206532, "last_edit_date": 1438248502, "question_id": 31711793, "link": "https://stackoverflow.com/questions/31711793/im-trying-to-build-an-android-app-in-qt5-4-error-include-gnu-stubs-h-no", "title": "I&#39;m trying to build an android app in Qt5.4. Error: #include &lt;gnu/stubs.h&gt; -- no such file or directory. (Not stubs-32.h!))", "body": "<p>Here's my (mess of a) .pro file. I thought the problem may be here.</p>\n\n<pre><code>    TEMPLATE = app\n\nQT += qml quick\n\nSOURCES += main.cpp \\\nmysteamclass.cpp\n\nRESOURCES += qml.qrc\n\n# Additional import path used to resolve QML modules in Qt Creator's code model\nQML_IMPORT_PATH =\n\n# Default rules for deployment.\ninclude(deployment.pri)\n\nDISTFILES +=\n\nHEADERS += \\\nmysteamclass.h\n#--------------------------------ME= C++11 AND    LIBRARIES-----------------#\n\nCONFIG+=c++11\n\n\nINCLUDEPATH += /usr/local/include\nINCLUDEPATH += /usr/local/freesteam\n\nDEPENDPATH += /usr/local/include\n\n\n LIBS += -L/usr/local/include/\n\n# LIBS += -L/usr/local/include -lgsl\n\n# LIBS += -L/usr/local/include -libfreesteam\n LIBS += -L/usr/local/include -lgslcblas\n\nLIBS+= -L/usr/lib/freesteam\n\n\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../usr/lib/release/ -lfreesteam\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../usr/lib/debug/ -lfreesteam\nelse:unix: LIBS += -L$$PWD/../../../../usr/lib/ -lfreesteam\n\nINCLUDEPATH += $$PWD/../../../../usr/include\nDEPENDPATH += $$PWD/../../../../usr/include\n</code></pre>\n\n<p>Here's some code that's close to the #include, after following the error link on QtCreator.</p>\n\n<pre><code>    /* This is here only because every header file already includes this one.\n   Get the definitions of all the appropriate `__stub_FUNCTION' symbols.\n   &lt;gnu/stubs.h&gt; contains `#define __stub_FUNCTION' when FUNCTION is a stub\n   that will always return failure (and set errno to ENOSYS).  */\n#include &lt;gnu/stubs.h&gt;\n\n\n#endif  /* features.h  */\n</code></pre>\n\n<p>Any thoughts on how (if) I could resolve this?</p>\n\n<p>EDIT: Forgot to add that I'm using Linux Mint 17.2 x64.</p>\n\n<p>Edit to explain why this is NOT a duplicate of the linked question (like already stated in the title of this question).</p>\n\n<p>The most upvoted answer there gives instructions on how to install something called \"libc6-dev-i386\". Well, my problem is that I don't get the error \"gnu/stubs-32.h\" is missing but <strong>\"gnu/stubs.h\"</strong>. I'm assuming that my problem is something else since I'm not doing anything with 32 bits here nor am I trying to install nachos (whatever that might be).</p>\n\n<p>The second most upvoted answer suggests basically the same thing. Install a 32 bit version of glibc. Again, I don't have any problems with a 32bit version thing. \nThe next option on this answer is  disable multilib by giving \"--disable-\" multilib\" to the compiler configuration. But I can't do this. I don't know how/where to add compiler configurations for Qt.</p>\n\n<p>Another answer says I should install \"libc6-dev\". I did, it didn't help.</p>\n\n<p>I also tried installing the multilib, as suggested by one of the answrs, since I'm using a x64 machine. Again zilch. :-)</p>\n"}, {"tags": ["c++", "datetime", "c++11", "chrono"], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438208570, "post_id": 31711833, "comment_id": 51362308, "body": "<code>auto ymd = jul&#47;29&#47;2015;</code> What is this monstrosity :("}, {"owner": {"reputation": 899, "user_id": 1315421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBXaL.jpg?s=128&g=1", "display_name": "Ville Voutilainen", "link": "https://stackoverflow.com/users/1315421/ville-voutilainen"}, "edited": false, "score": 0, "creation_date": 1438209310, "post_id": 31711833, "comment_id": 51362589, "body": "It&#39;s no monstrosity, it&#39;s an unambiguous date literal. If you want to be more ISO-8601-like, you can use 2015_y/7/29 instead.  Too bad 2015_y/09/29 will not work, whereas 2015_y/07/29 will. ;)"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438210058, "post_id": 31711833, "comment_id": 51362834, "body": "@LightnessRacesinOrbit:  I went with one of the three orderings used globally that I was comfortable with.  Please use whichever one you&#39;re comfortable with as Ville demonstrates. :-)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 899, "user_id": 1315421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBXaL.jpg?s=128&g=1", "display_name": "Ville Voutilainen", "link": "https://stackoverflow.com/users/1315421/ville-voutilainen"}, "edited": false, "score": 0, "creation_date": 1438250231, "post_id": 31711833, "comment_id": 51377929, "body": "@VilleVoutilainen: It&#39;s unambiguous in this form, yes, but I thought we&#39;d all agreed ages ago that m/d/y in any form is silly, dangerous and confusing in the general case. Even when you&#39;ve disambiguated one of the components! Let&#39;s stick with y/m/d or d/m/y or y-m-d eh ;p Not too familiar with these new date literals; they look error-prone at first glance."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438260094, "post_id": 31711833, "comment_id": 51384334, "body": "@LightnessRacesinOrbit:  Please see <a href=\"https://en.wikipedia.org/wiki/Date_format_by_country\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Date_format_by_country</a> for &quot;date endian&quot; that peoples of this planet use.  Also see <a href=\"http://howardhinnant.github.io/date_v2.html\" rel=\"nofollow noreferrer\">howardhinnant.github.io/date_v2.html</a> for explanations concerning the error-prone-ness of these date literals.  Specifically, this library is designed to catch these types of errors at compile time.  Additionally, <code>operator-()</code> is not used for this purpose, because it could introduce run-time errors too easily when coding date arithmetic.  <code>operator&#47;()</code> has the right precedence and syntax to avoid such errors."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1438260261, "post_id": 31711833, "comment_id": 51384444, "body": "Additionally, the <code>y&#47;m&#47;d</code> syntax is optional.  There is a traditional type-safe constructor syntax available if you wish to use it ... all described at <a href=\"http://howardhinnant.github.io/date_v2.html\" rel=\"nofollow noreferrer\">howardhinnant.github.io/date_v2.html</a> ."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438265161, "post_id": 31711833, "comment_id": 51388068, "body": "@HowardHinnant: Wow, yes, I am well aware of international differences in date notation, thank you. By &quot;we&quot; I was referring to all sensible programmers with whom I&#39;ve spoken on the matter in the past. :)"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438267101, "post_id": 31711833, "comment_id": 51389542, "body": "@LightnessRacesinOrbit:  Ok.  Please feel free to download date.h at <a href=\"https://github.com/HowardHinnant/date/blob/master/date.h\" rel=\"nofollow noreferrer\">github.com/HowardHinnant/date/blob/master/date.h</a> and run it through a conforming C++11 or C++14 compiler.  If you find any way to create a date that you believe error prone (i.e. a programmer mistake the compiler should catch at compile time, but doesn&#39;t), just let me know and I&#39;ll see what I can do about it."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438267934, "post_id": 31711833, "comment_id": 51390205, "body": "@HowardHinnant: Ehm I never claimed you could make a program with it that wouldn&#39;t do what you wrote. I even said &quot;it&#39;s unambiguous in this form, yes&quot;. I&#39;m talking about the human aspect here."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438268002, "post_id": 31711833, "comment_id": 51390268, "body": "Also I only just noticed that this is a library of yours rather than Boost or stdlib. Didn&#39;t mean to position my views as an attack."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1438268179, "post_id": 31711833, "comment_id": 51390396, "body": "Understood, no problem.  I&#39;m in the mode of collecting feedback and constructive criticism in order to make the lib more bullet proof.  So shoot some bullets at it.  It needs testing. :-)"}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 2, "last_activity_date": 1463853601, "last_edit_date": 1463853601, "creation_date": 1438206701, "answer_id": 31711833, "question_id": 31711782, "link": "https://stackoverflow.com/questions/31711782/how-do-i-convert-yyyy-mm-dd-hhmmss-to-stdchronosystem-clocktime-point/31711833#31711833", "title": "How do I convert YYYY/MM/DD HH:MM:SS to std::chrono::system_clock::time_point?", "body": "<p>Typically a <code>time_of_day</code> is just used for formatting a duration into <code>hh:mm:ss.fff</code> for output.  But it is possible to turn a <code>time_of_day</code> back into a <code>std::chrono::duration</code>:</p>\n\n<pre><code>auto tod = make_time(hours{17} + minutes{16} + seconds{45});  // time_of_day\nauto d = seconds(tod);                                        // seconds\n</code></pre>\n\n<p>In C++14 I would\u2019ve used the more concise:  <code>17h + 16min + 45s</code>, but as you mentioned you were in C++11, I\u2019ll stick to C++11 code.</p>\n\n<p>A <code>year_month_day</code> can be converted into a <code>sys_days</code> with:</p>\n\n<pre><code>auto ymd = jul/29/2015;\nauto dp = sys_days{ymd};\n</code></pre>\n\n<p>And a <code>sys_days</code> is nothing but a <code>system_clock::time_point</code> but with a resolution of <code>days</code> instead of <code>microseconds</code> or <code>nanoseconds</code>.</p>\n\n<p>Then you can add a <code>sys_days</code> and <code>duration</code> and assign that to a <code>system_clock::time_point</code>.  Putting it all together:</p>\n\n<pre><code>#include \"date.h\"\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n   using namespace date;\n   using namespace std::chrono;\n   auto ymd = jul/29/2015;\n   auto tod = make_time(hours{17} + minutes{16} + seconds{45});\n   system_clock::time_point tp =  sys_days(ymd) + seconds(tod);\n}\n</code></pre>\n\n<p>In this simplified example there is no need to go through <code>time_of_day</code>, and you could just stay with <code>duration</code>s:</p>\n\n<pre><code>#include \"date.h\"\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n   using namespace date;\n   using namespace std::chrono;\n   auto ymd = jul/29/2015;\n   system_clock::time_point tp = sys_days(ymd)\n                               + hours{17} + minutes{16} + seconds{45};\n}\n</code></pre>\n\n<p>The main thing to remember is that <code>sys_days</code> is just a coarse <code>system_clock::time_point</code>, and when you convert to that from a <code>year_month_day</code>, then you are completely in the <code>std::chrono</code> system and can do anything you want with <code>time_point</code>s and <code>duration</code>s from there.</p>\n"}], "owner": {"reputation": 26039, "user_id": 245265, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/416db680915c487cfe3349aeb498ce44?s=128&d=identicon&r=PG", "display_name": "Emile Cormier", "link": "https://stackoverflow.com/users/245265/emile-cormier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1302, "favorite_count": 1, "accepted_answer_id": 31711833, "answer_count": 1, "score": 1, "last_activity_date": 1463853601, "creation_date": 1438206491, "last_edit_date": 1495541767, "question_id": 31711782, "link": "https://stackoverflow.com/questions/31711782/how-do-i-convert-yyyy-mm-dd-hhmmss-to-stdchronosystem-clocktime-point", "title": "How do I convert YYYY/MM/DD HH:MM:SS to std::chrono::system_clock::time_point?", "body": "<p>I'm obtaining YYYY/MM/DD HH:MM:SS components from an offboard real time clock chip. I want to convert this to a <code>std::chrono::system_clock::timepoint</code> so that I may obtain the seconds since the Epoch and update the operating system's time.</p>\n\n<p>I would like to use <a href=\"https://stackoverflow.com/users/576911/howard-hinnant\">Howard Hinnant</a>'s proposed <a href=\"http://howardhinnant.github.io/date_v2.html\" rel=\"nofollow noreferrer\">date</a> library to perform this conversion.</p>\n\n<p>I would intuitively do something like this:</p>\n\n<pre><code>date::year_month_day ymd = ...;\ndate::time_of_day tod = ...;\nauto sysTime = date + tod;\n</code></pre>\n\n<p>but I don't see an appropriate <code>operator+</code> overload for this. Am I missing something?</p>\n\n<p>Another use case for this type of conversion is to convert a calendar date and time into a <code>std::chrono::timepoint</code> that I can pass to <a href=\"http://www.boost.org/doc/libs/release/doc/html/boost_asio/reference/steady_timer.html\" rel=\"nofollow noreferrer\">boost::asio::steady_timer</a>.</p>\n"}, {"tags": ["c++", "visual-c++", "project", "visual-studio-2015", "projects-and-solutions"], "answers": [{"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1438248927, "post_id": 31711890, "comment_id": 51376975, "body": "If you keep your Boost installations in numbered directories (e.g. <code>C:\\Boost\\boost_1_55_0</code>) and reference this via a <code>Boost.props</code> file in your project directories, then updating Boost just creates a second directory, and using the upgraded Boost version is a one-line change to the .props file which triggers the necessary rebuild of projects (i.e. only those that actually reference your boost.vsprops)"}, {"owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1438255550, "post_id": 31711890, "comment_id": 51381282, "body": "Nice suggestion. I really like the use of <code>.props</code> files for solutions with many projects"}], "tags": [], "owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "is_accepted": true, "score": 4, "last_activity_date": 1438206964, "creation_date": 1438206964, "answer_id": 31711890, "question_id": 31711760, "link": "https://stackoverflow.com/questions/31711760/what-does-the-vc-exclude-directories-project-setting-actually-do/31711890#31711890", "title": "What does the VC++ &quot;Exclude Directories&quot; project setting actually do?", "body": "<p>The general idea is that every time you hit 'Build' the IDE (or msbuild more specifically) has to check all the dependencies to see which cpp files need to be rebuilt.  If you have a large project and many headers (boost being a good example) then this may have to check for thousands of headers (because each header also needs to have its dependencies checked).  </p>\n\n<p>If you have a third party library such as boost which is only updated very rarely then you can add the path to the Exclude box so that the dependency checker won't bother checking any of those libraries.  <strong>However</strong>, if you <em>do</em> update the library at some point, or make a small change to it then you will have to manually rebuild all projects that relied on it, because you have told the build system not to do it for you.</p>\n\n<p>In practice I've never found it to be a problem, even with a few MLOC project and a boost installation, especially if you're building with an SSD.  If you're on older hardware then it may be worth using, but I think it may cause problems when you inevitably forget to rebuild dependent projects.</p>\n"}], "owner": {"reputation": 8205, "user_id": 3549027, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/38f34cee694143aefa67355314e5ec59?s=128&d=identicon&r=PG&f=1", "display_name": "dlf", "link": "https://stackoverflow.com/users/3549027/dlf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 31711890, "answer_count": 1, "score": 2, "last_activity_date": 1438206964, "creation_date": 1438206363, "question_id": 31711760, "link": "https://stackoverflow.com/questions/31711760/what-does-the-vc-exclude-directories-project-setting-actually-do", "title": "What does the VC++ &quot;Exclude Directories&quot; project setting actually do?", "body": "<p>I am attempting to use the new VS2015 <a href=\"https://visualstudiogallery.msdn.microsoft.com/e6ca02bb-1c89-4ccc-bada-fb772cf122bd\" rel=\"nofollow\">precompiled header refactoring tool</a>. When I launch it, it pops up a message saying:</p>\n\n<blockquote>\n  <p>To improve recommendations, add third party library paths to the\n  'Exclude Directories' property under VC++ Directories (in the Project\n  Properties dialog).</p>\n</blockquote>\n\n<p>I'm not clear on precisely what a directory is being excluded from if I list it here. All the <a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(VC.Project.VCDirectories.ExecutablePath)&amp;rd=true\" rel=\"nofollow\">MSDN help text</a> has to say about it is:</p>\n\n<blockquote>\n  <p>Directories not to search when checking for build dependencies</p>\n</blockquote>\n\n<p>That helps a little, but I'm still not completely sure about what functionality I will gain/lose if I list something here. Something like, say, boost (which the message from the pch tool seems to be suggesting). Can anyone say exactly what this setting does?</p>\n"}, {"tags": ["c++", "function", "pointers"], "comments": [{"owner": {"reputation": 642, "user_id": 3518938, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/18bbfc561cc09a5fc884c6e65c64c8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Simian", "link": "https://stackoverflow.com/users/3518938/simian"}, "edited": false, "score": 1, "creation_date": 1438206083, "post_id": 31711652, "comment_id": 51361257, "body": "Pass them in by reference"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1438210486, "post_id": 31711652, "comment_id": 51362951, "body": "You seem to misunderstand how pointers work; if you do <code>home = something;</code> inside <code>getImages</code> it won&#39;t change <code>home</code> in <code>main</code>, same as it wouldn&#39;t if the parameters weren&#39;t pointers."}], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "edited": false, "score": 0, "creation_date": 1438207916, "post_id": 31711675, "comment_id": 51362060, "body": "I hadn&#39;t thought to use both symbols together like that. Thank you."}, {"owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "reply_to_user": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "edited": false, "score": 0, "creation_date": 1438261275, "post_id": 31711675, "comment_id": 51385122, "body": "@LucaDelSignore If the problem is solved, you should mark the appropriate answer as accepted."}, {"owner": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "edited": false, "score": 0, "creation_date": 1438269453, "post_id": 31711675, "comment_id": 51391311, "body": "Actually, the problem persists. Inside the function the pointers have their correct hexadecimal values, while outside they remain 0. I don&#39;t know what the problem could be."}, {"owner": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "edited": false, "score": 0, "creation_date": 1438272304, "post_id": 31711675, "comment_id": 51393300, "body": "It seems like you are right. I found other people saying similar things about passing references to pointers. I think maybe something else may be causing the problem but I can&#39;t figure out what."}], "tags": [], "owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "is_accepted": false, "score": 2, "last_activity_date": 1438206091, "creation_date": 1438206091, "answer_id": 31711675, "question_id": 31711652, "link": "https://stackoverflow.com/questions/31711652/passing-pointer-to-function-only-changes-value-in-function-scope/31711675#31711675", "title": "Passing Pointer to Function Only Changes Value in Function Scope", "body": "<p>You must pass the pointers by reference:</p>\n\n<pre><code>void getImages(IplImage *&amp;home, IplImage *&amp;start);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "edited": false, "score": 0, "creation_date": 1438269666, "post_id": 31712069, "comment_id": 51391433, "body": "But I don&#39;t think that is legal syntax. The * symbol must be used to indicate that a parameter is a pointer to an IplImage object and not the object itself. Still, I tested this, and it resulted in the expected compilation error."}], "tags": [], "owner": {"reputation": 97, "user_id": 5013117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N-26cBAAxdg/AAAAAAAAAAI/AAAAAAAAAMM/tdaKC_O48Uw/photo.jpg?sz=128", "display_name": "Richard Vu", "link": "https://stackoverflow.com/users/5013117/richard-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1438207882, "creation_date": 1438207882, "answer_id": 31712069, "question_id": 31711652, "link": "https://stackoverflow.com/questions/31711652/passing-pointer-to-function-only-changes-value-in-function-scope/31712069#31712069", "title": "Passing Pointer to Function Only Changes Value in Function Scope", "body": "<p>Pointers are variables that hold addresses. If you pass in pointers to <code>getImages</code> then you should dereference those pointers to access the actual object. However since you've set your <code>home</code> and <code>start</code> pointers to 0, no memory was allocated to the <code>IplImage</code> object and therefore it doesnt exist. As a result, derefencing non-allocated memory will cause your compiler to complain.</p>\n\n<p>You should pass in by reference:</p>\n\n<pre><code>void getImages(IplImage &amp;home, IplImage &amp;start)\n{\n    // do something with home\n    // do something with start\n}\n\nint main(int argc, char **argv)\n{\n    IplImage home;\n    IplImage start;\n\n    getImages(home,start);\n}\n</code></pre>\n\n<p>Note above that <code>IplImage</code> is allocated memory on the stack since references can't be null, unlike pointers, references need memory allocated prior to use.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 467, "user_id": 4789356, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bzHKV.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4789356/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438207882, "creation_date": 1438205986, "question_id": 31711652, "link": "https://stackoverflow.com/questions/31711652/passing-pointer-to-function-only-changes-value-in-function-scope", "title": "Passing Pointer to Function Only Changes Value in Function Scope", "body": "<p>It seems I am doing something wrong in passing these pointers as arguements to my getImages function. Testing my code showed that in the function getImages, my pointers home and start were able to take on appropriate values. But testing them again back in main scope their values were both 0. I have included the relevant code snippets below. Please tell me how I can correctly pass these arguments. Thank you.    </p>\n\n<pre><code>void getImages(IplImage *home, IplImage *start);\n\nint main(int argc, char **argv)\n{\n    IplImage *home = 0;\n    IplImage *start = 0;\n\n    getImages(home,start);\n</code></pre>\n"}, {"tags": ["c++", "arrays", "pointers", "dynamic-memory-allocation"], "comments": [{"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 1, "creation_date": 1438206071, "post_id": 31711595, "comment_id": 51361250, "body": "<code>arrayOfStudentPtr[i + 1]</code> in <code>sortArray</code> will access element outside array bounds,"}, {"owner": {"reputation": 35, "user_id": 4726575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78478141cda9934da3b86d47dc94286?s=128&d=identicon&r=PG&f=1", "display_name": "michcoth", "link": "https://stackoverflow.com/users/4726575/michcoth"}, "reply_to_user": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1438207742, "post_id": 31711595, "comment_id": 51361984, "body": "Great, thank you so much for the answer! I can take it from here."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1438208915, "post_id": 31711595, "comment_id": 51362441, "body": "This is very bad style. Pointers and <code>new</code> should be avoided.  Are you forced to code this way by your class?"}, {"owner": {"reputation": 35, "user_id": 4726575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78478141cda9934da3b86d47dc94286?s=128&d=identicon&r=PG&f=1", "display_name": "michcoth", "link": "https://stackoverflow.com/users/4726575/michcoth"}, "edited": false, "score": 0, "creation_date": 1438224752, "post_id": 31711595, "comment_id": 51366375, "body": "Only for this assignment. The book Starting Out With C++ Early Objects has a whole section in the pointers chapter about using dynamic memory allocation for an array so that we can let the user specify how large of an array to create. It was explained that it is one way to allow the user to enter as many things as they want. It did not delve into any other options nor did my instructor."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4726575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78478141cda9934da3b86d47dc94286?s=128&d=identicon&r=PG&f=1", "display_name": "michcoth", "link": "https://stackoverflow.com/users/4726575/michcoth"}, "edited": false, "score": 0, "creation_date": 1438208344, "post_id": 31712074, "comment_id": 51362227, "body": "Thank, I had just finished compiling just this when I came back here to say that Marcinj&#39;s suggestion helped me figure this out. I can&#39;t believe it all this time re-reading the chapter, and thinking I had pointers all wrong :-( Lesson learned I guess!"}], "tags": [], "owner": {"reputation": 167, "user_id": 5032146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a49c71710697f57160060e3e203bb29?s=128&d=identicon&r=PG&f=1", "display_name": "Satish Chalasani", "link": "https://stackoverflow.com/users/5032146/satish-chalasani"}, "is_accepted": true, "score": 0, "last_activity_date": 1438207924, "creation_date": 1438207924, "answer_id": 31712074, "question_id": 31711595, "link": "https://stackoverflow.com/questions/31711595/memory-allocation-issues-passing-returning-a-struct-array/31712074#31712074", "title": "Memory Allocation Issues Passing/Returning a Struct *Array", "body": "<p>The following code will work.    </p>\n\n<pre><code>void sortArray(Student* arrayOfStudentPtr, int numberOfStudents)\n    {\n        Student Temp;   //holds a student struct object\n        bool swap;      //swap is initialized to false at the start of each loop. If it is still false at end of loop we know there is nothing else to sort\n        do\n        {\n            swap = false;\n            for (int i = 0; i &lt; numberOfStudents-1; i++)\n            {\n                if (arrayOfStudentPtr[i].score &gt; arrayOfStudentPtr[i + 1].score)\n                {\n                    Temp = arrayOfStudentPtr[i];\n                    arrayOfStudentPtr[i] = arrayOfStudentPtr[i + 1];\n                    arrayOfStudentPtr[i + 1] = Temp;\n                    swap = true;\n                }\n            }\n        } while (swap);\n    }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4726575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78478141cda9934da3b86d47dc94286?s=128&d=identicon&r=PG&f=1", "display_name": "michcoth", "link": "https://stackoverflow.com/users/4726575/michcoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 31712074, "answer_count": 1, "score": 0, "last_activity_date": 1438207924, "creation_date": 1438205763, "question_id": 31711595, "link": "https://stackoverflow.com/questions/31711595/memory-allocation-issues-passing-returning-a-struct-array", "title": "Memory Allocation Issues Passing/Returning a Struct *Array", "body": "<p>Please help me with my homework. I've got this program working just fine in debug mode, but as soon I use release mode it crashes with an abort().</p>\n\n<p>I know it probably has something to do with memory allocation, but I don't understand pointers well enough.</p>\n\n<p>Requirement is that I have to use an *array to dynamically allocate memory. </p>\n\n<blockquote>\n  <p>\"Your program should work for any number of students. When the program\n  starts, it should ask the user for the number of students to be\n  processed. Then it should dynamically allocate an array of that size\n  (array of student/score structures).\"</p>\n</blockquote>\n\n<p>I then need to, \"Call a function to input the student name/score pairs and store them in the array.\"</p>\n\n<p>So should I create the array in main or inside of the function? How can I return/pass the *array without messing up memory allocation?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstruct Student\n{\n    string name;    //student's name\n    int score;      //student's score\n};\n\n//function prototypes\nvoid inputNameScore(Student*, int&amp;);\nvoid sortArray(Student* , int);\ndouble avgScore(Student* , int);\nvoid displayTable(Student* , int, double);\n\nint main()\n{   \n    Student* arrayOfStudentPtr;     //pointer of type student to receive returned array pointer\n    int numberOfStudents;           //number of students to be entered by user\n    double average;                 //total score average   \n\n    cout &lt;&lt; \"Please enter the number of students: \";\n    cin &gt;&gt; numberOfStudents;\n\n    arrayOfStudentPtr = new Student[numberOfStudents];  //dynamic array of type Student assigned to pointer\n\n    inputNameScore(arrayOfStudentPtr, numberOfStudents);\n    sortArray(arrayOfStudentPtr, numberOfStudents);\n    average = avgScore(arrayOfStudentPtr, numberOfStudents);\n\n    displayTable(arrayOfStudentPtr, numberOfStudents, average);    \n\n    return 0;\n}\n\nvoid inputNameScore(Student* arrayOfStudentPtr, int&amp; numberOfStudents)\n{   \n    for (int i = 0; i &lt; numberOfStudents; i++)\n    {\n        cout &lt;&lt; endl &lt;&lt; \"Enter the name for student \" &lt;&lt; i + 1 &lt;&lt; \": \";\n        cin.ignore();\n        getline(cin, arrayOfStudentPtr[i].name);\n        cout &lt;&lt; endl &lt;&lt; \"Enter the student's score: \";      \n        cin &gt;&gt; arrayOfStudentPtr[i].score;\n        while (arrayOfStudentPtr[i].score &gt; 105 || arrayOfStudentPtr[i].score &lt; 0)\n        {\n            cout &lt;&lt; \"Student's score can't be negative or greater than 105.\" &lt;&lt; endl;\n            cout &lt;&lt; endl &lt;&lt; \"Enter the student's score: \";\n            cin &gt;&gt; arrayOfStudentPtr[i].score;\n        }\n    }\n}\n\nvoid sortArray(Student* arrayOfStudentPtr, int numberOfStudents)\n{\n    Student Temp;   //holds a student struct object\n    bool swap;      //swap is initialized to false at the start of each loop. If it is still false at end of loop we know there is nothing else to sort\n    do\n    {\n        swap = false;\n        for (int i = 0; i &lt; numberOfStudents; i++)\n        {\n            if (arrayOfStudentPtr[i].score &gt; arrayOfStudentPtr[i + 1].score)\n            {\n                Temp = arrayOfStudentPtr[i];\n                arrayOfStudentPtr[i] = arrayOfStudentPtr[i + 1];\n                arrayOfStudentPtr[i + 1] = Temp;\n                swap = true;\n            }\n        }\n    } while (swap);\n}\n\ndouble avgScore(Student* arrayOfStudentPtr, int numberOfStudents)\n{\n    int total;      //total of all grades\n    double average; //average of all grades\n    total = 0;\n\n    for (int i = 0; i &lt; numberOfStudents; i++)\n    {\n        total = arrayOfStudentPtr[i].score;\n    }\n    average = total / numberOfStudents;\n    //average = static_cast&lt;double&gt;(total) / numberOfStudents;\n    return average;\n}\n\nvoid displayTable(Student* arrayOfStudentPtr, int numberOfStudents, double average)\n{   \n    cout &lt;&lt; endl &lt;&lt; setw(31) &lt;&lt; left &lt;&lt; \"Name\" &lt;&lt; setw(6) &lt;&lt; right &lt;&lt; \"Score\" &lt;&lt; endl;\n    cout &lt;&lt; \"-------------------------------------\" &lt;&lt; endl;\n    for (int i = 0; i &lt; numberOfStudents; i++)\n    {\n        cout &lt;&lt; setw(31) &lt;&lt; left &lt;&lt; arrayOfStudentPtr[i].name &lt;&lt; setw(6) &lt;&lt; right &lt;&lt; arrayOfStudentPtr[i].score &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"-------------------------------------\" &lt;&lt; endl;\n    cout &lt;&lt; setw(31) &lt;&lt; left &lt;&lt; \"Average: \" &lt;&lt; setw(6) &lt;&lt; right &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "virtual"], "comments": [{"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1438206090, "post_id": 31711554, "comment_id": 51361261, "body": "Interesting. It would seem to be getting the argument value from the declared class type and then calling the function of the runtime class type. I&#39;m sure some more skilled C++ junkie than I can come along and explain why that&#39;s the case."}, {"owner": {"reputation": 777, "user_id": 4416304, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/CNOO5.jpg?s=128&g=1", "display_name": "XDProgrammer", "link": "https://stackoverflow.com/users/4416304/xdprogrammer"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1438206400, "post_id": 31711554, "comment_id": 51361392, "body": "@SilvioMayolo yes, it definitelly gets the argument from the base class. But I am really puzzled why, as well as the private method being called directly outside the class.."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1438206804, "post_id": 31711554, "comment_id": 51361588, "body": "Closing - the questions aren&#39;t really the same, but the accepted answer to the other question covers this very well."}, {"owner": {"reputation": 777, "user_id": 4416304, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/CNOO5.jpg?s=128&g=1", "display_name": "XDProgrammer", "link": "https://stackoverflow.com/users/4416304/xdprogrammer"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1438207064, "post_id": 31711554, "comment_id": 51361693, "body": "@aschepler Hi, I can see similarities but how bout the private in class C?"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1438207542, "post_id": 31711554, "comment_id": 51361904, "body": "Private functions can still override, and get called via a base class reference or pointer."}], "owner": {"reputation": 777, "user_id": 4416304, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/CNOO5.jpg?s=128&g=1", "display_name": "XDProgrammer", "link": "https://stackoverflow.com/users/4416304/xdprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 1, "closed_date": 1438206811, "answer_count": 0, "score": 0, "last_activity_date": 1438205647, "creation_date": 1438205647, "question_id": 31711554, "link": "https://stackoverflow.com/questions/31711554/understanding-virtual-functions", "closed_reason": "Duplicate", "title": "Understanding Virtual functions", "body": "<p>This is the part of C++ that things looks confusing to me. \nConsider this basic of example of inheritance and polymorphism. Each class below has virtual functions  and called in the main function, but the output puzzles me a bit. </p>\n\n<p>First, I understand that <code>A&amp; r1 = b</code>is a reference to the B object that was created before, and it should call the test function in B because both are virtual. From what I've learned the most-derived/latest function will be called. \nYes, it calls the lastest function but what I am concerned is the argument, in the output says <code>10</code>, but the default argument in test function in class B is <code>50</code>. Same goes for <code>A&amp; r2 = c</code> , the test function in C has no default argument but gets the argument in test function from class B instead. </p>\n\n<p>Also the test function in C are private, Isn't that if private you can only call them inside the class? </p>\n\n<p>I highly appreciate it if someone could enlighten me in this part. Thank you</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass A {\n  public:\n\n    virtual void test(int n = 10) \n    { \n       cout &lt;&lt; \"class A test(\" &lt;&lt; n &lt;&lt; \")\" &lt;&lt; endl; \n    }\n};\n\nclass B: public A {\n  public:\n    virtual void test(int n = 50)\n     { \n       cout &lt;&lt; \"class B test(\" &lt;&lt; n &lt;&lt; \")\" &lt;&lt; endl; \n     }\n};\n\nclass C: public B {\n\n  public:\n    //no public\n\n  private:\n    virtual void test() \n    { \n      cout &lt;&lt; \"class C test()\" &lt;&lt; endl;\n    }\n\n    virtual void test(int n) \n    { \n      cout &lt;&lt; \"class C test(\" &lt;&lt; n &lt;&lt; \")\" &lt;&lt; endl; \n     }\n};\n\nint main () {\n    A a;\n    B b;\n    C c;\n\n    A&amp; r1 = b;\n    A&amp; r2 = c;\n    B&amp; r3 = c;\n\n    r1.test();\n    r2.test();\n    r3.test();\n}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>class B test(10)\nclass C test(10)\nclass C test(50)\n</code></pre>\n"}, {"tags": ["c++", "pointers", "constructor"], "comments": [{"owner": {"reputation": 3667, "user_id": 3288910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2b8044eca80b9a707c716c530d9f5?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/3288910/jason"}, "edited": false, "score": 2, "creation_date": 1438210694, "post_id": 31711523, "comment_id": 51363016, "body": "Can you clarify your question?  I think what you&#39;re asking is what copy constructors are used for."}, {"owner": {"reputation": 889, "user_id": 1879192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f9ed64051a86b03fe99f82805ac6d5?s=128&d=identicon&r=PG", "display_name": "Thierry", "link": "https://stackoverflow.com/users/1879192/thierry"}, "edited": false, "score": 0, "creation_date": 1438275110, "post_id": 31711523, "comment_id": 51394949, "body": "When you say &quot;There are three reasons&quot;, which three reasons are you referring to? Could you link to the source of that claim, or list the other two reasons?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1438276887, "post_id": 31711523, "comment_id": 51396042, "body": "&quot;Am I correct?&quot; No. This is not what this all is about. The story is about pointers that are allocated by the class itself on the free store, not pointers to caller&#39;s local variables (you should avoid those altogether)."}], "answers": [{"tags": [], "owner": {"reputation": 1948, "user_id": 32794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3943834288b44f6396934fb34ee674e3?s=128&d=identicon&r=PG", "display_name": "Kurt", "link": "https://stackoverflow.com/users/32794/kurt"}, "is_accepted": false, "score": 0, "last_activity_date": 1438274724, "last_edit_date": 1438274724, "creation_date": 1438207125, "answer_id": 31711928, "question_id": 31711523, "link": "https://stackoverflow.com/questions/31711523/c-using-a-copy-constructor-when-returning-an-object-pointers/31711928#31711928", "title": "C++ - Using a copy constructor when returning an object-pointers?", "body": "<p>When you return by value, you're returning an object. If you return an object you must create an object. Therefore you must call a ctor.</p>\n\n<p>In your example, the <code>operator+</code> returns a new object therefore don't return <code>*this</code>. <code>operator+=</code> modifies the current object and in that case you can return <code>*this</code>.</p>\n"}], "owner": {"reputation": 315, "user_id": 5154086, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh5.googleusercontent.com/-750mh689fQg/AAAAAAAAAAI/AAAAAAAAAKA/YHDTNthQnzI/photo.jpg?sz=128", "display_name": "Hugo Perea", "link": "https://stackoverflow.com/users/5154086/hugo-perea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438274724, "creation_date": 1438205523, "question_id": 31711523, "link": "https://stackoverflow.com/questions/31711523/c-using-a-copy-constructor-when-returning-an-object-pointers", "title": "C++ - Using a copy constructor when returning an object-pointers?", "body": "<p>There are three reasons why you should use a copy constructor when your class has a pointer. One of those is when a function returns a value of the class type. I was wondering what that meant? My guess is.</p>\n\n<p>for instance...when we overload an operator we can return an object with a class constructor rite?</p>\n\n<p>height(feet, inches);//normal constructor...feet and inches representing two private members</p>\n\n<pre><code>const height operator+ (const height&amp; height1, const height&amp; height2)\n{\n     int finalFeet = height1.getFeet() + height2.getFeet();\n     int finalInches = height1.getInches() + height2.getInches();\n     return height(finalFeet, finalInches);\n}\n</code></pre>\n\n<p>So, I'm guessing that a copy constructor would be needed if the private members feet and inches were pointers. \n instead of the constructor  height(feet, inches); The copy constructor would be called like so, height(const height&amp; rightHead); Am I correct?</p>\n\n<p>Something I just realized is that if we return an object within its own class we can just say *this and if it were function outside the class we use a constructor to return the type.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "c++11", "visual-c++", "visual-studio-2015", "strongly-typed-enum"], "comments": [{"owner": {"reputation": 190, "user_id": 3915633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae0ade049c612d552647b084f49cadcf?s=128&d=identicon&r=PG&f=1", "display_name": "TheMasterMaind", "link": "https://stackoverflow.com/users/3915633/themastermaind"}, "edited": false, "score": 0, "creation_date": 1438317484, "post_id": 31711385, "comment_id": 51411001, "body": "Does no one knows an answer or have at least an idea?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1438693558, "post_id": 31711385, "comment_id": 51545584, "body": "It&#39;s a good idea to include the <code>c++</code> tag with your question; I think not having it has reduced the visibility of your question considerably."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1438694197, "post_id": 31711385, "comment_id": 51546043, "body": "As explained in the answer, I think this is a bug. Do you want to report it yourself, or should I do it?"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 3915633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae0ade049c612d552647b084f49cadcf?s=128&d=identicon&r=PG&f=1", "display_name": "TheMasterMaind", "link": "https://stackoverflow.com/users/3915633/themastermaind"}, "edited": false, "score": 0, "creation_date": 1439756522, "post_id": 31810145, "comment_id": 51979719, "body": "Ok that was the same i thought!  Thank You!"}], "tags": [], "owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "is_accepted": true, "score": 2, "last_activity_date": 1438693450, "creation_date": 1438693450, "answer_id": 31810145, "question_id": 31711385, "link": "https://stackoverflow.com/questions/31711385/usage-of-members-of-a-strongly-typed-enum-in-a-member-functions-default-argumen/31810145#31810145", "title": "Usage of members of a strongly typed enum in a member function&#39;s default arguments", "body": "<p>Your code is valid, and VC 14 is wrong to reject it.</p>\n\n<p>According to <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4527.pdf\" rel=\"nofollow\">N4527</a>, the current Standard working draft, [9.2p2]:</p>\n\n<blockquote>\n  <p>A class is considered a completely-defined object type (3.9) (or\n  complete type) at the closing <code>}</code> of the <em>class-specifier</em>. Within the\n  class <em>member-specification</em>, the class is regarded as complete within\n  function bodies, default arguments, <em>using-declarations</em> introducing\n  inheriting constructors (12.9), <em>exception-specifications</em>, and\n  <em>brace-or-equal-initializers</em> for non-static data members (including\n  such things in nested classes). Otherwise it is regarded as incomplete\n  within its own class <em>member-specification</em>.</p>\n</blockquote>\n\n<p>Within the default argument, finding <code>Bar::Baz</code> requires the full definition of <code>Bar</code>, which is available in the complete class, so everything's fine.</p>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 5081035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kkTWs3vI4Z8/AAAAAAAAAAI/AAAAAAAAADc/-Uqh_lQ1rOw/photo.jpg?sz=128", "display_name": "Bizkit", "link": "https://stackoverflow.com/users/5081035/bizkit"}, "is_accepted": false, "score": 0, "last_activity_date": 1438696272, "creation_date": 1438696272, "answer_id": 31811176, "question_id": 31711385, "link": "https://stackoverflow.com/questions/31711385/usage-of-members-of-a-strongly-typed-enum-in-a-member-functions-default-argumen/31811176#31811176", "title": "Usage of members of a strongly typed enum in a member function&#39;s default arguments", "body": "<p>Maybe a workaround for now is to move the complete definition of the <code>enum class</code> to be before the function call to <code>DoSmith()</code>.</p>\n"}], "owner": {"reputation": 190, "user_id": 3915633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae0ade049c612d552647b084f49cadcf?s=128&d=identicon&r=PG&f=1", "display_name": "TheMasterMaind", "link": "https://stackoverflow.com/users/3915633/themastermaind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31810145, "answer_count": 2, "score": 2, "last_activity_date": 1438696272, "creation_date": 1438204921, "last_edit_date": 1438693978, "question_id": 31711385, "link": "https://stackoverflow.com/questions/31711385/usage-of-members-of-a-strongly-typed-enum-in-a-member-functions-default-argumen", "title": "Usage of members of a strongly typed enum in a member function&#39;s default arguments", "body": "<p>I am using G++ mostly and nowadays Visual Studio 2015.\nI wanted to build my project with VC++2015 but I get error messages that saying invalid use of '::' in a function given default arguments with a forward declared strongly typed enum.</p>\n\n<p>Here is some code:</p>\n\n<pre><code>struct Foo\n{\n    //! Forward declaration of Bar\n    enum class Bar : short;\n\n    //! \"Faulty\" function with default argument\n    void DoSmth(Bar aBar = Bar::Baz)\n    {\n        // ... code ...\n    }\n\n    //! Complete declaration of Bar\n    enum class Bar : short\n    {\n        Baz\n    };\n};\n\nint main() { }\n</code></pre>\n\n<p>It gives me the following error at the declaration of the function DoSmth() with the default argument Bar::Baz:</p>\n\n<pre><code>test.cpp(7): error C2589: '::': illegal token on right side of '::'\ntest.cpp(7): error C2059: syntax error: '::'\ntest.cpp(17): fatal error C1903: unable to recover from previous error(s); stopping compilation\n</code></pre>\n\n<p>With G++ (tested with 4.9 and 5.1) the code compiles just fine but with VC++2015 it doesn't.</p>\n\n<p>Im fully aware that I have to declare something before usage but.\nIs it just because that VC++2015 does not look within the scope of the class for the complete declaration and definition of Bar but G++ does?\nOr maybe does G++ just take the complete declaration and \"merges\" it with the forward declaration (as they are in the same scope) and thus makes it completely available to the class?\nOr maybe I am just plain wrong and something complete different causes this?</p>\n\n<p>I can live with it that I have to change all my declarations for strongly typed enums in order to make it work with VC++2015.</p>\n\n<p>But I also want to know why this is?</p>\n"}, {"tags": ["c++", "qt5"], "answers": [{"comments": [{"owner": {"reputation": 714, "user_id": 2223161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X5bCb.jpg?s=128&g=1", "display_name": "Mogget", "link": "https://stackoverflow.com/users/2223161/mogget"}, "edited": false, "score": 0, "creation_date": 1438205369, "post_id": 31711447, "comment_id": 51360965, "body": "Thank you very much. I knew I was locked in the wrong mindset. Creating a private load function seems much better than what I was trying to do."}], "tags": [], "owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "is_accepted": true, "score": 2, "last_activity_date": 1438205197, "last_edit_date": 1495542612, "creation_date": 1438205197, "answer_id": 31711447, "question_id": 31711371, "link": "https://stackoverflow.com/questions/31711371/execute-second-constructor-with-first-constructor/31711447#31711447", "title": "Execute second constructor with first constructor", "body": "<p>In <code>C++11</code> you have <a href=\"https://stackoverflow.com/questions/13961037/delegate-constructor-c\">delegating constructors</a> that can be of help.</p>\n\n<p>If <code>C++11</code> isn't an option, refactor your code to have a private \"initialize\" function that does the heavy lifting and call it from each constructor.</p>\n\n<pre><code>class foo\n{\npublic:\n    foo(const QString fileName) { /* open QFile, call load() */ }\n    foo(QFile *fp) { load(fp); }\n    ...\nprivate:\n    void load(QFile* fp);\n};\n</code></pre>\n"}], "owner": {"reputation": 714, "user_id": 2223161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X5bCb.jpg?s=128&g=1", "display_name": "Mogget", "link": "https://stackoverflow.com/users/2223161/mogget"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 31711447, "answer_count": 1, "score": 0, "last_activity_date": 1438205197, "creation_date": 1438204880, "question_id": 31711371, "link": "https://stackoverflow.com/questions/31711371/execute-second-constructor-with-first-constructor", "title": "Execute second constructor with first constructor", "body": "<p>I have a class which will parse an XML file and return data based on content and what methods are used. I wish to be able to initiate the object using either a file name with path or a pointer to an already open file.</p>\n\n<p>If the pointer to an already opened file is given, then it runs the constructor and thats it. If the file name is passed, then that constructor will open the file, then pass the address to the opened file to the second constructor.</p>\n\n<pre><code>//foo.h\nclass foo\n{\n    public:\n        foo(const QString fileName);\n        foo(QFile *fp);\n        ...\n        ...\n}\n\n//foo.cpp\n\nclass foo::foo(const QString fileName)\n{\n    if(fileName.isEmpty()) {\n        // Return error.\n    } else {\n        // Open file and pass the address to the second constructor.\n        fp = new QFile(fileName);\n        fp-&gt;open(...);\n        foo::foo(fp);   // Execute second constructor.\n    }\n}\n\nclass foo::foo(QFile *fp)\n{\n    if(fp == NULL) {\n        // Return error.\n    } else {\n        // Do stuff with open file and further initiate the object.\n    }\n}\n</code></pre>\n\n<p>This was my first idea on how to do this, but I feel I am over complicating the issue. Is this an OK way of doing this, is it sane and is there a best practice for this type of situation?</p>\n"}, {"tags": ["c++", "visual-studio", "c++11", "constexpr"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1438205868, "post_id": 31711356, "comment_id": 51361174, "body": "The problem is not exactly what you say it is. Change <code>true ? nullptr : addr(...)</code> to <code>true ? (void *) 0 : addr(...)</code> and it gets accepted, even if it uses a lambda. (I understand that that prevents <code>add_one</code> from having the type you want it to have, and I am not suggesting this as a replacement.)"}, {"owner": {"reputation": 899, "user_id": 1315421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBXaL.jpg?s=128&g=1", "display_name": "Ville Voutilainen", "link": "https://stackoverflow.com/users/1315421/ville-voutilainen"}, "edited": false, "score": 0, "creation_date": 1438261144, "post_id": 31711356, "comment_id": 51385026, "body": "If you want to report bugs, try <a href=\"http://connect.microsoft.com/VisualStudio\" rel=\"nofollow noreferrer\">connect.microsoft.com/VisualStudio</a> (oh well, it says &quot;You are not authorized to submit the feedback for this connection.&quot; to me)"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1438265273, "post_id": 31714980, "comment_id": 51388140, "body": "So, you want a <code>constexpr</code> variable with the type <code>wrapper&lt;?&gt;</code>, where <code>?</code> is the type of a lambda that adds 1 to its <code>int</code> argument, but with no way (within defined behavior) to either create or run a lambda of that type?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1438339626, "post_id": 31714980, "comment_id": 51421966, "body": "@Yakk This is the Paul that wrote <a href=\"http://pfultz2.com/blog/2014/09/02/static-lambda/\" rel=\"nofollow noreferrer\">Static Lambdas: Initializing lambdas at compile time</a>, using <code>return reinterpret_cast&lt;const F&amp;&gt;(*this)(std::forward&lt;Ts&gt;(xs)...);</code>. It is not guaranteed to work, that&#39;s for sure, but it does have a <code>static_assert</code> that would hopefully detect any problematic implementations. On many implementations, the behaviour would be defined: for types with trivial initialisation (which is admittedly not exactly what gets checked), it&#39;s valid to call instance members without actually constructing an instance of that type."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1438353569, "post_id": 31714980, "comment_id": 51431481, "body": "@hvd In what way is that better than a function called <code>add_one</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1438353891, "post_id": 31714980, "comment_id": 51431710, "body": "@Yakk Lambdas allow specifying parameters as <code>auto</code>, functions don&#39;t yet. With the <code>int</code> though, I think I agree that there&#39;s no benefit."}], "tags": [], "owner": {"reputation": 15972, "user_id": 375343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c102cedf3c930e6c4079f52d8d261b8d?s=128&d=identicon&r=PG", "display_name": "Paul Fultz II", "link": "https://stackoverflow.com/users/375343/paul-fultz-ii"}, "is_accepted": false, "score": 2, "last_activity_date": 1438228912, "creation_date": 1438228912, "answer_id": 31714980, "question_id": 31711356, "link": "https://stackoverflow.com/questions/31711356/visual-studio-2015-using-a-lambda-in-constexpr/31714980#31714980", "title": "Visual Studio 2015 using a lambda in constexpr", "body": "<p>Ok, so it seems that visual studio has a problem with conversion of pointers with <code>constexpr</code> as @hvd has pointed out. A workaround, I found, I can do this instead:</p>\n\n<pre><code>template&lt;class F&gt;\nstruct wrapper\n{\n    constexpr wrapper()\n    {}\n};\n\nstruct wrapper_deduce\n{\n    constexpr wrapper_deduce()\n    {}\n    template&lt;class T&gt;\n    constexpr operator wrapper&lt;T&gt;() const\n    {\n        return wrapper&lt;T&gt;();\n    }\n};\n\n\ntemplate&lt;class F&gt;\nconstexpr wrapper&lt;F&gt; wrap_direct(const F&amp;)\n{\n    return wrapper&lt;F&gt;();\n}\n\n\nconst constexpr auto add_one = true ? wrapper_deduce() : wrap_direct([](int x)\n{\n    return x + 1;\n});\n</code></pre>\n"}], "owner": {"reputation": 15972, "user_id": 375343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c102cedf3c930e6c4079f52d8d261b8d?s=128&d=identicon&r=PG", "display_name": "Paul Fultz II", "link": "https://stackoverflow.com/users/375343/paul-fultz-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1439702515, "creation_date": 1438204816, "question_id": 31711356, "link": "https://stackoverflow.com/questions/31711356/visual-studio-2015-using-a-lambda-in-constexpr", "title": "Visual Studio 2015 using a lambda in constexpr", "body": "<p>So in the latest Visual Studio 2015 the following code seems to no longer work:</p>\n\n<pre><code>template&lt;class F&gt;\nstruct wrapper\n{\n    constexpr wrapper()\n    {}\n};\n\ntemplate&lt;typename T&gt; \nconstexpr typename std::remove_reference&lt;T&gt;::type *addr(T&amp;&amp; t) \n{ \n    return &amp;t; \n}\n\ntemplate&lt;class F&gt;\nconstexpr wrapper&lt;F&gt; wrap(F*)\n{\n    return wrapper&lt;F&gt;();\n}\n\n\nconst constexpr auto add_one = wrap(true ? nullptr : addr([](int x)\n{\n    return x + 1;\n}));\n</code></pre>\n\n<p>Visual Studio reports back <code>illegal initialization of 'constexpr' entity with a non-constant expression</code>. This used to work in the release candidate, but the latest build seems to no longer work(I am using version <code>14.0.23107.0</code>). This should work(it does work in both clang and gcc).</p>\n\n<p>Unfortunately, Microsoft doesn't let me report bugs. So does anyone know of a workaround?</p>\n"}, {"tags": ["c++", "windows", "unit-testing", "heap-profiling"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 1, "creation_date": 1438204823, "post_id": 31711294, "comment_id": 51360735, "body": "Write a wrapper function?"}], "answers": [{"comments": [{"owner": {"reputation": 1124, "user_id": 55946, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4355497f49cb6e66383d8fb07cb89f4d?s=128&d=identicon&r=PG", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/55946/erik-olson"}, "edited": false, "score": 0, "creation_date": 1438217412, "post_id": 31711426, "comment_id": 51364684, "body": "I used the Rohitab demonstration and succeeded in counting all the VirtualAlloc calls in the executable, but not those under several API layers of DLLs."}], "tags": [], "owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "is_accepted": true, "score": 1, "last_activity_date": 1438205116, "creation_date": 1438205116, "answer_id": 31711426, "question_id": 31711294, "link": "https://stackoverflow.com/questions/31711294/how-can-a-regression-test-prove-whether-virtualalloc-was-called/31711426#31711426", "title": "How can a regression test prove whether VirtualAlloc was called?", "body": "<h2>Hooking</h2>\n\n<p><a href=\"http://research.microsoft.com/en-us/projects/detours/\" rel=\"nofollow\">Detours</a> can hook arbitrary method calls, but</p>\n\n<ul>\n<li>it is free for non-commercial use only</li>\n<li>it is perhaps overkill for a unit test</li>\n</ul>\n\n<p><a href=\"http://www.rohitab.com/discuss/topic/40192-header-file-for-api-hooking/\" rel=\"nofollow\">Rohitab</a> and <a href=\"https://easyhook.codeplex.com/\" rel=\"nofollow\">Easyhook</a> seem to provide something similar.</p>\n\n<h2>Alternatives</h2>\n\n<p>If your process is 32 bit, you could allocate 4080 MB (more or less) in advance and more calls to VirtualAlloc would fail. This would not cover cases where you allocate/deallocate 16 MB multiple times. If you make these 4080 MB reserved, this will even be fast, since no real memory is needed.</p>\n"}, {"tags": [], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "is_accepted": false, "score": 1, "last_activity_date": 1438210382, "creation_date": 1438210382, "answer_id": 31712510, "question_id": 31711294, "link": "https://stackoverflow.com/questions/31711294/how-can-a-regression-test-prove-whether-virtualalloc-was-called/31712510#31712510", "title": "How can a regression test prove whether VirtualAlloc was called?", "body": "<p>Dependency Injection.</p>\n\n<p>Instead of having the code under test call the native memory allocators, you pass in a pointer to an allocator object that the code can use instead.  For production code, this allocator object simply calls the native memory allocation functions.  For the test, you pass in an allocator that checks and/or logs the sizes.</p>\n"}], "owner": {"reputation": 1124, "user_id": 55946, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4355497f49cb6e66383d8fb07cb89f4d?s=128&d=identicon&r=PG", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/55946/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 31711426, "answer_count": 2, "score": 1, "last_activity_date": 1438210382, "creation_date": 1438204627, "last_edit_date": 1438205206, "question_id": 31711294, "link": "https://stackoverflow.com/questions/31711294/how-can-a-regression-test-prove-whether-virtualalloc-was-called", "title": "How can a regression test prove whether VirtualAlloc was called?", "body": "<p>I'm writing a regression test for a (Win7) C++ routine that is being optimized, which formerly freed and re-allocated a lot of giant buffers: memory churn. I would like to prove that during the test, the program doesn't allocate any large memory regions (say 16M or larger) but instead efficiently re-uses its memory that was allocated at initialization time. It comes down to that the test should fail if VirtualAlloc has been called to get some large region (say 16M).</p>\n\n<p>Is there an elegant way to count stats on calls to Windows VirtualAlloc? This would become part of the permanent automatic regression test suite, so using an external tool or modifying the downstream code is not feasible.</p>\n\n<p>Checking the total memory committed is not a good fit, because I want to assert that the routine is no longer churning (freeing and re-allocating buffers.)</p>\n"}, {"tags": ["c++", "routing", "adhoc", "omnet++", "inet"], "comments": [{"owner": {"reputation": 7199, "user_id": 1021426, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f417e1001daccc00fb0ff7adcfc1fb9c?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1021426/martin"}, "edited": false, "score": 0, "creation_date": 1438206174, "post_id": 31711291, "comment_id": 51361298, "body": "What is your actual question? The question title asks one thing, but your last paragraph asks another. Also, what have you tried so far? Any links, code samples, etc., that you can provide would be helpful."}, {"owner": {"reputation": 47, "user_id": 5117209, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b12113c3e55947ae978d812060fbf0b?s=128&d=identicon&r=PG", "display_name": "Usama Aftab", "link": "https://stackoverflow.com/users/5117209/usama-aftab"}, "reply_to_user": {"reputation": 7199, "user_id": 1021426, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f417e1001daccc00fb0ff7adcfc1fb9c?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1021426/martin"}, "edited": false, "score": 0, "creation_date": 1438206652, "post_id": 31711291, "comment_id": 51361516, "body": "May be it is more clear now? Sorry for being unclear. But i want to know the way you can send messages through inet modules (such as AODVRouter)? Because in the above example, it tells you to do it via cSimpleModule."}, {"owner": {"reputation": 7199, "user_id": 1021426, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f417e1001daccc00fb0ff7adcfc1fb9c?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1021426/martin"}, "edited": false, "score": 0, "creation_date": 1438207292, "post_id": 31711291, "comment_id": 51361799, "body": "Is <a href=\"https://omnetpp.org/doc/omnetpp/tictoc-tutorial/txc6.cc.html\" rel=\"nofollow noreferrer\">this</a> the tutorial you are using? You should link to the tutorial/example rather than just copy/pasting it."}, {"owner": {"reputation": 47, "user_id": 5117209, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b12113c3e55947ae978d812060fbf0b?s=128&d=identicon&r=PG", "display_name": "Usama Aftab", "link": "https://stackoverflow.com/users/5117209/usama-aftab"}, "reply_to_user": {"reputation": 7199, "user_id": 1021426, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f417e1001daccc00fb0ff7adcfc1fb9c?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1021426/martin"}, "edited": false, "score": 0, "creation_date": 1438207420, "post_id": 31711291, "comment_id": 51361858, "body": "Yes this is the one. Can you help me with how to modify it for an inet module? Or if there is any other way to send messages between AODVRouter hosts?  Yes i edited it. Thanks for recommending"}, {"owner": {"reputation": 7199, "user_id": 1021426, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f417e1001daccc00fb0ff7adcfc1fb9c?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1021426/martin"}, "edited": false, "score": 0, "creation_date": 1438208864, "post_id": 31711291, "comment_id": 51362421, "body": "Sorry, I know nothing on these subjects; I&#39;m just trying to help improve the question&#39;s quality so others are more able to answer it."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5117209, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b12113c3e55947ae978d812060fbf0b?s=128&d=identicon&r=PG", "display_name": "Usama Aftab", "link": "https://stackoverflow.com/users/5117209/usama-aftab"}, "edited": false, "score": 0, "creation_date": 1438297667, "post_id": 31719675, "comment_id": 51406306, "body": "Thanks for the answer. It clears many things. Can you tell me what do you mean by &quot;On application layer for example, you have to open sockets (see the code) and use that for the sending.&quot;. What code are you referring to?"}, {"owner": {"reputation": 47, "user_id": 5117209, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b12113c3e55947ae978d812060fbf0b?s=128&d=identicon&r=PG", "display_name": "Usama Aftab", "link": "https://stackoverflow.com/users/5117209/usama-aftab"}, "edited": false, "score": 0, "creation_date": 1438300150, "post_id": 31719675, "comment_id": 51406967, "body": "No worries, i got it! Loads of thanks for this help. It will get me moving forward."}], "tags": [], "owner": {"reputation": 4650, "user_id": 709234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Buqkn.jpg?s=128&g=1", "display_name": "Rudi", "link": "https://stackoverflow.com/users/709234/rudi"}, "is_accepted": true, "score": 1, "last_activity_date": 1438554415, "last_edit_date": 1438554415, "creation_date": 1438247587, "answer_id": 31719675, "question_id": 31711291, "link": "https://stackoverflow.com/questions/31711291/how-to-extend-different-modules-of-inet-with-custom-messages/31719675#31719675", "title": "How to extend different Modules of Inet with custom messages?", "body": "<p>How you handle this problem depends on what those messages are, and how they are related to the AODV protocol.</p>\n\n<ul>\n<li><p>If you are trying to extend the AODV protocol with some location aware features and the location will be used by the routing protocol itself, then you should obviously look into the AODVRouting <a href=\"https://github.com/inet-framework/inet/blob/master/src/inet/routing/aodv/AODVRouting.cc\" rel=\"nofollow\">source code</a>. You can check there to see how the messages are sent/received.</p></li>\n<li><p>If the message is completely unrelated to AODV and you want to implement some kind of application level message exchanges, then the way is to create an \"Application\" module and install it into the router. Of course, you have to know whether you want to send the data using TCP or UDP (I'm guessing UDP as that is more suited to message oriented data exchange). At that point you should implement something like the <a href=\"https://github.com/inet-framework/inet/blob/master/src/inet/applications/udpapp/UDPBasicApp.cc#L111\" rel=\"nofollow\">UDPBasicApp</a> with the addition that you create your own PacketType that contains the data you want to transmit (i.e. the coordinates of the node). Use that for starting.</p></li>\n</ul>\n\n<p>Generally, the TicToc tutorial is just a basic example to show how the sending is done by the OMNeT++ kernel. Sending in INET requires additional works depending from what OSI layer you are try to send the data. On application layer for example, you have to open sockets (see the code) and use that for the sending. The rest of the INET codebase will deal with the complexity of embedding that information correctly in lower layer packets (UDP, IP, Ethernet)</p>\n"}], "owner": {"reputation": 47, "user_id": 5117209, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b12113c3e55947ae978d812060fbf0b?s=128&d=identicon&r=PG", "display_name": "Usama Aftab", "link": "https://stackoverflow.com/users/5117209/usama-aftab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 0, "accepted_answer_id": 31719675, "answer_count": 1, "score": 1, "last_activity_date": 1443077351, "creation_date": 1438204617, "last_edit_date": 1438554411, "question_id": 31711291, "link": "https://stackoverflow.com/questions/31711291/how-to-extend-different-modules-of-inet-with-custom-messages", "title": "How to extend different Modules of Inet with custom messages?", "body": "<p>I have all the examples up and running for the INET (AODV) simulation. My network comprises of number of AODV Router hosts.</p>\n\n<p>My next task is to exchange some custom massages regarding each host's current position (which will be updated after a certain time through Mobility). All the examples I found (normally) are of <code>tictoc</code> which is asking me to build a <code>simpleModule</code> in a <code>.cc</code> file and then use that module in the <code>.ned</code> file. I want to use the <code>AODVRouter</code> module to exchange these messages (as it already has the implemented things that I need for the network).</p>\n\n<p><a href=\"https://omnetpp.org/doc/omnetpp/tictoc-tutorial/txc6.cc.html\" rel=\"nofollow\">This</a> is the example I used for exchanging messages with a <code>cSimpleModule</code></p>\n\n<p>I have tried this example (as described in INET project), but the problem here is that it is only extending <code>cSimpleModule</code>. Since I want to use <code>AODVRouter</code> module (from INET) as my sender and receiver, I can't use this example. So my question is, what is the other way to do it (i.e. sending and receiving messages through INET modules such as <code>AODVRouter</code> module).</p>\n"}, {"tags": ["c++", "algorithm", "dynamic-programming"], "comments": [{"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "edited": false, "score": 3, "creation_date": 1438206199, "post_id": 31711278, "comment_id": 51361311, "body": "Please explain your algorithm in plain english, to convey the intuition behind why you think it should work. Also, please cite the source of the problem so we can assure ourselves that it is not part of a live contest and so that we have the chance to try our own solutions"}, {"owner": {"reputation": 549, "user_id": 5171102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GCYt4.jpg?s=128&g=1", "display_name": "Rasul Kerimov", "link": "https://stackoverflow.com/users/5171102/rasul-kerimov"}, "reply_to_user": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "edited": false, "score": 1, "creation_date": 1438206599, "post_id": 31711278, "comment_id": 51361483, "body": "@Niklas B I&#39;ve edited the question."}, {"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "edited": false, "score": 1, "creation_date": 1438207266, "post_id": 31711278, "comment_id": 51361786, "body": "What&#39;s the &quot;move&quot; operation?"}, {"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "edited": false, "score": 1, "creation_date": 1438208408, "post_id": 31711278, "comment_id": 51362244, "body": "Try the test case <code>1 2</code>. Also consider <code>1 5</code> through <code>1 9</code>."}], "answers": [{"tags": [], "owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1438210286, "creation_date": 1438210286, "answer_id": 31712496, "question_id": 31711278, "link": "https://stackoverflow.com/questions/31711278/find-the-minimum-number-of-ms-paint-operations-to-fill-a-rectangle/31712496#31712496", "title": "Find the minimum number of MS Paint operations to fill a rectangle", "body": "<p>Your approach is okay, though you've made some implementation mistakes that you could have found by checking some small testcases.</p>\n\n<p>For example, one failing testcase is <code>1 2</code>, where your program gives the answer <code>8</code>, although <code>6</code> is correct. This is because you should have <code>a &gt; b</code> instead of <code>b &gt; a</code> for your algorithm to work:</p>\n\n<pre><code>-    if (a&gt;b)\n+    if (a&lt;b)\n</code></pre>\n\n<p>Now we still have problems with testcases like <code>1 7</code>. The correct answer is 14, but your program answers 16. The reason is that you don't allow for overlapping inserts: Starting from a rectangle of size 1x2, we can use the sequence select, copy, insert+move, insert+move, insert+move, insert+move to get a rectangle of size 1x7. Considering this makes the program only slightly more complicated:</p>\n\n<pre><code>@@ -24,9 +24,10 @@\n     for (i=2; i&lt;=a; i++)\n     {\n         painta[2*i]=min(painta[i]+4,painta[2*i]);\n-        for (j=3*i; j&lt;=a; j+=i)\n+        for (j=2*i+1; j&lt;=a; j++)\n         {\n-            painta[j]=min(painta[j-i]+2,painta[j]);\n+            int steps = (j - i - 1) / i;\n+            painta[j]=min(painta[2*i]+2*steps,painta[j]);\n         }\n     }\n\n@@ -39,9 +40,10 @@\n     for (i=2; i&lt;=b; i++)\n     {\n         paintb[2*i] = min(paintb[i]+4,paintb[2*i]);\n-        for (j=3*i; j&lt;=b; j+=i)\n+        for (j=2*i+1; j&lt;=b; j++)\n         {\n-            paintb[j]=min(paintb[j-i]+2,paintb[j]);\n+            int steps = (j - i - 1) / i;\n+            paintb[j]=min(paintb[2*i]+2*steps,paintb[j]);\n         }\n     }\n</code></pre>\n\n<p>Now there's still a small overflow here which might cause the program to crash for large inputs: You are accessing <code>painta[2*i]</code> and <code>paintb[2*i]</code> inside the loops. <code>i</code> can be up to <code>1000</code>, but the array only has size <code>1002</code>. Easy enough to fix:</p>\n\n<pre><code>@@ -5,12 +5,12 @@\n\n int main()\n {\n-    int painta[size];\n-    int paintb[size];\n+    int painta[size*2];\n+    int paintb[size*2];\n     int i,j,a,b,temp;\n</code></pre>\n\n<p>Et voila, it passes all the test cases.</p>\n"}], "owner": {"reputation": 549, "user_id": 5171102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GCYt4.jpg?s=128&g=1", "display_name": "Rasul Kerimov", "link": "https://stackoverflow.com/users/5171102/rasul-kerimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 5, "accepted_answer_id": 31712496, "answer_count": 1, "score": 5, "last_activity_date": 1438210479, "creation_date": 1438204546, "last_edit_date": 1438210479, "question_id": 31711278, "link": "https://stackoverflow.com/questions/31711278/find-the-minimum-number-of-ms-paint-operations-to-fill-a-rectangle", "title": "Find the minimum number of MS Paint operations to fill a rectangle", "body": "<p>I found this problem somewhere in a contest and haven't been able to come up with a solution yet.</p>\n\n<blockquote>\n  <p>I can \"select\", \"copy\", \"insert\" and \"move\" in another place a figures\n  on the screen. Initially I have the rectangle with size 1x1. What the least\n  quantity of these operations I have to do for building of another\n  rectangle, which size is AxB.</p>\n</blockquote>\n\n<p>Here is my wrong code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#define size 1002\nusing namespace std;\n\nint main()\n{\n    int painta[size];\n    int paintb[size];\n    int i,j,a,b,temp;\n\n    cin &gt;&gt; a &gt;&gt; b;\n    if (a&gt;b)\n    {\n        temp=a;\n        a=b;\n        b=temp;\n    }\n\n    painta[1]=4;\n    for (i=2; i&lt;=a; i++)\n        painta[i]=painta[i-1]+2;\n\n    for (i=2; i&lt;=a; i++)\n    {\n        painta[2*i]=min(painta[i]+4,painta[2*i]);\n        for (j=3*i; j&lt;=a; j+=i)\n        {\n            painta[j]=min(painta[j-i]+2,painta[j]);\n        }\n    }\n\n    paintb[1]=painta[a];\n    paintb[2]=paintb[1]+4;\n\n    for (i=3; i&lt;=b; i++)\n        paintb[i]=paintb[i-1]+2;\n\n    for (i=2; i&lt;=b; i++)\n    {\n        paintb[2*i] = min(paintb[i]+4,paintb[2*i]);\n        for (j=3*i; j&lt;=b; j+=i)\n        {\n            paintb[j]=min(paintb[j-i]+2,paintb[j]);\n        }\n    }\n    cout &lt;&lt; paintb[b] &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>Here is the link: <a href=\"http://www.e-olymp.com/en/problems/18\" rel=\"nofollow\">http://www.e-olymp.com/en/problems/18</a></p>\n"}, {"tags": ["c++", "serialization"], "comments": [{"owner": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438204581, "post_id": 31711261, "comment_id": 51360603, "body": "or just post how one would do it here"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1438204629, "post_id": 31711261, "comment_id": 51360637, "body": "there is no standard serialization for c++ , choose your poison. json is cool , google finds : <a href=\"http://stackoverflow.com/questions/3512650/fastest-json-reader-writer-for-c\" title=\"fastest json reader writer for c\">stackoverflow.com/questions/3512650/&hellip;</a>"}, {"owner": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438204662, "post_id": 31711261, "comment_id": 51360650, "body": "Here&#39;s another link for you: <a href=\"http://stackoverflow.com/questions/12394472/serializing-and-deserializing-json-with-boost\" title=\"serializing and deserializing json with boost\">stackoverflow.com/questions/12394472/&hellip;</a>"}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1438204682, "post_id": 31711261, "comment_id": 51360660, "body": "Welcome to StackOverflow. It&#39;s helpful to actually have a question for us to answer...what are you wanting to do? What have you tried?"}, {"owner": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438204752, "post_id": 31711261, "comment_id": 51360699, "body": "Here&#39;s another, better link that offers more options. <a href=\"http://gamedev.stackexchange.com/questions/2269/what-are-good-solutions-for-serialization-in-c\" title=\"what are good solutions for serialization in c\">gamedev.stackexchange.com/questions/2269/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438204835, "post_id": 31711332, "comment_id": 51360737, "body": "Please do not encourage off-topic questions by answering them."}, {"owner": {"reputation": 1383, "user_id": 1658810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DlcF2.png?s=128&g=1", "display_name": "Chris Britt", "link": "https://stackoverflow.com/users/1658810/chris-britt"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204898, "post_id": 31711332, "comment_id": 51360768, "body": "@LightnessRacesinOrbit My apologies. Didn&#39;t think it was off-topic enough to matter. Would you like me to delete the answer?"}, {"owner": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438204964, "post_id": 31711332, "comment_id": 51360797, "body": "i have a problem of use other peoples libarys simular to this <a href=\"https://en.wikipedia.org/wiki/Not_invented_here\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Not_invented_here</a>"}, {"owner": {"reputation": 1383, "user_id": 1658810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DlcF2.png?s=128&g=1", "display_name": "Chris Britt", "link": "https://stackoverflow.com/users/1658810/chris-britt"}, "reply_to_user": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438205120, "post_id": 31711332, "comment_id": 51360870, "body": "@ChristopherLovell I understand that quite well. I actually share that philosophy in a lot of ways. However it still might give you a starting point to look at how you would go about doing it. I actually have written my own configuration system that I use quite frequently, but often times it can also be important to consider using known standards."}, {"owner": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438205206, "post_id": 31711332, "comment_id": 51360907, "body": "also ive hand writen over 38 files for mygames to read that use a formatt i was going to use for my game, formatt is my own"}, {"owner": {"reputation": 1383, "user_id": 1658810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DlcF2.png?s=128&g=1", "display_name": "Chris Britt", "link": "https://stackoverflow.com/users/1658810/chris-britt"}, "reply_to_user": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438205313, "post_id": 31711332, "comment_id": 51360942, "body": "@ChristopherLovell Sounds nice, Id still suggest taking a look at how other people have solved it to see what you like/don&#39;t like; and then proceed to write your own library if you wish. Good luck with it :)"}, {"owner": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "edited": false, "score": 0, "creation_date": 1438205343, "post_id": 31711332, "comment_id": 51360950, "body": "Ok Thanx i give them all a try and try my best to cope with using them"}], "tags": [], "owner": {"reputation": 1383, "user_id": 1658810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DlcF2.png?s=128&g=1", "display_name": "Chris Britt", "link": "https://stackoverflow.com/users/1658810/chris-britt"}, "is_accepted": false, "score": 1, "last_activity_date": 1438204741, "creation_date": 1438204741, "answer_id": 31711332, "question_id": 31711261, "link": "https://stackoverflow.com/questions/31711261/c-standard-serialization/31711332#31711332", "title": "C++ standard serialization", "body": "<p>Happy to hear you are giving c++ a try. For the example file you have, I would checkout YAML. </p>\n\n<p><a href=\"http://www.yaml.org/start.html\" rel=\"nofollow\">http://www.yaml.org/start.html</a></p>\n\n<p>There are quite a few libraries that provide support for it if you don't want to write your own. Some resource to read up on include: </p>\n\n<p><a href=\"https://code.google.com/p/yaml-cpp/wiki/Tutorial\" rel=\"nofollow\">https://code.google.com/p/yaml-cpp/wiki/Tutorial</a></p>\n\n<p>And the main page on the site hosts a variety of links to various libraries: <a href=\"http://yaml.org/\" rel=\"nofollow\">http://yaml.org/</a></p>\n"}], "owner": {"reputation": 69, "user_id": 5171058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a5f2b5b792350e9d7df7f54c484d6a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Lovell", "link": "https://stackoverflow.com/users/5171058/christopher-lovell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1500190596, "creation_date": 1438204483, "last_edit_date": 1500190596, "question_id": 31711261, "link": "https://stackoverflow.com/questions/31711261/c-standard-serialization", "title": "C++ standard serialization", "body": "<p>My problem is serializing you see I saved files before but only one lined text file's I want more advanced files that have a out put like:</p>\n\n<p><code>[%File version format%]</code></p>\n\n<pre><code>Player\n{\nHealth:100\nMP:17\n    Transform\n    {\n    X:13.91,\n    Y:15.36,\n    Z:82.68\n    Rx:14\n    //......and so on\n    }\n    Inventory\n   {\n    Weapons(mace[dam:80%])\n    Chemicals(liquid nitrogen, chemicals)\n   }\n}\n</code></pre>\n\n<p>I've tried so many times probley compiled my program over 31 times for just one thing, and also i will not like to use Json, xml ect.</p>\n"}, {"tags": ["c++", "io", "istream"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 3, "creation_date": 1438204593, "post_id": 31711225, "comment_id": 51360613, "body": "1. Make sure your file is opened in <code>std::ios::binary</code> mode. 2. Use <code>std::istreambuf_iterator</code>. I suspect your <code>10</code> is being skipped as a text-mode linefeed (<a href=\"http://en.cppreference.com/w/cpp/language/ascii\" rel=\"nofollow noreferrer\">see this chart</a>)."}, {"owner": {"reputation": 73, "user_id": 1188999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11826018205ad206b2c7ce81c51ecccd?s=128&d=identicon&r=PG", "display_name": "user1188999", "link": "https://stackoverflow.com/users/1188999/user1188999"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1438206455, "post_id": 31711225, "comment_id": 51361416, "body": "Ah yea, you&#39;re probably right. I can;t get my istreambuf_iterator to take in my istream though. I should be able to do this shouldn&#39;t I?      <code>std::copy_n((std::istreambuf_iterator&lt;uint8_t&gt;(yuvFile)), copySize, std::back_inserter(destBlock.m_yData));</code>"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1438205222, "last_edit_date": 1438205222, "creation_date": 1438204839, "answer_id": 31711360, "question_id": 31711225, "link": "https://stackoverflow.com/questions/31711225/getting-wrong-data-back-when-reading-from-binary-file/31711360#31711360", "title": "Getting wrong data back when reading from binary file", "body": "<p>There is a major difference between <code>istream::read</code> and <code>std::istream_iterator</code>.</p>\n\n<p><code>std::istream::read</code> performs unformatted read.<br>\n<code>std::istream_iterator</code> performs formatted read.</p>\n\n<p>From <a href=\"http://en.cppreference.com/w/cpp/iterator/istream_iterator\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/iterator/istream_iterator</a></p>\n\n<blockquote>\n  <p><code>std::istream_iterator</code> is a single-pass input iterator that reads successive objects of type <code>T</code> from the <code>std::basic_istream</code> object for which it was constructed, by calling the appropriate <code>operator&gt;&gt;</code>.</p>\n</blockquote>\n\n<p>If your file was created using <code>std::ostream::write</code> or <code>fwrite</code>, you must use <code>std::istream::read</code> or <code>fread</code> to read the data.</p>\n\n<p>If your file was created using any of the methods that create formatted output, such as <code>std::ostream::operato&lt;&lt;()</code>, <code>fprintf</code>, you have a chance to read the data using <code>std::istream_iterator</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 1188999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11826018205ad206b2c7ce81c51ecccd?s=128&d=identicon&r=PG", "display_name": "user1188999", "link": "https://stackoverflow.com/users/1188999/user1188999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438205222, "creation_date": 1438204367, "question_id": 31711225, "link": "https://stackoverflow.com/questions/31711225/getting-wrong-data-back-when-reading-from-binary-file", "title": "Getting wrong data back when reading from binary file", "body": "<p>I'm having an issue reading in some bytes from a yuv file (it's 1280x720 if that matters) and was hoping someone could point out what I'm doing wrong. I'm getting different results using the read command and using an istream iterator . Here's some example code of what I'm trying to do:</p>\n\n<pre><code>void readBlock(std::ifstream&amp; yuvFile, YUVBlock&amp; destBlock, YUVConfig&amp; config, const unsigned int x, const unsigned int y, const bool useAligned = false)\n{\n    //Calculate luma offset\n    unsigned int YOffset = (useAligned ? config.m_alignedYFileOffset : config.m_YFileOffset) +\n    (destBlock.yY * (useAligned ? config.m_alignedYUVWidth : config.m_YUVWidth) + destBlock.yX);// *config.m_bitDepth;\n\n//Copy Luma data\n//yuvFile.seekg(YOffset, std::istream::beg);\n    for (unsigned int lumaY = 0; lumaY &lt; destBlock.m_YHeight &amp;&amp; ((lumaY + destBlock.yY) &lt; config.m_YUVHeight); ++lumaY)\n    {\n        yuvFile.seekg(YOffset + ((useAligned ? config.m_alignedYUVWidth : config.m_YUVWidth)/* * config.m_bitDepth*/) * (lumaY), std::istream::beg);\n        int copySize = destBlock.m_YWidth;\n        if (destBlock.yX + copySize &gt; config.m_YUVWidth)\n        {\n            copySize = config.m_YUVWidth - destBlock.yX;\n        }\n        if (destBlock.yX &gt;= 1088 &amp;&amp; destBlock.yY &gt;= 704)\n        {\n            char* test = new char[9];\n            yuvFile.read(test, 9);\n\n            delete[] test;\n            yuvFile.seekg(YOffset + ((useAligned ? config.m_alignedYUVWidth : config.m_YUVWidth)/* * config.m_bitDepth*/) * (lumaY));\n        }\n\n        std::istream_iterator&lt;uint8_t&gt; start = std::istream_iterator&lt;uint8_t&gt;(yuvFile);\n        std::copy_n(start, copySize, std::back_inserter(destBlock.m_yData));\n\n    }\n}\nstruct YUVBlock\n{\nstd::vector&lt;uint8_t&gt; m_yData;\nstd::vector&lt;uint8_t&gt; m_uData;\nstd::vector&lt;uint8_t&gt; m_vData;\nunsigned int m_YWidth;\nunsigned int m_YHeight;\nunsigned int m_UWidth;\nunsigned int m_UHeight;\nunsigned int m_VWidth;\nunsigned int m_VHeight;\n\nunsigned int yX;\nunsigned int yY;\nunsigned int uX;\nunsigned int uY;\nunsigned int vX;\nunsigned int vY;\n};\n</code></pre>\n\n<p>This error only seems to be happening at X =1088 and Y = 704 in the image. I'm expecting to see a byte value of 10 as the first byte I read back. When I use</p>\n\n<pre><code>yuvFile.read(test, 9);\n</code></pre>\n\n<p>I get 10 as my first byte. When I use the istream iterator:</p>\n\n<pre><code>std::istream_iterator&lt;uint8_t&gt; start = std::istream_iterator&lt;uint8_t&gt;(yuvFile);\n    std::copy_n(start, copySize, std::back_inserter(destBlock.m_yData));\n</code></pre>\n\n<p>The first byte I read is 17. 17 is the byte after 10 so it seems the istream iterator skips the first byte. </p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["c++", "language-lawyer", "name-lookup", "using-declaration", "name-hiding"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204482, "post_id": 31711183, "comment_id": 51360546, "body": "I&#39;m sure I saw a question about this lately that concluded there was a bug. Have you searched?"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204896, "post_id": 31711183, "comment_id": 51360765, "body": "The question was not exactly the same. This is kind of a follow up question."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438210023, "post_id": 31711183, "comment_id": 51362818, "body": "@LightnessRacesinOrbit Oh, okay. I didn&#39;t think of that. Thanks for pointing it out."}], "answers": [{"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1438206848, "post_id": 31711422, "comment_id": 51361604, "body": "The closeness of the terms <i>using-declaration</i> and <i>using-directive</i> doesn&#39;t help understanding I&#39;m sure... :)"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1438207341, "post_id": 31711422, "comment_id": 51361820, "body": "@Barry Very true. And, in classic C++ style, both of them do more than one thing depending on context. Not to mention the <code>using</code> keyword itself, which is even more heavily overloaded."}], "tags": [], "owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "is_accepted": false, "score": 1, "last_activity_date": 1438206272, "last_edit_date": 1438206272, "creation_date": 1438205092, "answer_id": 31711422, "question_id": 31711183, "link": "https://stackoverflow.com/questions/31711183/how-does-unqualified-name-lookup-work-when-using-using-declarations/31711422#31711422", "title": "How does unqualified name lookup work when using using-declarations?", "body": "<p>N4527 [7.3.3p13]:</p>\n\n<blockquote>\n  <p>Since a <em>using-declaration</em> is a declaration, the restrictions on\n  declarations of the same name in the same declarative region (3.3)\n  also apply to <em>using-declarations</em>. [ <em>Example:</em></p>\n\n<pre><code>namespace A {\n   int x;\n}\n\nnamespace B {\n   int i;\n   struct g { };\n   struct x { };\n   void f(int);\n   void f(double);\n   void g(char);    // OK: hides struct g\n}\n\nvoid func() {\n   int i;\n   using B::i;      // error: i declared twice\n   void f(char);\n   using B::f;      // OK: each f is a function\n   f(3.5);          // calls B::f(double)\n   using B::g;\n   g(\u2019a\u2019);          // calls B::g(char)\n   struct g g1;     // g1 has class type B::g\n   using B::x;\n   using A::x;      // OK: hides struct B::x\n   x = 99;          // assigns to A::x\n   struct x x1;     // x1 has class type B::x\n}\n</code></pre>\n  \n  <p><em>\u2014end example</em> ]</p>\n</blockquote>\n\n<p>Note the <em>using-declarations</em> for the two different <code>x</code>s - it's the same case as your example.</p>\n\n<hr>\n\n<p>Your first quote is referring to <em>using-directives</em>, not <em>using-declarations</em>.</p>\n\n<p>Unqualified name lookup for the <code>i</code> in <code>sizeof(i)</code> finds the <code>i</code>s in the global namespace. Since they are declarations in the same scope, according to [3.3.10p2] (quote below), the variable <code>i</code> hides the <code>struct</code>.</p>\n\n<blockquote>\n  <p>A class name (9.1) or enumeration name (7.2) can be hidden by the name\n  of a variable, data member, function, or enumerator declared in the\n  same scope. If a class or enumeration name and a variable, data\n  member, function, or enumerator are declared in the same scope (in any\n  order) with the same name, the class or enumeration name is hidden\n  wherever the variable, data member, function, or enumerator name is\n  visible.</p>\n</blockquote>\n\n<p>So, the code is well-formed and Clang is wrong to reject it.</p>\n\n<p>MSVC (12 and 14) accepts the example.</p>\n\n<hr>\n\n<p>Basically, think of the name introduced by a <em>using-declaration</em> as just another name for some entity, which is also named somewhere else (the place designated by the <em>nested-name-specifier</em> of the <em>qualified-id</em> in the <em>using-declaration</em>). This is different from what a <em>using-directive</em> does; I tend to think of <em>using-directives</em> as \"name lookup tweaks\".</p>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1438206165, "last_edit_date": 1495542102, "creation_date": 1438206165, "answer_id": 31711699, "question_id": 31711183, "link": "https://stackoverflow.com/questions/31711183/how-does-unqualified-name-lookup-work-when-using-using-declarations/31711699#31711699", "title": "How does unqualified name lookup work when using using-declarations?", "body": "<p><a href=\"https://stackoverflow.com/a/31711422/2069064\">bogdan</a> already has to the answer, but to build on why your intuition is incorrect, you cited:</p>\n\n<blockquote>\n  <p>If name lookup finds a declaration for a name in <strong>two different namespaces</strong>, and the declarations do not declare the same entity and do not declare functions, the use of the name is ill-formed.</p>\n</blockquote>\n\n<p>But in the example, we have:</p>\n\n<pre><code>namespace M { \n    struct i {};           // declares M::i, entity class type\n}\nnamespace N { \n    static int i = 1;      // declares N::i, entity variable\n}\nusing M::i;                // declares ::i, synonym of M::i\nusing N::i;                // declares ::i, synonym of N::i\n                           // hides (*) the other ::i\nint main() { \n    sizeof (i); \n}\n</code></pre>\n\n<p>To elaborate on <code>(*)</code>, we have two declaration of <code>i</code> in the global namespace <code>::</code>. From [basic.scope.hiding]:</p>\n\n<blockquote>\n  <p>A class name (9.1) or enumeration name (7.2) can be hidden by the name of a variable, data member,\n  function, or enumerator declared in the same scope. If a class or enumeration name and a variable, data\n  member, function, or enumerator are declared in the same scope (in any order) with the same name, the\n  class or enumeration name is hidden wherever the variable, data member, function, or enumerator name is\n  visible.</p>\n</blockquote>\n\n<p>So with the two <code>i</code>s in the same scope, the class is hidden (<strong>irrespective</strong> of the ordering of the <em>using-declarations</em>!), and <code>sizeof(i)</code> refers to the <code>::i</code> that is the synonym of <code>N::i</code>. Both <code>i</code>s were in the <em>same</em> namespace (<code>::</code>), which is why your quote doesn't apply. This differs from your <a href=\"https://stackoverflow.com/q/31702956/2069064\">earlier question</a>, where you had <em>using-directives</em> instead:</p>\n\n<pre><code>using namespace M;\nusing namespace N;\n</code></pre>\n\n<p>There <code>i</code> would be found in two different namespaces, referring to two different non-function entities. Hence, the error. Here, Clang is wrong and GCC is correct. </p>\n"}], "owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 1, "accepted_answer_id": 31711699, "answer_count": 2, "score": 2, "last_activity_date": 1438207028, "creation_date": 1438204238, "last_edit_date": 1438207028, "question_id": 31711183, "link": "https://stackoverflow.com/questions/31711183/how-does-unqualified-name-lookup-work-when-using-using-declarations", "title": "How does unqualified name lookup work when using using-declarations?", "body": "<p>Is this ill-formed or well-formed according to the c++ standard?</p>\n\n<pre><code>namespace M { struct i {}; }\nnamespace N { static int i = 1; }\nusing M::i;\nusing N::i;\nint main() { sizeof (i); }\n</code></pre>\n\n<p>Clang rejects it and GCC accepts it.</p>\n\n<p>According to [namespace.udir-6] (<a href=\"http://eel.is/c++draft/basic.namespace#namespace.udir-6\" rel=\"nofollow\">http://eel.is/c++draft/basic.namespace#namespace.udir-6</a>):</p>\n\n<blockquote>\n  <p>If name lookup finds a declaration for a name in two different\n  namespaces, and the declarations do not declare the same entity and do\n  not declare functions, the use of the name is ill-formed.</p>\n</blockquote>\n\n<p>How should we interpret this? Remember that each using-declaration are declaring a name by [namespace.udecl]p1 (<a href=\"http://eel.is/c++draft/namespace.udecl#1\" rel=\"nofollow\">http://eel.is/c++draft/namespace.udecl#1</a>):</p>\n\n<blockquote>\n  <p>A using-declaration introduces a name into the declarative region in\n  which the using-declaration appears.</p>\n  \n  <p><em>using-declaration</em>:<br>\n  &nbsp;&nbsp;&nbsp;<code>using typename</code><sub>opt</sub> <em>nested-name-specifier</em> <em>unqualified-id</em> <code>;</code></p>\n  \n  <p>The member name specified in a using-declaration is declared in the\n  declarative region in which the using-declaration appears. [ Note:\n  Only the specified name is so declared; specifying an enumeration name\n  in a using-declaration does not declare its enumerators in the\n  using-declaration's declarative region.  \u2014 end note ] If a\n  using-declaration names a constructor ([class.qual]), it implicitly\n  declares a set of constructors in the class in which the\n  using-declaration appears ([class.inhctor]); otherwise the name\n  specified in a using-declaration is a synonym for a set of\n  declarations in another namespace or class.</p>\n</blockquote>\n\n<p>So we have 4 declarations of the name i.</p>\n\n<p>Which of these does unqualified name lookup of <code>i</code> in <code>sizeof(i)</code> find?  </p>\n\n<p>Does it only find <code>using  M::i;</code> and <code>using N::i;</code> which are both in the same namespace (the global namespace) so the program is well-formed?</p>\n\n<p>Or does it only find <code>struct i {};</code> and <code>static int i = 1;</code> which are in different namespaces so the program is ill-formed?</p>\n\n<p>Or do we have some other alternative?</p>\n"}, {"tags": ["c++", "opencv", "visual-studio-2013"], "comments": [{"owner": {"reputation": 774, "user_id": 1536074, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NUoX4.jpg?s=128&g=1", "display_name": "James Pack", "link": "https://stackoverflow.com/users/1536074/james-pack"}, "edited": false, "score": 2, "creation_date": 1438204125, "post_id": 31711093, "comment_id": 51360359, "body": "If you have the dll in question, the easiest thing to do is copy and paste it into your projects executable output folder"}, {"owner": {"reputation": 4912, "user_id": 1953533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Vs4v8.jpg?s=128&g=1", "display_name": "CroCo", "link": "https://stackoverflow.com/users/1953533/croco"}, "edited": false, "score": 1, "creation_date": 1438213115, "post_id": 31711093, "comment_id": 51363625, "body": "I&#39;ve noticed this dll is not placed with other dlls. You need to find out the folder in which <code>opencv_world300.dll</code> is located. That&#39;s all."}], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 1, "creation_date": 1449066971, "post_id": 31721884, "comment_id": 55845170, "body": "It works and this is great, but I can&#39;t figure out why it worked flawlessy before &lt;an unknown action of mine&gt; without the present hack."}, {"owner": {"reputation": 923, "user_id": 5269749, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/440589b968255b57f63194a8dc8a7794?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5269749/alex"}, "edited": false, "score": 1, "creation_date": 1503273198, "post_id": 31721884, "comment_id": 78533337, "body": "@RevJohn can you please explain how to do this: &quot;And put it in your Visual Studio solution (I assume you are using a x64/Release configuration):  &lt;your solution directory&gt;\\x64\\Release&quot;"}, {"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 4, "creation_date": 1504281147, "post_id": 31721884, "comment_id": 78968708, "body": "Go into system environment variables and scroll down to the &quot;Path&quot; variable, edit it and add &quot;&lt;your install directory&gt;\\opencv30\\build\\x64\\vc12\\bin&quot; to in (make sure to follow ; syntax and such).  Then restart visual studio and you should be set."}, {"owner": {"reputation": 370, "user_id": 3651852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4f9c26ba9d49d14edf8fd60b137f44c?s=128&d=identicon&r=PG&f=1", "display_name": "MSK", "link": "https://stackoverflow.com/users/3651852/msk"}, "edited": false, "score": 1, "creation_date": 1531316549, "post_id": 31721884, "comment_id": 89551553, "body": "Even I faced this issue but it got solved by copying the dll, as I&#39;m on a company PC and am not allowed edit the environment variables. Is copying the dll into the solution is the only way out for this issue if I cannot edit the environment variable?"}], "tags": [], "owner": {"reputation": 904, "user_id": 3666130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4cf623aa29e419265b9d44360a9e524?s=128&d=identicon&r=PG&f=1", "display_name": "RevJohn", "link": "https://stackoverflow.com/users/3666130/revjohn"}, "is_accepted": true, "score": 25, "last_activity_date": 1438253784, "creation_date": 1438253784, "answer_id": 31721884, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/31721884#31721884", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>Under windows you can copy it from:</p>\n\n<pre><code>&lt;your install directory&gt;\\opencv30\\build\\x64\\vc12\\bin\n</code></pre>\n\n<p>And put it in your Visual Studio solution (I assume you are using a <strong>x64/Release</strong> configuration):</p>\n\n<pre><code>&lt;your solution directory&gt;\\x64\\Release\n</code></pre>\n\n<p>Or you you can add the above OpenCV to your PATH environment variable</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3605590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471d543cceaacb766bdae2c840a2efd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhiroop Tandon", "link": "https://stackoverflow.com/users/3605590/abhiroop-tandon"}, "is_accepted": false, "score": 4, "last_activity_date": 1463329425, "last_edit_date": 1463329425, "creation_date": 1463328350, "answer_id": 37240552, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/37240552#37240552", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>If this question is still relevant, I figured out the way.</p>\n\n<p>I presume you used the tutorial on the <code>OpenCV</code> website to setup <code>OpenCV</code>. Once you run the command prompt and execute the command, it creates the environment variable for <code>OpenCV</code>but it does not add it in the path. So if you go to the path and add the location of the bin in vc12 (vc14 for me), save it, and restart visual studio, it works.</p>\n"}, {"comments": [{"owner": {"reputation": 1427, "user_id": 1599887, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/31758de16279cc43ba0bf6094dc4260b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1599887/alex"}, "edited": false, "score": 1, "creation_date": 1470306464, "post_id": 38763783, "comment_id": 64901213, "body": "Is the system variable is called <code>PATH</code> or are there others ? Does the name of the variable depend on the windows version ? What&#39;s the best way to read out the variable (example would be nice) ?"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1483550967, "post_id": 38763783, "comment_id": 70145431, "body": "Suggesting to copy DLLs into the windows system directory is just terrible. Just set the <code>PATH</code> properly, instead of turning your OS into a mess."}], "tags": [], "owner": {"reputation": 79, "user_id": 6677293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559ec36c777866f6167172cba77b2e6b?s=128&d=identicon&r=PG&f=1", "display_name": "Fish Chang", "link": "https://stackoverflow.com/users/6677293/fish-chang"}, "is_accepted": false, "score": 7, "last_activity_date": 1470309205, "last_edit_date": 1470309205, "creation_date": 1470303614, "answer_id": 38763783, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/38763783#38763783", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>You can check your system variable to confirm the directory in which  <code>opencv_world300.dll</code> is located (maybe <code>C:\\opencv\\build\\x64\\vc12\\bin</code>) is present.</p>\n\n<p>If it exists but the problem still is not solved, try to put all <code>.dll</code> files in the directory to <code>C:\\WINDOWS\\system32</code></p>\n"}, {"tags": [], "owner": {"reputation": 2323, "user_id": 5184092, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TRnWc.jpg?s=128&g=1", "display_name": "luckyging3r", "link": "https://stackoverflow.com/users/5184092/luckyging3r"}, "is_accepted": false, "score": 11, "last_activity_date": 1491449113, "last_edit_date": 1491449113, "creation_date": 1487662472, "answer_id": 42361202, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/42361202#42361202", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>I had the same problem. </p>\n\n<p>I'm on version <code>320</code>. Once all your environment variables are set make sure your <code>Additional Include Directories</code>, <code>Additional Library Directories</code> and <code>Additional Dependencies</code> are all correct. For me they were <code>$(OPENCV_BUILD)\\include;</code>, <code>$(OPENCV_BUILD)\\x64\\vc14\\lib;</code> and <code>opencv_world320d.lib;</code> respectively. </p>\n\n<p>My <code>OPENCV_BUILD</code> path variable is <code>C:\\opencv320\\build</code> setting the environment variable to <code>%OPENCV_BUILD%\\x64\\vc14\\bin</code> <strong>(where the .dll files are located)</strong>. To get to the <code>Additional</code> things right-click on your project/solution and select <code>properties -&gt; C/C++</code> for the first and <code>properties -&gt; Linker -&gt; General</code> and <code>Input</code> for the other two.</p>\n\n<p><strong>Restart Visual Studio</strong> and if everything was implemented correctly then you should be able to run the program and it should start.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Depending on what you used I had to also switch mine from <code>x86</code> to <code>x64</code> in the <code>Solution Platforms</code> dropdown.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 2054511, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/23e689da7f1c470063f647a9783a9417?s=128&d=identicon&r=PG", "display_name": "Acimaz", "link": "https://stackoverflow.com/users/2054511/acimaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1491324427, "creation_date": 1491324427, "answer_id": 43213150, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/43213150#43213150", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>I just had the exact same problem using version 320.\nIn my case my \"Comodo Internet Security\" was blocking a few things of the application itself and of OpenCV. Make sure to put them all on the \"trusted\" list by right clicking on them in your firewall.</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 5180866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1160696737279538/picture?type=large", "display_name": "Tommy Mertell", "link": "https://stackoverflow.com/users/5180866/tommy-mertell"}, "is_accepted": false, "score": 3, "last_activity_date": 1516834726, "creation_date": 1516834726, "answer_id": 48433107, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/48433107#48433107", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>I know this an old post but I noticed that mine has a problem distinguishing between <code>lib</code> and <code>bin</code>, so I added both to the PATH variable and it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 3263281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947d69f1b4400361aceb2fc6b7779d29?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew H", "link": "https://stackoverflow.com/users/3263281/andrew-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1538250656, "creation_date": 1538250656, "answer_id": 52571994, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/52571994#52571994", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>After installing OpenCV version 3.4.1 for use with VS 2017 following <a href=\"https://www.deciphertechnic.com/install-opencv-with-visual-studio/\" rel=\"nofollow noreferrer\">these instructions</a>, Visual Studio complained about missing <code>opencv_world341d.dll</code>.  Even though I had added <code>C:\\opencv\\build\\x64\\vc15\\bin</code> to the windows PATH, Visual Studio still couldn't find it as VS was already open when I modified the PATH.  Restarting Visual Studio fixed the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "is_accepted": false, "score": 1, "last_activity_date": 1539857561, "creation_date": 1539857561, "answer_id": 52871756, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/52871756#52871756", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>Add the paths as everybody says and keep in mind to restart the Visual Studio.\n I added all the paths, even tried to copy all the <em>opencv_world.dll</em> in the same folder as the source file, all i had to do was to restart the Visual Studio after i added all the paths.</p>\n"}, {"tags": [], "owner": {"reputation": 1229, "user_id": 11994158, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9m6ElB_KVGY/AAAAAAAAAAI/AAAAAAAAAAc/gceWZ0TdWkw/photo.jpg?sz=128", "display_name": "Strange", "link": "https://stackoverflow.com/users/11994158/strange"}, "is_accepted": false, "score": 3, "last_activity_date": 1572117035, "creation_date": 1572117035, "answer_id": 58573881, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/58573881#58573881", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>Best and simple solution is </p>\n\n<ol>\n<li><p>Add path_variable of OpenCV/build/x64/bin in environment system variables.</p></li>\n<li><p>And then restart the visual studio.</p></li>\n</ol>\n\n<p>this definitely will solve the problem.</p>\n\n<p>the problem might be you've updated the path variable after opening the visual studio so it can't update the *.dll files.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13165189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd4c2479cdd79b3d063ce8c8c08037da?s=128&d=identicon&r=PG&f=1", "display_name": "NAMRATA AGRAWAL", "link": "https://stackoverflow.com/users/13165189/namrata-agrawal"}, "is_accepted": false, "score": 1, "last_activity_date": 1587547293, "creation_date": 1587547293, "answer_id": 61361553, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput/61361553#61361553", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>In visual studio 2019,\nTRY THIS\nAdd missing file opencv_world430.dll or opencv_worldd.dll in the debug directory of the project where your project application exe file is there.\ncopy &amp; paste missing files in the debug folder</p>\n\n<p>C:\\Users\\myname\\source\\repos\\myopencv\\x64\\Debug + add your missing file here</p>\n\n<p>my problem got solved in microsoft visual studio 2019 :)</p>\n"}], "owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76783, "favorite_count": 7, "accepted_answer_id": 31721884, "answer_count": 10, "score": 22, "last_activity_date": 1587547293, "creation_date": 1438203873, "last_edit_date": 1572127364, "question_id": 31711093, "link": "https://stackoverflow.com/questions/31711093/the-program-cant-start-because-opencv-world300-dll-is-missing-from-your-comput", "title": "&quot;The program can&#39;t start because opencv_world300.dll is missing from your computer&quot; error in C++", "body": "<p>I want to compile an opencv Console C++ program in Visual Studio 2013. This is my code:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"opencv2/highgui/highgui.hpp\"\n#include &lt;iostream&gt;\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, const char** argv)\n{\n    Mat img = imread(\"rgb_1.png\", CV_LOAD_IMAGE_UNCHANGED); //read the image data in the file \"MyPic.JPG\" and store it in 'img'\n\n    if (img.empty()) //check whether the image is loaded or not\n    {\n        cout &lt;&lt; \"Error : Image cannot be loaded..!!\" &lt;&lt; endl;\n        //system(\"pause\"); //wait for a key press\n        return -1;\n    }\n\n    namedWindow(\"MyWindow\", CV_WINDOW_AUTOSIZE); //create a window with the name \"MyWindow\"\n    imshow(\"MyWindow\", img); //display the image which is stored in the 'img' in the \"MyWindow\" window\n\n    waitKey(0); //wait infinite time for a keypress\n\n    destroyWindow(\"MyWindow\"); //destroy the window with the name, \"MyWindow\"\n\n    return 0;\n}\n</code></pre>\n\n<p>Although I have defined all the directories in properties both in Computer and Visual Studio directories, I get the following error: </p>\n\n<blockquote>\n  <p>\"The program can't start because opencv_world300.dll is missing from your computer.\"</p>\n</blockquote>\n\n<p>How can I fix this problem?</p>\n"}, {"tags": ["c++", "qt", "user-interface", "windows-7", "qt5.5"], "comments": [{"owner": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "edited": false, "score": 0, "creation_date": 1438204333, "post_id": 31711055, "comment_id": 51360469, "body": "This is meant for visual studio."}, {"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "reply_to_user": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "edited": false, "score": 0, "creation_date": 1438214180, "post_id": 31711055, "comment_id": 51363874, "body": "no, I am using Qt creater"}, {"owner": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "edited": false, "score": 0, "creation_date": 1438241387, "post_id": 31711055, "comment_id": 51372399, "body": "Yes, but Qt creator is not a compiler in itself, it needs a compiler to do its work."}, {"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "reply_to_user": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "edited": false, "score": 0, "creation_date": 1438272068, "post_id": 31711055, "comment_id": 51393150, "body": "Yes i know that buddy, i am using MinGW (x86 32bit), as i am using 32bit system."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438211758, "post_id": 31711537, "comment_id": 51363292, "body": "Thanks for the suggestion. But getting the same error, and &quot;mingw32-make[1]: *** No rule to make target &#39;../Test/myicon.rc&#39;, needed by &#39;release/myicon_res.o&#39;.  Stop.&quot;      What is that mean??"}, {"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438211886, "post_id": 31711537, "comment_id": 51363323, "body": "I guess there is some problem in qt creater kit while deploying/building the project. any suggestions???"}, {"owner": {"reputation": 16742, "user_id": 999943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4c3b5820f4f39c2bbe57a8823dd0ad?s=128&d=identicon&r=PG", "display_name": "phyatt", "link": "https://stackoverflow.com/users/999943/phyatt"}, "reply_to_user": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438212926, "post_id": 31711537, "comment_id": 51363571, "body": "Try a build clean, and deleting the Make.release and the Make.deploy files.  That usually fixes some lingering problems after changing the .pro file."}, {"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438213833, "post_id": 31711537, "comment_id": 51363791, "body": "now one more error , release is not happening giving error &quot;The program has unexpectedly finished&quot;,   if i did not involve the icon and all that stuff, the program is building successfully, and i am still getting that &quot;icon&quot; error ,tried lot of stuffs already.  :("}, {"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438213889, "post_id": 31711537, "comment_id": 51363803, "body": "I did that many times &quot;Try a build clean, and deleting the Make.release and the Make.deploy files. That usually fixes some lingering problems after changing the .pro file.&quot;"}], "tags": [], "owner": {"reputation": 16742, "user_id": 999943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4c3b5820f4f39c2bbe57a8823dd0ad?s=128&d=identicon&r=PG", "display_name": "phyatt", "link": "https://stackoverflow.com/users/999943/phyatt"}, "is_accepted": false, "score": 3, "last_activity_date": 1438205908, "last_edit_date": 1438205908, "creation_date": 1438205569, "answer_id": 31711537, "question_id": 31711055, "link": "https://stackoverflow.com/questions/31711055/qt-gui-application-icon-setup/31711537#31711537", "title": "Qt Gui Application icon setup", "body": "<p>Your problem is probably that you are including <code>myicon.rc</code> as a regular file, and it is listed as a source file.  It should not be listed there nor under headers, because it isn't going through the normal compiler.  You do need to list it as <code>RC_FILE = myapp.rc</code>.</p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qmake-variable-reference.html#rc-file\" rel=\"nofollow\">http://doc.qt.io/qt-5/qmake-variable-reference.html#rc-file</a></p>\n\n<p>Note that <code>ICON</code> in .pro is only used on mac.</p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qmake-variable-reference.html#icon\" rel=\"nofollow\">http://doc.qt.io/qt-5/qmake-variable-reference.html#icon</a></p>\n\n<p>I've included sample code for how I typically handle my <code>rc</code> file, a version file, and how it gets used in <code>main.cpp</code> and in the <code>.pro</code> file.</p>\n\n<p>This should work in Qt Creator and Visual Studio.</p>\n\n<p>Here are the files I use when I am doing versioning and icons in windows:</p>\n\n<p>myapp.rc</p>\n\n<pre><code>// http://stackoverflow.com/questions/2784697/setting-application-info-in-qt\n#include &lt;windows.h&gt;\n#include \"version.h\"\n\n// if you needed to maintain two different icons for your app, you could\n// switch here using a #ifdef and #else\n#define MYICON \"my_icon.ico\"\n\nIDI_ICON1               ICON    DISCARDABLE     MYICON\n\nVS_VERSION_INFO VERSIONINFO\nFILEVERSION     VER_FILEVERSION\nPRODUCTVERSION  VER_PRODUCTVERSION\nBEGIN\n    BLOCK \"StringFileInfo\"\n    BEGIN\n        BLOCK \"040904E4\"\n        BEGIN\n            VALUE \"CompanyName\",        VER_COMPANYNAME_STR\n            VALUE \"FileDescription\",    VER_FILEDESCRIPTION_STR\n            VALUE \"FileVersion\",        VER_FILEVERSION_STR\n            VALUE \"InternalName\",       VER_INTERNALNAME_STR\n            VALUE \"LegalCopyright\",     VER_LEGALCOPYRIGHT_STR\n            VALUE \"LegalTrademarks1\",   VER_LEGALTRADEMARKS1_STR\n            VALUE \"LegalTrademarks2\",   VER_LEGALTRADEMARKS2_STR\n            VALUE \"OriginalFilename\",   VER_ORIGINALFILENAME_STR\n            VALUE \"ProductName\",        VER_PRODUCTNAME_STR\n            VALUE \"ProductVersion\",     VER_PRODUCTVERSION_STR\n        END\n    END\n\n    BLOCK \"VarFileInfo\"\n    BEGIN\n        VALUE \"Translation\", 0x409, 1252\n    END\nEND\n</code></pre>\n\n<p>version.h</p>\n\n<pre><code>#ifndef VERSION_H\n#define VERSION_H\n\n#define VER_FILEVERSION             0,1,0,0\n#define VER_FILEVERSION_STR         \"0.1.0.0\\0\"\n\n#define VER_PRODUCTVERSION          15,07,01,50\n#define VER_PRODUCTVERSION_STR      \"15.07.01.50\"\n\n#define VER_COMPANYNAME_STR         \"MySoft\"\n#define VER_FILEDESCRIPTION_STR     \"Star Runner\"\n\n#define VER_INTERNALNAME_STR        \"Star Runner\"\n#define VER_LEGALCOPYRIGHT_STR      \"Copyright \u00a9 MySoft\"\n#define VER_LEGALTRADEMARKS1_STR    \"All Rights Reserved\"\n#define VER_LEGALTRADEMARKS2_STR    VER_LEGALTRADEMARKS1_STR\n#define VER_ORIGINALFILENAME_STR    \"star_runner.exe\"\n#define VER_PRODUCTNAME_STR         \"Star Runner\"\n\n#define VER_COMPANYDOMAIN_STR       \"mysoft.com\"\n\n#endif // VERSION_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"version.h\"\n#include &lt;QSettings&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    a.setApplicationName(VER_PRODUCTNAME_STR);\n    a.setOrganizationName(VER_COMPANYNAME_STR);\n    a.setOrganizationDomain(VER_COMPANYDOMAIN_STR);\n    a.setApplicationDisplayName(VER_PRODUCTNAME_STR);\n    QSettings::setDefaultFormat(QSettings::IniFormat);\n\n    // Create the widget or main window here\n\n    return a.exec();\n}\n</code></pre>\n\n<p>star_runner.pro</p>\n\n<pre><code># all sorts of other things like SOURCES and HEADERS and FORMS, etc.\n# ...\n\nwin32 {\n    # DEFINES -= UNICODE\n    RC_FILE += myapp.rc\n}\n\nmacx {\n    ICON = my_icon.icns\n}\n\nOTHER_FILES += \\\n    my_icon.ico \\\n    my_icon.icns \\\n    myapp.rc\n</code></pre>\n\n<p>And lastly when creating icons, I usually use Gimp, making them at least 256x256 and then exporting them at different sizes using <a href=\"http://registry.gimp.org/node/12763\" rel=\"nofollow\">Phoca Save Icons</a>. Other times I'll just make an png and then use something from <a href=\"https://www.google.com/search?q=png%20to%20ico\" rel=\"nofollow\">here</a>.</p>\n\n<p>Hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438277550, "post_id": 31718041, "comment_id": 51396413, "body": "So i have to change my compiler, is that what you mean. ?? Can you just elaborate a little bit, that might can help."}, {"owner": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "reply_to_user": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "edited": false, "score": 0, "creation_date": 1438284851, "post_id": 31718041, "comment_id": 51400542, "body": "Either you change your compiler, or use a tool like windres like in the page i linked."}], "tags": [], "owner": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1438242570, "creation_date": 1438242570, "answer_id": 31718041, "question_id": 31711055, "link": "https://stackoverflow.com/questions/31711055/qt-gui-application-icon-setup/31718041#31718041", "title": "Qt Gui Application icon setup", "body": "<p>Mingw does not know how to handle a .rc file.</p>\n\n<p>See: <a href=\"http://www.mingw.org/wiki/MS_resource_compiler\" rel=\"nofollow\">http://www.mingw.org/wiki/MS_resource_compiler</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5171055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2752aae80c41bd9125d25955044ce3?s=128&d=identicon&r=PG", "display_name": "Ashish Chauhan", "link": "https://stackoverflow.com/users/5171055/ashish-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1438257019, "creation_date": 1438203745, "last_edit_date": 1438257019, "question_id": 31711055, "link": "https://stackoverflow.com/questions/31711055/qt-gui-application-icon-setup", "title": "Qt Gui Application icon setup", "body": "<p>I want to setup an icon for my qt gui application , and followed the steps listed below:</p>\n\n<pre><code> 1. create an ICO file bitmap That contains the icon image.\n 2. Store the ICO file in app's source code directory.\n 3. create a text file and added these lines \"IDI_ICON1 ICON DISCARDABLE\n 4. myicon.ico\" and saved it as \"myicon.rc\".\n 5. and added these lines in my .pro file \"RC_FILE = MYICON.RC\"\n</code></pre>\n\n<p>but it is giving this error:</p>\n\n<blockquote>\n  <p>mingw32-make[1]: <strong>* No rule to make target '../Test/myicon.rc',\n  needed by 'debug/myicon_res.o'.  Stop. mingw32-make: *</strong> [debug] Error\n  2 02:15:41: The process \"C:\\TDM-GCC-32\\bin\\mingw32-make.exe\" exited\n  with code 2. Error while building/deploying project Test (kit:\n  Desktop) When executing step 'Make'</p>\n</blockquote>\n"}, {"tags": ["c++", "properties"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438203726, "post_id": 31711020, "comment_id": 51360136, "body": "It&#39;s best to avoid this silly pattern altogether... and where&#39;s your <code>const</code>?"}, {"owner": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438203816, "post_id": 31711020, "comment_id": 51360184, "body": "The first is more readable and more widely used in C++. The second is a more .NET, property-driven language type deal that is almost the same as making the value public. It is better to avoid it all together aforementioned."}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438203936, "post_id": 31711020, "comment_id": 51360241, "body": "@LightnessRacesinOrbit Ups, forgot the <code>const</code>. Fixed."}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1438203956, "post_id": 31711020, "comment_id": 51360256, "body": "Why the close vote? Please leave a comment."}, {"owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "reply_to_user": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438203990, "post_id": 31711020, "comment_id": 51360278, "body": "@ZackAllen I would not say that the second is close to .NET, neither that it is close ti exposing backers."}, {"owner": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438204060, "post_id": 31711020, "comment_id": 51360316, "body": "Relevant: <a href=\"http://stackoverflow.com/questions/737409/are-get-and-set-functions-popular-with-c-programmers?rq=1\" title=\"are get and set functions popular with c programmers\">stackoverflow.com/questions/737409/&hellip;</a>"}, {"owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204089, "post_id": 31711020, "comment_id": 51360335, "body": "@LightnessRacesinOrbit Why is <code>const</code> needed? The getters work just fine without, don&#39;t they?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "edited": false, "score": 0, "creation_date": 1438204108, "post_id": 31711020, "comment_id": 51360349, "body": "@Jashaszun: Not if your object is <code>const</code>, no... Why would you <i>not</i> make a getter <code>const</code>?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438204138, "post_id": 31711020, "comment_id": 51360367, "body": "@becko: The close vote is mine and it&#39;s because you are asking for opinions on coding style. That is off-topic here."}, {"owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204245, "post_id": 31711020, "comment_id": 51360431, "body": "@LightnessRacesinOrbit I&#39;m not trying to be purposefully thick here, so sorry if it sounds dumb: the <code>int</code> that is getting returned isn&#39;t <code>const</code>, so why would you declare it as such (or declare the getter as a <code>const</code> function)? When <i>do</i> you want to make a getter <code>const</code>?"}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204300, "post_id": 31711020, "comment_id": 51360455, "body": "@LightnessRacesinOrbit You are partly right. I am not asking for opinion on coding style. Rather, I am asking if the difference between the two forms is <i>only</i> a matter of style. If it is, then I&#39;ll for the second one because I prefer it. But if there is a deeper reason than just style, I would like to know it. I edited to question to make that point clearer."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "edited": false, "score": 1, "creation_date": 1438204351, "post_id": 31711020, "comment_id": 51360480, "body": "@Jashaszun: Always..... A member function that does not mutate its class instance should be marked <code>const</code> so that it may be invoked on a <code>const</code> class instance (or otherwise through an expression of <code>const</code> class type). There is no point in prohibiting such a call (which you do by omitting <code>const</code>) if the function does not mutate its class instance. When do you use member-function <code>const</code> if not here?! And I have no idea what the return type has to do with it."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204448, "post_id": 31711020, "comment_id": 51360528, "body": "@becko: Of course it is. It&#39;s just a name. Though Anthony has a reasonable point about overload resolution."}, {"owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204476, "post_id": 31711020, "comment_id": 51360543, "body": "@LightnessRacesinOrbit Oh... I guess I&#39;ve never used this feature before. I just read <a href=\"http://stackoverflow.com/questions/3141087/what-is-meant-with-const-at-end-of-function-declaration\" title=\"what is meant with const at end of function declaration\">stackoverflow.com/questions/3141087/&hellip;</a> and now it makes sense. I previously thought that &quot;since functions are <i>already</i> const, the <code>const</code> must apply to the return type <code>int</code>, not the function itself, and what&#39;s the point of that?&quot;"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "edited": false, "score": 0, "creation_date": 1438204690, "post_id": 31711020, "comment_id": 51360665, "body": "@Jashaszun: lol okay"}, {"owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204733, "post_id": 31711020, "comment_id": 51360690, "body": "@LightnessRacesinOrbit What&#39;s funny?"}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1438204819, "post_id": 31711020, "comment_id": 51360733, "body": "People keep voting to close without giving the reason. I tried to fix the question. Please, state the reason to close."}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1438203763, "post_id": 31711056, "comment_id": 51360153, "body": "What &quot;standard&quot;? The first form is actually <i>not</i> what the C++ standard uses; the second form is. So, um.."}, {"owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438203995, "post_id": 31711056, "comment_id": 51360279, "body": "Changed it. I meant &quot;standard&quot; as in the first form is the way I have seen it, and am willing to bet most others have seen also."}, {"owner": {"reputation": 414, "user_id": 5003554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd13be4a53ba0b775c38914dd1c95f29?s=128&d=identicon&r=PG&f=1", "display_name": "TheSmartWon", "link": "https://stackoverflow.com/users/5003554/thesmartwon"}, "edited": false, "score": 0, "creation_date": 1438204018, "post_id": 31711056, "comment_id": 51360292, "body": "The &#39;standard&#39; is pretty trivial over something like this. I agree, it&#39;s best to go with something readable."}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1438204036, "post_id": 31711056, "comment_id": 51360301, "body": "Where is this &quot;standard&quot; written? If it&#39;s just a matter of readability, then it is a matter of taste, I think. I find the second form more readable. That&#39;s my opinion, anyway."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204054, "post_id": 31711056, "comment_id": 51360312, "body": "@LawrenceAiello: There is no meaning of &quot;standard&quot; that would have been correct there. That was my main point. The fact that the C++ standard happens to disagree with your viewpoint was an ironic added bonus ;)"}, {"owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "reply_to_user": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1438204155, "post_id": 31711056, "comment_id": 51360373, "body": "@becko I respectfully disagree. Some programmers &quot;taste&quot; is to name every variable with a single character like <code>x</code> and <code>y</code>. You may think it makes sense to you, but to the poor sod who has to read it after you leave the company, it makes no sense."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438204193, "post_id": 31711056, "comment_id": 51360396, "body": "@LawrenceAiello: Unless those variables represent co-ordinates in a Cartesian system, such programmers should be shot! The same goes for whoever allowed the code to escape code review."}], "tags": [], "owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "is_accepted": false, "score": 0, "last_activity_date": 1438203969, "last_edit_date": 1438203969, "creation_date": 1438203745, "answer_id": 31711056, "question_id": 31711020, "link": "https://stackoverflow.com/questions/31711020/overload-of-single-method-vs-get-set-for-properties-in-c/31711056#31711056", "title": "Overload of single method vs get/set for properties in C++?", "body": "<p>The first form is much easier to understand from a maintenance perspective.</p>\n\n<p>Remember, you're not just programming for you, but <strong>for every person who has to read/modify your code afterwards.</strong> So I would go with the first form since the function names easily say what they do.</p>\n"}, {"tags": [], "owner": {"reputation": 6647, "user_id": 600591, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ef7d25f8a1dc499c1bf802be93f4007c?s=128&d=identicon&r=PG", "display_name": "anthonyvd", "link": "https://stackoverflow.com/users/600591/anthonyvd"}, "is_accepted": false, "score": 1, "last_activity_date": 1438204324, "creation_date": 1438204324, "answer_id": 31711217, "question_id": 31711020, "link": "https://stackoverflow.com/questions/31711020/overload-of-single-method-vs-get-set-for-properties-in-c/31711217#31711217", "title": "Overload of single method vs get/set for properties in C++?", "body": "<p>The rationale behind choosing the first style is one of semantics. A (member in this case) function represents an action and calling a function carries the meaning of requesting the associated action be executed. Because of this, they're typically named after verbs:</p>\n\n<ul>\n<li><code>get_property()</code></li>\n<li><code>create_foo()</code></li>\n<li><code>compute_bar()</code></li>\n<li><code>show_button()</code></li>\n</ul>\n\n<p>It's also clearer what you're doing in some contexts, such as when taking the address of a member function:</p>\n\n<pre><code>auto foo = &amp;A::property; \n// Is property a member function or a member variable here?\n</code></pre>\n\n<p>No one is stopping you from going with the second option, in fact a lot of people <a href=\"http://google-styleguide.googlecode.com/svn/trunk/cppguide.html#Function_Names\" rel=\"nofollow\">use a mix of both</a> but the first one definitely aligns better with what a function or method represents in a programming language.</p>\n"}, {"tags": [], "owner": {"reputation": 1197, "user_id": 1771683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lb12B.jpg?s=128&g=1", "display_name": "Toby Liu", "link": "https://stackoverflow.com/users/1771683/toby-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1438204574, "creation_date": 1438204574, "answer_id": 31711282, "question_id": 31711020, "link": "https://stackoverflow.com/questions/31711020/overload-of-single-method-vs-get-set-for-properties-in-c/31711282#31711282", "title": "Overload of single method vs get/set for properties in C++?", "body": "<p>You have two functions with the same name, but their responsibilities are discrete from each other. One of them has a side-effect of modifying the state of an object, the other one only reads and returns the state of an object. The underlying principle here, I believe, is simply separation of concern. </p>\n"}], "owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "closed_date": 1438204947, "answer_count": 3, "score": 2, "last_activity_date": 1438204574, "creation_date": 1438203591, "last_edit_date": 1438204226, "question_id": 31711020, "link": "https://stackoverflow.com/questions/31711020/overload-of-single-method-vs-get-set-for-properties-in-c", "closed_reason": "Opinion-based", "title": "Overload of single method vs get/set for properties in C++?", "body": "<p>I have a class <code>A</code> with a property named <code>prop</code> of type <code>int</code>. Getters and setters are usually implemented as follows:</p>\n\n<pre><code>class A\n{\n    void set_prop(int value);   // set\n    int get_prop() const;    // get\n}\n</code></pre>\n\n<p>Is there a reason to prefer this design, instead of using two overloads with the same name, as follows?</p>\n\n<pre><code>class A\n{\n    void prop(int value);   // set\n    int prop() const;    // get\n}\n</code></pre>\n\n<p>I like the last form better (maybe it's just a matter of taste). But I have usually seen the first form. So I am wondering if there is a deep reason to prefer one over the other? That is, is this just a matter of style, or is there an Object Oriented principle that says one is better than the other?</p>\n"}, {"tags": ["c++", "algorithm", "sorting", "quicksort"], "comments": [{"owner": {"reputation": 179, "user_id": 1470901, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/376509fb0b45d95c6a2a7aa59a3f34f2?s=128&d=identicon&r=PG", "display_name": "user1470901", "link": "https://stackoverflow.com/users/1470901/user1470901"}, "edited": false, "score": 0, "creation_date": 1438204313, "post_id": 31720408, "comment_id": 51377585, "body": "Okay I will do that."}, {"owner": {"reputation": 179, "user_id": 1470901, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/376509fb0b45d95c6a2a7aa59a3f34f2?s=128&d=identicon&r=PG", "display_name": "user1470901", "link": "https://stackoverflow.com/users/1470901/user1470901"}, "edited": false, "score": 0, "creation_date": 1438210241, "post_id": 31720408, "comment_id": 51377586, "body": "Thanks, hopefully I will be able to get it soon."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438250133, "post_id": 31720408, "comment_id": 51377882, "body": "Heh, 10000 easily fits into a <code>short int</code>. You need at least 10 digits to exceed <code>long int</code>."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1438250979, "post_id": 31720408, "comment_id": 51378418, "body": "The first <code>for</code>-loop has a hardcoded <code>8</code> which should be <code>rightend</code> instead. The <code>rightend++</code> does not make sense. Why does the array become bigger? The <code>comparison++</code> is in the wrong place, even if <code>arr[j] == pivot)</code> you still made 2 comparisons but you say you did 0. Why are you <a href=\"http://www.cplusplus.com/reference/algorithm/swap/\" rel=\"nofollow noreferrer\"><code>swap</code>ing</a> <code>arr[0]</code> with <code>arr[i-1]</code>? There are too many bugs, the answer and your code would not have much in common, so you may as well look up an implementation on wikipedia or something."}, {"owner": {"reputation": 179, "user_id": 1470901, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/376509fb0b45d95c6a2a7aa59a3f34f2?s=128&d=identicon&r=PG", "display_name": "user1470901", "link": "https://stackoverflow.com/users/1470901/user1470901"}, "edited": false, "score": 0, "creation_date": 1438271289, "post_id": 31720408, "comment_id": 51392609, "body": "Actually rightend should not be rightend++, I have changed that in my code. The reason for the swap is just because it is mandatory that I do it that way. It also makes sense, as otherwise how would the pivot be sorted if the pivot is always the first element. By doing the swap, I am swapping the first element with the last element smaller than it. Which changes it from pivot|less than pivot|greater than pivot. To less than pivot|pivot|greater to than pivot."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1476648065, "post_id": 31720408, "comment_id": 67422826, "body": "You show code for a purely recursive quicksort (with recursive calls commented out). Production strength quicksort may iterate over the biggest partition, recursing into non-bigger ones. You may be looking for a purely <i>iterative</i> quicksort - if so, please let everybody know <i>just why</i>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7027719"}, "is_accepted": false, "score": 2, "last_activity_date": 1476643671, "creation_date": 1476643671, "answer_id": 40074113, "question_id": 31720408, "link": "https://stackoverflow.com/questions/31720408/how-to-make-quick-sort-recursive/40074113#40074113", "title": "How to make quick sort recursive?", "body": "<p>Here's a C++ implementation of QuickSort using recursion:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\nint partition (int arr[], int low, int high)\n{\n    int pivot = arr[high];    //taking the last element as pivot\n    int i = (low - 1);\n    for (int j = low; j &lt;= high- 1; j++)\n    {\n        // If current element is smaller than or\n        // equal to pivot\n        if (arr[j] &lt;= pivot)\n        {\n            i++;\n            swap(arr[i], arr[j]);\n        }\n    }\n    swap(arr[i + 1], arr[high]);\n    return (i + 1);\n}\n\nvoid quickSort(int arr[], int low, int high)\n{\n    if (low &lt; high)\n    {\n        int pi = partition(arr, low, high);\n        quickSort(arr, low, pi - 1);\n        quickSort(arr, pi + 1, high);\n    }\n}\n\nint main()\n{\n    int arr[] = {10, 7, 8, 9, 1, 5};\n    int n = sizeof(arr)/sizeof(arr[0]);\n    quickSort(arr, 0, n-1);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2084, "user_id": 4436434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/76Myg.png?s=128&g=1", "display_name": "BrunoLevy", "link": "https://stackoverflow.com/users/4436434/brunolevy"}, "is_accepted": false, "score": 2, "last_activity_date": 1476647268, "last_edit_date": 1476647268, "creation_date": 1476646617, "answer_id": 40074604, "question_id": 31720408, "link": "https://stackoverflow.com/questions/31720408/how-to-make-quick-sort-recursive/40074604#40074604", "title": "How to make quick sort recursive?", "body": "<p>Here is a short version that uses std::nth_element():</p>\n\n<pre><code>template &lt;class ITR&gt; void quick_sort(ITR b, ITR e) {\n    if(e-b &lt; 2) {\n        return;\n    }\n    ITR m = b+(e-b)/2;\n    std::nth_element(b, m, e);\n    quick_sort(b,m);\n    quick_sort(m,e);\n}\n</code></pre>\n\n<p>It can be called with any random access iterator, e.g.,</p>\n\n<pre><code>std::vector&lt;int&gt; V = ....;\nquick_sort(V.begin(), V.end());\n</code></pre>\n\n<p>Note: it is probably a little bit more costly that a standard quick sort, but it is interesting because the sorting criterion can be changed between the levels. This feature can be used for instance to organize multidimensional points data along a space filling curve (Hilbert sort), as done in the CGAL library [1]. Note: std::nth_element() is bugged in gcc 4.8.1 [2], but it is fixed in more recent versions.</p>\n\n<p>[1] <a href=\"http://doc.cgal.org/latest/Spatial_sorting/index.html\" rel=\"nofollow\">http://doc.cgal.org/latest/Spatial_sorting/index.html</a></p>\n\n<p>[2] <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=58800\" rel=\"nofollow\">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=58800</a></p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://computerscience.stackexchange.com"], "markdown_extensions": ["MathJax", "Prettify"], "launch_date": 1439905020, "open_beta_date": 1332272936, "closed_beta_date": 1331060400, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/cs/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/cs/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/cs/Img/apple-touch-icon.png", "audience": "students, researchers and practitioners of computer science", "site_url": "https://cs.stackexchange.com", "api_site_parameter": "cs", "logo_url": "https://cdn.sstatic.net/Sites/cs/Img/logo.png", "name": "Computer Science", "site_type": "main_site"}, "on_date": 1438249704, "question_id": 44853}, "owner": {"reputation": 179, "user_id": 1470901, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/376509fb0b45d95c6a2a7aa59a3f34f2?s=128&d=identicon&r=PG", "display_name": "user1470901", "link": "https://stackoverflow.com/users/1470901/user1470901"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5419, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476647268, "creation_date": 1438203393, "last_edit_date": 1438249719, "question_id": 31720408, "link": "https://stackoverflow.com/questions/31720408/how-to-make-quick-sort-recursive", "title": "How to make quick sort recursive?", "body": "<p>Currently I am trying to make a recursive quick sort. There are many different methods for quick sort but for my method, I have to take the first element of the array and always use the first element of the array as the pivot. Then I compare it to all the elements and get the total number of comparisons. Elements that are smaller than the array should be behind the pivot followed by those that are bigger. So it should be pivot|elements smaller than pivot|elements greater than pivot. After comparing all the pivots, you should take the last element of the side that is smaller than the pivot and swap it with the pivot at the front. Currently I am lost on the how to make it recursive as I do believe I have successfully written code for the first pass. I am stuck trying to make it recursive so that it will call multiple passes of itself and that they are split. It would be stupid for it to sort all of it again. Instead, it should split the array into two parts, and recurse through the side smaller than the original pivot and the side bigger than the original pivot. This is a test case, as I later have to use this algorithm on a data file of 10,000 numbers (which is why I used long long although now that I think about it, it probably is overkill).</p>\n\n<p>Below is my code in C++:</p>\n\n<pre><code>    #include &lt;stdio.h&gt;\n    #include &lt;iostream&gt;\n    using namespace std;\n\n    long long quicksort(long long arr[],long long leftbegin, long long rightend)\n    {\n        long long i = leftbegin + 1;\n        long long pivot = arr[leftbegin];\n        long long comparisons = 0;\n        for(long long j = i; j &lt; 8; j++)\n        {\n            if(arr[j] &gt; pivot)\n            {\n                rightend++;\n                comparisons ++;\n            }\n            if(arr[j] &lt; pivot)\n            {\n                long long temp = 0;\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n                comparisons ++;\n                i = i+1;\n            }\n        }\n        long long temp = 0;\n        temp = arr[0];\n        arr[0] = arr[i-1];\n        arr[i-1] = temp;\n    //    for(int x = 0; x&lt; 8; x++)\n    //    {\n    //        if(arr[x+1] &gt;= arr[x])\n    //        {\n    //    \n    //        }\n    //        else\n    //        {\n    //            quicksort(arr,0,i);\n    //            quicksort(arr,i+1,(rightend + 0));\n    //        }\n    //    }\n    //    \n        return comparisons;\n    }\n\n    /* Driver program to test above functions */\n    int main ()\n    {\n        long long arr[8]= {3,8,2,5,1,4,7,6};\n        cout&lt;&lt;\"the number of comparisons are \"&lt;&lt;quicksort(arr,0,8)&lt;&lt;endl;\n        cout&lt;&lt;endl&lt;&lt;\"arr is \"&lt;&lt;endl;\n        for(int i = 0; i &lt; 8; i++)\n        {\n            cout&lt;&lt;arr[i]&lt;&lt;endl;\n        }\n\n    }\n</code></pre>\n\n<p>If I deleted the comments and ran the code with the commented part, it gives me error at long long temp = 0;, it will say exec bad access, even though it is able to run successfully. I use a mac and Xcode if it matters.         </p>\n"}, {"tags": ["c++", "browser", "xhtml", "cgi"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1438203030, "post_id": 31710750, "comment_id": 51359705, "body": "Google &quot;url encoding&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 2946845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e046d4607e289fcb6989d7a563723f?s=128&d=identicon&r=PG&f=1", "display_name": "SteJ", "link": "https://stackoverflow.com/users/2946845/stej"}, "is_accepted": true, "score": 3, "last_activity_date": 1438203343, "creation_date": 1438203343, "answer_id": 31710954, "question_id": 31710750, "link": "https://stackoverflow.com/questions/31710750/xhtml-special-characters-between-different-browsers/31710954#31710954", "title": "xhtml special characters between different browsers", "body": "<p>It's IE that's doing it wrong in actual fact - You need to change the %xx code back to a character. In the case of %40 this would be ASCII no. 0x40 == 64 == '@'. You can't rely on it being ASCII, however, as unicode characters (such as accented letters) will also be similarly encoded.</p>\n\n<p>Most languages like PHP and Python have a helper function to encode and decode these (PHP's is called url_encode() and url_decode()) - I've not used CGI on C++ for a long while, so not sure if there's a helper readily available or if you'll have to code your own - either way you should be prepared to decode url-encoded strings as all browsers will do this for some characters if not all (eg. %20 instead of a space is very common).</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 4974001, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65fecb2973c1c52d1d898ec8b0aa5525?s=128&d=identicon&r=PG&f=1", "display_name": "shayan", "link": "https://stackoverflow.com/users/4974001/shayan"}, "is_accepted": false, "score": 1, "last_activity_date": 1438208102, "creation_date": 1438208102, "answer_id": 31712109, "question_id": 31710750, "link": "https://stackoverflow.com/questions/31710750/xhtml-special-characters-between-different-browsers/31712109#31712109", "title": "xhtml special characters between different browsers", "body": "<p>the answer above is correct , just in make the topic richer i think this peace of code can be the function you use : </p>\n\n<pre><code>     int main()\n{\n    int number;\n    string dataString=\"hi %40 c++ programmer %40 !\";\n    string transform;\n    istringstream input;\n\n    string::size_type location = dataString.find(\"%\");\n    while (location &lt;string::npos)\n    {\n        transform = dataString.substr(location+1, 2);\n        input.str(transform);\n        input &gt;&gt; hex &gt;&gt; number;\n        dataString.replace(location,3,1,static_cast&lt;char&gt;(number));\n        location = dataString.find(\"%\", location+1);\n    }\n    cout &lt;&lt; dataString &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 4974001, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65fecb2973c1c52d1d898ec8b0aa5525?s=128&d=identicon&r=PG&f=1", "display_name": "shayan", "link": "https://stackoverflow.com/users/4974001/shayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 31710954, "answer_count": 2, "score": 2, "last_activity_date": 1438208102, "creation_date": 1438202698, "question_id": 31710750, "link": "https://stackoverflow.com/questions/31710750/xhtml-special-characters-between-different-browsers", "title": "xhtml special characters between different browsers", "body": "<p>i am working on a cgi program , i am receiving an email address like this : someone@site.com and storing it in a file. \nbut some thing strange happens. when i use IE the '@' char , won't change and it is same in the file , but when i use chrome , '@' char ,changes to %40 and the only way to retrieve the '@' is to find %40 and replace it with '@'.am i coding wrong or chrome has problem?</p>\n\n<p>to understand better : \nIE: someone@site.com\nChrome:someone%40site.com</p>\n\n<p>and when i send information back to the browser ,  %40 doesn't change to @</p>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438202850, "post_id": 31710703, "comment_id": 51359611, "body": "FWIW, I took the liberty of the pointless initialization of hFile to a value that is immediately overwritten."}], "answers": [{"comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1438207346, "post_id": 31710766, "comment_id": 51361826, "body": "One exception: a long path, i.e., one beginning with \\\\?\\, must already be canonical."}, {"owner": {"reputation": 858, "user_id": 1993396, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1386d0e6a382d1b5cbb44652736cb25?s=128&d=identicon&r=PG", "display_name": "Ayman Salah", "link": "https://stackoverflow.com/users/1993396/ayman-salah"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1610486846, "post_id": 31710766, "comment_id": 116148294, "body": "@HarryJohnston This is a really important note!"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 3, "last_activity_date": 1438202777, "creation_date": 1438202777, "answer_id": 31710766, "question_id": 31710703, "link": "https://stackoverflow.com/questions/31710703/createfile-with-abnormal-path-such-as-c-test-file-txt-implications/31710766#31710766", "title": "CreateFile(...) with abnormal path such as &quot;C:\\\\test\\\\\\\\file.txt&quot; implications", "body": "<p>No. Windows will generate a canonical path from the string you give it. That includes resolving relative paths (including the collapse of <code>.</code> and the expansion of <code>..</code>) and collapsing redundant path separators.</p>\n\n<p>The file will be called <code>file.txt</code> and will live under <code>\\test</code> on the <code>C:</code> drive, and that's that.</p>\n\n<p>This is actually not documented, as far as I can tell, which is kind of weird.</p>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx</a></li>\n</ul>\n"}], "owner": {"reputation": 452, "user_id": 3771965, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/kc9ej.jpg?s=128&g=1", "display_name": "Hillboy", "link": "https://stackoverflow.com/users/3771965/hillboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 31710766, "answer_count": 1, "score": 1, "last_activity_date": 1438202925, "creation_date": 1438202551, "last_edit_date": 1438202925, "question_id": 31710703, "link": "https://stackoverflow.com/questions/31710703/createfile-with-abnormal-path-such-as-c-test-file-txt-implications", "title": "CreateFile(...) with abnormal path such as &quot;C:\\\\test\\\\\\\\file.txt&quot; implications", "body": "<p>Are there any unforeseen consequences when create a file with two backslashes in it's path.</p>\n\n<p>In this code the file creates fine but I'm wondering if there are any side-effects I may see down the road with this file.</p>\n\n<pre><code> HANDLE hFile = CreateFile(\n    TEXT(\"C:\\\\test\\\\\\\\file.txt\"),                \n    GENERIC_WRITE,          \n    0,                      \n    NULL,                   \n    CREATE_NEW,             \n    FILE_ATTRIBUTE_NORMAL,  \n    NULL\n);             \n</code></pre>\n"}, {"tags": ["c++", "arrays", "char", "c++14", "constexpr"], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438202631, "post_id": 31710682, "comment_id": 51359505, "body": "<code>auto count = static_cast&lt;std::size_t&gt;(0);</code> Seriously?"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438202914, "post_id": 31710682, "comment_id": 51359642, "body": "@LightnessRacesinOrbit When I first saw this suggested in <i>Effective Modern C++</i>, this was my reaction, too.  But I have to admit that I&#39;m getting more and more used to it."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438202958, "post_id": 31710682, "comment_id": 51359666, "body": "It&#39;s completely absurd. And sad. :-("}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1438211314, "post_id": 31710682, "comment_id": 51363180, "body": "Note that you may work with reference to char array <code>template &lt;typename CharT, std::size_t N&gt; constexpr std::size_t strlen_c(const CharT (&amp;)[N]) noexcept {return N;}</code> and <code>std::index_sequence</code>"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1438263637, "post_id": 31710682, "comment_id": 51386877, "body": "And there I was, finding Sutter&#39;s <code>auto foo = type{bar};</code> too verbose."}], "tags": [], "owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "is_accepted": false, "score": 2, "last_activity_date": 1438202487, "creation_date": 1438202487, "answer_id": 31710682, "question_id": 31710681, "link": "https://stackoverflow.com/questions/31710681/truncate-a-string-at-compile-time/31710682#31710682", "title": "Truncate a String at Compile-Time", "body": "<p>The first step in solving this problem is formalizing it.  Given a string (character sequence)</p>\n\n<p><i>s</i> = <i>s</i><sub>0</sub>, &hellip;, <i>s</i><sub><i>m</i></sub></p>\n\n<p>with <i>s</i><sub><i>i</i></sub> = 0 if and only if <i>i</i> = <i>m</i> for <i>i</i> = 0, &hellip;, <i>m</i> and <i>m</i> &isin; &#x2115; and a number <i>n</i> &isin; &#x2115;, we want to obtain another string (character sequence)</p>\n\n<p><i>t</i> = <i>t</i><sub>0</sub>, &hellip;, <i>t</i><sub><i>n</i></sub></p>\n\n<p>with</p>\n\n<ul>\n<li><i>t</i><sub><i>i</i></sub> = 0 if <i>i</i> = <i>n</i>,</li>\n<li><i>t</i><sub><i>i</i></sub> = <i>s</i><sub><i>i</i></sub> if <i>i</i> &lt; <i>m</i> and</li>\n<li><i>t</i><sub><i>i</i></sub> = 0 otherwise</li>\n</ul>\n\n<p>for <i>i</i> = 0, &hellip;, <i>n</i>.</p>\n\n<p>Next, realize that the length of a string (<i>m</i> in the above formalization) is readily computed at compile-time:</p>\n\n<pre><code>template &lt;typename CharT&gt;\nconstexpr auto\nstrlen_c(const CharT *const string) noexcept\n{\n  auto count = static_cast&lt;std::size_t&gt;(0);\n  for (auto s = string; *s; ++s)\n    ++count;\n  return count;\n}\n</code></pre>\n\n<p>I'm making use of C++14 features like return type deduction and generalized <code>constexpr</code> functions here.</p>\n\n<p>Now the function that, given <i>i</i> &isin; 0, &hellip;, <i>n</i>, computes <i>t</i><sub><i>i</i></sub> is also straight-forward.</p>\n\n<pre><code>template &lt;typename CharT&gt;\nconstexpr auto\nchar_at(const CharT *const string, const std::size_t i) noexcept\n{\n  return (strlen_c(string) &gt; i) ? string[i] : static_cast&lt;CharT&gt;(0);\n}\n</code></pre>\n\n<p>If we know <i>n</i> ahead of time, we can use this to put together a first quick-and-dirty solution:</p>\n\n<pre><code>constexpr char text[] = {\n  char_at(SOMETEXT, 0), char_at(SOMETEXT, 1),\n  char_at(SOMETEXT, 2), char_at(SOMETEXT, 3),\n  char_at(SOMETEXT, 4), char_at(SOMETEXT, 5),\n  char_at(SOMETEXT, 6), char_at(SOMETEXT, 7),\n  '\\0'\n};\n</code></pre>\n\n<p>It compiles and initializes <code>text</code> with the desired values, but that's about all good that can be said about it.  The fact that the length of the string is needlessly computed over and over again in each call to <code>char_at</code> is probably the least concern.  What is more problematic is that the solution (as ugly as it already is) clearly grows totally unwieldy if <i>n</i> approaches larger values and that the constant <i>n</i> is implicitly hard-coded.  Don't even consider using tricks like</p>\n\n<pre><code>constexpr char text[LIMIT] = {\n#if LIMIT &gt; 0\n  char_at(SOMETEXT, 0),\n#endif\n#if LIMIT &gt; 1\n  char_at(SOMETEXT, 1),\n#endif\n#if LIMIT &gt; 2\n  char_at(SOMETEXT, 2),\n#endif\n  // ...\n#if LIMIT &gt; N\n#  error \"LIMIT &gt; N\"\n#endif\n  '\\0'\n};\n</code></pre>\n\n<p>to work around this limitation.  The <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/preprocessor/doc/\" rel=\"nofollow\">Boost.Preprocessor</a> library might help cleaning this mess up somewhat but it's not worth the thing.  There is a much cleaner solution using template meta-programming waiting around the corner.</p>\n\n<p>Let's see how we can write a function that returns the properly initialized array at compile-time.  Since a function cannot return an array, we need to wrap it in a <code>struct</code> but as it turns out, <code>std::array</code> already does this (and more) for us, so we'll use it.</p>\n\n<p>I define a template helper <code>struct</code> with a <code>static</code> function <code>help</code> that returns the desired <code>std::array</code>.  Besides from the character type parameter <code>CharT</code>, this <code>struct</code> is templated on the length <code>N</code> to which to truncate the string (equivalent to <i>n</i> in the above formalization) and the number <code>M</code> of characters we have already added (this has nothing to do with the variable <i>m</i> in the above formalization).</p>\n\n<pre><code>template &lt;std::size_t N, std::size_t M, typename CharT&gt;\nstruct truncation_helper\n{\n  template &lt;typename... CharTs&gt;\n  static constexpr auto\n  help(const CharT *const string,\n       const std::size_t length,\n       const CharTs... chars) noexcept\n  {\n    static_assert(sizeof...(chars) == M, \"wrong instantiation\");\n    const auto c = (length &gt; M) ? string[M] : static_cast&lt;CharT&gt;(0);\n    return truncation_helper&lt;N, M + 1, CharT&gt;::help(string, length, chars..., c);\n  }\n};\n</code></pre>\n\n<p>As you can see, <code>truncation_helper::help</code> recursively calls itself popping one character off the front of the to-be-truncated string as it goes.  I'm passing the length of the string around as an additional parameter to avoid it having to be re-computed in each recursive call anew.</p>\n\n<p>We terminate the process as <code>M</code> reaches <code>N</code> by providing this partial specialization.  This is also the reason why I need the <code>struct</code> because function templates cannot be partially specialized.</p>\n\n<pre><code>template &lt;std::size_t N, typename CharT&gt;\nstruct truncation_helper&lt;N, N, CharT&gt;\n{\n  template &lt;typename... CharTs&gt;\n  static constexpr auto\n  help(const CharT *,       // ignored\n       const std::size_t,   // ignored\n       const CharTs... chars) noexcept\n  {\n    static_assert(sizeof...(chars) == N, \"wrong instantiation\");\n    return truncation_helper::workaround(chars..., static_cast&lt;CharT&gt;(0));\n  }\n\n  template &lt;typename... CharTs&gt;\n  static constexpr auto\n  workaround(const CharTs... chars) noexcept\n  {\n    static_assert(sizeof...(chars) == N + 1, \"wrong instantiation\");\n    std::array&lt;CharT, N + 1&gt; result = { chars... };\n    return result;\n  }\n};\n</code></pre>\n\n<p>The terminating invocation of <code>help</code> does not use the <code>string</code> and <code>length</code> parameters but has to accept them nevertheless for compatibility.</p>\n\n<p>For reasons I don't understand, I cannot use</p>\n\n<pre><code>std::array&lt;CharT, N + 1&gt; result = { chars..., 0 };\nreturn result;\n</code></pre>\n\n<p>but rather have to call the <code>workaround</code> helper-helper function.</p>\n\n<p>What smells a little about this solution is that I need the <code>static_assert</code>ions to make sure the correct instantiation is called and that my solution introduces all those <code>CharTs...</code> type parameters when we actually already know that the type must be <code>CharT</code> for all of the <code>chars...</code> parameters.</p>\n\n<p>Putting it all together, we get the following solution.</p>\n\n<pre><code>#include &lt;array&gt;\n#include &lt;cstddef&gt;\n\nnamespace my\n{\n\n  namespace detail\n  {\n\n    template &lt;typename CharT&gt;\n    constexpr auto\n    strlen_c(const CharT *const string) noexcept\n    {\n      auto count = static_cast&lt;std::size_t&gt;(0);\n      for (auto s = string; *s; ++s)\n        ++count;\n      return count;\n    }\n\n    template &lt;std::size_t N, std::size_t M, typename CharT&gt;\n    struct truncation_helper\n    {\n      template &lt;typename... CharTs&gt;\n      static constexpr auto\n      help(const CharT *const string, const std::size_t length, const CharTs... chars) noexcept\n      {\n        static_assert(sizeof...(chars) == M, \"wrong instantiation\");\n        const auto c = (length &gt; M) ? string[M] : static_cast&lt;CharT&gt;(0);\n        return truncation_helper&lt;N, M + 1, CharT&gt;::help(string, length, chars..., c);\n      }\n    };\n\n    template &lt;std::size_t N, typename CharT&gt;\n    struct truncation_helper&lt;N, N, CharT&gt;\n    {\n      template &lt;typename... CharTs&gt;\n      static constexpr auto\n      help(const CharT *, const std::size_t, const CharTs... chars) noexcept\n      {\n        static_assert(sizeof...(chars) == N, \"wrong instantiation\");\n        return truncation_helper::workaround(chars..., static_cast&lt;CharT&gt;(0));\n      }\n\n      template &lt;typename... CharTs&gt;\n      static constexpr auto\n      workaround(const CharTs... chars) noexcept\n      {\n        static_assert(sizeof...(chars) == N + 1, \"wrong instantiation\");\n        std::array&lt;CharT, N + 1&gt; result = { chars... };\n        return result;\n      }\n    };\n\n  }  // namespace detail\n\n  template &lt;std::size_t N, typename CharT&gt;\n  constexpr auto\n  truncate(const CharT *const string) noexcept\n  {\n    const auto length = detail::strlen_c(string);\n    return detail::truncation_helper&lt;N, 0, CharT&gt;::help(string, length);\n  }\n\n}  // namespace my\n</code></pre>\n\n<p>It can then be used like this:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;cstring&gt;\n\n#include \"my_truncate.hxx\"  // suppose we've put above code in this file\n\n#ifndef SOMETEXT\n#  define SOMETEXT \"example\"\n#endif\n\nnamespace /* anonymous */\n{\n  constexpr auto limit = static_cast&lt;std::size_t&gt;(8);\n  constexpr auto text = my::truncate&lt;limit&gt;(SOMETEXT);\n}\n\nint\nmain()\n{\n  std::printf(\"text = \\\"%s\\\"\\n\", text.data());\n  std::printf(\"len(text) = %lu &lt;= %lu\\n\", std::strlen(text.data()), limit);\n}\n</code></pre>\n\n<p><strong>Acknowledgments</strong> This solution was inspired by the following answer: <a href=\"https://stackoverflow.com/questions/19019252/c11-create-0-to-n-constexpr-array-in-c\">c++11: Create 0 to N constexpr array in c++</a></p>\n"}, {"comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1438261442, "post_id": 31712928, "comment_id": 51385240, "body": "That&#39;s pretty cool, definitely more elegant than mine.  I would only add a <code>static_cast&lt;C&gt;(0)</code> to silence the numerous (harmless) warnings. Do you know why your <code>return {(&#47;* param pack expr *&#47;)..., 0};</code> correctly initializes the array as it ought to but I had to use the <code>workaround</code>?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1438263191, "post_id": 31712928, "comment_id": 51386513, "body": "@5gon12eder: I don&#39;t see why you need the <code>workaround</code> part. it works also for your code without <a href=\"http://ideone.com/um0IWd\" rel=\"nofollow noreferrer\">Here</a>."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1438264076, "post_id": 31712928, "comment_id": 51387254, "body": "Because the first <code>text = &quot;&quot;</code> is not exactly what I expect for <code>&quot;example&quot;</code> being truncated to 8 characters."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1438268919, "post_id": 31712928, "comment_id": 51390910, "body": "@5gon12eder: I didn&#39;t check output :-/ but gcc and clang behave differently <a href=\"http://coliru.stacked-crooked.com/a/de9d883bfcade443\" rel=\"nofollow noreferrer\">here</a> so there is a compiler bug or UB... And I failed to find UB..."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1438436149, "post_id": 31712928, "comment_id": 51457290, "body": "Thank you for looking into this.  I have asked <a href=\"http://stackoverflow.com/q/31762429/1392132\">a new question</a> about it."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1438262618, "last_edit_date": 1438262618, "creation_date": 1438212955, "answer_id": 31712928, "question_id": 31710681, "link": "https://stackoverflow.com/questions/31710681/truncate-a-string-at-compile-time/31712928#31712928", "title": "Truncate a String at Compile-Time", "body": "<p>An alternative to create the <code>std::array</code>:</p>\n\n<pre><code>namespace detail\n{\n    template &lt;typename C, std::size_t N, std::size_t...Is&gt;\n    constexpr std::array&lt;C, sizeof...(Is) + 1&gt; truncate(const C(&amp;s)[N], std::index_sequence&lt;Is...&gt;)\n    {\n        return {(Is &lt; N ? s[Is] : static_cast&lt;C&gt;(0))..., static_cast&lt;C&gt;(0)};\n    }\n\n}\n\ntemplate &lt;std::size_t L, typename C, std::size_t N&gt;\nconstexpr std::array&lt;C, L + 1&gt; truncate(const C(&amp;s)[N])\n{\n    return detail::truncate(s, std::make_index_sequence&lt;L&gt;{});\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/t80QKe\" rel=\"nofollow\">Demo</a></p>\n"}], "owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "accepted_answer_id": 31712928, "answer_count": 2, "score": 1, "last_activity_date": 1438262618, "creation_date": 1438202487, "question_id": 31710681, "link": "https://stackoverflow.com/questions/31710681/truncate-a-string-at-compile-time", "title": "Truncate a String at Compile-Time", "body": "<p>I have a string literal with a value that is out of my control (for example a <code>#define</code> in a <code>config.h</code> file) and I want to initialize a global fixed-size character array with it.  If the string is too long, I want it to be truncated.</p>\n\n<p>Basically, what I want to achieve is the effect of</p>\n\n<pre><code>#define SOMETEXT \"lorem ipsum\"\n#define LIMIT 8\n\nchar text[LIMIT + 1];\nstd::strncpy(text, SOMETEXT, LIMIT);\ntext[LIMIT] = '\\0';\n</code></pre>\n\n<p>except that I cannot use this code because I want <code>text</code> to be a statically initialized <code>constexpr</code>.</p>\n\n<p>How can I do this?</p>\n\n<blockquote>\n  <p><strong>Note:</strong> I have already found a solution to this problem but since a search on Stack Overflow did not yield me a satisfactory result (though many helpful hints for similar problems), I wanted to share my solution.  If you have a better (more elegant) solution, please show it nevertheless.  I will accept the most elegant answer in one week.</p>\n</blockquote>\n"}, {"tags": ["c++", "visual-c++", "dll"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1438202258, "post_id": 31710556, "comment_id": 51359272, "body": "Make sure that the layout is the same. Don&#39;t do this with project settings. Do it in code in the header file, using pragmas."}, {"owner": {"reputation": 1206, "user_id": 5140740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Gcmn.jpg?s=128&g=1", "display_name": "V-R", "link": "https://stackoverflow.com/users/5140740/v-r"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438202610, "post_id": 31710556, "comment_id": 51359490, "body": "Thanks. I&#39;m just wondering if it&#39;s really only about Struct Member Alignment / #pragma pack or any other project settings might be involved, assuming the allocation/deallocation has guaranteed affinity."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438202725, "post_id": 31710556, "comment_id": 51359555, "body": "No idea what allocation affinity is. I don&#39;t think the constructors are a good idea either. Why don&#39;t you just use PODs with defined alignment?"}, {"owner": {"reputation": 1206, "user_id": 5140740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Gcmn.jpg?s=128&g=1", "display_name": "V-R", "link": "https://stackoverflow.com/users/5140740/v-r"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438203764, "post_id": 31710556, "comment_id": 51360154, "body": "Sorry for trying to invoke fancy English. By allocation affinity, I meant &quot;allocation/deallocation is always done in the same DLL&quot; but this would extend the scope of the question, so nevermind that - I&#39;m just trying to learn more about project settings relevant to dll-interfacing. I can&#39;t just use PODs because the codebase is huge and there might be worse things to fix, and I can&#39;t spend as much time as I would like on general refactoring."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438203939, "post_id": 31710556, "comment_id": 51360245, "body": "Perhaps you should just give up if you have to do it in ways that are known not to work."}, {"owner": {"reputation": 1206, "user_id": 5140740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Gcmn.jpg?s=128&g=1", "display_name": "V-R", "link": "https://stackoverflow.com/users/5140740/v-r"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1438204210, "post_id": 31710556, "comment_id": 51360408, "body": "I don&#39;t have the luxury of a greenfield project, the existing codebase is full of things that shouldn&#39;t work. But instead of giving up, I prefer to prioritise and fix the nastiest problems first. The purpose of the question was to learn how to figure out what to fix first."}, {"owner": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "edited": false, "score": 1, "creation_date": 1438204630, "post_id": 31710556, "comment_id": 51360638, "body": "I would expect different struct member alignment between different components at the time of compilation to be a problem no matter what is being done. Even if it is a static library which uses one struct alignment and another library using another will cause problems when structs are passed between components."}], "owner": {"reputation": 1206, "user_id": 5140740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Gcmn.jpg?s=128&g=1", "display_name": "V-R", "link": "https://stackoverflow.com/users/5140740/v-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438205453, "creation_date": 1438202004, "last_edit_date": 1438205453, "question_id": 31710556, "link": "https://stackoverflow.com/questions/31710556/how-dangerous-is-c-dll-interfacing-using-non-exported-non-pod-types", "title": "How dangerous is C++ DLL interfacing using non-exported, non-POD types?", "body": "<p>Let's say we build 2 C++ DLLs as part of a huge in-house codebase: a Core.DLL and Another.DLL calling the Core.DLL. Each DLL gets built with the same version of Visual Studio but with very different project settings, including e.g. C/C++->Code Generation->Struct Member Alignment.</p>\n\n<p>Now let's say we pass a reference to CoreData when calling Core.DLL from Another.DLL, but the CoreData is not dllexported, it is defined by each DLL independently.</p>\n\n<p>What makes it dangerous to use a non-dllexported class CoreData in such context? <strong>Which project settings are particularly important to keep identical between the DLLs, if we had to (at gunpoint) employ the generally unsafe practice ?</strong></p>\n\n<p>I know that we should be dll-interfacing only with POD types and abstract interfaces (COM-like), the purpose of the question is to learn what really goes on behind the curtains, if one doesn't follow those rules. I will follow these rules, just have to learn how to figure out what to fix first in a large codebase.</p>\n\n<p>Below is my pseudo-code to illustrate the question.</p>\n\n<p>In-depth explanations as well as links to articles or books are very welcome. I've seen a few similar questions on SO but none seemed to be deep enough.</p>\n\n<p><strong>EDIT</strong>: wrapped API header in #pragma pack to counter the different Struct Member Alignment project settings. Is it safe now, or are there any other project settings to keep an eye on?  </p>\n\n<p>Cheers!</p>\n\n<pre><code>// CoreDllApi.h\n\n#pragma once\n\n#ifdef COREDLL_EXPORTS\n#define COREDLL_API __declspec(dllexport)\n#else\n#define COREDLL_API __declspec(dllimport)\n#endif\n\n#pragma pack(push,8)\nclass CoreData\n{\npublic:\n  CoreData():a(0),b(0),c(.0){}\n  CoreData(int a, int b, double d):a(a),b(b),c(c){}\n  virtual bool IsValid() {return true;}\n  int a;\n  int b;\n  double c; \n};\n#pragma pack(pop)\n\nclass COREDLL_API CoreRetriever\n{\n  static void get(int id, CoreData &amp;out);\n};\n\n// AnotherDll.cpp:\n\n#include \"CoreDllApi.h\"\n#include &lt;iostream&gt;\n\nstatic void ProcessData(int id)\n{\n  CoreData data;\n  CoreRetriever::get(id, data); // danger?\n  std::cout &lt;&lt; data.a &lt;&lt; \";\" &lt;&lt; data.b &lt;&lt; \";\" &lt;&lt; data.c &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "oop", "inheritance", "polymorphism"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1438201385, "post_id": 31710334, "comment_id": 51358820, "body": "1st of all wrong asking without giving a MCVE here!"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1438201418, "post_id": 31710334, "comment_id": 51358837, "body": "Many things could be wrong in your code. How can any one help you without seeing your code?"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 1, "creation_date": 1438201482, "post_id": 31710334, "comment_id": 51358870, "body": "I wonder if you have an object slicing problem... but without seeing code, who knows."}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1438201983, "post_id": 31710334, "comment_id": 51359110, "body": "I will provide source code then in next few minutes"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1438202114, "post_id": 31710334, "comment_id": 51359190, "body": "@RyanP Yes, sounds so thoroughly:<a href=\"http://stackoverflow.com/questions/274626/what-is-object-slicing\">stackoverflow.com/questions/274626/what-is-object&zwnj;&#8203;-slicing</a>"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1438202896, "post_id": 31710334, "comment_id": 51359635, "body": "I&#39;ve provided a source code. Unforunately I can&#39;t give you anything to compile because it would be too large :/ I can&#39;t break down this problem to few lines. Sorry. So, can any one of you see the problem?"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "reply_to_user": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1438280015, "post_id": 31710334, "comment_id": 51397794, "body": "@RyanP and others, I read that question and answers about slicing problem and I understand what is the problem here. But also...I&#39;m not sure about this. In <code>SortingTestSetIterator::get_current()</code>, I create instance of <code>SortingTestCase</code> and then I return pointer to this instance. I believe this is wrong?Because that instance is local variable? But if is not, would it be ok if I return pointer to this <code>SortingTestCase</code> instance, then in my main program I will saved it to <code>TestCase</code> and then I will send it to <code>SortingAbsAlgorithm::init(TestCase*)</code>, then, there I will cast it to <code>SortingTestCase</code>?"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1438280044, "post_id": 31710334, "comment_id": 51397812, "body": "Or am I imagine this all wrong?"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1438281535, "post_id": 31710334, "comment_id": 51398676, "body": "Ah, I figured it out. Actualy I wasn&#39;t doing nothing wrong (except that pointer). I just forget to initialize size of array to class member variable. Thank you for help"}], "owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438218774, "creation_date": 1438201161, "last_edit_date": 1438202765, "question_id": 31710334, "link": "https://stackoverflow.com/questions/31710334/members-of-child-class-are-empty-polymorphism", "title": "Members of child class are empty (polymorphism)", "body": "<p>I have the following problem:\nI have main executable program called <code>algatorc</code>. In this program, I have class called <code>TestCase</code>, <code>AbsAlgorithm</code> and <code>TestSetIterator</code>. End user must create new <code>algatorc</code> program and then inherits these three classes. </p>\n\n<p>Let's say that end user creates project Sorting. He would end up with three classes called <code>SortingTestCase</code>, <code>SortingTestSetIterator</code> and <code>SortingAbsAlgorithm</code>.</p>\n\n<p>So here is the thing. End user has a method <code>SortingTestSetIterator::get_current</code> and return type of this function is <code>TestCase*</code>. In this method, he creates instance of <code>SortingTestCase</code> and return this instance. So he actually returned child of <code>TestCase</code>. In my main program I save this pointer to <code>TestCase *t</code> (and no, I can't save it as SortingTestCase, because before runtime, I don't know the name of the project) and then I send this pointer to method <code>SortingAbsAlgorithm::init(TestCase* test_case)</code>. In this particulary method, end user will probably cast this object to his (<code>SortingTestCase</code>), and this is done like this: </p>\n\n<pre><code>sorting_test_case = dynamic_cast&lt;SortingTestCase*&gt;(test);\n</code></pre>\n\n<p>This <code>SortingTestCase</code> is derived from <code>TestCase</code> and has all members from parent class and two variables of his own: array and size. So when in init method I say</p>\n\n<pre><code>for (int i = 0; i&lt;sorting_test_case-&gt;size; i++)\n{\n    std::cout &lt;&lt; sorting_test_case[i] &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>then I get nothing. It seems like array is empty.</p>\n\n<p>Any idea what am I doing wrong?</p>\n\n<p>Edit:</p>\n\n<pre><code>class SortingAbsAlgorithm : public AbsAlgorithm \n{\nprivate: \n        SortingTestCase *sorting_test_case;\npublic:\n        bool init (TestCase *test) \n        {\n                sorting_test_case = dynamic_cast&lt;SortingTestCase*&gt;(test);\n                std::cout &lt;&lt; \"INIT ARRAY\" &lt;&lt; std::endl;\n                for (int i = 0; i&lt;sorting_test_case-&gt;size; i++)\n                {\n                        std::cout &lt;&lt; sorting_test_case-&gt;array_to_sort[i] &lt;&lt; \" \";\n                }\n        }\n};\n\nclass SortingTestCase : public TestCase\n{\npublic:\n    int size;\n    int *array_to_sort;\n\n    void init_array(int tab[], int size)\n    {\n        array_to_sort = new int[size];\n        for (int i = 0; i&lt;size; i++)\n        {\n            array_to_sort[i] = tab[i];\n        }\n    }\n};\n\nclass SortingTestSetIterator : public TestSetIterator\n{\nprivate:\n    std::string file_path;\n    std::string test_file_name;\npublic:\n\n    TestCase *get_current()\n    {\n        if (current_input_line.empty())\n        {\n            return nullptr;\n        }\n\n        std::vector&lt;std::string&gt; fields;\n        std::string token;\n        std::stringstream str(current_input_line);\n        while ( getline(str, token, ':') )\n        {\n            fields.push_back(token);\n        }\n        str.clear();\n\n        if (fields.size() &lt; 3)\n        {\n            report_invalid_data_format(\"to few fields\");\n            return nullptr;\n        }\n\n        std::string test_name = fields.at(0);\n        int prob_size;\n        try\n        {\n            prob_size = std::atoi(fields.at(1).c_str());\n        } catch (...)\n        {\n            report_invalid_data_format(\"'n' is ot a number\");\n        }\n\n        std::string group = fields.at(2);\n        std::string test_id = \"Test-\" + std::to_string(line_number);\n        EParameter *test_id_par = new EParameter(\"TestID\", \"Test identificator\", test_id);\n        EParameter *parameter1 = new EParameter(\"Test\", \"Test name\", test_name);\n        EParameter *parameter2 = new EParameter(\"N\", \"Number of elements\", std::to_string(prob_size));\n        EParameter *parameter3 = new EParameter(\"Group\", \"A name of a group of tests\", group);\n\n        SortingTestCase *t_case = new SortingTestCase();\n        t_case-&gt;addParameter(*test_id_par);\n        t_case-&gt;addParameter(*parameter1);\n        t_case-&gt;addParameter(*parameter2);\n        t_case-&gt;addParameter(*parameter3);\n\n        int arr[prob_size];\n        int i = 0;\n        if (group == \"INLINE\")\n        {\n            if (fields.size() &lt; 4)\n            {\n                report_invalid_data_format(\"to few fields\");\n                return nullptr;\n            }\n            std::vector&lt;std::string&gt; data;\n            std::stringstream ss(fields.at(3));\n            while (getline(ss, token, ' ') )\n            {\n                data.push_back(token);\n            }\n\n            if (data.size() != prob_size)\n            {\n                report_invalid_data_format(\"invalid number of inline data\");\n                return nullptr;\n            }\n\n            try\n            {\n                for (i = 0; i&lt;prob_size; i++)\n                {\n                    arr[i] = std::atoi(data.at(i).c_str());\n                }\n            } catch (...)\n            {\n                report_invalid_data_format(\"invalid type of inline data - data \" + std::to_string((i+1)));\n                return nullptr;\n            }\n        }\n        else if (group == \"RND\")\n        {\n            srand(time(NULL));\n            for (i = 0; i&lt;prob_size; i++)\n            {\n                arr[i] = rand() % prob_size + 1000;\n            }\n        }\n        else if (group == \"SORTED\")\n        {\n            for (i = 0; i&lt;prob_size; i++)\n            {\n                arr[i] = i;\n            }\n        }\n        else if (group == \"INVERSED\")\n        {\n            for (i = 0; i&lt;prob_size; i++)\n            {\n                arr[i] = prob_size - i;\n            }\n        }\n        t_case-&gt;init_array(arr, prob_size);\n        return t_case;\n    }\n};\n</code></pre>\n\n<p>This are end users classes. I create library out of this classes and I load them in my program via <code>dlopen</code> and <code>dlsym</code>. I get instance of classes like this:</p>\n\n<pre><code>#ifdef __cplusplus\nextern \"C\" {\n#endif\nTestSetIterator * create_iterator_object() {\n        return new SortingTestSetIterator;\n}\n\nvoid destroy_iterator_object(TestSetIterator* object) {\n        delete object;\n}\n#ifdef __cplusplus\n}\n</code></pre>\n\n<p>and then in my main program I load symbol <code>create_iterator_object</code></p>\n\n<pre><code>create_it = (TestSetIterator* (*)())dlsym(handle, \"create_iterator_object\");\n</code></pre>\n\n<p>and then I say this:</p>\n\n<pre><code>TestSetIterator *it = (TestSetIterator*)create_it();\n</code></pre>\n\n<p>I can call it->get_current() which loads line from file to variable <code>curent_input_line</code>. So I do this: </p>\n\n<pre><code>TestCase *t_case = it-&gt;get_current();\n</code></pre>\n\n<p>and then I say </p>\n\n<pre><code>a-&gt;init(t_case)\n</code></pre>\n\n<p>a is here actually <code>SortingAbsAlgorithm</code> loaded exactly the same as TestSetIterator (ofcourse, different symbol) and is \"saved\" into <code>AbsAlgorithm a*</code>.</p>\n\n<p>So when <code>a-&gt;init(t_case)</code> is called, then in this init end-user cast <code>t_case</code> this is type of <code>TestCase</code> to <code>SortingTestCase</code>. And when I want to print elements in array, array is empty.</p>\n"}, {"tags": ["c++", "undefined-reference", "omnet++"], "comments": [{"owner": {"reputation": 3141, "user_id": 4561047, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/637eff3f3244f3658d31a25ea7636d82?s=128&d=identicon&r=PG", "display_name": "intcreator", "link": "https://stackoverflow.com/users/4561047/intcreator"}, "edited": false, "score": 0, "creation_date": 1438201129, "post_id": 31710255, "comment_id": 51358690, "body": "Welcome to Stack Overflow! Please <a href=\"https://stackoverflow.com/posts/31710255/edit\">edit</a> your question with an <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 1, "creation_date": 1438201249, "post_id": 31710255, "comment_id": 51358750, "body": "The <code>_ZTV</code> part suggests a virtual table symbol.  Link errors like that are commonly caused by forgetting to define a declared virtual function."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 1, "creation_date": 1438202605, "post_id": 31710255, "comment_id": 51359488, "body": "It&#39;s not a duplicate for me. Usual undefined references are forgotten object files, but it&#39;s not obvious that this particular one is caused by a missing vtable, which is caused by a missing function definition whose name is not even in the error."}], "owner": {"reputation": 21, "user_id": 5170917, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015321098512121/picture?type=large", "display_name": "Thiago Lima", "link": "https://stackoverflow.com/users/5170917/thiago-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1438201462, "answer_count": 0, "score": 1, "last_activity_date": 1438201663, "creation_date": 1438200885, "last_edit_date": 1438201663, "question_id": 31710255, "link": "https://stackoverflow.com/questions/31710255/error-undefined-reference-to-imp-ztv-classname", "closed_reason": "Duplicate", "title": "Error: Undefined reference to _imp___ZTV &quot;className&quot;", "body": "<p>I'm programing in C++ using OMNeT++ and a got the following error in my constructor and destructor.  The name of my class is RoadSideUnit.</p>\n\n<pre><code>D:\\OMNet\\IdealTraffic/RoadSideUnit.cc:12: undefined reference to `_imp___ZTV12RoadSideUnit'\nD:\\OMNet\\IdealTraffic/RoadSideUnit.cc:12: undefined reference to `_imp___ZTV12RoadSideUnit'\n\nD:\\OMNet\\IdealTraffic/RoadSideUnit.cc:16: undefined reference to `_imp___ZTV12RoadSideUnit'\nD:\\OMNet\\IdealTraffic/RoadSideUnit.cc:16: undefined reference to `_imp___ZTV12RoadSideUnit'\n</code></pre>\n"}, {"tags": ["c++", "c++11", "virtual-functions"], "comments": [{"owner": {"reputation": 605, "user_id": 1599766, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a0fff553b050d63ea30479c8fc90629?s=128&d=identicon&r=PG", "display_name": "Christopher Johnson", "link": "https://stackoverflow.com/users/1599766/christopher-johnson"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1438201121, "post_id": 31710196, "comment_id": 51358679, "body": "Right, thanks. The standard indeed says  &gt; a function declaration cannot provide both a pure-specifier and a definition"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1438202486, "post_id": 31710196, "comment_id": 51359420, "body": "@T.C. Answers go down there, bub.  \u2193 \u2193 \u2193 \u2193 \u2193 \u2193"}, {"owner": {"reputation": 24673, "user_id": 2567683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1022957737/picture?type=large", "display_name": "Nikos Athanasiou", "link": "https://stackoverflow.com/users/2567683/nikos-athanasiou"}, "edited": false, "score": 0, "creation_date": 1438242362, "post_id": 31710196, "comment_id": 51372975, "body": "default a virtual destuctor ... What <a href=\"http://stackoverflow.com/q/31672207/2567683\">for</a> ? It&#39;s virtual so defaulting it won&#39;t make it trivial and nothing changes for your class from defining it as <code>{ }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1438201270, "post_id": 31710283, "comment_id": 51358762, "body": "Wouldn&#39;t that apply to anything you can use <code>default</code> on?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1438202363, "post_id": 31710283, "comment_id": 51359337, "body": "You forgot that a pure virtual function may have a definition."}], "tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": false, "score": -4, "last_activity_date": 1438200983, "last_edit_date": 1495540343, "creation_date": 1438200983, "answer_id": 31710283, "question_id": 31710196, "link": "https://stackoverflow.com/questions/31710196/pure-virtual-destructor-with-default-keyword/31710283#31710283", "title": "Pure Virtual Destructor with Default Keyword", "body": "<p>This question is sort of a non-starter, since <a href=\"https://stackoverflow.com/questions/21934810/why-a-class-has-only-one-destructor\">you can only have one destructor</a> anyway. Why would you need to add a <code>default</code> specifier?</p>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 7, "last_activity_date": 1438202392, "creation_date": 1438202392, "answer_id": 31710654, "question_id": 31710196, "link": "https://stackoverflow.com/questions/31710196/pure-virtual-destructor-with-default-keyword/31710654#31710654", "title": "Pure Virtual Destructor with Default Keyword", "body": "<p><strong>No.</strong></p>\n\n<p>You will have to write a separate definition and <code>default</code> it there, as you've shown.</p>\n\n<p>The presence of a <em>pure-specifier</em> precludes the presence of a definition at the same location, even when that definition is just a <code>= default</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1438202660, "post_id": 31710727, "comment_id": 51359516, "body": "N3797 is by far not the &quot;latest publicly available draft&quot;"}, {"owner": {"reputation": 568, "user_id": 1628701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed510fd195c5bf8b86da1bce37d2a09c?s=128&d=identicon&r=PG", "display_name": "senbrow", "link": "https://stackoverflow.com/users/1628701/senbrow"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1438202902, "post_id": 31710727, "comment_id": 51359637, "body": "@T.C. I used the &quot;latest publicly available draft&quot; link from this URL: <a href=\"http://www.open-std.org/JTC1/SC22/WG21/\" rel=\"nofollow noreferrer\">open-std.org/JTC1/SC22/WG21</a> . Please provide a URL to a more recent draft if you have one."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 1, "creation_date": 1438203605, "post_id": 31710727, "comment_id": 51360070, "body": "Notes are not normative but that note is also present in <code>N4140</code>"}], "tags": [], "owner": {"reputation": 568, "user_id": 1628701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed510fd195c5bf8b86da1bce37d2a09c?s=128&d=identicon&r=PG", "display_name": "senbrow", "link": "https://stackoverflow.com/users/1628701/senbrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1438204731, "last_edit_date": 1438204731, "creation_date": 1438202635, "answer_id": 31710727, "question_id": 31710196, "link": "https://stackoverflow.com/questions/31710196/pure-virtual-destructor-with-default-keyword/31710727#31710727", "title": "Pure Virtual Destructor with Default Keyword", "body": "<p>No, it is not possible.</p>\n\n<p>By declaring the member function with the <code>= default</code> specifier, you are providing a function definition.</p>\n\n<p>From the working draft of the C++14 standard (N3936):</p>\n\n<blockquote>\n  <p>\u00a7 10.4 Note: A function declaration cannot provide both a pure-specifier and a definition</p>\n</blockquote>\n\n<p><a href=\"https://github.com/cplusplus/draft/raw/b7b8ed08ba4c111ad03e13e8524a1b746cb74ec6/papers/N3936.pdf\" rel=\"nofollow\">https://github.com/cplusplus/draft/raw/b7b8ed08ba4c111ad03e13e8524a1b746cb74ec6/papers/N3936.pdf</a></p>\n"}], "owner": {"reputation": 605, "user_id": 1599766, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a0fff553b050d63ea30479c8fc90629?s=128&d=identicon&r=PG", "display_name": "Christopher Johnson", "link": "https://stackoverflow.com/users/1599766/christopher-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 1, "accepted_answer_id": 31710654, "answer_count": 3, "score": 3, "last_activity_date": 1438204731, "creation_date": 1438200658, "question_id": 31710196, "link": "https://stackoverflow.com/questions/31710196/pure-virtual-destructor-with-default-keyword", "title": "Pure Virtual Destructor with Default Keyword", "body": "<p>Is it possible to declare a destructor as pure virtual and use the default keyword? For example, I can't seem to make code like this work:</p>\n\n<pre><code>class MyClass\n{\npublic:\n  // Is there a way to combine pure virtual and default?\n  virtual ~ MyClass() = 0,default;\n};\n</code></pre>\n\n<p>One can of course later do:</p>\n\n<pre><code>MyClass::~ MyClass() = default;\n</code></pre>\n\n<p>Also, if the destructor is not pure virtual, the default keyword does work when it follows the declaration.</p>\n"}, {"tags": ["c++", "c", "delphi", "delphi-7"], "answers": [{"tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": true, "score": 6, "last_activity_date": 1438199706, "creation_date": 1438199706, "answer_id": 31709915, "question_id": 31709867, "link": "https://stackoverflow.com/questions/31709867/how-to-pass-c-c-puchar-correctly/31709915#31709915", "title": "How to pass C/C++ *(PUCHAR)(..) correctly?", "body": "<p><code>UCHAR</code> is an <code>unsigned char</code>. That's <code>Byte</code> in Delphi. <code>PUCHAR</code> is pointer to <code>UCHAR</code>. That's <code>PByte</code> in Delphi.</p>\n\n<p>The original code casts the <code>DWORD</code> to be a pointer to <code>unsigned char</code>, then de-references that pointer, and assigns a value to that <code>unsigned char</code>.</p>\n\n<p>So the Delphi equivalent code is:</p>\n\n<pre><code>PByte(isENABLED)^ := $00;\n</code></pre>\n\n<p>If your Windows unit defines <code>PUCHAR</code> then feel free to write it as:</p>\n\n<pre><code>PUCHAR(isENABLED)^ := $00;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4986144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d57d88eeccd406d878dd096db12baa74?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Winford", "link": "https://stackoverflow.com/users/4986144/mike-winford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2111, "favorite_count": 0, "accepted_answer_id": 31709915, "answer_count": 1, "score": 2, "last_activity_date": 1439505378, "creation_date": 1438199526, "last_edit_date": 1439505378, "question_id": 31709867, "link": "https://stackoverflow.com/questions/31709867/how-to-pass-c-c-puchar-correctly", "title": "How to pass C/C++ *(PUCHAR)(..) correctly?", "body": "<p>I need to pass C/C++ code *(PUCHAR)(..) to delphi so I can use it with no errors but I don't know how exactly to do it. At the question I made in an IRC someone told me that \"<em>it cast to pointer to unsigned char and dereference that pointer but I don't think there is such a thing in Delphi</em>\".</p>\n\n<p>Here is an example:</p>\n\n<pre><code>DWORD isENABLED;\n\n...\n\n*(PUCHAR)(isENABLED) = 0x00;\n</code></pre>\n\n<p>In Delphi will be like this?</p>\n\n<pre><code>PUCHAR(isENABLED) := $00;   // Is it right?\n</code></pre>\n\n<p>I know that this question might not be properly written but I don't know how exactly to ask this.\nThanks for your help.</p>\n"}, {"tags": ["c++", "makefile", "codeblocks"], "comments": [{"owner": {"reputation": 1075, "user_id": 1489146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ec5559bf7754c7d119b6ddd33f1bff?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1489146/ram"}, "edited": false, "score": 0, "creation_date": 1438199635, "post_id": 31709780, "comment_id": 51357794, "body": "make files would be given the extension &quot;.mak&quot; so you can use find command to find all the files ending with *.mak in your project"}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "reply_to_user": {"reputation": 1075, "user_id": 1489146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ec5559bf7754c7d119b6ddd33f1bff?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1489146/ram"}, "edited": false, "score": 1, "creation_date": 1438199786, "post_id": 31709780, "comment_id": 51357895, "body": "@Ram A large number don&#39;t even have an extension so it&#39;s kind of pointless to search for <code>*.mak</code>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 1075, "user_id": 1489146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ec5559bf7754c7d119b6ddd33f1bff?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1489146/ram"}, "edited": false, "score": 1, "creation_date": 1438201017, "post_id": 31709780, "comment_id": 51358618, "body": "@Ram: I have never seen a make file with <i>any</i> extension. I&#39;m not saying they don&#39;t exist, but they are likely to be the exception rather than the rule. Make files are usually called <code>Makefile</code>."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438201950, "post_id": 31709780, "comment_id": 51359093, "body": "May be <a href=\"http://stackoverflow.com/questions/24715864/problems-importing-libraries-to-my-c-project-how-to-fix-this\">this helps</a>. Your IDE probably generates the <code>Makefile</code>&#39;s in question automatically."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 1, "creation_date": 1438221830, "post_id": 31709780, "comment_id": 51365681, "body": "This currently has close votes, but the reason is bogus."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1438200210, "post_id": 31709853, "comment_id": 51358125, "body": "If you are using an IDE, you may be able to have the IDE publish or generate the makefile."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 5, "last_activity_date": 1438199463, "creation_date": 1438199463, "answer_id": 31709853, "question_id": 31709780, "link": "https://stackoverflow.com/questions/31709780/makefiles-how-do-i-access-them/31709853#31709853", "title": "Makefiles, How do I access them?", "body": "<p>If you wrote them, you know where they are. You put them in that place and have a built-in memory.</p>\n\n<p>If you did not write any, then you cannot provide them.</p>\n"}], "owner": {"reputation": 329, "user_id": 4665670, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/68df7c55bd3f2aacf54cfb282b971c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Javaturtle", "link": "https://stackoverflow.com/users/4665670/javaturtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1438227271, "accepted_answer_id": 31709853, "answer_count": 1, "score": -3, "last_activity_date": 1438199463, "creation_date": 1438199200, "question_id": 31709780, "link": "https://stackoverflow.com/questions/31709780/makefiles-how-do-i-access-them", "closed_reason": "Not suitable for this site", "title": "Makefiles, How do I access them?", "body": "<p>In another question someone asked to post makefiles. Where would these be located? Or how can I find my makefiles so I can post them? </p>\n"}, {"tags": ["c++", "build", "compilation", "waf"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438199045, "post_id": 31709612, "comment_id": 51357466, "body": "This is a <i>duplicate</i> of the linked question. You swapped <code>int</code> for <code>uint32_t</code> for some reason, presumably thinking that this would be enough. It&#39;s not. <code>uint32_t</code> is 32-bit, and you say you have a 64-bit machine. Your pointer type is 64-bit. Use <code>intptr_t</code>, just like the accepted answer in the original question says, for the reason it says."}, {"owner": {"reputation": 395, "user_id": 5021240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9131f7c2e7982e208f53348c543b4643?s=128&d=identicon&r=PG&f=1", "display_name": "adrian008", "link": "https://stackoverflow.com/users/5021240/adrian008"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438199325, "post_id": 31709612, "comment_id": 51357637, "body": "@LightnessRacesinOrbit sir, I said I tried the solutions mentioned there and it is not working. Then how is it a duplicate ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1438199484, "post_id": 31709612, "comment_id": 51357718, "body": "That old link is bad, missing a function pointer is incompatible to void* (and any other non function pointer)"}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438200439, "post_id": 31709612, "comment_id": 51358267, "body": "@LightnessRacesinOrbit The <i>original question</i> has no accepted answer."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1438200457, "post_id": 31709612, "comment_id": 51358278, "body": "@DieterL&#252;cking There is no function pointer in this question here."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1438200849, "post_id": 31709612, "comment_id": 51358533, "body": "@Walter: Highest scored answer I mean."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438200864, "post_id": 31709612, "comment_id": 51358538, "body": "@adrian008: Then you did it wrong. From &quot;it is not working&quot; I cannot tell what you did wrong, except if by &quot;I said I tried the solutions mentioned there&quot; you are referring to the only attempt you&#39;ve shown us, then your reading skills are suspect because <code>intptr_t</code> looks nothing like <code>uint32_t</code>. But this <i>is</i> a duplicate."}], "owner": {"reputation": 395, "user_id": 5021240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9131f7c2e7982e208f53348c543b4643?s=128&d=identicon&r=PG&f=1", "display_name": "adrian008", "link": "https://stackoverflow.com/users/5021240/adrian008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "closed_date": 1438199005, "answer_count": 0, "score": 0, "last_activity_date": 1438198627, "creation_date": 1438198627, "last_edit_date": 1495542102, "question_id": 31709612, "link": "https://stackoverflow.com/questions/31709612/cast-to-uint32-t-loses-precision", "closed_reason": "Duplicate", "title": "cast to \u2018uint32_t\u2019 loses precision", "body": "<p>I followed <a href=\"https://stackoverflow.com/questions/1640423/error-cast-from-void-to-int-loses-precision\">this</a> and tried to resolve the error:</p>\n\n<pre><code>error: cast from \u2018ns3::NaMPTSocket*\u2019 to \u2018uint32_t\u2019 loses precision\n</code></pre>\n\n<p>But still I can't get it working. Any other way to solve this problem ?</p>\n\n<p>I am on a 64 bit Ubuntu machine. The program (NS3) is being build using waf.</p>\n"}, {"tags": ["c++", "function", "pointers", "multidimensional-array"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1438198395, "post_id": 31709493, "comment_id": 51357100, "body": "Like everything else.  By pointer or reference."}], "answers": [{"comments": [{"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1438199196, "post_id": 31709648, "comment_id": 51357554, "body": "@Collin Schupman It&#39;s worth mentioning, you might want to search stack for how 2d/3d arrays are laid out in memory, and what happens when you pass arrays by pointer (look for array decay)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2563044"}, "edited": false, "score": 0, "creation_date": 1438199577, "post_id": 31709648, "comment_id": 51357767, "body": "A big part of the question is how to assign the value once inside the function, trying out options 1 and 2 and doing array[i][j] = newVertices gives me a compile time error of &quot;ofVec2f is not assignable&quot;"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1438199653, "post_id": 31709648, "comment_id": 51357802, "body": "@CollinSchupman Show us <code>ofVec2f </code>, then. Did you defined assignment operator? Did you make it public?"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1438200015, "post_id": 31709648, "comment_id": 51358022, "body": "@CollinSchupman you can&#39;t do <code>geometry[i][j] = verts;</code>, you should just forget about verts and make your loop do: <code>geometry[i][j][k] = foo;</code>"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1438200132, "post_id": 31709648, "comment_id": 51358088, "body": "Oh, I haven&#39;t noticed that. @CollinSchupman Your array is 3-dimensional array. <code>geometry[i][j]</code> is an array of type <code>int[4]</code>. You cant assign <code>ofVec2f</code> to it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2563044"}, "edited": false, "score": 0, "creation_date": 1438200221, "post_id": 31709648, "comment_id": 51358129, "body": "@MateuszGrzejek totally, RyanP&#39;s suggestion worked fine"}], "tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": true, "score": 2, "last_activity_date": 1438198752, "creation_date": 1438198752, "answer_id": 31709648, "question_id": 31709493, "link": "https://stackoverflow.com/questions/31709493/c-changing-the-value-of-a-fixed-sized-3d-array-in-a-function/31709648#31709648", "title": "C++ : Changing the value of a fixed-sized 3D array in a function", "body": "<p>You can do it:</p>\n\n<p><strong>1)</strong> By reference:</p>\n\n<pre><code>void function(ofVec2f (&amp;array)[24][30][4]);\n</code></pre>\n\n<p><strong>2)</strong> By pointer:</p>\n\n<pre><code>void function(ofVec2f (*array)[30][4]);\n</code></pre>\n\n<p><strong>3)</strong> Using templates, to pass array of any size:</p>\n\n<pre><code>template &lt;size_t X, size_t Y, size_t Z&gt;\nvoid function(ofVec2f (&amp;array)[X][Y][Z]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1438199970, "post_id": 31709798, "comment_id": 51357995, "body": "I don&#39;t see a <code>C++ 11</code> tag, which is required by this solution."}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "reply_to_user": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1438202048, "post_id": 31709798, "comment_id": 51359148, "body": "@MateuszGrzejek I did say &quot;or a typedef&quot;. I&#39;ve updated to show how."}], "tags": [], "owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "is_accepted": false, "score": 1, "last_activity_date": 1438203224, "last_edit_date": 1438203224, "creation_date": 1438199259, "answer_id": 31709798, "question_id": 31709493, "link": "https://stackoverflow.com/questions/31709493/c-changing-the-value-of-a-fixed-sized-3d-array-in-a-function/31709798#31709798", "title": "C++ : Changing the value of a fixed-sized 3D array in a function", "body": "<p>You can pass it by reference or pointer. If, like me, you find the syntax for reference-to-array a bit toxic you might like to use a <code>using</code> alias or a <code>typedef</code>:</p>\n\n<pre><code>using GeometryType = ofVec2f[24][30][4];    // C++11\n//typedef ofVec2f GeometryType[24][30][4];  // C++98\n\nvoid fillGeometry(GeometryType&amp; geometry) {\n  for (int i = 0; i &lt; 24; i++) {\n    for (int j = 0; j &lt; 30; j++) {\n      for (int k = 0; k &lt; 4; k++) {\n        geometry[i][j][k].setX(0.0);\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2563044"}, "edited": false, "score": 0, "creation_date": 1438200077, "post_id": 31709931, "comment_id": 51358047, "body": "Excellent point, the ofVec2f objects were already created, so my solution just goes through each one and updates the values"}], "tags": [], "owner": {"reputation": 4046, "user_id": 4971422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4abf51a937ddda51cc6813445605c50?s=128&d=identicon&r=PG&f=1", "display_name": "FredK", "link": "https://stackoverflow.com/users/4971422/fredk"}, "is_accepted": false, "score": 0, "last_activity_date": 1438199759, "creation_date": 1438199759, "answer_id": 31709931, "question_id": 31709493, "link": "https://stackoverflow.com/questions/31709493/c-changing-the-value-of-a-fixed-sized-3d-array-in-a-function/31709931#31709931", "title": "C++ : Changing the value of a fixed-sized 3D array in a function", "body": "<p>Have you kept a reference to the old arrays anywhere? If not, why are you creating a new set of arrays and then pointing to them (and thus marking the old arrays for garbage collection)? Why not just assign the new values to the existing arrays?</p>\n\n<pre><code>for (int k = 0; k &lt; 4; k++) { (and thus \n     geometry[i][j][k] = foo;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2563044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 31709648, "answer_count": 3, "score": 2, "last_activity_date": 1438203224, "creation_date": 1438198236, "question_id": 31709493, "link": "https://stackoverflow.com/questions/31709493/c-changing-the-value-of-a-fixed-sized-3d-array-in-a-function", "title": "C++ : Changing the value of a fixed-sized 3D array in a function", "body": "<p>I have a stack-allocated fixed-sized 3D array declared as such: </p>\n\n<pre><code>ofVec2f geometry[24][30][4];\n</code></pre>\n\n<p>I need to pass this to a function to updates all the ofVec2f values, with a procedure along the lines of...</p>\n\n<pre><code>for (int i = 0; i &lt; 24; i++) {\n    for (int j = 0; j &lt; 30; j++) {\n        ofVec2f verts[4];\n        for (int k = 0; k &lt; 4; k++) {\n            verts[k] = foo;\n        }\n        geometry[i][j] = verts;\n    }\n}\n</code></pre>\n\n<p>My question is, how do I pass this data structure to a function to update these values and have the array point to this new array of ofVec2f values? I imagine I will need to pass them via pointers but I'm not sure how to do it, especially since I have a fixed array on the stack.</p>\n\n<p>Thanks! let me know if you need to see anything else.</p>\n"}, {"tags": ["c++", "vector", "std"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1438197804, "post_id": 31709319, "comment_id": 51356776, "body": "Destructors are only called when an object&#39;s lifetime ends, e.g. when a local variable with automatic storage goes out of scope."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 6, "creation_date": 1438197870, "post_id": 31709319, "comment_id": 51356813, "body": "You know you can look this up pretty easily: <a href=\"http://en.cppreference.com/w/cpp/container/vector/operator%3D\" rel=\"nofollow noreferrer\">std::vector::operator=</a>"}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 0, "creation_date": 1438198249, "post_id": 31709319, "comment_id": 51357030, "body": "<code>std::vector::operator=</code> does a deep copy.  Its one of the main reasons why <code>std::vector</code> is so generally useful."}, {"owner": {"reputation": 1434, "user_id": 4928207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122e2222eb8cace8c9d2e67ea65d8c47?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jansen", "link": "https://stackoverflow.com/users/4928207/mark-jansen"}, "edited": false, "score": 0, "creation_date": 1438198869, "post_id": 31709319, "comment_id": 51357365, "body": "If you really want to know what&#39;s going on when you do business with a vector, define a simple class that has logging (std::cout or so) in every constructor, destructor, copy constructor etc, then place those objects in the vector."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438199272, "post_id": 31709319, "comment_id": 51357599, "body": "No research effort shown. These details are basic and can be found on the web or in your C++ book, trivially."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1438200190, "post_id": 31709319, "comment_id": 51358116, "body": "&quot;deep-copy&quot;? It is just an actual <i>copy</i>. Stuff gets <i>copied</i>. It is that simple.&quot;Shallow&quot; copies aren&#39;t really copies."}], "answers": [{"comments": [{"owner": {"reputation": 1075, "user_id": 1489146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ec5559bf7754c7d119b6ddd33f1bff?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1489146/ram"}, "edited": false, "score": 0, "creation_date": 1438199434, "post_id": 31709603, "comment_id": 51357690, "body": "If the type were std::vector&lt;X&gt; where X is a class, then temp1 = temp2 would still be a deep copy , but it would call the class X copy constructor for each object of X contained in the temp1 container and i dont think the destructor for class X would be called  unless the temp1 container clear is called or goes out of scope"}, {"owner": {"reputation": 3036, "user_id": 3466415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610a8a95f861678ab9f72ee483d1c1a7?s=128&d=identicon&r=PG&f=1", "display_name": "David K", "link": "https://stackoverflow.com/users/3466415/david-k"}, "reply_to_user": {"reputation": 1075, "user_id": 1489146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ec5559bf7754c7d119b6ddd33f1bff?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1489146/ram"}, "edited": false, "score": 0, "creation_date": 1438205466, "post_id": 31709603, "comment_id": 51361014, "body": "@Ram Good point. Cplusplus.com says, &quot;Any elements held in the container before the call are either assigned to or destroyed.&quot; C++11 allows for the allocator to be replaced with a different allocator, in which case all contents are destroyed, but otherwise there does not seem to be a requirement to destroy contents. Another question is what happens if temp2.size() is much less than temp1.size(); could the std::vector reallocate to a smaller size to free memory?"}], "tags": [], "owner": {"reputation": 3036, "user_id": 3466415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610a8a95f861678ab9f72ee483d1c1a7?s=128&d=identicon&r=PG&f=1", "display_name": "David K", "link": "https://stackoverflow.com/users/3466415/david-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1438206303, "last_edit_date": 1438206303, "creation_date": 1438198607, "answer_id": 31709603, "question_id": 31709319, "link": "https://stackoverflow.com/questions/31709319/stdvector-copy-what-happens/31709603#31709603", "title": "std::vector copy, what happens?", "body": "<p>Because these objects are of type <code>std::vector&lt;int&gt;</code>, yes, it's a deep copy, but no, no destructor is called when you do <code>temp1 = temp2</code>.</p>\n\n<p>If the type were <code>std::vector&lt;X&gt;</code> where <code>X</code> is a class, then\n<code>temp1 = temp2</code> would still be a deep copy and \n(depending on further details of the two vectors and possibly the\nimplementation of std::vector)\nit <em>might</em> destroy the\nold <em>contents</em> of <code>temp1</code>--that is, whatever objects of type <code>X</code> were contained\nin <code>temp1</code> before the assigment, their destructors might be called.\n(The call to <code>std::vector&lt;int&gt;::operator=</code> <em>couldn't</em> call any destructors\nbecause <code>int</code> has no destructor.)</p>\n\n<p>If the type were <code>std::vector&lt;*X&gt;</code> (now <code>X</code> can be a class or <code>int</code> or some other primitive or even a pointer type), <code>temp1 = temp2</code> would not execute a deep copy--at least, <em>I</em> would not (usually) call it a deep copy, since only the pointers are copied and they point to the same objects as the pointers that are still in <code>temp2</code>.\n(I say \"usually\" because there are some cases where someone \ncan argue that the pointers themselves <em>are</em> the contents of the data structure\nand therefore the copy is \"deep\".)\nNo destructor is called in this case, even if <code>X</code> is a class,\nbecause <code>*X</code> does not have a destructor.</p>\n"}], "owner": {"reputation": 160, "user_id": 4155492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9404e3512c2323e1ee030df62eb211ad?s=128&d=identicon&r=PG&f=1", "display_name": "johnnymopo", "link": "https://stackoverflow.com/users/4155492/johnnymopo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1438206303, "creation_date": 1438197652, "question_id": 31709319, "link": "https://stackoverflow.com/questions/31709319/stdvector-copy-what-happens", "title": "std::vector copy, what happens?", "body": "<p>I would like to ask the community about std::vector, coming from C.</p>\n\n<pre><code>std::vector&lt;int&gt; temp1(4,0);\ntemp1[0] = 10;\nstd::vector&lt;int&gt; temp2;\ntemp2 = temp1;\ntemp1[0] = 0;\nfor (int i=0;i&lt;4;i++)\n    std::cout&lt;&lt;\"temp1: \" &lt;&lt;temp1[i]&lt;&lt;\"temp2: \"&lt;&lt;temp2[i]&lt;&lt; std::endl;\n</code></pre>\n\n<p>temp1: 0    temp2: 10</p>\n\n<p>temp1: 0    temp2: 0</p>\n\n<p>temp1: 0    temp2: 0</p>\n\n<p>temp1: 0    temp2: 0</p>\n\n<p>at temp2 = temp1, temp2 appears to be a deep-copy, is this correct?  Also, what happens in this case?</p>\n\n<pre><code>std::vector&lt;int&gt; temp1(4,0);\nstd::vector&lt;int&gt; temp2(4,1);\nfor (int i=0;i&lt;4;i++) {\n    // some temp2 values filled\n    temp1 = temp2;\n}\nreturn 0;\n</code></pre>\n\n<p>when temp1 is updated, what actually happens.  Is a copy made and the previous temp1's destructor called?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "edited": false, "score": 0, "creation_date": 1438197517, "post_id": 31709250, "comment_id": 51356641, "body": "warning details: warning: comparison of integers of different signs: &#39;int&#39; and &#39;size_type&#39; (aka &#39;unsigned long&#39;) [-Wsign-compare]"}, {"owner": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "edited": false, "score": 3, "creation_date": 1438197972, "post_id": 31709250, "comment_id": 51356877, "body": "My compiler (g++-4.8) give me a warning with the first code snippet too, as it should.  Does that example come from a place where warnings are suppressed, for example a header in an include path specified with <code>-isystem </code>instead of <code>-I</code>?"}, {"owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "reply_to_user": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "edited": false, "score": 0, "creation_date": 1438198258, "post_id": 31709250, "comment_id": 51357033, "body": "I use qt creator and I think maybe you mean it&#39;s the .pro file configuration difference?"}], "answers": [{"comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 3, "creation_date": 1438198564, "post_id": 31709449, "comment_id": 51357189, "body": "You can compare an <code>int</code> with <code>std::string::size_type</code>.  There&#39;s just a gotcha when you do, hence the compiler warning."}, {"owner": {"reputation": 615, "user_id": 5051002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X3MMg.jpg?s=128&g=1", "display_name": "Jean Pierre Dudey", "link": "https://stackoverflow.com/users/5051002/jean-pierre-dudey"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1438198787, "post_id": 31709449, "comment_id": 51357322, "body": "Yes but it&#39;s a bad practice, things start getting weird if the integer has negative values."}], "tags": [], "owner": {"reputation": 615, "user_id": 5051002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X3MMg.jpg?s=128&g=1", "display_name": "Jean Pierre Dudey", "link": "https://stackoverflow.com/users/5051002/jean-pierre-dudey"}, "is_accepted": false, "score": 0, "last_activity_date": 1438198084, "creation_date": 1438198084, "answer_id": 31709449, "question_id": 31709250, "link": "https://stackoverflow.com/questions/31709250/warning-when-comparing-integers-of-different-signs/31709449#31709449", "title": "Warning when comparing integers of different signs", "body": "<p>You can't compare an <code>int</code> with <code>std::string::size_type</code>, you need to change this line:</p>\n\n<pre><code>for (int i = 0; i &lt; boardText.size(); i++)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>for (string::size_type i = 0; i &lt; boardText.size(); i++)\n</code></pre>\n\n<p>altought you can use a range-loop in <em>C++11</em> that is much simpler:</p>\n\n<pre><code>for(char &amp;c : boardText) {\n    check_if_alpha(c);\n}\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6443, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1594513076, "creation_date": 1438197420, "last_edit_date": 1594513076, "question_id": 31709250, "link": "https://stackoverflow.com/questions/31709250/warning-when-comparing-integers-of-different-signs", "title": "Warning when comparing integers of different signs", "body": "<p>I've two very similar functions in 2 programs as follows. </p>\n\n<pre><code>/*\n * Function: isalphaString\n * Usage: isalphaString(str);\n * ----------------------------\n * Judge if all characters in the string is alpha.\n */\nbool isalphaString(string str) {\n    for (int i = 0; i &lt; str.size(); i++) {\n        if (! isalpha(str[i]))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>the second function:</p>\n\n<pre><code>bool containsNonAlpha(string boardText) {\n    for (int i = 0; i &lt; boardText.size(); i++) {\n        if (!isalpha(boardText[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>but get two different compiling results. The first one I have no compiling warnings, but the second one I received a warning: \"comparison of integers of different signs\" . Not sure why this happens.</p>\n"}, {"tags": ["c++", "arrays", "class"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1438197276, "post_id": 31709185, "comment_id": 51356516, "body": "If you show code, tag what language it is. It helps others find the question and also affects the syntax highlighting. C++?"}, {"owner": {"reputation": 187, "user_id": 3403145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L3sZn.png?s=128&g=1", "display_name": "jcjunction", "link": "https://stackoverflow.com/users/3403145/jcjunction"}, "edited": false, "score": 0, "creation_date": 1438197514, "post_id": 31709185, "comment_id": 51356637, "body": "Why don&#39;t you use a function that copies over the array manually if you need a copy of it. if you don&#39;t need a copy and are just using it to read information, why not use a pointer?"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1438199274, "post_id": 31709185, "comment_id": 51357601, "body": "<a href=\"http://stackoverflow.com/a/3599048/509868\">This answer</a> might help"}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1438198852, "last_edit_date": 1438198852, "creation_date": 1438198329, "answer_id": 31709524, "question_id": 31709185, "link": "https://stackoverflow.com/questions/31709185/how-to-change-array-in-class/31709524#31709524", "title": "How to change array in class?", "body": "<p>Well, you could have a global array that is used to initialize your board, and will be shared among several <code>Player</code> instances.</p>\n\n<p>Just provide <code>startData</code> as global static outside <code>main()</code> scope, and have <code>Player</code> receive a reference for that instance.</p>\n\n<hr>\n\n<p>Though, I don't think the above mentioned would be a good solution.</p>\n\n<p>You should rather have a <code>class Board</code> containing and consistently managing an internal member <code>startData</code> (or better <code>boardData</code>), and share a reference to this among <code>Player</code> instances.</p>\n"}, {"tags": [], "owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "is_accepted": false, "score": 2, "last_activity_date": 1438199564, "last_edit_date": 1438199564, "creation_date": 1438198493, "answer_id": 31709569, "question_id": 31709185, "link": "https://stackoverflow.com/questions/31709185/how-to-change-array-in-class/31709569#31709569", "title": "How to change array in class?", "body": "<p>If your problem is that you can't assign arrays, there are several solutions.</p>\n\n<p>You can either use a custom function to reset your array:</p>\n\n<pre><code>#include &lt;cstddef&gt;\n\nconstexpr std::size_t arraySize = 8;\nvoid resetMyArray(const int startingArray[][arraySize], \n                  int toReset[][arraySize])\n{\n  for( std::size_t i = 0 ; i &lt; arraySize ; ++i )\n    for( std::size_t j = 0 ; j &lt; arraySize ; ++j )\n      toReset[i][j] = startingArray[i][j];\n}\n\nint main(int argc, char* argv[])\n{\n  int x[arraySize][arraySize];\n  int y[arraySize][arraySize];\n  resetMyArray(x, y);\n  return 0;\n}\n</code></pre>\n\n<p>or use an std::array instead:</p>\n\n<pre><code>#include &lt;array&gt;\n#include &lt;cstddef&gt;\n\nint main(int argc, char* argv[])\n{\n  constexpr std::size_t arraySize = 8;\n  std::array&lt;std::array&lt;int, arraySize&gt;, arraySize&gt; x;\n  std::array&lt;std::array&lt;int, arraySize&gt;, arraySize&gt; y;\n  x = y;\n  return 0;\n}\n</code></pre>\n\n<p>Edit:\nYou could also use an std::vector, but that will probably be less efficient because the std::vector doesn't know how big your array will be at compile-time.</p>\n\n<p>Edit:\nIf you're concerned about the array's scope, \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 gives a solution.<br>\nPersonally, i'd declare it as <code>static constexpr</code> in the Game class (which is a bit like defining a global) although i don't know exactly how your classes interact.</p>\n"}], "owner": {"reputation": 11, "user_id": 5170739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3d9c56b7edf0f6ec32ff3609d3f77d?s=128&d=identicon&r=PG&f=1", "display_name": "luqmanrasat", "link": "https://stackoverflow.com/users/5170739/luqmanrasat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438199564, "creation_date": 1438197183, "last_edit_date": 1438197276, "question_id": 31709185, "link": "https://stackoverflow.com/questions/31709185/how-to-change-array-in-class", "title": "How to change array in class?", "body": "<p>how do I assign char array 'startData'</p>\n\n<pre><code>int main()\n{\n\nPlayer plyr_1('X');\nPlayer plyr_2('O');\n\nchar startData[8][8] = {{' ',' ',' ',' ',' ',' ',' ',' '},\n                        {' ',' ',' ',' ',' ',' ',' ',' '},\n                        {' ',' ',' ',' ',' ',' ',' ',' '},\n                        {' ',' ',' ','O','X',' ',' ',' '},\n                        {' ',' ',' ','X','O',' ',' ',' '},\n                        {' ',' ',' ',' ',' ',' ',' ',' '},\n                        {' ',' ',' ',' ',' ',' ',' ',' '},\n                        {' ',' ',' ',' ',' ',' ',' ',' '}};\n</code></pre>\n\n<p>at the start of this loop</p>\n\n<pre><code>menu = false;\n\nwhile(menu == false)\n{\n    int turnCounter = 1;\n\n    Player currentPlyr('X');\n    currentPlyr = plyr_1;\n\n    plyr_1.data = startData;\n    plyr_2.data = startData;\n\n    plyr_1.score = 2;\n    plyr_2.score = 2;\n\n    selectMenu = currentPlyr.mainMenu();\n</code></pre>\n\n<p>inside array 'data' in created class 'plyr_1' and 'plyr_2'</p>\n\n<p>'data' is a public char array  from class 'Game'</p>\n\n<pre><code>class Game\n{\n    public:\n        char data[8][8];\n</code></pre>\n\n<p>to reset the board everytime the loop starts?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 5917, "user_id": 4440675, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/q44sl.jpg?s=128&g=1", "display_name": "Amit Tripathi", "link": "https://stackoverflow.com/users/4440675/amit-tripathi"}, "reply_to_user": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1438197652, "post_id": 31708988, "comment_id": 51356710, "body": "@frerich-raabe No. Thats vector of pair with standard c++ data types and in my question its array of pairs with(can be customized) custom types in it."}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1438200085, "post_id": 31708988, "comment_id": 51358056, "body": "If you compare the answers, you&#39;ll see that the types of the two fields of the <code>std::pair</code> values don&#39;t matter. The solution is always some sort of comparison function which checks one (or both) of the fields. I don&#39;t think it&#39;s helpful to create new questions for any plausible configuration of std::pair."}], "answers": [{"tags": [], "owner": {"reputation": 5917, "user_id": 4440675, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/q44sl.jpg?s=128&g=1", "display_name": "Amit Tripathi", "link": "https://stackoverflow.com/users/4440675/amit-tripathi"}, "is_accepted": true, "score": 3, "last_activity_date": 1438196802, "last_edit_date": 1438196802, "creation_date": 1438196491, "answer_id": 31708989, "question_id": 31708988, "link": "https://stackoverflow.com/questions/31708988/c-reverse-sort-pair-with-custom-value-inside-it/31708989#31708989", "title": "C++: Reverse sort pair with custom value inside it", "body": "<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int MAX = 1e5 + 5;\ntypedif pair &lt;long long, pair&lt; int, int &gt; &gt; pll;\npll p[MAX];\n\n//custom sort function can be customized\nbool SortByWeight(pll x, pll y){ \n    return x.first &gt; y.first;\n}\n\nint main(){\n    //enter size\n    cin&gt;&gt;szie;\n    //Ex: p = [(10101, (2,3)), (129334, (4, 7))....]\n    sort(p, p+size, SortByWeight)\n}\n</code></pre>\n\n<p>Custom function can be customized for custom type. For ex for class we can use use class_obj.variable_name etc</p>\n\n<ul>\n<li>Source My blog <a href=\"https://mypynotes.wordpress.com/2015/07/29/c-reverse-sort-pair-with-custom-value-inside-it/\" rel=\"nofollow\">mypynotes</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1438210336, "post_id": 31709209, "comment_id": 51362918, "body": "You can even use <code>std::greater&lt;&gt;()</code> :)"}], "tags": [], "owner": {"reputation": 786, "user_id": 312291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e94aef4ef5a736aece577b98402322?s=128&d=identicon&r=PG", "display_name": "UnknownGosu", "link": "https://stackoverflow.com/users/312291/unknowngosu"}, "is_accepted": false, "score": 0, "last_activity_date": 1438197274, "creation_date": 1438197274, "answer_id": 31709209, "question_id": 31708988, "link": "https://stackoverflow.com/questions/31708988/c-reverse-sort-pair-with-custom-value-inside-it/31709209#31709209", "title": "C++: Reverse sort pair with custom value inside it", "body": "<p><code>std::pair</code> provides a member-wise <code>operator &lt;</code> on its own (as well as <code>operator &gt;</code>), so all you need to do is ask <code>std::sort</code> to use <code>operator &gt;</code>:</p>\n\n<pre><code>std::sort(p, p + MAX, std::greater&lt;pair &lt;long long, pair&lt; int, int &gt; &gt;&gt;());\n</code></pre>\n\n<p>More documentation here: <a href=\"http://en.cppreference.com/w/cpp/utility/pair\" rel=\"nofollow\">std::pair</a>, <a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow\">std::sort</a>, <a href=\"http://en.cppreference.com/w/cpp/utility/functional/greater\" rel=\"nofollow\">std::greater</a>.</p>\n"}], "owner": {"reputation": 5917, "user_id": 4440675, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/q44sl.jpg?s=128&g=1", "display_name": "Amit Tripathi", "link": "https://stackoverflow.com/users/4440675/amit-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "closed_date": 1438210417, "accepted_answer_id": 31708989, "answer_count": 2, "score": 0, "last_activity_date": 1438197274, "creation_date": 1438196491, "question_id": 31708988, "link": "https://stackoverflow.com/questions/31708988/c-reverse-sort-pair-with-custom-value-inside-it", "closed_reason": "Duplicate", "title": "C++: Reverse sort pair with custom value inside it", "body": "<p>After searching on google for some time I was not able to find a answer specifically answering this question. How to reverse sort a c++ STL pair with some custom type in it</p>\n\n<pre><code>pair &lt;long long, pair&lt; int, int &gt; &gt; p[MAX];\n</code></pre>\n"}, {"tags": ["c++", "boost-fusion", "boost-preprocessor"], "comments": [{"owner": {"reputation": 584, "user_id": 2639398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2af0cf25bed0d359dce19de12cfcd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Curve25519", "link": "https://stackoverflow.com/users/2639398/curve25519"}, "edited": false, "score": 0, "creation_date": 1438199885, "post_id": 31708960, "comment_id": 51357949, "body": "Size function should be computed in the preprocessor stage, which is currently not the situation. Why don&#39;t you use fusion::for_each instead?"}, {"owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "reply_to_user": {"reputation": 584, "user_id": 2639398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2af0cf25bed0d359dce19de12cfcd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Curve25519", "link": "https://stackoverflow.com/users/2639398/curve25519"}, "edited": false, "score": 0, "creation_date": 1438201116, "post_id": 31708960, "comment_id": 51358675, "body": "In real case I want to build simple switch - each case is created by BOOST_PP_REPEAT - fusion::for_each looks. But if you may show switch statement with boost::fusion::for_each - then I can use it :) (just show in addition how to loads more than one parameter so I could use that in case statement (like std::cout &lt;&lt; param1 &lt;&lt; param2)"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "edited": false, "score": 0, "creation_date": 1438204950, "post_id": 31711079, "comment_id": 51360793, "body": "This solution work, but it if I understand correctly it is adding one more call -  to operator(). I want use this solution to create swich case and this solution may be a bit slower than just creating swich by compiler. I voted this as good solution but is it possible to use boost_pp_repeat with fusion::size - in std::cout case it is working?"}, {"owner": {"reputation": 584, "user_id": 2639398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2af0cf25bed0d359dce19de12cfcd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Curve25519", "link": "https://stackoverflow.com/users/2639398/curve25519"}, "reply_to_user": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "edited": false, "score": 1, "creation_date": 1438279289, "post_id": 31711079, "comment_id": 51397414, "body": "It&#39;s making two calls to operator(), one for each element (but there&#39;s only one compiled, with [T=int]). It will probably inline this function for you, so it&#39;s not that bad. As i said in the comment, in order to use <code>boost_pp_repeat</code> the depth must be computed at preprocessor time, while fusion::size is computed at compile time. It&#39;s simply can&#39;t be done."}], "tags": [], "owner": {"reputation": 584, "user_id": 2639398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2af0cf25bed0d359dce19de12cfcd9e?s=128&d=identicon&r=PG&f=1", "display_name": "Curve25519", "link": "https://stackoverflow.com/users/2639398/curve25519"}, "is_accepted": false, "score": 2, "last_activity_date": 1438203821, "creation_date": 1438203821, "answer_id": 31711079, "question_id": 31708960, "link": "https://stackoverflow.com/questions/31708960/boost-pp-repeat-with-boostfusionsize/31711079#31711079", "title": "BOOST_PP_REPEAT with boost::fusion::size", "body": "<p>Instead of using <code>BOOST_PP_REPEAT</code>, you can use the <code>boost::fusion::for_each</code> which goes through every element.  example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;boost/fusion/include/adapt_struct.hpp&gt;\n#include &lt;boost/fusion/include/size.hpp&gt;\n#include &lt;boost/preprocessor/repetition/repeat.hpp&gt;\n#include &lt;boost/fusion/algorithm/iteration/for_each.hpp&gt;\n\nstruct MyStruct {\n    int x;\n    int y;\n};\n\nBOOST_FUSION_ADAPT_STRUCT(\n    MyStruct,\n    (int, x)\n    (int, y)\n)\n\ntemplate&lt;typename Data&gt;\nstruct PrintWithData {\n    PrintWithData(Data data) : data(data) {}\n\n    template&lt;typename T&gt;\n    operator()(const T&amp; thingToBePrinted)\n    {\n        std::cout &lt;&lt; thingToBePrinted &lt;&lt; std::endl;\n    }\n\n    Data data;\n};\n\nint main()\n{\n    MyStruct s;\n    //this will compile\n    boost::fusion::for_each(s, PrintWithData&lt;std::string&gt;(\"here I will pass my data\"));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "is_accepted": true, "score": 0, "last_activity_date": 1438290505, "last_edit_date": 1495539834, "creation_date": 1438290505, "answer_id": 31734079, "question_id": 31708960, "link": "https://stackoverflow.com/questions/31708960/boost-pp-repeat-with-boostfusionsize/31734079#31734079", "title": "BOOST_PP_REPEAT with boost::fusion::size", "body": "<p>Here is exact solution for this problem (asked more general question later, and found answear which solve this problem too): <a href=\"https://stackoverflow.com/a/31713778/4555790\">https://stackoverflow.com/a/31713778/4555790</a></p>\n"}], "owner": {"reputation": 71, "user_id": 4555790, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40c3ea7314e14dd4262c07c5fae169ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4555790/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 31734079, "answer_count": 2, "score": 0, "last_activity_date": 1438290505, "creation_date": 1438196432, "question_id": 31708960, "link": "https://stackoverflow.com/questions/31708960/boost-pp-repeat-with-boostfusionsize", "title": "BOOST_PP_REPEAT with boost::fusion::size", "body": "<p>I want to iterate in compile time over struct and write to output number of iteration. Just to mention - in real case I will pass some more parameters in data.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;boost/fusion/include/adapt_struct.hpp&gt;\n#include &lt;boost/fusion/include/size.hpp&gt;\n#include &lt;boost/preprocessor/repetition/repeat.hpp&gt;\n\nstruct MyStruct\n{\n    int x;\n    int y;\n};\n\nBOOST_FUSION_ADAPT_STRUCT(\n    MyStruct,\n    (int, x)\n    (int, y)    \n    )\n\n#define PRINT(unused, number, data) \\\n    std::cout &lt;&lt; number &lt;&lt; std::endl;\n\nint main()\n{\n    MyStruct s;\n\n    std::cout &lt;&lt; boost::fusion::size(s) &lt;&lt; std::endl;\n    //line below works - it iterate and write output\n    BOOST_PP_REPEAT(2, PRINT, \"here I will pass my data\")\n\n    //this won't compile \n    //BOOST_PP_REPEAT(boost::fusion::size(s), PRINT, \"here i will pass my data\")\n}\n</code></pre>\n\n<p>How to fix problematic line so it will work when I will add more members in structure? I need solution for C++03 :(</p>\n"}, {"tags": ["c++", "xml", "boost", "boost-propertytree"], "owner": {"reputation": 103, "user_id": 5144623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x8iCl.jpg?s=128&g=1", "display_name": "Javier Buzano", "link": "https://stackoverflow.com/users/5144623/javier-buzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438196039, "creation_date": 1438196039, "question_id": 31708842, "link": "https://stackoverflow.com/questions/31708842/how-to-manually-create-a-boost-ptree", "title": "How to manually create a boost ptree?", "body": "<p>I've been using boost libraries to parse XML files and I have to create a ptree manually. I need to add several children with the same tag name to the ptree. I've tried with put, add_child and put_child, but I can't make it. \nThe ptree that I need to create should be like the one presented below (xml representation): \n</p>\n\n<pre><code>&lt;onexit&gt;\n    &lt;assign location=\"test1\"&gt;&lt;/assign&gt;\n    &lt;assign location=\"test2\"&gt;&lt;/assign&gt;\n    &lt;assign location=\"test3\"&gt;&lt;/assign&gt;\n&lt;/onexit&gt;\n</code></pre>\n\n<p>What do I need to do?</p>\n"}, {"tags": ["c++", "dll", "visual-studio-2013"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1438196837, "post_id": 31708832, "comment_id": 51356253, "body": "You cannot in c+&#177;, without a header file, and a <code>.lib</code> file implementing the binding stubs, for the <code>.dll</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29923, "user_id": 66522, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/90aa6c5bbe336375a9c5bbfc0038a627?s=128&d=identicon&r=PG", "display_name": "Artyom", "link": "https://stackoverflow.com/users/66522/artyom"}, "edited": false, "score": 0, "creation_date": 1465892614, "post_id": 31710797, "comment_id": 63077782, "body": "it is possible to create import library from DLL, gcc can even link with dll directly"}, {"owner": {"reputation": 395, "user_id": 5214345, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q1gpl.png?s=128&g=1", "display_name": "Glinka", "link": "https://stackoverflow.com/users/5214345/glinka"}, "reply_to_user": {"reputation": 29923, "user_id": 66522, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/90aa6c5bbe336375a9c5bbfc0038a627?s=128&d=identicon&r=PG", "display_name": "Artyom", "link": "https://stackoverflow.com/users/66522/artyom"}, "edited": false, "score": 1, "creation_date": 1484148067, "post_id": 31710797, "comment_id": 70391997, "body": "@Artyom, what if <i>dumpbin</i> outputs names like <i>_NWET@16 = _NWET@16</i>, but in the .h file the name of the function is <i>NWET</i>? What do we write in .def file in this case? Thank you in advance"}, {"owner": {"reputation": 1317, "user_id": 3849688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/07WR3.jpg?s=128&g=1", "display_name": "Khouri Giordano", "link": "https://stackoverflow.com/users/3849688/khouri-giordano"}, "edited": false, "score": 1, "creation_date": 1492713436, "post_id": 31710797, "comment_id": 74107864, "body": "For 32-bit <code>stdcall</code> functions, the underscore prefix and parameter stack usage suffix is added to the exported function name. So, you should put <code>_NWET@16</code> in the def file."}], "tags": [], "owner": {"reputation": 1317, "user_id": 3849688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/07WR3.jpg?s=128&g=1", "display_name": "Khouri Giordano", "link": "https://stackoverflow.com/users/3849688/khouri-giordano"}, "is_accepted": true, "score": 38, "last_activity_date": 1492713614, "last_edit_date": 1492713614, "creation_date": 1438202898, "answer_id": 31710797, "question_id": 31708832, "link": "https://stackoverflow.com/questions/31708832/how-to-reference-a-dll-to-visual-studio-without-lib-file/31710797#31710797", "title": "How to reference a dll to Visual Studio without lib file", "body": "<p>The only way to access a bare DLL without a .lib file is to load the DLL explicitly with <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684175.aspx\" rel=\"noreferrer\"><code>LoadLibrary()</code></a>, get pointers to the exported functions you want to access with <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683212.aspx\" rel=\"noreferrer\"><code>GetProcAddress()</code></a>, and then cast those pointers to the proper function signature. If the library exports C++ functions, the names you have to pass to <code>GetProcAddress()</code> will be mangled. You can list the exported names with <a href=\"https://msdn.microsoft.com/en-us/library/c1h23y6c.aspx\" rel=\"noreferrer\"><code>dumpbin /exports your.dll</code></a>.</p>\n\n<pre><code>extern \"C\" {\n    typedef int (*the_func_ptr)( int param1, float param2 );\n}\n\nint main()\n{\n    auto hdl = LoadLibraryA( \"SomeLibrary.dll\" );\n    if (hdl)\n    {\n        auto the_func = reinterpret_cast&lt; the_func_ptr &gt;( GetProcAddress( hdl, \"the_func\" ) );\n        if (the_func)\n            printf( \"%d\\n\", the_func( 17, 43.7f ) );\n        else\n            printf( \"no function\\n\" );\n\n        FreeLibrary( hdl );\n    }\n    else\n        printf( \"no library\\n\" );\n\n    return 0;\n}\n</code></pre>\n\n<p>As has been noted by others, a LIB file can be created. Get the list of exported functions from <code>dumpbin /exports your.dll</code>:</p>\n\n<pre><code>ordinal hint RVA      name\n      1    0 00001000 adler32\n      2    1 00001350 adler32_combine\n      3    2 00001510 compress\n(etc.)\n</code></pre>\n\n<p>Put the names into a DEF file:</p>\n\n<pre><code>EXPORTS\nadler32\nadler32_combine\ncompress\n(etc.)\n</code></pre>\n\n<p>Now make the LIB file:</p>\n\n<pre><code>lib /def:your.def /OUT:your.lib\n</code></pre>\n\n<p>For cases where the name has been decorated, either by C++ name mangling or 32-bit <code>stdcall</code> calling convention, simply copy and paste whatever names <code>dumpbin</code> reported, mangling and all.</p>\n"}, {"comments": [{"owner": {"reputation": 14821, "user_id": 5743288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea16526477fd6f1d4cc57f976af38d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sanders", "link": "https://stackoverflow.com/users/5743288/paul-sanders"}, "edited": false, "score": 1, "creation_date": 1525412416, "post_id": 31712215, "comment_id": 87353276, "body": "There is also (or used to be) <a href=\"http://docs.embarcadero.com/products/rad_studio/radstudio2007/RS2007_helpupdates/HUpdate4/EN/html/devwin32/implib_xml.html\" rel=\"nofollow noreferrer\">IMPLIB</a>"}], "tags": [], "owner": {"reputation": 97, "user_id": 5013117, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N-26cBAAxdg/AAAAAAAAAAI/AAAAAAAAAMM/tdaKC_O48Uw/photo.jpg?sz=128", "display_name": "Richard Vu", "link": "https://stackoverflow.com/users/5013117/richard-vu"}, "is_accepted": false, "score": 6, "last_activity_date": 1610878320, "last_edit_date": 1610878320, "creation_date": 1438208632, "answer_id": 31712215, "question_id": 31708832, "link": "https://stackoverflow.com/questions/31708832/how-to-reference-a-dll-to-visual-studio-without-lib-file/31712215#31712215", "title": "How to reference a dll to Visual Studio without lib file", "body": "<p>If you don't have a <code>.lib</code> file you can create one from the <code>.dll</code>:</p>\n<p><a href=\"https://web.archive.org/web/20160228170508/https://adrianhenke.wordpress.com/2008/12/05/create-lib-file-from-dll/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20160228170508/https://adrianhenke.wordpress.com/2008/12/05/create-lib-file-from-dll/</a></p>\n"}], "owner": {"reputation": 235, "user_id": 4708080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff6d19ddbac87e1ae02e1ca24ab5320?s=128&d=identicon&r=PG&f=1", "display_name": "Heather", "link": "https://stackoverflow.com/users/4708080/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22611, "favorite_count": 11, "accepted_answer_id": 31710797, "answer_count": 2, "score": 18, "last_activity_date": 1610878320, "creation_date": 1438196006, "last_edit_date": 1528815853, "question_id": 31708832, "link": "https://stackoverflow.com/questions/31708832/how-to-reference-a-dll-to-visual-studio-without-lib-file", "title": "How to reference a dll to Visual Studio without lib file", "body": "<p>I needed to add a third party library to my project, and they only supply a .dll file (no .lib)</p>\n\n<p>I have added the dll to the project by going to the project Property Page under Common Properties -> References -> Add New Reference</p>\n\n<p>I can see the dll under the External Dependencies folder in the Solution Explorer, so I guess it was included correctly.</p>\n\n<p>But how do I reference the dll? \nWhen I try to add an instance variable (For example, MCC::iPort::ASCII iPort) to access the dll class, I get Error: name followed by '::' must be a class or namespace name, but I know thats the class name I can see it in the dll info under External Dependencies.</p>\n"}, {"tags": ["c++", "windows", "multithreading"], "comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1438208185, "post_id": 31708747, "comment_id": 51362167, "body": "Not your problem, but note <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/01/19/60162.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/oldnewthing/archive/2004/01/19/60162.aspx</a>"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1438208617, "post_id": 31708747, "comment_id": 51362327, "body": "I can&#39;t reproduce the problem, but that&#39;s to be expected if it&#39;s a race condition.  Most likely cause is the call to TerminateThread corrupting some data structure the runtime library depends on."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1438208738, "post_id": 31708747, "comment_id": 51362368, "body": "FWIW, you could probably mask the symptoms by calling <code>TerminateProcess(GetCurrentProcess(), 0)</code> to exit the process instead of returning from main()."}], "answers": [{"comments": [{"owner": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438201225, "post_id": 31709961, "comment_id": 51358741, "body": "Sorry, but this is not correct. The Semaphore has a count of 1, meaning that &quot;WaitForSingleObject&quot; is essentially just locking a lock (it&#39;s a mutex), and then ReleaseSemaphore is unlocking the lock. You can run it yourself and see that it continues running after that."}, {"owner": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438203137, "post_id": 31709961, "comment_id": 51359761, "body": "So I release the Semaphore again because it is essentially unlocking a lock, and since we just locked it it is good practice to unlock it."}, {"owner": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438203157, "post_id": 31709961, "comment_id": 51359768, "body": "Then I agree TerminateThread is something that should not be used, but if someone is making a thread class (there&#39;s where I got this code), it&#39;s really the only option of halting a thread on a .stop(). It&#39;s bad practice, and ideally there shouldn&#39;t be a stop() (only a join, and then the programmer should implement stop as needed in their code via polling or a mutex or critical section or etc.), however this exists in production code and I would like to know why it breaks."}, {"owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "reply_to_user": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438203390, "post_id": 31709961, "comment_id": 51359927, "body": "Yes, but you never wait on it again. You&#39;ve created it with one extra count to begin with. 1 its its maximum count. Now Release would cause it to exceed 1, not???"}, {"owner": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438204129, "post_id": 31709961, "comment_id": 51360361, "body": "Nah, remember release decrements the count. It&#39;s essentially a &quot;unlock.&quot; So my WaitForSingleObject incremented it to 1, then my ReleaseSemaphore set it back down to 0."}, {"owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "reply_to_user": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "edited": false, "score": 0, "creation_date": 1438204837, "post_id": 31709961, "comment_id": 51360738, "body": "From MSDN  lReleaseCount [in] The amount by which the semaphore object&#39;s current count is to be increased. The value must be greater than zero. If the specified amount would cause the semaphore&#39;s count to exceed the maximum count that was specified when the semaphore was created, the count is not changed and the function returns FALSE. Therefore Release increases the count. Wait decreases and blocks when zero is reached (when it is non-signalled). Remember - Release increments, wait decrements."}], "tags": [], "owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "is_accepted": false, "score": 1, "last_activity_date": 1438202657, "last_edit_date": 1438202657, "creation_date": 1438199846, "answer_id": 31709961, "question_id": 31708747, "link": "https://stackoverflow.com/questions/31708747/why-does-using-a-semaphore-in-a-seperate-thread-freeze-up-the-program/31709961#31709961", "title": "Why does using a semaphore in a seperate thread freeze up the program?", "body": "<p>The logic looks OK concerning the Semaphore. My apologies. I've not noticed the \"1\". I can only mention that you don't verify that the API functions actually complete successfully.</p>\n\n<pre><code>void runFunction()\n{\n    ReleaseSemaphore(m_mutex, 1, NULL);\n}\n\nint main()\n{\n    std::cout &lt;&lt; \"Hello World!\" &lt;&lt; std::endl;\n\n    //OK - Count=1\n    m_mutex = CreateSemaphore(NULL, 1, 1, NULL);\n    WaitForSingleObject(m_mutex, INFINITE);\n\n    //OK - Count=0\n\n    HANDLE m_handle = CreateThread(0, 5120, reinterpret_cast&lt;LPTHREAD_START_ROUTINE&gt;(runFunction), 0, 0, 0); \n\n    //DO you know for sure that the thread has started??? The return value is never checked???\n\n    //Now we not sure... Count may 1, or 0, because thread is not necessarily started immediately..\n\n    //OK. We will block here. Count should no be 1 again, or should soon become it\n    WaitForSingleObject(m_mutex, INFINITE);\n\n    //Why???\n    ReleaseSemaphore(m_mutex, 1, NULL);\n\n    //Why so extreme? \"Terminate thread is a dangerous function....\" MSDN\n    TerminateThread(m_handle, 0);\n    CloseHandle(m_handle);\n\n    CloseHandle(m_mutex);\n\n    std::cout &lt;&lt; \"Done\" &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3607, "user_id": 2924421, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AcGoY.jpg?s=128&g=1", "display_name": "Phylliida", "link": "https://stackoverflow.com/users/2924421/phylliida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1438202657, "creation_date": 1438195723, "last_edit_date": 1438201269, "question_id": 31708747, "link": "https://stackoverflow.com/questions/31708747/why-does-using-a-semaphore-in-a-seperate-thread-freeze-up-the-program", "title": "Why does using a semaphore in a seperate thread freeze up the program?", "body": "<p>I had this problem, so I boiled it down to the minimum program that still exhibited this error. I am on Windows.</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n\nHANDLE m_mutex;\n\nvoid runFunction()\n{\n    ReleaseSemaphore(m_mutex, 1, NULL);\n}\n\nint main()\n{\n    std::cout &lt;&lt; \"Hello World!\" &lt;&lt; std::endl;\n\n    m_mutex = CreateSemaphore(NULL, 1, 1, NULL);\n    WaitForSingleObject(m_mutex, INFINITE);\n\n    HANDLE m_handle = CreateThread(0, 5120, reinterpret_cast&lt;LPTHREAD_START_ROUTINE&gt;(runFunction), 0, 0, 0); \n\n    WaitForSingleObject(m_mutex, INFINITE);\n    ReleaseSemaphore(m_mutex, 1, NULL);\n\n    TerminateThread(m_handle, 0);\n    CloseHandle(m_handle);\n\n    CloseHandle(m_mutex);\n\n    std::cout &lt;&lt; \"Done\" &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Ignore the poor coding style and the use of TerminateThread (I know that using that is bad), this is a case I am testing not one that I would implement. Still I would like to know why this freezes up the program, especially when something as simple as putting <code>std::cout &lt;&lt; \"Test\" &lt;&lt; std::endl;</code> in the middle makes the program no longer freeze. Also, \"done\" is printed, just the program never exits.</p>\n"}, {"tags": ["c++", "polymorphism", "language-lawyer"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438195887, "post_id": 31708731, "comment_id": 51355707, "body": "<i>&quot;What am I missing?&quot;</i> The role of <code>virtual</code> in the declaration."}, {"owner": {"reputation": 637, "user_id": 4470210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-GCfTfvdL808/AAAAAAAAAAI/AAAAAAAAAEo/-5NpRkzO3PM/photo.jpg?sz=128", "display_name": "Fran&#231;ois-Marie Arouet", "link": "https://stackoverflow.com/users/4470210/fran%c3%a7ois-marie-arouet"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438196123, "post_id": 31708731, "comment_id": 51355854, "body": "That just tells me that <code>Base</code> is polymorphic, but it doesn&#39;t tell me that a reference to <code>Base</code>, i.e., an object of type <code>Base&amp;</code> has a polymorphic class."}, {"owner": {"reputation": 1694, "user_id": 1791696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6cf769c74a837d280bdbf90d0d824e0?s=128&d=identicon&r=PG", "display_name": "joeking", "link": "https://stackoverflow.com/users/1791696/joeking"}, "edited": false, "score": 0, "creation_date": 1438196458, "post_id": 31708731, "comment_id": 51356039, "body": "For a class to be polymorphic it must have at least one virtual function. With no virtual functions there is no v-table, thus no virtual fuction calls or dynamic typing is possible. &quot;b&quot; could still be a reference to an instance of Derived, but you couldn&#39;t tell that by examining b, using typeid, or calling its members."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 1694, "user_id": 1791696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6cf769c74a837d280bdbf90d0d824e0?s=128&d=identicon&r=PG", "display_name": "joeking", "link": "https://stackoverflow.com/users/1791696/joeking"}, "edited": false, "score": 0, "creation_date": 1438196574, "post_id": 31708731, "comment_id": 51356119, "body": "@joeking vtables are implementation details.  In a <a href=\"https://stackoverflow.com/questions/tagged/language-lawyer\">language-lawyer</a> question, implementation details are ... secondary.  And even though someone else added it, this is very much a language-lawyer question."}, {"owner": {"reputation": 1694, "user_id": 1791696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6cf769c74a837d280bdbf90d0d824e0?s=128&d=identicon&r=PG", "display_name": "joeking", "link": "https://stackoverflow.com/users/1791696/joeking"}, "edited": false, "score": 0, "creation_date": 1438196596, "post_id": 31708731, "comment_id": 51356128, "body": "&quot;an object of type Base&amp; has a polymorphic class&quot;: Well, yes, because &quot;Base&quot; is a polymorphic type - meaning that its possible that instances could be instances of subclasses of Base - but they aren&#39;t required to be ... &quot;b&quot; could be a reference to an object that is an instance of Base."}, {"owner": {"reputation": 1694, "user_id": 1791696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6cf769c74a837d280bdbf90d0d824e0?s=128&d=identicon&r=PG", "display_name": "joeking", "link": "https://stackoverflow.com/users/1791696/joeking"}, "edited": false, "score": 0, "creation_date": 1438196682, "post_id": 31708731, "comment_id": 51356182, "body": "v-table are an implementation detail, but the existance or not of virtual functions still has the effects I described. See &#167;10.3/1 &quot;Virtual functions support dynamic binding and object-oriented programming. A class that declares or inherits a virtual function is called a polymorphic class.&quot;"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1438198974, "post_id": 31708731, "comment_id": 51357426, "body": "The type of an expression is <i>never</i> a reference type.  <code>b</code> is an lvalue of type <code>Base</code>."}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 4470210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-GCfTfvdL808/AAAAAAAAAAI/AAAAAAAAAEo/-5NpRkzO3PM/photo.jpg?sz=128", "display_name": "Fran&#231;ois-Marie Arouet", "link": "https://stackoverflow.com/users/4470210/fran%c3%a7ois-marie-arouet"}, "edited": false, "score": 0, "creation_date": 1438197456, "post_id": 31709049, "comment_id": 51356607, "body": "But the expression <code>b</code> in the example has type <code>Base&amp;</code>. How does one conclude that <code>Base&amp;</code> is the type of a polymorphic class?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 637, "user_id": 4470210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-GCfTfvdL808/AAAAAAAAAAI/AAAAAAAAAEo/-5NpRkzO3PM/photo.jpg?sz=128", "display_name": "Fran&#231;ois-Marie Arouet", "link": "https://stackoverflow.com/users/4470210/fran%c3%a7ois-marie-arouet"}, "edited": false, "score": 0, "creation_date": 1438198789, "post_id": 31709049, "comment_id": 51357325, "body": "@Fran&#231;ois-MarieArouet Because we don&#39;t care that it&#39;s a reference. Added an extra clause."}, {"owner": {"reputation": 637, "user_id": 4470210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-GCfTfvdL808/AAAAAAAAAAI/AAAAAAAAAEo/-5NpRkzO3PM/photo.jpg?sz=128", "display_name": "Fran&#231;ois-Marie Arouet", "link": "https://stackoverflow.com/users/4470210/fran%c3%a7ois-marie-arouet"}, "edited": false, "score": 0, "creation_date": 1438204231, "post_id": 31709049, "comment_id": 51360420, "body": "That&#39;s it. &#167;5/5 is the answer. Thanks(+1)"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 5, "last_activity_date": 1438198775, "last_edit_date": 1438198775, "creation_date": 1438196664, "answer_id": 31709049, "question_id": 31708731, "link": "https://stackoverflow.com/questions/31708731/why-is-a-reference-to-a-polymorphic-class-polymorphic/31709049#31709049", "title": "Why is a reference to a polymorphic class, polymorphic?", "body": "<p>From [expr]</p>\n\n<blockquote>\n  <p>If an expression initially has the type \u201creference to T\u201d (8.3.2, 8.5.3), the type is adjusted to T prior to\n  any further analysis. The expression designates the object or function denoted by the reference, and the\n  expression is an lvalue or an xvalue, depending on the expression.</p>\n</blockquote>\n\n<p>The expression <code>b</code> initially has type \"reference to <code>Base</code>\", so the type is adjusted to <code>Base</code>. It is an lvalue, which is a glvalue. </p>\n\n<p>From [class.virtual]:</p>\n\n<blockquote>\n  <p>A class that declares or inherits a virtual function is called a polymorphic class.</p>\n</blockquote>\n\n<p><code>Base</code> declares a virtual function, so it is a polymorphic class.</p>\n\n<p>From [expr.typeid]:</p>\n\n<blockquote>\n  <p>When <code>typeid</code> is applied to a glvalue expression whose type is a polymorphic class type (10.3), the result refers\n  to a <code>std::type_info</code> object representing the type of the <strong>most derived object</strong> (1.8) (that is, the dynamic\n  type) to which the glvalue refers.</p>\n</blockquote>\n\n<p>Based on the above, we satisfy the initial conditions (the expression is a glvalue whose type is a polymorphic class type), so we pick the most derived object to which <code>b</code> refers to. That would be <code>d</code>, which has type <code>Derived</code>. </p>\n\n<p>If <code>b</code> were a <code>Base</code> instead of a <code>Base&amp;</code>, then the most derived object would be <code>b</code> itself. </p>\n"}], "owner": {"reputation": 637, "user_id": 4470210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-GCfTfvdL808/AAAAAAAAAAI/AAAAAAAAAEo/-5NpRkzO3PM/photo.jpg?sz=128", "display_name": "Fran&#231;ois-Marie Arouet", "link": "https://stackoverflow.com/users/4470210/fran%c3%a7ois-marie-arouet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 31709049, "answer_count": 1, "score": 3, "last_activity_date": 1438198775, "creation_date": 1438195684, "last_edit_date": 1438195943, "question_id": 31708731, "link": "https://stackoverflow.com/questions/31708731/why-is-a-reference-to-a-polymorphic-class-polymorphic", "title": "Why is a reference to a polymorphic class, polymorphic?", "body": "<p>It is a well known fact that the snippet below prints <code>Derived</code> or something similar.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;typeinfo&gt;\nclass Base { public: virtual ~Base(){} };\nclass Derived : public Base{};\nint main()\n{\n     Derived d;    \n     Base&amp; b = d;\n     std::cout &lt;&lt; typeid(b).name() &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>But I'd like to understand how could one conclude this, from paragraph \u00a75.2.8/2 in the Standard (N4140). For example, <code>b</code> is certainly a glvalue, but the type <code>Base&amp;</code> is not the same as <code>Base</code>, so I can't say that <code>b</code> is polymorphic. What am I missing?</p>\n"}, {"tags": ["c++", "entity", "declaration", "language-lawyer", "using-declaration"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 2, "creation_date": 1438202393, "post_id": 31708705, "comment_id": 51359356, "body": "Now that I&#39;m answering your third question on this topic, I think I&#39;m finally understanding this!"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1438206793, "post_id": 31708705, "comment_id": 51361582, "body": "@Barry I&#39;m patiently waiting for Supremum&#39;s exploration of the standard to touch Clause 14. Ah, what a barrage of questions and bug reports that will be! :-)"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1438207084, "post_id": 31708705, "comment_id": 51361707, "body": "@Supremum I hope you&#39;re not taking the comment above the wrong way - it&#39;s friendly banter. You&#39;re raising interesting issues, some of them not obvious at all. Keep asking!"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438208492, "post_id": 31708705, "comment_id": 51362279, "body": "So far: 10 non-rejected bugs in clang (3 fixed) and 13 non-rejected bugs in gcc (8 confirmed, 0 fixed). So far I have mostly looked in chapter 3 and 7 :P"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438209179, "post_id": 31708705, "comment_id": 51362541, "body": "Thanks for the help Barry. I&#39;m much less confused now. I realised however that the c++ standard can&#39;t be 100 % precise in its terms, and I shouldn&#39;t take everything too literally. Its good to understand the terms used, but there is a limit in the precision of them. I should probably focus more on making my own mental model of the c++ standard. That is usually how I learn things, explaining it in my own terms."}], "answers": [{"tags": [], "owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "is_accepted": false, "score": 0, "last_activity_date": 1438201198, "last_edit_date": 1438201198, "creation_date": 1438200888, "answer_id": 31710257, "question_id": 31708705, "link": "https://stackoverflow.com/questions/31708705/the-difference-between-declaring-a-name-introducing-a-name-and-declaring-an-en/31710257#31710257", "title": "The difference between declaring a name, introducing a name, and declaring an entity", "body": "<blockquote>\n  <p>What do they mean by the name being declared in the declarative region\n  where the using-declaration occurs?</p>\n</blockquote>\n\n<p>I'll try and answer this with an example of my understanding of it (Refer to my comments in the depicted code):</p>\n\n<pre><code>// \"namespace X {}\" introduces a declarative region of the namespace X\nnamespace X {\n  //The name SomeObject is now introduced into the declarative region X\n  // It is only visible in that declarative region\n  using Y::SomeObject;\n}//Declarative region X ENDS here\n// SomeObject NOT visible here\n</code></pre>\n\n<p>Below is an example where the (compiler) error makes it clear where the name is not visible:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nnamespace A\n{\n  struct X{};\n}\n\nnamespace B\n{\n  struct X{};\n}\n\nnamespace C\n{\n  using A::X;\n\n  void foo(X){}\n}\n\nnamespace D\n{\n  using B::X;\n\n  void foo(X){}\n}\n\nvoid foo(X){} //FAILS TO COMPILE - DELIBERATE!!!\n\nint main() \n{\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65373, "user_id": 819272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o7w9X.png?s=128&g=1", "display_name": "TemplateRex", "link": "https://stackoverflow.com/users/819272/templaterex"}, "edited": false, "score": 0, "creation_date": 1438203938, "post_id": 31710965, "comment_id": 51360244, "body": "just a side-comment: are there any names that don&#39;t denote an entity?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 65373, "user_id": 819272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o7w9X.png?s=128&g=1", "display_name": "TemplateRex", "link": "https://stackoverflow.com/users/819272/templaterex"}, "edited": false, "score": 1, "creation_date": 1438204158, "post_id": 31710965, "comment_id": 51360376, "body": "@TemplateRex Yes. A name can denote a label."}, {"owner": {"reputation": 65373, "user_id": 819272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o7w9X.png?s=128&g=1", "display_name": "TemplateRex", "link": "https://stackoverflow.com/users/819272/templaterex"}, "edited": false, "score": 0, "creation_date": 1438204209, "post_id": 31710965, "comment_id": 51360407, "body": "ah, yes, with <code>goto</code>, no wonder it didn&#39;t pop up in my mind immediately :)"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 6, "last_activity_date": 1438203384, "creation_date": 1438203384, "answer_id": 31710965, "question_id": 31708705, "link": "https://stackoverflow.com/questions/31708705/the-difference-between-declaring-a-name-introducing-a-name-and-declaring-an-en/31710965#31710965", "title": "The difference between declaring a name, introducing a name, and declaring an entity", "body": "<p>From first principles, an <em>entity</em> is, from [basic]</p>\n\n<blockquote>\n  <p>a value, object, reference, function, enumerator, type, class member, bit-field, template, template\n  specialization, namespace, parameter pack, or <code>this</code>. [...] Every name that denotes an entity is introduced by a declaration.</p>\n</blockquote>\n\n<p>Declarations declare things. To be declared means that it was introduced by a declaration, from [basic.scope.declarative]</p>\n\n<blockquote>\n  <p>Every name is introduced in some portion of program text called a <em>declarative region</em>, which is the largest part\n  of the program in which that name is valid, that is, in which that name may be used as an unqualified name\n  to refer to the same entity.</p>\n  \n  <p>The names declared by a declaration are introduced into the scope in which the declaration occurs, except\n  that the presence of a <code>friend</code> specifier (11.3), certain uses of the <em>elaborated-type-specifier</em> (7.1.6.3), and\n  <em>using-directives</em> (7.3.4) alter this general behavior.</p>\n</blockquote>\n\n<p>None of those exceptions are relevant here, since we're talking about <em>using-declarations</em> and not <em>using-directives</em>. Let me alter your example somewhat so as to avoid the global namespace:</p>\n\n<pre><code>namespace N {        //  + declarative region #1\n                     //  |\n    static int i;    //  | introduces a name into this region\n                     //  | this declaration introduces an entity\n}                    //  +\n</code></pre>\n\n<p>So to start with, <code>N::i</code> is an entity that is declared in namespace <code>N</code> and introduced into the scope of <code>N</code>. Now, let's add a <em>using-declaration</em>:</p>\n\n<pre><code>namespace B {        //  + declarative region #2\n                     //  |\n    using N::i;      //  | declaration introduces a name i\n                     //  | but this is not an entity\n}                    //  +\n</code></pre>\n\n<p>From [namespace.udecl], we have:</p>\n\n<blockquote>\n  <p>If a <em>using-declaration</em> names a constructor (3.4.3.1), it implicitly declares a set of constructors in the\n  class in which the using-declaration appears (12.9); otherwise the name specified in a <em>using-declaration</em> is a\n  <strong>synonym</strong> for a set of declarations in another namespace or class.</p>\n</blockquote>\n\n<p>The <em>using-declaration</em> <code>using N::i</code> does not name a constructor, so rather than having the name <code>i</code> be a new entity, it is instead a <em>synonym</em> for <code>N::i</code>. </p>\n\n<p>So basically, both <code>i</code>s are names introduced in and declared in their respective namespaces. In <code>N</code>, <code>i</code> declares an entity with static linkage, but in <code>B</code>, <code>i</code> declares a synonym to that entity - not a new entity. </p>\n"}], "owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 1, "accepted_answer_id": 31710965, "answer_count": 2, "score": 7, "last_activity_date": 1438203384, "creation_date": 1438195572, "last_edit_date": 1438197691, "question_id": 31708705, "link": "https://stackoverflow.com/questions/31708705/the-difference-between-declaring-a-name-introducing-a-name-and-declaring-an-en", "title": "The difference between declaring a name, introducing a name, and declaring an entity", "body": "<p>From the C++11 standard, \u00a77.3.3[namespace.udecl]/1:</p>\n\n<blockquote>\n  <p>A using-declaration introduces a name into the declarative region in which the using-declaration appears.</p>\n  \n  <blockquote>\n    <p><em>using-declaration</em>:<br/></p>\n    \n    <blockquote>\n      <p><code>using typename</code><sub><em>opt</em></sub> <em>nested-name-specifier unqualified-id</em> <code>;</code><br/>\n        <code>using ::</code> <em>unqualified-id</em> <code>;</code><br/></p>\n    </blockquote>\n  </blockquote>\n  \n  <p><strong>The member name specified in a using-declaration is declared in the declarative region in which the using-declaration appears.</strong></p>\n</blockquote>\n\n<p>What do they mean by the name being declared in the declarative region where the using-declaration occurs?</p>\n\n<p>Does this mean the same as introducing that name into the declarative region where the using-declaration occurs?</p>\n\n<p>Also is there a difference between declaring a name and declaring the entity that the name denotes?</p>\n\n<p>Example:</p>\n\n<pre><code>namespace N { static int i = 1; } /* Declares an entity denoted by \n    the name i in the declarative region of the namespace N. \n    Introduces the name into the declarative region of the namespace N.\n    Declares the name i in the declarative region of the namespace N? */\nusing N::i; /* Declares the name i in the declarative region of the\n    global namespace. Also introduces that name into the declarative\n    region of the global namespace? Also declares the entity that the\n    name i denotes? */ \n</code></pre>\n"}, {"tags": ["python", "c++", "boost", "boost-python"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1438196055, "post_id": 31708583, "comment_id": 51355807, "body": "Correct me if I&#39;m wrong, but you are not showing any to-Python convertors in this snippet, you are trying to define two Python method (using the same Pyrhon name for some reason)."}, {"owner": {"reputation": 747, "user_id": 2100935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXQMr.jpg?s=128&g=1", "display_name": "317070", "link": "https://stackoverflow.com/users/2100935/317070"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1438210720, "post_id": 31708583, "comment_id": 51363029, "body": "Euhm, those 2 casters work as converters, no? And which methods have the same python name? (I&#39;m confused now)"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1438231331, "post_id": 31708583, "comment_id": 51368034, "body": "No sorry they are different names, I misread. But I still have no idea why they should act as  converters. You register a converter with <code>boost::python::to_python_converter</code>, or am I missing something?"}, {"owner": {"reputation": 48017, "user_id": 1053968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356f892f0e96a3615ae44f6d815c5b0f?s=128&d=identicon&r=PG", "display_name": "Tanner Sansbury", "link": "https://stackoverflow.com/users/1053968/tanner-sansbury"}, "edited": false, "score": 1, "creation_date": 1438262085, "post_id": 31708583, "comment_id": 51385690, "body": "Please post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> containing the module and how it is being invoked.  <a href=\"http://coliru.stacked-crooked.com/a/8da3db1c6530e828\" rel=\"nofollow noreferrer\">Coliru</a> is great for providing live examples too.  The casting functions being exposed are not registered as to-Python converters (implicitly through <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/python/doc/v2/class.html#class_-spec\" rel=\"nofollow noreferrer\"><code>class_</code></a> or one of the explicit <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/python/doc/v2/reference.html#type_conversion\" rel=\"nofollow noreferrer\">to-Python converters</a>)."}], "owner": {"reputation": 747, "user_id": 2100935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXQMr.jpg?s=128&g=1", "display_name": "317070", "link": "https://stackoverflow.com/users/2100935/317070"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438262115, "creation_date": 1438195148, "last_edit_date": 1438262115, "question_id": 31708583, "link": "https://stackoverflow.com/questions/31708583/python-boost-thinks-two-converters-are-duplicates-when-their-templated-argument", "title": "Python Boost thinks two converters are duplicates, when their templated arguments are not", "body": "<p>I'm trying to add these two converters to my python boost-library version.</p>\n\n<pre><code>std::tr1::shared_ptr&lt;sbcp::Device&gt; cast_pointer_motor(std::tr1::shared_ptr&lt;sbcp::amarsi::MotorDriver&gt; driver){\n    return std::tr1::static_pointer_cast&lt;sbcp::Device&gt;(driver);\n}\n\nstd::tr1::shared_ptr&lt;sbcp::Device&gt; cast_pointer_power(std::tr1::shared_ptr&lt;sbcp::amarsi::Power&gt; driver){\n    return std::tr1::static_pointer_cast&lt;sbcp::Device&gt;(driver);\n}\n\ndef(\"deviceMotorPtrCast\",&amp;cast_pointer_motor);\ndef(\"devicePowerPtrCast\",&amp;cast_pointer_power);\n</code></pre>\n\n<p>They are nearly identical, except that the template in the argument of the function is different.</p>\n\n<p>However, upon loading this library in python, I get the exception:</p>\n\n<pre><code>test.py:1: RuntimeWarning: to-Python converter for std::tr1::shared_ptr&lt;sbcp::Device&gt; already registered; second conversion method ignored.\n</code></pre>\n\n<p>which leads to this further down</p>\n\n<pre><code>TypeError: No to_python (by-value) converter found for C++ type: std::tr1::shared_ptr&lt;sbcp::amarsi::Power&gt;\n</code></pre>\n\n<p>So, how can I convince boost those two converters are actually different? What am I doing wrong?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1438195328, "post_id": 31708567, "comment_id": 51355365, "body": "Comma has <a href=\"http://stackoverflow.com/a/18444099/1708801\">lowest precedence</a>"}, {"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "edited": false, "score": 0, "creation_date": 1438195354, "post_id": 31708567, "comment_id": 51355389, "body": "@Rohit use compiler warnings <code>-Wall</code>"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1438195476, "post_id": 31708567, "comment_id": 51355475, "body": "Wait, what? undefined behavior? The comma operator introduces a sequence point @\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6"}, {"owner": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 0, "creation_date": 1438195479, "post_id": 31708567, "comment_id": 51355476, "body": "<i>What effect does removing the ( ) operator has and in what order the operators are being executed</i> Better question: why are you so uninterested in learning these details that you would rather ask random people for help? Write some code and figure the answer out yourself. For self-bonus points, inspect the assembly code the compiler can generate (if you ask it to) and spend some time to understand it."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5016609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b162e4eb5c92295b3eb77e876ba8c400?s=128&d=identicon&r=PG&f=1", "display_name": "timtoy1", "link": "https://stackoverflow.com/users/5016609/timtoy1"}, "is_accepted": false, "score": 0, "last_activity_date": 1438195358, "creation_date": 1438195358, "answer_id": 31708642, "question_id": 31708567, "link": "https://stackoverflow.com/questions/31708567/whats-going-under-the-hood-in-this-simple-c-code/31708642#31708642", "title": "What&#39;s going under the hood in this simple C++ code?", "body": "<p>The + and - operators take precedence before the assignment operator and the +,- signs are read by the compiler from left to right, whereas the assignment operators are read by the compiler from right to left. So:\n    1) a++\n    2) a--\n    3) a=10\n    4) a =</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5510637, "user_type": "registered", "profile_image": "https://graph.facebook.com/112572949104739/picture?type=large", "display_name": "Amnoid Lab", "link": "https://stackoverflow.com/users/5510637/amnoid-lab"}, "is_accepted": false, "score": 0, "last_activity_date": 1453482412, "creation_date": 1453482412, "answer_id": 34952246, "question_id": 31708567, "link": "https://stackoverflow.com/questions/31708567/whats-going-under-the-hood-in-this-simple-c-code/34952246#34952246", "title": "What&#39;s going under the hood in this simple C++ code?", "body": "<p>The c++ compiler will pass your complete set code to a binary tree which will rearrange your code according to the precedence of the operator = + - etc in left node or right node</p>\n"}], "owner": {"reputation": 1, "user_id": 4741140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cb828a2402b8af72c468a5d24ea9b0?s=128&d=identicon&r=PG&f=1", "display_name": "Roh777", "link": "https://stackoverflow.com/users/4741140/roh777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": -9, "last_activity_date": 1453482412, "creation_date": 1438195088, "last_edit_date": 1438195304, "question_id": 31708567, "link": "https://stackoverflow.com/questions/31708567/whats-going-under-the-hood-in-this-simple-c-code", "title": "What&#39;s going under the hood in this simple C++ code?", "body": "<pre><code>#include&lt;iostream&gt;\nint main()\n{ \n    int a = 5;\n    a = (a = 10, a++, a--);\n    std::cout &lt;&lt; a;\n\n}\n</code></pre>\n\n<p>Output is 11,\n   But when I modify the line</p>\n\n<pre><code>a = a=10,a++,a--;\n</code></pre>\n\n<p>Output is 10\nWhat effect does removing the ( ) operator has and in what order the operators are being executed.</p>\n"}, {"tags": ["c++", "class", "constructor"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1438195053, "post_id": 31708532, "comment_id": 51355206, "body": "get rid of <code>Champ Test;</code> and change <code>Test(chose);</code> to <code>Champ Test(chose);</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1438195300, "post_id": 31708532, "comment_id": 51355345, "body": "Also <code>class</code> is a reserved keyword and you cannot have a member named <code>class</code>"}, {"owner": {"reputation": 282, "user_id": 2649380, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/71827eeeec4eedfc622faa8b06eaa6f1?s=128&d=identicon&r=PG", "display_name": "APRocha", "link": "https://stackoverflow.com/users/2649380/aprocha"}, "edited": false, "score": 0, "creation_date": 1438195335, "post_id": 31708532, "comment_id": 51355375, "body": "the sintaxis you would change Champ Test for Champ test; and later when you call again test(); you invocate again the constructor (an error), you will would define a method like changeHp(int newHp) where you change hp."}, {"owner": {"reputation": 688, "user_id": 526001, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9bc8bd75e87d9a4c8fb7c1264a9cf871?s=128&d=identicon&r=PG", "display_name": "David Peterson", "link": "https://stackoverflow.com/users/526001/david-peterson"}, "edited": false, "score": 0, "creation_date": 1438195662, "post_id": 31708532, "comment_id": 51355583, "body": "It looks like you are attempting to call the constructor twice for the same object.  Constructors are meant to only ever be called once and are designed to put the object in a valid state after memory is reserved.  What you probably want is a simple member function to later set the value.  Try changing your second constructor to a member function <code>void SetClass(std::string value)</code> and calling <code>Test.SetClass(chose)</code> instead.  Also and as NathanOliver stated, <code>class</code> is a keyword and is probably giving you issues as well."}, {"owner": {"reputation": 70, "user_id": 3464250, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5c0b582e68eec25dc506bd33f4b1ec48?s=128&d=identicon&r=PG&f=1", "display_name": "user3464250", "link": "https://stackoverflow.com/users/3464250/user3464250"}, "edited": false, "score": 0, "creation_date": 1438205055, "post_id": 31708532, "comment_id": 51360842, "body": "Thank you all. @DanielT ur solution is running, thank u"}], "answers": [{"tags": [], "owner": {"reputation": 24103, "user_id": 506441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GQFUj.jpg?s=128&g=1", "display_name": "Daniel T.", "link": "https://stackoverflow.com/users/506441/daniel-t"}, "is_accepted": true, "score": 0, "last_activity_date": 1438196152, "creation_date": 1438196152, "answer_id": 31708877, "question_id": 31708532, "link": "https://stackoverflow.com/questions/31708532/c-2-constructor-1-object-how-to/31708877#31708877", "title": "c++ 2 Constructor 1 Object, How to?", "body": "<p>The comments in the code below should explain what is going on well enough...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass Champ {\n    int hp;\n    std::string job;\n\npublic:\n    Champ():\n        hp(10) { } // don't need to explicitly initialize `job` because the default constructor for string does what we want.\n\n    explicit Champ(const std::string&amp; choose):\n        hp(10),\n        job(choose) { }\n};\n\nint main(int argc, const char * argv[]) {\n\n    using namespace std;\n\n    // this is most like how you had it with the compile error fixed.\n    {\n        Champ test; // this creates a Champ object using the default constructor\n\n        string choose;\n        getline(cin, choose);\n\n        test = Champ(choose); // this creates a new Champ object and assigns it to test... Throwing away the one that was created earlier.\n    }\n\n    // this is, imho, a better way to do it:\n    {\n        string choose;\n        getline(cin, choose);\n\n        auto test = Champ(choose); // declare the variable as late as possible, and after you have all the data for its construction. That way, you only make one of them.\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 3464250, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5c0b582e68eec25dc506bd33f4b1ec48?s=128&d=identicon&r=PG&f=1", "display_name": "user3464250", "link": "https://stackoverflow.com/users/3464250/user3464250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 31708877, "answer_count": 1, "score": -1, "last_activity_date": 1438196152, "creation_date": 1438194975, "question_id": 31708532, "link": "https://stackoverflow.com/questions/31708532/c-2-constructor-1-object-how-to", "title": "c++ 2 Constructor 1 Object, How to?", "body": "<p>I have to set up an object and, after an user chose, i have to change some param into the object but not every each.</p>\n\n<p>example:\n{</p>\n\n<pre><code>class Champ \n{\nprivate: \n       int hp;\n       std::string class;\npublic:\n       Champ();\n       Champ(std::string chose);\n};\n\nChamp::Champ() {hp=10; class=\"\";}\n\nChamp::Champ(std::string chose) {class = chose;}\n\n\nmain()\n{\n     Champ Test;\n     std::string chose;\n\n     getline(cin,chose);\n\n     Test(chose);\n\nreturn 0;\n\n}\n</code></pre>\n\n<p>this code give me an error.\ni need <code>hp</code> equal for all \"Champ\" created but <code>class</code> can be changed.</p>\n\n<p>The <code>hp</code> can't be \"const\" because this value may undergo changes... </p>\n\n<p>how can i do this? :/</p>\n"}, {"tags": ["c++", "winapi"], "answers": [{"tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": true, "score": 1, "last_activity_date": 1438200055, "last_edit_date": 1438200055, "creation_date": 1438199366, "answer_id": 31709828, "question_id": 31708511, "link": "https://stackoverflow.com/questions/31708511/using-getcpinfo/31709828#31709828", "title": "Using GetCpInfo", "body": "<p>Two problems:</p>\n\n<ol>\n<li>The function is named <code>GetCPInfo</code>. Remember that the language is case sensitive.</li>\n<li>You are passing an uninitialized pointer.</li>\n</ol>\n\n<p>You need the following:</p>\n\n<pre><code>CPINFO cpinfo;\nbool succeeded = GetCPInfo(37, &amp;cpinfo);\n</code></pre>\n"}], "owner": {"reputation": 3732, "user_id": 708678, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7fbb6daceccbb0a4dac60a58d725f8a5?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/708678/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 31709828, "answer_count": 1, "score": 0, "last_activity_date": 1438200055, "creation_date": 1438194894, "question_id": 31708511, "link": "https://stackoverflow.com/questions/31708511/using-getcpinfo", "title": "Using GetCpInfo", "body": "<p>I am trying to write a small program to run <code>GetCpInfo</code>, but am getting an identifier not found error .  I am including <code>windows.h</code> and using visual studio.  IntelliSense is autocomplete for me when I type in GetCp.  Here is my code. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n\nusing namespace std;\n\n\n\n\nint main()\n{\n    LPCPINFO cpinfo;\n    cout &lt;&lt; \"Hello World!\" &lt;&lt; endl;\n    bool test = GetCpInfo(37, cpinfo);\n    int x;\n    cin&gt;&gt;x;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1096, "user_id": 5144555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c0f1046a519313e19ad3929479ec85?s=128&d=identicon&r=PG&f=1", "display_name": "Michael S Priz", "link": "https://stackoverflow.com/users/5144555/michael-s-priz"}, "edited": false, "score": 1, "creation_date": 1438195687, "post_id": 31708503, "comment_id": 51355599, "body": "I think you need to be a bit more specific :) What is <code>xx</code>? What do you mean by &quot;all mashed up&quot;? Perhaps type out what <code>xx</code> looks and what the incorrect output looks like :)"}, {"owner": {"reputation": 53, "user_id": 3725184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbv8t.jpg?s=128&g=1", "display_name": "BlitzkriegLove", "link": "https://stackoverflow.com/users/3725184/blitzkrieglove"}, "reply_to_user": {"reputation": 1096, "user_id": 5144555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c0f1046a519313e19ad3929479ec85?s=128&d=identicon&r=PG&f=1", "display_name": "Michael S Priz", "link": "https://stackoverflow.com/users/5144555/michael-s-priz"}, "edited": false, "score": 0, "creation_date": 1438196242, "post_id": 31708503, "comment_id": 51355912, "body": "Ahaha. Sorry about that = )"}, {"owner": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438196978, "post_id": 31708503, "comment_id": 51356350, "body": "Could you post the code you use to allocate/declare the array? Your solution seems to work logically so I think it might be a memory allocation problem or something of that nature."}, {"owner": {"reputation": 53, "user_id": 3725184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbv8t.jpg?s=128&g=1", "display_name": "BlitzkriegLove", "link": "https://stackoverflow.com/users/3725184/blitzkrieglove"}, "reply_to_user": {"reputation": 2382, "user_id": 2142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Pc9J.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/2142219/matthew"}, "edited": false, "score": 0, "creation_date": 1438198244, "post_id": 31708503, "comment_id": 51357025, "body": "@Matthew I used <code>int xx[3][5]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3725184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbv8t.jpg?s=128&g=1", "display_name": "BlitzkriegLove", "link": "https://stackoverflow.com/users/3725184/blitzkrieglove"}, "edited": false, "score": 0, "creation_date": 1438198386, "post_id": 31708998, "comment_id": 51357097, "body": "Could you explain this in a bit more detail? I&#39;m not sure I understand. Also, I stored them individually in case the answer becomes too large for any datatype. I&#39;m solving this question to try and understand how to store large products; I need to be able to calculate the factorial of large numbers for the real problem."}, {"owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "reply_to_user": {"reputation": 53, "user_id": 3725184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbv8t.jpg?s=128&g=1", "display_name": "BlitzkriegLove", "link": "https://stackoverflow.com/users/3725184/blitzkrieglove"}, "edited": false, "score": 0, "creation_date": 1438202184, "post_id": 31708998, "comment_id": 51359233, "body": "Sure, I can elaborate.  Which detail is confusing you?"}], "tags": [], "owner": {"reputation": 1825, "user_id": 1379372, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7a718caa4f9650e518b1323847f97200?s=128&d=identicon&r=PG", "display_name": "Brian Gradin", "link": "https://stackoverflow.com/users/1379372/brian-gradin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438202081, "last_edit_date": 1438202081, "creation_date": 1438196514, "answer_id": 31708998, "question_id": 31708503, "link": "https://stackoverflow.com/questions/31708503/trying-to-multiply-the-kiddy-way/31708998#31708998", "title": "Trying to multiply the kiddy way", "body": "<p>Assuming the first index of <code>xx</code> is the partial sum, that the second index is the digit in that sum, and that the partial sums are stored with the highest digit at the lowest index,</p>\n\n<pre><code>for (int i = 0; i &lt; NUM_DIGITS; i++) // NUM_DIGITS = number of digits in multiplicands\n{\n    for (int j = 5; j &gt;= 0; j--) // Assuming 5 is big enough\n    {\n        int index = (j - 1) - (NUM_DIGITS - 1) - i;\n        xx[i][j] = index &gt;= 0 ? xx[i][index] : 0;\n    }\n}\n</code></pre>\n\n<p>There are definitely more efficient/logical ways of doing this, of course, such as avoiding storing the digits individually, but within the constraints of the problem, this should give you the right answer.</p>\n"}], "owner": {"reputation": 53, "user_id": 3725184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbv8t.jpg?s=128&g=1", "display_name": "BlitzkriegLove", "link": "https://stackoverflow.com/users/3725184/blitzkrieglove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438202081, "creation_date": 1438194866, "last_edit_date": 1438196229, "question_id": 31708503, "link": "https://stackoverflow.com/questions/31708503/trying-to-multiply-the-kiddy-way", "title": "Trying to multiply the kiddy way", "body": "<p>I'm supposed to multiply two 3-digit numbers the way we used to do in childhood.\nI need to multiply each digit of a number with each of the other number's digit, calculate the carry, add the individual products and store the result.\nI was able to store the 3 products obtained (for I/P 234 and 456):\n1404\n1170\n0936\n..in a 2D array.</p>\n\n<p>Now when I try to arrange them in the following manner:\n001404\n011700\n093600\nto ease addition to get the result; by:</p>\n\n<pre><code>for(j=5;j&gt;1;j--)\n{\n    xx[0][j]=xx[0][j-2];\n}\nfor(j=4;j&gt;0;j--)\n{\n    xx[1][j]=xx[1][j-1];\n}\n</code></pre>\n\n<p>xx is the 2D array I've stored the 3 products in.\neverything seems to be going fine till I do this:</p>\n\n<pre><code>xx[0][0]=0;\nxx[0][1]=0;\nxx[1][0]=0;\n</code></pre>\n\n<p>Here's when things go awry. The values get all mashed up. On printing, I get 001400 041700 093604.\nWhat am I doing wrong?</p>\n"}, {"tags": ["c++", "c-preprocessor"], "comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1438194750, "post_id": 31708408, "comment_id": 51355013, "body": "Have you considered code-generation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1438195007, "post_id": 31708408, "comment_id": 51355177, "body": "Side note: avoid names reserved for the compiler (_NAME, _Name, ...)"}, {"owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "reply_to_user": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1438195377, "post_id": 31708408, "comment_id": 51355409, "body": "@shuttle87 : not really i don&#39;t know much about code-generation tools (i am quite young and somewhat self-taught concerning c++)   however macros are already some kind of code generation, so in order to replace the macro, the code generation tool would have to be sufficiently light and &quot;stricter&quot; than a macro (otherwise, it would either be too much or would not provide that much of an advantage)"}, {"owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "edited": false, "score": 0, "creation_date": 1438195443, "post_id": 31708408, "comment_id": 51355455, "body": "@Dieter L&#252;cking : ah, yes, of course, i tried to use a long name to avoid conflicts, but maybe i did use some, is there a standardized list of such names somewhere? (i found this for gcc <a href=\"https://gcc.gnu.org/onlinedocs/cpp/Standard-Predefined-Macros.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/onlinedocs/cpp/Standard-Predefined-Macros.html</a> i don&#39;t know if there&#39;s better)"}, {"owner": {"reputation": 10212, "user_id": 1277769, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wEHKk.jpg?s=128&g=1", "display_name": "SirGuy", "link": "https://stackoverflow.com/users/1277769/sirguy"}, "edited": false, "score": 2, "creation_date": 1438195529, "post_id": 31708408, "comment_id": 51355510, "body": "There is a list of reserved identifiers, but I think it&#39;s easier to just avoid starting (and possibly ending) names with underscores altogether."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1438195847, "post_id": 31708408, "comment_id": 51355687, "body": "@Caninonos See: <a href=\"http://stackoverflow.com/questions/228783/what-are-the-rules-about-using-an-underscore-in-a-c-identifier\" title=\"what are the rules about using an underscore in a c identifier\">stackoverflow.com/questions/228783/&hellip;</a>"}, {"owner": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "edited": false, "score": 2, "creation_date": 1438195863, "post_id": 31708408, "comment_id": 51355698, "body": "Anything containing <code>__</code> (double underscore), anything starting with <code>_</code> and an uppercase letter is reserved anywhere.  Anything starting with <code>_</code> is reserved in the global namespace."}, {"owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "edited": false, "score": 0, "creation_date": 1438196039, "post_id": 31708408, "comment_id": 51355795, "body": "Ok, thanks, i didn&#39;t know about that, i&#39;ll edit the code to remove them."}], "answers": [{"tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1467747242, "creation_date": 1467747242, "answer_id": 38211323, "question_id": 31708408, "link": "https://stackoverflow.com/questions/31708408/what-are-the-drawbacks-of-such-an-immediately-used-and-undefined-macro/38211323#38211323", "title": "What are the drawbacks of such an immediately used and undefined macro?", "body": "<p>The problem with macros is that they disregard the nice structuring constructs we have in C++.  OTOH, this strikes me as a good use of macros:</p>\n\n<ul>\n<li>You have reduced three copies of a complex bit of template meta-programming to one</li>\n<li>You have used a nice long name so that it is unlikely to conflict with a name defined in a header file.</li>\n<li>The macro is only defined in a small region of code, so it won't conflict with anything outside that region.</li>\n</ul>\n\n<p>I would say \"go for it\".</p>\n"}], "owner": {"reputation": 1062, "user_id": 5170077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562ca4e4e460d7a1c9e7caa105b8ebb1?s=128&d=identicon&r=PG", "display_name": "Caninonos", "link": "https://stackoverflow.com/users/5170077/caninonos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 38211323, "answer_count": 1, "score": 2, "last_activity_date": 1467747242, "creation_date": 1438194577, "last_edit_date": 1495541309, "question_id": 31708408, "link": "https://stackoverflow.com/questions/31708408/what-are-the-drawbacks-of-such-an-immediately-used-and-undefined-macro", "title": "What are the drawbacks of such an immediately used and undefined macro?", "body": "<p>I'm still unsure of whether it is a good idea to ask this, as it's somehow a \"coding style\" problem (and those are inherently subjective), but I hope it will be objective enough turned that way.<br>\nIf it turns out it isn't, I apologize for asking it here.</p>\n\n<p>I'd like to ask two questions:  </p>\n\n<ul>\n<li>is there important disadvantages of using that macro compared to copy-pasting the actual code I could have disregarded? (or any better solution you could think of)  </li>\n<li>is there a better solution to achieve the same goal? (avoiding repeating the \"boilerplate metaprogramming code\")  </li>\n</ul>\n\n<p>What I don't ask however is whether you personally like this code or not. I can't prevent you from saying so if you want, and I won't mind if you do, but I'd like to have a reason why it's either good or bad and it may help leading this question to the dark side of potentially opinion-based questions (assuming it isn't already, again, I apologize if it is).</p>\n\n<hr>\n\n<p>Recently, I wanted to write some traits many of them being extremely simple. However, each of those required some kind of repetitive metaprogramming code. I ended up using a macro to make the code more compact and less repetitive with a code like this:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n//...\ntemplate&lt;class...&gt;\nstruct void_type {\n  typedef void type;\n};\n\ntemplate&lt;class... T&gt;\nusing void_t = void_type&lt;T...&gt;::type;\n\n#define UNARY_EXPRESSION_TYPE_TRAIT(trait_name, expression, expression_type,  \\\n                                    type_name)                                \\\nnamespace detail_generated  {                                                 \\\n  template&lt;class type_name, class = void&gt;                                     \\\n  struct trait_name : std::false_type {};                                     \\\n                                                                              \\\n  template&lt;class type_name&gt;                                                   \\\n  struct trait_name&lt;type_name, void_t&lt;decltype(expression)&gt;&gt; :                \\\n  std::integral_constant&lt;                                                     \\\n    bool, std::is_same&lt;decltype(expression), expression_type&gt;::value          \\\n  &gt; {};                                                                       \\\n}                                                                             \\\ntemplate&lt;class type_name&gt;                                                     \\\nstruct trait_name&lt;type_name&gt; : detail_generated::trait_name&lt;type_name&gt; {};\n\nUNARY_EXPRESSION_TYPE_TRAIT(is_preincrementable, \n                            ++std::declval&lt;Incrementable&amp;&gt;(), \n                            Incrementable&amp;, Incrementable) \nUNARY_EXPRESSION_TYPE_TRAIT(is_predecrementable, \n                             --std::declval&lt;Decrementable&amp;&gt;(), \n                             Decrementable&amp;, Decrementable) \nUNARY_EXPRESSION_TYPE_TRAIT(is_contextually_convertible_to_bool, \n                            !std::declval&lt;T&gt;(), bool, T) \n\n#undef UNARY_EXPRESSION_TYPE_TRAIT \n// ...\n</code></pre>\n\n<p>In this specific case it avoids repetition of \"boilerplate metaprogramming constructions\" and I don't see that many drawbacks (most of them being mitigated by the immediate use of the macro, and its immediate undefinition).<br>\nHowever, I'm usually not really comfortable around macros (I find them obfuscated, and usually replaceable) and I know they are usually regarded as bad or \"evil\". Unfortunately I couldn't find either a way to replace it, a reason to keep it, or a reason to avoid it, even after reading the following questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/96196/when-are-c-macros-beneficial\">When are C++ macros beneficial?</a>  </li>\n<li><a href=\"https://stackoverflow.com/questions/7562278/c-why-define-is-bad\">Why #define is bad?</a>  </li>\n<li><a href=\"https://stackoverflow.com/questions/22007222/what-is-an-appropriate-use-scenario-of-define-in-c\">What is an appropriate use scenario of #define in C++?</a>  </li>\n</ul>\n\n<p>(and that one because it's fun although not really useful:) </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/652788/what-is-the-worst-real-world-macros-pre-processor-abuse-youve-ever-come-across?lq=1\">What is the worst real-world macros/pre-processor abuse you&#39;ve ever come across?</a></li>\n</ul>\n\n<p>I am not satisfied with their answers because they either:  </p>\n\n<ul>\n<li>only recommend macros in case of include guards without explaining why macros are always a bad idea in all other cases (i assume they discourage the use of macros because it is extremely easy to misuse them)  </li>\n<li>also recommend them for debug functions (which is not the case here)  </li>\n<li>say macros are great in some cases then post an example i actually find quite dissuasive  </li>\n<li>claim that macros are a sign of bad design (that might be true, but then i'd like to know where the problem is so that I could pick a better solution)  </li>\n</ul>\n\n<p>I can't objectively judge my code, and I can't find any good replacement for that macro (except actually doing the preprocessor's job and copy-pasting that macro wherever I need which strikes me as at least equally bad). Maybe I just don't see the obvious and fatal disadvantages of that macro, or maybe I even didn't fully understand why using macros is discouraged.  </p>\n\n<p>Edit: removed the leading underscore in some names as recommended in the comments (such names are reserved)</p>\n"}, {"tags": ["c++", "c", "cmake", "makefile"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438194815, "post_id": 31708369, "comment_id": 51355049, "body": "Does the CMake generated Makefile use <code>cd &#47;path&#47;to&#47;my&#47;modules&#47;dostuff &amp;&amp; &#47;usr&#47;bin&#47;make library</code> literally or does it use <code>cd &#47;path&#47;to&#47;my&#47;modules&#47;dostuff &amp;&amp; $(MAKE) library</code>? You could also try adding <code>env</code> or <code>printenv</code> as a command to that recipe to see what the environment at that point looks like. That might tell you something."}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438195294, "post_id": 31708369, "comment_id": 51355339, "body": "It uses the first. No variable needs to be expanded. I&#39;ll try printing out the environment variables and see if anything useful pops out."}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438195544, "post_id": 31708369, "comment_id": 51355518, "body": "The variables look right. It doesn&#39;t show me why there exist recipes that need to be overwritten or why it&#39;s trying to run the command I. (cc and cxx are correctly defined)."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438195684, "post_id": 31708369, "comment_id": 51355597, "body": "Is <code>my-make&#47;Make.common</code> a CMake controlled file or part of the &quot;external libraries&quot;?"}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438256891, "post_id": 31708369, "comment_id": 51382181, "body": "External library. The makefiles for individual projects are pretty bare, just specifying a few files and configurations with the bulk of the process being configured by Make.common."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438269741, "post_id": 31708369, "comment_id": 51391493, "body": "Can we see <code>my-make&#47;Make.common</code> lines 982, 1007 and 1032?"}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438284518, "post_id": 31708369, "comment_id": 51400374, "body": "I added lines from Make.common."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438285162, "post_id": 31708369, "comment_id": 51400724, "body": "So now I need to know what <code>$(execute)</code>, <code>$(dynlib)</code> and <code>$(library)</code> contain. Given the error message I assume that at the moment they all contain <code>&#47;dostuff</code> presumably because other variables failed to be set correctly. You can try adding <code>-p</code> to the cmake rules to get make to dump out the make database at you (so you&#39;ll see all the rules and variables in the output)."}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438350513, "post_id": 31708369, "comment_id": 51429120, "body": "Is there a reason, in general, why executing a make command from within CMake should be any different than executing it directly? I&#39;m not understanding why any of these variables should be set incorrectly in one context and not the other."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438354572, "post_id": 31708369, "comment_id": 51432197, "body": "Barring differences in the environment? Not that I can think of offhand. When you compared the environments before was there anything missing from the cmake run environment that might be relevant?"}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438363693, "post_id": 31708369, "comment_id": 51437394, "body": "I had only cherry picked a few elements that looked alright, but in fact after a diff it looks like the make environment variables that are set in the Makefile aren&#39;t actually being set. Seeing that it&#39;s obvious why it&#39;s failing, but it&#39;s still not obvious why they&#39;re not being set when invoked from CMake."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438363845, "post_id": 31708369, "comment_id": 51437472, "body": "What variables that are set where? The environment that runs make shouldn&#39;t be affected by variables set <i>inside</i> that makefile so I wouldn&#39;t expect them to be there. Unless you mean recursive make variables that normally exist but don&#39;t when cmake triggers the recursive make call? In which case that might be the use of <code>&#47;usr&#47;bin&#47;make</code> instead of <code>$(MAKE)</code> in the generated makefiles."}, {"owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1438364032, "post_id": 31708369, "comment_id": 51437571, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/84833/discussion-between-anthony-and-etan-reisner\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1439415417, "creation_date": 1439415417, "answer_id": 31975843, "question_id": 31708369, "link": "https://stackoverflow.com/questions/31708369/running-make-from-cmake-on-external-dependency-forget-cmake-make-rules/31975843#31975843", "title": "Running make from cmake on external dependency - Forget cmake make rules", "body": "<p>As it turns out, the problem was elsewhere in the common makefile script. There was some code to conditionally set some internal variables based on a check of MAKELEVEL to avoid redefining variables on recursive runs. This gets set by CMake's make scripts (mine was at level 4, for example). So I just updated my command to</p>\n\n<pre><code>    COMMAND ${CMAKE_MAKE_PROGRAM} library MAKELEVEL=0\n</code></pre>\n\n<p>And now everything works.</p>\n"}], "owner": {"reputation": 2148, "user_id": 409103, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Y82a9.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/409103/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 31975843, "answer_count": 1, "score": 0, "last_activity_date": 1439415417, "creation_date": 1438194435, "last_edit_date": 1438284448, "question_id": 31708369, "link": "https://stackoverflow.com/questions/31708369/running-make-from-cmake-on-external-dependency-forget-cmake-make-rules", "title": "Running make from cmake on external dependency - Forget cmake make rules", "body": "<p>I'm working with some in-house software that uses it's own Makefile build system. However the software I'm writing needs a bit more flexibility so I'm using CMake which I'd like to configure to build those projects automatically. I'm trying to include these external libraries with their own special build rules via a function like so:</p>\n\n<pre><code>set(MyModuleDir \"/path/to/my/modules\")\nset(MyModules \"\")\nfunction(import_my_module module_name)\n    add_custom_target(build_my_${module_name} ALL\n        COMMAND ${CMAKE_MAKE_PROGRAM} library\n        WORKING_DIRECTORY ${MyModuleDir}/${module_name})\n    add_library(my_${module_name} STATIC IMPORTED)\n    set_target_properties(my_${module_name}\n        PROPERTIES IMPORTED_LOCATION ${MyModuleDir}/${module_name}/lib${module_name}.a)\n    add_dependencies(my_${module_name} build_my_${module_name})\n    include_directories(${MyModuleDir}/${module_name})\n    set(MyModules my_${module_name} ${MyModules} PARENT_SCOPE)\nendfunction()\n</code></pre>\n\n<p>The command it ends up running is correct, say for dostuff library:</p>\n\n<pre><code>cd /path/to/my/modules/dostuff &amp;&amp; /usr/bin/make library\n</code></pre>\n\n<p>Which, if run on it's own, produces correct results. However, inside the CMake makefile execution I instead get some warnings about overriding old recipes and then a bunch of errors as it fails miserably while trying to build, like these:</p>\n\n<pre><code>cd /path/to/my/modules/dostuff &amp;&amp; /usr/bin/make library\nmake[3]: Entering directory '/path/to/my/modules/dostuff'\n../my-make/Make.common:1007: warning: overriding recipe for target '/dostuff'\n../my-make/Make.common:982: warning: ignoring old recipe for target '/dostuff'\n../my-make/Make.common:1032: warning: overriding recipe for target '/dostuff'\n../my-make/Make.common:1007: warning: ignoring old recipe for target '/dostuff'\nI. -I..    -o /myfile -c myfile.c\nmake[3]: I.: Command not found\n../my-make/Make.common:1145: recipe for target '/myfile' failed\nmake[3]: [/myfile] Error 127 (ignored)\nI. -I..    -o /myfile2 -c myfile2.c\nmake[3]: I.: Command not found\n... etc ...\n</code></pre>\n\n<p>So I guess maybe some of CMake's makefile configuration is getting injected in the execution of the other Makefiles. That, or execution from the make context is not allowing the child make process to configure itself properly. I would like to build these projects with a fresh make configuration, without inheriting anything from other make processes. How can this be done?</p>\n\n<p>Here are some of the lines in question from the external makefile:</p>\n\n<pre><code> 980 # Target for objdir's executable.\n 981 $(execute): $(siblibs) $(library) $(maincobjs) $(mainccobjs)\n 982     $(maincppobjs)\n...\n1004 # We make the libraries for each project, which causes all the object\n1005 # files to be created.\n1006 $(dynlib): $(siblibs) $(library)\n1007    @if [ \"$(dynlib_ok)\" = \"1\" ]; then \\\n1008        cd $(OBJDIR); \\\n1009            $(linkcc) $(dynlib_link_flags) \\\n1010                $(LFLAGS) \\\n1011                -o $(notdir $(dynlib)) \\\n1012                $(foreach sobj,$(sibobjs), ../$(sobj)) \\\n1013                $(notdir $(libcobjs)) \\\n1014                $(notdir $(libccobjs)) \\\n1015                $(notdir $(libcppobjs)) \\\n1016                $(LIBS) $(user_libs); \\\n1017    else \\\n...\n1030 $(library): $(libcobjs) $(libccobjs) $(libcppobjs) $(cplibs)\n1031 # numsources must be positive.\n1032    @if [ \"$(numsources)\" -eq 0 -a \"$(nummains)\" -eq 0 ]; then \\\n1033        echo \"There are no sources to compile or libs to be made.\"; \\\n1034        exit 1; \\\n1035    fi\n1036 # Check that sources (incl. main) do not include both libs and c files,\n1037 # or multiple libs.\n1038    @if [ \"$(numcplibs)\" -gt 0 -a \"$(numsources)\" -gt 1 ]; then \\\n1039        echo \"Error: cannot have source files (not incl. main) and\"; \\\n1040        echo \"libs {$(cplibs)}, or multiple libs, in same project\"; \\\n1041        exit 1; \\\n1042    fi\n</code></pre>\n"}, {"tags": ["c++", "class", "function-pointers"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438195044, "post_id": 31708302, "comment_id": 51355197, "body": "<code>Method.DoMath(x,y,result);</code> What should this actually do? <code>DoMath()</code> is a non <code>static</code> member function,  and the <code>.</code> dereferencing operator needs an instance not a type. Your code makes absolutely no sense."}, {"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 0, "creation_date": 1438195060, "post_id": 31708302, "comment_id": 51355211, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/990625/c-function-pointer-class-member-to-non-static-member-function\">C++ function pointer (class member) to non-static member function</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 0, "creation_date": 1438195214, "post_id": 31708302, "comment_id": 51355300, "body": "@xsquared In principle yes, but the OP&#39;s code seems to be seriously flawed from prior (trivial) mistakes."}], "answers": [{"tags": [], "owner": {"reputation": 3059, "user_id": 4765374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4ed7c583a0aad19b520e7561de6430?s=128&d=identicon&r=PG", "display_name": "Maksim Solovjov", "link": "https://stackoverflow.com/users/4765374/maksim-solovjov"}, "is_accepted": true, "score": 7, "last_activity_date": 1438195980, "last_edit_date": 1438195980, "creation_date": 1438195496, "answer_id": 31708674, "question_id": 31708302, "link": "https://stackoverflow.com/questions/31708302/function-pointer-array-to-a-method-within-a-class/31708674#31708674", "title": "Function Pointer Array to a Method within a Class", "body": "<p>A pointer to a method is a little bit different from a pointer to function. So, to declare one, you would write:</p>\n\n<pre><code>typedef void (Method::*method_function)(int, int,int);\n</code></pre>\n\n<p>and you would have to specify an object for which to call this method:</p>\n\n<pre><code>method_function method_pointer[4] = {&amp;Method::add, &amp;Method::subtract,  &amp;Method::multiply, &amp;Method::divide};\nmethod_function func = method_pointer[method_type];\nresult = (this-&gt;*func)(x,y);\n</code></pre>\n\n<p>However, if you are going for your design, don't forget to make the third argument of a function a reference. Otherwise, you will not be able to extract the result. Thus, the proper typedef would be:</p>\n\n<pre><code>typedef void (Method::*method_function)(int, int,int&amp;);\n</code></pre>\n\n<p>and you'd have to change your method signatures accordingly.</p>\n\n<p>Finally, why are you using a pointer in your main function? You should probably use a stack variable (or at least initialise the pointer) and if you do, you need to call DoMath on the object instead of the class:</p>\n\n<pre><code>Method method;\n// ...\nmethod.DoMath(x, y, result);\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4014018, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1aaac8d03af64b2f91145fcaeab1dbbe?s=128&d=identicon&r=PG&f=1", "display_name": "mll36", "link": "https://stackoverflow.com/users/4014018/mll36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4005, "favorite_count": 1, "accepted_answer_id": 31708674, "answer_count": 1, "score": 4, "last_activity_date": 1438197532, "creation_date": 1438194199, "last_edit_date": 1438197532, "question_id": 31708302, "link": "https://stackoverflow.com/questions/31708302/function-pointer-array-to-a-method-within-a-class", "title": "Function Pointer Array to a Method within a Class", "body": "<p>I have a class say Method with multiple functions for solving PDE's with different methods similar to the add, subtract, multiply... functions below. Another function in the class (DoMath in this examples) calls the methods. The user can change the method type (add, subtract,...), so I would like to create a Method pointer array (method_pointer), where the method is selected by choosing an integer \"method_type\". I have a version in C where everything is in one file without being members of a class, where this works fine; however, when the pointer is a member of the class I get \"Method_pointer is not a function or function pointer\" errors. I can't get the syntax correct, any help would be greatly appreciated. Below is a sample program of what I'm trying to do.</p>\n\n<p>Method.h Header</p>\n\n<pre><code>class Method{\npublic:\n    Method();\n    ~Method();\n\nvoid add(int, int, int);\nvoid subtract(int, int, int);\nvoid multiply(int, int, int);\nvoid divide(int, int, int);\n\nvoid DoMath(int, int, int);\n\nvoid set_method( const int method_number);\n\nprivate:\n   int method_type;\n};\n</code></pre>\n\n<p>Method.cc Source</p>\n\n<pre><code>#include \"method.h\"\n\ntypedef void (*method_function)(int, int,int);\n\nMethod::Method(){\n    method_type=2;\n}\n\nMethod::~Method(){\n}\n\nvoid Method::set_method( int method_number){\n    method_type=method_number;\n}\n\nvoid Method::add( int a, int b, int c){\n    c=a+b;\n}\n\nvoid Method::subtract( int a, int b, int c){\n    c=a+b;\n}\n\nvoid Method::multiply( int a, int b, int c){\n    c=a+b;\n}\n\nvoid Method::divide( int a, int b, int c){\n    c=a+b;\n}\n\nvoid Method::DoMath(int x, int y, int result){\n   method_function method_pointer[4]={add,subtract, multiply,divide};\n   result=method_pointer[method_type](x,y);\n}\n</code></pre>\n\n<p>main.cc</p>\n\n<pre><code>int main(int argc, const char * argv[]) {\n    Method *method;\n    int x=2;\n    int y=3;\n    int result=0;\n    Method.DoMath(x,y,result);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "eigen"], "answers": [{"tags": [], "owner": {"reputation": 3397, "user_id": 1255016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c20883abe67a3a886c4955a515273b53?s=128&d=identicon&r=PG", "display_name": "hfhc2", "link": "https://stackoverflow.com/users/1255016/hfhc2"}, "is_accepted": false, "score": 3, "last_activity_date": 1438195065, "creation_date": 1438195065, "answer_id": 31708562, "question_id": 31708075, "link": "https://stackoverflow.com/questions/31708075/dot-product-for-vectorxcd-in-eigen-c/31708562#31708562", "title": ".dot() product for VectorXcd in Eigen c++", "body": "<p>From the <a href=\"http://eigen.tuxfamily.org/dox/classEigen_1_1MatrixBase.html#adb71ddef4955ae7d353df12d05665191\" rel=\"nofollow\">documentation</a>:</p>\n\n<p>\"\nIf the scalar type is complex numbers, then this function returns the hermitian (sesquilinear) dot product, conjugate-linear in the first variable and linear in the second variable.\n\"</p>\n\n<p>This product is often used, for example in <a href=\"https://en.wikipedia.org/wiki/Operator_(physics)#Hermitian_operators\" rel=\"nofollow\">quantum mechanics</a>.\nIt computes conj(x)*y which is what you are seeing. I guess you want the simple / ordinary dot:</p>\n\n<pre><code>cout &lt;&lt; \"eigen dot = \" &lt;&lt; xd0conj.transpose()*xd0 &lt;&lt;endl; \n</code></pre>\n\n<p>This outputs</p>\n\n<pre><code>eigen dot = (2,0)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5170572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00ced3d6fe304130078fb56e20d0b84?s=128&d=identicon&r=PG", "display_name": "Rydbergite", "link": "https://stackoverflow.com/users/5170572/rydbergite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6364, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438195065, "creation_date": 1438193491, "last_edit_date": 1438194567, "question_id": 31708075, "link": "https://stackoverflow.com/questions/31708075/dot-product-for-vectorxcd-in-eigen-c", "title": ".dot() product for VectorXcd in Eigen c++", "body": "<p>I'm trying to figure out if this is a bug in Eigen or something I'm doing wrong. I simply want the dot product of two complex vectors [ 1 , i] and [1 , -i]. The answer is 1*1 + i*(-i) = 2. But Eigen gives zero as answer. See code below:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;fstream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt; \n#include &lt;stdio.h&gt;\n#include &lt;map&gt;\n#include &lt;sys/sysinfo.h&gt;\n#include &lt;algorithm&gt;\n#include &lt;Eigen/Dense&gt;\nusing namespace Eigen;\nusing namespace std; \n\nint main( void ){\n\n\n    VectorXcd xd0(2); \n    complex&lt;double&gt; c_i( 0.0 , 1.0 ); \n    xd0[0] = 1.0 ;   \n    xd0[1] =  c_i; \n\n    VectorXcd xd0conj = xd0.conjugate();\n    cout &lt;&lt;\" vec is \\n\" &lt;&lt; xd0 &lt;&lt;endl;\n    cout &lt;&lt;\" conj vec is \\n\" &lt;&lt; xd0conj &lt;&lt;endl;\n\n    cout &lt;&lt; \"eigen dot = \" &lt;&lt; (xd0conj).dot(xd0 ) &lt;&lt;endl; \n\n    complex&lt;double&gt; outVal = 0.0; \n    for( int a=0; a&lt;xd0.size(); a++){\n        outVal += xd0[a]*xd0conj[a]; \n    }\n    cout &lt;&lt; \"naive dot = \" &lt;&lt; outVal&lt;&lt;endl;\n\n};\n</code></pre>\n"}, {"tags": ["c++", "output", "divide-and-conquer"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1438193927, "post_id": 31707987, "comment_id": 51354565, "body": "Start by removing the macros and formatting the code. The free <a href=\"http://astyle.sourceforge.net/\" rel=\"nofollow noreferrer\">AStyle tool</a> can help with the latter."}], "answers": [{"tags": [], "owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "is_accepted": false, "score": 1, "last_activity_date": 1438194715, "creation_date": 1438194715, "answer_id": 31708458, "question_id": 31707987, "link": "https://stackoverflow.com/questions/31707987/printing-the-closest-pair-of-points/31708458#31708458", "title": "printing the closest pair of points", "body": "<p>To the extent I can follow your badly formatted code, brutedis unconditionally modifies A[] and it gets called again after you have found the right answer (but don't know you found the right answer).</p>\n\n<p>So if the first call were best in <code>min(solve(P, mid, A), solve(P+mid, n-mid, A));</code> the second could still call brutedis and destroy A[]</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4458375, "user_type": "registered", "profile_image": "https://graph.facebook.com/1236647635/picture?type=large", "display_name": "Shefali Chaudhary", "link": "https://stackoverflow.com/users/4458375/shefali-chaudhary"}, "edited": false, "score": 0, "creation_date": 1438266571, "post_id": 31708585, "comment_id": 51389157, "body": "thanks a lot! finally I got the mistake and the correct answer !!"}], "tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1438195152, "creation_date": 1438195152, "answer_id": 31708585, "question_id": 31707987, "link": "https://stackoverflow.com/questions/31707987/printing-the-closest-pair-of-points/31708585#31708585", "title": "printing the closest pair of points", "body": "<p>You call <code>solve</code> twice, both giving it A as the parameter. Each of these calls always overwrite A, but only one returns the correct answer. And they both call brutedis that also always overwrites A.</p>\n\n<p>The easiest way to fix this is to introduce an additional parameter to all these functions, that would contain the minimal distance found so far, the same way you did with stripdis. </p>\n\n<pre><code>float solve(point P[], int n, float d, point A[]) {\n\n  if(n &lt;= 3) return brutedis(P, n, d, A);\n\n    ...\n    d = solve(P, mid, d, A);\n    d = solve(P+mid, n-mid, d, A);\n\n    d = stripdis(strip, j, d, A));\n\n...\n\n\nfloat brutedis(point P[], int n, float d, point A[])\n{\n  // float d = INT_MAX -- Not needed\n</code></pre>\n\n<p>Thus A will only be overeritten if the distance between the new pair of points is <em>globally</em> minimal so far.</p>\n\n<p>No need to call <code>min</code> as each function already keeps the minimum of <code>d</code> and the distance it finds.</p>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 3405672, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c80d1b8be0db58490316b538fdb05ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Rana", "link": "https://stackoverflow.com/users/3405672/rana"}, "is_accepted": false, "score": 0, "last_activity_date": 1438197514, "creation_date": 1438197514, "answer_id": 31709279, "question_id": 31707987, "link": "https://stackoverflow.com/questions/31707987/printing-the-closest-pair-of-points/31709279#31709279", "title": "printing the closest pair of points", "body": "<p>That is because after getting the correct coordinates in \"A\" array, you are again updating that. just look for the below statement in your code: </p>\n\n<pre><code>float d = min(solve(P, mid, A), solve(P+mid, n-mid, A));\n</code></pre>\n\n<p>this will give correct minimum distance but not correct coordinates. Just think about it, if your first call to solve, in the above statement has the minimum distance coordinates, then your second call is going to modify the coordinates in A[]. take a pen and paper and try to solve for the coordinates you have, it'll give you better understanding. </p>\n"}], "owner": {"reputation": 15, "user_id": 4458375, "user_type": "registered", "profile_image": "https://graph.facebook.com/1236647635/picture?type=large", "display_name": "Shefali Chaudhary", "link": "https://stackoverflow.com/users/4458375/shefali-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 0, "accepted_answer_id": 31708585, "answer_count": 3, "score": 0, "last_activity_date": 1438197514, "creation_date": 1438193238, "question_id": 31707987, "link": "https://stackoverflow.com/questions/31707987/printing-the-closest-pair-of-points", "title": "printing the closest pair of points", "body": "<p>I was writing this code to find the minimum distance between 2 points.The code I have written gives me the minimum distance correctly but does not give the correct coordinates from which the minimum distance is computed.Kindly help me identify the problem according to me this is the correct approach to print the points as well along with the minimum distance.</p>\n\n<pre><code>#include&lt;bits/stdc++.h&gt;\n#define FOR(i,N) for(int i=0;i&lt;(N);i++)\n#define rep(i,a,n) for(int i=(a);i&lt;(n);i++)\nusing namespace std;\nstruct point {\nint x;\nint y;\n};\n\ntypedef struct point point;\nvoid printarr(point arr[], int n) {for(int i = 0; i &lt; n; i++) cout &lt;&lt;                   \narr[i].x &lt;&lt; \" \" &lt;&lt; arr[i].y &lt;&lt; endl; cout &lt;&lt; endl; \nbool comparex(const point&amp; X, const point&amp; Y) { return X.x &lt; Y.x; }\nbool comparey(const point&amp; X, const point&amp; Y) { return X.y &lt; Y.y; }\n\nfloat getdis(point X, point Y) { return sqrt((X.x - Y.x)*(X.x - Y.x) + (X.y         \n- Y.y)*(X.y - Y.y)); }\nfloat brutedis(point P[], int n, point A[]) {\nfloat d = INT_MAX;\nfloat temp;\nFOR(i, n) {\n    rep(j, i+1, n) {\n        temp = getdis(P[i],P[j]);\n        if(temp &lt; d) {\n            d = temp;\n            A[0].x = P[i].x; A[0].y = P[i].y;\n            A[1].x = P[j].x ; A[1].y = P[j].y;\n        }\n    }\n}\nreturn d;\n}\n\nfloat stripdis(point P[], int n, float d, point A[]) {\nfloat temp = d;\nfloat dis;\nsort(P, P + n, comparey);\nFOR(i, n) {\n    rep(j,i+1,n) {\n        if(abs(P[j].y - P[i].y) &lt; d) {\n            dis = getdis(P[j], P[i]);\n            if(dis &lt; temp) {\n                temp = dis;\n                A[0].x = P[i].x; A[0].y = P[i].y;\n                A[1].x = P[j].x ; A[1].y = P[j].y;\n            }\n        }\n    }\n  }\n   return temp;\n   }\n\n  float solve(point P[], int n, point A[]) {\n\n  if(n &lt;= 3) return brutedis(P, n, A);\n\n  int mid = n/2;\n  point M = P[mid];\n float d = min(solve(P, mid, A), solve(P+mid, n-mid, A));\npoint strip[n];\nint j = 0;\nint i = 0;\nwhile(i &lt; n) {\n    if(abs(P[i].x - M.x) &lt; d) strip[j++] = P[i];\n    i++;\n}\n\nreturn min(d, stripdis(strip, j, d, A));\n }\n\n int main() {\n\npoint P[] = {{0, 0}, {-4,1}, {-7, -2}, {4, 5}, {1, 1}};\nint n = sizeof(P) / sizeof(P[0]);\nsort(P, P+n, comparex);\npoint A[2];\ncout &lt;&lt; \"Minimum Distance = \" &lt;&lt; solve(P, n, A) &lt;&lt; \"\\n\";\nprintarr(A, 2);\n//printarr(P, n);\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "palindrome"], "comments": [{"owner": {"reputation": 694, "user_id": 4628067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hE2nT.jpg?s=128&g=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/4628067/rod"}, "edited": false, "score": 0, "creation_date": 1438193333, "post_id": 31707949, "comment_id": 51354191, "body": "you probably will get better results with this question at <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> c:"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1438193400, "post_id": 31707949, "comment_id": 51354227, "body": "Also, <a href=\"http://stackoverflow.com/a/8187788/509868\">this answer</a> might be helpful"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5132418"}, "is_accepted": true, "score": 3, "last_activity_date": 1438193582, "creation_date": 1438193582, "answer_id": 31708107, "question_id": 31707949, "link": "https://stackoverflow.com/questions/31707949/c-finding-the-next-prime-palindrome/31708107#31708107", "title": "C++ Finding the next prime palindrome", "body": "<p>You can optimize the detecting prime function by using the following algorithm.</p>\n\n<p>Create a list of consecutive integers from 2 through n: (2, 3, 4, ..., n).\nInitially, let p equal 2, the first prime number.</p>\n\n<p>Starting from p, enumerate its multiples by counting to n in increments of p, and mark them in the list (these will be 2p, 3p, 4p, ... ; the p itself should not be marked).</p>\n\n<p>Find the first number greater than p in the list that is not marked. If there was no such number, stop. Otherwise, let p now equal this new number (which is the next prime), and repeat from step 3.</p>\n\n<p>Check this link, <a href=\"http://www.algolist.net/Algorithms/Number_theoretic/Sieve_of_Eratosthenes\" rel=\"nofollow\">http://www.algolist.net/Algorithms/Number_theoretic/Sieve_of_Eratosthenes</a></p>\n\n<p>As for the palindrome check, it's currently O(n), I can't think of any way to improve upon that.</p>\n"}], "owner": {"reputation": 267, "user_id": 3590449, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c194f6c98caf853661133c2548936243?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrahim", "link": "https://stackoverflow.com/users/3590449/ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "closed_date": 1438287585, "accepted_answer_id": 31708107, "answer_count": 1, "score": 0, "last_activity_date": 1438193582, "creation_date": 1438193112, "question_id": 31707949, "link": "https://stackoverflow.com/questions/31707949/c-finding-the-next-prime-palindrome", "closed_reason": "Duplicate", "title": "C++ Finding the next prime palindrome", "body": "<p>Here's the actual question</p>\n\n<p><a href=\"https://www.codechef.com/problems/PRPALIN/\" rel=\"nofollow\">https://www.codechef.com/problems/PRPALIN/</a></p>\n\n<p>The following code works well on all inputs but on input of 900000 the execution time is 1.125sec. How do I optimize the code? How can the code be improved?</p>\n\n<p>Any help is greatly appreciated. Thank You! :)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;cassert&gt;\n#include &lt;ctime&gt;\n\nclock_t start=clock();\n\nlong long a;\n\ninline long long next_prime();\ninline bool palindrome();\n\n\nint main()\n{\n    freopen(\"in.txt\",\"r\",stdin);\n    scanf(\"%ld\", &amp;a);\n    assert(1 &lt;= a &lt;= 1000000);\n    do\n        a = next_prime();   \n    while(!palindrome());\n    printf(\"%ld\\n\",a);\n    fprintf(stderr,\"time=%.3lfsec\\n\",0.001*(clock()-start));\n\n    return 0;\n}\n\nlong long next_prime()\n{\n    long long num = a;\n    num++;\n\n    while(1)\n    {\n        int flag = 0;\n        long long i;    \n        long long z = sqrt(num);\n\n        for(i = 2; i &lt;= z; i++)\n            if((num % i) == 0)\n                flag = 1;       \n        if(flag == 0)\n            return num;\n        else\n        num++;\n    } \n}\n\nbool palindrome()\n{\n    long long reverse_num = 0;\n    long long temp = a;\n    while(temp != 0)\n    {\n        reverse_num = reverse_num * 10;\n        reverse_num = reverse_num + temp % 10;\n        temp = temp/10;\n    }\n    if(a == reverse_num)\n       return true;\n    else\n       return false;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "rvalue"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 1, "creation_date": 1438192817, "post_id": 31707781, "comment_id": 51353862, "body": "See <a href=\"http://stackoverflow.com/a/16638081/1708801\">this answer</a>"}, {"owner": {"reputation": 335, "user_id": 4529811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iW15kxQA8Nc/AAAAAAAAAAI/AAAAAAAAAEY/H8Zj8VwTcns/photo.jpg?sz=128", "display_name": "Vladislav", "link": "https://stackoverflow.com/users/4529811/vladislav"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1438193145, "post_id": 31707781, "comment_id": 51354070, "body": "Thanks. Don&#39;t understand how I missed it."}], "owner": {"reputation": 335, "user_id": 4529811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iW15kxQA8Nc/AAAAAAAAAAI/AAAAAAAAAEY/H8Zj8VwTcns/photo.jpg?sz=128", "display_name": "Vladislav", "link": "https://stackoverflow.com/users/4529811/vladislav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "closed_date": 1438193194, "answer_count": 0, "score": 0, "last_activity_date": 1438192623, "creation_date": 1438192623, "question_id": 31707781, "link": "https://stackoverflow.com/questions/31707781/check-if-expression-is-xvalue-or-prvalue", "closed_reason": "Duplicate", "title": "Check if expression is xvalue or prvalue", "body": "<p>I just want to verify some rules described at <a href=\"http://en.cppreference.com/w/cpp/language/value_category\" rel=\"nofollow\">cppreference</a>.\nIt is easy to check, whether expression is lvalue or rvalue. </p>\n\n<pre><code>#include &lt;cassert&gt;\n#include &lt;iostream&gt;\n\ntemplate &lt;typename T&gt;\nbool IsLValue(const char* i_expression, T&amp;, bool i_expected = true)\n  {\n  assert(i_expected);\n  std::cout &lt;&lt; \"l_value : \" &lt;&lt; i_expression &lt;&lt; std::endl;\n  return true;\n  }\n\ntemplate &lt;typename T&gt;\nbool IsLValue(const char* i_expression, T&amp;&amp;, bool i_expected = false)\n  {\n  assert(!i_expected);\n  std::cout &lt;&lt; \"r_value : \" &lt;&lt; i_expression &lt;&lt; std::endl;\n  return false;\n  }\n\nint main()\n  {\n  int i = 10;\n  int* p = &amp;i;\n\n  IsLValue(\"The name of a variable 'i'\", i);\n  IsLValue(\"The name of a variable 'p'\", p);\n  IsLValue(\"The name of a function 'main' in scope\", main);\n  IsLValue(\"The name of a function 'std::cout' in scope\", std::cout);\n  IsLValue(\"Built-in pre-increment '++i'\", ++i);\n  //etc\n  return 0;\n  }\n</code></pre>\n\n<p>Is there any way to check if expression is xvalue or prvalue?</p>\n"}, {"tags": ["c++", "c", "arduino", "integer", "bit-manipulation"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1438192577, "post_id": 31707629, "comment_id": 51353706, "body": "With rational numbers ?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1438192628, "post_id": 31707629, "comment_id": 51353734, "body": "May be <a href=\"http://en.cppreference.com/w/cpp/numeric/ratio/ratio\" rel=\"nofollow noreferrer\">fixed point math</a> comes in handy for your use case."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1438192841, "post_id": 31707629, "comment_id": 51353878, "body": "@Aderis multiplying and dividing by a power of 2 is often faster, since it can be replaced with shifts."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1438193875, "post_id": 31707629, "comment_id": 51354531, "body": "There are many types of filtering algorithm, with different responses for different needs. The function returns <code>int</code> so I wonder where its input value <code>float smoothedVal</code> comes from."}, {"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438705665, "post_id": 31707629, "comment_id": 51554575, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 The following article brings some very interesting info on that, if you feel like writing an answer... :o)  <a href=\"http://bleaklow.com/2012/06/20/sensor_smoothing_and_optimised_maths_on_the_arduino.html\" rel=\"nofollow noreferrer\">bleaklow.com/2012/06/20/&hellip;</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1438706119, "post_id": 31707629, "comment_id": 51554853, "body": "@heltonbiker Hmm, not a link only answer. I&#39;m on my tablet, and writing answers containing bigger amounts of code is hard. Let&#39;s see, may be I can give a concise compilation of what&#39;s described in the article tomorrow. You may also write one yourself, that&#39;s perfectly OK."}], "answers": [{"tags": [], "owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "is_accepted": true, "score": 3, "last_activity_date": 1438719576, "last_edit_date": 1438719576, "creation_date": 1438194521, "answer_id": 31708394, "question_id": 31707629, "link": "https://stackoverflow.com/questions/31707629/smoothing-algorithm-using-integer-arithmetic/31708394#31708394", "title": "Smoothing algorithm using integer arithmetic", "body": "<p>A simple technique is scaling up by multiplying the input value with for example <code>10000</code> and putting that result in an <code>int</code>, do the calculations in <code>int</code>, and then scale the output back into a <code>float</code> by dividing with the same factor.</p>\n\n<p>In your function you then also need scale up everything with that same factor.</p>\n\n<p>The choice of factor depends on the possible ranges of the values; you want to avoid overflow at the high end, and inaccuracy at the low end.  If you think about it, the factor determines where you put the decimal point: fixed point, instead of floating point.</p>\n\n<p>The factor can be anything, it does not have to be <code>100</code>, <code>1000</code>, and so on, but <code>627</code> is fine too.</p>\n\n<p>If you go down this route, you want to convert as much of your code to <code>int</code>, because the conversions described above of course also take time.</p>\n\n<p>To illustrate my point, the following could be it:</p>\n\n<pre><code>#define FACTOR 10000  // Example value.\nint smooth(int data, int filterVal, int smoothedVal)\n{ \n    if (filterVal &gt; FACTOR)\n    {\n        filterVal = FACTOR - 100;\n    }\n    else if (filterVal &lt;= 0)\n    {\n        filterVal = 0;\n    }\n\n    smoothedVal = (data * (FACTOR - filterVal)) + (smoothedVal * filterVal);\n\n    return smoothedVal;\n}\n</code></pre>\n\n<p>You may need/want to check for overflow, ...</p>\n"}], "owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 31708394, "answer_count": 1, "score": 6, "last_activity_date": 1438719576, "creation_date": 1438192141, "question_id": 31707629, "link": "https://stackoverflow.com/questions/31707629/smoothing-algorithm-using-integer-arithmetic", "title": "Smoothing algorithm using integer arithmetic", "body": "<p>The following code was taken from an <a href=\"http://playground.arduino.cc/Main/Smooth\">Arduino tutorial on smoothing</a>:</p>\n\n<pre><code>int smooth(int data, float filterVal, float smoothedVal) { \n\n  if (filterVal &gt; 1) {\n    filterVal = .99;\n  }\n  else if (filterVal &lt;= 0) {\n    filterVal = 0;\n  }\n\n  smoothedVal = (data * (1 - filterVal)) + (smoothedVal  *  filterVal);\n\n  return (int)smoothedVal;\n}\n</code></pre>\n\n<p>The following statement, took from the same tutorial, got me thinking:</p>\n\n<blockquote>\n  <p>This function can easily be rewritten with all-integer math, if you need more speed or want to avoid floats.</p>\n</blockquote>\n\n<p>Fact is I do want to avoid floats and increase speed, but I wonder: how to convert this to integer arithmetic? Bit-banging solutions are a bonus ;o)</p>\n"}, {"tags": ["c++", "constants"], "answers": [{"tags": [], "owner": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "is_accepted": false, "score": 3, "last_activity_date": 1438194284, "last_edit_date": 1438194284, "creation_date": 1438193044, "answer_id": 31707928, "question_id": 31707621, "link": "https://stackoverflow.com/questions/31707621/const-char-a4-can-i-change-a-values/31707928#31707928", "title": "const char* a[4]; can I change a[] values?", "body": "<p>You're declaring an array of 2 pointer to const char.  You are able to change the pointers (make them point to something differen), but you can't change the memory they point to.  So you can do</p>\n\n<pre><code>a[0] = \"hello world\";\n</code></pre>\n\n<p>but you cannot capitalize the \"hello\" by later doing</p>\n\n<pre><code>a[0][0] = 'H';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": true, "score": 5, "last_activity_date": 1438194063, "creation_date": 1438194063, "answer_id": 31708268, "question_id": 31707621, "link": "https://stackoverflow.com/questions/31707621/const-char-a4-can-i-change-a-values/31708268#31708268", "title": "const char* a[4]; can I change a[] values?", "body": "<p><code>const</code> qualifier is applied in quite intuitive way. So we have:</p>\n\n<p><strong>1)</strong> Mutable array of two pointers pointing to mutable content: <code>char* a[2]</code>:</p>\n\n<pre><code>a[0] = nullptr; //Ok\na[0][0] = 'C'; //Ok\n</code></pre>\n\n<p><strong>2)</strong> Mutable array of two pointers pointing to immutable content: <code>const char* a[2]</code>:</p>\n\n<pre><code>a[0] = nullptr; //Ok\na[0][0] = 'C'; //Error\n</code></pre>\n\n<p><strong>3)</strong> Immutable array of two pointers pointing to mutable content: <code>char* const a[2]</code>:</p>\n\n<pre><code>a[0] = nullptr; //Error\na[0][0] = 'C'; //Ok\n</code></pre>\n\n<p><strong>4)</strong> Immutable array of two pointers pointing to immutable content: <code>const char* const a[2]</code>:</p>\n\n<pre><code>a[0] = nullptr; //Error\na[0][0] = 'C'; //Error\n</code></pre>\n\n<p>Note, that in case <strong>3</strong> and <strong>4</strong>, <code>a</code> needs initializer (as const variable cannot be changed). Example:</p>\n\n<pre><code>const char* const a[2] =\n{\n    ptr1,\n    ptr2\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 1395066, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ec2c7d2a9aaf68f21c7cdb286e2cfcb7?s=128&d=identicon&r=PG", "display_name": "user1395066", "link": "https://stackoverflow.com/users/1395066/user1395066"}, "is_accepted": false, "score": 1, "last_activity_date": 1438194164, "creation_date": 1438194164, "answer_id": 31708293, "question_id": 31707621, "link": "https://stackoverflow.com/questions/31707621/const-char-a4-can-i-change-a-values/31708293#31708293", "title": "const char* a[4]; can I change a[] values?", "body": "<p><code>const char *a[4]  with the combination priority.\n       ^^^^^^^^^^1\n ^^^^^^^^^^^^^^^^2</code></p>\n\n<p>That's mean you got 4 char pointer room and each of them can point to a char array.  The \"const\" qualifier specifies that you only can read but not modify.</p>\n\n<p>ex:</p>\n\n<p><code>char str1[] = \"hello\"</code></p>\n\n<p><code>char str2[] = \"good\"</code></p>\n\n<p><code>const char *ptr = str1;</code></p>\n\n<p><code>cout &lt;&lt; ptr &lt;&lt; endl; // is correct for read</code></p>\n\n<p><code>*(ptr + 1) = \"a\"; // it will alert an error by the compiler, you can't modify</code></p>\n\n<p><code>ptr = st2;  // is correct, point to another char array(or string)</code></p>\n\n<p><code>cout &lt;&lt; ptr &lt;&lt; endl;</code></p>\n"}], "owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 1, "accepted_answer_id": 31708268, "answer_count": 3, "score": 2, "last_activity_date": 1438194284, "creation_date": 1438192116, "question_id": 31707621, "link": "https://stackoverflow.com/questions/31707621/const-char-a4-can-i-change-a-values", "title": "const char* a[4]; can I change a[] values?", "body": "<p>I thought const char* a[4] means the elements of a[] are const and so I cannot change it after initialization. however, the following code shows me that they can be changed. I am confused... What is const here for?</p>\n\n<pre><code>#incldue&lt;iostream&gt;  \n#include&lt;string&gt;\n    using namespace std;\n    int main()\n    {\n            int order=1;\n            for(int i=1; i&lt;10;++i,++order){\n                    const char* a[2];\n                    int b = 10;\n    //              a[0] = to_string(order).c_str();\n                    a[0] = \"hello world\";\n                    a[1] = to_string(b).c_str();\n                    cout &lt;&lt; a[0] &lt;&lt; endl;\n                    cout &lt;&lt; a[1] &lt;&lt; endl;\n                    cout &lt;&lt; \"**************\" &lt;&lt; endl;\n                    a[0] = \"hello\" ;\n                    cout &lt;&lt; a[0] &lt;&lt; endl;\n            }\n    }\n</code></pre>\n"}, {"tags": ["c++", "binary-search"], "comments": [{"owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1438192316, "post_id": 31707576, "comment_id": 51353567, "body": "This is a classic algorithms question and I&#39;m pretty sure it&#39;s been asked here before. You may want to do a search here to see if you can find an answer."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1438192363, "post_id": 31707576, "comment_id": 51353584, "body": "Is the whole set of elements sorted, then filled in row-by-row, or is it just that each row is sorted w/o any particular relation to the other rows?"}, {"owner": {"reputation": 447, "user_id": 3513509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d3550221670bd84e6d10fb63f1ef74d?s=128&d=identicon&r=PG&f=1", "display_name": "KillaBytes", "link": "https://stackoverflow.com/users/3513509/killabytes"}, "edited": false, "score": 0, "creation_date": 1438192418, "post_id": 31707576, "comment_id": 51353606, "body": "I would say this would help: <a href=\"http://www.geeksforgeeks.org/search-in-row-wise-and-column-wise-sorted-matrix/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1438192509, "creation_date": 1438192509, "answer_id": 31707740, "question_id": 31707576, "link": "https://stackoverflow.com/questions/31707576/given-a-matrix-structure-of-integers-that-is-sorted-row-by-row-how-do-i-impleme/31707740#31707740", "title": "Given a matrix structure of integers that is sorted row by row, how do I implement binary search?", "body": "<p>If all of the elements are one big sorted list, placed in the array in row-major order, then you can treat it as one big array, and use standard binary search.</p>\n\n<p>If each row is sorted, but there is no particular relationship between rows, then you would have to search each row independently.</p>\n\n<p>If neither these descriptions fit your problem, you'll need to explain better what the constraints on how the array is filled in are.</p>\n"}], "owner": {"reputation": 1607, "user_id": 1068636, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/af6bfcf5de860549e5fe6bf1193e5c38?s=128&d=identicon&r=PG", "display_name": "user1068636", "link": "https://stackoverflow.com/users/1068636/user1068636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438192509, "creation_date": 1438191973, "question_id": 31707576, "link": "https://stackoverflow.com/questions/31707576/given-a-matrix-structure-of-integers-that-is-sorted-row-by-row-how-do-i-impleme", "title": "Given a matrix structure of integers that is sorted row by row, how do I implement binary search?", "body": "<p>Suppose I have a matrix structure in that looks like: </p>\n\n<pre><code>1 3 4\n7 8 9\n11 15 18\n</code></pre>\n\n<p>and this structure is passed to me as a 2-D array called \"ppArr\". </p>\n\n<p>So <code>ppArr[0][0] = 1, ppArr[0][1]=3,..., ppArr[2][2] = 18.</code> </p>\n\n<p>I am trying to implement the following function : </p>\n\n<pre><code>bool elementExists(int ** ppArr, int target, int rowSize, int colSize);\n</code></pre>\n\n<p>so <code>elementExist(ppArr, 9,3,3)</code> returns <code>true</code>, but <code>elementExists(ppArr, 14,3,3)</code> returns <code>false</code>. </p>\n\n<p>I have a general idea of how to solve this problem, here is some pseudocode: </p>\n\n<pre><code>// loop until found or no more elements left\n\n\n\nwhile (true) {\n   int rowMp = rowSize / 2; // computing row mid point\n   int colMp = colSize / 2; // computing column mid point\n // check if midpoint value is equal to target\n\n    if(target == ppArr[rowMp][colMp]){ \n        // found it\n        return true;\n    }\n    else{\n\n        // check bounds\n\n        // if we are on the last element\n        if (rowMp == rowSize-1) &amp;&amp; (colMp == colSize =1){\n            // we have reached the end of our search with no success\n            return false;\n        }\n\n        // if we are on the first element\n        if (rowMp == 0 &amp;&amp; colMp == 0){\n            // we have reached the start point of structure with no success\n            return false;\n        }\n\n\n\n        // case 1 - target bigger than midpint\n        if (target &gt; ppArr[rowMp][colMp]){ \n             // TODO: how do I increment my rowMP and colMP here? I'm stuck\n\n        }\n\n        // case 2 - target smaller than midpoint\n        if (target &lt; ppArr[rowMidPointIndex][colMidPointIndex]){\n            // TODO: how do i decrement my rowMP and colMP here?\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "linux"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1438192158, "post_id": 31707553, "comment_id": 51353470, "body": "You can use <code>tcpdump</code> to monitor what&#39;s happening on the network connection, I don&#39;t know if there&#39;s anything similar for serial lines. unix.stackexchange.com would be a better place to ask."}, {"owner": {"reputation": 3021, "user_id": 3668129, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ac352e02a6cfd758ca9483be85862898?s=128&d=identicon&r=PG&f=1", "display_name": "user3668129", "link": "https://stackoverflow.com/users/3668129/user3668129"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1438192607, "post_id": 31707553, "comment_id": 51353722, "body": "I cant use tcpdump becuse the freeze if for 3-5 seconds, and is very rare."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1438193204, "post_id": 31707553, "comment_id": 51354112, "body": "There are no logs of these kinds of things. Unless it&#39;s a hardware problem, that might get mentioned in <code>dmesg</code>."}, {"owner": {"reputation": 39406, "user_id": 371250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WKvHm.png?s=128&g=1", "display_name": "ninjalj", "link": "https://stackoverflow.com/users/371250/ninjalj"}, "edited": false, "score": 0, "creation_date": 1438197558, "post_id": 31707553, "comment_id": 51356652, "body": "Ca you run the application under <code>strace</code>?"}], "owner": {"reputation": 3021, "user_id": 3668129, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ac352e02a6cfd758ca9483be85862898?s=128&d=identicon&r=PG&f=1", "display_name": "user3668129", "link": "https://stackoverflow.com/users/3668129/user3668129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438191921, "creation_date": 1438191921, "question_id": 31707553, "link": "https://stackoverflow.com/questions/31707553/why-the-system-freezed-not-sending-recving-messages", "title": "Why the system freezed (not sending /recving messages)?", "body": "<p>I have 2 C++ application which run on Linux.\nOne application has 2 connections: ETH and serial (232)\nThe second application has one connection (ETH connection, which connect to the first application).</p>\n\n<p>Sometimes (very rare) it seems that the eth/serial connection are being freeze for several seconds.\nIn those seconds, I can see my application logs (The applications are not freeze) but no messages are being received. \n(The 2 applications sending and receiving messages at ~10HZ rate)</p>\n\n<p>Is there a way to check the linux log which tell me when and why there was a freeze on the system connections ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "c++", "java-native-interface"], "comments": [{"owner": {"reputation": 4261, "user_id": 4527279, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/746724815434935/picture?type=large", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/4527279/ehsan"}, "edited": false, "score": 0, "creation_date": 1438193184, "post_id": 31707397, "comment_id": 51354098, "body": "Have you checked the code on another device?"}, {"owner": {"reputation": 145, "user_id": 4603095, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/76ec9a464f61fdc2dee96da28659fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Nav", "link": "https://stackoverflow.com/users/4603095/nav-nav"}, "reply_to_user": {"reputation": 4261, "user_id": 4527279, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/746724815434935/picture?type=large", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/4527279/ehsan"}, "edited": false, "score": 0, "creation_date": 1438193238, "post_id": 31707397, "comment_id": 51354131, "body": "Yes both x86 and arm and crashes on both"}], "owner": {"reputation": 145, "user_id": 4603095, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/76ec9a464f61fdc2dee96da28659fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Nav", "link": "https://stackoverflow.com/users/4603095/nav-nav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 952, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1438191440, "creation_date": 1438191440, "question_id": 31707397, "link": "https://stackoverflow.com/questions/31707397/how-to-detect-heap-corruption-bug-in-android-studio", "title": "How to detect heap corruption bug in Android Studio", "body": "<p>I have a bug in my mobile app which makes the app crash. According to the dumpstate_app_native.txt file it looks like the bug has something to do with heap corruption. I don't have a certain pattern to check where my application crashes. It could happen any time during the life-cycle of the app. I have tried gdb but it hasn't helped me that much.</p>\n\n<h2>The following is where the app crashes. If anyone has ever experienced the similar issue I appreciate it if you share your thoughts with me.</h2>\n\n<pre><code>heap corruption detected by tmalloc_small\nF/libc    (15213): Fatal signal 6 (SIGABRT) at 0x00003b6d (code=-6), thread 15300 (Thread-762)\nW/droidpmx(15213):  HTTPAPI THREAD -connection table quit loop\nD/CustomFrequencyManagerService(  781): releaseDVFSLockLocked : Getting Lock type frm List : DVFS_MIN_LIMIT  frequency : 1190400  uid : 10032  pid : 1176  tag : LAUNCHER_APP_BOOSTER_CPU@149\nD/CustomFrequencyManagerService(  781): FrequencyrequestList.getNextMaxCPUCoreRequest, index: 0\nI/SELinux (  231): Function: selinux_android_load_priority [0], There is no sepolicy file.\nI/SELinux (  231):  \nI/SELinux (  231): Function: selinux_android_load_priority [1], There is no sepolicy version file.\nI/SELinux (  231):  \nI/SELinux (  231): Function: selinux_android_load_priority , priority version is VE=SEPF_SM-T530NU_4.4.2_0037\nI/SELinux (  231):  \nI/SELinux (  231):  \nI/SELinux (  231): get_selabel_handle: file_contexts is loaded from /file_contexts\nI/DEBUG   (  231): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\nI/DEBUG   (  231): Build fingerprint: 'samsung/matissewifiue/matissewifiue:4.4.2/KOT49H/T530NUUEU1AOA2:user/release-keys'\nI/DEBUG   (  231): Revision: '6'\nI/DEBUG   (  231): pid: 15213, tid: 15300, name: Thread-762  &gt;&gt;&gt; com.securus.videoclient &lt;&lt;&lt;\nI/DEBUG   (  231): signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------\nI/DEBUG   (  231): Abort message: 'heap corruption detected by tmalloc_small'\nI/DEBUG   (  231):     r0 00000000  r1 00003bc4  r2 00000006  r3 00000000\nI/DEBUG   (  231):     r4 00000006  r5 00000016  r6 00003bc4  r7 0000010c\nI/DEBUG   (  231):     r8 000008f4  r9 60000004  sl 40112000  fp 00000000\nI/DEBUG   (  231):     ip 00000000  sp 7cc5e4a8  lr 401291ad  pc 40138154  cpsr 00000010\nI/DEBUG   (  231):     d0  0000000000000000  d1  0000000000000000\nI/DEBUG   (  231):     d2  0000000000000000  d3  0000000000000000\nI/DEBUG   (  231):     d4  372d353432412d30  d5  3341454337394641\nI/DEBUG   (  231):     d6  6338007273333536  d7  72756365732e6d6f\nI/DEBUG   (  231):     d8  0000000000000000  d9  0000000000000000\nI/DEBUG   (  231):     d10 0000000000000000  d11 0000000000000000\nI/DEBUG   (  231):     d12 0000000000000000  d13 0000000000000000\nI/DEBUG   (  231):     d14 0000000000000000  d15 0000000000000000\nI/DEBUG   (  231):     d16 726f632070616568  d17 206e6f6974707572\nI/DEBUG   (  231):     d18 0063002f00610074  d19 0073002e006d006f\nI/DEBUG   (  231):     d20 0072007500630065  d21 0076002e00730075\nI/DEBUG   (  231):     d22 006f006500640069  d23 00650069006c0063\nI/DEBUG   (  231):     d24 0000000000000000  d25 0000000000000000\nI/DEBUG   (  231):     d26 0000000000000000  d27 0000000000000000\nI/DEBUG   (  231):     d28 0100010001000100  d29 0100010001000100\nI/DEBUG   (  231):     d30 0000000000000000  d31 0000000000000000\nI/DEBUG   (  231):     scr 60000012\nI/DEBUG   (  231): \nI/DEBUG   (  231): backtrace:\nI/DEBUG   (  231):     #00  pc 00022154  /system/lib/libc.so (tgkill+12)\nI/DEBUG   (  231):     #01  pc 000131a9  /system/lib/libc.so (pthread_kill+48)\nI/DEBUG   (  231):     #02  pc 000133bd  /system/lib/libc.so (raise+10)\nI/DEBUG   (  231):     #03  pc 000120f3  /system/lib/libc.so\nI/DEBUG   (  231):     #04  pc 00021a08  /system/lib/libc.so (abort+4)\nI/DEBUG   (  231):     #05  pc 00012bd9  /system/lib/libc.so\nI/DEBUG   (  231):     #06  pc 0000f2e5  /system/lib/libc.so\nI/DEBUG   (  231):     #07  pc 000101f1  /system/lib/libc.so (dlmalloc+604)\nI/DEBUG   (  231):     #08  pc 0000dd1f  /system/lib/libc.so (malloc+10)\nI/DEBUG   (  231):     #09  pc 00041055  /system/lib/libicuuc.so\nI/DEBUG   (  231):     #10  pc 000416af  /system/lib/libicuuc.so (ures_getByKeyWithFallback_51+438)\nI/DEBUG   (  231):     #11  pc 000e1b19  /system/lib/libicui18n.so\nI/DEBUG   (  231):     #12  pc 00057a9b  /system/lib/libsqlite.so (register_android_functions+18)\nI/DEBUG   (  231):     #13  pc 00065d19  /system/lib/libandroid_runtime.so\nI/DEBUG   (  231):     #14  pc 00020d0c  /system/lib/libdvm.so (dvmPlatformInvoke+112)\nI/DEBUG   (  231):     #15  pc 00051a67  /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+398)\nI/DEBUG   (  231):     #16  pc 0002a1a0  /system/lib/libdvm.so\nI/DEBUG   (  231):     #17  pc 00031650  /system/lib/libdvm.so (dvmMterpStd(Thread*)+76)\nI/DEBUG   (  231):     #18  pc 0002ece8  /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+184)\nI/DEBUG   (  231):     #19  pc 00063fb5  /system/lib/libdvm.so (dvmCallMethodV(Thread*, Method const*, Object*, bool, JValue*, std::__va_list)+336)\nI/DEBUG   (  231):     #20  pc 00063fd9  /system/lib/libdvm.so (dvmCallMethod(Thread*, Method const*, Object*, JValue*, ...)+20)\nI/DEBUG   (  231):     #21  pc 00058cab  /system/lib/libdvm.so\nI/DEBUG   (  231):     #22  pc 0000d298  /system/lib/libc.so (__thread_entry+72)\nI/DEBUG   (  231):     #23  pc 0000d430  /system/lib/libc.so (pthread_create+240)\nI/DEBUG   (  231): \nI/DEBUG   (  231): stack:\nI/DEBUG   (  231):          7cc5e468  00000000  \nI/DEBUG   (  231):          7cc5e46c  40127033  /system/lib/libc.so (dlmalloc+4254)\nI/DEBUG   (  231):          7cc5e470  0000b31a  \nI/DEBUG   (  231):          7cc5e474  00060282  \nI/DEBUG   (  231):          7cc5e478  41720a21  /system/lib/libdvm.so\nI/DEBUG   (  231):          7cc5e47c  41784ea0  /system/lib/libdvm.so\nI/DEBUG   (  231):          7cc5e480  7b0a95c0  \nI/DEBUG   (  231):          7cc5e484  7b0a95c8  \nI/DEBUG   (  231):          7cc5e488  00000000  \nI/DEBUG   (  231):          7cc5e48c  7b0a95c8  \nI/DEBUG   (  231):          7cc5e490  7bdba390  \nI/DEBUG   (  231):          7cc5e494  4012741f  /system/lib/libc.so (dlfree+50)\nI/DEBUG   (  231):          7cc5e498  40160000  /system/lib/libc.so\nI/DEBUG   (  231):          7cc5e49c  41e4c1b0  /dev/ashmem/dalvik-heap (deleted)\nI/DEBUG   (  231):          7cc5e4a0  41e4c1b0  /dev/ashmem/dalvik-heap (deleted)\nI/DEBUG   (  231):          7cc5e4a4  7b0a95c8  \nI/DEBUG   (  231):     #00  7cc5e4a8  00000006  \nI/DEBUG   (  231):          7cc5e4ac  00000016  \nI/DEBUG   (  231):          7cc5e4b0  00003bc4  \nI/DEBUG   (  231):          7cc5e4b4  00000000  \nI/DEBUG   (  231):          7cc5e4b8  00000000  \nI/DEBUG   (  231):          7cc5e4bc  401291ad  /system/lib/libc.so (pthread_kill+52)\nI/DEBUG   (  231):     #01  7cc5e4c0  00000006  \nI/DEBUG   (  231):          7cc5e4c4  00000000  \nI/DEBUG   (  231):          7cc5e4c8  78aec638  \nI/DEBUG   (  231):          7cc5e4cc  401293c1  /system/lib/libc.so (raise+14)\nI/DEBUG   (  231):     #02  7cc5e4d0  7cc5e4dc  [stack:15300]\nI/DEBUG   (  231):          7cc5e4d4  401280f7  /system/lib/libc.so\nI/DEBUG   (  231): \nI/DEBUG   (  231): memory near r1:\nI/DEBUG   (  231):     00003ba4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bb4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bc4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bd4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003be4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bf4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c04 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c14 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c24 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c34 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c44 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c54 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c64 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c74 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c84 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c94 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231): \nI/DEBUG   (  231): memory near r6:\nI/DEBUG   (  231):     00003ba4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bb4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bc4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bd4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003be4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003bf4 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c04 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c14 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c24 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c34 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c44 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c54 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c64 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c74 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c84 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231):     00003c94 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (  231): \nI/DEBUG   (  231): memory near r9:\nI/DEBUG   (  231):     5fffffe4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     5ffffff4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000004 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000014 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000024 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000034 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000044 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000054 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000064 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000074 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000084 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     60000094 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     600000a4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     600000b4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     600000c4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     600000d4 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231): \nI/DEBUG   (  231): memory near sl:\nI/DEBUG   (  231):     40111fe0 40111ed8 402b0ec4 40111eb8 40111c70  \nI/DEBUG   (  231):     40111ff0 00000001 402af000 00000100 00000000  \nI/DEBUG   (  231):     40112000 00000000 0000001b 401600e0 401600e0  \nI/DEBUG   (  231):     40112010 401252b1 40125a29 401252c1 0000001b  \nI/DEBUG   (  231):     40112020 00000010 00000001 00000000 00000000  \nI/DEBUG   (  231):     40112030 00000000 0000001b 00000025 00000002  \nI/DEBUG   (  231):     40112040 00000000 00000000 00000000 0000001b  \nI/DEBUG   (  231):     40112050 401b5a30 40112078 00000002 00000000  \nI/DEBUG   (  231):     40112060 00000008 0000003b 00000001 00000020  \nI/DEBUG   (  231):     40112070 00000000 00000000 40177309 00000000  \nI/DEBUG   (  231):     40112080 4026185d ffffd8f0 00000000 00000000  \nI/DEBUG   (  231):     40112090 00000000 00000000 00000000 0000002b  \nI/DEBUG   (  231):     401120a0 00000001 0000000e 00000000 00000000  \nI/DEBUG   (  231):     401120b0 00700061 006f0070 00730070 00000000  \nI/DEBUG   (  231):     401120c0 00000000 0000006b 00000001 00000052  \nI/DEBUG   (  231):     401120d0 00000000 00000000 006f0063 002e006d  \nI/DEBUG   (  231): \nI/DEBUG   (  231): memory near sp:\nI/DEBUG   (  231):     7cc5e488 00000000 7b0a95c8 7bdba390 4012741f  \nI/DEBUG   (  231):     7cc5e498 40160000 41e4c1b0 41e4c1b0 7b0a95c8  \nI/DEBUG   (  231):     7cc5e4a8 00000006 00000016 00003bc4 00000000  \nI/DEBUG   (  231):     7cc5e4b8 00000000 401291ad 00000006 00000000  \nI/DEBUG   (  231):     7cc5e4c8 78aec638 401293c1 7cc5e4dc 401280f7  \nI/DEBUG   (  231):     7cc5e4d8 0000b31a ffffffdf 00000000 00060282  \nI/DEBUG   (  231):     7cc5e4e8 000081b0 00000001 000027bf 00000090  \nI/DEBUG   (  231):     7cc5e4f8 00000050 40137a0c d4dfbad7 40128bdd  \nI/DEBUG   (  231):     7cc5e508 40156147 7cc5e51c ffffff60 401252e9  \nI/DEBUG   (  231):     7cc5e518 40156147 40159d2a ffffff60 40164388  \nI/DEBUG   (  231):     7cc5e528 78af23b8 401261f5 0000008c 0000420c  \nI/DEBUG   (  231):     7cc5e538 40125f95 78aec3b8 789d9e28 409a71b0  \nI/DEBUG   (  231):     7cc5e548 7cc5e948 00000006 60000004 789d9e3c  \nI/DEBUG   (  231):     7cc5e558 00000000 40123d21 00000000 407b7059  \nI/DEBUG   (  231):     7cc5e568 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231):     7cc5e578 00000000 00000000 00000000 00000000  \nI/DEBUG   (  231): \nI/DEBUG   (  231): code around pc:\nI/DEBUG   (  231):     40138134 e8bd00f0 e3700a01 912fff1e e2600000  \nI/DEBUG   (  231):     40138144 ea006e48 e92d50f0 e3a07f43 ef000000  \nI/DEBUG   (  231):     40138154 e8bd50f0 e3700a01 912fff1e e2600000  \nI/DEBUG   (  231):     40138164 ea006e40 e92d50f0 e3a070ee ef000000  \nI/DEBUG   (  231):     40138174 e8bd50f0 e3700a01 912fff1e e2600000  \nI/DEBUG   (  231):     40138184 ea006e38 f200429a bf0080b9 f040f891  \nI/DEBUG   (  231):     40138194 4001e92d f2c02a04 2a1080a5 8093f2c0  \nI/DEBUG   (  231):     401381a4 f2c02a20 2a408088 ea4fdb7f f1bc1c92  \nI/DEBUG   (  231):     401381b4 dd6c0f0a 0600e92d 0f40f1bc f500dd4a  \nI/DEBUG   (  231):     401381c4 f5016e80 ebae7920 ea4f0e09 ea4f5e4e  \nI/DEBUG   (  231):     401381d4 f50e5e5e ebbc7e20 dd3b1f9e f04fbfc4  \nI/DEBUG   (  231):     401381e4 ebd9090a dd35199e 0a0eeb01 0a3ff02a  \nI/DEBUG   (  231):     401381f4 1c9eebac bfd245e1 0c09ebac f04f46e1  \nI/DEBUG   (  231):     40138204 f8910c00 f891f240 f921f280 f921028d  \nI/DEBUG   (  231):     40138214 f8da428d f1b93000 f9000901 f900028d  \nI/DEBUG   (  231):     40138224 f10a428d d1ee0a40 0f00f1bc f5bcd02b  \nI/DEBUG   (  231): \nI/DEBUG   (  231): code around lr:\nI/DEBUG   (  231):     4012918c 447b4b13 42b3e010 6a1ed10e 44784811  \nI/DEBUG   (  231):     4012919c ec84f7fb ea0cf00d 46224631 efcef00e  \nI/DEBUG   (  231):     401291ac d00a3001 e00b2400 2b00681b 480ad1eb  \nI/DEBUG   (  231):     401291bc 44782403 ec72f7fb f001e002 6804fa23  \nI/DEBUG   (  231):     401291cc fa20f001 46206005 bf00bd70 0003b226  \nI/DEBUG   (  231):     401291dc 0003b21a 0003b212 0003b1ee bf7ef7ff  \nI/DEBUG   (  231):     401291ec 4a3e4b3d e92d447b b08b43f0 4606589c  \nI/DEBUG   (  231):     401291fc 6823460d 930946a1 fa04f001 8000f8d0  \nI/DEBUG   (  231):     4012920c d0482d00 f0104628 280ff91b d8444604  \nI/DEBUG   (  231):     4012921c ffe4f7ff d1064286 4629200f e8d6f00d  \nI/DEBUG   (  231):     4012922c d03c2800 482ee02e f7fb4478 482debb6  \nI/DEBUG   (  231):     4012923c e0154478 d11342b0 482b6a06 f7fb4478  \nI/DEBUG   (  231):     4012924c 4a2aec2e 46332120 a801447a f992f013  \nI/DEBUG   (  231):     4012925c a8012101 fcb0f01a 46061c42 e011d104  \nI/DEBUG   (  231):     4012926c 28006800 e02cd1e6 46294630 f00d4622  \nI/DEBUG   (  231):     4012927c 1c43e912 d11e4607 f9c4f001 29046801  \nI/DEBUG   (  231): !@dumpstate -k -t -z -d -o /data/log/dumpstate_app_native -m 15213\n</code></pre>\n"}, {"tags": ["c++", "namespaces", "declaration", "language-lawyer"], "comments": [{"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1438192097, "post_id": 31707358, "comment_id": 51353425, "body": "I&#39;m not sure whether this really doesn&#39;t apply to the using declaration. It says: &quot;finds a declaration [...] in two different namespaces&quot;, not &quot;entity that was declared in two different namespaces&quot;."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438192147, "post_id": 31707358, "comment_id": 51353464, "body": "<i>&quot;Remember that using-declarations are not declaring any entity.&quot;</i> Then why are they called using-declarations?"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438192710, "post_id": 31707358, "comment_id": 51353780, "body": "There are other declarations that are not declaring any entities, for example: static_assert declarations. The term declaration is used in two ways in the standard."}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438192767, "post_id": 31707358, "comment_id": 51353822, "body": "For a member name it declares it? What do you mean?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438195400, "post_id": 31707358, "comment_id": 51355425, "body": "@Supremum: Well for <code>static_assert</code> that&#39;s a bit of a hack so you can put them in a class definintion. Not sure it counts. Can you think of any other examples?"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438195668, "post_id": 31707358, "comment_id": 51355586, "body": "using-directives There are a lot of wierd definitions. They are listed in the declartions section of the c++ standard."}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438195783, "post_id": 31707358, "comment_id": 51355649, "body": "Anyways it seems like using-declarations are at least declaring names, whatever that means. See the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438192246, "post_id": 31707646, "comment_id": 51353528, "body": "@LightnessRacesinOrbit There&#39;s a sentence about variables in there. I can write a different example."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438195289, "post_id": 31707646, "comment_id": 51355334, "body": "@Supremum I added a simpler, non-<code>extern</code> example - this one probably would be easier to see."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 3, "last_activity_date": 1438195327, "last_edit_date": 1438195327, "creation_date": 1438192192, "answer_id": 31707646, "question_id": 31707358, "link": "https://stackoverflow.com/questions/31707358/can-the-same-entity-be-declared-in-two-different-namespaces/31707646#31707646", "title": "Can the same entity be declared in two different namespaces?", "body": "<p>Yes, with <code>extern</code>. From [dcl.link]:</p>\n\n<blockquote>\n  <p>Two declarations for a function\n  with C language linkage with the same function name (ignoring the namespace names that qualify it) that\n  appear in different namespace scopes refer to the same function. <strong>Two declarations for a variable with C\n  language linkage with the same name (ignoring the namespace names that qualify it) that appear in different\n  namespace scopes refer to the same variable.</strong></p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>namespace A {\n    extern \"C\" int x;\n}\n\nnamespace B {\n    extern \"C\" int x;\n}\n\nextern \"C\" {\n    int x;\n}\n\nnamespace D {\n    using namespace A;\n    using namespace B;\n}\n</code></pre>\n\n<p><code>A::x</code> and <code>B::x</code> (and <code>::x</code>) are all the same entity. As a result, <code>D::x</code> is not ill-formed. </p>\n\n<hr />\n\n<p>Upon further reflection, with a combo of <em>using-declaration</em>s and <em>using-directive</em>s, we can come up with an easier example that doesn't rely on <code>extern</code>:</p>\n\n<pre><code>namespace A {\n    int i;   \n}\n\nnamespace B {\n    using A::i;\n}\n\nnamespace C {\n    using A::i;\n}\n\nnamespace D {\n    using namespace B;\n    using namespace C;\n}\n\nint main() {\n    D::i = 4; // name lookup finds `i` declared in two different namespaces,\n              // B and C. However, both of those declarations refer to the\n              // same entity, A::i\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1438193895, "post_id": 31707753, "comment_id": 51354542, "body": "@Supremum This doesn&#39;t really apply to the question. A <i>using-declaration</i> declares a new name, but this wouldn&#39;t make it possible to really find the same name in two different entities. If you try to introduce the same name twice with a <i>using-declaration</i>, that&#39;s a hard error. Only a <i>using-directive</i> would make that possible, which is the section in which the sentence you quoted from appears."}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438194144, "post_id": 31707753, "comment_id": 51354677, "body": "Damn, the c++ standard really messed things up when it comes to declarations. In &#167;7.3.4/6 what is meant by the namespace where name lookup finds the declaration for a name? In namespace N { static int i = 1; } using namespace N; using N::i; int main() { i = 2; } In what namespace is  i  found during the unqualified name lookup?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438194665, "post_id": 31707753, "comment_id": 51354965, "body": "@Supremum In <code>::</code>, because of the <i>using-declaration</i>. Without that, in <code>N</code> because of the <i>using-directive</i>. Without both, nowhere."}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438195008, "post_id": 31707753, "comment_id": 51355179, "body": "So namespace N { static int i = 1; } namespace M { struct i {}; } using N::i; using M::i int main() { sizeof(i); }"}, {"owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "edited": false, "score": 0, "creation_date": 1438195237, "post_id": 31707753, "comment_id": 51355309, "body": "I&#39;m starting to suspect that introducing a name into a declarative region is the same a declaring that name there, but that declaring an entity is not the same are declaring a name in a declarative region."}], "tags": [], "owner": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "is_accepted": true, "score": 0, "last_activity_date": 1438192548, "creation_date": 1438192548, "answer_id": 31707753, "question_id": 31707358, "link": "https://stackoverflow.com/questions/31707358/can-the-same-entity-be-declared-in-two-different-namespaces/31707753#31707753", "title": "Can the same entity be declared in two different namespaces?", "body": "<p>But using declarations do declare names for entities.  From the C++11 standard, \u00a77.3.3[namespace.udecl]/1:</p>\n\n<blockquote>\n  <p>A using-declaration introduces a name into the declarative region in which the using-declaration appears.</p>\n  \n  <blockquote>\n    <p><em>using-declaration</em>:<br/></p>\n    \n    <blockquote>\n      <p><code>using typename</code><sub><em>opt</em></sub> <em>nested-name-specifier unqualified-id</em> <code>;</code><br/>\n        <code>using ::</code> <em>unqualified-id</em> <code>;</code><br/></p>\n    </blockquote>\n  </blockquote>\n  \n  <p><strong>The member name specified in a using-declaration is declared in the declarative region in which the using-declaration appears.</strong></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1438193095, "post_id": 31707912, "comment_id": 51354042, "body": "I think you missed the point of the question. The OP knows both of these things. When the code is ill-formed because different entities are named, and when the entities are a function. The OP is asking about the third, implied case, in which the two declarations do name the same non-function entity, and how this can be possible."}], "tags": [], "owner": {"reputation": 905, "user_id": 5170218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e746d5acb1323eea69830a11b4a12ef2?s=128&d=identicon&r=PG&f=1", "display_name": "SACHIN GOYAL", "link": "https://stackoverflow.com/users/5170218/sachin-goyal"}, "is_accepted": false, "score": -2, "last_activity_date": 1438193001, "creation_date": 1438193001, "answer_id": 31707912, "question_id": 31707358, "link": "https://stackoverflow.com/questions/31707358/can-the-same-entity-be-declared-in-two-different-namespaces/31707912#31707912", "title": "Can the same entity be declared in two different namespaces?", "body": "<pre><code>namespace A{\nvoid fun(){}\n}\nnamespace B{\nvoid fun(){}\n}\nint main()\n{\nusing namespace A;\nusing namespace B;\nfun()//ambiguous call here because this entity is present in both the namespaces \n\n}\n</code></pre>\n\n<p>In above code call to fun is ambiguous as look up will not able to find the correct fun to call .\nSecond example is below :</p>\n\n<pre><code>namespace N { namespace A {int i;} }\n\nstruct A {static int i;};\n\nusing namespace N;\n\nint i = A::i; \n</code></pre>\n\n<p>In later case ,call is ambiguous as entity 'A' is present in both the namespaces (N and global namespace) .\nHope this will help</p>\n"}], "owner": {"reputation": 394, "user_id": 1272610, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dd94f5d54afd48959aa7539c420d81b3?s=128&d=identicon&r=PG", "display_name": "Supremum", "link": "https://stackoverflow.com/users/1272610/supremum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 31707753, "answer_count": 3, "score": 2, "last_activity_date": 1438195327, "creation_date": 1438191276, "question_id": 31707358, "link": "https://stackoverflow.com/questions/31707358/can-the-same-entity-be-declared-in-two-different-namespaces", "title": "Can the same entity be declared in two different namespaces?", "body": "<p>I have a question about \u00a77.3.4/6 in the c++ standard:</p>\n\n<blockquote>\n  <p>If name lookup finds a declaration for a name in two different\n  namespaces, and the declarations do not declare the same entity and do\n  not declare functions, the use of the name is ill-formed.</p>\n</blockquote>\n\n<p>Is seems to suggest that there are cases where the same entity is declared in two different namespaces. Else the wording \"and the declarations do not declare the same entity\" would not have been needed.</p>\n\n<p>Any examples of such situations? Remember that using-declarations are not declaring any entity. They are just referring to a declaration of an entity done elsewhere (possibly indirectly via other using-declarations). Using-declarations are introducing their name into a declarative region however, but that is another thing.</p>\n\n<p>Remember also that using-directives are not declaring any entities either.</p>\n\n<p>An finally observe that out of line definitions (definitions using qualified names) for namespace members are not declaring anything in the namespace where they occur, but only in the target namespace.</p>\n"}, {"tags": ["c++", "boost", "ipc", "boost-interprocess", "boost-mutex"], "answers": [{"comments": [{"owner": {"reputation": 17102, "user_id": 1022889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WZOSZ.jpg?s=128&g=1", "display_name": "Cloud", "link": "https://stackoverflow.com/users/1022889/cloud"}, "edited": false, "score": 1, "creation_date": 1438446449, "post_id": 31711443, "comment_id": 51459560, "body": "In short, it seems boost does not support &quot;Robust Mutexes&quot;, and so the only way to accomplish the above would be to write a system service, daemon, or resource manager to create and handle access to the mutexes, or use a shell script to manage PID counts. Since this code is in a shared library, the best I can do is put a minor contraint on the user applications that use it, and minimize use of named mutexes when possible."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 2, "creation_date": 1438462388, "post_id": 31711443, "comment_id": 51464193, "body": "I think that&#39;s true. TBF I don&#39;t know any portable implementation of robust <i>named mutexes</i>. The complication being the named-ness (the shared ness should be an issue on, say, linux, but you&#39;d have similar issues with the shared memory region that contains the mutex in the first place). Last but not least: refence counting exists: <code>boost::interprocess::shared_ptr</code> is there for this reason. Be sure not to race on instantiation."}], "tags": [], "owner": {"reputation": 7948, "user_id": 4899330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a19fa016a8fc6c0a3250f03f108a9?s=128&d=identicon&r=PG&f=1", "display_name": "doqtor", "link": "https://stackoverflow.com/users/4899330/doqtor"}, "is_accepted": true, "score": 0, "last_activity_date": 1438463603, "last_edit_date": 1438463603, "creation_date": 1438205193, "answer_id": 31711443, "question_id": 31707347, "link": "https://stackoverflow.com/questions/31707347/boostnamed-mutex-safely-cleaning-up-when-last-process-closes/31711443#31711443", "title": "boost::named_mutex: Safely cleaning up when last process closes", "body": "<p><del>There isn't any reference counting supported to my knowledge.</del></p>\n\n<p>If you are starting or stopping your processes using for example shell script you could remove the shared memory files at start/stop from the script.</p>\n\n<p>If you have one process that is always starting first then you could use it to remove shared memory files at program start (or similarly in last stopping process at program stop).</p>\n\n<p><del>Another approach would be implementing reference counting yourself using shared memory</del> - last process would delete all shared memory files. However this won't work if one of the processes crash, you could still try removing in segfault signal handler but this may not always work too.</p>\n\n<p><strong>Update</strong>: As @sehe mentioned <code>boost::interprocess::shared_ptr</code> can be used for reference counting.</p>\n"}], "owner": {"reputation": 17102, "user_id": 1022889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WZOSZ.jpg?s=128&g=1", "display_name": "Cloud", "link": "https://stackoverflow.com/users/1022889/cloud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 31711443, "answer_count": 1, "score": 1, "last_activity_date": 1438463603, "creation_date": 1438191239, "last_edit_date": 1495540699, "question_id": 31707347, "link": "https://stackoverflow.com/questions/31707347/boostnamed-mutex-safely-cleaning-up-when-last-process-closes", "title": "boost::named_mutex: Safely cleaning up when last process closes", "body": "<p>I have a resource which I need to protect access to within a process, and across multiple processes. I've managed this by creating a named mutex via <code>boost::interprocess:named_recursive_mutex</code>, and it works great.</p>\n\n<pre><code>#include &lt;boost/interprocess/sync/named_recursive_mutex.hpp&gt;\nboost::interprocess::named_recursive_mutex mut(\n    boost::interprocess::open_or_create, \"MY_SHARED_MUTEX_123\");\n</code></pre>\n\n<p>However, it's to my understanding that this should be cleaned up eventually via <code>remove()</code>, ie:</p>\n\n<pre><code>mut.remove(\"MY_SHARED_MUTEX\");\n</code></pre>\n\n<p>However, this call appears to completely clobber the mutex, rather than check/decrement a reference count, so I'm trying to find a safe way to issue the <code>remove()</code> call when I know that no other processes are using it. I could create a chunk of shared memory via boost as well, but that does not appear to have a shared reference count either.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7555253/boost-named-mutex-and-remove-command\">I've found a similar question on SO</a>, but <a href=\"https://stackoverflow.com/a/7561805\">the accepted answer</a> doesn't seem adequate for my needs, as it just refers to the <a href=\"http://www.boost.org/doc/libs/1_44_0/doc/html/boost/interprocess/named_mutex.html\" rel=\"nofollow noreferrer\">\"boost docs\"</a>, but doesn't give a clear indicator as to when <code>remove()</code> can be safely issued.</p>\n\n<p>How can I safely clean up this named mutex when I'm certain the last process accessing it has closed, or possibly crashed?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "implicit-conversion", "facade"], "comments": [{"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 1, "creation_date": 1438191535, "post_id": 31707212, "comment_id": 51353132, "body": "Why don&#39;t A* structs have an getMyMember() method, or getDStruct() instead?"}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 1, "creation_date": 1438191680, "post_id": 31707212, "comment_id": 51353194, "body": "Why not just use inheritance?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438191686, "post_id": 31707212, "comment_id": 51353195, "body": "Should be fine from a 1st glance. What are your doubts in particular? Could you elaborate please? Or is your question, if this comprises the Facade pattern?"}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "edited": false, "score": 1, "creation_date": 1438192645, "post_id": 31707212, "comment_id": 51353743, "body": "My doubts are caused from the often read advice not to use implicit type conversions. Second reason: I&#39;ve never seen that approach anywhere."}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "edited": false, "score": 0, "creation_date": 1438193163, "post_id": 31707212, "comment_id": 51354081, "body": "If I use inheritance, A1, A2 and A3 have to inherit from ACRef. Yet then either they all inherit ACRef&#39;s D * const data member, or, if I put the A?&#39;s D data member into ACRef, then I cannot build ACRefs from an existing D struct without copying it."}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1438193253, "post_id": 31707212, "comment_id": 51354142, "body": "@KABoissonneault Giving A structs a getMyMember () member functions does not help me in implementing printMyMember. Which data type should it take if it is not a template?"}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 0, "creation_date": 1438193376, "post_id": 31707212, "comment_id": 51354211, "body": "@JohnB Perhaps make that requirement for <code>ACRef</code> clear in your question."}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "edited": false, "score": 0, "creation_date": 1438194346, "post_id": 31707212, "comment_id": 51354785, "body": "Now it should be clear, thanks for the hint."}], "answers": [{"tags": [], "owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "is_accepted": false, "score": 0, "last_activity_date": 1438197086, "last_edit_date": 1438197086, "creation_date": 1438192869, "answer_id": 31707864, "question_id": 31707212, "link": "https://stackoverflow.com/questions/31707212/simulating-an-interface-by-implicit-typecast/31707864#31707864", "title": "Simulating an interface by implicit typecast", "body": "<p>I can't see anything obviously wrong with your approach but wise people have told me to avoid implicit type conversions so it makes me a little nervous. Something smells about creating a new object every time you take advantage of the \"is-a\" relationship.</p>\n\n<p>The more idiomatic way of representing an \"is-a\" relationship would be to use inheritance. </p>\n\n<p>To accommodate your requirement on <code>ACRef</code> we could use the <a href=\"https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Base-from-Member\" rel=\"nofollow\">Base-from-Member</a> idiom:</p>\n\n<pre><code>struct D { int member; };\n\nclass ACRef {\n  const D *data_ref;\n public:\n  ACRef(const D &amp;data) : data_ref(&amp;data){}\n  int getMember() const { return data_ref-&gt;member; }   \n};\n\nstruct BaseA {\n  D data;\n  BaseA() : data({0}){}\n};\n\nclass A1 : protected BaseA, public ACRef {\n public:\n  A1() : ACRef(data){}\n};\n\nclass A2 : protected BaseA, public ACRef {\n public:\n  A2() : ACRef(data){}    \n};\n\nvoid printMyMember(const ACRef&amp; a) {\n  std::cout &lt;&lt; a.getMember() &lt;&lt; \"\\n\";\n}\n\nint main() {\n  A1 a1;\n  printMyMember(a1);\n\n  D d = {1};\n  ACRef acref(d);\n  printMyMember(d);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": false, "score": 2, "last_activity_date": 1438197685, "last_edit_date": 1438197685, "creation_date": 1438194262, "answer_id": 31708313, "question_id": 31707212, "link": "https://stackoverflow.com/questions/31707212/simulating-an-interface-by-implicit-typecast/31708313#31708313", "title": "Simulating an interface by implicit typecast", "body": "<p>The only drawback I see with this approach is that you end up with multiple objects that implicitly share state. So e.g. passing an ACRef by value doesn't have the typical meaning. But as long as you only allow read access via <code>ACRef</code> it should not bee a big problem.<br>\nIf the proxy types end up in a different thread than the original object, you have to be very carfull though.</p>\n"}, {"comments": [{"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "edited": false, "score": 0, "creation_date": 1438240076, "post_id": 31709384, "comment_id": 51371631, "body": "I do not think this is correct, as I do not (and the compiler will not allow me to) cast <code>A1*</code> to <code>ACRef *</code>, but rather <code>A1</code> to <code>ACRef</code>."}], "tags": [], "owner": {"reputation": 11532, "user_id": 5129715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/320498457784a3110f3e256745a9a927?s=128&d=identicon&r=PG&f=1", "display_name": "mksteve", "link": "https://stackoverflow.com/users/5129715/mksteve"}, "is_accepted": false, "score": 0, "last_activity_date": 1438221202, "last_edit_date": 1438221202, "creation_date": 1438197876, "answer_id": 31709384, "question_id": 31707212, "link": "https://stackoverflow.com/questions/31707212/simulating-an-interface-by-implicit-typecast/31709384#31709384", "title": "Simulating an interface by implicit typecast", "body": "<p>I don't think you can rely on offsetof(m_data) being consistent (your example mixes full member and pointers)</p>\n\n<p>In order to get the guaranteed behaviour you need a base class which defines the common behaviour. </p>\n\n<pre><code>class Abase{ protected D* m_data;...}\n</code></pre>\n\n<p>Only then will the cast be safe from A* to Abase* (imagine vtable getting added to support destructor, rtti) for some A</p>\n"}], "owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1438240199, "creation_date": 1438190789, "last_edit_date": 1438240199, "question_id": 31707212, "link": "https://stackoverflow.com/questions/31707212/simulating-an-interface-by-implicit-typecast", "title": "Simulating an interface by implicit typecast", "body": "<p>Suppose I have several classes <code>A1</code>, <code>A2</code>, <code>A3</code> whose data can be stored in the same POD data structure <code>D</code>. The classes differ with respect to how the data is managed, e.g., where dynamic data structures are being allocated. Yet semantically, they represent all the same type of data.</p>\n\n<p>One of my <code>A?</code> classes is designed to be a wrapper around <code>D</code>'s. It can be constructed based on an existing <code>D</code> without copying it.</p>\n\n<p>Now I want to implement read access to all <code>A?</code> classes in a unified way. I do not want to use virtual methods, nor do I want to templatize all code where <code>A?</code> classes are used.</p>\n\n<p>Is the following a reasonable design?</p>\n\n<p>Does this pattern have a name? (Facade?)</p>\n\n<p>Are there any obvious pitfalls?</p>\n\n<pre><code>/* in practice, D is large or should not be copied for other reasons */\nstruct D { int * mymember; }\n\nstruct ACRef {\n   ACRef (D const &amp; d) : m_dataref (&amp;d) { }\n   /* operations for A-like classes */\n   int getMyMember () const { return *(m_dataref-&gt;mymember); }\nprivate:\n   D const * m_dataref;\n};\n\nstruct A1 {\n   /* A1 stuff, manages m_data.mymember in a particular way */\n\n   // implicit conversion to ACRef possible\n   // kind of \"is a\" relationship: an A1 \"is an\" ACRef\n   operator ACRef () { return ACRef {this-&gt;m_data}; }\nprivate:\n   D m_data;\n};\n\nstruct A2 {\n   explicit A2 (D &amp; d) : m_data (&amp;d) { }\n\n   /* A2 stuff, manages m_data.mymember in a particular way */\n\n   // implicit conversion to ACRef possible\n   // kind of \"is a\" relationship: an A2 \"is an\" ACRef\n   operator ACRef () { return ACRef {*(this-&gt;m_data)}; }\nprivate:\n   D * m_data;\n};\n\n/* A3 defined similar to A1 */\n\n/* function that should operate on A?'s */\nint printMyMember (ACRef a) {\n   std::cout &lt;&lt; a.getMyMember () &lt;&lt; std::endl;\n}\n\nA1 a1;\nA2 a2;\n// ...\nprintMyMember (a1);\nprintMyMember (a2);    \n</code></pre>\n"}, {"tags": ["c++", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 282, "user_id": 2649380, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/71827eeeec4eedfc622faa8b06eaa6f1?s=128&d=identicon&r=PG", "display_name": "APRocha", "link": "https://stackoverflow.com/users/2649380/aprocha"}, "edited": false, "score": 0, "creation_date": 1438198900, "post_id": 31707274, "comment_id": 51357382, "body": "@APRocha: Perhaps spend more energy focusing on getting the logic right! <code>b=c</code>?"}, {"owner": {"reputation": 282, "user_id": 2649380, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/71827eeeec4eedfc622faa8b06eaa6f1?s=128&d=identicon&r=PG", "display_name": "APRocha", "link": "https://stackoverflow.com/users/2649380/aprocha"}, "edited": false, "score": 0, "creation_date": 1438203839, "post_id": 31707274, "comment_id": 51360195, "body": "and i recommend add every boolean comparision between (), for legibility. example : if( (a==b) &amp;&amp; (b==c) &amp;&amp; (c != d) )"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1438190982, "creation_date": 1438190982, "answer_id": 31707274, "question_id": 31707166, "link": "https://stackoverflow.com/questions/31707166/a-multiple-equality-inequalityconditions-checking-in-if-statements/31707274#31707274", "title": "A multiple equality/inequalityconditions checking in if statements", "body": "<p>Because you made this up. You can't do boolean comparisons like this.</p>\n\n<p>Stick to two operands at a time and use <code>&amp;&amp;</code> and <code>||</code> to combine results.</p>\n\n<p>I'm not entirely clear on your requirements but start with something like this:</p>\n\n<pre><code>if (a == b &amp;&amp; b == c &amp;&amp; c != d)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 5165306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b7c0ad499e2544d929f45c37b24cd9?s=128&d=identicon&r=PG&f=1", "display_name": "ex-bart", "link": "https://stackoverflow.com/users/5165306/ex-bart"}, "is_accepted": false, "score": 3, "last_activity_date": 1438191052, "creation_date": 1438191052, "answer_id": 31707294, "question_id": 31707166, "link": "https://stackoverflow.com/questions/31707166/a-multiple-equality-inequalityconditions-checking-in-if-statements/31707294#31707294", "title": "A multiple equality/inequalityconditions checking in if statements", "body": "<p>You have to write each condition individually and combine them using <code>&amp;&amp;</code> (logical and):</p>\n\n<pre><code>if(a==b &amp;&amp; b==c &amp;&amp; c!=d)\n{\n   // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5170443, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I1PEUJCvoi8/AAAAAAAAAAI/AAAAAAAAGL4/R--A-CP1dls/photo.jpg?sz=128", "display_name": "CaptainAwesome", "link": "https://stackoverflow.com/users/5170443/captainawesome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 0, "closed_date": 1438191984, "answer_count": 2, "score": 0, "last_activity_date": 1438191052, "creation_date": 1438190625, "question_id": 31707166, "link": "https://stackoverflow.com/questions/31707166/a-multiple-equality-inequalityconditions-checking-in-if-statements", "closed_reason": "Duplicate", "title": "A multiple equality/inequalityconditions checking in if statements", "body": "<p>I am a newbie to programming in C++ and I have a question regarding if conditions. We are currently learning C++ at school(Using TC, i know it's an old compiler,but yeah). I am currently making a tic-tac-toe program, an undefeatable one. Now, this is my problem. </p>\n\n<p>I want to check the equality of 3 variables, and run the if body only if the 3 variables are not equal to another variable.\nWhy is this set of code not working?</p>\n\n<pre><code>if(a==b==c!=d)\n{\n}\n</code></pre>\n\n<p>Adding parentheses doesn't help, I'm probably doing it wrong.(Please excuse my ignorance)</p>\n\n<pre><code>if((a==b==c)!=d)\n{\n}\n</code></pre>\n\n<p>Thanks in advance!\n-CaptainAwesome</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1438190544, "post_id": 31707113, "comment_id": 51352554, "body": "What happened when you tried?"}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 1, "creation_date": 1438190901, "post_id": 31707113, "comment_id": 51352777, "body": "Sure, either create it locally and return a copy, or create it dynamically and return a smart pointer"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1438190968, "post_id": 31707113, "comment_id": 51352807, "body": "Since it&#39;s homework: maybe use a pointer to a pointer."}, {"owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "edited": false, "score": 0, "creation_date": 1438191040, "post_id": 31707113, "comment_id": 51352849, "body": "I think I&#39;ve solved it."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1438191260, "post_id": 31707113, "comment_id": 51352973, "body": "I would suggest adding a public method to the <code>Boggle</code> class that you can call when needed to (re-)initialize it with either a <code>Lexicon</code> or a <code>string</code>. Then declare your <code>myBoggle</code> variable without specifying any constructor parameters, and call the init method with the desired input: <code>Boggle myBoggle; ... myBoggle.init(dictionary);</code> or <code>myBoggle.init(boardText);</code>. If you must use a constructor, you can use <code>myBoggle = Boggle(dictionary);</code> and <code>myBoggle = Boggle(boardText);</code>. Or use <code>new</code> to allocate <code>myBoggle</code>: <code>Boggle *myBoggle; ... myBoggle = new Boggle(dictionary); ... delete myBoggle;</code>"}, {"owner": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "edited": false, "score": 1, "creation_date": 1438191306, "post_id": 31707113, "comment_id": 51352995, "body": "@LeonloveKaren Then share you solution. It may be helpful to others."}], "answers": [{"comments": [{"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 0, "creation_date": 1438251859, "post_id": 31708999, "comment_id": 51378885, "body": "You could write simply <code>return Boggle(dictionary, &quot;&quot;);</code>. I believe that might also help the compiler optimize away the copy using the <a href=\"http://stackoverflow.com/questions/12953127/what-are-copy-elision-and-return-value-optimization\">return value optimization (RVO)</a>. Multiple return points with a named variable are one of the cases where a compiler may fail to elide the copy."}], "tags": [], "owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "is_accepted": false, "score": 1, "last_activity_date": 1438196515, "creation_date": 1438196515, "answer_id": 31708999, "question_id": 31707113, "link": "https://stackoverflow.com/questions/31707113/is-there-a-way-to-initialize-an-object-inside-of-a-function-and-then-use-it-outs/31708999#31708999", "title": "is there a way to initialize an object inside of a function and then use it outside the function?", "body": "<pre><code>void playOneGame(Lexicon&amp; dictionary) {\n// TODO: implement\nsetConsoleClearEnabled(true);\n\nBoggle myBoggle = setupBoard(dictionary);\n</code></pre>\n\n<p>}    </p>\n\n<pre><code>Boggle setupBoard (Lexicon&amp; dictionary) {\nif (getYesOrNo(\"Do you want to generate a random board?\")) {\n    Boggle myBoggle(dictionary, \"\");\n    return myBoggle;\n} else {\n    string boardText = getLine(\"Type the 16 letters to appear on the board:\");\n    //boardText = stripText(boardText);\n    while (boardText.length() != 16 || containsNonAlpha(boardText)) {\n        cout &lt;&lt; \"That is not a valid 16-letter board string. Try again.\" &lt;&lt; endl;\n        boardText = getLine(\"Type the 16 letters to appear on the board:\");\n    }\n    Boggle myBoggle(dictionary, boardText);\n    return  myBoggle;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here's the solution</p>\n"}], "owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1438196515, "creation_date": 1438190457, "question_id": 31707113, "link": "https://stackoverflow.com/questions/31707113/is-there-a-way-to-initialize-an-object-inside-of-a-function-and-then-use-it-outs", "title": "is there a way to initialize an object inside of a function and then use it outside the function?", "body": "<p>In one homework project I need to use an object, and its initialization controlled by if condition, so it seems a little complicated, thus I want to make the initialization process as a function. But is it possible for me to initialize this object inside a function and then use it outside?</p>\n\n<p>Here's the code snippet:</p>\n\n<pre><code>void playOneGame(Lexicon&amp; dictionary) {\n// TODO: implement\nsetConsoleClearEnabled(true);\n\n// initialize object: if yes, generate it randomly, else by human input\nif (getYesOrNo(\"Do you want to generate a random board?\")) {\n    // generate boggle randomly by using constructor\n    Boggle myBoggle(dictionary, \"\");\n} else {\n    string boardText = getLine(\"Type the 16 letters to appear on the board:\"); \n    //boardText = stripText(boardText);\n    while (boardText.length() != 16 || containsNonAlpha(boardText)) {\n        cout &lt;&lt; \"That is not a valid 16-letter board string. Try again.\" &lt;&lt; endl;\n        boardText = getLine(\"Type the 16 letters to appear on the board:\");\n    }  \n\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "audio", "directshow", "lync"], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 5086587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbba9c15ebc9c79c5e7179027df6ffab?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Zou", "link": "https://stackoverflow.com/users/5086587/aaron-zou"}, "edited": false, "score": 0, "creation_date": 1438192803, "post_id": 31707159, "comment_id": 51353850, "body": "Is it possible to emulate an audio endpoint device in WASAPI? What do you suggest is the best way to approach the problem?"}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "reply_to_user": {"reputation": 394, "user_id": 5086587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbba9c15ebc9c79c5e7179027df6ffab?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Zou", "link": "https://stackoverflow.com/users/5086587/aaron-zou"}, "edited": false, "score": 1, "creation_date": 1438192995, "post_id": 31707159, "comment_id": 51353979, "body": "There is no good (&quot;good&quot; in terms of easy and documented method for this sort of extensibility) way. One way is to hook API calls, WASAPI related, and inject your input/capture device/endpoint. Another is to implement a kernel mode device (see <a href=\"https://www.osronline.com/showthread.cfm?link=262539\" rel=\"nofollow noreferrer\">this</a>)."}, {"owner": {"reputation": 394, "user_id": 5086587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbba9c15ebc9c79c5e7179027df6ffab?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Zou", "link": "https://stackoverflow.com/users/5086587/aaron-zou"}, "edited": false, "score": 0, "creation_date": 1438193384, "post_id": 31707159, "comment_id": 51354218, "body": "I&#39;ll look into both approaches and research WASAPI in general. For the first, what is the design from a high-level view? Do I somehow intercept the WASAPI calls made by Lync?"}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "reply_to_user": {"reputation": 394, "user_id": 5086587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbba9c15ebc9c79c5e7179027df6ffab?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Zou", "link": "https://stackoverflow.com/users/5086587/aaron-zou"}, "edited": false, "score": 0, "creation_date": 1438196213, "post_id": 31707159, "comment_id": 51355897, "body": "My bet is that Lync does <code>CoCreateInstance</code> to access <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd316556\" rel=\"nofollow noreferrer\"><code>MMDeviceEnumerator</code></a> and then gets audio devices from there. Hooking there is the way to supply your virtual device. In the same time hooking is a &quot;last resort&quot; approach, which can only be sadly suggested when nothing else works out."}], "tags": [], "owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1438190603, "creation_date": 1438190603, "answer_id": 31707159, "question_id": 31706844, "link": "https://stackoverflow.com/questions/31706844/write-an-audio-source-filter-for-use-as-lync-microphone/31707159#31707159", "title": "Write an audio source filter for use as Lync microphone", "body": "<p>Lync (Skype for Business) does not use DirectShow for audio capture, so it does not see your virtual device and cannot pick it up. Presumably, it uses WASAPI. Virtual Audio Cable presumably implements a kernel level driver for audio device, which WASAPI picks up and exposes via user mode API. There is no way to connect your virtual audio source to application that does not use DirectShow for audio capture.</p>\n"}], "owner": {"reputation": 394, "user_id": 5086587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbba9c15ebc9c79c5e7179027df6ffab?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Zou", "link": "https://stackoverflow.com/users/5086587/aaron-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 31707159, "answer_count": 1, "score": 2, "last_activity_date": 1438190603, "creation_date": 1438189565, "question_id": 31706844, "link": "https://stackoverflow.com/questions/31706844/write-an-audio-source-filter-for-use-as-lync-microphone", "title": "Write an audio source filter for use as Lync microphone", "body": "<p>I'm trying to write a DirectShow Audio Capture Filter that can be recognized by the Microsoft Lync client as a <code>Microphone</code> source. These are the steps I've already taken:</p>\n\n<ol>\n<li><p>Filter derives from <code>CSource</code>; its output pin derives from <code>CSourceStream</code> and implements <code>IKsPropertySet</code> and <code>IAMStreamConfig</code> and all necessary methods (inc. <code>IUnknown</code> methods)</p></li>\n<li><p>Ensure that the appropriate metadata for the <code>AM_MEDIA_TYPE</code> and its <code>WAVEFORMATEX</code> header are set in <code>GetStreamCaps()</code> and <code>GetMediaType()</code></p></li>\n<li><p>In <code>fillBuffer()</code>, each media sample is filled with a sine wave test sequence</p></li>\n<li><p>Created the class factory for the COM server and exported DLL functions in a <code>.def</code> file, registering the filter under <code>CLSID_AudioInputDeviceCategory</code>.</p></li>\n</ol>\n\n<p>After registering my filter using <code>regsvr32</code>, everything currently works in GraphEdit: the filter displays under Audio Capture Devices, and the tone plays correctly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kFsuk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kFsuk.png\" alt=\"GraphEdit.exe demonstration\"></a></p>\n\n<hr>\n\n<p>However, I get different results in \"real\" programs. In Picasa's webcam  tester, for example, the filter displays as an audio source but switching to it crashes the program. </p>\n\n<p>In all versions of the Lync client, the filter doesn't display at all as a <code>Microphone</code> choice under <code>Audio Device -&gt; Microphone</code>. I've read in the <a href=\"https://msdn.microsoft.com/en-us/library/office/microsoft.lync.model.device.devicemanager.audiodevices_di_3_uc_ocs14mreflyncclnt.aspx\" rel=\"nofollow noreferrer\">Lync documentation</a> that only virtual audio devices with a physical speaker and microphone are returned.</p>\n\n<p>After looking around some more, it seems that <a href=\"http://software.muzychenko.net/eng/vac.htm\" rel=\"nofollow noreferrer\">Virtual Audio Cable</a> produces the desired effect of being recognized by the system, as shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LBoBL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBoBL.png\" alt=\"Lync VAC demo\"></a></p>\n\n<hr>\n\n<p>I require the flexibility of writing my own solution code-wise, which has the added benefit of not needing to purchase a license.</p>\n\n<p><strong>Do I need to switch to Windows Media Foundation, support additional interfaces in my filter, couple the source filter with a hardware speaker source, etc.?</strong></p>\n\n<p><strong>What steps do I need to take to make my filter appear as a <code>Microphone</code> source?</strong></p>\n"}, {"tags": ["c++", "c", "linux", "gcc", "gnu"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438190109, "post_id": 31706822, "comment_id": 51352294, "body": "Use a different <code>--prefix</code> option to specify a path into your home directory when calling <code>configure</code>, or execute with root permissions. Obviously you don&#39;t have writing rights for <code>&#47;usr&#47;bin</code>, <code>&#47;usr&#47;lib</code>, etc."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1438190191, "post_id": 31706822, "comment_id": 51352336, "body": "<code>which ld</code> if the previous doesn&#39;t help."}, {"owner": {"reputation": 520, "user_id": 439274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8a29af9c57ed8f88ba942ee3a17ff6e?s=128&d=identicon&r=PG", "display_name": "Jerunh", "link": "https://stackoverflow.com/users/439274/jerunh"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438190386, "post_id": 31706822, "comment_id": 51352460, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 I am attempting to install in my local home directory ($HOME/) where I do have write permission."}, {"owner": {"reputation": 520, "user_id": 439274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8a29af9c57ed8f88ba942ee3a17ff6e?s=128&d=identicon&r=PG", "display_name": "Jerunh", "link": "https://stackoverflow.com/users/439274/jerunh"}, "reply_to_user": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1438190428, "post_id": 31706822, "comment_id": 51352484, "body": "@eugeneSh. I have updated the question with some info about my tools."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 2, "creation_date": 1438190447, "post_id": 31706822, "comment_id": 51352493, "body": "Do you have the target directory created? ($HOME/usr/local)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1438191069, "post_id": 31706822, "comment_id": 51352875, "body": "It should work giving the <code>--prefix</code> option. Worked at least for me to build <a href=\"http://dev-jungle.blogspot.de/search?updated-min=2013-01-01T00:00:00%2B01:00&amp;updated-max=2014-01-01T00:00:00%2B01:00&amp;max-results=1\" rel=\"nofollow noreferrer\">cross GCC toolchain</a>, see step 5 there."}, {"owner": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 0, "creation_date": 1438191115, "post_id": 31706822, "comment_id": 51352895, "body": "Hint for reading config.log: The &quot;juicy&quot; bit is usually just above &quot;Cache variables&quot; (log of the last commands executed, and their error messages). In this case: <code>gcc: error trying to exec &#39;cc1&#39;: execvp: No such file or directory</code>"}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1438335229, "post_id": 31706822, "comment_id": 51419311, "body": "Sorry, but the <code>--prefix</code> directory is neede in <code>make install</code>, not at <code>configure</code> time."}], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 439274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8a29af9c57ed8f88ba942ee3a17ff6e?s=128&d=identicon&r=PG", "display_name": "Jerunh", "link": "https://stackoverflow.com/users/439274/jerunh"}, "edited": false, "score": 0, "creation_date": 1438195788, "post_id": 31707260, "comment_id": 51355653, "body": "&#39;First, it is documented that GCC should not be built inside its source tree:&#39; This solved my problem. I overlooked this while reading the docs. Thanks for all the other advice as well."}], "tags": [], "owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "is_accepted": true, "score": 2, "last_activity_date": 1438195980, "last_edit_date": 1438195980, "creation_date": 1438190953, "answer_id": 31707260, "question_id": 31706822, "link": "https://stackoverflow.com/questions/31706822/building-gcc-5-2-0-from-source-configure-error-c-compiler-cannot-create-execu/31707260#31707260", "title": "building gcc 5.2.0 from source: configure: error: C compiler cannot create executables", "body": "<p>First, it is <a href=\"https://gcc.gnu.org/install/configure.html\" rel=\"nofollow\">documented</a> that GCC should not be built inside its source tree: </p>\n\n<blockquote>\n  <p>First, we highly recommend that GCC be built into a separate directory from the sources which does not reside within the source tree. </p>\n</blockquote>\n\n<p>Then you need to be sure that the prefix tree exists. I believe that your choice <code>$HOME/usr/local/</code> is a poor one (it is confusing). I suggest using <code>$HOME/soft/</code> instead.</p>\n\n<p>If you have a Debian or similar distribution, be sure to <code>aptitude install build-dep gcc g++</code> before configuring (You might need some <code>deb-src</code> line in your <code>/etc/apt/sources.list</code> file). This will download all the software required to <em>build</em> <a href=\"http://gcc.gnu.org/\" rel=\"nofollow\">GCC</a>. Don't forget to <code>aptitude install gcc g++ build-essential</code> in all cases (to have a working <code>gcc</code> &amp; <code>g++</code> system compilers). On SUSE, try to find the equivalent packages and commands: <a href=\"http://software.opensuse.org/package/gcc-c++\" rel=\"nofollow\">gcc-c++</a> package, <a href=\"https://en.opensuse.org/openSUSE:Build_Service_Tutorial\" rel=\"nofollow\">build service</a>.</p>\n\n<p>So I suggest to start again. Use</p>\n\n<pre><code>mkdir -p -$HOME/tmp/softbuilds\nmkdir -p $HOME/soft/\ncd $HOME/tmp/\n## the following URL is not the best one, choose carefully the server\nwget http://open-source-box.org/gcc/gcc-5.2.0/gcc-5.2.0.tar.bz2\ncd softbuilds\ntar xvf ../gcc-5.2.0.tar.bz2\nmkdir _GCC-5.2_Build\ncd _GCC-5.2_Build\n../gcc-5.2.0/configure --help\n## you could add some other configure options here:\n../gcc-5.2.0/configure --prefix=$HOME/soft --program-suffix=-mine \\\n      --enable-plugins --enable-languages=c,c++,jit,lto,go  \\\n      --enable-check=release --enable-host-shared\n</code></pre>\n\n<p>If the configuration step succeeded, you compile the thing with</p>\n\n<pre><code>make -j 3\n</code></pre>\n\n<p>Then (perhaps a few hours later) install it with:</p>\n\n<pre><code>make #to be sure all went ok\nmake install\n</code></pre>\n\n<p>Then add <code>$HOME/soft/bin/</code> to your <a href=\"https://en.wikipedia.org/wiki/PATH_%28variable%29\" rel=\"nofollow\"><code>PATH</code></a> (e.g. by editing <code>.bashrc</code> ...) and use <code>gcc-mine</code> as your compiler (e.g. <code>make CC=gcc-mine</code>)</p>\n\n<p>If you want to always use <em>your</em> GCC, and if <code>$HOME/bin/</code> is <em>early</em> in your <code>$PATH</code>, you might make symlinks from <code>$HOME/soft/bin/gcc-mine</code> to <code>$HOME/bin/gcc</code> (and likewise for <code>g++-mine</code> ...).</p>\n\n<p>BTW, you could later install the <a href=\"http://gcc-melt.org/\" rel=\"nofollow\">MELT</a> meta-plugin for your GCC. I have <a href=\"https://gcc.gnu.org/ml/gcc/2015-07/msg00232.html\" rel=\"nofollow\">released</a> MELT 1.2.0 for GCC 4.9 &amp; 5.x a few days ago (end of july 2015).</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": false, "score": 2, "last_activity_date": 1438192914, "creation_date": 1438192914, "answer_id": 31707885, "question_id": 31706822, "link": "https://stackoverflow.com/questions/31706822/building-gcc-5-2-0-from-source-configure-error-c-compiler-cannot-create-execu/31707885#31707885", "title": "building gcc 5.2.0 from source: configure: error: C compiler cannot create executables", "body": "<blockquote>\n<pre>\nconfigure:4370: checking for C compiler default output file name\nconfigure:4392: gcc    conftest.c  >&5\ngcc: error trying to exec 'cc1': execvp: No such file or directory\n</pre>\n</blockquote>\n\n<p>This indicates that your host compiler isn't working. Make sure it works before attempting to configure other software.</p>\n\n<p>Whether it's caused by a missing package on your system, some environment variable you set that messes with the way GCC works, or perhaps even some local filesystem corruption, you'll see the same problem just compiling a simple \"Hello, world!\" program from the command line.</p>\n\n<p>Fix that first, and <em>only</em> then start trying to build larger software packages.</p>\n"}], "owner": {"reputation": 520, "user_id": 439274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8a29af9c57ed8f88ba942ee3a17ff6e?s=128&d=identicon&r=PG", "display_name": "Jerunh", "link": "https://stackoverflow.com/users/439274/jerunh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6891, "favorite_count": 1, "accepted_answer_id": 31707260, "answer_count": 2, "score": 1, "last_activity_date": 1438195980, "creation_date": 1438189487, "last_edit_date": 1438190335, "question_id": 31706822, "link": "https://stackoverflow.com/questions/31706822/building-gcc-5-2-0-from-source-configure-error-c-compiler-cannot-create-execu", "title": "building gcc 5.2.0 from source: configure: error: C compiler cannot create executables", "body": "<p>I am trying to build gcc 5.2.0 from source in my local $HOME directory and I get the following errors:</p>\n\n<pre><code>gcc-gcc_5_2_0_release&gt; ./configure --prefix=$HOME/usr/local\n\nchecking build system type... x86_64-unknown-linux-gnu\nchecking host system type... x86_64-unknown-linux-gnu\nchecking target system type... x86_64-unknown-linux-gnu\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether ln works... yes\nchecking whether ln -s works... yes\nchecking for a sed that does not truncate output... /usr/bin/sed\nchecking for gawk... gawk\nchecking for libatomic support... yes\nchecking for libcilkrts support... yes\nchecking for libitm support... yes\nchecking for libsanitizer support... yes\nchecking for libvtv support... yes\nchecking for gcc... gcc\nchecking for C compiler default output file name...\nconfigure: error: in `/home/s31941/tmp/gcc-gcc_5_2_0_release':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details.\n</code></pre>\n\n<p>here is a copy of the <code>config.log</code></p>\n\n<pre><code>This file contains any messages produced by compilers while\nrunning configure, to aid debugging if configure makes a mistake.\n\nIt was created by configure, which was\ngenerated by GNU Autoconf 2.64.  Invocation command line was\n\n  $ ./configure --prefix=/home/username/usr/local\n\n## --------- ##\n## Platform. ##\n## --------- ##\n\nhostname = fmsserv\nuname -m = x86_64\nuname -r = 3.0.101-0.46-default\nuname -s = Linux\nuname -v = #1 SMP Wed Dec 17 11:04:10 UTC 2014 (8356111)\n\n/usr/bin/uname -p = unknown\n/bin/uname -X     = unknown\n\n/bin/arch              = x86_64\n/usr/bin/arch -k       = unknown\n/usr/convex/getsysinfo = unknown\n/usr/bin/hostinfo      = unknown\n/bin/machine           = unknown\n/usr/bin/oslevel       = unknown\n/bin/universe          = unknown\n\nPATH: /home/username/usr/local/bin\nPATH: /home/username/tools/git/bin\nPATH: /home/username/tools/java/jre1.8.0_40/bin\nPATH: /home/username/tools/eclipse\nPATH: .\nPATH: /usr/NX/bin\nPATH: /usr/lib64/mpi/gcc/openmpi/bin\nPATH: /home/username/bin\nPATH: /usr/local/bin\nPATH: /usr/bin\nPATH: /bin\nPATH: /usr/bin/X11\nPATH: /usr/X11R6/bin\nPATH: /usr/games\nPATH: /opt/kde3/bin\nPATH: /usr/lib/mit/bin\nPATH: /usr/lib/mit/sbin\nPATH: /opt/gnome/bin\nPATH: /usr/lib/qt3/bin\nPATH: /home/fms/bin\nPATH: /usr/gnat/bin\nPATH: .\n\n\n## ----------- ##\n## Core tests. ##\n## ----------- ##\n\nconfigure:2292: checking build system type\nconfigure:2306: result: x86_64-unknown-linux-gnu\nconfigure:2353: checking host system type\nconfigure:2366: result: x86_64-unknown-linux-gnu\nconfigure:2386: checking target system type\nconfigure:2399: result: x86_64-unknown-linux-gnu\nconfigure:2453: checking for a BSD-compatible install\nconfigure:2521: result: /usr/bin/install -c\nconfigure:2532: checking whether ln works\nconfigure:2554: result: yes\nconfigure:2558: checking whether ln -s works\nconfigure:2562: result: yes\nconfigure:2569: checking for a sed that does not truncate output\nconfigure:2633: result: /usr/bin/sed\nconfigure:2642: checking for gawk\nconfigure:2658: found /usr/bin/gawk\nconfigure:2669: result: gawk\nconfigure:3183: checking for libatomic support\nconfigure:3193: result: yes\nconfigure:3202: checking for libcilkrts support\nconfigure:3212: result: yes\nconfigure:3240: checking for libitm support\nconfigure:3250: result: yes\nconfigure:3259: checking for libsanitizer support\nconfigure:3269: result: yes\nconfigure:3278: checking for libvtv support\nconfigure:3288: result: yes\nconfigure:4074: checking for gcc\nconfigure:4090: found /usr/bin/gcc\nconfigure:4101: result: gcc\nconfigure:4330: checking for C compiler version\nconfigure:4339: gcc --version &gt;&amp;5\ngcc (SUSE Linux) 4.3.4 [gcc-4_3-branch revision 152973]\nCopyright (C) 2008 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nconfigure:4350: $? = 0\nconfigure:4339: gcc -v &gt;&amp;5\nUsing built-in specs.\nTarget: x86_64-suse-linux\nConfigured with: ../configure --prefix=/usr --infodir=/usr/share/info --mandir=/usr/share/man --libdir=/usr/lib64 --libexecdir=/usr/lib64 --enable-languages=c,c++,objc,fortran,obj-c++,java,ada --enable-checking=release --with-gxx-include-dir=/usr/include/c++/4.3 --enable-ssp --disable-libssp --with-bugurl=http://bugs.opensuse.org/ --with-pkgversion='SUSE Linux' --disable-libgcj --disable-libmudflap --with-slibdir=/lib64 --with-system-zlib --enable-__cxa_atexit --enable-libstdcxx-allocator=new --disable-libstdcxx-pch --enable-version-specific-runtime-libs --program-suffix=-4.3 --enable-linux-futex --without-system-libunwind --with-cpu=generic --build=x86_64-suse-linux\nThread model: posix\ngcc version 4.3.4 [gcc-4_3-branch revision 152973] (SUSE Linux) \nconfigure:4350: $? = 0\nconfigure:4339: gcc -V &gt;&amp;5\ngcc: '-V' option must have argument\nconfigure:4350: $? = 1\nconfigure:4339: gcc -qversion &gt;&amp;5\ngcc: unrecognized option '-qversion'\ngcc: no input files\nconfigure:4350: $? = 1\nconfigure:4370: checking for C compiler default output file name\nconfigure:4392: gcc    conftest.c  &gt;&amp;5\ngcc: error trying to exec 'cc1': execvp: No such file or directory\nconfigure:4396: $? = 1\nconfigure:4433: result: \nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"\"\n| #define PACKAGE_TARNAME \"\"\n| #define PACKAGE_VERSION \"\"\n| #define PACKAGE_STRING \"\"\n| #define PACKAGE_BUGREPORT \"\"\n| #define PACKAGE_URL \"\"\n| /* end confdefs.h.  */\n| \n| int\n| main ()\n| {\n| \n|   ;\n|   return 0;\n| }\nconfigure:4439: error: in `/home/username/tmp/gcc-gcc_5_2_0_release':\nconfigure:4443: error: C compiler cannot create executables\nSee `config.log' for more details.\n\n## ---------------- ##\n## Cache variables. ##\n## ---------------- ##\n\nac_cv_build=x86_64-unknown-linux-gnu\nac_cv_env_AR_FOR_TARGET_set=\nac_cv_env_AR_FOR_TARGET_value=\nac_cv_env_AR_set=\nac_cv_env_AR_value=\nac_cv_env_AS_FOR_TARGET_set=\nac_cv_env_AS_FOR_TARGET_value=\nac_cv_env_AS_set=\nac_cv_env_AS_value=\nac_cv_env_CCC_set=\nac_cv_env_CCC_value=\nac_cv_env_CC_FOR_TARGET_set=\nac_cv_env_CC_FOR_TARGET_value=\nac_cv_env_CC_set=\nac_cv_env_CC_value=\nac_cv_env_CFLAGS_set=\nac_cv_env_CFLAGS_value=\nac_cv_env_CPPFLAGS_set=\nac_cv_env_CPPFLAGS_value=\nac_cv_env_CXXFLAGS_set=\nac_cv_env_CXXFLAGS_value=\nac_cv_env_CXX_FOR_TARGET_set=\nac_cv_env_CXX_FOR_TARGET_value=\nac_cv_env_CXX_set=\nac_cv_env_CXX_value=\nac_cv_env_DLLTOOL_FOR_TARGET_set=\nac_cv_env_DLLTOOL_FOR_TARGET_value=\nac_cv_env_DLLTOOL_set=\nac_cv_env_DLLTOOL_value=\nac_cv_env_GCC_FOR_TARGET_set=\nac_cv_env_GCC_FOR_TARGET_value=\nac_cv_env_GCJ_FOR_TARGET_set=\nac_cv_env_GCJ_FOR_TARGET_value=\nac_cv_env_GFORTRAN_FOR_TARGET_set=\nac_cv_env_GFORTRAN_FOR_TARGET_value=\nac_cv_env_GOC_FOR_TARGET_set=\nac_cv_env_GOC_FOR_TARGET_value=\nac_cv_env_LDFLAGS_set=\nac_cv_env_LDFLAGS_value=\nac_cv_env_LD_FOR_TARGET_set=\nac_cv_env_LD_FOR_TARGET_value=\nac_cv_env_LD_set=\nac_cv_env_LD_value=\nac_cv_env_LIBS_set=\nac_cv_env_LIBS_value=\nac_cv_env_LIPO_FOR_TARGET_set=\nac_cv_env_LIPO_FOR_TARGET_value=\nac_cv_env_LIPO_set=\nac_cv_env_LIPO_value=\nac_cv_env_NM_FOR_TARGET_set=\nac_cv_env_NM_FOR_TARGET_value=\nac_cv_env_NM_set=\nac_cv_env_NM_value=\nac_cv_env_OBJCOPY_FOR_TARGET_set=\nac_cv_env_OBJCOPY_FOR_TARGET_value=\nac_cv_env_OBJCOPY_set=\nac_cv_env_OBJCOPY_value=\nac_cv_env_OBJDUMP_FOR_TARGET_set=\nac_cv_env_OBJDUMP_FOR_TARGET_value=\nac_cv_env_OBJDUMP_set=\nac_cv_env_OBJDUMP_value=\nac_cv_env_RANLIB_FOR_TARGET_set=\nac_cv_env_RANLIB_FOR_TARGET_value=\nac_cv_env_RANLIB_set=\nac_cv_env_RANLIB_value=\nac_cv_env_READELF_FOR_TARGET_set=\nac_cv_env_READELF_FOR_TARGET_value=\nac_cv_env_READELF_set=\nac_cv_env_READELF_value=\nac_cv_env_STRIP_FOR_TARGET_set=\nac_cv_env_STRIP_FOR_TARGET_value=\nac_cv_env_STRIP_set=\nac_cv_env_STRIP_value=\nac_cv_env_WINDMC_FOR_TARGET_set=\nac_cv_env_WINDMC_FOR_TARGET_value=\nac_cv_env_WINDMC_set=\nac_cv_env_WINDMC_value=\nac_cv_env_WINDRES_FOR_TARGET_set=\nac_cv_env_WINDRES_FOR_TARGET_value=\nac_cv_env_WINDRES_set=\nac_cv_env_WINDRES_value=\nac_cv_env_build_alias_set=\nac_cv_env_build_alias_value=\nac_cv_env_build_configargs_set=\nac_cv_env_build_configargs_value=\nac_cv_env_host_alias_set=\nac_cv_env_host_alias_value=\nac_cv_env_host_configargs_set=\nac_cv_env_host_configargs_value=\nac_cv_env_target_alias_set=\nac_cv_env_target_alias_value=\nac_cv_env_target_configargs_set=\nac_cv_env_target_configargs_value=\nac_cv_host=x86_64-unknown-linux-gnu\nac_cv_path_SED=/usr/bin/sed\nac_cv_path_install='/usr/bin/install -c'\nac_cv_prog_AWK=gawk\nac_cv_prog_ac_ct_CC=gcc\nac_cv_target=x86_64-unknown-linux-gnu\nacx_cv_prog_LN=ln\n\n## ----------------- ##\n## Output variables. ##\n## ----------------- ##\n\nAR=''\nAR_FOR_BUILD='$(AR)'\nAR_FOR_TARGET=''\nAS=''\nAS_FOR_BUILD='$(AS)'\nAS_FOR_TARGET=''\nAWK='gawk'\nBISON=''\nBUILD_CONFIG=''\nCC='gcc'\nCC_FOR_BUILD='$(CC)'\nCC_FOR_TARGET=''\nCFLAGS=''\nCFLAGS_FOR_BUILD=''\nCFLAGS_FOR_TARGET=''\nCOMPILER_AS_FOR_TARGET=''\nCOMPILER_LD_FOR_TARGET=''\nCOMPILER_NM_FOR_TARGET=''\nCONFIGURE_GDB_TK=''\nCPPFLAGS=''\nCXX=''\nCXXFLAGS=''\nCXXFLAGS_FOR_BUILD=''\nCXXFLAGS_FOR_TARGET=''\nCXX_FOR_BUILD='$(CXX)'\nCXX_FOR_TARGET=''\nDEBUG_PREFIX_CFLAGS_FOR_TARGET=''\nDEFS=''\nDLLTOOL=''\nDLLTOOL_FOR_BUILD='$(DLLTOOL)'\nDLLTOOL_FOR_TARGET=''\nECHO_C=''\nECHO_N='-n'\nECHO_T=''\nEXEEXT=''\nEXPECT=''\nEXTRA_CONFIGARGS_LIBJAVA='--disable-static'\nFLAGS_FOR_TARGET=''\nFLEX=''\nGCC_FOR_TARGET=''\nGCC_SHLIB_SUBDIR=''\nGCJ_FOR_BUILD='$(GCJ)'\nGCJ_FOR_TARGET=''\nGDB_TK=''\nGFORTRAN_FOR_BUILD='$(GFORTRAN)'\nGFORTRAN_FOR_TARGET=''\nGNATBIND=''\nGNATMAKE=''\nGOC_FOR_BUILD='$(GOC)'\nGOC_FOR_TARGET=''\nINSTALL_DATA='${INSTALL} -m 644'\nINSTALL_GDB_TK=''\nINSTALL_PROGRAM='${INSTALL}'\nINSTALL_SCRIPT='${INSTALL}'\nLD=''\nLDFLAGS=''\nLDFLAGS_FOR_BUILD=''\nLDFLAGS_FOR_TARGET=''\nLD_FOR_BUILD='$(LD)'\nLD_FOR_TARGET=''\nLEX=''\nLIBOBJS=''\nLIBS=''\nLIPO=''\nLIPO_FOR_TARGET=''\nLN='ln'\nLN_S='ln -s'\nLTLIBOBJS=''\nM4=''\nMAINT=''\nMAINTAINER_MODE_FALSE=''\nMAINTAINER_MODE_TRUE=''\nMAKEINFO=''\nNM=''\nNM_FOR_BUILD='$(NM)'\nNM_FOR_TARGET=''\nOBJCOPY=''\nOBJCOPY_FOR_TARGET=''\nOBJDUMP=''\nOBJDUMP_FOR_TARGET=''\nOBJEXT=''\nPACKAGE_BUGREPORT=''\nPACKAGE_NAME=''\nPACKAGE_STRING=''\nPACKAGE_TARNAME=''\nPACKAGE_URL=''\nPACKAGE_VERSION=''\nPATH_SEPARATOR=':'\nRANLIB=''\nRANLIB_FOR_BUILD='$(RANLIB)'\nRANLIB_FOR_TARGET=''\nRAW_CXX_FOR_TARGET=''\nREADELF=''\nREADELF_FOR_TARGET=''\nRPATH_ENVVAR=''\nRUNTEST=''\nSED='/usr/bin/sed'\nSHELL='/bin/sh'\nSTRIP=''\nSTRIP_FOR_TARGET=''\nSYSROOT_CFLAGS_FOR_TARGET=''\nTOPLEVEL_CONFIGURE_ARGUMENTS='./configure --prefix=/home/username/usr/local'\nWINDMC=''\nWINDMC_FOR_BUILD='$(WINDMC)'\nWINDMC_FOR_TARGET=''\nWINDRES=''\nWINDRES_FOR_BUILD='$(WINDRES)'\nWINDRES_FOR_TARGET=''\nYACC=''\nac_ct_CC='gcc'\nac_ct_CXX=''\nbindir='${exec_prefix}/bin'\nbuild='x86_64-unknown-linux-gnu'\nbuild_alias=''\nbuild_configargs=''\nbuild_configdirs='build-libiberty build-libcpp build-texinfo build-flex build-bison build-m4 build-fixincludes'\nbuild_cpu='x86_64'\nbuild_libsubdir='build-x86_64-unknown-linux-gnu'\nbuild_noncanonical='x86_64-unknown-linux-gnu'\nbuild_os='linux-gnu'\nbuild_subdir='build-x86_64-unknown-linux-gnu'\nbuild_tooldir=''\nbuild_vendor='unknown'\ncompare_exclusions=''\nconfigdirs='intl libiberty opcodes bfd readline tcl tk itcl libgui zlib libbacktrace libcpp libdecnumber gmp mpfr mpc isl libelf libiconv texinfo flex bison binutils gas ld fixincludes gcc cgen sid sim gdb gprof etc expect dejagnu m4 utils guile fastjar gnattools libcc1 gotools'\ndatadir='${datarootdir}'\ndatarootdir='${prefix}/share'\ndo_compare=''\ndocdir='${datarootdir}/doc/${PACKAGE}'\ndvidir='${docdir}'\nexec_prefix='NONE'\nextra_host_libiberty_configure_flags=''\nextra_isl_gmp_configure_flags=''\nextra_liboffloadmic_configure_flags=''\nextra_linker_plugin_configure_flags=''\nextra_linker_plugin_flags=''\nextra_mpc_gmp_configure_flags=''\nextra_mpc_mpfr_configure_flags=''\nextra_mpfr_configure_flags=''\ngmpinc=''\ngmplibs=''\nhost='x86_64-unknown-linux-gnu'\nhost_alias=''\nhost_configargs=''\nhost_cpu='x86_64'\nhost_noncanonical='x86_64-unknown-linux-gnu'\nhost_os='linux-gnu'\nhost_shared=''\nhost_subdir='host-x86_64-unknown-linux-gnu'\nhost_vendor='unknown'\nhtmldir='${docdir}'\nincludedir='${prefix}/include'\ninfodir='${datarootdir}/info'\nislinc=''\nisllibs=''\nlibdir='${exec_prefix}/lib'\nlibexecdir='${exec_prefix}/libexec'\nlocaledir='${datarootdir}/locale'\nlocalstatedir='${prefix}/var'\nmandir='${datarootdir}/man'\noldincludedir='/usr/include'\npdfdir='${docdir}'\npoststage1_ldflags=''\npoststage1_libs=''\nprefix='/home/username/usr/local'\nprogram_transform_name='s,y,y,'\npsdir='${docdir}'\nsbindir='${exec_prefix}/sbin'\nsharedstatedir='${prefix}/com'\nstage1_cflags=''\nstage1_checking=''\nstage1_languages=''\nstage1_ldflags=''\nstage1_libs=''\nstage2_werror_flag=''\nsysconfdir='${prefix}/etc'\ntarget='x86_64-unknown-linux-gnu'\ntarget_alias=''\ntarget_configargs=''\ntarget_configdirs='target-libgcc target-libbacktrace target-libgloss target-newlib target-libgomp target-libcilkrts target-liboffloadmic target-libatomic target-libitm target-libstdc++-v3 target-libsanitizer target-libvtv target-libmpx target-libssp target-libquadmath target-libgfortran target-boehm-gc target-libffi target-zlib target-libjava target-libobjc target-libada target-libgo target-rda'\ntarget_cpu='x86_64'\ntarget_noncanonical='x86_64-unknown-linux-gnu'\ntarget_os='linux-gnu'\ntarget_subdir='x86_64-unknown-linux-gnu'\ntarget_vendor='unknown'\ntooldir=''\n\n## ------------------- ##\n## File substitutions. ##\n## ------------------- ##\n\nalphaieee_frag=''\nhost_makefile_frag='/dev/null'\nospace_frag=''\nserialization_dependencies=''\ntarget_makefile_frag=''\n\n## ----------- ##\n## confdefs.h. ##\n## ----------- ##\n\n/* confdefs.h */\n#define PACKAGE_NAME \"\"\n#define PACKAGE_TARNAME \"\"\n#define PACKAGE_VERSION \"\"\n#define PACKAGE_STRING \"\"\n#define PACKAGE_BUGREPORT \"\"\n#define PACKAGE_URL \"\"\n\nconfigure: exit 77\n</code></pre>\n\n<p>Any help determining whats wrong would be greatly appreciated.</p>\n\n<pre><code>gcc-gcc_5_2_0_release&gt; which ld\n/usr/bin/ld\n\ngcc-gcc_5_2_0_release&gt; which gcc\n/usr/bin/gcc\n\ngcc-gcc_5_2_0_release&gt; ld --version\nGNU ld (GNU Binutils; SUSE Linux Enterprise 11) 2.23.1\nCopyright 2012 Free Software Foundation, Inc.\nThis program is free software; you may redistribute it under the terms of\nthe GNU General Public License version 3 or (at your option) a later version.\nThis program has absolutely no warranty.\n\ngcc-gcc_5_2_0_release&gt; gcc --version\ngcc (SUSE Linux) 4.3.4 [gcc-4_3-branch revision 152973]\nCopyright (C) 2008 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n"}, {"tags": ["c++", "opencv", "image-processing", "svm", "detection"], "comments": [{"owner": {"reputation": 30809, "user_id": 1375695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df08e9e25d8fa6007a35d9c906864516?s=128&d=identicon&r=PG", "display_name": "foundry", "link": "https://stackoverflow.com/users/1375695/foundry"}, "edited": false, "score": 0, "creation_date": 1438192962, "post_id": 31706560, "comment_id": 51353960, "body": "Your code seems incomplete - as you have linked to your training data, it would be nice to have code we can run. can you post the whole file showing what libraries you are using. Where are you getting <code>LinearSVM</code> from? Also your image resizing code. Can you check the google drive, `&quot;testimage.bmp&quot; is not included (other test images are)."}, {"owner": {"reputation": 25, "user_id": 1739118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f413cfbc3ddde14919cfc414af5e0d36?s=128&d=identicon&r=PG", "display_name": "Muhammad Abdul Haseeb", "link": "https://stackoverflow.com/users/1739118/muhammad-abdul-haseeb"}, "reply_to_user": {"reputation": 30809, "user_id": 1375695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df08e9e25d8fa6007a35d9c906864516?s=128&d=identicon&r=PG", "display_name": "foundry", "link": "https://stackoverflow.com/users/1375695/foundry"}, "edited": false, "score": 0, "creation_date": 1438205991, "post_id": 31706560, "comment_id": 51361225, "body": "@foundry I am using opencv function for resize the image and for testimage.bmp please check the google drive again..  I can&#39;t post the whole code here but this is somehow the complete code. I don&#39;t have any compiler or runtime error. the problem is I am doing something wrong maybe in SVM training or HOG, that&#39;s why the object found vector size is always zero."}, {"owner": {"reputation": 30809, "user_id": 1375695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df08e9e25d8fa6007a35d9c906864516?s=128&d=identicon&r=PG", "display_name": "foundry", "link": "https://stackoverflow.com/users/1375695/foundry"}, "edited": false, "score": 0, "creation_date": 1438206825, "post_id": 31706560, "comment_id": 51361596, "body": "Yes I can see the testImage now. However  you are still missing some essential information. What is this type <code>LinearSVM</code>? I cannot find it anywhere in the openCV documentation, either for v3 or v2.x. Is it <a href=\"http://www.linearsvm.com/\" rel=\"nofollow noreferrer\">this</a>? Is it some custom class you have made? This code really isn&#39;t complete, it is not even a complete function. For this kind of problem, it really helps if you can provide running (albeit broken) code so we can explore the breakage."}, {"owner": {"reputation": 25, "user_id": 1739118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f413cfbc3ddde14919cfc414af5e0d36?s=128&d=identicon&r=PG", "display_name": "Muhammad Abdul Haseeb", "link": "https://stackoverflow.com/users/1739118/muhammad-abdul-haseeb"}, "reply_to_user": {"reputation": 30809, "user_id": 1375695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df08e9e25d8fa6007a35d9c906864516?s=128&d=identicon&r=PG", "display_name": "foundry", "link": "https://stackoverflow.com/users/1375695/foundry"}, "edited": false, "score": 0, "creation_date": 1438268150, "post_id": 31706560, "comment_id": 51390362, "body": "yes you&#39;re right. sorry I forget to post the LInear SVM class. I have edit the post please check the post again. I used this to extract primal form. I hope now my code is understandable."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 1739118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f413cfbc3ddde14919cfc414af5e0d36?s=128&d=identicon&r=PG", "display_name": "Muhammad Abdul Haseeb", "link": "https://stackoverflow.com/users/1739118/muhammad-abdul-haseeb"}, "edited": false, "score": 0, "creation_date": 1438296539, "post_id": 31733021, "comment_id": 51405957, "body": "Thanks you so much for your all consideration... I have tried your code and FIXED the issues which you have mentioned and my classifier vector is not empty It contains 901 elements same as generated by your code. May be this issue is because of to SVM parameters. I have studied in detail about the support vector and how to use it in HOG but no results yet.. still getting no found objects :( but again thanks a lot @foundry. I will update you if I find some solution."}], "tags": [], "owner": {"reputation": 30809, "user_id": 1375695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/df08e9e25d8fa6007a35d9c906864516?s=128&d=identicon&r=PG", "display_name": "foundry", "link": "https://stackoverflow.com/users/1375695/foundry"}, "is_accepted": false, "score": 1, "last_activity_date": 1438286662, "creation_date": 1438286662, "answer_id": 31733021, "question_id": 31706560, "link": "https://stackoverflow.com/questions/31706560/svm-hog-found-object-is-always-null/31733021#31733021", "title": "SVM + HOG, found object is always NULL", "body": "<p>I haven't managed to get your classifier to work, but I have found the cause of your current issue. </p>\n\n<p>I have put up a gist <a href=\"https://gist.github.com/foundry/e574266d8bf3efc9bfb8\" rel=\"nofollow\">here</a> so you can check it out. I have used my own filereading methods to read in the images, so you will have to make one or two changes so that it works for you.</p>\n\n<p>The reason that you get no found objects is because your classifier vector is empty. <em>That</em> is due to incorrect reading of the node from the yml file. 'support_vectors' is a subnode of 'my_svm'. You were trying to read it as a top-level node, and were getting back an empty vector. </p>\n\n<p>There are also a couple of other errors in the filereading loops which I have fixed (marked <code>FIXED</code>) - at least, they seemed incorrect to me.</p>\n\n<p>This still won't correctly classify (yet). There is some issue with the format of your support vectors array, which breaks the hog descriptor. </p>\n\n<p>So you'll need to put a bit more work into this, but hopefully this moves you in the right direction.</p>\n\n<p>I have added a slider to the output window. When you get the classifier to work, you can change the scaleFactor with the slider which should yield interesting variation in the results.</p>\n"}], "owner": {"reputation": 25, "user_id": 1739118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f413cfbc3ddde14919cfc414af5e0d36?s=128&d=identicon&r=PG", "display_name": "Muhammad Abdul Haseeb", "link": "https://stackoverflow.com/users/1739118/muhammad-abdul-haseeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1438286662, "creation_date": 1438188704, "last_edit_date": 1438268258, "question_id": 31706560, "link": "https://stackoverflow.com/questions/31706560/svm-hog-found-object-is-always-null", "title": "SVM + HOG, found object is always NULL", "body": "<p>I am working on fungus spores detection. I have about 359 positive images(cropped images of fungus particles) and 171 negative images(cropped images of dust particles).</p>\n\n<p>the actual size of pos/nag images is same as the size of particle which is around 8x8 but for SVM training I have resize it to 30x30 and then have used resized images to train SVM classifier. I am directly training the SVM with images not with any features. </p>\n\n<p>After training the classifier successfully I used hog.setSVMDetector(myclassifier) and hog.detectMultiScale but the found objects is zero. </p>\n\n<p>Now my questions is what I am doing wrong in my code? \nPlease click on the below link for Nagative/Positive images which I used for SVM classifier, test images and the desired particles image.</p>\n\n<p><a href=\"https://drive.google.com/folderview?id=0B7yRjtOGywg7fnNJTXcxR2NYb3ItWTZ0UjYwUmt6YW96R0NHLWZQbVJucEk0bnJmcFJGS0E&amp;usp=sharing\" rel=\"nofollow\">https://drive.google.com/folderview?id=0B7yRjtOGywg7fnNJTXcxR2NYb3ItWTZ0UjYwUmt6YW96R0NHLWZQbVJucEk0bnJmcFJGS0E&amp;usp=sharing</a></p>\n\n<pre><code>class LinearSVM: public CvSVM {\npublic:\n\n  void getSupportVector(std::vector&lt;float&gt;&amp; support_vector) const;\n};  \n\nvoid LinearSVM::getSupportVector(std::vector&lt;float&gt;&amp; support_vector) const {\n\n    int sv_count = this-&gt;get_support_vector_count();\n //   mexPrintf(\"size :   %d\\n\",support_vector.size());\n    const CvSVMDecisionFunc* df = this-&gt;decision_func;\n    const double* alphas = df[0].alpha;\n    double rho = df[0].rho;\n    int var_count = this-&gt;get_var_count();\n    support_vector.resize(var_count, 0);\n    for (unsigned int r = 0; r &lt; (unsigned)sv_count; r++) {\n      float myalpha = alphas[r];\n      const float* v = this-&gt;get_support_vector(r);\n      for (int j = 0; j &lt; var_count; j++,v++) {\n        support_vector[j] += (-myalpha) * (*v);\n      }\n    }\n    support_vector.push_back(rho);\n}\n\n////////////////////////////// main.cpp ///////////////////////////\n    int num_files = 359*171;\nint img_area = 30*30;\nMat training_mat(num_files,img_area,CV_32FC1);\nvector&lt;int&gt; training_Labels;\nMat labels(num_files,1,CV_32FC1);\nint imagenum=0;\n for (int pimageNum = 0; pimageNum &lt; 359; pimageNum++)\n{\n     // reading Positive Images from directory and resize it to 30x30\nint ii = 0; // Current column in training_mat\nfor (int i = 0; i&lt;posImage.rows; i++) {\n    for (int j = 0; j &lt; posImage.cols; j++) {\n        training_mat.at&lt;float&gt;(imagenum,ii++) = posImage.at&lt;uchar&gt;(i,j);\nimagenum++;\n    }\n}\ntraining_Labels.push_back(1.0);\n}\n\nfor (int nimageNum = 0; nimageNum &lt; 171; nimageNum++)\n{\n     // reading Nagative Images from directory and resize it to 30x30\nint ii = 0; // Current column in training_mat\nfor (int i = 0; i&lt;nagImage.rows; i++) {\n    for (int j = 0; j &lt; nagImage.cols; j++) {\n        training_mat.at&lt;float&gt;(imagenum,ii++) = nagImage.at&lt;uchar&gt;(i,j);\nimagenum++;\n    }\n}\ntraining_Labels.push_back(-1.0);\n}\n\nMat(training_Labels).copyTo(labels);\nlabels.convertTo(labels, CV_32FC1);\n\n CvSVMParams SVM_params;\n    SVM_params.svm_type = CvSVM::C_SVC;\n    SVM_params.kernel_type = CvSVM::LINEAR; //CvSVM::LINEAR;\n    SVM_params.degree = 0;\n    SVM_params.gamma = 3;\n    SVM_params.coef0 = 0;\n    SVM_params.C = 1;\n    SVM_params.nu = 0;\n    SVM_params.p = 0;\n    SVM_params.term_crit = cvTermCriteria(CV_TERMCRIT_ITER, 10, 0.03);\n    //Train SVM\n\n\n    LinearSVM svmClassifier;\n    svmClassifier.train(training_mat, labels, Mat(), Mat(), SVM_params);\n    svmClassifier.save(\"D:\\\\svmClassifier.yml\");\n\nHOGDescriptor hog;\nhog.winSize = Size(8, 8);\nstd::vector&lt;float&gt; support_vector;\n\nFileStorage fs;\n    fs.open(\"D:\\\\svmClassifier.yml\", FileStorage::READ);\n\n    fs[\"support_vectors\"] &gt;&gt; support_vector;\n\nhog.setSVMDetector(support_vector);\n\nvector&lt; Rect&gt; found,found_filtered;\nSize padding(Size(0, 0));\nSize winStride(Size(8, 8));\n\ncv::Mat test=cv::imread(\"testimage.bmp\",CV_LOAD_IMAGE_GRAYSCALE);\n// actual size of test image is 1024x768 which I resize to 400x 300\nhog.detectMultiScale(test, found, 0.0, winStride, padding, 1.01, 0);\n\ncout&lt;&lt;\"\"found particles\"&lt;&lt; found.size() ;  // it is always zero\n\nsize_t i, j;\n    for (i=0; i&lt;found.size(); i++)\n    {\n        Rect r = found[i];\n        for (j=0; j&lt;found.size(); j++)\n            if (j!=i &amp;&amp; (r &amp; found[j])==r)\n                break;\n        if (j==found.size())\n            found_filtered.push_back(r);\n    }\n\n    for (i=0; i&lt;found_filtered.size(); i++)\n    {\n        Rect r = found_filtered[i];\n        r.x += cvRound(r.width*0.1);\n        r.width = cvRound(r.width*0.8);\n        r.y += cvRound(r.height*0.06);\n        r.height = cvRound(r.height*0.9);\n        rectangle(test, r.tl(), r.br(), cv::Scalar(0,255,0), 2);\n    }\n\n    imshow(\"detected particles\", test);\n    waitKey(0);\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1438188841, "post_id": 31706554, "comment_id": 51351501, "body": "@ColonelThirtyTwo nope. That&#39;s why this question is here."}, {"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 0, "creation_date": 1438188939, "post_id": 31706554, "comment_id": 51351565, "body": "@ColonelThirtyTwo no, it isn&#39;t. Look at <a href=\"https://en.wikipedia.org/wiki/Most_vexing_parse\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Most_vexing_parse</a>"}, {"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1438189020, "post_id": 31706554, "comment_id": 51351627, "body": "You seem to have a problem with the brackets around the parameter name. Why shouldn&#39;t it allow that?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "reply_to_user": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1438189376, "post_id": 31706554, "comment_id": 51351869, "body": "@\u028e\u01dd\u0279\u025f\u025f\u025f\u01dd\u017f: I would say it shouldn&#39;t allow that because most people who look at it the first time expect it to be a declaration of an object, which is a perfectly reasonable expectation. Why <i>should</i> it allow it?"}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 1, "creation_date": 1438190426, "post_id": 31706554, "comment_id": 51352483, "body": "BTW this problem partially motivated uniform initalization syntax <code>MyClass instance(QString{testString});</code>"}], "answers": [{"comments": [{"owner": {"reputation": 188404, "user_id": 541686, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f2d0d2c0f7a83e2f8797a5ae79a324b6?s=128&d=identicon&r=PG", "display_name": "user541686", "link": "https://stackoverflow.com/users/541686/user541686"}, "edited": false, "score": 0, "creation_date": 1438189343, "post_id": 31706727, "comment_id": 51351845, "body": "LOL +1 for the first part of the first sentence."}, {"owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "edited": false, "score": 1, "creation_date": 1438190253, "post_id": 31706727, "comment_id": 51352373, "body": "The question is not about the most vexing parse."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "edited": false, "score": 2, "creation_date": 1438190430, "post_id": 31706727, "comment_id": 51352487, "body": "@JonPurdy: Yes, it is."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1438191770, "post_id": 31706727, "comment_id": 51353237, "body": "<code>MyClass instance(QString{testString});</code> could be even better solution?"}, {"owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "edited": false, "score": 1, "creation_date": 1438199397, "post_id": 31706727, "comment_id": 51357671, "body": "@LightnessRacesinOrbit: What I mean is that the OP acknowledged this is an instance of the most vexing parse, but the actual question was <i>why</i> this notation is permitted in the first place."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "edited": false, "score": 0, "creation_date": 1438199746, "post_id": 31706727, "comment_id": 51357871, "body": "@JonPurdy: I thought I might as well retread that ground, since the OP&#39;s example of an MVP was nothing of the sort."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 8, "last_activity_date": 1438192087, "last_edit_date": 1438192087, "creation_date": 1438189219, "answer_id": 31706727, "question_id": 31706554, "link": "https://stackoverflow.com/questions/31706554/weird-parse-in-c-int-fintarg-equivalent-to-int-fint-arg-can-anyone-ex/31706727#31706727", "title": "Weird parse in C++: int f(int(arg)) equivalent to int f(int arg) - can anyone explain it?", "body": "<blockquote>\n  <p>This was discovered by one of my coworkers </p>\n</blockquote>\n\n<p>No, it was \"discovered\" decades ago and is an extremely famous quirk of the language.</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Most_vexing_parse\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Most_vexing_parse</a></li>\n</ul>\n\n<blockquote>\n  <p>My question is, why does it do that? It seems to be allowing the name of the parameter to be surrounded by brackets.</p>\n</blockquote>\n\n<p>It is. The C declaration syntax is not so prescriptive as to disallow this specific case. In the general case, it's useful for more complex constructions like this:</p>\n\n<pre><code>void foo(int (*func)(char));\n// (takes a pointer to a function returning int and taking char, bool)\n\n// as opposed to:\nvoid foo(int *func(char));\n// (takes a function returning int* and taking char)\n\n// as this is literally equivalent to the clearer:\nvoid foo(int* func(char));\n</code></pre>\n\n<p>and, in C++:</p>\n\n<pre><code>void foo(int (&amp;array)[5]) {}\n// (takes a reference to an array of five integers)\n\n// as opposed to:\nvoid foo(int &amp;array[5]) {}\n// (takes an array of five `int&amp;`s ... and fails to compile accordingly)\n</code></pre>\n\n<p>Here is the admittedly unwieldy solution for your specific case:</p>\n\n<pre><code>MyClass instance((QString(testString)));\n//               ^                   ^\n</code></pre>\n\n<p>or, more helpfully since C++11:</p>\n\n<pre><code>MyClass instance(QString{testString});\n//                      ^          ^\n</code></pre>\n\n<p>This was in fact one of the driving factors behind introducing uniform initialisation syntax.</p>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<blockquote>\n  <p>if you construct in the function-style idiom with a single argument it will be parsed as a forward-declared function, e.g.</p>\n\n<pre><code>MyClass instance2(\"hello\") //invalidly forward-declares a function\n</code></pre>\n</blockquote>\n\n<p>This claim is simply untrue.</p>\n\n<p>Also, <code>char *testString = \"test string\";</code> has been deprecated for 17 years and illegal for 4.</p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438190560, "post_id": 31707043, "comment_id": 51352562, "body": "Yeah, this is pretty much the rationale. It extends to references in C++, too; consider: <code>void foo(int (&amp;array)[5]) {}</code>"}, {"owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438199301, "post_id": 31707043, "comment_id": 51357617, "body": "@LightnessRacesinOrbit: Yep. Although unfortunately references break with the C idea that declaration mirror use; <code>int &amp;x</code> does not mean that <code>&amp;x</code> is an <code>int</code>."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438199647, "post_id": 31707043, "comment_id": 51357801, "body": "That old idea was messed up anyway. It led to a horrific declarator syntax and generations of confusion for newbies learning pointers. Conventionally we do not think like that in C++ any more (<code>int&amp; x</code> means that <code>x</code> is an <code>int&amp;</code> tyvm), except in the edge cases wherein we must (like this one)."}, {"owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438200080, "post_id": 31707043, "comment_id": 51358050, "body": "@LightnessRacesinOrbit: Yeah, hah, it didn\u2019t exactly pan out. On the other hand, having tutored CS, I found that beginners understood declarator syntax much more readily when I explained it in terms of how it\u2019s defined, rather than in terms of types (with which they had little familiarity anyway). And then C++ comes along and introduces gratuitous complexity that makes neither interpretation strictly correct. Sigh."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1438201046, "post_id": 31707043, "comment_id": 51358633, "body": "Having tutored CS, I found the exact opposite lol (and do to this day)"}], "tags": [], "owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "is_accepted": true, "score": 2, "last_activity_date": 1438200120, "last_edit_date": 1438200120, "creation_date": 1438190199, "answer_id": 31707043, "question_id": 31706554, "link": "https://stackoverflow.com/questions/31706554/weird-parse-in-c-int-fintarg-equivalent-to-int-fint-arg-can-anyone-ex/31707043#31707043", "title": "Weird parse in C++: int f(int(arg)) equivalent to int f(int arg) - can anyone explain it?", "body": "<p>In C++, and in C, declarators may be surrounded by any number of parentheses:</p>\n\n<pre><code>int a;\nint (b);\nint ((c));\nint f(int (x));\n</code></pre>\n\n<p>This is mainly useful to differentiate function pointer declarators from declarators of functions that return pointer types. For example, here <code>f</code> is a pointer to a function that takes an <code>int</code> and returns an <code>int</code>:</p>\n\n<pre><code>int (*f)(int x);\n</code></pre>\n\n<p>In other words, <code>(*f)(x)</code> is an <code>int</code> if <code>x</code> is an <code>int</code>. Whereas here, <code>f</code> is a function that takes an <code>int</code> and returns a pointer to an <code>int</code>:</p>\n\n<pre><code>int *f(int x);\n</code></pre>\n\n<p>In other words, <code>*f(x)</code> is an <code>int</code> if <code>x</code> is an <code>int</code>.</p>\n"}], "owner": {"reputation": 572, "user_id": 790762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b68ce444ceabf9775d647f2c2d8cb9?s=128&d=identicon&r=PG", "display_name": "Injektilo", "link": "https://stackoverflow.com/users/790762/injektilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 31707043, "answer_count": 2, "score": 2, "last_activity_date": 1438243844, "creation_date": 1438188672, "last_edit_date": 1438243844, "question_id": 31706554, "link": "https://stackoverflow.com/questions/31706554/weird-parse-in-c-int-fintarg-equivalent-to-int-fint-arg-can-anyone-ex", "title": "Weird parse in C++: int f(int(arg)) equivalent to int f(int arg) - can anyone explain it?", "body": "<p>This was discovered by one of my coworkers when trying to construct an object with a single argument like this:</p>\n\n<pre><code>char testString[] = \"test string\";\n...\nMyClass instance(QString(testString));\n</code></pre>\n\n<p>They were aware of the situation where if you construct in the function-style idiom with a single argument it will be parsed as a forward-declared function, e.g.</p>\n\n<pre><code>char test[] = \"hello\";\n\nMyClass instance1(0, test) //constructs an object\nMyClass instance2(test) //invalidly forward-declares a function\n</code></pre>\n\n<p>but they were stumped by what they thought should work as it contained a function-style cast, or single-argument constructor invocation, inside the brackets.</p>\n\n<p>I have since figured out that their constructor call was getting parsed like:</p>\n\n<pre><code>MyClass instance(QString testString);\n</code></pre>\n\n<p>Instead of passing in the variable testString to the cast operator, it declares a function with a parameter of the same name. My question is, why does it do that? It seems to be allowing the name of the parameter to be surrounded by brackets.</p>\n"}, {"tags": ["c++", "boost", "types", "operator-overloading", "typedef"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 1757305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22063993a10f2c8a25b6140518541101?s=128&d=identicon&r=PG", "display_name": "Tyson", "link": "https://stackoverflow.com/users/1757305/tyson"}, "edited": false, "score": 0, "creation_date": 1438213722, "post_id": 31707312, "comment_id": 51363776, "body": "Very informative answer, thanks. Is there a reason to prefer static_cast&lt;int&gt; in the template function over accessing Foo&#39;s t member variable directly?"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 2, "last_activity_date": 1438191116, "creation_date": 1438191116, "answer_id": 31707312, "question_id": 31706493, "link": "https://stackoverflow.com/questions/31706493/boost-strong-typedef-and-overloaded-relational-operators/31707312#31707312", "title": "BOOST_STRONG_TYPEDEF and overloaded relational operators", "body": "<blockquote>\n  <p>Since BOOST_STRONG_TYPEDEF provides conversion operators from <code>Foo</code> to <code>int</code>, I would have expected <code>(unsigned int) &lt; (Foo)</code> to compile down to the same thing as <code>(unsigned int) &lt; (int)</code>, but I guess not.</p>\n</blockquote>\n\n<p>The <code>BOOST_STRONG_TYPEDEF</code> macro defines a <code>struct Foo</code> that inherits from a bunch of different operator classes, one of which will define:</p>\n\n<pre><code>friend bool operator&lt;(const int&amp;, const Foo&amp;); //(1)\n</code></pre>\n\n<p>And of course there's all of the builtins that compare integers:</p>\n\n<pre><code>bool operator&lt;(T, U); // (2), implicit\n</code></pre>\n\n<p>For all integral types, <code>I</code>, we have several viable candidates for <code>I{} &lt; Foo{}</code>. We could convert <code>I</code> to <code>int</code> and call <code>(1)</code>, or we could convert <code>Foo</code> to <code>int</code> and call <code>(2)</code>. Depending on <code>I</code>, the result is:</p>\n\n<ul>\n<li><code>I</code> is <code>int</code>: <code>(1)</code> is an exact match, and all the builtin operators involve a conversion, so <code>(1)</code> is unambiguously preferred.</li>\n<li><code>I</code> has <em>lower</em> rank than <code>int</code> (e.g. <code>char</code>): integral promotion (up to <code>int</code>) has better rank than a conversion (<code>Foo</code> to <code>int</code>), so <code>(1)</code> is unambiguously preferred.</li>\n<li><code>I</code> has <em>higher</em> rank than <code>int</code> (e.g. the <code>size_t</code> and <code>unsigned int</code> in your example): <code>(1)</code> now involves an integer conversion (<code>size_t</code> to <code>int</code> is not a promotion), and integer conversions have rank Conversion, the same rank as a user-defined conversion. So both <code>(1)</code> and <code>(2)</code> would have one Exact Match and one Conversion. Since neither is better than the other, it's ambiguous. </li>\n</ul>\n\n<blockquote>\n  <p>My question is: Is there any way to avoid implementing every operator for every type I want to compare to?</p>\n</blockquote>\n\n<p>No there isn't. However, you can implement each operator for every type in just one go with templates. For instance, we can resolve all the ambiguities of <code>&lt;</code> with:</p>\n\n<pre><code>template &lt;typename T&gt;\nbool operator&lt;(const T&amp; t, const Foo&amp; f)\n{\n    return t &lt; static_cast&lt;int&gt;(f);\n}\n</code></pre>\n\n<p>For integral types with rank equal to <code>int</code>, <code>(1)</code> would still be preferred. But for all other integral types, the template would be an exact match whereas the builtins and <code>(1)</code> involve some conversion sequence, so this would be preferred - which would forward along to an ambiguous builtin. </p>\n"}], "owner": {"reputation": 109, "user_id": 1757305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22063993a10f2c8a25b6140518541101?s=128&d=identicon&r=PG", "display_name": "Tyson", "link": "https://stackoverflow.com/users/1757305/tyson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 31707312, "answer_count": 1, "score": 1, "last_activity_date": 1438191116, "creation_date": 1438188514, "question_id": 31706493, "link": "https://stackoverflow.com/questions/31706493/boost-strong-typedef-and-overloaded-relational-operators", "title": "BOOST_STRONG_TYPEDEF and overloaded relational operators", "body": "<p>I'm using BOOST_STRONG_TYPEDEF to define strong types from POD types. For example, I want to define a new type from <code>int</code>. However if I try to compare my new type to something that's not <code>int</code> (e.g. <code>unsigned int</code>, <code>size_t</code>), I get \"Use of overloaded operator '&lt;' is ambiguous\" compiler errors.</p>\n\n<p>For example:</p>\n\n<pre><code>#include &lt;boost/serialization/strong_typedef.hpp&gt;\n\nBOOST_STRONG_TYPEDEF( int, Foo );\n\nint main(int argc, const char * argv[]) {\n\n    Foo f( 10 );\n\n    unsigned int j = 11;\n    bool result = j &lt; f;    // Error\n\n    size_t s = 100;\n    result = s &lt; f;         // Error\n\n    int h = 101;\n    result =  h &lt; f;        // ok\n\n    return 0;\n}\n</code></pre>\n\n<p>I can fix these errors by implementing the specific relational operators for the specific types. e.g.:</p>\n\n<pre><code>bool operator&lt;(const size_t&amp; y, const Foo&amp; x) {\n    return y &lt; x.t;\n}\n</code></pre>\n\n<p>Since BOOST_STRONG_TYPEDEF provides conversion operators from <code>Foo</code> to <code>int</code>, I would have expected <code>(unsigned int) &lt; (Foo)</code> to compile down to the same thing as <code>(unsigned int) &lt; (int)</code>, but I guess not.</p>\n\n<p>My question is: Is there any way to avoid implementing every operator for every type I want to compare to? </p>\n"}, {"tags": ["c++", "opencv", "lda"], "comments": [{"owner": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 1, "creation_date": 1438188687, "post_id": 31706414, "comment_id": 51351406, "body": "Why would you <a href=\"https://github.com/Itseez/opencv_contrib/blob/master/modules/face/src/fisher_faces.cpp\" rel=\"nofollow noreferrer\">redo</a> the <a href=\"http://code.opencv.org/projects/opencv/repository/revisions/master/entry/modules/core/src/lda.cpp\" rel=\"nofollow noreferrer\">wheel</a>?"}, {"owner": {"reputation": 75, "user_id": 4980573, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/582765e62927b4416748971de6e4f0e3?s=128&d=identicon&r=PG&f=1", "display_name": "KeenLearner", "link": "https://stackoverflow.com/users/4980573/keenlearner"}, "reply_to_user": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 0, "creation_date": 1438263989, "post_id": 31706414, "comment_id": 51387178, "body": "I am a beginner and need to do step-wise implementation for a project with my own understanding"}, {"owner": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 0, "creation_date": 1438265473, "post_id": 31706414, "comment_id": 51388301, "body": "Looking at OpenCV&#39;s implementation cannot hurt. That particular portion is especially well-written, and the projection is <a href=\"http://code.opencv.org/projects/opencv/repository/revisions/master/entry/modules/core/src/lda.cpp#L171\" rel=\"nofollow noreferrer\">here</a>. It amounts to subtracting the mean from the image, and matrix-multiplying by the matrix of eigenvectors."}], "owner": {"reputation": 75, "user_id": 4980573, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/582765e62927b4416748971de6e4f0e3?s=128&d=identicon&r=PG&f=1", "display_name": "KeenLearner", "link": "https://stackoverflow.com/users/4980573/keenlearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1438188245, "creation_date": 1438188245, "question_id": 31706414, "link": "https://stackoverflow.com/questions/31706414/projection-of-images-in-fisherspacelda", "title": "Projection of images in fisherspace(LDA)", "body": "<p>In Linear Discriminant Analysis algorithm for face recognition, the between class scatter matrix and within class scatter matrix are both of size MxM (M=total number of images, C=number of classes). The fisherspace(matrix with eigenvectors as columns) consists of the eigenvectors corresponding to non-zero eigenvalues and hence has dimension Mx(C-1). How am I supposed to project the training phase images, each in N-dimensional space, onto the fisherspace.(Correct me if I am wrong). Can anybody help me figure this out?</p>\n\n<blockquote>\n  <p><a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=5256630\" rel=\"nofollow\">http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=5256630</a></p>\n</blockquote>\n\n<p>This is the research paper I followed to implement LDA. I am trying to implement it in OpenCV using C++</p>\n"}, {"tags": ["c++", "struct", "queue"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1438188461, "post_id": 31706412, "comment_id": 51351261, "body": "C++ is not Java, you don&#39;t have to dynamically allocate all objects. Your queue object doesn&#39;t have to be a pointer and dynamically allocated, it can lead to pointer problems and memory leaks (which you have). Instead just define it as a normal non-pointer object <code>std::queue&lt;BinaryTree&gt; myqueue;</code>"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1438188497, "post_id": 31706412, "comment_id": 51351280, "body": "As for the dereferencing, think a little about the type stored in the queue, compared to the type of <code>root</code>. Also, this mixup is the reason the code won&#39;t compile."}], "answers": [{"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": false, "score": 0, "last_activity_date": 1438188744, "creation_date": 1438188744, "answer_id": 31706574, "question_id": 31706412, "link": "https://stackoverflow.com/questions/31706412/storing-and-retrieving-a-structure-on-a-queue/31706574#31706574", "title": "Storing and retrieving a structure on a queue", "body": "<blockquote>\n  <p>myqueue->push(*root); // Why do i have to dereference the object to store it in the queue;</p>\n</blockquote>\n\n<p>This is because your queue template is instantiated with <code>BinaryTree</code> type which is not a pointer, so you cannot put inside of it variable of type <code>BinaryTree *root</code>. You have to dereference it using <code>*root</code>.</p>\n\n<p>If you would have <code>queue&lt;BinaryTree*&gt;</code> then you could use <code>myqueue-&gt;push(root);</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5170328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99570d95e89d79b996452b00ab5b8c5?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/5170328/darth-vader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438188744, "creation_date": 1438188237, "last_edit_date": 1438188346, "question_id": 31706412, "link": "https://stackoverflow.com/questions/31706412/storing-and-retrieving-a-structure-on-a-queue", "title": "Storing and retrieving a structure on a queue", "body": "<pre><code>void addElement(struct BinaryTree *root, int data) {\n    if (!root)\n        return;\n    BinaryTree *newNode = new BinaryTree;\n    newNode-&gt;data = data;\n    newNode-&gt;right = NULL;\n    newNode-&gt;left = NULL;\n    queue&lt;BinaryTree&gt; *myqueue = new queue&lt;BinaryTree&gt;;\n    myqueue-&gt;push(*root); // Why do i have to dereference the object to store it in the queue;\n    BinaryTree *temp;\n    while (!myqueue-&gt;empty()) {\n        temp = myqueue-&gt;front()\n        //Throwing an error\n\n        myqueue-&gt;pop();\n        if (temp-&gt;left) {\n            myqueue-&gt;push(*temp-&gt;left);\n\n        } else {\n            temp-&gt;left = newNode;\n            break;\n        }\n        if (temp-&gt;right) {\n            myqueue-&gt;push(*temp-&gt;right);\n        } else {\n            temp-&gt;right = newNode;\n            break;\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1438188360, "post_id": 31706377, "comment_id": 51351200, "body": "(1) look at the cstdint header which has <code>std::uint16_t</code> and similar.  (2) use a <code>std::vector&lt;unsigned char&gt;</code> ?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 4, "creation_date": 1438188382, "post_id": 31706377, "comment_id": 51351215, "body": "<i>&quot;This creates lots of problem for me since I have to do type conversion everywhere.&quot;</i> Didn&#39;t you create the problem for yourself when you decided to use <code>unsigned char</code> &quot;everywhere&quot;? What was your reason for that?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1438188763, "post_id": 31706377, "comment_id": 51351451, "body": "<code>if ((uchar*)(s[1] == 0x8f)</code> is not what you meant to write, is it?"}, {"owner": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "edited": false, "score": 0, "creation_date": 1438191810, "post_id": 31706377, "comment_id": 51353260, "body": "More about <code>char</code> signedness: <a href=\"http://stackoverflow.com/questions/17097537/why-is-char-signed-by-default-in-c\" title=\"why is char signed by default in c\">stackoverflow.com/questions/17097537/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "edited": false, "score": 1, "creation_date": 1438189356, "post_id": 31706513, "comment_id": 51351856, "body": "Comparing to a <code>char</code> constant rather than an <code>int</code> constant seems like the obviously right thing to do."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1438194869, "post_id": 31706513, "comment_id": 51355088, "body": "Thanks @lightness-races-in-orbit.  Should have thought of it.  The trick of using <code>&#39;\\x8f&#39;</code> is nice!"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1438194966, "post_id": 31706513, "comment_id": 51355152, "body": "@codingFun: I wouldn&#39;t call it a &quot;trick&quot;; it is the default, obvious thing to do in the first place! :) (As Hurkyl said)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1438200964, "post_id": 31706513, "comment_id": 51358589, "body": "@codingFun: I suggest dropping that habit if you want people to understand you properly. :)"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1438265452, "post_id": 31706513, "comment_id": 51388287, "body": "Will do. Thanks @lightness-races-in-orbit."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 3, "last_activity_date": 1438189080, "last_edit_date": 1438189080, "creation_date": 1438188560, "answer_id": 31706513, "question_id": 31706377, "link": "https://stackoverflow.com/questions/31706377/hope-stdstringoperator-could-return-unsigned-char/31706513#31706513", "title": "Hope std::string::operator[] could return unsigned char", "body": "<p>No, <code>std::string</code> is <code>std::basic_string&lt;char, ...&gt;</code>, and there's nothing you can or should do to change that.</p>\n\n<p>You could force your implementation's <code>char</code> to be unsigned (<a href=\"https://msdn.microsoft.com/en-us/library/0d294k5z.aspx\" rel=\"nofollow\">some compilers allow this</a>) and stick assertions everywhere to prevent your code from compiling with a signed <code>char</code> type.</p>\n\n<p>You could switch to <code>std::basic_string&lt;unsigned char, ...&gt;</code> or even <code>std::vector&lt;unsigned char&gt;</code>.</p>\n\n<p>But, personally, I'd just compare the character against another character (instead of an integer):</p>\n\n<pre><code>if (s[1] == '\\x8f')\n</code></pre>\n\n<h3>(<a href=\"http://coliru.stacked-crooked.com/a/dac384fc89d5958c\" rel=\"nofollow\">live demo</a>)</h3>\n\n<p>I think this is better code anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1438194908, "post_id": 31706546, "comment_id": 51355116, "body": "Thanks @Trebor_Rude.  Like your answer too."}], "tags": [], "owner": {"reputation": 1732, "user_id": 1831052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6e7Nj.jpg?s=128&g=1", "display_name": "Trebor Rude", "link": "https://stackoverflow.com/users/1831052/trebor-rude"}, "is_accepted": false, "score": 4, "last_activity_date": 1438188816, "last_edit_date": 1495540699, "creation_date": 1438188654, "answer_id": 31706546, "question_id": 31706377, "link": "https://stackoverflow.com/questions/31706377/hope-stdstringoperator-could-return-unsigned-char/31706546#31706546", "title": "Hope std::string::operator[] could return unsigned char", "body": "<p>You should be able to use a <code>std::basic_string&lt;unsigned char&gt;</code> (<code>std::string</code> is really just a <code>typedef</code> to <code>std::basic_string&lt;char&gt;</code>). That will mean modifying your code to use your new <code>typedef</code> instead of <code>std::string</code>, though that should be a fairly simple search-and-replace refactoring.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/20294746/strings-of-unsigned-chars\">Strings of unsigned chars</a> for more details.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 31706513, "answer_count": 2, "score": 1, "last_activity_date": 1438189080, "creation_date": 1438188140, "question_id": 31706377, "link": "https://stackoverflow.com/questions/31706377/hope-stdstringoperator-could-return-unsigned-char", "title": "Hope std::string::operator[] could return unsigned char", "body": "<p>if <code>s</code> is of type <code>string</code> in C++,  <code>s[n]</code> will return a <code>char</code>, not <code>unsigned char</code>.  This creates lots of problem for me since I have to do type conversion everywhere. </p>\n\n<p>The following code will not print \"yes\".</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\ntypedef unsigned long ulong;\ntypedef unsigned int uint;\ntypedef unsigned short uint16;\ntypedef unsigned char uchar;\n\nint main(int argc, char *argv[]) {\n    string s = \"h\\x8fllo world\";\n    printf(\"%d\\n\", s[1]);\n    if (s[1] == 0x8f) {\n        printf(\"yes\\n\");\n    }\n    return 0;\n}\n</code></pre>\n\n<p>I can make it work by changing the above to be <code>if ((uchar*)(s[1] == 0x8f) {</code>, but there are too many occurrences.  I really hoped that the <code>[]</code> operator on <code>string</code> class could return a <code>unsigned char</code>!!  Is there a way to do this? </p>\n"}, {"tags": ["c++", "ncurses"], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 4778080, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-eLdoB9UzYuc/AAAAAAAAAAI/AAAAAAAAACY/r4_ljUpUvLM/photo.jpg?sz=128", "display_name": "NSPredator", "link": "https://stackoverflow.com/users/4778080/nspredator"}, "edited": false, "score": 0, "creation_date": 1444053528, "post_id": 31711117, "comment_id": 53725620, "body": "So am I replacing <code>break;</code> with <code>cbreak;</code> ?"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 384, "user_id": 4778080, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-eLdoB9UzYuc/AAAAAAAAAAI/AAAAAAAAACY/r4_ljUpUvLM/photo.jpg?sz=128", "display_name": "NSPredator", "link": "https://stackoverflow.com/users/4778080/nspredator"}, "edited": false, "score": 0, "creation_date": 1444081977, "post_id": 31711117, "comment_id": 53741908, "body": "<code>cbreak</code> (see the manpage links in my answer) is a function.  It is named for one of the common terminal modes.  <a href=\"https://utcc.utoronto.ca/~cks/space/blog/unix/CBreakAndRaw\" rel=\"nofollow noreferrer\">This page</a> appears to provide a useful introduction to the terminology."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1438288449, "last_edit_date": 1438288449, "creation_date": 1438203945, "answer_id": 31711117, "question_id": 31706309, "link": "https://stackoverflow.com/questions/31706309/case-key-enter-not-functioning-as-expected/31711117#31711117", "title": "case KEY_ENTER not functioning as expected", "body": "<p>The program has not provided for character-at-a-time (unbuffered) input, as described in the <a href=\"http://invisible-island.net/ncurses/man/ncurses.3x.html#h3-Initialization\" rel=\"nofollow\">Initialization</a> section of the ncurses manual page.  Since it looks for special keys such as <code>KEY_UP</code>, that means it should use <a href=\"http://invisible-island.net/ncurses/man/curs_inopts.3x.html#h3-cbreak\" rel=\"nofollow\"><code>cbreak</code></a> (rather than <code>raw</code>, which <em>prevents</em> ncurses from decoding special keys).</p>\n"}], "owner": {"reputation": 384, "user_id": 4778080, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-eLdoB9UzYuc/AAAAAAAAAAI/AAAAAAAAACY/r4_ljUpUvLM/photo.jpg?sz=128", "display_name": "NSPredator", "link": "https://stackoverflow.com/users/4778080/nspredator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438288449, "creation_date": 1438187938, "question_id": 31706309, "link": "https://stackoverflow.com/questions/31706309/case-key-enter-not-functioning-as-expected", "title": "case KEY_ENTER not functioning as expected", "body": "<p>I am trying to create a program that response to keyboard input. At the moment the menu below functions correctly but upon pressing enter I am running into issues. When I press enter nothing happens. I am just wondering why this is happening? \nMany thanks!</p>\n\n<pre><code>#include &lt;ncurses.h&gt;\n\n#define MENUMAX 6\n\nvoid drawmenu(int item)\n{\n        int c;\n        char mainmenu[] = \"Menu\";\n        char menu[MENUMAX] [10] = {\n                \"1\",\n                \"2\",\n                \"3\",\n                \"4\",\n                \"5\",\n                \"6\"\n        };\n\n        clear();\n        attron(A_BOLD | A_UNDERLINE);\n        addstr(mainmenu);\n        attroff(A_BOLD | A_UNDERLINE);\n        for( c = 0; c &lt; MENUMAX; c++)\n        {\n                if( c == item)\n                        attron(A_REVERSE);\n                attron(A_BOLD);\n                mvaddstr(3 + (c * 2), 20, menu[c]);\n                attroff(A_BOLD);\n                attroff(A_REVERSE);\n        }\n        refresh();\n}\n\nint main(int argc, char *argv[])\n{\n        int key, menuitem;\n        menuitem = 0;\n        initscr();\n        drawmenu(menuitem);\n        keypad(stdscr, TRUE);\n        noecho();\n        do\n        {\n                raw();\n                nonl();\n                key = getch();\n                switch(key)\n                {\n                        case KEY_DOWN:\n                                menuitem++;\n                                if(menuitem &gt; MENUMAX - 1) menuitem = 0;\n                                break;\n                        case KEY_UP:\n                                menuitem--;\n                                if(menuitem &lt; 0) menuitem = MENUMAX - 1;\n                                break;\n                        case KEY_ENTER:\n                                mvaddstr(17, 25, \"Test mesage!\");\n                                refresh();\n                                break;\n                        default:\n                                break;\n                }\n                drawmenu(menuitem);\n        } while(key != '~');\n\n        echo(); \n\n\n        endwin();\n        return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1438188108, "post_id": 31706302, "comment_id": 51351059, "body": "You never seem to increment/offset <code>ptr</code> within the input or output loop."}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1438188278, "post_id": 31706302, "comment_id": 51351152, "body": "And if you&#39;re going to program in C++, why not take advantage of the STL? Declare a <code>vector</code> of <code>int</code>s and <code>push_back</code> elements into it in your input loop. No need to <code>new</code> anything."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1438188537, "post_id": 31706302, "comment_id": 51351303, "body": "To elaborate on what @Michael said, <code>ptr</code> <i>always</i> points to the first element of the array, so <code>*ptr</code> is <i>always</i> the same as writing <code>ptr[0]</code>. You&#39;re reading into the first element of the array five times, then writing the first element out five times.  In both loops, consider using <code>ptr[i]</code> instead of <code>*ptr</code>."}, {"owner": {"reputation": 23, "user_id": 3859361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0db89a2cdff6569e1cd7bd05045d6a7?s=128&d=identicon&r=PG&f=1", "display_name": "saikiran", "link": "https://stackoverflow.com/users/3859361/saikiran"}, "edited": false, "score": 0, "creation_date": 1438189031, "post_id": 31706302, "comment_id": 51351640, "body": "Yeah :) it&#39;s done.   thanks both of you . it was simple program that i had done in c also, but slightly got confused with that dynamic memory allocation . Thanks once again"}], "answers": [{"tags": [], "owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1438190440, "last_edit_date": 1438190440, "creation_date": 1438189166, "answer_id": 31706710, "question_id": 31706302, "link": "https://stackoverflow.com/questions/31706302/c-program-only-lists-last-value-entered-into-an-array/31706710#31706710", "title": "C++ program only lists last value entered into an array", "body": "<p>Both of your loops:</p>\n\n<pre><code>for (int i = 0; i &lt; arrsize; i++)\n    ...\n</code></pre>\n\n<p>loop over a variable <code>i</code> that is never used inside the loop. You are always using <code>*ptr</code> which refers always to the first element of the dynamically allocated array. You should use <code>ptr[i]</code> instead.</p>\n\n<hr>\n\n<p>A part from that, dynamic allocation is an advanced topic. I'd recommend sticking with simpler and more commonly used things first:</p>\n\n<pre><code>std::cout &lt;&lt; \"Enter values:\";\nstd::vector&lt;int&gt; array(std::istream_iterator&lt;int&gt;(std::cin), {});\nstd::cout &lt;&lt; \"\\nThe values in the array are:\\n\";\nstd::copy(begin(array), end(array), std::ostream_iterator&lt;int&gt;(std::cout, \" \"));\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/b55f8cf07a61f442\" rel=\"nofollow\"><kbd>Live demo</kbd></a></p>\n"}, {"comments": [{"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1438190111, "post_id": 31706969, "comment_id": 51352295, "body": "<code>cin.get()</code> is usually used on Windows platform to prevent the terminal from closing the console window at program termination. The first <code>include</code> is also fairly common among students."}, {"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1438190234, "post_id": 31706969, "comment_id": 51352365, "body": "Not sure why your answer was downvoted though. It looks fine to me."}, {"owner": {"reputation": 9795, "user_id": 1566187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00cb2ecc49f0f05736dc7c14bbccfeaa?s=128&d=identicon&r=PG", "display_name": "Ely", "link": "https://stackoverflow.com/users/1566187/ely"}, "reply_to_user": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1438190397, "post_id": 31706969, "comment_id": 51352467, "body": "Not sure if that&#39;s worth a downvote. For that program the user didn&#39;t need the first include. Also not sure if cin.get() is a good practice. I assume you&#39;re just voting strategically."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1438190668, "post_id": 31706969, "comment_id": 51352633, "body": "@Elyasin if this is Visual Studio, then yes, they <i>really</i> need that first include <i>or</i> need to change a lot of compiler settings (precompiled header settings)"}, {"owner": {"reputation": 23, "user_id": 3859361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0db89a2cdff6569e1cd7bd05045d6a7?s=128&d=identicon&r=PG&f=1", "display_name": "saikiran", "link": "https://stackoverflow.com/users/3859361/saikiran"}, "edited": false, "score": 0, "creation_date": 1438190690, "post_id": 31706969, "comment_id": 51352647, "body": "thanks Elyasin i&#39;m new to stackoverflow . so i made a mistake . and your answer was useful. sorry for that"}, {"owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "edited": false, "score": 0, "creation_date": 1438191668, "post_id": 31706969, "comment_id": 51353191, "body": "(About the final <code>cin.get()</code>) It&#39;s not really a Windows-only issue. It&#39;s trick to force a program to keep running even after it has finished all the important work. The same thing would be required in Linux if running such a program directly inside an X terminal (i.e. with no shell in between)"}, {"owner": {"reputation": 9795, "user_id": 1566187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00cb2ecc49f0f05736dc7c14bbccfeaa?s=128&d=identicon&r=PG", "display_name": "Ely", "link": "https://stackoverflow.com/users/1566187/ely"}, "edited": false, "score": 0, "creation_date": 1438191774, "post_id": 31706969, "comment_id": 51353238, "body": "Hmmm, I never encountered that. Is that very common? What do you mean with X Terminal without shell?"}], "tags": [], "owner": {"reputation": 9795, "user_id": 1566187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00cb2ecc49f0f05736dc7c14bbccfeaa?s=128&d=identicon&r=PG", "display_name": "Ely", "link": "https://stackoverflow.com/users/1566187/ely"}, "is_accepted": true, "score": -3, "last_activity_date": 1438215423, "last_edit_date": 1438215423, "creation_date": 1438189975, "answer_id": 31706969, "question_id": 31706302, "link": "https://stackoverflow.com/questions/31706302/c-program-only-lists-last-value-entered-into-an-array/31706969#31706969", "title": "C++ program only lists last value entered into an array", "body": "<p>Following issues I think you could tackle:</p>\n\n<ul>\n<li>The first <code>include</code> can be omitted I think. Your code works without that.</li>\n<li>You use <code>cin.get()</code>, not sure why you need that. I think you can remove that. Even the one at the very end. You could put a <code>cout &lt;&lt; endl</code> for the last newline. I am using Linux.</li>\n<li>And use <code>ptr</code> like an array with index: <code>ptr[i]</code> in the loops as mentioned in the other answer. <code>ptr[i]</code> is equivalent to <code>*(ptr+i)</code>. You have to offset it, otherwise you're overwriting the same value (that is why you get that result), because <code>ptr</code> points to the first element of the array.</li>\n</ul>\n\n<p>P.S.: It seems that if you're using Windows (or other systems) you need the   <code>cin.get()</code> to avoid the console to close down or so. So maybe you'd need to check it. See comments below.</p>\n"}], "owner": {"reputation": 23, "user_id": 3859361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0db89a2cdff6569e1cd7bd05045d6a7?s=128&d=identicon&r=PG&f=1", "display_name": "saikiran", "link": "https://stackoverflow.com/users/3859361/saikiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31706969, "answer_count": 2, "score": 2, "last_activity_date": 1438215423, "creation_date": 1438187919, "last_edit_date": 1438188275, "question_id": 31706302, "link": "https://stackoverflow.com/questions/31706302/c-program-only-lists-last-value-entered-into-an-array", "title": "C++ program only lists last value entered into an array", "body": "<p>I am trying to output the values present in the array, that are accepted during runtime, onto the console. But when I run this program I get the 5 values in the array as the last value only.</p>\n\n<p>For example: if i give <code>0 1 2 3 4</code> as the five values for this program then the output is shown as   <code>4 4 4 4 4</code>.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include&lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n  int arrsize = 5;\n  int *ptr = new int[arrsize];\n\n  *ptr = 7;\n\n  cout &lt;&lt; *ptr &lt;&lt; endl;\n  cout &lt;&lt; \"enter 5 values:\";\n\n  for (int i = 0; i &lt; arrsize; i++)\n  {\n    cin &gt;&gt; *ptr;\n\n    cin.get();\n  }\n\n  cout &lt;&lt; \"the values in the array are:\\n \";\n\n  for (int i = 0; i &lt; arrsize; i++)\n  {\n    cout &lt;&lt; *ptr &lt;&lt; \" \";\n  }\n\n  delete[] ptr;\n  cin.get();\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "r", "include"], "answers": [{"tags": [], "owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "is_accepted": false, "score": 1, "last_activity_date": 1438188820, "creation_date": 1438188820, "answer_id": 31706603, "question_id": 31706259, "link": "https://stackoverflow.com/questions/31706259/make-c-library-with-dependencies-available-in-r/31706603#31706603", "title": "Make C++ library with dependencies available in R", "body": "<p>Yes, create a package.  For which <code>Rcpp.package.skeleton()</code> is a very good first step.</p>\n\n<p>Then <em>just drop all your source and header files</em> into <code>src/</code> and R will know how to do the rest.  You only need to declare more dependencies on external libraries if you actually use them.</p>\n\n<p>Then see the <a href=\"https://cran.r-project.org/web/packages/Rcpp/vignettes/Rcpp-attributes.pdf\" rel=\"nofollow\">Rcpp Attributes</a> vignette about exporting the access points which is essentially what you already do via <code>[[Rcpp::export]]</code> etc pp.</p>\n"}], "owner": {"reputation": 621, "user_id": 1635978, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3c868afa018c80a5683a4cf4b55fe508?s=128&d=identicon&r=PG", "display_name": "Wolfgang P&#246;&#223;necker", "link": "https://stackoverflow.com/users/1635978/wolfgang-p%c3%b6%c3%9fnecker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438188820, "creation_date": 1438187747, "question_id": 31706259, "link": "https://stackoverflow.com/questions/31706259/make-c-library-with-dependencies-available-in-r", "title": "Make C++ library with dependencies available in R", "body": "<p>I have found a C++ library from someone else which implements exactly what I need for my computations in <code>R</code>. Their library contains some 30ish .cpp and .h files that contain countless dependencies on each other. Their library also contains an installer file for matlab, but I would like to make the functionality of this library available in <code>R</code>. </p>\n\n<p>First, I thought of using the <code>sourceCpp</code> function from package <code>Rcpp</code>, but its documentation says it only works with standalone files. So the only option I see for now is to go through all files in said library, copy paste all shared functions in all .cpp files that make use of them to get standalone .cpp files and then <code>sourceCpp</code> them all. Is there a better way to make a whole, interdependent C++ library available in <code>R</code>?</p>\n"}, {"tags": ["c++", "multithreading", "openmp"], "comments": [{"owner": {"reputation": 9795, "user_id": 1566187, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00cb2ecc49f0f05736dc7c14bbccfeaa?s=128&d=identicon&r=PG", "display_name": "Ely", "link": "https://stackoverflow.com/users/1566187/ely"}, "edited": false, "score": 0, "creation_date": 1438187278, "post_id": 31706029, "comment_id": 51350595, "body": "Is it mandatory for you to use OpenMP or would you be open to use concurrency functionality of the C++ standard library? More people would be able to help in that case."}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 1, "creation_date": 1438187926, "post_id": 31706029, "comment_id": 51350957, "body": "Make sure you are turning on OpenMP, a pragma is something the compiler can ignore and it means nothing if you don&#39;t have /openmp.  Read the following, and tip #1 is what I am guessing your problem is: <a href=\"http://www.viva64.com/en/a/0054/#ID0EQAAE\" rel=\"nofollow noreferrer\">viva64.com/en/a/0054/#ID0EQAAE</a>"}], "answers": [{"tags": [], "owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1438187553, "creation_date": 1438187553, "answer_id": 31706205, "question_id": 31706029, "link": "https://stackoverflow.com/questions/31706029/reducing-time-by-using-openmp-parallelization/31706205#31706205", "title": "Reducing time by using OpenMP parallelization", "body": "<p>Only a partial answer but I couldn't stay silent on this</p>\n\n<blockquote>\n  <p>I tried this:</p>\n</blockquote>\n\n<pre><code>for(int i=omp_get_thread_num()*(24/nthread);i&lt;(omp_get_thread_num()+1)*(24/nthread);++i)\n  std::cout &lt;&lt; omp_get_thread_num() &lt;&lt; std::endl;\n</code></pre>\n\n<blockquote>\n  <p>Is it right?</p>\n</blockquote>\n\n<p>No, it's not right, not right at all !  The code is doing the work of dividing iterations across threads, a better model to follow would be</p>\n\n<pre><code>for(int i=0;i&lt;max_iters;++i)\n  do work depending on i\n</code></pre>\n\n<p>and the compiler/run-time will take care of dividing the work across threads.  Each thread will get its own set of values of <code>i</code> to work on. </p>\n\n<p>This simple pattern is only correct if each task inside the loop is independent of every other task, so no dependencies between <code>work(i)</code> and <code>work(i-1)</code> say.  But at the beginning that's probably enough to get you started.</p>\n\n<p>As for the rest of your question it looks as if you aren't actually running the code in parallel.  I suggest replacing</p>\n\n<pre><code>int nthread = omp_get_max_threads();\n#pragma omp parallel for num_threads(nthread)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>#pragma omp parallel for \n</code></pre>\n\n<p>that is, leave the number of threads to the default set up.  If that doesn't work, edit your question with the results of your further investigations.  And have a look round at SO, I'm fairly sure that you'll find a duplicate.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5169981"}, "is_accepted": false, "score": 0, "last_activity_date": 1438245642, "creation_date": 1438245642, "answer_id": 31718999, "question_id": 31706029, "link": "https://stackoverflow.com/questions/31706029/reducing-time-by-using-openmp-parallelization/31718999#31718999", "title": "Reducing time by using OpenMP parallelization", "body": "<p>RyanP, you were absolutely right, I missed the keyword openmp.\nI added it and now it works well! Thanks a lot.</p>\n\n<p>Also thank you High Performance Mark for your answer, </p>\n\n<pre><code>#pragma omp parallel for\n</code></pre>\n\n<p>was enough for what I wanted to do.</p>\n\n<p>I knew that </p>\n\n<pre><code>for(int i=omp_get_thread_num()*(24/nthread);i&lt;(omp_get_thread_num()+1)*(24/nthread);++i)\n  std::cout &lt;&lt; omp_get_thread_num() &lt;&lt; std::endl;\n</code></pre>\n\n<p>was wrong, but since the other things I tried didn't work, I tried insane things. Thanks for your explanation, it's clearer now.</p>\n\n<p>To resolve my problem, I simply add to my CMakeList.txt the following lines:</p>\n\n<pre><code>find_package(OpenMP)\nif (OPENMP_FOUND)\n    set (CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} ${OpenMP_C_FLAGS}\")\n    set (CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} ${OpenMP_CXX_FLAGS}\")\nendif()\n</code></pre>\n\n<p>And it works well.</p>\n\n<p>Thank you all</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5169981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438245642, "creation_date": 1438186944, "question_id": 31706029, "link": "https://stackoverflow.com/questions/31706029/reducing-time-by-using-openmp-parallelization", "title": "Reducing time by using OpenMP parallelization", "body": "<p>I'm trying to reduce the computation-time of my algorithm by using OpenMP parallelization (C++).\nI tried simple things, but I don't quite understand how it works...</p>\n\n<p>Here is my code:</p>\n\n<pre><code>int nthread = omp_get_max_threads();\n#pragma omp parallel for num_threads(nthread)\nfor(int i=0;i&lt;24;++i)\n  std::cout &lt;&lt; omp_get_thread_num() &lt;&lt; std::endl;\n</code></pre>\n\n<p>On my computer, nthread = 6. I don't understand why the output is:</p>\n\n<pre><code>0\n0\n0\n... (24 times)\n</code></pre>\n\n<p>Why doesn't it give my numbers from 0 to 5 ?</p>\n\n<p>If I understand it well (correct me if I'm wrong), in this code, there are 6 threads which will execute the std::cout command.\nThen, why do I have only \"0\" as an output ?</p>\n\n<p>Second thing: I would like to execute in each thread a certain part of the loop. I want to divide my loop in 6 (nthread) different parts, so that each can be executed by a different thread.</p>\n\n<p>Here, I want each of my 6 threads to execute</p>\n\n<pre><code>std::cout &lt;&lt; omp_get_thread_num() &lt;&lt; std::endl;\n</code></pre>\n\n<p>4 times.</p>\n\n<p>How can I do it? I tried this:</p>\n\n<pre><code>#pragma omp parallel for num_threads(nthread)\nfor(int i=omp_get_thread_num()*(24/nthread);i&lt;(omp_get_thread_num()+1)*(24/nthread);++i)\n  std::cout &lt;&lt; omp_get_thread_num() &lt;&lt; std::endl;\n</code></pre>\n\n<p>Is it right? The output I have is:</p>\n\n<pre><code>0\n0\n0\n0\n</code></pre>\n\n<p>Is it normal to have only the \"0\" thread and no other in the terminal?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c++", "oop", "c++11", "inheritance"], "comments": [{"owner": {"reputation": 857, "user_id": 2774358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7740eedc45b01cb059a83e41b6812045?s=128&d=identicon&r=PG&f=1", "display_name": "YoungJohn", "link": "https://stackoverflow.com/users/2774358/youngjohn"}, "edited": false, "score": 0, "creation_date": 1438187100, "post_id": 31705902, "comment_id": 51350469, "body": "the quick and dirty solution in C++ would be to use a <code>dynamic_cast</code> a la <code>SortingTestCase * sort_case = dynamic_cast&lt;SortingTestCase*&gt;(test_case);</code> Otherwise you may have to implement some further logic such as the Visitor Pattern to get these classes to communicate with each other."}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "reply_to_user": {"reputation": 857, "user_id": 2774358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7740eedc45b01cb059a83e41b6812045?s=128&d=identicon&r=PG&f=1", "display_name": "YoungJohn", "link": "https://stackoverflow.com/users/2774358/youngjohn"}, "edited": false, "score": 0, "creation_date": 1438188191, "post_id": 31705902, "comment_id": 51351097, "body": "<code>error: cannot dynamic_cast \u2018test_case\u2019 (of type \u2018class TestCase*\u2019) to type \u2018class SortingTestCase*\u2019 (source type is not polymorphic)</code> Does this mean that class <code>TestCase</code> is not polymorphic? How to make it polymorphic?"}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 0, "creation_date": 1438188623, "post_id": 31705902, "comment_id": 51351356, "body": "@golobich: in order to be polymorphic, <code>TestCase</code> must have at least one virtual function.  It almost certainly needs a virtual destructor, or you&#39;ll have problems when you try to clean things up..."}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1438189899, "post_id": 31705902, "comment_id": 51352174, "body": "aaaa nightmare...now I have memory leak :D I will fix this leak on my on (but just for the record, which tool to you find most helpful for memory leaks? Valgrind?). So, this dynamic_cast and virtual method/destructor, helped me solve this issue. If could on of you post answer with content of both yours comment, I will gladly accept it. Thank you."}, {"owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "edited": false, "score": 0, "creation_date": 1438193041, "post_id": 31705902, "comment_id": 51354007, "body": "I still don&#39;t get why you need to downcast to child class when implementing <code>init()</code>. Could you update your question with at least some pseudo-code?"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "reply_to_user": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "edited": false, "score": 0, "creation_date": 1438193777, "post_id": 31705902, "comment_id": 51354466, "body": "@HenriqueBarcelos for my BSc I am doing program to test users algorithm. So in <code>SortingTestCase</code> there would be probably some array and size of this array. If user create new project for Matrix multiplication, then there would probably be two 2D array and their size ofcourse. Because then in method <code>run</code> end user call method <code>execute</code> (that he wrote), and pass parameters. for instance <code>execute(test_case-&gt;array, test_case-&gt;size);</code> I don&#39;t need to downcast to child if there is an option to call this class members from <code>TestCase</code>. Is this clear know? If not I can provide source code"}, {"owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "edited": false, "score": 0, "creation_date": 1438203307, "post_id": 31705902, "comment_id": 51359869, "body": "I think I got it. Unfortunately, it&#39;s not possible to do this with C++ (and probably neither with Java as you stated). Child-specific members cannot be accessed from base class because the base is not able to know details of the implementation of its child. Also, this means that you are violating the <a href=\"http://www.oodesign.com/liskov-s-substitution-principle.html\" rel=\"nofollow noreferrer\">LSP</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "is_accepted": true, "score": 0, "last_activity_date": 1438370222, "creation_date": 1438370222, "answer_id": 31753593, "question_id": 31705902, "link": "https://stackoverflow.com/questions/31705902/convert-parent-to-child/31753593#31753593", "title": "Convert parent to child", "body": "<p>If you want to cast Parent to Child, all you need to do is to write this:</p>\n\n<pre><code>child = dynamic_cast&lt;Child*&gt;(parent_object)\n</code></pre>\n\n<p>But in order to do so, your source class (Parent class) must have at least one virtual method! It almost certainly needs a virtual destructor, or you'll have problems when you try to clean things up... </p>\n"}], "owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 31753593, "answer_count": 1, "score": 1, "last_activity_date": 1438370222, "creation_date": 1438186572, "last_edit_date": 1438191643, "question_id": 31705902, "link": "https://stackoverflow.com/questions/31705902/convert-parent-to-child", "title": "Convert parent to child", "body": "<p>I have class called <code>AbsAlgorithm</code> with three pure virtual functions like this:</p>\n\n<pre><code>class AbsAlgorithm\n{\npublic:\n    //...other methods\n    virtual void run() = 0;\n    virtual bool init(TestCase&amp;) = 0;\n    virtual void done() = 0;\n};\n</code></pre>\n\n<p>This class is in my executable, called <code>algatorc</code>. End-user must create algatorc project and must also implement these three methods. But the problem is this: he must also inherit <code>TestCase</code> class. which is parameter in <code>init</code> method. In my main program, I must compile code that user wrote, and build dynamic library and load it into my program. I did that. The problem is when I call <code>init</code> method. </p>\n\n<p>Example:</p>\n\n<p>User creates new algatorc project called <code>Sorting</code>.</p>\n\n<p>So he ends up with three classes: </p>\n\n<ul>\n<li><code>SortingTestSetIterator</code></li>\n<li><code>SortingTestCase</code></li>\n<li><code>SortingAbsAlgorithm</code></li>\n</ul>\n\n<p>In this <code>SortingAbsAlgorithm</code> he inherits <code>AbsAlgorithm</code> and implements pure virtual methods. In <code>SortingTestCase</code> he must inherit <code>TestCase</code> class and in <code>SortingTestSetIterator</code> he must inherit <code>TestSetIterator</code> and implement method called <code>get_current()</code>, which returns <code>TestCase</code>. </p>\n\n<p>My main program I loaded <code>SortingTestSetIterator</code> into <code>TestSetIterator</code>, like this:</p>\n\n<pre><code>create_it = (TestSetIterator* (*)())dlsym(handle, \"create_iterator_object\");\nTestSetIterator *it = (TestSetIterator*)create_it();\n</code></pre>\n\n<p>So now, I can call methods like <code>TestSetIterator::get_current()</code> (this method returns pointer to <code>TestCase</code>, but user returns object of SortingTestCase). But when I call this method, as a result, I get <code>TestCase</code>. This is all ok, but then I need to pass this to <code>AbsAlgorithm::init(...)</code>. Sure, still no problem, but when user implemented method <code>init(...)</code>, he must convert this to child class (<code>SortingTestCase</code>). Is this possible?</p>\n\n<p>I know that this is trivial in Java, but I don't know how to do this in C++. Or is it a way that I define method <code>TestCase* TestSetIterator::get_current()</code> and then user somehow redefine this so that return type is <code>SortingTestCase</code>? Would this solve the problem? </p>\n\n<p>Basically, problem is this:</p>\n\n<p>I have method <code>SortingTestSetIterator::get_current()</code> that returns pointer to instance of <code>SortingTestCase</code> class. So, is it somehow posible to convert parent to child?</p>\n"}, {"tags": ["c++", "parallel-processing", "mpi", "openmpi"], "answers": [{"comments": [{"owner": {"reputation": 47129, "user_id": 463827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwR2m.jpg?s=128&g=1", "display_name": "Jonathan Dursi", "link": "https://stackoverflow.com/users/463827/jonathan-dursi"}, "edited": false, "score": 0, "creation_date": 1438269688, "post_id": 31726730, "comment_id": 51391453, "body": "+1; you <i>could</i> deal with text files this way (eg, <a href=\"http://stackoverflow.com/a/12942718/463827\">this answer here</a>) but text is a lousy way to deal with large amounts numeric data, as Rob Latham points out; it&#39;s also way slower.  CSV files map very nicely to <a href=\"https://www.hdfgroup.org/HDF5/Tutor/h5table.html\" rel=\"nofollow noreferrer\">HDF5 tables</a>, or you can just use a 2d array in as an HDF5 dataset if all of the columns are of the same type. If there&#39;s not much computation being done and you know some python, <a href=\"http://docs.h5py.org/en/latest/mpi.html\" rel=\"nofollow noreferrer\">h5py</a> is much nicer than the HDF5 C interface."}, {"owner": {"reputation": 304, "user_id": 2486448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c9fa9a9074b7281846ff93be1fedb3c?s=128&d=identicon&r=PG", "display_name": "kensaii", "link": "https://stackoverflow.com/users/2486448/kensaii"}, "edited": false, "score": 0, "creation_date": 1438292026, "post_id": 31726730, "comment_id": 51404283, "body": "thanks, Rob and Jonathan! i wish to give you guys a thumb-up but i don&#39;t have enough reputation. an arbitrary line contains 5 values, but could be negative or positive, so divide by size is not an option. i will try hdf5, it seems to be a promising solution. thanks again"}], "tags": [], "owner": {"reputation": 4724, "user_id": 1024740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1037d544b43c71c34225fac55e0c7750?s=128&d=identicon&r=PG", "display_name": "Rob Latham", "link": "https://stackoverflow.com/users/1024740/rob-latham"}, "is_accepted": true, "score": 1, "last_activity_date": 1438266943, "creation_date": 1438266943, "answer_id": 31726730, "question_id": 31705877, "link": "https://stackoverflow.com/questions/31705877/copy-large-data-file-using-parallel-i-o/31726730#31726730", "title": "Copy large data file using parallel I/O", "body": "<p>You are way too early to worry about lustre stripes, aside from the fact that lustre stripes are by default something ridiculously small for a \"parallel file system\".    Increase the stripe size of the directory where you will write and read these files with <code>lfs setstripe</code></p>\n\n<p>Your first challenge will be how to decompose this CSV file.   What does a typical row look like?  If the rows are of variable length, you're going to have a bit of a headache.  Here's why:</p>\n\n<p>consider a CSV file with 3 rows and 3 MPI processes.  </p>\n\n<ol>\n<li>One row is <code>aa,b,c</code> (8 bytes).  </li>\n<li>row is <code>aaaaaaa,bbbbbbb,ccccccc</code> (24 bytes). </li>\n<li>third row is <code>,,c</code> (4 bytes) .  </li>\n</ol>\n\n<p>(darnit, markdown, how do I make this list start at zero?)</p>\n\n<p>Rank 0 can read from the beginning of the file, but where will rank 1 and 2 start?  If you simply divide total size (8+24+4=36) by 3, then the decomposistion is </p>\n\n<ol>\n<li>0 ends up reading  <code>aa,b,c\\naaaaaa</code>, </li>\n<li>1 reads <code>a,bbbbbbb,ccc</code>, and</li>\n<li>reads <code>cccc\\n,,c\\n</code></li>\n</ol>\n\n<p>The two approaches to unstructured text input are as follows.  One option is to index your file, either after the fact or as the file is being generated.  This index would store the beginning offset of every row.  Rank 0 reads the offset  then broadcasts to everyone else. </p>\n\n<p>The second option is to do this initial decomposition by file size, then fix up the splits.  In the above simple example, rank 0 would send everything after the newline to rank 1.  Rank 1 would receive the new data and glue it to the beginning of its row and send everything after its own newline to rank 2.  This is extremely fiddly and I would not suggest it for someone just starting MPI-IO.</p>\n\n<p>HDF5 is a good option here!  Instead of trying to write your own parallel CSV parser, have your CSV creator generate an HDF5 dataset.  HDF5, among other features, will keep that index i mentioned for you, so you can set up hyperslabs and do parallel reading and writing.  </p>\n"}], "owner": {"reputation": 304, "user_id": 2486448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c9fa9a9074b7281846ff93be1fedb3c?s=128&d=identicon&r=PG", "display_name": "kensaii", "link": "https://stackoverflow.com/users/2486448/kensaii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "accepted_answer_id": 31726730, "answer_count": 1, "score": 0, "last_activity_date": 1447368321, "creation_date": 1438186502, "last_edit_date": 1447368321, "question_id": 31705877, "link": "https://stackoverflow.com/questions/31705877/copy-large-data-file-using-parallel-i-o", "title": "Copy large data file using parallel I/O", "body": "<p>I have a fairly big data set, about 141M lines with .csv formatted. I want to use <a href=\"http://en.wikipedia.org/wiki/Message_Passing_Interface\" rel=\"nofollow\">MPI</a> commands with C++ to copy and manipulate a few columns, but I'm a newbie on both C++ and MPI.</p>\n\n<p>So far my code looks like this</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include \"mpi.h\"\n\nusing namespace std;\n\nint main(int argc, char **argv)\n{\n    int i, rank, nprocs, size, offset, nints, bufsize, N=4;\n    MPI_File fp, fpwrite; // File pointer\n    MPI_Status status;\n    MPI_Offset filesize;\n    MPI_Init(&amp;argc, &amp;argv);\n    MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);\n    MPI_Comm_size(MPI_COMM_WORLD, &amp;nprocs);\n    MPI_File_get_size(fp, &amp;filesize);\n\n    int buf[N];\n    for (i = 0; i&lt;N; i++)\n        buf[i] = i;\n    offset = rank * (N/size)*sizeof(int);\n    MPI_File_open(MPI_COMM_WORLD, \"new.csv\", MPI_MODE_RDONLY, MPI_INFO_NULL, &amp;fp);\n\n    MPI_File_open(MPI_COMM_WORLD, \"Ntest.csv\", MPI_MODE_CREATE|MPI_MODE_WRONLY, MPI_INFO_NULL, &amp;fpwrite);\n\n    MPI_File_read(fp, buf, N, MPI_INT, &amp;status);\n\n    // printf(\"\\nrank: %d, buf[%d]: %d\\n\", rank, rank*bufsize, buf[0]);\n    printf(\"My rank is: %d\\n\", rank);\n    MPI_File_write_at(fpwrite, offset, buf, (N/size), MPI_INT, &amp;status);\n\n    /* // repeat the process again\n    MPI_Barrier(MPI_COMM_WORLD);\n    printf(\"2/ My rank is: %d\\n\", rank); */\n\n    MPI_File_close(&amp;fp);\n    MPI_File_close(&amp;fpwrite);\n    MPI_Finalize();\n}\n</code></pre>\n\n<p>I'm not sure where to start, and I've seen a few examples with lustre stripes. I would like to go that direction if possible. Additional options include HDF5 and T3PIO.</p>\n"}, {"tags": ["c++", "linux", "templates", "cuda"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1438186436, "post_id": 31705764, "comment_id": 51350037, "body": "I wonder what is the point adding tag for a different language not related to a question?"}, {"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 0, "creation_date": 1438186991, "post_id": 31705764, "comment_id": 51350402, "body": "which CUDA version are you using?"}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 1, "creation_date": 1438187337, "post_id": 31705764, "comment_id": 51350623, "body": "You haven&#39;t passed any template arguments anywhere I can see. Also, what is getMax?"}, {"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 0, "creation_date": 1438188452, "post_id": 31705764, "comment_id": 51351257, "body": "are you actually compiling using <code>nvcc</code>?"}, {"owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1438189688, "post_id": 31705764, "comment_id": 51352049, "body": "@talonmies The earlier declaration of getMax() should have read myKernel().  I have edited the code to return to consistency."}, {"owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "reply_to_user": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 0, "creation_date": 1438189693, "post_id": 31705764, "comment_id": 51352052, "body": "@m.s. The compiler is using nvcc (/usr/local/cuda-7.0/bin/nvcc) for all the code.  I have tried to simplify my question to only the pertinent parts.  I have already used my code to do successfully perform some basic CUDA tasks so the basic setup is sound."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "reply_to_user": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 3, "creation_date": 1438196675, "post_id": 31705764, "comment_id": 51356179, "body": "Of course your posted code has no <code>main</code> function, for example.  Presumably that is in some other file, probably a .cpp file.  When you include the posted <code>MyKernels.cu.h</code> in a .cpp file in your project, that will be handled by the regular host compiler (even if you are compiling it with <code>nvcc</code>) and the host compiler will choke on the kernel launch syntax (<code>&lt;&lt;&lt;...&gt;&gt;&gt;</code>) just as you have indicated in your question.  This is the reason for the pointed question by @m.s &quot;are you actually compiling using nvcc&quot; A more complete representation of what you are doing might be better to avoid this churn."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1438199641, "post_id": 31705764, "comment_id": 51357799, "body": "In your header file, in the template function definition, you could just call a wrapper function (could even be templated) rather than the <code>myKernel</code> itself.  Then in MyKernels.cu you could define the wrapper function, and have it call the kernel."}, {"owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1438377746, "post_id": 31705764, "comment_id": 51444343, "body": "@RobertCrovella I have tried to provide wrapper functions for the kernel calls, but I run into the same problem.  The wrappers are template functions which need to be in the *.cu.h header, but they, in turn, call kernel functions, which use the triple-chevron, which isn&#39;t properly parsed in the *.cu.h.  I think I will try to create a very simple project so that I can provide a full set of simple code to illustrate the problem more completely."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "edited": false, "score": 0, "creation_date": 1438616897, "post_id": 31757218, "comment_id": 51511133, "body": "The real key was the very end.  &quot;Note the forced template instantiation. This will be necessary if you want a template specialization to occur in one compilation unit (a .cu file, where kernel definitions belong), so it is usable in another compilation unit (a .cpp file, which does not understand cuda syntax).&quot;  Once I added a section like      &quot;template void MyClass::myFunction(float *, int);&quot;  it was able to resolve.  Thanks!"}], "tags": [], "owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "is_accepted": true, "score": 2, "last_activity_date": 1438396496, "last_edit_date": 1438396496, "creation_date": 1438391089, "answer_id": 31757218, "question_id": 31705764, "link": "https://stackoverflow.com/questions/31705764/cuda-c-using-a-template-function-which-calls-a-template-kernel/31757218#31757218", "title": "CUDA C++: Using a template function which calls a template kernel", "body": "<p>The wrapper function declaration needs to be in the header file.  The function definition does not.</p>\n\n<p>Here is what I had in mind:</p>\n\n<pre><code>$ cat MyClass.cuh\ntemplate &lt;typename T&gt; void kernel_wrapper(T*, int);\nclass MyClass{\n  public:\n    template &lt;typename T&gt; void myFunction(T* param1, int param2);\n};\n\ntemplate &lt;typename T&gt; void MyClass::myFunction(T* param1, int param2){\n    kernel_wrapper(param1, param2);\n}\n$ cat MyKernels.cu\n#include \"MyClass.cuh\"\n#define nTPB 256\n\ntemplate &lt;typename T&gt;\n__global__ void myKernel(T* param1, int param2){\n\n  int i = threadIdx.x+blockDim.x*blockIdx.x;\n  if (i &lt; param2){\n    param1[i] += (T)param2;\n  }\n}\n\ntemplate &lt;typename T&gt;\nvoid kernel_wrapper(T* param1, int param2){\n  myKernel&lt;&lt;&lt;(param2+nTPB-1)/nTPB,nTPB&gt;&gt;&gt;(param1, param2);\n  cudaDeviceSynchronize();\n}\n\ntemplate void MyClass::myFunction(float *, int);\ntemplate void MyClass::myFunction(int *, int);\n\n$ cat mymain.cpp\n#include \"MyClass.cuh\"\n\nint main(){\n\n  MyClass A;\n  float *fdata;\n  int *idata, size;\n  A.myFunction(fdata, size);\n  A.myFunction(idata, size);\n}\n\n$ nvcc -c MyKernels.cu\n$ g++ -o test mymain.cpp MyKernels.o -L/usr/local/cuda/lib64 -lcudart\n$\n</code></pre>\n\n<p>Note the forced template instantiation.  This will be necessary if you want a template specialization to occur in one compilation unit (a .cu file, where kernel definitions belong), so it is usable in another compilation unit (a .cpp file, which does not understand cuda syntax).</p>\n"}], "owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 2, "accepted_answer_id": 31757218, "answer_count": 1, "score": 1, "last_activity_date": 1438396496, "creation_date": 1438186196, "last_edit_date": 1438381150, "question_id": 31705764, "link": "https://stackoverflow.com/questions/31705764/cuda-c-using-a-template-function-which-calls-a-template-kernel", "title": "CUDA C++: Using a template function which calls a template kernel", "body": "<p>I have a class which has a template function.  This function calls a template kernel.  I'm doing my development in Nsight on a Linux box.  In doing this, I encounter the following pair of conflicting requirements:</p>\n\n<p>1 - When implementing a template function, the definition must appear in the *.h (or *.cu.h) file since the code is not generated until the template is needed.</p>\n\n<p>2 - Kernel code must appear in the *.cu, since the compiler is not able to recognize the &lt;&lt;&lt; and >>> tokens when they are in the header file.</p>\n\n<p>I think there is probably a way to get around the second one with a little compiler voodoo.  </p>\n\n<p>When I set up the system where the template member function is in the *.cu.h file, I get the following compiler errors:</p>\n\n<p>error: expected primary-expression before '&lt;' token</p>\n\n<p>error: expected primary-expression before '>' token</p>\n\n<p>This seems indicative that it is parsing the &lt;&lt; and then the >> tokens and not recognizing the &lt;&lt;&lt; or >>> tokens.</p>\n\n<p>An general outline of structure of the pertinent parts of the code is below:</p>\n\n<p>In MyClass.cu.h:</p>\n\n<pre><code>#include \"MyKernels.cu.h\"\n\nclass MyClass{\n    template &lt;typename T&gt; void myFunction(T* param1, int param2);\n};\n\ntemplate &lt;typename T&gt; void myFunction(T* param1, int param2){\n    blocks = 16;\n    blockSize = 512;\n    myKernel&lt;&lt;&lt;blocks, bockSize&gt;&gt;&gt;(d_param1, param2);\n}\n</code></pre>\n\n<p>In MyKernels.cu.h:</p>\n\n<pre><code>#ifndef MYKERNELS_H_\n#define MYKERNELS_H_\n\ntemplate &lt;typename T&gt;\nextern __global__ void myKernel(T* param1, int param2);\n#endif\n</code></pre>\n\n<p>In MyKernels.cu:</p>\n\n<pre><code>#include \"MyKernels.cu.h\"\n\ntemplate&lt;typename T&gt;\n__global__ void myKernel(T* param1, int param2){\n    //Do stuff\n}\n</code></pre>\n\n<p><strong>Edit 7/31/2015:</strong>\nTo make the structure of what I am trying to accomplish a little more clear, I have written a small demonstrative project.  It is posted publicly on github at the following URL:</p>\n\n<p><a href=\"https://github.com/nvparrish/CudaTemplateProblem\" rel=\"nofollow\">https://github.com/nvparrish/CudaTemplateProblem</a></p>\n"}, {"tags": ["c++", "windows", "multithreading", "exception-handling", "crash"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 571950, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8e17f91438363e08d4def63f01466dd6?s=128&d=identicon&r=PG", "display_name": "Jakob Simon-Gaarde", "link": "https://stackoverflow.com/users/571950/jakob-simon-gaarde"}, "edited": false, "score": 0, "creation_date": 1438691715, "post_id": 31801035, "comment_id": 51544292, "body": "This was kind of what I already knew. The problem was that I didn&#39;t know how to intercept threads from 3rd party libraries to setup terminate functions for each. I have solved this now and will post it soon."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2610678"}, "is_accepted": false, "score": 0, "last_activity_date": 1438664562, "creation_date": 1438664562, "answer_id": 31801035, "question_id": 31705687, "link": "https://stackoverflow.com/questions/31705687/c-crash-exception-handler-in-qt-application-with-thread-support-on-windows/31801035#31801035", "title": "C++ Crash/exception handler in Qt application with thread support on Windows", "body": "<p>According to <a href=\"https://msdn.microsoft.com/en-us/library/t6fk7h29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">MSDN</a>:</p>\n\n<blockquote>\n  <p>In a multithreaded environment, terminate functions are maintained\n  separately for each thread. Each new thread needs to install its own\n  terminate function. Thus, each thread is in charge of its own\n  termination handling.</p>\n</blockquote>\n\n<p>I guess you have to set it separately for each thread.</p>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 571950, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8e17f91438363e08d4def63f01466dd6?s=128&d=identicon&r=PG", "display_name": "Jakob Simon-Gaarde", "link": "https://stackoverflow.com/users/571950/jakob-simon-gaarde"}, "is_accepted": true, "score": 4, "last_activity_date": 1438942309, "last_edit_date": 1438942309, "creation_date": 1438692910, "answer_id": 31809931, "question_id": 31705687, "link": "https://stackoverflow.com/questions/31705687/c-crash-exception-handler-in-qt-application-with-thread-support-on-windows/31809931#31809931", "title": "C++ Crash/exception handler in Qt application with thread support on Windows", "body": "<p>After very much research combined with my lack of knowledge on the Windows OS I finally reached a working solution that automatically sets up terminate functions for new threads.</p>\n\n<p>The trick is to create a dll to handle your crashes/exceptions. In your dll implement the reserved <code>DllMain()</code> function. This function receives notifications every time a new thread or process is attached to the main process. The <code>fdwReason</code> parameter holds information about the event.</p>\n\n<ul>\n<li>New thread: <code>DLL_THREAD_ATTACH</code></li>\n<li>New process: <code>DLL_PROCESS_ATTACH</code></li>\n</ul>\n\n<p>Implement your termination handlers in the dll and call <code>signal()</code> and <code>std::set_terminate()</code> for each thread or process that is started.</p>\n\n<pre><code>BOOL WINAPI DllMain(\n  _In_ HINSTANCE hinstDLL,\n  _In_ DWORD     fdwReason,\n  _In_ LPVOID    lpvReserved) {\n    if (fdwReason==DLL_THREAD_ATTACH) {\n        signal(SIGSEGV, seg_handler);\n        std::set_terminate( std_handler );\n    }\n    if (fdwReason==DLL_PROCESS_ATTACH) {\n        signal(SIGSEGV, seg_handler);\n        std::set_terminate( std_handler );\n    }\n    return TRUE;\n}\n</code></pre>\n\n<p>My handlers look like this:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include \"StackWalker.h\"\n#include &lt;signal.h&gt;\n#include &lt;DbgHelp.h&gt;\n#include &lt;iostream&gt;\n#include &lt;qdebug.h&gt;\n\nvoid seg_handler(int sig) {\n    // Simple callstack\n    unsigned int   i;\n    void         * stack[ 100 ];\n    unsigned short frames;\n    SYMBOL_INFO  * symbol;\n    HANDLE         process;\n\n    process = GetCurrentProcess();\n    SymInitialize( process, NULL, TRUE );\n    frames               = CaptureStackBackTrace( 0, 100, stack, NULL );\n    symbol               = ( SYMBOL_INFO * )calloc( sizeof( SYMBOL_INFO ) + 256 * sizeof( char ), 1 );\n    symbol-&gt;MaxNameLen   = 255;\n    symbol-&gt;SizeOfStruct = sizeof( SYMBOL_INFO );\n\n    for( i = 0; i &lt; frames; i++ ) {\n        SymFromAddr( process, ( DWORD64 )( stack[ i ] ), 0, symbol );\n        printf( \"%i: %s - 0x%0X\\n\", frames - i - 1, symbol-&gt;Name, symbol-&gt;Address );\n    }\n\n    free( symbol );\n\n    // Detailed callstack/crashinfo\n    StackWalker sw;\n    sw.ShowCallstack(GetCurrentThread());\n    exit(1);\n}\n\nvoid std_handler( void ) {\n     seg_handler(1);\n}\n</code></pre>\n\n<p>The handlers above use <a href=\"http://www.codeproject.com/Articles/11132/Walking-the-callstack\" rel=\"nofollow\">StackWalker</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Of course you need to add the termination handlers to your main thread as well:</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n    CALL_LOGGER();\n    signal(SIGSEGV, seg_handler);\n    std::set_terminate( std_handler );\n    return runapp(argc, argv);\n}\n</code></pre>\n\n<p>Hope this helps someone</p>\n\n<p>-Jakob</p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 571950, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8e17f91438363e08d4def63f01466dd6?s=128&d=identicon&r=PG", "display_name": "Jakob Simon-Gaarde", "link": "https://stackoverflow.com/users/571950/jakob-simon-gaarde"}, "edited": false, "score": 1, "creation_date": 1438849063, "post_id": 31845814, "comment_id": 51621003, "body": "The nice thing about using signal is that it works on all the platforms my application runs on. I might make som extra windows specific handling though - thanks for the info."}], "tags": [], "owner": {"reputation": 16736, "user_id": 2131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c24f48337a2b94fa2da84c01a7667f9?s=128&d=identicon&r=PG", "display_name": "DrPizza", "link": "https://stackoverflow.com/users/2131/drpizza"}, "is_accepted": false, "score": 1, "last_activity_date": 1438827754, "creation_date": 1438827754, "answer_id": 31845814, "question_id": 31705687, "link": "https://stackoverflow.com/questions/31705687/c-crash-exception-handler-in-qt-application-with-thread-support-on-windows/31845814#31845814", "title": "C++ Crash/exception handler in Qt application with thread support on Windows", "body": "<p>I suspect that <code>SetUnhandledExceptionFilter</code> is a better way of trapping crashes on Windows than <code>signal</code>.  It's set globally (so you don't need the DLL to install a handler in each thread) and doesn't discard information about the fault (it's possible there's some way of recovering the true cause of the <code>SIGSEGV</code> but I don't immediately know how).</p>\n"}], "owner": {"reputation": 611, "user_id": 571950, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8e17f91438363e08d4def63f01466dd6?s=128&d=identicon&r=PG", "display_name": "Jakob Simon-Gaarde", "link": "https://stackoverflow.com/users/571950/jakob-simon-gaarde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2201, "favorite_count": 1, "accepted_answer_id": 31809931, "answer_count": 3, "score": 6, "last_activity_date": 1438942309, "creation_date": 1438185981, "last_edit_date": 1438242318, "question_id": 31705687, "link": "https://stackoverflow.com/questions/31705687/c-crash-exception-handler-in-qt-application-with-thread-support-on-windows", "title": "C++ Crash/exception handler in Qt application with thread support on Windows", "body": "<p>I want to make a crash/exception handler for my Qt application. I have the handler working already (not included in the code below). The problem is on Windows that it only works if the crash occures in the same thread where <code>signal()</code> and <code>std::set_terminate()</code> is called.</p>\n\n<p>On Linux it seems to work for all threads by default.</p>\n\n<p>Is there a way to make it work for all application threads on Windows?</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include &lt;QApplication&gt;\n#include &lt;stdio.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;exception&gt;\n\nvoid seg_handler(int sig)\n{\n    // Crash/exception handling code\n    // ...\n    exit(1);\n}\n\nvoid std_handler( void ) {\n     seg_handler(1);\n}\n\nint main(int argc, char *argv[]) {\n\n    signal(SIGSEGV, seg_handler);\n    std::set_terminate( std_handler );\n\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n"}, {"tags": ["c++", "cmake", "visual-studio-2015", "static-linking", "dynamic-linking"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1438186005, "post_id": 31705598, "comment_id": 51349765, "body": "<a href=\"https://stackoverflow.com/questions/767579/exporting-classes-containing-std-objects-vector-map-etc-from-a-dll?rq=1\" title=\"exporting classes containing std objects vector map etc from a dll\">stackoverflow.com/questions/767579/&hellip;</a>"}, {"owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1438192893, "post_id": 31705598, "comment_id": 51353911, "body": "Thanks, but I&#39;m already following most of the guidance there.  This doesn&#39;t address the issues with static linking and nor does it address the changes in VS2015."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1448661614, "post_id": 31705598, "comment_id": 55688055, "body": "This is more-or-less a duplicate of <a href=\"http://stackoverflow.com/q/22797418/103167\">stackoverflow.com/q/22797418/103167</a>"}, {"owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1448754030, "post_id": 31705598, "comment_id": 55711888, "body": "@BenVoigt Note that the post you linked to is far more general and involves potentially using different VC versions; the question here does not."}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "is_accepted": false, "score": 0, "last_activity_date": 1438265809, "creation_date": 1438265809, "answer_id": 31726234, "question_id": 31705598, "link": "https://stackoverflow.com/questions/31705598/using-and-exporting-stdstring-and-stdvectorstdstring-with-visual-studio/31726234#31726234", "title": "Using and exporting std::string and std::vector&lt;std::string&gt; with Visual Studio 2015", "body": "<p>Removing the export of <code>std::char_traits&lt;char&gt;</code>:</p>\n\n<pre><code>b_EXPORT_TEMPLATE template struct b_EXPORT std::char_traits&lt;char&gt;;\n</code></pre>\n\n<p>removes the static linking errors.</p>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "edited": false, "score": 2, "creation_date": 1448753947, "post_id": 33965273, "comment_id": 55711871, "body": "Note that this question is <i>not</i> about making things work across multiple visual C++ versions.  It&#39;s about exporting and using STL types for use with a single VC version."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1448661524, "creation_date": 1448661524, "answer_id": 33965273, "question_id": 31705598, "link": "https://stackoverflow.com/questions/31705598/using-and-exporting-stdstring-and-stdvectorstdstring-with-visual-studio/33965273#33965273", "title": "Using and exporting std::string and std::vector&lt;std::string&gt; with Visual Studio 2015", "body": "<p>There is nothing that you can do to make this work across multiple versions of Visual C++.  The class definitions are different in each version, so if you try to link mixed versions together, you violate the One Definition Rule.</p>\n\n<p>No good ever comes of exporting Standard Library objects across DLL boundaries, I suggest you find a simpler way (using standard-layout types only) of passing the data around.</p>\n"}], "owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2259, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1448661524, "creation_date": 1438185718, "last_edit_date": 1438596377, "question_id": 31705598, "link": "https://stackoverflow.com/questions/31705598/using-and-exporting-stdstring-and-stdvectorstdstring-with-visual-studio", "title": "Using and exporting std::string and std::vector&lt;std::string&gt; with Visual Studio 2015", "body": "<p>With VS2013 and a suitable export macro, I could use this example code to export std::string and std::vector:</p>\n\n<pre><code>#ifdef _MSC_VER\n// Explicit template exports.\nc_EXPORT_TEMPLATE template class c_EXPORT std::allocator&lt;char&gt;;\nc_EXPORT_TEMPLATE template struct c_EXPORT std::char_traits&lt;char&gt;;\nc_EXPORT_TEMPLATE template class c_EXPORT std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;;\nc_EXPORT_TEMPLATE template class c_EXPORT std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;;\nc_EXPORT_TEMPLATE template class c_EXPORT std::vector&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;;\n#endif\n</code></pre>\n\n<p>(compilable testcase here: <a href=\"https://github.com/rleigh-dundee/dlltest\" rel=\"nofollow\">https://github.com/rleigh-dundee/dlltest</a>)--this works both as a static library or as DLLs using</p>\n\n<blockquote>\n  <p>cmake -G \"Visual Studio 12 2013 Win64\" -DBUILD_SHARED_LIBS=ON|OFF /path/to/source</p>\n</blockquote>\n\n<p>With VS2015 (\"Visual Studio 14 2015 Win64\") I get warnings when compiling with a DLL related to std::string:</p>\n\n<blockquote>\n  <p>c:\\users\\rleigh\\libtest\\a.h(30): warning C4251:\n  'std::_String_alloc>::_Mypair':\n  class\n  'std::_Compressed_pair>,std::_String_val>,true>'\n  needs to have dll-interface to be used by clients of class\n  'std::_String_alloc>'</p>\n</blockquote>\n\n<p>and similarly for std::vector:</p>\n\n<blockquote>\n  <p>C:\\Program Files (x86)\\Microsoft Visual Studio\n  14.0\\VC\\include\\vector(679): warning C4251: 'std::_Vector_alloc>::_Mypair': class\n  'std::_Compressed_pair,std::allocator>>>,std::_Vector_val,std::allocator>>>,true>'\n  needs to have dll-interface to be used by clients of class\n  'std::_Vector_alloc>'</p>\n</blockquote>\n\n<p>While these are, in this contrived testcase, seemingly harmless and test tests run fine, I would like to fix them.</p>\n\n<p>More seriously, if I use static libraries in place of DLLs, linking fails entirely:</p>\n\n<blockquote>\n  <p>c.lib(c.obj) : error LNK2001: unresolved external symbol \"public:\n  static unsigned __int64 const std::basic_string,class std::allocator >::npos\"\n  (?npos@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@2_KB)</p>\n</blockquote>\n\n<p>I have also encountered this latter error trying to build other projects with VS2015.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>What exactly has changed in VS2015 to the string and vector classes?</li>\n<li>Am I exporting the string and vector classes properly here?  I thought it matched the guidance here: <a href=\"https://support.microsoft.com/en-us/kb/168958\" rel=\"nofollow\">https://support.microsoft.com/en-us/kb/168958</a></li>\n<li>What changes should I make to fix the static link error and DLL warnings so that it will work in both VS2015 and VS2013? (I'll leave 2012 for another day since it has a separate set of issues).</li>\n</ol>\n\n<p>Many thanks for your insights,\nRoger</p>\n"}, {"tags": ["c++", "vector", "indexing", "iterator"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 3, "creation_date": 1438185526, "post_id": 31705418, "comment_id": 51349453, "body": "iterators will become invalid as soon as you modify the collection they iterate on. Indices are better, but you need to make guarantees that no reordering of the collection happens. I would instead store <code>Point*</code>"}, {"owner": {"reputation": 7789, "user_id": 2357837, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/035467770d62d867f62487dc025f043d?s=128&d=identicon&r=PG", "display_name": "ChronoTrigger", "link": "https://stackoverflow.com/users/2357837/chronotrigger"}, "edited": false, "score": 1, "creation_date": 1438185705, "post_id": 31705418, "comment_id": 51349576, "body": "<code>Point*</code> may also become invalid if the actual object is stored in a vector that is modified. If the vector is not going to be modified, I think integer and pointers will yield the same solution in terms of memory, but pointers save one indirection."}, {"owner": {"reputation": 93, "user_id": 5095127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0597e1ae7cc925ae2e85e34d4dbc50?s=128&d=identicon&r=PG&f=1", "display_name": "timestamp", "link": "https://stackoverflow.com/users/5095127/timestamp"}, "edited": false, "score": 0, "creation_date": 1438186140, "post_id": 31705418, "comment_id": 51349842, "body": "Pointers are an interesting idea. However I never quite worked them out for me. Instead of going over the indices, I could use pointers right away, couldn&#39;t I? I just can&#39;t figure out how to get a pointer to Point from an std:.vector&lt;Point&gt;::iterator."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1438187632, "post_id": 31705418, "comment_id": 51350769, "body": "std::vector&lt;uint32_t&gt;  saves 32 bit on 64 bit system (note it&#39;s unsigned)"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1438190188, "post_id": 31705418, "comment_id": 51352333, "body": "If you can use a std::list to store your points, then you could use iterators even if inserting or deleting points."}, {"owner": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1438190503, "post_id": 31705418, "comment_id": 51352531, "body": "@AndyG Iterator and pointer is almost the same thing in the case of the <code>vector</code>. Pointer can also become invalid when you modify the collection. If I had to choose between the two, I would choose the iterator, because it is the standard method of position in the vector. The indicator is simply a dirty way to do the same."}, {"owner": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "edited": false, "score": 0, "creation_date": 1438191094, "post_id": 31705418, "comment_id": 51352883, "body": "@NO_NAME &quot;indicator&quot; - I meant &quot;pointer&quot;. Never use a translator, even if you&#39;re in a hurry."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "edited": false, "score": 1, "creation_date": 1438193509, "post_id": 31705418, "comment_id": 51354291, "body": "@NO_NAME: I should have been more clear, the pointers should NOT point at memory addresses within the vector. The <code>Point</code> objects themselves can be dynamically allocated, inserted into the first vector (of <code>Point*</code>) and then the second vector points at the same memory locations as the first one. The first vector, owning the memory, is responsible for deletion."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 7789, "user_id": 2357837, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/035467770d62d867f62487dc025f043d?s=128&d=identicon&r=PG", "display_name": "ChronoTrigger", "link": "https://stackoverflow.com/users/2357837/chronotrigger"}, "edited": false, "score": 0, "creation_date": 1438193600, "post_id": 31705418, "comment_id": 51354345, "body": "@ChronoTrigger: See my comment to NO_NAME. I&#39;m intending the objects themselves to be dynamically allocated and then given to a vector to hold. The objects definitely will not become invalid if the vector is modified."}], "owner": {"reputation": 93, "user_id": 5095127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0597e1ae7cc925ae2e85e34d4dbc50?s=128&d=identicon&r=PG&f=1", "display_name": "timestamp", "link": "https://stackoverflow.com/users/5095127/timestamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1438185418, "creation_date": 1438185311, "last_edit_date": 1438185418, "question_id": 31705418, "link": "https://stackoverflow.com/questions/31705418/save-positions-of-vector-in-another-vector", "title": "Save positions of vector in another vector", "body": "<p>I have a vector of points and generate some geometrics with those points. To save memory, I use the index of the vector as reference and not the point itself.</p>\n\n<p>Example:</p>\n\n<pre><code>Triangle(index[0], index[4], index[6]);\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>Triangle(Point(x0, y0), Point(x4, y4), Point(x6, y6));\n</code></pre>\n\n<p>However, I need to store some positions for later reference. \nIs it preferable to save it as int or as iterator? How much space does that iterator take compared to the int?</p>\n\n<p>Specific: \nDo I do\n<code>std::vector&lt;int&gt; laterUse;</code>\nor\n<code>std::vector&lt; std::vector&lt;Point&gt;::const_iterator &gt;</code> ?</p>\n\n<p>What are the advantages or disadvantages? I'm more interested in saving memory than in speed.</p>\n"}]