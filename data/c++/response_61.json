[{"tags": ["python", "c++", "python-2.7", "python-3.x", "type-conversion"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1457567409, "post_id": 35904949, "comment_id": 59470271, "body": "There is none. Primitive types are not polymorphic."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 5, "creation_date": 1457567457, "post_id": 35904949, "comment_id": 59470286, "body": "<code>std::static_cast&lt;float&gt;(whatever)</code>."}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "edited": false, "score": 0, "creation_date": 1457567605, "post_id": 35904949, "comment_id": 59470337, "body": "I need a function that cast every element of the array to float."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457567730, "post_id": 35904949, "comment_id": 59470372, "body": "@mzar Well something like <code>float[] float_arr = cast_to_floats(int_arr);</code> won&#39;t work because you can&#39;t assign to an array."}, {"owner": {"reputation": 962, "user_id": 1891266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed20378bcbcf07ccc4969c6bf9874b?s=128&d=identicon&r=PG", "display_name": "vcp", "link": "https://stackoverflow.com/users/1891266/vcp"}, "edited": false, "score": 0, "creation_date": 1457568086, "post_id": 35904949, "comment_id": 59470501, "body": "@mzar any reason why you do not want to copy array of integers to array of floats?"}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "edited": false, "score": 0, "creation_date": 1457568588, "post_id": 35904949, "comment_id": 59470669, "body": "Thank you all. Actually I filled my array with floats and I need it to be float but I got an error that indicating there may not be floats in my array. Some one with same problem (in python) and same error solve it with astype() function. Thats why I was looking for an equivalent."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1457568770, "post_id": 35904949, "comment_id": 59470734, "body": "Can you post the actual code and the error message?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1457568841, "post_id": 35904949, "comment_id": 59470764, "body": "In C++, an array of floats can only contain floats. So your problem isn&#39;t very clear. Perhaps if you posted an MCVE..."}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1457569331, "post_id": 35904949, "comment_id": 59470953, "body": "@Galik you can find the code in the other question that I asked and I would be so appreciate if you could help me with that. (Because it&#39;s not relevant to this topic I couldn&#39;t ass it here. Sorry..)"}], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 3, "last_activity_date": 1457569479, "last_edit_date": 1457569479, "creation_date": 1457569046, "answer_id": 35905271, "question_id": 35904949, "link": "https://stackoverflow.com/questions/35904949/is-there-any-equivalent-function-in-c-as-the-astype-function-in-python/35905271#35905271", "title": "Is there any equivalent function in C++ as the astype() function in python?", "body": "<p>You can cast individual items to <code>float</code>, but you can't cast an entire array at once.</p>\n\n<p>You can pretty easily create a vector of <code>float</code>s that contains the values from your original array, with each individually cast to type <code>float</code>:</p>\n\n<pre><code>template &lt;class T, size_t N&gt;\nstd::vector&lt;float&gt; asFloat(T (&amp;input)[N]) {\n    return std::vector&lt;float&gt; {input, input+N};\n}\n</code></pre>\n\n<p>Note, however, that this creates a new array of <code>float</code> values created from those in the original array, without changing/affecting the original array at all. Also note that since this is a template, it's possible to apply it to any type for which a conversion from T to <code>float</code> is defined, even if that conversion might not make a whole lot of sense or produce particularly useful results (e.g., <code>char</code>):</p>\n\n<pre><code>char input[] = { 'a', 'b', 'c' };\n\nauto result = asFloat(input);\n</code></pre>\n\n<p>If you print out the contents of <code>result</code>, you'll typically get:</p>\n\n<pre><code>97      98      99\n</code></pre>\n\n<p>That's the encoding of <code>a</code>, <code>b</code> and <code>c</code> in most common character sets (ASCII, Unicode, etc.) but those don't really make a whole lot of sense as floating point values.</p>\n\n<p>Based on comments, however, you're just trying to create an array of <code>float</code>. There are a couple of minor details to deal with here. One is that you probably really want a <code>vector</code> instead of an array. Another is that floating point literals are of type <code>double</code> by default. Initializing a <code>float</code> variable with a <code>double</code> value can (and frequently will) lead to a warning about possibly losing data, or something similar.</p>\n\n<p>So, when you're initializing an array or vector of <code>float</code>, you usually want to include a suffix to force the values to type <code>float</code>:</p>\n\n<pre><code>std::vector&lt;float&gt; values { 1.0f, 2.0f, 3.0f};\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 35905271, "answer_count": 1, "score": 0, "last_activity_date": 1457569479, "creation_date": 1457567198, "question_id": 35904949, "link": "https://stackoverflow.com/questions/35904949/is-there-any-equivalent-function-in-c-as-the-astype-function-in-python", "title": "Is there any equivalent function in C++ as the astype() function in python?", "body": "<p>I am looking for a function that can cast every element of an array to float type in c++ (like what astype() do in python).\nDo you know any?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "floating-point", "double", "mathematical-optimization", "cplex"], "comments": [{"owner": {"reputation": 962, "user_id": 1891266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed20378bcbcf07ccc4969c6bf9874b?s=128&d=identicon&r=PG", "display_name": "vcp", "link": "https://stackoverflow.com/users/1891266/vcp"}, "edited": false, "score": 0, "creation_date": 1457568608, "post_id": 35904947, "comment_id": 59470677, "body": "Why do you need to convert a boolean value to double? Have you tried to compare the boolean value with <code>IloTrue</code> or <code>IloFalse</code>?"}, {"owner": {"reputation": 137, "user_id": 4333030, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3ebCe.jpg?s=128&g=1", "display_name": "jonango", "link": "https://stackoverflow.com/users/4333030/jonango"}, "reply_to_user": {"reputation": 962, "user_id": 1891266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed20378bcbcf07ccc4969c6bf9874b?s=128&d=identicon&r=PG", "display_name": "vcp", "link": "https://stackoverflow.com/users/1891266/vcp"}, "edited": false, "score": 0, "creation_date": 1457570824, "post_id": 35904947, "comment_id": 59471423, "body": "It&#39;s an experiment, because my objective function multiply a IloNumVarArray with a IloBoolVarArray and I&#39;m getting some precision issues. I want to find the problem"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4333030, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3ebCe.jpg?s=128&g=1", "display_name": "jonango", "link": "https://stackoverflow.com/users/4333030/jonango"}, "edited": false, "score": 0, "creation_date": 1457638329, "post_id": 35907247, "comment_id": 59509502, "body": "So in certain cases, Would I have operations as 236.212 * 10^-6 ? I&#39;m working with many values (but isn&#39;t big data), but when I was validating the solution, there are precision errors about 1E-2, so I was supposing that precision error, was being accumulating along the operations. Thank you so much."}], "tags": [], "owner": {"reputation": 20637, "user_id": 14167, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYgOI.jpg?s=128&g=1", "display_name": "David Nehme", "link": "https://stackoverflow.com/users/14167/david-nehme"}, "is_accepted": true, "score": 1, "last_activity_date": 1457581947, "last_edit_date": 1495540227, "creation_date": 1457581947, "answer_id": 35907247, "question_id": 35904947, "link": "https://stackoverflow.com/questions/35904947/problems-to-parse-from-iloboolvararray-to-bool-in-cplex/35907247#35907247", "title": "Problems to parse from IloBoolVarArray to Bool in CPLEX", "body": "<p>CPLEX works with double precision floating point data internally.  It has a tolerance parameter <a href=\"http://www.ibm.com/support/knowledgecenter/SSSA5P_12.6.0/ilog.odms.cplex.help/CPLEX/Parameters/topics/EpInt.html\" rel=\"nofollow noreferrer\">EpInt</a>.  If a variable <code>x</code> has values</p>\n\n<pre><code>0 &lt;= x &lt;= EpInt, or\n1-EpInt &lt;= x &lt;= 1\n</code></pre>\n\n<p>Then CPLEX considers the value to be binary.  The default value for EpInt is 10^-6, so your seeing solution values of 10^-8 is consistent with default behavior of CPLEX.  Unless you really need exact integer values, then you should account for this when you pull solutions from CPLEX.  One particularly bad thing you could do in C++ is </p>\n\n<pre><code>IloBoolVar x(env);\n// ...\ncplex.solve();\nint bad_value = cplex.getValue(x); // BAD\nint ok_value = cplex.getValue(x) + 0.5; // OK\n</code></pre>\n\n<p>Here, bad_value could be set to 0 even if the CPLEX solution has an effective value of 1.  That's because CPLEX could have a value of 0.999999 which would be truncated to 0.  The second assignment will reliably store the solution.</p>\n\n<p>In the latest version of CPLEX,  you can set the EpInt to 0 which will make CPLEX only consider only 0.0 and 1.0 as binary.  If you do really need exact values of 0 or 1, then you should keep in mind the domains CPLEX is designed to work.  If you are trying to use it to solve <a href=\"https://stackoverflow.com/q/16001462/14167\">cryptology problems</a> for example, you might not get good results, even with small instances.</p>\n"}], "owner": {"reputation": 137, "user_id": 4333030, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3ebCe.jpg?s=128&g=1", "display_name": "jonango", "link": "https://stackoverflow.com/users/4333030/jonango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 35907247, "answer_count": 1, "score": 1, "last_activity_date": 1457581990, "creation_date": 1457567189, "last_edit_date": 1457581990, "question_id": 35904947, "link": "https://stackoverflow.com/questions/35904947/problems-to-parse-from-iloboolvararray-to-bool-in-cplex", "title": "Problems to parse from IloBoolVarArray to Bool in CPLEX", "body": "<p>I have a <code>IloBoolVarArray</code> in a MIP problem. When the solver has finished, I parse this variables to <code>double</code> but sometimes I get values very small as 1.3E-008 instead 0. My question is: Why? Is it a parsing problem only? Internally the solver has used this value, so is not the result trustworthy?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["c++", "singly-linked-list"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 3, "creation_date": 1457567090, "post_id": 35904870, "comment_id": 59470157, "body": "<a href=\"https://isocpp.org/wiki/faq/templates#template-friends\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/templates#template-friends</a>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6030639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ce776bce01492e41d3506ae0d094abe7?s=128&d=identicon&r=PG&f=1", "display_name": "WMS", "link": "https://stackoverflow.com/users/6030639/wms"}, "edited": false, "score": 0, "creation_date": 1457570387, "post_id": 35905183, "comment_id": 59471295, "body": "This combined with defining the function inside the class declaration worked, but I had to write a getInfo() function as this was simply outputting the address of the _info."}], "tags": [], "owner": {"reputation": 511, "user_id": 3147395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde56924a2cfce8a8bfd31cf25150f4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3147395", "link": "https://stackoverflow.com/users/3147395/user3147395"}, "is_accepted": true, "score": 0, "last_activity_date": 1457568552, "creation_date": 1457568552, "answer_id": 35905183, "question_id": 35904870, "link": "https://stackoverflow.com/questions/35904870/lnk2019-error-trying-to-override-operator-for-linkedlist-class/35905183#35905183", "title": "LNK2019 error, trying to override operator&lt;&lt; for LinkedList class", "body": "<p>When converting from references to pointers you must the address of operator(<code>&amp;</code>). Also when dealing with pointers, it is better to use the <code>-&gt;</code> operator as the <code>.</code> operator takes precedence over the <code>*</code> operator. This code should work: </p>\n\n<pre><code>template &lt;class Type&gt;\nostream&amp; operator&lt;&lt; (ostream&amp; s, LinkedList&lt;Type&gt;&amp; list) {\n    s &lt;&lt; \"[\";\n    LinkedList&lt;Type&gt; * t = &amp;list;\n    while (t-&gt;_next != NULL) {\n        s &lt;&lt; t-&gt;_info;\n        t = t-&gt;_next;\n        if (t-&gt;_next != NULL) {\n            s &lt;&lt; \", \";\n        };\n    };\n    s &lt;&lt; \"]\";\n    return s;\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6030639, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ce776bce01492e41d3506ae0d094abe7?s=128&d=identicon&r=PG&f=1", "display_name": "WMS", "link": "https://stackoverflow.com/users/6030639/wms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 35905183, "answer_count": 1, "score": 0, "last_activity_date": 1457568552, "creation_date": 1457566788, "question_id": 35904870, "link": "https://stackoverflow.com/questions/35904870/lnk2019-error-trying-to-override-operator-for-linkedlist-class", "title": "LNK2019 error, trying to override operator&lt;&lt; for LinkedList class", "body": "<p>I've declared my operator&lt;&lt; in the LinkedList class:</p>\n\n<pre><code>    friend ostream&amp; operator&lt;&lt; (ostream&amp; s, LinkedList&lt;Type&gt;&amp; list);\n</code></pre>\n\n<p>and defined it:</p>\n\n<pre><code>template &lt;class Type&gt;\nostream&amp; operator&lt;&lt; (ostream&amp; s, LinkedList&lt;Type&gt;&amp; list) {\n    s &lt;&lt; \"[\";\n    LinkedList&lt;Type&gt;* t = list;\n    while (*t._next != NULL) {\n        s &lt;&lt; *t._info;\n        *t = *t._next;\n        if (*t._next != NULL) {\n            s &lt;&lt; \", \";\n        };\n    };\n    s &lt;&lt; \"]\";\n    return s;\n}\n</code></pre>\n\n<p>and whenever I try to call it:</p>\n\n<pre><code>LinkedList&lt;int&gt;* list = new LinkedList&lt;int&gt;();\nlist.add(&lt;some int&gt;);\ncout &lt;&lt; *list &lt;&lt; endl;\n</code></pre>\n\n<p>it throws the LNK2019 error when I try to compile. </p>\n\n<p>If I try it without the asterisk it simply outputs the address that list points to. I've looked at other questions regarding operator&lt;&lt; and the most common answer is that the function isn't actually defined anywhere.</p>\n"}, {"tags": ["c++", "vector", "extraction", "vertices", "reader"], "comments": [{"owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1457569044, "post_id": 35904637, "comment_id": 59470836, "body": "I suggest this tutorial: <a href=\"https://www.youtube.com/watch?v=YKFYtekgnP8&amp;index=10&amp;list=PLRIWtICgwaX0u7Rf9zkZhLoLuZVfUksDP\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a> This is java, but with a minimal extra effort you&#39;ll be able to write it in c++"}, {"owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1457569481, "post_id": 35904637, "comment_id": 59471015, "body": "or this, c++ code included <a href=\"https://www.youtube.com/watch?v=NS980twY1ZE&amp;index=12&amp;list=PLEETnX-uPtBXT9T-hD0Bj31DSnwio-ywh\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}], "owner": {"reputation": 3, "user_id": 6041115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228915073a8692f08222f2228ca8797b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6041115/marcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457565587, "creation_date": 1457565587, "question_id": 35904637, "link": "https://stackoverflow.com/questions/35904637/creating-a-simple-obj-reader-in-c-that-reads-vertices-vertice-normals-and-fa", "title": "Creating a simple obj reader in c++ that reads vertices, vertice normals, and faces for both", "body": "<p>I have already made an object reader that can store vertice data and faces of a shape in two separate vectors:</p>\n\n<pre><code>void main(){\nfstream modelfile(\"Cube.obj\", ios_base::in);\n\nif (modelfile.is_open())\n{\n    vector &lt;float&gt; verticesCoordsXYZ;\n    vector &lt;float&gt; faceCoords;\n    string line;\n    while (getline(modelfile, line))\n    {\n\n        string s;\n        istringstream iss(line);\n        iss &gt;&gt; s;\n\n\n        if (s == \"v\")\n        {\n\n            float x, y ,z;\n            iss &gt;&gt; x &gt;&gt; y &gt;&gt; z;\n            verticesCoordsXYZ.push_back(x);\n            verticesCoordsXYZ.push_back(y);\n            verticesCoordsXYZ.push_back(z);\n\n\n        }\n\n        if (s == \"f\")\n        {\n            int a, b, c;\n\n            iss &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n\n            int aLocation = a * 3 - 3; //vertice locations in verticeCoordsXYZ that would make up faces\n            int bLocation = b * 3 - 3;\n            int cLocation = c * 3 - 3;\n\n            for (int i = 0; i &lt; 3; i++)\n            {\n                faceCoords.push_back(verticesCoordsXYZ.at(aLocation+i));\n            }\n            for (int i = 0; i &lt; 3; i++)\n            {\n                faceCoords.push_back(verticesCoordsXYZ.at(bLocation+i));\n            }\n            for (int i = 0; i &lt; 3; i++)\n            {\n                faceCoords.push_back(verticesCoordsXYZ.at(cLocation+i));\n            }\n\n            cout &lt;&lt; endl &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt;endl;\n        }\n\n    }\n\n    for (int i = 0; i &lt; (int)verticesCoordsXYZ.size(); i++)\n    {\n        cout &lt;&lt; verticesCoordsXYZ.at(i);\n\n    }\n\n    cout &lt;&lt; endl &lt;&lt; verticesCoordsXYZ.size() &lt;&lt; endl;\n\n    for (int i = 0; i &lt; (int)faceCoords.size(); i++)\n    {\n        cout &lt;&lt; faceCoords.at(i);\n    }\n    cout &lt;&lt; endl &lt;&lt; faceCoords.size() &lt;&lt; endl;\n    modelfile.close();\n\n    system(\"pause\");\n\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>I need to expand the program so that it can also put all vertex normals into a vector in order they appear, and all vertex normals into a vector in order they appear in f lines of the obj file</p>\n\n<p>The problem is that in my current version of the program the f lines were written just for vertex coords and appeared as following:</p>\n\n<p>f  1  7  5</p>\n\n<p>but in expanded version, using a new object file, f lines are written for both vertex coords and vertex normals and appear as following:</p>\n\n<p>f  1//2  7//2  5//2</p>\n\n<p>This means that in my current, simpler version of the program I can just use this code to extract face values: iss >> a >> b >> c;</p>\n\n<p>but I cannot do that anymore because of the slashes in between the values.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>What can I do to extract values before slashes as ints for vertex coordinates, and extract values after the slashes as ints for vertex normals, avoiding slashes inbetween them?</p>\n"}, {"tags": ["c++", "multithreading", "lua", "singleton"], "comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457566989, "post_id": 35904596, "comment_id": 59470121, "body": "Load the model and then create thread instances with <code>lua_newthread</code> to run <code>predict</code> instances?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1457567653, "post_id": 35904596, "comment_id": 59470350, "body": "Lua is designed for single-threading only. You can have multiple separate Lua VMs though. Or you could make it so the Lua code passes several images to C++, and C++ starts a bunch of threads, classifies the images, stops them and returns the results back to Lua."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1457567665, "post_id": 35904596, "comment_id": 59470355, "body": "@kfsone A Lua thread is not what Sergio means by a thread."}], "answers": [{"tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 2, "last_activity_date": 1457586698, "creation_date": 1457586698, "answer_id": 35908079, "question_id": 35904596, "link": "https://stackoverflow.com/questions/35904596/call-lua-from-c-in-threads/35908079#35908079", "title": "Call Lua from C++ in threads", "body": "<p>What you want is not generally possible with raw Lua. It is an inherently single-threaded system. While you can create multiple independent <code>lua_State</code> objects that can run on independent threads, you <em>cannot</em> call into the same <code>lua_State</code> instance from two different threads.</p>\n\n<p>You could try <a href=\"http://lualanes.github.io/lanes/\" rel=\"nofollow\">Lua Lanes</a>, which is ostensibly a threaded framework for Lua. However, it still requires separate <code>lua_State</code>s; the main thing it does is (at least in theory) provide a light-weight way to share data between <code>lua_State</code>s.</p>\n\n<p>Alternatively, you can create a number of <em>processes</em> equal to the number of cores you have. Each process will have to independently load the model, but you will never load the model more times than the number of cores you want to use. But this way, each process can execute any number of <code>predict</code> calls. You can even take the filename from stdin, thus allowing some master process to farm out work to an individual process.</p>\n"}], "owner": {"reputation": 143, "user_id": 1977106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/683d9672e649773cf924ac3a0b6b8996?s=128&d=identicon&r=PG", "display_name": "Sergio", "link": "https://stackoverflow.com/users/1977106/sergio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1358, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458042260, "creation_date": 1457565427, "last_edit_date": 1458042260, "question_id": 35904596, "link": "https://stackoverflow.com/questions/35904596/call-lua-from-c-in-threads", "title": "Call Lua from C++ in threads", "body": "<p>I have a classifier model in lua to predict the gender of a person in an image, and I need to call it from C++. I'm using the Lua C API.</p>\n\n<p>I have it working for a single prediction, I mean, in C++ I call <strong>dofile(\"script.lua\")</strong> and the model is loaded from the disk, then I call <strong>predict(\"image1.jpg\")</strong> and I got the result. So far so good.</p>\n\n<h1>Problem</h1>\n\n<p>The problem is that I need to be able to call the <strong>predict</strong> function using threads (several at the same time), because the <strong>predict</strong> takes a while to return. \nThe model is quite big, so I need to somehow load it once and use it like a singleton.</p>\n\n<p>How can I implement such thing? Or it's not possible / feasible? So far I've tried but none of it worked:</p>\n\n<ul>\n<li>Having a <strong>model.lua</strong> file with only the model as a singleton and the <strong>script.lua</strong> would get an instance of the model and loading it in the first time. Then in C++, I would have a new <strong>lua_State</strong> and <strong>dofile(\"script.lua\")</strong> every time I need to make a prediction. I tried this but the model was being loaded every time.</li>\n<li>Having a static object <strong>lua_State</strong> in C++ with the <strong>model.lua</strong> always in memory, which would return the model to C++ ( as a table). Then send it to lua to the <strong>script.lua</strong>, like: <strong>predict(model, \"image1.jpg\")</strong>.</li>\n<li>Similar as the previous one, but instead of returning the model to C++ and send it back to lua, return a callback function to C++, send it back to lua and use it to get the model. Example: <strong>model.lua</strong> has a <strong>getModel()</strong> function which would return the model. I would return the <strong>getModel()</strong> to C++ and send it to the <strong>script.lua</strong>, like: <strong>predict(getModel, \"image1.jpg\")</strong>. Then the <strong>predict</strong> function would do call <strong>getModel()</strong> to have the model.</li>\n</ul>\n\n<h1>Update</h1>\n\n<p>Thanks for the feedback guys. Once it's not possible to implement what I need, I dropped this idea of using the C API to communicate between Lua and C++. </p>\n\n<p>Instead, I'm running a server with Lua - using <a href=\"https://github.com/SierraWireless/luasched\" rel=\"nofollow\">luasched</a> , and from C++ I'm creating a new connection to the Lua socket each time I have to make a prediction. </p>\n\n<p>Regards, \nS\u00e9rgio</p>\n"}, {"tags": ["c++", "arduino", "arduino-uno"], "comments": [{"owner": {"reputation": 3127, "user_id": 729807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0a5932698c1775bf8d54e46478b6d6?s=128&d=identicon&r=PG", "display_name": "crlanglois", "link": "https://stackoverflow.com/users/729807/crlanglois"}, "edited": false, "score": 0, "creation_date": 1457565891, "post_id": 35904556, "comment_id": 59469694, "body": "What is the actual data type of &#39;telNo&#39;, is it a string?  What about the variable &#39;number&#39;?"}, {"owner": {"reputation": 333, "user_id": 3370876, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2RNgo.jpg?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/3370876/tiny"}, "reply_to_user": {"reputation": 3127, "user_id": 729807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0a5932698c1775bf8d54e46478b6d6?s=128&d=identicon&r=PG", "display_name": "crlanglois", "link": "https://stackoverflow.com/users/729807/crlanglois"}, "edited": false, "score": 0, "creation_date": 1457566230, "post_id": 35904556, "comment_id": 59469820, "body": "@crlanglois. I,m trying to take the telephone number that is on the sd card, and add it into the AT Command, so maybe my calling it a variable is incorrect but basically when I call &quot;telNo&quot; I&#39;m essentially calling the &quot;+441234567890&quot; number from the SD card, I&#39;m not sure I&#39;m explaining this correctly though"}, {"owner": {"reputation": 3127, "user_id": 729807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0a5932698c1775bf8d54e46478b6d6?s=128&d=identicon&r=PG", "display_name": "crlanglois", "link": "https://stackoverflow.com/users/729807/crlanglois"}, "edited": false, "score": 0, "creation_date": 1457566967, "post_id": 35904556, "comment_id": 59470111, "body": "telNo is a variable, you are setting it equal to a string with this command, telNo = (myFile.read());  What is missing here is what the variable type of telNo.  If telNo is not a string this will produce strange results.  Similiarly what is the variable type of number that you used in the command number.concat(myFile.read());   Concat only works with string variables."}, {"owner": {"reputation": 333, "user_id": 3370876, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2RNgo.jpg?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/3370876/tiny"}, "reply_to_user": {"reputation": 3127, "user_id": 729807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0a5932698c1775bf8d54e46478b6d6?s=128&d=identicon&r=PG", "display_name": "crlanglois", "link": "https://stackoverflow.com/users/729807/crlanglois"}, "edited": false, "score": 0, "creation_date": 1457567349, "post_id": 35904556, "comment_id": 59470243, "body": "Would it be better I had posted all of my code. I&#39;m trying not to get complaints of too much code etc"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457567806, "post_id": 35904556, "comment_id": 59470398, "body": "<code>myFile.read()</code> reads a single byte from the file and returns it."}, {"owner": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 1, "creation_date": 1457600658, "post_id": 35904556, "comment_id": 59482712, "body": "<code>The last four numbers (1310) I don&#39;t understand</code> They are the character 13 (0x0d, aka carriage return, &#39;\\r&#39;) and the character 10 (0x0a, aka line feed, &#39;\\n&#39;). Together they form the windows version of the new line character"}], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 3370876, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2RNgo.jpg?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/3370876/tiny"}, "edited": false, "score": 0, "creation_date": 1457567590, "post_id": 35904873, "comment_id": 59470329, "body": "I&#39;m guessing that because the plus sign is important in the international format of a telephone number (+** being the country code ie: +441234567890 = uk code which locally would be written 01234567890) it would need to be a string"}], "tags": [], "owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1457602431, "last_edit_date": 1457602431, "creation_date": 1457566792, "answer_id": 35904873, "question_id": 35904556, "link": "https://stackoverflow.com/questions/35904556/how-to-create-variable-from-sd-card-in-arduino/35904873#35904873", "title": "how to create variable from sd card in arduino", "body": "<p><code>telNo = (myFile.read());</code> does that compile? What is the type of <code>telNo</code>? If it's an <code>int</code> or some other numerical, you won't get that result you want because <code>read()</code> reads characters and not numbers.. The 10 that you see is the ascii code for the <code>newline</code> character ('\\n') which is the first character in the file (that's why you get your number below the <code>CONFIG.DAT:</code>). </p>\n\n<p><code>read()</code> reads a byte at a time and returns -1 if none is available. To get the whole content, you should use a loop to read one character at a time and append those characters to a <code>char[]</code>: </p>\n\n<pre><code>unsigned int MAX_SIZE = 100; \nchar string[MAX_SIZE];\nunsigned int index = 0;\nchar next_char;\nwhile (next_char = myfile.read()) string[index++] = next_char;\nstring[index] = '/0'; // terminate with the null character\n</code></pre>\n\n<p>Now, if you really want an <code>int</code>, you need to filter out the <code>newline</code>, the <code>+</code> and any other non-valid digit and then cast your number to <code>int</code>:</p>\n\n<pre><code>char new_string[MAX_SIZE];\nunsigned int i = 0, unsigned int j = 0;\nwhile (i &lt; MAX_SIZE) {  \n    if ((string[i] &gt;= 48) &amp;&amp; (string[i] &lt;= 57)) \n        new_string[j++] = string[i++];  \n    else i++;  \n}  \nint number = atoi(new_string);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 3370876, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2RNgo.jpg?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/3370876/tiny"}, "is_accepted": false, "score": 0, "last_activity_date": 1457575130, "creation_date": 1457575130, "answer_id": 35906232, "question_id": 35904556, "link": "https://stackoverflow.com/questions/35904556/how-to-create-variable-from-sd-card-in-arduino/35906232#35906232", "title": "how to create variable from sd card in arduino", "body": "<p>I think I found an answer as follows</p>\n\n<pre><code>// read from the file until there's nothing else in it:\nwhile (myFile.available()) {\n\n            char ltr = myFile.read();\n            number += ltr;      \n\n} \n</code></pre>\n\n<p>This was found at <a href=\"http://forum.arduino.cc/index.php?topic=87524.0\" rel=\"nofollow\">Text file on SD to String</a></p>\n"}], "owner": {"reputation": 333, "user_id": 3370876, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2RNgo.jpg?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/3370876/tiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2536, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457602431, "creation_date": 1457565219, "last_edit_date": 1457567985, "question_id": 35904556, "link": "https://stackoverflow.com/questions/35904556/how-to-create-variable-from-sd-card-in-arduino", "title": "how to create variable from sd card in arduino", "body": "<p>I have saved a number onto a sd card in a file called CONFIG.BAT, it is a telephone number and is in the format of \"+441234567890\", in the serial monitor I can print it out using</p>\n\n<pre><code>  myFile = SD.open(\"CONFIG.DAT\");\n\n  if (myFile) {\n\nSerial.println(\"CONFIG.DAT:\");\n\n// read from the file until there's nothing else in it:\nwhile (myFile.available()) {\n\n      Serial.write(myFile.read());\n\n}\n</code></pre>\n\n<p>And I get this responce</p>\n\n<pre><code>Initializing SD card...initialization done.\nCONFIG.DAT:\n+441234567890\n</code></pre>\n\n<p>What I want to do is put this number into a variable \"telNo\", I have tried to use </p>\n\n<pre><code>telNo = (myFile.read());\n</code></pre>\n\n<p>The response I get is</p>\n\n<pre><code>Initializing SD card...initialization done.\nCONFIG.DAT: \n10\n</code></pre>\n\n<p>I'm not sure what this \"10\" signifies.</p>\n\n<p>I have also tried \"concat\"</p>\n\n<pre><code>while (myFile.available()) {\n\n        number.concat(myFile.read());      \n\n}\n</code></pre>\n\n<p>The response I get is the Decimal code for the number with some numbers on the end I don't understand</p>\n\n<pre><code>Initializing SD card...initialization done.\nCONFIG.DAT: \n48555653515353555354561310\n</code></pre>\n\n<p>The last four numbers (1310) I don't understand </p>\n\n<p>What I'm looking to achieve is \"telNo = the telephone number in the CONFIG.DAT file, so if any one could help I would appreciate it</p>\n\n<p>Here is my full Sketch</p>\n\n<pre><code>#include &lt;SoftwareSerial.h&gt;\n//#include &lt;SD.h&gt;\n#define SD_CS_PIN SS\n#include &lt;SPI.h&gt;\n#include \"SdFat.h\"\n\nSdFat SD;\n\nFile myFile;\n\n//SIM800 TX is connected to Arduino D8\n#define SIM800_TX_PIN 8\n\n//SIM800 RX is connected to Arduino D7\n#define SIM800_RX_PIN 7\n\n//Create software serial object to communicate with SIM800\nSoftwareSerial serialSIM800(SIM800_TX_PIN,SIM800_RX_PIN);\n\n\n//const int ledPin3 = 11;//Define the Bluetooth led pin\nconst int ledPin2 = 2;//Define the interupt pin to signify bluetooth connect or disconnect\n\nString readString = \"\";\nString telNoString = \"\";\nString number = \"\";\n\nvolatile int ledonState = 0;\nint lastLedonState = 0;\n\n\nconst int thresholdvalue=680;//The threshold to turn the led on\n\n\nvoid setup() {\n  pinMode (ledPin2, INPUT);//set input for interupt pin\n  //pinMode (ledPin3, OUTPUT);//set output for bluetooth pin\n\n  attachInterrupt(0, pin_ISR, CHANGE);\n\n  Serial.begin(9600);\n\n  while(!Serial);\n\n  //Being serial communication witj Arduino and SIM800\n  serialSIM800.begin(9600);\n  delay(1000);\n\n  SysCall::yield();\n\n  Serial.println(\"Setup Complete!\");\n\n}\n\n\nvoid pin_ISR() {\n  ledonState = digitalRead(ledPin2);\n\nif (ledonState != lastLedonState) {\n\n  if (ledonState == HIGH) {\n        //digitalWrite(ledPin3, HIGH);//turn led on\n            Serial.println(\"HC-05 is now connected\");\n            //Serial.println();\n      }else{\n         //digitalWrite(ledPin3, LOW);//turn led off\n             Serial.println(\"HC-05 is now Disconnected\");\n             //Serial.println();\n  }\nlastLedonState = ledonState;\n}\n}\n\n\nvoid sound_detect(){\n\n  int sensorValue = analogRead(A0);//use A0 to read the electrical signal\n\n  if(sensorValue &gt; thresholdvalue) {\n\n//  digitalWrite(ledPin1,HIGH);//if the value read from A0 is larger than 400,then light the LED\n//  delay(10);\n//  digitalWrite(ledPin1,LOW);\n\n Serial.print(\"Initializing SD card...\");\n\n  pinMode(10, OUTPUT);\n\n  if (!SD.begin(SD_CS_PIN)) {\n    Serial.println(\"initialization failed!\");\n    return;\n  }\n\n  Serial.println(\"initialization done.\");  \n\n  if (!SD.exists(\"CONFIG.DAT\")) {\n\n    Serial.println(\"No Number Exists! Please go to Setup Device to add Number for Alert\");\n\n  }else{\n\n  // open the file for reading:\n  myFile = SD.open(\"CONFIG.DAT\");\n\n  if (myFile) {\n\n    Serial.println(\"CONFIG.DAT:\");\n\n    // read from the file until there's nothing else in it:\n    while (myFile.available()) {\n\n            number.concat(myFile.read());      \n          //number = (myFile.read());\n          //Serial.write(myFile.read());\n\n    }\n\n      //Serial.println(myFile);    \n\n    // close the file:\n    myFile.close();\n\n  } else {\n\n    // if the file didn't open, print an error:\n    Serial.println(\"error opening CONFIG.DAT\");\n\n  }\n\n  }\n\n\n//    //Set SMS format to ASCII\n//  serialSIM800.write(\"AT+CMGF=1\\r\\n\");\n//  delay(1000);\n// \n//  //Send new SMS command and message number\n//  serialSIM800.write(\"AT+CMGS=\\\"+44\"+number+\"\\\"\\r\\n\");\n//  delay(1000);\n//   \n//  //Send SMS content\n//  serialSIM800.write(\"TEST SMS NOISE DETECT\");\n//  delay(1000);\n//   \n//  //Send Ctrl+Z / ESC to denote SMS message is complete\n//  serialSIM800.write((char)26);\n//  delay(1000);\n//     \n//  Serial.println(\"SMS Sent!\");\nSerial.println(\"this is the phone number: \");\nSerial.print(number);\n\n}\n\n}\n\n\n\nvoid insertNo(){\n\n        while(Serial.available()==0) { // Wait for User to Input Data  \n  }\n\ntelNoString = Serial.readString();\n\n\n  Serial.print(\"Initializing SD card...\");\n\n  pinMode(10, OUTPUT);\n\n  if (!SD.begin(SD_CS_PIN)) {\n    Serial.println(\"initialization failed!\");\n    return;\n  }\n\n  Serial.println(\"initialization done.\");\n\n  if (SD.exists(\"CONFIG.DAT\")) {\n\n  SD.remove(\"CONFIG.DAT\");\n  }\n\n  if (!SD.exists(\"CONFIG.DAT\")) {\n\n  myFile = SD.open(\"CONFIG.DAT\", FILE_WRITE);\n\n  // if the file opened okay, write to it:\n  if (myFile) {\n    Serial.print(\"Writing to CONFIG.DAT...\");\n\n    myFile.println(telNoString);\n\n    // close the file:\n    myFile.close();\n\n    Serial.println(\"done.\");\n\n  } else {\n    // if the file didn't open, print an error:\n    Serial.println(\"error opening CONFIG.DAT\");\n  } \n\n  // re-open the file for reading:\n  myFile = SD.open(\"CONFIG.DAT\");\n\n  if (myFile) {\n\n    Serial.println(\"CONFIG.DAT:\");\n\n    // read from the file until there's nothing else in it:\n    while (myFile.available()) {\n\n      Serial.write(myFile.read());\n\n    }\n\n    // close the file:\n    myFile.close();\n\n  } else {\n\n    // if the file didn't open, print an error:\n    Serial.println(\"error opening CONFIG.DAT\");\n\n  }     \n\n  }\n   return;    \n}\n\n\nvoid loop() {\n\n while (Serial.available()) {\n          delay(10);       \n          char c = Serial.read();\n          readString  += c;\n }\n\n    if(readString == \"setup device\") {\n\n      Serial.println(readString);\n      readString = \"\";\n\n\n\ninsertNo();\n\n    }else{\n      if(readString == \"start device\") {\n\n      Serial.println(readString);\n      readString = \"\";\n\n\n    }\n sound_detect();   \n    }       \n}\n</code></pre>\n\n<p>The section of commented out code are the AT commands to send the sms message.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3910, "user_id": 1770952, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/743e6716b63a6502a10a212655005e81?s=128&d=identicon&r=PG", "display_name": "Ivan Gritsenko", "link": "https://stackoverflow.com/users/1770952/ivan-gritsenko"}, "edited": false, "score": 0, "creation_date": 1457567056, "post_id": 35904547, "comment_id": 59470142, "body": "Please consider stating your question clearly. Also adjust your title to reflect your question."}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1457567371, "post_id": 35904547, "comment_id": 59470257, "body": "Actually it pulls the process id of the last process information retrieved during enumeration. You should add a check to see if the process you&#39;re looking for is ever found."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457567417, "post_id": 35904547, "comment_id": 59470272, "body": "Looks to me like you are always going to get the last pe32 inspected and that may or may not be the calling process and may well be invalid. I don&#39;t see anything in the documentation that says what you get when <code>Process32Next</code> returns false."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457568863, "post_id": 35905103, "comment_id": 59470770, "body": "now it&#39;s just returning 0, even with the process opened."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457568967, "post_id": 35905103, "comment_id": 59470802, "body": "Check your case. &quot;S.exe&quot;, for example, will not match &quot;s.exe&quot;."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457569060, "post_id": 35905103, "comment_id": 59470845, "body": "Huh. Let me run it again on my box."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457569328, "post_id": 35905103, "comment_id": 59470951, "body": "Interesting. Can&#39;t reproduce. Are you still outputting <code>printf(&quot;%d&quot;, ProcId);</code> in <code>main</code>? If so, try <code>printf(&quot;%lu\\n&quot;, GetProcId());</code> The way I reworked the function it&#39;s not using <code>ProcId</code> any more."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457569487, "post_id": 35905103, "comment_id": 59471019, "body": "No worries. Just cleaned up the answer to make it clearer."}, {"owner": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "edited": false, "score": 0, "creation_date": 1457570686, "post_id": 35905103, "comment_id": 59471382, "body": "How would i check if a process is no longer running by ID?"}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 0, "last_activity_date": 1457569460, "last_edit_date": 1457569460, "creation_date": 1457568058, "answer_id": 35905103, "question_id": 35904547, "link": "https://stackoverflow.com/questions/35904547/c-get-process-id-getting-local-id-if-the-targeted-process-is-not-open/35905103#35905103", "title": "C++ Get process id getting local id if the targeted process is not open", "body": "<p>This bit of code:</p>\n\n<pre><code>    do{\n        if( strcmp( pe32.szExeFile, \"s.exe\" ) == 0 )\n            break;\n    }while( Process32Next( hSnapshot, &amp;pe32 ) );\n</code></pre>\n\n<p>is going to iterate through all processes until either s.exe is found or <code>Process32Next</code> returns false. In the latter case the state of <code>pe32</code> does not seem to be defined. It will probably be left unchanged and refer to the last process in the list, but I'm not willing to put money on that. </p>\n\n<p>Then later</p>\n\n<pre><code>ProcId = pe32.th32ProcessID;\n</code></pre>\n\n<p>is going to use the process ID from <code>pe32</code> whether it is valid or not.</p>\n\n<p>I recommend the following modification:</p>\n\n<pre><code>DWORD GetProcId() // now returns the process ID. Why mess around with globals?\n{\n    PROCESSENTRY32   pe32;\n    HANDLE         hSnapshot = NULL;\n    DWORD pid = 0; // initialize to impossible pid\n\n    pe32.dwSize = sizeof( PROCESSENTRY32 );\n    hSnapshot = CreateToolhelp32Snapshot( TH32CS_SNAPPROCESS, 0 );\n    // should probably check for hSnapshot != INVALID_HANDLE_VALUE right about here\n    if( Process32First( hSnapshot, &amp;pe32 ) )\n    {\n        do{\n            if( strcmp( pe32.szExeFile, \"s.exe\" ) == 0 )\n            {\n                pid = pe32.th32ProcessID;\n                break;\n            }\n        }while( Process32Next( hSnapshot, &amp;pe32 ) );\n    }\n\n    if( hSnapshot != INVALID_HANDLE_VALUE )\n        CloseHandle( hSnapshot );\n\n    return pid;\n}\n</code></pre>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20040223-00/?p=40503\" rel=\"nofollow\">Zero selected because you can't get a pid of zero in Windows.</a></p>\n\n<p>Usage:</p>\n\n<pre><code>int main()\n{\n    cout &lt;&lt; GetProcId();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6030949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3352f52aedac9d4717c139594f3caa?s=128&d=identicon&r=PG&f=1", "display_name": "j jl", "link": "https://stackoverflow.com/users/6030949/j-jl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "accepted_answer_id": 35905103, "answer_count": 1, "score": 1, "last_activity_date": 1457569460, "creation_date": 1457565180, "question_id": 35904547, "link": "https://stackoverflow.com/questions/35904547/c-get-process-id-getting-local-id-if-the-targeted-process-is-not-open", "title": "C++ Get process id getting local id if the targeted process is not open", "body": "<pre><code>#include &lt;windows.h&gt;\n#include &lt;tlhelp32.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std; \n\nvoid GetProcId();\n\nDWORD ProcId = 0;\n\nint main()\n{\n\nGetProcId();\nprintf(\"%d\", ProcId);\ncin.get();\nreturn 0;\n}\n\nvoid GetProcId()\n{\n    PROCESSENTRY32   pe32;\n    HANDLE         hSnapshot = NULL;\n\n    pe32.dwSize = sizeof( PROCESSENTRY32 );\n    hSnapshot = CreateToolhelp32Snapshot( TH32CS_SNAPPROCESS, 0 );\n\n    if( Process32First( hSnapshot, &amp;pe32 ) )\n    {\n        do{\n            if( strcmp( pe32.szExeFile, \"s.exe\" ) == 0 )\n                break;\n        }while( Process32Next( hSnapshot, &amp;pe32 ) );\n    }\n\n    if( hSnapshot != INVALID_HANDLE_VALUE )\n        CloseHandle( hSnapshot );\n\n    ProcId = pe32.th32ProcessID;\n}\n</code></pre>\n\n<p>Works, but when the process \"s.exe\" is not open it grabs its own process id, i'm really not too sure how i can fix this.\nhelp would be very very appreciated, thank you!</p>\n"}, {"tags": ["c++", "include", "forward-declaration"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457565961, "post_id": 35904536, "comment_id": 59469722, "body": "You are not understanding a reference type (e.g. <code>EnemyBuilder &amp;</code>) and a forward reference (e.g. <code>class Enemy</code>). Totally different things"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1457567118, "post_id": 35904536, "comment_id": 59470161, "body": "Your code has a major flaw: <code>m_builder(EnemyBuilder())</code> creates a reference to a temporary..."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1457567596, "post_id": 35904536, "comment_id": 59470334, "body": "What problem are you trying to solve?"}, {"owner": {"reputation": 185, "user_id": 5451477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bac3108b8b967006e29fb7aa6d9d4267?s=128&d=identicon&r=PG", "display_name": "Fish", "link": "https://stackoverflow.com/users/5451477/fish"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457578316, "post_id": 35904536, "comment_id": 59473601, "body": "@kfsone I&#39;ve been misunderstanding references. sorry."}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457567085, "post_id": 35904861, "comment_id": 59470156, "body": "The best approach is to get the header file to compile with as few <code>#include</code>s as possible."}], "tags": [], "owner": {"reputation": 1437, "user_id": 4685116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdca5.jpg?s=128&g=1", "display_name": "Ing. Gerardo S&#225;nchez", "link": "https://stackoverflow.com/users/4685116/ing-gerardo-s%c3%a1nchez"}, "is_accepted": false, "score": -1, "last_activity_date": 1457566738, "creation_date": 1457566738, "answer_id": 35904861, "question_id": 35904536, "link": "https://stackoverflow.com/questions/35904536/should-all-objects-in-a-class-be-a-reference/35904861#35904861", "title": "Should all objects in a class be a reference?", "body": "<p>I think you are killing ants with a hammer. forward declaration is a tool, but not always is a \"best practice\". You must think in someone (or you) reading your code in future, they must understand what is your code doing.</p>\n\n<p>I suggest you this approach:</p>\n\n<p>EnemyFactory.h</p>\n\n<pre><code> #include &lt;string&gt;\n\n#ifndef ENEMYFACTORY\n#define ENEMYFACTORY\n\nclass EnemyFactory\n{\nprivate:\n    EnemyBuilder m_builder;\n    World m_world;\n\npublic:\n   EnemyFactory(World &amp;world);\n\n   Enemy* produce(std::string type);\n};\n\n#endif\n</code></pre>\n\n<p>EnemyFactory.cpp</p>\n\n<pre><code>#include \"EnemyBuilder.h\"\n#include \"World.h\"\n#include \"Enemy.h\"\n\n#include \"EnemyFactory.h\"// this include must be last one\nEnemyFactory::EnemyFactory(World &amp;world)\n{\n\n}\n\nEnemy* EnemyFactory::produce(std::string type)\n{\n    Enemy *product = new Enemy(m_world);\n\n    if (type == \"basic\")\n    {\n        product-&gt;setSpeed(5000.0f);\n    }\n\n    return product;\n}\n</code></pre>\n\n<p>A little change in include order and you could ommit forward declaration and references</p>\n"}, {"tags": [], "owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "is_accepted": false, "score": 0, "last_activity_date": 1457568449, "last_edit_date": 1495542225, "creation_date": 1457567774, "answer_id": 35905056, "question_id": 35904536, "link": "https://stackoverflow.com/questions/35904536/should-all-objects-in-a-class-be-a-reference/35905056#35905056", "title": "Should all objects in a class be a reference?", "body": "<p>See <a href=\"https://stackoverflow.com/a/35905079/1621391\">Richard Hodges' answer</a> first... In your current code, you are piling up <em>kegs of gunpowder for yourself, you may just ignite it someday.... ...someday soon...</em> To remedy that.</p>\n\n<blockquote>\n  <p>In EnemyFactory.h, you have a line... Prefer to use\n  <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"nofollow noreferrer\"><code>std::unique_ptr</code></a></p>\n\n<pre><code> Enemy* produce(std::string type);\n</code></pre>\n  \n  <p>So that, this becomes </p>\n\n<pre><code>std::unique_ptr&lt;Enemy&gt; produce(std::string type);\n</code></pre>\n</blockquote>\n\n<p>Again in EnemyFactory.cpp....</p>\n\n<blockquote>\n  <p>You have the dreaded <a href=\"http://en.cppreference.com/w/cpp/language/ub\" rel=\"nofollow noreferrer\">Undefined Behaviour</a>, basically, your program\n  will crash because you binded a reference to a temporary object</p>\n\n<pre><code>EnemyFactory::EnemyFactory(World &amp;world) :\n    m_world(world), m_builder(EnemyBuilder())  //&lt;---This will crash\n{\n\n}\n</code></pre>\n</blockquote>\n\n<p>The bigger scope of what you are trying to do applies to the <a href=\"http://en.wikipedia.org/wiki/Opaque_pointer\" rel=\"nofollow noreferrer\"><em>PIMPL</em></a> idiom. </p>\n\n<p>The best way to approach that will be</p>\n\n<p>EnemyFactory.h</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;memory&gt;\n\n#ifndef ENEMYFACTORY\n#define ENEMYFACTORY\n\nclass World;\nclass Enemy;\nclass EnemyBuilder;\n\nclass EnemyFactory\n{\nprivate:\n    std::unique_ptr&lt;EnemyBuilder&gt; m_builder;\n    std::shared_ptr&lt;World&gt; m_world;  //&lt;- I am guessing World is a shared object based on your constructor\n\npublic:\n    EnemyFactory(World &amp;world);\n\n    std::unique_ptr&lt;Enemy&gt; produce(std::string type);\n};\n\n#endif\n</code></pre>\n\n<p>At EnempyFactory.cpp</p>\n\n<pre><code>#include \"EnemyFactory.h\"\n\n#include \"EnemyBuilder.h\"\n#include \"World.h\"\n#include \"Enemy.h\"\n\n//I hope it is guaranteed the instance if World, world will always outlive any instance of EnemyFactory...\n\nEnemyFactory::EnemyFactory(World &amp;world) :\n    m_world(&amp;world), m_builder(std::make_unique&lt;EnemyBuilder&gt;())\n{\n\n}\n\nstd::unique_ptr&lt;Enemy&gt; EnemyFactory::produce(std::string type)\n{\n    std::unique_ptr&lt;Enemy&gt; product = std::make_unique&lt;Enemy&gt;(m_world);\n\n    if (type == \"basic\")\n    {\n        product-&gt;setSpeed(5000.0f);\n    }\n\n    return product;\n}\n</code></pre>\n\n<p>We aren't using reference here because, all class members that are references must be instantiated in the constructor and managing lifetimes could be a mess, depends on your use case though....</p>\n\n<p>Pointers are more handy here.... And remember, whenever pointers comes to your mind, prefer <code>std::unique_ptr</code>s first, when the object is shared then, you can go for 'std::shared_ptr`. </p>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457571585, "post_id": 35905079, "comment_id": 59471636, "body": "Generally correct answer, but it mentions cache coherence in an unrelated context. You can&#39;t loose it (or aquire), it&#39;s a property of your architecture."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457595369, "post_id": 35905079, "comment_id": 59479651, "body": "@SergeyA yes, it was late and I am not happy with the form of words I came up with."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457618638, "post_id": 35905079, "comment_id": 59495600, "body": "Well, you can just go and edit it. I believe, what you meant to say is &#39;cache locality&#39;."}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 1, "last_activity_date": 1457619548, "last_edit_date": 1457619548, "creation_date": 1457567885, "answer_id": 35905079, "question_id": 35904536, "link": "https://stackoverflow.com/questions/35904536/should-all-objects-in-a-class-be-a-reference/35905079#35905079", "title": "Should all objects in a class be a reference?", "body": "<blockquote>\n  <p>Is it bad practice to always make my object member's data type a reference?</p>\n</blockquote>\n\n<p>Not only is it bad practice, it's inefficient and restrictive.</p>\n\n<blockquote>\n  <p>Why?</p>\n</blockquote>\n\n<ol>\n<li><p>Objects of classes that contain references are automatically non-assignable. The standard has std::reference_wrapper&lt;> (basically a wrapped pointer) to get around this restriction when binding reference types to function objects.</p></li>\n<li><p>You are obliged to manage object lifetimes. Since you're storing references rather than objects, your class has no possibility to clean up after itself. In addition, it can't ensure that the objects to which it is referring are still there. You've just lost all the protection that c++ gives you. Welcome to the stone age.</p></li>\n<li><p>It's less efficient. All object access now gets dereferenced through what is essentially a pointer. And you will most-likely lose cache locality. Pointless.</p></li>\n<li><p>you lose the ability to treat objects as values. This will results in less-efficient, convoluted programs.</p></li>\n<li><p>I could go on...</p></li>\n</ol>\n\n<blockquote>\n  <p>What should I do?</p>\n</blockquote>\n\n<p>Prefer value-semantics (treating objects as values). Let them be copied (most of the copies will be elided anyway if you write your classes nicely). Encapsulate and compose them into larger objects. Let the container manage the lifetime of the components. That's its job.</p>\n\n<blockquote>\n  <p>What about the time cost of including a few header files?</p>\n</blockquote>\n\n<p>Unless you're doing hideously complex template expansion across hundreds (thousands) of template classes, it's unlikely to even approach being a problem. You waste more time making the coffee than you will compiling a few source files.</p>\n"}], "owner": {"reputation": 185, "user_id": 5451477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bac3108b8b967006e29fb7aa6d9d4267?s=128&d=identicon&r=PG", "display_name": "Fish", "link": "https://stackoverflow.com/users/5451477/fish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 35905079, "answer_count": 3, "score": 1, "last_activity_date": 1457619548, "creation_date": 1457565116, "last_edit_date": 1495535282, "question_id": 35904536, "link": "https://stackoverflow.com/questions/35904536/should-all-objects-in-a-class-be-a-reference", "title": "Should all objects in a class be a reference?", "body": "<p>Is it bad practice to always make my object member's data type a reference?</p>\n\n<p>After reading this <a href=\"https://stackoverflow.com/questions/9906402/should-one-use-forward-declarations-instead-of-includes-wherever-possible%22this%22\">question about avoiding #include</a> I've have been trying to avoid using #include in my current C++ project and always forward declare my data types.</p>\n\n<p>Here is an example code snippet from my project. In the header I have EnemyBuilder &amp;m_builder; and then I initialize it in the source. </p>\n\n<p>EnemyFactory.h</p>\n\n<pre><code>#include &lt;string&gt;\n\n#ifndef ENEMYFACTORY\n#define ENEMYFACTORY\n\nclass World;\nclass Enemy;\nclass EnemyBuilder;\n\nclass EnemyFactory\n{\nprivate:\n    EnemyBuilder &amp;m_builder;\n    World &amp;m_world;\n\npublic:\n    EnemyFactory(World &amp;world);\n\n    Enemy* produce(std::string type);\n};\n\n#endif\n</code></pre>\n\n<p>EnemyFactory.cpp</p>\n\n<pre><code>#include \"EnemyFactory.h\"\n\n#include \"EnemyBuilder.h\"\n#include \"World.h\"\n#include \"Enemy.h\"\n\nEnemyFactory::EnemyFactory(World &amp;world) :\n    m_world(world), m_builder(EnemyBuilder())\n{\n\n}\n\nEnemy* EnemyFactory::produce(std::string type)\n{\n    Enemy *product = new Enemy(m_world);\n\n    if (type == \"basic\")\n    {\n        product-&gt;setSpeed(5000.0f);\n    }\n\n    return product;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 2, "creation_date": 1457563986, "post_id": 35904281, "comment_id": 59468942, "body": "Qt doesn&#39;t care what edition windows is, it cares whether it is windows or something else. The MS APIs are the way to go."}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 1, "creation_date": 1457565296, "post_id": 35904281, "comment_id": 59469491, "body": "What&#39;s the problem at using the native Windows function, once you&#39;ve figured out you&#39;re running under Windows desktop?"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1457565486, "post_id": 35904281, "comment_id": 59469553, "body": "@peppe that should be done on preprocessor level IMO. Whether the target platform is windows is known at compile time."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 2, "creation_date": 1457566175, "post_id": 35904281, "comment_id": 59469798, "body": "&quot;I do not like to use Win API functions...&quot; Well, I&#39;ve only ever met a single person who did, and he was a little strange. Not liking an API isn&#39;t always a reason to avoid it. If you think this is something that QSysInfo should provide you can always open a feature request with Qt."}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1457566700, "post_id": 35904281, "comment_id": 59470015, "body": "@MrEricSir - that&#39;s not true in my experience, most of the people who were forced to use MS APIs from the start and haven&#39;t used anything else tend to be overly fond on them :)"}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 2, "creation_date": 1457619343, "post_id": 35904281, "comment_id": 59496102, "body": "@ddriver: that&#39;s the point. Add a <code>#ifdef Q_OS_WIN</code> and then go for the platform specific bit that QSysInfo just doesn&#39;t provide yet."}], "answers": [{"tags": [], "owner": {"reputation": 7687, "user_id": 3220983, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ypq01.jpg?s=128&g=1", "display_name": "BuvinJ", "link": "https://stackoverflow.com/users/3220983/buvinj"}, "is_accepted": true, "score": 1, "last_activity_date": 1472238490, "last_edit_date": 1495541697, "creation_date": 1472238490, "answer_id": 39173207, "question_id": 35904281, "link": "https://stackoverflow.com/questions/35904281/detecting-windows-10-edition-using-qt5/39173207#39173207", "title": "Detecting Windows 10 Edition using Qt5", "body": "<p>If you looking for Windows 10 detection in general on Qt 5 (not the edition, but the simple fact you're running on Win 8.1 or Win 10), refer to my post here: \n<a href=\"https://stackoverflow.com/questions/32115255/c-how-to-detect-windows-10/39173155#39173155\">C++ How to detect Windows 10</a></p>\n"}], "owner": {"reputation": 6651, "user_id": 996815, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2058dcdbff2ea9ea04aa1b42217a1fce?s=128&d=identicon&r=PG&f=1", "display_name": "Vertexwahn", "link": "https://stackoverflow.com/users/996815/vertexwahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 39173207, "answer_count": 1, "score": 3, "last_activity_date": 1472238490, "creation_date": 1457563835, "question_id": 35904281, "link": "https://stackoverflow.com/questions/35904281/detecting-windows-10-edition-using-qt5", "title": "Detecting Windows 10 Edition using Qt5", "body": "<p>Is there a possibility in Qt5.x (and up) to detect the current Edition of Windows 10 (assuming that the application is running on Windows 10)? Available editions are <em>Home</em>, <em>Pro</em>, <em>Education</em> and <em>Enterprise</em>. I do not like to use Win API functions to detect it. I know about the <a href=\"http://doc.qt.io/qt-5/qsysinfo.html\" rel=\"nofollow\"><code>QSysInfo</code></a> class, but it does not offer any functionality to find out the current edition.</p>\n"}, {"tags": ["c++", "algorithm", "quicksort"], "comments": [{"owner": {"reputation": 2456, "user_id": 541763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43aac9fdbb3f489dbeb253d3debb8b80?s=128&d=identicon&r=PG", "display_name": "LiMuBei", "link": "https://stackoverflow.com/users/541763/limubei"}, "edited": false, "score": 0, "creation_date": 1457564063, "post_id": 35904218, "comment_id": 59468969, "body": "Have you tried stepping through with a debugger? Should help you see what&#39;s going on."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1457564194, "post_id": 35904218, "comment_id": 59469025, "body": "Also, obviously: <code>std::sort</code>."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1457564388, "post_id": 35904218, "comment_id": 59469109, "body": "Also a good rule is when you are working with array indices, try to consistently use &quot;&lt;&quot; and the upper bound one behind the end index in <i>for</i> loops. Mixing upper bounds as &quot;last used&quot;, &quot;one after last&quot; and &quot;&lt;&quot; and &quot;&lt;=&quot; is confusing (apparently yourself as well...). E.g. if you have an array containing 5 elements, write the for loop like <i>for (i = 0; i &lt;5; i++)</i> ."}, {"owner": {"reputation": 7540, "user_id": 4474230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/713c7ce18010e541853962264a719d83?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey", "link": "https://stackoverflow.com/users/4474230/jeffrey"}, "edited": false, "score": 2, "creation_date": 1457564535, "post_id": 35904218, "comment_id": 59469180, "body": "a[tmp]; is your main error."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "reply_to_user": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 0, "creation_date": 1457565050, "post_id": 35904218, "comment_id": 59469388, "body": "@Tuffwer Yes, you&#39;re right."}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 5613449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b89d587be90e010af520633ba1658d?s=128&d=identicon&r=PG&f=1", "display_name": "tfreiner", "link": "https://stackoverflow.com/users/5613449/tfreiner"}, "edited": false, "score": 0, "creation_date": 1457565002, "post_id": 35904426, "comment_id": 59469363, "body": "Good catch!  However after the change, my program displays: 8 2 8 8 32767 9 32767 100001 7 for the output of the sorted array."}, {"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "reply_to_user": {"reputation": 209, "user_id": 5613449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b89d587be90e010af520633ba1658d?s=128&d=identicon&r=PG&f=1", "display_name": "tfreiner", "link": "https://stackoverflow.com/users/5613449/tfreiner"}, "edited": false, "score": 1, "creation_date": 1457565425, "post_id": 35904426, "comment_id": 59469535, "body": "@tfreiner I&#39;m not sure. When I run your code at <a href=\"https://ideone.com/5y0PZ7\" rel=\"nofollow noreferrer\">ideone</a> (an online compiler) It appears to work correctly."}, {"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "reply_to_user": {"reputation": 209, "user_id": 5613449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b89d587be90e010af520633ba1658d?s=128&d=identicon&r=PG&f=1", "display_name": "tfreiner", "link": "https://stackoverflow.com/users/5613449/tfreiner"}, "edited": false, "score": 1, "creation_date": 1457565946, "post_id": 35904426, "comment_id": 59469718, "body": "@tfreiner  If you continue having issues the values your getting suggest to me that something isn&#39;t being initialized somewhere properly, or you&#39;re reading out of bounds on the array but still in memory the program owns (hence no segfault) I would suggest doing what tofro says and step through with a debugger to see how the values change as your program executes.  You could also write descriptive print statements if you don&#39;t know how to use a debugger, but it would be better to learn how to use the debugger"}, {"owner": {"reputation": 209, "user_id": 5613449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b89d587be90e010af520633ba1658d?s=128&d=identicon&r=PG&f=1", "display_name": "tfreiner", "link": "https://stackoverflow.com/users/5613449/tfreiner"}, "edited": false, "score": 1, "creation_date": 1457566196, "post_id": 35904426, "comment_id": 59469807, "body": "I figured it out I made a stupid mistake.  I applied your edit to the wrong file.  I runs perfectly now thanks!"}], "tags": [], "owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "is_accepted": true, "score": 9, "last_activity_date": 1457564514, "creation_date": 1457564514, "answer_id": 35904426, "question_id": 35904218, "link": "https://stackoverflow.com/questions/35904218/c-quicksort-algorithm/35904426#35904426", "title": "C++ Quicksort Algorithm", "body": "<p>In the second to last line of your partition function you should have:</p>\n\n<pre><code>  a[r] = tmp;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>  a[r] = a[tmp];\n</code></pre>\n\n<p>You are overwriting parts of your array with other members instead of completing the third step of your swap.</p>\n"}], "owner": {"reputation": 209, "user_id": 5613449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b89d587be90e010af520633ba1658d?s=128&d=identicon&r=PG&f=1", "display_name": "tfreiner", "link": "https://stackoverflow.com/users/5613449/tfreiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 35904426, "answer_count": 1, "score": 3, "last_activity_date": 1457564514, "creation_date": 1457563610, "question_id": 35904218, "link": "https://stackoverflow.com/questions/35904218/c-quicksort-algorithm", "title": "C++ Quicksort Algorithm", "body": "<p>I am working on a quicksort algorithm implementation in c++ and I have not been able to get it to work as it should.  I have researched several sources and my code looks flawless, but the array is not sorting as it should.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid quicksort(int[],int, int);\nint partition(int[], int, int);\n\nint main()\n{\n    int a[] = {5, 1, 9, 3, 8, 4, 1, 2, 6, 7};\n    for (int i = 0; i &lt; 10; i++)\n    { \n        cout &lt;&lt; a[i] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n    quicksort(a, 0, 9);\n    for (int i = 0; i &lt; 10; i++)\n    {\n            cout &lt;&lt; a[i] &lt;&lt; \" \";\n    }\n    return 0;\n}\n\nvoid quicksort(int a[], int p, int r)\n{\n    if (p &lt; r)\n    {\n            int q = partition(a, p, r);\n            quicksort(a, p, q - 1);\n            quicksort(a, q + 1, r);\n   }\n}\n\nint partition(int a[], int p, int r)\n{\n    int x = a[r];\n    int i = (p - 1);\n    for (int j = p; j &lt;= r-1; j++)\n    {\n        if (a[j] &lt;= x)\n        {\n                i++;\n                int tmp = a[i];\n                a[i] = a[j];\n                a[j] = tmp;\n        }\n     }\n     int tmp = a[i+1];\n     a[i+1] = a[r];\n     a[r] = a[tmp];\n     return (i + 1);\n}\n</code></pre>\n\n<p>When I run this code the following is displayed:</p>\n\n<pre><code>5 1 9 3 8 4 1 2 6 7\n1 1 2 4 4 4 6 7 7 7\n</code></pre>\n\n<p>I am not sure what I am doing wrong here.  Thanks for your help.</p>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 754, "user_id": 4982254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35a67d96b5062719b2bcbbb13fbf98?s=128&d=identicon&r=PG&f=1", "display_name": "R. Q.", "link": "https://stackoverflow.com/users/4982254/r-q"}, "edited": false, "score": 0, "creation_date": 1457563532, "post_id": 35904143, "comment_id": 59468735, "body": "Remove <code>friend</code> from the .cpp file"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457564161, "post_id": 35904143, "comment_id": 59469009, "body": "You share your secrets with friends, but you chose your friends. You do not necessarily share your secrets with people who call themselves your friend. Except for Tom. He&#39;s everybody&#39;s friend."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1457565337, "post_id": 35904143, "comment_id": 59469504, "body": "Now, that you seem to have an answer: somewhat by convention, <i>instructor::operator ++()</i> should return a <i>reference</i> to the incremented object. You are returning a <i>copy</i>"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1457567674, "post_id": 35904143, "comment_id": 59470359, "body": "&quot;I&#39;m trying to ovrerload the cout operator &quot; -- no. <code>std::cout</code> is not an operator; it&#39;s an object. What you&#39;re trying to overload is the <b>stream inserter</b> <code>operator&lt;&lt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "is_accepted": true, "score": 3, "last_activity_date": 1457563652, "creation_date": 1457563652, "answer_id": 35904228, "question_id": 35904143, "link": "https://stackoverflow.com/questions/35904143/friend-not-allowed-outside-of-a-class-definition/35904228#35904228", "title": "friend not allowed outside of a class definition", "body": "<p>There are two problems. The first is that you can't use <code>friend</code> outside a class, as the error says. But you don't need to; having declared the function as a friend within the class you just define it outside without having to mention the friend-ness again.</p>\n\n<p>But the other problem is that your declaration and definition don't match. You declared this as a friend:</p>\n\n<pre><code>ostream &amp;operator &lt;&lt;(ostream, instructor );\n</code></pre>\n\n<p>And then you defined this:</p>\n\n<pre><code>ostream&amp; operator&lt;&lt;(ostream&amp;, instructor&amp;)\n</code></pre>\n\n<p>Those aren't the same, but they need to be.</p>\n"}], "owner": {"reputation": 8751, "user_id": 2922834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5913784b92f3fad5e412b1222732307?s=128&d=identicon&r=PG&f=1", "display_name": "Display name", "link": "https://stackoverflow.com/users/2922834/display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4692, "favorite_count": 1, "accepted_answer_id": 35904228, "answer_count": 1, "score": 1, "last_activity_date": 1457563811, "creation_date": 1457563257, "last_edit_date": 1457563811, "question_id": 35904143, "link": "https://stackoverflow.com/questions/35904143/friend-not-allowed-outside-of-a-class-definition", "title": "friend not allowed outside of a class definition", "body": "<p>I'm trying to ovrerload the cout operator in an assignment and I was forced and asked to split my class into (.h and .cpp). Here is my full code:</p>\n\n<h2>instructor.h</h2>\n\n<pre><code>#include \"person.h\"\n#ifndef instructor_h\n#define instructor_h\nclass instructor: public person {\n\nprivate:    \n    int children;\n    int salary;\n    string maritalStatus;\n\npublic:\n\n    instructor();\n    instructor(string, string, string, int , int ,string);\n\ninstructor operator++();\n\n    void print();\n\n\n\n    int calcSalary();\n\n    int getSalary();\n    int getNumOfChildren();\n    string getMarialStatus();\n\n    friend ostream &amp;operator &lt;&lt;(ostream, instructor );\n    void setSalary(int);\n    void getNumOfChildren(int);\n    void setMarialStatus(string);\n\n};\n\n#endif\n</code></pre>\n\n<h2>instructor.cpp</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"instructor.h\"\nusing namespace std;\n\ninstructor::instructor() {\n\n}\n\n\ninstructor::instructor(string a , string b, string c , int chil , int sal ,string mar):person(a,b,c) \n\n{\n    children = chil;\n    salary = sal;\n    maritalStatus = mar;\n}\n\n\ninstructor instructor::operator ++()\n    {\n        children=children+1;\n        return *this;\n    }\n\n\nint instructor::calcSalary() {\n\n    int new_sal;\n    new_sal = salary + children*0.1;\n\n    return new_sal;\n}\n\nint instructor::getSalary() {\n\n    cout &lt;&lt;\"Here is the result of your query:\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout&lt;&lt; \"Salary: \"&lt;&lt;salary&lt;&lt;\"\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout &lt;&lt;endl;\n\n    return salary;\n\n\n}\n\nint instructor::getNumOfChildren() {\n\n    cout &lt;&lt;\"Here is the result of your query:\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout&lt;&lt; \"Number of children: \"&lt;&lt;children&lt;&lt;\"\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n\n\n    cout &lt;&lt;endl;\n    return children;\n\n\n}\n\nstring instructor::getMarialStatus() {\n\n    cout &lt;&lt;\"Here is the result of your query:\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout&lt;&lt; \"Marital Status: \"&lt;&lt;maritalStatus&lt;&lt;\"\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout &lt;&lt;endl;\n\n    return maritalStatus;\n\n}\n\n\nfriend ostream&amp; operator&lt;&lt;(ostream&amp; os, instructor&amp; v){\n    os &lt;&lt; v.children;\n\nreturn os;\n}\n\n\n\nvoid instructor::setSalary(int sal) {\n\n    salary = sal;\n}\n\nvoid instructor::getNumOfChildren(int nmc) {\n\n    children = nmc;\n\n}\n\nvoid instructor::setMarialStatus(string sms) {\n\n    maritalStatus = sms;\n\n}\n\n\n\nvoid instructor::print() {\n\n    person::print();\n    cout &lt;&lt;\"Here is the result of your query:\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout&lt;&lt; \"Marital Status: \"&lt;&lt;maritalStatus&lt;&lt;\"\"&lt;&lt;endl;\n    cout&lt;&lt; \"Number of children: \"&lt;&lt;children&lt;&lt;\"\"&lt;&lt;endl;\n    cout&lt;&lt; \"Salary: \"&lt;&lt;salary&lt;&lt;\"\"&lt;&lt;endl;\n    cout &lt;&lt;\"=================================\"&lt;&lt;endl;\n    cout &lt;&lt;endl;\n\n\n}\n</code></pre>\n\n<p>I am getting the following errors:</p>\n\n<blockquote>\n  <p><strong>instructor.cpp(75) :</strong> error C2255: 'friend' : not allowed outside of a class definition\n  <strong>instructor.cpp(76) :</strong> error C2248: 'instructor::children' : cannot\n  access private member declared in class 'instructor' 1><br>\n  c:\\documents and settings\\george\\my documents\\visual studio\n  2005\\projects\\hana\\hana\\instructor.h(7) : see declaration of\n  'instructor::children' 1><br>\n  ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========</p>\n</blockquote>\n\n<p>I am using visual studio 2005. Why am I getting those errors? </p>\n\n<p>All of this is cause by my  attempt in overloading the operator cout:</p>\n\n<pre><code>friend ostream&amp; operator&lt;&lt;(ostream&amp; os, instructor&amp; v){\n    os &lt;&lt; v.children;\n\nreturn os;\n}\n</code></pre>\n\n<p>Why is not working?</p>\n"}, {"tags": ["c++", "header"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 3, "creation_date": 1457562998, "post_id": 35904001, "comment_id": 59468472, "body": "<a href=\"http://stackoverflow.com/q/224397/10077\">Don&#39;t use double underscore</a>."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1457563089, "post_id": 35904001, "comment_id": 59468521, "body": "And especially don&#39;t use double underscore. And especially don&#39;t use double underscore followed by a capital letter. If you do UB would really get real."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1457563180, "post_id": 35904001, "comment_id": 59468569, "body": "And to answer your question: include the header in the cpp."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1457563238, "post_id": 35904001, "comment_id": 59468598, "body": "Can you show an example of a .cpp file where the definitions don&#39;t compile? It could be that you&#39;re forgetting to #include the header, or you may be forgetting the class name on the member function definition."}, {"owner": {"reputation": 101, "user_id": 4564815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBh7c.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4564815/jacob"}, "edited": false, "score": 0, "creation_date": 1457563915, "post_id": 35904001, "comment_id": 59468907, "body": "Noted about the double underscore. My professor used it in his style, so I presumed it was correct."}], "answers": [{"comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 2, "creation_date": 1457563426, "post_id": 35904158, "comment_id": 59468690, "body": "I&#39;d use <code>namespace VectorMath</code> around my function definitions rather than specifying it for each one. Also, prefer initializers in constructors rather than assigning in the body."}], "tags": [], "owner": {"reputation": 113, "user_id": 4292649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a22b2ac2f1b0eb952f4c42665ed892b7?s=128&d=identicon&r=PG&f=1", "display_name": "Camleon", "link": "https://stackoverflow.com/users/4292649/camleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1457563819, "last_edit_date": 1457563819, "creation_date": 1457563340, "answer_id": 35904158, "question_id": 35904001, "link": "https://stackoverflow.com/questions/35904001/defining-header-files-in-c/35904158#35904158", "title": "Defining header files in C++", "body": "<p>If you want to use a cpp file for your constructor you should write</p>\n\n<pre><code>// File Vector3.cpp\n#include \"Vector3.h\"\n\nnamespace VectorMath {\n\n    Vector3::Vector3 (float x, float y, float z)         \n    { \n        this-&gt;x=x;\n       //...\n    }\n</code></pre>\n\n<p>The addition should be implemented as follows if you keep it in the same namespace </p>\n\n<pre><code>    Vector3 Vector3::operator+(const Vector3&amp; v)\n    { \n        return Vector3 (x+v.x,y+v.y,z+v.z);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 4564815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBh7c.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4564815/jacob"}, "edited": false, "score": 0, "creation_date": 1457563877, "post_id": 35904191, "comment_id": 59468890, "body": "This works and makes sense. It appears I hadn&#39;t specified the cpp file to use the namespace VectorMath and I had also labeled it as a class. Do you not need to label the cpp file as a class because it has a header? If you do, I&#39;m assuming you can strip out the Vector3:: part since it dictates which method in which class to define. If not, I suppose you always have to define the class prior to the method name?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 101, "user_id": 4564815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBh7c.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4564815/jacob"}, "edited": false, "score": 0, "creation_date": 1457565233, "post_id": 35904191, "comment_id": 59469468, "body": "An <code>#include</code> statement is nothing more than a text replacement, the preprocessor replaces it with the content of the file that it refers to. So ultimately, the compiler only sees one big block of code - declarations followed by implementations. You have to specify the <code>Vector3::</code> when a method declaration is separated from its implementation so they can be matched up. Whether you do that in a <code>.cpp</code> file, or even in the same <code>.h</code> file, it is all the same to the compiler. If you implement the method bodies inline inside their declarations, you don&#39;t specify the <code>Vector3::</code>."}, {"owner": {"reputation": 101, "user_id": 4564815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBh7c.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4564815/jacob"}, "edited": false, "score": 0, "creation_date": 1457565531, "post_id": 35904191, "comment_id": 59469579, "body": "Awesome. Thank you very much!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 3, "last_activity_date": 1457563491, "creation_date": 1457563491, "answer_id": 35904191, "question_id": 35904001, "link": "https://stackoverflow.com/questions/35904001/defining-header-files-in-c/35904191#35904191", "title": "Defining header files in C++", "body": "<p>It needs to look more like this instead:</p>\n\n<p>Vector_3.h:</p>\n\n<pre><code>#ifndef Vector_3_H\n#define Vector_3_H\n\n#pragma once\n\nnamespace VectorMath {\n\nclass Vector3 {\n\npublic:\n\n    Vector3(float x, float y, float z);\n\n    Vector3 operator+(Vector3 vector);    \n    Vector3 operator-(Vector3 vector);\n    Vector3 operator*(Vector3 vector);\n    Vector3 operator/(Vector3 vector);\n\n    float getX();\n    float getY();\n    float getZ();\n\nprivate:\n\n    float x;\n    float y;\n    float z;\n\n};\n\n}\n\n#endif\n</code></pre>\n\n<p>Vector_3.cpp:</p>\n\n<pre><code>#include \"Vector_3.h\"\n\nnamespace VectorMath {\n\nVector3::Vector3(float x, float y, float z) {\n    this-&gt;x = x;\n    this-&gt;y = y;\n    this-&gt;z = z;\n}\n\nVector3 Vector3::operator+(Vector3 vector) {\n    return Vector3(x + vector.x, y + vector.y, z + vector.z);\n}\n\nVector3 Vector3::operator-(Vector3 vector) {\n    return Vector3(x - vector.x, y - vector.y, z - vector.z);\n}\n\nVector3 Vector3::operator*(Vector3 vector) {\n    return Vector3(x * vector.x, y * vector.y, z * vector.z);\n}\n\nVector3 Vector3::operator/(Vector3 vector) {\n    return Vector3(x / vector.x, y / vector.y, z / vector.z);\n}\n\nfloat Vector3::getX() {\n    return x;\n}\n\nfloat Vector3::getY() {\n    return y;\n}\n\nfloat Vector3::getZ() {\n    return z;\n}\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14872, "user_id": 3919155, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3034f14bf0b65847592b2c2e08b9253e?s=128&d=identicon&r=PG&f=1", "display_name": "jotik", "link": "https://stackoverflow.com/users/3919155/jotik"}, "is_accepted": false, "score": 0, "last_activity_date": 1457564030, "last_edit_date": 1457564030, "creation_date": 1457563644, "answer_id": 35904226, "question_id": 35904001, "link": "https://stackoverflow.com/questions/35904001/defining-header-files-in-c/35904226#35904226", "title": "Defining header files in C++", "body": "<p>If you want to move the implementations of member functions away from the header file, you still need to <strong>declare</strong> them in the definition of the class. For example:</p>\n\n<pre><code>// Vector1.h\n#pragma once\n#ifndef VectorMath_Vector1_H\n#define VectorMath_Vector1_H\n\n\nnamespace VectorMath {\n\nclass Vector1 {\n\npublic: // Methods:\n\n    // This is a definition for a default constructor:\n    Vector1() noexcept : m_x(0) {}\n\n    // This is a declaration for another constructor:\n    Vector1(float x) noexcept;\n\n    // This is a declaration of a member function:\n    Vector1 operator+(Vector1 const &amp; rhs) const noexcept;\n\nprivate: // Fields:\n\n    float m_x;\n\n}; // class Vector1\n\n} // namespace VectorMath {\n\n#endif // VectorMath_Vector1_H\n</code></pre>\n\n\n\n<pre><code>// Vector1.cpp\n#include \"Vector1.h\"\n\n\nnamespace VectorMath {\n\n// Definition of the other constructor:\nVector1::Vector1(float x) noexcept\n    : m_x(x)\n{}\n\n// Definition of the binary + operator:\nVector1 Vector1::operator+(Vector1 const &amp; rhs) const noexcept\n{ return m_x + rhs.m_x; }\n\n} // namespace VectorMath {\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4564815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBh7c.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4564815/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 0, "accepted_answer_id": 35904191, "answer_count": 3, "score": 1, "last_activity_date": 1457564030, "creation_date": 1457562639, "question_id": 35904001, "link": "https://stackoverflow.com/questions/35904001/defining-header-files-in-c", "title": "Defining header files in C++", "body": "<p>To start off with, I'll mention I come mainly from a Java background. I do have exposure with C and understand most concepts behind C++. I'm trying to help myself learn more about the language and can't seem to figure out headers. I understand why to use them in addition to cpp files and all of that. My problem is trying to actually manage working with them. For example, defining a Vector3 header with private float variables and then overload operating. My problem comes in when I attempt to define the constructor and methods in the cpp file. I can't seem to figure out how to get access to the private variables without specifically defining the functions and the constructor in the header, which more or less leads me to believe I don't need both a header and cpp file in this instance.</p>\n\n<p>Here's how I've defined the header file currently (which works, but isn't undefined as it should be):</p>\n\n<pre><code>#pragma once\n\n#ifndef __Vector_3_H__\n#define __Vector_3_H__\n\nnamespace VectorMath {\n\nclass Vector3 {\n\npublic:\n\n    Vector3(float x, float y, float z) {\n        this-&gt;x = x;\n        this-&gt;y = y;\n        this-&gt;z = z;\n    }\n\n    Vector3 operator+(Vector3 vector) {\n        return Vector3(x + vector.x, y + vector.y, z + vector.z);\n    }\n\n    Vector3 operator-(Vector3 vector) {\n        return Vector3(x - vector.x, y - vector.y, z - vector.z);\n    }\n\n    Vector3 operator*(Vector3 vector) {\n        return Vector3(x * vector.x, y * vector.y, z * vector.z);\n    }\n\n    Vector3 operator/(Vector3 vector) {\n        return Vector3(x / vector.x, y / vector.y, z / vector.z);\n    }\n\n    float getX() {\n        return x;\n    }\n\n    float getY() {\n        return y;\n    }\n\n    float getZ() {\n        return z;\n    }\n\nprivate:\n\n    float x;\n    float y;\n    float z;\n\n};\n}\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "arrays", "struct"], "answers": [{"comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562795, "post_id": 35903992, "comment_id": 59468368, "body": "How is PHP is similar to C, apart from the fact they both use curly braces?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457563074, "post_id": 35903992, "comment_id": 59468514, "body": "Let me just feed <code>&lt;?php function f($x) {return $x + 2;}    $a = new SomeNamespace\\SomeClass;  if(1 &lt; 2) { ?&gt; math works &lt;? } else { echo &quot;math doesn&#39;t work because 1&lt;2 yields &quot; . strval(1 &lt; 2); } ?&gt;</code> into my C compiler..."}], "tags": [], "owner": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "is_accepted": false, "score": -1, "last_activity_date": 1457562622, "creation_date": 1457562622, "answer_id": 35903992, "question_id": 35903904, "link": "https://stackoverflow.com/questions/35903904/cannot-wrap-my-head-around-output-of-individual-word-and-its-corresponding-line/35903992#35903992", "title": "Cannot wrap my head around output of individual word and its corresponding line numbers", "body": "<p>You may be better off storing the words in a hash, \ngoogle    ' php word count program'\nTo see how it is done.\nPhp has a very similar syntax to C, so you should be able to follow it.</p>\n"}, {"comments": [{"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1457563247, "post_id": 35904051, "comment_id": 59468604, "body": "Great, I am still really new to c++ and have not covered maps yet. I will do some research on that topic and then do some trial and in my case, most likely, a bunch of errors. Will let you know how it goes some time later when I understand that method. Thank you"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457563268, "post_id": 35904051, "comment_id": 59468612, "body": "I was going to make a comment about this, but It dovetails into your answer quite well: rather than <code>array&lt;int, 100&gt; lines;</code> consider <code>vector&lt;int&gt; lines</code>"}, {"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1457566957, "post_id": 35904051, "comment_id": 59470109, "body": "Ok, so far my basic understanding is that the value of , say for example, word_lines[this] would contain a value (presumably line 2 [based off the test file]). My question is, does the map class only hold one value? My output should read some thing like:  this: 2, 3, .... a: 4, 7, 9, ...  Just clarifying, thank you"}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1457567075, "post_id": 35904051, "comment_id": 59470153, "body": "Okay, your question was phrased confusingly. It sounded like you only wanted the <i>first</i> instance. In this case, I will modify the example. Give me a moment."}, {"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1457567143, "post_id": 35904051, "comment_id": 59470172, "body": "No problem, sorry for the confusion"}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1457569215, "post_id": 35904051, "comment_id": 59470911, "body": "Answer edited. A bit more complicated now, but it should do the trick."}], "tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": false, "score": 2, "last_activity_date": 1457568995, "last_edit_date": 1457568995, "creation_date": 1457562853, "answer_id": 35904051, "question_id": 35903904, "link": "https://stackoverflow.com/questions/35903904/cannot-wrap-my-head-around-output-of-individual-word-and-its-corresponding-line/35904051#35904051", "title": "Cannot wrap my head around output of individual word and its corresponding line numbers", "body": "<p>It sounds like you want to use a <a href=\"http://en.cppreference.com/w/cpp/container/map\" rel=\"nofollow\"><code>map</code></a>, specifically:</p>\n\n<pre><code>map&lt;string, set&lt;int&gt;&gt; word_lines;\n</code></pre>\n\n<p>This is an associative container, allowing you to look-up values based on an arbitrary \"key\" (in this case, a word in the form of a <code>string</code>).</p>\n\n<p>We can also use a <a href=\"http://en.cppreference.com/w/cpp/container/set\" rel=\"nofollow\"><code>set</code></a> to keep track of all the unique lines the word is on. A <code>set</code> is a container that is sort of like a <code>map</code> except it only has keys and no values.  We could use a <code>vector</code> instead, but there are a variety of advantages to using a <code>set</code>, namely that look-up times are O(logN) instead of O(N). Since look-ups are primarily what you'll be doing, it makes sense to use this instead of a <code>vector</code>.</p>\n\n<p>Whenever you encounter a word, you can do this:</p>\n\n<pre><code>auto word_lines_itr = word_lines.find(word)\n\nif (word_lines_itr == word_lines.end())\n{\n    // word does not exist in map, add it with it's corresponding number\n    auto word_lines_itr = word_lines.insert(word_lines.begin(), make_pair(word, set&lt;int&gt;()));\n}\n\n// will attempt to insert line number into the set\nword_lines_itr.second.insert(line_number)\n</code></pre>\n\n<p>At the end, you can print out a list of all the words and the lines on which they were first encountered.</p>\n\n<pre><code>for (const auto&amp; w : word_lines)\n{\n    cout &lt;&lt; w.first &lt;&lt; \": \";\n\n    auto&amp; lines = w.second;\n\n    // convert set to vector\n    std::vector&lt;int&gt; line_numbers;\n    line_numbers.assign(lines.begin(), lines.end());\n    sort(line_numbers.begin(), line_numbers.end());\n\n    if (line_numbers.size() &gt; 0)\n    {\n        cout &lt;&lt; line_numbers[0];\n    }\n\n    for (size_t i = 1; i &lt; line_numbers.size(); ++i)\n    {\n        cout &lt;&lt; \", \" &lt;&lt; line_numbers[i];\n    }\n}\n</code></pre>\n\n<p>You'll note we do something weird where we convert the <code>set</code> to a <code>vector</code>. This is because items in a <code>set</code> do not necessarily come out in the order they were inserted. If we want to get the numeric order, we need to copy the values to a <code>vector</code> and <code>sort</code> it.</p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457563906, "post_id": 35904177, "comment_id": 59468902, "body": "<code>if(words.find(buffer) == words.end()) words[buffer] = std::vector&lt;int&gt;()</code> is not necessary. <code>words[buffer].push_back(numberOfLines);</code> will create the vector as soon as <code>words[buffer]</code> finds there isn&#39;t one. If you ever find yourself not wanting a <code>map</code> to not create an entry when it doesn&#39;t exist, use <code>map::at</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457564035, "post_id": 35904177, "comment_id": 59468956, "body": "One other note, now that I think about it, the vector may need to be sanitized to remove duplicates if a word is on the same line more than once."}, {"owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457564175, "post_id": 35904177, "comment_id": 59469016, "body": "@user4581301 good point, but if a word appears twice on a line, does that mean it should be listed twice to show it occurred twice on that line, or just once?  I wanted to keep the code short.  As for the unnecessary assignment, I have seen it necessary on some compilers, but yes, it is unnecessary on compilers that are correct, although it is an easy way to illustrate how to handle the not-found condition in case knowing that is useful."}, {"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1457564654, "post_id": 35904177, "comment_id": 59469230, "body": "I appreciate everybody&#39;s input. I am doing some research on maps and vectors right now. I am still new to this and have only gotten as far as structs and arrays. If @MattJordan you mean the assignment of counting the lines in which the word appears is unnecessary, I would have to agree with that statement. If a word appears twice on the same line, it would only need to show that it appeared once."}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1457564909, "post_id": 35904177, "comment_id": 59469315, "body": "@MattJordan &quot;I am also not looking to count how many times the word appears in the code, only the line number that contains it.&quot; Why are you using a <code>vector&lt;int&gt;</code> as the value when the OP clearly only wants the first line number?"}, {"owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "reply_to_user": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1457622600, "post_id": 35904177, "comment_id": 59498759, "body": "@Colin Basnett to quote the OP: &quot;A word may exist on multiple lines and I only need the word once and its corresponding line numbers.&quot;  The OP wants the word and ALL line numbers it appeared on, not just the first."}], "tags": [], "owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "is_accepted": false, "score": 2, "last_activity_date": 1457563438, "creation_date": 1457563438, "answer_id": 35904177, "question_id": 35903904, "link": "https://stackoverflow.com/questions/35903904/cannot-wrap-my-head-around-output-of-individual-word-and-its-corresponding-line/35904177#35904177", "title": "Cannot wrap my head around output of individual word and its corresponding line numbers", "body": "<p>You will need a map containing a list of line numbers,</p>\n\n<pre><code>map&lt;string, vector&lt;int&gt;&gt; words;\n</code></pre>\n\n<p>Then, you will need to fill it with code (modified from yours):</p>\n\n<pre><code>    while(wordGather &gt;&gt; buffer)\n    {\n        wordCount++;\n        if(words.find(buffer) == words.end())\n            words[buffer] = std::vector&lt;int&gt;();\n        words[buffer].push_back(numberOfLines);\n    }      \n</code></pre>\n\n<p>and you can display the list of words and line numbers using something like:</p>\n\n<pre><code>    for(auto word:words)\n    {\n            cout &lt;&lt; word.first &lt;&lt; \" at lines\";\n            for(auto line:words.second)\n                    cout &lt;&lt; \" \" &lt;&lt; line;\n            cout &lt;&lt; endl;\n    }\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1457568995, "creation_date": 1457562240, "last_edit_date": 1457567627, "question_id": 35903904, "link": "https://stackoverflow.com/questions/35903904/cannot-wrap-my-head-around-output-of-individual-word-and-its-corresponding-line", "title": "Cannot wrap my head around output of individual word and its corresponding line numbers", "body": "<p>I have searched high and low and cannot find a way to wrap my head around this problem I am having. I am taking input from stdin on the command line and using my program to do some counts.</p>\n\n<p>I'm taking input of a file that contains no more than 100 lines and no more than 20 words per line. Therefore, I have an array of 2000 elements and a struct that contains an int and an array of 100.</p>\n\n<p>My goal is to count the number of words, number of lines, and the number of bytes/characters (this has been accomplished). I am also looking to read each word into an array and then cout the what line each word is on.</p>\n\n<p>An example output would be something like:</p>\n\n<pre><code>a:1, 2, 4\nThis: 1, 2\nstruct: 2, 3, 4\n</code></pre>\n\n<p>This is my test file:</p>\n\n<pre><code>This is a test file\nThis file contains a struct\nThe struct with a datatype of wordBlock that contains an array of 100 int elements\nThe struct also contains string word\nThere is an array of datatype wordBlock\nThere are a total of two thousand possible elements\nI must count the words\nCount the number of bytes\nAnd count the number of lines\nI must also determine what words appear on which line number\nI must output each unique word only once and list its corresponding line number\nThe words This and this and THIS would all be unique words\n</code></pre>\n\n<p>My big problem that I can't wrap my head around is how to output each word only once and what line it is on. A word may exist on multiple lines and I only need the word once and its corresponding line numbers. I don't want to display the same word each time block[n].word is called. I am also not looking to count how many times the word appears in the code, only the line number that contains it.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#include \"main.h\"\n\nusing namespace std;\n\ntypedef struct\n{\n    string word;\n    array&lt;int, 100&gt; lines;\n} wordBlock;\n\nint main()\n{\n\n    string wordBuf(\"\");\n    istringstream wordGather(\"\");\n    string buffer(\"\");\n    int numberOfLines = 0;\n    int numberOfBytes = 0;\n    int wordCount = 0;\n    int idxCount = 0;\n\n    while (getline(cin, wordBuf))\n    {\n        numberOfBytes = numberOfBytes + (wordBuf.length() + 1);\n        numberOfLines++;\n        wordGather.str(wordBuf);\n        wordGather.clear();\n\n        while (wordGather &gt;&gt; buffer)\n        {\n            wordCount++;\n            block[idxCount].word = buffer;\n            idxCount++;\n\n            for (auto indexCount = 0; indexCount &lt; 100; indexCount++)\n            {\n                block[idxCount].lines[indexCount] = numberOfLines;\n            }\n        }\n    }\n\n    cout &lt;&lt; \"There are \" &lt;&lt; wordCount &lt;&lt; \" words, \" &lt;&lt; numberOfLines\n            &lt;&lt; \" lines, and  \" &lt;&lt; numberOfBytes &lt;&lt; \" bytes.\" &lt;&lt; endl;\n\n    for (auto idxCount = 0; idxCount &lt; block.size(); idxCount++)\n    {\n        for (auto index = 0; index &lt; block.size(); index++)\n        {\n            for (auto lineIdx = 1; lineIdx &lt; 2; lineIdx++)\n            {\n                if (block[idxCount].word == block[index].word)\n                {\n                    block[idxCount].lines[lineIdx] = block[index].lines[0];\n                }\n            }\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Thank you in advance for any possible advice.</p>\n"}, {"tags": ["c++", "opencv", "computer-vision", "camera-calibration"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3018616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee00ba831803b2132a0a71f087ae514e?s=128&d=identicon&r=PG&f=1", "display_name": "Croj", "link": "https://stackoverflow.com/users/3018616/croj"}, "is_accepted": false, "score": 0, "last_activity_date": 1457886890, "last_edit_date": 1457886890, "creation_date": 1457883840, "answer_id": 35972268, "question_id": 35903732, "link": "https://stackoverflow.com/questions/35903732/opencv-camera-calibration-with-c-unsupported-format-or-combination-of-formats/35972268#35972268", "title": "OpenCv camera calibration with C++ (Unsupported format or combination of formats error)", "body": "<p>Try to convert object_points into a vector of vectors of Point3f and image_points into a vector of vectors of Point2f, the error you pasted hints at that. In your code you are using Vec3f and Vec2f instead of Point3f/2f</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "is_accepted": true, "score": 0, "last_activity_date": 1457980811, "creation_date": 1457980811, "answer_id": 35995479, "question_id": 35903732, "link": "https://stackoverflow.com/questions/35903732/opencv-camera-calibration-with-c-unsupported-format-or-combination-of-formats/35995479#35995479", "title": "OpenCv camera calibration with C++ (Unsupported format or combination of formats error)", "body": "<p>Thank you all for helping me :)</p>\n\n<p>This problem solved by installing opencv again using cmake.</p>\n"}], "owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 1, "accepted_answer_id": 35995479, "answer_count": 2, "score": 1, "last_activity_date": 1457980811, "creation_date": 1457561646, "last_edit_date": 1495541759, "question_id": 35903732, "link": "https://stackoverflow.com/questions/35903732/opencv-camera-calibration-with-c-unsupported-format-or-combination-of-formats", "title": "OpenCv camera calibration with C++ (Unsupported format or combination of formats error)", "body": "<p>I'm using OpenCV for camera calibration using C++. The problem is that for calibrateCamera() function I get this error:</p>\n\n<pre><code>OpenCV Error: Unsupported format or combination of formats (objectPoints should contain vector of vectors of points of type Point3f) in cv::collectCalibrationData, file C:\\builds\\master_PackSlave-win64-vc12-shared\\opencv\\modules\\calib3d\\src\\calibration.cpp, line 3060\n</code></pre>\n\n<p>here is my code:</p>\n\n<pre><code>template &lt;typename T&gt;\nstring NumberToString ( T Number )\n{\n    stringstream ss;\n    ss &lt;&lt; Number;\n    return ss.str();\n}\n\nint main()\n{\n    int numBoards = 20;\n    int numCornersHor = 8;\n    int numCornersVer = 5;\n    float squareLenght = 30.0;\n\n    string commonFileName = \"D:\\\\IMG_11\"; \n    string fileType = \".JPG\";\n    int fileNum = 7; \n    string fileNumStr;\n    Size ImgSize(816, 612); \n\n    int numSquares = numCornersHor * numCornersVer;\n    Size board_sz = Size(numCornersHor, numCornersVer);\n\n    vector&lt;vector&lt;Vec3f&gt;&gt;object_points;\n    vector&lt;vector&lt;Vec2f&gt;&gt;image_points;\n\n    vector&lt;Vec3f&gt;obj;\n    vector&lt;Vec2f&gt;corners;\n\n    Mat cameraMatrix, distCoeffs;\n    Size imageSize;\n\n    int successes=0;\n\n    Mat image;\n    Mat gray_image;\n\n    fileNumStr = NumberToString(fileNum);\n    if (fileNum &lt;10)\n        fileNumStr = \"0\"+ NumberToString(fileNum);\n\n    image = imread(commonFileName+fileNumStr+fileType,1);\n    resize(image,image, ImgSize);\n    fileNum++;\n\n    obj.clear();\n    for(int i = 0; i&lt;numCornersVer; i++){\n        for(int j=0;j&lt;numCornersHor;j++){\n            obj.push_back(Vec3f(float(j*squareLenght/1.0),float(i*squareLenght/1.0),0.0f));\n        }\n    }\n\n    while(successes&lt;numBoards)\n    {\n        cvtColor(image, gray_image, CV_BGR2GRAY);\n\n        bool found = findChessboardCorners(image, board_sz, corners, CV_CALIB_CB_ADAPTIVE_THRESH | CALIB_CB_NORMALIZE_IMAGE);\n\n        if(found)\n        {            \n            cornerSubPix(gray_image, corners, Size(11, 11), Size(-1, -1), TermCriteria(TermCriteria::EPS+TermCriteria::COUNT, 30, 0.1));\n            drawChessboardCorners(image, board_sz, Mat(corners), found);\n\n        image_points.push_back(corners);\n            object_points.push_back(obj);\n\n            successes++;\n\n            if(successes&gt;=numBoards)\n                break;\n        }\n\n        //imshow(\"win1 \"+ fileNumStr, image);\n        //imshow(\"win2 \" + fileNumStr, gray_image);\n\n        fileNumStr = NumberToString(fileNum);\n        if (fileNum &lt;10)\n            fileNumStr = \"0\"+ NumberToString(fileNum); \n        image = imread(commonFileName+fileNumStr+fileType,1);\n        resize(image,image, ImgSize);\n        fileNum++;\n\n        int key = waitKey(1);\n\n        if(key==27)\n            return 0;\n    }\n\n    vector&lt;Mat&gt; rvecs;\n    vector&lt;Mat&gt; tvecs;\n\n    cameraMatrix = Mat::eye(3, 3, CV_64F);\n    distCoeffs = Mat::zeros(8, 1, CV_64F);\n\n    intrinsic.ptr&lt;float&gt;(0)[0] = 1;\n    intrinsic.ptr&lt;float&gt;(1)[1] = 1;\n\n\n    double rms = calibrateCamera(object_points, image_points, image.size(), cameraMatrix, distCoeffs, rvecs, tvecs);\n\n    Mat imageUndistorted;\n\n    return 0;\n}\n</code></pre>\n\n<p>I found that another person have similar problem with python <a href=\"https://stackoverflow.com/questions/31806135/opencv-camera-calibration-in-python-without-using-cv2-findchessboardcorners/35903241#35903241\">here</a> but I couldn't find the correct way of testing those answers in C++.\nPlease help me with this error.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "qt", "qtablewidget"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 3934992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LDVNW.png?s=128&g=1", "display_name": "Transistor", "link": "https://stackoverflow.com/users/3934992/transistor"}, "edited": false, "score": 0, "creation_date": 1457565250, "post_id": 35903929, "comment_id": 59469475, "body": "That&#39;s a good low-tech solution, thanks! How do I make the variables global in scope. I was looking that up and didn&#39;t quite understand it."}, {"owner": {"reputation": 33, "user_id": 2192686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e939786343243704d365b56ddfe035b7?s=128&d=identicon&r=PG", "display_name": "mrLucius", "link": "https://stackoverflow.com/users/2192686/mrlucius"}, "reply_to_user": {"reputation": 177, "user_id": 3934992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LDVNW.png?s=128&g=1", "display_name": "Transistor", "link": "https://stackoverflow.com/users/3934992/transistor"}, "edited": false, "score": 0, "creation_date": 1457706505, "post_id": 35903929, "comment_id": 59541690, "body": "if you are not going to have more than one instance of yourtable widget, declaring a variable <code>static</code> gives you easier access. Just be careful with the naming and keep track of how and when do you modify the variables."}], "tags": [], "owner": {"reputation": 33, "user_id": 2192686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e939786343243704d365b56ddfe035b7?s=128&d=identicon&r=PG", "display_name": "mrLucius", "link": "https://stackoverflow.com/users/2192686/mrlucius"}, "is_accepted": false, "score": 1, "last_activity_date": 1457562395, "creation_date": 1457562395, "answer_id": 35903929, "question_id": 35903725, "link": "https://stackoverflow.com/questions/35903725/qt-tablewidget-column-reference-by-name-or-alias/35903929#35903929", "title": "Qt tableWidget column reference by name or alias", "body": "<p>Use <code>colWeight</code> as a variable: </p>\n\n<pre><code>int colWeight = 3; // Your column indicator\n...\nui-&gt;tableWidget1-&gt;setItem(0, colWeight, new QTableWidgetItem(ui-&gt;lblWeight-&gt;text()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2040, "user_id": 3820479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1xUx.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/3820479/tomas"}, "is_accepted": true, "score": 2, "last_activity_date": 1472713565, "last_edit_date": 1472713565, "creation_date": 1457597436, "answer_id": 35910872, "question_id": 35903725, "link": "https://stackoverflow.com/questions/35903725/qt-tablewidget-column-reference-by-name-or-alias/35910872#35910872", "title": "Qt tableWidget column reference by name or alias", "body": "<p>If the aliases don't change during run-time, I would use an <em>enum</em> instead of a variable.</p>\n\n<pre><code>enum Column\n{\n    ColumnA = 0,\n    ColumnB = 1,\n    ColumnC = 2\n};\n\nui-&gt;tableWidget1-&gt;setItem(0, ColumnA, new QTableWidgetItem(ui-&gt;lblWeight-&gt;text()));\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 3934992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LDVNW.png?s=128&g=1", "display_name": "Transistor", "link": "https://stackoverflow.com/users/3934992/transistor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 35910872, "answer_count": 2, "score": 1, "last_activity_date": 1472713565, "creation_date": 1457561627, "question_id": 35903725, "link": "https://stackoverflow.com/questions/35903725/qt-tablewidget-column-reference-by-name-or-alias", "title": "Qt tableWidget column reference by name or alias", "body": "<p>I am new to Qt and have only a little C++ experience and am developing a desktop app.</p>\n\n<p>I am using the tableWidget and my code populates the cells by (row, column) pointers. This is OK at the moment but I can see that if I need to add or move a column that I will have a jolly time fixing all the pointers sprinkled through my code.</p>\n\n<p>Is there a way to use an alias for a column number and reference the cells by this alias? e.g., instead of </p>\n\n<pre><code>ui-&gt;tableWidget1-&gt;setItem(0, 3, new QTableWidgetItem(ui-&gt;lblWeight-&gt;text()));\n</code></pre>\n\n<p>could I have something more like</p>\n\n<pre><code>ui-&gt;tableWidget1-&gt;setItem(0, \"colWeight\", new QTableWidgetItem(ui-&gt;lblWeight-&gt;text()));\n</code></pre>\n\n<p>where \"colWeight\" has been assigned to column 3?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1457561602, "post_id": 35903664, "comment_id": 59467757, "body": "Just as an FYI, it is not a good idea to format large blocks of code with backticks. To format an entire block, indent the lines in it by four characters, or highlight the block and click the curly braces button in the formatting toolbar."}, {"owner": {"reputation": 569, "user_id": 3204536, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/569ffe1b5cbc11eccaf2771305fac99c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff.Clark", "link": "https://stackoverflow.com/users/3204536/jeff-clark"}, "edited": false, "score": 0, "creation_date": 1457561605, "post_id": 35903664, "comment_id": 59467759, "body": "Seems like a scope issue. Also, there are a lot of unknowns for us because we don&#39;t know what you are doing with your classes. It would be best for you to post the code for us to look at.  Why would you have Class B set the value of the A instance, and Class C read the A instance?"}, {"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457561720, "post_id": 35903664, "comment_id": 59467829, "body": "Thanks, I didn`t really know how to format properly."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1457561731, "post_id": 35903664, "comment_id": 59467835, "body": "<code>A aObject</code> makes a new object. Why would it have the value you set elsewhere?"}, {"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457561850, "post_id": 35903664, "comment_id": 59467894, "body": "Im new to c++, sorry. So, what you`re saying is, that if I use pointers, it should work?"}, {"owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "edited": false, "score": 0, "creation_date": 1457561920, "post_id": 35903664, "comment_id": 59467932, "body": "Seems that you have two different instances of class <code>A</code>. You gave both instances the name <code>aObject</code>. But the same name does not make it automatically referring to the same instance of the class <code>A</code>."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1457561975, "post_id": 35903664, "comment_id": 59467968, "body": "<code>static</code> is what you want. See <a href=\"http://ideone.com/E0gTTU\" rel=\"nofollow noreferrer\">here</a>. If you do this, people won&#39;t like you."}, {"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457562109, "post_id": 35903664, "comment_id": 59468042, "body": "I didn&#39;t realised, that I&#39;m creating two different objects (as I said, new to c++). Thank you very much for the help!"}, {"owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "edited": false, "score": 0, "creation_date": 1457563017, "post_id": 35903664, "comment_id": 59468487, "body": "@PotatoIng_ If you accept the answer of @George you still call two different objects. I don&#39;t think you understood the meaning of the keyword <code>static</code>in that context and the meaning of the scope (life-time) of instances of classes."}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457562553, "post_id": 35903800, "comment_id": 59468257, "body": "This method managed to fix the program and I understand the error, which was what I wanted. Sorry, that that wasn&#39;t clear in the question."}, {"owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "reply_to_user": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457562843, "post_id": 35903800, "comment_id": 59468393, "body": "@PotatoIng_ But static means that the field has the same values for all instances of your class. If you just want to access an arbitrary field of an instance of a class in another place as you have created that instance you have to pass it around. So the solution suggested may work for you, but may do too much. Means that making a field <code>static</code> is nearly the same like using global variables."}, {"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "reply_to_user": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "edited": false, "score": 0, "creation_date": 1457563773, "post_id": 35903800, "comment_id": 59468840, "body": "@cwschmidt It&#39;s a very simple program, I don&#39;t think, that it would matter that much. But for future references, what would you suggest?"}, {"owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "reply_to_user": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457564209, "post_id": 35903800, "comment_id": 59469034, "body": "@PotatoIng_ Without further context, it&#39;s hard to suggest anything. But as a rule of thumb: Avoid global variables whenever you can and prefer non-static fields, because static field are similar to global variables. But, referring to my first answer: The suggested solution with <code>static</code> may work for you, but I doubt you completely understood <i>why</i>, because you said you didn&#39;t recognize that you used two different objects and the <code>static</code>didn&#39;t change the fact that you use two different objects, it just made the scope for <code>i</code> more global (and this may indicate bad design)."}, {"owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "edited": false, "score": 0, "creation_date": 1457564924, "post_id": 35903800, "comment_id": 59469326, "body": "You&#39;re right, that I can&#39;t say I understand something, If I don&#39;t know everything about it. And again, It&#39;s not really even a project, so I took the first answer that worked. There&#39;s not much context in here, I&#39;m in process of learning c++ and this was a project to test a thing I&#39;m learning currently. That&#39;s all it does. Thank you, for informing me on <code>static</code> however."}], "tags": [], "owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "is_accepted": true, "score": 0, "last_activity_date": 1457561868, "creation_date": 1457561868, "answer_id": 35903800, "question_id": 35903664, "link": "https://stackoverflow.com/questions/35903664/c-getting-variables-set-in-a-different-class-from-a-different-class/35903800#35903800", "title": "C++ - getting variables set in a different class, from a different class", "body": "<p>You have different objects, their fields are different entities stored in different places. You set one and read another. You probably want to have one single object defined globally (or somewhere else where it's visible from both classes). Or, if you still want to have different objects but same field for all objects (class field), take a look at <code>static</code>.</p>\n"}], "owner": {"reputation": 121, "user_id": 6036200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20d23901da3a9d8df3a86aff70fdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Nelala_", "link": "https://stackoverflow.com/users/6036200/nelala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 35903800, "answer_count": 1, "score": 0, "last_activity_date": 1457561868, "creation_date": 1457561394, "last_edit_date": 1457561637, "question_id": 35903664, "link": "https://stackoverflow.com/questions/35903664/c-getting-variables-set-in-a-different-class-from-a-different-class", "title": "C++ - getting variables set in a different class, from a different class", "body": "<p>I have three classes. In class <code>a.cpp</code> I have an int <code>i</code> and a function to set and to get the int <code>i</code></p>\n\n<pre><code>int i = 0\nvoid setI(int number)\n{\n    i = number;\n}\nint getI()\n{\n     return i;\n}\n</code></pre>\n\n<p>In class <code>b</code> I'm setting <code>i</code> to a certain value.</p>\n\n<pre><code>A aObject\naObject.setI(5);\n</code></pre>\n\n<p>Now, if I print the value of <code>i</code> onto the screen I get the value, that I set it to.</p>\n\n<p>In class <code>c</code> however, I want to print that value using the same method as I used in class <code>b</code>,</p>\n\n<pre><code>A aObject\ncout &lt;&lt; aObject.getI();\n</code></pre>\n\n<p>but when I do that, I get the default value of <code>i</code> (which is 0).\nHow do I get the value I changed it to before?</p>\n"}, {"tags": ["c++", "maven", "maven-plugin"], "answers": [{"tags": [], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "is_accepted": true, "score": 0, "last_activity_date": 1457967053, "creation_date": 1457967053, "answer_id": 35990758, "question_id": 35903652, "link": "https://stackoverflow.com/questions/35903652/maven-nar-plugin-lots-of-errors-in-windows-h-when-updating-to-3-3-0/35990758#35990758", "title": "Maven NAR plugin lots of errors in Windows.h when updating to 3.3.0", "body": "<p>As I said the problem was a functionality added to the Maven NAR Plugin. The original answer was posted by GregDomjan on github and could be found here:</p>\n\n<p><a href=\"https://github.com/maven-nar/nar-maven-plugin/issues/217\" rel=\"nofollow\">Maven NAR Plugin: Compiler errors in a simple program that uses Windows.h in version 3.3.0</a></p>\n\n<p><em>TLDR:</em> You need to use the latest version of the plugin (3.3.0) and modify your configuration according your environment (in my case msvc11.0/winsdk8.0):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;\n            &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;configuration&gt;\n                &lt;libraries&gt;\n                    &lt;library&gt;\n                        &lt;type&gt;executable&lt;/type&gt;\n                        &lt;run&gt;true&lt;/run&gt;\n                    &lt;/library&gt;\n                &lt;/libraries&gt;\n                &lt;msvc&gt;\n                    &lt;version&gt;11.0&lt;/version&gt;\n                    &lt;windowsSdkVersion&gt;8.0&lt;/windowsSdkVersion&gt;\n                &lt;/msvc&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 35990758, "answer_count": 1, "score": 1, "last_activity_date": 1457967053, "creation_date": 1457561341, "last_edit_date": 1457620080, "question_id": 35903652, "link": "https://stackoverflow.com/questions/35903652/maven-nar-plugin-lots-of-errors-in-windows-h-when-updating-to-3-3-0", "title": "Maven NAR plugin lots of errors in Windows.h when updating to 3.3.0", "body": "<p>There is this simple program:</p>\n\n<pre><code>#pragma comment(lib, \"user32\")\n#include &lt;windows.h&gt;\n\nint main() {\n    MessageBox(NULL, \"hello world\", \"\", 0);\n    return 0;\n}\n</code></pre>\n\n<p>And this simple pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;lmiguelmh.test&lt;/groupId&gt;\n    &lt;artifactId&gt;msgbox-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;nar&lt;/packaging&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;\n                &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;libraries&gt;\n                        &lt;library&gt;\n                            &lt;type&gt;executable&lt;/type&gt;\n                            &lt;run&gt;true&lt;/run&gt;\n                        &lt;/library&gt;\n                    &lt;/libraries&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>In this case I am using the <code>nar-maven-plugin</code> version <em>3.2.3</em>. I can run <code>mvn compile</code> and the artifact <code>msgbox-app.exe</code> will be generated successfully. </p>\n\n<p>But when I change the version of the <code>nar-maven-plugin</code> to <strong>3.3.0</strong> and I run <code>mvn compile</code> I get a lot of errors:</p>\n\n<pre><code>[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1243) : error C2065: 'SAL_sameIRQL' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1243) : error C2065: 'SAL_sameIRQL' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2513: 'int' : no variable declared before '='\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2513: 'int' : no variable declared before '='\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2146: syntax error : missing ';' before identifier 'EXCEPTION_DISPOSITION'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2146: syntax error : missing ';' before identifier 'EXCEPTION_DISPOSITION'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2143: syntax error : missing ';' before '__stdcall'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2143: syntax error : missing ';' before '__stdcall'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2377: 'EXCEPTION_DISPOSITION' : redefinition; typedef cannot be overloaded with any other symbol\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1246) : error C2377: 'EXCEPTION_DISPOSITION' : redefinition; typedef cannot be overloaded with any other symbol\n[INFO]         C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\include\\excpt.h(44) : see declaration of 'EXCEPTION_DISPOSITION'\n[INFO]         C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\include\\excpt.h(44) : see declaration of 'EXCEPTION_DISPOSITION'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1252) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1252) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C2143: syntax error : missing ';' before '*'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C2143: syntax error : missing ';' before '*'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C2365: 'EXCEPTION_ROUTINE' : redefinition; previous definition was 'function'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C2365: 'EXCEPTION_ROUTINE' : redefinition; previous definition was 'function'\n[INFO]         C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1247) : see declaration of 'EXCEPTION_ROUTINE'\n[INFO]         C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1247) : see declaration of 'EXCEPTION_ROUTINE'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(1254) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C2146: syntax error : missing ';' before identifier 'Handler'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C2146: syntax error : missing ';' before identifier 'Handler'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(10749) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(16638) : error C2144: syntax error : 'PSLIST_ENTRY' should be preceded by ','\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(16638) : error C2144: syntax error : 'PSLIST_ENTRY' should be preceded by ','\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(16646) : error C2144: syntax error : 'PSLIST_ENTRY' should be preceded by ','\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\winnt.h(16646) : error C2144: syntax error : 'PSLIST_ENTRY' should be preceded by ','\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(124) : error C2061: syntax error : identifier '_SA_annotes1'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(124) : error C2061: syntax error : identifier '_SA_annotes1'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(125) : error C2059: syntax error : ')'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(125) : error C2059: syntax error : ')'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(125) : error C2143: syntax error : missing ')' before ';'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\heapapi.h(125) : error C2143: syntax error : missing ')' before ';'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\processthreadsapi.h(204) : error C2144: syntax error : 'LPVOID' should be preceded by ','\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\processthreadsapi.h(204) : error C2144: syntax error : 'LPVOID' should be preceded by ','\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(189) : error C2065: 'SAL_preferredFunction' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(189) : error C2065: 'SAL_preferredFunction' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(192) : error C2448: '_SA_annotes2' : function-style initializer appears to be a function definition\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(192) : error C2448: '_SA_annotes2' : function-style initializer appears to be a function definition\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(192) : error C2143: syntax error : missing ';' before '__stdcall'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(192) : error C2143: syntax error : missing ';' before '__stdcall'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2491: 'GetComputerNameExA' : definition of dllimport data not allowed\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(351) : error C2491: 'GetComputerNameExA' : definition of dllimport data not allowed\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(354) : error C2059: syntax error : ')'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(354) : error C2059: syntax error : ')'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2491: 'GetComputerNameExW' : definition of dllimport data not allowed\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(361) : error C2491: 'GetComputerNameExW' : definition of dllimport data not allowed\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(364) : error C2059: syntax error : ')'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(364) : error C2059: syntax error : ')'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2065: 'COMPUTER_NAME_FORMAT' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2146: syntax error : missing ')' before identifier 'NameType'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2491: 'SetComputerNameExW' : definition of dllimport data not allowed\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(383) : error C2491: 'SetComputerNameExW' : definition of dllimport data not allowed\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(385) : error C2059: syntax error : ')'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\sysinfoapi.h(385) : error C2059: syntax error : ')'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(429) : error C2065: 'MEMORY_RESOURCE_NOTIFICATION_TYPE' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(429) : error C2065: 'MEMORY_RESOURCE_NOTIFICATION_TYPE' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2146: syntax error : missing ')' before identifier 'NotificationType'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2146: syntax error : missing ')' before identifier 'NotificationType'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2491: 'CreateMemoryResourceNotification' : definition of dllimport data not allowed\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2491: 'CreateMemoryResourceNotification' : definition of dllimport data not allowed\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2059: syntax error : ')'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(430) : error C2059: syntax error : ')'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(536) : error C2061: syntax error : identifier 'PWIN32_MEMORY_RANGE_ENTRY'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\memoryapi.h(536) : error C2061: syntax error : identifier 'PWIN32_MEMORY_RANGE_ENTRY'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\threadpoolapiset.h(341) : error C2061: syntax error : identifier 'PTP_WIN32_IO_CALLBACK'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\threadpoolapiset.h(341) : error C2061: syntax error : identifier 'PTP_WIN32_IO_CALLBACK'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(54) : error C2061: syntax error : identifier 'BEM_FREE_INTERFACE_CALLBACK'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(54) : error C2061: syntax error : identifier 'BEM_FREE_INTERFACE_CALLBACK'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(64) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(64) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(64) : error C2143: syntax error : missing ',' before '*'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(64) : error C2143: syntax error : missing ',' before '*'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(73) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(73) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(73) : error C2065: 'reference' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(73) : error C2065: 'reference' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(74) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(74) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : error C2065: 'copiedReference' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : error C2065: 'copiedReference' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : error C2078: too many initializers\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(75) : error C2078: too many initializers\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(81) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(81) : error C2065: 'BEM_REFERENCE' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : error C2065: 'reference' : undeclared identifier\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : error C2065: 'reference' : undeclared identifier\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : warning C4229: anachronism used : modifiers on data are ignored\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : error C2182: 'BemFreeReference' : illegal use of type 'void'\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : error C2182: 'BemFreeReference' : illegal use of type 'void'\n[INFO] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : fatal error C1903: unable to recover from previous error(s); stopping compilation\n[ERROR] C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\bemapiset.h(82) : fatal error C1903: unable to recover from previous error(s); stopping compilation\n</code></pre>\n\n<p><strong>Update</strong>\nMaybe the problem is the difference 1) in the way is searching for Visual Studio (in my case I have msvc9 and msvc11) 2) in the way of the compiler getting called:</p>\n\n<p><strong>For 3.2.3</strong></p>\n\n<pre><code>[DEBUG] cl  /c /nologo /EHsc /DNDEBUG /MD /GR /DWindows /DWIN32 /IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\include E:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\c\\main.cpp\n[DEBUG] Execute:Java13CommandLauncher: Executing 'cl' with arguments:\n''\n'/c'\n'/nologo'\n'/EHsc'\n'/DNDEBUG'\n'/MD'\n'/GR'\n'/DWindows'\n'/DWIN32'\n'/IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\include'\n'E:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\c\\main.cpp'\n</code></pre>\n\n<p><strong>For 3.3.0</strong></p>\n\n<pre><code>[DEBUG] \"C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\bin\\cl\"  /c /nologo /EHsc /DNDEBUG /MD /GR /DWIN32 /IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc /IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc /IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\include \"/IC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\include\" \"/IC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\atlmfc\\include\" \"/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\" \"/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\shared\" \"/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\winrt\" /FoE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc\\main.c1e925e5.obj c/main.cpp\n[DEBUG] Setting environment variable: PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\bin;C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\vcpackages;C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\Common7\\Tools;C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\Common7\\IDE;C:\\Program Files (x86)\\Windows Kits\\8.0\\bin\\x86;C:\\Windows\\System32;C:\\Windows;C:\\Windows\\System32\\wbem\n[DEBUG] Setting environment variable: SystemRoot=C:\\windows\n[DEBUG] Setting environment variable: TMP=C:\\Users\\lmamani\\AppData\\Local\\Temp\n[DEBUG] Execute:Java13CommandLauncher: Executing 'C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\bin\\cl' with arguments:\n''\n'/c'\n'/nologo'\n'/EHsc'\n'/DNDEBUG'\n'/MD'\n'/GR'\n'/DWIN32'\n'/IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc'\n'/IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc'\n'/IE:\\PROY\\test\\dev\\1.0\\msgbox-app\\src\\main\\include'\n'/IC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\include'\n'/IC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\atlmfc\\include'\n'/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um'\n'/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\shared'\n'/IC:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\winrt'\n'/FoE:\\PROY\\test\\dev\\1.0\\msgbox-app\\target\\nar\\obj\\x86-Windows-msvc\\main.c1e925e5.obj'\n'c/main.cpp'\n</code></pre>\n\n<p><em>Important: This question's last updates could be found in <a href=\"https://github.com/maven-nar/nar-maven-plugin/issues/217\" rel=\"nofollow\">https://github.com/maven-nar/nar-maven-plugin/issues/217</a></em></p>\n"}, {"tags": ["c++", "type-conversion", "operator-overloading"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1457562148, "post_id": 35903521, "comment_id": 59468063, "body": "Re &quot;how can/should I add code (or change code) so as to realize the intended usage above?&quot;, why do you think you have to do <i>anything</i> extra? Anyway, please do post real code when you try to communicate what your real code is. I fixed the lacking <code>friend</code> keywords but there may be other problems left that needlessly may confuse."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1457562315, "post_id": 35903521, "comment_id": 59468140, "body": "Voting to close as lacking reproducible example."}], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 4685116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdca5.jpg?s=128&g=1", "display_name": "Ing. Gerardo S&#225;nchez", "link": "https://stackoverflow.com/users/4685116/ing-gerardo-s%c3%a1nchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1457569183, "creation_date": 1457569183, "answer_id": 35905302, "question_id": 35903521, "link": "https://stackoverflow.com/questions/35903521/which-is-better-overloading-operator-or-overloading-cast-operator/35905302#35905302", "title": "Which is better: overloading operator* or overloading cast operator?", "body": "<p>I think your error is not do Cycle derived from Permutation. This is my suggestion:</p>\n\n<pre><code>class Permutation\n{\npublic:\n    virtual bool IsCycle()\n    {\n        return false;\n    }\n\n    virtual Permutation&amp; operator*(Permutation&amp; right);\n};\n\nclass Cycle: public Permutation\n{\npublic:\n    virtual bool IsCycle()\n    {\n        return true;\n    }\n\n    Permutation&amp; operator*(Permutation&amp; right);\n};\n\nPermutation&amp; Permutation::operator*(Permutation&amp; right)\n{\n    // in this case left operand is NOT a Cycle\n    // right operand could be anything\n\n    Permutation&amp; p1 = *this;\n\n    if(right.IsCycle())\n    {\n        Cycle&amp; c1 = *dynamic_cast&lt;Cycle*&gt;(&amp;right);\n        // code for case Permutation p4 = p1*c1;\n    }\n    else\n    {\n        Permutation &amp;p2 = right;\n        // code for Permutation p3 = p1*p2;\n    }\n}\n\nPermutation&amp; Cycle::operator*(Permutation&amp; right)\n{\n    // in this case left operand IS a Cycle\n    // right operand could be anything\n    Cycle&amp; p1 = *this;\n    if(right.IsCycle())\n    {\n        Cycle&amp; c2 = *dynamic_cast&lt;Cycle*&gt;(&amp;right);\n        // code for case Permutation p6 = c1*c2;\n    }\n    else\n    {\n        Permutation &amp;p1 = right;\n        // code for Permutation p5 = c1*p1; \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 2033870, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/ddf43539593972f9acb6faf3b465d126?s=128&d=identicon&r=PG", "display_name": "sitiposit", "link": "https://stackoverflow.com/users/2033870/sitiposit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457569183, "creation_date": 1457560846, "last_edit_date": 1457562032, "question_id": 35903521, "link": "https://stackoverflow.com/questions/35903521/which-is-better-overloading-operator-or-overloading-cast-operator", "title": "Which is better: overloading operator* or overloading cast operator?", "body": "<p>I have two classes, Permutation and Cycle. A cycle is essentially a special kind of permutation, but it's not a derived class of Permutation, partially for the following reason. The product of two permutations is another permutation whereas the product of cycles is generally not another cycle. The product of a cycle and a permutation is a permutation.</p>\n\n<p>For permutations p1, p2 and cycles c1, c2, I hope that the intended meaning of the following statements should is clear:</p>\n\n<pre><code>Permutation p3 = p1*p2;\nPermutation p4 = p1*c1;\nPermutation p5 = c1*p1; \nPermutation p6 = c1*c2;\n</code></pre>\n\n<p>The basic structure of my Cycle and Permutation classes is as follows:</p>\n\n<pre><code>class Cycle\n{\npublic:\n   // stuff ...     \n};\n\nclass Permutation\n{\npublic:\n    Permutation(const Cycle&amp; cycle);\n\n    friend\n    Permutation operator*(const Permutation&amp; left, const Permutation&amp; right);\n    // stuff ...\n};\n</code></pre>\n\n<p>How can/should I add code (or change code) so as to realize the intended usage above?</p>\n\n<p>I have a few (possibly flawed) ideas:</p>\n\n<p>The first idea to modify the Permutation class like this:</p>\n\n<pre><code>class Permutation\n{\n    friend Permutation operator*(const Permutation&amp;, const Cycle&amp;);\n    friend Permutation operator*(const Cycle&amp;, const Permutation&amp;);\n    friend Permutation operator*(const Cycle&amp;, const Cycle&amp;);\n\npublic:\n    Permutation(const Cycle&amp; cycle);\n\n    friend\n    Permutation operator*(const Permutation&amp; left, const Permutation&amp; right);\n    // stuff ...\n};\n</code></pre>\n\n<p>I think this would work, but I thought that this might be a good situation for supplying a conversion operator. </p>\n\n<p>Here is my second idea:</p>\n\n<pre><code>class Permutation\n{\n\npublic:\n    Permutation(const Cycle&amp; cycle);\n\n    friend\n    Permutation operator*(const Permutation&amp; left, const Permutation&amp; right);\n    // stuff ...\n};\n\nclass Cycle\n{\npublic:\n    operator Permutation() const\n    {\n        Permutation p(*this);\n        return p;\n    }\n    // stuff ...     \n};\n</code></pre>\n\n<p>I think that this second idea should work for: </p>\n\n<pre><code>Permutation p4 = p1*c1;\n</code></pre>\n\n<p>but not:</p>\n\n<pre><code>Permutation p5 = c1*p1; \nPermutation p6 = c1*c2;\n</code></pre>\n\n<p>Here is a third idea:</p>\n\n<pre><code>class Permutation\n{\n    friend Permutation operator*(const Permutation&amp;, const Permutation&amp;);\n\npublic:\n    Permutation(const Cycle&amp; cycle);\n\n    //friend\n    //Permutation operator*(const Permutation&amp; left, const Permutation&amp; right);\n    // stuff ...\n};\n\nclass Cycle\n{\npublic:\n    operator Permutation() const\n    {\n        Permutation p(*this);\n        return p;\n    }\n    // stuff ...     \n};\n</code></pre>\n\n<p>I suspect that this might work for </p>\n\n<pre><code>Permutation p4 = p1*c1;\nPermutation p5 = c1*p1; \n</code></pre>\n\n<p>but I can't imagine that the compiler would know to type convert both arguments in the assignment:</p>\n\n<pre><code>Permutation p6 = c1*c2;\n</code></pre>\n\n<p>Thanks in advance for your comments and suggestions. </p>\n\n<p>Dan</p>\n"}, {"tags": ["c++", "parsing", "recursion", "nodes", "abstract-syntax-tree"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1457562008, "post_id": 35903461, "comment_id": 59467985, "body": "&quot;I don&#39;t know how to make a for loop iterate through an AST of Nodes&quot; - you don&#39;t. This problem is typically solved with recursion."}], "answers": [{"tags": [], "owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "is_accepted": false, "score": 1, "last_activity_date": 1457562266, "creation_date": 1457562266, "answer_id": 35903908, "question_id": 35903461, "link": "https://stackoverflow.com/questions/35903461/parsing-nodes-and-their-own-indefinite-amount-of-nested-child-nodes-in-an-ast/35903908#35903908", "title": "Parsing nodes and their own (indefinite amount of nested) child nodes in an AST", "body": "<p>This is a quick/crude example, but probably something vaguely like this:</p>\n\n<pre><code>struct AST\n{\n   ...\n   void print() const;\n};\n...\nstruct Node\n{\n   ...\n   void print(int indent) const;\n};\n\nvoid AST::print() const\n{\n    for(const auto&amp; node:Nodes)\n        node.print(0);\n}\n\nvoid Node::print(int indent) const\n{\n    auto thisindent = strlen(\"NODE: \") + Data.length();\n    cout &lt;&lt; string(indent + thisindent, ' ');\n    cout &lt;&lt; \"NODE: \" &lt;&lt; Data &lt;&lt; endl;\n    if(Children.size() &gt; 0)\n        for(const auto&amp; child:Children)\n            child.print(indent + thisindent);\n}\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 2207748, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jOG71.png?s=128&g=1", "display_name": "SolaGratia", "link": "https://stackoverflow.com/users/2207748/solagratia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457562266, "creation_date": 1457560611, "question_id": 35903461, "link": "https://stackoverflow.com/questions/35903461/parsing-nodes-and-their-own-indefinite-amount-of-nested-child-nodes-in-an-ast", "title": "Parsing nodes and their own (indefinite amount of nested) child nodes in an AST", "body": "<p>I'm writing a basic lexer for my language and I want to traverse a tree of <code>Node</code> objects in an <code>AST</code> object. Each <code>Node</code> object in the AST has a member <code>Children</code> of type <code>vector&lt;Node></code>. This is to allow for nodes to have child nodes (for example, an expression node coul store two nodes operand_a, and operand_b).</p>\n\n<p>The problem is, I don't know how to make a for loop iterate through an AST of Nodes, whose child nodes can have an indefinite number of their own child nodes and so on.</p>\n\n<p>Here is the header for my AST/Node classes.</p>\n\n<pre><code>enum NodeType {\n    ... \nTOKEN_SIGN_PLUS,\nTOKEN_SIGN_MINUS,\n    ...\n};\n\nclass Node;\nstruct AST\n{\n    vector&lt;Node&gt; Nodes;\n    void addNode(Node node);\n    void deleteNode(size_t nodeID);\n    //void deleteNodeRange(size_t from, size_t to);\n    void popEndNode();\n    size_t NodeCount() { return Nodes.size(); }\n    AST() {}\n    ~AST() {}\n};\n\nstruct Node  \n{\n    friend AST;\n    AST* ParentAST;\n    NodeType NodeType;\n    size_t NodeID();\n    string Data;\n    vector&lt;Node&gt; Children;\n    size_t ChildCount() { return Children.size(); }\n    Node() {}\n    ~Node() {}\n  private:\n    size_t _nodeID;\n};\n</code></pre>\n\n<p>So my question is, how can I iterate through every single child node and its children, on a per parent basis so I could, say, print something like this:</p>\n\n<pre><code>NODE: \"EXPR\"\n            NODE: \"INT_LITERAL\"\n            NODE: \"OP_PLUS\"\n            NODE: \"INT_LITERAL\"\n</code></pre>\n\n<p>OR, more to the point (multiple nested children):</p>\n\n<pre><code>NODE: \"DECL_AND_INIT_VARIABLE\"\n                              NODE: \"KEYWORD_INT\"\n                              NODE: \"IDENTIFIER\"\n                              NODE: \"OP_EQ\"\n                              NODE: \"EXPR\"\n                                          NODE: \"INT_LITERAL\"\n                                          NODE: \"OP_PLUS\"\n                                          NODE: \"INT_LITERAL\"\n</code></pre>\n"}, {"tags": ["c++", "winapi", "memory"], "comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1457560573, "post_id": 35903415, "comment_id": 59467209, "body": "Try using <code>VirtualProtect</code> first to allow writing in that region. And use <code>GetLastError()</code> to see why it failed."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 3, "creation_date": 1457560810, "post_id": 35903415, "comment_id": 59467329, "body": "Did you read the documentation? If WriteProcessMemory returns zero, you&#39;re supposed to call GetLastError() to get error information. You&#39;re not doing so; you&#39;re cout&#39;ing <code>success</code>, which you already know will be zero."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1457560929, "post_id": 35903415, "comment_id": 59467398, "body": "Why test <code>success &gt; 0</code>? Where does it say that a positive return value indicates success? I suggest you read the documentation."}, {"owner": {"reputation": 9, "user_id": 6041882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kNShy.png?s=128&g=1", "display_name": "dhillon232", "link": "https://stackoverflow.com/users/6041882/dhillon232"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1457561126, "post_id": 35903415, "comment_id": 59467514, "body": "@Gill Bates Can you post an example of how to use VirtualProtect?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1457561143, "post_id": 35903415, "comment_id": 59467530, "body": "@GillBates: since the variable in question is tracking the player&#39;s money, it is presumably stored in writable memory so <code>VirtualProtect()</code> would not be needed to make it writable."}, {"owner": {"reputation": 9, "user_id": 6041882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kNShy.png?s=128&g=1", "display_name": "dhillon232", "link": "https://stackoverflow.com/users/6041882/dhillon232"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1457561960, "post_id": 35903415, "comment_id": 59467956, "body": "@RemyLebeau it is not a tracking variable it simply sets the players money at that address (if you can think of a way to execute a function from another process please tell me!)"}, {"owner": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "edited": false, "score": 0, "creation_date": 1457562402, "post_id": 35903415, "comment_id": 59468182, "body": "You should account the fact, that these PRO-games may have a sophisticated anti-debugging-technique implemented. Just FYI."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1457562753, "post_id": 35903415, "comment_id": 59468352, "body": "@dhillon232: the memory address represents a variable that is keeping track of the user&#39;s current money.  If the value of the money changes during the course of the game (and why wouldn&#39;t it?), the memory address would have to be writable (otherwise the game would not be able to save new values to it, especially when first loading the game)."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1457562979, "post_id": 35903415, "comment_id": 59468462, "body": "@dhillon232: to execute a function in another process, you have to inject code into the process first, so it is running in the process&#39;s address space, then that code can call functions if it knows their memory addresses, calling conventions, parameters, etc. Being able to call functions using memory pointers is a fundamental feature of C and C++."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6041882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kNShy.png?s=128&g=1", "display_name": "dhillon232", "link": "https://stackoverflow.com/users/6041882/dhillon232"}, "edited": false, "score": 0, "creation_date": 1457561157, "post_id": 35903580, "comment_id": 59467542, "body": "Thank you. I will try tommorow :)"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1457561266, "last_edit_date": 1457561266, "creation_date": 1457561058, "answer_id": 35903580, "question_id": 35903415, "link": "https://stackoverflow.com/questions/35903415/writeprocessmemory-returns-0-in-c/35903580#35903580", "title": "WriteProcessMemory returns 0 in C++", "body": "<p>First, don't use <code>PROCESS_ALL_ACCESS</code>.  Only request what you actually need.  <code>WriteProcessMemory()</code> only needs <code>PROCESS_VM_WRITE</code> and <code>PROCESS_VM_OPERATION</code> access, so request only that. </p>\n\n<p>Like many other API functions, when <code>WriteProcessMemory()</code> fails, <code>GetLastError()</code> will tell you why.  Your code is assuming that <code>WriteProcessMemory()</code> itself returns an error code directly, but it does not.  It returns a <code>BOOL</code> (not an <code>int</code>) to indicate success or failure, and then <code>GetLastError()</code> returns the error code if failure.  This is <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681674.aspx\" rel=\"nofollow\">documented</a> behavior:</p>\n\n<blockquote>\n  <p>Return value</p>\n  \n  <p>If the function succeeds, the return value is nonzero.</p>\n  \n  <p>If the function fails, the return value is 0 (zero). <strong>To get extended error information, call GetLastError</strong>. The function fails if the requested write operation crosses into an area of the process that is inaccessible.</p>\n</blockquote>\n\n<p>Try this:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n\nusing namespace std;\n\nint main()\n{\n    int cashVal = 0;\n    cout &lt;&lt; \"Enter the amount of cash you want: \" &lt;&lt; endl;\n    cin &gt;&gt; cashVal;\n\n    HWND hwnd = FindWindow(0, \"Grand Theft Auto V\");\n    if (hwnd == 0) {\n        cout &lt;&lt; \"Cannot find the GTAV window. Make sure its running in Windowed mode!\" &lt;&lt; endl;\n    }\n    else {\n        DWORD pid;\n        GetWindowThreadProcessId(hwnd, &amp;pid);\n\n        HANDLE hp = OpenProcess(PROCESS_VM_WRITE | PROCESS_VM_OPERATION, FALSE, pid);    \n        if (!hp) {\n            cout &lt;&lt; \"Could not get a handle to GTAV. Try again :(\" &lt;&lt; endl;\n        }\n        else {\n            BOOL success = WriteProcessMemory(hp, (LPVOID)0x1417C4C18, &amp;cashVal, sizeof(cashVal), 0);\n            if (success) {\n                cout &lt;&lt; \"You now have \" &lt;&lt; cashVal &lt;&lt; \" money!\" &lt;&lt; endl;\n            }\n            else {\n                DWORD errCode = GetLastError();\n                cout &lt;&lt; \"Writing the memory failed!\" &lt;&lt; endl;\n                cout &lt;&lt; \"Error code: \" &lt;&lt; errCode &lt;&lt; endl;\n            }\n\n            CloseHandle(hp);\n        }\n    }\n\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6189580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bd745abf2defe81528c9e83e6b86d1d?s=128&d=identicon&r=PG", "display_name": "Wells", "link": "https://stackoverflow.com/users/6189580/wells"}, "is_accepted": false, "score": 0, "last_activity_date": 1461333811, "last_edit_date": 1461333811, "creation_date": 1461332850, "answer_id": 36795578, "question_id": 35903415, "link": "https://stackoverflow.com/questions/35903415/writeprocessmemory-returns-0-in-c/36795578#36795578", "title": "WriteProcessMemory returns 0 in C++", "body": "<p>You are most likely trying to write to a memory path where you don't have access to... probably you are using a 32-bit program to write to a 64-bit memory address(that's if u use a 64-bit computer), I think I had this problem a few years back porting solved my problem then <em>forgive me if I am wrong</em> atleast that was what I thought. </p>\n\n<p>Try the code on a 32-bit address and if it works... that solves your problem.</p>\n\n<p>And for the Getting_Last_Error you can add this lil' bit of functionality I use.</p>\n\n<pre><code>void PrintLastErrorMsg(){\n   LPTSTR pTmp = NULL;\n   DWORD errnum = GetLastError();\n   FormatMessage(\n                FORMAT_MESSAGE_ALLOCATE_BUFFER|FORMAT_MESSAGE_FROM_SYSTEM|FORMAT_MESSAGE_ARGUMENT_ARRAY,\n                NULL, \n                errnum, \n                LANG_NEUTRAL,\n                (LPTSTR)&amp;pTmp, \n                0,\n                NULL\n                );\n\n   cout &lt;&lt; \"Error(\" &lt;&lt; errnum &lt;&lt; \"): \" &lt;&lt; pTmp &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Be free to make changes.</p>\n"}], "owner": {"reputation": 9, "user_id": 6041882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kNShy.png?s=128&g=1", "display_name": "dhillon232", "link": "https://stackoverflow.com/users/6041882/dhillon232"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1487649375, "creation_date": 1457560471, "last_edit_date": 1487649375, "question_id": 35903415, "link": "https://stackoverflow.com/questions/35903415/writeprocessmemory-returns-0-in-c", "title": "WriteProcessMemory returns 0 in C++", "body": "<p>I am developing a small cash hack for <code>GTA V</code> and I found that when I use </p>\n\n<pre><code>WriteProcessMemory(hp, (LPVOID)0x1417C4C18, &amp;cashVal, (DWORD)sizeof(cashVal), 0)\n</code></pre>\n\n<p>that the <code>WriteProcessMemory</code> returns 0. Here is the full source code of my small hack.</p>\n\n<pre><code>#include &lt;Windows.h&gt;\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n\nusing namespace std;\n\nint main()\n{\n    int cashVal = 0;\n    cout &lt;&lt; \"Enter the amount of cash you want: \" &lt;&lt; endl;\n    cin &gt;&gt; cashVal;\n\n    HWND hwnd = FindWindow(0, \"Grand Theft Auto V\");\n    if (hwnd == 0) {\n        cout &lt;&lt; \"Cannot find the GTAV window. Make sure its running in Windowed mode!\" &lt;&lt; endl;\n    }\n    else {\n        DWORD pid;\n        GetWindowThreadProcessId(hwnd, &amp;pid);\n        HANDLE hp = OpenProcess(PROCESS_ALL_ACCESS, FALSE, pid);\n\n        if (!hp) {\n            cout &lt;&lt; \"Could not get a handle to GTAV. Try again :(\" &lt;&lt; endl;\n        }\n        else {\n            int success = WriteProcessMemory(hp, (LPVOID)0x1417C4C18, &amp;cashVal, (DWORD)sizeof\n\n(cashVal), 0);\n\n            if (success &gt; 0) {\n                cout &lt;&lt; \"You now have \" &lt;&lt; cashVal &lt;&lt; \" money!\" &lt;&lt; endl;\n            }\n            else {\n                cout &lt;&lt; \"Writing the memory failed!\" &lt;&lt; endl;\n                cout &lt;&lt; \"Error code: \" &lt;&lt; success &lt;&lt; endl;\n            }\n\n            CloseHandle(hp);\n        }\n    }\n    cin.get();\n    return 0;\n}\n</code></pre>\n\n<p>I basically ask the user to input the cash they want, and it's meant to set it in the game, but it returns a code of 0 and fails. It doesn't fail trying to find the game window because it doesn't print that message to the standard output. Please help me! </p>\n\n<p>NOTE: The hack will be used on single player</p>\n"}, {"tags": ["c++", "list", "stl", "containers"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 3, "creation_date": 1457560354, "post_id": 35903363, "comment_id": 59467091, "body": "TLDR; consider <i>reducing</i> the code to a <i>minimal</i> example."}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1457561000, "post_id": 35903363, "comment_id": 59467436, "body": "Pass container by value vs. pass by reference ?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562155, "post_id": 35903363, "comment_id": 59468067, "body": "Why does <code>void f(int x) {x += 2;}</code> ... <code>int y = 3; f(y); cout &lt;&lt; y;</code> not print 5? Did the +2 get lost somewhere?"}], "answers": [{"tags": [], "owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "is_accepted": true, "score": 2, "last_activity_date": 1457560965, "creation_date": 1457560965, "answer_id": 35903557, "question_id": 35903363, "link": "https://stackoverflow.com/questions/35903363/c-list-elements-disappearing-from-container/35903557#35903557", "title": "C++: List elements disappearing from container", "body": "<p>You are not adding data to your existing <code>Alunno</code> object, you are adding it to <em>a copy</em> of your object.  <code>a_found = *it</code> copies the contents of <code>*it</code> into <code>a_found</code>, but they're separate objects.  As soon as <code>a_found</code> goes out of scope, it gets destroyed, along with anything you added to it.</p>\n"}], "owner": {"reputation": 312, "user_id": 1218305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/895be2d7b760c4be121aa7eb2b6b4702?s=128&d=identicon&r=PG", "display_name": "BigCola", "link": "https://stackoverflow.com/users/1218305/bigcola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 35903557, "answer_count": 1, "score": 0, "last_activity_date": 1457560965, "creation_date": 1457560308, "question_id": 35903363, "link": "https://stackoverflow.com/questions/35903363/c-list-elements-disappearing-from-container", "title": "C++: List elements disappearing from container", "body": "<p>I'm calling a function to read some data from two files and insert it in an instance of class Corso. The class consists of a list of Alumni, each of which has a list of Exams that has to be populated, this is what leggiEsame() accomplishes. The first call to leggiEsame() adds the data correctly. The second call, though, appears to add the Exams to the previous, but at some point the new data disappears. I'm calling the functions from main:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Corso.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    Corso c = Corso();\n    c.leggiEsame(\"informatica.txt\", Esame(1, \"Informatica\", \"Danilo Franchini\", 31, 18, 0, 10));\n    c.leggiEsame(\"analisi.txt\", Esame(2, \"Analisi\", \"Marco Giovannetti\", 31, 18, 0, 10));\n    c.stampa();\n    return 0;\n}\n</code></pre>\n\n<p>leggiEsame() is implemented as so:</p>\n\n<pre><code>void Corso::leggiEsame(string path, Esame e)\n{\nFILE *f = fopen(path.c_str(), \"r\");\nif(f==NULL)\n    printf(\"File non valido.\\n\");\n\nCodPersona cod_p;\nNumMatricola num_m;\nchar str_voto[20];\nfloat voto;\nAlunno al = Alunno();\n\nwhile(!feof(f))\n{\n    char format[100] = \"%[^\\t]\\t%[^\\t]\\t%[^\\t]%*[^\\n]\\n\";\n    fscanf(f, format, cod_p, num_m, str_voto);\n\n    if(string(str_voto)==\"RIMANDATO\")\n        voto = RIMANDATO;\n    else if(string(str_voto)==\"30 e Lode\")\n        voto = LODE;\n    else if(string(str_voto)==\"ASSENTE\")\n        voto = ASSENTE;\n    else\n        voto = atof(str_voto);\n\n    e.setVoto(voto);\n\n    al.setCodPersona(string(cod_p));\n    al.setNumMatricola(string(num_m));\n    aggiornaAlunno(al, e);\n    /*Alunno a = *cercaAlunno(al);\n    printf(\"Alunno %s aggiornato, ha %d esami\\n\", a.numMatricola().c_str(), a.esami().size());*/\n}\n\nfclose(f);\n}\n</code></pre>\n\n<p>aggiornaAlunno() does the following:</p>\n\n<pre><code>void Corso::aggiornaAlunno(Alunno a, Esame e)\n{\nAlunno a_found;\nlist&lt;Alunno&gt;::iterator it = cercaAlunno(a);\n/// cerco l'alunno nella classe, se \u00e8 gi\u00e0 presente (iteratore diverso da m_alunni.end())\n/// se l'alunno esiste gi\u00e0 allora aggiorna i dati anagrafici dell'alunno\n/// altrimenti aggiunge l'alunno alla classe.\nif(it!=m_alunni.end())\n{\n    a_found = *it;\n    a_found.aggiornaDati(a);\n    /// se l'alunno gi\u00e0 esistente non contiene l'esame allora lo aggiunge\n    if(!a_found.contieneEsame(e, 0))\n    {\n        a_found.aggiungiEsame(e);\n        printf(\"Aggiunto esame %d su %d a %s\\n\", e.id(), a_found.esami().size(), a_found.numMatricola().c_str());\n    }\n}\nelse\n{\n    printf(\"nuovo alunno\\n\");\n    a.aggiungiEsame(e);\n    aggiungiAlunno(a);\n}\n}\n</code></pre>\n\n<p>The \"else\" branch of the condition seems to work fine, since it adds the data from the first reading, while the second one calls aggiungiEsame():</p>\n\n<pre><code>void Alunno::aggiungiEsame(Esame e)\n{\nm_esami.push_front(e);\nprintf(\"Aggiunto esame %d a %s, n esami: %d\\n\", e.id(), m_num_matricola.c_str(), m_esami.size());\n}\n</code></pre>\n\n<p>Inside this function the output is ok, it seems as if new data has been added to each Exams list, since the size outputs 2, and also inside aggiornaAlunno().\nIt is when the function returns to leggiEsame() that the size of the list outputs 1 again, even though no deletions have been made.\nI hope you can help, thanks in advance.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 6, "creation_date": 1457560129, "post_id": 35903299, "comment_id": 59466979, "body": "Yes, that&#39;s OK. But do consider using <code>std::vector</code> instead."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562368, "post_id": 35903299, "comment_id": 59468173, "body": "You aren&#39;t &quot;re-constructing the array&quot;, you&#39;re constructing a <i>new</i> array. (<code>a</code> is <i>not</i> an array, but it points to one)"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1457564540, "post_id": 35903299, "comment_id": 59469184, "body": "That&#39;s not an array of pointers. It&#39;s an array of <code>int</code>. And <code>a</code> is a pointer to that array."}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 2, "creation_date": 1457560294, "post_id": 35903335, "comment_id": 59467063, "body": "Yes the delete is required - the array needs to become larger"}], "tags": [], "owner": {"reputation": 113, "user_id": 4292649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a22b2ac2f1b0eb952f4c42665ed892b7?s=128&d=identicon&r=PG&f=1", "display_name": "Camleon", "link": "https://stackoverflow.com/users/4292649/camleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560401, "last_edit_date": 1457560401, "creation_date": 1457560212, "answer_id": 35903335, "question_id": 35903299, "link": "https://stackoverflow.com/questions/35903299/c-delete-an-array-of-pointers-then-re-construct-with-a-new-size/35903335#35903335", "title": "C++: Delete an array of pointers then re-construct with a new size", "body": "<p>Yes is is. (If you delete a afterwards ;))</p>\n"}, {"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560431, "creation_date": 1457560431, "answer_id": 35903402, "question_id": 35903299, "link": "https://stackoverflow.com/questions/35903299/c-delete-an-array-of-pointers-then-re-construct-with-a-new-size/35903402#35903402", "title": "C++: Delete an array of pointers then re-construct with a new size", "body": "<p>Yes that's fine. The rule is that every <code>new[]</code> needs a matching <code>delete[]</code> (just as every <code>new</code> needs a matching <code>delete</code>).</p>\n\n<p>Although, if I were you, I'd use a <code>std::vector&lt;int&gt;</code>, and call its member function <code>resize</code> as necessary. (Then you are less likely to have memory issues: note well that you're missing a final <code>delete[]</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562511, "post_id": 35903426, "comment_id": 59468238, "body": "&quot;You should have a <code>delete</code> for every <code>new</code>&quot; is, in general, not correct. More accurate would be &quot;you should <code>delete</code> every object created by <code>new</code>&quot;"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562827, "post_id": 35903426, "comment_id": 59468386, "body": "@immibis Out of interest, can you provide an example where this is not true?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562939, "post_id": 35903426, "comment_id": 59468439, "body": "<code>void f(int *i) {delete i;}</code> <code>void g() {f(new i); f(new i);}</code> contains two <code>new</code>s and one <code>delete</code>, which according to the &quot;one <code>delete</code> per <code>new</code> rule&quot; means it leaks memory."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457563742, "post_id": 35903426, "comment_id": 59468831, "body": "@immibis Yeah, you are right, same holds true for placement new now that i think about it. Fixed."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457564124, "post_id": 35903426, "comment_id": 59468991, "body": "It also leads to code like <code>int f() {Thingy *t = new Thingy; &#47;* do stuff *&#47; return t-&gt;someVariable; delete t;}</code> - &quot;I matched up the <code>new</code>s and <code>delete</code>s, what&#39;s the problem?&quot;"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457564659, "post_id": 35903426, "comment_id": 59469231, "body": "@immibis yep, all good points. Changed now. Also in the above, impossible function, i think the return and delete should be switched. But i get what you mean. Ha ha, dangly parts."}], "tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": false, "score": 1, "last_activity_date": 1457563782, "last_edit_date": 1457563782, "creation_date": 1457560505, "answer_id": 35903426, "question_id": 35903299, "link": "https://stackoverflow.com/questions/35903299/c-delete-an-array-of-pointers-then-re-construct-with-a-new-size/35903426#35903426", "title": "C++: Delete an array of pointers then re-construct with a new size", "body": "<p>Depends on your usage. In this example:</p>\n\n<pre><code>int main() {\n    Your Code\n}\n</code></pre>\n\n<p>It is safe, because after then end of main, all memory will be released by the OS. But if you do this:</p>\n\n<pre><code>int main() {\n    while (true) {\n        Your Code\n    }\n}\n</code></pre>\n\n<p>You are generating a memory leak, because you are not releasing the memory after re-initializing it. You use more and more memory and will eventually cause a failed <code>new[]</code> (Stack Overflow). </p>\n\n<p>You should <code>delete</code> every object created by <code>new</code> (and <code>delete[]</code> every array created by <code>new[]</code>).</p>\n\n<pre><code>int *a = new int[4];\na[0] = 1;\n...\ndelete[] a; //release the memory\na = new int[6]; //re-construct with a new size.\n...\ndelete[] a;\n</code></pre>\n\n<p>But overall the benefit of c++ in this case is RAII (Resource acquisition is initialization) types. This means you should be using provided c++ types like <code>std::vector</code> which handle memory creation and deletion in a good encapsulated way.</p>\n"}], "owner": {"reputation": 29, "user_id": 6041868, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/840d603423f142907c7b2e44c230b2a8?s=128&d=identicon&r=PG&f=1", "display_name": "GoofyFoot", "link": "https://stackoverflow.com/users/6041868/goofyfoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1457563782, "creation_date": 1457560081, "question_id": 35903299, "link": "https://stackoverflow.com/questions/35903299/c-delete-an-array-of-pointers-then-re-construct-with-a-new-size", "title": "C++: Delete an array of pointers then re-construct with a new size", "body": "<p>I have question regarding the array of pointers in the C++. I wonder if it's safe to do this:</p>\n\n<pre><code>int *a = new int[4];\na[0] = 1;\na[1] = 2;\na[2] = 3;\na[3] = 4;\ndelete[] a; //release the memory\na = new int[6]; //re-construct with a new size.\na[0] = 5;\na[1] = 6;\na[2] = 7;\na[3] = 8;\na[4] = 9;\na[5] = 10;\n</code></pre>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["c++", "asp.net", "vb.net", "visual-studio"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1457560459, "post_id": 35903280, "comment_id": 59467143, "body": "There are severe design bugs all over the place. My main gripe is that the support for custom keywords for the highlighting, disappeared around 2010 or somewhere. But also the support for <code>TODO:</code> in C++ has disappeared, and much else: I think they simply don&#39;t have good folks anymore to maintain the animal."}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 3147319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vdkq.jpg?s=128&g=1", "display_name": "JCM", "link": "https://stackoverflow.com/users/3147319/jcm"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560358, "creation_date": 1457560358, "answer_id": 35903377, "question_id": 35903280, "link": "https://stackoverflow.com/questions/35903280/visual-studio-ctrl-h-sometimes-doesnt-automatically-select-selection/35903377#35903377", "title": "Visual Studio ctrl-H sometimes doesn&#39;t automatically select &#39;selection&#39;", "body": "<p>You should select two or more lines to <strong>always</strong> get the Selection option by default on Find and Replace window, this is necessary if you previously opened the Find and Replace window with the Current Document option.</p>\n"}], "owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504646932, "creation_date": 1457560019, "last_edit_date": 1504646932, "question_id": 35903280, "link": "https://stackoverflow.com/questions/35903280/visual-studio-ctrl-h-sometimes-doesnt-automatically-select-selection", "title": "Visual Studio ctrl-H sometimes doesn&#39;t automatically select &#39;selection&#39;", "body": "<p>When I select text then hit <kbd>Ctrl</kbd>+<kbd>H</kbd>, the popup dialog doesn't always show \"Selection\".  Sometimes it gets 'stuck' with \"Current Document\".</p>\n\n<p>I'm seen this bug for every VS version of Professional and now Community over almost 10 years now...</p>\n\n<p>I select some text, in Visual-C++, then click <kbd>Ctrl</kbd>+<kbd>H</kbd>.<br>\nThe upper-right replace dialog pops up with \"Selection\".   This is expected.\nSmack <kbd>Esc</kbd> to hide it.<br>\nNow, place cursor at empty line.<br>\nClick <kbd>Ctrl</kbd>+<kbd>H</kbd>.<br>\nDialog again pops up with \"Current Document\".  This is expected.<br>\n<kbd>Esc</kbd><br>\nSelect the same text as in step 1.<br>\nDialog again pops up, BUT with \"Current Document\" instead of \"Selection.\"<br>\nand I have to manually use dialog's pull-down to set for \"Selection.\"  </p>\n\n<p>Is this a bug or am I missing something?</p>\n\n<p>I want it to always set \"Selection\" if I select text then hit <kbd>Ctrl</kbd>+<kbd>H</kbd>.</p>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1457559801, "post_id": 35903165, "comment_id": 59466823, "body": "<i>&quot;Next time be sure to do the Reading and Preparation assigned before you attempt a lab. Read the assigment carefully&quot;</i> Well, that&#39;s pretty clear."}, {"owner": {"reputation": 36, "user_id": 6041798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69c08aa90b0d632911414ed7d4f7233?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Schaefer", "link": "https://stackoverflow.com/users/6041798/nathan-schaefer"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457559926, "post_id": 35903165, "comment_id": 59466888, "body": "._. not talking about that.."}], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 6041798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69c08aa90b0d632911414ed7d4f7233?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Schaefer", "link": "https://stackoverflow.com/users/6041798/nathan-schaefer"}, "edited": false, "score": 0, "creation_date": 1457560124, "post_id": 35903290, "comment_id": 59466977, "body": "Hm, I thought I tried doing that originally but gave me compile errors.. Going to re-test it now."}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 0, "creation_date": 1457560193, "post_id": 35903290, "comment_id": 59467016, "body": "You should note the biggest reason to do so is that your <code>set</code> functions have additional logic, that won&#39;t allow you to set parameters <code>&lt; 0</code>, whereas your current overloaded constructor will gladly accept <code>Inventory inv(-1, -1, -0.1);</code> Had you called the <code>set</code> functions, it would have set them all to <code>0</code>."}, {"owner": {"reputation": 36, "user_id": 6041798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69c08aa90b0d632911414ed7d4f7233?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Schaefer", "link": "https://stackoverflow.com/users/6041798/nathan-schaefer"}, "edited": false, "score": 0, "creation_date": 1457560776, "post_id": 35903290, "comment_id": 59467309, "body": "ahhhhh, that makes a lot more sense. Thanks a Ton, whole chapter was awfully confusing for me."}], "tags": [], "owner": {"reputation": 520, "user_id": 3067395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8928e23c4f74e31c6021882f5781f5b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3067395", "link": "https://stackoverflow.com/users/3067395/user3067395"}, "is_accepted": true, "score": 0, "last_activity_date": 1457560095, "last_edit_date": 1457560095, "creation_date": 1457560047, "answer_id": 35903290, "question_id": 35903165, "link": "https://stackoverflow.com/questions/35903165/multiple-constructors-class-setters-c/35903290#35903290", "title": "Multiple Constructors Class Setters C++", "body": "<p>Your professor probably meant that you should call the setter functions in the constructor instead of setting the values directly:</p>\n\n<pre><code>Inventory::Inventory(int i, int q, double c)    //Constructor #2\n{\n    setItemNumber(i);\n    setQuantity(q); \n    setCost(c);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2949, "user_id": 5866175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1bd52e94e5a59c8dad24cea21b9e71?s=128&d=identicon&r=PG&f=1", "display_name": "Jts", "link": "https://stackoverflow.com/users/5866175/jts"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560550, "last_edit_date": 1457560550, "creation_date": 1457560202, "answer_id": 35903333, "question_id": 35903165, "link": "https://stackoverflow.com/questions/35903165/multiple-constructors-class-setters-c/35903333#35903333", "title": "Multiple Constructors Class Setters C++", "body": "<p>She's right. You are taking user input, therefore you must validate it with your setters, you created them for a reason.</p>\n\n<pre><code>Inventory::Inventory(int i, int q, double c)    //Constructor #2\n{\n    setItemNumber(i);\n    setQuantity(q); \n    setCost(c);\n}\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 6041798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69c08aa90b0d632911414ed7d4f7233?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Schaefer", "link": "https://stackoverflow.com/users/6041798/nathan-schaefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 35903290, "answer_count": 2, "score": -1, "last_activity_date": 1457568170, "creation_date": 1457559630, "last_edit_date": 1457568170, "question_id": 35903165, "link": "https://stackoverflow.com/questions/35903165/multiple-constructors-class-setters-c", "title": "Multiple Constructors Class Setters C++", "body": "<p>So, I just had a question about my professors feedback on one of the programs we did. I didn't quite understand her feedback on what she meant by putting setters functions in the second constructor. Here is what she said:</p>\n\n<blockquote>\n  <p>Next time be sure to do the Reading and Preparation assigned before you attempt a lab. Read the assignment carefully.</p>\n  \n  <p>The problem says the overloaded constructor (constructor #2) should call the setter functions.</p>\n  \n  <p>The overloaded constructor (constructor #2) was not tested. Create an object with the overloaded constructor like so:    Inventory itemTwo(666,3,.99);</p>\n  \n  <p>Nice class, nice main program and coding style.</p>\n</blockquote>\n\n<p>This was the problem:</p>\n\n<p><a href=\"http://i.stack.imgur.com/JWxN2.png\" rel=\"nofollow\">Problem</a></p>\n\n<p>And lastly, here's my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#include &lt;iostream&gt;\r\n#include &lt;iomanip&gt;\r\nusing namespace std;\r\n\r\nclass Inventory\r\n{\r\n\tprivate:\r\n\t\tint itemNumber;\t\t\t//Private Class Members\r\n\t\tint quanity;\r\n\t\tdouble cost;\r\n\tpublic:\r\n\t\tInventory();\t\t\t//Public Member Functions\r\n\t\tInventory(int i, int q, double c);\r\n\t\tvoid setItemNumber(int);\r\n\t\tvoid setQuanity(int);\r\n\t\tvoid setCost(double);\r\n\t\tint getItemNumber() const;\r\n\t\tint getQuanity() const;\r\n\t\tdouble getCost() const;\r\n\t\tdouble getTotalCost() const;\r\n};\r\n\r\nint main()\r\n{\r\n\tint itemNum;\r\n\tint qty;\r\n\tdouble price;\t\r\n\tInventory itemOne;\t\t\t//Declares itemOne and itemTwo being an Inventory class objects\r\n\tInventory itemTwo;\r\n\t\r\n/****************************************************************************/\r\n\t\r\n\tcout &lt;&lt; \"Please Enter Data For Item One\\n\";\t\t\t\t\t//Data entry for Item One\r\n\tcout &lt;&lt; \"Enter item number: \";\r\n\tcin &gt;&gt; itemNum;\r\n\t\t\r\n\twhile (itemNum &lt; 0)\t\t\t\t\t\t\t\t\t\t\t//Safegaurds for data\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative item number: \";\r\n\t\tcin &gt;&gt; itemNum;\t\t\r\n\t}\r\n\t\r\n\tcout &lt;&lt; \"Enter quanity: \";\r\n\tcin &gt;&gt; qty;\r\n\t\r\n\twhile (qty &lt; 0)\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative quanity number: \";\r\n\t\tcin &gt;&gt; qty;\r\n\t}\r\n\t\r\n\tcout &lt;&lt; \"Enter price: \";\r\n\tcin &gt;&gt; price;\r\n\t\r\n\twhile (price &lt; 0)\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative price: \";\r\n\t\tcin &gt;&gt; price;\r\n\t}\r\n\t\t\r\n\titemOne.setItemNumber(itemNum);\t\t\t//Passes All Data To Correct Functions\r\n\titemOne.setQuanity(qty);\r\n\titemOne.setCost(price);\t\r\n\tcout &lt;&lt; endl;\t\t\t\t\t\t\t\t\t\t//Formatting\r\n\t\r\n/****************************************************************************/\t\r\n\r\n\tcout &lt;&lt; \"Please Enter Data For Item Two\\n\";\t\t\t\t//Data Entry for Item Two\r\n\tcout &lt;&lt; \"Enter item number: \";\r\n\tcin &gt;&gt; itemNum;\r\n\t\t\r\n\twhile (itemNum &lt; 0)\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative item number: \";\r\n\t\tcin &gt;&gt; itemNum;\t\t\r\n\t}\r\n\t\r\n\tcout &lt;&lt; \"Enter quanity: \";\r\n\tcin &gt;&gt; qty;\r\n\t\r\n\twhile (qty &lt; 0)\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative quanity number: \";\r\n\t\tcin &gt;&gt; qty;\r\n\t}\r\n\t\r\n\tcout &lt;&lt; \"Enter price: \";\r\n\tcin &gt;&gt; price;\r\n\t\r\n\twhile (price &lt; 0)\r\n\t{\r\n\t\tcout &lt;&lt; \"Please enter a non-negative price: \";\r\n\t\tcin &gt;&gt; price;\r\n\t}\r\n\t\r\n\titemTwo.setItemNumber(itemNum);\t\t\t//Passes All Data To Correct Functions\r\n\titemTwo.setQuanity(qty);\r\n\titemTwo.setCost(price);\r\n\tcout &lt;&lt; endl;\t\t\t\t\t\t\t\t\t\t//Formatting\r\n\t\r\n/****************************************************************************/\t\r\n\r\n\t\r\n\tcout &lt;&lt; fixed &lt;&lt; showpoint &lt;&lt; setprecision(2);\r\n\r\n\t//All input displayed here\r\n\tcout &lt;&lt; \"Here's the data you entered for item one:\\n\";\r\n\tcout &lt;&lt; \"Item Number: \" &lt;&lt; \"\t\t\" &lt;&lt; itemOne.getItemNumber() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Quanity: \" &lt;&lt; \"\t\t\" &lt;&lt; itemOne.getQuanity() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Cost: \" &lt;&lt; \"\t\t\" &lt;&lt; \"$\" &lt;&lt; itemOne.getCost() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Total Cost: \" &lt;&lt; \"\t\" &lt;&lt;\"$\" &lt;&lt; itemOne.getTotalCost() &lt;&lt; endl &lt;&lt; endl;\r\n\t\r\n\tcout &lt;&lt; \"Here's the data you entered for item two:\\n\";\r\n\tcout &lt;&lt; \"Item Number: \" &lt;&lt; \"\t\t\" &lt;&lt; itemTwo.getItemNumber() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Quanity: \" &lt;&lt; \"\t\t\" &lt;&lt; itemTwo.getQuanity() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Cost: \" &lt;&lt; \"\t\t\" &lt;&lt; \"$\" &lt;&lt; itemTwo.getCost() &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Item Total Cost: \" &lt;&lt; \"\t\" &lt;&lt;\"$\" &lt;&lt; itemTwo.getTotalCost() &lt;&lt; endl;\r\n\t\r\n\treturn 0;\r\n}\r\n\r\nInventory::Inventory()\t\t\t\t\t\t\t//Default Constructor\r\n{\r\n\titemNumber = 0;\r\n\tquanity = 0; \r\n\tcost = 0;\r\n}\r\n\r\nInventory::Inventory(int i, int q, double c)\t//Constructor #2\r\n{\r\n\titemNumber = i;\r\n\tquanity = q; \r\n\tcost = c;\r\n}\r\n\r\nvoid Inventory::setItemNumber(int i)\t\t\t//Re-Evaluates For a Negative Number and\r\n{\t\t\t\t\t\t\t\t\t\t\t\t//Passes User's Entered Data to the Private class\r\n\tif (i &gt;= 0)\r\n\t\titemNumber = i;\r\n\telse\r\n\t\titemNumber = 0;\r\n}\r\n\r\nvoid Inventory::setQuanity(int q)\t\t\t\t//Re-Evaluates For a Negative Number and\r\n{\t\t\t\t\t\t\t\t\t\t\t\t//Passes User's Entered Data to the Private class\r\n\tif (q &gt;= 0)\r\n\t\tquanity = q;\r\n\telse\r\n\t\tquanity = 0;\r\n}\r\n\r\nvoid Inventory::setCost(double c)\t\t\t\t////Re-Evaluates For a Negative Number and\r\n{\t\t\t\t\t\t\t\t\t\t\t\t//Passes User's Entered Data to the Private class\r\n\tif (c &gt;= 0)\r\n\t\tcost = c;\r\n\telse\r\n\t\tcost = 0;\r\n}\r\n\r\nint Inventory::getItemNumber() const\t\t\t//All 'Getter' Functions to Display Object's Data\r\n{\t\t\t\t\t\t\t\t\t\t\t\t//Whilst Keeping Data Integrity With 'const'\r\n\treturn itemNumber;\r\n}\r\n\r\nint Inventory::getQuanity() const\r\n{\r\n\treturn quanity;\r\n}\r\n\r\ndouble Inventory::getCost() const\r\n{\r\n\treturn cost;\r\n}\r\n\r\ndouble Inventory::getTotalCost() const\t\t\t//Calculates Total Cost and Returns\r\n{\r\n\treturn cost * quanity;\r\n}\r\n\r\n/*\r\n-----------------------------------------------------\r\nPlease Enter Data For Item One\r\nEnter item number: 1303\r\nEnter quanity: 10\r\nEnter price: 2.50\r\n\r\nPlease Enter Data For Item Two\r\nEnter item number: 5676\r\nEnter quanity: 54\r\nEnter price: 5.65\r\n\r\nHere's the data you entered for item one:\r\nItem Number:            1303\r\nItem Quanity:           10\r\nItem Cost:              $2.50\r\nItem Total Cost:        $25.00\r\n\r\nHere's the data you entered for item two:\r\nItem Number:            5676\r\nItem Quanity:           54\r\nItem Cost:              $5.65\r\nItem Total Cost:        $305.10\r\n-----------------------------------------------------\r\nPlease Enter Data For Item One\r\nEnter item number: 7456\r\nEnter quanity: 10\r\nEnter price: 10.9\r\n\r\nPlease Enter Data For Item Two\r\nEnter item number: 0293\r\nEnter quanity: 5\r\nEnter price: 109.23\r\n\r\nHere's the data you entered for item one:\r\nItem Number:            7456\r\nItem Quanity:           10\r\nItem Cost:              $10.90\r\nItem Total Cost:        $109.00\r\n\r\nHere's the data you entered for item two:\r\nItem Number:            293\r\nItem Quanity:           5\r\nItem Cost:              $109.23\r\nItem Total Cost:        $546.15\r\n-----------------------------------------------------\r\n*/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c++", "gcc", "embedded"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1457560210, "post_id": 35903158, "comment_id": 59467025, "body": "Maybe use a custom allocator and/or <a href=\"http://stackoverflow.com/questions/3030208/extern-variable-at-specific-address\">specify the memory address directly</a>? Or maybe overload operator new and provide a specific address?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1457560376, "post_id": 35903158, "comment_id": 59467097, "body": "If the singleton object has static storage duration, then you certainly can take it&#39;s address at compile time. I don&#39;t know about the debug probe business."}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1457560614, "post_id": 35903158, "comment_id": 59467236, "body": "@flatmouse I know about the possibility of specifying the address and use it for some special data that is stored battery buffered. But I want to avoid doing all the memory stuff by myself. Overloading the new operator won&#39;t work, because I do not use dynamic memory."}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1457560846, "post_id": 35903158, "comment_id": 59467347, "body": "@user2079303 I edited my question to make it more precise. Can you give me a hint, how to get the address of <i>instance</i>."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1457561142, "post_id": 35903158, "comment_id": 59467526, "body": "@AndreasWalter your <code>get</code> returns a copy every call. You probably intended to return a reference, right?"}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1457561226, "post_id": 35903158, "comment_id": 59467588, "body": "@user2079303 Right, thank you!"}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1457561801, "post_id": 35903158, "comment_id": 59467867, "body": "@user2079303 I do not want to use the address inside my program. I want to modify the values from outside by directly writing to the memory."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457562436, "post_id": 35903158, "comment_id": 59468199, "body": "Can you just call <code>get</code> in the debugger?"}], "answers": [{"comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1457561218, "post_id": 35903601, "comment_id": 59467582, "body": "I&#39;m pretty sure this not what the OP is asking for."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1457561680, "post_id": 35903601, "comment_id": 59467809, "body": "@Mats Petersson OP asked for the address of the static variable. Wouldn&#39;t this be a way to get it?"}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "edited": false, "score": 0, "creation_date": 1457561963, "post_id": 35903601, "comment_id": 59467958, "body": "I do not think, that I can already get the address a that point. Stopping after compilation is to early. In my understanding, without linking, there is no address in memory at all."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1457565454, "post_id": 35903601, "comment_id": 59469544, "body": "Indeed, the compiler will not give (absolute) addresses to anything. It may contain the block-relative address of something, but that&#39;s barely helpful if there are more than one object file to link together."}], "tags": [], "owner": {"reputation": 63, "user_id": 6026381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rNmA2.jpg?s=128&g=1", "display_name": "Waheed Brown", "link": "https://stackoverflow.com/users/6026381/waheed-brown"}, "is_accepted": false, "score": -1, "last_activity_date": 1457561124, "creation_date": 1457561124, "answer_id": 35903601, "question_id": 35903158, "link": "https://stackoverflow.com/questions/35903158/can-i-get-the-address-of-a-singleton-during-compile-or-link-time-from-gcc/35903601#35903601", "title": "Can I get the address of a singleton during compile or link time from gcc?", "body": "<p>Not exactly sure if this is what you're trying to do, but using \"-S\" with gcc will stop everything after the compile stage. That way you can dive into the assembly code and evaluate your variables. Here is the man page excerpt:</p>\n\n<pre><code>If you only want some of the stages of compilation, you can use -x (or\nfilename suffixes) to tell gcc where to start,\nand one of the options -c, -S, or -E to say where gcc is to stop.  Note that\nsome combinations (for example, -x cpp-output -E) instruct gcc to do nothing at all.\n\n-c  Compile or assemble the source files, but do not link.  The linking stage simply is not done.  The ultimate\n    output is in the form of an object file for each source file.\n\n    By default, the object file name for a source file is made by replacing the suffix .c, .i, .s, etc., with .o.\n\n    Unrecognized input files, not requiring compilation or assembly, are ignored.\n\n-S  Stop after the stage of compilation proper; do not assemble.  The output is in the form of an assembler code file\n    for each non-assembler input file specified.\n\n    By default, the assembler file name for a source file is made by replacing the suffix .c, .i, etc., with .s.\n\n    Input files that don't require compilation are ignored.\n\n-E  Stop after the preprocessing stage; do not run the compiler proper.  The output is in the form of preprocessed\n    source code, which is sent to the standard output.\n\n    Input files which don't require preprocessing are ignored.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "edited": false, "score": 0, "creation_date": 1457561689, "post_id": 35903618, "comment_id": 59467812, "body": "I do not want to specify the addresses for those instances by myself. I&#39;m just interested in getting them from the binary files."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "edited": false, "score": 1, "creation_date": 1457563689, "post_id": 35903618, "comment_id": 59468806, "body": "So, typically that is possible using a map-file (or some other symbol information provided by the tools)."}, {"owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "edited": false, "score": 0, "creation_date": 1457565218, "post_id": 35903618, "comment_id": 59469461, "body": "I had a look into the map file, but could not find the proper information. But using &#39;nm -C&#39; was promising. I will give it a try and report."}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "reply_to_user": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "edited": false, "score": 0, "creation_date": 1457600997, "post_id": 35903618, "comment_id": 59482934, "body": "@AndreasWalter Even if you don&#39;t wish to specify the address, you could make the memory easier to find, by specifying your custom section and then through the linker script tell the linker to put your custom section together with the rest of the <code>.bss</code>. Then it should be easy to find it in the map file. Why not specify the address yourself though? That&#39;s how it is done in embedded systems for cases like this, period."}], "tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": true, "score": 1, "last_activity_date": 1457561191, "creation_date": 1457561191, "answer_id": 35903618, "question_id": 35903158, "link": "https://stackoverflow.com/questions/35903158/can-i-get-the-address-of-a-singleton-during-compile-or-link-time-from-gcc/35903618#35903618", "title": "Can I get the address of a singleton during compile or link time from gcc?", "body": "<p>Without signficant knowledge of exactly what development tools, hardware architecture, etc, you are using, it's very hard to say exactly what you should do, but it's typically possible to assign certain variables to a specific data-segment or functions in a specific code-segment, and then in the linking phase assign a specific address to that segment. </p>\n\n<p>For example you can use the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Common-Variable-Attributes.html#Common-Variable-Attributes\" rel=\"nofollow\">gcc section attribute</a>:</p>\n\n<pre><code>int init_data __attribute__ ((section (\"INITDATA\")));\n</code></pre>\n\n<p>or </p>\n\n<pre><code>MyObj obj __attribute__((section (\"BATTERY_BACKED\")));\n</code></pre>\n\n<p>and then use the same section name in a <a href=\"http://www.math.utah.edu/docs/info/ld_3.html#SEC14\" rel=\"nofollow\">linker script</a> that places it to the \"right\" address. </p>\n\n<p>Most (reasonable) embedded toolchains will support this in some manner, but exactly how it is done varies quite a lot.</p>\n\n<p>Another option is to use placement <code>new</code>:</p>\n\n<pre><code>MyObj *obj = new ((void *)0x11220000) MyObj(args);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2316, "user_id": 469006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3855250cd4b053ce9204c773246196b?s=128&d=identicon&r=PG", "display_name": "D Krueger", "link": "https://stackoverflow.com/users/469006/d-krueger"}, "is_accepted": false, "score": 0, "last_activity_date": 1457734529, "creation_date": 1457734529, "answer_id": 35950928, "question_id": 35903158, "link": "https://stackoverflow.com/questions/35903158/can-i-get-the-address-of-a-singleton-during-compile-or-link-time-from-gcc/35950928#35950928", "title": "Can I get the address of a singleton during compile or link time from gcc?", "body": "<p>You can use placement-new with a buffer whose address is available at compile or link time.</p>\n\n<pre><code>#include &lt;new&gt;\n\nextern unsigned char placeA[];\n\nclass A {\npublic:\n    static A&amp; get()\n    {\n        static A *p_instance;\n        if(!p_instance) {\n            p_instance = new(placeA) A();\n        }\n        return *p_instance;\n    }\n};\n\nunsigned char placeA[sizeof(A)] __attribute__ ((aligned (__BIGGEST_ALIGNMENT__)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 6025386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gMtPNJh_iK8/AAAAAAAAAAI/AAAAAAAADMc/amM71T_51ZY/photo.jpg?sz=128", "display_name": "Giuseppe Gorgoglione", "link": "https://stackoverflow.com/users/6025386/giuseppe-gorgoglione"}, "is_accepted": false, "score": 0, "last_activity_date": 1458330797, "last_edit_date": 1495542703, "creation_date": 1458330797, "answer_id": 36093131, "question_id": 35903158, "link": "https://stackoverflow.com/questions/35903158/can-i-get-the-address-of-a-singleton-during-compile-or-link-time-from-gcc/36093131#36093131", "title": "Can I get the address of a singleton during compile or link time from gcc?", "body": "<p>Usually debug probes only see physical addresses while user applications only operate on virtual addresses, which change all the times the application is loaded, so no linker trick will work. You didn't say which OS you use but I guess it's Linux. If so, you can do something like this: reserve yourself a scratchpad memory area you know the physical address of and which is not used by the OS. For example if your SoC has an embedded static memory, use that, if not just ask you local Linux expert how to reserve a page of RAM into the kernel memory configuration.</p>\n\n<p>Then look at this article to understand how to map a physical address into the virtual memory space of your application:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9662193/how-to-access-kernel-space-from-user-spacein-linux\">how to access kernel space from user space(in linux)?</a></p>\n\n<p>After getting the virtual address of the scratchpad area your application can read/write there whatever it wants. The debug probe will be able to to read/write into the same area with the physical address.</p>\n"}], "owner": {"reputation": 676, "user_id": 521148, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ze8P9.jpg?s=128&g=1", "display_name": "Andreas Walter", "link": "https://stackoverflow.com/users/521148/andreas-walter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 35903618, "answer_count": 4, "score": 1, "last_activity_date": 1458330797, "creation_date": 1457559605, "last_edit_date": 1457561201, "question_id": 35903158, "link": "https://stackoverflow.com/questions/35903158/can-i-get-the-address-of-a-singleton-during-compile-or-link-time-from-gcc", "title": "Can I get the address of a singleton during compile or link time from gcc?", "body": "<p>I am working on a embedded project and ask me, if it is possible to get the address of a singleton class during compile or link time.</p>\n\n<p>To create my singleton, I use the following code and would be interested in the address of <em>instance</em>.</p>\n\n<pre><code>class A\n{\n    public:\n    static A&amp; get()\n    {\n        static A instance;\n        return instance;\n}:\n</code></pre>\n\n<p>What I want to do, is of course changing the value from outside using a debug probe, but not using a real debug session.</p>\n\n<p>Best regards\nAndreas</p>\n"}, {"tags": ["c++", "templates", "constants"], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 1872993, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41e9c2c0f9b961d684d3ddf42942281d?s=128&d=identicon&r=PG", "display_name": "Stijn Frishert", "link": "https://stackoverflow.com/users/1872993/stijn-frishert"}, "edited": false, "score": 0, "creation_date": 1457560918, "post_id": 35903463, "comment_id": 59467390, "body": "Works! Don&#39;t know what went wrong then, SFINAE can get confusing sometimes."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1457560984, "last_edit_date": 1457560984, "creation_date": 1457560614, "answer_id": 35903463, "question_id": 35903127, "link": "https://stackoverflow.com/questions/35903127/function-template-specialization-for-both-const-and-non-const-gslspan-argument/35903463#35903463", "title": "Function template specialization for both const and non-const gsl::span argument", "body": "<p>You may use overload and SFINAE...</p>\n\n<pre><code>template &lt;typename T&gt;\nstd::enable_if_t&lt;!std::is_floating_point&lt;std::decay_t&lt;T&gt;&gt;::value&gt;\nfoobar(gsl::span&lt;T&gt; x)\n{\n    std::cout &lt;&lt; \"generic\" &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nstd::enable_if_t&lt;std::is_floating_point&lt;std::decay_t&lt;T&gt;&gt;::value&gt;\nfoobar(gsl::span&lt;T&gt; x)\n{\n    std::cout &lt;&lt; \"floating point specialization\" &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 1872993, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/41e9c2c0f9b961d684d3ddf42942281d?s=128&d=identicon&r=PG", "display_name": "Stijn Frishert", "link": "https://stackoverflow.com/users/1872993/stijn-frishert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 35903463, "answer_count": 1, "score": 0, "last_activity_date": 1457560984, "creation_date": 1457559447, "last_edit_date": 1457560053, "question_id": 35903127, "link": "https://stackoverflow.com/questions/35903127/function-template-specialization-for-both-const-and-non-const-gslspan-argument", "title": "Function template specialization for both const and non-const gsl::span argument", "body": "<p>Let's say I have a function that takes a <code>gsl::span</code> of an arbitrary type (templated).</p>\n\n<pre><code>template &lt;class T&gt;\nvoid foobar(gsl::span&lt;T&gt; x)\n{\n    cout &lt;&lt; \"generic\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>I'd like to create a template specialization/function overload, such that when I have a <code>gsl::span&lt;float&gt;</code> or <code>gsl::span&lt;const float&gt;</code> as argument, that function is used.</p>\n\n<pre><code>template &lt;&gt;\nvoid foobar(gsl::span&lt;float&gt; x) // or gsl::span&lt;const float&gt;\n{\n    cout &lt;&lt; \"specialization\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>If possible,  I would not like to write two specializations for <code>float</code> and <code>const float</code>, but catch them both with the same function. I have functions that take two or three spans, and the amount of specializations to write would grow exponentially.</p>\n\n<p>I would also like to have the same kind of specializations for double, so I doubt whether <code>std::is_floating_point&lt;&gt;</code> would be refined enough. I've tried working with <code>std::is_same&lt;std::decay_t&lt;T&gt;, float&gt;</code>, but then calls become ambiguous.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["c++", "eclipse", "gdb", "eclipse-cdt"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1457559044, "post_id": 35902970, "comment_id": 59466389, "body": "Are you debugging a debug build, with <code>-g</code> on the compile line?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1457559131, "post_id": 35902970, "comment_id": 59466440, "body": "And are you stopped at a breakpoint within a scope where the variable is defined?"}, {"owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1457559470, "post_id": 35902970, "comment_id": 59466631, "body": "Yes, I am in a point where the variable is visible. However I can&#39;t see any variable, so it&#39;s not for a single variable that it doesn&#39;t work. How do I check if I have -g on the compile line? I tried to go to &quot;Debug configurations&quot; -&gt; Name of the project - &gt; Arguments and add &quot;-g&quot; but there is no change"}, {"owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1457559838, "post_id": 35902970, "comment_id": 59466846, "body": "Under &quot;Project properties -&gt; C/C++ build&quot; Configuration is set to Debug [active]"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1457562201, "post_id": 35902970, "comment_id": 59468095, "body": "Using a build configuration named &quot;Debug&quot; is not the same thing as having the compile option set for debug. Check the project build settings."}, {"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 1, "creation_date": 1457600640, "post_id": 35902970, "comment_id": 59482694, "body": "@Marco Please consider upgrading Eclipse and CDT. The version you are using is 4-5 years old, as is GDB."}, {"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1457600764, "post_id": 35902970, "comment_id": 59482785, "body": "@Marco Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your problem, i.e. Hello World size with the command line you are using to build? Also you have launched GDB from the shell, is GDB displaying the correct information on its own? i.e. do <code>gdb program.elf</code> followed by <code>b main</code> then <code>run</code> then <code>info locals</code>"}, {"owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "edited": false, "score": 0, "creation_date": 1457642892, "post_id": 35902970, "comment_id": 59512309, "body": "This is the version of Eclipse present in Ubuntu&#39;s repos and I had to downgrade gdb to be able to actually debug."}, {"owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "edited": false, "score": 0, "creation_date": 1457646857, "post_id": 35902970, "comment_id": 59514663, "body": "I don&#39;t have any elf file..."}, {"owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "edited": false, "score": 0, "creation_date": 1457647383, "post_id": 35902970, "comment_id": 59514983, "body": "OK, I could run it also with <code>gdb program</code>. After the commands you said:  <code>(gdb) info locals std::__ioinit = {static _S_refcount = &lt;optimised out&gt;,   static _S_synced_with_stdio = &lt;optimised out&gt;}</code>  stepping with the command <code>s</code> and running info locals the output remains the same (even though stepping I saw that I declared new variables)"}, {"owner": {"reputation": 8196, "user_id": 395851, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f7417d04460fbc27bc0ac99204cfce9c?s=128&d=identicon&r=PG", "display_name": "dbrank0", "link": "https://stackoverflow.com/users/395851/dbrank0"}, "edited": false, "score": 0, "creation_date": 1457686906, "post_id": 35902970, "comment_id": 59528571, "body": "When you (re)build your project in eclipse, build console shows build log. Can you show us this? It is probable that you are building with optimization enabled. Go to project properties, then C/C++ build, then Settings and see Optimization and Debugging groups (Should be None (-O0) and Maximum (-g3)). If this is makefile based project, you need to modify makefile appropriately."}], "answers": [{"tags": [], "owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "is_accepted": true, "score": 0, "last_activity_date": 1457883581, "creation_date": 1457883581, "answer_id": 35972220, "question_id": 35902970, "link": "https://stackoverflow.com/questions/35902970/debugging-c-code-with-eclipse-the-view-variables-is-empty-and-no-tooltip-show/35972220#35972220", "title": "Debugging C++ code with Eclipse, the view Variables is empty and no tooltip showing variable value", "body": "<p>I solved upgrading the version of Eclipse. Apparently on Ubuntu's repos there is an old version. I downloaded the last version and installed it, like shown here:</p>\n\n<p><a href=\"http://ubuntuhandbook.org/index.php/2016/01/how-to-install-the-latest-eclipse-in-ubuntu-16-04-15-10/\" rel=\"nofollow\">http://ubuntuhandbook.org/index.php/2016/01/how-to-install-the-latest-eclipse-in-ubuntu-16-04-15-10/</a></p>\n\n<p>now variables appear.</p>\n"}], "owner": {"reputation": 1311, "user_id": 2558671, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/87a1aa76ac98614fe1692cecb4d7bb36?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2558671/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 35972220, "answer_count": 1, "score": 0, "last_activity_date": 1457883581, "creation_date": 1457558825, "last_edit_date": 1592644375, "question_id": 35902970, "link": "https://stackoverflow.com/questions/35902970/debugging-c-code-with-eclipse-the-view-variables-is-empty-and-no-tooltip-show", "title": "Debugging C++ code with Eclipse, the view Variables is empty and no tooltip showing variable value", "body": "<p>I am writing some C++ code in Eclipse + CDT under Ubuntu 15.10. When I debug, the view &quot;Variables&quot; contains only &quot;std::__ioinit&quot; and no other value appears as variables are created. Furthermore when I stop the mouse over a variable the tooltip doesn't show the variable value, but only the part of code where I declare the variable. Do you know how to actually have it display variables?</p>\n<p>I'm using Eclipse 3.8.1, with CDT 8.0.2 and GDB 7.4.</p>\n<p>Note: If I launch gdb from the shell it says that gdb version is</p>\n<pre><code>GNU gdb (Ubuntu/Linaro 7.4-2012.02-0ubuntu2) 7.4-2012.02\n</code></pre>\n<p>But if I go to Help -&gt; About Eclipse platform -&gt; CDT button I have this information:</p>\n<p><a href=\"https://i.stack.imgur.com/RRzvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RRzvc.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!</p>\n"}, {"tags": ["c++", "c++11", "vector", "language-lawyer", "allocator"], "comments": [{"owner": {"reputation": 1668, "user_id": 2307646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21a6192fca73a31505d1a36baabb976?s=128&d=identicon&r=PG", "display_name": "FrankHB", "link": "https://stackoverflow.com/users/2307646/frankhb"}, "edited": false, "score": 0, "creation_date": 1470324421, "post_id": 35902965, "comment_id": 64914446, "body": "See <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0040r3.html\" rel=\"nofollow noreferrer\">P0040</a> adopted recently."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 1668, "user_id": 2307646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21a6192fca73a31505d1a36baabb976?s=128&d=identicon&r=PG", "display_name": "FrankHB", "link": "https://stackoverflow.com/users/2307646/frankhb"}, "edited": false, "score": 0, "creation_date": 1470325013, "post_id": 35902965, "comment_id": 64914872, "body": "@FrankHB Does that paper change what <code>vector</code> would do here? It just adds algorithms to the standard library right?"}, {"owner": {"reputation": 1668, "user_id": 2307646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21a6192fca73a31505d1a36baabb976?s=128&d=identicon&r=PG", "display_name": "FrankHB", "link": "https://stackoverflow.com/users/2307646/frankhb"}, "edited": false, "score": 0, "creation_date": 1470359740, "post_id": 35902965, "comment_id": 64930596, "body": "Right. So it is not an answer, just a comment. It provides convenient interface to ease the implementation of your workaround."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1481198210, "post_id": 35902965, "comment_id": 69285038, "body": "Similar problem as <code>make_unique&lt;T[]&gt;</code> by the way."}], "answers": [{"tags": [], "owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "is_accepted": false, "score": 2, "last_activity_date": 1457564245, "last_edit_date": 1592644375, "creation_date": 1457562342, "answer_id": 35903917, "question_id": 35902965, "link": "https://stackoverflow.com/questions/35902965/should-allocator-construct-default-initialize-instead-of-value-initializing/35903917#35903917", "title": "Should allocator construct() default initialize instead of value initializing?", "body": "<p>In C++03 Allocators <code>construct</code> member took two arguments: pointer and value which was used to perform copy-initialization:</p>\n<blockquote>\n<p>20.1.6 Table 34</p>\n<p><code>a.construct(p,t)</code></p>\n<p>Effect:<br />\n\u00a0\u00a0\u00a0\u00a0<code>::new((void*)p) T(t)</code></p>\n</blockquote>\n<p><code>construct</code> taking two parameters can be <a href=\"http://www.stepanovpapers.com/Stepanov-The_Standard_Template_Library-1994.pdf\" rel=\"nofollow noreferrer\">traced back to 1994</a> (pg. 18). As you can see, in orignal Stepanov concepts it wasn't part of allocator interface (it wasn't supposed to be configurable) and was present just as wrapper over placement new.</p>\n<p>Only way to know for sure would to ask Stepanov himself, but I suppose that reason was following: if you want to construct something, you want to initialize it with specific value. And if you want your integers uninitializated, you can just omit <code>construct</code> call since it is not needed for POD types. Later <code>construct</code> and other related function were bundled into allocators and containers were parametrized on them introducing some loss of control on initialization for end user.</p>\n<p>So it seems that lack of default initialization is for historical reasons: nobody though about its importance when C++ was standardized and later versions of the Standard would not introduce breaking change.</p>\n"}], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 3, "answer_count": 1, "score": 15, "last_activity_date": 1457564245, "creation_date": 1457558815, "last_edit_date": 1495541324, "question_id": 35902965, "link": "https://stackoverflow.com/questions/35902965/should-allocator-construct-default-initialize-instead-of-value-initializing", "title": "Should allocator construct() default initialize instead of value initializing?", "body": "<p>As a followup to <a href=\"https://stackoverflow.com/q/35901417/2069064\">this question</a>, the default allocator (<code>std::allocator&lt;T&gt;</code>) is required to implement <code>construct</code> as follows (according to [default.allocator]):</p>\n\n<blockquote>\n<pre><code>template &lt;class U, class... Args&gt;\nvoid construct(U* p, Args&amp;&amp;... args);\n</code></pre>\n  \n  <p><em>Effects</em>: <code>::new((void *)p) U(std::forward&lt;Args&gt;(args)...)</code></p>\n</blockquote>\n\n<p>That is, always value-initialization. The result of this is that <code>std::vector&lt;POD&gt; v(num)</code>, for any pod type, will value-initialize <code>num</code> elements - which is more expensive than default-initializing <code>num</code> elements. </p>\n\n<p>Why didn't<sup>&dagger;</sup> <code>std::allocator</code> provide a default-initializing additional overload? That is, something like (borrowed from <a href=\"https://stackoverflow.com/a/21028912/2069064\">Casey</a>):</p>\n\n<pre><code>template &lt;class U&gt;\nvoid construct(U* p) noexcept(std::is_nothrow_default_constructible&lt;U&gt;::value)\n{\n    ::new(static_cast&lt;void*&gt;(p)) U;\n}\n</code></pre>\n\n<p>Was there a reason to prefer value initialization in call cases? It seems surprising to me that this breaks the usual C++ rules where we only pay for what we want to use. </p>\n\n<hr />\n\n<p><sup>&dagger;</sup>I assume such a change is impossible going forward, given that currently <code>std::vector&lt;int&gt; v(100)</code> will give you 100 <code>0</code>s, but I'm wondering why that is the case... given that one could just as easily have required <code>std::vector&lt;int&gt; v2(100, 0)</code> in the same way that there are differences between <code>new int[100]</code> and <code>new int[100]{}</code>. </p>\n"}, {"tags": ["c#", "c++", "pinvoke", "access-violation"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5935836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8550e198ed14f0886e73b29edaeb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/5935836/rahul"}, "edited": false, "score": 0, "creation_date": 1457561011, "post_id": 35903169, "comment_id": 59467444, "body": "Thank you, that has solved it!"}], "tags": [], "owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "is_accepted": true, "score": 1, "last_activity_date": 1457559643, "creation_date": 1457559643, "answer_id": 35903169, "question_id": 35902939, "link": "https://stackoverflow.com/questions/35902939/using-p-invoke-causes-system-accessviolationexception/35903169#35903169", "title": "Using P/Invoke causes system AccessViolationException", "body": "<p>P/Invoke marshals your C# <code>string</code> into a C string, by default. Your C function's parameter should be a <code>const char*</code>, not an <code>std::string</code>.</p>\n\n<p>In general, you should avoid exporting functions with signatures that depend on non-POD types, like <code>std::string</code>. The consumer (in this case, C#) has no idea about the memory layout of the <code>std::string</code> used by your DLL, so it can't even create one to invoke your function with.</p>\n"}], "owner": {"reputation": 11, "user_id": 5935836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8550e198ed14f0886e73b29edaeb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/5935836/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "closed_date": 1457559625, "accepted_answer_id": 35903169, "answer_count": 1, "score": 0, "last_activity_date": 1457559643, "creation_date": 1457558731, "question_id": 35902939, "link": "https://stackoverflow.com/questions/35902939/using-p-invoke-causes-system-accessviolationexception", "closed_reason": "Duplicate", "title": "Using P/Invoke causes system AccessViolationException", "body": "<p>I am having trouble with using a C++ function from C# code using P/Invoke. I have used the tutorial on <a href=\"http://www.codeproject.com/Articles/403285/P-Invoke-Tutorial-Basics-Part\" rel=\"nofollow\">http://www.codeproject.com/Articles/403285/P-Invoke-Tutorial-Basics-Part</a> as a basic example, and once I got that to work, I adapted it for my own code.</p>\n\n<p>This is producing a System.AccessViolationException, with additional information: 'Attempted to read or write protected memory. This is often an indication that other memory is corrupt.'</p>\n\n<p>My C++ header file 'NativeLib.h' is as follows:</p>\n\n<pre><code>#include &lt;string&gt;\n\n#ifndef _NATIVELIB_H_\n#define _NATIVELIB_H_\n\n#ifndef MYAPI\n#define MYAPI\n#endif\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n    MYAPI float modelScore(std::string word);\n\n#ifdef __cplusplus\n}\n#endif\n\n#endif // _NATIVELIB_H_\n</code></pre>\n\n<p>where MYAPI is a preprocessor definition defined as 'MYAPI=__declspec(dllexport)'. The .cpp file, 'NativeLib.cpp' is as follows:</p>\n\n<pre><code>#include \"NativeLib.h\"\n#include &lt;stdio.h&gt;\n#include \"lm/model.hh\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nMYAPI float modelScore(std::string word) {\n    using namespace lm::ngram;\n    Model model(---MODEL FILE LOCATION---);\n\n    State state(model.BeginSentenceState()), out_state;\n    const Vocabulary &amp;vocab = model.GetVocabulary();\n\n    return model.Score(state, vocab.Index(word), out_state);\n\n}\n</code></pre>\n\n<p>I am accessing this from C# using the code below:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Runtime.InteropServices;\n\nnamespace PInvokeTest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            modelScore(\"a\");\n            Console.WriteLine(\"Press enter to close...\");\n            Console.ReadLine();\n        }\n\n        [DllImport(\"NativeLib.dll\", CallingConvention = CallingConvention.Cdecl)]\n        private static extern float modelScore(string word);\n    }\n}\n</code></pre>\n\n<p>The code is building without failing with all the appropriate libraries linked and included in the header paths. The C++ code works well from C++ itself so my problem lies in linking the code with C# but I cannot see where the problem is. Any help would be really appreciated.</p>\n"}, {"tags": ["c++", "standards"], "comments": [{"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 0, "creation_date": 1457687993, "post_id": 35902847, "comment_id": 59529188, "body": "interesting site ... moderators have erase here 30 comments, where at least one moderator have said nonsense about COM and ActiveX... So we are moderated by persons who are very active (students?), but are not deep experts? Excellent :)"}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457558901, "post_id": 35902974, "comment_id": 59466296, "body": "While I totally abhor &#39;composition rather than inheritance&#39; idea (just look into standard implementation - everything is inherited from something!), the rest rings very true."}, {"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 0, "creation_date": 1457560516, "post_id": 35902974, "comment_id": 59467175, "body": "Okay, yes I know that STL is template library from its born... Guys are you serious that using inheritance, this is Java-style?  How old are you guys? I remember that in 80-83 years, when C++ have come to our hands, we did have only inheritance. Templates was added into C++ later.  I understand that you may be hate Java, me too, but why you put this as argument? :)"}, {"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 1, "creation_date": 1457560632, "post_id": 35902974, "comment_id": 59467245, "body": "When &#39;pointers&#39; - have become &quot;Java style&quot; ??"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 0, "creation_date": 1457561168, "post_id": 35902974, "comment_id": 59467551, "body": "@RuslanZasukhin, last time I checked year was 2016. Yes, in 1983 C++ was a very different language. We are very lucky to have a much better one now. As for Java style - you didn&#39;t know that despite their claim, everything in Java is a pointer (which is not a primitive type)?"}, {"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457561411, "post_id": 35902974, "comment_id": 59467670, "body": "@SergeyA, can I wonder you even more? Despite their claims (PHP, Java, Lisp) everything is made on C/C++ internally, using pointers at the end-level."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 0, "creation_date": 1457562549, "post_id": 35902974, "comment_id": 59468252, "body": "@RuslanZasukhin - You are wrong - It is machine code. ones and zeros if you want to go that far"}, {"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457592138, "post_id": 35902974, "comment_id": 59478050, "body": "@EdHeal this was the NEXT step go to machine codes :)  But this not make wrong my words that PHP language is written on C/C++ itself. yes? As well as most others."}, {"owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "edited": false, "score": 0, "creation_date": 1457592371, "post_id": 35902974, "comment_id": 59478149, "body": "composition - guys this is one of key-points in that COM technology btw. Actually in OO itself. They have come to idea that inheritance itself is not so effective. <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Composition_over_inheritance</a>"}], "tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 2, "last_activity_date": 1457558834, "creation_date": 1457558834, "answer_id": 35902974, "question_id": 35902847, "link": "https://stackoverflow.com/questions/35902847/what-c-standard-has-better-of-com/35902974#35902974", "title": "What C++ standard has better of COM?", "body": "<p>The standard uses:  composition rather than inheritance in most cases (very little inheritance in the standard library).  Prefers template based generic programming rather than runtime polymorphism.  Prefers value types rather than keeping pointers of unknown ultimate type for everything, everywhere.  All things you should be doing in C++ rather than treating it like Java.</p>\n"}], "owner": {"reputation": 379, "user_id": 2106963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc725c58cf6867ee2b0fbd2d42bf89f?s=128&d=identicon&r=PG", "display_name": "Ruslan Zasukhin", "link": "https://stackoverflow.com/users/2106963/ruslan-zasukhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1457559939, "answer_count": 1, "score": -6, "last_activity_date": 1457558834, "creation_date": 1457558433, "question_id": 35902847, "link": "https://stackoverflow.com/questions/35902847/what-c-standard-has-better-of-com", "closed_reason": "Opinion-based", "title": "What C++ standard has better of COM?", "body": "<p>I have see such answer:</p>\n\n<blockquote>\n  <p>COM is a technique of it's own. It fulfills some special needs but\n  violates a lot of good engineering principles. E.g solid. The standard\n  has better ways than using COM. \u2013 mkaes</p>\n</blockquote>\n\n<p>Very interesting to know what is that \"better ways\"?</p>\n\n<p>We use in our project IUnknown base class, but not COM technology itself.\nIUnknown allows us:</p>\n\n<ol>\n<li>have nice specified interface abstract classes;</li>\n<li>use its add()/release() as basis for intrusive smart ptrs;</li>\n<li>use mechanism of QueryInterface() to be more effective than dynamic_cast;</li>\n</ol>\n\n<p>Okay, exists boost::intrusive_ptr but it is not in the standard so far. And even if it was there, this will be separate class to solve task of intrusive smart ptr.  Assuming it is there, yes I could do something as</p>\n\n<pre><code>interface ITable : intrusive_ptr {}\ninterface IField : intrusive_ptr {}\n</code></pre>\n\n<p>But what about QueryInterface() mechanism?</p>\n\n<p>P.S. This question is NOT about COM at all.</p>\n"}, {"tags": ["c++", "multithreading", "vector", "stl", "thread-safety"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457558308, "post_id": 35902764, "comment_id": 59465936, "body": "[FYI] <code>*this</code> does not return a pointer.  It returns what <code>this</code> points to."}, {"owner": {"reputation": 3460, "user_id": 1704521, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cc4308a6ccfdcf91b73adbbdd9b98710?s=128&d=identicon&r=PG", "display_name": "Andrey Mishchenko", "link": "https://stackoverflow.com/users/1704521/andrey-mishchenko"}, "edited": false, "score": 3, "creation_date": 1457558484, "post_id": 35902764, "comment_id": 59466048, "body": "As soon as you are returning iterators, the &quot;thread safety&quot; of your class&#39;s interface is going to be counter-intuitive at best, broken at worst, because there is no guarantee that whatever the iterators refer to will remain valid."}, {"owner": {"reputation": 3460, "user_id": 1704521, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cc4308a6ccfdcf91b73adbbdd9b98710?s=128&d=identicon&r=PG", "display_name": "Andrey Mishchenko", "link": "https://stackoverflow.com/users/1704521/andrey-mishchenko"}, "edited": false, "score": 0, "creation_date": 1457558515, "post_id": 35902764, "comment_id": 59466072, "body": "(Just to clarify, what happens if one thread starts iterating across the vector in a loop, and in the middle of the loop, another thread writes to the vector?)"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1457558649, "post_id": 35902764, "comment_id": 59466139, "body": "You need to return a thread safe iterator. Merely locking the mutex while you create the iterator is not enough. Returning an iterator is basically like returning a pointer. It gives unsynchronized access to the elements."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1457558835, "post_id": 35902764, "comment_id": 59466253, "body": "Most of vector&#39;s methods make no sense in a multi-threaded environment. For example, how useful is <code>size()</code> or <code>end()</code> if the vector can change between a call to those members and the moment the result gets used?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1457559117, "post_id": 35902764, "comment_id": 59466428, "body": "To be honest even if you lock down all the synchronization, this implementation is likely to be the most pessimistic in terms of performance. By that I mean that most real tasks will have much more efficient solutions than a completely synchronized container allows for. In Java they started out with synchronized containers and then decide to unsynchronize them to improve performance."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1457559123, "post_id": 35902764, "comment_id": 59466434, "body": "A brief history lesson on why Java&#39;s Vector class has gone out of vogue may be in order here: <a href=\"http://stackoverflow.com/questions/1386275/why-is-java-vector-class-considered-obsolete-or-deprecated\" title=\"why is java vector class considered obsolete or deprecated\">stackoverflow.com/questions/1386275/&hellip;</a>"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457562403, "post_id": 35902764, "comment_id": 59468184, "body": "this is not a thread-safe vector in any way, this is just mutex-peppered vector. If providing thread-safe vector was as easy as mutex-peppering al it&#39;s methods, one would be part of standard library."}], "answers": [{"tags": [], "owner": {"reputation": 1471, "user_id": 4161406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jmkcSCy65Dc/AAAAAAAAAAI/AAAAAAAAACA/3IMYGIYfw28/photo.jpg?sz=128", "display_name": "BJovke", "link": "https://stackoverflow.com/users/4161406/bjovke"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560997, "creation_date": 1457560997, "answer_id": 35903565, "question_id": 35902764, "link": "https://stackoverflow.com/questions/35902764/thread-safe-vector-implementation/35903565#35903565", "title": "Thread-safe vector implementation", "body": "<p>If you want a consistent implementation with not too much complication, you need at least two new member functions, for example <code>disable_write()</code> and <code>enable_write()</code>.</p>\n\n<p>Code which is using your vector can opt if it wants consistent state during some reading code block or not. It will call <code>disable_write()</code> at the beginning of read block and call <code>enable_write()</code> when it finishes block where consistent vector state was needed. </p>\n\n<p>Add another \"write_lock\" mutex and in each member function which <strong>makes changes</strong> use this mutex.</p>\n\n<p>While the write lock is active, read operations should be freely permitted so there's no need for \"write_lock\" mutex for member functions which only read data. Mutex you already have is enough.</p>\n\n<p>Also, you could add another class for write-locking you vector, for example some equivalent of <code>lock_guard</code> and even make <code>disable_write()</code> and <code>enable_write()</code> private and friend with this class, to prevent accidental write lock which is never released.</p>\n"}, {"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 4, "last_activity_date": 1473177931, "last_edit_date": 1473177931, "creation_date": 1457568723, "answer_id": 35905215, "question_id": 35902764, "link": "https://stackoverflow.com/questions/35902764/thread-safe-vector-implementation/35905215#35905215", "title": "Thread-safe vector implementation", "body": "<p>Synchronization between threads is a <strong>global</strong> problem; it can't be solved locally. So the right answer is to unask the question.</p>\n\n<p>This approach is simply the wrong level of granularity. Preventing conflicting simultaneous calls to member functions does not make a container thread-safe in any useful sense; users still have to ensure that <strong>sequences</strong> of operations are thread-safe, and that means holding a lock while a sequence of operations is going on.</p>\n\n<p>For a simple example, consider</p>\n\n<pre><code>void swap(vector&lt;int&gt;&amp; v, int idx0, int idx1) {\n    int temp = v[idx0];\n    v[idx0] = v[idx1];\n    v[idx1] = temp;\n}\n</code></pre>\n\n<p>Now, what happens if, after copying <code>v[idx1]</code> into <code>v[idx0]</code>, some other thread comes along and erases all the data in the vector? The assignment to <code>v[idx1]</code> writes into random memory. That's not a good thing. To prevent this, user code must ensure that <strong>throughout</strong> the execution of <code>swap</code> no other thread is messing with the vector. The implementation of <code>vector</code> can't do that.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13462892, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c4553f1c75f75087a245349dae6e6f57?s=128&d=identicon&r=PG", "display_name": "zep", "link": "https://stackoverflow.com/users/13462892/zep"}, "is_accepted": false, "score": 0, "last_activity_date": 1588541411, "last_edit_date": 1588541411, "creation_date": 1588540842, "answer_id": 61581778, "question_id": 35902764, "link": "https://stackoverflow.com/questions/35902764/thread-safe-vector-implementation/61581778#61581778", "title": "Thread-safe vector implementation", "body": "<p>Vector seem inherently not thread safe. That can seem brutal, but the simplest way to synchronize a vector for me is to encapsulate it in another object who is thread safe... </p>\n\n<pre><code>struct guardedvector {\n   std::mutex guard;\n   std::vector myvector;\n}\n\nguardedvector v;\nv.guard.lock();\n... use v.myvector\nv.guard.unlock();\n</code></pre>\n\n<p>In win32 you can also use slim reader/writer lock (SRW). They are light and fast mutexes, that can work with multiple readers/one writer. In this case, you replace the guard by a srwlock. The caller code has the responsability to call the correct locking methods. Finally you can template the struct and inline it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13464704, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c4553f1c75f75087a245349dae6e6f57?s=128&d=identicon&r=PG", "display_name": "zep", "link": "https://stackoverflow.com/users/13464704/zep"}, "is_accepted": false, "score": 0, "last_activity_date": 1588570851, "last_edit_date": 1588570851, "creation_date": 1588570448, "answer_id": 61585745, "question_id": 35902764, "link": "https://stackoverflow.com/questions/35902764/thread-safe-vector-implementation/61585745#61585745", "title": "Thread-safe vector implementation", "body": "<p>After discussing with myself, the best way to thread safe a vector is to inherit from vector and add a guard.</p>\n\n<pre><code>enter code here\ntemplate &lt;class t&gt; class guardedvector : public std::vector&lt;t&gt; {\n    std::mutex guard;\n};\n\nguardedvector v;\n\nv.lock();\n//...iterate, add, remove...\nv.unlock();\n</code></pre>\n\n<p>You can use a swrlock in place of the mutex. But if you have a lot of threads that read the vector, that can introduce a latency for the writer thread. In certain case you can recreate a custom threading model using just atomics operations with a priority model for the writer, but this require a deep know how the processor work. For simplicity, you can change the priority level of the writer thread.</p>\n"}], "owner": {"reputation": 887, "user_id": 3897435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b3e0e8ed556fec6fb61ac51c0c15837a?s=128&d=identicon&r=PG&f=1", "display_name": "busebd12", "link": "https://stackoverflow.com/users/3897435/busebd12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 2, "answer_count": 4, "score": 3, "last_activity_date": 1588570851, "creation_date": 1457558136, "question_id": 35902764, "link": "https://stackoverflow.com/questions/35902764/thread-safe-vector-implementation", "title": "Thread-safe vector implementation", "body": "<p>I'm working on a thread-safe std::vector implementation and the following is a completed preliminary attempt:</p>\n\n<pre><code>    #ifndef THREADSAFEVECTOR_H\n    #define THREADSAFEVECTOR_H\n    #include &lt;iostream&gt;\n    #include &lt;vector&gt;\n    #include &lt;mutex&gt;\n    #include &lt;cstdlib&gt;\n    #include &lt;memory&gt;\n    #include &lt;iterator&gt;\n    #include &lt;algorithm&gt;\n    #include &lt;initializer_list&gt;\n    #include &lt;functional&gt;\n    template &lt;class T, class Alloc=std::allocator&lt;T&gt;&gt;\n    class ThreadSafeVector\n    {\n        private:\n            std::vector&lt;T&gt; threadSafeVector;\n            std::mutex vectorMutex;\n\n        public:\n            /*need to use typename here because std::allocator&lt;T&gt;::size_type, std::allocator&lt;T&gt;::value_type, std::vector&lt;T&gt;::iterator, \n            and std::vector&lt;T&gt;::const_reverse_iterator are 'dependent names' in that because we are working with a templated class, \n            these expressions may depend on types of type template parameters and values of non-template parameters*/\n\n            typedef typename std::vector&lt;T&gt;::size_type size_type;\n\n            typedef typename std::vector&lt;T&gt;::value_type value_type;\n\n            typedef typename std::vector&lt;T&gt;::iterator iterator;\n\n            typedef typename std::vector&lt;T&gt;::const_iterator const_iterator;\n\n            typedef typename std::vector&lt;T&gt;::reverse_iterator reverse_iterator;\n\n            typedef typename std::vector&lt;T&gt;::const_reverse_iterator const_reverse_iterator;\n\n            typedef typename std::vector&lt;T&gt;::reference reference;\n\n            typedef typename std::vector&lt;T&gt;::const_reference const_reference;\n\n            /*wrappers for three different at() functions*/\n            template &lt;class InputIterator&gt;\n            void assign(InputIterator first, InputIterator last)\n            {\n                //using a local lock_guard to lock mutex guarantees that the mutex will be unlocked on destruction and in the case of an exception being thrown\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.assign(first, last);\n            }\n\n            void assign(size_type n, const value_type&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.assign(n, val);\n            }\n\n            void assign(std::initializer_list&lt;value_type&gt; il)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.assign(il.begin(), il.end());\n            }\n\n            /*wrappers for at() functions*/\n            reference at(size_type n)\n            {\n                return threadSafeVector.at(n);\n            }\n\n            const_reference at(size_type n) const\n            {\n                return threadSafeVector.at(n);\n            }   \n\n            /*wrappers for back() functions*/\n            reference back()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.back();\n            }\n\n            const reference back() const\n            {\n                return threadSafeVector.back();\n            }\n\n            /*wrappers for begin() functions*/\n            iterator begin()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.begin();\n            }\n\n            const iterator begin() const noexcept\n            {\n                return threadSafeVector.begin();\n            }\n\n            /*wrapper for capacity() fucntion*/\n            size_type capacity() const noexcept\n            {\n                return threadSafeVector.capacity();\n            }\n\n            /*wrapper for cbegin() function*/\n            const iterator cbegin()\n            {\n                return threadSafeVector.cbegin();\n            }\n\n            /*wrapper for cend() function*/\n            const iterator cend()\n            {\n                return threadSafeVector.cend();\n            }\n\n            /*wrapper for clear() function*/\n            void clear()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.clear();\n            }\n\n            /*wrapper for crbegin() function*/\n            const_reverse_iterator crbegin() const noexcept\n            {\n                return threadSafeVector.crbegin();\n            }\n\n            /*wrapper for crend() function*/\n            const_reverse_iterator crend() const noexcept\n            {\n                return threadSafeVector.crend();\n            }\n\n            /*wrappers for data() functions*/\n            value_type* data()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.data();\n            }\n\n            const value_type* data() const noexcept\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.data();\n            }\n\n            /*wrapper for emplace() function*/\n            template &lt;class... Args&gt;\n            void emplace(const iterator position, Args&amp;&amp;... args)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.emplace(position, args...);\n            }\n\n            /*wrapper for emplace_back() function*/\n            template &lt;class... Args&gt;\n            void emplace_back(Args&amp;&amp;... args)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.emplace_back(args...);\n            }\n\n            /*wrapper for empty() function*/\n            bool empty() const noexcept\n            {\n                return threadSafeVector.empty();\n            }\n\n            /*wrappers for end() functions*/\n            iterator end()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.end();\n            }\n\n            const iterator end() const noexcept\n            {\n                return threadSafeVector.end();\n            }\n\n            /*wrapper functions for erase()*/\n            iterator erase(const_iterator position)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.erase(position);\n            }\n\n            iterator erase(const_iterator first, const_iterator last)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.erase(first, last);\n            }\n\n            /*wrapper functions for front()*/\n            reference front()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.front();\n            }\n\n            const reference front() const\n            {\n                return threadSafeVector.front();\n            }\n\n            /*wrapper function for get_allocator()*/\n            value_type get_allocator() const noexcept\n            {\n                return threadSafeVector.get_allocator();\n            }\n\n            /*wrapper functions for insert*/\n            iterator insert(const_iterator position, const value_type&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.insert(position, val); \n            }\n\n            iterator insert(const_iterator position, size_type n, const value_type&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.insert(position, n, val);\n            }\n\n            template &lt;class InputIterator&gt;\n            iterator insert(const_iterator position, InputIterator first, InputIterator last)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.insert(position, first, last);\n            }\n\n            iterator insert(const_iterator position, value_type&amp;&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.insert(position, val);\n            }\n\n            iterator insert(const_iterator position, std::initializer_list&lt;value_type&gt; il)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.insert(position, il.begin(), il.end());\n            }\n\n            /*wrapper function for max_size*/\n            size_type max_size() const noexcept\n            {\n                return threadSafeVector.max_size();\n            }\n\n            /*wrapper functions for operator =*/\n            std::vector&lt;T&gt;&amp; operator= (const std::vector&lt;T&gt;&amp; x)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.swap(x);\n            }\n\n            std::vector&lt;T&gt;&amp; operator= (std::vector&lt;T&gt;&amp;&amp; x)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector=std::move(x);\n            }\n\n            std::vector&lt;T&gt;&amp; operator= (std::initializer_list&lt;value_type&gt; il)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.assign(il.begin(), il.end());\n\n                return *this; //is this safe to do?\n            }\n\n            /*wrapper functions for operator []*/\n            reference operator[] (size_type n)\n            {\n                return std::ref(n);\n            }\n\n            const_reference operator[] (size_type n) const\n            {\n                return std::cref(n);\n            }\n\n            /*wrapper function for pop_back()*/\n            void pop_back()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.pop_back();\n            }\n\n            /*wrapper functions for push_back*/\n            void push_back(const value_type&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.push_back(val);\n            }\n\n            void push_back(value_type&amp;&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.push_back(val);\n            }\n\n            /*wrapper functions for rbegin()*/\n            reverse_iterator rbegin() noexcept\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.rbegin();\n            }\n\n            const_reverse_iterator rbegin() const noexcept\n            {\n                return threadSafeVector.rbegin();\n            }\n\n            /*wrapper functions for rend()*/\n            reverse_iterator rend() noexcept\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                return threadSafeVector.rend();\n            }\n\n            const_reverse_iterator rend() const noexcept\n            {\n                return threadSafeVector.rend();\n            }\n\n            /*wrapper function for reserve()*/\n            void reserve(size_type n)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.reserve(n);\n            }\n\n            /*wrapper functions for resize()*/      \n            void resize(size_type n)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.resize(n);\n            }\n\n            void resize(size_type n, const value_type&amp; val)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.resize(n, val);\n            }\n\n            void shrink_to_fit()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.shrink_to_fit();\n            }\n\n            //add function for size\n            size_type size() const noexcept\n            {\n                return threadSafeVector.size();\n            }\n\n            /*wrapper function for swap()*/\n            void swap(std::vector&lt;T&gt;&amp; x)\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                threadSafeVector.swap(x);\n            }\n\n            void print()\n            {\n                std::lock_guard&lt;std::mutex&gt; vectorLockGuard(vectorMutex);\n\n                for(const auto &amp; element : threadSafeVector)\n                {\n                    std::cout &lt;&lt; element &lt;&lt; std::endl;\n                }\n\n                std::cout &lt;&lt; std::endl;\n            }\n    };\n    #endif\n</code></pre>\n\n<p>I have based my implementation on the description of the vector class and its member functions found on <a href=\"http://www.cplusplus.com/reference/vector/vector/\" rel=\"nofollow\">cplusplus.com</a> and with help from <a href=\"http://llvm.org/svn/llvm-project/libcxx/trunk/include/vector\" rel=\"nofollow\">the implementation of the vector class from the STL</a>. Now, a few questions I have about the code I've written so far:</p>\n\n<ol>\n<li><p>When returning iterators, I wasn't sure if I should lock the mutex and then   return the iterator because of the possibility that the validity of the iterator(s) might change due to multiple threads trying to access it, so I went ahead and locked the mutex for all non-const iterators. Is this the right approach?</p></li>\n<li><p>It is my understanding that one should not return pointers from functions when dealing with multithreaded code since this provides a \"backdoor\" (for lack of a better term) for user code to preform some potentially questionable activity. So, for the implementation of the <a href=\"http://www.cplusplus.com/reference/vector/vector/operator=/\" rel=\"nofollow\">assignment operator</a>, is there another way to write these functions so that it doesn't return *this?</p></li>\n<li><p>I opted to use all local instances of lock_guard instead of having one as a private data member. Would it be better if I had one as a private data member instead?</p></li>\n</ol>\n\n<p>Many thanks in advance :-)</p>\n"}, {"tags": ["c++", "filter", "vtk", "itk", "gdcm"], "comments": [{"owner": {"reputation": 656, "user_id": 1662174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab9acb74f92aafd9675fc2d9dc2b624?s=128&d=identicon&r=PG", "display_name": "mirni", "link": "https://stackoverflow.com/users/1662174/mirni"}, "edited": false, "score": 0, "creation_date": 1457637562, "post_id": 35902498, "comment_id": 59509036, "body": "What exactly do you mean &quot;it does not work&quot;? Does it throw an exception? Do you get a file saved? Is the output identical to input? Being specific will help you to get a more accurate answer faster."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4876067"}, "reply_to_user": {"reputation": 656, "user_id": 1662174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab9acb74f92aafd9675fc2d9dc2b624?s=128&d=identicon&r=PG", "display_name": "mirni", "link": "https://stackoverflow.com/users/1662174/mirni"}, "edited": false, "score": 0, "creation_date": 1457638425, "post_id": 35902498, "comment_id": 59509574, "body": "the filter when applied to 3D images , it takes some 2-3 hours processing. And entradad file of 20 mb end up with 2-3 GB in memory . I believe this is not the standard work it"}], "owner": {"user_type": "does_not_exist", "display_name": "user4876067"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457612319, "creation_date": 1457557227, "last_edit_date": 1457612319, "question_id": 35902498, "link": "https://stackoverflow.com/questions/35902498/unsharp-mask-dicom-with-itk-vtk", "title": "Unsharp Mask-DICOM with ITK + VTK", "body": "<p>I'm trying to work with filters \"unsharp-mask\" for DICOM files and or .mhd (goal).\nIn C ++ recommended the use of ITK, within it there is UnsharpMaskLevelSetImageFilter class, it does exactly what I want, for 2D images.\nWhen I use a imageType volume  to .dcm files or .mhd the filter does not work. Can anyone tell me if it is compatible with volume? Or if there is any way to create unsharp-mask in C ++?</p>\n\n<p>this is my code:</p>\n\n<pre><code>itk::GDCMImageIOFactory::RegisterOneFactory();\nitk::MetaImageIOFactory::RegisterOneFactory();\n\ntypedef float InputPixelType;\nconst int ImageDimension = 3;\n\ntypedef itk::Image&lt; InputPixelType, ImageDimension &gt;   InputImageType;\ntypedef itk::ImageFileReader&lt; InputImageType &gt;          ReaderType;\ntypedef itk::UnsharpMaskLevelSetImageFilter &lt;InputImageType, InputImageType&gt; FilterType;\n\nReaderType::Pointer reader = ReaderType::New();\nreader-&gt;SetFileName(\"D:\\\\31panoramica.mhd\");\n\nFilterType::Pointer filter = FilterType::New();\nFilterWatcher watcher(filter);\nfilter-&gt;SetNumberOfThreads(100);\n\nfilter-&gt;SetMaxFilterIteration(10);\nfilter-&gt;SetNormalProcessUnsharpWeight(0.2);\nfilter-&gt;SetInput(reader-&gt;GetOutput());\n\n\nfilter-&gt;Update();\n\ntypedef itk::ImageFileWriter&lt; InputImageType &gt;  WriterType;\n\nWriterType::Pointer writer = WriterType::New();\nwriter-&gt;SetFileName(\"D:\\\\31panoramica22.mhd\");\n\nwriter-&gt;SetInput(filter-&gt;GetOutput());\nwriter-&gt;Update();\n</code></pre>\n"}, {"tags": ["c++", "opengl", "graphics"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 1, "creation_date": 1457557309, "post_id": 35902434, "comment_id": 59465376, "body": "What&#39;s wrong with it? You posted an image instead of actual code, you didn&#39;t include the error message, or anything else. You should include (as TEXT) a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete and Verifiable Example</a> instead and everything else mentioned."}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1457558537, "post_id": 35902434, "comment_id": 59466083, "body": "Transcribe that image of the error to text &amp; edit it into the question."}], "answers": [{"tags": [], "owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "is_accepted": true, "score": 3, "last_activity_date": 1457558226, "creation_date": 1457558226, "answer_id": 35902794, "question_id": 35902434, "link": "https://stackoverflow.com/questions/35902434/bitmapstrokestring-not-working-in-c/35902794#35902794", "title": "bitmapStrokeString not working in c++", "body": "<p><code>glutStrokeString()</code> is a <a href=\"http://freeglut.sourceforge.net/docs/api.php\" rel=\"nofollow\">FreeGLUT/OpenGLUT extension</a> to <a href=\"https://www.opengl.org/documentation/specs/glut/spec3/node75.html\" rel=\"nofollow\">the GLUT spec</a>:</p>\n\n<blockquote>\n  <p>3.4 Differences from GLUT 3.7</p>\n  \n  <p>...</p>\n  \n  <p>3.4.5 String Rendering</p>\n  \n  <p>New functions have been added to render full character strings\n  (including carriage returns) rather than rendering one character at a\n  time. More functions return the widths of character strings and the\n  font heights, in pixels for bitmapped fonts and in OpenGL units for\n  the stroke fonts.</p>\n</blockquote>\n\n<p>Use <code>freeglut.h</code> instead of <code>glut.h</code> to pull in the declaration.</p>\n"}], "owner": {"reputation": 270, "user_id": 5605741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b2GdtKC07es/AAAAAAAAAAI/AAAAAAAACmA/ahgmeFUgHBY/photo.jpg?sz=128", "display_name": "Vrushab Maitri", "link": "https://stackoverflow.com/users/5605741/vrushab-maitri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1458194608, "accepted_answer_id": 35902794, "answer_count": 1, "score": -4, "last_activity_date": 1457558226, "creation_date": 1457557036, "last_edit_date": 1457558213, "question_id": 35902434, "link": "https://stackoverflow.com/questions/35902434/bitmapstrokestring-not-working-in-c", "closed_reason": "Not suitable for this site", "title": "bitmapStrokeString not working in c++", "body": "<p>I am doing a CG project in openGL using glut in C++ and I need to get a text as output but I am getting this error but it works fine when written in C:</p>\n\n<p><img src=\"https://i.stack.imgur.com/W0mPP.png\" alt=\"error\"></p>\n\n<p>So how can I make it work for C++ or is there any other way of printing text in glut.</p>\n\n<pre><code>#include&lt;GL/glut.h&gt;\n\n#include&lt;bits/stdc++.h&gt;\n#include&lt;string.h&gt;\n\n\nGLdouble width,height;\nint wd;\nint xc,yc;\nvoid reshape(int w,int h)\n{\n    width=(GLdouble) w;\n    height=(GLdouble) h;\n    glViewport(0, 0, (GLsizei) width, (GLsizei) height);\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n    gluOrtho2D(0.0,width,0.0,height);\n}\nvoid draw_score(long long int score)\n{\n        long long int tempsc = score;\n     char str[15];\n\n\n\n      //  glRasterPos2f(0.1, 0.5);\n        glutStrokeString(GLUT_STROKE_ROMAN,\"hii\");\n}\nvoid display(void)\n{\nglClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n     glPushMatrix();\n    //glTranslatef(1280/2.0-250,600/2.0-250,0);\n\nlong long a1=2;\n  glPushMatrix();\n   glTranslatef(200,300,0.0);\n            glScalef(0.2,0.2,1);\n            draw_score(a1);\n        glPopMatrix();\n\n   glFlush ();\n}\nint main(int argc, char** argv)\n{\n    glutInit(&amp;argc, argv);\n    glutInitDisplayMode (GLUT_SINGLE | GLUT_RGB | GLUT_DEPTH);\n    glutInitWindowSize (600, 600);\n    glutInitWindowPosition (100, 100);\n\n    glutCreateWindow (\"hello\");\nglutReshapeFunc(reshape);\n        glutDisplayFunc(display);\n\n\n        // OpenGL init\n        //glEnable(GL_DEPTH_TEST);\n    glutMainLoop();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "char"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 3, "creation_date": 1457557258, "post_id": 35902421, "comment_id": 59465352, "body": "<code>int x = &#39;0123&#39;;</code> although obscurely legal, is not what you want --&gt; <code>int x = 123;</code>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1457557492, "post_id": 35902421, "comment_id": 59465488, "body": "&quot;it doesn&#39;t work properly.&quot; lacks detail.  What did you see, what did you expect?  When I run the code, I get what I see which <i>may</i> be the same as you, may not."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1457557518, "post_id": 35902421, "comment_id": 59465504, "body": "...or perhaps <code>int test = atoi(&quot;0123&quot;);</code>"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1457557627, "post_id": 35902421, "comment_id": 59465563, "body": "@WeatherVane I honestly thought <code>int x = &#39;0123&#39;;</code> wouldn&#39;t even compile. Obscure indeed."}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 0, "creation_date": 1457557628, "post_id": 35902421, "comment_id": 59465564, "body": "Did you really mean a single <i>character</i> constant <code>&#39;0123&#39;</code> with multiple characters jammed into it, or did you perhaps mean <code>&quot;0123&quot;</code>?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1457557742, "post_id": 35902421, "comment_id": 59465622, "body": "@Bob__ curiously enough, it was chux who pointed that out to me previously - and he just commented soon after I did!"}, {"owner": {"reputation": 23, "user_id": 6041694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd5c5c8739b36162519979f1f9aba78?s=128&d=identicon&r=PG&f=1", "display_name": "Prodajem Dom", "link": "https://stackoverflow.com/users/6041694/prodajem-dom"}, "edited": false, "score": 1, "creation_date": 1457557872, "post_id": 35902421, "comment_id": 59465695, "body": "Hi, this is multi-character constant. I didn&#39;t mean &quot;0123&quot;, but &#39;0123&#39;. It compiles, but I don&#39;t know how to convert it to int. I am not looking for atoi which just converts this to present number. For example int x = &#39;1&#39; would print 49 in decimal number system. Now I am interested what would print int x = &#39;0123&#39;. Answer is 6014231063 in octal number system, but how to get that? This is from one programming competition."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457557945, "post_id": 35902421, "comment_id": 59465746, "body": "Please update your question to indicate more clearly exactly what you&#39;re looking for. Multicharacter constants are already of type <code>int</code>, and have implementation-defined values -- and they&#39;re really not very useful. What integer value do you expect to get from <code>&#39;0123&#39;</code>, and why?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1457558070, "post_id": 35902421, "comment_id": 59465819, "body": "Left-shifting certain signed integer values invokes undefined behaviour. right shifting is implementation defined. In total it is a bad idea."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1457558122, "post_id": 35902421, "comment_id": 59465845, "body": "And <code>&#39;0123&#39;</code> <b>is</b> an integer already."}, {"owner": {"reputation": 23, "user_id": 6041694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd5c5c8739b36162519979f1f9aba78?s=128&d=identicon&r=PG&f=1", "display_name": "Prodajem Dom", "link": "https://stackoverflow.com/users/6041694/prodajem-dom"}, "edited": false, "score": 0, "creation_date": 1457558340, "post_id": 35902421, "comment_id": 59465955, "body": "Olaf, I updated question. I am looking what printf is going to print. And why?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457558440, "post_id": 35902421, "comment_id": 59466015, "body": "@ProdajemDom, no one will tell you why. Such constants are implementation-defined, and you really need to look into some dark corners of documentation to find them (if you are lucky enough!). There is no &#39;why&#39; here, it is simply the fact of life."}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 3, "creation_date": 1457557794, "post_id": 35902632, "comment_id": 59465656, "body": "@SteveSummit: Maybe, but it is what the OP <i>asked</i>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457558939, "post_id": 35902632, "comment_id": 59466318, "body": "Actually <code>0123</code> is the <i>c-char-sequence</i>. <code>&#39;0123&#39;</code> is a <i>character-constant</i>. (That&#39;s the C terminology; C++ probably uses different terms.) Also, nothing in the standard says that the number of characters in the sequence is limited to <code>sizeof (int)</code>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457564378, "post_id": 35902632, "comment_id": 59469105, "body": "@Keith Thompson What I meant to say was that the number of unique values that can be derived certain does not exceed <code>sizeof(int)</code> characters.  IAC, the details of multi-character constant are loose enough to prevent their general portable use: a legacy of C that lives on the same forlorned street as digraphs and tri-graphs. which is next to the dump of <code>=-</code> and <code>foo(...)</code>."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457564879, "post_id": 35902632, "comment_id": 59469302, "body": "It is impossible to use it in portable code since the value is (explicitly) <i>implementation-defined</i> which is non-portable by definition. Digraphs are not forlorn imho; they are simple and usable. Trigraphs are deprecated and may disappear in some future standard."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457565976, "post_id": 35902632, "comment_id": 59469729, "body": "@rici Hmmm,  If <code>char</code> is unsigned or signed  is <i>implementation-defined</i>, yet <code>char</code> used is wide-spread. I-D by itself does not equate to non-portable.  Perhaps posting a &quot;how to use multi-character constant portably&quot; may elicit an acceptable use?"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457566065, "post_id": 35902632, "comment_id": 59469765, "body": "@chux: For that reason, it is impossible to portably use character values outside of the range 0-127. Only non-negative values which could fit into a signed integer can be used <i>portably</i>. So it&#39;s no different."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457566846, "post_id": 35902632, "comment_id": 59470072, "body": "@rici The same line of thought would encumber <code>double</code> to non-portability, given its underlying range, precision and other characteristics are not uniform.  C succeeds because it brings a high level of portability to divergent platforms both archaic and futuristic - not necessarily absolute portability as using  multi-character constant likely prevents."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457567745, "post_id": 35902632, "comment_id": 59470377, "body": "@chux: The standard imposes reasonable minima for precision and range of <code>double</code>. By contrast, it imposes <i>no restrictions whatsoever</i> on multicharacter character literals. An implementation could choose to just use the first character, for example, and some do."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457587008, "post_id": 35902632, "comment_id": 59475951, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/105861/discussion-between-chux-and-rici\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1457559063, "last_edit_date": 1457559063, "creation_date": 1457557625, "answer_id": 35902632, "question_id": 35902421, "link": "https://stackoverflow.com/questions/35902421/how-to-convert-multi-character-constant-to-integer-in-c/35902632#35902632", "title": "How to convert multi-character constant to integer in C?", "body": "<blockquote>\n  <p>How to convert multi-character constant to integer in C?</p>\n</blockquote>\n\n<p><code>'0123'</code> in an <code>int</code>.</p>\n\n<pre><code>int x = '0123'; \n</code></pre>\n\n<hr>\n\n<p><code>'0123'</code> is a <em>character-constant</em>.  In C, this is one of the forms of a constant and it has the type of <code>int</code>.  It is rarely used as its value is implementation-defined. It's usually the following depending on endianness and character codding (e.g. ASCII):</p>\n\n<pre><code>(('0'*256 + '1')*256 + `2`)*256 + '3' = 858927408 = 0x33323130\n(('3'*256 + '2')*256 + `1`)*256 + '0' = 808530483 = 0x30313233\n</code></pre>\n\n<p>Further:  It is a challenge to write useful portable code with it.  Many coding styles bar it when used with more than 1 character.</p>\n"}, {"comments": [{"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1457557872, "post_id": 35902687, "comment_id": 59465693, "body": "Why go to all that trouble? Why not just use <code>atoi</code>?"}, {"owner": {"reputation": 23, "user_id": 6041694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd5c5c8739b36162519979f1f9aba78?s=128&d=identicon&r=PG&f=1", "display_name": "Prodajem Dom", "link": "https://stackoverflow.com/users/6041694/prodajem-dom"}, "edited": false, "score": 0, "creation_date": 1457557987, "post_id": 35902687, "comment_id": 59465773, "body": "Hi, I am not looking for atoi, I know how this works. Look into task it is &#39;0123&#39;, not &quot;0123&quot;. It is not string, it is multi-character constant."}, {"owner": {"reputation": 1362, "user_id": 220248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/682504ea77f2af226b8d17db4d9c80b6?s=128&d=identicon&r=PG", "display_name": "Zepee", "link": "https://stackoverflow.com/users/220248/zepee"}, "edited": false, "score": 0, "creation_date": 1457558026, "post_id": 35902687, "comment_id": 59465797, "body": "Didn&#39;t know such a thing actually existed, but does sound exactly like what OP wants! EDIT: Apparently not what OP wants"}], "tags": [], "owner": {"reputation": 1362, "user_id": 220248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/682504ea77f2af226b8d17db4d9c80b6?s=128&d=identicon&r=PG", "display_name": "Zepee", "link": "https://stackoverflow.com/users/220248/zepee"}, "is_accepted": false, "score": 0, "last_activity_date": 1457557905, "last_edit_date": 1457557905, "creation_date": 1457557831, "answer_id": 35902687, "question_id": 35902421, "link": "https://stackoverflow.com/questions/35902421/how-to-convert-multi-character-constant-to-integer-in-c/35902687#35902687", "title": "How to convert multi-character constant to integer in C?", "body": "<p>You could try something in the lines of creating a function like this:</p>\n\n<pre><code>int StringLiteralToInt(const char* string, int numbeOfCharacters)\n{\n    int result = 0;\n    for(int ch = 0; ch &lt; numberOfCharacters; ch++)\n    {\n        float powerTen = pow(10, numbeOfCharacters - (ch+1));\n        result += (int)string[ch] * (int)powerTen;\n    }\n    return result;\n}\n</code></pre>\n\n<p>I just wrote that inline, so it might not be 100% right, but it should be the right idea. Just multiply the chars by a power of ten (right most - 10^0, left most - 10^(strinSize-1).</p>\n\n<p>Hope that helps :)</p>\n"}, {"comments": [{"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1457558119, "post_id": 35902726, "comment_id": 59465842, "body": "Well, <a href=\"https://ideone.com/U9urP5\" rel=\"nofollow noreferrer\">this</a> prints 808530483, but I didn&#39;t expected..."}, {"owner": {"reputation": 23, "user_id": 6041694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd5c5c8739b36162519979f1f9aba78?s=128&d=identicon&r=PG&f=1", "display_name": "Prodajem Dom", "link": "https://stackoverflow.com/users/6041694/prodajem-dom"}, "edited": false, "score": 0, "creation_date": 1457558306, "post_id": 35902726, "comment_id": 59465934, "body": "How did you get 30313233? This is what I am interested in."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457558566, "post_id": 35902726, "comment_id": 59466100, "body": "Downvoting for providing answer very similar to the one which Steve himself downvoted! Fair play."}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457558903, "post_id": 35902726, "comment_id": 59466299, "body": "@SergeyA: I was trying to help the OP see how to pick the integer apart, which seemed like what he was trying to do, but he has accepted that other answer, so I guess I was confused.  C&#39;est la vie."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1457563919, "post_id": 35902726, "comment_id": 59468909, "body": "I see useful info here especially the octal part as that was in OP&#39;s post/comment."}], "tags": [], "owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "is_accepted": false, "score": 0, "last_activity_date": 1457564554, "last_edit_date": 1457564554, "creation_date": 1457557977, "answer_id": 35902726, "question_id": 35902421, "link": "https://stackoverflow.com/questions/35902421/how-to-convert-multi-character-constant-to-integer-in-c/35902726#35902726", "title": "How to convert multi-character constant to integer in C?", "body": "<p>Well, you could try this:</p>\n\n<pre><code>int main()\n{ \n    int x = '0123';  \n    printf(\"%x\\n\", x);\n}\n</code></pre>\n\n<p>For me this prints <code>30313233</code>, as I expect.</p>\n\n<p>Here it is broken apart, as it looks like you were trying to do:</p>\n\n<pre><code>    printf(\"%o \", (x &gt;&gt; 24) &amp; 0xff);\n    printf(\"%o \", (x &gt;&gt; 16) &amp; 0xff);\n    printf(\"%o \", (x &gt;&gt; 8) &amp; 0xff);\n    printf(\"%o\\n\", x &amp; 0xff);\n</code></pre>\n\n<p>These printouts show that the multi-character character constant is, in some sense, made up of the characters <code>'0'</code>, <code>'1'</code>, <code>'2'</code>, and <code>'3'</code> all jammed together.  But there is really no sense in which this multi-character character constant has any meaningful relationship to the <em>integer</em> <code>123</code>.  (We could write some code to shift and mask by 8 bits, then subtract <code>'0'</code> to convert from character to digit, then multiply by 10 and add, just like <code>atoi</code>, but it wouldn't really mean anything.)</p>\n"}, {"comments": [{"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1457559432, "post_id": 35902927, "comment_id": 59466604, "body": "Something new to learn every day. Can I ask what are they used for?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1457559547, "post_id": 35902927, "comment_id": 59466675, "body": "@Bob__: Ideally, nothing. But I&#39;ve seen them used as a kind of human-readable unique number (which works only if the values are actually unique)."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457565414, "post_id": 35902927, "comment_id": 59469528, "body": "Apple used to use them extensively (and maybe still do.) But it wasn&#39;t just Apple who used file and data formats with four-byte tags. You&#39;ll find &quot;tagged&quot; formats all over the place: image formats, font formats, video formats.... Using four ascii characters for the four bytes is a simple way of avoiding the need for huge numbers of symbolic constants."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457566102, "post_id": 35902927, "comment_id": 59469781, "body": "@rici To add detail: .png files use 4-char tags - albeit in a very specified order.  Agree about avoiding the symbolic constants."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1457566360, "post_id": 35902927, "comment_id": 59469877, "body": "@chux: .png is an image format, &#191;no? Although GIF and TIFF files (which came much earlier) are also both tagged formats with four-byte tags."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457568906, "post_id": 35902927, "comment_id": 59470784, "body": "@rici: Yes, png is an image format, and PNG files start with <code>{ 0x89, &#39;P&#39;, &#39;N&#39;, &#39;G&#39; }</code>. I don&#39;t think multi-character constants are going to be useful there."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457569042, "post_id": 35902927, "comment_id": 59470834, "body": "@keithThompson. From the PNG format (<a href=\"https://www.w3.org/TR/PNG/#5Chunk-layout\" rel=\"nofollow noreferrer\">w3.org/TR/PNG/#5Chunk-layout</a>): &quot;Chunk Type: A sequence of four bytes defining the chunk type. Each byte of a chunk type is restricted to the decimal values 65 to 90 and 97 to 122. These correspond to the uppercase and lowercase ISO 646 letters (A-Z and a-z) respectively for convenience in description and examination of PNG datastreams. Encoders and decoders shall treat the chunk types as fixed binary values, not character strings...&quot;"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1457569577, "post_id": 35902927, "comment_id": 59471050, "body": "For comparison, see <a href=\"https://en.wikipedia.org/wiki/OSType\" rel=\"nofollow noreferrer\">Wikipedia on Macintosh OSType</a>, from which I quote: &quot;OSType  is the name of a four-byte sequence commonly used as an identifier in Mac OS. While the bytes can have any value, they usually [use characters, condensed to fit in comment]... FourCC is a system of data format identification used in some platform-independent multimedia containers, such as AIFF and RIFF. It inherits may codes from the OSType. A similar system is also used in TrueType font format.&quot; (I was wrong about TIFFs, though. TIFF tags are only two bytes.)"}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 4, "last_activity_date": 1457559341, "last_edit_date": 1457559341, "creation_date": 1457558697, "answer_id": 35902927, "question_id": 35902421, "link": "https://stackoverflow.com/questions/35902421/how-to-convert-multi-character-constant-to-integer-in-c/35902927#35902927", "title": "How to convert multi-character constant to integer in C?", "body": "<p><code>'0123'</code> is a multi-character constant/literal (C calls it a constant, C++ calls it a literal).  In both languages, it is of type <code>int</code> and has an <em>implementation-defined</em> value.</p>\n\n<p>It's <em>probably</em> typical for <code>'0123'</code> to have the value</p>\n\n<pre><code>('0' &lt;&lt; 24) + ('1' &lt;&lt; 16) + ('2' &lt;&lt; 8) + '3'\n</code></pre>\n\n<p>(assuming <code>CHAR_BIT==8</code>, and keeping in mind that the values of <code>'0'</code> et al are themselves implementation-defined).</p>\n\n<p>Because the value is implementation-defined, multi-character constants are rarely useful, and nearly useless in portable code. The standard doesn't even guarantee that <code>'0123'</code> and <code>'1234'</code> have distinct values.</p>\n\n<p>But to answer your question, <code>'0123'</code> is already of type <code>int</code>, so no conversion is necessary. You can store, manipulate, or print that value in any way you like.</p>\n\n<p>For example, on my system this program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(void) {\n    printf(\"0x%x\\n\", (unsigned int)'0123');\n}\n</code></pre>\n\n<p>prints (after a compile-time warning):</p>\n\n<pre><code>0x30313233\n</code></pre>\n\n<p>which is consistent with the formula above -- but the result might differ under another implementation.</p>\n\n<p>The \"implementation-defined\" value means that an implementation is required to document it. gcc's behavior (for version 5.3) is <a href=\"https://gcc.gnu.org/onlinedocs/gcc-5.3.0/cpp/Implementation-defined-behavior.html\" rel=\"nofollow\">documented here</a>:</p>\n\n<blockquote>\n  <p>The preprocessor and compiler interpret character constants in the\n  same way; i.e. escape sequences such as <code>\u2018\\a\u2019</code> are given the values they\n  would have on the target machine.</p>\n  \n  <p>The compiler evaluates a multi-character character constant a\n  character at a time, shifting the previous value left by the number of\n  bits per target character, and then or-ing in the bit-pattern of the\n  new character truncated to the width of a target character. The final\n  bit-pattern is given type <code>int</code>, and is therefore signed, regardless of\n  whether single characters are signed or not (a slight change from\n  versions 3.1 and earlier of GCC). If there are more characters in the\n  constant than would fit in the target int the compiler issues a\n  warning, and the excess leading characters are ignored.</p>\n  \n  <p>For example, <code>'ab'</code> for a target with an 8-bit <code>char</code> would be\n  interpreted as<br>\n  <code>(int) ((unsigned char) 'a' * 256 + (unsigned char)'b')</code>,<br> and\n  <code>'\\234a'</code> as <br><code>(int) ((unsigned char) '\\234' * 256 + (unsigned char) a')</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 6041694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd5c5c8739b36162519979f1f9aba78?s=128&d=identicon&r=PG&f=1", "display_name": "Prodajem Dom", "link": "https://stackoverflow.com/users/6041694/prodajem-dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 1, "accepted_answer_id": 35902632, "answer_count": 4, "score": 1, "last_activity_date": 1457564591, "creation_date": 1457556996, "last_edit_date": 1457564591, "question_id": 35902421, "link": "https://stackoverflow.com/questions/35902421/how-to-convert-multi-character-constant-to-integer-in-c", "title": "How to convert multi-character constant to integer in C?", "body": "<blockquote>\n  <p>How to convert multi-character constant in x to integer? </p>\n</blockquote>\n\n<p>I tried for example <code>'13'</code> as <code>('3' + '1' &lt;&lt; 3)</code>, but it doesn't work properly.\nI don't mean <code>\"0123\"</code>, but <code>'0123'</code>. It compiles, but I don't how did compiler gets the octal result 6014231063 when printing it.  I am not looking for <code>atoi</code> which just converts this to present number. For example <code>int x = '1'</code> would print 49 in decimal number system. Now I am interested what would print <code>int x = '0123'</code>. This task is from programming competition, so the answer shouldn't be unexpected behavior.</p>\n\n<pre><code>int main(void) { \n  int x = '0123';  \n  printf(\"%o\\n\", x);\n  printf(\"%d\\n\", x &gt;&gt; 24);\n  printf(\"%d\\n\", x &lt;&lt; 8 &gt;&gt; 24);\n  printf(\"%d\\n\", x &amp; 0xff);  \n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1457556826, "post_id": 35902356, "comment_id": 59465124, "body": "Are you thinking of <i>templates</i>?"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1457556910, "post_id": 35902356, "comment_id": 59465175, "body": "This wouldn&#39;t compile. Both because <code>X</code> is not a template, and due to a conflicting declaration of <code>X</code>."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6026663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a09ad661da6d213cc6c0a4deba3b52b?s=128&d=identicon&r=PG&f=1", "display_name": "maltkat", "link": "https://stackoverflow.com/users/6026663/maltkat"}, "edited": false, "score": 0, "creation_date": 1457605511, "post_id": 35902403, "comment_id": 59486295, "body": "What bugs me is the &lt;&gt; part of class template... how does writing class for an int, for example 3d vector class, work automatically for float when you write      typedef X&lt;float&gt; And sorry for the format of the question I&#39;m very very new to stackoverflow :("}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 3, "last_activity_date": 1457557323, "last_edit_date": 1457557323, "creation_date": 1457556953, "answer_id": 35902403, "question_id": 35902356, "link": "https://stackoverflow.com/questions/35902356/making-your-classes-work-with-floats-as-well-as-with-integers-analyzing-a-piece/35902403#35902403", "title": "Making your classes work with floats as well as with integers (analyzing a piece of code)", "body": "<p>You have probably missed some related piece of code appearing before <code>class X</code>:</p>\n\n<pre><code>template &lt;typename T&gt; // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\nclass X \n{ \n//content\n}; \n</code></pre>\n\n<blockquote>\n  <p>Can someone points me to something closer to the source of what this is called, </p>\n</blockquote>\n\n<p>That's called a <em>class template</em>.</p>\n\n<blockquote>\n  <p>how does it work </p>\n</blockquote>\n\n<p>The code provided in the class template definition will be instantiated for various types as provided by </p>\n\n<pre><code>typedef X&lt;float&gt; X; \n</code></pre>\n\n<p>or </p>\n\n<pre><code>typedef X&lt;int&gt; Y; \n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6026663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a09ad661da6d213cc6c0a4deba3b52b?s=128&d=identicon&r=PG&f=1", "display_name": "maltkat", "link": "https://stackoverflow.com/users/6026663/maltkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1457557063, "answer_count": 1, "score": -1, "last_activity_date": 1457605870, "creation_date": 1457556770, "last_edit_date": 1457605870, "question_id": 35902356, "link": "https://stackoverflow.com/questions/35902356/making-your-classes-work-with-floats-as-well-as-with-integers-analyzing-a-piece", "closed_reason": "Needs details or clarity", "title": "Making your classes work with floats as well as with integers (analyzing a piece of code)", "body": "<p>I'm analyzing a piece of code and I came across this </p>\n\n<pre><code>class X \n{ \n//content\n}; \n\ntypedef X&lt;float&gt; X; \n</code></pre>\n\n<p>Can someone points me to something closer to the source of what this (using \n<code>&lt;type&gt;</code> to basically make a second class working with second type) is called, how does it work or in what cases we use this so I can continue the search. (In my case it was used as a class defining a 3-dimensional vector.)</p>\n\n<p>this is the entire code:</p>\n\n<pre><code>template&lt;typename T&gt; \nclass Vec3 \n{ \npublic: \n    T x, y, z; \n    Vec3() : x(T(0)), y(T(0)), z(T(0)) {} \n    Vec3(T xx) : x(xx), y(xx), z(xx) {} \n    Vec3(T xx, T yy, T zz) : x(xx), y(yy), z(zz) {} \n    Vec3&amp; normalize() \n    { \n        T nor2 = length2(); \n        if (nor2 &gt; 0) { \n            T invNor = 1 / sqrt(nor2); \n            x *= invNor, y *= invNor, z *= invNor; \n        } \n        return *this; \n    } \n    Vec3&lt;T&gt; operator * (const T &amp;f) const { return Vec3&lt;T&gt;(x * f, y * f, z * f); } \n    Vec3&lt;T&gt; operator * (const Vec3&lt;T&gt; &amp;v) const { return Vec3&lt;T&gt;(x * v.x, y * v.y, z * v.z); } \n    T dot(const Vec3&lt;T&gt; &amp;v) const { return x * v.x + y * v.y + z * v.z; } \n    Vec3&lt;T&gt; operator - (const Vec3&lt;T&gt; &amp;v) const { return Vec3&lt;T&gt;(x - v.x, y - v.y, z - v.z); } \n    Vec3&lt;T&gt; operator + (const Vec3&lt;T&gt; &amp;v) const { return Vec3&lt;T&gt;(x + v.x, y + v.y, z + v.z); } \n    Vec3&lt;T&gt;&amp; operator += (const Vec3&lt;T&gt; &amp;v) { x += v.x, y += v.y, z += v.z; return *this; } \n    Vec3&lt;T&gt;&amp; operator *= (const Vec3&lt;T&gt; &amp;v) { x *= v.x, y *= v.y, z *= v.z; return *this; } \n    Vec3&lt;T&gt; operator - () const { return Vec3&lt;T&gt;(-x, -y, -z); } \n    T length2() const { return x * x + y * y + z * z; } \n    T length() const { return sqrt(length2()); } \n    friend std::ostream &amp; operator &lt;&lt; (std::ostream &amp;os, const Vec3&lt;T&gt; &amp;v) \n    { \n        os &lt;&lt; \"[\" &lt;&lt; v.x &lt;&lt; \" \" &lt;&lt; v.y &lt;&lt; \" \" &lt;&lt; v.z &lt;&lt; \"]\"; \n        return os; \n    } \n}; \n\ntypedef Vec3&lt;float&gt; Vec3f; \n</code></pre>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 4, "creation_date": 1457556414, "post_id": 35902224, "comment_id": 59464882, "body": "<a href=\"http://en.cppreference.com/w/cpp/container/vector/end\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/vector/end</a>"}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 0, "creation_date": 1457556481, "post_id": 35902224, "comment_id": 59464920, "body": "Yes, that&#39;s <i>exactly</i> what <code>std::vector::end</code> does!"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 2, "creation_date": 1457556521, "post_id": 35902224, "comment_id": 59464949, "body": "<a href=\"http://stackoverflow.com/questions/5431941/why-is-while-feof-file-always-wrong\" title=\"why is while feof file always wrong\">stackoverflow.com/questions/5431941/&hellip;</a>"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457557277, "post_id": 35902224, "comment_id": 59465362, "body": "Your question makes it sound like you are using hlyr.end() outside of the upper_bound. You may need to show more code."}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1457558315, "post_id": 35902224, "comment_id": 59465939, "body": "Your use of the C++ standard library is wrong, as explained already. However, I&#39;d like to add an advise: Most standard library implementations have a diagnostic mode which you should use for development. With that mode activated, you will pay a performance penalty but get various checks. Dereferencing past-the-end iterators is one error that gets detected by this diagnostic mode."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1457558204, "post_id": 35902416, "comment_id": 59465884, "body": "I think <code>auto last = std::prev( hylr.end() );</code> is better"}], "tags": [], "owner": {"reputation": 1599, "user_id": 369127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fCbDs.jpg?s=128&g=1", "display_name": "Phil Willoughby", "link": "https://stackoverflow.com/users/369127/phil-willoughby"}, "is_accepted": false, "score": 2, "last_activity_date": 1457556981, "creation_date": 1457556981, "answer_id": 35902416, "question_id": 35902224, "link": "https://stackoverflow.com/questions/35902224/c-vector-end-giving-out-of-the-range-result-please-advise/35902416#35902416", "title": "C++ vector.end() giving out of the range result - Please advise", "body": "<p><code>end()</code> on every STL collection is the iterator past the end of the collection; dereferencing it as you are doing is undefined behaviour.</p>\n\n<p>You can do this to get an iterator to the last element in the vector, if the vector is not empty:</p>\n\n<pre><code>auto last = hylr.end();\n--last;\n</code></pre>\n\n<p>If it is empty, more undefined behaviour!</p>\n\n<p>\"undefined behaviour\" is standards-language for: you don't get to complain if it doesn't do what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4503291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lGtV6.jpg?s=128&g=1", "display_name": "saeedfelegari", "link": "https://stackoverflow.com/users/4503291/saeedfelegari"}, "is_accepted": false, "score": -2, "last_activity_date": 1457557118, "creation_date": 1457557118, "answer_id": 35902463, "question_id": 35902224, "link": "https://stackoverflow.com/questions/35902224/c-vector-end-giving-out-of-the-range-result-please-advise/35902463#35902463", "title": "C++ vector.end() giving out of the range result - Please advise", "body": "<p>hi you can define the variable depondon type that you needed and save the (hlyr.push_back(depth);) in it for example:\n{int x = hlyr.push_back(depth); }</p>\n"}, {"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557999, "creation_date": 1457557999, "answer_id": 35902732, "question_id": 35902224, "link": "https://stackoverflow.com/questions/35902224/c-vector-end-giving-out-of-the-range-result-please-advise/35902732#35902732", "title": "C++ vector.end() giving out of the range result - Please advise", "body": "<p>It is normal with iterators for <code>end</code> to reference an illegal element, this allows it to be used as a way to express \"not in this container\". It also allows you to write:</p>\n\n<pre><code>for (auto it = v.begin(); it != v.end(); it++)\n</code></pre>\n\n<p>if <code>end</code> was valid, you wouldn't be able to do the above.</p>\n\n<p>In the case of a vector, it returns an iterator that references the first element beyond the end of the current vector. With your <code>upper_bound</code> call you simply need to check for <code>end</code> as an indicator that your value is above anything in the vector.</p>\n\n<pre><code>auto loc = std::upper_bound (hlyr.begin(), hlyr.end(), zz);\nif (loc == hlyr.end())\n    // there was nothing &gt; zz in the vector\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5849429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9528c740dd16a789dc5d9e08a7bef1?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/5849429/mohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1457557999, "creation_date": 1457556331, "last_edit_date": 1457557528, "question_id": 35902224, "link": "https://stackoverflow.com/questions/35902224/c-vector-end-giving-out-of-the-range-result-please-advise", "title": "C++ vector.end() giving out of the range result - Please advise", "body": "<p>In part of my code, I am using <code>push_back</code> to form a vector from a txt file:</p>\n\n<pre><code>while (!layerf.eof()) {             \n    for (int i=0; i&lt;kl.nlyr+1; i++) {\n        std::getline(layerf,line);\n        depth = atof(line.c_str()) - kl.depth;\n        hlyr.push_back(depth);\n    }\n}\n</code></pre>\n\n<p>Let say I input {1,2,3,4}.</p>\n\n<p>later, I need to find a value given as zz lies between which two element of the above vector hlyr, using the following part:</p>\n\n<pre><code>std::vector&lt;double&gt;::iterator loc;\n\nloc = std::upper_bound (hlyr.begin(), hlyr.end(), zz);\n</code></pre>\n\n<p>Now the problem is hlyr.end is giving me nonsense value, 2 e-98, which is like it has not been intialized! My vector size is fine, even when I look at the vector in \"watch' window in visual studio everything is right, but vector end is something nonsense.</p>\n\n<p>If I resize the above vector to 4 nothing changes. But if I resize to 3, it will delete the last cell from the vector, and then the <code>vector.end()</code> will show 4! It seems <code>vector.end</code> is pointing to one cell after <code>vector.size</code>!</p>\n\n<p>Is there an easy fix? I want to use it with the find algorithm I have.</p>\n"}, {"tags": ["python", "c++", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 9293, "user_id": 63621, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1698e0dceda985e2b71b15b5567dd795?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/63621/henrik"}, "edited": false, "score": 1, "creation_date": 1457559257, "post_id": 35902430, "comment_id": 59466504, "body": "Unfortunately this gives the same error. Turning <code>cnt</code> into None avoids the crash but removes the semantics."}, {"owner": {"reputation": 171, "user_id": 8462345, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6vLxu.jpg?s=128&g=1", "display_name": "El_1988", "link": "https://stackoverflow.com/users/8462345/el-1988"}, "edited": false, "score": 0, "creation_date": 1567523107, "post_id": 35902430, "comment_id": 101983928, "body": "Hi I got the above error, when removed brackets from cnts, I now get : &lt;built-in function drawContours&gt; returned NULL without setting an error , do you have any idea how to solve this?"}], "tags": [], "owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "is_accepted": false, "score": 20, "last_activity_date": 1457559839, "last_edit_date": 1457559839, "creation_date": 1457557024, "answer_id": 35902430, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/35902430#35902430", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>I think you are adding extra <code>[]</code> around <code>cnt</code>\nit should be </p>\n\n<pre><code>cv2.drawContours(mask, cnt, 0, (0, 255, 0), -1)\n</code></pre>\n\n<p>as <code>cnt</code> is already array of array but <code>[cnt]</code> is array of array of arrays which won't work </p>\n\n<hr>\n\n<p><strong>Update to the above code</strong></p>\n\n<p>you should convert your contour to numpy array first</p>\n\n<pre><code>ctr = numpy.array(cnt).reshape((-1,1,2)).astype(numpy.int32)\ncv2.drawContours(mask, [ctr], 0, (0, 255, 0), -1)\n</code></pre>\n\n<p>check documentation <a href=\"http://docs.opencv.org/3.1.0/d4/d73/tutorial_py_contours_begin.html#gsc.tab=0\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>contours is a Python list of all the contours in the image. Each\n  individual contour is a Numpy array of (x,y) coordinates of boundary\n  points of the object.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 1, "creation_date": 1556210013, "post_id": 48430397, "comment_id": 98369392, "body": "This is true! But why? Anyone more experienced with numpy who can explain this?"}, {"owner": {"reputation": 187, "user_id": 7361270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9bbdc731cdc2755da2c2d8aa00eee7?s=128&d=identicon&r=PG&f=1", "display_name": "makeworld", "link": "https://stackoverflow.com/users/7361270/makeworld"}, "edited": false, "score": 0, "creation_date": 1585680140, "post_id": 48430397, "comment_id": 107846037, "body": "<code>uint64</code> and <code>int32</code> also works. The latter will take up the least space, compared to the above choice of <code>int</code> as well."}], "tags": [], "owner": {"reputation": 327, "user_id": 331732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe79712bc08fbbed0bce024e78c430c6?s=128&d=identicon&r=PG", "display_name": "Antonvh", "link": "https://stackoverflow.com/users/331732/antonvh"}, "is_accepted": false, "score": 15, "last_activity_date": 1516822789, "creation_date": 1516822789, "answer_id": 48430397, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/48430397#48430397", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>For me this worked. But I'm not sure why.</p>\n\n<p><code>cv2.drawContours(mask, [cnt.astype(int)], 0, (0, 255, 0), -1)</code></p>\n\n<p>When you get an array of rounded floats from findContours, drawContours doesn't complain. But when I construct a similar (4,2) array of floats myself, it complains.</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 7130613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J5uCcRHBIjY/AAAAAAAAAAI/AAAAAAAADuw/ZAgu9P-_pLo/photo.jpg?sz=128", "display_name": "Par bas", "link": "https://stackoverflow.com/users/7130613/par-bas"}, "is_accepted": false, "score": 0, "last_activity_date": 1537279583, "creation_date": 1537279583, "answer_id": 52388429, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/52388429#52388429", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>If you just use this, it will work...</p>\n\n<pre><code>ctr = np.array(cnt).reshape((-1,1,2)).astype(np.int32)\ncv2.drawContours(mask, [ctr], -1, 255, -1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 3764156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71d858c485ea4666d05977bebd90fad?s=128&d=identicon&r=PG&f=1", "display_name": "Midhun Darvin", "link": "https://stackoverflow.com/users/3764156/midhun-darvin"}, "edited": false, "score": 1, "creation_date": 1602683265, "post_id": 54851613, "comment_id": 113798155, "body": "In version 4.4.0 of cv2, the first parameter is the contours. The cv2.findContours and cv2.normalize break backwards compatibility with OpenCV 2.4.X."}, {"owner": {"reputation": 294, "user_id": 9920617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwkVG.jpg?s=128&g=1", "display_name": "ASLAN", "link": "https://stackoverflow.com/users/9920617/aslan"}, "edited": false, "score": 0, "creation_date": 1608634910, "post_id": 54851613, "comment_id": 115637610, "body": "Thanks, dude !!!"}], "tags": [], "owner": {"reputation": 101, "user_id": 7446770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4aWB.jpg?s=128&g=1", "display_name": "Prateek Gupta", "link": "https://stackoverflow.com/users/7446770/prateek-gupta"}, "is_accepted": false, "score": 5, "last_activity_date": 1551009549, "last_edit_date": 1551009549, "creation_date": 1551009180, "answer_id": 54851613, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/54851613#54851613", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>You might have commited mistake while finding the contours. Contour is the second value returned by <code>findContours()</code> function as the <a href=\"https://docs.opencv.org/3.4.2/d4/d73/tutorial_py_contours_begin.html\" rel=\"noreferrer\">docs</a> say</p>\n\n<pre><code>im2, contours, hierarchy = cv.findContours(thresh, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)\n</code></pre>\n\n<p>So the following code will not work</p>\n\n<pre><code>cnt = cv2.findContours(thresh, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n</code></pre>\n\n<p>This might solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12360311, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCZeolkREOwExL0o8Hx2lV9b4Nc3G2-xcnuB3g_Zg=k-s128", "display_name": "Mondara Thotage", "link": "https://stackoverflow.com/users/12360311/mondara-thotage"}, "is_accepted": false, "score": -1, "last_activity_date": 1573557261, "last_edit_date": 1573557261, "creation_date": 1573553824, "answer_id": 58816495, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/58816495#58816495", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>its hierarchy, contours so:</p>\n\n<p><code>contours, hierarchy = cv.findContours(thresh, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)</code></p>\n"}], "owner": {"reputation": 9293, "user_id": 63621, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1698e0dceda985e2b71b15b5567dd795?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/63621/henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29296, "favorite_count": 4, "answer_count": 5, "score": 11, "last_activity_date": 1573557261, "creation_date": 1457556073, "last_edit_date": 1457559165, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>I'm trying to create a mask from a contour, but am getting a C++ error.</p>\n\n<p>Using OS X Yosemite, Python 2.7.10, OpenCV 3.1.0.</p>\n\n<pre><code>def create_mask(img, cnt):\n    '''Create a mask of the same size as the image\n       based on the interior of the contour.'''\n    mask = np.zeros((img.shape[0], img.shape[1]), np.uint8)\n    print(\"create_mask, cnt=%s\" % cnt)\n    cv2.drawContours(mask, [cnt], 0, (0, 255, 0), -1)\n    return mask\n\nprint(\"Creating mask from contour %s, on raw shape %s\" % (page_contour, raw.shape))\npage_mask = create_mask(raw, page_contour)\n</code></pre>\n\n<p>Output (see bottom for error):</p>\n\n<pre><code>Creating mask from contour [[ 1626.   360.]\n [ 1776.  3108.]\n [  126.  3048.]\n [  330.   486.]], on raw shape (3840, 2160, 3)\ncreate_mask, cnt=[[ 1626.   360.]\n [ 1776.  3108.]\n [  126.  3048.]\n [  330.   486.]]\nOpenCV Error: Assertion failed (npoints &gt; 0) in drawContours, file /tmp/opencv320160309-92782-1efch74/opencv-3.1.0/modules/imgproc/src/drawing.cpp, line 2380\nTraceback (most recent call last):\n  File \"./books.py\", line 209, in &lt;module&gt;\n    page_mask = create_mask(raw, page_contour)\n  File \"./books.py\", line 123, in create_mask\n    cv2.drawContours(mask, [cnt], 0, (0, 255, 0), -1)\ncv2.error: /tmp/opencv320160309-92782-1efch74/opencv-3.1.0/modules/imgproc/src/drawing.cpp:2380: error: (-215) npoints &gt; 0 in function drawContours\n</code></pre>\n\n<p>The <a href=\"http://docs.opencv.org/3.1.0/d6/d6e/group__imgproc__draw.html#ga746c0625f1781f1ffc9056259103edbc&amp;gsc.tab=0\" rel=\"noreferrer\">docs</a> say it should get an array of arrays and this is seemingly what I'm giving it. So what's wrong?</p>\n\n<p>Code is ported from OpenCV 2.x.</p>\n"}, {"tags": ["c++", "visual-studio"], "answers": [{"comments": [{"owner": {"reputation": 993, "user_id": 1079347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWTfN.png?s=128&g=1", "display_name": "gast128", "link": "https://stackoverflow.com/users/1079347/gast128"}, "edited": false, "score": 0, "creation_date": 1457557458, "post_id": 35902220, "comment_id": 59465463, "body": "He probably meant to copy the string, e.g. strncpy(desc, &quot;Try&quot; 4);"}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 3, "last_activity_date": 1457557303, "last_edit_date": 1457557303, "creation_date": 1457556312, "answer_id": 35902220, "question_id": 35902099, "link": "https://stackoverflow.com/questions/35902099/i-have-get-error-heap-error-using-constructor-use-memory-dinamic-char-t-new/35902220#35902220", "title": "i have get error heap error using constructor ( use memory dinamic char *t = new char [10] t =&quot;test123456&quot;;) and in distructor delete [] t; error", "body": "<p>It fails because you do not understand basics of C++. </p>\n\n<pre><code>desc = new char[4]; desc = \"Try\";\n</code></pre>\n\n<p>This line of code first allocates memory for 4 characters, returns the pointer to allocated memory and stores it in <code>desc</code>. However, the next moment you completely lose this pointer, and now assign \"Try\" (a string literal) to <code>desc</code>. Now your <code>desc</code> points to \"Try\".</p>\n\n<p>Here</p>\n\n<pre><code>Test::~Test() {delete [] desc; }\n</code></pre>\n\n<p>you delete the pointer, which points to \"Try\" - as if you would do <code>delete \"Try\"</code>. But you can't delete a string literal, you did not create a it.</p>\n\n<p>Hence the crash.</p>\n"}], "owner": {"reputation": 3, "user_id": 3752290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9095e5c15e0bd0d00661f18583ba497?s=128&d=identicon&r=PG&f=1", "display_name": "user3752290", "link": "https://stackoverflow.com/users/3752290/user3752290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1457557303, "creation_date": 1457555967, "last_edit_date": 1457556338, "question_id": 35902099, "link": "https://stackoverflow.com/questions/35902099/i-have-get-error-heap-error-using-constructor-use-memory-dinamic-char-t-new", "title": "i have get error heap error using constructor ( use memory dinamic char *t = new char [10] t =&quot;test123456&quot;;) and in distructor delete [] t; error", "body": "<p>error heap memory, memory corruption, #181 just don't understand it. Some time try use copy ctor and it the same error. Can You explain me</p>\n\n<pre><code>Test::Test() {\n    desc = new char[4];`\n    desc = \"Try\";\n} \n\nTest::~Test() {delete [] desc; }\n</code></pre>\n"}, {"tags": ["c++", "opencv", "opencv3.1"], "comments": [{"owner": {"reputation": 6356, "user_id": 464273, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fc922f60e1a6c34502f4d4639a3b5fce?s=128&d=identicon&r=PG", "display_name": "JohnAllen", "link": "https://stackoverflow.com/users/464273/johnallen"}, "edited": false, "score": 0, "creation_date": 1458107408, "post_id": 35901993, "comment_id": 59705702, "body": "I can&#39;t solve your problem but can tell you that I&#39;ve used larger negatives and did not get that error, using 3.1, so I doubt that&#39;s your problem.  This sounds like a C problem.  Having said that, nearly everyone uses way more positives and negatives.  Have you tried using more?"}, {"owner": {"reputation": 6356, "user_id": 464273, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fc922f60e1a6c34502f4d4639a3b5fce?s=128&d=identicon&r=PG", "display_name": "JohnAllen", "link": "https://stackoverflow.com/users/464273/johnallen"}, "edited": false, "score": 0, "creation_date": 1458107432, "post_id": 35901993, "comment_id": 59705714, "body": "You say you can generate the xml file, meaning the casdade.xml file?"}, {"owner": {"reputation": 697, "user_id": 3937035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d98151fc065cba45f4b0523974d5c745?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/3937035/john-smith"}, "reply_to_user": {"reputation": 6356, "user_id": 464273, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fc922f60e1a6c34502f4d4639a3b5fce?s=128&d=identicon&r=PG", "display_name": "JohnAllen", "link": "https://stackoverflow.com/users/464273/johnallen"}, "edited": false, "score": 0, "creation_date": 1458125230, "post_id": 35901993, "comment_id": 59716021, "body": "I can generate the xml file when I resize my negatives to a lower resolution. When I try to use the xml file generated the program is running continuously in detectMultiScale function."}, {"owner": {"reputation": 697, "user_id": 3937035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d98151fc065cba45f4b0523974d5c745?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/3937035/john-smith"}, "reply_to_user": {"reputation": 6356, "user_id": 464273, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fc922f60e1a6c34502f4d4639a3b5fce?s=128&d=identicon&r=PG", "display_name": "JohnAllen", "link": "https://stackoverflow.com/users/464273/johnallen"}, "edited": false, "score": 0, "creation_date": 1458125327, "post_id": 35901993, "comment_id": 59716100, "body": "positives should all have the same resolution ?"}], "owner": {"reputation": 697, "user_id": 3937035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d98151fc065cba45f4b0523974d5c745?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/3937035/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508357969, "creation_date": 1457555636, "question_id": 35901993, "link": "https://stackoverflow.com/questions/35901993/opencv-train-cascade-error", "title": "Opencv Train Cascade error", "body": "<p>I am trying to train a haar cascade using opencv_traincascade executable in opencv 3.1.0.</p>\n\n<p>For the moment I want to do this using only one positive even though the result is inconsistent, in order to be sure that I am passing the right parameters to opencv_createsamples and opencv_traincascade.</p>\n\n<p>bg.txt content:</p>\n\n<pre><code>negatives/img_04436_c1.pgm\nnegatives/img_04437_c1.pgm\n</code></pre>\n\n<p><strong>Negatives resolution: width: 1176 height: 640</strong></p>\n\n<p><strong>Positives resolution: width: 40 height: 70</strong> </p>\n\n<p>I am using the following command parameters:</p>\n\n<p>For <strong>opencv_createsamples</strong>: </p>\n\n<pre><code>./opencv_createsamples -img img_04569_c1.pgm -vec samples -bg bg.txt -maxxangle 0.1 -maxyangle 0.1 -maxzangle 0.1 -w 40 -h 70 -num 30\n\nInfo file name: (NULL)\nImg file name: img_04569_c1.pgm\nVec file name: samples.vec\nBG  file name: bg.txt\nNum: 30\nBG color: 0\nBG threshold: 80\nInvert: FALSE\nMax intensity deviation: 40\nMax x angle: 0.1\nMax y angle: 0.1\nMax z angle: 0.1\nShow samples: FALSE\nWidth: 40\nHeight: 70\nCreate training samples from single image applying distortions...\nOpen background image: negatives/img_04436_c1.pgm\nDone  \n</code></pre>\n\n<p>For <strong>opencv_traincascade</strong>:</p>\n\n<pre><code>./opencv_traincascade -data cascade -vec samples -bg bg.txt -w 40 -h 70 -numPos 30 -numStages 1 -numNeg 2\n\n\n\n  PARAMETERS:\ncascadeDirName: cascade\nvecFileName: samples.vec\nbgFileName: bg.txt\nnumPos: 30\nnumNeg: 2\nnumStages: 2\nprecalcValBufSize[Mb] : 1024\nprecalcIdxBufSize[Mb] : 1024\nacceptanceRatioBreakValue : -1\nstageType: BOOST\nfeatureType: HAAR\nsampleWidth: 40\nsampleHeight: 70\nboostType: GAB\nminHitRate: 0.995\nmaxFalseAlarmRate: 0.5\nweightTrimRate: 0.95\nmaxDepth: 1\nmaxWeakCount: 100\nmode: BASIC\n\n===== TRAINING 0-stage =====\n&lt;BEGIN\nPOS count : consumed   28 : 28\n*** Error in `./opencv_traincascade': double free or corruption (out): 0x00000000016749b0 ***\nAborted (core dumped)\n</code></pre>\n\n<p>My problem is the following:</p>\n\n<p>I am able to create the sample.vec file.</p>\n\n<p>When I run opencv_traincascade I get the following error:</p>\n\n<pre><code>*** Error in `./opencv_traincascade': double free or corruption (out): 0x0000000001e0e9b0 ***\n</code></pre>\n\n<p>Sometimes I also get a Segmentation Fault error.</p>\n\n<p>I <strong>tried</strong> to <strong>resize</strong> the negatives to a <strong>lower resolution</strong> and <strong>I am able</strong> to generate the xml file but when I am trying to use it nothing happens. (the classifier is stucked and runs continuously without returning any rectangles)</p>\n\n<p>I want to use my original negatives size.</p>\n\n<p>Can anybody help me to solve this problem ? </p>\n\n<p>If more details are required please leave a comment and I will update my question.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 8, "creation_date": 1457556523, "post_id": 35901991, "comment_id": 59464950, "body": "Return the book. You don&#39;t really need a book for Qt, there is plenty of resources available on the internet for free. Qt 3 was released 15 years ago, it is a shame to still sell book for it. Qt 3 and Qt 5 are very very different. Porting 4 to 5 maybe, but 3 to 5 is just too much of a gap. Just start off with 5."}, {"owner": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 0, "creation_date": 1457598048, "post_id": 35901991, "comment_id": 59481110, "body": "If your <code>C++</code> knowledge is decent, you should be able to pick up <code>Qt</code> pretty quick by just looking at the docs and examples."}], "answers": [{"comments": [{"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "edited": false, "score": 0, "creation_date": 1457603191, "post_id": 35902449, "comment_id": 59484507, "body": "Thank you,  have returned the book and will be ordering another on Qt5 (<a href=\"https://rads.stackoverflow.com/amzn/click/com/1784394610\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/Qt5-Blueprints-Symeon-Huang/dp/1784394610</a>)"}], "tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 0, "last_activity_date": 1457557068, "creation_date": 1457557068, "answer_id": 35902449, "question_id": 35901991, "link": "https://stackoverflow.com/questions/35901991/qt-5-5-development-qt-3-replacements/35902449#35902449", "title": "Qt 5.5 development, Qt 3 replacements?", "body": "<p>You don't set a main widget in Qt 4/5. You simply:</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n    QApplication a(argc, argv);\n    Widget w;\n    w.show();\n    return a.exec();\n}\n</code></pre>\n"}], "owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 35902449, "answer_count": 1, "score": 0, "last_activity_date": 1457557068, "creation_date": 1457555630, "question_id": 35901991, "link": "https://stackoverflow.com/questions/35901991/qt-5-5-development-qt-3-replacements", "title": "Qt 5.5 development, Qt 3 replacements?", "body": "<p>I am working with Qt 5.5 and recently received a book from Amazon \"Programming with Qt\", I didn't realise at the time I ordered the book that it covers the older Qt 3.</p>\n\n<p>Is there a guide on porting Qt 3 to Qt 5.5 for example:</p>\n\n<pre><code>    QApplication app(argc, argv);\n    app.setMainWidget()\n</code></pre>\n\n<p>What has setMainWidget been replaced with?</p>\n"}, {"tags": ["c++", "linux", "boost"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457556403, "post_id": 35901958, "comment_id": 59464875, "body": "Is it possible arm-enabled gcc is in your path? bjam will take whatever it finds."}, {"owner": {"reputation": 4680, "user_id": 1687321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eca95633fe8133df17abebc47dd4b3cb?s=128&d=identicon&r=PG", "display_name": "Janito Vaqueiro Ferreira Filho", "link": "https://stackoverflow.com/users/1687321/janito-vaqueiro-ferreira-filho"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457556885, "post_id": 35901958, "comment_id": 59465162, "body": "I do have ARM enabled gcc 4.7 and 4.8 on my path, but they&#39;re both prefixed with &quot;arm-linux-gnueabi-&quot;. Typing <code>which g++</code> leads to /usr/bin/g++, which is a symlink to /etc/alternatives/g++, which is itself a symlink to /usr/bin/g++-5, which is the x86-64 compiler I expected the build system to use :-("}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457557419, "post_id": 35901958, "comment_id": 59465434, "body": "bjam is a terrible thing. I believe, it finds your compiler by some arcane logic. You might need to create your own toolset in bjam configuration file and than specify this toolset as an argument."}, {"owner": {"reputation": 4680, "user_id": 1687321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eca95633fe8133df17abebc47dd4b3cb?s=128&d=identicon&r=PG", "display_name": "Janito Vaqueiro Ferreira Filho", "link": "https://stackoverflow.com/users/1687321/janito-vaqueiro-ferreira-filho"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457557893, "post_id": 35901958, "comment_id": 59465712, "body": "I found the problem. My fault :-( But I agree with you, bjam is terrible. I had to use your idea about the the arm-enabled gcc being in my path to finally force it to spit out a useful error. I tried to see if there were --verbose flags, could have been useful here. Actually, just double-checked, and there is a --debug-configuration that could have pointed the problem out. Anyway, thank you very much for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 4680, "user_id": 1687321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eca95633fe8133df17abebc47dd4b3cb?s=128&d=identicon&r=PG", "display_name": "Janito Vaqueiro Ferreira Filho", "link": "https://stackoverflow.com/users/1687321/janito-vaqueiro-ferreira-filho"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557565, "creation_date": 1457557565, "answer_id": 35902614, "question_id": 35901958, "link": "https://stackoverflow.com/questions/35901958/why-is-arm-linux-gnueabi-g-used-when-compiling-boost/35902614#35902614", "title": "Why is &quot;arm-linux-gnueabi-g++&quot; used when compiling Boost?", "body": "<p>Found the problem: there was a user-config.jam in my home directory (probably stored temporarily during cross-compile tests). I only found out because removing all <code>arm-linux-gnueabi-*</code> files from <code>/usr/bin/</code> led to the following error:</p>\n\n<pre><code>/home/janito/boost/tools/build/src/tools/gcc.jam:83: in gcc.init from module gcc                             \nerror: toolset gcc initialization:\nerror: provided command 'arm-linux-gnueabi-g++' not found\nerror: initialized from /home/janito/user-config.jam:45\n/home/janito/boost/tools/build/src/build/toolset.jam:43: in toolset.using from module toolset\n/home/janito/boost/tools/build/src/build/project.jam:1052: in using from module project-rules                          \n/home/janito/user-config.jam:45: in modules.load from module user-config\n/home/janito/boost/tools/build/src/build-system.jam:249: in load-config from module build-system\n/home/janito/boost/tools/build/src/build-system.jam:389: in load-configuration-files from module build-system\n/home/janito/boost/tools/build/src/build-system.jam:524: in load from module build-system\n/home/janito/boost/tools/build/src/kernel/modules.jam:295: in import from module modules\n/home/janito/boost/tools/build/src/kernel/bootstrap.jam:139: in boost-build from module\n/home/janito/boost/boost-build.jam:17: in module scope from module\n</code></pre>\n\n<p>At least the solution was simply to remove the ~/user-config.jam file.</p>\n\n<p>Posting it as an answer so that it can be useful in the future if someone runs into the same situation.</p>\n"}], "owner": {"reputation": 4680, "user_id": 1687321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eca95633fe8133df17abebc47dd4b3cb?s=128&d=identicon&r=PG", "display_name": "Janito Vaqueiro Ferreira Filho", "link": "https://stackoverflow.com/users/1687321/janito-vaqueiro-ferreira-filho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457557565, "creation_date": 1457555512, "question_id": 35901958, "link": "https://stackoverflow.com/questions/35901958/why-is-arm-linux-gnueabi-g-used-when-compiling-boost", "title": "Why is &quot;arm-linux-gnueabi-g++&quot; used when compiling Boost?", "body": "<p>I'm attempting to manually compile Boost on Ubuntu Linux 12.04. However, it seems to be attempting to cross-compile, even though I haven't told it to.</p>\n\n<p>These are the commands I used:</p>\n\n<pre><code>git clone https://github.com/boostorg/boost\ngit checkout boost-1.60.0\ngit submodule init\ngit submodule update\n\ncd tools/build/\n./bootstrap.sh\nsudo ./b2 install --prefix=/usr/local/\n\ncd ../../\nsudo b2 -j12 --build-dir=/tmp/build_boost --build-type=complete toolset=gcc address-model=64 architecture=x86 threading=multi runtime-link=shared stage --layout=tagged\n</code></pre>\n\n<p>The last command fails, giving various compilation errors, all similar to the first one shown below:</p>\n\n<pre><code>gcc.compile.c++ /tmp/build_boost/boost/bin.v2/libs/system/build/gcc-arm/release/address-model-64/architecture-x86/threading-multi/error_code.\narm-linux-gnueabi-g++: error: unrecognized command line option \u2018-m64\u2019\n\n    \"arm-linux-gnueabi-g++\"  -ftemplate-depth-128 -O3 -finline-functions -Wno-inline -Wall -pedantic -pthread -fPIC -m64  -DBOOST_ALL_NO_LIB=1 -DBOOST_SYSTEM_DYN_LINK=1 -DNDEBUG  -I\".\" -c -o \"/tmp/build_boost/boost/bin.v2/libs/system/build/gcc-arm/release/address-model-64/architecture-x86/threading-multi/error_code.o\" \"libs/system/src/error_code.cpp\"\n\n...failed gcc.compile.c++ /tmp/build_boost/boost/bin.v2/libs/system/build/gcc-arm/release/address-model-64/architecture-x86/threading-multi/error_code.o...\n</code></pre>\n\n<p>How do I make sure it uses the native g++ (for x86-64)?</p>\n"}, {"tags": ["c++", "class", "vector", "queue"], "comments": [{"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "reply_to_user": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1457555691, "post_id": 35901911, "comment_id": 59464465, "body": "Not what I meant. The user inputs p4 and I have to check if there are 4 queues, but the problem is that the user is not inputting an integer, but a string."}, {"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1457555794, "post_id": 35901911, "comment_id": 59464537, "body": "Then you&#39;ll have to remove the &#39;p&#39; and convert it to an int. But why? Why not just have the user input an integer? You might be suffering from the <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">xy problem</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457555810, "post_id": 35901911, "comment_id": 59464548, "body": "Use a map instead of a vector? Parse the string into an integer?"}, {"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "edited": false, "score": 0, "creation_date": 1457555835, "post_id": 35901911, "comment_id": 59464562, "body": "It&#39;s stated in the project assignment."}, {"owner": {"reputation": 344, "user_id": 6010517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b431844c8da076fa382a78b2d9c93b6f?s=128&d=identicon&r=PG&f=1", "display_name": "ppsz", "link": "https://stackoverflow.com/users/6010517/ppsz"}, "edited": false, "score": 0, "creation_date": 1457555904, "post_id": 35901911, "comment_id": 59464595, "body": "You want to access the <code>p[3]</code> when user inputs <code>p4</code>? You can use either <code>std::map</code> or create a function that will take number from user input."}, {"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "edited": false, "score": 0, "creation_date": 1457557655, "post_id": 35901911, "comment_id": 59465572, "body": "The user inputs &quot;p1&quot; as a string and it has to be &quot;p1&quot;. How would i separate &quot;p1&quot; into &#39;p&#39; and the int 1."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5335177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad25e6b2510d6f6aade76d9a2e8f5a8?s=128&d=identicon&r=PG", "display_name": "G. Johal", "link": "https://stackoverflow.com/users/5335177/g-johal"}, "is_accepted": false, "score": -1, "last_activity_date": 1457556504, "creation_date": 1457556504, "answer_id": 35902265, "question_id": 35901911, "link": "https://stackoverflow.com/questions/35901911/c-checking-if-a-user-input-is-the-same-as-the-name-of-a-queue/35902265#35902265", "title": "C++ Checking if a user input is the same as the name of a queue", "body": "<pre><code>string x;\nint y;\ncin &gt;&gt; x;\ny = x[1];\nif(y == p.size())\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1457556504, "creation_date": 1457555329, "last_edit_date": 1457555499, "question_id": 35901911, "link": "https://stackoverflow.com/questions/35901911/c-checking-if-a-user-input-is-the-same-as-the-name-of-a-queue", "title": "C++ Checking if a user input is the same as the name of a queue", "body": "<p>I have a vector of queues named <code>p</code> and the number of queues is input by the user. </p>\n\n<pre><code>vector&lt;queue&lt;datatype&gt;&gt; p;\n</code></pre>\n\n<p>Let's say the user wants to check the inputs of <code>p4</code>, but forgot he only entered 3 queues. How would I check it? </p>\n"}, {"tags": ["python", "c++", "wrapper"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457555669, "post_id": 35901908, "comment_id": 59464453, "body": "Start here: <a href=\"http://cython.org/\" rel=\"nofollow noreferrer\">cython.org</a>"}, {"owner": {"reputation": 1905, "user_id": 2950135, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HuZ2P.jpg?s=128&g=1", "display_name": "Charles Pehlivanian", "link": "https://stackoverflow.com/users/2950135/charles-pehlivanian"}, "edited": false, "score": 0, "creation_date": 1457556508, "post_id": 35901908, "comment_id": 59464943, "body": "<a href=\"http://www.swig.org/Doc1.3/SWIG.html\" rel=\"nofollow noreferrer\">swig</a> is designed to generate these wrappers."}], "answers": [{"tags": [], "owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "is_accepted": true, "score": 1, "last_activity_date": 1457558109, "creation_date": 1457558109, "answer_id": 35902761, "question_id": 35901908, "link": "https://stackoverflow.com/questions/35901908/confusion-wrapping-c-library-to-python/35902761#35902761", "title": "Confusion wrapping c++ library to python", "body": "<p>Concerning your confusion about the process, just follow any tutorial for any of the wrapper libs you found or where suggested in the comments.</p>\n\n<blockquote>\n  <p>If I want to make this manager usable in python, do I need to wrap it in a different way for each version of python? (2.7 vs 3.4)</p>\n</blockquote>\n\n<p>Yes. You might be able to load binary modules compiled for Python 3.4 into Python 3.5, but it's unlikely to work across major versions.</p>\n\n<blockquote>\n  <p>Do I also need to wrap it in a different way for each operating system for each version?</p>\n</blockquote>\n\n<p>Yes. Just as you need to compile your C++ code for different operating systems (and possibly versions) and CPU architectures, Python modules are not different. However, the \"wrap it in a different way\" just means \"compile for the target environment\".</p>\n"}], "owner": {"reputation": 658, "user_id": 5244410, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/c2e125721f74672d38c5dcd66aaf5bb4?s=128&d=identicon&r=PG&f=1", "display_name": "wprins", "link": "https://stackoverflow.com/users/5244410/wprins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 35902761, "answer_count": 1, "score": 0, "last_activity_date": 1457558109, "creation_date": 1457555325, "question_id": 35901908, "link": "https://stackoverflow.com/questions/35901908/confusion-wrapping-c-library-to-python", "title": "Confusion wrapping c++ library to python", "body": "<p>I have a .cpp and .h source file pair which is a manager (I guess a wrapper also) for a c++ library I have made. I want to let people use this manager to work with my library in python. I have heard about several different ways to wrap this library into python like <code>cython</code> and <code>boost.python</code> but Im having trouble with understanding the process.</p>\n\n<p>If I want to make this manager usable in python, do I need to wrap it in a different way for each version of python? (2.7 vs 3.4) Do I also need to wrap it in a different way for each operating system for each version? So 2.7/3.4 for Windows vs 2.7/3.4 for Linux?</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 1449, "user_id": 5361456, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b6a9a3c7b529ca94380acfeac705aee?s=128&d=identicon&r=PG&f=1", "display_name": "Archie Gertsman", "link": "https://stackoverflow.com/users/5361456/archie-gertsman"}, "edited": false, "score": 0, "creation_date": 1457640741, "post_id": 35901905, "comment_id": 59510996, "body": "Perhaps you have forgotten to include something?"}], "answers": [{"tags": [], "owner": {"reputation": 7193, "user_id": 1938798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/196507edbb408bad2f2a08e33222bac7?s=128&d=identicon&r=PG", "display_name": "Craig Scott", "link": "https://stackoverflow.com/users/1938798/craig-scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1457556810, "creation_date": 1457556810, "answer_id": 35902369, "question_id": 35901905, "link": "https://stackoverflow.com/questions/35901905/qt-5-5-setlayout-by-return-value/35902369#35902369", "title": "QT 5.5 setLayout() by return value", "body": "<p>Looks more like a problem with your link command. Can you update your question with your build tool's output for the link command? It would seem that you are missing the object file for the .cpp file that provides the implementation of your <code>LayoutManager</code> class.</p>\n"}, {"comments": [{"owner": {"reputation": 1828, "user_id": 134793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851fc6f3a5bf348ee6067d57ac8a6824?s=128&d=identicon&r=PG", "display_name": "Fox", "link": "https://stackoverflow.com/users/134793/fox"}, "edited": false, "score": 1, "creation_date": 1457669421, "post_id": 35928904, "comment_id": 59521469, "body": "that&#39;s a sign that the earlier modification of the .pro file wasn&#39;t being detected... My guess is that you had a .pro file with only the main.cpp,  created a new layoutmanager.cpp later and the updated .pro file wasn&#39;t picked up - so the intermediate Makefile tried linking only main.o."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1457792243, "post_id": 35928904, "comment_id": 59572695, "body": "Sometimes it is necessary to run <i>qmake</i> explicitly (from Build menu or from context menu in the Projects, if you are using Qt Creator)."}], "tags": [], "owner": {"reputation": 21, "user_id": 5606381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4728ec747179eb4285884c461fb9e3?s=128&d=identicon&r=PG&f=1", "display_name": "AmeNawa", "link": "https://stackoverflow.com/users/5606381/amenawa"}, "is_accepted": true, "score": 1, "last_activity_date": 1457650030, "creation_date": 1457650030, "answer_id": 35928904, "question_id": 35901905, "link": "https://stackoverflow.com/questions/35901905/qt-5-5-setlayout-by-return-value/35928904#35928904", "title": "QT 5.5 setLayout() by return value", "body": "<p>I've added a few modules to .pro file like multimedia, quick, widgets then builded it and it works. I don't know how does it work because after that I removed one after one and when I builded without these modules again it's still working. It seems like a bug for me (I'm doing everything in QTCreator) or I just don't understand how exactly compilator works.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 134793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851fc6f3a5bf348ee6067d57ac8a6824?s=128&d=identicon&r=PG", "display_name": "Fox", "link": "https://stackoverflow.com/users/134793/fox"}, "is_accepted": false, "score": 0, "last_activity_date": 1457669254, "creation_date": 1457669254, "answer_id": 35932020, "question_id": 35901905, "link": "https://stackoverflow.com/questions/35901905/qt-5-5-setlayout-by-return-value/35932020#35932020", "title": "QT 5.5 setLayout() by return value", "body": "<p>a. Please check the file-name for the cpp file containing the setHelloLayout() and the ctor - and compare it with what is in the .pro file. Both linker errors are with the same class's functions (and all needed functions fail linkage) - this means the CU for the class definition isn't being picked up.</p>\n\n<p>b. With newly added/renamed files, qmake sometimes fails to pick up dependencies (and worse, refuses to remove old intermediates and links to them) - (i.e. the decision to \"Configuration Unchanged - skipping qmake step\" may be wrong). If you've recently renamed the file / class, please make a clean build (remove mocs &amp; object files) and run qmake again. </p>\n"}], "owner": {"reputation": 21, "user_id": 5606381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4728ec747179eb4285884c461fb9e3?s=128&d=identicon&r=PG&f=1", "display_name": "AmeNawa", "link": "https://stackoverflow.com/users/5606381/amenawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 35928904, "answer_count": 3, "score": 1, "last_activity_date": 1457792130, "creation_date": 1457555317, "last_edit_date": 1457640552, "question_id": 35901905, "link": "https://stackoverflow.com/questions/35901905/qt-5-5-setlayout-by-return-value", "title": "QT 5.5 setLayout() by return value", "body": "<p>I'm trying to set widget's layout by setLayout by function and i recive error messages:</p>\n\n<pre><code>main.obj:-1: error: LNK2019: unresolved external symbol \"public: __cdecl LayoutManager::LayoutManager(void)\" (??0LayoutManager@@QEAA@XZ) referenced in function main\n\nmain.obj:-1: error: LNK2019: unresolved external symbol \"public: class QVBoxLayout * __cdecl LayoutManager::setHelloLayout(void)\" (?setHelloLayout@LayoutManager@@QEAAPEAVQVBoxLayout@@XZ) referenced in function main\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>int main(int argc, char *argv[]){\n    QApplication app(argc, argv);\n    MainWindow mWin; //main widget\n    LayoutManager *LayMan = new LayoutManager();\n    mWin.setLayout(LayMan-&gt;setHelloLayout());\n\n    mWin.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>layoutmanager.h</p>\n\n<pre><code>class LayoutManager : public MainWindow\n{\n    Q_OBJECT\n\n    void (*set_Lo_Pt[LAST_LAYOUT])(MainWindow&amp;);\n\npublic:\n    LayoutManager();\n    ~LayoutManager();\n\n    QVBoxLayout* setHelloLayout();  \n\n};\n</code></pre>\n\n<p>And here is setHelloLayout() function</p>\n\n<pre><code>QVBoxLayout* LayoutManager::setHelloLayout(){\n\n\n    QVBoxLayout *menuOptions = new QVBoxLayout();\n\n    QPushButton *but_HouseManager = new QPushButton(\"HouseManager\");\n    QPushButton *but_Help = new QPushButton(\"Help\");\n    QPushButton *but_Quit = new QPushButton(\"Quit\");\n\n\n    menuOptions-&gt;addWidget(but_HouseManager);\n    menuOptions-&gt;addWidget(but_Help);\n    menuOptions-&gt;addWidget(but_Quit);\n\n    return menuOptions;\n\n}\n</code></pre>\n\n<p>Class MainWindow is derived from QWidget</p>\n\n<p>Is it problem with function body or I should change whole layout changing system?</p>\n\n<p>Here is Compile Output</p>\n\n<pre><code>21:18:33: Running steps for project HM...\n21:18:33: Configuration unchanged, skipping qmake step.\n21:18:33: Starting: \"D:\\Qt\\Tools\\QtCreator\\bin\\jom.exe\" \n    D:\\Qt\\Tools\\QtCreator\\bin\\jom.exe -f Makefile.Debug\n    link /NOLOGO /DYNAMICBASE /NXCOMPAT /DEBUG /SUBSYSTEM:WINDOWS \"/MANIFESTDEPENDENCY:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' publicKeyToken='6595b64144ccf1df' language='*' processorArchitecture='*'\" /MANIFEST:embed /OUT:debug\\HM.exe @C:\\Users\\MICHA~1\\AppData\\Local\\Temp\\HM.exe.4644.15.jom\nmain.obj : error LNK2019: unresolved external symbol \"public: __cdecl LayoutManager::LayoutManager(void)\" (??0LayoutManager@@QEAA@XZ) referenced in function main\nmain.obj : error LNK2019: unresolved external symbol \"public: class QVBoxLayout * __cdecl LayoutManager::setHelloLayout(void)\" (?setHelloLayout@LayoutManager@@QEAAPEAVQVBoxLayout@@XZ) referenced in function main\ndebug\\HM.exe : fatal error LNK1120: 2 unresolved externals\njom: D:\\Qt\\build-HM-Desktop_Qt_5_5_1_MSVC2013_64bit-Debug\\Makefile.Debug [debug\\HM.exe] Error 1120\njom: D:\\Qt\\build-HM-Desktop_Qt_5_5_1_MSVC2013_64bit-Debug\\Makefile [debug] Error 2\n21:18:33: The process \"D:\\Qt\\Tools\\QtCreator\\bin\\jom.exe\" exited with code 2.\nError while building/deploying project HM (kit: Desktop Qt 5.5.1 MSVC2013 64bit)\nWhen executing step \"Make\"\n21:18:33: Elapsed time: 00:00.\n</code></pre>\n\n<p>This is .pro file</p>\n\n<pre><code>QT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = HM\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp \\\n    layoutmanager.cpp\n\nHEADERS  += mainwindow.h \\\n    layoutmanager.h\n</code></pre>\n"}, {"tags": ["c++", "list", "element"], "comments": [{"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1457555389, "post_id": 35901890, "comment_id": 59464275, "body": "Your code is in C++, not C - please use the appropriate tag to get the C++ community&#39;s help (edit the question)."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457555927, "post_id": 35901890, "comment_id": 59464608, "body": "Off topic: <code>using namespace std;</code> renders all of the above <code>using</code> statements useless."}, {"owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 1, "creation_date": 1457555936, "post_id": 35901890, "comment_id": 59464619, "body": "You are incrementing values in <code>Blist</code> but printing values of <code>Blist2</code>."}, {"owner": {"reputation": 1, "user_id": 5648335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa864950bdaeb4889aa08ec88086d5dc?s=128&d=identicon&r=PG", "display_name": "user5648335", "link": "https://stackoverflow.com/users/5648335/user5648335"}, "reply_to_user": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1457556108, "post_id": 35901890, "comment_id": 59464719, "body": "@Zereges thank you. I fixed the problem, I knew it was something small I was tweaking just couldn&#39;t figure it out. Appreciate you"}, {"owner": {"reputation": 3270, "user_id": 3059385, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dc876278926d67b3da29594601fdc82a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Schneider", "link": "https://stackoverflow.com/users/3059385/christopher-schneider"}, "edited": false, "score": 0, "creation_date": 1457556109, "post_id": 35901890, "comment_id": 59464720, "body": "Only the relevant portions would help... Why is showContents() inside your for loop?"}], "answers": [{"tags": [], "owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "is_accepted": true, "score": 0, "last_activity_date": 1457557484, "creation_date": 1457557484, "answer_id": 35902582, "question_id": 35901890, "link": "https://stackoverflow.com/questions/35901890/increase-all-elements-of-a-list-in-c/35902582#35902582", "title": "Increase all elements of a List in C++", "body": "<p>Since my comment fixed your problem, I am converting it into an answer.</p>\n\n<p>You copy constructed <code>BList2</code> using values from <code>BList</code> (I am changing to brace initialization to avoid <a href=\"https://en.wikipedia.org/wiki/Most_vexing_parse\" rel=\"nofollow\">Most vexing parse</a>). But then, you are iterating over values of <code>BList</code> again. Also, you don't need parentheses around <code>*b += 5</code>. Finally, your <code>showContents</code> function is probably meant to be outside of the loop.</p>\n\n<pre><code>std::list&lt;int&gt; BList2 {BList};\nfor (std::list&lt;int&gt;::iterator b = BList2.begin(); b != BList2.end(); ++b)\n{\n    *b += 5;\n}\nshowContents(BList2);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5648335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa864950bdaeb4889aa08ec88086d5dc?s=128&d=identicon&r=PG", "display_name": "user5648335", "link": "https://stackoverflow.com/users/5648335/user5648335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 0, "accepted_answer_id": 35902582, "answer_count": 1, "score": -3, "last_activity_date": 1457557484, "creation_date": 1457555278, "last_edit_date": 1457555390, "question_id": 35901890, "link": "https://stackoverflow.com/questions/35901890/increase-all-elements-of-a-list-in-c", "title": "Increase all elements of a List in C++", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;string&gt;\n#include &lt;utility&gt;\n#include &lt;cstring&gt;\n#include &lt;list&gt;\n\n\nusing std::vector;\nusing std::cout;\nusing std::list;\nusing std::endl;\nusing std::string;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nvoid showContents(T&amp; input)\n{\n typename T::iterator it;\n for (it=input.begin(); it != input.end(); it++)\n{ cout &lt;&lt; *it &lt;&lt; \" \"; }\n cout &lt;&lt; endl;\n}\n\n\n\nint main()\n{\nint B[10] = {0,1,2,3,4,5,6,7,8,9};\ncout&lt;&lt; \"The first array is: \"&lt;&lt; \"\\n\";\nint i;\nfor (i = 0; i&lt;10; i++)\n    {cout&lt;&lt; B[i]&lt;&lt; \" \";}\n\n\n\nvector&lt;int&gt; KVec(B,B+10);\ncout &lt;&lt; \"\\n \\n\" &lt;&lt; \"The first vector is: \" &lt;&lt; endl;\nshowContents(KVec);\n\n\n\nlist&lt;int&gt; BList(B,B+10);\ncout &lt;&lt; \"\\n\" &lt;&lt; \"The first list is: \" &lt;&lt; endl;\nshowContents(BList);\n\n\n\n\nint BCopy [10];\ncout&lt;&lt; \"\\n\" &lt;&lt;\"The second array is: \"&lt;&lt; endl;\nfor(int i = 0; i &lt;10; i++)\n{\n    BCopy[i] = B[i];\n    BCopy[i] += 2;\n    cout&lt;&lt; BCopy[i]&lt;&lt; \" \";\n}\n\nvector&lt;int&gt; KVec2(KVec);\ncout&lt;&lt; \"\\n \\n\" &lt;&lt; \"The second vector is: \"&lt;&lt; endl;\n\nfor (int i = 0; i&lt;KVec2.size(); i++){\n    KVec2[i] += 3;\n}\nshowContents(KVec2);\n\n\ncout&lt;&lt; \"\\n\" &lt;&lt; \"The second list is: \"&lt;&lt; endl;\n\nstd::list&lt;int&gt; BList2 (BList);\nfor (std::list&lt;int&gt;::iterator b = BList.begin(); b!=BList.end(); ++b)\n{\n    ( *b += 5 );\n    showContents(BList2);\n\n}\n</code></pre>\n\n<p>This is the code I have. I was able to correctly copy all the arrays, vectors , and lists and increasing the values of those accordingly. The only one I have not been able to increment in the list. My goal is to increment all the elements of the second list by 5. I have been using mulitple references to try and do it but I have tried everything and can not get it to work. Below I have my latest attempt at trying to increment all the values but that doesn't seem to work either so now I need help. That is the only thing left to do in this assignment so any help would be appreciated. Thank you.</p>\n"}, {"tags": ["c++", "arrays", "file-io", "buffer"], "comments": [{"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 1, "creation_date": 1457554873, "post_id": 35901768, "comment_id": 59463958, "body": "How <code>x</code> and <code>y</code> (or <code>y[0]</code>) is related?"}, {"owner": {"reputation": 219, "user_id": 2326233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/01bd01b40d355b0857d31dcff8b58170?s=128&d=identicon&r=PG", "display_name": "ExtremistEnigma", "link": "https://stackoverflow.com/users/2326233/extremistenigma"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1457554994, "post_id": 35901768, "comment_id": 59464032, "body": "The array y is supposed to store the bytes read from the file using x. At the end of the iterations, I want y to contain the stored values."}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 2, "creation_date": 1457555007, "post_id": 35901768, "comment_id": 59464041, "body": "Could you please provide a verifiable (compilable) example?"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 1, "creation_date": 1457555082, "post_id": 35901768, "comment_id": 59464086, "body": "My bet is that you&#39;re assigning y[0] to x in your read loop, instead of allocating memory and copying"}, {"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 1, "creation_date": 1457555192, "post_id": 35901768, "comment_id": 59464148, "body": "You are allocating memory to the 5 elements of <code>char *y[5]</code> aren&#39;t you?...  y[0] =malloc(SOME_VAL);, ... y[4] = malloc(SOME_VAL);"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1457555312, "post_id": 35901768, "comment_id": 59464226, "body": "Reminder:  the <code>y</code> array is an array of pointers not characters."}, {"owner": {"reputation": 219, "user_id": 2326233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/01bd01b40d355b0857d31dcff8b58170?s=128&d=identicon&r=PG", "display_name": "ExtremistEnigma", "link": "https://stackoverflow.com/users/2326233/extremistenigma"}, "edited": false, "score": 0, "creation_date": 1457555361, "post_id": 35901768, "comment_id": 59464263, "body": "I was indeed assigning y[0] = x, I see the problem now. Thanks!"}, {"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1457555450, "post_id": 35901768, "comment_id": 59464316, "body": "@ExtremistEnigma - an upclick or <i>answered</i> check to the answer-er  would be appropriate..."}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 1, "last_activity_date": 1457555232, "creation_date": 1457555232, "answer_id": 35901877, "question_id": 35901768, "link": "https://stackoverflow.com/questions/35901768/copying-zeroes-into-a-char-array-clears-other-char-array-as-well/35901877#35901877", "title": "Copying zeroes into a char array clears other char array as well", "body": "<p>Since <code>y[0]</code> is a pointer, it can point to (or into) <code>x</code>. The behavior you are observing suggests that it does. If <code>y[0]</code> points to (or into) <code>x</code>, then changing <code>x</code>'s contents will change the contents that <code>y[0]</code> points to.</p>\n"}], "owner": {"reputation": 219, "user_id": 2326233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/01bd01b40d355b0857d31dcff8b58170?s=128&d=identicon&r=PG", "display_name": "ExtremistEnigma", "link": "https://stackoverflow.com/users/2326233/extremistenigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1457555637, "accepted_answer_id": 35901877, "answer_count": 1, "score": -3, "last_activity_date": 1457555623, "creation_date": 1457554800, "last_edit_date": 1457555623, "question_id": 35901768, "link": "https://stackoverflow.com/questions/35901768/copying-zeroes-into-a-char-array-clears-other-char-array-as-well", "closed_reason": "Not suitable for this site", "title": "Copying zeroes into a char array clears other char array as well", "body": "<pre><code>char x[30];\nchar* y[5];\nint count = 0;\nifstream i(\"test.txt\", std::ifstream::binary);\n</code></pre>\n\n<p>x reads 30 bytes of file from the ifstream buffer. y stores a random string.</p>\n\n<pre><code>while (i.read(x, sizeof(x)) {\n    y[count] = x;\n    printf(\"%s\\n\", y[0]); //This prints \"test\\n\"\n    bzero(x, sizeof(x)); //Clear the contents of array x\n    printf(\"%s\\n\", y[0]); //This prints \"\\n\"\n    count++\n}\n</code></pre>\n\n<p>For this example, assume that the file contains less than or equal to 150 bytes of data.</p>\n\n<p>Why does this keep on happening? I observe the same behavior even if I use memset. How do I fix it?</p>\n"}, {"tags": ["c++", "vector", "vertices", "outofrangeexception", "face"], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": 1, "last_activity_date": 1457555549, "creation_date": 1457555549, "answer_id": 35901969, "question_id": 35901714, "link": "https://stackoverflow.com/questions/35901714/c-trying-to-write-an-object-reader-error-when-trying-to-get-data-from-one-ve/35901969#35901969", "title": "C++, trying to write an object reader, error when trying to get data from one vector", "body": "<p>You're recreating the vectors every time through the <code>while</code> loop because they're declared inside it. This means that when <code>s == \"f\"</code> they are all empty.</p>\n\n<p>You should declare them outside the <code>while</code> loop, where you declare <code>line</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 820, "user_id": 4884119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202965102887716/picture?type=large", "display_name": "AchmadJP", "link": "https://stackoverflow.com/users/4884119/achmadjp"}, "is_accepted": true, "score": 0, "last_activity_date": 1457555791, "creation_date": 1457555791, "answer_id": 35902042, "question_id": 35901714, "link": "https://stackoverflow.com/questions/35901714/c-trying-to-write-an-object-reader-error-when-trying-to-get-data-from-one-ve/35902042#35902042", "title": "C++, trying to write an object reader, error when trying to get data from one vector", "body": "<p>You declare vector inside the while loop so that it get reseted every time the while go loop again. </p>\n\n<p>Try declare the vector before the while loop</p>\n"}], "owner": {"reputation": 3, "user_id": 6041115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228915073a8692f08222f2228ca8797b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/6041115/marcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 35902042, "answer_count": 2, "score": 0, "last_activity_date": 1457555791, "creation_date": 1457554622, "question_id": 35901714, "link": "https://stackoverflow.com/questions/35901714/c-trying-to-write-an-object-reader-error-when-trying-to-get-data-from-one-ve", "title": "C++, trying to write an object reader, error when trying to get data from one vector", "body": "<p>I am trying to write a really simple obj file reader, that writes all vertice values in order from the obj file into one vector (already done that), and also writes vertice values referred by face values from the obj file in another vector, for example:</p>\n\n<p>v1 = 0.0 0.0 0.0</p>\n\n<p>v2 = 1.0 0.0 0.0</p>\n\n<p>v3 = 1.0 1.0 0.0</p>\n\n<p>f1 = 3 2 1</p>\n\n<p>My program would write all vertice values in order in the first vector\nand then would write vertice values making up a face as following in the second vector:\n1.0 1.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0</p>\n\n<p>Everything worked fine until I tried to get values from the first vector(verticesCoordsXYZ) and push them back into a the second vector(faceCoords). Code that I commented out breaks the program, it seems like the location I am searching for in the first vector is bigger than the vector size (when the program breaks I get out_of_range at memory loc error, and it says that the size of verticesCoordsXYZ is 0), even though I filled the vector with all the vertice values.</p>\n\n<p>What am I doing wrong? Am I not understanding how vectors work, am I going out of vector scope? How can I fix this problem?</p>\n\n<pre><code>    string line;\n    while (getline(modelfile, line))\n    {\n\n        string s;\n        istringstream iss(line);\n        iss &gt;&gt; s;\n        vector &lt;float&gt; verticesCoordsXYZ;\n        vector &lt;float&gt; faceCoords;\n\n        if (s == \"v\")\n        {\n\n            float x, y ,z;\n            iss &gt;&gt; x &gt;&gt; y &gt;&gt; z;\n            verticesCoordsXYZ.push_back(x);\n            verticesCoordsXYZ.push_back(y);\n            verticesCoordsXYZ.push_back(z);\n\n            for (int i = 0; i &lt; (int)verticesCoordsXYZ.size(); i++)\n            {\n                cout &lt;&lt; verticesCoordsXYZ.at(i);\n            }\n            cout &lt;&lt; endl;\n\n        }\n\n        if (s == \"f\")\n        {\n            int a, b, c;\n\n            iss &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n\n            int aLocation = a * 3 - 3; //vertice locations in verticeCoordsXYZ that would make up faces\n            int bLocation = b * 3 - 3;\n            int cLocation = c * 3 - 3;\n\n            for (int i = 0; i &lt; 2; i++)\n            {\n                //faceCoords.push_back(verticesCoordsXYZ.at(aLocation+i));\n            }\n            for (int i = 0; i &lt; 2; i++)\n            {\n                //faceCoords.push_back(verticesCoordsXYZ.at(bLocation+i));\n            }\n            for (int i = 0; i &lt; 2; i++)\n            {\n                //faceCoords.push_back(verticesCoordsXYZ.at(cLocation+i));\n            }\n\n            for (int i = 0; i &lt; (int)faceCoords.size(); i++)\n            {\n                cout &lt;&lt; faceCoords.at(i) &lt;&lt; \"f\";\n            }\n\n\n\n            cout &lt;&lt; endl &lt;&lt; a &lt;&lt; b &lt;&lt; c;\n        }\n\n    }\n\n    modelfile.close();\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457554725, "post_id": 35901699, "comment_id": 59463868, "body": "Also look into <code>std::map</code>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1457554736, "post_id": 35901699, "comment_id": 59463881, "body": "You are seemingly to define the <code>void convert ()</code> inside of the <code>main()</code> function. You have to do that outside (before) main."}, {"owner": {"reputation": 359, "user_id": 3832888, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IGESf.jpg?s=128&g=1", "display_name": "TheFlyingProgrammer", "link": "https://stackoverflow.com/users/3832888/theflyingprogrammer"}, "edited": false, "score": 0, "creation_date": 1457554772, "post_id": 35901699, "comment_id": 59463901, "body": "I think I see many syntax errors and I haven&#39;t even tried to compile this."}, {"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 0, "creation_date": 1457554806, "post_id": 35901699, "comment_id": 59463916, "body": "And <code>alphabet</code> and <code>morse</code> only have 26 items (indexes 0-25) but you are trying to access index 26"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 3, "creation_date": 1457554844, "post_id": 35901699, "comment_id": 59463935, "body": "Please do everyone a favor and add a comment on the line where the problem is so people don&#39;t have to count lines."}, {"owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457554902, "post_id": 35901699, "comment_id": 59463983, "body": "it compiles well but when answering by &#39;n&#39; to exit it doesn&#39;t repeat"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457555072, "post_id": 35901699, "comment_id": 59464074, "body": "The code you&#39;ve shown above doesn&#39;t compile: <a href=\"http://ideone.com/eVYYpL\" rel=\"nofollow noreferrer\">ideone.com/eVYYpL</a> Did you type it by hand or copy&amp;paste?"}, {"owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457555313, "post_id": 35901699, "comment_id": 59464228, "body": "copy &amp; paste and it compiles with me well !!!"}, {"owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457555460, "post_id": 35901699, "comment_id": 59464324, "body": "sry it missed a curly and i added it"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457555854, "post_id": 35901948, "comment_id": 59464573, "body": "thx man that worked and i have a lot of search to understand how it worked"}, {"owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457601170, "post_id": 35901948, "comment_id": 59483064, "body": "i searched but i just want to be sure : does (!quitting) mean (quitting = false) ???"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "edited": false, "score": 0, "creation_date": 1457626766, "post_id": 35901948, "comment_id": 59501927, "body": "Yes, <code>if (quitting)</code> would mean <code>if (quitting == true)</code> so <code>if (!quitting)</code> means <code>if (quitting == false)</code> (be careful about the double equals)"}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 1, "last_activity_date": 1457555452, "creation_date": 1457555452, "answer_id": 35901948, "question_id": 35901699, "link": "https://stackoverflow.com/questions/35901699/cant-call-a-function-c/35901948#35901948", "title": "Can&#39;t call a function C++", "body": "<p>You have a couple of problems in your code, but with regards to why the program doesn't loop, that's because you don't tell it to loop, you only tell it to call convert() a second time.</p>\n\n<pre><code>int main (){\n    convert();  // first call\n    cout &lt;&lt; \"\\nExit ?(y/n)\\n\";\n    char ans;\n    cin &gt;&gt; ans;\n    if (ans=='y') return 0;\n    if (ans=='n') convert(); //line 17\n    // program ends\n}\n</code></pre>\n\n<p>You have a secondary problem here that you only read one character for <code>ans</code>, which means you don't read the \"\\n\" end-of-line, so the <code>getline()</code> inside <code>convert</code> will think there is an empty line.</p>\n\n<p>You might want to try:</p>\n\n<pre><code>int main()\n{\n    bool quitting = false;\n\n    while (!quitting)\n    {\n        convert();\n        std::cout &lt;&lt; \"\\nExit? (y/N): \" &lt;&lt; std::flush;\n        std::string ans = \"\";\n        std::getline(std::cin, ans);\n        if (!ans.empty() &amp;&amp; (ans[0] == 'y' || ans[0] == 'Y'))\n            quitting = true;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5903913, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553472988296523/picture?type=large", "display_name": "Mustafa Khaled", "link": "https://stackoverflow.com/users/5903913/mustafa-khaled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 35901948, "answer_count": 1, "score": -4, "last_activity_date": 1457555452, "creation_date": 1457554579, "last_edit_date": 1457555405, "question_id": 35901699, "link": "https://stackoverflow.com/questions/35901699/cant-call-a-function-c", "title": "Can&#39;t call a function C++", "body": "<p>That's a project i made for fun that converts English to morse code<br>\nI am still a beginner and i learn c++ by myself so i'm sorry if the question is silly but i don't have anyone else to ask<br>\nthe problem is about line 17<br>\nany idea why it doesn't call it and start over ???<br>\ncode :  </p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nstring morse [26] { \".-\", \"-...\", \"-.-.\", \"-..\", \".\", \"..-.\" , \"--.\" , \"....\", \"..\",\n                \".---\", \"-.-\", \".-..\", \"--\", \"-.\", \"---\", \".--.\", \"--.-\", \".-.\", \"...\",\n                \"-\", \"..-\", \"...-\", \".--\", \"-..-\", \"-.--\", \"--..\"};\nchar alphabet [26] {'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'};\nvoid convert();\nint main (){\nconvert();\n cout &lt;&lt; \"\\nExit ?(y/n)\\n\";\n char ans;\n cin &gt;&gt; ans;\n if (ans=='y') return 0;\n if (ans=='n') convert();} //line 17\n void convert () {\nstring input ;\nint i=0 ;\ncout &lt;&lt; \"Enter your text :\\n\";\ngetline(cin,input);\nfor (i;i &lt; input.length() ;i++) {\n        string text = input;\n    if (text[i] == alphabet[0]) {cout &lt;&lt; morse[0] &lt;&lt; \" \";}\n    if (text[i] == alphabet[1]) {cout &lt;&lt; morse[1] &lt;&lt; \" \";}\n    if (text[i] == alphabet[2]) {cout &lt;&lt; morse[2] &lt;&lt; \" \";}\n    if (text[i] == alphabet[3]) {cout &lt;&lt; morse[3] &lt;&lt; \" \";}\n    if (text[i] == alphabet[4]) {cout &lt;&lt; morse[4] &lt;&lt; \" \";}\n    if (text[i] == alphabet[5]) {cout &lt;&lt; morse[5] &lt;&lt; \" \";}\n    if (text[i] == alphabet[6]) {cout &lt;&lt; morse[6] &lt;&lt; \" \";}\n    if (text[i] == alphabet[7]) {cout &lt;&lt; morse[7] &lt;&lt; \" \";}\n    if (text[i] == alphabet[8]) {cout &lt;&lt; morse[8] &lt;&lt; \" \";}\n    if (text[i] == alphabet[9]) {cout &lt;&lt; morse[9] &lt;&lt; \" \";}\n    if (text[i] == alphabet[10]) {cout &lt;&lt; morse[10] &lt;&lt; \" \";}\n    if (text[i] == alphabet[11]) {cout &lt;&lt; morse[11] &lt;&lt; \" \";}\n    if (text[i] == alphabet[12]) {cout &lt;&lt; morse[12] &lt;&lt; \" \";}\n    if (text[i] == alphabet[13]) {cout &lt;&lt; morse[13] &lt;&lt; \" \";}\n    if (text[i] == alphabet[14]) {cout &lt;&lt; morse[14] &lt;&lt; \" \";}\n    if (text[i] == alphabet[15]) {cout &lt;&lt; morse[15] &lt;&lt; \" \";}\n    if (text[i] == alphabet[16]) {cout &lt;&lt; morse[16] &lt;&lt; \" \";}\n    if (text[i] == alphabet[17]) {cout &lt;&lt; morse[17] &lt;&lt; \" \";}\n    if (text[i] == alphabet[18]) {cout &lt;&lt; morse[18] &lt;&lt; \" \";}\n    if (text[i] == alphabet[19]) {cout &lt;&lt; morse[19] &lt;&lt; \" \";}\n    if (text[i] == alphabet[20]) {cout &lt;&lt; morse[20] &lt;&lt; \" \";}\n    if (text[i] == alphabet[21]) {cout &lt;&lt; morse[21] &lt;&lt; \" \";}\n    if (text[i] == alphabet[22]) {cout &lt;&lt; morse[22] &lt;&lt; \" \";}\n    if (text[i] == alphabet[23]) {cout &lt;&lt; morse[23] &lt;&lt; \" \";}\n    if (text[i] == alphabet[24]) {cout &lt;&lt; morse[24] &lt;&lt; \" \";}\n    if (text[i] == alphabet[25]) {cout &lt;&lt; morse[25] &lt;&lt; \" \";}\n    if (text[i] == alphabet[26]) {cout &lt;&lt; morse[26] &lt;&lt; \" \";}\n    if (text[i] == ' ') {cout &lt;&lt; \" / \"; }\n}\n\n }\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "global-variables", "linkage", "visual-c++-2015"], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "reply_to_user": {"reputation": 157, "user_id": 4074452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d67a669c07b5b60182b07751daa98d8?s=128&d=identicon&r=PG", "display_name": "daPollak", "link": "https://stackoverflow.com/users/4074452/dapollak"}, "edited": false, "score": 0, "creation_date": 1457557127, "post_id": 35902298, "comment_id": 59465294, "body": "foo isn&#39;t called in the main function. foo IS linked in the final exe, because you have called bla1 defined in proxlib that includes mylib. Remove bla2 and #include &quot;../mylib/mylib.h&quot; from proxlib to confirm."}, {"owner": {"reputation": 157, "user_id": 4074452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d67a669c07b5b60182b07751daa98d8?s=128&d=identicon&r=PG", "display_name": "daPollak", "link": "https://stackoverflow.com/users/4074452/dapollak"}, "edited": false, "score": 0, "creation_date": 1457558298, "post_id": 35902298, "comment_id": 59465931, "body": "I don&#39;t get your point. bla2 is unused function because there is no reference to it, hence it shouldn&#39;t be linked into the exe, hence foo isn&#39;t linked (I can see that on IDA). but the global &quot;arr&quot; is in the exe, and it is not referenced by any function in the binary (checked on IDA too)"}, {"owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "reply_to_user": {"reputation": 157, "user_id": 4074452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d67a669c07b5b60182b07751daa98d8?s=128&d=identicon&r=PG", "display_name": "daPollak", "link": "https://stackoverflow.com/users/4074452/dapollak"}, "edited": false, "score": 0, "creation_date": 1457558621, "post_id": 35902298, "comment_id": 59466123, "body": "I&#39;m not sure you&#39;re understanding how compilation takes place quite correctly. It doesn&#39;t matter you don&#39;t actually USE the objects, the fact is they are included in the compilation because their source files are included.   Checkout this great explanation: <a href=\"http://stackoverflow.com/questions/6264249/how-does-the-compilation-linking-process-work\" title=\"how does the compilation linking process work\">stackoverflow.com/questions/6264249/&hellip;</a>  If you&#39;re using gcc, you can ignore this warning using the -Wno-unused-variable switch"}], "tags": [], "owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "is_accepted": false, "score": 0, "last_activity_date": 1457556621, "creation_date": 1457556621, "answer_id": 35902298, "question_id": 35901698, "link": "https://stackoverflow.com/questions/35901698/visual-studio-c-links-unused-globals/35902298#35902298", "title": "Visual Studio C++ links unused globals", "body": "<p>main.cpp calls bla1() declared in proxlib.h. Proxlib.h includes mylib.h which has function are defined in mylib.cpp, so this gets compiled too. </p>\n"}], "owner": {"reputation": 157, "user_id": 4074452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d67a669c07b5b60182b07751daa98d8?s=128&d=identicon&r=PG", "display_name": "daPollak", "link": "https://stackoverflow.com/users/4074452/dapollak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1457556621, "creation_date": 1457554576, "question_id": 35901698, "link": "https://stackoverflow.com/questions/35901698/visual-studio-c-links-unused-globals", "title": "Visual Studio C++ links unused globals", "body": "<p>I have mylib.lib:</p>\n\n<pre><code>//mylib.h:\nint foo();\n\n//mylib.cpp:\n#include \"mylib.h\"\n\nconst int arr[] = {1, 2};\n\nint foo() {\n    return arr[0];\n}\n</code></pre>\n\n<p>And proxylib.lib:</p>\n\n<pre><code>//proxylib.h:\nint bla1();\nint bla2();\n\n//proxylib.cpp:\n#include \"../mylib/mylib.h\"\n#include \"proxylib.h\"\n\nint bla1() {\n    return 2;\n}\n\nint bla2() {\n    return foo();\n}\n</code></pre>\n\n<p>and the exe project:</p>\n\n<pre><code>//main.cpp\n#include \"../proxylib/proxylib.h\"\n#include &lt;iostream&gt;\n\nint main() {\n    std::cout &lt;&lt; bla1();\n    return 0;\n}\n</code></pre>\n\n<p>The main project has reference to proxylib.lib project, and proxylib project has reference to mylib.lib project.\nAfter compiling and linking the project to the final exe, I got the unused global variable \"arr\" from mylib.lib in the exe even though the function \"foo\" isn't in the exe. WHY ?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["c++", "c++11", "vector"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457553710, "post_id": 35901417, "comment_id": 59463316, "body": "Isn&#39;t the value initialization part a property of the allocator? IIRC there is an answer (from Howard Hinnant I think) showing how to write a custom allocator to avoid initialization."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457553807, "post_id": 35901417, "comment_id": 59463376, "body": "@Praetorian No clue. This wasn&#39;t the behavior I was expecting ex ante, or given the wording. Hence the question."}, {"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1457554013, "post_id": 35901417, "comment_id": 59463503, "body": "Since the question is about Why is there a memset here Maybe because C++ is a better C,meaning that most of C++ STL uses C in its libstc++ library"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1457554088, "post_id": 35901417, "comment_id": 59463539, "body": "@Joel, what? C++ is a better C?"}, {"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457554370, "post_id": 35901417, "comment_id": 59463686, "body": "@SergeyA, from the book of Bjarne Stroustrup, not fully quoted, but says C++ is like a better C."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1457554530, "post_id": 35901417, "comment_id": 59463776, "body": "@Joel, to me it sounds like a quote from one of my relatives - &#39;sausages  are better fish&#39;. But than she doesn&#39;t like fish, and loves sausages."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457554566, "post_id": 35901417, "comment_id": 59463786, "body": "Found <a href=\"http://stackoverflow.com/a/21028912/241631\">the answer</a> I was thinking of. So I guess if you really don&#39;t want initialization, use Casey&#39;s allocator."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457554995, "post_id": 35901417, "comment_id": 59464033, "body": "@Praetorian Thanks! Seems questionable that this is the standard behavior."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457555948, "post_id": 35901417, "comment_id": 59464622, "body": "That is standard behaviour, as my answer shows."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457556643, "post_id": 35901417, "comment_id": 59465019, "body": "@SergeyA I&#39;m not questioning that it <i>is</i> the standard behavior, rather whether it should be."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457557240, "post_id": 35901417, "comment_id": 59465344, "body": "Than the question is &#39;should default allocator value-initialize objects it constructs&#39;. Interesting question. I even wonder if this value-initialization is intentional or just a side-effect of empty parameter pack expansion. Totally possible that it is."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457558841, "post_id": 35901417, "comment_id": 59466261, "body": "@SergeyA <a href=\"http://stackoverflow.com/q/35902965/2069064\">So I thought I&#39;d ask it</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1520942792, "post_id": 35901524, "comment_id": 85514437, "body": "So does the term &quot;default inserted&quot; equals &quot;value-initialization&quot;?"}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 10, "last_activity_date": 1457556687, "last_edit_date": 1457556687, "creation_date": 1457553893, "answer_id": 35901524, "question_id": 35901417, "link": "https://stackoverflow.com/questions/35901417/default-inserting-into-a-vector-isnt-default-initialization/35901524#35901524", "title": "Default-inserting into a vector isn&#39;t default initialization?", "body": "<p>This is correct behaviour. See 23.2.1: </p>\n\n<blockquote>\n  <p>An element of X is default-inserted if it is initialized by evaluation of the expression <code>allocator_traits&lt;A&gt;::construct(m, p)</code></p>\n</blockquote>\n\n<p>Than, <code>allocator_traits&lt;A&gt;::construct</code> will call <code>a.construct(p, std::forward&lt;Args&gt;(args)...)</code>. Which, in turn, calls <code>::new((void *)p) U(std::forward&lt;Args&gt;(args)...)</code>, which in effect calls <code>new()</code>, which does value-initialization.</p>\n\n<h2>Conclusion:</h2>\n\n<p><code>memset()</code> is appropriate.</p>\n\n<h2>Conclusion #2</h2>\n\n<p>Absent custom allocators, <code>std::vector</code> does not allow one an option to access uninitialized storage. Every object which is legitimately in vector was value-initialized.</p>\n"}], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 2, "accepted_answer_id": 35901524, "answer_count": 1, "score": 5, "last_activity_date": 1457556687, "creation_date": 1457553487, "last_edit_date": 1457553714, "question_id": 35901417, "link": "https://stackoverflow.com/questions/35901417/default-inserting-into-a-vector-isnt-default-initialization", "title": "Default-inserting into a vector isn&#39;t default initialization?", "body": "<p>One of the <code>std::vector</code> constructors is stipulated as, emphasis mine:</p>\n\n<blockquote>\n  <p><code>explicit vector(size_type n, const Allocator&amp; = Allocator());</code><br>\n  <em>Effects:</em> Constructs a <code>vector</code> with <code>n</code> <strong>default-inserted</strong> elements using the specified allocator.<br>\n  <em>Requires:</em> <code>T</code> shall be <code>DefaultInsertable</code> into <code>*this.</code><br>\n  <em>Complexity:</em> Linear in <code>n</code>.</p>\n</blockquote>\n\n<p>Is default-insertion in any way related to default initialization? On this code:</p>\n\n<pre><code>std::vector&lt;char&gt; v(66000);\n</code></pre>\n\n<p>gcc 5.2 optimized produces:</p>\n\n<pre><code>  400d18:   bf d0 01 01 00          mov    $0x101d0,%edi\n  400d1d:   48 83 c5 01             add    $0x1,%rbp\n  400d21:   e8 1a fd ff ff          callq  400a40 &lt;operator new(unsigned long)@plt&gt;\n  400d26:   31 f6                   xor    %esi,%esi\n  400d28:   48 89 c3                mov    %rax,%rbx\n  400d2b:   ba d0 01 01 00          mov    $0x101d0,%edx\n  400d30:   48 89 c7                mov    %rax,%rdi\n  400d33:   e8 38 fc ff ff          callq  400970 &lt;memset@plt&gt;\n</code></pre>\n\n<p><code>memset</code>? What are <em>you</em> doing here? I thought this should simply do the equivalent of <code>new char[66000]</code>... that is, no initialization. clang 3.7 also emits a <code>memset</code>. </p>\n\n<p>Why is there a <code>memset</code> here? Is this correct with respect to the standard? After all, if I wanted 66000 value-initialized chars I already have this constructor:</p>\n\n<pre><code>std::vector&lt;char&gt; v(66000, '\\0');\n</code></pre>\n"}, {"tags": ["c++", "file", "stack", "queue", "structure"], "comments": [{"owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "edited": false, "score": 4, "creation_date": 1457553850, "post_id": 35901392, "comment_id": 59463400, "body": "Welcome to Stack Overflow. This is <i>way</i> too much code. Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>( <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>)"}, {"owner": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1457732397, "post_id": 35901392, "comment_id": 59557060, "body": "If you ask a question, it should be a question and not a tag cloud"}, {"owner": {"reputation": 33821, "user_id": 45685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y4RJr.jpg?s=128&g=1", "display_name": "AndersK", "link": "https://stackoverflow.com/users/45685/andersk"}, "edited": false, "score": 0, "creation_date": 1457732736, "post_id": 35901392, "comment_id": 59557199, "body": "i think a google of infix to postfix should do the trick."}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 4292649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a22b2ac2f1b0eb952f4c42665ed892b7?s=128&d=identicon&r=PG&f=1", "display_name": "Camleon", "link": "https://stackoverflow.com/users/4292649/camleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1457559684, "creation_date": 1457559684, "answer_id": 35903180, "question_id": 35901392, "link": "https://stackoverflow.com/questions/35901392/how-to-read-from-file-in-c-into-a-queue-to-make-postfix-evaluation/35903180#35903180", "title": "How to read from file in C++ into a queue to make postfix evaluation?", "body": "<p>This is really a lot of code. First some stylistic advice:\nUse <code>nullptr</code> instead of <code>NULL</code>.\n2. you should check if the File actually exists so you don't corrupt your memory by accident. \n3. Simplify your code, and only post the important part.\n4. Include guards should end with <code>_H</code></p>\n\n<p>Now to your problem:\nI didn't read all of your code but first of all you can simplify your reading function by writing something like this:</p>\n\n<pre><code>ifstream meinfile (\"input.txt\",ios::in);\nwhile (getline (meinfile,line)){\n    // Use line here\n}\n</code></pre>\n\n<p>I don't know if this will help, but is a lot of code after all.</p>\n"}], "owner": {"reputation": 1, "user_id": 6041425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1396a548877f70dd1b70aec4c5fe9970?s=128&d=identicon&r=PG&f=1", "display_name": "Yalvac Top", "link": "https://stackoverflow.com/users/6041425/yalvac-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1136, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457732397, "creation_date": 1457553433, "last_edit_date": 1457732397, "question_id": 35901392, "link": "https://stackoverflow.com/questions/35901392/how-to-read-from-file-in-c-into-a-queue-to-make-postfix-evaluation", "title": "How to read from file in C++ into a queue to make postfix evaluation?", "body": "<p>I am new to C++. I am trying to do an exercise where I supposed to read postfix operations into a queue and then evaluate it using stack. In my file every line includes only one postfix operation and all operations thus lines ends with #. But I couldn't make the reading part. My function for that only does it job for 2 times but it needs to do 3 times.</p>\n\n<p>Here is what I managed to write so far:</p>\n\n<blockquote>\n  <p>//queue cpp file</p>\n</blockquote>\n\n<pre><code>#include&lt;iostream&gt;\n#include &lt;cassert&gt;\n#include \"Queue.h\"\n#include \"stdlib.h\"\n\nusing namespace std;\n\nQueue::Queue(){\n\n    Size = 0;\n    head = NULL;\n    rear = NULL;\n}\n\nQueue::~Queue(){\n    Node* curPtr = head;\n    while( curPtr != 0 ) {\n        Node* nex = curPtr-&gt;next;\n        delete curPtr;\n        curPtr = nex;\n    }\n    head = 0;\n}\n\nbool Queue::empty() const {\n\n    if(Size==0){\n        return true;\n    }\n\n    return false;\n}\n\nint Queue::size() const {\n\n    return Size;\n}\n\nvoid Queue::enqueue(ElementType x){\n\n    Node *newNode = new Node;\n    newNode-&gt;data = x;\n\n    if(Size == 0){\n        rear=head = newNode;\n        Size++;\n    }\n    else{\n        rear-&gt;next=newNode;\n        rear=rear-&gt;next;\n        Size++;\n    }\n}\n\nvoid Queue::dequeue(){\n\n    Node * newNode;\n\n    if(Size==1){\n\n        newNode=head;\n        rear=NULL;\n        head=NULL;\n        delete newNode;\n    }\n    else{\n        newNode=head;\n        head=head-&gt;next;\n        delete newNode;\n    }\n    Size--;\n}\n\nElementType Queue::front(){\n\n    return head-&gt;data;\n}\n\n\n//queue .h file\n\n#ifndef QUEUE\n#define QUEUE\n\nusing namespace std;\n\ntypedef string ElementType;  // type of item to be stored\n\nclass Queue{\n\n    public:\n        int size() const; //return the number of elements in the queue\n        bool empty() const; //return true if queue is empty, else return false\n        void enqueue(ElementType x); //add x to the queue, increasing size()\n        void dequeue(); //remove the element most recently added to the queue, decreasing size()\n        ElementType front(); //return the element most recently added to the queue \n        Queue();\n        ~Queue();\n\n\n    private:\n        class Node{\n            public:\n                ElementType data;\n                Node * next;\n        };\n        Node * head;\n        Node * rear;\n        int Size;\n};\n#endif   \n\n// stack cpp file\n\n#include&lt;iostream&gt;\n#include &lt;cassert&gt;\n#include \"Stack.h\"\n#include \"stdlib.h\"\n\nusing namespace std;\n\nStack::Stack(){\n\n    Size = 0;\n    head = NULL;\n}\n\n\nStack::~Stack(){\n\n    cout &lt;&lt; \"destructor called2\" &lt;&lt;endl;\n    Node* deleter;\n    deleter=head;\n    Node* temp;\n\n    while(deleter!=NULL){\n        temp=deleter;\n        deleter=deleter-&gt;next;\n        delete temp;\n    }\n}\n\nbool Stack::empty() const {\n    if(Size==0){\n        return true;\n    }\n\n    return false;\n}\n\nint Stack::size() const {\n\n    return Size;\n}\n\nvoid Stack::push(ItemType x){\n\n    Node *newNode = new Node;\n    newNode-&gt;data = x;\n\n    if(Size == 0){\n        head = newNode;\n        Size++;\n    }\n    else{\n        newNode-&gt;next = head;\n        head = newNode;\n        Size++;\n\n    }\n}\n\nvoid Stack::pop(){\n    Node *newNode;\n    if(Size==1){\n        newNode=head;\n        head=NULL;\n        delete newNode;\n    }\n\n    else{\n        newNode=head;\n        head=head-&gt;next;\n        delete newNode;\n\n    }\n    Size--;\n}\n\nItemType Stack::top(){\n\n    return head-&gt;data;\n}\n\n// stack .h file\n\n#ifndef STACK\n#define STACK\n#include&lt;iostream&gt;\nusing namespace std;\n\ntypedef int ItemType;  // type of item to be stored\n\nclass Stack{\n\n    public:\n        Stack();\n        ~Stack();\n        int size() const; //return the number of elements in the stack\n        bool empty() const; //return true if stack is empty, else return false\n        void push(ItemType x); //add x to the stack, increasing size()\n        void pop(); //remove the element most recently added to the stack, decreasing size()\n        ItemType top(); //return the element most recently added to the stack \n\n\n    private:\n        class Node{\n            public:\n                ItemType data;\n                Node * next;\n        };\n        Node * head;\n        int Size;\n};\n#endif   \n\n//test .cpp file where operations happen and main is\n\n\n#include \"Stack.h\"\n#include \"Queue.h\"\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nvoid operatorAndWriter(Queue&amp; k, Stack &amp;l, ofstream &amp;myfile);\nvoid reader(Queue &amp;loko, Stack &amp;l);\n\nint main(){\n    Stack l;\n    Queue at;\n    reader(at, l);\n    return 0;\n}\n\nvoid reader(Queue &amp;loko, Stack &amp;l){\n\n    cout &lt;&lt; \"Enter the file name : \" &lt;&lt; endl;\n    string filename;\n    cin &gt;&gt; filename;\n    ifstream meinfile (filename);\n    string line;\n    string sub;\n    ofstream myfile(\"example.txt\");\n\n    while (! meinfile.eof()){\n\n        getline (meinfile, line);\n        istringstream iss(line);\n        while (iss &gt;&gt; sub){\n\n            loko.enqueue(sub);\n        }\n        operatorAndWriter(loko, l, myfile);\n\n        meinfile.close();\n    }\n        myfile.close();\n\n}\n\nvoid operatorAndWriter(Queue &amp;k, Stack &amp;l, ofstream &amp;myfile){\n\n\n\n    if(myfile.is_open()){\n            while (k.size()!=0){\n\n                string  op = k.front();\n                if (op == \"+\"){\n                    int a = l.top();\n                    l.pop();\n                    int b = l.top();\n                    l.pop();\n                    l.push(a+b);\n                    myfile &lt;&lt; \"+ \";\n                }\n                else if (op == \"-\"){\n                    int a = l.top();\n                    l.pop();\n                    int b = l.top();\n                    l.pop();\n                    l.push(b-a);\n                    myfile &lt;&lt; \"- \";\n                }\n                else if (op == \"*\"){\n                    int a = l.top();\n                    l.pop();\n                    int b = l.top();\n                    l.pop();\n                    l.push(a*b);\n                    myfile &lt;&lt; \"* \";\n                }\n                else if (op == \"#\"){\n                    myfile &lt;&lt; \"# \" ;\n                    myfile  &lt;&lt; l.top() &lt;&lt; endl;\n                    l.pop();\n                }\n                else{\n                    int y;\n                    y=atoi(op.c_str());\n                    l.push(y);\n                    myfile &lt;&lt;l.top()&lt;&lt;\" \";\n                }\n\n                k.dequeue();\n            }\n    }\n}\n\n// here is the input file\n\n23 4 * 19 2 - + #\n6 3 -  #\n36 #\n\n// here is my example file which i tried create and write operations and their solutions in it. however there is just one solution which belongs to the first sentence of the a.txt file.\n\n23 4 * 19 2 - + # 109\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1457553423, "post_id": 35901353, "comment_id": 59463131, "body": "<code>size_t</code> is unsigned. How would you compare that to a negative value?"}, {"owner": {"reputation": 130, "user_id": 1520074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581f3ea9ff8a22d54857c54632f7fb81?s=128&d=identicon&r=PG", "display_name": "cxs1031", "link": "https://stackoverflow.com/users/1520074/cxs1031"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1457553526, "post_id": 35901353, "comment_id": 59463194, "body": "Oh I got it! Thanks! I will modify my question before someone got angry. :)"}], "answers": [{"comments": [{"owner": {"reputation": 2313, "user_id": 971583, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/19074c3be125ac36f7a55a71798c65d3?s=128&d=identicon&r=PG", "display_name": "Alan Baljeu", "link": "https://stackoverflow.com/users/971583/alan-baljeu"}, "edited": false, "score": 0, "creation_date": 1609167235, "post_id": 35901456, "comment_id": 115764928, "body": "It&#39;s a shame they chose this direction.  Because size_t is usually a small integer, so the less surprising implicit cast would be (signed) size &gt; -1, rather than size &gt; (unsigned) -1"}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 3, "last_activity_date": 1457553956, "last_edit_date": 1457553956, "creation_date": 1457553601, "answer_id": 35901456, "question_id": 35901353, "link": "https://stackoverflow.com/questions/35901353/why-cant-size-t-be-directly-compared-with-negative-int/35901456#35901456", "title": "Why can&#39;t size_t be directly compared with negative int?", "body": "<p>Because <code>size_t</code> is unsigned and <code>int</code> is signed. Language has special rules for such \"mixed\" comparisons, as well as for \"mixed\" arithmetic. In this case these rules say that everything should be converted to <code>size_t</code>. Conversion to <code>size_t</code>, which is unsigned, distorts the original value of the <code>int</code> rather drastically (<code>-1</code> becomes <code>SIZE_MAX</code>), which is what causes the \"strange\" result in the second case.</p>\n\n<p>In the first case you forcefully convert <code>size_t</code> to <code>int</code>, thus turning your comparison into <code>int</code> vs. <code>int</code> one. It behaves in expected fashion.</p>\n\n<p>Note, BTW, that <code>std::string::size()</code> returns <code>std::string::size_type</code>, which is an unsigned type, but not necessarily <code>size_t</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1008, "user_id": 5451259, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2g2GNr5dGMk/AAAAAAAAAAI/AAAAAAAAAcA/AcxBKnri_qo/photo.jpg?sz=128", "display_name": "Jacob Panikulam", "link": "https://stackoverflow.com/users/5451259/jacob-panikulam"}, "is_accepted": true, "score": 7, "last_activity_date": 1457553632, "creation_date": 1457553632, "answer_id": 35901462, "question_id": 35901353, "link": "https://stackoverflow.com/questions/35901353/why-cant-size-t-be-directly-compared-with-negative-int/35901462#35901462", "title": "Why can&#39;t size_t be directly compared with negative int?", "body": "<p>size_t is unsigned, and can thus only express positive numbers. Comparing it to a negative will have wacky results. </p>\n\n<p>If you try casting the int (-1) as a size_t, you'll find that it becomes an enormous number, which explains the behavior you are having. </p>\n"}], "owner": {"reputation": 130, "user_id": 1520074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581f3ea9ff8a22d54857c54632f7fb81?s=128&d=identicon&r=PG", "display_name": "cxs1031", "link": "https://stackoverflow.com/users/1520074/cxs1031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3480, "favorite_count": 1, "accepted_answer_id": 35901462, "answer_count": 2, "score": 4, "last_activity_date": 1457559184, "creation_date": 1457553314, "last_edit_date": 1592644375, "question_id": 35901353, "link": "https://stackoverflow.com/questions/35901353/why-cant-size-t-be-directly-compared-with-negative-int", "title": "Why can&#39;t size_t be directly compared with negative int?", "body": "<p>One bug in my program is caused by directly comparing <code>size_t</code> with <code>int</code>.</p>\n<p>A toy sample code is as follows:</p>\n<pre><code>string s = &quot;AB&quot;;\ncout &lt;&lt; (-1 &lt; 8888888+(int)s.size()) &lt;&lt; endl;\ncout &lt;&lt; (-1 &lt; 8888888+s.size()) &lt;&lt; endl;\n</code></pre>\n<p>The output is:</p>\n<blockquote>\n<p>1</p>\n<p>0</p>\n</blockquote>\n<p>So why can't size_t be directly compared with negative int?</p>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1457553198, "post_id": 35901277, "comment_id": 59463008, "body": "This question isn&#39;t at all clear."}, {"owner": {"reputation": 86, "user_id": 6031642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ed04a53f319b75b96f89d256b3406ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lincoln Tosi", "link": "https://stackoverflow.com/users/6031642/lincoln-tosi"}, "edited": false, "score": 0, "creation_date": 1457553285, "post_id": 35901277, "comment_id": 59463055, "body": "possible duplicate <a href=\"http://stackoverflow.com/questions/6287479/how-to-use-a-struct-inside-another-struct\" title=\"how to use a struct inside another struct\">stackoverflow.com/questions/6287479/&hellip;</a>"}, {"owner": {"reputation": 284, "user_id": 5559943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01524c74d09cb8949c04555259719ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahesa", "link": "https://stackoverflow.com/users/5559943/ahesa"}, "edited": false, "score": 0, "creation_date": 1457553301, "post_id": 35901277, "comment_id": 59463059, "body": "First why have you declared mystruct1 inside mystruct ? That is a little weird... Second, why not use a class (you could have a public struct in your class I suppose) ? Third what are you trying to do ?"}, {"owner": {"reputation": 1026, "user_id": 5583153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116adeea4dcb2db23e70b696d4949184?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/5583153/nacho"}, "reply_to_user": {"reputation": 284, "user_id": 5559943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01524c74d09cb8949c04555259719ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahesa", "link": "https://stackoverflow.com/users/5559943/ahesa"}, "edited": false, "score": 0, "creation_date": 1457555135, "post_id": 35901277, "comment_id": 59464113, "body": "@ahesa What would be the difference in using a class with a public structure to a structure with a structure?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 86, "user_id": 6031642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ed04a53f319b75b96f89d256b3406ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lincoln Tosi", "link": "https://stackoverflow.com/users/6031642/lincoln-tosi"}, "edited": false, "score": 0, "creation_date": 1457555721, "post_id": 35901277, "comment_id": 59464490, "body": "@LincolnTosi That question is not defining the second struct inside the first, it&#39;s just using it."}], "answers": [{"comments": [{"owner": {"reputation": 639, "user_id": 5244321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IgMmC.jpg?s=128&g=1", "display_name": "Ela", "link": "https://stackoverflow.com/users/5244321/ela"}, "edited": false, "score": 0, "creation_date": 1457553631, "post_id": 35901356, "comment_id": 59463276, "body": "Thank you very much. The second one is what I was looking for."}, {"owner": {"reputation": 1026, "user_id": 5583153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116adeea4dcb2db23e70b696d4949184?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/5583153/nacho"}, "reply_to_user": {"reputation": 639, "user_id": 5244321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IgMmC.jpg?s=128&g=1", "display_name": "Ela", "link": "https://stackoverflow.com/users/5244321/ela"}, "edited": false, "score": 1, "creation_date": 1457555019, "post_id": 35901356, "comment_id": 59464045, "body": "@Ella You can thank by accepting the answer and/or upvoting"}, {"owner": {"reputation": 3910, "user_id": 1770952, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/743e6716b63a6502a10a212655005e81?s=128&d=identicon&r=PG", "display_name": "Ivan Gritsenko", "link": "https://stackoverflow.com/users/1770952/ivan-gritsenko"}, "reply_to_user": {"reputation": 639, "user_id": 5244321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IgMmC.jpg?s=128&g=1", "display_name": "Ela", "link": "https://stackoverflow.com/users/5244321/ela"}, "edited": false, "score": 0, "creation_date": 1457555604, "post_id": 35901356, "comment_id": 59464412, "body": "@Ella, consider <a href=\"http://i.stack.imgur.com/QpogP.png\" rel=\"nofollow noreferrer\">accepting</a> the answer if it helped."}], "tags": [], "owner": {"reputation": 3910, "user_id": 1770952, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/743e6716b63a6502a10a212655005e81?s=128&d=identicon&r=PG", "display_name": "Ivan Gritsenko", "link": "https://stackoverflow.com/users/1770952/ivan-gritsenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1457553325, "creation_date": 1457553325, "answer_id": 35901356, "question_id": 35901277, "link": "https://stackoverflow.com/questions/35901277/syntax-for-declaring-an-instance-of-a-nested-struct/35901356#35901356", "title": "Syntax for declaring an instance of a nested struct", "body": "<p>Inside <code>mystruct</code> you can do it as you would expect it to be</p>\n\n<pre><code>mystruct1 a;\n</code></pre>\n\n<p>If you are out of scope of <code>mystruct</code> you should write</p>\n\n<pre><code>mystruct::mystruct1 a;\n</code></pre>\n"}], "owner": {"reputation": 639, "user_id": 5244321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IgMmC.jpg?s=128&g=1", "display_name": "Ela", "link": "https://stackoverflow.com/users/5244321/ela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 35901356, "answer_count": 1, "score": 0, "last_activity_date": 1458024340, "creation_date": 1457553042, "last_edit_date": 1458024340, "question_id": 35901277, "link": "https://stackoverflow.com/questions/35901277/syntax-for-declaring-an-instance-of-a-nested-struct", "title": "Syntax for declaring an instance of a nested struct", "body": "<p>This is my code:</p>\n\n<pre><code>struct mystruct\n{  \n    int m;\n    void setmember(int value);\n    int getmember();\n    struct mystruct1\n    {\n        int n;\n        void setmember1(int value);\n        int getmember1();\n    };\n};\nmystruct A;\n</code></pre>\n\n<p>How do I declare a <code>mystruct1</code> variable outside of <code>mystruct</code>?</p>\n"}, {"tags": ["c++", "inheritance", "virtual"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1457552977, "post_id": 35901243, "comment_id": 59462878, "body": "Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem please."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 2, "creation_date": 1457553033, "post_id": 35901243, "comment_id": 59462913, "body": "Deleting a null pointer should not cause a crash."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457553423, "post_id": 35901243, "comment_id": 59463132, "body": "Where did you put the <code>virtual</code> keyword. In the base class definition or higher up?"}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1457554337, "post_id": 35901243, "comment_id": 59463672, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11320822/why-does-calling-method-through-null-pointer-work-in-c\">Why does calling method through null pointer &quot;work&quot; in C++?</a>"}, {"owner": {"reputation": 22, "user_id": 2558326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHa2.png?s=128&g=1", "display_name": "Quit", "link": "https://stackoverflow.com/users/2558326/quit"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1457555048, "post_id": 35901243, "comment_id": 59464063, "body": "@Jean-Baptiste Yun&#232;s how is the problem of virtual/non-virtual function making a difference between how the app runs a duplicate of the question you have linked again?"}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1457555562, "post_id": 35901243, "comment_id": 59464391, "body": "Because with a virtual method, another mechanism is involved that needs to dereference the (here null) pointer to retrieve the right function to call... With non virtual you basically have something like  a call to <code>saveState(nullptr)</code> while with a virtual method you would have <code>m_ptr=find_method_in(nullptr,SAVESTATEID); m_ptr(nullptr);</code> and the <i>first</i> expression need to examine the structure passed as first parameter..."}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1457553456, "creation_date": 1457553456, "answer_id": 35901403, "question_id": 35901243, "link": "https://stackoverflow.com/questions/35901243/calling-empty-virtual-function-from-a-base-class-pointer-fails/35901403#35901403", "title": "Calling empty virtual function from a base class pointer fails", "body": "<p>Calling an empty method through <code>nullptr</code> has undefined behaviour but does not have to crash your program, as no data is accessed. Calling virtual function though requires to look for vtable, which brings behavior you see. But even if your program did not crash it does not make it valid.</p>\n\n<p>On another side deleting <code>nullptr</code> is valid and leads to no-op.</p>\n"}, {"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 3, "last_activity_date": 1457554765, "last_edit_date": 1457554765, "creation_date": 1457553579, "answer_id": 35901447, "question_id": 35901243, "link": "https://stackoverflow.com/questions/35901243/calling-empty-virtual-function-from-a-base-class-pointer-fails/35901447#35901447", "title": "Calling empty virtual function from a base class pointer fails", "body": "<pre><code>class State\n{\npublic:\n    void saveState() {};\n}\n//...\n    State* state = nullptr;\n    state-&gt;saveState();\n//...\n</code></pre>\n\n<p>Because saveState is non-virtual here, you are simply calling a function that quietly takes a <code>this</code> pointer as the first argument.</p>\n\n<p>The function does nothing, so nothing happens, infact the compiler may even be able to elide the function and the call to it entirely. If your function had tried to reference a member variable, it would have crashed. You've basically invoked Undefined Behavior and gotten lucky - mostly because you did nothing in the function.</p>\n\n<p>When you make the function virtual, the program has to dereference the object to find it's <em>vtable</em> (virtual function table) which means it dereferences a nullptr and that's why you get a crash.</p>\n\n<p>You also asked why deleting a null pointer doesn't crash: that's because, unlike free, it is legal to delete a null pointer -- basically delete does the check for you.</p>\n"}], "owner": {"reputation": 22, "user_id": 2558326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHa2.png?s=128&g=1", "display_name": "Quit", "link": "https://stackoverflow.com/users/2558326/quit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "closed_date": 1458194588, "accepted_answer_id": 35901447, "answer_count": 2, "score": -2, "last_activity_date": 1457651390, "creation_date": 1457552905, "last_edit_date": 1457651390, "question_id": 35901243, "link": "https://stackoverflow.com/questions/35901243/calling-empty-virtual-function-from-a-base-class-pointer-fails", "closed_reason": "Not suitable for this site", "title": "Calling empty virtual function from a base class pointer fails", "body": "<p>While writing my first piece of software, I encountered a \"strange\" behavior when playing with virtual functions, inheritance, and pointers. What I had was a template class State, that had a following function in the public interface</p>\n\n<pre><code>void State::saveState() {};\n</code></pre>\n\n<p>When the app was first fired up, in order to set a default state, it was calling a <code>setState()</code> function within the manager function, that roughly goes as follows</p>\n\n<pre><code>case(some enum):\n{\n    mActiveState-&gt;saveState();\n    delete mActiveState; \n    mActiveState = new SomeStateClassDerivedFromState();\n    mActiveState-&gt;setup(some arguments);\n    break;\n}\n</code></pre>\n\n<p>Now for the strange thing - the first two lines of this code should cause a run-time error, or something similar. If this function is used to CHANGE the state, then it should be fine. But it was also used for the assignment of some object/memory for <code>State::mActiveState</code>, which at that point is <code>nullptr</code>. But it didn't crash for some reason, program executed as expected. But then, I wanted to override the <code>saveState()</code> function in one of the classes inheriting from State, so I added a virtual tag to the function (body remained empty), and wrote a definition for <code>saveState()</code> in the derived class. Suddenly, these two lines started crashing the app at startup (as expected). Removing the virtual tag from <code>saveState()</code> made the app run again.</p>\n\n<p>Why didn't calling a member function and deleting a <code>nullptr</code> cause a crash until the <code>saveState()</code> member function was declared as virtual (with empty body, not pure virtual)?</p>\n\n<p>This code recreates the problem</p>\n\n<pre><code>class State\n{\npublic:\nvoid saveState() {};\n}\n\nclass DState : public State\n{\nsaveState() {};\n}\n\nint main()\n{\nState* state = nullptr;\nstate-&gt;saveState();\ndelete state;\nstate = new DState();\n}\n</code></pre>\n\n<p>This worked. The moment I added virtual tag to the <code>saveState()</code> function in the State class, it crashed on start. My question again, why?</p>\n"}, {"tags": ["c++", "std", "aix"], "comments": [{"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1457610021, "post_id": 35901216, "comment_id": 59489389, "body": "@OP Hi, exactly what is your question?"}, {"owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "reply_to_user": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1457624736, "post_id": 35901216, "comment_id": 59500378, "body": "@LorinczyZsigmond, My question is that I can compile the code in gcc, but xlC cannot compile it. I do not know if I miss any xlC compilation options or not."}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1457673572, "post_id": 35901216, "comment_id": 59522737, "body": "You didn&#39;t specify the xlC compiler-options you used, nor the version of xlC. Nonetheless, I think there is nothing wrong with your xlC, it&#39;s simply C++ being itself."}, {"owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1457716995, "post_id": 35901216, "comment_id": 59549122, "body": "@ZsigmondL\u0151rinczy: I compiled the code with &#39;xlC main.cc&#39; w/o other options. I did &#39;xlC -v&#39;, it only shows me the help with IBM (2010) shown on the top. How do I get the version of xlC? Thank you."}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1457762206, "post_id": 35901216, "comment_id": 59564666, "body": "What does <code>xlC -qversion</code> say?"}, {"owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "edited": false, "score": 0, "creation_date": 1457834997, "post_id": 35901216, "comment_id": 59586251, "body": "IBM XL C/C++ for AIX, V11.1 (5724-X13) version: 11.01.0000.0006"}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 1, "creation_date": 1458043318, "post_id": 35901216, "comment_id": 59672857, "body": "You might try to upgrade to V12.1 or V13.1 or even to g++"}, {"owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1458097840, "post_id": 35901216, "comment_id": 59702928, "body": "@ZsigmondL\u0151rinczy. Unfortunately I cannot update xlC. I manually rewrote the above w/o using iterators."}], "owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457552810, "creation_date": 1457552810, "question_id": 35901216, "link": "https://stackoverflow.com/questions/35901216/xlc-at-aix-6-1-cannot-compile-between-string-iterator", "title": "xlC at AIX 6.1 cannot compile != between string iterator", "body": "<p>It seems that xlC in AIX 6.1 cannot compile reverse_iterator. For example,</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n\nbool isNonZero(const char c) {\n  return c != '0';\n}\n\nvoid test()   {\n  std::string str;\n  const std::string::const_reverse_iterator rit_non_zero = std::find_if(str.rbegin(), str.rend(), isNonZero);\n\n  if( rit_non_zero != str.rbegin())\n    {\n      const std::string::size_type ofs = str.length() - std::distance&lt;std::string::const_reverse_iterator&gt;(str.rbegin(), rit_non_zero);\n      str.erase(str.begin() + ofs, str.end());\n    }\n}\n</code></pre>\n\n<p>It complains that The call at  </p>\n\n<pre><code>rit_non_zero != str.rbegin()\n</code></pre>\n\n<p>does not match any parameter list for \"operator!=\".</p>\n"}, {"tags": ["c++", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4437775, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Tted8.jpg?s=128&g=1", "display_name": "axeMaltesse", "link": "https://stackoverflow.com/users/4437775/axemaltesse"}, "edited": false, "score": 0, "creation_date": 1457556426, "post_id": 35902107, "comment_id": 59464886, "body": "Hi, thank you for your answer.  I really don&#39;t know why it doesn&#39;t want to open, but I will install Linux and put Windows to the bin in next few minutes. :) Ps: permissions are fine"}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 67, "user_id": 4437775, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Tted8.jpg?s=128&g=1", "display_name": "axeMaltesse", "link": "https://stackoverflow.com/users/4437775/axemaltesse"}, "edited": false, "score": 0, "creation_date": 1457558669, "post_id": 35902107, "comment_id": 59466153, "body": "Fantastic idea. :)   I&#39;m kidding, of course. And excuse me: I&#39;m so used to Unix / Linux that I didn&#39;t think that your system could be without &quot;chmod&quot;."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 2, "last_activity_date": 1457555978, "creation_date": 1457555978, "answer_id": 35902107, "question_id": 35901201, "link": "https://stackoverflow.com/questions/35901201/cpp-cannot-open-the-file/35902107#35902107", "title": "Cpp - Cannot open the file", "body": "<p>First of all: sorry for my bad English.</p>\n\n<p>Second: are you sure that file.txt is in the right directory?</p>\n\n<p>And what about read permission? Try with</p>\n\n<pre><code>chmod ugo+r file.txt\n</code></pre>\n\n<p>To me it works; or, at least, it opens the file.</p>\n\n<p>However, I do not think the program is working as you expect: it reads the values but prints, each time, the three random values which are inizialized in the members of 'm'.</p>\n\n<p>You should change it this way</p>\n\n<pre><code>ifstream file(\"file.txt\");\nif (file.is_open()) {\n   mystruct m;\n   while (file &gt;&gt; m.x &gt;&gt; m.y &gt;&gt; m.a)\n      cout &lt;&lt; m.x &lt;&lt; endl &lt;&lt; m.y &lt;&lt; endl &lt;&lt; m.a &lt;&lt; endl;\n}\nelse\n   cout &lt;&lt; \"Cannot open the file\";\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4437775, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Tted8.jpg?s=128&g=1", "display_name": "axeMaltesse", "link": "https://stackoverflow.com/users/4437775/axemaltesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 35902107, "answer_count": 1, "score": 0, "last_activity_date": 1457555978, "creation_date": 1457552765, "question_id": 35901201, "link": "https://stackoverflow.com/questions/35901201/cpp-cannot-open-the-file", "title": "Cpp - Cannot open the file", "body": "<p>I have a simple problem with reading the file. I am trying to open a file which is included to the resource files as .txt file. The problem appear when I am trying to compile it and print it from the structure.    </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nstruct mystruct\n{\ndouble x, y;\nint a;\n\n};\n\n\nint main()\n{\nusing namespace std;\n\nifstream file(\"file.txt\");\ndouble x, y;\nint a;\nif (file.is_open()) {\n    while (file &gt;&gt; x &gt;&gt; y &gt;&gt; a)\n    {\n        mystruct m;\n        m.x;\n        m.y;\n        m.a;\n\n        cout &lt;&lt; m.x &lt;&lt; endl &lt;&lt; m.y &lt;&lt; endl &lt;&lt; m.a &lt;&lt; endl;\n    }\n}\nelse\n    cout &lt;&lt; \"Cannot open the file\";\n\nreturn 0;\n}\n</code></pre>\n\n<p>I am using that wired shifting because in my file I have three different values which I have to store for three different variables in my structure.</p>\n\n<p>Why my file is not visible and cannot be opened?</p>\n\n<p>Here is the link to file.txt source: <a href=\"http://wklej.org/hash/05290721372/\" rel=\"nofollow\">http://wklej.org/hash/05290721372/</a></p>\n\n<p>And also here is my CMakeLists.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.3)\nproject(reading_from_file)\n\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\n\nset(SOURCE_FILES main.cpp)\nadd_executable(reading_from_file ${SOURCE_FILES})\n</code></pre>\n\n<p>Maybe here is the problem why the file is not visible.</p>\n\n<p>Thank you for the help!    </p>\n"}, {"tags": ["c++", "arrays", "integer"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457552244, "post_id": 35900988, "comment_id": 59462451, "body": "You should read the numbers inside the for loop."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 3, "creation_date": 1457552256, "post_id": 35900988, "comment_id": 59462460, "body": "Where in the code is <code>A</code> filled up with numbers?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1457552276, "post_id": 35900988, "comment_id": 59462473, "body": "You should be using a Standard Library container instead of a fixed-sized array here. What is <code>max</code> and how can you be sure it&#39;s sufficiently big?"}, {"owner": {"reputation": 935, "user_id": 1760066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293fa3da8a563938d262ce9aafef4e0f?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1760066/jon"}, "edited": false, "score": 0, "creation_date": 1457552327, "post_id": 35900988, "comment_id": 59462499, "body": "Can you paste your output so we can get a better idea what&#39;s going on?"}, {"owner": {"reputation": 787, "user_id": 890548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/173Kr.png?s=128&g=1", "display_name": "wesley.mesquita", "link": "https://stackoverflow.com/users/890548/wesley-mesquita"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457552398, "post_id": 35900988, "comment_id": 59462533, "body": "If you to get help on this expose what you have in &quot;ints.txt&quot;. As @EdHeal said, A is never touched."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 935, "user_id": 1760066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293fa3da8a563938d262ce9aafef4e0f?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1760066/jon"}, "edited": false, "score": 0, "creation_date": 1457552413, "post_id": 35900988, "comment_id": 59462544, "body": "@Jon Please no, it&#39;s already easy to spot what&#39;s going on. <code>A[i]</code> is never read in from the file."}, {"owner": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457552553, "post_id": 35900988, "comment_id": 59462609, "body": "in ints.txt i have integers like totaly random 2 3 55 322 45 21 and so on"}, {"owner": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457553127, "post_id": 35900988, "comment_id": 59462964, "body": "what do you mean by A is never touched?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1457553350, "post_id": 35900988, "comment_id": 59463082, "body": "This isn&#39;t the problem, but note that in the argument list here, <code>int A[max]</code> is the same as <code>int A[10]</code> is the same as <code>int A[]</code> is the same as <code>int* A</code>. In most cases, the name of an array decays into a pointer to the first element."}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457552728, "post_id": 35901066, "comment_id": 59462713, "body": "As the poster is a novice a bit of explanation would not go amiss."}, {"owner": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457552738, "post_id": 35901066, "comment_id": 59462723, "body": "i shouldn&#39;t be using vectors, sorry i should say that in description"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457553285, "post_id": 35901066, "comment_id": 59463054, "body": "@vidooo updated in response. If you can&#39;t use templates, replace N with a number of choice."}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 3, "last_activity_date": 1457553249, "last_edit_date": 1457553249, "creation_date": 1457552374, "answer_id": 35901066, "question_id": 35900988, "link": "https://stackoverflow.com/questions/35900988/c-read-integers-from-file-and-save-into-array/35901066#35901066", "title": "C++ read integers from file and save into array", "body": "<pre><code>std::vector&lt;int&gt; read_ints(std::istream&amp; is)\n{\n    std::vector&lt;int&gt; result;\n    std::copy(std::istream_iterator&lt;int&gt;(is),\n              std::istream_iterator&lt;int&gt;(),\n              std::back_inserter(result));\n    return result;\n}\n</code></pre>\n\n<p>If you can't use vectors, you've got a problem because you now need to check for end of file and for running out of space in your array...</p>\n\n<p>this function will check for both, and return the number of integers that have been placed into the buffer:</p>\n\n<pre><code>template&lt;size_t N&gt;\nsize_t read_ints(int (&amp;dest)[N], std::istream&amp; is)\n{\n    size_t i = 0;\n    while (i &lt; N &amp;&amp; is &gt;&gt; dest[i]) {\n        ++i;\n    }\n    return i;\n}\n</code></pre>\n\n<p>non-template version:</p>\n\n<pre><code>#define BUFFER_LEN 100\n\nsize_t read_ints(int (&amp;dest)[BUFFER_LEN], std::istream&amp; is)\n{\n    size_t i = 0;\n    while (i &lt; BUFFER_LEN &amp;&amp; is &gt;&gt; dest[i]) {\n        ++i;\n    }\n    return i;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457553611, "post_id": 35901345, "comment_id": 59463260, "body": "at what point do you store integers in your array, in for loop?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "edited": false, "score": 0, "creation_date": 1457553759, "post_id": 35901345, "comment_id": 59463346, "body": "Since this looks like an educational assignment, I&#39;m not going to give you the full working example, but it should be obvious that you need to read-&gt;store them before you try to print them. See where I put my comment."}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 2, "last_activity_date": 1457553284, "creation_date": 1457553284, "answer_id": 35901345, "question_id": 35900988, "link": "https://stackoverflow.com/questions/35900988/c-read-integers-from-file-and-save-into-array/35901345#35901345", "title": "C++ read integers from file and save into array", "body": "<p>You don't store the numbers in the array at any point:</p>\n\n<pre><code>void read(int A[max], int&amp; numbers) { \n    ifstream file(\"ints.txt\");\n    if (file.is_open()) {\n        file &gt;&gt; numbers;\n\n        for (int i = 0; i &lt; numbers; i++) {\n            // you're printing A[i] but you haven't stored\n            // anything there.\n            cout &lt;&lt; \"numbers: \" &lt;&lt; A[i] &lt;&lt; endl;\n</code></pre>\n\n<p>I assume that <code>numbers</code> is the number of entries in the file and that you intended to read the values the same way you read <code>numbers</code> but into A[i].</p>\n\n<pre><code>cin &gt;&gt; A[i];\n</code></pre>\n\n<p>The last part of your code also tries to print beyond the last entry of the array:</p>\n\n<pre><code>cout &lt;&lt; \"numbers in array: \" &lt;&lt; A[numbers] &lt;&lt; endl;\n</code></pre>\n\n<p>Remember, C++ arrays are 0 based, so <code>A[numbers]</code> is the *numbers + 1*th entry.</p>\n"}], "owner": {"reputation": 135, "user_id": 6036036, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0928cee13792d41d5f664c9b5fd399e?s=128&d=identicon&r=PG&f=1", "display_name": "vidooo", "link": "https://stackoverflow.com/users/6036036/vidooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8297, "favorite_count": 0, "accepted_answer_id": 35901345, "answer_count": 2, "score": 1, "last_activity_date": 1457553284, "creation_date": 1457552123, "last_edit_date": 1457552671, "question_id": 35900988, "link": "https://stackoverflow.com/questions/35900988/c-read-integers-from-file-and-save-into-array", "title": "C++ read integers from file and save into array", "body": "<p>I'm making a program that reads only integers from text file.  I want to make a function that reads integers and stores them in an array so I can use that array later to sort them with bubble sort. This is what I have so far but the output I get is some random -803234.... number :</p>\n\n<pre><code>void read(int A[max], int&amp; numbers) { \n    ifstream file(\"ints.txt\");\n    if (file.is_open()) {\n        file &gt;&gt; numbers;\n\n        for (int i = 0; i &lt; numbers; i++) {\n            cout &lt;&lt; \"numbers: \" &lt;&lt; A[i] &lt;&lt; endl;\n        }\n        file.close();\n    }\n    cout &lt;&lt; \"numbers in array: \" &lt;&lt; A[numbers] &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "llvm"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 14, "creation_date": 1457551874, "post_id": 35900866, "comment_id": 59462229, "body": "Maybe because <code>std::make_unique</code> didn&#39;t exist in C++11"}, {"owner": {"reputation": 924, "user_id": 2165046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1hN4t.png?s=128&g=1", "display_name": "Saraph", "link": "https://stackoverflow.com/users/2165046/saraph"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457551964, "post_id": 35900866, "comment_id": 59462286, "body": "@Praetorian I completely overlooked that. Makes sense."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1457554272, "post_id": 35900866, "comment_id": 59463633, "body": "@Praetorian, seeing as that apparently solved the question, could you actually post that as an answer?"}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 2, "creation_date": 1483931761, "post_id": 35900866, "comment_id": 70286035, "body": "In the current version of the tutorial they appear to use both, I&#39;m assuming it&#39;s a mistake?: <a href=\"http://llvm.org/docs/tutorial/LangImpl02.html\" rel=\"nofollow noreferrer\">llvm.org/docs/tutorial/LangImpl02.html</a>"}, {"owner": {"reputation": 924, "user_id": 2165046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1hN4t.png?s=128&g=1", "display_name": "Saraph", "link": "https://stackoverflow.com/users/2165046/saraph"}, "edited": false, "score": 0, "creation_date": 1483962246, "post_id": 35900866, "comment_id": 70299251, "body": "I would think so. They don&#39;t seem to be compiling with C++14."}, {"owner": {"reputation": 1180, "user_id": 4603507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98e667a16bc113e946a343dfa84de4c?s=128&d=identicon&r=PG&f=1", "display_name": "Olsonist", "link": "https://stackoverflow.com/users/4603507/olsonist"}, "edited": false, "score": 0, "creation_date": 1591119673, "post_id": 35900866, "comment_id": 109932918, "body": "LLVM moved to C++14 in 2019 and now uses std::make_unique()."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3899728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dba3789f5fee78c6a7efcd27498fe7c?s=128&d=identicon&r=PG", "display_name": "Skywave", "link": "https://stackoverflow.com/users/3899728/skywave"}, "edited": false, "score": 1, "creation_date": 1574388460, "post_id": 51220311, "comment_id": 104225119, "body": "just remind that recently they adapted C++14 and replaced <code>llvm::make_unique</code> with <code>std::make_unique</code> - <a href=\"https://reviews.llvm.org/D66259\" rel=\"nofollow noreferrer\">reviews.llvm.org/D66259</a>"}], "tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 8, "last_activity_date": 1531007116, "last_edit_date": 1592644375, "creation_date": 1530942407, "answer_id": 51220311, "question_id": 35900866, "link": "https://stackoverflow.com/questions/35900866/what-is-the-purpose-of-llvmmake-unique/51220311#51220311", "title": "What is the purpose of llvm::make_unique?", "body": "<h3>TL;DR;</h3>\n<p>LLVM is written using C++11 conforming code while <a href=\"https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique\" rel=\"noreferrer\">std::make_unique</a> is a C++14 feature. So if they want <code>make_unique</code> they need to implement it.</p>\n<h3>Details</h3>\n<p>If we go to the <a href=\"https://llvm.org/docs/CodingStandards.html\" rel=\"noreferrer\">LLVM Coding Standards</a> the <a href=\"https://llvm.org/docs/CodingStandards.html#c-standard-versions\" rel=\"noreferrer\">C++ Standard Versions section</a> says:</p>\n<blockquote>\n<p>LLVM, Clang, and LLD are <strong>currently written using C++11 conforming code</strong>, although we restrict ourselves to features which are available in the major toolchains supported as host compilers. The LLDB project is even more aggressive in the set of host compilers supported and thus uses still more features. Regardless of the supported features, code is expected to (when reasonable) be standard, portable, and modern C++11 code. We avoid unnecessary vendor-specific extensions, etc.</p>\n</blockquote>\n<p>We can see from <a href=\"https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique\" rel=\"noreferrer\">cppreference</a> that <code>std::make_unique</code> is a C++14 feature.  If they want to use <code>make_unique</code> then they can't use the std version.</p>\n<p>We can see from a recent <a href=\"https://lists.llvm.org/pipermail/llvm-dev/2018-May/123182.html\" rel=\"noreferrer\">llvm-dev discussion</a> that moving to C++14 is still an open subject.</p>\n"}], "owner": {"reputation": 924, "user_id": 2165046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1hN4t.png?s=128&g=1", "display_name": "Saraph", "link": "https://stackoverflow.com/users/2165046/saraph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2596, "favorite_count": 0, "accepted_answer_id": 51220311, "answer_count": 1, "score": 14, "last_activity_date": 1591174000, "creation_date": 1457551718, "last_edit_date": 1591174000, "question_id": 35900866, "link": "https://stackoverflow.com/questions/35900866/what-is-the-purpose-of-llvmmake-unique", "title": "What is the purpose of llvm::make_unique?", "body": "<p>In llvm's compiler implementation tutorial (e.g. <a href=\"https://llvm.org/docs/tutorial/MyFirstLanguageFrontend/LangImpl02.html\" rel=\"nofollow noreferrer\">here</a>) <code>llvm::make_unique</code> is used. What is the reason they aren't using <code>std::make_unique</code>? I wasn't able to find any clear documentation on this.</p>\n"}, {"tags": ["c++", "file-io", "operator-overloading", "member-functions"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457551478, "post_id": 35900705, "comment_id": 59461987, "body": "<i><code>friend std::ostream &amp;operator &lt;&lt; ( std::ostream &amp;, Rectangle &amp; );</code></i> should be <code>friend std::ostream &amp;operator &lt;&lt; ( std::ostream &amp;, const Rectangle &amp; );</code> in 1st place."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457551602, "post_id": 35900705, "comment_id": 59462063, "body": "<code>void Rectangle:: wrap(){</code> should have a <code>std::ostream&amp;</code> parameter instead of writing to <code>std::cout</code> . Same for <code>define()</code>. Weird function naming BTW."}, {"owner": {"reputation": 39, "user_id": 5298252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1de9f9de5aba81933b490f35cfd19e7a?s=128&d=identicon&r=PG&f=1", "display_name": "scubasteve7", "link": "https://stackoverflow.com/users/5298252/scubasteve7"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457554931, "post_id": 35900705, "comment_id": 59463997, "body": "Im afraid I don&#39;t quite follow, do you mean i need to write  void Rectangle:: wrap(std::ostream&amp;){"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457555038, "post_id": 35900705, "comment_id": 59464054, "body": "Yes, something like this would go into the right direction."}, {"owner": {"reputation": 39, "user_id": 5298252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1de9f9de5aba81933b490f35cfd19e7a?s=128&d=identicon&r=PG&f=1", "display_name": "scubasteve7", "link": "https://stackoverflow.com/users/5298252/scubasteve7"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457555993, "post_id": 35900705, "comment_id": 59464649, "body": "So when i change the wrap member function definition parameter from void to (std::ostream&amp;). what do i do down in main, when calling box1.wrap() ?"}], "owner": {"reputation": 39, "user_id": 5298252, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1de9f9de5aba81933b490f35cfd19e7a?s=128&d=identicon&r=PG&f=1", "display_name": "scubasteve7", "link": "https://stackoverflow.com/users/5298252/scubasteve7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457556468, "creation_date": 1457551206, "last_edit_date": 1457556468, "question_id": 35900705, "link": "https://stackoverflow.com/questions/35900705/how-to-file-i-o-member-functions-or-overload-operator", "title": "How to File i/o member functions, or overload &lt;&lt;operator?", "body": "<p>So I wrote my program to work in the command prompt first before trying to output it into a file. It works perfectly in the command prompt, but I run into major issues when trying to output member function data to the file. At the momemnt to circumevent this shortcomming i simply declared a int temp variable in main to store the get function values. then i fileout the temp value for each value that i need. However there is a function (define) that takes the length and width values and determines if it is a square or if it is a rectangle. This works just fine in the command line, but it will simply say everything is a square in the output file.</p>\n\n<p>I have heard of a way of directly outputting member functions by overloading the (&lt;&lt; operator), but when i look at the example in the book i cant work out the syntax issues. If I were to be able to just write \"box_out &lt;&lt; wrap();\" that would solve all of my issues. The wrap() function wraps all of the values into one statement and the displays the message.</p>\n\n<p>So essentially what I am need help with is to either improve my file out statments, or to overload the &lt;&lt; operator that would allow me to say box_out&lt;\n\n<pre><code>      /*\n  c++ programming\n  Asmt2\n  box_new\n  Takes in defined object parameters and user defined parameters and gives you the lenth width area parameter and whether or not it is a square.\n  *-*-*Stand-alone file*-*-*\n  */\n  #include &lt;fstream&gt;\n  #include &lt;iostream&gt;\n  #include &lt;stdio.h&gt;\n  #include &lt;stdlib.h&gt;\n  #include &lt;string&gt;\n  #include &lt;cmath&gt;\n  using namespace std;\n\n  class Rectangle{\n    public:\n      Rectangle();\n      Rectangle(float len);\n      Rectangle(float len, float wid);\n      ~Rectangle();\n\n\n      void setLength(float len);\n      void setWidth(float wid);\n      float getLength();\n      float getWidth();\n      float getPerimeter(void);\n      float getArea(void);\n      int define(float width, float length);\n      void wrap();\n\n      friend std::ostream &amp;operator &lt;&lt; ( std::ostream &amp;, Rectangle &amp; );\n    private:\n      float length;\n      float width;\n      float area;\n      float Perimeter;\n\n    };\n\n\n    Rectangle::Rectangle(){\n      setLength(1.0);\n      setWidth(1.0);\n    }\n\n    Rectangle::Rectangle(float length){\n      setLength(length);\n      setWidth(1.0);\n\n    }\n\n    Rectangle::Rectangle(float length, float width){\n      setLength(length);\n      setWidth(width);\n    }\n\n\n\n      void Rectangle:: setLength (float len){\n        if(len &gt; 0.0 &amp;&amp; len &lt; 20.0){\n          length = len;\n        }else{\n          cout &lt;&lt; \"\\n*-*-*Invalid input setting to default setting of 1.0*-*-*\"&lt;&lt;endl;\n          len = 1.0;\n          length = len;\n        }\n      }\n\n\n\n      void Rectangle:: setWidth (float wid){\n        if(wid &gt; 0.0 &amp;&amp; wid &lt; 20.0){\n          width = wid;\n        }else{\n          cout &lt;&lt; \"\\n*-*-*Invalid input setting to default setting of 1.0*-*-*\"&lt;&lt;endl;\n          wid = 1.0;\n          width = wid;\n        }\n      }\n\n\n      float Rectangle:: getLength(){\n        return length;\n      }\n\n      float Rectangle:: getWidth(){\n        return width;\n      }\n\n      float Rectangle:: getPerimeter (void){\n        getLength();\n        getWidth();\n        Perimeter = (2 * length) + (2 * width);\n        return Perimeter;\n      }\n\n      float Rectangle:: getArea (void){\n        area = length * width;\n        return area;\n      }\n\n      int Rectangle:: define (float width, float length){\n        if(fabs(width - length) &lt; .0001){\n          cout &lt;&lt;\"You have a Square!\"&lt;&lt;endl;\n          return 1;\n        }else{\n          cout &lt;&lt;\"You have a Rectangle!\"&lt;&lt;endl;\n          return 2;\n        }\n      }\n\n      void Rectangle:: wrap(){\n        cout &lt;&lt; \"The length is: \" &lt;&lt; length &lt;&lt; endl &lt;&lt; \"The width is: \" &lt;&lt; width &lt;&lt; endl;\n        cout &lt;&lt; \"The box has a Perimeter of: \"&lt;&lt; getPerimeter() &lt;&lt; endl &lt;&lt; \"The box has an area of: \" &lt;&lt; getArea() &lt;&lt; endl;\n        define( length, width);\n      }\n\n      Rectangle::~Rectangle(){\n        cout &lt;&lt; \"The object with a lenth of \" &lt;&lt; length &lt;&lt; \" and a width of \" &lt;&lt; width &lt;&lt; \" has gone out of scope. \\n\";\n      }\n      ostream &amp;operator &lt;&lt; (ostream &amp;output, Rectangle &amp;display){\n            output &lt;&lt; \"Your lenth is: \" &lt;&lt; display.getLength()&lt;&lt; \"Your width is: \" &lt;&lt; display.getWidth()\n                   &lt;&lt; \"Your area is: \" &lt;&lt; display.getArea() &lt;&lt; \"Your Perimeter is: \" &lt;&lt; display.getPerimeter();\n          }\n\n\n\n  int main(void){\n\n    ofstream box_out;\n    box_out.open(\"box_out.txt\");\n\n    Rectangle box1;\n    Rectangle box2(7.1, 3.2);\n    Rectangle box3(6.3);\n    Rectangle box4(30,50);\n    Rectangle box5=box2;\n    Rectangle box6;//user defined\n\n  /*  float Perimeter = 0;\n    float area = 0;\n    float length = 0;\n    float width = 0;*/\n\n    float temp = 15;\n\n  //first box\n    cout &lt;&lt; \"*-*-*Your first box*-*-*\\n\";\n    box1.wrap();\n  //file output\n    box_out &lt;&lt; \"*-*-*Your fist box!*-*-*\";\n    temp = box1.getLength();\n    box_out &lt;&lt; \"   Your Length is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box1.getWidth();\n    box_out &lt;&lt; \"   Your Width is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box1.define(box1.getLength(), box1.getWidth());\n    if(temp == 1){\n      box_out &lt;&lt; \"   You have a Square!\";\n    }else if(temp == 2){\n      box_out &lt;&lt; \"   You have a Rectangle!\";\n    }\n    temp = box1.getPerimeter();\n    box_out &lt;&lt;\"   Your Perimeter is: \" &lt;&lt; temp;\n    temp = box1.getArea();\n    box_out &lt;&lt;\"   Your Area is: \" &lt;&lt; temp;\n  //second box\n    cout &lt;&lt; \"\\n*-*-*Your second box*-*-*\\n\";\n    box2.wrap();\n  //file outout\n    box_out &lt;&lt; \"   *-*-*Your second box!*-*-*\";\n    temp = box2.getLength();\n    box_out &lt;&lt; \"   Your Length is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box2.getWidth();\n    box_out &lt;&lt; \"   Your Width is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box2.define(box1.getLength(), box1.getWidth());\n    if(temp == 1){\n      box_out &lt;&lt; \"   You have a Square!\";\n    }else if(temp == 2){\n      box_out &lt;&lt; \"   You have a Rectangle!\";\n    }\n    temp = box2.getPerimeter();\n    box_out &lt;&lt;\"   Your Perimeter is: \" &lt;&lt; temp;\n    temp = box2.getArea();\n    box_out &lt;&lt;\"   Your Area is: \" &lt;&lt; temp;\n  //third box\n    cout &lt;&lt; \"\\n*-*-*Your third box*-*-*\\n\";\n    box3.wrap();\n  //file output\n    box_out &lt;&lt; \"   *-*-*Your third box!*-*-*\";\n    temp = box3.getLength();\n    box_out &lt;&lt; \"   Your Length is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box3.getWidth();\n    box_out &lt;&lt; \"   Your Width is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box3.define(box1.getLength(), box1.getWidth());\n    if(temp == 1){\n      box_out &lt;&lt; \"   You have a Square!\";\n    }else if(temp == 2){\n      box_out &lt;&lt; \"   You have a Rectangle!\";\n    }\n    temp = box3.getPerimeter();\n    box_out &lt;&lt;\"   Your Perimeter is: \" &lt;&lt; temp;\n    temp = box3.getArea();\n    box_out &lt;&lt;\"   Your Area is: \" &lt;&lt; temp;\n  //fourth box\n    cout &lt;&lt; \"\\n*-*-*Your fourth box*-*-*\\n\";\n    box4.wrap();\n  //file output\n    box_out &lt;&lt; \"   *-*-*Your fourth box!*-*-*\";\n    temp = box4.getLength();\n    box_out &lt;&lt; \"   Your Length is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box4.getWidth();\n    box_out &lt;&lt; \"   Your Width is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box4.define(box1.getLength(), box1.getWidth());\n    if(temp == 1){\n      box_out &lt;&lt; \"   You have a Square!\";\n    }else if(temp == 2){\n      box_out &lt;&lt; \"   You have a Rectangle!\";\n    }\n    temp = box4.getPerimeter();\n    box_out &lt;&lt;\"   Your Perimeter is: \" &lt;&lt; temp;\n    temp = box4.getArea();\n    box_out &lt;&lt;\"   Your Area is: \" &lt;&lt; temp;\n  //fifth box\n    cout &lt;&lt; \"\\n*-*-*Your fifth box*-*-*\\n\";\n    box5.wrap();\n  //file output\n    box_out &lt;&lt; \"   *-*-*Your fifth box!*-*-*\";\n    temp = box5.getLength();\n    box_out &lt;&lt; \"   Your Length is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box5.getWidth();\n    box_out &lt;&lt; \"   Your Width is: \" &lt;&lt; temp &lt;&lt; \"\\n\";\n    temp = box5.define(box1.getLength(), box1.getWidth());\n    if(temp == 1){\n      box_out &lt;&lt; \"   You have a Square!\";\n    }else if(temp == 2){\n      box_out &lt;&lt; \"   You have a Rectangle!\";\n    }\n    temp = box5.getPerimeter();\n    box_out &lt;&lt;\"   Your Perimeter is: \" &lt;&lt; temp;\n    temp = box5.getArea();\n    box_out &lt;&lt;\"   Your Area is: \" &lt;&lt; temp;\n\n\n    cout &lt;&lt; \"\\n*-*-*User-defined box*-*-*\\n\";\n    cout &lt;&lt; \"Enter your Length dimension\"&lt;&lt;endl;\n    cin &gt;&gt;temp;\n    box6.setLength(temp);\n    cout &lt;&lt; \"Enter your Width dimension\"&lt;&lt;endl;\n    cin &gt;&gt;temp;\n    box6.setWidth(temp);\n\n    box6.define(box6.getLength(),box6.getWidth());\n\n    cout &lt;&lt; \"Perimeter of box is : \" &lt;&lt; box6.getPerimeter() &lt;&lt;endl;\n\n\n    cout &lt;&lt; \"Area of Box is: \" &lt;&lt; box6.getArea() &lt;&lt;endl;\n\n\n\n    return 0;\n  }\n</code></pre>\n"}, {"tags": ["c++", "qt", "qcombobox", "qlineedit"], "comments": [{"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457554599, "post_id": 35900537, "comment_id": 59463801, "body": "&quot;My first problem was if I placed the cursor in between &#39;A&#39; and &#39;F&#39; and started typing the cursor would jump to the end after typing 1 letter.&quot; =&gt; Why ? Do you handle other signals ?"}, {"owner": {"reputation": 23, "user_id": 5045028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292e19bedf080cb0f3c30fd550aa7e98?s=128&d=identicon&r=PG&f=1", "display_name": "Doggman9", "link": "https://stackoverflow.com/users/5045028/doggman9"}, "reply_to_user": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457555145, "post_id": 35900537, "comment_id": 59464120, "body": "I never could find out.  I resorted to forcing the cursor position to fix that problem.  And yes, I handle two other signals QComboBox::currentIndexChanged() and QComboBox::editingFinished() but neither of those get triggered while editing the lineEdit text."}, {"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457555367, "post_id": 35900537, "comment_id": 59464266, "body": "Bad fix IMO. Beside what you&#39;ve explained, what else is special with your combo ? Why is your var named <code>QComboBox</code>, that&#39;s a class name ...? Did you test removing your other signal handlers ?"}, {"owner": {"reputation": 23, "user_id": 5045028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292e19bedf080cb0f3c30fd550aa7e98?s=128&d=identicon&r=PG&f=1", "display_name": "Doggman9", "link": "https://stackoverflow.com/users/5045028/doggman9"}, "reply_to_user": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457556003, "post_id": 35900537, "comment_id": 59464653, "body": "The QComboBox variable name is rcsObjectNameCombo.  There isn&#39;t anything special about it really.  It just holds text names for rcs objects and allows the user to make a new one.  Other than that all it has to do is call functions to update the name throughout the GUI.  There are some 20+ signal handlers in the dialog but only 3 pertain to this QComboBox (the ones mentioned in the previous comment)."}, {"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457556501, "post_id": 35900537, "comment_id": 59464939, "body": "So <code>QComboBox-&gt;lineEdit()</code> is not the real code ? What happens if you comment out all signal handlers related to the combo ?"}, {"owner": {"reputation": 23, "user_id": 5045028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292e19bedf080cb0f3c30fd550aa7e98?s=128&d=identicon&r=PG&f=1", "display_name": "Doggman9", "link": "https://stackoverflow.com/users/5045028/doggman9"}, "reply_to_user": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457557309, "post_id": 35900537, "comment_id": 59465377, "body": "Real code is <code>ui_-&gt;rcsObjectNameCombo-&gt;lineEdit()</code>.  If I comment all the signal handlers it works like it should.  The line that caused the original problem is  <code>ui_-&gt;rcsObjectNameCombo-&gt;setItemText(comboIdx, text);</code> inside the <code>textChanged(text)</code> slot.  That&#39;s a critical part of how everything else is updated so I&#39;ll have to rework it I guess...thanks for the help."}, {"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1457562310, "post_id": 35900537, "comment_id": 59468135, "body": "Yes you have to rethink or explain the whole process to solve the root problem"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 10064918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t9_pp5gFDcs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q3cJuIQMa-ckXSSGjsPuHU-Ma1DA/mo/photo.jpg?sz=128", "display_name": "RandomName", "link": "https://stackoverflow.com/users/10064918/randomname"}, "is_accepted": false, "score": 0, "last_activity_date": 1556626280, "last_edit_date": 1556626280, "creation_date": 1556624577, "answer_id": 55920194, "question_id": 35900537, "link": "https://stackoverflow.com/questions/35900537/why-is-qlineeditsetcursorpositionint-selectinghighlighting-text/55920194#55920194", "title": "Why is QLineEdit::setCursorPosition(int) selecting(highlighting) text?", "body": "<p>I also encountered this problem. Here's what solved it for me for anyone interested:</p>\n\n<p>First connect the signal but make sure it is queued!</p>\n\n<pre><code>connect(_comboBox, SIGNAL(editTextChanged(const QString&amp;)), this, SLOT(slotTextChanged(const QString&amp;)), Qt::QueuedConnection);\n</code></pre>\n\n<p>and for the slot:</p>\n\n<pre><code>void ViewListWidget::slotViewNameChanged(const QString&amp; /*name*/) {\n    int index = _viewComboBox-&gt;currentIndex();\n\n    int cursorPosition = _viewComboBox-&gt;lineEdit()-&gt;cursorPosition();\n\n    // Since we are using a queued connection, get the current QLineEdit text\n    // instead of relying on the signal argument, which might be out of sync\n    QString name = _viewComboBox-&gt;lineEdit()-&gt;text();\n\n    _viewComboBox-&gt;blockSignals(true);\n    _viewComboBox-&gt;setItemText(index, name);\n    _viewComboBox-&gt;blockSignals(false);\n\n    _viewComboBox-&gt;lineEdit()-&gt;setCursorPosition(cursorPosition);\n}\n</code></pre>\n\n<p>You should also probably disable auto-complete:</p>\n\n<pre><code>_comboBox-&gt;setCompleter(0);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5045028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292e19bedf080cb0f3c30fd550aa7e98?s=128&d=identicon&r=PG&f=1", "display_name": "Doggman9", "link": "https://stackoverflow.com/users/5045028/doggman9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556626280, "creation_date": 1457550698, "question_id": 35900537, "link": "https://stackoverflow.com/questions/35900537/why-is-qlineeditsetcursorpositionint-selectinghighlighting-text", "title": "Why is QLineEdit::setCursorPosition(int) selecting(highlighting) text?", "body": "<p>I have an editable QComboBox that allows a user to type in a name for a new object and add it to the list.  They can also edit names for existing items in the list.  The problem is...say I have an item in the list called \"AF\" and I want to rename it to \"ABCDEF\".  My first problem was if I placed the cursor in between 'A' and 'F' and started typing the cursor would jump to the end after typing 1 letter.  So I would get \"ABFCDE\" unless I manually moved the cursor after each letter typed.  </p>\n\n<p>I fixed this by using </p>\n\n<pre><code>// slot connected to textEditChanged(QString) signal from QComboBox\nvoid textChanged(const QString &amp;text)\n{\n    int pos = QComboBox-&gt;lineEdit()-&gt;custorPosition();\n\n    stuff...\n\n    QComboBox-&gt;setItemText(idx, text);\n    QComboBox-&gt;lineEdit()-&gt;setCursorPosition(pos);\n}\n</code></pre>\n\n<p>and that works but unfortunately this caused a new problem.</p>\n\n<p>setCursorPosition will subsequently select (highlight) all text beyond the new cursor location.  So in the \"AF\" to \"ABCDEF\" example... I place the cursor between 'A' and 'F', type B and the cursor stays after \"AB\" and before 'F' but 'F' is highlighted.  The next key press will replace the 'F' entirely.  It will highlight more than 1 character, it highlights every character to the right of the cursor after it is moved.</p>\n\n<p>I tried this to no avail.</p>\n\n<pre><code>QComboBox-&gt;lineEdit()-&gt;deselect();\n</code></pre>\n\n<p>I also tried this just as a test and it incorrectly exhibited the same behavior.</p>\n\n<pre><code>QComboBox-&gt;lineEdit()-&gt;moveCursorBackward(false,2);\n</code></pre>\n\n<p>The false parameter is supposed to <strong>not</strong> select the text the cursor moves past but it does anyway.</p>\n\n<p>Anyone have any ideas on what's causing this?</p>\n"}, {"tags": ["c++", "exception", "try-catch", "throw"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "edited": false, "score": 0, "creation_date": 1457591144, "post_id": 35902355, "comment_id": 59477600, "body": "But what number means an EOF bit?"}, {"owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "reply_to_user": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "edited": false, "score": 0, "creation_date": 1457620458, "post_id": 35902355, "comment_id": 59497001, "body": "you usually don&#39;t check the actual value, you compare the return of rdstate with the bit you want to check . <a href=\"http://www.cplusplus.com/reference/ios/ios/rdstate/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/ios/ios/rdstate</a>"}], "tags": [], "owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "is_accepted": true, "score": 2, "last_activity_date": 1457622478, "last_edit_date": 1457622478, "creation_date": 1457556768, "answer_id": 35902355, "question_id": 35900509, "link": "https://stackoverflow.com/questions/35900509/success-message-when-read-function-fails/35902355#35902355", "title": "Success message when read function fails", "body": "<p>I think <code>ifstream::read</code> doesn't set <code>errno</code> value. In case of reading more than available bytes, read only sets the <code>failbit</code> and <code>eofbit</code>. you should use <code>rdstate</code> to get the values of these two bits instead of the <code>errno</code>. </p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>to check if <code>failbit</code> and <code>eofbit</code> are set you compare them against <code>rdstate()</code> return value</p>\n\n<pre><code>if ( (init.rdstate() &amp; std::ifstream::failbit ) != 0 &amp;&amp; (init.rdstate() &amp; std::ifstream::eofbit ) != 0 )\n    cerr &lt;&lt; \"Error: reached end of file before reading all required bytes\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1437, "user_id": 4685116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdca5.jpg?s=128&g=1", "display_name": "Ing. Gerardo S&#225;nchez", "link": "https://stackoverflow.com/users/4685116/ing-gerardo-s%c3%a1nchez"}, "is_accepted": false, "score": 2, "last_activity_date": 1457571570, "creation_date": 1457571570, "answer_id": 35905683, "question_id": 35900509, "link": "https://stackoverflow.com/questions/35900509/success-message-when-read-function-fails/35905683#35905683", "title": "Success message when read function fails", "body": "<p>Your code has a error: <strong>init.read((char*)raw_slice, 1000);</strong> expects a 1000 bytes buffer, but your are passing a 72 bytes buffer created with <strong>char* buf = new char[72];</strong></p>\n\n<p>When ifstream::read try to read 1000 bytes in a 72 bytes buffer raizes a exception not handle for ifstream::read and it simply returns you \"success\" (internally ifstream::read must init return code in a variable at begining)</p>\n\n<p>I suggest you this approach:</p>\n\n<pre><code>void OpenFile(char* raw_slice, int buffer_size) throw(std::ios_base::failure, std::string) {\n\n    ifstream init;\n    init.exceptions(ifstream::failbit | ifstream::badbit | ifstream::eofbit);\n    try {\n         init.open(\"/home/path/file\", ios_base::in | ios_base::binary );\n   }catch(const ifstream::failure &amp;e) {\n         cerr &lt;&lt; \"Error:\" &lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n         throw;\n   }\n   try {\n         init.read((char*)raw_slice, buffer_size); //out of bound of source file\n   }catch (const ifstream::failure &amp;e){\n         cerr &lt;&lt; \"Error:\" &lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt;  strerror(errno) &lt;&lt; endl;\n   throw;\n   }\n   try{\n        init.close();\n   }catch(const ifstream::failure &amp;e){\n        cerr &lt;&lt; \"Error:\"&lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n       throw;\n   }\n}\n\nint main()\n{\n   char* buf = new char[72];\n   try{\n       OpenFile(buf, sizeof(buf));\n...\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 35902355, "answer_count": 2, "score": 0, "last_activity_date": 1459437927, "creation_date": 1457550636, "last_edit_date": 1459437927, "question_id": 35900509, "link": "https://stackoverflow.com/questions/35900509/success-message-when-read-function-fails", "title": "Success message when read function fails", "body": "<p>I'm trying to open a file using ifstream and all the try and catch methodology. I want to test the read function. while Im trying to read more the the file length im getting an exception. But the error massage:</p>\n\n<pre><code>Error:basic_ios::clear: Success\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>    void OpenFile(char* raw_slice) throw(std::ios_base::failure, std::string) {\n\n        ifstream init;\n        init.exceptions(ifstream::failbit | ifstream::badbit | ifstream::eofbit);\n        try {\n             init.open(\"/home/path/file\", ios_base::in | ios_base::binary );\n       }catch(const ifstream::failure &amp;e) {\n             cerr &lt;&lt; \"Error:\" &lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n             throw;\n       }\n       try {\n             init.read((char*)raw_slice, 1000); //out of bound of source file\n       }catch (const ifstream::failure &amp;e){\n             cerr &lt;&lt; \"Error:\" &lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt;  strerror(errno) &lt;&lt; endl;\n       throw;\n       }\n       try{\n            init.close();\n       }catch(const ifstream::failure &amp;e){\n            cerr &lt;&lt; \"Error:\"&lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n           throw;\n       }\n    }\n\nint main()\n{\n    char* buf = new char[72];\n    try{\n        OpenFile(buf);\n    }catch (const ifstream::failure &amp;e){\n        cerr &lt;&lt; \"Error in main:\" &lt;&lt; e.what() &lt;&lt; \": \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n        delete[] buf;\n        return 0;\n    }catch (const string &amp;e) {\n        cerr &lt;&lt; \"Error in main:: \" &lt;&lt; e &lt;&lt; endl;\n        delete[] buf;\n        return 0;\n    ``}\n    delete[] buf;\n    return 1;\n}\n</code></pre>\n\n<p>Any ideas why? I have been looked the return value of the read function and couldn't find an answer of this behavior.</p>\n"}, {"tags": ["c++", "constants", "compiler-warnings"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1457551155, "post_id": 35900465, "comment_id": 59461792, "body": "Whoops, I take it all back. See my answer."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 4, "creation_date": 1457551247, "post_id": 35900465, "comment_id": 59461837, "body": "The compiler isn&#39;t complaining because top-level consts on function parameters are not part of the function&#39;s signature, the compiler ignores them as far as matching the declaration with a definition goes."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1457551288, "post_id": 35900465, "comment_id": 59461865, "body": "Exceptions are thrown. Compiler errors and warnings are printed."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1457551406, "post_id": 35900465, "comment_id": 59461940, "body": "I&#39;ve removed my comments that were wrong. I carelessly read a <code>&amp;</code> into the declarations, and when those functions take references the <code>const</code> matters. When they take the argument by value it doesn&#39;t."}, {"owner": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457552150, "post_id": 35900465, "comment_id": 59462392, "body": "@Praetorian Is it reasonable to expect a compiler to detect it and throw a warning? Or does it has to be relied on an external cpplint-like linter?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1457552357, "post_id": 35900465, "comment_id": 59462519, "body": "It is a matter of opinion. I would get annoyed by such a warning, because to me there is nothing to warn about. But some compilers can be annoying."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1457552930, "post_id": 35900465, "comment_id": 59462853, "body": "I agree, I don&#39;t use top level consts on function parameters, so I wouldn&#39;t want such a warning. But it all depends on whether the compiler implementer thinks adding code to warn about this is worth their time."}], "answers": [{"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1457551564, "post_id": 35900735, "comment_id": 59462040, "body": "Any reference to the standard that explains it will be nice."}, {"owner": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457552004, "post_id": 35900735, "comment_id": 59462304, "body": "I get that it doesn&#39;t make a difference when the actual code is run so it shouldn&#39;t be an error, but shouldn&#39;t the compiler be able to catch this kind of behavior and throw a warning?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457552288, "post_id": 35900735, "comment_id": 59462479, "body": "@user3667089 - the code is valid and its meaning is well defined. It&#39;s up to the compiler vendor whether the compiler should <b>issue</b> a warning, and apparently compiler vendors don&#39;t see this as a significant problem."}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 3, "last_activity_date": 1457551319, "creation_date": 1457551319, "answer_id": 35900735, "question_id": 35900465, "link": "https://stackoverflow.com/questions/35900465/how-to-make-compiler-give-at-least-a-warning-when-const-is-not-used-consistently/35900735#35900735", "title": "How to make compiler give at least a warning when const is not used consistently", "body": "<p>Those declarations and definitions are all the same! Top-level const is ignored in matching a declaration to a definition. So this combination is okay:</p>\n\n<pre><code>class C {\n    void f(int);\n};\n\nvoid C::f(const int) {\n}\n</code></pre>\n\n<p>because the <code>const</code> doesn't count, loosely speaking. Similarly,</p>\n\n<pre><code>class C {\n    void f(int) {\n    }\n    void f(const int) {\n    }\n};\n</code></pre>\n\n<p>is an error because it defines the <strong>same</strong> function twice.</p>\n"}, {"comments": [{"owner": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457553457, "post_id": 35901059, "comment_id": 59463151, "body": "interesting perspective on hiding the implementation detail, but I would argue that it&#39;s still better to put the const in the header because internal people who is implementing the class will still read the header"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457635396, "post_id": 35901059, "comment_id": 59507693, "body": "@user3667089 I don&#39;t understand your point. Yes, they&#39;ll read the header, but the presence or absence of <code>const</code> in the header is literally meaningless."}, {"owner": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457637007, "post_id": 35901059, "comment_id": 59508686, "body": "It will serve as a documentation for the developer to know that this variable isn&#39;t supposed to be changed"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "edited": false, "score": 0, "creation_date": 1457637915, "post_id": 35901059, "comment_id": 59509252, "body": "@user3667089 No, that&#39;s something only the implementer should decide. When you write the function body, if you want to change the parameter, you change it. If you don&#39;t want to change it, you don&#39;t change it. It makes no difference outside the function, so nobody else gets to tell you what to do."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 1, "last_activity_date": 1457552355, "creation_date": 1457552355, "answer_id": 35901059, "question_id": 35900465, "link": "https://stackoverflow.com/questions/35900465/how-to-make-compiler-give-at-least-a-warning-when-const-is-not-used-consistently/35901059#35901059", "title": "How to make compiler give at least a warning when const is not used consistently", "body": "<p>According to the standard ([dcl.fct]/5)</p>\n\n<blockquote>\n  <p>All declarations for a function shall agree exactly in both the return type and the parameter-\n  type-list. ... After\n  determining the type of each parameter, any parameter of type \u201carray of <code>T</code>\u201d or \u201cfunction returning <code>T</code>\u201d is\n  adjusted to be \u201cpointer to <code>T</code>\u201d or \u201cpointer to function returning <code>T</code>,\u201d respectively. After producing the list\n  of parameter types, any top-level <em>cv-qualifiers</em> modifying a parameter type are deleted when forming the\n  function type. The resulting list of transformed parameter types and the presence or absence of the ellipsis\n  or a function parameter pack is the function\u2019s <em>parameter-type-list.</em></p>\n</blockquote>\n\n<p>So two declarations (note: a definition is a declaration) can agree even though one has <code>const int a</code> and the other has <code>int a</code>: the top-level <code>const</code> is ignored when matching declarations.</p>\n\n<p>However, top-level <code>const</code> matters in the definition. If the parameter is <code>const int a</code>, then the function body cannot modify <code>a</code>. It actually makes some sense to omit <code>const</code> in the header and include it in the definition, since the caller does not need to know that a parameter passed by value is not modified (it is an implementation detail). That's probably the reason why there isn't a warning for it. (It would be stranger to have <code>const</code> in the header and no <code>const</code> in the definition---maybe there should be a warning for that...)</p>\n"}], "owner": {"reputation": 2135, "user_id": 3667089, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/591d11239b028c677149047326aa9209?s=128&d=identicon&r=PG&f=1", "display_name": "user3667089", "link": "https://stackoverflow.com/users/3667089/user3667089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 35901059, "answer_count": 2, "score": 2, "last_activity_date": 1457552355, "creation_date": 1457550489, "last_edit_date": 1457551262, "question_id": 35900465, "link": "https://stackoverflow.com/questions/35900465/how-to-make-compiler-give-at-least-a-warning-when-const-is-not-used-consistently", "title": "How to make compiler give at least a warning when const is not used consistently", "body": "<p>Suppose I have a code with </p>\n\n<p>Test.h</p>\n\n<pre><code>class Test{\n public:\n  int Func(const int a);\n};\n</code></pre>\n\n<p>Test.cpp</p>\n\n<pre><code>int Test::Func(const int a){\n  // some code\n}\n</code></pre>\n\n<p>If I take out the const for one of them the compiler will still compiles and give zero warnings. Even when -Wall and -Wextra is enabled in GCC and  /W4 is enabled in Visual studio.</p>\n\n<p>For example Test.h</p>\n\n<pre><code>class Test{\n public:\n  int Func(int a);\n};\n</code></pre>\n\n<p>Test.cpp</p>\n\n<pre><code>int Test::Func(const int a){\n  // some code\n}\n</code></pre>\n\n<p>or Test.h</p>\n\n<pre><code>class Test{\n public:\n  int Func(const int a);\n};\n</code></pre>\n\n<p>Test.cpp both compiles fine.</p>\n\n<pre><code>int Test::Func(int a){\n  // some code\n}\n</code></pre>\n\n<p>How does one enable the compiler to detect when const is not use consistently between header files and source files?</p>\n"}, {"tags": ["c++", "class", "struct"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1457550474, "post_id": 35900424, "comment_id": 59461375, "body": "The nested class definition (the struct) is just that. It doesn&#39;t declare a data member of that type. By the way, the prefix <code>get</code> is just annoying verbiage in C++. You would not write <code>getCos(x)</code> for the cosine function, would you? Likewise, just <code>age</code> is fine to access or compute the age. Oh, and better store the birth year, not the age. Or else the data will get outdated fast."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5168693, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/141a7748c1205c00a96863b4090189d7?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph D", "link": "https://stackoverflow.com/users/5168693/joseph-d"}, "edited": false, "score": 0, "creation_date": 1457551343, "post_id": 35900558, "comment_id": 59461898, "body": "Thank you, my problem is solved and I understand now. You rock \\m/"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1457550754, "creation_date": 1457550754, "answer_id": 35900558, "question_id": 35900424, "link": "https://stackoverflow.com/questions/35900424/syntax-error-cant-use-struct-in-c-class/35900558#35900558", "title": "Syntax error, cant use struct in c++ class", "body": "<p>Nested class <code>stud</code> defines a new type, not a variable of that type. If you wish to make a variable of type <code>stud</code>, declare a separate member for it, like this:</p>\n\n<pre><code>class student: public person {\nprivate:\n        struct stud_t {\n            int age;\n        };\n        stud_t stud;\npublic:\n        student();\n        int getAge();\n};\n</code></pre>\n\n<p>Now <code>stud_t</code> is the name of the type, and <code>stud</code> is the name of a variable of that type.</p>\n\n<p>Alternatively, you could make <code>stud</code> an <em>anonymous</em> <code>struct</code>, like this:</p>\n\n<pre><code>class student: public person {\nprivate:\n        struct {\n            int age;\n        } stud;\npublic:\n        student();\n        int getAge();\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52, "user_id": 6041265, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OtWtqOxwz8U/AAAAAAAAAAI/AAAAAAAAL74/zdFZ6UOS1I8/photo.jpg?sz=128", "display_name": "Reuben Thomas", "link": "https://stackoverflow.com/users/6041265/reuben-thomas"}, "is_accepted": false, "score": 2, "last_activity_date": 1457550915, "creation_date": 1457550915, "answer_id": 35900613, "question_id": 35900424, "link": "https://stackoverflow.com/questions/35900424/syntax-error-cant-use-struct-in-c-class/35900613#35900613", "title": "Syntax error, cant use struct in c++ class", "body": "<p>If you really want to store stuff in an internal struct (I don't think you should) then you could write your struct like this:</p>\n\n<pre><code>struct {\n    int age;\n} stud;\n</code></pre>\n\n<p>In your example, you're declaring a struct of <em>type</em> <code>stud</code> but then not creating an <em>instance</em>. In the snippet above, I declare an anonymous struct (ie it's <em>type</em> has no name) and then create an <em>instance</em> called <code>stud</code>.\nYour current <code>getAge</code> should work if you make this change.</p>\n\n<p>'dynamic array' == vector</p>\n"}], "owner": {"reputation": 115, "user_id": 5168693, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/141a7748c1205c00a96863b4090189d7?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph D", "link": "https://stackoverflow.com/users/5168693/joseph-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 35900558, "answer_count": 2, "score": 1, "last_activity_date": 1457550915, "creation_date": 1457550385, "last_edit_date": 1592644375, "question_id": 35900424, "link": "https://stackoverflow.com/questions/35900424/syntax-error-cant-use-struct-in-c-class", "title": "Syntax error, cant use struct in c++ class", "body": "<p>I am currently learning C++ and working on a assignment which asks me to create:</p>\n<blockquote>\n<p>Class student (must be separated by .h and .cpp) that inherits class person that has: <br />\n<strong>a. Attributes:</strong> dynamic array of struct holding courses and their grades and other attributes  <br />\n<strong>b. Member functions:</strong> display the grade of a given course and other member functions as as needed <br /></p>\n</blockquote>\n<p>So, to start, I have already created the class person; so don't worry about the inheritance nor classes, my only problem is with structs, here is my code:</p>\n<h2>student.h</h2>\n<pre><code>#include &lt;string&gt;\n#ifndef student_h\n#define student_h\n#include &quot;person.h&quot;\nclass student: public person {\n\nprivate:\n        struct stud {\n            int age;\n        };\n\npublic:\n        student();\n        int getAge();\n};\n\n#endif\n</code></pre>\n<h2>student.cpp</h2>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n#include &quot;student.h&quot;\n\n\nstudent::student() {\n\n\n}\n\nint student::getAge() {\n\n    return stud.age;\n}\n</code></pre>\n<p>So, my logic is, in the same way, that if you define a private integer in the .h file and use it freely in the .cpp file, I should do it for the struct. When I try to compile <code>student.cpp</code> for synthax error before running <code>main.cpp</code>, I get this error:</p>\n<blockquote>\n<p>.\\student.cpp(14) : error C2275: 'student::stud' : illegal use of this type as an expression</p>\n</blockquote>\n<p>which is referring to <code>return stud.age;</code>. I am using (and forced to use) Visual Studio 2005.</p>\n<p>How do I retrieve the age of the struct using a function? Also, what does my teacher mean by an array of structs? Does it mean I have to create the array in the main and how?</p>\n"}, {"tags": ["c++", "arrays", "class"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1457550558, "post_id": 35900402, "comment_id": 59461429, "body": "Start by writing code?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5904577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/264adc3a131aa5f481316d1e7f332978?s=128&d=identicon&r=PG&f=1", "display_name": "andyz", "link": "https://stackoverflow.com/users/5904577/andyz"}, "edited": false, "score": 0, "creation_date": 1457554000, "post_id": 35900482, "comment_id": 59463492, "body": "but think about this, if B has a member called num, then when I tried to do this:arr[0].num, it tells me that num is not a member of A. ?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 55, "user_id": 5904577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/264adc3a131aa5f481316d1e7f332978?s=128&d=identicon&r=PG&f=1", "display_name": "andyz", "link": "https://stackoverflow.com/users/5904577/andyz"}, "edited": false, "score": 0, "creation_date": 1457554421, "post_id": 35900482, "comment_id": 59463714, "body": "@andyz correct. If you want to access the members of <code>B</code>, then you can convert the pointer to <code>B*</code>."}, {"owner": {"reputation": 55, "user_id": 5904577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/264adc3a131aa5f481316d1e7f332978?s=128&d=identicon&r=PG&f=1", "display_name": "andyz", "link": "https://stackoverflow.com/users/5904577/andyz"}, "edited": false, "score": 0, "creation_date": 1457555807, "post_id": 35900482, "comment_id": 59464546, "body": "ok. 1 more question. If I want to delete what arr[0] points to , should I do : delete arr[0]; arr[0]=NULL; or something else?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 55, "user_id": 5904577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/264adc3a131aa5f481316d1e7f332978?s=128&d=identicon&r=PG&f=1", "display_name": "andyz", "link": "https://stackoverflow.com/users/5904577/andyz"}, "edited": false, "score": 0, "creation_date": 1457556893, "post_id": 35900482, "comment_id": 59465168, "body": "@andyz Does assigning a raw pointer to null delete the pointed object? The answer is no. For more info, read this: <a href=\"http://stackoverflow.com/a/9888542/2079303\">stackoverflow.com/a/9888542/2079303</a>"}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 3, "last_activity_date": 1457550561, "creation_date": 1457550561, "answer_id": 35900482, "question_id": 35900402, "link": "https://stackoverflow.com/questions/35900402/array-of-pointers-to-diffrent-class-objects-that-inherit-from-1-base-class/35900482#35900482", "title": "Array of pointers to diffrent-class objects that inherit from 1 base class", "body": "<p>Pointers to a public base can point to objects derived of that base. Therefore you can do what you want like this:</p>\n\n<pre><code>A* arr[N];\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5904577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/264adc3a131aa5f481316d1e7f332978?s=128&d=identicon&r=PG&f=1", "display_name": "andyz", "link": "https://stackoverflow.com/users/5904577/andyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1457550561, "creation_date": 1457550319, "question_id": 35900402, "link": "https://stackoverflow.com/questions/35900402/array-of-pointers-to-diffrent-class-objects-that-inherit-from-1-base-class", "title": "Array of pointers to diffrent-class objects that inherit from 1 base class", "body": "<p>So we say there is a base class A, and there are class B and class C that are inheritance of class A.</p>\n\n<p>Now I want to create an array of pointers points to either B object or C object.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1457550473, "post_id": 35900386, "comment_id": 59461373, "body": "if you&#39;re setting it at runtime, then it&#39;s not a constant. it&#39;s a variable, even if you only ever set it once."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1457550972, "post_id": 35900386, "comment_id": 59461680, "body": "Your question is very hard to read, please show some example code."}], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 5537858, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd4cca95a4c2cb76eba150d1a166e119?s=128&d=identicon&r=PG&f=1", "display_name": "suleman", "link": "https://stackoverflow.com/users/5537858/suleman"}, "edited": false, "score": 0, "creation_date": 1457552660, "post_id": 35900412, "comment_id": 59462661, "body": "but c++ allows us to assign constant variable to other constant variable."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 38, "user_id": 5537858, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd4cca95a4c2cb76eba150d1a166e119?s=128&d=identicon&r=PG&f=1", "display_name": "suleman", "link": "https://stackoverflow.com/users/5537858/suleman"}, "edited": false, "score": 0, "creation_date": 1457552783, "post_id": 35900412, "comment_id": 59462751, "body": "@jonny Not for <code>const</code> class members."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1457550587, "last_edit_date": 1457550587, "creation_date": 1457550354, "answer_id": 35900412, "question_id": 35900386, "link": "https://stackoverflow.com/questions/35900386/how-to-set-constant-member-value-of-class-by-taking-user-input/35900412#35900412", "title": "How to set constant member value of class by taking user input?", "body": "<blockquote>\n  <p>... and I do not use constructor to do this thing. Can this thing is possible in C++ ?</p>\n</blockquote>\n\n<p>No, it's not possible. <code>const</code> class member values need to be determined at construction time.</p>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 4811421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-arrE9IQuW7o/AAAAAAAAAAI/AAAAAAAADrE/teN4DXBv_-M/photo.jpg?sz=128", "display_name": "Shreyan Mehta", "link": "https://stackoverflow.com/users/4811421/shreyan-mehta"}, "is_accepted": false, "score": 0, "last_activity_date": 1457551055, "creation_date": 1457551055, "answer_id": 35900656, "question_id": 35900386, "link": "https://stackoverflow.com/questions/35900386/how-to-set-constant-member-value-of-class-by-taking-user-input/35900656#35900656", "title": "How to set constant member value of class by taking user input?", "body": "<p>keyword const is infact used for the same reason, i.e. its value can't be changed throughout its lifetime or throughout the variable is in its scope...</p>\n\n<p>so a variable decalred as const , its value cant be changed either in code(other than in declaration ) nor at runtime</p>\n"}], "owner": {"reputation": 38, "user_id": 5537858, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd4cca95a4c2cb76eba150d1a166e119?s=128&d=identicon&r=PG&f=1", "display_name": "suleman", "link": "https://stackoverflow.com/users/5537858/suleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457553551, "creation_date": 1457550262, "last_edit_date": 1457553551, "question_id": 35900386, "link": "https://stackoverflow.com/questions/35900386/how-to-set-constant-member-value-of-class-by-taking-user-input", "title": "How to set constant member value of class by taking user input?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class person\r\n{\r\npublic:\r\n\tperson(string var):name(var){}\r\n\tvoid input()\r\n\t{\r\n\t\tstring var;\r\n\t\tcout &lt;&lt; \"Enter your name: \";\r\n\t\tgetline(cin, var);\r\n\t\tperson temp(var);\r\n\t\tthis-&gt;name = temp.name;\r\n\t}\r\nprivate:\r\n\tconst string name;\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am trying to set constant member of class (which is private) by taking user input which is done by a function named input (in public), C++ allows us to assign constant variable to other constant variable but in class I am using this pointer to do this thing but it gives error.</p>\n"}, {"tags": ["c++", "templates", "boost"], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1457557586, "post_id": 35902606, "comment_id": 59465533, "body": "Making a c++03 proof sample. Done: <b><a href=\"http://coliru.stacked-crooked.com/a/45d0871bc8bee759\" rel=\"nofollow noreferrer\">c++03 Live On Coliru</a></b>"}, {"owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "edited": false, "score": 0, "creation_date": 1457560262, "post_id": 35902606, "comment_id": 59467050, "body": "It will take me a little to digest this and figure out if it&#39;s applicable, but one thing that strikes me as noticeably different from the original Q/A is that here the template types are templating the function parameters. In the original Q/A, the template types are not templating the parameters(in fact, I have no templated function parameters). I&#39;m using it for something like myFunction&lt;int i, int j, int k&gt;(unrelated, fun, parameters) where i, j, and k specifically go from 0-7 each."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "edited": false, "score": 0, "creation_date": 1457560453, "post_id": 35902606, "comment_id": 59467138, "body": "Mmm. I did indeed fail to take notice of the sample. You <i>could</i> probably use a similar technique (using std::integral_constant&lt;&gt;) but I&#39;m not sure I&#39;d recommend it. Let me think about it"}, {"owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "edited": false, "score": 0, "creation_date": 1457561428, "post_id": 35902606, "comment_id": 59467681, "body": "Thanks for helping! I&#39;m currently reading about boost variant and visitor as they seem useful to know about in general."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557944, "last_edit_date": 1457557944, "creation_date": 1457557543, "answer_id": 35902606, "question_id": 35900326, "link": "https://stackoverflow.com/questions/35900326/generalizing-solution-to-instantiate-many-templates-of-a-function-and-select-at/35902606#35902606", "title": "Generalizing Solution To Instantiate Many Templates of a Function And Select At Runtime", "body": "<p>I'd usually think of variants + a visitor:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/09d5dc1d1b56675c\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/variant.hpp&gt;\n\n// for demo types\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\n// some overloads and templates:\ntemplate &lt;typename V&gt;\nvoid foo(std::vector&lt;V&gt; const&amp;) { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; \"\\n\"; } \n\nvoid foo(int)                   { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; \"\\n\"; } \nvoid foo(std::string const&amp;)    { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; \"\\n\"; } \n\n// a generic wrapper that instantiates 3 versions \n// and picks the right one at runtime:\nvoid generic_foo(boost::variant&lt;std::string const&amp;, int, std::vector&lt;double&gt; const&amp;&gt; param) {\n    // dispatch\n    boost::apply_visitor([](auto&amp;&amp; p) { foo(p); }, param);\n}\n\nint main() {\n    generic_foo(\"hello world\");\n    generic_foo(std::vector&lt;double&gt; {0.1, 0.2, 0.3});\n    generic_foo(42);\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>void foo(const string&amp;)\nvoid foo(const std::vector&lt;_RealType&gt;&amp;) [with V = double]\nvoid foo(int)\n</code></pre>\n\n<h2>For C++03</h2>\n\n<p>Replace the lambda with something a little more verbose:</p>\n\n<pre><code>namespace detail {\n    struct generic_foo_vis {\n        typedef void result_type;\n        template &lt;typename T&gt; void operator()(T const&amp; stuff) const { return foo(stuff); }\n        template &lt;typename T&gt; void operator()(T&amp; stuff)       const { return foo(stuff); }\n    };\n}\n\n// a fixed wrapper that instantiates 3 versions and picks the right one at runtime:\nvoid generic_foo(boost::variant&lt;std::string const&amp;, int, std::vector&lt;double&gt; const&amp;&gt; param) {\n    // dispatch\n    boost::apply_visitor(detail::generic_foo_vis(), param);\n}\n</code></pre>\n\n<p>See it <strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/45d0871bc8bee759\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n"}], "owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457557944, "creation_date": 1457550006, "last_edit_date": 1495539909, "question_id": 35900326, "link": "https://stackoverflow.com/questions/35900326/generalizing-solution-to-instantiate-many-templates-of-a-function-and-select-at", "title": "Generalizing Solution To Instantiate Many Templates of a Function And Select At Runtime", "body": "<p>I'm trying to generalize a solution previously provided on SO <a href=\"https://stackoverflow.com/questions/35562342/instantiate-many-templates-of-a-function-and-select-template-at-run-time-c-cud\">here</a>, which uses boost MPL to instantiate many templates of a function and select the correct one at runtime. The information I need is likely spread around the internet, but I'm struggling to piece together a working solution myself. Here is a copy paste of the previous solution for readability:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;boost/mpl/vector.hpp&gt;\n#include &lt;boost/mpl/vector_c.hpp&gt;\n#include &lt;boost/mpl/for_each.hpp&gt;\n#include &lt;boost/mpl/push_back.hpp&gt;\n#include &lt;boost/mpl/at.hpp&gt;\n\nnamespace mpl = boost::mpl;\n\ntemplate&lt;int index1, int index2, int index3&gt; void execKernel()\n{\n    std::cout &lt;&lt; \"Kernel called with \" &lt;&lt; index1 &lt;&lt; \"/\" &lt;&lt; index2 &lt;&lt; \"/\" &lt;&lt; index3 &lt;&lt; std::endl;\n}\n\ntypedef void (*FPTR)();\nFPTR ptr[512];\n\nstruct NIL\n{\npublic:\n    static const int value = 0;\n};\n\ntemplate&lt;typename Seq, typename T1, typename T2 = NIL&gt; class MakeSequenceImpl\n{\npublic:\n    template&lt;typename T&gt; void operator()(T)\n    {\n        typedef MakeSequenceImpl&lt;typename mpl::push_back&lt;Seq,T&gt;::type,T2&gt; RunSeq;\n        mpl::for_each&lt;T1&gt;( RunSeq() );\n    }\n};\n\ntemplate&lt;typename Seq&gt; class MakeSequenceImpl&lt;Seq, NIL, NIL&gt;\n{\npublic:\n    template&lt;typename T&gt; void operator()(T)\n    {\n        typedef typename mpl::push_back&lt;Seq,T&gt;::type FinalSeq;\n\n        int index = mpl::at&lt;FinalSeq,mpl::int_&lt;0&gt; &gt;::type::value * 64\n                + mpl::at&lt;FinalSeq,mpl::int_&lt;1&gt; &gt;::type::value * 8\n                + mpl::at&lt;FinalSeq,mpl::int_&lt;2&gt; &gt;::type::value;\n\n        ptr[index] = execKernel&lt;mpl::at&lt;FinalSeq,mpl::int_&lt;0&gt; &gt;::type::value, mpl::at&lt;FinalSeq,mpl::int_&lt;1&gt; &gt;::type::value, mpl::at&lt;FinalSeq,mpl::int_&lt;2&gt; &gt;::type::value&gt;;\n    }\n};\n\n\ntemplate&lt;typename T0, typename T1, typename T2&gt; class MakeSequence\n{\npublic:\n    typedef mpl::vector_c&lt;int&gt; Seq;\n\n    MakeSequence()\n    {\n        typedef MakeSequenceImpl&lt;Seq, T1, T2&gt; RunSeq;\n        mpl::for_each&lt;T0&gt;( RunSeq() );\n    }\n};\n\n\nvoid callWrapper( int i, int j, int k )\n{\n    ptr[i*64+j*8+k]();\n}\n\ntypedef mpl::vector_c&lt; int, 0, 1, 2, 3, 4, 5, 6, 7 &gt; list1;\ntypedef mpl::vector_c&lt; int, 0, 1, 2, 3, 4, 5, 6, 7 &gt; list2;\ntypedef mpl::vector_c&lt; int, 0, 1, 2, 3, 4, 5, 6, 7 &gt; list3;\n\nint main()\n{\n    MakeSequence&lt;list1,list2,list3&gt; frontend;\n\n    int i,j,k;\n\n    std::cin &gt;&gt; i;\n    std::cin &gt;&gt; j;\n    std::cin &gt;&gt; k;\n\n    callWrapper(i,j,k);\n}\n</code></pre>\n\n<p>I would like to generalize this to pass in \"execKernel\" as a template parameter to \"MakeSequence\". I have many functions like \"execKernel\", all of which take the number of template arguments and same type (all take 3 integer template arguments, 0-7). </p>\n\n<p>To do this, the last line of the operator definition in the final specialization \"MakeSequenceImpl&lt; Seq, NIL, NIL>\" needs to be generalized on both sides of the equals sign. The left side of that statement is an array of function pointers. The functions I'm trying to generalize this for all take the same template arguments, but different function arguments, so the array of function pointers needs to be passed in somehow. On the right side of the equals sign is the function template instantiation. The specific function template needs to be passed in for this part, but I've discovered you can't pass uninstantiated templated functions as template arguments without using a functor.</p>\n\n<p>To summarize, I'm looking to generalize \"MakeSequence\" on down such that the array of function pointers and function templates themselves are passed in as arguments. I'm happy to statically define the function pointers and array of function pointers for each specific function. It would be nice to generalize those too (e.g. one big list of function pointers containing all the function pointers for all functions), but this is a secondary issue.</p>\n\n<p>Thanks for any help anyone can provide. BTW, I need to continue working with C++98/03 and boost. No C++11 or 14.</p>\n"}, {"tags": ["c++", "c", "linux", "dynamic-library", "ldd"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 1, "creation_date": 1457549843, "post_id": 35900227, "comment_id": 59460966, "body": "<code>ltrace</code> will show all of the dynamic library calls during runtime."}], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 1, "last_activity_date": 1457550236, "creation_date": 1457550236, "answer_id": 35900381, "question_id": 35900227, "link": "https://stackoverflow.com/questions/35900227/is-it-possible-to-know-which-library-pulled-in-another-one-using-ldd/35900381#35900381", "title": "Is it possible to know which library pulled in another one using ldd?", "body": "<p>To know this you will have to use <code>readelf</code> recursively. First run it on your executable, and look for NEEDED libraries. This will tell you what your executable needs directly. After that you should iteratively repeat the process for every library which is needed, and once you arrive at the library in question you will know the inclusion path.</p>\n"}, {"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1457550774, "creation_date": 1457550774, "answer_id": 35900568, "question_id": 35900227, "link": "https://stackoverflow.com/questions/35900227/is-it-possible-to-know-which-library-pulled-in-another-one-using-ldd/35900568#35900568", "title": "Is it possible to know which library pulled in another one using ldd?", "body": "<p>Run ldd on each of the libraries reported by <code>ldd executable</code>. Continue recursively until the culprit is found.</p>\n\n<p>Alternatively, run </p>\n\n<pre><code>objdump -p /path/to/program-or-library | grep NEEDED\n</code></pre>\n\n<p>recursively.</p>\n"}, {"tags": [], "owner": {"reputation": 438, "user_id": 6023696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b57a85cdf9fda1595e219bd07a412e8?s=128&d=identicon&r=PG", "display_name": "coolparadox", "link": "https://stackoverflow.com/users/6023696/coolparadox"}, "is_accepted": false, "score": 5, "last_activity_date": 1457567531, "creation_date": 1457567531, "answer_id": 35905007, "question_id": 35900227, "link": "https://stackoverflow.com/questions/35900227/is-it-possible-to-know-which-library-pulled-in-another-one-using-ldd/35905007#35905007", "title": "Is it possible to know which library pulled in another one using ldd?", "body": "<p><code>ldd</code> is ultimately a wrapper script for executing the dynamic linker/loader with variable <code>LD_TRACE_LOADED_OBJECTS</code> set in environment. For example the following command outputs the same as <code>ldd /bin/ls</code> in my system:</p>\n\n<pre><code>user@localhost ~ $ LD_TRACE_LOADED_OBJECTS=1 /lib/ld-linux.so.* /bin/ls\n    linux-gate.so.1 (0xb77bd000)\n    libacl.so.1 =&gt; /lib/libacl.so.1 (0xb7798000)\n    libc.so.6 =&gt; /lib/libc.so.6 (0xb75ef000)\n    libattr.so.1 =&gt; /lib/libattr.so.1 (0xb75e9000)\n    /lib/ld-linux.so.2 (0x80065000)\n</code></pre>\n\n<p>There is a plethora of other environment variables for tuning the dynamic linker documented in <code>ld.so(8)</code> manpage. One of particular interest for discovering the reason a specific library was pulled is <code>LD_DEBUG=files</code>, that traces what files the linker goes after during processing of the executable:</p>\n\n<pre><code>user@localhost ~ $ LD_TRACE_LOADED_OBJECTS=1 LD_DEBUG=files /lib/ld-linux.so.* /bin/ls\n     27831: file=/bin/ls [0];  generating link map\n     27831:   dynamic: 0x08064f0c  base: 0x00000000   size: 0x0001e034\n     27831:     entry: 0x0804bffc  phdr: 0x08048034  phnum:         10\n     27831: \n     27831: \n     27831: file=libacl.so.1 [0];  needed by /bin/ls [0]\n     27831: file=libacl.so.1 [0];  generating link map\n     27831:   dynamic: 0xb772ced8  base: 0xb7724000   size: 0x0000917c\n     27831:     entry: 0xb77257f0  phdr: 0xb7724034  phnum:          7\n     27831: \n     27831: \n     27831: file=libc.so.6 [0];  needed by /bin/ls [0]\n     27831: file=libc.so.6 [0];  generating link map\n     27831:   dynamic: 0xb771fda4  base: 0xb757b000   size: 0x001a8eac\n     27831:     entry: 0xb75937b0  phdr: 0xb757b034  phnum:         11\n     27831: \n     27831: \n     27831: file=libattr.so.1 [0];  needed by /lib/libacl.so.1 [0]\n     27831: file=libattr.so.1 [0];  generating link map\n     27831:   dynamic: 0xb7579ef0  base: 0xb7575000   size: 0x000050bc\n     27831:     entry: 0xb7575ed0  phdr: 0xb7575034  phnum:          7\n     27831: \n    linux-gate.so.1 (0xb7749000)\n    libacl.so.1 =&gt; /lib/libacl.so.1 (0xb7724000)\n    libc.so.6 =&gt; /lib/libc.so.6 (0xb757b000)\n    libattr.so.1 =&gt; /lib/libattr.so.1 (0xb7575000)\n    /lib/ld-linux.so.2 (0x80094000)\n</code></pre>\n\n<p>In the above example, we see that <code>libacl.so.1</code> and <code>libc.so.6</code> were required by <code>/bin/ls</code> itself, and <code>libattr.so.1</code> was pulled as a requirement of <code>libacl.so.1</code>.</p>\n"}], "owner": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "accepted_answer_id": 35900381, "answer_count": 3, "score": 2, "last_activity_date": 1457567531, "creation_date": 1457549690, "last_edit_date": 1457550038, "question_id": 35900227, "link": "https://stackoverflow.com/questions/35900227/is-it-possible-to-know-which-library-pulled-in-another-one-using-ldd", "title": "Is it possible to know which library pulled in another one using ldd?", "body": "<p>Once an application has been linked with the dynamic libraries it requires, is it possible to find out which exact library has pulled in another one that I'm seeing in the list?</p>\n\n<p>For example, today I had a situation where a library that shouldn't have been there at all in the first place was present in the <code>ldd</code> output, and was crashing the application. By logical deduction, I could figure it out and isolate the problem, then rebuild the respective project to not include the faulty lib anymore. But is it possible to do the same without any additional knowledge about the application and the libraries it depends on, using an exterrnal tool from the likes of <code>ldd</code>? (The problem was that the library in question wasn't being used directly by the application, rather by another library that the application was linking to directly.)</p>\n\n<p>In essence, it looks like I'm searching for a way to restore the linking dependency graph once the application has been linked together.</p>\n"}, {"tags": ["c++", "logging"], "answers": [{"tags": [], "owner": {"reputation": 16381, "user_id": 192001, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/433bc3432389b34a9461e14fa3a5505f?s=128&d=identicon&r=PG", "display_name": "GabiMe", "link": "https://stackoverflow.com/users/192001/gabime"}, "is_accepted": true, "score": 2, "last_activity_date": 1460065297, "creation_date": 1460065297, "answer_id": 36487735, "question_id": 35900179, "link": "https://stackoverflow.com/questions/35900179/console-file-logger-library-c/36487735#36487735", "title": "Console/file logger library C++", "body": "<p>As of <a href=\"https://github.com/gabime/spdlog/tree/296623baa31898623bca0b866cc39f576b4ef93f\" rel=\"nofollow\">this version</a>, spdlog supports colors (added bool param to console logger constructor)</p>\n"}, {"tags": [], "owner": {"reputation": 1717, "user_id": 809460, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f185b60f53780e157f314cdbf666008?s=128&d=identicon&r=PG", "display_name": "pokey909", "link": "https://stackoverflow.com/users/809460/pokey909"}, "is_accepted": false, "score": 0, "last_activity_date": 1460065615, "creation_date": 1460065615, "answer_id": 36487806, "question_id": 35900179, "link": "https://stackoverflow.com/questions/35900179/console-file-logger-library-c/36487806#36487806", "title": "Console/file logger library C++", "body": "<p>I tend to use <a href=\"https://github.com/google/glog\" rel=\"nofollow\">google-glog</a>. But I'm sure there are many more options out there if you just google for it.</p>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 5179631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/721dda3ea53e0ff2ce6b8164845bd068?s=128&d=identicon&r=PG&f=1", "display_name": "Ody", "link": "https://stackoverflow.com/users/5179631/ody"}, "is_accepted": false, "score": 0, "last_activity_date": 1597584296, "creation_date": 1597584296, "answer_id": 63437429, "question_id": 35900179, "link": "https://stackoverflow.com/questions/35900179/console-file-logger-library-c/63437429#63437429", "title": "Console/file logger library C++", "body": "<p><a href=\"https://github.com/odygrd/quill\" rel=\"nofollow noreferrer\">quill</a> as of version 1.4.0 also supports terminal colours for macos/linux/windows.</p>\n"}], "owner": {"reputation": 3815, "user_id": 5382150, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GwGSL.png?s=128&g=1", "display_name": "Gilgamesz", "link": "https://stackoverflow.com/users/5382150/gilgamesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "accepted_answer_id": 36487735, "answer_count": 3, "score": 1, "last_activity_date": 1597584296, "creation_date": 1457549563, "last_edit_date": 1457567124, "question_id": 35900179, "link": "https://stackoverflow.com/questions/35900179/console-file-logger-library-c", "title": "Console/file logger library C++", "body": "<p>Can you recommend me any logger library for C++ which makes possible to get colorful logs in console? I am using spdlog now but it doesn't support it.</p>\n"}, {"tags": ["c++", "c", "solaris", "shared-memory"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1457549646, "post_id": 35900144, "comment_id": 59460826, "body": "At first you said the segment has &quot;read-only mode for him only&quot;, then you said &quot;when I have read rights on a segment&quot;. Which is it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1457549747, "post_id": 35900144, "comment_id": 59460900, "body": "Have you tried looking at the source code of <code>ipcs</code> to see how it does it?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457550015, "post_id": 35900144, "comment_id": 59461067, "body": "Just run <code>truss ipcs</code> - it will tell you exactly how it did call <code>shmctl</code>."}, {"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1457556178, "post_id": 35900144, "comment_id": 59464753, "body": "Or you can look here:  <a href=\"http://src.illumos.org/source/xref/illumos-gate/usr/src/cmd/ipcs/ipcs.c#268\" rel=\"nofollow noreferrer\">src.illumos.org/source/xref/illumos-gate/usr/src/cmd/ipcs/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1457559117, "post_id": 35900144, "comment_id": 59466429, "body": "@Barmar I corrected it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1457559489, "post_id": 35900144, "comment_id": 59466640, "body": "It looks like <code>shmctl</code> works essentially the same as your code, except it uses <code>shmctl64</code> with the flag <code>IPC_STAT64</code>. But if it gets an error, it simply skips that ID, it doesn&#39;t print the error message."}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "edited": false, "score": 0, "creation_date": 1457560130, "post_id": 35900144, "comment_id": 59466980, "body": "yes I will test with iError &lt; 0 instead of iError != 0"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "edited": false, "score": 0, "creation_date": 1457600879, "post_id": 35900144, "comment_id": 59482854, "body": "I tested with iError &lt; 0, I stil have the same behavior: error message Permission denied. It is normal according to shmctl man : <code>EACCES The cmd  argument  is  equal  to  IPC_STAT  and  {READ}  operation  permission  is denied to the calling process.</code>"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457605691, "post_id": 35900144, "comment_id": 59486432, "body": "@SergeyA When I run <code>truss ipc -m</code> I have these calls: <code>shmids(0x00000000, 0, 0x08047610) shmids(0x08066468, 17, 0x08047610) write(1, &quot; T                   I D&quot;.., 56) write(1, &quot; S h a r e d   M e m o r&quot;.., 15) shmctl(83886104, IPC_STAT64, 0x08047560) getuid() mmap(0x00010000, 65536, PROT_READ|PROT_WRITE|PROT_EXEC, MAP_PRIVATE|MAP_ANON|MAP_ALIGN, -1, 0) getuid() getuid() open64(&quot;&#47;var&#47;run&#47;name_service_door&quot;, O_RDONLY) fcntl(3, F_SETFD, 0x00000001) door_info(3, 0xFEF7F4C4) door_call(3, 0x08046EC8) brk(0x08066980) brk(0x0806A980) ... </code> I  will try to use door service."}, {"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1457610308, "post_id": 35900144, "comment_id": 59489558, "body": "The door service calls are to look up the UID and GID of the user/group."}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "edited": false, "score": 0, "creation_date": 1457612159, "post_id": 35900144, "comment_id": 59490923, "body": "I&#39;m trying to test IPC_STAT64 instead of IPC_STAT, do you know which header I should include ?"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "edited": false, "score": 0, "creation_date": 1457616248, "post_id": 35900144, "comment_id": 59493805, "body": "I found that I need to include <code>&lt;sys&#47;ipc_impl.h&gt;</code> and it is working ! With shmctl64 and IPC_STAT64 I can get all segments sizes even if I don&#39;t have read rights , perhaps it is a bug in shmctl64 ? in my example the segment of oracle user is big I tried with a small segment and I have the same behavior : shmctl is not able to retrieve segment size, shmctl64 is able to retrieve segment size."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457618751, "post_id": 35900144, "comment_id": 59495682, "body": "@olivier, I doubt it&#39;s a bug :)"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457626460, "post_id": 35900144, "comment_id": 59501684, "body": "@SergeyA I don&#39;t find any documentation on shmctl64 for Solaris. (information I get is for IBM i <a href=\"https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_72/apis/ipcshmct64.htm\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/ssw_ibm_i_72/apis/&hellip;</a>) Do you think it is an enhancement instead of a bug ? For me it looks like a kind of security breache. On Linux when I run  ipcs -m with my user it doesn&#39;t display read only shared memory segments created by root."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457627414, "post_id": 35900144, "comment_id": 59502348, "body": "@olivier, you can take it up to Oracle Support if you must :)"}, {"owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459340462, "post_id": 35900144, "comment_id": 60240618, "body": "@SergeyA they answer me that I should not use shmctl64."}], "owner": {"reputation": 51, "user_id": 5838199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a967efb325543ae66979e0d3f37bfe?s=128&d=identicon&r=PG&f=1", "display_name": "olivier", "link": "https://stackoverflow.com/users/5838199/olivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 899, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1457600750, "creation_date": 1457549456, "last_edit_date": 1457600750, "question_id": 35900144, "link": "https://stackoverflow.com/questions/35900144/get-size-of-all-shared-memory-segments", "title": "get size of all shared memory segments", "body": "<p>On Solaris it is possible to get with shmctl the size of a shared memory segment that I did not created and for which I don't have the permission ? </p>\n\n<p>For example I want to get the size of a segment created by another user with read-only mode for him only (600).</p>\n\n<p>I tried with the code below to get total size of all shared memory segments but I get a permission denied </p>\n\n<blockquote>\n  <p>Cannot access shared memory information for segment 0 because Permission denied</p>\n</blockquote>\n\n<p>when I don't have read rights on a segment.</p>\n\n<pre><code>int *ids = NULL;\nuint_t nids = 0;\nuint_t n;\n\nunsigned long memoryUsed = 0;\n\nif (shmids(ids, nids, &amp;n) != 0)\n{\n   cout &lt;&lt;  \"Failed to get shared memory info: \" &lt;&lt; strerror(errno);\n   return 0;\n}\n\nnids =n;\nids = (int *) realloc(ids, nids * sizeof (int));\n\nif (shmids(ids, nids, &amp;n) != 0)\n{\n    cout &lt;&lt;  \"Failed to get shared memory info: \" &lt;&lt; strerror(errno);\n    return 0;\n}\nelse\n{    \n\n    for (int i = 0; i &lt; n; i++)\n    {\n        struct shmid_ds buf;\n        int iError = shmctl(ids[i], IPC_STAT, &amp;buf);\n        if( iError &lt; 0 )\n        {\n           cout &lt;&lt; \"Cannot access shared memory information for segment \" &lt;&lt; ids[i] &lt;&lt; \" because \" &lt;&lt; strerror(errno) &lt;&lt; endl;\n        } \n        else\n        {\n            memoryUsed += buf.shm_segsz;\n        }\n    }    \n}\n\nreturn memoryUsed;\n</code></pre>\n\n<p>I ask the question because ipcs -ma command is able to get the size of all existing segments therefore I should be able to do the same.</p>\n\n<pre><code>IPC status from &lt;running system&gt; as of Wed Mar  9 19:44:34 MET 2016\nT         ID      KEY        MODE        OWNER    GROUP  CREATOR   CGROUP NATTCH      SEGSZ  CPID  LPID   ATIME    DTIME    CTIME\nShared Memory:\nm        215   0          --rw-------  olivier    staff   olivier  staff      0       4096 10869 10869 19:10:21 19:10:21 19:10:21\nm          0   0x8d0c6ee7 --rw-------  oracle     dba     oracle   dba        4 40956239872   785  2275  7:17:38  7:17:38  7:16:47\n</code></pre>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1457549382, "post_id": 35900058, "comment_id": 59460632, "body": "It smells like use of uninitialized variable <code>a</code>. Can&#39;t be certain without a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1457550466, "post_id": 35900058, "comment_id": 59461367, "body": "Yeah.. down and close vote for showing code, but not showing data.  We don&#39;t even know what type &#39;a&#39; is;("}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457568207, "post_id": 35900058, "comment_id": 59470539, "body": "if <code>array[0]</code> the MSB - i.e 128 or 1?"}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1457564035, "post_id": 35900140, "comment_id": 59468957, "body": "Why are you using <code>pow</code> - an expensive function in this context"}], "tags": [], "owner": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "is_accepted": false, "score": 3, "last_activity_date": 1457549901, "last_edit_date": 1457549901, "creation_date": 1457549418, "answer_id": 35900140, "question_id": 35900058, "link": "https://stackoverflow.com/questions/35900058/pow-function-in-c-is-getting-me-wrong-results/35900140#35900140", "title": "pow() function in c is getting me wrong results", "body": "<p>You have not initialised <code>a</code> to 0.</p>\n\n<p>The following should work</p>\n\n<pre><code>int array[8]={\n        0,1,1,0,0,0,0,1\n};\nint *p = array;\nint i;\na = 0                     // &lt;&lt; Initialise a\nfor (i = 0; i&lt;8; i++){\n    if(p[i]!=0){\n        a = a + pow(2,i);\n        printf(\"%i\\n\",a);\n    }\n};\n</code></pre>\n\n<p>You always need to provide an initial value for your variables. Otherwise, you can expect them to start with ANY value. </p>\n\n<p>In the second piece of code you are accumulating <code>a=a+pow(2,i)</code> and it is here where the first time <code>a</code> is used, it will contain some undetermined value.</p>\n"}, {"tags": [], "owner": {"reputation": 3853, "user_id": 2474248, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BDsoE.jpg?s=128&g=1", "display_name": "machine_1", "link": "https://stackoverflow.com/users/2474248/machine-1"}, "is_accepted": false, "score": 1, "last_activity_date": 1457549670, "creation_date": 1457549670, "answer_id": 35900219, "question_id": 35900058, "link": "https://stackoverflow.com/questions/35900058/pow-function-in-c-is-getting-me-wrong-results/35900219#35900219", "title": "pow() function in c is getting me wrong results", "body": "<p>The problem is in the statement: <code>a = a + pow(2,1);</code>\n<code>a</code> has indeterminate value because it has not been initialized and you are using it in arithmetic operation.</p>\n"}, {"tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 1, "last_activity_date": 1457554671, "creation_date": 1457554671, "answer_id": 35901733, "question_id": 35900058, "link": "https://stackoverflow.com/questions/35900058/pow-function-in-c-is-getting-me-wrong-results/35901733#35901733", "title": "pow() function in c is getting me wrong results", "body": "<p><code>pow</code> is intended to compute the exponential function of two real (not integer) values. So you could use it to compute &pi;<sup>3/2</sup>. It is really not ideal for computing integer powers of 2. Much simpler and faster (though possibly less readable until you get used to it) is to write 2<sup>i</sup> as <code>(1UL &lt;&lt; i)</code>. However, in this particular case you don't need either of those. You could just do the following:</p>\n\n<pre><code>int a = 0;\nfor (int index = 0, value = 1; index &lt; 8; ++index, value *= 2)\n  if (p[i]) a += value;\n</code></pre>\n\n<p>or even more directly</p>\n\n<pre><code>int a = 0;\nfor (int value = 1, *p = array; value &lt; 256; value *= 2, ++p)\n  if (*p) a += value;\n</code></pre>\n\n<p>(As has been mentioned, the problem in your original was not actually the use of <code>pow</code> but rather the absence of the initialization <code>int a = 0</code>.)</p>\n"}, {"comments": [{"owner": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "edited": false, "score": 0, "creation_date": 1457564174, "post_id": 35904163, "comment_id": 59469015, "body": "If you found the answers useful, would you mind accepting one?"}], "tags": [], "owner": {"reputation": 53, "user_id": 6041125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510bd8449a5dc39c3ba9ecbcf82cf963?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Drucker", "link": "https://stackoverflow.com/users/6041125/florian-drucker"}, "is_accepted": false, "score": -1, "last_activity_date": 1457563363, "creation_date": 1457563363, "answer_id": 35904163, "question_id": 35900058, "link": "https://stackoverflow.com/questions/35900058/pow-function-in-c-is-getting-me-wrong-results/35904163#35904163", "title": "pow() function in c is getting me wrong results", "body": "<p>alright ! i fixed it by adding <code>=0;</code> to the <code>int a;</code>intitialization\nTanks !</p>\n"}], "owner": {"reputation": 53, "user_id": 6041125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510bd8449a5dc39c3ba9ecbcf82cf963?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Drucker", "link": "https://stackoverflow.com/users/6041125/florian-drucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 4, "score": -3, "last_activity_date": 1545640966, "creation_date": 1457549157, "last_edit_date": 1545640966, "question_id": 35900058, "link": "https://stackoverflow.com/questions/35900058/pow-function-in-c-is-getting-me-wrong-results", "title": "pow() function in c is getting me wrong results", "body": "<p>I'm trying to convert an 8 bit array into into a number from 0-255 by adding values depending on the position in the field. </p>\n\n<p>if I use </p>\n\n<pre><code>int array[8]={\n            0,1,1,0,0,0,0,1\n    };\n    int *p = array;\n    int i;\n    for (i = 0; i&lt;8; i++){\n        if(p[i]!=0){\n            a = pow(2,i);\n            printf(\"%i\\n\",a);\n        }\n    };\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>2\n4\n128\n</code></pre>\n\n<p>as results, which would be right so far. \nbut if I use </p>\n\n<pre><code>int array[8]={\n            0,1,1,0,0,0,0,1\n    };\n    int *p = array;\n    int i;\n    for (i = 0; i&lt;8; i++){\n        if(p[i]!=0){\n            a = a + pow(2,i);\n            printf(\"%i\\n\",a);\n        }\n    };\n</code></pre>\n\n<p>I instead get:</p>\n\n<pre><code>2686758\n2686762\n2686890\n</code></pre>\n\n<p>when I expect: </p>\n\n<pre><code>134\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1457555422, "post_id": 35900007, "comment_id": 59464296, "body": "Is the exact code you posted that causes this error?"}], "answers": [{"tags": [], "owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "is_accepted": false, "score": 0, "last_activity_date": 1457557774, "creation_date": 1457557774, "answer_id": 35902673, "question_id": 35900007, "link": "https://stackoverflow.com/questions/35900007/opencv-error-siftdescriptorextractor-not-declared-in-this-scope/35902673#35902673", "title": "OpenCV Error. SiftDescriptorExtractor not declared in this scope", "body": "<p>You should add</p>\n\n<pre><code>#include \"opencv2/features2d/features2d.hpp\"\n</code></pre>\n\n<p>before </p>\n\n<pre><code>#include &lt;opencv2/nonfree/features2d.hpp&gt;\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 3481478, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5480528a062081d64c103c6966ef27f0?s=128&d=identicon&r=PG&f=1", "display_name": "user3481478", "link": "https://stackoverflow.com/users/3481478/user3481478"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 853, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457557774, "creation_date": 1457549004, "question_id": 35900007, "link": "https://stackoverflow.com/questions/35900007/opencv-error-siftdescriptorextractor-not-declared-in-this-scope", "title": "OpenCV Error. SiftDescriptorExtractor not declared in this scope", "body": "<p>I am writing this code for Image classification</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include &lt;opencv2/opencv.hpp&gt;\n#include&lt;vector&gt;\nusing namespace std;\nusing namespace cv;\n#include &lt;opencv2/nonfree/features2d.hpp&gt;\nint main()\n{\n\n    //Step 1 - Obtain the set of bags of features.\n\n    //to store the input file names\n    char * filename = new char[100];        \n    //to store the current input image\n    Mat input;    \n\n    //To store the keypoints that will be extracted by SIFT\n    vector&lt;KeyPoint&gt; keypoints;\n    //To store the SIFT descriptor of current image\n    Mat descriptor;\n    //To store all the descriptors that are extracted from all the images.\n    Mat featuresUnclustered;\n    //The SIFT feature extractor and descriptor\n    SiftDescriptorExtractor detector;\n   }\n</code></pre>\n\n<p>And I get the following error:</p>\n\n<pre><code> In file included from /home/abhinav/Sem6/MachinePerception/Assignment3/1.cc:13:0:\n/usr/include/opencv2/nonfree/features2d.hpp:81:5: error: \u2018AlgorithmInfo\u2019 does not name a type\n AlgorithmInfo* info() const;\n ^\nIn file included from /home/abhinav/Sem6/MachinePerception/Assignment3/1.cc:13:0:\n /usr/include/opencv2/nonfree/features2d.hpp:132:5: error: \u2018AlgorithmInfo\u2019   does not name a type\n AlgorithmInfo* info() const;\n ^\n</code></pre>\n\n<p>I am not sure where this algorithminfo is coming from and I dont know how to correct it.</p>\n"}, {"tags": ["c++", "file", "fstream"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1457549274, "post_id": 35899874, "comment_id": 59460555, "body": "Unless the file is too big, open the file for reading, read everything in the file into memory, close the file, update the data, open the file for writing, write the data, close the file. Reading from and writing to a file simultaneously is fraught with problems that are best avoided if you can."}, {"owner": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "edited": false, "score": 0, "creation_date": 1457549325, "post_id": 35899874, "comment_id": 59460595, "body": "@luigi you can open/create a file with using both mode; fs.open(&quot;Test.txt&quot;, std::ios::in|ios::out);"}, {"owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1457549724, "post_id": 35899874, "comment_id": 59460877, "body": "@RSahu unfortunately I&#39;m using a file for the only purpose of not using memory. I would gladly avoid it but I&#39;m kind of forced"}, {"owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "reply_to_user": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "edited": false, "score": 0, "creation_date": 1457549814, "post_id": 35899874, "comment_id": 59460941, "body": "@SudiptaKumarSahoo doesn&#39;t <code>fstream file(file_name)</code> constructor have <code>std::ios::in | std::ios::out</code> as default value?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1457550176, "post_id": 35899874, "comment_id": 59461185, "body": "You can read and write to the same file, but it is really nasty business. I echo R Sahu&#39;s points and add one: Open input file. Open temp file. Read small buffer&#39;s worth of input. Modify small buffer as required. Write small buffer to temp. Repeat until all input consumed. Close input. Close temp. Replace input file with temp file."}, {"owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1457550547, "post_id": 35899874, "comment_id": 59461421, "body": "@user4581301 I&#39;ll definitely consider this"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "edited": false, "score": 0, "creation_date": 1457551175, "post_id": 35900446, "comment_id": 59461804, "body": "Thanks for the reply, this is a safer way to do it as many have suggested, but i need to  read and write in  sequence from the same stream object"}], "tags": [], "owner": {"reputation": 63, "user_id": 6026381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rNmA2.jpg?s=128&g=1", "display_name": "Waheed Brown", "link": "https://stackoverflow.com/users/6026381/waheed-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1457550427, "creation_date": 1457550427, "answer_id": 35900446, "question_id": 35899874, "link": "https://stackoverflow.com/questions/35899874/fstream-management-questions/35900446#35900446", "title": "Fstream management questions", "body": "<p>This is very doable using ifstream and ofstream:</p>\n\n<pre><code>#include &lt;fstream&gt;\nusing namespace std;\n\nint main() {\n  ifstream source(\"source-file.txt\");\n  ofstream destination(\"source-file.txt\");\n  int x; // 0                                                                                                                   \n  int y = 1;\n  source &gt;&gt; x; // Reads one int from source-file.txt                                                                            \n  source.close(); // Always close file when finished                                                                            \n  destination &lt;&lt; y; // Write to source-file.txt                                                                                 \n  return 0;\n} // destination.close() called by destructor\n</code></pre>\n\n<p>Think of a stream like a straw. You can't drink and blow into the straw at the same time. Take a sip, stop, blow back out, repeat.</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "edited": false, "score": 0, "creation_date": 1457551065, "post_id": 35900484, "comment_id": 59461739, "body": "&quot;at the same time&quot; isn&#39;t accurate, sorry. I mean to say I have to write something (actually i have to update an already written value) right after having found a specific character while reading."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1457550570, "creation_date": 1457550570, "answer_id": 35900484, "question_id": 35899874, "link": "https://stackoverflow.com/questions/35899874/fstream-management-questions/35900484#35900484", "title": "Fstream management questions", "body": "<p>Here are my answers:</p>\n\n<blockquote>\n  <p>1) First of all, why calling the constructors fstream file(file_name); or fstream file; file.open(file_name); without any flag like ios::in or ios::out doesn't create any new file?</p>\n</blockquote>\n\n<p>There is no need to create a file until a write operation occurs.  This is delayed processing.  </p>\n\n<p>There is no need to create a file when the default may be to open the file with <em>read</em> permission.  To my knowledge, opening a file for read-only never creates a file.  </p>\n\n<p>Read up on the default mode for those cases.  </p>\n\n<blockquote>\n  <p>2) Let's say i want to use the same file for input and output. I can do something like fstream file and then call file.open(file_name, ios::out) or file.open(file_name, ios::in) when I need to use it for output or input operation separately. But what if I need to do input and output at the same time?   </p>\n</blockquote>\n\n<p>If you need to perform reading and writing to the same file, open it with both <code>ios::in</code> and <code>ios::out</code> modes: <code>ios::out | ios::in</code>.  This is informing the stream that you want to write and read using the same stream (file).  This has been allowed at least since the C language was invented.  </p>\n\n<p>BTW, you should clarify \"at the same time\".  Most everything is sequential on a computer, except when multiple processors (cores) are involved.  Most files are sequential, meaning only one source can read or write to the file.  Although there have been a few exceptions.  </p>\n\n<p>Many files have been treated as arrays.  You can read and write the same section many times.  This is called <em>random access</em> versus devices that are <code>sequential access</code>.  </p>\n"}], "owner": {"reputation": 162, "user_id": 5922196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7542b737d2e395e1e4b1514c88005f7e?s=128&d=identicon&r=PG&f=1", "display_name": "luigi", "link": "https://stackoverflow.com/users/5922196/luigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 35900484, "answer_count": 2, "score": 1, "last_activity_date": 1457550570, "creation_date": 1457548668, "question_id": 35899874, "link": "https://stackoverflow.com/questions/35899874/fstream-management-questions", "title": "Fstream management questions", "body": "<p>I'm a bit puzzled on how to manage file stream with <code>fstream</code>. I'll order my main questions below:</p>\n\n<p>1) First of all, why calling the constructors <code>fstream file(file_name);</code> or <code>fstream file; file.open(file_name);</code> without any flag like <code>ios::in</code> or <code>ios::out</code> doesn't create any new file?  </p>\n\n<p>2) Let's say i want to use the same file for input and output. I can do something like <code>fstream file</code> and then call <code>file.open(file_name, ios::out)</code> or <code>file.open(file_name, ios::in)</code> when I need to use it for output or input operation separately. But what if I need to do input and output at the same time? For example, I need to read from a file and the replace a line or a character whenever I find a specific word or number while reading. Is calling <code>file.open(file_name)</code> for an already created file (and without specifying any flag) possible? Does it allow me to do read/write operation with the same stream?</p>\n"}, {"tags": ["c++", "sockets", "boost"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 2, "creation_date": 1457548567, "post_id": 35899728, "comment_id": 59460122, "body": "tcp doesn&#39;t speak in messages. It speaks in streams of data."}, {"owner": {"reputation": 1159, "user_id": 1602696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d0310bd59a8d08a3cb1b496f647da1b?s=128&d=identicon&r=PG", "display_name": "Aleph", "link": "https://stackoverflow.com/users/1602696/aleph"}, "edited": false, "score": 1, "creation_date": 1457548659, "post_id": 35899728, "comment_id": 59460178, "body": "Well you only call <code>async_read_some</code> once, so that should come as no surprise."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 6041109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/681b9fe0385fe6c2469836b5858c532a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Nowak", "link": "https://stackoverflow.com/users/6041109/roman-nowak"}, "edited": false, "score": 0, "creation_date": 1457642107, "post_id": 35899986, "comment_id": 59511825, "body": "But it looks like it is recursive method? Please correct me if I am wrong."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 89, "user_id": 6041109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/681b9fe0385fe6c2469836b5858c532a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Nowak", "link": "https://stackoverflow.com/users/6041109/roman-nowak"}, "edited": false, "score": 0, "creation_date": 1457642347, "post_id": 35899986, "comment_id": 59511974, "body": "@RomanNowak It certainly <i>looks</i> recursive, but it&#39;s not. <code>async_read_some</code> is a function that returns immediately. The function you pass it is then invoked by whichever thread is running processes on behalf of <code>io_service</code> when the OS reports that it has received data. No recursion is invoked."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 6849, "user_id": 1046738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fad002f88c1fc7c38c3154d3970f1ad2?s=128&d=identicon&r=PG", "display_name": "jfly", "link": "https://stackoverflow.com/users/1046738/jfly"}, "edited": false, "score": 0, "creation_date": 1460303218, "post_id": 35899986, "comment_id": 60667532, "body": "@jfly you tagged the wrong person; I provided the answer, not the question."}, {"owner": {"reputation": 6849, "user_id": 1046738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fad002f88c1fc7c38c3154d3970f1ad2?s=128&d=identicon&r=PG", "display_name": "jfly", "link": "https://stackoverflow.com/users/1046738/jfly"}, "edited": false, "score": 0, "creation_date": 1460336155, "post_id": 35899986, "comment_id": 60678907, "body": "@Xirema my fault:)"}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 1, "last_activity_date": 1457548959, "creation_date": 1457548959, "answer_id": 35899986, "question_id": 35899728, "link": "https://stackoverflow.com/questions/35899728/boostsocket-receives-only-one-message/35899986#35899986", "title": "boost::socket receives only one message", "body": "<p>Every time you successfully read data, you need to request the <code>io_service</code>/<code>socket</code> to once again handle a data read. My usual solution looks like this:</p>\n\n<pre><code>void handle_read(asio::error_code ec, size_t bytes_read) {\n    if(!ec) {\n        /*Do Stuff*/\n        socket.async_read(/*buffer*/, handle_read);\n    } else {\n        /*Error handling*/\n    }\n}\n</code></pre>\n\n<p>I haven't syntax checked the code I'm providing here, but you should get the right idea.</p>\n"}], "owner": {"reputation": 89, "user_id": 6041109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/681b9fe0385fe6c2469836b5858c532a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Nowak", "link": "https://stackoverflow.com/users/6041109/roman-nowak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 35899986, "answer_count": 1, "score": 1, "last_activity_date": 1457554731, "creation_date": 1457548235, "last_edit_date": 1457554731, "question_id": 35899728, "link": "https://stackoverflow.com/questions/35899728/boostsocket-receives-only-one-message", "title": "boost::socket receives only one message", "body": "<p>I am writing simple server using <code>boost::asio</code>.\nCurrently I have ready part of the server that receives data.\nBut I have problem. <code>Boost::asio</code> receives only one message (my client program sends multiple  number of messages).</p>\n\n<p>After receiving message I must do something to be able to receive another message from the same client?</p>\n\n<pre><code>TCPConnection::TCPConnection(boost::asio::io_service&amp; io_service)\n                            : socket_(io_service),\n                              socketActive(true)\n{\n    Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: TCPConnection::TCPConnection(boost::asio::io_service&amp; io_service) : socket_(io_service)\";\n}\n\nvoid TCPConnection::Start()\n{\n  Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPConnection::Start()\";\n\n\n  socket_.async_read_some(boost::asio::buffer(buffer_),\n      boost::bind(&amp;TCPConnection::HandleRead, shared_from_this(),\n        boost::asio::placeholders::error,\n        boost::asio::placeholders::bytes_transferred));\n}\n\nvoid TCPConnection::HandleRead(const boost::system::error_code&amp; e,\n    std::size_t bytes_transferred)\n{\n  Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPConnection::HandleRead(const boost::system::error_code&amp; e, std::size_t bytes_transferred)\";\n\n  if (!e)\n  {\n    Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: New message\";    \n\n    Message tempMessage;\n    tempMessage.CopyData((boost::shared_ptr&lt;TCPConnection&gt;)this, buffer_.data());\n    messageQueue-&gt;PushBack(tempMessage);\n  }\n  else if (e != boost::asio::error::operation_aborted)\n  {\n    Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: Close connection\";\n    this-&gt;Stop();\n  }\n}\n</code></pre>\n"}, {"tags": ["c++", "class", "vector", "queue"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "edited": false, "score": 0, "creation_date": 1457548924, "post_id": 35899947, "comment_id": 59460327, "body": "Thanks man, I was thinking of that, but I wasn&#39;t super sure about how to write the syntax for that."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "edited": false, "score": 0, "creation_date": 1457548959, "post_id": 35899947, "comment_id": 59460357, "body": "@TheCoxer, no problem. Glad to help."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1457548863, "creation_date": 1457548863, "answer_id": 35899947, "question_id": 35899726, "link": "https://stackoverflow.com/questions/35899726/c-how-to-access-elements-in-a-vector-of-queues-of-an-object/35899947#35899947", "title": "C++ How to access elements in a vector of queues of an object", "body": "<p><code>printer[0]</code> gives you access to the first <code>queue&lt;PCB&gt;</code>.  </p>\n\n<p><code>printer[0].front()</code> gives you access to the <code>PCB</code> at the front of the queue of the first <code>queue&lt;PCB&gt;</code>.</p>\n\n<p><code>printer[0].front().getParam()</code> allows you to call the <code>getParam()</code> function on the the <code>PCB</code> at the front of the queue of the first <code>queue&lt;PCB&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 8445655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02b6178ebd358d5257318ef0f8c0dc?s=128&d=identicon&r=PG&f=1", "display_name": "bdbasinger", "link": "https://stackoverflow.com/users/8445655/bdbasinger"}, "edited": false, "score": 0, "creation_date": 1561317254, "post_id": 35899964, "comment_id": 100013953, "body": "What if I wanted to call two methods on the same object?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 173, "user_id": 8445655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02b6178ebd358d5257318ef0f8c0dc?s=128&d=identicon&r=PG&f=1", "display_name": "bdbasinger", "link": "https://stackoverflow.com/users/8445655/bdbasinger"}, "edited": false, "score": 0, "creation_date": 1561318677, "post_id": 35899964, "comment_id": 100014231, "body": "@bdbasinger then you would use <code>printer[some_index].front().func1;</code> and then <code>printer[some_index].front().func2;</code>."}, {"owner": {"reputation": 173, "user_id": 8445655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02b6178ebd358d5257318ef0f8c0dc?s=128&d=identicon&r=PG&f=1", "display_name": "bdbasinger", "link": "https://stackoverflow.com/users/8445655/bdbasinger"}, "edited": false, "score": 0, "creation_date": 1561322475, "post_id": 35899964, "comment_id": 100014947, "body": "Using .front() again wouldn\u2019t cause it to move to the next item in the que after using it the first time?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 173, "user_id": 8445655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02b6178ebd358d5257318ef0f8c0dc?s=128&d=identicon&r=PG&f=1", "display_name": "bdbasinger", "link": "https://stackoverflow.com/users/8445655/bdbasinger"}, "edited": false, "score": 0, "creation_date": 1561326050, "post_id": 35899964, "comment_id": 100015636, "body": "@bdbasinger front only gives you a reference to the first element.  It does not remove anything.  To remove you need to use pop."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1457549896, "last_edit_date": 1457549896, "creation_date": 1457548907, "answer_id": 35899964, "question_id": 35899726, "link": "https://stackoverflow.com/questions/35899726/c-how-to-access-elements-in-a-vector-of-queues-of-an-object/35899964#35899964", "title": "C++ How to access elements in a vector of queues of an object", "body": "<p>A <a href=\"http://en.cppreference.com/w/cpp/container/queue\" rel=\"nofollow\"><code>std::queue</code></a> only provides facilities to access the first and last items directly using <code>front()</code> or <code>back()</code>.  So if you want to call a function on one of those items from the vector then you would use</p>\n\n<pre><code>std::vector&lt;std::queue&lt;PCB&gt;&gt; printer;\n// fill printer\nprinter[0].front().getParam();\n// or\nprinter[0].back().getParam();\n</code></pre>\n\n<p>In short</p>\n\n<pre><code>printer[some_index].front()\n// or\nprinter[some_index].back()\n</code></pre>\n\n<p>Returns a reference to the <code>PCB</code> in the container at that index.</p>\n"}, {"tags": [], "owner": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1457549132, "creation_date": 1457549132, "answer_id": 35900047, "question_id": 35899726, "link": "https://stackoverflow.com/questions/35899726/c-how-to-access-elements-in-a-vector-of-queues-of-an-object/35900047#35900047", "title": "C++ How to access elements in a vector of queues of an object", "body": "<p>Here is a simple example using your code;</p>\n\n<pre><code>int main()\n{\n    vector&lt;queue&lt;PCB&gt;&gt; printer;\n\n    // Create object your PCB class.\n    PCB pcbObject;\n\n    // Declare a queue\n    queue&lt;PCB&gt; que;\n\n    // Add the PCB class object to queue\n    que.push(pcbObject);\n\n    // Push the queue to vector.\n    printer.push_back(que);\n\n    //Get the first value\n    printer[0].front().getParam();\n\n    // Remove the element PCB\n    printer[0].pop();\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 35899947, "answer_count": 3, "score": 0, "last_activity_date": 1457549896, "creation_date": 1457548229, "last_edit_date": 1457548464, "question_id": 35899726, "link": "https://stackoverflow.com/questions/35899726/c-how-to-access-elements-in-a-vector-of-queues-of-an-object", "title": "C++ How to access elements in a vector of queues of an object", "body": "<p>So I have a class called PCB:</p>\n\n<pre><code>class PCB\n{\n    private:\n\n        int PID;\n        string filename;\n        int memStart;\n        string cdrw;\n        int filelength;\n\n    public:\n\n        PCB();\n        PCB(int, string, int, string, int);\n        virtual ~PCB();\n        void getParam();\n};\n</code></pre>\n\n<p>And I have a vector of queues: <code>vector&lt;queue&lt;PCB&gt;&gt; printer;</code></p>\n\n<p>How would I access the first element of the first queue in the vector? How would I use my class functions? Would it look like <code>printer[0].getParam</code>? </p>\n"}, {"tags": ["c++", "dllimport", "masm"], "comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1457548141, "post_id": 35899580, "comment_id": 59459839, "body": "<code>EXTERNDEF C qwglChoosePixelFormat:DWORD</code> See: <a href=\"http://stackoverflow.com/questions/27028508/masm-accessing-to-global-c-variable-from-assembly\" title=\"masm accessing to global c variable from assembly\">stackoverflow.com/questions/27028508/&hellip;</a>"}, {"owner": {"reputation": 10964, "user_id": 2478565, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/UnOcW.jpg?s=128&g=1", "display_name": "Drew McGowen", "link": "https://stackoverflow.com/users/2478565/drew-mcgowen"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1457548795, "post_id": 35899580, "comment_id": 59460255, "body": "@BitTickler the question you linked refers to exporting a DLL variable defined in MASM and importing it into C, whereas I&#39;m trying to do the reverse."}, {"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1457549751, "post_id": 35899580, "comment_id": 59460905, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/91sxd44w.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/91sxd44w.aspx</a> &quot;If name is referenced in the module, it is treated as EXTERN. &quot;"}], "owner": {"reputation": 10964, "user_id": 2478565, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/UnOcW.jpg?s=128&g=1", "display_name": "Drew McGowen", "link": "https://stackoverflow.com/users/2478565/drew-mcgowen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457547749, "creation_date": 1457547749, "question_id": 35899580, "link": "https://stackoverflow.com/questions/35899580/import-dll-variable-in-masm", "title": "Import DLL variable in MASM", "body": "<p>I'm trying to access a variable in MASM that's exported in another DLL. But whenever I try to use it, it winds up generating a <code>jmp</code> stub (to reduce the number of dynamic relocations), which is wrong for data. Instead, I want it to point directly to the relocation (i.e. the <code>__imp_xxx</code> variable). When I do the same in C/C++, it points to the correct variable. I also tried manually using the <code>__imp_xxx</code> variable, but I get link errors (unresolved external symbol).</p>\n\n<p>As an example, in MASM:</p>\n\n<pre><code>EXTERN _qwglChoosePixelFormat:DWORD\n...\n    mov     eax, _qwglChoosePixelFormat\n...\n</code></pre>\n\n<p>Visual Studio generates/links <code>_qwglChoosePixelFormat</code> as a jump stub:</p>\n\n<pre><code>...\n_qwglChoosePixelFormat PROC\n    jmp     __imp_qwglChoosePixelFormat\n_qwglChoosePixelFormat ENDP\n...\n</code></pre>\n\n<p>But when I try the same in C/C++:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>extern \"C\" DWORD __declspec(dllimport) qwglChoosePixelFormat;\n...\n    DWORD test = qwglChoosePixelFormat;\n...\n</code></pre>\n\n<p>It generates the proper code:</p>\n\n<pre><code>...\n    mov     eax, __imp_qwglChoosePixelFormat\n    mov     [ebp+8], eax\n...\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6040988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4a9f979c0d0408662eb742b466c694?s=128&d=identicon&r=PG&f=1", "display_name": "jm6676", "link": "https://stackoverflow.com/users/6040988/jm6676"}, "edited": false, "score": 0, "creation_date": 1457549001, "post_id": 35899764, "comment_id": 59460374, "body": "Awesome, thanks a bunch! For some reason only laptop users in my class are encountering this issue, this seemed to fix it for us all. Thanks again!"}], "tags": [], "owner": {"reputation": 10964, "user_id": 2478565, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/UnOcW.jpg?s=128&g=1", "display_name": "Drew McGowen", "link": "https://stackoverflow.com/users/2478565/drew-mcgowen"}, "is_accepted": true, "score": 2, "last_activity_date": 1457548331, "creation_date": 1457548331, "answer_id": 35899764, "question_id": 35899562, "link": "https://stackoverflow.com/questions/35899562/opening-a-window-in-opengl-will-not-make-blank-screen-makes-infinite-copies-in/35899764#35899764", "title": "Opening a Window in OpenGL: Will not make Blank Screen (Makes infinite copies instead)", "body": "<p>The issue is that you never clear the screen or call <code>glfwSwapBuffers</code>.</p>\n\n<p>When the window first appears, its client area is invalidated which means it needs to be redrawn. GLFW doesn't clear the screen automatically because it would just be overwritten with your graphics scene (so the extra clear would be redundant). But since you don't draw anything, you're left with the equivalent of uninitialized data. Whether or not you get a blank screen or copies of windows behind it is configuration-dependent.</p>\n\n<p>To fix this, you need to <a href=\"http://www.glfw.org/docs/latest/window.html#window_refresh\" rel=\"nofollow\">register a window refresh callback</a> via <a href=\"http://www.glfw.org/docs/latest/group__window.html#ga4569b76e8ac87c55b53199e6becd97eb\" rel=\"nofollow\"><code>glfwSetWindowRefreshCallback</code></a> that does your rendering (in this case, just call <code>glClear(GL_COLOR_BUFFER);</code>) and calls <code>glfwSwapBuffers</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 6040988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4a9f979c0d0408662eb742b466c694?s=128&d=identicon&r=PG&f=1", "display_name": "jm6676", "link": "https://stackoverflow.com/users/6040988/jm6676"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 35899764, "answer_count": 1, "score": 0, "last_activity_date": 1457548331, "creation_date": 1457547705, "question_id": 35899562, "link": "https://stackoverflow.com/questions/35899562/opening-a-window-in-opengl-will-not-make-blank-screen-makes-infinite-copies-in", "title": "Opening a Window in OpenGL: Will not make Blank Screen (Makes infinite copies instead)", "body": "<p>So I asked my professor to look at this already and he doesn't know why it doesn't work. I am currently working from my laptop, which is having the issue. I also tried running my program on a lab computer and it fully worked as intended. I recently updated all of my graphics stuff. Here is my code below:</p>\n\n<pre><code>#include &lt;GL/glew.h&gt;\n#include &lt;GLFW/glfw3.h&gt;\n#include &lt;glm/glm.hpp&gt;\n#include &lt;glm/gtx/transform.hpp&gt;\n#include &lt;FreeImage.h&gt;\n\nint main()\n{\n    if (glfwInit() == GL_FALSE)\n        return -1;\n\n    GLFWwindow* GLFWwindowPtr = glfwCreateWindow(800, 600, \"Name Name DSA1 Engine\", NULL, NULL);\n\n    if (GLFWwindowPtr != nullptr)\n        glfwMakeContextCurrent(GLFWwindowPtr);\n    else\n    {\n        glfwTerminate();\n        return -1;\n    }\n\n    if (glewInit() != GLEW_OK)\n    {\n        glfwTerminate();\n        return -1;\n    }\n\n    while (!glfwWindowShouldClose(GLFWwindowPtr))\n    {\n        glfwPollEvents();\n    }\n\n    glfwTerminate();\n    return 0;\n}\n</code></pre>\n\n<p>All I am trying to do is make a blank window appear on my screen with openGL. It all runs fine and dandy, but when a window is drawn to my screen it copies whatever was behind it instead of being a blank white screen. The most perplexing bit about this is that my professor has the same code on his laptop and it works fine, and it works for me when I run it on a lab machine.</p>\n\n<p>I initially thought it was something in my graphics drivers and such so I updated those but it still doesn't work. I have provided some of my system specs just in case that might help.</p>\n\n<p>Manufacturer MSI_NB</p>\n\n<p>Model GT70 2OC/2OD </p>\n\n<p>Total amount of system memory 32.0 GB RAM </p>\n\n<p>System type 64-bit operating system </p>\n\n<p>Number of processor cores 4 </p>\n\n<p>Display adapter type NVIDIA GeForce GTX 770M </p>\n\n<p>Total available graphics memory 1824 MB </p>\n\n<p>Dedicated graphics memory 192 MB </p>\n\n<p>Dedicated system memory 0 MB </p>\n\n<p>Shared system memory 1632 MB </p>\n\n<p>Display adapter driver version 10.18.13.6200 </p>\n\n<p>Primary monitor resolution 1920x1080 </p>\n\n<p>DirectX version DirectX 10 </p>\n\n<p>I know this isn't really a code related question, but I would really appreciate anyone who can help me with this issue. If I need to provide any additional information I am more than happy to provide it!</p>\n"}, {"tags": ["c++", "windows", "macos", "encryption"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1457548983, "post_id": 35899550, "comment_id": 59460367, "body": "<a href=\"http://stackoverflow.com/a/22482118/2836621\">stackoverflow.com/a/22482118/2836621</a>"}, {"owner": {"reputation": 787, "user_id": 890548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/173Kr.png?s=128&g=1", "display_name": "wesley.mesquita", "link": "https://stackoverflow.com/users/890548/wesley-mesquita"}, "edited": false, "score": 0, "creation_date": 1457549007, "post_id": 35899550, "comment_id": 59460381, "body": "I just glanced on the problem, but, are you sure that dealing with non-ASCII characters are good in all platforms considered?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1457549502, "post_id": 35899550, "comment_id": 59460721, "body": "There is no single quote in your source text. There is an &quot;&#237;&quot;, though, which is not US ASCII. The random generator for random_shuffle is implementation-dependent."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 787, "user_id": 890548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/173Kr.png?s=128&g=1", "display_name": "wesley.mesquita", "link": "https://stackoverflow.com/users/890548/wesley-mesquita"}, "edited": false, "score": 0, "creation_date": 1457549595, "post_id": 35899550, "comment_id": 59460792, "body": "Support for Extended ASCII, codes over 127, is so fragmented as to be worthless. Don&#39;t count on any portability. Reading again, I think this comment is a rephrasing of @wesley.mesquita &#39;s point."}, {"owner": {"reputation": 69, "user_id": 2067256, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/yKE4r.jpg?s=128&g=1", "display_name": "Georgina Davenport", "link": "https://stackoverflow.com/users/2067256/georgina-davenport"}, "edited": false, "score": 0, "creation_date": 1457551456, "post_id": 35899550, "comment_id": 59461977, "body": "The non ascii \\&#39; is a problem, but one I can solve easily by substitution. The real anomalies are the failure of the srand value, which may well have been answered by Mark Setchell. But leaves me wondering if it can be seeded in any way? and the additional character in the output string which indicates a functional difference between iterator manipulation on the two platforms. Is anybody able to answer those questions please?"}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 1, "creation_date": 1457552844, "post_id": 35899550, "comment_id": 59462797, "body": "In UTF8 encoding, the &quot;&#237;&quot; character maps to two bytes, in octal 0303 and 0255.  The shuffle is moving the two bytes of this character independently, as if they were two distinct characters.  This also destroys the character&#39;s encoding."}, {"owner": {"reputation": 69, "user_id": 2067256, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/yKE4r.jpg?s=128&g=1", "display_name": "Georgina Davenport", "link": "https://stackoverflow.com/users/2067256/georgina-davenport"}, "edited": false, "score": 0, "creation_date": 1457563255, "post_id": 35899550, "comment_id": 59468608, "body": "Is there anybody left able to explain why the srand doesn&#39;t work? And how to replace it with something which does?"}], "answers": [{"tags": [], "owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "is_accepted": false, "score": 2, "last_activity_date": 1457569690, "creation_date": 1457569690, "answer_id": 35905391, "question_id": 35899550, "link": "https://stackoverflow.com/questions/35899550/c-console-mode-program-produces-different-result-on-mac-to-windows/35905391#35905391", "title": "C++ console-mode program produces different result on Mac to Windows", "body": "<p><code>srand(seed)</code> may or may not impact the result of <code>random_shuffle</code>; it's up to the implementation, so you shouldn't rely on it.</p>\n\n<p>The <code>random_shuffle</code> function uses an <em>unspecified source of randomness</em>. This may be <code>rand()</code> or it may be something completely different; likely the C++ standard library implementation used by Visual Studio uses <code>rand()</code>, while the implementation you're using on OS X is using a different source of randomness.</p>\n\n<p>If you really need it to use <code>rand()</code> internally, you can pass a unary function as the third parameter, to tell it how to generate random numbers for the shuffle:</p>\n\n<pre><code>random_shuffle(permutation.begin(), permutation.end(), [](int x) { return rand() % x; });\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2067256, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/yKE4r.jpg?s=128&g=1", "display_name": "Georgina Davenport", "link": "https://stackoverflow.com/users/2067256/georgina-davenport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457569690, "creation_date": 1457547636, "last_edit_date": 1457557257, "question_id": 35899550, "link": "https://stackoverflow.com/questions/35899550/c-console-mode-program-produces-different-result-on-mac-to-windows", "title": "C++ console-mode program produces different result on Mac to Windows", "body": "<p>I have been tasked with implementing a simple substitution encryption scheme for which I am given an encoder.</p>\n\n<p>The program below is for the Mac even though I have been instructed to make the program compile and run in Visual Studio for Windows.</p>\n\n<p>My reason is that I own a Mac and thought it would be just as well to write the program on whichever machine I like, then make the adjustments where necessary. It's only a console mode app after all.</p>\n\n<p>I didn't expect is how the program behaves on a Mac:</p>\n\n<p>On the Mac the seed quite simply appears not to work. It keeps on producing new permutations even though I have only used two different seeds.</p>\n\n<p>Visual Studio on Windows generated the expected result of producing a permutation unique to each seed value. Does srand simply mean nothing with respect to the random_shuffle function on a Mac, unlike on a PC?</p>\n\n<p>Code below, followed by output cut and paste. Both from Mac X-Code 7.2 compilation.</p>\n\n<p>So, basically, why doesn't srand(seed) do what's expected?</p>\n\n<pre><code>/code\n\n#include &lt;string&gt;\n#include &lt;cstdlib&gt;\n#include \"algorithm\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst string ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\u00ed \";\n\nstring cp(unsigned seed) {\n    srand(seed);\n    string permutation = ALPHABET;\n    // using built-in random generator:\n    random_shuffle(permutation.begin(), permutation.end());\n    return permutation;\n}\n\nint main(int argc, char** argv) {\n\n    unsigned seedy = 100;\n    string what = cp(seedy);\n    cout &lt;&lt; what &lt;&lt; endl;\n\n    seedy = 200;\n    what = cp(seedy);\n    cout &lt;&lt; what &lt;&lt; endl;\n\n    seedy = 100;\n    what = cp(seedy);\n    cout &lt;&lt; what &lt;&lt; endl;\n\n    seedy = 100;\n    what = cp(seedy);\n    cout &lt;&lt; what &lt;&lt; endl;\n\n    getchar();\n\n    return 0;\n}\n\n/code\n</code></pre>\n\n<p>Console output:</p>\n\n<p>'XQACKHSLOJ,TRBZNGV.W FIUEYDMP</p>\n\n<p>OILQPNSWBAHYGTD'EFKV,XMR. CJZU</p>\n\n<p>J,DKXTHP'RQOEZCYG. SMFIULABVNW</p>\n\n<p>WNJTCYA EHSDPQLKO.ZURGF,'VMIBX</p>\n"}, {"tags": ["c++", "c++11", "multidimensional-array", "header-files"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1457547789, "post_id": 35899507, "comment_id": 59459609, "body": "How do you want to use it ? An accessor function <code>get_aero_coeff(int i, int j, int k)</code> may be a solution."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1457547926, "post_id": 35899507, "comment_id": 59459693, "body": "<code>double [81][25][8]</code> may be compatible with <code>double*</code>, not with <code>double***</code>."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2163144, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/044f3db15f578bc67e3affd2f4fb61b5?s=128&d=identicon&r=PG", "display_name": "mthiffau", "link": "https://stackoverflow.com/users/2163144/mthiffau"}, "edited": false, "score": 0, "creation_date": 1457549475, "post_id": 35899636, "comment_id": 59460697, "body": "How is the performance of std::vector compared to normal arrays? IIRC vectors use arrays in the backend so access <i>should</i> be fast (and that&#39;s all I&#39;m doing, the vector is const). However the 20 seconds it&#39;s added to the compile time of my project is a little disconcerting."}, {"owner": {"reputation": 1680, "user_id": 5282154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ae12f72b587ad0c4e89ffde11839?s=128&d=identicon&r=PG", "display_name": "doug", "link": "https://stackoverflow.com/users/5282154/doug"}, "edited": false, "score": 0, "creation_date": 1457554130, "post_id": 35899636, "comment_id": 59463560, "body": "I don&#39;t recommend nested vector&lt;&gt; because each one witll produce an indirection to the child vector. Used nested std::array. It&#39;s as fast as regular static multidimensional arrays."}, {"owner": {"reputation": 1680, "user_id": 5282154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ae12f72b587ad0c4e89ffde11839?s=128&d=identicon&r=PG", "display_name": "doug", "link": "https://stackoverflow.com/users/5282154/doug"}, "edited": false, "score": 0, "creation_date": 1457554525, "post_id": 35899636, "comment_id": 59463773, "body": "<code>std::array&lt;std::array&lt;int, 2&gt;, 3&gt; x{ 1,2,3,4,5,6 };</code>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 1680, "user_id": 5282154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ae12f72b587ad0c4e89ffde11839?s=128&d=identicon&r=PG", "display_name": "doug", "link": "https://stackoverflow.com/users/5282154/doug"}, "edited": false, "score": 0, "creation_date": 1457555926, "post_id": 35899636, "comment_id": 59464606, "body": "@doug: <code>std::array</code> requires the size to be visible. what OP wants to avoid."}, {"owner": {"reputation": 1680, "user_id": 5282154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ae12f72b587ad0c4e89ffde11839?s=128&d=identicon&r=PG", "display_name": "doug", "link": "https://stackoverflow.com/users/5282154/doug"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1457557709, "post_id": 35899636, "comment_id": 59465606, "body": "@Jarod42: vector&lt;&gt; suffers the same &quot;problem.&quot; There is no way to create a compile time MDim data array without putting the dimensions somewhere, either explicitly or implicitly and the latter is more complex to implement."}], "tags": [], "owner": {"reputation": 1332, "user_id": 2170917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4bde8f118dd0095d6ba07e2a5bc3aa?s=128&d=identicon&r=PG", "display_name": "Nikola Benes", "link": "https://stackoverflow.com/users/2170917/nikola-benes"}, "is_accepted": false, "score": 4, "last_activity_date": 1457547913, "creation_date": 1457547913, "answer_id": 35899636, "question_id": 35899507, "link": "https://stackoverflow.com/questions/35899507/header-declaration-for-multi-dimensional-array-of-unknown-size-in-auto-generated/35899636#35899636", "title": "Header declaration for multi-dimensional array of unknown size in auto-generated cpp file?", "body": "<p>You could perhaps use std::vector instead. With the new c++11 initalizer lists syntax, your generated file can be very similar. Something like:</p>\n\n<pre><code>std::vector&lt; std::vector&lt; std::vector&lt; double &gt; &gt; &gt; coeffs = {\n    { {1, 2, 3}, {4, 5, 6} },\n    { {7, 8, 9}, {0, 0, 0} } };\n</code></pre>\n\n<p>Then, in the header, you just use:</p>\n\n<pre><code>extern std::vector&lt; std::vector&lt; std::vector&lt; double &gt; &gt; &gt; coeffs;\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 2163144, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/044f3db15f578bc67e3affd2f4fb61b5?s=128&d=identicon&r=PG", "display_name": "mthiffau", "link": "https://stackoverflow.com/users/2163144/mthiffau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457547913, "creation_date": 1457547511, "question_id": 35899507, "link": "https://stackoverflow.com/questions/35899507/header-declaration-for-multi-dimensional-array-of-unknown-size-in-auto-generated", "title": "Header declaration for multi-dimensional array of unknown size in auto-generated cpp file?", "body": "<p>As part of a project I'm working on, I've got a tool written in python that reads a CSV data file and generates a c++ file containing a statically declared 3 dimensional array. What the dimensions of the array are depend on the data in the CSV file and can change from compile to compile. </p>\n\n<p>The declaration/definition looks like this:</p>\n\n<pre><code>const double aero_coeffs[81][25][8] = { ...\n</code></pre>\n\n<p>I've written a header to accompany the generated cpp file, and I'd really prefer not to have to generate that as well. However I get an error if I try to do this:</p>\n\n<pre><code>extern const double*** aero_coeffs;\n</code></pre>\n\n<p>or this (which I think is actually just the equivalent):</p>\n\n<pre><code>extern const double aero_coeffs[][][];\n</code></pre>\n\n<p>Any thoughts on the best way to go about this?</p>\n"}, {"tags": ["c++", "quicksort"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 7, "creation_date": 1457547767, "post_id": 35899428, "comment_id": 59459598, "body": "I love such titles <code>Quick-sort is not sorting the array properly</code>. No, quick sort sorting array properly, your implementation of quick sort does not."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 1, "creation_date": 1457547892, "post_id": 35899428, "comment_id": 59459668, "body": "@Lashane, even his implementation is sorting array <b>properly</b> - according to the code."}, {"owner": {"reputation": 19, "user_id": 5406242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4c1cdc2720e6254a7fe59ca0b1caab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim.D", "link": "https://stackoverflow.com/users/5406242/jim-d"}, "edited": false, "score": 0, "creation_date": 1457547912, "post_id": 35899428, "comment_id": 59459681, "body": "I love such answers too. Any ideas what to change? If not, do not answer. btw. that is the only change i did to original quicksort(ascending order)  while (arr[i] &gt; pivot) ,  while (arr[i] &lt; pivot)"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1457547936, "post_id": 35899428, "comment_id": 59459700, "body": "@Jim.D I don&#39;t see any answers yet, comments - yep"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457548164, "post_id": 35899428, "comment_id": 59459856, "body": "@SergeyA looks so, so problem is somewhere outside of this code"}, {"owner": {"reputation": 2992, "user_id": 2039094, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bddf49261fab0a3b9926225dfad90856?s=128&d=identicon&r=PG", "display_name": "Gilson PJ", "link": "https://stackoverflow.com/users/2039094/gilson-pj"}, "edited": false, "score": 1, "creation_date": 1457548193, "post_id": 35899428, "comment_id": 59459875, "body": "I have tried your code here:<a href=\"http://melpon.org/wandbox/permlink/jKjr4eM7n293qeqM\" rel=\"nofollow noreferrer\">melpon.org/wandbox/permlink/jKjr4eM7n293qeqM</a> and I am getting the answer properly, I didnt gone through your code."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457548444, "post_id": 35899763, "comment_id": 59460031, "body": "What the hell is that supposed to mean? <code>float tptr1 = *(int*)ptr1;</code>"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457548562, "post_id": 35899763, "comment_id": 59460115, "body": "@SergeyA I suppose it tries to avoid integer overflow if one argument is MIN_INTEGER and another one is MAX_INTEGER"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1457548614, "post_id": 35899763, "comment_id": 59460148, "body": "@Lashane, yes, but loosing meaningful precision on the go."}, {"owner": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "edited": false, "score": 1, "creation_date": 1457548663, "post_id": 35899763, "comment_id": 59460182, "body": "And then casting the result back to an integer looses anything that was gained by avoiding the overflow/underflow."}, {"owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1457548795, "post_id": 35899763, "comment_id": 59460256, "body": "it means that the compare function takes a const void pointer, and you have to tell what kind of variable it has to deal with"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "edited": false, "score": 1, "creation_date": 1457548857, "post_id": 35899763, "comment_id": 59460290, "body": "@AJNeufeld actually no, basically only sign of result makes sense for this case. So as soon as casting to int will preserve sign - it will work"}, {"owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1457548867, "post_id": 35899763, "comment_id": 59460300, "body": "take a look at the reference page before you talk: <a href=\"http://www.cplusplus.com/reference/cstdlib/qsort/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/cstdlib/qsort</a>"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457548904, "post_id": 35899763, "comment_id": 59460319, "body": "@SergeyA we don&#39;t need precision here, we need sign of operation"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1457549069, "post_id": 35899763, "comment_id": 59460419, "body": "are <i>all</i> <code>int</code>s mapped to distinct <code>float</code>s?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1457549320, "post_id": 35899763, "comment_id": 59460592, "body": "@KarolyHorvath, of course not. Physically impossible - compare max float and max int :), take into account the fact that they use (on a typical platform) same number of bits and you have your answer."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1457549416, "post_id": 35899763, "comment_id": 59460655, "body": "@Lashane, he will be getting incorrect results. There are more integers than whole floats, and two different integers will be represented as same floats, giving incorrect result for the comparison."}, {"owner": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1457549684, "post_id": 35899763, "comment_id": 59460855, "body": "@Lashane <code>+0x7fff0000 - (-0x00001000)</code> gives you a negative result, not the desired positive number that should be returned given that <code>+0x7fff0000 &gt; -0x00001000</code>.  See <a href=\"http://melpon.org/wandbox/permlink/jQSnm1kUXteeBNL9\" rel=\"nofollow noreferrer\">melpon.org/wandbox/permlink/jQSnm1kUXteeBNL9</a>"}], "tags": [], "owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "is_accepted": false, "score": -3, "last_activity_date": 1457563911, "last_edit_date": 1457563911, "creation_date": 1457548330, "answer_id": 35899763, "question_id": 35899428, "link": "https://stackoverflow.com/questions/35899428/c-quick-sort-is-not-sorting-the-array-properly/35899763#35899763", "title": "C++ Quick-sort is not sorting the array properly", "body": "<p>If you don't have to implement quick sort, use the built in one:</p>\n\n<pre><code>qsort(A, n, sizeof(int), compare_function);\n</code></pre>\n\n<p>where <code>A</code> is an array of <code>int</code>, n is the number of elements in the array and you have to specify a compare function:</p>\n\n<pre><code>int compare_function(const void *ptr1, const void *ptr2)\n{\n    int tptr1 = *(int*)ptr1;\n    int tptr2 = *(int*)ptr2;\n\n    return tptr2 - tptr1;\n}\n</code></pre>\n\n<p>use <code>return tptr1 - tptr2;</code> for ascending order and <code>return tptr2 - tptr1;</code> for descending</p>\n\n<p>EDIT:\nI just copy-pasted the previous code and didn't noticed the <code>int-float</code> mistake. Here is a complete example how <code>qsort</code> works for those who want to use it:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;time.h&gt;\n#include &lt;stdlib.h&gt;\n\nint compare_function(const void *a, const void *b)\n{\n    return *(int*)a - *(int*)b; //ascending\n    //return *(int*)b - *(int*)a; //descending\n}\n\nint main()\n{\n    int A[100];\n    srand(time(NULL));\n    for(int i=0; i&lt;100; ++i)\n    {\n        A[i] = rand();\n    }\n\n    qsort(A, 100, sizeof(int), compare_function);\n\n    for(int i=0; i&lt;100; ++i)\n    {\n        printf(\"%d\\n\", A[i]);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 5406242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4c1cdc2720e6254a7fe59ca0b1caab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim.D", "link": "https://stackoverflow.com/users/5406242/jim-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1457548632, "creation_date": 1457548632, "answer_id": 35899865, "question_id": 35899428, "link": "https://stackoverflow.com/questions/35899428/c-quick-sort-is-not-sorting-the-array-properly/35899865#35899865", "title": "C++ Quick-sort is not sorting the array properly", "body": "<p>i found the problem. So stupid. Dont know why this happened.\nThe problem was not in the qsort code but in the calling function.</p>\n\n<pre><code>q_n(array, 0, sizeof(int));\n</code></pre>\n\n<p>changed to:</p>\n\n<pre><code>q_n(array, 0, 9);\n</code></pre>\n\n<p>and worked perfectly.</p>\n"}], "owner": {"reputation": 19, "user_id": 5406242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4c1cdc2720e6254a7fe59ca0b1caab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim.D", "link": "https://stackoverflow.com/users/5406242/jim-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1457563911, "creation_date": 1457547293, "last_edit_date": 1457547440, "question_id": 35899428, "link": "https://stackoverflow.com/questions/35899428/c-quick-sort-is-not-sorting-the-array-properly", "title": "C++ Quick-sort is not sorting the array properly", "body": "<p>Hello i got an array of 10 elements. [0...9].\nInside of it there are numbers - [0,1,2,...,8,9].\nI'm trying to sort the array descending but instead of [9,8,...,2,1] i am getting [ 4  3  2  1  0  5  6  7  8  9  ].</p>\n\n<p>My quicksort code. </p>\n\n<pre><code>void q_n(int arr[], int left, int right) {\n    int i = left, j = right;\n    int tmp;\n    int pivot = arr[(left + right) / 2];\n\n    /* partition */\n    while (i &lt;= j) {\n        while (arr[i] &gt; pivot)\n            i++;\n        while (arr[j] &lt; pivot)\n            j--;\n        if (i &lt;= j) {\n            tmp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = tmp;\n            i++;\n            j--;\n        }\n    };\n\n    /* recursion */\n    if (left &lt; j)\n        q_n(arr, left, j);\n    if (i &lt; right)\n        q_n(arr, i, right);\n}\n</code></pre>\n\n<p>Anyone can help me with this ? ;s</p>\n"}, {"tags": ["c++", "qt", "c++11", "qt5.5"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 1, "creation_date": 1457561441, "post_id": 35899396, "comment_id": 59467690, "body": "Possible duplicate (Qt4): <a href=\"http://stackoverflow.com/questions/2980141/hook-key-key-combinations-from-keyboard-with-qt-4-6\" title=\"hook key key combinations from keyboard with qt 4 6\">stackoverflow.com/questions/2980141/&hellip;</a>"}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 2, "creation_date": 1457561570, "post_id": 35899396, "comment_id": 59467747, "body": "What you are trying to do is called &#39;Hooking&#39;. If this is Windows you could use SetWindowsHookEx"}, {"owner": {"reputation": 245, "user_id": 5175272, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/221471e0c5f933f312d99f5470ecb3da?s=128&d=identicon&r=PG&f=1", "display_name": "Rattrap", "link": "https://stackoverflow.com/users/5175272/rattrap"}, "reply_to_user": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457644485, "post_id": 35899396, "comment_id": 59513315, "body": "Thanks! You helped me :)"}], "owner": {"reputation": 245, "user_id": 5175272, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/221471e0c5f933f312d99f5470ecb3da?s=128&d=identicon&r=PG&f=1", "display_name": "Rattrap", "link": "https://stackoverflow.com/users/5175272/rattrap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 678, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1457561023, "creation_date": 1457547202, "last_edit_date": 1457561023, "question_id": 35899396, "link": "https://stackoverflow.com/questions/35899396/how-to-run-a-qt-application-in-background-mode", "title": "How to run a QT application in background mode?", "body": "<p>I created an application that moves the mouse cursor using keys on keyboard, but when I minimize the window it doesn't work anymore.</p>\n\n<p>How to do it so that it works even if the app is minimized and even if I go to another virtual desktop?</p>\n"}, {"tags": ["c++", "pointers", "valgrind"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457548563, "post_id": 35899299, "comment_id": 59460117, "body": "I am not seeing anything that should cause a memory leak here.  I would suggest switching to a <code>std::vector</code> if you want a array made at runtime."}, {"owner": {"reputation": 1047, "user_id": 2101084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/huVYh.jpg?s=128&g=1", "display_name": "LibertyPaul", "link": "https://stackoverflow.com/users/2101084/libertypaul"}, "edited": false, "score": 0, "creation_date": 1457550141, "post_id": 35899299, "comment_id": 59461155, "body": "It&#39;s unnecessary to check pointer before deleting it (like in  ~ClassA()). delete nullptr is a valid construction."}, {"owner": {"reputation": 23, "user_id": 6040961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96be324de53fa128b55ff87efc00d94?s=128&d=identicon&r=PG&f=1", "display_name": "Jbb", "link": "https://stackoverflow.com/users/6040961/jbb"}, "edited": false, "score": 0, "creation_date": 1457550176, "post_id": 35899299, "comment_id": 59461184, "body": "I&#39;m just bothered by the 4 allocations and the 3 releasing of memory... the double pointer is just an simple example as in real i&#39;m passing a more complex object. When automatically collecting memory issue through CDASH, it is one kind of complain that i&#39;d like to see disappears. This is why i&#39;m wondering whether there is sort of copy when transmitting the returned resulted pointer. Sorry if it&#39;s unclear and thanks"}, {"owner": {"reputation": 23, "user_id": 6040961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96be324de53fa128b55ff87efc00d94?s=128&d=identicon&r=PG&f=1", "display_name": "Jbb", "link": "https://stackoverflow.com/users/6040961/jbb"}, "edited": false, "score": 0, "creation_date": 1457550695, "post_id": 35899299, "comment_id": 59461520, "body": "Interesting point: running with g++ 4.8.4, valgrind states that it all looks good (before it was with g++ 5.1.1): &quot;All heap blocks were freed -- no leaks are possible&quot;.  This is puzzling me a bit"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6040961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96be324de53fa128b55ff87efc00d94?s=128&d=identicon&r=PG&f=1", "display_name": "Jbb", "link": "https://stackoverflow.com/users/6040961/jbb"}, "edited": false, "score": 0, "creation_date": 1457600888, "post_id": 35900300, "comment_id": 59482865, "body": "As i thought, this bring another line in the valgrind output.  test"}, {"owner": {"reputation": 23, "user_id": 6040961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96be324de53fa128b55ff87efc00d94?s=128&d=identicon&r=PG&f=1", "display_name": "Jbb", "link": "https://stackoverflow.com/users/6040961/jbb"}, "edited": false, "score": 0, "creation_date": 1457601996, "post_id": 35900300, "comment_id": 59483636, "body": "I&#39;ve done test with g++ 5.3.1, valgrind 3.11 and clang++... it all results in the same issue... I really don&#39;t get why 4 allocations...  all ideas of tests are welcome."}], "tags": [], "owner": {"reputation": 173, "user_id": 6002782, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-D_Qh5dl1TOI/AAAAAAAAAAI/AAAAAAAAAkI/az7t6qNTRuk/photo.jpg?sz=128", "display_name": "Sarthak Singh", "link": "https://stackoverflow.com/users/6002782/sarthak-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1457549926, "last_edit_date": 1495539916, "creation_date": 1457549926, "answer_id": 35900300, "question_id": 35899299, "link": "https://stackoverflow.com/questions/35899299/c-returning-a-pointer-coming-out-of-another-function-is-copying-it-valgrind/35900300#35900300", "title": "C++ returning a pointer coming out of another function is copying it ? valgrind complains", "body": "<p>Try removing the destructor of ClassB as <code>delete</code> just calls the destructor if it is defined.</p>\n\n<p>You could read this for more info <a href=\"https://stackoverflow.com/questions/18990524/delete-calling-destructor-but-not-deleting-object\">Delete calling destructor but not deleting object?</a></p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 2641087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4c57a7053f87a6e9f5591ba8db3394?s=128&d=identicon&r=PG", "display_name": "sbinet", "link": "https://stackoverflow.com/users/2641087/sbinet"}, "is_accepted": true, "score": 0, "last_activity_date": 1457615501, "creation_date": 1457615501, "answer_id": 35917535, "question_id": 35899299, "link": "https://stackoverflow.com/questions/35899299/c-returning-a-pointer-coming-out-of-another-function-is-copying-it-valgrind/35917535#35917535", "title": "C++ returning a pointer coming out of another function is copying it ? valgrind complains", "body": "<p>it seems to me the leak is coming from libstdc++:</p>\n\n<pre><code>$&gt; valgrind --leak-check=full --show-leak-kinds=all ./a.out\n[...]\n==6664== 72,704 bytes in 1 blocks are still reachable in loss record 1 of 1\n==6664==    at 0x4C2ABD0: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==6664==    by 0x4EBFE7F: pool (eh_alloc.cc:117)\n==6664==    by 0x4EBFE7F: __static_initialization_and_destruction_0 (eh_alloc.cc:244)\n==6664==    by 0x4EBFE7F: _GLOBAL__sub_I_eh_alloc.cc (eh_alloc.cc:307)\n==6664==    by 0x400F3B9: call_init.part.0 (in /usr/lib/ld-2.23.so)\n==6664==    by 0x400F4CA: _dl_init (in /usr/lib/ld-2.23.so)\n==6664==    by 0x4000DC9: ??? (in /usr/lib/ld-2.23.so)\n[...]\n</code></pre>\n\n<p>(which explains why the leak is only seen when using gcc-5.x)</p>\n\n<p>it's either a real leak or some interplay b/w the libstdc++ version shipped with gcc-5.x and the hooks valgrind injects into the monitored process.</p>\n\n<p>AFAIK, nothing much you can do about it.</p>\n"}], "owner": {"reputation": 23, "user_id": 6040961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96be324de53fa128b55ff87efc00d94?s=128&d=identicon&r=PG&f=1", "display_name": "Jbb", "link": "https://stackoverflow.com/users/6040961/jbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 35917535, "answer_count": 2, "score": 2, "last_activity_date": 1457615501, "creation_date": 1457546884, "last_edit_date": 1457602264, "question_id": 35899299, "link": "https://stackoverflow.com/questions/35899299/c-returning-a-pointer-coming-out-of-another-function-is-copying-it-valgrind", "title": "C++ returning a pointer coming out of another function is copying it ? valgrind complains", "body": "<p>sorry to post this, but i have not found any discussion dealing with the feeling i have when reading valgrind results. What i see is part of a large code, so i've tried to simplify it as much as possible.I have a class (ClassA), that contains a pointer to a object of another class (ClassB).  Both classes have a method named getArr that returns a double*. The one in ClassA basically returns a call to the one from ClassB through its pointer.\nfrom what valgrind tells me, i've the feeling that ClassA is not really returning the pointer from its ClassB object but that it might copy it... Is is correct  and if so how to avoid it ?</p>\n\n<p>here is the header:</p>\n\n<pre><code>class ClassB\n{\n public:\n   ClassB(){}\n  ~ClassB(){}\n  double *getArr();\n\n};\n\nclass ClassA\n{\n public:\n  ClassA();\n ~ClassA();\n double *getArr();\n\n  ClassB *myB;\n };\n</code></pre>\n\n<p>the functions: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"OtherClasses.h\"\n\nusing namespace std;\n\nClassA::ClassA()\n{\n  myB = new ClassB();\n}\n\nClassA::~ClassA()\n{\n  if( myB )\ndelete myB;\n}\n\ndouble* ClassA::getArr()\n{\n  return (myB-&gt;getArr());\n}\n\ndouble* ClassB::getArr()\n{\n  double* arr = new double[10];\n  for(unsigned int i=0; i&lt;10; i++)\narr[i]=i;\n\n  return arr;\n}\n\nint main(int argc, char *argv[])\n{\n\n  ClassA *myA = new ClassA();\n  double* pouet = myA-&gt;getArr();\n\n  for(unsigned int i=0; i&lt;10; i++)\ncout&lt;&lt;pouet[i]&lt;&lt;endl;\n\n  delete[] pouet;\n  if (myA)\ndelete myA;\n\n}\n</code></pre>\n\n<p>and what is displayed:</p>\n\n<pre><code>==2115== Memcheck, a memory error detector\n==2115== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.\n==2115== Using Valgrind-3.10.1 and LibVEX; rerun with -h for copyright info\n==2115== Command: ./bin/main\n==2115== \n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n==2115== \n==2115== HEAP SUMMARY:\n==2115==     in use at exit: 72,704 bytes in 1 blocks\n==2115==   total heap usage: 4 allocs, 3 frees, 72,793 bytes allocated\n==2115== \n==2115== 72,704 bytes in 1 blocks are still reachable in loss record 1 of 1\n==2115==    at 0x4A06C0F: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==2115==    by 0x350388A1EF: ??? (in /usr/lib64/libstdc++.so.6.0.21)\n==2115==    by 0x34FD80F669: call_init.part.0 (in /usr/lib64/ld-2.21.so)\n==2115==    by 0x34FD80F77A: _dl_init (in /usr/lib64/ld-2.21.so)\n==2115==    by 0x34FD800CC9: ??? (in /usr/lib64/ld-2.21.so)\n==2115== \n==2115== LEAK SUMMARY:\n==2115==    definitely lost: 0 bytes in 0 blocks\n==2115==    indirectly lost: 0 bytes in 0 blocks\n==2115==      possibly lost: 0 bytes in 0 blocks\n==2115==    still reachable: 72,704 bytes in 1 blocks\n==2115==         suppressed: 0 bytes in 0 blocks\n==2115== \n==2115== For counts of detected and suppressed errors, rerun with: -v\n==2115== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n</code></pre>\n\n<p>thanks in advance\njbb</p>\n\n<p>EDIT: As said in the comments the behaviour described above is consistent with valgrind 3.10 and 3.11 and using g++ 5.1, 5.3 and clang++... The only compilator that gives 3 alloc and 3 frees (so no problem at all) is g++ 4.8</p>\n\n<p>@Sarthak Singh: Removing the delete myB in ClassA destructor brings these line in the output of valgrind</p>\n\n<pre><code>==23329== 1 bytes in 1 blocks are definitely lost in loss record 1 of 2\n==23329==    at 0x4A07117: operator new(unsigned long) (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==23329==    by 0x400A4C: ClassA::ClassA() (main.cpp:8)\n==23329==    by 0x400B2E: main (main.cpp:34)\n</code></pre>\n"}, {"tags": ["c++", "templates", "operator-overloading", "template-classes"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457546713, "post_id": 35899206, "comment_id": 59458956, "body": "Template class functions as well as operators overloaded for them must be defined in the .h file."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457546786, "post_id": 35899206, "comment_id": 59458990, "body": "This shouldn&#39;t even compile."}, {"owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457546817, "post_id": 35899206, "comment_id": 59459005, "body": "@SergeyA, I defined it in the header `bool operator &lt; (const Event &amp;e) const;``and implement it in the *.cpp."}, {"owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457546840, "post_id": 35899206, "comment_id": 59459020, "body": "@NathanOliver, It compile with the linker workaround <code>TemporaryFunction</code>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457546908, "post_id": 35899206, "comment_id": 59459065, "body": "@alexander-fire How did you actually manage to <a href=\"http://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">provide the template implementation in a translation unit</a>?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1457547001, "post_id": 35899206, "comment_id": 59459125, "body": "@alexander-fire, and this is exactly what I mean. You do not define it, you declare it in a header."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1457547150, "post_id": 35899206, "comment_id": 59459220, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 By never actually calling it, so that function is never instantiated, so it never has to link."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1457547231, "post_id": 35899206, "comment_id": 59459270, "body": "@Barry Sure, that&#39;s why I upvoted your answer."}], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "edited": false, "score": 0, "creation_date": 1457547097, "post_id": 35899293, "comment_id": 59459185, "body": "oh. Thank you.  I made the comparing overloading for my priority_queue. What should I do for that?  <code>std::priority_queue&lt;Event&lt;T&gt;*, std::vector&lt;Event&lt;T&gt;*&gt;&gt; q;</code>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "edited": false, "score": 0, "creation_date": 1457547176, "post_id": 35899293, "comment_id": 59459236, "body": "@alexander-fire Hint: <code>priority_queue</code> takes three template parameters."}, {"owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "edited": false, "score": 0, "creation_date": 1457548288, "post_id": 35899293, "comment_id": 59459914, "body": "I know, but there I have another problem. (See edited question.)"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "edited": false, "score": 0, "creation_date": 1457548862, "post_id": 35899293, "comment_id": 59460295, "body": "@alexander-fire Please don&#39;t update questions to new questions - it invalidates existing answers. I rolled back your edits."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 2, "last_activity_date": 1457546874, "last_edit_date": 1495541729, "creation_date": 1457546874, "answer_id": 35899293, "question_id": 35899206, "link": "https://stackoverflow.com/questions/35899206/c-operator-overloading-in-template-class/35899293#35899293", "title": "c++ operator overloading in template class", "body": "<p>That's because you're not comparing what you think you're comparing:</p>\n\n<pre><code>if(event1 &lt; event2) {\n</code></pre>\n\n<p><code>event1</code> and <code>event2</code> both have type <code>Event&lt;int&gt;*</code>. Pointers have a builtin <code>operator&lt;</code>, which does something that is entirely unrelated to what it is you want to do. If you want to compare the actual <code>Event&lt;int&gt;</code>s that are pointed to, you'll have to dereference them:</p>\n\n<pre><code>if (*event1 &lt; *event2) {\n</code></pre>\n\n<p>at which point you'll run into the issue that <a href=\"https://stackoverflow.com/q/495021/2069064\">templates can only be implemented in the header file</a>.</p>\n"}], "owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 35899293, "answer_count": 1, "score": 0, "last_activity_date": 1457548873, "creation_date": 1457546663, "last_edit_date": 1457548873, "question_id": 35899206, "link": "https://stackoverflow.com/questions/35899206/c-operator-overloading-in-template-class", "title": "c++ operator overloading in template class", "body": "<p>I\u00b4ve developed an template class.\nNow I want to overload the lower than operator.\nI tried it normally, like with a normal class, but it doesn\u00b4t work.</p>\n\n<p>Event.h</p>\n\n<pre><code>#ifndef EVENT_H\n#define EVENT_H\n\n#include&lt;string&gt;\n#include &lt;functional&gt;\n\ntemplate&lt;class T&gt;\nclass Event\n{\npublic:\n    Event(std::string Name, std::function&lt;T ()&gt; fnktptr, int time, Event*resultingEvent);\n    virtual ~Event();\n    bool operator &lt; (const Event &amp;e) const;\n    std::string Name;\n    Event *resultingEvent;\n    int time;\n    std::function&lt;T ()&gt; fnktptr;\n};\n\n#endif // EVENT_H\n</code></pre>\n\n<p>Event.cpp</p>\n\n<pre><code>#include \"Event.h\"\n#include&lt;iostream&gt;\n\nusing namespace std;\n\ntemplate&lt;class T&gt;\nEvent&lt;T&gt;::Event(std::string Name,std::function&lt;T ()&gt; fnktptr, int time, Event*resultingEvent) : Name(Name), fnktptr(fnktptr), time(time), resultingEvent(resultingEvent)\n{\n    //ctor\n}\ntemplate&lt;class T&gt;\nEvent&lt;T&gt;::~Event()\n{\n    //dtor\n}\ntemplate&lt;class T&gt;\nbool Event&lt;T&gt;::operator &lt; (const Event&amp; e) const\n{\n  if(this-&gt;time &lt; e.time) {\n    return true;\n  }\n  else {\n    return false;\n  }\n}\n\n// No need to call this TemporaryFunction() function,\n// it's just to avoid link error.\nvoid TemporaryFunction ()\n{\n    Event&lt;int&gt; TempObj(\"\",nullptr,0,nullptr);\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>Event&lt;int&gt; *event1 = new Event&lt;int&gt;(\"sadfsf\", nullptr, 5, nullptr);\nEvent&lt;int&gt; *event2 = new Event&lt;int&gt;(\"sadfsf\", nullptr, 4, nullptr);\nif(event1 &lt; event2) {\n    cout &lt;&lt; \"event1 is lower\" &lt;&lt; endl;\n}\nelse {\n    cout &lt;&lt; \"event1 is greater\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>The program prints \"event1 is lowert\".\nBut if my overloading function would work, \"event2 would be greater\"\n(I compare the time 5 in event1 with the time 4 in event 2)</p>\n"}, {"tags": ["c++", "visual-studio-2012", "directx-11", "fileopendialog"], "comments": [{"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1457546478, "post_id": 35899046, "comment_id": 59458825, "body": "I don&#39;t think you&#39;ll ever get this to be good user experience, unless you provide your own dialogs on your own UI, or are not full screen."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1457546542, "post_id": 35899046, "comment_id": 59458873, "body": "Alternatively, you could be &quot;full screen&quot;, but really running in an always-on-top window that happens to take up the entire screen."}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1457559323, "post_id": 35899046, "comment_id": 59466543, "body": "Your best bet is to use &#39;fake fullscreen&#39; because a true display mode change will result in exactly the kind of focus problems you are describing."}, {"owner": {"reputation": 11, "user_id": 4832904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/138be2fd84eff5482f8abbdec3fb8a90?s=128&d=identicon&r=PG&f=1", "display_name": "PGRacer", "link": "https://stackoverflow.com/users/4832904/pgracer"}, "edited": false, "score": 0, "creation_date": 1457749727, "post_id": 35899046, "comment_id": 59562225, "body": "Is there a way to switch to windowed, display the fileopen dialog, and then restore to windowed? I am a bit of a novice with DirectX, I know what I know from tutorials so there are gaps in my knowledge. Is this possible?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4832904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/138be2fd84eff5482f8abbdec3fb8a90?s=128&d=identicon&r=PG&f=1", "display_name": "PGRacer", "link": "https://stackoverflow.com/users/4832904/pgracer"}, "is_accepted": false, "score": 0, "last_activity_date": 1457753290, "creation_date": 1457753290, "answer_id": 35953403, "question_id": 35899046, "link": "https://stackoverflow.com/questions/35899046/how-to-shift-focus-to-file-open-save-dialog-from-full-screen-directx-11-c/35953403#35953403", "title": "How to shift focus to file open / save dialog from full screen DirectX 11? (C++ VS2012)", "body": "<p>The way to do it I have discovered was to simply switch to windowed mode, allow the dialog to appear, and then immediately switch back to full screen when the dialog closes.</p>\n\n<p>This tutorial here <a href=\"http://www.directxtutorial.com/Lesson.aspx?lessonid=11-4-4\" rel=\"nofollow\">http://www.directxtutorial.com/Lesson.aspx?lessonid=11-4-4</a></p>\n\n<p>Describes much better than I can how to do the switching.</p>\n\n<p>Thanks for all the replies!</p>\n"}], "owner": {"reputation": 11, "user_id": 4832904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/138be2fd84eff5482f8abbdec3fb8a90?s=128&d=identicon&r=PG&f=1", "display_name": "PGRacer", "link": "https://stackoverflow.com/users/4832904/pgracer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457753290, "creation_date": 1457546148, "question_id": 35899046, "link": "https://stackoverflow.com/questions/35899046/how-to-shift-focus-to-file-open-save-dialog-from-full-screen-directx-11-c", "title": "How to shift focus to file open / save dialog from full screen DirectX 11? (C++ VS2012)", "body": "<p>I am using Windows 7 Ultimate 64bit, DirectX11, and C++ in VS2012.\nI am using the iFileOpen, and iFileSave dialog boxes in the winapi.</p>\n\n<p>Please can anybody tell me how to show the dialog boxes when using directx in full screen mode.</p>\n\n<p>The boxes are there if I use ctrl+alt+delete to show the task manager, and show the start bar. I can then select the file open / save dialogs from the start bar.</p>\n\n<p>But that's not exactly a user friendly experience.</p>\n\n<p>Can anyone advise how best to proceed in order to shift the focus to the dialog boxes automatically please.</p>\n"}, {"tags": ["c++", "odeint"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 2, "creation_date": 1457546923, "post_id": 35899016, "comment_id": 59459073, "body": "You are already storing <code>YN1</code> in a double? Can you not just do the same with <code>z</code>? Also solve another ODE where? In <code>sol1N</code>? This question is unclear ..."}, {"owner": {"reputation": 787, "user_id": 890548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/173Kr.png?s=128&g=1", "display_name": "wesley.mesquita", "link": "https://stackoverflow.com/users/890548/wesley-mesquita"}, "edited": false, "score": 0, "creation_date": 1457551688, "post_id": 35899016, "comment_id": 59462113, "body": "Question not clear IMHO... Anyway, std::tuple seems to be what you want <a href=\"http://en.cppreference.com/w/cpp/utility/tuple\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/tuple</a>"}, {"owner": {"reputation": 5630, "user_id": 625476, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e837d32affad0843ea90c1b30cb67aa?s=128&d=identicon&r=PG", "display_name": "headmyshoulder", "link": "https://stackoverflow.com/users/625476/headmyshoulder"}, "edited": false, "score": 0, "creation_date": 1457556551, "post_id": 35899016, "comment_id": 59464972, "body": "If you want to store the sequence of <code>z</code> and <code>YN1</code> you can do this in a lambda: <code>vector&lt; double &gt; zs; vector&lt; double &gt;ys; integrate(...,[&amp;zs,&amp;ys](double y,double z) { zs.push_back(z); ys.push_back(y); } );</code>"}, {"owner": {"reputation": 37, "user_id": 6040906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb5daf28bf4090c003d6fe8405d1476?s=128&d=identicon&r=PG&f=1", "display_name": "SAMCRO", "link": "https://stackoverflow.com/users/6040906/samcro"}, "edited": false, "score": 0, "creation_date": 1457558395, "post_id": 35899016, "comment_id": 59465989, "body": "Thank you, I will give that a try, looks like what I was after. Sorry about the question not being so clear. Thanks again."}], "owner": {"reputation": 37, "user_id": 6040906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb5daf28bf4090c003d6fe8405d1476?s=128&d=identicon&r=PG&f=1", "display_name": "SAMCRO", "link": "https://stackoverflow.com/users/6040906/samcro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1457551188, "creation_date": 1457546036, "last_edit_date": 1457551188, "question_id": 35899016, "link": "https://stackoverflow.com/questions/35899016/passing-output-from-function-to-vector-c", "title": "passing output from function to vector C++", "body": "<p>I am new to C++ and would like to use it to solve a system of ODEs. I have used some code from the ODEINT simple example and modified it as seen below.</p>\n\n<pre><code>void rhs( const double YN1 , double &amp;dYN1dz , const double z )\n{\n    double k1 = boost::math::cyl_bessel_k(1, z);\n    double k2 = boost::math::cyl_bessel_k(2, z);\n    double K = 0.0001;\n    double YN1eq = (z*z*k2)/(4*g);\n    double nN1eq = (3/8)*(z*z*k2);\n    double D  = K*(k1/k2)*z;\n    dYN1dz = -D*(YN1-nN1eq);\n};\n\nvoid write_cout( const double &amp;YN1 , const double z )\n{\n    cout &lt;&lt; z &lt;&lt; ' ' &lt;&lt; YN1 &lt;&lt; endl;\n};\n\ntypedef runge_kutta_dopri5&lt; double &gt; stepper_type;\n\nint solN1()\n{\n    double YN1 = 0.75;\n    integrate_adaptive( make_controlled( 1E-12 , 1E-12 , stepper_type()),\n                        rhs , YN1 , 0.001 ,100 , 0.1 , write_cout );\n\n};\n</code></pre>\n\n<p>I will need to use <code>z</code> and <code>YN1</code> to solve another <code>ODE</code> and so I need to store them. I am not sure how best to do so. I was thinking of using a  vector vector double to do so but I am not sure how to best proceed. </p>\n"}, {"tags": ["c++", "overflow", "cin"], "comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1457546894, "post_id": 35898958, "comment_id": 59459050, "body": "Please don&#39;t downvote for being obvious; this is actually quite subtle."}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 2, "last_activity_date": 1457546841, "last_edit_date": 1457546841, "creation_date": 1457546350, "answer_id": 35899099, "question_id": 35898958, "link": "https://stackoverflow.com/questions/35898958/unexpected-behavior-from-cin-when-overflowing-int/35899099#35899099", "title": "Unexpected behavior from cin when overflowing int", "body": "<ol>\n<li><p>Your <code>scanf</code>: The behaviour on overflowing a signed integral type in C++ is <em>undefined</em>. It's rather pointless to speculate on what is happening under the hood. \"Overflow as normal\" is particularly meaningless.</p></li>\n<li><p>Your <code>cin</code>: Pre C++03, the <code>x</code> would not have been changed if it could not accommodate the input. So the behaviour of a subsequent <code>cout</code> would have been <em>undefined</em> since you'd be reading back an uninitialised variable. From C++03 onwards, <code>x</code> is capped (or floored) at it largest (or smallest) value if its range would be exceeded. That is what is happening in your second case.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1457546631, "post_id": 35899150, "comment_id": 59458919, "body": "&quot;Standards the variable will be set to the largest or smallest value possible&quot;. Does the standard mandate that? If so then my answer is inaccurate."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1457546865, "post_id": 35899150, "comment_id": 59459030, "body": "Looked it up. You&#39;re correct. Upvoted (and apologies for essentially stealing your answer)."}], "tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": true, "score": 4, "last_activity_date": 1457777954, "last_edit_date": 1457777954, "creation_date": 1457546486, "answer_id": 35899150, "question_id": 35898958, "link": "https://stackoverflow.com/questions/35898958/unexpected-behavior-from-cin-when-overflowing-int/35899150#35899150", "title": "Unexpected behavior from cin when overflowing int", "body": "<p>In C++98 the variable was unchanged when input failed. This was a disadvantage if you try to input to an uninitialized variable.</p>\n\n<p>For example:</p>\n\n<pre><code>int a;\ncin &gt;&gt; a;\ncout &lt;&lt; a;    // UB if input failed!\n</code></pre>\n\n<p>In later standards the variable will be set to the largest or smallest value possible when the input is outside of that range.</p>\n\n<hr>\n\n<p>For <code>operator&gt;&gt;(int&amp; val)</code> the standard says [istream.formatted.arithmetic]:</p>\n\n<blockquote>\n  <p>The conversion occurs as if performed by the following code fragment (using the same notation as for\n  the preceding code fragment):</p>\n</blockquote>\n\n<pre><code>typedef num_get&lt;charT,istreambuf_iterator&lt;charT,traits&gt; &gt; numget;\niostate err = ios_base::goodbit;\nlong lval;\nuse_facet&lt;numget&gt;(loc).get(*this, 0, *this, err, lval);\nif (lval &lt; numeric_limits&lt;int&gt;::min()) {\n  err |= ios_base::failbit;\n  val = numeric_limits&lt;int&gt;::min();\n} else if (numeric_limits&lt;int&gt;::max() &lt; lval) {\n  err |= ios_base::failbit;\n  val = numeric_limits&lt;int&gt;::max();\n} else\n  val = static_cast&lt;int&gt;(lval);\nsetstate(err);\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 2778364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca54f170576616022537bb42546a3e3e?s=128&d=identicon&r=PG&f=1", "display_name": "Philip Rodriguez", "link": "https://stackoverflow.com/users/2778364/philip-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 0, "accepted_answer_id": 35899150, "answer_count": 2, "score": 1, "last_activity_date": 1457777954, "creation_date": 1457545848, "last_edit_date": 1495541233, "question_id": 35898958, "link": "https://stackoverflow.com/questions/35898958/unexpected-behavior-from-cin-when-overflowing-int", "title": "Unexpected behavior from cin when overflowing int", "body": "<p>All, I've got some code here that I can't explain the behavior of. It is posted below. I looked at <a href=\"https://stackoverflow.com/questions/3582509/why-does-integer-overflow-cause-errors-with-c-iostreams\">Why does integer overflow cause errors with C++ iostreams?</a>, but it doesn't really answer my question.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;stdio.h&gt;\nusing namespace std;\nint main()\n{\n    int x;\n    scanf(\"%d\", &amp;x);\n    cout &lt;&lt; \"Value of x = \" &lt;&lt; x &lt;&lt; endl;\n    cin &gt;&gt; x;\n    cout &lt;&lt; \"Failure Detected = \" &lt;&lt; cin.fail() &lt;&lt; endl;\n    cout &lt;&lt; \"Value of x = \" &lt;&lt; x &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>So, what I expect this code to do is read in an integer, print out the value of that integer, read in another integer (into the same variable), and print out that integer. If I enter input of 7 and 2, then it works as expected. However, if I enter 2^31 (overflow int by one) for both the first and second input, then the first output will say \"Value of x = -2147483648\" and the second output will say \"Value of x = 2147483647\". cin.fail() will also return true. What is cin doing to the input? I thought that if cin.fail() was true, the value of x should be left unaffected. If not left unaffected, I would expect the value of x to overflow as normal (like scanf does). What's going on with cin here? Why is it capping the value at integer max value?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "visual-studio", "arduino", "visual-studio-2015", "visual-c++-2010"], "comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1457549005, "post_id": 35898926, "comment_id": 59460378, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/18670953/iso-c-forbids-declaration-of-something-with-no-type\">ISO C++ forbids declaration of &quot;something&quot; with no type</a>.  Just add a forward declaration: <code>template &lt;class T&gt; class value;</code>"}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1457550313, "post_id": 35898926, "comment_id": 59461261, "body": "@paulsm4 I still get the same error even if I add a forward declaration."}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1457550890, "post_id": 35898926, "comment_id": 59461637, "body": "@Niall Here is the whole code so far (I&#39;m developing it right now so isn&#39;t done): <a href=\"http://pastebin.com/24cY69e8\" rel=\"nofollow noreferrer\">pastebin.com/24cY69e8</a> Also, if I comment out the template function code, everything compiles fine."}, {"owner": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "edited": false, "score": 1, "creation_date": 1457551048, "post_id": 35898926, "comment_id": 59461724, "body": "what version of arduino ide did you use ? Can you paste the compilation command line when compiled from Arduino and when compiled from Visual studio. I would guess they are different. Visual Micro just wraps the underlying gcc compiler used in Arduino. So if it works in Arduino IDE it should work in Viusal studio as well."}, {"owner": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "edited": false, "score": 0, "creation_date": 1457551167, "post_id": 35898926, "comment_id": 59461801, "body": "BTW, it fails for me with the same error inside arduino ide as well. verison 1.6.2"}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1457551171, "post_id": 35898926, "comment_id": 59461803, "body": "Move the template functions to before the two functions above them that use the templates."}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "edited": false, "score": 0, "creation_date": 1457551415, "post_id": 35898926, "comment_id": 59461952, "body": "@Soundararajan I&#39;m using Arduino IDE v 1.6.8 Hourly Build"}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "edited": false, "score": 0, "creation_date": 1457551564, "post_id": 35898926, "comment_id": 59462041, "body": "@Soundararajan I&#39;m not sure where do I find the compile command line that Arduino IDE uses."}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1457551662, "post_id": 35898926, "comment_id": 59462096, "body": "@Niall still getting the same error even if I move the template functions before the functions that uses the templates."}, {"owner": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "edited": false, "score": 0, "creation_date": 1457551797, "post_id": 35898926, "comment_id": 59462185, "body": "To get command line from Arduino IDE : Arduino IDE -&gt; File -&gt; Preferences -&gt; &quot;Select verbose output for&quot; -&gt;Compilation."}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 1, "creation_date": 1457552338, "post_id": 35898926, "comment_id": 59462511, "body": "It maybe something in the tool chain ... <a href=\"http://stackoverflow.com/q/18052310/3747990\">stackoverflow.com/q/18052310/3747990</a>"}, {"owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "reply_to_user": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 1, "creation_date": 1457554109, "post_id": 35898926, "comment_id": 59463547, "body": "@Niall, yes. I followed the advice in that post to create a header file... and it looks like that works. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "is_accepted": false, "score": 2, "last_activity_date": 1457552195, "creation_date": 1457552195, "answer_id": 35901011, "question_id": 35898926, "link": "https://stackoverflow.com/questions/35898926/template-class-t-error-t-does-not-name-a-type/35901011#35901011", "title": "template &lt;class T&gt;: error: &#39;T&#39; does not name a type", "body": "<p>This snippet compiles fine under GCC/Linux and MSVS 2015/Windows.</p>\n\n<p>Q: Does it work for you?  Is it OK with the Arduino IDE?  </p>\n\n<p>Q: Does it fail with \"error: 'T' does not name a type\" with Arduino (Visual Micro)?  Have you contacted Visual Micro?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\ntypedef unsigned char byte;\n\nclass A {\npublic:\n  void write(int &amp; ee, const byte &amp;p) { }\n};\n\nA EEPROM;\n\ntemplate &lt;class T&gt; int EEPROM_writeAnything(int ee, const T&amp; value)\n{\n    const byte* p = (const byte*)(const void*)&amp;value;\n    unsigned int i;\n    for (i = 0; i &lt; sizeof(value); i++)\n          EEPROM.write(ee++, *p++);\n    return i;\n}\n\nint main (int argc, char *argv[]) {\n  printf (\"Hello world\\n\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1758, "user_id": 866670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTDPx.png?s=128&g=1", "display_name": "Soundararajan", "link": "https://stackoverflow.com/users/866670/soundararajan"}, "is_accepted": true, "score": 6, "last_activity_date": 1457552582, "creation_date": 1457552582, "answer_id": 35901148, "question_id": 35898926, "link": "https://stackoverflow.com/questions/35898926/template-class-t-error-t-does-not-name-a-type/35901148#35901148", "title": "template &lt;class T&gt;: error: &#39;T&#39; does not name a type", "body": "<p>I think i got the answer. You need to add declaration for the functions in Visual Studio manually. </p>\n\n<pre><code>template &lt;class T&gt; int EEPROM_writeAnything(int ee, const T&amp; value);\ntemplate &lt;class T&gt; int EEPROM_readAnything(int ee, T&amp; value);\n</code></pre>\n\n<p>but whereas Arduino IDE preprocess your source code and adds these automatically for you behind the scene. So it works in Arduino IDE.</p>\n\n<p>Hint : When you enable verbose output in your arduino IDE, refer to the temporary path in which the intermediate files generated during compilation is saved. It should be something like %temp%\\build0094e6ca87558f1142f08e49b0685193.tmp\\sketch . It should have the following statements .</p>\n\n<pre><code>#line 2 \"C:\\\\Users\\\\Sound\\\\Documents\\\\Arduino\\\\sketch_mar10d\\\\sketch_mar10d.ino\"\ntemplate &lt;class T&gt; int EEPROM_writeAnything(int ee, const T&amp; value);\n#line 11 \"C:\\\\Users\\\\Sound\\\\Documents\\\\Arduino\\\\sketch_mar10d\\\\sketch_mar10d.ino\"\ntemplate &lt;class T&gt; int EEPROM_readAnything(int ee, T&amp; value);\n#line 21 \"C:\\\\Users\\\\Sound\\\\Documents\\\\Arduino\\\\sketch_mar10d\\\\sketch_mar10d.ino\"\n</code></pre>\n\n<p>To know more about this, read <a href=\"https://www.arduino.cc/en/Hacking/BuildProcess\" rel=\"noreferrer\">here</a>. </p>\n"}], "owner": {"reputation": 1072, "user_id": 207219, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a9ec8b262cb4bd841ed554dd14de9c0?s=128&d=identicon&r=PG", "display_name": "ioan ghip", "link": "https://stackoverflow.com/users/207219/ioan-ghip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1967, "favorite_count": 0, "accepted_answer_id": 35901148, "answer_count": 2, "score": 3, "last_activity_date": 1457552582, "creation_date": 1457545745, "last_edit_date": 1457548617, "question_id": 35898926, "link": "https://stackoverflow.com/questions/35898926/template-class-t-error-t-does-not-name-a-type", "title": "template &lt;class T&gt;: error: &#39;T&#39; does not name a type", "body": "<p>I'm trying to compile some code that compile fine in Arduino IDE, in Visual Studio with support for Arduino (Visual Micro). This is the code with problems:</p>\n\n<pre><code>template &lt;class T&gt; int EEPROM_writeAnything(int ee, const T&amp; value)\n{\n    const byte* p = (const byte*)(const void*)&amp;value;\n    unsigned int i;\n    for (i = 0; i &lt; sizeof(value); i++)\n          EEPROM.write(ee++, *p++);\n    return i;\n}\n\ntemplate &lt;class T&gt; int EEPROM_readAnything(int ee, T&amp; value)\n{\n    byte* p = (byte*)(void*)&amp;value;\n    unsigned int i;\n    for (i = 0; i &lt; sizeof(value); i++)\n          *p++ = EEPROM.read(ee++);\n    return i;\n}\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>app.ino:43:40: error: 'T' does not name a type\n:int EEPROM_writeAnything(int ee, const T&amp; value)\napp.ino:43:43: error: ISO C++ forbids declaration of 'value' with no type [-fpermissive]\n</code></pre>\n\n<p>Can someone please point me in the right direction?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "maven", "maven-plugin"], "answers": [{"tags": [], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "is_accepted": true, "score": 0, "last_activity_date": 1457968846, "creation_date": 1457968846, "answer_id": 35991420, "question_id": 35898892, "link": "https://stackoverflow.com/questions/35898892/c-unresolved-external-symbol-in-test-phase-of-maven-nar-plugin/35991420#35991420", "title": "C++ unresolved external symbol in test phase of maven nar plugin", "body": "<p>This problem is somewhat related to:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/35903652/maven-nar-plugin-lots-of-errors-in-windows-h-when-updating-to-3-3-0\">Maven NAR plugin lots of errors in Windows.h when updating to 3.3.0</a></p></li>\n<li><p><a href=\"https://github.com/maven-nar/nar-maven-plugin/issues/217\" rel=\"nofollow\">Maven NAR Plugin: Compiler errors in a simple program that uses Windows.h in version 3.3.0</a></p></li>\n</ul>\n\n<p>So the solution applies here too. In a nutshell: </p>\n\n<ol>\n<li>You need to use the last version of the Maven NAR Plugin.</li>\n<li>As GregDomjan states on github, you need to configure your tools accordingly, in my case (msvc11.0/winsdk8.0):</li>\n</ol>\n\n<p><em>pom.xml</em></p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;\n            &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;configuration&gt;\n                &lt;libraries&gt;\n                    &lt;library&gt;\n                        &lt;type&gt;executable&lt;/type&gt;\n                        &lt;run&gt;true&lt;/run&gt;\n                    &lt;/library&gt;\n                &lt;/libraries&gt;\n                &lt;msvc&gt;\n                    &lt;version&gt;11.0&lt;/version&gt;\n                    &lt;windowsSdkVersion&gt;8.0&lt;/windowsSdkVersion&gt;\n                &lt;/msvc&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 35991420, "answer_count": 1, "score": 0, "last_activity_date": 1457968846, "creation_date": 1457545595, "last_edit_date": 1457558279, "question_id": 35898892, "link": "https://stackoverflow.com/questions/35898892/c-unresolved-external-symbol-in-test-phase-of-maven-nar-plugin", "title": "C++ unresolved external symbol in test phase of maven nar plugin", "body": "<p>I have a C++ Maven NAR project with different dependencies, my <code>pom.xml</code> looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;my.image&lt;/groupId&gt;\n    &lt;artifactId&gt;image&lt;/artifactId&gt;\n    &lt;packaging&gt;nar&lt;/packaging&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;name&gt;Maven NAR Executable Project&lt;/name&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opencv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv-core&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;type&gt;nar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opencv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv-highgui&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;type&gt;nar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;my.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;type&gt;nar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;integration-test&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;\n                &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;libraries&gt;\n                        &lt;library&gt;\n                            &lt;type&gt;static&lt;/type&gt;\n                        &lt;/library&gt;\n                    &lt;/libraries&gt;\n                    &lt;tests&gt;\n                        &lt;test&gt;\n                            &lt;name&gt;NativeLibTest&lt;/name&gt;\n                            &lt;link&gt;static&lt;/link&gt;\n                        &lt;/test&gt;\n                    &lt;/tests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>When I run <code>mvn compile</code> the project compiles successfully. </p>\n\n<p>The problem arises when I use <code>mvn test -X</code>:</p>\n\n<pre><code>[INFO] --- nar-maven-plugin:3.2.3:nar-testCompile (default-nar-testCompile) @ image ---\n...\n[DEBUG] Examining artifact for NarInfo: org.opencv:opencv-core:nar:2.4.10:compile\n[DEBUG]     - added as NarDependency\n[DEBUG] Examining artifact for NarInfo: org.opencv:opencv-highgui:nar:2.4.10:compile\n[DEBUG]     - added as NarDependency\n[DEBUG] Examining artifact for NarInfo: my.commons:commons:nar:1.0:compile\n[DEBUG]     - added as NarDependency\n...\n[DEBUG] Execute:Java13CommandLauncher: Executing 'link' with arguments:\n'/MANIFEST'\n'/NOLOGO'\n'/SUBSYSTEM:CONSOLE'\n'/INCREMENTAL:NO'\n'/OUT:NativeLibTest.exe'\n'E:\\PROY\\image-lib\\dev\\1.0\\image\\target\\nar\\image-1.0-x86-Windows-msvc-static\\lib\\x86-Windows-msvc\\static\\image-1.0.lib'\n'E:\\PROY\\image-lib\\dev\\1.0\\image\\target\\test-nar\\opencv-core-2.4.10-x86-Windows-msvc-shared\\lib\\x86-Windows-msvc\\shared\\opencv-core-2.4.10.lib'\n'E:\\PROY\\image-lib\\dev\\1.0\\image\\target\\test-nar\\opencv-highgui-2.4.10-x86-Windows-msvc-shared\\lib\\x86-Windows-msvc\\shared\\opencv-highgui-2.4.10.lib'\n'E:\\PROY\\image-lib\\dev\\1.0\\image\\target\\test-nar\\obj\\x86-Windows-msvc\\image-test.obj'\n</code></pre>\n\n<p>From the messages <em>it appears to me that Maven NAR plugin is ignoring some libraries</em> (<code>my.commons</code>), that is strange because <code>my.commons</code> is added as NarDependency (as you can see in the first lines), even <code>target\\test-nar\\commons-1.0-x86-Windows-msvc-static\\lib\\x86-Windows-msvc\\static</code> gets copied and has <code>commons-1.0.lib</code>. Finally the library isn't passed to <code>link</code> causing a lot of unresolved external symbols.</p>\n\n<p>TLDR: Maven NAR compiles successfully when using <code>mvn compile</code> but fails when using <code>mvn test</code>.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I think my other dependencies are getting injected because they are \"Library Directories\". A library directory is a project that contain a library (.lib in my case) in the directory tree <code>src\\nar\\resources\\aol\\x86-Windows-msvc\\lib</code> and its corresponding headers in <code>src\\nar\\resources\\noarch</code>. The term \"library directory\" can be found in the plugin's code (see NarTestCompileMoo.java:284). There are some comments about why libraries must be linked in test phase:</p>\n\n<blockquote>\n<pre><code>  **NarTestCompileMoo.java:273**\n  // Static libraries should be linked. Even though the libraries\n  // themselves will have been tested already, the test code could\n  // use methods or classes defined in them.\n</code></pre>\n</blockquote>\n\n<p>So, why my static library is not getting recognized?</p>\n\n<p><em>Update</em></p>\n\n<p>I am realizing that I am using the version 3.2.3 when there is the version 3.3.0 <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.github.maven-nar%22%20AND%20a%3A%22nar-maven-plugin%22\" rel=\"nofollow\">http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.github.maven-nar%22%20AND%20a%3A%22nar-maven-plugin%22</a>. So I will update and test.</p>\n"}, {"tags": ["c++", "string", "algorithm"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1457545708, "post_id": 35898852, "comment_id": 59458302, "body": "just declare it in the loop body"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457545739, "post_id": 35898852, "comment_id": 59458342, "body": "I suggest you use a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code></a> if you are doing string manipulation."}, {"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 1, "creation_date": 1457545803, "post_id": 35898852, "comment_id": 59458376, "body": "You&#39;re calling it a <code>char</code> a few times but you really mean a char-array, no?"}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457546239, "post_id": 35898852, "comment_id": 59458676, "body": "probably ... Example: Lets say the word in <code>a</code> is &quot;software&quot;. In the first iteration, the program should write in <code>aux</code> &quot;e&quot;. After the program runs through the <code>if</code> and it displays or not, I would like to get <code>aux</code> empty because now the program should write in <code>aux</code> &quot;re&quot;, in the next iteration &quot;are&quot;, in the next &quot;ware&quot; ... and so on ... and if I can&#39;t overwrite, I would need a very large <code>aux</code>, and I don&#39;t need the characters from the previous iteration, so there is no reason to keep them."}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1457548419, "post_id": 35898852, "comment_id": 59460009, "body": "I&#39;m having a really hard time understanding your question, it&#39;d be useful if you posted more of your code - the definition of <code>a,b,aux, na, min</code>, etc. As for what I think your code tries to do, you don&#39;t need to &quot;empty&quot; <code>aux</code>, <code>strcpy</code> will write the terminating null, and <code>strstr</code> only compares up to the first null. I tried it and it seems to work. You have to ensure <code>aux</code> is at least as large as <code>a</code>."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457548931, "post_id": 35898852, "comment_id": 59460334, "body": "Ramon, I posted the full algorithm. <code>aux</code> has the same size as <code>a</code> and I get a buffer error ... this probably means that <code>aux</code> is not reseted. And if it&#39;s not reseted by the code <code>aux[0]=&#39;\\0&#39;</code>, it&#39;s not enough to have the same size of <code>a</code> it has to be = na*(na+1)/2"}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1457549973, "post_id": 35898852, "comment_id": 59461045, "body": "Ah, there is your problem. See my answer."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457546490, "post_id": 35898989, "comment_id": 59458836, "body": "how could I set the first element to be <code>&#39;\\0&#39;</code> (NULL element) ? .... I don&#39;t want to use special fuctions.... just basic strings functions because I haven&#39;t reached this chapter in the learning process but if I have to solve this with what I learned, it means that it should be solvable in easier ways. I hope I made myself understood"}, {"owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457548089, "post_id": 35898989, "comment_id": 59459803, "body": "@Skyp89, you can set it like this: aux[0] = &#39;\\0&#39;; I believe this is the correct answer. I will edit it to improve it slightly, but Z0133 is basically right."}], "tags": [], "owner": {"reputation": 578, "user_id": 2166946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526Nm.jpg?s=128&g=1", "display_name": "Zolt&#225;n", "link": "https://stackoverflow.com/users/2166946/zolt%c3%a1n"}, "is_accepted": true, "score": 2, "last_activity_date": 1457548395, "last_edit_date": 1457548395, "creation_date": 1457545975, "answer_id": 35898989, "question_id": 35898852, "link": "https://stackoverflow.com/questions/35898852/getting-empty-a-char-that-needs-to-be-empty-at-the-beginning-of-every-iteration/35898989#35898989", "title": "Getting empty a char that needs to be empty at the beginning of every iteration of a loop function", "body": "<p>set your <code>aux</code>'s first element to <code>\\0</code> or use <code>memset(aux, 0, sizeof(aux))</code></p>\n\n<p>EDIT:</p>\n\n<pre><code>aux[0] = '\\0';\n</code></pre>\n\n<p>puts the end sign to the start of the string, making it empty. So, if you copy to this (empty) string again, the copied data will override the previously written data, making your memory handling more efficient, which is the exact goal of this question.</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457547820, "post_id": 35899359, "comment_id": 59459628, "body": "no, it&#39;s not enough if I have have 50 characters in <code>a</code> to have <code>char aux[50]</code>.If I can&#39;t reset <code>aux</code> I would probably need aux to have exactly : 1+2+3+4+5+ ... + 50 characters ... so <code>aux</code> would have to have the physical capacity of (50*51)/2=1275 characters .."}], "tags": [], "owner": {"reputation": 51, "user_id": 6040668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff306800a09eee4c2c6b3991cb85893?s=128&d=identicon&r=PG&f=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/6040668/paolo"}, "is_accepted": false, "score": 1, "last_activity_date": 1457547098, "creation_date": 1457547098, "answer_id": 35899359, "question_id": 35898852, "link": "https://stackoverflow.com/questions/35898852/getting-empty-a-char-that-needs-to-be-empty-at-the-beginning-of-every-iteration/35899359#35899359", "title": "Getting empty a char that needs to be empty at the beginning of every iteration of a loop function", "body": "<p>Based on your code, the variable <code>aux</code> must be big enough to contain the whole of the variable pointed at by <code>a</code> so if you've declared that to be, for instance, <code>char a[50];</code> then you also need <code>char aux[50];</code>, it cannot be smaller...<br>\nOn the other hand, to reset <code>aux</code> at each iteration simply write <code>aux[0] = '\\0';</code> as the first line inside the loop...</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457550166, "post_id": 35900289, "comment_id": 59461177, "body": "Man, I&#39;m happy that you asked me to put the full code ... this was the mistake and I was looking only in the loop because i thought there is the mstake. You are right ... this was the mistake ... I did some CTR+X and CTRL+V in the code and maybe that&#39;s how it got there. Now it works with <code>aux</code> having the size of <code>a</code> +1!"}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457550415, "post_id": 35900289, "comment_id": 59461325, "body": "I&#39;m glad I could help. When debugging, always validate your assumptions about your variables. Also note that you really don&#39;t need to &quot;empty&quot; aux, <code>strcpy</code> and <code>strstr</code> work with null termination, so as far as they are concerned, <code>aux</code> is only as long as the first terminating &#39;\\0&#39;, which <code>strcpy</code> sets appropriately."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457551169, "post_id": 35900289, "comment_id": 59461802, "body": "You are right, I can see now that I don&#39;t need in this example to set the null value at the begining of <code>aux</code>. It works just fine just having <code>aux</code> with the same size like <code>a</code>. I don&#39;t think I understood what you said about the null termination of <code>strcpy_s</code> and <code>strstr</code> .. But ... when <code>strcpy_s</code> is runing the second time, it copies at the end of what it wrote the first time, or it writes from <code>aux[0]</code> because that&#39;s just the way  <code>strcpy_s</code> works ?"}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1457560030, "post_id": 35900289, "comment_id": 59466936, "body": "It starts copying to <code>aux[0]</code> because that is the value you passed to it. <code>aux</code> is a <code>char*</code> pointing to the first element of the array, so that&#39;s where it starts copying to, always. You could send a different location - like you do with the source <code>a + (na - i + 1)</code> - but why would you. This is the signature for the function <code>char *strcpy( char *dest, const char *src );</code>, you can see that it takes <code>char*</code>."}], "tags": [], "owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "is_accepted": false, "score": 1, "last_activity_date": 1457549895, "creation_date": 1457549895, "answer_id": 35900289, "question_id": 35898852, "link": "https://stackoverflow.com/questions/35898852/getting-empty-a-char-that-needs-to-be-empty-at-the-beginning-of-every-iteration/35900289#35900289", "title": "Getting empty a char that needs to be empty at the beginning of every iteration of a loop function", "body": "<p>You are initializing <code>na</code> and <code>nb</code> before <code>a</code> and <code>b</code> are filled with input, so you'll get a random size from <code>strlen</code>. Give it a try, you'll see. As such, your algorithms break.</p>\n\n<p>Try moving it below the input.</p>\n\n<pre><code>cout &lt;&lt; \"Define a:\";\ncin &gt;&gt; a;\ncout &lt;&lt; \"Define b:\";\ncin &gt;&gt; b;\ncout &lt;&lt; endl;\n\nna = strlen(a);\nnb = strlen(b);\n\nif (na &lt; nb)\n    min = na;\nelse\n    min = nb;\n</code></pre>\n\n<p>I've tried it with this order and it works as expected, without the need to <code>aux[0] = '\\0';</code></p>\n"}], "owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 35898989, "answer_count": 3, "score": -1, "last_activity_date": 1461872205, "creation_date": 1457545492, "last_edit_date": 1461872205, "question_id": 35898852, "link": "https://stackoverflow.com/questions/35898852/getting-empty-a-char-that-needs-to-be-empty-at-the-beginning-of-every-iteration", "title": "Getting empty a char that needs to be empty at the beginning of every iteration of a loop function", "body": "<p>I created a char called <code>aux</code> that I need just as a variable in which to process the sufixes of the <code>a</code>char and to check if these sufixes are prefixes of the <code>b</code> char. So, I'm trying to get this <code>aux</code> char overwriten at every iteration (or if I can say, to get it \"empty\" and ready for the next iteration when the program will write in it the characters from the iteration<code>i+1</code>)so that i don't need a <code>aux</code> of a large size and i really don't want to risk to have in<code>aux</code> characters from the previous iteration. So, how do I get it empty, or how do I overwrite the char, especially if in the<code>i+k</code> iteration the program would send less characters than in the previous iteration, so it can't not really overwrite because there are less charaters and we could end up with characters from 2 iterations in <code>aux</code>. Here are the lines where i tried to do this. <code>min</code> is the minimum between <code>strlen(a)</code> and <code>strlen(b)</code> and <code>na</code> is <code>strlen(a)</code>.The algorithm is working properly but just if I declare a large physical dimension for <code>aux</code> ... like <code>aux[100]</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;string.h&gt;\n\nusing namespace std;\n\nint main()\n\n{   char a[31], b[31], aux[31];\n    unsigned int i, na, nb, min;\n\n    na = strlen(a);\n    nb = strlen(b);\n\n    if (na &lt; nb)\n        min = na;\n    else\n        min = nb;\n\n\n    cout &lt;&lt; \"Define a:\";\n    cin &gt;&gt; a;\n    cout &lt;&lt; \"Define b:\";\n    cin &gt;&gt; b;\n    cout &lt;&lt; endl;\n\n    for (i = 0; i &lt; min;i++)\n    {   aux[0] = '\\0';\n        strcpy_s(aux, a + (na - i - 1));\n        if (strstr(b, aux) == b)\n            cout &lt;&lt; aux &lt;&lt; \" \"; \n    }\n\n    cin.get();\n    cin.get();\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "mfc", "stack", "heap"], "comments": [{"owner": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "edited": false, "score": 1, "creation_date": 1457594265, "post_id": 35898816, "comment_id": 59479064, "body": "No. Except the destructor changes some memory. BTW: To spawn one thread for each notification is a real bad design with a lot if system overhead. Place the event in a queue and let 1 or two worker read the queue and handle the event. Let the threads run all the time. Creating a new thread is &quot;expensive&quot;."}, {"owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "reply_to_user": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "edited": false, "score": 0, "creation_date": 1457599953, "post_id": 35898816, "comment_id": 59482223, "body": "Hey, thanks for the response. Ah okay, well good to know my understanding is correct at least! The program used to use a worker thread, but because the event handling includes some SQL writing we found that on high-performance systems it fell behind. In fact a solution of spawning a new thread was suggested here on stackoverflow!"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1457605843, "post_id": 35898816, "comment_id": 59486549, "body": "Spawning one thread per event is surely going to make your code run <b>slower</b>. <i>&quot;We can use multithreading&quot;</i> is a non-solution, commonly suggested by inexperienced developers. I&#39;m sure you have better options, e.g. async I/O, completion ports, thread pools, alertable waits, and so on. Also, <code>_OnEvent</code> is a reserved symbol in C++, and should not be used."}, {"owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "edited": false, "score": 0, "creation_date": 1457606039, "post_id": 35898816, "comment_id": 59486697, "body": "Thanks we will look into those. FYI, the code doesn&#39;t actually use _OnEvent I&#39;ve just renamed things for the sake of the question."}, {"owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "edited": false, "score": 0, "creation_date": 1457606056, "post_id": 35898816, "comment_id": 59486714, "body": "So regardless of this being a suitable model or not, is there any obvious reason why this would cause the code to crash?"}, {"owner": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "edited": false, "score": 0, "creation_date": 1457607456, "post_id": 35898816, "comment_id": 59487666, "body": "No. Not in the things and code I can see. Debug.. Look at the pointer... May be somebody overwrites the memory."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1457609639, "post_id": 35898816, "comment_id": 59489166, "body": "If you are passing dynamically allocated objects across DLL/module boundaries, make sure to read <a href=\"https://msdn.microsoft.com/en-us/library/ms235460.aspx\" rel=\"nofollow noreferrer\">Potential Errors Passing CRT Objects Across DLL Boundaries</a>. Even though everything looks correct, it could still be wrong, depending on how and which CRT you link your modules against."}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 1, "creation_date": 1457620371, "post_id": 35898816, "comment_id": 59496931, "body": "Re: &quot;<code>CNotification</code> has a full copy constructor&quot; - do you mean that it does a <b>deep</b> copy? Any chance it copies some pointers?"}, {"owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "reply_to_user": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1457621110, "post_id": 35898816, "comment_id": 59497507, "body": "@VladFeinstein There are no pointers in the CNotification object, but I&#39;ve added to the copy constructor to the question in case I&#39;m missing something. Thanks!"}, {"owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "reply_to_user": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "edited": false, "score": 0, "creation_date": 1457702481, "post_id": 35898816, "comment_id": 59538625, "body": "@xMRi could you point me to some info on the specifics of why creating a new thread is &quot;expensive&quot;? Thanks!"}, {"owner": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "edited": false, "score": 0, "creation_date": 1457734223, "post_id": 35898816, "comment_id": 59557879, "body": "Just take the time how Long it takes to Launch and wait for a thread to terminate.... Just spawn a thread that Exits immidiatly and take the time... ;) If you have hundrets von events you may have more threads than CPUs. So you waste tin creatiung and destryoing threads. A threead Need at least the Default of xMB virtial Memory. It allocates at least two System handles... a Queue Needs nothing of it at all."}], "owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1457621058, "creation_date": 1457545380, "last_edit_date": 1457621058, "question_id": 35898816, "link": "https://stackoverflow.com/questions/35898816/pass-an-object-to-another-thread-with-afxbeginthread", "title": "Pass an object to another thread with AfxBeginThread", "body": "<p>My program has a callback function which is called to handle notifications that are received in the form of objects. Because we can handle hundreds a second, this callback function handles the events by spawning a separate thread to handle each one. This is the callback function:</p>\n\n<pre><code>void _OnEvent(LPCTSTR eventID, CNotification cNotificaton) {\n    if (_pActiveDoc) {\n        Param_Event* p = new Param_Event;\n        p-&gt;pDoc = _pActiveDoc;\n        p-&gt;lpszEventID = eventID;\n        p-&gt;cNotification = cNotification;\n        AfxBeginThread(ProcessEvent,p);\n    }\n}\n</code></pre>\n\n<p>My query comes from the fact that is passed to the callback method is initially created on the stack, and is therefore (according to my understanding) limited to the scope of the calling method:</p>\n\n<pre><code>void CallingMethod(CString strEventID) {\n    CNotification cNotification;\n    // Fill in the details of the notification\n    _OnEvent(strEventID,cNotification);\n}\n</code></pre>\n\n<p><code>CNotification</code> has a full copy constructor, and since the Param_Event object is created on the heap, my belief was that this would allow the original <code>CNotification</code> object to fall out of scope safely, with the spawned thread working from its own \"private\" <code>CNotification</code> object that exists until the Param_Event object is deleted with <code>delete</code>. The fact is, however, that we are getting (rare but occasional) crashing, and I am wondering if perhaps my belief here is incorrect: is it possible that the spawned thread is still accessing the original object somehow? If this was the case, this would explain the crashing by the rare occurrence of the object both falling out of scope and being overwritten in memory, thus creating a memory access exception.</p>\n\n<p>Could I be right? Is there anything actually wrong with the method I am using? Would it be safer create the notification object on the heap initially (this would mean changing a lot of our code), or building a new object on the heap to pass to the spawned thread?</p>\n\n<p>For reference, here is my ProcessEvent() method:</p>\n\n<pre><code>Param_TelephoneEvent *p = (Param_TelephoneEvent*)lParam;\n    p-&gt;pDoc-&gt;OnTelephoneEvent(p-&gt;lpszEventID,p-&gt;cNotification);\n    delete p;\nreturn 0;\n</code></pre>\n\n<p>All advice welcome. Thanks in advance!</p>\n\n<p><strong>Edit:</strong> Copy constructor:</p>\n\n<pre><code>CNotification&amp; CNotification::operator=(const CNotification &amp;rhs)\n{\n    m_eamspeMostRecentEvent = rhs.m_eamspeMostRecentEvent;\n    m_eamtcsCallStatusAtEvent = rhs.m_eamtcsCallStatusAtEvent;\n    m_bInbound = rhs.m_bInbound;\n    strcpy(m_tcExtension , rhs.m_tcExtension);\n    strcpy(m_tcNumber, rhs.m_tcNumber);\n    strcpy(m_tcName,rhs.m_tcName);\n    strcpy(m_tcDDI,rhs.m_tcDDI);\n    strcpy(m_tcCallID,rhs.m_tcCallID);\n    strcpy(m_tcInterTelEvent,rhs.m_tcInterTelEvent);\n\n    m_dTimestamp = rhs.m_dTimestamp;\n    m_dStartTime = rhs.m_dStartTime;\n    m_nCallID = rhs.m_nCallID;\n\n    return *this;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 5, "creation_date": 1457545268, "post_id": 35898748, "comment_id": 59458014, "body": "Did you try using <code>clang++</code>?"}, {"owner": {"reputation": 4255, "user_id": 319826, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TLA0j.jpg?s=128&g=1", "display_name": "kometen", "link": "https://stackoverflow.com/users/319826/kometen"}, "edited": false, "score": 2, "creation_date": 1457545361, "post_id": 35898748, "comment_id": 59458072, "body": "-l is for linking to a library. &#39;clang++ -o hello hello.cpp&#39; should do it."}, {"owner": {"reputation": 13, "user_id": 3365251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f856f9579aa7733532ed8ac800d835b?s=128&d=identicon&r=PG&f=1", "display_name": "socratic", "link": "https://stackoverflow.com/users/3365251/socratic"}, "edited": false, "score": 0, "creation_date": 1457545595, "post_id": 35898748, "comment_id": 59458220, "body": "OK thanks, clang++ -o hello hello.cpp works."}], "answers": [{"comments": [{"owner": {"reputation": 3516, "user_id": 4233758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zNTBC.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/4233758/aleksandar"}, "edited": false, "score": 1, "creation_date": 1457545746, "post_id": 35898841, "comment_id": 59458347, "body": "How did you deduce, that the author uses ubuntu?"}, {"owner": {"reputation": 6890, "user_id": 1761307, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QQQps.jpg?s=128&g=1", "display_name": "Eray Balkanli", "link": "https://stackoverflow.com/users/1761307/eray-balkanli"}, "reply_to_user": {"reputation": 3516, "user_id": 4233758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zNTBC.jpg?s=128&g=1", "display_name": "Aleksandar", "link": "https://stackoverflow.com/users/4233758/aleksandar"}, "edited": false, "score": 0, "creation_date": 1457547539, "post_id": 35898841, "comment_id": 59459461, "body": "Hmm, yes you are right, I just guessed so. Editing answer"}, {"owner": {"reputation": 13, "user_id": 3365251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f856f9579aa7733532ed8ac800d835b?s=128&d=identicon&r=PG&f=1", "display_name": "socratic", "link": "https://stackoverflow.com/users/3365251/socratic"}, "edited": false, "score": 0, "creation_date": 1457548349, "post_id": 35898841, "comment_id": 59459966, "body": "I am using Ubuntu but didn&#39;t need to install libc++. The correct compile command needed to use clang++. I guess it must have changed since last time I used it."}], "tags": [], "owner": {"reputation": 6890, "user_id": 1761307, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QQQps.jpg?s=128&g=1", "display_name": "Eray Balkanli", "link": "https://stackoverflow.com/users/1761307/eray-balkanli"}, "is_accepted": false, "score": 1, "last_activity_date": 1457547566, "last_edit_date": 1457547566, "creation_date": 1457545458, "answer_id": 35898841, "question_id": 35898748, "link": "https://stackoverflow.com/questions/35898748/error-using-clang-to-compile-c/35898841#35898841", "title": "Error using clang to compile c++", "body": "<p>You need to install libc++ library.</p>\n\n<p>Try if are using ubuntu:</p>\n\n<pre><code>sudo bash -c \"cat &gt;&gt; /etc/apt/sources.list\" &lt;&lt; LLVMAPT\n# LLVM\ndeb http://llvm.org/apt/trusty/ llvm-toolchain-trusty main\ndeb-src http://llvm.org/apt/trusty/ llvm-toolchain-trusty main\n# 3.5 \ndeb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.5 main\ndeb-src http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.5 main\n# 3.6 \ndeb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.6 main\ndeb-src http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.6 main\nLLVMAPT\n\nwget -O - http://llvm.org/apt/llvm-snapshot.gpg.key|sudo apt-key add -\n\nsudo apt-get update -y\nsudo apt-get install -y clang-3.6 lldb-3.6 libc++-dev libc++abi-dev\n</code></pre>\n\n<p>If the script above doesnt work or you do not use ubuntu then please check this websites to download that library:</p>\n\n<p><a href=\"http://libcxx.llvm.org/\" rel=\"nofollow\">http://libcxx.llvm.org/</a></p>\n\n<p><a href=\"http://libcxx.llvm.org/docs/BuildingLibcxx.html\" rel=\"nofollow\">http://libcxx.llvm.org/docs/BuildingLibcxx.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": true, "score": -1, "last_activity_date": 1457547851, "creation_date": 1457547851, "answer_id": 35899608, "question_id": 35898748, "link": "https://stackoverflow.com/questions/35898748/error-using-clang-to-compile-c/35899608#35899608", "title": "Error using clang to compile c++", "body": "<p>Clang compiles C language and Clang++ compiles C++. <em>Those are different languages</em>, so you need a separate compiler for each of them. </p>\n\n<p>Some time ago I was having trouble with this as well. I tried linking loads of libraries (<code>-lstdc++</code> etc), building stdlib from source, etc, but nothing worked. This was a judge problem until I realized that I had to use <code>clang++</code>. </p>\n\n<p>So you too, you need <code>clang++</code>, <em>not</em> <code>clang</code>. </p>\n"}], "owner": {"reputation": 13, "user_id": 3365251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f856f9579aa7733532ed8ac800d835b?s=128&d=identicon&r=PG&f=1", "display_name": "socratic", "link": "https://stackoverflow.com/users/3365251/socratic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 0, "accepted_answer_id": 35899608, "answer_count": 2, "score": 0, "last_activity_date": 1457547851, "creation_date": 1457545168, "question_id": 35898748, "link": "https://stackoverflow.com/questions/35898748/error-using-clang-to-compile-c", "title": "Error using clang to compile c++", "body": "<p>I have been trying to compile a simple hello world program in c++ using clang. Now in the past I have been able to do this using the command:</p>\n\n<blockquote>\n  <p>clang -lc++ hello.cpp -o hello</p>\n</blockquote>\n\n<p>When I try this I get the error:</p>\n\n<pre><code>/usr/bin/ld: cannot find -lc++\n</code></pre>\n\n<p>Clang: error : linker command failed with exit code 1</p>\n\n<p>If I use g++ it compiles without errors. Why is this problem occurring with clang?</p>\n"}, {"tags": ["c++", "c++builder", "ado", "bde", "c++builder-6"], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 6040740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i422Q.jpg?s=128&g=1", "display_name": "M5er", "link": "https://stackoverflow.com/users/6040740/m5er"}, "is_accepted": true, "score": 1, "last_activity_date": 1458463928, "last_edit_date": 1458463928, "creation_date": 1457648473, "answer_id": 35928512, "question_id": 35898736, "link": "https://stackoverflow.com/questions/35898736/adoquery-on-c-builder-6-and-windows-7-64bit/35928512#35928512", "title": "ADOQuery on C++ Builder 6 and Windows 7 64bit", "body": "<p>Okay I got this to work!!</p>\n\n<p>For anyone out there who is struggling with BDE to work on Windows 7 64 bit, here is a solution! Remember the database I am dealing with is Oracle 8i and Borland C++ applications built with C++ Builder 6.</p>\n\n<p>Follow the photo and arrows. I tried to put each photo with its own comment but then this site said I can't post more than 2 links... To hell with them so I put all on one picture. </p>\n\n<p><img src=\"https://i.stack.imgur.com/iTJsh.png\" alt=\"Follow the arrows and hopefully you can connect it with my comments below.\"></p>\n\n<p>This TQuery for example is looking for bnetdata as the database. Great, in the next picture we add an ADOConnection component</p>\n\n<p>Click on connection string that's highlighted.</p>\n\n<p>Choose use connection string and click on build.</p>\n\n<p>Select the highlighted provider then click next.</p>\n\n<p>Check use data source name then click the arrow to select one. Note that you will later enter the user name and password and check allow for saving password.</p>\n\n<p>Select the same data source that the BDE components are using. Note that this is one of the sources under your system DSN in the ODBC Administrator. If it's not there, then create one.</p>\n\n<p>Here is a shot from the ODBC Administrator. Note that this is still XP environment. You will need to create the same data source (bnetdata in my case) in the windows 7 machine.</p>\n\n<p>Now click on advanced and check readwrite option from the list.</p>\n\n<p>After you click OK on the ADOConnection component, as you see now in the object inspector. Look at the highlighted areas. Now, we need to set connected property to true. When you do that, it will ask you to log in to the database. Enter the user name and password and click OK. The connection property will now become true. After that you need to set the LoginPrompt property to false. Now click save on the project.</p>\n\n<p>So let's say you have BDE database component too, click on it and then clear alias name and driver name and then put your database name under databaseName property (in my case it's bnetdata).</p>\n\n<p>Save the project and compile in XP. Copy the application and paste it in Windows 7 machine and double click it and it will work! I have successfully converted all the applications to work on Windows 7. The hardest part was to get Borland installed and to get Windows 7 to recognize Oracle ODBC Driver under the Drivers tab in the ODBC Administrator. </p>\n\n<p>Again, SQL Explorer that comes with Borland install is not going to work. So, I will still need to develop in my Windows XP VM but users can use the application in Windows 7 VM served as a terminal on a Windows server... Works for me!!</p>\n\n<p>Hope this helps someone!</p>\n\n<p>EDIT:</p>\n\n<p>I also tried Microsoft OLE DB Provider for Oracle in the ADOConnection and it also worked. Didn't see a measurable impact on speed or performance. Both seem to perform the same way. I'm just surprised how adding the ADOConnection component allowed the application to connect to the database and work like it does in XP!</p>\n\n<p><strong>Also just to clear things up, you will not need to change the BDE components in the application. Only need to add the ADOConnection and all other components stay the same (BDE components). I was trying to convert to using ADO components but there is no need anymore.</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/XBygI.png\" alt=\"Microsoft OLE DB Provider for Oracle\"></p>\n"}], "owner": {"reputation": 39, "user_id": 6040740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i422Q.jpg?s=128&g=1", "display_name": "M5er", "link": "https://stackoverflow.com/users/6040740/m5er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1099, "favorite_count": 0, "accepted_answer_id": 35928512, "answer_count": 1, "score": 1, "last_activity_date": 1490998434, "creation_date": 1457545126, "last_edit_date": 1490998434, "question_id": 35898736, "link": "https://stackoverflow.com/questions/35898736/adoquery-on-c-builder-6-and-windows-7-64bit", "title": "ADOQuery on C++ Builder 6 and Windows 7 64bit", "body": "<p>I am having a weird problem using the <code>TADOQuery</code> component.</p>\n\n<p>I currently work at a place where they are using Borland C++Builder applications that run on a Windows XP VM. So we want to move to Windows 7 and serve it as a terminal so employees can receive new machines with Windows 10 without the need to create Win XP VM on each machine again.</p>\n\n<p>Currently the application uses BDE components and it works great on XP. We created a Win7 64bit VM for testing, and installed the necessary driver etc, but BDE just won't work. When I try to login through the SQL Explorer that comes with Borland, it just hangs. It sends the request but never gets a response. I spent more than a week trying to debug this issue, but didn't get anywhere with it. </p>\n\n<p>Anyways, I gave up on BDE and wanted to try to change to ADO. So I started by simply creating a <code>TDBGrid</code> and fill it with data using ADO components. It worked great on both XP and Win7! So now I am trying to convert the applications' BDE components (<code>TDataBase</code>, <code>TQuery</code>, etc) to ADO components.</p>\n\n<p>I came across an interesting issue when trying to use parameters. Here is a query example:</p>\n\n<pre><code>SELECT t1.SEC_CODE, t1.CODE, t1.CTRL_NUM, t1.CHECK_CODE,\nt1.CHECK_NO, t1.CLIENT_ID, t1.AMOUNT, t1.TRANS_NO, decode(t2.prefix,null,t2.name,t2.name||', '||t2.prefix) as fullName,\nt1.ENTRY_DATE, t1.DEPOSIT_DATE, t1.ACCT_COMMENT, t2.NAME, t2.PREFIX\nFROM ACCOUNTING.ACCT_CHECK_IN t1, OISC.CLIENT t2\nWHERE\n(:BEN =1 OR (:BEN =0 AND t1.ENTRY_DATE=:DATE)\nOR (:BEN =2 AND t1.DEPOSIT_DATE IS NOT NULL)\nOR (:BEN =3 AND t1.DEPOSIT_DATE IS NULL)) AND\n(:ALEX =1 OR (:ALEX =0 AND t1.ENTRY_DATE&gt;=:DATE1 AND\nt1.ENTRY_DATE&lt;=:DATE2) OR (:ALEX =2 AND t1.DEPOSIT_DATE&gt;=:DATE1\nAND t1.DEPOSIT_DATE&lt;=:DATE2))\nAND T2.CLIENT_ID(+)=T1.CLIENT_ID \n\nORDER BY t1.SEC_CODE, t1.CHECK_CODE, fullName, t1.check_no\n</code></pre>\n\n<p>Please don't pay attention to the parameter names, it's a little funny for me but you guys won't be able to connect.</p>\n\n<p>The first issue here is that even though some parameters are the same name, ADO sees them as individual parameters!  So, if I do this:</p>\n\n<pre><code>checkload1-&gt;Parameters-&gt;ParamByName(\"BEN\")-&gt;Value=0\n</code></pre>\n\n<p>ADO will not replace every occurrence of \"BEN\" with 0, and I end up with a result set of 0 records! Instead, I am using this:</p>\n\n<pre><code>checkload1-&gt;Parameters-&gt;Items[0]-&gt;Value = 0; // BEN param\ncheckload1-&gt;Parameters-&gt;Items[1]-&gt;Value = 0;\ncheckload1-&gt;Parameters-&gt;Items[3]-&gt;Value = 0;\ncheckload1-&gt;Parameters-&gt;Items[4]-&gt;Value = 0;\n</code></pre>\n\n<p>Basically, replacing every \"BEN\" parameter with 0 based on the parameter index.</p>\n\n<p>This brings me results, but not right away.</p>\n\n<p>So here is how it works: the application is a tree based user interface. There is a node that says \"Today's Checks\" and it displays today's checks when it is expanded. Great, now this works fantastic with BDE, and I only assign the parameter value once and it automatically replaces it wherever it sees \"BEN\", etc.</p>\n\n<p>When using ADO components, I expand the \"Today's Checks\" node and the code runs though, loading the parameters, activating the query component and I get no results! So the node stays collapsed. If I click on the <code>+</code> sign again to expand the tree, it loads the checks! And it will load them every time after that.</p>\n\n<p>So, in the application there is a date option that defaults to today's date. If I change that to yesterday's date, I still get today's checks... It's like the parameters aren't getting updated. And if I try to start with a different date at the very beginning, I don't get any results! It will bring results with today's date, but after that it won't accept a different date.</p>\n\n<p>I debugged the code and the dates are changing, but for some reason the parameters aren't changing. Here is my code block:</p>\n\n<pre><code>checkload1-&gt;Filter=\"\" ;\ncheckload1-&gt;Filtered=false ;\nswitch(params)\n    {\n    case 0: checkload1-&gt;Parameters-&gt;Items[0]-&gt;Value = 1; // BEN param\n            checkload1-&gt;Parameters-&gt;Items[1]-&gt;Value = 1;\n            checkload1-&gt;Parameters-&gt;Items[3]-&gt;Value = 1;\n            checkload1-&gt;Parameters-&gt;Items[4]-&gt;Value = 1;\n            // ALEX Param\n            checkload1-&gt;Parameters-&gt;Items[5]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[6]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[9]-&gt;Value = 0;\n            checkload1-&gt;SQL-&gt;Strings[13] = \"AND t1.CHECK_STATUS NOT IN ('Refunded', 'Posted') \";\n            break ;\n    case 1: checkload1-&gt;Parameters-&gt;Items[0]-&gt;Value = 0; // BEN param\n            checkload1-&gt;Parameters-&gt;Items[1]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[3]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[4]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;ParamByName(\"DATE\")-&gt;Value=FormatDateTime(\"dd-mmm-yyyy\", Date()) ;\n            checkload1-&gt;SQL-&gt;Strings[13] = \" \";\n            break ;\n    case 2: checkload1-&gt;Parameters-&gt;Items[0]-&gt;Value = 2; // BEN param\n            checkload1-&gt;Parameters-&gt;Items[1]-&gt;Value = 2;\n            checkload1-&gt;Parameters-&gt;Items[3]-&gt;Value = 2;\n            checkload1-&gt;Parameters-&gt;Items[4]-&gt;Value = 2;\n            //ALEX param\n            checkload1-&gt;Parameters-&gt;Items[5]-&gt;Value = 2;\n            checkload1-&gt;Parameters-&gt;Items[6]-&gt;Value = 2;\n            checkload1-&gt;Parameters-&gt;Items[9]-&gt;Value = 2;\n            checkload1-&gt;SQL-&gt;Strings[13] = \"AND t1.CHECK_STATUS IN ('Deposited') \";\n            break ;\n    case 3: checkload1-&gt;Parameters-&gt;Items[0]-&gt;Value = 3; // BEN param\n            checkload1-&gt;Parameters-&gt;Items[1]-&gt;Value = 3;\n            checkload1-&gt;Parameters-&gt;Items[3]-&gt;Value = 3;\n            checkload1-&gt;Parameters-&gt;Items[4]-&gt;Value = 3;\n            //ALEX param\n            checkload1-&gt;Parameters-&gt;Items[5]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[6]-&gt;Value = 0;\n            checkload1-&gt;Parameters-&gt;Items[9]-&gt;Value = 0;\n            checkload1-&gt;SQL-&gt;Strings[13] = \"AND t1.CHECK_STATUS IN ('Held') \";\n            break ;\n    }\nif(!mainform-&gt;date1-&gt;Checked){\ncheckload1-&gt;Parameters-&gt;Items[5]-&gt;Value = 1;\ncheckload1-&gt;Parameters-&gt;Items[6]-&gt;Value = 1;\ncheckload1-&gt;Parameters-&gt;Items[9]-&gt;Value = 1;\n}\ncheckload1-&gt;Parameters-&gt;Items[7]-&gt;Value = FormatDateTime(\"dd-mmm-yyyy\", fromdate);\ncheckload1-&gt;Parameters-&gt;Items[10]-&gt;Value = FormatDateTime(\"dd-mmm-yyyy\", fromdate);\ncheckload1-&gt;Parameters-&gt;Items[8]-&gt;Value = FormatDateTime(\"dd-mmm-yyyy\", todate);\ncheckload1-&gt;Parameters-&gt;Items[11]-&gt;Value = FormatDateTime(\"dd-mmm-yyyy\", todate);\n\nif(filters != \"\") checkload1-&gt;SQL-&gt;Strings[12] = filters;\nelse checkload1-&gt;SQL-&gt;Strings[12]=\" \" ;\ncheckload1-&gt;Prepared = true;\ncheckload1-&gt;Active=true ;\n</code></pre>\n\n<p>Can someone with experience advise me on this?</p>\n\n<p>I know this is ancient stuff, but those programs were written literally 15-20 years ago, and they are moving to a web-based user interface, but that's still being built.  Until then, I need to make the required changes/updates as part of my job.</p>\n"}, {"tags": ["c++", "fork"], "comments": [{"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545119, "post_id": 35898631, "comment_id": 59457920, "body": "Do you want the parent to kill the child or the child to kill itself?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1457545154, "post_id": 35898631, "comment_id": 59457942, "body": "because if you want the child to kill itself, there&#39;s no need for that - you could just <code>exit()</code> the child. you&#39;d only need kill if you want the parent to kill the child."}, {"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545205, "post_id": 35898631, "comment_id": 59457973, "body": "Why not just put the 3sec-delay and child killing in the parent&#39;s code?"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545485, "post_id": 35898631, "comment_id": 59458157, "body": "@e0k I will edit my question. I want it to kill itself"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1457545526, "post_id": 35898631, "comment_id": 59458186, "body": "@MarcB I do not want to use exit. I will also edit my question that I want to use signal kill to do it"}, {"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545603, "post_id": 35898631, "comment_id": 59458231, "body": "How do you know it&#39;s not working?  A process killing itself will look very similar to a process exiting."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545659, "post_id": 35898631, "comment_id": 59458266, "body": "@e0k  when I put it at the end of the main function I get the message (&quot;Killed&quot;), I do not get that when calling it after 3 seconds inside the child process if statement"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457545709, "post_id": 35898631, "comment_id": 59458303, "body": "&quot;<i>I tried to put it in a function that is called as soon as the while loop ends, but it did not kill the child.</i>&quot; How did you determine that? You ignore the return value of <code>kill</code>."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457545834, "post_id": 35898631, "comment_id": 59458398, "body": "@DavidSchwartz I thought the function kill returns (&quot;Killed&quot;) without printing it or using return syntax. That is what it returns when I put it at the end of main function, only problem is it does not wait for 3 seconds to pass"}, {"owner": {"reputation": 7872, "user_id": 440302, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e785baf6d4a2626b8649d5b538c51858?s=128&d=identicon&r=PG", "display_name": "Rufflewind", "link": "https://stackoverflow.com/users/440302/rufflewind"}, "edited": false, "score": 3, "creation_date": 1457545965, "post_id": 35898631, "comment_id": 59458489, "body": "If you don&#39;t reap the child with <code>wait</code> then the child will remain a zombie even after it dies."}, {"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457545986, "post_id": 35898631, "comment_id": 59458503, "body": "The parent does not have the child&#39;s PID in the variable <code>child</code>, only the child assigns it there.  Putting <code>kill(child, SIGKILL)</code> in at the end of <code>main()</code> (the commented line) will be executed by <i>both</i> child and parent.  The parent does not wait 3 sec. and will send <code>SIGKILL</code> to a garbage value PID."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1457546058, "post_id": 35898631, "comment_id": 59458552, "body": "@MohamadZein That is incorrect. The <code>kill</code> function doesn&#39;t print anything."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546245, "post_id": 35898631, "comment_id": 59458679, "body": "@DavidSchwartz it does print <code>Killed</code> when I place it at the end of the main function. but I just learned because it will be executed by both parent and child."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457546330, "post_id": 35898631, "comment_id": 59458732, "body": "@e0k so placing it outside of the while loop the way I have it does kill the child ? and if so how can I output that, should I just put a <code>cout</code> after the kill function saying that child is killed ?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546350, "post_id": 35898631, "comment_id": 59458749, "body": "When you say &quot;it does print <code>Killed</code>&quot;, what do you think the &quot;it&quot; is that you&#39;re referring to?"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546409, "post_id": 35898631, "comment_id": 59458779, "body": "@DavidSchwartz I would expect ... it is the signal kill function itself printing <code>Killed</code> ? is that correct ? I do not know what else would print this"}, {"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457546454, "post_id": 35898631, "comment_id": 59458804, "body": "My previous comment should have explained why the commented <code>kill(child, SIGKILL)</code> does <b>not</b> kill the child."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546468, "post_id": 35898631, "comment_id": 59458815, "body": "Nope. The <code>kill</code> function doesn&#39;t print anything. (Think about it. What could it print it to?) And the killed process doesn&#39;t print anything. How could it, it&#39;s dead. When you see the message &quot;Killed&quot;, it&#39;s because something that was monitoring a process for you noticed that the process had been killed and is reporting that to you."}, {"owner": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "edited": false, "score": 1, "creation_date": 1457546507, "post_id": 35898631, "comment_id": 59458847, "body": "Please use waitpid() function after fork(). That may help."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546510, "post_id": 35898631, "comment_id": 59458851, "body": "so does the parent pid print it ? because the original process was killed ? @DavidSchwartz"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546527, "post_id": 35898631, "comment_id": 59458859, "body": "No. How could the parent print it? There&#39;s no code in the parent to do that. All you did is call <code>kill</code>. You see the message &quot;Killed&quot; when, and only when, something monitoring a process for you notices that the process it was monitoring had been killed. That&#39;s a reliable indication that process was killed if, and only if, you know for a fact that you&#39;ve directed something to monitor that process."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1457546587, "post_id": 35898631, "comment_id": 59458897, "body": "@e0k I meant the way I have if after the while loop directly and not at the end of the main function."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546686, "post_id": 35898631, "comment_id": 59458946, "body": "@DavidSchwartz and the process it was monitoring in this instance is the parent process ?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546758, "post_id": 35898631, "comment_id": 59458982, "body": "If you launched it form a shell that monitors processes it creates or inherits, then yes."}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1457546826, "post_id": 35898631, "comment_id": 59459013, "body": "@DavidSchwartz I did launch it from a shell, that makes sense thank you"}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "edited": false, "score": 0, "creation_date": 1457547312, "post_id": 35899248, "comment_id": 59459325, "body": "this did not work. the while loop kept going and no alarm was generated"}, {"owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "edited": false, "score": 0, "creation_date": 1457548277, "post_id": 35899248, "comment_id": 59459911, "body": "I think it does not matter what argument you are passing since you are calling the kill function on getpid()"}, {"owner": {"reputation": 191, "user_id": 5401992, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ao2WK.jpg?s=128&g=1", "display_name": "Aisha Javed", "link": "https://stackoverflow.com/users/5401992/aisha-javed"}, "reply_to_user": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "edited": false, "score": 0, "creation_date": 1457626402, "post_id": 35899248, "comment_id": 59501645, "body": "Actually, signal handlers always take signal num argument to detect that for which signal generation, which signal handler needs to be executed."}], "tags": [], "owner": {"reputation": 191, "user_id": 5401992, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ao2WK.jpg?s=128&g=1", "display_name": "Aisha Javed", "link": "https://stackoverflow.com/users/5401992/aisha-javed"}, "is_accepted": true, "score": 2, "last_activity_date": 1457547440, "last_edit_date": 1457547440, "creation_date": 1457546760, "answer_id": 35899248, "question_id": 35898631, "link": "https://stackoverflow.com/questions/35898631/child-process-kill-itself-after-3-seconds-in-fork/35899248#35899248", "title": "child process kill itself after 3 seconds in fork", "body": "<pre><code> void killChild(int sigNum)//Argument here is signal number\n    {\n        kill(getpid(), SIGKILL);\n    }  \n\n\n  int main()\n    {\n        pid_t pid;\n        int child;\n        pid = fork();\n\n        if(pid == 0)//this is the child\n        {\n            signal(SIGALRM,killchild)\n            child = getpid();\n            alarm(3); //set alarm for 3 seconds\n            while(1); //continue to loop until 3 seconds passed\n        }\n\n        else if(pid &lt; 0)//error statement\n        {\n            cout &lt;&lt; \" we have an error \" &lt;&lt; endl;\n        }\n\n        else//parent if pid &gt; 0\n        {\n            cout &lt;&lt; \" I am the parent \" &lt;&lt; endl;\n        }\n    }\n\n   After 3 seconds, alarm() function will generate SIGALRM and on this signal egneration, your killchild() function will be called and kill child. \n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 707, "user_id": 4889355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Q06nTu9K1mU/AAAAAAAAAAI/AAAAAAAAACA/dzz6h7kJrcc/photo.jpg?sz=128", "display_name": "Mohamad Zein", "link": "https://stackoverflow.com/users/4889355/mohamad-zein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2101, "favorite_count": 0, "accepted_answer_id": 35899248, "answer_count": 1, "score": 0, "last_activity_date": 1457547440, "creation_date": 1457544809, "last_edit_date": 1457545503, "question_id": 35898631, "link": "https://stackoverflow.com/questions/35898631/child-process-kill-itself-after-3-seconds-in-fork", "title": "child process kill itself after 3 seconds in fork", "body": "<p>I have a fork function that creates a child process and a parent process</p>\n\n<p>I would like  the child process to kill itself as soon as 3 seconds passes, using the <strong>kill(child, SIGKILL)</strong> function, that means withoutt using the <strong>exit()</strong> function. However I am not sure of the implementation. I tried using the kill function signal right after the while loop end, but it does not kill the child. </p>\n\n<p>I tried to put it at the end of the main function, but it kills the child before 3 seconds passes</p>\n\n<p>I tried to put it in a function that is called as soon as the while loop ends, but it did not kill the child</p>\n\n<p>How can I do this with a better implementation that actually works ?</p>\n\n<p>here is my code with comments available:</p>\n\n<pre><code>int main()\n{\n    pid_t pid;\n    int seconds = 3;\n    int child;\n\n    pid = fork();\n    int i = 0;\n\n\n\n    if(pid == 0)          //this is the child\n    {\n        child = getpid();\n\n        while( i &lt;= seconds)\n        {\n            cout &lt;&lt; \" second \" &lt;&lt; i &lt;&lt; endl;\n            sleep(1);\n            i++;\n\n        }\n        killChild(child);     //function called after 3 seconds passes\n\n    }\n\n    else if(pid &lt; 0)        //error statement\n    {\n        cout &lt;&lt; \" we have an error \" &lt;&lt; endl;\n    }\n\n    else                //parent if pid &gt; 0\n    {\n        cout &lt;&lt; \" I am the parent \" &lt;&lt; endl;\n        sleep(1);\n\n    }\n\n    //kill(child, SIGKILL)  placing it here will kill child before seconds passes\n\n}\n\n\nvoid killChild(int child)       //function to kill child (NOT KILLING IT)\n{\n    kill(child, SIGKILL);\n}\n</code></pre>\n"}, {"tags": ["c++", "matrix", "vector", "stl"], "answers": [{"tags": [], "owner": {"reputation": 2434, "user_id": 3684653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KyLtW.jpg?s=128&g=1", "display_name": "Isuka", "link": "https://stackoverflow.com/users/3684653/isuka"}, "is_accepted": false, "score": 7, "last_activity_date": 1457546039, "last_edit_date": 1457546039, "creation_date": 1457545309, "answer_id": 35898793, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector/35898793#35898793", "title": "Creating a matrix using STL vector", "body": "<p>When you're creating your vectors this way, they have a dimension of 0. You have to initialize them with the good size : </p>\n\n<pre><code>vector &lt; vector &lt;int&gt; &gt; Mat(6, std::vector&lt;int&gt;(6));\n</code></pre>\n\n<p>By the way, adding a 0 in the second vector initialization will ensure it will be filled with 0 :</p>\n\n<pre><code>vector &lt; vector &lt;int&gt; &gt; Mat(6, std::vector&lt;int&gt;(6, 0));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 3673393, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100000915090493/picture?type=large", "display_name": "ivanciprian", "link": "https://stackoverflow.com/users/3673393/ivanciprian"}, "edited": false, "score": 0, "creation_date": 1457547068, "post_id": 35898819, "comment_id": 59459166, "body": "Thanks for the answer, now I understand."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 83, "user_id": 3673393, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100000915090493/picture?type=large", "display_name": "ivanciprian", "link": "https://stackoverflow.com/users/3673393/ivanciprian"}, "edited": false, "score": 0, "creation_date": 1457547099, "post_id": 35898819, "comment_id": 59459188, "body": "@epanicafrate No problem"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 2, "last_activity_date": 1457547132, "last_edit_date": 1457547132, "creation_date": 1457545387, "answer_id": 35898819, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector/35898819#35898819", "title": "Creating a matrix using STL vector", "body": "<p>When you create a vector it starts off empty unless you tell it what the size should be. If the vector is empty then you cannot use <code>[]</code> as it doesn't do any range checking and will not grow the vector.  That leaves you with two options, use <code>push_back()</code> or supply a size to the vector when you create it.  For instance we could use</p>\n\n<pre><code>const int matrix_size = 5;\nauto mat = std::vector&lt;std::vector&lt;int&gt;&gt;(matrix_size, std::vector&lt;int&gt;(matrix_size));\n//                                       ^# of rows^                   ^# of cols^\n</code></pre>\n\n<p>Also remember indexes are 0 based in C++.  That means for a vector with 5 elements the valid indexes are <code>[0, 4]</code>.  Instead of bothering with the indexes of the vector we can use a <a href=\"http://en.cppreference.com/w/cpp/language/range-for\" rel=\"nofollow\">ranged based for loop</a> to fill the vector like</p>\n\n<pre><code>for(auto&amp; row : mat)\n    for(auto&amp; col : row)\n        std::cin &gt;&gt; col;\n</code></pre>\n\n<p>This will fill every element in the vector from <code>cin</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "is_accepted": false, "score": 1, "last_activity_date": 1457551827, "creation_date": 1457551827, "answer_id": 35900900, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector/35900900#35900900", "title": "Creating a matrix using STL vector", "body": "<pre><code>vector &lt; vector &lt;int&gt; &gt; Mat;\n</code></pre>\n\n<p>This creates an empty Mat;</p>\n\n<pre><code>vector &lt; vector &lt;int&gt; &gt; Mat (5);\n</code></pre>\n\n<p>will create it with 5 \"inside\" vectors. The problem still isn't solved, you need to resize the interior vectors as well.</p>\n\n<p>you can do this by: (there are plenty of other better ways)</p>\n\n<pre><code>for(int i =0;i&lt;5;i++)\n{\n  Mat[i].resize(5); // resizing the interior matrices\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 465662, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64bc5e5ed11f7286482b38d05ece2018?s=128&d=identicon&r=PG", "display_name": "Rom098", "link": "https://stackoverflow.com/users/465662/rom098"}, "is_accepted": false, "score": 0, "last_activity_date": 1573786952, "creation_date": 1573786952, "answer_id": 58869740, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector/58869740#58869740", "title": "Creating a matrix using STL vector", "body": "<p>As other answers mention, you need to use the <code>std::vector</code> constructor with initial numbers of elements to avoid <code>push_back</code>'ing the elements into the vector later. However if you want to initialize your matrix with <strong>zeros</strong>, you don't need to specify the default initializer value, because since C++11 the form <code>vector(size_type count)</code> guarantees zeroing out elements of non-class types such as <code>int</code>:</p>\n\n<pre><code>vector &lt; vector&lt;int&gt; &gt; Mat( 6, vector&lt;int&gt;(6) );\n</code></pre>\n\n<p>This creates a 6x6 int matrix with zeros.</p>\n"}, {"comments": [{"owner": {"reputation": 820, "user_id": 12062017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXiJu.jpg?s=128&g=1", "display_name": "Pickle Rick", "link": "https://stackoverflow.com/users/12062017/pickle-rick"}, "edited": false, "score": 0, "creation_date": 1573799116, "post_id": 58870972, "comment_id": 104011037, "body": "Much better in my opinion would be a generic type that accepts any number of dimensions. Whether you have a typical 4x4 or less typical 3x4, it will work the same. You could even set it up to do matrix math on two matrices with different dimensions."}], "tags": [], "owner": {"reputation": 11, "user_id": 8847333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9612b2fa2a6f8c479595ea41aa61039a?s=128&d=identicon&r=PG&f=1", "display_name": "haoming wu", "link": "https://stackoverflow.com/users/8847333/haoming-wu"}, "is_accepted": false, "score": 1, "last_activity_date": 1573796540, "creation_date": 1573796540, "answer_id": 58870972, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector/58870972#58870972", "title": "Creating a matrix using STL vector", "body": "<p>It might be better to use std::array\u3002</p>\n\n<pre><code>std::array&lt; std::array&lt;int, 6&gt;, 6&gt; matirx;\nfor(auto&amp; row: matrix)\n    for(auto&amp; col: row)\n        col = 0;\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3673393, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100000915090493/picture?type=large", "display_name": "ivanciprian", "link": "https://stackoverflow.com/users/3673393/ivanciprian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15173, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1573796540, "creation_date": 1457544507, "last_edit_date": 1457544954, "question_id": 35898528, "link": "https://stackoverflow.com/questions/35898528/creating-a-matrix-using-stl-vector", "title": "Creating a matrix using STL vector", "body": "<p>I want to create a matrix using \"vector\":</p>\n\n<pre><code>vector &lt; vector &lt;int&gt; &gt; Mat;\n</code></pre>\n\n<p>The problem is, when I run this code:</p>\n\n<pre><code>int i ,j;\n    for(i = 1  ; i &lt;= 5 ; ++i)\n    for(j = 1 ; j &lt;= 5 ; ++j)\n        Mat[i][j] = 0;\n</code></pre>\n\n<p>I would get a pretty nasty error. How can I fix that?</p>\n\n<p>I do NOT want to read the matrix like this:</p>\n\n<pre><code>for(i = 1  ; i &lt;= 5 ; ++i)\n    for(j = 1 ; j &lt;= 5 ; ++j)\n        M[i].push_back(0);\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 134, "user_id": 3196613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4153b66bc806e3ee8ffd00a4c6f2c7a?s=128&d=identicon&r=PG&f=1", "display_name": "pranav", "link": "https://stackoverflow.com/users/3196613/pranav"}, "edited": false, "score": 0, "creation_date": 1457544854, "post_id": 35898433, "comment_id": 59457757, "body": "First locate ExternalLib.h on PC"}, {"owner": {"reputation": 407, "user_id": 3760289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d890d315d116d1aa876315e50789cb74?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/3760289/piotr"}, "reply_to_user": {"reputation": 134, "user_id": 3196613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4153b66bc806e3ee8ffd00a4c6f2c7a?s=128&d=identicon&r=PG&f=1", "display_name": "pranav", "link": "https://stackoverflow.com/users/3196613/pranav"}, "edited": false, "score": 0, "creation_date": 1457544926, "post_id": 35898433, "comment_id": 59457810, "body": "I have also ExternalLib.h"}, {"owner": {"reputation": 134, "user_id": 3196613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4153b66bc806e3ee8ffd00a4c6f2c7a?s=128&d=identicon&r=PG&f=1", "display_name": "pranav", "link": "https://stackoverflow.com/users/3196613/pranav"}, "edited": false, "score": 0, "creation_date": 1457544973, "post_id": 35898433, "comment_id": 59457835, "body": "What do you use windows or Linux"}, {"owner": {"reputation": 407, "user_id": 3760289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d890d315d116d1aa876315e50789cb74?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/3760289/piotr"}, "reply_to_user": {"reputation": 134, "user_id": 3196613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4153b66bc806e3ee8ffd00a4c6f2c7a?s=128&d=identicon&r=PG&f=1", "display_name": "pranav", "link": "https://stackoverflow.com/users/3196613/pranav"}, "edited": false, "score": 0, "creation_date": 1457545299, "post_id": 35898433, "comment_id": 59458033, "body": "I use windows but after I will do it in linux"}, {"owner": {"reputation": 1026, "user_id": 5583153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116adeea4dcb2db23e70b696d4949184?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/5583153/nacho"}, "edited": false, "score": 0, "creation_date": 1457545715, "post_id": 35898433, "comment_id": 59458309, "body": "g++ can&#39;t find the <i>ExternalLib.h</i> file, add <code>-I&lt;path&#47;to&#47;external&#47;lib&#47;header&gt;</code> to the command. Take a look <a href=\"https://courses.cs.washington.edu/courses/cse326/02wi/unix/g++.html\" rel=\"nofollow noreferrer\">here</a> to get an idea on how to use g++"}, {"owner": {"reputation": 134, "user_id": 3196613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4153b66bc806e3ee8ffd00a4c6f2c7a?s=128&d=identicon&r=PG&f=1", "display_name": "pranav", "link": "https://stackoverflow.com/users/3196613/pranav"}, "edited": false, "score": 0, "creation_date": 1457545896, "post_id": 35898433, "comment_id": 59458438, "body": "Provide ExternalLib.h and ExternalLib so file name and path"}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 3760289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d890d315d116d1aa876315e50789cb74?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/3760289/piotr"}, "edited": false, "score": 0, "creation_date": 1457547678, "post_id": 35899036, "comment_id": 59459553, "body": "so my lib is int directory /lib and dll file is in /lib/dynamic. Could you write how to include it? I try &gt;g++ -o test -L./lib -lExternalLib test.cpp"}], "tags": [], "owner": {"reputation": 2992, "user_id": 2039094, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bddf49261fab0a3b9926225dfad90856?s=128&d=identicon&r=PG", "display_name": "Gilson PJ", "link": "https://stackoverflow.com/users/2039094/gilson-pj"}, "is_accepted": true, "score": 0, "last_activity_date": 1457547129, "last_edit_date": 1457547129, "creation_date": 1457546122, "answer_id": 35899036, "question_id": 35898433, "link": "https://stackoverflow.com/questions/35898433/how-to-compile-code-using-external-dll-library/35899036#35899036", "title": "how to compile code using external dll library", "body": "<p>I think you are trying to use dll files (compiled in Windows) under Linux, that will not work.</p>\n\n<p>Anyway your error is that the compiler isn't able to locate your header file, to solve this you have several options:</p>\n\n<p>1) Provide the include path when compiling using <code>-I</code> switch\ni.e.: <code>g++ test.cpp -I&lt;path to your include directory&gt;</code></p>\n\n<p>2) Copy the <em>ExternalLib.h</em> to the same directory in which <em>test.cpp</em> lies and use <code>#include \"ExternalLib.h\"</code> instead of <code>#include &lt;ExternalLib.h&gt;</code></p>\n\n<p>3) Provide relative path to <em>ExternalLib.h</em> starting from the directory in which <em>test.cpp</em> lies. That is, replace <code>#include &lt;ExternalLib.h&gt;</code> for <code>#include \"../../external/ExternalLib.h\"</code></p>\n\n<p>This will solve the <strong>No such file or directory</strong> problem. Then you will also have to provide the binary/library files using <code>-L</code> (for library path) and <code>-l</code> (for library file) switches.</p>\n"}], "owner": {"reputation": 407, "user_id": 3760289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d890d315d116d1aa876315e50789cb74?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/3760289/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2011, "favorite_count": 0, "accepted_answer_id": 35899036, "answer_count": 1, "score": 2, "last_activity_date": 1457547129, "creation_date": 1457544271, "question_id": 35898433, "link": "https://stackoverflow.com/questions/35898433/how-to-compile-code-using-external-dll-library", "title": "how to compile code using external dll library", "body": "<p>I want to compile program with one file test.cpp, which use external library (i have dll and lib). How to do that? </p>\n\n<p>My test.cpp</p>\n\n<pre><code>#include &lt;ExternalLib.h&gt;\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#define USE_USB_AUTO_CONNECT 1\n\nint main()\n{\n   printf (\"Characters: %c %c \\n\", 'a', 65);\n   return 0;\n}\n</code></pre>\n\n<p>ExternalLib is provided by third part company with files: ExternalLib.lib and ExternalLib.dll. There are also files with extension so and a.</p>\n\n<p>When I compile with command:</p>\n\n<pre><code> g++ test.cpp\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>test.cpp:1:20: fatal error: ExternalLib.h: No such file or directory\n #include &lt;ExternalLib.h&gt;\n</code></pre>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["c++", "c", "menu", "ncurses"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user253667"}, "edited": false, "score": 0, "creation_date": 1457615543, "post_id": 35904474, "comment_id": 59493275, "body": "So whenever the menu needs to be redrawn, call free_item() for each item, free_menu() for the menu, and recreate the whole thing?  Oh, and if you care, grab the index of the currently selected item so you can set it back after you recreate it.  Thanks."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 0, "last_activity_date": 1457564827, "creation_date": 1457564827, "answer_id": 35904474, "question_id": 35898431, "link": "https://stackoverflow.com/questions/35898431/how-to-redraw-an-ncurses-menu/35904474#35904474", "title": "How to redraw an ncurses menu", "body": "<p>Recreating the structure is the simplest way.</p>\n\n<p>The form and menu libraries use an abstraction of the keys you type.  That abstraction does not include a resize feature.</p>\n\n<p>You <em>could</em> run <code>wresize</code> for each of the windows in the menu, e.g., these lines from <code>menu.h</code></p>\n\n<pre><code>  WINDOW        *win;                   /* Window containing menu          */\n  WINDOW        *sub;                   /* Subwindow for menu display      */\n  WINDOW        *userwin;               /* User's window                   */\n  WINDOW        *usersub;               /* User's subwindow                */\n</code></pre>\n\n<p>but making that work requires some study of the library.  There's an example which resizes a <em>form</em> in <a href=\"http://invisible-island.net/ncurses/ncurses-examples.html\" rel=\"nofollow\">ncurses-examples</a> (named <code>cardfile</code>), but no analogous example for <em>menus</em>.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://invisible-island.net/ncurses/man/wresize.3x.html\" rel=\"nofollow\"><code>wresize</code> - resize a curses window</a></li>\n<li><a href=\"http://invisible-island.net/ncurses/man/resizeterm.3x.html\" rel=\"nofollow\"><code>is_term_resized</code>,  <code>resize_term</code>,  <code>resizeterm</code>  -  change  the\n   curses terminal size</a></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user253667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 35904474, "answer_count": 1, "score": 0, "last_activity_date": 1457564827, "creation_date": 1457544266, "question_id": 35898431, "link": "https://stackoverflow.com/questions/35898431/how-to-redraw-an-ncurses-menu", "title": "How to redraw an ncurses menu", "body": "<p>I am working on an ncurses-based tool that has 4 tiled windows with a command bar at the bottom of the screen.  The windows form a 2x2 grid like this:</p>\n\n<pre><code>+----+----------------+\n| 1  |  2             |\n+----+----------------+\n| 3  |  4             |\n|    |                |\n|    |                |\n|    |                |\n+----+----------------+\n</code></pre>\n\n<p>The top left is fixed in size, so when the app is resized, 2 changes in width, 3 changes in height, and 4 changes in both directions.</p>\n\n<p>I had the redrawing code working fine until I started putting menus (using menu.h) in window 4.  Now, if i resize the window too small, part of the menu will get cut off, but when you make the window bigger again, it does not repaint what was removed.  Doing a post_menu() in the redraw code does not repaint it.</p>\n\n<p>What is the proper way to repaint a menu?  Do I have to dispose of it and recreate it from scratch every time?  I do have logic in my code that only repaints if necessary (data changed, window resized, etc), so it would not be creating a new menu every cycle for no reason, but this still seems a bit heavy handed.  There has to be a simple way to just redraw the menu you have already created.  What is it?</p>\n"}, {"tags": ["c++", "compiler-errors"], "comments": [{"owner": {"reputation": 2080, "user_id": 1033737, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/iJ3qS.jpg?s=128&g=1", "display_name": "thefabbulus", "link": "https://stackoverflow.com/users/1033737/thefabbulus"}, "edited": false, "score": 0, "creation_date": 1457545206, "post_id": 35898426, "comment_id": 59457975, "body": "in which line do you get the error?"}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1457544429, "last_edit_date": 1495539916, "creation_date": 1457544429, "answer_id": 35898496, "question_id": 35898426, "link": "https://stackoverflow.com/questions/35898426/c-expected-primary-expression-before-token/35898496#35898496", "title": "C++ expected primary-expression before &#39;;&#39; token", "body": "<p><code>100%</code> is not 100 percent.  <code>100%</code> is trying to use the <a href=\"https://stackoverflow.com/questions/12556946/how-does-the-modulus-operator-work\"><code>%</code> operator</a> in an incorrect manner.  To multiply by 100% you just use <code>1</code> which is not needed as anything times 1 is itself.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6040792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufIsD.jpg?s=128&g=1", "display_name": "sunnysmile24", "link": "https://stackoverflow.com/users/6040792/sunnysmile24"}, "edited": false, "score": 0, "creation_date": 1457544687, "post_id": 35898498, "comment_id": 59457645, "body": "I have been struggling on it for a while T.T Thank you a lot &lt;3 !!"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1457544810, "post_id": 35898498, "comment_id": 59457733, "body": "I&#39;d prefer to see a <code>double</code> (and would upvote), but I get your point."}], "tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": false, "score": 1, "last_activity_date": 1457544437, "creation_date": 1457544437, "answer_id": 35898498, "question_id": 35898426, "link": "https://stackoverflow.com/questions/35898426/c-expected-primary-expression-before-token/35898498#35898498", "title": "C++ expected primary-expression before &#39;;&#39; token", "body": "<pre><code>percentage = (totalOccupied / TOTALSUITES) * 100% ;\n</code></pre>\n\n<p>This is not valid syntax. Change it to this.</p>\n\n<pre><code>percentage = (totalOccupied / TOTALSUITES);\n</code></pre>\n\n<p>Assuming your <code>totalOccupied</code> is not a float, you should probably do this as well:</p>\n\n<pre><code>percentage = (static_cast&lt;float&gt;(totalOccupied) / TOTALSUITES);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 1, "last_activity_date": 1457544647, "creation_date": 1457544647, "answer_id": 35898569, "question_id": 35898426, "link": "https://stackoverflow.com/questions/35898426/c-expected-primary-expression-before-token/35898569#35898569", "title": "C++ expected primary-expression before &#39;;&#39; token", "body": "<p><code>%</code> is actually the <em>modulus</em> operator in C++, requiring two arguments.</p>\n\n<p><code>100%</code> is therefore not syntactically valid.</p>\n\n<p>Assuming that you want <code>%</code> to stand-in for a \"divide by 100\" operator, the simplest thing to do in your case is to drop the <code>100%</code> from your code.</p>\n\n<p>Note that <code>totalOccupied / TOTALSUITES</code> will be carried out in <em>integer arithmetic</em> if <code>totalOccupied</code> is also an <code>int</code> or <code>unsigned</code>. Fix that by promoting one of the arguments to a <code>double</code>, or pre-multiply the term with <code>1.0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 551, "user_id": 4811421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-arrE9IQuW7o/AAAAAAAAAAI/AAAAAAAADrE/teN4DXBv_-M/photo.jpg?sz=128", "display_name": "Shreyan Mehta", "link": "https://stackoverflow.com/users/4811421/shreyan-mehta"}, "edited": false, "score": 0, "creation_date": 1457544889, "post_id": 35898618, "comment_id": 59457779, "body": "&quot;%&quot; symbol i have used in cout statement is just to display the percentage sign and has no logical effect on code"}, {"owner": {"reputation": 551, "user_id": 4811421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-arrE9IQuW7o/AAAAAAAAAAI/AAAAAAAADrE/teN4DXBv_-M/photo.jpg?sz=128", "display_name": "Shreyan Mehta", "link": "https://stackoverflow.com/users/4811421/shreyan-mehta"}, "edited": false, "score": 0, "creation_date": 1457766752, "post_id": 35898618, "comment_id": 59565538, "body": "@SunnySmile24 if my answer or any else answer u found appropriate then mark as most appropriate i.e. the tick below the upvote and downvote buttons...so that other people knew that its answer has been already answered"}], "tags": [], "owner": {"reputation": 551, "user_id": 4811421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-arrE9IQuW7o/AAAAAAAAAAI/AAAAAAAADrE/teN4DXBv_-M/photo.jpg?sz=128", "display_name": "Shreyan Mehta", "link": "https://stackoverflow.com/users/4811421/shreyan-mehta"}, "is_accepted": false, "score": 4, "last_activity_date": 1457544781, "creation_date": 1457544781, "answer_id": 35898618, "question_id": 35898426, "link": "https://stackoverflow.com/questions/35898426/c-expected-primary-expression-before-token/35898618#35898618", "title": "C++ expected primary-expression before &#39;;&#39; token", "body": "<p>% used here is the modulo operator which is a binary operator...\nso this is what you have to do...</p>\n\n<pre><code>percentage = (totalOccupied / TOTALSUITES)* 100;\n</code></pre>\n\n<p>//and then where you have cout percentage at that point...do this</p>\n\n<pre><code>cout&lt;&lt;\"the percentage of occupied suites is\"&lt;&lt;percentage&lt;&lt;\"%\";\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6040792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufIsD.jpg?s=128&g=1", "display_name": "sunnysmile24", "link": "https://stackoverflow.com/users/6040792/sunnysmile24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1457554443, "creation_date": 1457544260, "last_edit_date": 1457554443, "question_id": 35898426, "link": "https://stackoverflow.com/questions/35898426/c-expected-primary-expression-before-token", "title": "C++ expected primary-expression before &#39;;&#39; token", "body": "<p>I get an error message that states \"expected primary-expression ';' token\" and it highlights my percentage formula. I have tried to rearrange my code, but it seems the problem is not in it. </p>\n\n<pre><code>const int TOTALSUITES = 120;\n\nfor (int floor = 10; floor &lt;= 16; floor++) {\n    if ( floor != 13) {\n        do { \n            cout &lt;&lt; \"Please enter the number of suites occupied on the floor \" &lt;&lt; floor &lt;&lt; \":\";\n            cin &gt;&gt; numOccupied; \n\n            if ((numOccupied &lt;0) || (numOccupied &gt;20 )) {  \n                goodChoice = false;\n                cout &lt;&lt; \"\\n\\t\\t**ERROR\" &lt;&lt; numOccupied &lt;&lt; \" ***\\n\\n\";\n                cout &lt;&lt; \"*** Choice must be from [0-20]***\\n\";\n            }\n            else {\n                goodChoice = true;\n            }\n            totalOccupied += numOccupied; \n        } while (!goodChoice);\n    }\n }\n\npercentage = (totalOccupied / TOTALSUITES) * 100% ;\ncout &lt;&lt; endl;\ncout &lt;&lt; \"Hotel has \" &lt;&lt; TOTALSUITES &lt;&lt; endl;\ncout &lt;&lt; \"Number of occupied suites is \" &lt;&lt; totalOccupied &lt;&lt; endl;\ncout &lt;&lt; \"The percentage of occupied suites is \" &lt;&lt; percentage &lt;&lt; endl;\nsystem(\"pause\");\nreturn 0;\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1457544158, "post_id": 35898328, "comment_id": 59457252, "body": "You missed to specify the return type in the function definitions."}, {"owner": {"reputation": 1368, "user_id": 3878405, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd7fbf1b3f55fad1bb62300c97593fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Poriferous", "link": "https://stackoverflow.com/users/3878405/poriferous"}, "edited": false, "score": 0, "creation_date": 1457544179, "post_id": 35898328, "comment_id": 59457267, "body": "It&#39;s exactly that; you&#39;re missing the data types at the beginning of the function definitions."}, {"owner": {"reputation": 41, "user_id": 6040632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4b8562fb21fb9d0ebdbb0f0ea35b81e?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick.D", "link": "https://stackoverflow.com/users/6040632/yannick-d"}, "edited": false, "score": 0, "creation_date": 1457544583, "post_id": 35898328, "comment_id": 59457567, "body": "&quot;It&#39;s exactly that; you&#39;re missing the data types at the beginning of the function definitions.&quot;  Ofcourse! <i>facepalm</i> Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 37736, "user_id": 2153571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d5573368e2aa8dd2039de1c545ce2b9c?s=128&d=identicon&r=PG", "display_name": "juzzlin", "link": "https://stackoverflow.com/users/2153571/juzzlin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457544243, "creation_date": 1457544243, "answer_id": 35898420, "question_id": 35898328, "link": "https://stackoverflow.com/questions/35898328/compiler-errors-on-setter-and-getter-functions-in-qt/35898420#35898420", "title": "Compiler errors on setter and getter functions in QT", "body": "<p>In your cpp file you should have:</p>\n\n<pre><code>QList&lt;int&gt; SliderArray::GetSliderData()\n{\n    return integerList1;\n}\n\nvoid SliderArray::SetSliderData(QList&lt;int&gt; datalist)\n{\n    integerList1 = datalist;\n}\n</code></pre>\n\n<p>This has nothing to do with Qt, you're just missing the return types.</p>\n"}], "owner": {"reputation": 41, "user_id": 6040632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4b8562fb21fb9d0ebdbb0f0ea35b81e?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick.D", "link": "https://stackoverflow.com/users/6040632/yannick-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 35898420, "answer_count": 1, "score": 0, "last_activity_date": 1457544351, "creation_date": 1457544028, "last_edit_date": 1457544351, "question_id": 35898328, "link": "https://stackoverflow.com/questions/35898328/compiler-errors-on-setter-and-getter-functions-in-qt", "title": "Compiler errors on setter and getter functions in QT", "body": "<p>In the midst of making a test program I've come across a problem that has me boggled. I have googled and looked on here and haven't found an answer to the problem so thought I might just ask.</p>\n\n<p>The issue: I get compiler errors on a getter and a setter function I made in QT. Basically I need to be able to set and get a QList object.</p>\n\n<p>What am I overlooking? I think I might be doing something wrong with QList but I can't see what.</p>\n\n<p><strong>SliderArray.h</strong></p>\n\n<pre><code>#ifndef SLIDERARRAY_H\n#define SLIDERARRAY_H\n\n#include &lt;QWidget&gt;\n#include &lt;QList&gt;\n#include &lt;QSlider&gt;\n\nclass SliderArray : public QWidget\n{\n    Q_OBJECT\npublic:\n    explicit SliderArray(int sliders, QWidget *parent = 0);\n    ~SliderArray();\n\n    //getter function for slider data\n    QList&lt;int&gt; GetSliderData();\n\n    //setter function for slider data\n    void SetSliderData(QList&lt;int&gt;);\n\nprivate:\n    QList&lt;int&gt; integerList1; //Qlist Object to hold data\n</code></pre>\n\n<p><strong>SliderArray.cpp</strong></p>\n\n<pre><code>SliderArray::GetSliderData()\n{\n    return integerList1;\n}\n\nSliderArray::SetSliderData(QList&lt;int&gt; datalist)\n{\n    integerList1 = datalist;\n}\n</code></pre>\n\n<p>these are the errors I get when I try to compile:</p>\n\n<pre><code>...\\sliderarray.cpp:24: error: prototype for 'intSliderArray::GetSliderData()' does not match any in class 'SliderArray'\n SliderArray::GetSliderData()\n ^\n...\\sliderarray.h:16: error: candidate is: QList&lt;int&gt; SliderArray::GetSliderData()\n     QList&lt;int&gt; GetSliderData();\n            ^\n...\\sliderarray.cpp:29: error: prototype for 'int SliderArray::SetSliderData(QList&lt;int&gt;)' does not match any in class  'SliderArray'\n SliderArray::SetSliderData(QList&lt;int&gt; datalist)\n ^\n\n...\\sliderarray.h:19: error: candidate is: void SliderArray::SetSliderData(QList&lt;int&gt;)\n     void SetSliderData(QList&lt;int&gt;);\n          ^\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1457544427, "post_id": 35898147, "comment_id": 59457451, "body": "Where is the code for your Event class? Where in main is the event object declared?"}], "answers": [{"tags": [], "owner": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "is_accepted": true, "score": 5, "last_activity_date": 1457544470, "last_edit_date": 1457544470, "creation_date": 1457543579, "answer_id": 35898181, "question_id": 35898147, "link": "https://stackoverflow.com/questions/35898147/c-template-class-class-variable-in-method-not-available/35898181#35898181", "title": "c++ template class - class variable in method not available", "body": "<pre><code>Simulator&lt;int&gt; *simulator = new Simulator&lt;int&gt;;\nsimulator-&gt;addEvent(event);\n</code></pre>\n\n<p>You created a uninitialised pointer, so program crashes because the pointer does not point to a valid object.</p>\n\n<p>It's better if you avoid use of the pointer, because in this case (without seeing your code) I don't see any reason to use it.</p>\n"}], "owner": {"reputation": 1054, "user_id": 694501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/78587b63a95b15f12d1ee7d8ba67f3d2?s=128&d=identicon&r=PG", "display_name": "alexander-fire", "link": "https://stackoverflow.com/users/694501/alexander-fire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 35898181, "answer_count": 1, "score": 0, "last_activity_date": 1457544470, "creation_date": 1457543483, "last_edit_date": 1457544220, "question_id": 35898147, "link": "https://stackoverflow.com/questions/35898147/c-template-class-class-variable-in-method-not-available", "title": "c++ template class - class variable in method not available", "body": "<p>I\u00b4m totally new to template classes.\nI\u00b4ve created one, but I have no access to the public class variable in a method.</p>\n\n<p>Program is crashing.\nWatch in debug mode: There is no member named q. --> CRASH</p>\n\n<p>Class:</p>\n\n<pre><code>#ifndef SIMULATOR_H\n#define SIMULATOR_H\n\n#include&lt;queue&gt;\n#include&lt;Event.h&gt;\n#include &lt;functional&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\n\ntemplate&lt;class T&gt;\nclass Simulator\n{\npublic:\n    std::priority_queue&lt;Event&lt;T&gt;*&gt; q;\n    int i;\n    Simulator()\n    {\n    }\n    virtual ~Simulator()\n    {\n        //dtor\n    }\n    void addEvent(Event&lt;T&gt; *e)\n    {\n        i = 5; //Watch in debug mode: There is no member named i. --&gt; CRASH\n        this-&gt;q.push(e); //Watch in debug mode: There is no member named q. --&gt; CRASH\n    }\n};\n\n#endif // SIMULATOR_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>Simulator&lt;int&gt; *simulator;\nsimulator-&gt;addEvent(event);\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457543455, "post_id": 35898110, "comment_id": 59456745, "body": "<i>Why not declare this globally</i> because in most cases global variables are evil"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1457543477, "post_id": 35898110, "comment_id": 59456757, "body": "<code>const</code> values often get substituted by the optimizer, and the variable itself goes away completely."}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 0, "creation_date": 1457543715, "post_id": 35898110, "comment_id": 59456938, "body": "This looks like an attempt at self-documenting code by naming the constant but constricting the scope to the minimum required. Seems a little overzealous to me and could have just used a comment if it&#39;s only used in that one line, but there&#39;s nothing wrong with it."}, {"owner": {"reputation": 1368, "user_id": 3878405, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd7fbf1b3f55fad1bb62300c97593fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Poriferous", "link": "https://stackoverflow.com/users/3878405/poriferous"}, "edited": false, "score": 0, "creation_date": 1457544305, "post_id": 35898110, "comment_id": 59457350, "body": "There&#39;s no real gain in having a static const variable within a function. Might you explain why would you want to do this?"}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 1368, "user_id": 3878405, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd7fbf1b3f55fad1bb62300c97593fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Poriferous", "link": "https://stackoverflow.com/users/3878405/poriferous"}, "edited": false, "score": 0, "creation_date": 1457544694, "post_id": 35898110, "comment_id": 59457649, "body": "Hi @Poriferous, this is legacy code I&#39;m trying to read through and understand. I just don&#39;t see any reason for making it static except to confuse me."}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1457544781, "post_id": 35898110, "comment_id": 59457709, "body": "@NathanOliver agreed. But never-the-less there they are."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457543979, "post_id": 35898298, "comment_id": 59457129, "body": "&quot;There is always one instance of static variable&quot; - wrong."}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1457544225, "post_id": 35898298, "comment_id": 59457299, "body": "@SergeyA You should explain why he&#39;s wrong or point to something so that he can learn why."}, {"owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "edited": false, "score": 0, "creation_date": 1457544340, "post_id": 35898298, "comment_id": 59457381, "body": "@SegeyA, I would like to know how I can have more than one static variable. Or do you mean that before first time control flow encounter this variable, it doesn&#39;t exist?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 0, "creation_date": 1457544353, "post_id": 35898298, "comment_id": 59457388, "body": "@KurtStutsman, ok. He is wrong because his statement is not correct. There is no instance of static variable unles the function where it is defined was called at least once. Hence, <code>always one instance</code> is factually wrong."}, {"owner": {"reputation": 2949, "user_id": 5866175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1bd52e94e5a59c8dad24cea21b9e71?s=128&d=identicon&r=PG&f=1", "display_name": "Jts", "link": "https://stackoverflow.com/users/5866175/jts"}, "edited": false, "score": 0, "creation_date": 1457547999, "post_id": 35898298, "comment_id": 59459744, "body": "A variable declared static in a header file that is included by multiple source files (translation units) will be created &amp; Initialized X times because a static variable has internal linkage. Also, a static variable inside a method (member function) where the class is templated can be created and (and therefore initialized), more than once as well. IE: Class&lt;int&gt; will not share the same static variable as Class&lt;bool&gt;."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1457548716, "post_id": 35898298, "comment_id": 59460210, "body": "A <code>static const</code> variable may be inserted directly into the executable because it is a constant, not really a variable."}], "tags": [], "owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "is_accepted": false, "score": 0, "last_activity_date": 1457544602, "last_edit_date": 1457544602, "creation_date": 1457543933, "answer_id": 35898298, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35898298#35898298", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p><code>static</code> variables are literally static: they are allocated in same place as global variables. Plain local variables are allocated every time function is called on stack. If function is called <em>n</em> times recursively, there are <em>n</em> local variables. Static variable initialized only once. After it has been initialized, there is be only one instance of static variable. So <code>static const</code> local variable is used because of performance reasons. </p>\n\n<p>Variables should have as narrow scope as possible to avoid unnecessary coupling. That's why this variable is local. </p>\n"}, {"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 4, "creation_date": 1457548888, "post_id": 35898312, "comment_id": 59460309, "body": "The keyword <code>const</code> in <code>static const</code> allows the compiler to perform other optimizations, such as treating the <i>variable</i> as a numeric constant and placing directly into the code segment of the executable.  Or the compiler can place the variable into a &quot;constant&quot; memory section (such as Flash or ROM)."}, {"owner": {"reputation": 4893, "user_id": 1925997, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nfivT.jpg?s=128&g=1", "display_name": "Kishore Bandi", "link": "https://stackoverflow.com/users/1925997/kishore-bandi"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1457592252, "post_id": 35898312, "comment_id": 59478099, "body": "@ThomasMatthews I didn&#39;t know this. Thanks for the info :)"}], "tags": [], "owner": {"reputation": 4893, "user_id": 1925997, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nfivT.jpg?s=128&g=1", "display_name": "Kishore Bandi", "link": "https://stackoverflow.com/users/1925997/kishore-bandi"}, "is_accepted": false, "score": 7, "last_activity_date": 1457544293, "last_edit_date": 1495541369, "creation_date": 1457543976, "answer_id": 35898312, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35898312#35898312", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p>Static Variable gets constructed only once no matter how many times the function is called.</p>\n\n<p>So in case your defining constants inside a function and the function is called multiple times, then <strong>to reduce the cost of constructing this object every time the function is called you would make it a static variable</strong> (Mainly useful when its a constant, Else you may end up changing this value  and it soon gets messed up).</p>\n\n<p>For your second question, This is because you <strong>don't want others to be able to access the value of variable \"SOME_VAR\"</strong>. Giving a global scope means any one can access it.</p>\n\n<p>This <a href=\"https://stackoverflow.com/a/15808843/1925997\">link</a> provides a good example about how local static is sometimes useful than global static variables.</p>\n"}, {"comments": [{"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 2, "creation_date": 1457544321, "post_id": 35898412, "comment_id": 59457367, "body": "There&#39;s really not enough context here to say it has anything to do with premature optimization."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 0, "creation_date": 1457544493, "post_id": 35898412, "comment_id": 59457490, "body": "@KurtStutsman, when you are presented with the code and being asked &#39;why it is done this way&#39; you always guess. The quality of the guess depeneds on many factors. However, given the code this is the only reason I can think of why someone would use <code>static double</code> here."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1457544537, "post_id": 35898412, "comment_id": 59457527, "body": "&quot;Allegedly&quot; &lt;-- you&#39;re the only one alleging this."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1457544613, "post_id": 35898412, "comment_id": 59457588, "body": "@Barry, at least two ansswers mention optimization of the variable creation as a reason for this. Your comment is factually wrong."}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "edited": false, "score": 0, "creation_date": 1457544877, "post_id": 35898412, "comment_id": 59457770, "body": "@SergeyA I would agree with you."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1457549053, "post_id": 35898412, "comment_id": 59460409, "body": "Remember the <code>const</code> modifier.  A <code>static const</code> <i>variable</i> can be considered as a constant value and thus handled differently by the compiler.  For example, the compiler may place constants directly into the code segment of the executable or into a &quot;constants&quot; segment which can be placed into read-only memory.  Also, the <code>static const</code> allows the compiler to access the constant directly rather than copying it onto the stack."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1457549519, "post_id": 35898412, "comment_id": 59460730, "body": "@ThomasMatthews, same thing with non-static const. It will still be put into initialized rodata section."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1457544633, "last_edit_date": 1457544633, "creation_date": 1457544216, "answer_id": 35898412, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35898412#35898412", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p>This looks like an attempt at premature optimization. Allegedly someone who created the code believed that by using <code>static double</code> variable they will save on creating the variable every time the function is entered.</p>\n\n<p>However, since compilers are not morons, in practice it doesn't matter at all. Optimizing compilers will replace the variable with access to pre-allocated and initialized memory regardless, <code>static</code> or no <code>static</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 912453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ddc9c0f8c58b10375c25befefdcfdb9?s=128&d=identicon&r=PG", "display_name": "K-os", "link": "https://stackoverflow.com/users/912453/k-os"}, "is_accepted": false, "score": 2, "last_activity_date": 1457544843, "creation_date": 1457544843, "answer_id": 35898646, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35898646#35898646", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p>When the constant is used only in one single function it can make sense to declare it only in the scope of the function it is used in. Why the <code>static</code> is used here does not really make sense to me, because it will be the same in all instances of the class anyway since it is a compile time constant.</p>\n\n<p><strong>But:</strong>\nYou can also initialize the constant from parameters computed at runtime. In that case the value of the constant will be defined by the first instance of the class:</p>\n\n<pre><code>class A {\npublic:\n    A(int param)\n    {\n        static const int MY_CONST = param;\n        cerr &lt;&lt; \"param: \" &lt;&lt; param &lt;&lt; \"  const: \" &lt;&lt; MY_CONST &lt;&lt; endl;\n    };\n};\n\nint main()\n{\n    A a1(1);\n    A a2(2);\n    return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>param: 1  const: 1\nparam: 2  const: 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1457545999, "last_edit_date": 1457545999, "creation_date": 1457544869, "answer_id": 35898656, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35898656#35898656", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<blockquote>\n  <p>// Why not declare this globally?</p>\n</blockquote>\n\n<p>By only seeing an abridged code fragment, we can only guess. It's typically good practice to put your variables in the narrowest scope possible. After all, everything <em>could</em> be global - we just choose to encapsulate things. </p>\n\n<p>Perhaps the global constants are actually used in a lot of places, whereas the local constant is only used in that local function. </p>\n\n<blockquote>\n  <p>but what is gained by using static?</p>\n</blockquote>\n\n<p>Probably just consistency. If you're just used to typing your constant values like:</p>\n\n<pre><code>static const T val = ddd;\n</code></pre>\n\n<p>everywhere, why change when you do it locally? There isn't an advantage or disadvantage of <code>static</code> for creating constant numbers. </p>\n"}, {"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560411, "last_edit_date": 1457560411, "creation_date": 1457547698, "answer_id": 35899561, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member/35899561#35899561", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p>According to the OP's Code:</p>\n\n<pre><code>#includes...\n\nstatic const int GLOBAL_CONST1 = 100;\nstatic const double GLOBAL_CONST2 = 1.0;\n\nSomeClass::SomeClass()\n   :\n      theDataMember1        (),\n      theDataMember2        (),\n      ...\n{\n\n   static const double SOME_VAR = 0.01; // Why not declare this globally?\n   theDataMember1 = SomeIncludedClass(SOME_VAR);\n\n}\n</code></pre>\n\n<p>One has to take into consideration a few things:</p>\n\n<ul>\n<li>Data Storage Unit - Storage Class Specifier</li>\n<li>Data Storage Duration - Minimum Life Of Data</li>\n<li>Scope Visibility - Where The Data Unit Is Visible.</li>\n</ul>\n\n<p>Here is an excerpt:</p>\n\n<blockquote>\n  <p>Global objects and objects in a namespace scope, static data members of a class, and local static objects in functions reside static storage duration. An object with static storage duration resides in the same memory address throughout the program's execution. Every such object is constructed only once during the lifetime of the program. By default, static data is initialized to binary zeros. Static objects with a nontrivial constructor or an explicit dynamic initializer undergo a second initialization phase called dynamic initialization. </p>\n  \n  <p>The scope of an object declared static in a function is restricted to that function. Objects with static storage duration appear in the following examples:</p>\n</blockquote>\n\n<pre><code>int num=0; //global variables have static storage\nextern int x; //also global, defined in a separate translation unit\nint func()\n{\n  static int calls; //local static. initialized to 0 by default\n  x=calls;\n  return ++calls;\n}\n\nclass C\n{\nprivate:\n  static bool b;\n};\n\nnamespace NS\n{\n  std::string str; //str has static storage\n}\n</code></pre>\n\n<blockquote>\n  <p>The extern Storage Class Specifier</p>\n  \n  <p>The extern specifier can be applied only to the names of objects and to functions. The extern specifier cannot be used in the declaration of class members or function parameters. Identifiers declared extern have external linkage, meaning they are visible from all translation units of the same program.</p>\n  \n  <p>A name declared in a namespace scope without a storage-class-specifier has external linkage unless it has internal linkage because of a previous declaration and provided it is not declared const. Objects declared const and not explicitly declared extern have internal linkage, meaning they are visible only from the translation unit in which they are declared.</p>\n  \n  <p>Notice that the extern keyword is overloaded. It can also be used in explicit-instantiations of templates and in and linkage-specifications, but it is not a storage-class-specifier in such contexts.</p>\n  \n  <p>The thread_local Storage Duration</p>\n  \n  <p>The thread_local specifier indicates that the named object or reference has thread storage duration. thread_local shall be applied only to the names of objects or references of namespace scope and to the names of objects or references of block scope that also specify static as their storage class. The thread_local storage class is a new C++09 feature. It's discussed in detail here.</p>\n</blockquote>\n\n<p>that can be found at this site: <a href=\"http://www.informit.com/guides/content.aspx?g=cplusplus&amp;seqNum=30\" rel=\"nofollow\">C++ Reference Guide | Static Storage Duration</a></p>\n\n<p>The OP had stated and asked this:</p>\n\n<blockquote>\n  <p>I am working with a class whose constructor declares and initializes a static const variable in the implementation. This is not a data member of the class. I understand the use of const in this context, but what is gained by using static?</p>\n  \n  <p>I understand that the static const global constants are shared by all instances of the class. Does that also happen with the variable inside the constructor?</p>\n  \n  <p>Also, why would this not be defined at the Global scope, like the other two? That's where I would normally define my constants.</p>\n</blockquote>\n\n<p>To answer his/her questions based on the excerpt above and from my own intuition:</p>\n\n<ul>\n<li><strong>their first question:</strong>\n\"What is gained by using static?\" static data storage units have automatic initialization. They are created only once and reside in that same memory address or allocation unit. </li>\n<li><strong>their second question:</strong>\n\"Does that also happen with the variable inside the constructor?\" Yes &amp; No - Yes there is a single instance of this variable upon construction and initialization in the static storage memory unit, but no this is not visible to every instance of the class; it is only local to the Constructor of this class because of scope visibility.</li>\n<li><strong>their final question:</strong>\n\"Also, why would this not be defined at the Global scope, like the other two?\" This particular variable depending on intention of use might only be used in the initialization of another object. One of the benefits of this maybe to not having to use a stack variable, and is only visible to this class' constructor. So when this constructor is called <code>ctor</code> this <code>static const variable</code> is created and initialize only once per construction and once this class object's constructor goes out of scope this <code>static const variable</code> is no longer visible by any other function or member of this class, or any other translation unit that is outside the visibility of this scope.</li>\n</ul>\n\n<p>There is no definitive answer, however I tried to provide as much insight as I can in regards to the OPs questions, and tried to answer them to the best of my abilities. Some of the things that can vary are the intentions of the programmer and the context in which these memory allocations units are, declared, defined, initialized and then used. </p>\n"}], "owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6448, "favorite_count": 1, "accepted_answer_id": 35898656, "answer_count": 6, "score": 1, "last_activity_date": 1457560411, "creation_date": 1457543389, "question_id": 35898110, "link": "https://stackoverflow.com/questions/35898110/in-c-what-is-the-benefit-of-defining-a-static-const-variable-within-a-member", "title": "In C++, what is the benefit of defining a Static Const variable within a member function?", "body": "<p>I am working with a class whose constructor declares and initializes a static const variable in the implementation. This is not a data member of the class. I understand the use of const in this context, but what is gained by using static?</p>\n\n<p>I understand that the static const global constants are shared by all instances of the class. Does that also happen with the variable inside the constructor?</p>\n\n<p>Also, why would this not be defined at the Global scope, like the other two? That's where I would normally define my constants.</p>\n\n<p><strong>Example Code</strong>:</p>\n\n<pre><code>#includes...\n\nstatic const int GLOBAL_CONST1 = 100;\nstatic const double GLOBAL_CONST2 = 1.0;\n\nSomeClass::SomeClass()\n   :\n      theDataMember1        (),\n      theDataMember2        (),\n      ...\n{\n\n   static const double SOME_VAR = 0.01; // Why not declare this globally?\n   theDataMember1 = SomeIncludedClass(SOME_VAR);\n\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "linux", "sockets", "bind"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1457543538, "post_id": 35898079, "comment_id": 59456803, "body": "forwarding exists independently of binding. if no process has bound to a port, then that port is available for binding, even if any traffic to/from that port has been forwarded elsewhere."}, {"owner": {"reputation": 35623, "user_id": 1003575, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cceded39fb12d936211b56afc86dcb04?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMED", "link": "https://stackoverflow.com/users/1003575/mohamed"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1457543633, "post_id": 35898079, "comment_id": 59456879, "body": "@MarcB Are there a way to find out all the port used in the iptables forwarding with C?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1457543665, "post_id": 35898079, "comment_id": 59456904, "body": "iptables has to be able to read out its own internal rules table, so probably there is an api/interface to get that kind of data, somewhere."}], "answers": [{"tags": [], "owner": {"reputation": 2798, "user_id": 4478544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uPFEK.png?s=128&g=1", "display_name": "Zaboj Campula", "link": "https://stackoverflow.com/users/4478544/zaboj-campula"}, "is_accepted": false, "score": 0, "last_activity_date": 1457682364, "creation_date": 1457682364, "answer_id": 35934832, "question_id": 35898079, "link": "https://stackoverflow.com/questions/35898079/could-bind-take-a-port-that-was-configured-in-iptables-as-forwarding-port/35934832#35934832", "title": "Could bind() take a port that was configured in IPTABLES as forwarding port", "body": "<p><code>bind()</code> returns ok and it does not check any firewall rules. There are several good reasons that <code>bind()</code> ignores firewall rules.</p>\n\n<ul>\n<li>The <code>bind()</code> is much older than iptables and it is a POSIX compliant call. Checking iptables could break backward compatibility.</li>\n<li>Iptables rules might be quite complex and it is difficult to decide whether the <code>bind()</code> has a meaning. There could be complex mangling rules, rules assigned to various physical and logical interfaces...</li>\n<li>Even if one can be sure that the <code>bind()</code> to a specific port has no meaning no, rules may change in near future and the bound port may become useful.</li>\n<li>...</li>\n</ul>\n\n<p>Well it is possible to read iptables rules via C interface like <code>libiptc</code> but it is not recommended:</p>\n\n<blockquote>\n  <p>As has been pointed out numerous times on the mailinglist(s), libiptc\n  was <em>NEVER</em> meant to be used as a public interface. We don't guarantee\n  a stable interface, and it is planned to remove it in the next\n  incarnation of linux packet filtering. libiptc is way too low-layer to\n  be used reasonably anyway.</p>\n  \n  <p>We are well aware that there is a fundamental lack for such an API,\n  and we are working on improving that situation. Until then, it is\n  recommended to either use system() or open a pipe into stdin of\n  iptables-restore. The latter will give you a way better performance.</p>\n</blockquote>\n"}], "owner": {"reputation": 35623, "user_id": 1003575, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cceded39fb12d936211b56afc86dcb04?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMED", "link": "https://stackoverflow.com/users/1003575/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457682364, "creation_date": 1457543310, "last_edit_date": 1457543883, "question_id": 35898079, "link": "https://stackoverflow.com/questions/35898079/could-bind-take-a-port-that-was-configured-in-iptables-as-forwarding-port", "title": "Could bind() take a port that was configured in IPTABLES as forwarding port", "body": "<p>I have a gateway with linux firmware based system.</p>\n\n<p>I have an <code>iptables</code> rule which allow to forward the port 8080 to a local host.</p>\n\n<p>I m developing an application for this linux gateway.\nthis application will choose a random port between 8000 and 8100. And then it will make <code>bind()</code> on this random port.</p>\n\n<p>Does <code>bind()</code> return OK if the random port is 8080. and then the application could start a listening server on the port 8080?</p>\n\n<p>I do not want to make conflict with <code>iptables</code> rules.\nSo if the <code>bind()</code> return NOK then I can retry to choose another random port and then retry the bind.</p>\n"}]