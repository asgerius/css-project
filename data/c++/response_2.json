[{"tags": ["c++", "linux", "memory"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1421884895, "post_id": 28079119, "comment_id": 44537001, "body": "Why are you using <code>malloc()</code> instead of <code>new()</code>?"}, {"owner": {"reputation": 41588, "user_id": 951757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7964274fec16b8a205365a1d44548575?s=128&d=identicon&r=PG", "display_name": "billz", "link": "https://stackoverflow.com/users/951757/billz"}, "edited": false, "score": 0, "creation_date": 1421884986, "post_id": 28079119, "comment_id": 44537032, "body": "<code>for (int i=0; i&lt;sz; i += 4096)  data[i] = 1;</code> you should make sure your index is in range"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1421885008, "post_id": 28079119, "comment_id": 44537036, "body": "Presumably because setting up a shell and then getting it to invoke <code>ps</code> uses enough memory that the system pages out some of your newly-created pages. How much RAM do you have?"}, {"owner": {"reputation": 1079, "user_id": 773606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46450075026d77d935353ebb2ed23bf2?s=128&d=identicon&r=PG", "display_name": "frp", "link": "https://stackoverflow.com/users/773606/frp"}, "edited": false, "score": 0, "creation_date": 1421885303, "post_id": 28079119, "comment_id": 44537133, "body": "I have 2 Gb, and judging from the fact that in most of runs almost all page faults are minor, swapping is not the cause (if it was, I&#39;d get mostly major page faults)."}, {"owner": {"reputation": 1079, "user_id": 773606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46450075026d77d935353ebb2ed23bf2?s=128&d=identicon&r=PG", "display_name": "frp", "link": "https://stackoverflow.com/users/773606/frp"}, "reply_to_user": {"reputation": 41588, "user_id": 951757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7964274fec16b8a205365a1d44548575?s=128&d=identicon&r=PG", "display_name": "billz", "link": "https://stackoverflow.com/users/951757/billz"}, "edited": false, "score": 0, "creation_date": 1421885339, "post_id": 28079119, "comment_id": 44537140, "body": "@billz, index is in range."}, {"owner": {"reputation": 1079, "user_id": 773606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46450075026d77d935353ebb2ed23bf2?s=128&d=identicon&r=PG", "display_name": "frp", "link": "https://stackoverflow.com/users/773606/frp"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1421885566, "post_id": 28079119, "comment_id": 44537202, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5, using new instead of malloc doesn&#39;t change the results."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1421885750, "post_id": 28079119, "comment_id": 44537258, "body": "@frp <i>&quot;doesn&#39;t change the results. &quot;</i>  I don&#39;t doubt so. But for c++ code you should use <code>new()</code>, or even better a <code>std::vector&lt;char&gt;</code>."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 1, "creation_date": 1421889436, "post_id": 28079119, "comment_id": 44538335, "body": "@frp: By the way, on linux you can read process statistics directly from <code>&#47;proc&#47;self&#47;stat</code>; <code>minflt</code> and <code>majflt</code> are (currently) the 10th and 12th elements in the returned line (which is a series of space-separated fields, intended to be read with <code>scanf</code>). See <code>man 5 proc</code> for the list of fields."}], "answers": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": true, "score": 3, "last_activity_date": 1421888675, "last_edit_date": 1421888675, "creation_date": 1421887637, "answer_id": 28079587, "question_id": 28079119, "link": "https://stackoverflow.com/questions/28079119/why-does-this-code-cause-page-faults/28079587#28079587", "title": "Why does this code cause page faults?", "body": "<p>The library function <code>system</code> does roughly the following:</p>\n\n<ol>\n<li>Fork, creating a new process with a duplicate of the memory image.</li>\n<li>In the child, <code>exec</code> <code>/bin/sh</code> passing it the command-line option <code>-c</code> and the indicated command, replacing the memory image of the new process with a newly-loaded /bin/sh.</li>\n<li>In the parent (the original process), wait for the child to finish, and return its status code.</li>\n</ol>\n\n<p>When a process executes <code>fork</code>, the system wants to avoid copying the entire memory image in order to duplicate it. So it just duplicates the page tables, and marks all the pages as \"copy-on-write\" which requires setting them to read-only so that writes can be detected.</p>\n\n<p>The subsequent <code>exec</code> will mark the pages as unshared, but it probably will not cancel the setting of the pages as read-only so that subsequent writes to the pages will still trigger a minor page fault, although the handler will do nothing since the page is no longer shared.</p>\n\n<p>It is not actually guaranteed that the <code>exec</code> will happen before the second write loop starts. Your machine most likely has more than one core, so it is quite possible for both processes to be simultaneously active. Since the <code>exec</code> might take a while to set up, it is quite possible that some of the write loop will happen even before the <code>exec</code>, which is to say before there was any clue that the copy-on-write was unnecessary.</p>\n"}], "owner": {"reputation": 1079, "user_id": 773606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46450075026d77d935353ebb2ed23bf2?s=128&d=identicon&r=PG", "display_name": "frp", "link": "https://stackoverflow.com/users/773606/frp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "accepted_answer_id": 28079587, "answer_count": 1, "score": 0, "last_activity_date": 1421888675, "creation_date": 1421884647, "last_edit_date": 1421884954, "question_id": 28079119, "link": "https://stackoverflow.com/questions/28079119/why-does-this-code-cause-page-faults", "title": "Why does this code cause page faults?", "body": "<p>I allocate 512mb of memory, and then I modify every 4096th byte (this should cause minor page fault for each modification, and that's what I actually get). But then I repeat the same loop, and it again causes minor page fault for each request. My question is, why?</p>\n\n<p>Output looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6jBrJ.png\" alt=\"enter image description here\"></p>\n\n<p>However, if I remove calling ps from my program, the time needed to execute second loop is much lower, like 0.04s. Why?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;sstream&gt;\n#include &lt;unistd.h&gt;\nusing namespace std;\n\nconst int sz = 512 * 1024 * 1024;\n\nint main()\n{\n    char * data = (char *)malloc(sz);\n    if (data == 0) cout &lt;&lt; \"alloc fail\";\n    stringstream cmd;\n    cmd &lt;&lt; \"ps -o min_flt,maj_flt \" &lt;&lt; getpid();\n    system(cmd.str().c_str());\n    cout &lt;&lt; \"start\\n\";\n    clock_t start = clock();\n    for (int i=0; i&lt;sz; i += 4096)\n        data[i] = 1;\n    clock_t end = clock();\n    double time1 = double(end-start) / CLOCKS_PER_SEC;\n\n    system(cmd.str().c_str());\n\n    start = clock();\n    for (int i = 0; i &lt; sz; i += 4096)\n        data[i] = 1;\n    end = clock();\n    double time2 = double(end-start) / CLOCKS_PER_SEC;\n\n    system(cmd.str().c_str());\n\n    cout &lt;&lt; time1 &lt;&lt; \" \" &lt;&lt; time2 &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "image", "itk"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 2471858, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e0ae3020c404777735db779a019df1f0?s=128&d=identicon&r=PG", "display_name": "sara_123", "link": "https://stackoverflow.com/users/2471858/sara-123"}, "edited": false, "score": 0, "creation_date": 1422472143, "post_id": 28158850, "comment_id": 44766990, "body": "Thank you for your answer :) I had this idea of converting but then I thought, that code comes with that given sample image (which is in png format) so it should work!"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1423543136, "post_id": 28158850, "comment_id": 45181160, "body": "<b><i>DICOM (.dic : failed on my PC)</i></b> The most common extension for dicom files is .dcm."}], "owner": {"reputation": 8727, "user_id": 2999346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dQ1wB.png?s=128&g=1", "display_name": "francis", "link": "https://stackoverflow.com/users/2999346/francis"}, "is_accepted": true, "score": 4, "last_activity_date": 1422306686, "last_edit_date": 1495542216, "creation_date": 1422306686, "answer_id": 28158850, "question_id": 28079026, "link": "https://stackoverflow.com/questions/28079026/itk-could-not-create-io-object/28158850#28158850", "title": "ITK: Could not create IO object", "body": "<p>The pixel type of the output file in <a href=\"http://itk.org/ITKExamples/src/Filtering/ImageGradient/ComputeGradientMagnitudeRecursiveGaussian/Documentation.html\" rel=\"nofollow noreferrer\">this example of ITK</a> is <code>float</code>. And write an image of <code>float</code> as a PNG image is not possible.</p>\n\n<p>A list of supported file format and corresponding data type is given on <a href=\"http://www.itk.org/Wiki/ITK/File_Formats\" rel=\"nofollow noreferrer\">the wiki of ITK</a>.</p>\n\n<p>To save this image of <code>float</code>, here are formats that are expected to work :</p>\n\n<ul>\n<li>Analyze (.img)</li>\n<li>DICOM (.dic : failed on my PC)</li>\n<li>GIPL (.gipl) </li>\n<li>MetaImage (mhd) (out.mhd+out.raw) </li>\n<li>Nrrd (.nhdr, .nrrd)</li>\n<li>Stimulate (.spr)</li>\n<li>VTK (.vtk)</li>\n</ul>\n\n<p>The VTK file format works well and may be opened by the paraview software.</p>\n\n<p>To use a PNG format, the image should be casted to <code>unsigned char</code> type. It may be performed by the <a href=\"http://www.itk.org/Doxygen/html/classitk_1_1CastImageFilter.html\" rel=\"nofollow noreferrer\"><code>CastImageFilter()</code></a>. See this <a href=\"http://www.itk.org/Wiki/ITK/Examples/ImageProcessing/CastImageFilter\" rel=\"nofollow noreferrer\">example</a>. Another solution is to use the <a href=\"http://www.itk.org/Doxygen/html/classitk_1_1RescaleIntensityImageFilter.html\" rel=\"nofollow noreferrer\"><code>RescaleIntensityImageFilter()</code></a>. See this <a href=\"http://www.itk.org/Wiki/ITK/Examples/ImageProcessing/RescaleIntensityImageFilter\" rel=\"nofollow noreferrer\">example</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27768662/is-there-any-way-to-convert-an-eigenmatrix-back-to-itkimage/27786763#27786763\">This question and its answer</a> (which happens to be mine) explains how to convert a <code>float</code> image type to a \u00f9nsigned char` image type and save it as PNG.</p>\n\n<pre><code>typedef itk::RescaleIntensityImageFilter&lt; FloatImageType, UCharImageType &gt; RescaleFilterType;\nRescaleFilterType::Pointer rescaleFilter = RescaleFilterType::New();\n\nrescaleFilter -&gt;SetInput(importFilter-&gt;GetOutput());\nrescaleFilter-&gt;SetOutputMinimum(0);\nrescaleFilter-&gt;SetOutputMaximum(255);\n\ntypedef itk::ImageFileWriter&lt;  UCharImageType  &gt; WriterType;\nWriterType::Pointer writer = WriterType::New();\n\nwriter-&gt;SetFileName( \"output.png\" );\nwriter-&gt;SetInput(rescaleFilter-&gt;GetOutput() );\nwriter-&gt;Update();\n</code></pre>\n\n<p>Finally, your last question : why we only update the writer ? As the writer is updated, it will fist check if its entries are up to date. If it is not the case, it will call <code>filter-&gt;Update()</code>, and so on. </p>\n"}], "owner": {"reputation": 423, "user_id": 2471858, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e0ae3020c404777735db779a019df1f0?s=128&d=identicon&r=PG", "display_name": "sara_123", "link": "https://stackoverflow.com/users/2471858/sara-123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2291, "favorite_count": 1, "accepted_answer_id": 28158850, "answer_count": 1, "score": 1, "last_activity_date": 1422306686, "creation_date": 1421884148, "question_id": 28079026, "link": "https://stackoverflow.com/questions/28079026/itk-could-not-create-io-object", "title": "ITK: Could not create IO object", "body": "<p>I am trying to calculate the gradient of an image. I tried <a href=\"http://itk.org/ITKExamples/src/Filtering/ImageGradient/ComputeGradientMagnitudeRecursiveGaussian/Documentation.html\" rel=\"nofollow\">this code</a> on the sample image given (Gourds6.png). </p>\n\n<p>I used <code>cmake .</code> to create the CMakeFiles and then <code>make</code>. Everything works fine and the executable file is created. Now when I run the code using command <code>./computeGradient Gourds6.png out.png 1.5</code>, it complains that:</p>\n\n<pre><code>Error: \nitk::ImageFileWriterException (0x1446b40)\nLocation: \"void itk::ImageFileWriter&lt;TInputImage&gt;::Write() [with TInputImage = itk::Image&lt;float, 2u&gt;]\" \nFile: /usr/local/include/ITK-4.3/itkImageFileWriter.hxx\nLine: 152\nDescription:  Could not create IO object for file out.png\n  Tried to create one of the following:\n  You probably failed to set a file suffix, or\n    set the suffix to an unsupported type.\n</code></pre>\n\n<p>I haven't done any change to this code. It should work. I don't know what is wrong with it :( Do you have any idea?</p>\n\n<p>Also, why we don't need to update the reader to read the image? Why we only update the writer? </p>\n\n<p>I appreciate for any help!</p>\n"}, {"tags": ["c++", "c", "linux", "system"], "comments": [{"owner": {"reputation": 4932, "user_id": 4358570, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/U40Df.jpg?s=128&g=1", "display_name": "Innocent Bystander", "link": "https://stackoverflow.com/users/4358570/innocent-bystander"}, "edited": false, "score": 1, "creation_date": 1421884143, "post_id": 28078931, "comment_id": 44536791, "body": "Might this be your answer? <a href=\"https://stackoverflow.com/questions/7134590/how-to-test-if-an-address-is-readable-in-linux-userspace-app\" title=\"how to test if an address is readable in linux userspace app\">stackoverflow.com/questions/7134590/&hellip;</a>"}, {"owner": {"reputation": 15720, "user_id": 19719, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3355303796cad8b9ea85993abc9030aa?s=128&d=identicon&r=PG&f=1", "display_name": "indiv", "link": "https://stackoverflow.com/users/19719/indiv"}, "edited": false, "score": 1, "creation_date": 1421884264, "post_id": 28078931, "comment_id": 44536825, "body": "You could also just try to access it and catch the segfault:  <a href=\"http://stackoverflow.com/questions/2350489/how-to-catch-segmentation-fault-in-linux\" title=\"how to catch segmentation fault in linux\">stackoverflow.com/questions/2350489/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3076, "user_id": 2112731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0cd41c5afcd4701fbb21ca081bcb0c?s=128&d=identicon&r=PG", "display_name": "DoxyLover", "link": "https://stackoverflow.com/users/2112731/doxylover"}, "edited": false, "score": 0, "creation_date": 1421903644, "post_id": 28079041, "comment_id": 44541844, "body": "@ruemorgue - one example: an address on the stack could be a valid local variable of the calling function or this function&#39;s return address from the call. In the latter case, your program is likely to fail when the function returns."}], "owner": {"reputation": 133646, "user_id": 1119701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4bef9fe12d776629b204d4e650c2e0?s=128&d=identicon&r=PG", "display_name": "ouah", "link": "https://stackoverflow.com/users/1119701/ouah"}, "is_accepted": false, "score": 6, "last_activity_date": 1421884229, "creation_date": 1421884229, "answer_id": 28079041, "question_id": 28078931, "link": "https://stackoverflow.com/questions/28078931/how-can-i-check-the-validity-of-an-address-before-accessing-the-address-in-a-lin/28079041#28079041", "title": "How can I check the validity of an address before accessing the address in a Linux environment program?linux?", "body": "<p>You just cannot. The best you can do is to check a pointer value is not a null pointer, which C terminology wise is not an invalid pointer. Even if your pointer is inside an accessible segment, it does not mean it is a valid pointer and that you will not get an undefined behavior.</p>\n"}], "owner": {"reputation": 29, "user_id": 4480440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da1f9abe6e1483d93179cb826ac333b3?s=128&d=identicon&r=PG&f=1", "display_name": "ruemorgue", "link": "https://stackoverflow.com/users/4480440/ruemorgue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513435385, "creation_date": 1421883554, "last_edit_date": 1513435385, "question_id": 28078931, "link": "https://stackoverflow.com/questions/28078931/how-can-i-check-the-validity-of-an-address-before-accessing-the-address-in-a-lin", "title": "How can I check the validity of an address before accessing the address in a Linux environment program?linux?", "body": "<p>I would like to check the validity of an address or pointer before I read or write to an address in a Linux executable. I'm using either C or C++. My goal is to avoid segment violation type errors if an API function is passed an invalid pointer.</p>\n"}, {"tags": ["c++", "qt", "opengl", "transparency"], "comments": [{"owner": {"reputation": 2046, "user_id": 3829741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17d134a7bfba2d86b9777d674344758d?s=128&d=identicon&r=PG&f=1", "display_name": "dari", "link": "https://stackoverflow.com/users/3829741/dari"}, "edited": false, "score": 1, "creation_date": 1421885380, "post_id": 28078930, "comment_id": 44537151, "body": "Try disabling the depth test or setting a depth mask."}, {"owner": {"reputation": 827, "user_id": 2896746, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb750e2a097cfd14e93f812dfbb7a5f0?s=128&d=identicon&r=PG", "display_name": "Yattabyte", "link": "https://stackoverflow.com/users/2896746/yattabyte"}, "reply_to_user": {"reputation": 2046, "user_id": 3829741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17d134a7bfba2d86b9777d674344758d?s=128&d=identicon&r=PG&f=1", "display_name": "dari", "link": "https://stackoverflow.com/users/3829741/dari"}, "edited": false, "score": 0, "creation_date": 1421886120, "post_id": 28078930, "comment_id": 44537361, "body": "Yep, that was the issue. If you want to, reply with that as an answer instead of a comment and Ill check it off and accept it."}], "answers": [{"owner": {"reputation": 2046, "user_id": 3829741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17d134a7bfba2d86b9777d674344758d?s=128&d=identicon&r=PG&f=1", "display_name": "dari", "link": "https://stackoverflow.com/users/3829741/dari"}, "is_accepted": true, "score": 3, "last_activity_date": 1421886921, "creation_date": 1421886921, "answer_id": 28079467, "question_id": 28078930, "link": "https://stackoverflow.com/questions/28078930/qt-opengl-texture-transparency-issue/28079467#28079467", "title": "Qt OpenGL - Texture Transparency issue", "body": "<p>Even though blending is enabled new geometry will perform a depth test to check if the current fragment is visible <strong>and</strong> populate the depth buffer with new values.</p>\n\n<p>A simple way to fix it is to disable depth testing completly with <code>glDisable(GL_DEPTH_TEST);</code>, but the better way is the following:</p>\n\n<ol>\n<li>set <code>glDepthMask(GL_TRUE);</code></li>\n<li>Draw Opaque objekts </li>\n<li>set <code>glDepthMask(GL_FALSE);</code></li>\n<li>Draw transparent objekts</li>\n</ol>\n\n<p><code>glDepthMask(GL_FALSE);</code> will disable the writing to the depth buffer while the depth test itself is still enabled. As a result opaque objects will occlude transparent objects only if they are really in front of them.</p>\n"}], "owner": {"reputation": 827, "user_id": 2896746, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bb750e2a097cfd14e93f812dfbb7a5f0?s=128&d=identicon&r=PG", "display_name": "Yattabyte", "link": "https://stackoverflow.com/users/2896746/yattabyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 1, "accepted_answer_id": 28079467, "answer_count": 1, "score": 0, "last_activity_date": 1421886921, "creation_date": 1421883550, "question_id": 28078930, "link": "https://stackoverflow.com/questions/28078930/qt-opengl-texture-transparency-issue", "title": "Qt OpenGL - Texture Transparency issue", "body": "<p>I'm currently trying to learn OpenGL, and I'm having trouble with texture transparency.</p>\n\n<p>I have 2 planes/rectangles that are textured, the first is closest to the camera, the second is further back, behind the first one. Both are textured with an image that has a background at 50% opacity.</p>\n\n<p>I should be able to see the texture of the second plane behind the first since the first is transparent to some degree - but I don't. The images I'm using do in fact appear on their own (can see them if I rotate the camera), and they have words on them (which I would expect to kind of bleed through the semi-transparent background of the image in front).</p>\n\n<p>Is there a way to correct this?\nHere is my initialization and paintGL methods (they are probably horribly optimized)</p>\n\n<pre><code>void oglWidget::initializeGL()\n{\n    glEnable(GL_DEPTH_TEST);\n    glEnable(GL_BLEND);\n    glEnable(GL_CULL_FACE);\n\n    qglClearColor(QColor(Qt::white));\n\n    shaderProgram.addShaderFromSourceFile(QGLShader::Vertex, \":/vertexShader.vsh\");\n    shaderProgram.addShaderFromSourceFile(QGLShader::Fragment, \":/fragmentShader.fsh\");\n    shaderProgram.link();\n\n    //    vertices[1] &lt;&lt; QVector3D(-xAmt, -1,  0) &lt;&lt; QVector3D( xAmt, -1,  0) &lt;&lt; QVector3D( xAmt,  1,  0) // Front\n    //            &lt;&lt; QVector3D( xAmt, 1,  0) &lt;&lt; QVector3D(-xAmt,  1,  0) &lt;&lt; QVector3D(-xAmt, -1,  0);\n\n    float xAmt = 16.00/9.00;\n    vertices &lt;&lt; QVector3D(-xAmt, -1,  0) &lt;&lt; QVector3D( xAmt, -1,  0) &lt;&lt; QVector3D( xAmt,  1,  0) // Midground\n             /*&lt;&lt; QVector3D( xAmt, 1,  0) &lt;&lt; QVector3D(-xAmt,  1,  0) &lt;&lt; QVector3D(-xAmt, -1,  0)*/\n             &lt;&lt; QVector3D(-xAmt, -1,  -1) &lt;&lt; QVector3D( xAmt, -1,  -1) &lt;&lt; QVector3D( xAmt,  1,  -1) // Background\n             &lt;&lt; QVector3D( xAmt, 1,  -1) &lt;&lt; QVector3D(-xAmt,  1,  -1) &lt;&lt; QVector3D(-xAmt, -1,  -1);\n\n\n    textureCoordinates &lt;&lt; QVector2D(0, 0) &lt;&lt; QVector2D(1, 0) &lt;&lt; QVector2D(1, 1) // Front\n                       &lt;&lt; QVector2D(1, 1) &lt;&lt; QVector2D(0, 1) &lt;&lt; QVector2D(0, 0)\n                       &lt;&lt; QVector2D(0, 0) &lt;&lt; QVector2D(1, 0) &lt;&lt; QVector2D(1, 1) // Front\n                       &lt;&lt; QVector2D(1, 1) &lt;&lt; QVector2D(0, 1) &lt;&lt; QVector2D(0, 0);\n}\n\nvoid oglWidget::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    QMatrix4x4 mMatrix;\n    QMatrix4x4 vMatrix;\n\n    QMatrix4x4 cameraTransformation;\n    cameraTransformation.rotate(alpha, 0, 1, 0);\n    cameraTransformation.rotate(beta, 1, 0, 0);\n\n    QVector3D cameraPosition = cameraTransformation * QVector3D(0, 0, distance);\n    QVector3D cameraUpDirection = cameraTransformation * QVector3D(0, 1, 0);\n\n    vMatrix.lookAt(cameraPosition, QVector3D(0, 0, 0), cameraUpDirection);\n    shaderProgram.bind();\n    shaderProgram.setUniformValue(\"mvpMatrix\", pMatrix * vMatrix * mMatrix);\n\n\n    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\n    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR );\n    glTexParameterf( GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR );\n    glTexEnvf( GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);\n    glEnable(GL_BLEND);\n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n\n    shaderProgram.setUniformValue(\"texture\", 0);\n    shaderProgram.setAttributeArray(\"vertex\", vertices.constData());\n    shaderProgram.enableAttributeArray(\"vertex\");\n    shaderProgram.setAttributeArray(\"textureCoordinate\", textureCoordinates.constData());\n    shaderProgram.enableAttributeArray(\"textureCoordinate\");\n    glGenTextures(0, &amp;texture);    glBindTexture(GL_TEXTURE_2D, texture);\n\n    QImage tempTexture = QGLWidget::convertToGLFormat(QImage(ImgManager::getImg(\"/Textures/Editor/m.png\")));\n    glTexImage2D( GL_TEXTURE_2D, 0, GL_RGBA, tempTexture.width(), tempTexture.height(), 0, GL_RGBA, GL_UNSIGNED_BYTE, tempTexture.bits() );\n    glDrawArrays(GL_TRIANGLES, 0, vertices.size());\n\n    shaderProgram.release();\n}\n</code></pre>\n"}, {"tags": ["java", "c++", "rounding", "bigdecimal"], "answers": [{"owner": {"reputation": 20303, "user_id": 2333222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6705fd44c36d033f0ceae77259913e74?s=128&d=identicon&r=PG", "display_name": "SubOptimal", "link": "https://stackoverflow.com/users/2333222/suboptimal"}, "is_accepted": false, "score": 2, "last_activity_date": 1421917455, "last_edit_date": 1421917455, "creation_date": 1421883442, "answer_id": 28078906, "question_id": 28078794, "link": "https://stackoverflow.com/questions/28078794/round-bigdecimal-to-match-c-sprintf/28078906#28078906", "title": "Round BigDecimal to match C++ sprintf", "body": "<p>I have removed my solution as it was wrong. But I will put an explanation for the not so obvious behaviour of the C++ rounding.</p>\n\n<p>using this C++ code reveal the internal value of the doubles.</p>\n\n<pre><code>int main() {\n    char result[20];\n    double dArr [6] = {5.05, 5.15, 5.25, 5.35, 5.45, 5.55};\n    for(int i = 0; i&lt; 6; i++) {\n        sprintf(result, \"%3.16f  %3.1lf\", dArr[i], dArr[i]);\n        cout &lt;&lt; result &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The result shows that the rounding is always half up.</p>\n\n<pre><code>5.0499999999999998  5.0\n5.1500000000000004  5.2\n5.2500000000000000  5.3\n5.3499999999999996  5.3\n5.4500000000000002  5.5\n5.5499999999999998  5.5\n</code></pre>\n\n<p>My initial suggestion amended</p>\n\n<pre><code>double[] dArr = {5.05, 5.15, 5.25, 5.35, 5.45, 5.55};\nDecimalFormat df = new DecimalFormat(\"###.0\");\nfor (double d : dArr) {\n    System.out.printf(\"%.16f %s%n\", d, df.format(d));\n}\n</code></pre>\n\n<p>Shows that in Java the given double values are precice and the rounding mode is also half to even.</p>\n\n<pre><code>5.0500000000000000 5.0\n5.1500000000000000 5.2\n5.2500000000000000 5.2\n5.3500000000000000 5.4\n5.4500000000000000 5.4\n5.5500000000000000 5.6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20303, "user_id": 2333222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6705fd44c36d033f0ceae77259913e74?s=128&d=identicon&r=PG", "display_name": "SubOptimal", "link": "https://stackoverflow.com/users/2333222/suboptimal"}, "edited": false, "score": 0, "creation_date": 1421917585, "post_id": 28078975, "comment_id": 44547265, "body": "The conversion will be done always with &quot;round half up&quot; see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Formatter.html</a>"}], "owner": {"reputation": 5421, "user_id": 1594449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688d73160b862fef962b8981a8ae620c?s=128&d=identicon&r=PG", "display_name": "gknicker", "link": "https://stackoverflow.com/users/1594449/gknicker"}, "is_accepted": false, "score": 0, "last_activity_date": 1421883800, "creation_date": 1421883800, "answer_id": 28078975, "question_id": 28078794, "link": "https://stackoverflow.com/questions/28078794/round-bigdecimal-to-match-c-sprintf/28078975#28078975", "title": "Round BigDecimal to match C++ sprintf", "body": "<p>Equivalent in Java:</p>\n\n<pre><code>System.out.printf(\"%3.1f\", 5.05); // 5.1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20303, "user_id": 2333222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6705fd44c36d033f0ceae77259913e74?s=128&d=identicon&r=PG", "display_name": "SubOptimal", "link": "https://stackoverflow.com/users/2333222/suboptimal"}, "edited": false, "score": 0, "creation_date": 1421917494, "post_id": 28078993, "comment_id": 44547198, "body": "I voted for your answer, after reviewing my own. ;-)"}, {"owner": {"reputation": 358, "user_id": 2026214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb9ed645b754dde2c72a18dcf69587b?s=128&d=identicon&r=PG", "display_name": "Jama Djafarov", "link": "https://stackoverflow.com/users/2026214/jama-djafarov"}, "edited": false, "score": 0, "creation_date": 1421941237, "post_id": 28078993, "comment_id": 44561799, "body": "Thank you a lot.  My understanding that ROUND_HALF_EVEN should round to the closest even number. Therefore, rounded(5.35) == 5.4; &amp;&amp; rounded(5.45) == 5.4"}, {"owner": {"reputation": 358, "user_id": 2026214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb9ed645b754dde2c72a18dcf69587b?s=128&d=identicon&r=PG", "display_name": "Jama Djafarov", "link": "https://stackoverflow.com/users/2026214/jama-djafarov"}, "edited": false, "score": 0, "creation_date": 1421950985, "post_id": 28078993, "comment_id": 44567775, "body": "Basically the difference is between:  BigDecimal(5.55) == 5.49999999... which rounds to 5.5;  And  BigDecimal(&quot;5.55&quot;) == 5.55 and rounds to 5.6"}, {"owner": {"reputation": 6909, "user_id": 4454454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UgUs.jpg?s=128&g=1", "display_name": "MaxZoom", "link": "https://stackoverflow.com/users/4454454/maxzoom"}, "edited": false, "score": 0, "creation_date": 1421961420, "post_id": 28078993, "comment_id": 44573456, "body": "How do you like Java classes compering to C++?"}, {"owner": {"reputation": 358, "user_id": 2026214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb9ed645b754dde2c72a18dcf69587b?s=128&d=identicon&r=PG", "display_name": "Jama Djafarov", "link": "https://stackoverflow.com/users/2026214/jama-djafarov"}, "edited": false, "score": 0, "creation_date": 1421965608, "post_id": 28078993, "comment_id": 44575295, "body": "java 100 times easier &amp; cleaner."}], "owner": {"reputation": 6909, "user_id": 4454454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UgUs.jpg?s=128&g=1", "display_name": "MaxZoom", "link": "https://stackoverflow.com/users/4454454/maxzoom"}, "is_accepted": false, "score": 5, "last_activity_date": 1421884304, "last_edit_date": 1421884304, "creation_date": 1421883931, "answer_id": 28078993, "question_id": 28078794, "link": "https://stackoverflow.com/questions/28078794/round-bigdecimal-to-match-c-sprintf/28078993#28078993", "title": "Round BigDecimal to match C++ sprintf", "body": "<p>If you would like to use your own rounding:</p>\n\n<pre><code>import java.math.BigDecimal;\n\npublic class BigDecimalFormat\n{\n   private static int ROUNDING_MODE = BigDecimal.ROUND_HALF_EVEN;\n   private static int DECIMALS = 1;\n\n  public static void main(String[] args) {\n      double[] dArr = {5.05, 5.15, 5.25, 5.35, 5.45, 5.55};\n      for (double d : dArr)\n        System.out.println(rounded(new BigDecimal(d)));\n  }   \n\n   public static BigDecimal rounded(BigDecimal number){\n    return number.setScale(DECIMALS, ROUNDING_MODE);\n  }\n}\n</code></pre>\n\n<p>It looks like you want to format a currency number:</p>\n\n<pre><code>public static String currencyFormat(BigDecimal n) {\n  return NumberFormat.getCurrencyInstance().format(n);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1421886040, "post_id": 28079158, "comment_id": 44537339, "body": "The question clearly mentions <code>BigDecimal.</code> You don&#39;t."}, {"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1421886137, "post_id": 28079158, "comment_id": 44537369, "body": "@EJP I would assume once you know how to do this, you would know how to do it with big decimal"}, {"owner": {"reputation": 20303, "user_id": 2333222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6705fd44c36d033f0ceae77259913e74?s=128&d=identicon&r=PG", "display_name": "SubOptimal", "link": "https://stackoverflow.com/users/2333222/suboptimal"}, "edited": false, "score": 0, "creation_date": 1421917639, "post_id": 28079158, "comment_id": 44547304, "body": "The conversion will be done always with &quot;round half up&quot; see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Formatter.html</a>"}], "owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "is_accepted": false, "score": -1, "last_activity_date": 1421885148, "last_edit_date": 1421885148, "creation_date": 1421884799, "answer_id": 28079158, "question_id": 28078794, "link": "https://stackoverflow.com/questions/28078794/round-bigdecimal-to-match-c-sprintf/28079158#28079158", "title": "Round BigDecimal to match C++ sprintf", "body": "<pre><code>System.out.printf(\"%.1f\", insertFloatValueHere);\n</code></pre>\n\n<p>automatically rounds to the nearest tenth</p>\n\n<p>if you want to change the number of decimal places it rounds to:</p>\n\n<p><code>\"%.1f\"</code> rounds to one place\n<code>\"%.2f\"</code> rounds to two places\n<code>\"%.3f\"</code> rounds to three places... etc.</p>\n\n<pre><code>System.out.printf(\"%.1f\", dArr[i]);\n</code></pre>\n\n<p>replaces:</p>\n\n<pre><code>sprintf(result,\"%3.1lf\",dArr[i]);\ncout &lt;&lt; result &lt;&lt; endl;\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 2026214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb9ed645b754dde2c72a18dcf69587b?s=128&d=identicon&r=PG", "display_name": "Jama Djafarov", "link": "https://stackoverflow.com/users/2026214/jama-djafarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1421949079, "creation_date": 1421882834, "last_edit_date": 1421949079, "question_id": 28078794, "link": "https://stackoverflow.com/questions/28078794/round-bigdecimal-to-match-c-sprintf", "title": "Round BigDecimal to match C++ sprintf", "body": "<p>I am migrating a C++ app to Java. How can I match the rounding behaviour of sprintf?</p>\n\n<pre><code>int main() {\n    char result[20];\n    double dArr [6] = {5.05, 5.15, 5.25, 5.35, 5.45, 5.55};\n\n    for(int i; i&lt; 6; i++) {\n        sprintf(result,\"%3.1lf\",dArr[i]);\n        cout &lt;&lt; result &lt;&lt; endl;\n    }\n    return 0;\n}\n\n\nVALUE      C++ sprintf Rounding: \n---------  ----------------------------------------\n5.05    -   5.0 (rounding: half_down or half_even?)\n5.15    -   5.2 (rounding: half_up   or half_even?)\n5.25    -   5.2 (rounding: half_down or half_even?)\n5.35    -   5.3 (rounding: half_down or half_odd ?)\n5.45    -   5.5 (rounding: half_up   or half_odd ?)\n5.55    -   5.5 (rounding: half_down or half_odd ?)\n</code></pre>\n\n<p><strong>UPDATE:</strong><br>\nMax Zoom Thank you. Your test works perfect.  </p>\n\n<p>But In my code I get the values from DB defined as:</p>\n\n<pre><code>@Column(precision=3, scale=2) //Oracle: CLASSAVERAGE NUMBER(3,2)\nprivate BigDecimal classaverage;\n</code></pre>\n\n<p>And when I try to round the number to BigDecimal.ROUND_HALF_EVEN:</p>\n\n<pre><code>System.out.println(getClassaverage() + \" - \" + getClassaverage().setScale(1,BigDecimal.ROUND_HALF_EVEN) );\n</code></pre>\n\n<p>I get value <code>\"5.55\" rounded to \"5.6\".</code></p>\n\n<p>After I modified your test, I see why it's happening:</p>\n\n<pre><code>@Test\npublic void main() {\n   double [] dArr = {5.05, 5.15, 5.25, 5.35, 5.45, 5.55};\n   for (double d : dArr) {\n      System.out.println(new BigDecimal(d) + \" - \" + new BigDecimal(d).setScale(1, BigDecimal.ROUND_HALF_EVEN));\n   }\n} \n</code></pre>\n\n<p>This is what I get:</p>\n\n<pre><code>5.04999999999999982236431605997495353221893310546875 - 5.0\n5.1500000000000003552713678800500929355621337890625 - 5.2\n5.25 - 5.2\n5.3499999999999996447286321199499070644378662109375 - 5.3\n5.45000000000000017763568394002504646778106689453125 - 5.5\n5.54999999999999982236431605997495353221893310546875 - 5.5\n</code></pre>\n\n<p>When I replaced the <code>double[]</code> to <code>String[]</code>, your test produces expected values for <code>BigDecimal.ROUND_HALF_EVEN</code>:</p>\n\n<pre><code>5.05 - 5.0\n5.15 - 5.2\n5.25 - 5.2\n5.35 - 5.4\n5.45 - 5.4\n5.55 - 5.6\n</code></pre>\n"}, {"tags": ["c++", "c++11", "gcc", "clang", "move-semantics"], "comments": [{"owner": {"reputation": 141, "user_id": 815536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0b7ba555a514ce246e9374fe8b8d5b?s=128&d=identicon&r=PG", "display_name": "Nate R.", "link": "https://stackoverflow.com/users/815536/nate-r"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1421884591, "post_id": 28078773, "comment_id": 44536914, "body": "Indeed, so it does. For posterity:  <i>(6) effects: If !f, *this has no target; otherwise, move-constructs the target of f into the target of *this, leaving f in a valid state with an unspecified value.</i>  Feel free to promote this to an answer &amp; I&#39;ll accept it."}], "answers": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "is_accepted": false, "score": 0, "last_activity_date": 1560617196, "last_edit_date": 1560617196, "creation_date": 1421882959, "answer_id": 28078822, "question_id": 28078773, "link": "https://stackoverflow.com/questions/28078773/should-stdfunctionoperator-bool-return-false-after-move/28078822#28078822", "title": "Should std::function::operator bool return false after move?", "body": "<p>It is unspecified what value an object has, after moving from it.</p>\n\n<p>Aside from it being some valid value, of course.</p>\n\n<p>There are a few common cases:</p>\n\n<ol>\n<li>The source is untouched, if copying is cheap and cannot throw.</li>\n<li>The source is left in default-constructed state.</li>\n<li>The source is left with whatever value the target had previously. (It was swapped.)</li>\n<li>The source is in some crippled state which can only be safely destroyed and assigned.</li>\n</ol>\n\n<p>Generally, the most useful of the cheapest alternatives is chosen.</p>\n"}, {"comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1421886057, "post_id": 28079321, "comment_id": 44537344, "body": "It is a bit strange to see the term &quot;undefined behaviour&quot; in this context. Yes, it is &quot;not defined&quot; if the function object is empty, but no Undefined Behaviour is invoked by move-construction a function (in that way). (UB gives leeway to do anything, whereas the possible behaviours here are restricted by the &quot;valid state&quot;.)"}, {"owner": {"reputation": 141, "user_id": 815536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0b7ba555a514ce246e9374fe8b8d5b?s=128&d=identicon&r=PG", "display_name": "Nate R.", "link": "https://stackoverflow.com/users/815536/nate-r"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1421887862, "post_id": 28079321, "comment_id": 44537885, "body": "Well, the semantics of the moved-from <code>std::function</code> are undefined even if the state of the object is &quot;valid&quot;, are they not? That is, the language in the standard give latitude to library implementors to make invocation of <code>operator bool</code> or <code>operator()</code> have any of their (valid) effects, and in the case of clang&#39;s implementation two behaviors are observed, depending on the type of the wrapped <i>Callable</i>. The moved-from object isn&#39;t empty in one case and is empty in the other. Perhaps we need a new category for behavior that is not &quot;undefined&quot; but still impossible to know ;)"}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 1, "creation_date": 1421954234, "post_id": 28079321, "comment_id": 44569643, "body": "The subtle difference between &quot;undefined behaviour&quot; and &quot;unspecified behaviour&quot; is that the latter is &quot;usually delineated by this [C++] International Standard&quot; [defns.unspecified]. The term &quot;undefined behaviour&quot; suggests that <code>operator bool</code> could throw an exception or erase the hard drive in a conforming (but silly) implementation."}], "owner": {"reputation": 141, "user_id": 815536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0b7ba555a514ce246e9374fe8b8d5b?s=128&d=identicon&r=PG", "display_name": "Nate R.", "link": "https://stackoverflow.com/users/815536/nate-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1421966690, "last_edit_date": 1495540619, "creation_date": 1421885843, "answer_id": 28079321, "question_id": 28078773, "link": "https://stackoverflow.com/questions/28078773/should-stdfunctionoperator-bool-return-false-after-move/28079321#28079321", "title": "Should std::function::operator bool return false after move?", "body": "<p>Shamed into looking this up by dyp's <a href=\"https://stackoverflow.com/questions/28078773/should-stdfunctionoperator-bool-return-false-after-move#comment44536463_28078773\">helpful comment</a>, it is indeed undefined behavior whether <code>!func</code> will be true or not after <code>auto foo = std::move(func)</code> (or any other move-from on the object). The relevant text from the C++11 spec:</p>\n\n<blockquote>\n  <p>(6) effects: If !f, *this has no target; otherwise, move-constructs the target of f into the target of *this, leaving f in a valid state with an unspecified value</p>\n</blockquote>\n\n<p>Another win for <s>undefined</s> unspecified behavior.</p>\n"}], "owner": {"reputation": 141, "user_id": 815536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc0b7ba555a514ce246e9374fe8b8d5b?s=128&d=identicon&r=PG", "display_name": "Nate R.", "link": "https://stackoverflow.com/users/815536/nate-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "closed_date": 1560617219, "answer_count": 2, "score": 1, "last_activity_date": 1560617196, "creation_date": 1421882732, "last_edit_date": 1560617018, "question_id": 28078773, "link": "https://stackoverflow.com/questions/28078773/should-stdfunctionoperator-bool-return-false-after-move", "closed_reason": "Duplicate", "title": "Should std::function::operator bool return false after move?", "body": "<p>In C++11, <code>std::function</code> is <em>MoveConstructible</em>, i.e. one can meaningfully invoke <code>std::move</code> on such objects or store them in moveable types. A quandary: what should the following code print?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#include &lt;functional&gt;\n#include &lt;utility&gt;\n\nstruct Big {\n    char data[1024];\n};\n\nint main(int argc, char **argv) {\n    Big blob;\n    // This bind will trigger small object optimization\n    std::function&lt;void()&gt; little = std::bind([]() { printf(\"little\\n\"); });\n    // This bind will not\n    std::function&lt;void()&gt; big = std::bind([](Big const&amp; b) {\n            printf(\"big %c\\n\", b.data[0]);\n        }, blob);\n    auto little_moved = std::move(little);\n    auto big_moved = std::move(big);\n\n    // After move, one expects the source std::function to be empty\n    // (boolean value false)\n\n    printf(\"Little empty: %d\\n\", !little);\n    printf(\"Little (moved) empty: %d\\n\", !little_moved);\n    printf(\"Big empty: %d\\n\", !big);\n    printf(\"Big (moved) empty: %d\\n\", !big_moved);\n\n    return 0;\n}\n</code></pre>\n\n<p>Compiled with GCC 4.8, you get this:</p>\n\n<pre><code>linux-dev:nater:/tmp$ g++-4.8 -g -o foo move_function.cc  -std=c++11\nlinux-dev:nater:/tmp$ ./foo\nLittle empty: 1\nLittle (moved) empty: 0\nBig empty: 1\nBig (moved) empty: 0\n</code></pre>\n\n<p>The object behaves as expected, invalidating the RHS of a move assignment. However, things are not so clear with clang (Apple LLVM version 6.0):</p>\n\n<pre><code>workbrick:nater:/tmp$ clang++ -g -o foo move_function.cc -std=c++11 -stdlib=libc++\nworkbrick:nater:/tmp$ ./foo\nLittle empty: 0\nLittle (moved) empty: 0\nBig empty: 1\nBig (moved) empty: 0\n</code></pre>\n\n<p>Here, the RHS is invalidated (false in a boolean context) after move when the bound parameters are large, but not when bound parameters are small (technically, nonexistent). Examining the implementation of <code>&lt;functional&gt;</code> shipped with Xcode, we see that behavior differs depending on whether the <em>small object optimization</em> has been applied:</p>\n\n<pre><code>template&lt;class _Rp, class ..._ArgTypes&gt;\ntemplate &lt;class _Alloc&gt;\nfunction&lt;_Rp(_ArgTypes...)&gt;::function(allocator_arg_t, const _Alloc&amp;,\n                                     function&amp;&amp; __f)\n{\n    if (__f.__f_ == 0)\n        __f_ = 0;\n    else if (__f.__f_ == (__base*)&amp;__f.__buf_)\n    {\n        // [nater] in this optimization, __f.__f_ is not invalidate\n        __f_ = (__base*)&amp;__buf_;\n        __f.__f_-&gt;__clone(__f_);\n    }\n    else\n    {\n        // [nater] here, the RHS gets invalidated\n        __f_ = __f.__f_;\n        __f.__f_ = 0;\n    }\n}\n</code></pre>\n\n<p>Now, I know that the state of the RHS after move assignment is type-specific, but I am <em>surprised</em> that the behavior of this Standard class is not consistent. Is this really undefined in the spec?</p>\n"}, {"tags": ["c++", "arrays", "class"], "comments": [{"owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "reply_to_user": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "edited": false, "score": 0, "creation_date": 1421882667, "post_id": 28078675, "comment_id": 44536276, "body": "there just used to repeat a process as many times as you set the increment. The book[i] that is in there is totally wrong. So may I please have the answer to my question. maybe just make a search function template for strings"}], "answers": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1421882923, "creation_date": 1421882923, "answer_id": 28078816, "question_id": 28078675, "link": "https://stackoverflow.com/questions/28078675/how-do-i-search-an-array-for-a-string/28078816#28078816", "title": "How do I search an array for a string", "body": "<p>Your <code>for</code> loop needs a limit:</p>\n\n<pre><code>bool found = false;\nfor (i = 0; i &lt; NUMBER_OF_BOOKS_IN_ARRAY ; i++)\n{\n  if ( Book[i].GetBookTitle()== srch)\n  {\n    found = true;\n    break;\n  }\n}\n</code></pre>\n\n<p>I also terminated the loop, via <code>break</code>, if the book is found.<br>\nA flag variable, <code>found</code>, is set to <code>true</code> if the book was found.  </p>\n"}, {"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": false, "score": 1, "last_activity_date": 1421883240, "creation_date": 1421883240, "answer_id": 28078878, "question_id": 28078675, "link": "https://stackoverflow.com/questions/28078675/how-do-i-search-an-array-for-a-string/28078878#28078878", "title": "How do I search an array for a string", "body": "<p>You are looking for code that looks like this:</p>\n\n<pre><code>string srch;\ncout &lt;&lt; \"you wish to search for a book\\n please type the book Title you are looking for.\" &lt;&lt; endl;\ngetline(cin, srch);\nfor (int i = 0; i &lt; Max; i++) {\n    if (Book[i].GetBookTitle() == srch) {\n        cout &lt;&lt; \"Book found!\" &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>The value of \"Max\" is the number of books in your database.</p>\n"}], "owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28078816, "answer_count": 2, "score": -2, "last_activity_date": 1421883240, "creation_date": 1421882172, "question_id": 28078675, "link": "https://stackoverflow.com/questions/28078675/how-do-i-search-an-array-for-a-string", "title": "How do I search an array for a string", "body": "<p>Iv'e been trying to search an array for a certain string but I do not know the process of doing it could someone please write a code that will help me understand thanks.</p>\n\n<p>This here is just a tiny piece of code, I don't think im close at all to the search function to work</p>\n\n<pre><code>case '3': cout &lt;&lt; \"you wish to search for a book\\n please type the book Title you are looking for.\" &lt;&lt; endl;\n\n        getline(cin, srch);\n        for (i = 0;Book[i].GetBookTitle() ; i++)\n        {\n         ( Book[i].GetBookTitle()== srch)\n\n        }\n\n        break;\n</code></pre>\n"}, {"tags": ["c++", "vim"], "answers": [{"comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1481329267, "post_id": 28078855, "comment_id": 69348685, "body": "Two years later, this answer is still very relevant and useful. :)"}], "owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "is_accepted": true, "score": 25, "last_activity_date": 1421883143, "creation_date": 1421883143, "answer_id": 28078855, "question_id": 28078407, "link": "https://stackoverflow.com/questions/28078407/how-do-i-let-vim-wrap-triple-slash-comments/28078855#28078855", "title": "How do I let vim wrap triple-slash comments?", "body": "<p>Adding this to your <code>.vimrc</code> file should do the trick:</p>\n\n<pre><code>autocmd Filetype c,cpp set comments^=:///\n</code></pre>\n\n<p>Help about comment formatting can be found at <code>:h format-comments</code>.</p>\n"}], "owner": {"reputation": 17406, "user_id": 1613983, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lAhj3.png?s=128&g=1", "display_name": "quant", "link": "https://stackoverflow.com/users/1613983/quant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 2, "accepted_answer_id": 28078855, "answer_count": 1, "score": 18, "last_activity_date": 1421883143, "creation_date": 1421880999, "question_id": 28078407, "link": "https://stackoverflow.com/questions/28078407/how-do-i-let-vim-wrap-triple-slash-comments", "title": "How do I let vim wrap triple-slash comments?", "body": "<p>I often use <code>gq</code> to wrap longer comments to within some number of characters, which works fine if I am using <code>//</code> or <code>/* /*</code> to comment my code: </p>\n\n<pre><code>// here is a simple comment that exceeds my line width \n// across multiple lines\n\n// here is a simple comment that\n// exceeds my line width across\n// multiple lines\n</code></pre>\n\n<p>However, if I have triple-slash comments, e.g. for <em>doxygen</em>, it doesn't work:</p>\n\n<pre><code>/// here is a simple comment that exceeds my line width\n/// across multiple lines\n\n/// here is a simple comment that\n// exceeds my line width / across\n// multiple lines\n</code></pre>\n\n<p><code>vim</code> seems to be including the last slash as part of the text, and not recognizing that it forms part of the comment. How can I fix this? Here is the wrapped result that I <em>want</em> to see when I select triple-slash comments and press <code>gq</code>:</p>\n\n<pre><code>/// here is a simple comment that\n/// exceeds my line width across\n/// multiple lines\n</code></pre>\n\n<p>Note that I don't want to affect the existing behaviour for normal <code>c++</code> comments.</p>\n\n<p>I am using <code>vim 7.4.52</code></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1421881090, "post_id": 28078403, "comment_id": 44535682, "body": "<a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">Another poor soul...</a>"}, {"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "edited": false, "score": 0, "creation_date": 1421881175, "post_id": 28078403, "comment_id": 44535718, "body": "So how will your problem figure the start of second vector ?"}, {"owner": {"reputation": 185, "user_id": 4358289, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/im03Z.jpg?s=128&g=1", "display_name": "schmitsz", "link": "https://stackoverflow.com/users/4358289/schmitsz"}, "reply_to_user": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "edited": false, "score": 0, "creation_date": 1421881188, "post_id": 28078403, "comment_id": 44535730, "body": "@P0W, when I Ctrl+Z after first input?"}, {"owner": {"reputation": 185, "user_id": 4358289, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/im03Z.jpg?s=128&g=1", "display_name": "schmitsz", "link": "https://stackoverflow.com/users/4358289/schmitsz"}, "edited": false, "score": 0, "creation_date": 1421881420, "post_id": 28078403, "comment_id": 44535824, "body": "It&#39;s not a duplicate. What was suggested there did not work for me."}, {"owner": {"reputation": 185, "user_id": 4358289, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/im03Z.jpg?s=128&g=1", "display_name": "schmitsz", "link": "https://stackoverflow.com/users/4358289/schmitsz"}, "edited": false, "score": 0, "creation_date": 1421881915, "post_id": 28078403, "comment_id": 44536014, "body": "So can someone help or should I be fine with <code>Another poor soul</code> comment?"}, {"owner": {"reputation": 1874, "user_id": 3761815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Zrlop.png?s=128&g=1", "display_name": "Rusan Kax", "link": "https://stackoverflow.com/users/3761815/rusan-kax"}, "edited": false, "score": 0, "creation_date": 1421883048, "post_id": 28078403, "comment_id": 44536414, "body": "what exactly did not work for you at the <a href=\"http://stackoverflow.com/questions/8377660/how-to-cin-to-a-vector\">post</a> that was suggested earlier?"}, {"owner": {"reputation": 185, "user_id": 4358289, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/im03Z.jpg?s=128&g=1", "display_name": "schmitsz", "link": "https://stackoverflow.com/users/4358289/schmitsz"}, "edited": false, "score": 0, "creation_date": 1421883460, "post_id": 28078403, "comment_id": 44536563, "body": "Problem was that I forgot to allocate size for both vectors."}], "answers": [{"comments": [{"owner": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1421882884, "post_id": 28078710, "comment_id": 44536361, "body": "What happens with this code if the user enters a negative size? Or if they enter &#39;asdf&#39; instead of a number? Always validate all user inputs."}, {"owner": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1421883265, "post_id": 28078710, "comment_id": 44536491, "body": "And don&#39;t use <code>system(&quot;pause&quot;);</code> To see the output when running the program on Windows 1) run without debugging (ctrl-f5) if using visual studio 2) if you want to run with debugging, put a breakpoint after the output and before program exit, or 3) follow <a href=\"http://stackoverflow.com/questions/11881938/right-click-open-with-arguments\">these</a> instructions to create an Explorer right click command named &quot;Open in cmd.exe window&quot; using a command of <code>cmd.exe &#47;k &quot;%1&quot; %*</code>."}, {"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "reply_to_user": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1421883407, "post_id": 28078710, "comment_id": 44536538, "body": "The point of the code was to indicate what was missing. Not to create a crash-proof program."}, {"owner": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1421883812, "post_id": 28078710, "comment_id": 44536679, "body": "Okay, I think it would have been better to describe it in words then; You can be more specific about exactly what changes to the code are relevant and what about them is relevant. Furthermore, sample code that appears to work will likely be assumed to be fully working and correct."}], "owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": true, "score": 1, "last_activity_date": 1421882354, "creation_date": 1421882354, "answer_id": 28078710, "question_id": 28078403, "link": "https://stackoverflow.com/questions/28078403/cin-n-elements-to-vector-c/28078710#28078710", "title": "cin N elements to vector C++", "body": "<p>Don't you want the user to enter the number of elements to be entered?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    size_t size; int i;\n    vector&lt;int&gt; product;\n\n    vector&lt;int&gt; v1;\n    vector&lt;int&gt; v2;\n\n    int input, input2;\n\n    cout &lt;&lt; \"Enter vector size: \";\n    cin &gt;&gt; size;\n\n    cout &lt;&lt; \"Enter values for first vector: \" &lt;&lt; endl;\n    i = 0;\n    while (i++ != size) {\n        cin &gt;&gt; input;\n        v1.push_back(input);\n    }   \n    cout &lt;&lt; \"Enter values for second vector: \" &lt;&lt; endl;\n    i = 0;\n    while (i++ != size) {\n        cin &gt;&gt; input2;\n        v2.push_back(input2);\n    }\n\n    int result = 0;\n    if (size &gt;= 1) {\n        result += v1[0] * v2[0];\n        for (int i = 1; i &lt; size; ++i)\n            result -= v1[i] * v2[i];\n    }\n\n    cout &lt;&lt; result &lt;&lt; endl;\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"owner": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "is_accepted": false, "score": 3, "last_activity_date": 1421884618, "last_edit_date": 1421884618, "creation_date": 1421882388, "answer_id": 28078719, "question_id": 28078403, "link": "https://stackoverflow.com/questions/28078403/cin-n-elements-to-vector-c/28078719#28078719", "title": "cin N elements to vector C++", "body": "<p>Your program is crashing because it's incorrectly assuming that the vectors are non-empty.</p>\n\n<p>Imagine that first vector has three elements and the user enters zero elements for the second. Nothing prevents your code from executing <code>result += v1[0]*v2[0];</code>, which accesses the first element of <code>v2</code>.</p>\n\n<p>So before anything else you should fix your check for empty vectors.</p>\n\n<hr>\n\n<blockquote>\n  <p>However, I cannot skip the usage of reading till EOF</p>\n</blockquote>\n\n<p>I don't think it's guaranteed by the standard, and it may depend on the platform, but funnily enough I believe you actually can sometimes read from stdin until EOF, and then reopen or clear the input error, and then continue reading more input until (a second) EOF. I wouldn't recommend it though.</p>\n\n<p>There are better solutions. You can ask the user to input each vector on its own line, so you know they're done entering elements for one vector once you reach the end of the line, or you can ask the user to tell you how many elements they're going to enter, and then read just that many elements.</p>\n\n<p>I'm sure you can implement the latter suggestion on your own. Here's a simple implementation of the former.</p>\n\n<pre><code>#include &lt;sstream&gt; // for istringstream\n#include &lt;string&gt;  // for string and getline()\n#include &lt;vector&gt;\n\nint main() {\n  vector&lt;int&gt; v;\n\n  string line;\n  if (getline(cin, line)) {\n    istringstream is(line);\n    int i;\n    while (is &gt;&gt; i) {\n      v.push_back(i);\n    }\n  }\n\n}\n</code></pre>\n\n<p>Basically, we read a line from the user's input, and then we create another stream from just that one line, and handle reading ints from that stream just like you handled reading them directly from the user's input.</p>\n"}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "is_accepted": false, "score": 0, "last_activity_date": 1421883726, "creation_date": 1421883726, "answer_id": 28078967, "question_id": 28078403, "link": "https://stackoverflow.com/questions/28078403/cin-n-elements-to-vector-c/28078967#28078967", "title": "cin N elements to vector C++", "body": "<p>You need to clear the error state and any bad data from <code>cin</code> before you load the second vector. </p>\n\n<pre><code>std::vector&lt;int&gt; loadValues() {\n  std::vector&lt;int&gt; v;\n  int input;\n  while (std::cin &gt;&gt; input)\n    v.push_back(input);\n\n  std::cin.clear();\n  std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\n  return v;\n}\n</code></pre>\n\n<p>Then, as others have pointed out, you need to check the size of the two vectors before you use them.</p>\n\n<p><kbd><a href=\"http://melpon.org/wandbox/permlink/Ql09sHBcdP8gqIlR\" rel=\"nofollow\">Live demo</a></kbd></p>\n"}], "owner": {"reputation": 185, "user_id": 4358289, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/im03Z.jpg?s=128&g=1", "display_name": "schmitsz", "link": "https://stackoverflow.com/users/4358289/schmitsz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3162, "favorite_count": 0, "closed_date": 1422039529, "accepted_answer_id": 28078710, "answer_count": 3, "score": 1, "last_activity_date": 1421884618, "creation_date": 1421880995, "question_id": 28078403, "link": "https://stackoverflow.com/questions/28078403/cin-n-elements-to-vector-c", "closed_reason": "Duplicate", "title": "cin N elements to vector C++", "body": "<p>So I'm trying to let the user supply the elements of two vectors but using a <code>while (cin &gt;&gt; ..)</code> would crash my program. Here is what I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    size_t size = 4; int i;\n    vector&lt;int&gt; product;\n\n    vector&lt;int&gt; v1;\n    vector&lt;int&gt; v2;\n\n    int input, input2;\n\n    cout &lt;&lt; \"Enter values for first vector: \";\n    while (cin &gt;&gt; input) {\n        v1.push_back(input);\n    }\n    cout &lt;&lt; \"Enter values for second vector: \";\n    while (cin &gt;&gt; input2) {\n        v2.push_back(input2);\n    }\n\n    int result = 0;\n    if (size &gt;= 1) {\n        result += v1[0]*v2[0];\n        for (int i = 1; i &lt; size; ++i)\n            result -= v1[i]*v2[i];\n    }\n\n    cout &lt;&lt; result &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>User has to input N elements for the first vector and another N elements for the second vector. However, I cannot skip the usage of reading till EOF because I don't know how many elements the users want to store in each vector.</p>\n"}, {"tags": ["c++", "windows", "visual-studio-2012", "makefile", "winsock2"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1421882225, "post_id": 28078365, "comment_id": 44536125, "body": "You could rename your version of rpc.h?"}, {"owner": {"reputation": 476, "user_id": 809038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2de342f8cf4374270ded3645a36067d?s=128&d=identicon&r=PG", "display_name": "ljdelight", "link": "https://stackoverflow.com/users/809038/ljdelight"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1421882983, "post_id": 28078365, "comment_id": 44536393, "body": "Great suggestion. That&#39;s my preference but the impact is too high. I&#39;m likely left with having to use lean&amp;mean, and this question is my last effort before doing that. I&#39;m not a win32 wizard"}], "answers": [{"owner": {"reputation": 476, "user_id": 809038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2de342f8cf4374270ded3645a36067d?s=128&d=identicon&r=PG", "display_name": "ljdelight", "link": "https://stackoverflow.com/users/809038/ljdelight"}, "is_accepted": true, "score": 0, "last_activity_date": 1425781525, "creation_date": 1425781525, "answer_id": 28922404, "question_id": 28078365, "link": "https://stackoverflow.com/questions/28078365/vs2012-including-win32-and-local-rpc-h-header-breaking-build-and-vs2010-works-f/28922404#28922404", "title": "VS2012 including win32 and local rpc.h header breaking build (and VS2010 works fine)", "body": "<p>Unfortunately I found no alternative. From the OP: I modified the makefiles to define WIN32_LEAN_AND_MEAN, which doesn't #include rpc.h, fixing my issue. </p>\n\n<p>If I needed lean&amp;mean, the only good work around would be to rename the file.</p>\n"}], "owner": {"reputation": 476, "user_id": 809038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2de342f8cf4374270ded3645a36067d?s=128&d=identicon&r=PG", "display_name": "ljdelight", "link": "https://stackoverflow.com/users/809038/ljdelight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 28922404, "answer_count": 1, "score": 1, "last_activity_date": 1425781525, "creation_date": 1421880856, "question_id": 28078365, "link": "https://stackoverflow.com/questions/28078365/vs2012-including-win32-and-local-rpc-h-header-breaking-build-and-vs2010-works-f", "title": "VS2012 including win32 and local rpc.h header breaking build (and VS2010 works fine)", "body": "<p>I'm updating a project that was building with Visual Studio 2010 to build with VS2012. I am having issues with #includes using VS2012: I tracked it down to a local header in my project, RPC.h, being included because WinSock2.h indirectly includes win32 rpc.h (which matches my local file, including it). This worked fine in VS2010 and the makefiles are identical, the only difference is compiler.</p>\n\n<p>To reproduce I created two files, one titled rpc.h which includes a missing header (and the first file does not explicitly include the local rpc.h).</p>\n\n<p>TCPChannel.cc:</p>\n\n<pre><code>#include &lt;WinSock2.h&gt;\nnamespace foobar {\n}\n</code></pre>\n\n<p>RPC.h:</p>\n\n<pre><code>#ifndef __INCLUDED_RPC_H\n#define __INCLUDED_RPC_H\n// intentionally does not exist\n#include &lt;breakme.h&gt;\n#endif\n</code></pre>\n\n<p>Compile with \"cl -c TCPChannel.cc\" and it fails because the breakme.h does not exist (the setup is more complex than a missing header, but it suffices as an example).</p>\n\n<p>I found that if I define WIN32_LEAN_AND_MEAN, the win32 headers will not attempt to include rpc.h. Also I found that if I edit \"C:\\Program Files (x86)\\Windows Kits\\8.0\\Include\\um\\Unknwnbase.h\", and change \"#include &lt;rpc.h&gt;\" to an aboslute path, that works too.</p>\n\n<p>Is there another solution to this, such as a compiler flag? I'd like to avoid adding WIN32_LEAN_AND_MEAN, and avoid editing system headers.</p>\n"}, {"tags": ["c++", "c", "igraph"], "comments": [{"owner": {"reputation": 3612, "user_id": 2422013, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/VwKps.jpg?s=128&g=1", "display_name": "AStopher", "link": "https://stackoverflow.com/users/2422013/astopher"}, "edited": false, "score": 0, "creation_date": 1421880847, "post_id": 28078282, "comment_id": 44535560, "body": "The library is <code>C</code>, therefore you need to do an <code>extern &quot;C&quot;</code> block and insert the <code>#include</code> within it."}], "answers": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "is_accepted": true, "score": 4, "last_activity_date": 1421880644, "creation_date": 1421880644, "answer_id": 28078310, "question_id": 28078282, "link": "https://stackoverflow.com/questions/28078282/using-igraph-object-oriented-programming/28078310#28078310", "title": "Using IGRAPH object oriented programming", "body": "<p>Just do this</p>\n\n<pre><code>extern \"C\" {\n   #include &lt;igraph.h&gt;\n}\n</code></pre>\n\n<p>c++ compiler mangles function names so when searching the library for that function it will not be found, if you do this, then every function declared in <code>igraph.h</code> will have c linkage preventing name mangling.</p>\n"}], "owner": {"reputation": 73, "user_id": 4480213, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003384667080/picture?type=large", "display_name": "Rodrigo Francisquini", "link": "https://stackoverflow.com/users/4480213/rodrigo-francisquini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 28078310, "answer_count": 1, "score": 3, "last_activity_date": 1421880644, "creation_date": 1421880495, "last_edit_date": 1421880601, "question_id": 28078282, "link": "https://stackoverflow.com/questions/28078282/using-igraph-object-oriented-programming", "title": "Using IGRAPH object oriented programming", "body": "<p>I have the library igraph perfectly working for codes in C.</p>\n\n<p>However, when I try to compile a code in C ++, I have undefined reference problems. Some functions work, and some doesn't. I believe that what is missing is to include \" igraph.hpp\", based on my research. Although, I don't know how to install these files.</p>\n\n<p>I'm trying compile the following example program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;igraph.h&gt;\n\nusing namespace std;\n\nint main() {\n\n  igraph_t g;\n  FILE *ifile;\n  int i;\n  igraph_sparsemat_t temp;\n\n  ifile=fopen(\"karate.gml\", \"r\");\n  if (ifile==0) printf(\"erro\");\n\n  igraph_read_graph_gml(&amp;g, ifile);\n  fclose(ifile);\n\n  i=igraph_get_sparsemat(&amp;g, &amp;temp);\n\n  return 0;\n\n}\n</code></pre>\n\n<p>I'm compiling the program using the command:\n</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>g++ teste.cc -I/usr/local/include/igraph -L/usr/local/lib -ligraph -o teste\n</code></pre>\n\n<p>But, this error occurs:\n</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>teste.cc:(.text+0x77): refer\u00eancia indefinida para `igraph_get_sparsemat(igraph_s const*, igraph_sparsemat_t*)'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["c++", "linux", "gcc"], "comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1421880636, "post_id": 28078270, "comment_id": 44535479, "body": "Write do-nothing stubs for all those functions and recompile without linking to the shared lib and linking to your stubs instead?"}, {"owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1421880955, "post_id": 28078270, "comment_id": 44535614, "body": "@user2225104 I still want to be able to use xerces-c if it is present, I just want to avoid <code>ld</code> killing my program off the bat when it isn&#39;t there"}], "answers": [{"comments": [{"owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "edited": false, "score": 0, "creation_date": 1421881037, "post_id": 28078305, "comment_id": 44535656, "body": "I already have a single class which handles the interface with xerces, so this is probably the best solution."}], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": true, "score": 3, "last_activity_date": 1421880612, "creation_date": 1421880612, "answer_id": 28078305, "question_id": 28078270, "link": "https://stackoverflow.com/questions/28078270/is-it-possible-to-use-gccs-linker-in-conjunction-with-dlopen/28078305#28078305", "title": "Is it possible to use gcc&#39;s linker in conjunction with dlopen?", "body": "<p>The easiest solution in cases like this would be to split your program into two parts, a main program that doesn't have a <code>xerces-c</code> dependency, and a shared library that does. Then you <code>dlopen</code> your shared library, which loads <code>xerces</code> and uses it. In this way you can define your own library API, basically.</p>\n"}], "owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 28078305, "answer_count": 1, "score": 0, "last_activity_date": 1421880612, "creation_date": 1421880406, "question_id": 28078270, "link": "https://stackoverflow.com/questions/28078270/is-it-possible-to-use-gccs-linker-in-conjunction-with-dlopen", "title": "Is it possible to use gcc&#39;s linker in conjunction with dlopen?", "body": "<p>So, I have a program that makes use of the <code>xerces-c</code> c++ library. I am trying to modify it to not require the library be present when the program is run, since there are parts of it that can be run independently. Is is possible to accomplish this using <code>dlopen()</code> to load the library, while still using the linker in gcc to resolve symbols at compile time? Maybe I'm missing something but the xerces-c API seems very difficult to use with <code>dlsym()</code>, which is why I am trying to find a workaround.</p>\n"}, {"tags": ["c++", "vector", "stack"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 1, "creation_date": 1421879497, "post_id": 28078045, "comment_id": 44535001, "body": "What error? We will need more info."}, {"owner": {"reputation": 23197, "user_id": 29068, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24ddcae119119f3ffd03320b3ff6bddf?s=128&d=identicon&r=PG", "display_name": "Timo Geusch", "link": "https://stackoverflow.com/users/29068/timo-geusch"}, "edited": false, "score": 0, "creation_date": 1421879565, "post_id": 28078045, "comment_id": 44535021, "body": "What are the types of vector1 and stack1?"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1421879612, "post_id": 28078045, "comment_id": 44535043, "body": "Did you check to make sure that stack1.pop() returns an item? Also what is the error?"}], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 4257674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1ZeC.png?s=128&g=1", "display_name": "frasnian", "link": "https://stackoverflow.com/users/4257674/frasnian"}, "edited": false, "score": 0, "creation_date": 1421879958, "post_id": 28078105, "comment_id": 44535184, "body": "OPs original <code>for</code> loop may be confused.  Question is how to move elements in stack to a vector, but <code>for</code> loop uses vector <code>size()</code> as test condition."}, {"owner": {"reputation": 9308, "user_id": 235700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ab02b76dcfedbe47d2b7335a6277f3?s=128&d=identicon&r=PG", "display_name": "slugonamission", "link": "https://stackoverflow.com/users/235700/slugonamission"}, "reply_to_user": {"reputation": 1893, "user_id": 4257674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1ZeC.png?s=128&g=1", "display_name": "frasnian", "link": "https://stackoverflow.com/users/4257674/frasnian"}, "edited": false, "score": 0, "creation_date": 1421880057, "post_id": 28078105, "comment_id": 44535219, "body": "Yeah. I&#39;m hoping it&#39;s pre-allocated though, as writing to vector indices which don&#39;t yet exist is undefined (although then you should be using <code>.capacity()</code>. The whole code seems a bit wrong TBH."}, {"owner": {"reputation": 41, "user_id": 2669764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/539647e43b5eec11194dc7213a7b80ab?s=128&d=identicon&r=PG", "display_name": "user2669764", "link": "https://stackoverflow.com/users/2669764/user2669764"}, "edited": false, "score": 0, "creation_date": 1421880336, "post_id": 28078105, "comment_id": 44535346, "body": "@P0W and slugonamission solved it. Thank you so much!"}], "owner": {"reputation": 9308, "user_id": 235700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ab02b76dcfedbe47d2b7335a6277f3?s=128&d=identicon&r=PG", "display_name": "slugonamission", "link": "https://stackoverflow.com/users/235700/slugonamission"}, "is_accepted": false, "score": 0, "last_activity_date": 1421879650, "creation_date": 1421879650, "answer_id": 28078105, "question_id": 28078045, "link": "https://stackoverflow.com/questions/28078045/move-values-in-stack-to-a-vector-in-c/28078105#28078105", "title": "move values in stack to a vector in c++", "body": "<p><code>std::stack&lt;T&gt;::pop()</code> <a href=\"http://www.cplusplus.com/reference/stack/stack/pop/\" rel=\"nofollow\">doesn't return a value (it's a void function)</a>. You need to get the top, then pop, i.e.</p>\n\n<pre><code>for(int i=0; i&lt;vector1.size();i++)\n{\n    vector1[i]=stack1.top();\n    stack1.pop();\n}\n</code></pre>\n"}, {"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "is_accepted": true, "score": 3, "last_activity_date": 1421879665, "creation_date": 1421879665, "answer_id": 28078108, "question_id": 28078045, "link": "https://stackoverflow.com/questions/28078045/move-values-in-stack-to-a-vector-in-c/28078108#28078108", "title": "move values in stack to a vector in c++", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/container/stack/pop\" rel=\"nofollow\"><em><code>std::stack::pop</code></em></a> doesn't return a value</p>\n\n<p>You need to use <a href=\"http://en.cppreference.com/w/cpp/container/stack/top\" rel=\"nofollow\"><em><code>std::stack::top</code></em></a>, to get top element and then remove it from the stack like following :</p>\n\n<pre><code>   vector1[i]=stack1.top();\n   stack1.pop();\n</code></pre>\n"}, {"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": false, "score": 0, "last_activity_date": 1421880113, "creation_date": 1421880113, "answer_id": 28078203, "question_id": 28078045, "link": "https://stackoverflow.com/questions/28078045/move-values-in-stack-to-a-vector-in-c/28078203#28078203", "title": "move values in stack to a vector in c++", "body": "<p>That's because the pop() function does not return a value.</p>\n\n<p>You need to use top() which returns the element at the top of the stack and then pop() to eliminate that element...</p>\n\n<pre><code>for (int i = 0; i&lt;vector1.size(); i++)\n{\n    vector1[i] = stack1.top();\n    stack1.pop();\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 2669764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/539647e43b5eec11194dc7213a7b80ab?s=128&d=identicon&r=PG", "display_name": "user2669764", "link": "https://stackoverflow.com/users/2669764/user2669764"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 28078108, "answer_count": 3, "score": -2, "last_activity_date": 1421880113, "creation_date": 1421879413, "question_id": 28078045, "link": "https://stackoverflow.com/questions/28078045/move-values-in-stack-to-a-vector-in-c", "title": "move values in stack to a vector in c++", "body": "<p>I am trying to move the elements that are in the stack into a vector. I have tried the following:</p>\n\n<pre><code>for(int i=0; i&lt;vector1.size();i++)\n{\n    vector1[i]=stack1.pop();\n}\n</code></pre>\n\n<p>But it keeps giving me error.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8429, "user_id": 964080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/136f4c71facafdb75bfaa0e4f047f1fc?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/964080/nick"}, "edited": false, "score": 0, "creation_date": 1421879892, "post_id": 28078130, "comment_id": 44535158, "body": "input=input+arr[i]; not sure if you can do that. You can concatenate strings, but not char arrays"}, {"owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "edited": false, "score": 0, "creation_date": 1421880003, "post_id": 28078130, "comment_id": 44535197, "body": "char arr[input.length()]; ?  The code won&#39;t compile on this line."}, {"owner": {"reputation": 8429, "user_id": 964080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/136f4c71facafdb75bfaa0e4f047f1fc?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/964080/nick"}, "edited": false, "score": 0, "creation_date": 1421880155, "post_id": 28078130, "comment_id": 44535269, "body": "it will compile on GCC, also it probably will concatenate. seems @pow &#39;s answer is correct one, because p[] is same as *p"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 3, "creation_date": 1421880634, "post_id": 28078130, "comment_id": 44535477, "body": "Welcome to wonderful world of C arrays! Now I suggest you retreat slowly, while avoiding sudden movements, and convert your code to use <code>std::vector</code> (for dynamic arrays) or sometimes <code>std::array</code> (for arrays of fixed length)."}], "answers": [{"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "is_accepted": false, "score": 5, "last_activity_date": 1421879871, "creation_date": 1421879871, "answer_id": 28078145, "question_id": 28078130, "link": "https://stackoverflow.com/questions/28078130/c-string-in-a-function-has-always-the-same-length/28078145#28078145", "title": "C++ , string in a function has always the same length", "body": "<p>Arrays decays to pointers while passing to function</p>\n\n<p><code>sizeof(arr)</code> will give you size of <code>char*</code> </p>\n"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 3, "last_activity_date": 1421879896, "creation_date": 1421879896, "answer_id": 28078156, "question_id": 28078130, "link": "https://stackoverflow.com/questions/28078130/c-string-in-a-function-has-always-the-same-length/28078156#28078156", "title": "C++ , string in a function has always the same length", "body": "<p>Don't use arrays; instead prefer <code>std::vector</code>. When you think you're passing an array to a function, you're actually passing a pointer, and on your architecture pointers are 4 bytes wide. <code>char arr[]</code> is a weird way of spelling <code>char* arr</code> in function parameters. This is known as \u201cpointer decay\u201d.</p>\n\n<p>If you really have to use raw pointers, pass in the length as an additional parameter:</p>\n\n<pre><code>void test(size_t length, char* arr) {\n    ...\n}\n\ntest(input.length(), arr);\n</code></pre>\n"}, {"owner": {"reputation": 1634, "user_id": 2030653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ab1rD.jpg?s=128&g=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/2030653/mustafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1421880075, "last_edit_date": 1495539810, "creation_date": 1421880075, "answer_id": 28078188, "question_id": 28078130, "link": "https://stackoverflow.com/questions/28078130/c-string-in-a-function-has-always-the-same-length/28078188#28078188", "title": "C++ , string in a function has always the same length", "body": "<p>You are taking the size of the pointer when you do <code>sizeof(arr)</code> in the function. Passing an array to a function like you did is a syntactic sugar, effectively it is passing a pointer to the array and you are just taking the size of the pointer (which happens to be 4bytes on the machine you are using). You need to pass the size of the array to the function in another parameter or use a convenient STL container. </p>\n\n<p>Also take a look at <a href=\"https://stackoverflow.com/questions/1328223/sizeof-array-passed-as-parameter\">this question</a> for more details. </p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1421879770, "question_id": 270767}, "owner": {"reputation": 149, "user_id": 4281346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa7b57c03d78fb2d675a58e7db0351b9?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/4281346/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1421880840, "creation_date": 1421878885, "last_edit_date": 1421880840, "question_id": 28078130, "link": "https://stackoverflow.com/questions/28078130/c-string-in-a-function-has-always-the-same-length", "title": "C++ , string in a function has always the same length", "body": "<p>What is wrong with this code? input has always the length of 4 in my function test, no matter if my string is actually longer or shorter. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nvoid test(char arr[]){\n    string input;\n\n    input = arr[0];\n    for (int i=1; i&lt;sizeof(arr)/sizeof(char); i++){input=input+arr[i];}\n\n    cout &lt;&lt; input &lt;&lt; endl;\n    cout &lt;&lt; \"length: \" &lt;&lt; input.length() &lt;&lt; endl;\n}\n\n\nint main(){\n    string input;\n    cout &lt;&lt; \"String: \" &lt;&lt; endl;\n    getline(cin, input);\n    char arr[input.length()];\n    for(int i=0; i&lt;input.length(); i++) {arr[i] = input[i];}\n\n    test(arr);\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1421879573, "post_id": 28077913, "comment_id": 44535026, "body": "To the good answers here I&#39;ll add that the reason you cannot do this is because the preprocessor kicks in before the compiler."}, {"owner": {"reputation": 1718, "user_id": 2777359, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/DBSKd.jpg?s=128&g=1", "display_name": "Reflection", "link": "https://stackoverflow.com/users/2777359/reflection"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1421880347, "post_id": 28077913, "comment_id": 44535352, "body": "aren&#39;t the template arguments a preprocessor thing?"}, {"owner": {"reputation": 6685, "user_id": 472610, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/40f01113212b1d726ff23bc5807b5c5b?s=128&d=identicon&r=PG", "display_name": "Jonathan H", "link": "https://stackoverflow.com/users/472610/jonathan-h"}, "edited": false, "score": 1, "creation_date": 1421880573, "post_id": 28077913, "comment_id": 44535448, "body": "@Reflection No, preprocessor is at pre-compilation, template arguments are at compile-time."}], "answers": [{"comments": [{"owner": {"reputation": 1718, "user_id": 2777359, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/DBSKd.jpg?s=128&g=1", "display_name": "Reflection", "link": "https://stackoverflow.com/users/2777359/reflection"}, "edited": false, "score": 0, "creation_date": 1421880270, "post_id": 28077985, "comment_id": 44535318, "body": "What if I want to put a piece of code to operate inside the macro condition from the example above? Operations instead of declaration. Is there a better way than using a class that will inherit from interface that will include a function for that specific operations?"}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "reply_to_user": {"reputation": 1718, "user_id": 2777359, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/DBSKd.jpg?s=128&g=1", "display_name": "Reflection", "link": "https://stackoverflow.com/users/2777359/reflection"}, "edited": false, "score": 0, "creation_date": 1421880668, "post_id": 28077985, "comment_id": 44535496, "body": "@Reflection That really depends on what precisely you want to do (it sounds almost like you need a new, more specific question, with exact particulars you need). As stated here a parent class from which you can inherit extra members and operations is perfectly reasonable."}], "owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "is_accepted": false, "score": 6, "last_activity_date": 1421879168, "creation_date": 1421879168, "answer_id": 28077985, "question_id": 28077913, "link": "https://stackoverflow.com/questions/28077913/is-it-possible-to-use-macro-conditions-with-template-arguments-in-c/28077985#28077985", "title": "Is it possible to use macro conditions with template arguments in C++?", "body": "<p>You can creatively use the empty base optimization in a policy approach to achieve almost what you want:</p>\n\n<pre><code>struct NO_MANUFACTURER {};\nstruct HOLD_MANUFACTURER { char *manufacturer; };\n\ntemplate &lt;typename ManufacturerPolicy&gt;\nclass Computer : public ManufacturerPolicy\n{\n     int memory;\n     int storage;\n}\n</code></pre>\n\n<p>Then instantiate as <code>Computer&lt;HOLD_MANUFACTURER&gt; computer_with_manufacturer;</code></p>\n"}, {"owner": {"reputation": 6685, "user_id": 472610, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/40f01113212b1d726ff23bc5807b5c5b?s=128&d=identicon&r=PG", "display_name": "Jonathan H", "link": "https://stackoverflow.com/users/472610/jonathan-h"}, "is_accepted": true, "score": 3, "last_activity_date": 1421879276, "creation_date": 1421879276, "answer_id": 28078007, "question_id": 28077913, "link": "https://stackoverflow.com/questions/28077913/is-it-possible-to-use-macro-conditions-with-template-arguments-in-c/28078007#28078007", "title": "Is it possible to use macro conditions with template arguments in C++?", "body": "<p>Not possible, but you can use template specialization and inheritance:</p>\n\n<pre><code>template &lt;bool HoldManufacturer&gt;\nclass ComputerAdditions\n{};\n\ntemplate &lt;&gt;\nclass ComputerAdditions&lt;true&gt;\n{\nprotected:\n    char *manufacturer;\n\npublic:\n    // Methods using this additional member\n};\n\ntemplate &lt;bool HoldManufacturer = false&gt;\nclass Computer\n    : public ComputerAdditions&lt;HoldManufacturer&gt;\n{\n    int memory;\n    int storage;\n\npublic:\n    // Methods of Computer\n}\n</code></pre>\n"}], "owner": {"reputation": 1718, "user_id": 2777359, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/DBSKd.jpg?s=128&g=1", "display_name": "Reflection", "link": "https://stackoverflow.com/users/2777359/reflection"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28078007, "answer_count": 2, "score": 4, "last_activity_date": 1421879276, "creation_date": 1421878780, "question_id": 28077913, "link": "https://stackoverflow.com/questions/28077913/is-it-possible-to-use-macro-conditions-with-template-arguments-in-c", "title": "Is it possible to use macro conditions with template arguments in C++?", "body": "<p>Something like:</p>\n\n<pre><code>template&lt;bool HOLD_MANUFACTURER&gt;\nclass Computer {\n     int memory;\n     int storage;\n #if HOLD_MANUFACTURER\n     char *manufacturer;\n #endif\n};\n</code></pre>\n\n<p>I need this to create two variations of the almost-same class, when one variation is a lighter one for performance reasons. I don't want to use a separate class that will wrap the lighter one.</p>\n\n<p>If yes, is it possible to any type (not just bool from the sample code above)? Maybe primitive types only? What about enums?</p>\n\n<p>This code don't work for me, but I hope that I've just missed some little thing.</p>\n"}, {"tags": ["c++", "macos", "c++11", "qt5", "qjson"], "answers": [{"comments": [{"owner": {"reputation": 2418, "user_id": 1144539, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/babed14d18f0888997cadb8fc1a89b18?s=128&d=identicon&r=PG", "display_name": "JKSH", "link": "https://stackoverflow.com/users/1144539/jksh"}, "edited": false, "score": 0, "creation_date": 1421970739, "post_id": 28090154, "comment_id": 44577088, "body": "It&#39;s not an issue with C++11; it&#39;s the <a href=\"http://doc.qt.io/qt-5/qjsonarray.html#QJsonArray-2\" rel=\"nofollow noreferrer\">documented behaviour</a>. When you use the initializer-list, It converts your 1st array into a single QJsonValue. So, <i>results</i> becomes an array-of-an-array. The behaviour you saw with Qt 5.3 was buggy."}], "owner": {"reputation": 399, "user_id": 1835430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cdd76f28a3221716a2c866e8e35564?s=128&d=identicon&r=PG", "display_name": "RGPaul", "link": "https://stackoverflow.com/users/1835430/rgpaul"}, "is_accepted": true, "score": 0, "last_activity_date": 1422002022, "last_edit_date": 1422002022, "creation_date": 1421933898, "answer_id": 28090154, "question_id": 28077778, "link": "https://stackoverflow.com/questions/28077778/qjsondocument-parsing-broken-since-qt-5-4-on-osx/28090154#28090154", "title": "QJsonDocument parsing broken since Qt 5.4 on OSX?", "body": "<p><del>So it seems to be an issue with C++11.</del></p>\n\n<p>As mentioned by JKSH, Qt 5.4 added an initializer list to the constructor.</p>\n\n<p>I replaced:</p>\n\n<pre><code>QJsonArray results { rootObj.value(\"results\").toArray() };\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>QJsonArray results = rootObj.value(\"results\").toArray();\n</code></pre>\n\n<p>Now it's working.</p>\n"}], "owner": {"reputation": 399, "user_id": 1835430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cdd76f28a3221716a2c866e8e35564?s=128&d=identicon&r=PG", "display_name": "RGPaul", "link": "https://stackoverflow.com/users/1835430/rgpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 28090154, "answer_count": 1, "score": 0, "last_activity_date": 1422002022, "creation_date": 1421878219, "question_id": 28077778, "link": "https://stackoverflow.com/questions/28077778/qjsondocument-parsing-broken-since-qt-5-4-on-osx", "title": "QJsonDocument parsing broken since Qt 5.4 on OSX?", "body": "<p>I have problems parsing json since I upgraded to Qt 5.4.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n\n#include &lt;QJsonDocument&gt;\n#include &lt;QJsonObject&gt;\n#include &lt;QJsonArray&gt;\n\n#include &lt;QDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    char jsString[] {\n        \"{\\\"results\\\":[{\\\"id\\\":1,\\\"title\\\":\\\"Test1\\\"},{\\\"id\\\":2,\\\"title\\\":\\\"\"\n        \"Test2\\\"},{\\\"id\\\":3,\\\"title\\\":\\\"Test3\\\"},{\\\"id\\\":4,\\\"title\\\":\\\"Test4\\\"}]}\"\n    };\n\n    QJsonParseError *error { nullptr };\n    // parse bytes to json\n    QJsonDocument doc { QJsonDocument::fromJson(jsString, error) };\n\n    if (error) {\n        qDebug() &lt;&lt; \"error parsing json:\" &lt;&lt; error-&gt;errorString();\n    } else {\n\n        QJsonObject rootObj { doc.object() };\n        QJsonArray results { rootObj.value(\"results\").toArray() };\n\n        qDebug() &lt;&lt; \"results.count:\" &lt;&lt; results.count();\n\n        for (QJsonValue v : results) {\n            qDebug() &lt;&lt; \"v:\" &lt;&lt; v.toObject().value(\"title\").toString();\n        }\n    }\n    return a.exec();\n}\n</code></pre>\n\n<p>If I run this using Qt 5.3 all is fine. The output is:</p>\n\n<pre><code>results.count: 4\nv: \"Test1\"\nv: \"Test2\"\nv: \"Test3\"\nv: \"Test4\"\n</code></pre>\n\n<p>If I run this using Qt 5.4 I get this:</p>\n\n<pre><code>results.count: 1\nv: \"\"\n</code></pre>\n\n<p>I run this on Mac OS X Yosemite 64-Bit with the clang compiler.</p>\n\n<p>Has anyone an idea whats wrong?</p>\n\n<p>Cheers,\nManromen</p>\n"}, {"tags": ["c++", "qt", "vector"], "comments": [{"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 0, "creation_date": 1421877758, "post_id": 28077672, "comment_id": 44534264, "body": "If you can use C++11, you may be able to use <code>&lt;regex&gt;</code>."}, {"owner": {"reputation": 21, "user_id": 1808875, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/499dc6822301043eb01b6fb1ecaeed9b?s=128&d=identicon&r=PG", "display_name": "KaushikV", "link": "https://stackoverflow.com/users/1808875/kaushikv"}, "reply_to_user": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 0, "creation_date": 1421878373, "post_id": 28077672, "comment_id": 44534539, "body": "@nneonneo - thats another limitation , i can&#39;t use C++11"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 4, "creation_date": 1421878498, "post_id": 28077672, "comment_id": 44534608, "body": "You&#39;re going to have to use <i>some</i> regular expression library unless you want to write your own regular expression parser."}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 3, "creation_date": 1421878581, "post_id": 28077672, "comment_id": 44534639, "body": "You claim to have some ideas. What are they?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "edited": false, "score": 1, "creation_date": 1421878884, "post_id": 28077672, "comment_id": 44534757, "body": "Until C++11, there is no language/standard library support for regex. You have to roll your own. However, I suspect that this is an XY problem and that there is an easier way to solve the problem. Explain in your question why you need to use regex so that others can offer viable alternatives."}, {"owner": {"reputation": 21, "user_id": 1808875, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/499dc6822301043eb01b6fb1ecaeed9b?s=128&d=identicon&r=PG", "display_name": "KaushikV", "link": "https://stackoverflow.com/users/1808875/kaushikv"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1421879796, "post_id": 28077672, "comment_id": 44535118, "body": "@Bill - actually i am using C++, QT , so my idea was to create a QString for each member in vector y and then see if the Qstring contains the regular expression from vector x something like this :for (int i = 0; i&lt;devaiceNameList.size(); i++) \t\t\t\t\t{ \t\t\t\t\t   QString s = devaiceNameList[i].c_str();  \t\t\t\t\t  if(!s.contains(regExp))"}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1421879854, "post_id": 28077672, "comment_id": 44535147, "body": "@KaushikV: Or just use the regular expression library that is part of Qt: <a href=\"http://doc.qt.io/qt-5/qregexp.html\" rel=\"nofollow noreferrer\">QRegExp</a>"}, {"owner": {"reputation": 21, "user_id": 1808875, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/499dc6822301043eb01b6fb1ecaeed9b?s=128&d=identicon&r=PG", "display_name": "KaushikV", "link": "https://stackoverflow.com/users/1808875/kaushikv"}, "edited": false, "score": 0, "creation_date": 1421880378, "post_id": 28077672, "comment_id": 44535362, "body": "std::string parameters = &quot;^OPEN$;^SHORT$&quot;;QstringList madatoryDeviceNameList = QString(parameters.c_str()).split(&quot;;&quot;);for(int mandatoryNamesCntr = 0; mandatoryNamesCntr &lt;madatoryDeviceNameList.size(); mandatoryNamesCntr++){QRegExp regExp(QString(&quot;^%1&quot;).arg(madatoryDeviceNameList[mandatoryNa&zwnj;&#8203;mesCntr].replace(QRe&zwnj;&#8203;gExp(&quot;\\\\$(?!\\&#93;)&quot;&zwnj;&#8203;), tr(&quot;[\\\\$]&quot;))).replace(QChar(&#39;~&#39;), tr(&quot;$&quot;)));\tfor (int i = 0; i&lt;devaiceNameList.size(); i++){  QString s = devaiceNameList[i].c_str(); if(!s.contains(regExp)){//error}}}  here devaiceNameList is vector y explained above initially"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1808875, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/499dc6822301043eb01b6fb1ecaeed9b?s=128&d=identicon&r=PG", "display_name": "KaushikV", "link": "https://stackoverflow.com/users/1808875/kaushikv"}, "edited": false, "score": 0, "creation_date": 1421941512, "post_id": 28080256, "comment_id": 44562009, "body": "Thankyou all , its working  :)"}], "owner": {"reputation": 173, "user_id": 2839816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f40d80e33a320ea35b80c3f22bdec6?s=128&d=identicon&r=PG", "display_name": "Atlante45", "link": "https://stackoverflow.com/users/2839816/atlante45"}, "is_accepted": true, "score": 0, "last_activity_date": 1421892750, "creation_date": 1421892750, "answer_id": 28080256, "question_id": 28077672, "link": "https://stackoverflow.com/questions/28077672/how-to-find-if-a-vector-contains-anything-matching-to-regular-expression/28080256#28080256", "title": "how to find if a vector contains anything matching to regular expression", "body": "<p><a href=\"http://doc.qt.io/qt-5/qregexp.html\" rel=\"nofollow\">QRegEpx</a> will do the job. Create a <strong>QRegExp</strong> for each of your tokens, then run them against <code>x</code> to identify which one it is.</p>\n\n<p>Then run <code>QString(y).contains(matchedRegExp)</code> to get your answer.</p>\n\n<p>EDIT: you can also do:</p>\n\n<pre><code>QStringList list = QString(y).split(\", \", QString::SkipEmptyParts).filter(matchedRegExp);\nbool answer = list.size() &gt; 0;\n</code></pre>\n\n<p>That way you have the list if you need it.</p>\n"}], "owner": {"reputation": 21, "user_id": 1808875, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/499dc6822301043eb01b6fb1ecaeed9b?s=128&d=identicon&r=PG", "display_name": "KaushikV", "link": "https://stackoverflow.com/users/1808875/kaushikv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 1, "closed_date": 1421937450, "accepted_answer_id": 28080256, "answer_count": 1, "score": -3, "last_activity_date": 1421892750, "creation_date": 1421877685, "last_edit_date": 1421880412, "question_id": 28077672, "link": "https://stackoverflow.com/questions/28077672/how-to-find-if-a-vector-contains-anything-matching-to-regular-expression", "closed_reason": "Needs more focus", "title": "how to find if a vector contains anything matching to regular expression", "body": "<p>I have questions related to project I am working on. I have thought about these, and have some suspicions, but I would love to hear the community's input as well.</p>\n\n<p>I have a <code>std::vector&lt;std::string&gt; x</code> which contains some regular expressions like \"^OPEN$\" and \"^CLOSE$\". I also have a <code>std::vector&lt;std::string&gt; y</code> which contains some strings like \"OPEN\", \"OPEN23\", \"CLOSE\", \"CLOSE4\", \"XS_234$\".</p>\n\n<p>Now i have to check if vector y has at least one matching the regular expression from vector x.</p>\n\n<p>Limitations:</p>\n\n<ul>\n<li>No external supporting libraries (for example I can't use boost)</li>\n<li>No C++11 or newer.</li>\n</ul>\n"}, {"tags": ["c++", "templates", "c++11", "language-lawyer", "explicit-specialization"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 2, "creation_date": 1421877758, "post_id": 28077592, "comment_id": 44534263, "body": "Ermm, what!? You can&#39;t partially specialize function templates, not even in C++14"}], "answers": [{"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1421877934, "post_id": 28077711, "comment_id": 44534356, "body": "Yes, indeed. Why did I have the feeling that we can partially specialize function templates?! Indeed the code above doesn&#39;t even compile, should have checked before asking ;)"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1421877962, "post_id": 28077711, "comment_id": 44534369, "body": "@vsoftco Because the only thing that prevents it is the standard :)"}], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 4, "last_activity_date": 1421877845, "last_edit_date": 1592644375, "creation_date": 1421877845, "answer_id": 28077711, "question_id": 28077592, "link": "https://stackoverflow.com/questions/28077592/extending-namespace-std-via-partial-template-specialization/28077711#28077711", "title": "extending namespace std via partial template specialization", "body": "<p>You might mean [namespace.std]/1:</p>\n<blockquote>\n<p>A program may add a template specialization for any standard library\ntemplate to namespace <code>std</code> <strong>only if the declaration depends on a\nuser-defined type and the specialization meets the standard library\nrequirements for the original template and is not explicitly\nprohibited<sup>181</sup>.</strong> <hr></p>\n<p><sup>181)</sup> Any library code that instantiates other library templates must be prepared to work adequately with any user-supplied\nspecialization that meets the minimum requirements of the Standard.</p>\n</blockquote>\n<p>If partial specializations of function templates are ever introduced, this quote would also implicitly cover them (as it doesn't restrict itself on explicit specialization).</p>\n"}], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 28077711, "answer_count": 1, "score": 2, "last_activity_date": 1458300774, "creation_date": 1421877333, "last_edit_date": 1458300774, "question_id": 28077592, "link": "https://stackoverflow.com/questions/28077592/extending-namespace-std-via-partial-template-specialization", "title": "extending namespace std via partial template specialization", "body": "<p>As far as I know, we are allowed (with some exceptions that I won't mention here) to \"extend\" <code>namespace std</code> by totally specializing a <code>std</code> template function such as <code>std::swap</code>, i.e.</p>\n\n<pre><code>namespace std\n{\n    template&lt;&gt;\n    void swap&lt;Foo&gt;(Foo&amp; lhs, Foo&amp; rhs){...}\n}\n</code></pre>\n\n<p>is perfectly valid. </p>\n\n<p>Since C++11, we can now partially specialize functions. I believe that we can then play the same game and extend <code>std</code> via partial specialization, like</p>\n\n<pre><code>namespace std\n{\n    template&lt;typename T&gt;\n    void swap&lt;Foo&lt;T&gt;&gt;(Foo&lt;T&gt;&amp; lhs, Foo&lt;T&gt;&amp; rhs){...}\n}\n</code></pre>\n\n<p>however I am not sure about this and couldn't find the proper explaining section in the standard. Is the code immediately above correct or does it lead to UB?</p>\n\n<p>PS: As @Columbo mentioned in the answer, we cannot partially specialize function templates, not even in C++11/14. For some reason I thought one can do that, I believed it was at least a proposal. </p>\n"}, {"tags": ["c++", "oop", "inheritance", "composition", "liskov-substitution-principle"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1421877111, "post_id": 28077482, "comment_id": 44533950, "body": "I don&#39;t see how you can follow the LSP with either approach."}, {"owner": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "edited": false, "score": 2, "creation_date": 1421877115, "post_id": 28077482, "comment_id": 44533952, "body": "what do you mean &quot;the base class cannot be used by itself, it must be casted everytime&quot;? also you can use template if type is the only difference"}, {"owner": {"reputation": 25589, "user_id": 15727, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FFivc.jpg?s=128&g=1", "display_name": "Thomas Padron-McCarthy", "link": "https://stackoverflow.com/users/15727/thomas-padron-mccarthy"}, "edited": false, "score": 0, "creation_date": 1421877445, "post_id": 28077482, "comment_id": 44534117, "body": "Liskov is a TLA now?"}, {"owner": {"reputation": 108, "user_id": 1157230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e72660e21dd450df6db151bc54f6c1?s=128&d=identicon&r=PG", "display_name": "JCMS", "link": "https://stackoverflow.com/users/1157230/jcms"}, "reply_to_user": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "edited": false, "score": 0, "creation_date": 1421902955, "post_id": 28077482, "comment_id": 44541667, "body": "@Bryan Chen : Templates cannot be used due to requirements. What I mean with the base class, is that it would server as a pointer definition for container and only contain the field &quot;dataType&quot;. Any operation would require a cast to the implementation"}, {"owner": {"reputation": 108, "user_id": 1157230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e72660e21dd450df6db151bc54f6c1?s=128&d=identicon&r=PG", "display_name": "JCMS", "link": "https://stackoverflow.com/users/1157230/jcms"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1421903015, "post_id": 28077482, "comment_id": 44541681, "body": "@juanchopanza: Well, with the composition approach it doesn&#39;t apply."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1421907771, "post_id": 28077482, "comment_id": 44543027, "body": "Neither does your inheritance with casting approach. So it isn&#39;t clear what you are asking. You have no dilemma, because you can&#39;t satisfy your requirements with either approach. You need a to try different approach, or to change the requirements."}], "owner": {"reputation": 108, "user_id": 1157230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e72660e21dd450df6db151bc54f6c1?s=128&d=identicon&r=PG", "display_name": "JCMS", "link": "https://stackoverflow.com/users/1157230/jcms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421876965, "creation_date": 1421876965, "question_id": 28077482, "link": "https://stackoverflow.com/questions/28077482/lsp-inheritance-vs-composition", "title": "LSP : Inheritance vs Composition", "body": "<p>I need to respect the LSP while supporting multiple data types (templates can't be used) and I have a dilemma between inheritance and composition.\nIf I use inheritance, the base class cannot be used by itself, it must be casted everytime. Does that violate the LSP?</p>\n\n<p>Inheritance would be:</p>\n\n<pre><code>enum eDataType{\n    FLOAT,\n    INT,\n    }\n\nclass IObject{\n  eDataType dataType;\n  ...\n};\nclass IntObject : IObject{\nint paramA;\nint paramB;\n...\n};\nclass FloatObject : IObject{\nfloat paramA;\nfloat paramB;\n...\n};\n</code></pre>\n\n<p>While using composition it would look like:</p>\n\n<pre><code>struct IntObject{\nint A;\nint B;\n}\nstruct FloatObject{\nfloat A;\nfloat B;\n};\nclass Object{\n  eDataType dataType;\n  IntObject* intObject;\n  FloatObject* floatObject;\n  Object(eDataType dataType){\n   if(dataType == FLOAT){ floatObject = new FloatObject();}\n     ...\n   }\n  void updateData(Message* incomingMessage){\n   if(dataType == FLOAT)\n    ...\n\n};\n</code></pre>\n"}, {"tags": ["c++", "sudo"], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 4084232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tosj2fD2j50/AAAAAAAAAAI/AAAAAAAAAGA/LRX15YcZhn8/photo.jpg?sz=128", "display_name": "Oantby", "link": "https://stackoverflow.com/users/4084232/oantby"}, "edited": false, "score": 0, "creation_date": 1421888635, "post_id": 28077589, "comment_id": 44538108, "body": "Thank you! Sad to say, I&#39;ve used that flag before and just entirely forgot about it."}], "owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "is_accepted": true, "score": 3, "last_activity_date": 1421877828, "last_edit_date": 1421877828, "creation_date": 1421877328, "answer_id": 28077589, "question_id": 28077451, "link": "https://stackoverflow.com/questions/28077451/how-to-immediately-forget-last-sudo-usage/28077589#28077589", "title": "How to immediately forget last sudo usage", "body": "<p>sudo -k  invalidates the credentials.</p>\n\n<p>Edit:</p>\n\n<p>There is sudo -K (capital K) command that you can invoke to invalidate the credentials, but the -k flag can be used by prepending it to argv (maybe even based on the build configuration)</p>\n"}, {"owner": {"reputation": 794, "user_id": 2665391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1468977014/picture?type=large", "display_name": "Amal Ts", "link": "https://stackoverflow.com/users/2665391/amal-ts"}, "is_accepted": false, "score": 0, "last_activity_date": 1421877381, "creation_date": 1421877381, "answer_id": 28077600, "question_id": 28077451, "link": "https://stackoverflow.com/questions/28077451/how-to-immediately-forget-last-sudo-usage/28077600#28077600", "title": "How to immediately forget last sudo usage", "body": "<p>Do the following steps to change the default timeout.\nsudo visudo</p>\n\n<p>scroll down and add the following line at the end:\nDefaults:user_name timestamp_timeout=0</p>\n\n<p>1) Change user_name to your actual user name. </p>\n\n<p>2) Change 10 (in minutes) to anything you wish. A value of -1 will make it infinite (for a single session).</p>\n\n<p>3) Hit Ctrl-X and then hit Y.\nYou are all set!</p>\n\n<p><a href=\"http://www.cyberciti.biz/faq/sudo-not-prompt-for-password-anymore-when-reexecuted/\" rel=\"nofollow\">Reference</a></p>\n"}], "owner": {"reputation": 206, "user_id": 4084232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tosj2fD2j50/AAAAAAAAAAI/AAAAAAAAAGA/LRX15YcZhn8/photo.jpg?sz=128", "display_name": "Oantby", "link": "https://stackoverflow.com/users/4084232/oantby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28077589, "answer_count": 2, "score": 1, "last_activity_date": 1421877828, "creation_date": 1421876834, "question_id": 28077451, "link": "https://stackoverflow.com/questions/28077451/how-to-immediately-forget-last-sudo-usage", "title": "How to immediately forget last sudo usage", "body": "<p>I am trying, in C++, to write a program that will request sudo privilege if it does not have it.  I have accomplished that through <code>execl(\"/usr/bin/sudo\", \"sudo\", argv[0]);</code> but my biggest problem is occurring in trying to test it.  Is there a way to make the system forget that I have recently used <code>sudo</code> so I can run and request access again?</p>\n"}, {"tags": ["c++", "windows", "printing", "system-error"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1421877508, "post_id": 28077449, "comment_id": 44534149, "body": "You should only call <code>GetLastError</code> if a function actually fails, and is documented as setting the last error code on failure."}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1421880427, "post_id": 28077449, "comment_id": 44535383, "body": "I have been trying to figure out this for a long time, and saw examples on web calling GetLastError... The command does fail since I tried with a version that returns S_OK or S_FAIL... it returned E_FAIL... I was not aware that a specific command has to return the error, I thought the process did ?"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1421962724, "post_id": 28077449, "comment_id": 44574016, "body": "<code>GetLastError</code> does exactly what is says, it gets the last error.  If the function you called didn&#39;t fail then you&#39;re looking at an error that happened somewhere else, probably from a function you didn&#39;t call directly and that was likely handled since your function didn&#39;t fail."}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1421962784, "post_id": 28077449, "comment_id": 44574052, "body": "My function did fail though. As I explained... when I found a version of it hat returned a fail code...  It is ok, though, please see my answer, I found the cause"}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1421962992, "post_id": 28077449, "comment_id": 44574153, "body": "@JonathanPotter - just curious - I have never seen c/c++ functions &quot;documented as setting the last error code on failure&quot; - where would I see that ?"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1421964766, "post_id": 28077449, "comment_id": 44574945, "body": "<code>GetLastError</code> is specific to the Windows API, not a c/c++ language feature.  If a function sets the last error on failure it is listed in the documentation generally under Return Values.  Something like <code>If the function fails, the return value is zero. To get extended error information, call GetLastError.</code>"}], "answers": [{"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "is_accepted": true, "score": 0, "last_activity_date": 1421962534, "creation_date": 1421962534, "answer_id": 28099128, "question_id": 28077449, "link": "https://stackoverflow.com/questions/28077449/system-error-183-from-print-call-error-already-exists/28099128#28099128", "title": "System Error 183 from print call (ERROR_ALREADY_EXISTS)", "body": "<p>It seems that, because of a function that was implemented and not disabled, there were two different methods to process image data... I was not aware that each sent their output to the spooler (generating the <code>ERROR_ALREADY_EXISTS</code>... is my guess)</p>\n\n<p>(more precisely, while I did not implement <code>FilterGraphics</code>, but only <code>ImageProcessing</code>, I also should have returned <code>S_FALSE</code> for <code>FilterGraphics</code> in the <code>GetImplementedMethod</code>)</p>\n"}], "owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 0, "accepted_answer_id": 28099128, "answer_count": 1, "score": -1, "last_activity_date": 1421963690, "creation_date": 1421876826, "last_edit_date": 1421963690, "question_id": 28077449, "link": "https://stackoverflow.com/questions/28077449/system-error-183-from-print-call-error-already-exists", "title": "System Error 183 from print call (ERROR_ALREADY_EXISTS)", "body": "<p>I am trying to get a test page printed from the <a href=\"https://code.msdn.microsoft.com/windowshardware/Windows-8-Driver-Samples-5e1aa62e\" rel=\"nofollow\">Windows Driver Kit (WDK) 8.1 Samples</a> (the bitmap sample). Since I did not get any print output, I placed a \"GetLastError\" call after each call to 'DrvWriteSpoolBuf\":</p>\n\n<pre><code>dwWritten = pDevObj-&gt;pDrvProcs-&gt;DrvWriteSpoolBuf(pDevObj, (void*)&amp;(pOemPDEV-&gt;bmFileHeader), sizeof(BITMAPFILEHEADER));\n\nDWORD pdwReturn = GetLastError();\nif (pdwReturn != ERROR_SUCCESS)\n    ERR(\"OEMEndDoc: Error printing=%ld\\n\", pdwReturn); \n</code></pre>\n\n<p>I received Error 183 !!! From <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681382(v=vs.85).aspx\" rel=\"nofollow\">System Error Codes</a>:</p>\n\n<pre><code>ERROR_ALREADY_EXISTS\n183 (0xB7)\nCannot create a file when that file already exists.\n</code></pre>\n\n<p>Alternate version of call above</p>\n\n<pre><code>DWORD res = pOemPDEV-&gt;pOEMHelp-&gt;DrvWriteSpoolBuf(pDevObj, &amp;(pOemPDEV-&gt;bmFileHeader), sizeof(BITMAPFILEHEADER), &amp;dwWritten);\n</code></pre>\n\n<p><strong>I get res=E_FAIL</strong></p>\n\n<p>(apology for using bold - comments seem to overlook this result though)</p>\n\n<p>How can I get such an error from printing ? (either to LPT1 or FILE: port)</p>\n\n<p>I have tested the code by saving to a bitmap the exact contents I am trying to send to he spooler, the bitmap was created correctly. </p>\n\n<p>...I apologize for not including more code, it is available at the link I posted above... <a href=\"https://code.msdn.microsoft.com/windowshardware/Windows-8-Driver-Samples-5e1aa62e\" rel=\"nofollow\">Windows Driver Kit (WDK) 8.1 Samples</a></p>\n\n<p>Windows Driver Kit (WDK) 8.1 Samples\\OEM Printer Customization Plug-in Samples\\C++\\bitmap</p>\n"}, {"tags": ["c++", "casting"], "comments": [{"owner": {"reputation": 683, "user_id": 1075582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQpvC.jpg?s=128&g=1", "display_name": "Mathias Becher", "link": "https://stackoverflow.com/users/1075582/mathias-becher"}, "edited": false, "score": 1, "creation_date": 1421876317, "post_id": 28077262, "comment_id": 44533518, "body": "The methods of <code>DBGameAction</code> are not in the vtable of <code>ServerGameAction</code> and vice versa. You would need an instance of a type derived from both, <code>DBGameAction</code> and <code>ServerGameAction</code>."}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "edited": false, "score": 0, "creation_date": 1421877690, "post_id": 28077262, "comment_id": 44534230, "body": "It is a wrong program design if I am getting the design correctly. If ServerGameAction is the &quot;runtime&quot; version of the class and you want a &quot;persisted&quot; version of the class,  it would be better to have a PersistedGameAction inheriting from ServerGameAction. You use the ServerGameAction throughout the code and you use the PersistedGameAction on load/save."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 3743752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a5e61a398d43ee2f39feea323e35fa34?s=128&d=identicon&r=PG&f=1", "display_name": "scopichmu", "link": "https://stackoverflow.com/users/3743752/scopichmu"}, "edited": false, "score": 0, "creation_date": 1421879249, "post_id": 28077680, "comment_id": 44534896, "body": "Because only Database module can create new game action as DBGameAction entity. Another classes has private constructors (i have updated my code)."}, {"owner": {"reputation": 109, "user_id": 3743752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a5e61a398d43ee2f39feea323e35fa34?s=128&d=identicon&r=PG&f=1", "display_name": "scopichmu", "link": "https://stackoverflow.com/users/3743752/scopichmu"}, "edited": false, "score": 0, "creation_date": 1421880586, "post_id": 28077680, "comment_id": 44535456, "body": "I can remove GameAction class and use DBGameAction class as parent class for others classes, then i can do downcast to the child classes. Thanks!"}], "owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": false, "score": 0, "last_activity_date": 1421877719, "creation_date": 1421877719, "answer_id": 28077680, "question_id": 28077262, "link": "https://stackoverflow.com/questions/28077262/cast-relatives-classes-to-each-other-which-has-common-parent-class/28077680#28077680", "title": "Cast relatives classes to each other which has common parent class", "body": "<p>It is wrong program design. </p>\n\n<p>Is there a reason why you are not creating GameAction variables which you then downcast to DBGameAction and ServerGameAction?</p>\n"}, {"owner": {"reputation": 2808, "user_id": 779446, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b7824b872e7c61d94b262cced5f5da4?s=128&d=identicon&r=PG", "display_name": "opetroch", "link": "https://stackoverflow.com/users/779446/opetroch"}, "is_accepted": false, "score": 0, "last_activity_date": 1421878664, "last_edit_date": 1421878664, "creation_date": 1421878332, "answer_id": 28077808, "question_id": 28077262, "link": "https://stackoverflow.com/questions/28077262/cast-relatives-classes-to-each-other-which-has-common-parent-class/28077808#28077808", "title": "Cast relatives classes to each other which has common parent class", "body": "<p>I haven't used reinterpret_cast in many occasions but I am sure it shouldn't be used this way. You should try to find a better design for the interface of your classes. Someone who uses your classes, doesn't have a way to know that he needs to do this sort of castings to add a player.</p>\n\n<p>You have to ask yourself, if adding a player is an operation that only makes sense for ServerGameActions or for DBGameActions too. If it makes sense to add players to DBGameActions, then AddPlayer should be in the interface of DBGameAction too. Then you will not need these casts. Taking it one step further, if it is an operation that makes sense for every possible GameAction you may ever have, you can put it in the interface of the base class. </p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 3743752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a5e61a398d43ee2f39feea323e35fa34?s=128&d=identicon&r=PG&f=1", "display_name": "scopichmu", "link": "https://stackoverflow.com/users/3743752/scopichmu"}, "edited": false, "score": 0, "creation_date": 1421961725, "post_id": 28079238, "comment_id": 44573596, "body": "So i think in that case using friend classes is better way than using inheritance with casting"}], "owner": {"reputation": 1049, "user_id": 3170912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65c53d46b9f9d295bd161f60ac97c16?s=128&d=identicon&r=PG&f=1", "display_name": "iwolf", "link": "https://stackoverflow.com/users/3170912/iwolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1421885671, "last_edit_date": 1421885671, "creation_date": 1421885360, "answer_id": 28079238, "question_id": 28077262, "link": "https://stackoverflow.com/questions/28077262/cast-relatives-classes-to-each-other-which-has-common-parent-class/28079238#28079238", "title": "Cast relatives classes to each other which has common parent class", "body": "<p>I have used a similar pattern effectively in the past, but it is a little different than most interface class setups. Instead of having a consistent interface that can trigger appropriate class-specific methods for accomplishing similar tasks on different data types, this provides two completely different sets of functionality which each have their own interface, yet work on the same data layout.</p>\n\n<p>The only reason I would pull out this design is for situations where the base class is data-only and shared between multiple libraries or executables. Then each lib or exe defines a child class which houses all the functionality that it's allowed to use on the base data. This way you can, for example, build your server executable with all kinds of nice extra functions for manipulating game data that the client isn't allowed to use, and the server-side functionality doesn't get built into the client executable. It's much easier for a game modder to trigger existing, dormant functionality than to write and inject their own.</p>\n\n<p>The main part of your question about casting directly between the child classes is making us worry, though. If you find yourself wanting to do that, stop and rethink. You could theoretically get away with the cast as long as your classes stay non-virtual and the derived classes never add data members (the derived classes can't have any data for what you're trying to do anyway, due to object slicing), but it would be potentially dangerous and, most likely, less readable code. As @dspfnder was talking about, you would want to work with base classes for passing data around and down-cast on-demand to access functionality.</p>\n\n<p>With all that said, there are many ways to isolate, restrict, or cull functionality. It may be worth reworking your design with functionality living in friend classes instead of child classes; that would require much less or no casting.</p>\n"}], "owner": {"reputation": 109, "user_id": 3743752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a5e61a398d43ee2f39feea323e35fa34?s=128&d=identicon&r=PG&f=1", "display_name": "scopichmu", "link": "https://stackoverflow.com/users/3743752/scopichmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1421919031, "creation_date": 1421876019, "last_edit_date": 1421919031, "question_id": 28077262, "link": "https://stackoverflow.com/questions/28077262/cast-relatives-classes-to-each-other-which-has-common-parent-class", "title": "Cast relatives classes to each other which has common parent class", "body": "<p>I have classes DBGameAction and ServerGameAction which has common parent class GameAction. Classes DBGameAction and ServerGameAction it's a API for safety  working with entity GameAction from different part of program.</p>\n\n<p>My question is: is it normal at first create DBGameAction entity and then  cast it to the ServerGameAction entity? Or maybe it's a wrong program design?</p>\n\n<p>My program:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass GameAction\n{\nprotected:\n        /* Need use mutex or something else for having safety access to this entity */\n        unsigned int cost;\n        unsigned int id;\n        std::vector&lt;std::string&gt; players;\n        GameAction(){}\npublic:\n        unsigned int getCost() const\n        {\n                return cost;\n        }\n};\n\nclass DBGameAction : public GameAction\n{\npublic:\n        void setCost(unsigned int c)\n        {\n                cost = c;\n        }\n        void setId(unsigned int i)\n        {\n                id = i;\n        }\n};\n\nclass ServerGameAction : public GameAction\n{\n        ServerGameAction(){}\npublic:\n        void addPlayer(std::string p)\n        {\n                players.push_back(p);\n        }\n    std::string getLastPlayer() const\n    {\n            return players.back();\n    }\n};\n\nint main(int argc, char *argv[])\n{\n        DBGameAction *dbga = 0;\n        ServerGameAction *sga = 0;\n\n        try {\n                dbga = new DBGameAction;\n        } \n        catch(...) /* Something happens wrong! */\n        {\n                return -1;\n        }\n\n        sga = reinterpret_cast&lt;ServerGameAction*&gt;(dbga);\n\n        sga-&gt;addPlayer(\"Max\");\n        dbga-&gt;setCost(100);\n\n        std::cout &lt;&lt; dbga-&gt;getCost() &lt;&lt; std::endl;\n        std::cout &lt;&lt; sga-&gt;getLastPlayer() &lt;&lt; std::endl;\n\n        delete dbga;\n        sga = dbga = 0;\n\n        return 0;\n }\n</code></pre>\n"}, {"tags": ["c++", "validation", "input"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1421876278, "post_id": 28077229, "comment_id": 44533498, "body": "It&#39;s always good to copy/paste the exact error message. Otherwise we have to guess."}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 1, "creation_date": 1421876372, "post_id": 28077229, "comment_id": 44533548, "body": "What is your locale? Are those in ASCII? Are those in UTF-8? Are those multibyte characters?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1421876482, "post_id": 28077229, "comment_id": 44533606, "body": "What is the compiler/library and versions?"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1421876883, "post_id": 28077229, "comment_id": 44533816, "body": "You should check that <code>input</code> is non-empty before trying to read from it."}], "answers": [{"comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 1, "creation_date": 1421876608, "post_id": 28077373, "comment_id": 44533671, "body": "The <code>string</code> is <code>std::string</code>, and thus obviously <code>char</code>-based, not <code>wchar_t</code>-based..."}], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 2, "last_activity_date": 1421877210, "last_edit_date": 1421877210, "creation_date": 1421876466, "answer_id": 28077373, "question_id": 28077229, "link": "https://stackoverflow.com/questions/28077229/isdigit-raises-a-debug-assertion-when-entering-%c2%a3-and-%c2%ac/28077373#28077373", "title": "isdigit raises a debug assertion when entering &#163; and &#172;", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/fcc4ksh8.aspx\" rel=\"nofollow\">The Microsoft docs</a> say:</p>\n\n<blockquote>\n  <p>The behavior of isdigit and _isdigit_l is undefined if c is not EOF or in the range 0 through 0xFF, inclusive. When a debug CRT library is used and c is not one of these values, the functions raise an assertion.</p>\n</blockquote>\n\n<p>(I'm guessing Microsoft because of the comment about an \"error window\", but docs for other implementations place the same limit on argument values.)</p>\n\n<p>EDIT: as Deduplicator observed, the error probably arises from default <code>char</code> being signed on this platform, so that you are passing negative values (different from <code>EOF</code>).  <code>std::string</code> uses <code>char</code>, not wide characters, so my original conclusion cannot be correct.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3392999"}, "edited": false, "score": 0, "creation_date": 1421878056, "post_id": 28077453, "comment_id": 44534417, "body": "Any ideas how I can fix it?"}, {"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 1, "creation_date": 1421878163, "post_id": 28077453, "comment_id": 44534471, "body": "Cast to <code>unsigned char</code> (the standard-conformant way), or pass <code>&#47;J</code> to your compiler to make <code>char</code> unsigned  (lazy, but sometimes neccessary for adopting big code-bases which are hard to fix), as the quoted page shows."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3392999"}, "edited": false, "score": 0, "creation_date": 1421878520, "post_id": 28077453, "comment_id": 44534611, "body": "Great! Thank you very much!"}], "owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "is_accepted": true, "score": 3, "last_activity_date": 1421876852, "creation_date": 1421876852, "answer_id": 28077453, "question_id": 28077229, "link": "https://stackoverflow.com/questions/28077229/isdigit-raises-a-debug-assertion-when-entering-%c2%a3-and-%c2%ac/28077453#28077453", "title": "isdigit raises a debug assertion when entering &#163; and &#172;", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/cc953fe1.aspx\" rel=\"nofollow\">The microsoft docs say</a>:</p>\n\n<blockquote>\n  <p>The C++ compiler treats variables of type char, signed char, and unsigned char as having different types. <strong>Variables of type char are promoted to int as if they are type signed char by default</strong>, unless the /J compilation option is used. In this case they are treated as type unsigned char and are promoted to int without sign extension.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/fcc4ksh8.aspx\" rel=\"nofollow\">And they also say</a>:</p>\n\n<blockquote>\n  <p>The behavior of <code>isdigit</code> and <code>_isdigit_l</code> is <strong>undefined if <code>c</code> is not <code>EOF</code> or in the range <code>0</code> through <code>0xFF</code>, inclusive</strong>. When a debug CRT library is used and <code>c</code> is not one of these values, the functions <strong>raise an assertion</strong>.</p>\n</blockquote>\n\n<p>So <code>char</code> is per default <code>signed</code>, which means as those two characters are not ASCII they are negative in your ANSI charset, and thus you get the assertion.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3392999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 28077453, "answer_count": 2, "score": 1, "last_activity_date": 1421877429, "creation_date": 1421875912, "last_edit_date": 1421877429, "question_id": 28077229, "link": "https://stackoverflow.com/questions/28077229/isdigit-raises-a-debug-assertion-when-entering-%c2%a3-and-%c2%ac", "title": "isdigit raises a debug assertion when entering &#163; and &#172;", "body": "<p>The below code works for every character I type in except for <code>\u00a3</code> or <code>\u00ac</code>.</p>\n\n<p>Why do I get a \"debug assertion fail\"?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cctype&gt;\nusing namespace std;\n\nint main() {\n    string input;\n    while (1) {\n        cout &lt;&lt; \"Input number: \";\n        getline(cin, input);\n        if (!isdigit(input[0]))\n            cout &lt;&lt; \"not a digit\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance", "containers", "smart-pointers"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1421875737, "post_id": 28077136, "comment_id": 44533226, "body": "Again the common mistake, no checking of a stream extraction: <code>dataFile &gt;&gt; word;</code>"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1421876903, "post_id": 28077136, "comment_id": 44533827, "body": "A smart pointer is not a magic wand. Why do you expect it do do magic stuff for you?"}, {"owner": {"reputation": 261, "user_id": 3678551, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1313858391/picture?type=large", "display_name": "Loek Janssen", "link": "https://stackoverflow.com/users/3678551/loek-janssen"}, "edited": false, "score": 0, "creation_date": 1421877185, "post_id": 28077136, "comment_id": 44533999, "body": "Well, smart pointers in a container do just that. At least, they should! Usually when you create a container of the parent class type you can store child class type in it such that when you extract it out of the container you can use the methods/vars of that child class, right?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421877713, "post_id": 28077136, "comment_id": 44534241, "body": "They don&#39;t, they shouldn&#39;t, and you can&#39;t."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421878083, "post_id": 28077136, "comment_id": 44534430, "body": "It would be easier to discuss the problem with your code if you show a line that produces compilation errors, and explain what in your opinion it should do. Also of you are replying to someone in comments, mention their name like this: @LoekJanssen."}, {"owner": {"reputation": 261, "user_id": 3678551, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1313858391/picture?type=large", "display_name": "Loek Janssen", "link": "https://stackoverflow.com/users/3678551/loek-janssen"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421878490, "post_id": 28077136, "comment_id": 44534601, "body": "@n.m. Thanks for pointing that out! Run time error included."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421878989, "post_id": 28077136, "comment_id": 44534797, "body": "That would be a compile-time error. So what you expect to happen if the shape stored at that place in your container is actually a sphere, a paraboloid, a knotty stringy shape, or a squiggly doughnut-like shape with three ears? None of them have <code>PrintApex</code> member."}], "answers": [{"comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421879059, "post_id": 28077900, "comment_id": 44534828, "body": "Please do not suggest <code>dynamic_cast</code> to programmers that don&#39;t understand inheritance."}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421879367, "post_id": 28077900, "comment_id": 44534944, "body": "@n.m. That&#39;s why the reference to cppref. He should read this stuff"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421879805, "post_id": 28077900, "comment_id": 44535121, "body": "&quot;Now, you need to somehow inform the compiler about the type you want to work with, so it can find the methods you want to access. For that, you use dynamic_cast to specify the intent that this is a Sphere and you should have access to Sphere members.&quot; Please don&#39;t suggest this solution to inexperienced people. It&#39;s simply bad engineering. cppreference won&#39;t tell you that, it&#39;s a C++ language reference. One needs a resource dedicated to object-oriented programming and design, not any particular language."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421880061, "post_id": 28077900, "comment_id": 44535221, "body": "One wants to use a virtual function, exactly like suggest. Not because &quot;you want to offload as much to the compiler&quot;, but because this solution is extensible and future-resistant (you don&#39;t need to open it up when you add new shapes) while the one with <code>dynamic_cast</code> is fragile."}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421880083, "post_id": 28077900, "comment_id": 44535237, "body": "@n.m. I agree with the bad engineering, that&#39;s why my edit with a more sound way of doing what he wants to do. He should get away from casting but right now he has to understand the what would be needed to move forward with what he has to do."}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1421880437, "post_id": 28077900, "comment_id": 44535390, "body": "@n.m. Again, I agree, I just find appealing to laziness (at least in the beginning) a better driving force than benefits that may never be perceived. I&#39;m sure you&#39;ve heard this before &quot;no, we won&#39;t have more than two classes, we don&#39;t need that&quot;."}], "owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "is_accepted": true, "score": 1, "last_activity_date": 1421879324, "last_edit_date": 1421879324, "creation_date": 1421878703, "answer_id": 28077900, "question_id": 28077136, "link": "https://stackoverflow.com/questions/28077136/abstract-class-inheritance-and-smart-pointer-containers/28077900#28077900", "title": "Abstract class inheritance and smart pointer containers", "body": "<p>Think about it. You create a vector of shared_ptr of Shape. As far as the vector is concerned you are storing Shape instances in it, not Sphere or whatever. </p>\n\n<p>Now, you happen to initialize your Shape instance with a Sphere and you store the ptr of that Sphere into the vector. Next item is a RightCircularCone, again stored as a Shape. </p>\n\n<p>You access the first element, and as far as the compiler is concerned at THAT point, you only have a Shape. It cannot deduce the actual type as this happens at runtime. So, as far as the compiler is concerned you have a Shape instance with whatever the Shape class contains. </p>\n\n<p>Now, you need to somehow inform the compiler about the type you want to work with, so it can find the methods you want to access. For that, you use dynamic_cast to specify the intent that this is a Sphere and you should have access to Sphere members.</p>\n\n<p>More details about dynamic_cast, here <a href=\"http://en.cppreference.com/w/cpp/language/dynamic_cast\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/dynamic_cast</a></p>\n\n<p>Edit. A note about design. </p>\n\n<p>In principle, you want to offload as much to the compiler. If there is something that compiler can do, let him do it. So, if you want to do something different for each subclass of Shape, instead of checking a string literal for the Shape type you could use virtual specialized functions that act on a specific type. E.g.</p>\n\n<pre><code>virtual void printMe(Sphere &amp; sphere) {\ncout &lt;&lt; \"This is a sphere with radious x\" &lt;&lt; endl;\n} \n\nvirtual void printMe(RightCircularCone &amp; cone) {\ncout &lt;&lt; \"This is a cone\" &lt;&lt; endl;\n}\n\n//and you use like \n\nfor (auto &amp; shape: shapes) { printMe(shape); } \n\n//and the correct functions are resolved automagically\n</code></pre>\n\n<p>it may seem a bit more work, but in the long run it is actually simpler as you offload the picking of the functionality to someone else.</p>\n"}], "owner": {"reputation": 261, "user_id": 3678551, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1313858391/picture?type=large", "display_name": "Loek Janssen", "link": "https://stackoverflow.com/users/3678551/loek-janssen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 28077900, "answer_count": 1, "score": 1, "last_activity_date": 1421879324, "creation_date": 1421875523, "last_edit_date": 1421878462, "question_id": 28077136, "link": "https://stackoverflow.com/questions/28077136/abstract-class-inheritance-and-smart-pointer-containers", "title": "Abstract class inheritance and smart pointer containers", "body": "<p>I am creating an abstract geometry class that has children classes. However, I want that the class <code>RightCircularCone</code> also has its own private variables that define its apex coordinates, such that the abstract class is not unnecessary big in memory size for objects of type <code>Sphere</code> that don't need storage of apex variables. \nHowever, I can't seem to access the functions and variables of <code>RightCircularCone</code> when I load them from a container that uses smart pointers, as it keeps being defined as its parent class <code>Shape</code>. Can anyone see what is going wrong?! Appreciate it!</p>\n\n<pre><code>/* shapes.hpp */\nclass Shape{\n    public:\n        unsigned int color;\n        float radius;\n        float x,y,z;\n    public:\n        void SetSpatial(float radius, float x, float y, float z);\n        unsigned int GetColor(void);\n        void SetColor(unsigned int color);\n        virtual bool PointInside(const std::array&lt;double,3&gt; &amp;point)=0;\n};\n\nclass RightCircularCone : public Shape{ \n    private:\n        float Ax,Ay,Az;\n    public:\n        bool PointInside(const std::array&lt;double,3&gt; &amp;point);\n        void SetApex(float x, float y, float z);\n        void PrintApex();\n};\n\nclass Sphere : public Shape{\n    public:\n        bool PointInside(const std::array&lt;double,3&gt; &amp;point);\n};\n</code></pre>\n\n<p>The classes defined above are used in another .cpp file where methods of a class are defined:</p>\n\n<pre><code>#include \"../../include/part.hpp\" /* includes shapes.hpp in turn */\n\nvoid Part::ReadPartFile(std::string partfile){\n    try{\n        std::ifstream dataFile;\n        dataFile.open(partfile);\n        //do checks, error badbits etc...\n        std::string word;\n        unsigned int counter=0;\n        while(!dataFile.eof()){\n            dataFile &gt;&gt; word;\n            if(word == \"sphere\"){\n                auto newSphere = std::make_shared&lt;Sphere&gt;();\n                // load variables into objects from file by checking each word by using setColor and setSpatial\n                shapeList[counter++] = newSphere;\n            } else if(word == \"rccone\"){\n                auto newRccone = std::make_shared&lt;RightCircularCone&gt;();\n                // load variables into objects from file by checking each word by using setColor and setSpatial and setApex\n                shapeList[counter++] = newRccone;\n            }\n        }\n        dataFile.close();\n    } catch(std::ifstream::failure e) {\n        //do exception handling here if necessary\n}\n</code></pre>\n\n<p>Now, when I use an iterator over the map <code>std::map&lt;unsigned int, std::shared_ptr&lt;Shape&gt; &gt; shapeList;</code> as defined in <code>part.cpp</code> I can never access the methods of children classes <code>Sphere</code> and <code>RightCircularCone</code> as the map returns a type of <code>Shape</code>, even though I used a smart pointer!!!\nAnybody knows why and a potential fix (or neater way to set up the classes)??\nThanks!</p>\n\n<p>//EDIT:</p>\n\n<p>This is the error I get:</p>\n\n<pre><code>error: no member named 'PrintApex' in 'Shape'\n                                iterator-&gt;second-&gt;PrintApex();\n</code></pre>\n"}, {"tags": ["c++", "memory-leaks"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1421876103, "post_id": 28077100, "comment_id": 44533422, "body": "A bad practice to return allocated memory - you might use unique_ptr (shared_ptr) instead"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1421878040, "post_id": 28077100, "comment_id": 44534409, "body": "@Dieter L&#252;cking: A bad practice might be to work with allocated memory using <i>naked pointers</i>, as opposed to using <code>unique_ptr</code> or <code>shared_ptr</code>. There&#39;s nothing wrong with <i>returning</i> allocated memory per se. One can also point out that the question is only nominatively C++. It makes sense as a C question as well."}], "answers": [{"owner": {"reputation": 66, "user_id": 4478613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdtSp.jpg?s=128&g=1", "display_name": "devej", "link": "https://stackoverflow.com/users/4478613/devej"}, "is_accepted": false, "score": 1, "last_activity_date": 1421875695, "creation_date": 1421875695, "answer_id": 28077169, "question_id": 28077100, "link": "https://stackoverflow.com/questions/28077100/does-this-code-leak-if-use-of-function-relace1-doesnt-delete-memory-allocated/28077169#28077169", "title": "Does this code leak if use of function relace1() doesn&#39;t delete memory allocated by cc?", "body": "<p>This code doesn't leak, per se, but you leave it for the caller of <code>replace1()</code> to <code>delete[]</code> that memory, or else it will be leaked.</p>\n"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 1, "last_activity_date": 1421876023, "creation_date": 1421876023, "answer_id": 28077265, "question_id": 28077100, "link": "https://stackoverflow.com/questions/28077100/does-this-code-leak-if-use-of-function-relace1-doesnt-delete-memory-allocated/28077265#28077265", "title": "Does this code leak if use of function relace1() doesn&#39;t delete memory allocated by cc?", "body": "<p>Your function passes the pointer to the allocated memory back to the calling code. It passes the <em>ownership</em> of this memory to the caller. Which means that the function does not leak, assuming that the calling code receives the pointer and keeps track of it (and eventually deallocates the memory).</p>\n\n<p>In other words there's nothing to suspect a leak in this code. From the memory leak prevention perspective there's nothing wrong with this code. </p>\n\n<p>If your program leaks this memory, it is the calling code's fault, not this function's fault.</p>\n"}, {"owner": {"reputation": 4964, "user_id": 2622016, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/224fcc10727bc8adf8a64f548abd9b6b?s=128&d=identicon&r=PG", "display_name": "user2622016", "link": "https://stackoverflow.com/users/2622016/user2622016"}, "is_accepted": false, "score": 0, "last_activity_date": 1421876239, "creation_date": 1421876239, "answer_id": 28077317, "question_id": 28077100, "link": "https://stackoverflow.com/questions/28077100/does-this-code-leak-if-use-of-function-relace1-doesnt-delete-memory-allocated/28077317#28077317", "title": "Does this code leak if use of function relace1() doesn&#39;t delete memory allocated by cc?", "body": "<p>No, this code doesn't leak - it returns the resource. Everything is OK.</p>\n\n<p>As a part of documentation for this function should be something like - <em>returns dynamically allocated memory; caller should free the result</em>.</p>\n\n<p>If someone outside does not free the resource, then it will be leak, but in outside code, not in this function.</p>\n"}], "owner": {"reputation": 136, "user_id": 2286810, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/437ac0685e9b7acafa736193c1b3943b?s=128&d=identicon&r=PG", "display_name": "user2286810", "link": "https://stackoverflow.com/users/2286810/user2286810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 28077265, "answer_count": 3, "score": 0, "last_activity_date": 1421876239, "creation_date": 1421875420, "question_id": 28077100, "link": "https://stackoverflow.com/questions/28077100/does-this-code-leak-if-use-of-function-relace1-doesnt-delete-memory-allocated", "title": "Does this code leak if use of function relace1() doesn&#39;t delete memory allocated by cc?", "body": "<p>I think this code leaks, unless outside replace1() somebody deletes the memory allocated by cc = new[....], can you confirm??</p>\n\n<pre><code>char* replace1(char *c){\n    if(c == NULL) return NULL;\n    int len = strlen(c);\n    if(len == 0) return NULL;\n    int cnt = 0;\n    for(int i=0; i&lt;len; ++i)\n    {\n        if(c[i] == ' ')\n            ++cnt;\n    }\n    char *cc = new char[len+2*cnt+1];\n    int p = 0;\n    for(int i=0; i&lt;len; ++i)\n    {\n        if(c[i] == ' ')\n        {\n            cc[p] = '%';\n            cc[p+1] = '2';\n            cc[p+2] = '0';\n            p += 3;\n        }\n        else\n        {\n            cc[p] = c[i];\n            ++p;\n        }\n    }\n    cc[p] = '\\0';\n    return cc;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "initialization", "fill"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1421875430, "post_id": 28077070, "comment_id": 44533056, "body": "Your private variable is just a pointer. Not an array, not a pointer to an array."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 3, "creation_date": 1421875463, "post_id": 28077070, "comment_id": 44533077, "body": "Something has to zero the memory; whether it&#39;s you or a library function. There&#39;s no way to magically zero memory without iterating it."}], "answers": [{"owner": {"reputation": 2129, "user_id": 4423396, "user_type": "registered", "profile_image": "https://graph.facebook.com/1621536795/picture?type=large", "display_name": "Niels Billen", "link": "https://stackoverflow.com/users/4423396/niels-billen"}, "is_accepted": false, "score": 0, "last_activity_date": 1421875446, "creation_date": 1421875446, "answer_id": 28077110, "question_id": 28077070, "link": "https://stackoverflow.com/questions/28077070/c-pointer-of-array-of-ints-initialization/28077110#28077110", "title": "C++ Pointer of Array of Ints Initialization", "body": "<p>You can use the <code>memset</code> function:</p>\n\n<pre><code>memset(arrayName,0,sizeof(int)*numElements);\n</code></pre>\n\n<p>This <code>void * memset ( void * ptr, int value, size_t num );</code> function sets the first num bytes of the block of memory pointed by <code>ptr</code> to the specified value (interpreted as an unsigned char).</p>\n\n<p>To use it you must include the <code>string.h</code> header file.</p>\n\n<p>For more information: <a href=\"http://www.cplusplus.com/reference/cstring/memset/\" rel=\"nofollow\">http://www.cplusplus.com/reference/cstring/memset/</a></p>\n"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "is_accepted": true, "score": 6, "last_activity_date": 1421875470, "creation_date": 1421875470, "answer_id": 28077117, "question_id": 28077070, "link": "https://stackoverflow.com/questions/28077070/c-pointer-of-array-of-ints-initialization/28077117#28077117", "title": "C++ Pointer of Array of Ints Initialization", "body": "<p>If you want to zero-initialize a newed array, just do <em>value-initialize</em> it. This has the effect of zero-initializing its elements:</p>\n\n<pre><code>arrayName = new int[numElements]();\n//                              ^^\n</code></pre>\n\n<p>But you really want to be using an <code>std::vector&lt;int&gt;</code>.</p>\n\n<pre><code>private:\n  std::vector&lt;int&gt; vname;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ClassName::ClassName(int numElements) : vname(numElements) {}\n</code></pre>\n\n<p>This way you don't have to worry about deleting an array and implementing copy constructors and assignment operators.</p>\n"}, {"owner": {"reputation": 45, "user_id": 3501778, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/I9HEG.jpg?s=128&g=1", "display_name": "A Questioner", "link": "https://stackoverflow.com/users/3501778/a-questioner"}, "is_accepted": false, "score": 0, "last_activity_date": 1421876332, "last_edit_date": 1421876332, "creation_date": 1421876028, "answer_id": 28077266, "question_id": 28077070, "link": "https://stackoverflow.com/questions/28077070/c-pointer-of-array-of-ints-initialization/28077266#28077266", "title": "C++ Pointer of Array of Ints Initialization", "body": "<p>What you want to do is progressively expand the array on demand.</p>\n\n<pre><code> arrayName = new int[numElements];\n for(int i = 0; i&lt;numElements; i++)\n       arrayName[i] = 0;\n</code></pre>\n\n<p>The above code (what you gave) will give you an array of size numElements, and THEN the for loop will fill it. This is allocated now, and can't, as I understand it, be simply or easily resized (memset will overwrite previously held values in the array). </p>\n\n<p>You could copy the whole array over every time you want to resize it:</p>\n\n<pre><code> int * oldarr = new int[OldSize];\n //fill your old array\n\n int * newarr = new int[NewSize];\n for(int i = 0; i&lt;OldSize; i++)\n       newarr[i] = oldarr[i];\n</code></pre>\n\n<p>Other than that, you could make the array much larger, or you could use various STLs, such as std::vector. Vector can be increased with a simple push_back function, and allows [] operator access (like arr[5] and whatnot).</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 29, "user_id": 2081987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2490caaf67eeb39fc621748f8a3ecb51?s=128&d=identicon&r=PG", "display_name": "Kevin J", "link": "https://stackoverflow.com/users/2081987/kevin-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 28077117, "answer_count": 3, "score": 1, "last_activity_date": 1421876880, "creation_date": 1421875342, "last_edit_date": 1421876880, "question_id": 28077070, "link": "https://stackoverflow.com/questions/28077070/c-pointer-of-array-of-ints-initialization", "title": "C++ Pointer of Array of Ints Initialization", "body": "<p>I want to have an array accessible by all functions of a class. </p>\n\n<p>I put the array as private variable in the header file. </p>\n\n<pre><code>    private:\n    int* arrayName;\n</code></pre>\n\n<p>In the .cpp file where I implement the class, the constructor takes in an int value (size) and creates the array. The goal is to fill it up</p>\n\n<pre><code>ClassName::ClassName(int numElements){\n  arrayName = new int[numElements]; //make arrays the size of numElements\n  for(int i = 0; i&lt;numElements; i++)\n      arrayName[i] = 0;\n}\n</code></pre>\n\n<p>I feel like this is quite inefficient. I know you can do int array[5] = {0}; but how do you do it when you don't initially know the size. </p>\n"}, {"tags": ["c++", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1421878191, "post_id": 28077059, "comment_id": 44534480, "body": "Your new code doesn&#39;t make any sense. You can&#39;t assign a byte to a <code>std::string</code>. Why are you making an array of strings? Why are you allocating 4 bytes on the heap? Why not just put them on the stack once? Then you wouldn&#39;t need the temporary memory, or the strings, or the copying step."}, {"owner": {"reputation": 81, "user_id": 4475848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0030cc6972b3d74d3023ce644d872f?s=128&d=identicon&r=PG&f=1", "display_name": "Kelv", "link": "https://stackoverflow.com/users/4475848/kelv"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1421934105, "post_id": 28077059, "comment_id": 44556920, "body": "How would I do that? Like a said on a previous comment, I&#39;m new to C++ and I don&#39;t really know how to do this kind of stuff, so my code is probably wrong, that&#39;s why I&#39;m asking for help."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 4475848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0030cc6972b3d74d3023ce644d872f?s=128&d=identicon&r=PG&f=1", "display_name": "Kelv", "link": "https://stackoverflow.com/users/4475848/kelv"}, "edited": false, "score": 0, "creation_date": 1421876506, "post_id": 28077163, "comment_id": 44533618, "body": "Okay, so I should remove the &quot;buffer[fourBytes] = &#39;/0/;&quot; then? Sorry for any dumb questions im really new to C++ :/"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "reply_to_user": {"reputation": 81, "user_id": 4475848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0030cc6972b3d74d3023ce644d872f?s=128&d=identicon&r=PG&f=1", "display_name": "Kelv", "link": "https://stackoverflow.com/users/4475848/kelv"}, "edited": false, "score": 1, "creation_date": 1421876636, "post_id": 28077163, "comment_id": 44533686, "body": "@Kelv: That should stop the crash, yes."}], "owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "is_accepted": false, "score": 4, "last_activity_date": 1421876062, "last_edit_date": 1421876062, "creation_date": 1421875659, "answer_id": 28077163, "question_id": 28077059, "link": "https://stackoverflow.com/questions/28077059/c-how-can-i-retrieve-a-file-bom-to-get-its-type-of-encoding/28077163#28077163", "title": "C++ How can I retrieve a file BOM to get its type of encoding?", "body": "<p>Array indices start at 0, so you're writing past the end of the buffer with <code>buffer[fourBytes] = '\\0';</code>. You need to allocate <code>fourBytes + 1</code> bytes if you want to do that. This should stop the crash you're getting when you delete the buffer.</p>\n\n<p>However the only reason for null-terminating the buffer like that is if you want to treat it as a C-style string (e.g. to print it out), which you don't seem to be doing. You're copying it into <code>tabBytes</code>, but you're <strong>not</strong> copying the null-terminator. So it's unclear exactly what it is you're trying to achieve.</p>\n\n<p>Your overall logic for reading the first few bytes from the file is fine. Although based on the code above, you could just read the data straight into <code>tabBytes</code> and do away with the allocation/copy/free of <code>buffer</code>.</p>\n"}], "owner": {"reputation": 81, "user_id": 4475848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0030cc6972b3d74d3023ce644d872f?s=128&d=identicon&r=PG&f=1", "display_name": "Kelv", "link": "https://stackoverflow.com/users/4475848/kelv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421951015, "creation_date": 1421875290, "last_edit_date": 1421951015, "question_id": 28077059, "link": "https://stackoverflow.com/questions/28077059/c-how-can-i-retrieve-a-file-bom-to-get-its-type-of-encoding", "title": "C++ How can I retrieve a file BOM to get its type of encoding?", "body": "<p>I don't know if its possible, but is there a way to retrieve the first 4 bytes of a file (most likely the BOM) in order to get its type of encoding (UTF-8, UTF-16LE, CP1252, etc...). And then, if the file selected was encoded in UTF-8, the values found in an array \"tabBytes[]\" would be something like:</p>\n\n<pre><code>    tabBytes[0] = 0xEF\n    tabBytes[1] = 0xBB\n    tabBytes[2] = 0xBF\n    tabBytes[3] = XXXX\n</code></pre>\n\n<p>Thanks for taking time and helping me! I'll be looking forward to read your comments and answers on this.</p>\n\n<p>EDIT: I'm new to C++, so the code I wrote before is probably wrong, thus I removed it.</p>\n\n<p>FINAL EDIT: Finally I found a solution to my problem, thanks to those who helped me!</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 832, "user_id": 1659229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TLOTm.jpg?s=128&g=1", "display_name": "Nox", "link": "https://stackoverflow.com/users/1659229/nox"}, "edited": false, "score": 0, "creation_date": 1421889047, "post_id": 28076904, "comment_id": 44538227, "body": "How have you stock your Xs and Ys?"}, {"owner": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 0, "creation_date": 1421916612, "post_id": 28076904, "comment_id": 44546751, "body": "Doesn&#39;t even have to be signals and slots. You can just have a method that takes lists of Xs and Ys as arguments. For example <code>void MyClass::setGraphData(const QList&lt;int&gt; &amp;xData, const QList&lt;int&gt; &amp;yData)</code>. You can also use a list of <code>QPoint</code>s so you won&#39;t have to pass two separate lists. Or create your own <code>struct</code> for storing the X and Y values."}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 4024613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pvDgGbe1-oI/AAAAAAAAAAI/AAAAAAAAAPQ/sVV75TJx3C4/photo.jpg?sz=128", "display_name": "Amir Khojaste", "link": "https://stackoverflow.com/users/4024613/amir-khojaste"}, "edited": false, "score": 0, "creation_date": 1421946606, "post_id": 28082254, "comment_id": 44565316, "body": "Thanks a lot guys. It helped a lot :)"}], "owner": {"reputation": 16442, "user_id": 1015678, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e12a835193e80c39b8483eb90780ff37?s=128&d=identicon&r=PG", "display_name": "Lahiru Chandima", "link": "https://stackoverflow.com/users/1015678/lahiru-chandima"}, "is_accepted": false, "score": 1, "last_activity_date": 1421906952, "creation_date": 1421906952, "answer_id": 28082254, "question_id": 28076904, "link": "https://stackoverflow.com/questions/28076904/how-can-i-have-access-to-values-of-my-mainwindow-in-another-window-qt-5-0-2/28082254#28082254", "title": "How can I have access to values of my Mainwindow in another window? (Qt 5.0.2)", "body": "<p>If your second window does not need to update when something in first window is changed, you can pass all arguments necessary for second window to its constructor.</p>\n\n<p>If second window needs to update on some event in first window, you can add a method such as update() to the second window and call it with new data whenever such event occurs.</p>\n"}], "owner": {"reputation": 26, "user_id": 4024613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pvDgGbe1-oI/AAAAAAAAAAI/AAAAAAAAAPQ/sVV75TJx3C4/photo.jpg?sz=128", "display_name": "Amir Khojaste", "link": "https://stackoverflow.com/users/4024613/amir-khojaste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421906952, "creation_date": 1421874776, "last_edit_date": 1421878042, "question_id": 28076904, "link": "https://stackoverflow.com/questions/28076904/how-can-i-have-access-to-values-of-my-mainwindow-in-another-window-qt-5-0-2", "title": "How can I have access to values of my Mainwindow in another window? (Qt 5.0.2)", "body": "<p>My question might seem simple for you but I'm stuck in it. I've searched around but since I'm new to Qt and OOP I'm a bit confused and can't quiet understand whats going on!</p>\n\n<p>Well, I have written a program in Qt Creator that has two windows. In one window the user enters some numbers in a QTablewidget (lets say some Xs and Ys) and when the user pushes the button \"depict graph\", I want to open a new window and depict the graph of Xs and Ys in the second window. I have managed to open the second window in Qt and also to depict a random plot in that window. However, I want to get the values of what user entered in my Mainwindow and depict them in the second window. I know it has to do someting with Signals and SLots but I don't know how! </p>\n\n<p>Any help is much appreciated! </p>\n"}, {"tags": ["c++", "templates", "inheritance"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1421874632, "post_id": 28076815, "comment_id": 44532657, "body": "You might use a constructor in B converting A to B <code>B(const A&amp;)</code>. However, if B holds additional information, overwrite the operator."}, {"owner": {"reputation": 3357, "user_id": 1325084, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/861cba4c57f76eb68d3249b60c72c809?s=128&d=identicon&r=PG", "display_name": "cppguy", "link": "https://stackoverflow.com/users/1325084/cppguy"}, "edited": false, "score": 1, "creation_date": 1421874663, "post_id": 28076815, "comment_id": 44532673, "body": "You have to reimplement it in B but you can call the base class&#39;s implementation by return A::operator+(b);"}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 1, "creation_date": 1421874689, "post_id": 28076815, "comment_id": 44532689, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/17122111/c-operator-overloading-with-inheritance\">C++ operator overloading with inheritance</a>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1421881558, "post_id": 28076815, "comment_id": 44535889, "body": "What about the other properties of <code>B</code>?  Why is <code>B</code> related to <code>A</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1012, "user_id": 1140699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e03e1201825435665b90495a653c4643?s=128&d=identicon&r=PG", "display_name": "Stefano Buora", "link": "https://stackoverflow.com/users/1140699/stefano-buora"}, "edited": false, "score": 1, "creation_date": 1421875650, "post_id": 28077044, "comment_id": 44533176, "body": "Could I suggest some modification? * value must not be redeclared in class B as it is inherited from A, * make value private and declare the global operator + friend of A"}, {"owner": {"reputation": 37, "user_id": 3978110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef45e3512a7b05614099f899298f73d8?s=128&d=identicon&r=PG&f=1", "display_name": "N F", "link": "https://stackoverflow.com/users/3978110/n-f"}, "edited": false, "score": 0, "creation_date": 1421927686, "post_id": 28077044, "comment_id": 44553095, "body": "I ended up using CRTP, since I didn&#39;t want to pollute my namespace. Still, thanks -- I&#39;m going to accept this answer"}], "owner": {"reputation": 1054, "user_id": 3798126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13368663e8f57baf2a5ed5ced426eb88?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Fairservice", "link": "https://stackoverflow.com/users/3798126/brian-fairservice"}, "is_accepted": true, "score": 1, "last_activity_date": 1421876712, "last_edit_date": 1421876712, "creation_date": 1421875235, "answer_id": 28077044, "question_id": 28076815, "link": "https://stackoverflow.com/questions/28076815/operator-overloading-and-inheritance-keeping-the-same-type/28077044#28077044", "title": "Operator overloading and inheritance (keeping the same type)", "body": "<p>You can implement <code>operator+</code> outside of the class as a template:</p>\n\n<pre><code>template&lt;class type&gt; type operator+(const type&amp; left, const type&amp; right)\n{\n    type toReturn;\n    toReturn.value = left.value + right.value;\n    return toReturn;\n}\n\nclass A {\nprivate:\n    int value;\n\n    template &lt;class type&gt; \n    friend type operator+&lt;type&gt;(const type&amp; left, const type&amp; right);\n};\n\nclass B : public A {\n};\n\nint main()\n{\n    B test1, test2;\n\n    B test3 = test1 + test2;\n}\n</code></pre>\n\n<p>This approach has certain down-sides.  The compiler will aggressively try to instantiate the <code>operator+</code> template for types which you don't want to define <code>operator+</code>, so be aware of that.   </p>\n"}], "owner": {"reputation": 37, "user_id": 3978110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef45e3512a7b05614099f899298f73d8?s=128&d=identicon&r=PG&f=1", "display_name": "N F", "link": "https://stackoverflow.com/users/3978110/n-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 28077044, "answer_count": 1, "score": 0, "last_activity_date": 1421876712, "creation_date": 1421874451, "question_id": 28076815, "link": "https://stackoverflow.com/questions/28076815/operator-overloading-and-inheritance-keeping-the-same-type", "title": "Operator overloading and inheritance (keeping the same type)", "body": "<p>I have a bit of a problem with operator overloading and inheritance in C++.</p>\n\n<p>Quick sketch:</p>\n\n<pre><code>class A {\npublic: \n    A operator+ (const A &amp;b) const { ... }\n};\n\nclass B : public A {\n    ...\n};\n</code></pre>\n\n<p>Now suppose I have two instances of <code>B</code>, <code>x</code> and <code>y</code>. If I add them I will get a thing of type <code>A</code>, however I want it to be of type <code>B</code>.</p>\n\n<p>What is the best way of accomplishing this (aside from reimplementing them in class <code>B</code>) ? CRTP?</p>\n"}, {"tags": ["c++", "macos", "wxwidgets"], "comments": [{"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1421884177, "post_id": 28076787, "comment_id": 44536797, "body": "<code>&amp;HandleTaskBarEvent</code> should be rejected by the compiler. Aren&#39;t you getting any diagnostic messages when compiling?"}, {"owner": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1421954899, "post_id": 28076787, "comment_id": 44569988, "body": "No, not getting warning or errors in that line during compilation. Also I am using &amp;MyFrame::HandleTaskBarEvent. sorry missed the class specifier in the front."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "edited": false, "score": 0, "creation_date": 1422041459, "post_id": 28115135, "comment_id": 44608760, "body": "Hi, I came across that , and overrode CreatePopupMenu for wxTaskBarIcon, but the main Frame( derived class of wxFrame) &#39;s bind methods for task bar events were itself not working."}, {"owner": {"reputation": 5045, "user_id": 132064, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19dc0f72e139d6e8b44bbff8a7be0c29?s=128&d=identicon&r=PG", "display_name": "NuSkooler", "link": "https://stackoverflow.com/users/132064/nuskooler"}, "reply_to_user": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "edited": false, "score": 0, "creation_date": 1422057123, "post_id": 28115135, "comment_id": 44615419, "body": "Right - Most of them do not function on OS X (ie: not implemented). See the linked bug."}], "owner": {"reputation": 5045, "user_id": 132064, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19dc0f72e139d6e8b44bbff8a7be0c29?s=128&d=identicon&r=PG", "display_name": "NuSkooler", "link": "https://stackoverflow.com/users/132064/nuskooler"}, "is_accepted": false, "score": 0, "last_activity_date": 1422033108, "creation_date": 1422033108, "answer_id": 28115135, "question_id": 28076787, "link": "https://stackoverflow.com/questions/28076787/wxframe-and-wxtaskbaricon-taskbar-event-mac-osx-callback-not-being-triggered/28115135#28115135", "title": "wxFrame and wxTaskBarIcon taskbar event Mac OSX : callback not being triggered", "body": "<p>This is a limitation of the OS X <code>wxTaskBarIcon</code> implementation. See <a href=\"http://trac.wxwidgets.org/ticket/14646\" rel=\"nofollow\">wxTaskBarIcon on OSX - two-finger click does not send mouse event</a> and related/linked issues.</p>\n\n<p>The only way I know of (on OS X) is overriding <a href=\"http://docs.wxwidgets.org/trunk/classwx_task_bar_icon.html#a739c81dc5cadf9e550d38001cee419f6\" rel=\"nofollow\">wxTaskBarIcon::CreatePopupMenu()</a>. </p>\n\n<p>You should be able to have something like:\n  <pre>\n  MyApp::wxApp/\n    MyTaskBarIcon::wxTaskBarIcon (override CreatePopupMenu(), return a new wxMenu)</pre></p>\n\n<p>This is the model I use in a few applications and it works the same on Windows and OS X (albeit no specific click handlers as mentioned). </p>\n"}], "owner": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422033108, "creation_date": 1421874316, "last_edit_date": 1495542035, "question_id": 28076787, "link": "https://stackoverflow.com/questions/28076787/wxframe-and-wxtaskbaricon-taskbar-event-mac-osx-callback-not-being-triggered", "title": "wxFrame and wxTaskBarIcon taskbar event Mac OSX : callback not being triggered", "body": "<p>I have a derived class for <code>wxFrame</code> (MyFrame) (for OSX - Yosemite platform), where it calls:\n    Bind(wxEVT_TASKBAR_RIGHT_DOWN), &amp;HandleTaskBarEvent, this);</p>\n\n<p>The issue is <code>HandleTaskBarEvent</code> is not being invoked when I right click the icon in the dock.</p>\n\n<p>I see the generic right click menu that Mac has (Open at Login, Keep in Dock, etc) for the main icon in the dock. </p>\n\n<p>Also, I created a <code>wxTaskBarIcon</code>. I am guessing this will be utilized for the minimized icon in the dock after the frame is minimized. </p>\n\n<pre><code>systemIcon = new wxTaskBarIcon(); //declared in header\nsystemIcon.Bind(wxEVT_TASKBAR_RIGHT_DOWN, &amp;HandleTaskBarEvent, this);\nPopup = new wxMenu(); //declared in header\nQuitMenu = new wxMenuItem(Popup, wxID_ANY, wxString(wxT(\"Quit\")), wxEmptyString, wxITEM_NORMAL); //declared in header\nPopup-&gt;Append(QuitMenu)\nPopup-&gt;Bind(wxEVT_COMMAND_MENU_SELECTED, &amp;CloseFunc, this, QuitMenu-&gt;GetId());\n</code></pre>\n\n<p>This is inside the same derived class(MyFrame).</p>\n\n<p>I call <code>Iconize()</code> inside that MyFrame same function, which works as expected. It minimized the window.</p>\n\n<p>This is the <code>HandleTaskBarEvent</code> function (virtual)</p>\n\n<pre><code>void MyFrame::HandleTaskBarEvent(wxTaskBarIconEvent&amp; event)\n{\n    if(event.GetEventType() == wxEVT_TASKBAR_RIGHT_DOWN)\n    {\n        systemIcon-&gt;PopupMenu(Popup);\n    }\n}\n</code></pre>\n\n<p>I saw this post : <a href=\"https://stackoverflow.com/questions/20884467/mouse-events-of-wxpython-taskbaricon-on-mac-osx-are-not-triggering\">Mouse Events of WxPython TaskBarIcon on Mac OSX are not triggering</a>\nand there seems to be a bug about it. But I am not able to find that bug or its status online. It is mentioned that the issue is with wxPython, but seems related to my problem. </p>\n\n<p>Also I created a derived class for wxTaskBarIcon and overrode CreatePopupMenu and made systemIcon as an instance of MyTaskBarIcon, but that function is not being triggered for any clicks(left,right, etc). Also the main wxFrame 's Bind callback (HandleTaskBarEvent) is not being triggered, hence the systemIcon is not being able to popup the menu. </p>\n\n<p>I am not using mouse for my Mac (using trackpad instead). Not sure if it should make any difference to right click code, but adding the information here anyways. </p>\n\n<p>So I am thinking this could be wxWidget-OSX specific issue, because the code works on Windows as expected. </p>\n\n<p>Does anyone know if this is purely wxWidget-OSX incomplete feature, if there is any open bugs about it, and more importantly if there is any solution to show the popup menu items for the minimized icon in the dock, and to handle the click events for the menu. </p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["c++", "eclipse", "byte", "typedef"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1421874271, "post_id": 28076700, "comment_id": 44532503, "body": "#include windows.h ugliness (defines) before"}, {"owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421874578, "post_id": 28076700, "comment_id": 44532639, "body": "What compiler/platform are you using? The <code>typedef</code>s are enclosed in an <code>#ifdef WIN32</code> block, which needs to be defined when the code is compiled."}], "answers": [{"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1421874738, "creation_date": 1421874738, "answer_id": 28076892, "question_id": 28076700, "link": "https://stackoverflow.com/questions/28076700/using-an-sdk-their-header-files-are-using-typedefs-that-do-not-name-a-type/28076892#28076892", "title": "Using an SDK, their header files are using typedefs that do not name a type", "body": "<p><code>BOOL</code>, <code>CHAR</code>, <code>LPSTR</code> and similar entirely-capitalized-types are (usually) <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa383751(v=vs.85).aspx\" rel=\"nofollow\">Microsoft-defined types</a>. The documentation states which headers are needed in order to get the correct definitions.</p>\n"}], "owner": {"reputation": 43, "user_id": 4342836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1217680c969e28678435b8049fe09398?s=128&d=identicon&r=PG", "display_name": "user4342836", "link": "https://stackoverflow.com/users/4342836/user4342836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 28076892, "answer_count": 1, "score": 1, "last_activity_date": 1520398636, "creation_date": 1421873984, "last_edit_date": 1520398636, "question_id": 28076700, "link": "https://stackoverflow.com/questions/28076700/using-an-sdk-their-header-files-are-using-typedefs-that-do-not-name-a-type", "title": "Using an SDK, their header files are using typedefs that do not name a type", "body": "<p>I'm using a SDK for a fingerprint scanner and I've added all of their header files to my project. In the header files they use a whole lot of typedefs that don't seem to work. I'm using Eclipse and am wondering if it is the issue. </p>\n\n<p>For Example in the following:</p>\n\n<pre><code>#ifdef WIN32\ntypedef __int8    SecuAPI_SINT8;\ntypedef __int16   SecuAPI_SINT16;\ntypedef int       SecuAPI_SINT32;\ntypedef __int64   SecuAPI_SINT64;\n\ntypedef BYTE    SecuAPI_UINT8    ;\ntypedef WORD    SecuAPI_UINT16   ;\ntypedef DWORD     SecuAPI_UINT32;   \n</code></pre>\n\n<p>BYTE, WORD, DWORD throw the error do not name a type.</p>\n\n<p>The others seem to be okay. I tried adding the winDef.h and windows.h headers and that didn't seem to work. </p>\n\n<p>Further down the code</p>\n\n<pre><code>typedef BOOL      SecuAPI_BOOL;\ntypedef CHAR      SecuAPI_CHAR;\ntypedef LPSTR     SecuAPI_CHAR_PTR;    \n</code></pre>\n\n<p>Also throw the same error.  </p>\n\n<p>The other typdefs such as char, short, int, etc. seem to work.</p>\n\n<p>EDIT:\nI'm new to C so I don't know why but I copied and pasted their header files into new header files (because it wasn't letting me edit theirs) and The <code>BOOL, BYTE, WORD</code> types were now okay but the <code>__int8, __int16, etc.</code> didn't work. I added <code>&lt;stdint.h&gt;</code>and now all are working.</p>\n\n<p>Thanks all!</p>\n"}, {"tags": ["c++", "boost", "filesystems", "boost-filesystem"], "answers": [{"comments": [{"owner": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421881239, "post_id": 28077119, "comment_id": 44535754, "body": "I am sorry I dont undestand the first part of your answer. Could you paraphrase/correct/clarify?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421881596, "post_id": 28077119, "comment_id": 44535904, "body": "@user14416 Erm... <b><i>You</i></b> should  clarify. I&#39;ve explained <i>exactly</i> why the code is not compiling using all the evidence you post in your question. Because the rest is not given, I&#39;m helpful in pointing you to assorted bits of the relevant documentation regarding breaking API changes. You can either figure it out from here, or you posts a MCVE or SSCCE sample."}, {"owner": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421881877, "post_id": 28077119, "comment_id": 44536000, "body": "&quot;In older versions you to get a std::string&quot; --- can you paraphrase this part I dont understand it. &quot;but now you have a path, so you can&#39;t just append directly on it.&quot; --- what do you mean I cannot append directly, append what to what, on what? Clarify plzz."}, {"owner": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421881931, "post_id": 28077119, "comment_id": 44536025, "body": "What code do you want to see? The whole code is there (<code>petscConfigurationPath.append(&quot;FluidPetsc&#47;Basic.conf&quot;);</code>)"}, {"owner": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421882130, "post_id": 28077119, "comment_id": 44536094, "body": "See the update if it will help you to understand the question."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "edited": false, "score": 0, "creation_date": 1421911597, "post_id": 28077119, "comment_id": 44544531, "body": "What can we say. It seems obvious you&#39;re seeing a breaking change (otherwise you couldn&#39;t compile the same code v1.53). You still don&#39;t show any part of the related code, so we can&#39;t see more. What&#39;s the type of <code>petscConfigurationPath</code>? Is it <code>const</code>? Why is the overload being rejected? (What is the rest of the compiler message) etc. Maybe you can use <code>operator&#47;=</code>, although that would be the &#39;blind&#39; way to resolve it. I&#39;d prefer to understand what&#39;s happening and why. (This is better because it will empower you to analyze similar challenges in the future)"}], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 1, "last_activity_date": 1421875478, "creation_date": 1421875478, "answer_id": 28077119, "question_id": 28076649, "link": "https://stackoverflow.com/questions/28076649/boost-filesystem-v3-append-failed-with-char-array/28077119#28077119", "title": "Boost FileSystem v3 append failed with char array", "body": "<p>In older versions you to get a <code>std::string</code> (which has <code>append</code> that takes a literal), but now you have a <code>path</code>, so you can't just <code>append</code> directly on it.</p>\n\n<hr>\n\n<p>You didn't show the code, but some API's have changed: <a href=\"http://www.boost.org/doc/libs/1_46_0/libs/filesystem/v3/doc/v3.html\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_46_0/libs/filesystem/v3/doc/v3.html</a>.</p>\n\n<p>In particular, </p>\n\n<blockquote>\n  <ul>\n  <li><p>Certain functions now return path objects rather than  string or wstring \n  objects:</p>\n  \n  <ul>\n  <li>root_name()</li>\n  <li>root_directory()</li>\n  <li>filename()</li>\n  <li>stem()</li>\n  <li>extension()</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Note that the deprecated \"v2\" APIs have been around for long, but got cut in some later version :</p>\n\n<blockquote>\n  <p>To ease the transition, Boost releases 1.44 through 1.47 will supply both V2 and V3. Version 2 is the default version for Boost release 1.44 and 1.45. Version 3 will be the default starting with release 1.46.</p>\n</blockquote>\n"}], "owner": {"reputation": 2654, "user_id": 1594394, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/40fdd46c526873d9334cc8c5e1b677e8?s=128&d=identicon&r=PG", "display_name": "user14416", "link": "https://stackoverflow.com/users/1594394/user14416"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1422044762, "answer_count": 1, "score": 1, "last_activity_date": 1421882103, "creation_date": 1421873782, "last_edit_date": 1421882103, "question_id": 28076649, "link": "https://stackoverflow.com/questions/28076649/boost-filesystem-v3-append-failed-with-char-array", "closed_reason": "Duplicate", "title": "Boost FileSystem v3 append failed with char array", "body": "<p>I have the error below with boost 1.53, but do not have it with 1.56.</p>\n\n<pre><code>../../source/EntryPoint/Application.cpp:100:58: error: no matching function for call to \u2018boost::filesystem::path::append(const char [22])\u2019\n petscConfigurationPath.append(\"FluidPetsc/Basic.conf\");\n</code></pre>\n\n<p><strong>Notes:</strong>\nThe question is why I can append array of chars to boost::filesystem::path in version 1.56 and I cannot in version 1.53?</p>\n"}, {"tags": ["c++", "fstream"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1421873969, "post_id": 28076633, "comment_id": 44532347, "body": "What do you mean by &quot;in the folder, where my program is executed&quot;.  Do you mean where the executable is located?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1421874837, "post_id": 28076633, "comment_id": 44532780, "body": "This <code>~&#47;Documents&#47;test.txt</code> is evalueated by the shell, while <code>.&#47;test.txt</code> should work, if you&#39;re running your program in the same directory. <i>&quot;and i did not get any error message&quot;</i> You&#39;ll never get one, you have to test it after open: <code>if(!fs) { std::cerr &lt;&lt; &quot;Could not open file&quot; &lt;&lt; std::endl; }</code>"}], "answers": [{"owner": {"reputation": 66, "user_id": 4478613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdtSp.jpg?s=128&g=1", "display_name": "devej", "link": "https://stackoverflow.com/users/4478613/devej"}, "is_accepted": false, "score": 2, "last_activity_date": 1421875200, "creation_date": 1421875200, "answer_id": 28077034, "question_id": 28076633, "link": "https://stackoverflow.com/questions/28076633/fstream-doesnt-resolve-path/28077034#28077034", "title": "fstream doesn&#39;t resolve path", "body": "<p>Relative paths do work with streams.  You have two interesting cases though.  The tilde (<code>~</code>) is a special character that some shells interpret.  I suspect that fstream doesn't do that interpretation.  As to the example of <code>\"./test.txt\"</code>, I think the previous comment is correct - that file has been created - it's just not where you expected it.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 2508377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2O0u.jpg?s=128&g=1", "display_name": "IDontKnow", "link": "https://stackoverflow.com/users/2508377/idontknow"}, "edited": false, "score": 0, "creation_date": 1421949946, "post_id": 28077472, "comment_id": 44567222, "body": "Thanks for the help. The file did get created. A file search on my whole disk showed me, that it was not created in the folder containing the source file but somewhere else. Since i used ROS <a href=\"http://www.ros.org/\" rel=\"nofollow noreferrer\">link</a>, catkin_make and the roslaunch tool, the file was created in the /proc folder. Again thank you for your effort."}], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 0, "last_activity_date": 1421878617, "last_edit_date": 1421878617, "creation_date": 1421876909, "answer_id": 28077472, "question_id": 28076633, "link": "https://stackoverflow.com/questions/28076633/fstream-doesnt-resolve-path/28077472#28077472", "title": "fstream doesn&#39;t resolve path", "body": "<p>Your program </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nvoid writeToFile () {\n    std::fstream fs;\n    fs.open (\"./test.txt\", std::fstream::in | std::fstream::out | std::fstream::app);\n    fs &lt;&lt; \" test content\";\n\n    fs.close();\n}\n\nint main() {\n    writeToFile();\n}\n</code></pre>\n\n<p>works perfectly fine for me on <a href=\"http://coliru.stacked-crooked.com/a/e54cdd9b06324050\" rel=\"nofollow\">Coliru</a>.</p>\n\n<p>As you can see from the <code>ls</code> output, the file was created</p>\n\n<pre><code>a.out      &lt;&lt; The executable program\nmain.cpp   &lt;&lt; The source\ntest.txt   &lt;&lt; The created text file\n</code></pre>\n\n<p>and <code>cat</code> at least dumps the content of the file</p>\n\n<pre><code> test content\n</code></pre>\n\n<p>As mentioned in my comment, a path like <code>~/Documents/test.txt</code> is evaluated by the shell, while <code>./test.txt</code> should work for openting an existing file, if you're running your program in the same directory where the file exists.</p>\n\n<blockquote>\n  <p><em>\"Neither of them created a new file and i did not get any error message.\"</em></p>\n</blockquote>\n\n<p>You'll never get any kind of <em>error message</em>, if <a href=\"http://en.cppreference.com/w/cpp/io/basic_fstream/open\" rel=\"nofollow\"><code>std::fstream::open()</code></a> failed for some reason.<br>\nYou have to check for the stream state after that call, like e.g.</p>\n\n<pre><code> if(!fs) { std::cerr &lt;&lt; \"Could not open file\" &lt;&lt; std::endl; }\n</code></pre>\n\n<p>You may e.g. not have rights to create a file in this directory.</p>\n\n<p>Another option is to use the <code>std::basic_ios::exceptions()</code> function of <code>std::fstream()</code>, to trigger an exception when the stream state runs into an error condition.</p>\n"}], "owner": {"reputation": 139, "user_id": 2508377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2O0u.jpg?s=128&g=1", "display_name": "IDontKnow", "link": "https://stackoverflow.com/users/2508377/idontknow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3268, "favorite_count": 0, "accepted_answer_id": 28077472, "answer_count": 2, "score": 0, "last_activity_date": 1421878617, "creation_date": 1421873700, "last_edit_date": 1495535188, "question_id": 28076633, "link": "https://stackoverflow.com/questions/28076633/fstream-doesnt-resolve-path", "title": "fstream doesn&#39;t resolve path", "body": "<p>i am new to c++ and trying to write a simple function, that saves a string to a file.\nThe function works, when i pass the full path to fstream, but it doesn't resolve relative paths.</p>\n\n<p>Here is the relevant part of my code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nvoid writeToFile ()\n{\n    std::fstream fs;\n    fs.open (\"/home/blabla/Documents/test.txt\", std::fstream::in | std::fstream::out | std::fstream::app);\n    fs &lt;&lt; \" test content\";\n\n    fs.close();\n}\n</code></pre>\n\n<p>This works fine, but i would like to create the file in the folder, where my program is executed, so i tried this</p>\n\n<pre><code>fs.open (\"./test.txt\", std::fstream::in | std::fstream::out | std::fstream::app);\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code>fs.open (\"~/Documents/test.txt\", std::fstream::in | std::fstream::out | std::fstream::app);\n</code></pre>\n\n<p>Neither of them created a new file and i did not get any error message.</p>\n\n<p>I found this post, which suggests, that i can pass relative paths to fstream but only gives windows examples. \n<a href=\"https://stackoverflow.com/questions/8068921/relative-path-for-fstream\">How to use fstream objects with relative path?</a></p>\n\n<p>I work on Linux Mint, the target environment is debian.</p>\n\n<p>I am thankful for any hints or suggestions,\nMichael</p>\n"}, {"tags": ["java", "c++", "audio"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 4, "creation_date": 1421873628, "post_id": 28076596, "comment_id": 44532200, "body": "Yes it is possible to use <a href=\"http://stackoverflow.com/questions/8987089/can-c-call-java-code\">Java code from C++</a> and vice versa. Other than that, you&#39;ll have to be more specific if you want a specific answer."}], "answers": [{"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": true, "score": 0, "last_activity_date": 1421874532, "creation_date": 1421874532, "answer_id": 28076835, "question_id": 28076596, "link": "https://stackoverflow.com/questions/28076596/could-i-use-c-code-with-java-code/28076835#28076835", "title": "Could I use C++ code with JAVA code?", "body": "<p>It sounds like what you need is a way to call C++ code from inside a Java program.</p>\n\n<p>Refer to this tutorial <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jni/j-jni.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/java/tutorials/j-jni/j-jni.html</a></p>\n\n<p>It explains how the Java Native Interface, part of the Java Software Development Kit, can be used to call C++ code from Java and Java code from C++ programs.</p>\n"}], "owner": {"reputation": 1, "user_id": 3853815, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008370220314/picture?type=large", "display_name": "Mohammad Malkawi", "link": "https://stackoverflow.com/users/3853815/mohammad-malkawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "closed_date": 1421875197, "accepted_answer_id": 28076835, "answer_count": 1, "score": -7, "last_activity_date": 1421874532, "creation_date": 1421873517, "question_id": 28076596, "link": "https://stackoverflow.com/questions/28076596/could-i-use-c-code-with-java-code", "closed_reason": "Needs more focus", "title": "Could I use C++ code with JAVA code?", "body": "<p>I recently coded alot of java code for a project, and then i had to code something else that I couldn't do in java, but one of my friends could do in C++..\ncould the codes be united or somewhat?</p>\n\n<p>think of a core game engine made in java and a sound engine made in c++ and i wanna unite them</p>\n\n<p>thank you</p>\n"}, {"tags": ["c++", "bezier"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1421885232, "post_id": 28076530, "comment_id": 44537117, "body": "Your question isn&#39;t quite clear; your tangent function is correct, and will yield vectors with length much larger than 0 or 1. It sounds like you&#39;re asking about the normals instead, in which case: why are you using the cross product? Vector cross products only have meaning in 3d; for 2d we can just take the tangent vector for point <code>t</code>, normalize it to unit length, and then rotate it 90 degrees. Done! If your normalised tangent vector is (vx,vy), the normal vector is simply (-vy,vx), see <a href=\"http://pomax.github.io/bezierinfo/#pointvectors\" rel=\"nofollow noreferrer\">pomax.github.io/bezierinfo/#pointvectors</a>"}, {"owner": {"reputation": 201, "user_id": 3046336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oLMEP.gif?s=128&g=1", "display_name": "SharkBytes", "link": "https://stackoverflow.com/users/3046336/sharkbytes"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1421894619, "post_id": 28076530, "comment_id": 44539576, "body": "Ah, probably should have mentioned I&#39;m working in 3d space. The y vector is up, x and z are used for positioning like x and y usually. I think I&#39;ve understood what you&#39;ve said and tried (with normalised tangent): \t<code>float fdx = firstDerivative.x * cos(90) - firstDerivative.z * sin(90); \tfloat fdz = firstDerivative.x * sin(90) + firstDerivative.z * cos(90); \tVector3 newVec = Vector3(fdx, 0, fdz);</code> But doing so gave the same results with the entity flipping after reaching the red line again. <i>However I have not used the normal for this case...</i>"}], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 3046336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oLMEP.gif?s=128&g=1", "display_name": "SharkBytes", "link": "https://stackoverflow.com/users/3046336/sharkbytes"}, "edited": false, "score": 0, "creation_date": 1421919705, "post_id": 28080607, "comment_id": 44548525, "body": "I don&#39;t suppose you&#39;d be able to give me an example of both systems using pseudo or c++ code, especially inertia system because I haven&#39;t heard nor can I find any information relating to it?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1421951589, "post_id": 28080607, "comment_id": 44568120, "body": "note that for Bezier curves, the notion that a small <code>t</code> increment cannot lead to a huge TBN delta is false, due to the fact that Bezier curves can model cusped curved. Small <code>t</code> increments across the cusp will yield wildly different tangent and bitangent values on either side."}, {"owner": {"reputation": 5809, "user_id": 893406, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NwATJ.png?s=128&g=1", "display_name": "v.oddou", "link": "https://stackoverflow.com/users/893406/v-oddou"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1423184917, "post_id": 28080607, "comment_id": 45057250, "body": "@Mike&#39;Pomax&#39;Kamermans waw I had never heard of the word &quot;cusped&quot; before. You had me google it. And now I see what you mean, you are absolutely right. I had assumed an exclusion of those cases by &quot;artist care&quot; :-) But you are totally right in absolute, I remember creating such cusps when manipulating vectorial arrows in Paint Shop Pro."}], "owner": {"reputation": 5809, "user_id": 893406, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NwATJ.png?s=128&g=1", "display_name": "v.oddou", "link": "https://stackoverflow.com/users/893406/v-oddou"}, "is_accepted": false, "score": 1, "last_activity_date": 1421895777, "creation_date": 1421895777, "answer_id": 28080607, "question_id": 28076530, "link": "https://stackoverflow.com/questions/28076530/c-bezier-curve-tangent-direction-issues/28080607#28080607", "title": "c++ Bezier curve Tangent direction issues", "body": "<p>This is actually quite a common problem, that I also faced while making a race track generator for a game demo (wipeout97 style) and later a colleague faced when making a road generator in a terrain tool for a well known 3D commercial content creation tool.  </p>\n\n<p>To fix this you need one of 2 possible things:</p>\n\n<ul>\n<li>a hard vertical</li>\n<li>inertia</li>\n</ul>\n\n<p>The hard vertical isn't hard to make, you simply make your cross products with a fixed vector (for example (0,1,0)) however your curve can never GO at any point exactly in this direction otherwise your cross product becomes null one day and all hell break loose.</p>\n\n<p>The inertia system goes by following the curve iteratively, with one reference hard vector used in the beginning, but just one time.<br>\nThen the curve is followed by delta increments and each time the new tangent and bitangents are discovered by progressive alteration of the previous segment's tangents and bitangents (TBN basis). You use the fact that small <code>t</code> (curve parameter) increment cannot lead to huge TBN alterations, and you can use one of the previous TBN vectors to make the cross product with your new tangent to find the new B and N. This way it is almost guaranteed that you will never have these kinds of gimbal lock effects.</p>\n\n<p>Then various possible funny parameters are also possible like force a maximum rate of rotation for the TBN basis at each step, or the likes, in the case of track creation this gives a lot of artistic power.</p>\n"}, {"owner": {"reputation": 201, "user_id": 3046336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oLMEP.gif?s=128&g=1", "display_name": "SharkBytes", "link": "https://stackoverflow.com/users/3046336/sharkbytes"}, "is_accepted": false, "score": 0, "last_activity_date": 1421989743, "last_edit_date": 1421989743, "creation_date": 1421933999, "answer_id": 28090193, "question_id": 28076530, "link": "https://stackoverflow.com/questions/28076530/c-bezier-curve-tangent-direction-issues/28090193#28090193", "title": "c++ Bezier curve Tangent direction issues", "body": "<p>Ok, with some additional experimentation I've managed to get it working and I believe this is a decent fix. If anyone could explain to me whether this may or may not, I'd be grateful.</p>\n\n<p>Anyway the package I'm coding in had two functions available which were <code>setDirection</code> <em>(originally used)</em> and <code>lookAt</code> <em>(now used)</em>. </p>\n\n<p>The code <strong>before</strong>:</p>\n\n<pre><code>entity-&gt;setDirection (firstDerivative, WorldSpace, secondDerivative);\n</code></pre>\n\n<p><strong>After</strong>:</p>\n\n<pre><code>entity-&gt;lookAt (point - firstDerivative, WorldSpace);\n</code></pre>\n\n<p>Now as a result the <code>secondDerivative</code> is never used now which is completely fine but is this a more savored solution or not?</p>\n"}, {"owner": {"reputation": 3118, "user_id": 3643248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b19d9c9268a53d8805cfc043c8bf97b9?s=128&d=identicon&r=PG&f=1", "display_name": "fang", "link": "https://stackoverflow.com/users/3643248/fang"}, "is_accepted": true, "score": 0, "last_activity_date": 1421961348, "creation_date": 1421961348, "answer_id": 28098824, "question_id": 28076530, "link": "https://stackoverflow.com/questions/28076530/c-bezier-curve-tangent-direction-issues/28098824#28098824", "title": "c++ Bezier curve Tangent direction issues", "body": "<p>Since your Bezier curve is on the (x, z) plane, I don't quite understand why do you want to take a cross product between first derivative and the z axis (0, 0, 1). The 'normal' vector found in this way is bound to become zero when the first derivative goes in the (0, 0, 1) direction. </p>\n\n<p>If you want to find the normal direction at any given point on the curve, you should evaluate the first derivative C'(t) and the 2nd derivative C\"(t) first, then the normal vector vec(n) can be computed as </p>\n\n<p>vec(n) = C' X C\" / |C'||C\"|</p>\n\n<p>and your binormal vector vec(b) can be computed as vec(b) = vec(t) X vec(n) where vec(t) is the unit tangent vector vec(t)=C'(t)/|C'(t)|.</p>\n"}], "owner": {"reputation": 201, "user_id": 3046336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oLMEP.gif?s=128&g=1", "display_name": "SharkBytes", "link": "https://stackoverflow.com/users/3046336/sharkbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 0, "closed_date": 1422039147, "accepted_answer_id": 28098824, "answer_count": 3, "score": 0, "last_activity_date": 1421989743, "creation_date": 1421873256, "last_edit_date": 1592644375, "question_id": 28076530, "link": "https://stackoverflow.com/questions/28076530/c-bezier-curve-tangent-direction-issues", "closed_reason": "Duplicate", "title": "c++ Bezier curve Tangent direction issues", "body": "<p>I'm facing an issue regarding the tangent when moving along my cubic bezier curve within 3D space where (x,z) are used rather than (x,y). <em>An image of the curve has been added.</em></p>\n<p>The issue occurs when the entity hits the <strong>red line</strong> indicated on the image. The tangent begins progressively from <strong>0.0 to 1.0</strong> but then hits the red line and starts to progressively decrease from <strong>1.0 to 0.0</strong>, causing the entity's direction to flip.</p>\n<p>Currently this snipped is responsible for the tangent:</p>\n<pre><code>const Vector3 Class::getTangent(const float s) const\n{\n    const float t { 1 - s };\n\n    return  (3 * t * t * (points.at(1) - points.at(0)) + \n             6 * s * t * (points.at(2) - points.at(1)) + \n             3 * s * s * (points.at(3) - points.at(2)));\n}\n</code></pre>\n<p>I then use this function for:</p>\n<pre><code>Vector3 firstDerivative = curve.getTangent(segment);\nfirstDerivative.normalise();\n\nVector3 normal = firstDerivative.crossProduct(Vector3(0, 0, 1)); // Z = forward\nnormal.normalise();\n\nVector3 b = firstDerivative.crossProduct(normal);\nb.normalise();\n</code></pre>\n<p>Then I simple use <code>b</code> to set the entities direction along the curve. I did create a simple/dirty fix by switching the sign of <code>b</code> to <code>-b</code> when the point which flips the entity is reached. Now despite this &quot;fixing&quot; the issue I believe if the curve changes the fix would cause problems later.</p>\n<p>So if anyone can spot where I may have gone wrong or what I may need to do to fix this, any help would be great and appreciated. <em>Please could you also provide examples of your solution with the given problem, either via pseudo or c++ code.</em></p>\n<p><img src=\"https://i.stack.imgur.com/aVvse.png\" alt=\"enter image description here\" /></p>\n"}, {"tags": ["c++", "function", "vector", "return"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 2, "creation_date": 1421873360, "post_id": 28076509, "comment_id": 44532060, "body": "You are most definitely not learning C. C has no <code>std::vector</code>."}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1421873522, "post_id": 28076509, "comment_id": 44532149, "body": "BTW, if the variable you&#39;re returning is a <code>vector&lt;string&gt;</code>, then isn&#39;t it kind of obvious that the return value also needs to be a <code>vector&lt;string&gt;</code>?"}, {"owner": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1421873668, "post_id": 28076509, "comment_id": 44532218, "body": "@The Paramagnetic Croissant well, of course. I dont know, how I could forgot this...But thanks"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "edited": false, "score": 0, "creation_date": 1421873574, "post_id": 28076545, "comment_id": 44532171, "body": "sorry, but why the <code>string&amp;</code>, where is the differents to <code>string</code> ?"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "reply_to_user": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "edited": false, "score": 0, "creation_date": 1421873655, "post_id": 28076545, "comment_id": 44532215, "body": "@Sinmson That&#39;s a reference. Google &quot;C++ reference&quot; if you don&#39;t recognize the term."}, {"owner": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1421873917, "post_id": 28076545, "comment_id": 44532319, "body": "@The Paramagnetic Croissant ok, thanks. I searched it and know why this is better in the theory. But is there a differens in the praxis, for real?"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "reply_to_user": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "edited": false, "score": 0, "creation_date": 1421876072, "post_id": 28076545, "comment_id": 44533403, "body": "@Sinmson Sometimes there is, sometimes there isn&#39;t. But does it matter? I doubt. When this becomes a <i>measurable</i> bottleneck, only then think about it."}], "owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "is_accepted": true, "score": 1, "last_activity_date": 1421873327, "creation_date": 1421873327, "answer_id": 28076545, "question_id": 28076509, "link": "https://stackoverflow.com/questions/28076509/c-restore-pass-a-vector-what-to-call-in-the-header/28076545#28076545", "title": "C++ restore/pass a vector (what to call in the header?)", "body": "<p>Change the return type of function <code>OpenFolder</code></p>\n\n<pre><code>string OpenFolder(string path, const string constSearchedWord)\n~~~~~ should be std::vector &lt; std::string &gt;\n</code></pre>\n\n<p>Also,</p>\n\n<p>use <code>const</code> reference for function arguments</p>\n\n<pre><code>std::vector&lt;std::string&gt; OpenFolder(const string&amp; path,\n                                    const string&amp; constSearchedWord )\n</code></pre>\n"}, {"owner": {"reputation": 84, "user_id": 4271280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ab133e14a7079914196ee24b0bb341?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4271280/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1421873497, "creation_date": 1421873497, "answer_id": 28076586, "question_id": 28076509, "link": "https://stackoverflow.com/questions/28076509/c-restore-pass-a-vector-what-to-call-in-the-header/28076586#28076586", "title": "C++ restore/pass a vector (what to call in the header?)", "body": "<p>if you want to return the vector of strings from a method then the return type needs to be a vector of strings i.e.</p>\n\n<p><code>std::vector&lt;std::string&gt; OpenFolder(string path, const string constSearchedWord)</code></p>\n"}, {"owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1421873807, "creation_date": 1421873807, "answer_id": 28076656, "question_id": 28076509, "link": "https://stackoverflow.com/questions/28076509/c-restore-pass-a-vector-what-to-call-in-the-header/28076656#28076656", "title": "C++ restore/pass a vector (what to call in the header?)", "body": "<p>A function definition/declaration generally takes the form of ...</p>\n\n<pre><code>[return type] [function name]([arguments])\n</code></pre>\n\n<p>If you're returning <code>vIndex</code> from the <code>OpenFolder</code> function then the return type needs to match the type of <code>vIndex</code>, which is <code>vector&lt;string&gt;</code>.</p>\n"}], "owner": {"reputation": 149, "user_id": 4219647, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-IO-3p3wDqUE/AAAAAAAAAAI/AAAAAAAAAD4/MOMQuw9NSac/photo.jpg?sz=128", "display_name": "Sinmson", "link": "https://stackoverflow.com/users/4219647/sinmson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 28076545, "answer_count": 3, "score": -1, "last_activity_date": 1421873807, "creation_date": 1421873209, "last_edit_date": 1421873472, "question_id": 28076509, "link": "https://stackoverflow.com/questions/28076509/c-restore-pass-a-vector-what-to-call-in-the-header", "title": "C++ restore/pass a vector (what to call in the header?)", "body": "<p>I am learning C++ at school and I am adding some functions to my school project. We need to code a program, which searches a word in files in folders.</p>\n\n<p>I am at the point, where I want to list all directories and files and pass them back (with return), so I can display (output) them at the console.</p>\n\n<p>So I used a vector type string and pushed back all the paths I found...\nThen I wanted to give (pass) them back with return, but I got the Error:</p>\n\n<pre><code>error: cannot convert `std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt;' to `std::string*' in return\n</code></pre>\n\n<p>Here is some Code:</p>\n\n<pre><code>string OpenFolder(string path, const string constSearchedWord)\n\n\nvector&lt;string&gt; vIndex;         //Vektor erzeugen\nvector&lt;string&gt;::iterator i;    //Iterator (zum durchlaufen)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>while ( 0 != ( dirEntry = readdir( dirHandle ) ) )\n    {\n        string name = dirEntry-&gt;d_name;\n        fullPath = path + '\\\\' + name;\n        vIndex.push_back(fullPath);\n    }\n    //Den Ordner schliessen\n    closedir( dirHandle );\n</code></pre>\n\n<p>...\nIf I wanted to write it into the console in this function:</p>\n\n<pre><code>for (i = vIndex.begin(); i &lt; vIndex.end(); ++i)\n{\n    cout &lt;&lt; static_cast&lt;string&gt;(*i) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>is working easily, but I don't want to write it in this function into the console.</p>\n\n<p>I want to do</p>\n\n<pre><code>return vIndex;\n</code></pre>\n\n<p>I think the problem is in the header:</p>\n\n<pre><code>string OpenFolder(string path, const string constSearchedWord)\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code>vector OpenFolder(string path, const string constSearchedWord)\n</code></pre>\n\n<p>But this didn't work either.</p>\n\n<p>I don't know what to set here:</p>\n\n<pre><code>-&gt;???&lt;- OpenFolder(string path, const string constSearchedWord)\n</code></pre>\n"}, {"tags": ["c++", "c", "dll", "dllexport", "name-decoration"], "comments": [{"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 3, "creation_date": 1421873235, "post_id": 28076475, "comment_id": 44531998, "body": "Have you tried exporting them as <code>extern &quot;C&quot;</code> ?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1421878686, "post_id": 28076475, "comment_id": 44534680, "body": "I vaguely remember this to be a problem but can&#39;t repro on VS2013.  It should be <code>testfunc@4 = _testfunc@4</code>  Without the @ on the right-hand side, the @4 is interpreted as the ordinal."}, {"owner": {"reputation": 41, "user_id": 4479971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bb2b5fe978d96f1eba5c080814a117?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/4479971/tobias"}, "edited": false, "score": 0, "creation_date": 1421880295, "post_id": 28076475, "comment_id": 44535332, "body": "extern &quot;c&quot; removed all decoration (what is not what i want - i need the @4 at the end; And if i specify the line you mention in the .def file the linker seems to strip everything away after the &quot;@&quot;"}, {"owner": {"reputation": 770, "user_id": 1108056, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/db29ab9496d7cf1beed295ebdd1e5677?s=128&d=identicon&r=PG", "display_name": "AnotherParker", "link": "https://stackoverflow.com/users/1108056/anotherparker"}, "edited": false, "score": 0, "creation_date": 1439836991, "post_id": 28076475, "comment_id": 52013859, "body": "Original DLL was probably created by GCC or one of its variations."}, {"owner": {"reputation": 2559, "user_id": 2334932, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1844eccc9d568378157965e433d023b?s=128&d=identicon&r=PG", "display_name": "Vinz", "link": "https://stackoverflow.com/users/2334932/vinz"}, "edited": false, "score": 1, "creation_date": 1515268337, "post_id": 28076475, "comment_id": 83239515, "body": "It may be noteworthy that it&#39;s not possible to <code>extern &quot;C&quot;</code> when compiling pure C units (.c). Hence the popular <code>#ifdef __cplusplus</code> check prior to using it. But if you&#39;re compiling C, that export decoration is inevitable."}], "owner": {"reputation": 41, "user_id": 4479971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bb2b5fe978d96f1eba5c080814a117?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/4479971/tobias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1214, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1421876019, "creation_date": 1421873091, "question_id": 28076475, "link": "https://stackoverflow.com/questions/28076475/how-to-remove-the-underscore-from-dll-export", "title": "How to remove the underscore from DLL export", "body": "<p>I want to replace a DLL for which I don't have the full source code (but the function declarations). The application loads this DLL at runtime and calls GetProcAddress with (all) the function names. (so I have to name the functions exactly the same). </p>\n\n<p>I created a new DLL (in MS VC2013) and wrote the functions. But I have a problem exporting them correctly.</p>\n\n<p>In the original DLL they are _stdcall but their name have no underscore at first.</p>\n\n<p>If T specify the name in the .def file like this \"testfunc@4=testfunc\" everything behind the @ is removed.</p>\n\n<p>How can I specify in VS2013 that I want an DLL-export like \"testfunc@4\"?</p>\n"}, {"tags": ["c++", "inheritance", "v8"], "comments": [{"owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421875205, "post_id": 28076382, "comment_id": 44532958, "body": "The v8 documentation is awful. Have you tried viewing the comments in <code>v8.h</code>? They can be quite informative."}, {"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "reply_to_user": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421875588, "post_id": 28076382, "comment_id": 44533139, "body": "@gmbeard I&#39;ve been through them with a fine-toothed comb, and what comments exist regarding FunctionTemplate and inheritance only make things even muddier... I&#39;m just hoping this is something someone else has come across and knows the should-be-obvious fix/workaround."}, {"owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421876118, "post_id": 28076382, "comment_id": 44533426, "body": "The documentation says that the <code>Object</code> instance returned from <code>secondChild-&gt;GetFunction()-&gt;NewInstance()</code> should have <code>newMethod</code>. Is that not the case?"}, {"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "reply_to_user": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421876769, "post_id": 28076382, "comment_id": 44533756, "body": "@gmbeard The problem with that is that I need to instance off of an <code>ObjectTemplate</code> so that I can set the internal field count first (since it&#39;s backed by a native object), and I can&#39;t see any way of doing that with <code>GetFunction()</code> - so I&#39;ve been calling <code>NewInstance()</code> on the <code>FunctionTemplate::InstanceTemplate()</code> instead."}, {"owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421877065, "post_id": 28076382, "comment_id": 44533921, "body": "I&#39;m pretty sure you can do <code>secondChild-&gt;InstanceTemplate()-&gt;SetInternalFieldCount(1)</code> and then call <code>secondChild-&gt;GetFunction()-&gt;NewInstance()</code>"}, {"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "reply_to_user": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421877078, "post_id": 28076382, "comment_id": 44533923, "body": "@gmbeard Thanks, I&#39;ll try that."}, {"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "reply_to_user": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "edited": false, "score": 0, "creation_date": 1421877234, "post_id": 28076382, "comment_id": 44534021, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/69352/discussion-between-fluffy-and-gmbeard\">continue this discussion in chat</a>."}], "answers": [{"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "is_accepted": true, "score": 2, "last_activity_date": 1421885965, "last_edit_date": 1421885965, "creation_date": 1421884068, "answer_id": 28079016, "question_id": 28076382, "link": "https://stackoverflow.com/questions/28076382/v8-inherited-functiontemplate-not-getting-updates-to-the-parent-functiontemplate/28079016#28079016", "title": "V8 inherited FunctionTemplate not getting updates to the parent FunctionTemplate", "body": "<p>It appears that once the actual <code>Function</code> has been instanced from the <code>FunctionTemplate</code>, additional changes to the <code>FunctionTemplate</code> are no longer reflected in the derived objects. As such, once a call to <code>Inherit</code> or <code>NewInstance</code> has occurred, you cannot change the methods attached to the underlying <code>FunctionTemplate</code>.</p>\n\n<p>However, there is another way to do this: for every native class, have a <code>FunctionTemplate</code> and then instance a proxy <code>Object</code> to be used directly in the prototype chain. For example,</p>\n\n<pre><code>v8::Handle&lt;v8::FunctionTemplate&gt; base_tmpl;\nv8::Handle&lt;v8::Object&gt; base_proto = base_tmpl-&gt;GetFunction()-&gt;NewInstance();\nv8::Handle&lt;v8::FunctionTemplate&gt; derived_tmpl;\nv8::Handle&lt;v8::Object&gt; derived_proto = derived_tmpl-&gt;GetFunction()-&gt;NewInstance();\nderived_proto-&gt;SetPrototype(base_proto);\n\nbase_proto-&gt;Set(\"methodName\", v8::FunctionTemplate::New(...)-&gt;GetFunction());\n</code></pre>\n\n<p>Then when you want to instance an object, you do:</p>\n\n<pre><code>v8::Handle&lt;v8::ObjectTemplate&gt; instance_tmpl;\ninstance_tmpl-&gt;SetInternalFieldCount(1);\nv8::Handle&lt;v8::Object&gt; instance = instance_tmpl-&gt;NewInstance();\ninstance-&gt;SetInternalField(0, nativeObject);\ninstance-&gt;SetPrototype(derived_proto);\n</code></pre>\n\n<p>Technically you only have to instance the proxy <code>Object</code>s, but still having the <code>FunctionTemplate</code> allows you to make use of its <code>SetClassName</code> (useful for debugging) as well as <code>Object::FindInstanceInPrototypeChain</code> (useful for run-time type checking among other things).</p>\n"}, {"comments": [{"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "edited": false, "score": 0, "creation_date": 1421965195, "post_id": 28089334, "comment_id": 44575135, "body": "Interesting. There are several significant differences between how you&#39;re actually instancing your objects and how I am, though; for example, my objects are all being instanced on the native side, and I&#39;m instancing off the <code>InstanceTemplate</code> because I was unable to add internal data when instancing off the <code>FunctionTemplate</code> (per our discussion on chat). That shouldn&#39;t make a difference though..."}], "owner": {"reputation": 624, "user_id": 4464083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6551324b4550283f859180f7b320de3d?s=128&d=identicon&r=PG&f=1", "display_name": "gmbeard", "link": "https://stackoverflow.com/users/4464083/gmbeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1421931337, "creation_date": 1421931337, "answer_id": 28089334, "question_id": 28076382, "link": "https://stackoverflow.com/questions/28076382/v8-inherited-functiontemplate-not-getting-updates-to-the-parent-functiontemplate/28089334#28089334", "title": "V8 inherited FunctionTemplate not getting updates to the parent FunctionTemplate", "body": "<p>My experience seems to differ from yours. I can indeed set methods on the prototype and they're available through inheritance, even when the methods are added after calling <code>FunctionTemplate::Inherit</code> on the child.</p>\n\n<p>The full source of my working test is <a href=\"https://gist.github.com/gmbeard/68d8065a3ff2c15d8296\" rel=\"nofollow\">here</a> but to summarise \u2026</p>\n\n<p>I created the <code>parent</code> class like so \u2026</p>\n\n<pre><code>v8::Local&lt;v8::FunctionTemplate&gt; t = v8::FunctionTemplate::New(isolate);\nt-&gt;SetClassName(v8::String::NewFromUtf8(isolate, \"A_Parent\"));\nauto proto = t-&gt;PrototypeTemplate();\nproto-&gt;Set(v8::String::NewFromUtf8(isolate, \"methodA\"), v8::FunctionTemplate::New(isolate, MethodACallback));\n</code></pre>\n\n<p>Then the inherited <code>child</code> class \u2026</p>\n\n<pre><code>v8::Local&lt;v8::FunctionTemplate&gt; t = v8::FunctionTemplate::New(isolate);\nt-&gt;SetClassName(v8::String::NewFromUtf8(isolate, \"A_Child\"));\nt-&gt;Inherit(parent);\nauto proto = parent-&gt;PrototypeTemplate();\nproto-&gt;Set(v8::String::NewFromUtf8(isolate, \"methodB\"), v8::FunctionTemplate::New(isolate, MethodBCallback));\n// MethodACallback and MethodBCallback just contain a simple std::cout statement.\n</code></pre>\n\n<p><em>(You'll notice here that I'm adding <code>methodB</code> after <code>child</code> inherits <code>parent</code>)</em></p>\n\n<p>I then import import the <code>A_Child</code> function into the global context \u2026</p>\n\n<pre><code>ctx-&gt;Global()-&gt;Set(v8::String::NewFromUtf8(isolate, \"A_Child\"), child-&gt;GetFunction());\n</code></pre>\n\n<p>\u2026 And compile / run the following script \u2026</p>\n\n<pre><code>\"use strict\";\n\nvar c = new A_Child();\n\nc.methodA();\nc.methodB();\n</code></pre>\n\n<p>Which outputs \u2026</p>\n\n<pre><code>methodA called from [object A_Child]\nmethodB called from [object A_Child]\n</code></pre>\n\n<p>I'm using v8 4.2.0 and compiling with clang 3.3. Running on OS X 10.8.5</p>\n"}], "owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 2, "accepted_answer_id": 28079016, "answer_count": 2, "score": 0, "last_activity_date": 1421931337, "creation_date": 1421872693, "last_edit_date": 1421874153, "question_id": 28076382, "link": "https://stackoverflow.com/questions/28076382/v8-inherited-functiontemplate-not-getting-updates-to-the-parent-functiontemplate", "title": "V8 inherited FunctionTemplate not getting updates to the parent FunctionTemplate", "body": "<p>I'm using V8 to add JavaScript support to an application. For various reasons I can't get into, we need the ability to add methods to a FunctionTemplate, and have those methods appear in any FunctionTemplates that already inherit from it.</p>\n\n<p>For example,</p>\n\n<pre><code>v8::Handle&lt;v8::FunctionTemplate&gt; parent;\nv8::Handle&lt;v8::FunctionTemplate&gt; child;\nchild-&gt;Inherit(parent);\nparent-&gt;PrototypeTemplate()-&gt;Set(isolate, \"someNewMethod\", v8::FunctionTemplate::New(...));\n</code></pre>\n\n<p>Unfortunately, what I'm finding is that when the parent is modified, the children only have the methods that were available at the time of the inheritance, and further, even if I tell the child to reinherit from the parent, it still does not gain the new methods.</p>\n\n<p>Even worse, if I have a relationship like:</p>\n\n<pre><code>v8::FunctionTemplate parent, firstChild;\nfirstChild-&gt;Inherit(parent);\nparent-&gt;PrototypeTemplate()-&gt;Set(isolate, \"newMethod\", FunctionTemplate::New(...));\nv8::FunctionTemplate secondChild;\nsecondChild-&gt;Inherit(parent);\n</code></pre>\n\n<p>then instances of <code>secondChild</code> still only have the <code>parent</code> methods that were available at the time that <code>firstChild</code> inherited.</p>\n\n<p>From what I can tell, V8 may be aggressively optimizing the inheritance relationship; objects instanced from the child <code>FunctionTemplate</code>s do not show a prototype chain, and instead just have the methods bound directly to them.  So, I'm thinking that I need to use <code>Object::SetPrototype</code> to do this instead, but every attempt I've made at that either crashes V8, creates a prototype chain where none of the inherited methods are visible, or has the same effective behavior as the <code>FunctionTemplate::Inherit</code> case.</p>\n\n<p>What is the accepted, standard mechanism for providing inherited methods in V8 such that native methods can be added to superclasses?</p>\n"}, {"tags": ["c++", "arrays", "string", "class", "variables"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1421872716, "post_id": 28076318, "comment_id": 44531747, "body": "<code>string BookTitle = BT;</code> This is creating a variable that has the same name as your membervariable and assigning BT to it. Remove the type: <code>BookTitle = BT;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421872911, "post_id": 28076318, "comment_id": 44531853, "body": "Please read a good book (covering C/C++)"}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 2359982, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ae5c8c1c0def133aa169ea926f72e68?s=128&d=identicon&r=PG", "display_name": "JBarberU", "link": "https://stackoverflow.com/users/2359982/jbarberu"}, "edited": false, "score": 0, "creation_date": 1421872861, "post_id": 28076388, "comment_id": 44531827, "body": "Getting into the habit of using distinct naming conventions for members and stack variables is also very useful. Prepending members with &quot;m_&quot; -&gt; <code>m_someVarName</code> is quite common for instance."}, {"owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "edited": false, "score": 0, "creation_date": 1421873259, "post_id": 28076388, "comment_id": 44532013, "body": "wow ok so what is actually happening now that didn&#39;t happen before"}, {"owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "edited": false, "score": 0, "creation_date": 1421886379, "post_id": 28076388, "comment_id": 44537441, "body": "hello the same thing is happening to my publisher,ISBN,Price, and authors. Mainly the authors and publishers"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "reply_to_user": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "edited": false, "score": 0, "creation_date": 1421930206, "post_id": 28076388, "comment_id": 44554515, "body": "@LegacyWink the problem is the same... take out the <i>type</i> in front (that makes it a new variable local to the scope of the function). You might also want to use a different case or naming convention for local variables vs. class members. Your <code>setauthor</code> is also wrong by creating a new <i>uninitialized</i> <code>tracka</code> local to the <code>for</code> loop."}], "owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "is_accepted": true, "score": 4, "last_activity_date": 1421872715, "creation_date": 1421872715, "answer_id": 28076388, "question_id": 28076318, "link": "https://stackoverflow.com/questions/28076318/why-is-my-setbooktitle-not-storing-the-strings/28076388#28076388", "title": "why is my SetBookTitle not storing the strings", "body": "<pre><code>void SetBookTitle(string BT)\n{\n    string BookTitle = BT; //Does not assign to class member\n}\n</code></pre>\n\n<p>This creates a new function local variable <code>BookTitle</code> that <em>hides</em> the class member. When the function goes out of scope, the value is not kept.</p>\n\n<p>It should look more like this:</p>\n\n<pre><code>void SetBookTitle(const std::string &amp;BT)\n{\n    BookTitle = BT;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "edited": false, "score": 0, "creation_date": 1421873519, "post_id": 28076411, "comment_id": 44532146, "body": "ok cool thanks i did&#39;nt realize the string before booktitle was messing it up"}], "owner": {"reputation": 356, "user_id": 1264253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09fb85a65bdabc92b2ac49807ced0d88?s=128&d=identicon&r=PG", "display_name": "PDizzle745", "link": "https://stackoverflow.com/users/1264253/pdizzle745"}, "is_accepted": false, "score": 1, "last_activity_date": 1421872873, "last_edit_date": 1421872873, "creation_date": 1421872817, "answer_id": 28076411, "question_id": 28076318, "link": "https://stackoverflow.com/questions/28076318/why-is-my-setbooktitle-not-storing-the-strings/28076411#28076411", "title": "why is my SetBookTitle not storing the strings", "body": "<p>You are redefining the variable name.</p>\n\n<pre><code>void SetBookTitle(string BT)\n{\n    string BookTitle = BT;\n}\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>void SetBookTitle(string BT)\n{\n    BookTitle = BT;\n}\n</code></pre>\n\n<p>I tend to use <code>this-&gt;</code> to be sure I'm using the class member.</p>\n"}], "owner": {"reputation": 15, "user_id": 4119641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3826e43476402499e6cfe9200831d106?s=128&d=identicon&r=PG&f=1", "display_name": "Legacy Wink", "link": "https://stackoverflow.com/users/4119641/legacy-wink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28076388, "answer_count": 2, "score": 0, "last_activity_date": 1421886317, "creation_date": 1421872488, "last_edit_date": 1421886317, "question_id": 28076318, "link": "https://stackoverflow.com/questions/28076318/why-is-my-setbooktitle-not-storing-the-strings", "title": "why is my SetBookTitle not storing the strings", "body": "<p>Strangely when I enter a title for the member to store it doesn't store it what is wrong with it. I dont know what the problem is i have tried a lot of things. I know the median variable works fine but the actual class member function storing doesn't work please help.</p>\n\n<pre><code> class BookType\n{\nprivate:\n    string Bookinfo;\n    string BookTitle;\n    string publisher;\n    double price;\n    int ISBN;\n    string authors[4];\n    int tracka;\n    int copy;\n    int Booktracker;\n\npublic:\n    BookType()\n    {\n\n    }\n    void setpub(const std::string &amp;pr)\n    {\n         publisher = pr;\n    }\n    string getpub()\n    {\n        return publisher;\n    }\n    void setcopy(int c)\n    {\n    int copy = c;\n    }\n    int getcopy()\n    {\n        return copy;\n    }\n    void setprice(double p)\n    {\n    double price = p;\n    }\n    double getprice()\n    {\n        return price;\n    }\n    void SetBookTitle(const std::string &amp;BT)\n    {\n        BookTitle = BT;\n    }\n    string GetBookTitle()\n    {\n        return BookTitle;\n    }\n    void SetISBN(int I)\n    {\n         ISBN = I;\n    }\n    int GetISBN()\n    {\n        return ISBN;\n    }\n    void setnumAuthor(int a)\n    {\n        tracka = a;\n    }\n    void setauthor(const std::string &amp;a, int tracka)\n    {\n        for (int tracka; tracka&lt;4; tracka++)\n        {\n            authors[tracka] = a;\n        }\n    }\n    void setTBook(int T)\n    {\n        Booktracker = T;\n    }\n    string getauthor()\n    {\n        for (int i = 0; i &lt; 4; i++)\n        {\n            return authors[i];\n        }\n    }\n};\n\nint main()\n{\n\n\n\n    optionmenu();\n\n\n    system(\"pause\");\n        return 0;\n}\n\nvoid optionmenu()\n{\n    BookType Book[10];\n    int a = 0;\n    string title;\n    int isbn;\n    int i = 0;\n    string nu;\n    string author;\n    char choice;\n    string pub;\n    double price;\n    int copy;\n    int ch;\n    string srch;\n    bool found = false;\n\n    cout &lt;&lt; \"Hello welcome to the Bookinfo site please select an option.\" &lt;&lt; endl;\n    cout &lt;&lt; \" do you wish to continue the book info program? 1 for yes any key for no!\" ; cin &gt;&gt; ch;\n    while (ch == 1)\n    {\n\n    MenuOptions();\n    cin &gt;&gt; choice;\n\n    switch (choice)\n    {\n\n    case '1': \n\n    while (i &gt;= 10)\n    {\n        cout &lt;&lt; \"you have reached he book limit, choose another menu option!\"; cin &gt;&gt; choice;\n    }\n    cout &lt;&lt; i &lt;&lt; endl;\n\n    cout &lt;&lt; i &lt;&lt; endl;\n        cout &lt;&lt; \"=====================\" &lt;&lt; endl;\n        getline(cin, nu);\n        cout &lt;&lt; \"Please enter book title\" &lt;&lt; endl;\n        getline(cin,title);\n    Book[i].SetBookTitle(title);\nif (choice = '1')\n    {\n        i++;\n    }\n\n        cout &lt;&lt; \"please enter the author(s) name(s), if less then 4 authors leave (NA) in the leftover blanks.\" &lt;&lt; endl;\n        for (int ai = 0;  ai &lt; 4; ai++)\n        {\n        getline(cin, author);   \n        Book[i].setnumAuthor(ai);\n        }\n        cout &lt;&lt; \"=======================================================\" &lt;&lt; endl;\n        cout &lt;&lt; \"please enter the books ISBN Number.\" &lt;&lt; endl;\n        cin &gt;&gt; isbn;\n        Book[i].SetISBN(isbn);\n\n\n        cout &lt;&lt; \"what is the publisher of the book?\" &lt;&lt; endl;\n        getline(cin, nu);\n        getline(cin, pub);\n\n        Book[i].setpub(pub);\n</code></pre>\n"}, {"tags": ["c++", "linux", "multithreading"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1421872382, "post_id": 28076212, "comment_id": 44531590, "body": "To review working code: <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}], "answers": [{"owner": {"reputation": 403, "user_id": 1957816, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8b0bc9a47c4547e69feb4e6437ab1126?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Schuindt", "link": "https://stackoverflow.com/users/1957816/fl%c3%a1vio-schuindt"}, "is_accepted": false, "score": 1, "last_activity_date": 1421872332, "creation_date": 1421872332, "answer_id": 28076272, "question_id": 28076212, "link": "https://stackoverflow.com/questions/28076212/any-dis-advantages-of-having-pthread-mutex-t-and-pthread-cond-t-as-class-member/28076272#28076272", "title": "Any dis advantages of having pthread_mutex_t and pthread_cond_t as class member static variables?", "body": "<p>No problem here. Every instance of <code>myclass</code> share the same mutexes (lock and cond). So, every time an instance calls sometrdfn, it looks the current mutex state that is shared to all instances which is ok.</p>\n"}, {"comments": [{"owner": {"reputation": 1144, "user_id": 1866401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ht0KI.jpg?s=128&g=1", "display_name": "sree", "link": "https://stackoverflow.com/users/1866401/sree"}, "edited": false, "score": 0, "creation_date": 1421872905, "post_id": 28076282, "comment_id": 44531851, "body": "@wix, sorry I missed to add the initialization. Now I have edited. Thanks."}], "owner": {"reputation": 16707, "user_id": 341065, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e57fe4b0f7381288a8e1e4c6cd77a8e?s=128&d=identicon&r=PG", "display_name": "wilx", "link": "https://stackoverflow.com/users/341065/wilx"}, "is_accepted": false, "score": 1, "last_activity_date": 1421872366, "creation_date": 1421872366, "answer_id": 28076282, "question_id": 28076212, "link": "https://stackoverflow.com/questions/28076212/any-dis-advantages-of-having-pthread-mutex-t-and-pthread-cond-t-as-class-member/28076282#28076282", "title": "Any dis advantages of having pthread_mutex_t and pthread_cond_t as class member static variables?", "body": "<p>You should initialize the <code>lock</code> with <code>PTHREAD_MUTEX_INITIALIZER</code> and the <code>cond</code> with <code>PTHREAD_COND_INITIALIZER</code>. But if you really can, you should use <code>std::mutex</code> and <code>std::conditional_variable</code>.</p>\n"}], "owner": {"reputation": 1144, "user_id": 1866401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ht0KI.jpg?s=128&g=1", "display_name": "sree", "link": "https://stackoverflow.com/users/1866401/sree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1422361718, "creation_date": 1421872061, "last_edit_date": 1422361718, "question_id": 28076212, "link": "https://stackoverflow.com/questions/28076212/any-dis-advantages-of-having-pthread-mutex-t-and-pthread-cond-t-as-class-member", "title": "Any dis advantages of having pthread_mutex_t and pthread_cond_t as class member static variables?", "body": "<p>Any dis advantages of having  pthread_mutex_t and pthread_cond_t as class member static variables?</p>\n\n<pre><code> class myclass {\n        public:\n          static void*  sometrdfn(void*);\n          static std::string newVal;\n          static  a_namespace::someclass* ptr;\n          static pthread_mutex_t lock;\n          static pthread_cond_t cond;\n    };\n\nstd::string myclass::newVal = \" Text\";\na_namespace::someclass* myclass::ptr = NULL;\npthread_mutex_t myclass::lock = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t myclass::cond = PTHREAD_COND_INITIALIZER;\n\n\n    void* myclass::sometrdfn(void* This) {\n      pthread_mutex_lock(&amp;lock);\n      pthread_cond_wait(&amp;cond);\n      pthread_mutex_unlock(&amp;lock);\n    }\n</code></pre>\n\n<p>I am facing no issues here and everything worksfine so far, but I fear I may end up with some problems? Could somebody evaluate this and suggest me some value modifications if any? since I am new to multi threading I would appreciate a detailed and vivid answer. Thanks :)</p>\n"}, {"tags": ["c++", "windows", "service"], "comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421891308, "post_id": 28076094, "comment_id": 44538813, "body": "If your service is running as local system (or in any other account that has administrator privilege) then you can just use CreateProcess and the new processes will have the same privilege as the service.  Do you mean that you want the processes to run in the currently logged on user&#39;s session, so that they can interact with the user?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421891596, "post_id": 28076094, "comment_id": 44538875, "body": "And if so, should they be running in the user&#39;s account, or the same account as the system service?"}, {"owner": {"reputation": 15, "user_id": 4394321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e13acbd384a56e7ddbc9bfc8748a12?s=128&d=identicon&r=PG&f=1", "display_name": "493c33432b2b", "link": "https://stackoverflow.com/users/4394321/493c33432b2b"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421959784, "post_id": 28076094, "comment_id": 44572662, "body": "Yes, I&#39;m sorry, my question wasn&#39;t clear enough.  I want to interact with the user in the user&#39;s account, but I want to be an administrator."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421968791, "post_id": 28076094, "comment_id": 44576492, "body": "Huh?  Do you mean you want the process to interact with the user in the user&#39;s <i>session</i> but to run in an administrative security context?"}, {"owner": {"reputation": 15, "user_id": 4394321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e13acbd384a56e7ddbc9bfc8748a12?s=128&d=identicon&r=PG&f=1", "display_name": "493c33432b2b", "link": "https://stackoverflow.com/users/4394321/493c33432b2b"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421970368, "post_id": 28076094, "comment_id": 44576964, "body": "Yes, just as if the user right-clicked the program and selected &quot;Run As Administrator&quot;."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1421974392, "post_id": 28076094, "comment_id": 44578101, "body": "Running in the user&#39;s security context, then, but with elevation.  OK, pretty sure that&#39;s a duplicate.  I&#39;ll see if I can find it.  Edit - here it is: <a href=\"http://stackoverflow.com/q/23756176/886887\">stackoverflow.com/q/23756176/886887</a>"}], "owner": {"reputation": 15, "user_id": 4394321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e13acbd384a56e7ddbc9bfc8748a12?s=128&d=identicon&r=PG&f=1", "display_name": "493c33432b2b", "link": "https://stackoverflow.com/users/4394321/493c33432b2b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 747, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1421962908, "creation_date": 1421871540, "last_edit_date": 1421962908, "question_id": 28076094, "link": "https://stackoverflow.com/questions/28076094/c-use-createprocessasuser-to-launch-program-from-windows-service", "title": "C++ Use CreateProcessAsUser to Launch Program from Windows Service", "body": "<p>I have a windows service that can call programs using CreateProcess.  The only problem is that they run in session zero.  I want them to run as administrator.  I know that I need to use the CreateProcessAsUser function, but I am not sure how to get the right token.</p>\n\n<p>I could use ImpersonateLoggedOnUser, but I don't want the user to enter a username and password every time I want to create an admin process.</p>\n"}, {"tags": ["c++", "templates", "type-deduction"], "comments": [{"owner": {"reputation": 7182, "user_id": 1756405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ba33dcfe557ac8225234e185a43d8844?s=128&d=identicon&r=PG", "display_name": "IdeaHat", "link": "https://stackoverflow.com/users/1756405/ideahat"}, "edited": false, "score": 0, "creation_date": 1421871792, "post_id": 28075973, "comment_id": 44531339, "body": "...Have you tried it? The above should work fine. It is duck typing, so there isn&#39;t a great way to make it typesafe. <a href=\"http://en.wikipedia.org/wiki/Concepts_%28C%2B%2B%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Concepts_%28C%2B%2B%29</a> was to try and fix that but it didn&#39;t ever happen.  There are other ways using typetraits, SFINAE, and/or specialization, but I would personally just add a comment saying &quot;Must be a component&quot; and call it a day."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421872664, "post_id": 28075973, "comment_id": 44531718, "body": "<code>array&lt;Component, 65536&gt; m_components;</code> where Component are different types and stack memory is limited, simply does not work"}], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 1397012, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8082e9b04f60d592a7803d488efeea25?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/1397012/daniel-martin"}, "edited": false, "score": 0, "creation_date": 1421875742, "post_id": 28076163, "comment_id": 44533227, "body": "I see! I didn&#39;t think it would work, seeing how I thought it simply would not know. However, I now see that it deduces at compile-time and therefor will &quot;know&quot; if the requested method/data member is there or not."}], "owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 1, "last_activity_date": 1421871801, "creation_date": 1421871801, "answer_id": 28076163, "question_id": 28075973, "link": "https://stackoverflow.com/questions/28075973/accessing-datamembers-of-template-types/28076163#28076163", "title": "Accessing datamembers of template types", "body": "<p>What you have works fine, after correcting the template syntax.</p>\n\n<pre><code>template &lt;class Component&gt;\nuint32_t ComponentFactory&lt;Component&gt;::getIDatIndex(uint16_t index) \n{\n    //Grab the ID of whatever component the factory manages.\n    return m_components[index].ID;\n}\n</code></pre>\n"}], "owner": {"reputation": 560, "user_id": 1397012, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8082e9b04f60d592a7803d488efeea25?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/1397012/daniel-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28076163, "answer_count": 1, "score": 1, "last_activity_date": 1421878863, "creation_date": 1421871021, "last_edit_date": 1421878863, "question_id": 28075973, "link": "https://stackoverflow.com/questions/28075973/accessing-datamembers-of-template-types", "title": "Accessing datamembers of template types", "body": "<p>I have several POD structs, all who have a common datafield <code>uint32_t gID</code>.</p>\n\n<pre><code>struct component1\n{\n   uint32_t ID;\n   //Other data\n};\n\nstruct component2\n{\n   uint32_t ID;\n   //Other data\n};\n\nstruct component3\n{\n   uint32_t ID;\n   //Other data\n};\n</code></pre>\n\n<p>I would manage the POD structs with a factory class.</p>\n\n<pre><code>template &lt;class Component&gt;\nclass ComponentFactory\n{\n    public:\n    //Activating/Deactivating components\n    private:\n    array&lt;Component, 65536&gt; m_components;\n};\n</code></pre>\n\n<p>Now, the location in the m_components array is not always the same as the components ID. How could I write a function for ComponentFactory to return the ID of a component at some index?\nFor example,</p>\n\n<pre><code>uint32_t ComponentFactory::getIDatIndex(uint16_t index) \n{\n    //Grab the ID of whatever component the factory manages.\n    return m_components[index].ID;\n}\n</code></pre>\n\n<p>Additionally, is it possible to make the ComponentFactory typesafe so that there would not be <code>ComponentFactory&lt;int&gt;</code> or <code>ComponentFactory&lt;char&gt;</code>?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 3244, "user_id": 1599699, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/onvD7.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1599699/andrew"}, "edited": false, "score": 0, "creation_date": 1601892309, "post_id": 28075962, "comment_id": 113536963, "body": "I found <a href=\"https://blog.tartanllama.xyz/if-constexpr\" rel=\"nofollow noreferrer\">this</a>; I really like it."}], "answers": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "is_accepted": false, "score": 3, "last_activity_date": 1421871899, "last_edit_date": 1421871899, "creation_date": 1421871205, "answer_id": 28076025, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values/28076025#28076025", "title": "Conditional compilation based on template values?", "body": "<pre><code>double doit(AA &amp;t) {\n  return t.Plus(t);;\n}\ntemplate&lt;class T&gt; double doit(T &amp;t) {\n  return t + t;\n}\n</code></pre>\n\n<p>Your code doesn't work because if the template is deduced as <code>AA</code> then <code>t +  t</code> inside the body is ill-formed. On the other hand if <code>T</code> is deduces as <code>double</code> then <code>t.Plus(t)</code> becomes ill-formed.</p>\n\n<p>To better understand what is happening:\nA template is instantiated for each template  type is called with.</p>\n\n<p><code>doIt(a)</code> instantiates <code>doIt</code> with <code>T = double</code>:</p>\n\n<pre><code>double doIt&lt;double&gt;(double &amp;t) {\n  if (false)\n     return t.Plus(t);  // &lt;-- syntax error\n  else\n    return t + t;\n}\n</code></pre>\n\n<p><code>doIt(aa)</code> instantiates <code>doIt</code> with <code>T = AA</code>:</p>\n\n<pre><code>double doIt&lt;AA&gt;(AA &amp;t) {\n  if (true)\n    return t.Plus(t);\n  else \n    return t + t;   // &lt;-- syntax error\n}\n</code></pre>\n\n<hr>\n\n<p>You should <strong>avoid specializing function templates</strong> because <strong>functions overload</strong>. You can read this excellent Herb Sutter article: <a href=\"http://www.gotw.ca/publications/mill17.htm\" rel=\"nofollow\">Why Not Specialize Function Templates?</a> </p>\n"}, {"comments": [{"owner": {"reputation": 723, "user_id": 1459614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23faceeace5e2112018a420c441b02c2?s=128&d=identicon&r=PG&f=1", "display_name": "Razvan Cojocaru", "link": "https://stackoverflow.com/users/1459614/razvan-cojocaru"}, "edited": false, "score": 0, "creation_date": 1565553673, "post_id": 28076027, "comment_id": 101380965, "body": "Actually, the specialization doesn&#39;t work like you&#39;d expect: <a href=\"http://www.gotw.ca/publications/mill17.htm\" rel=\"nofollow noreferrer\">gotw.ca/publications/mill17.htm</a>"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 723, "user_id": 1459614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23faceeace5e2112018a420c441b02c2?s=128&d=identicon&r=PG&f=1", "display_name": "Razvan Cojocaru", "link": "https://stackoverflow.com/users/1459614/razvan-cojocaru"}, "edited": false, "score": 0, "creation_date": 1565600889, "post_id": 28076027, "comment_id": 101390164, "body": "@RazvanCojocaru Any particular reason you posted this comment? It works quite like I would expect, as I am aware of the peculiarities surrounding explicit specializations. And it works just as intended in this case."}, {"owner": {"reputation": 723, "user_id": 1459614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23faceeace5e2112018a420c441b02c2?s=128&d=identicon&r=PG&f=1", "display_name": "Razvan Cojocaru", "link": "https://stackoverflow.com/users/1459614/razvan-cojocaru"}, "edited": false, "score": 0, "creation_date": 1565637613, "post_id": 28076027, "comment_id": 101407351, "body": "The code won&#39;t work with the tiniest modifications. The Sutter article explains it. E.g., the following code prints out &quot;base template&quot;: <code>#include &lt;iostream&gt;  using namespace std;  struct X {};  template&lt;class T&gt; void doit(T) {     cout &lt;&lt; &quot;base template\\n&quot;; }  template&lt;&gt; void doit&lt;&gt;(X&amp;) {     cout &lt;&lt; &quot;full specialization\\n&quot;; }  int main() {     X x;     doit(x); } </code>"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 723, "user_id": 1459614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23faceeace5e2112018a420c441b02c2?s=128&d=identicon&r=PG&f=1", "display_name": "Razvan Cojocaru", "link": "https://stackoverflow.com/users/1459614/razvan-cojocaru"}, "edited": false, "score": 0, "creation_date": 1565687675, "post_id": 28076027, "comment_id": 101421145, "body": "@RazvanCojocaru You literally just changed the meaning of <code>doit</code> without adjusting the meaning of the explicit specialization accordingly. That&#39;s a load of nonsense."}], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 3, "last_activity_date": 1421871570, "last_edit_date": 1421871570, "creation_date": 1421871213, "answer_id": 28076027, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values/28076027#28076027", "title": "Conditional compilation based on template values?", "body": "<p>Overloading?</p>\n\n<pre><code>template&lt;class T&gt;\ndouble doit(T &amp;t) {\n    return t + t;\n}\n\ndouble doit(AA &amp;t) {\n    return t.Plus(t);\n}\n</code></pre>\n\n<p>Explicit specialization is also possible, though superfluous:</p>\n\n<pre><code>template&lt;class T&gt;\ndouble doit(T &amp;t) {\n    return t + t;\n}\n\ntemplate&lt;&gt;\ndouble doit&lt;&gt;(AA &amp;t) {\n    return t.Plus(t);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 231, "user_id": 1655230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e9f3d2be6aedf0931be83ef1517e2f?s=128&d=identicon&r=PG", "display_name": "Rob Bryce", "link": "https://stackoverflow.com/users/1655230/rob-bryce"}, "edited": false, "score": 2, "creation_date": 1421876255, "post_id": 28076655, "comment_id": 44533486, "body": "Thank you, I think I like this solution the best.  The static if would be the ideal approach.  You see, this is a dumbed-down version of the bigger problem, where I have 4 specializations which would need to use one variation of the code, and 4 specializations which would need the 2nd variation of the code.  This solution lets me have one implementation in the code base for each varation."}, {"owner": {"reputation": 475, "user_id": 1906174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0385f2f97d38783ee667d1ee831e4370?s=128&d=identicon&r=PG", "display_name": "Wormer", "link": "https://stackoverflow.com/users/1906174/wormer"}, "edited": false, "score": 0, "creation_date": 1514922477, "post_id": 28076655, "comment_id": 83107132, "body": "Came here with the same question in mind. This answer fits best. Thanks! Would really like to see it as an accepted one"}, {"owner": {"reputation": 475, "user_id": 1906174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0385f2f97d38783ee667d1ee831e4370?s=128&d=identicon&r=PG", "display_name": "Wormer", "link": "https://stackoverflow.com/users/1906174/wormer"}, "edited": false, "score": 0, "creation_date": 1514931915, "post_id": 28076655, "comment_id": 83110968, "body": "More research on the topic shows we have if-constexpr since c++17. Added an answer for that"}], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": false, "score": 4, "last_activity_date": 1421873806, "creation_date": 1421873806, "answer_id": 28076655, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values/28076655#28076655", "title": "Conditional compilation based on template values?", "body": "<p>What you want is a static if. C++ doesn't have it. There are many ways to work around it, none as good as native support. In addition to the methods specified in the other two answers, you could try tag dispatch.</p>\n\n<pre><code>template&lt;class T&gt; double doitImpl(T &amp;t, std::true_type) {\n    return t.Plus(t);\n}\n\ntemplate&lt;class T&gt; double doitImpl(T &amp;t, std::false_type) {\n    return t+t;\n}\n\ntemplate&lt;class T&gt; double doit(T &amp;t) {\n    return doitImpl(t, std::is_same&lt;T, AA&gt;);\n}\n</code></pre>\n"}, {"owner": {"reputation": 231, "user_id": 1655230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e9f3d2be6aedf0931be83ef1517e2f?s=128&d=identicon&r=PG", "display_name": "Rob Bryce", "link": "https://stackoverflow.com/users/1655230/rob-bryce"}, "is_accepted": false, "score": 2, "last_activity_date": 1422465080, "creation_date": 1422465080, "answer_id": 28198279, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values/28198279#28198279", "title": "Conditional compilation based on template values?", "body": "<p>This code compiles and runs:</p>\n\n<pre><code>#include &lt;boost/type_traits/is_floating_point.hpp&gt;\n#include &lt;boost/type_traits/is_class.hpp&gt;\n#include &lt;boost/utility/enable_if.hpp&gt;\n\nusing namespace boost;\n\nclass AA {\npublic:\n    double a;\n\n    AA Plus(AA &amp;b) {\n        AA _a;\n        _a.a = a + b.a;\n        return _a;\n    }\n};\n\n\ntemplate&lt;class T&gt;\ntypename disable_if&lt;is_floating_point&lt;T&gt;, T &gt;::type\ndoit(T &amp;t) {\n    return t.Plus(t);\n}\n\n\ntemplate&lt;class T&gt;\ntypename enable_if&lt;is_floating_point&lt;T&gt;, T &gt;::type\ndoit(T &amp;t) {\n    return t+t;\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    double a;\n    AA aa;\n\n    doit(a);\n    doit(aa);\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1568664253, "post_id": 48068662, "comment_id": 102338471, "body": "Gawd I hate if this is the only option. I need an additional argument to my constructor if the template type if of a certain type. I&#39;ll take your word for it that the compiler only compiles one version of this code, but it looks like a typical <code>if</code> statement, and you certainly can&#39;t use it to wrap functions."}, {"owner": {"reputation": 3244, "user_id": 1599699, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/onvD7.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1599699/andrew"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1601891130, "post_id": 48068662, "comment_id": 113536455, "body": "@JonathanWood <a href=\"https://stackoverflow.com/a/37048889/1599699\">stackoverflow.com/a/37048889/1599699</a>"}], "owner": {"reputation": 475, "user_id": 1906174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0385f2f97d38783ee667d1ee831e4370?s=128&d=identicon&r=PG", "display_name": "Wormer", "link": "https://stackoverflow.com/users/1906174/wormer"}, "is_accepted": false, "score": 8, "last_activity_date": 1514932818, "last_edit_date": 1514932818, "creation_date": 1514931800, "answer_id": 48068662, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values/48068662#48068662", "title": "Conditional compilation based on template values?", "body": "<p>Since C++17 there is static if which is called if-constexpr. The following compiles fine since clang-3.9.1 and gcc-7.1.0, latest MSVC compiler 19.11.25506  handles  well too with an option /std:c++17.</p>\n\n<pre><code>template&lt;class T&gt; double doit(T &amp;t) {\n    if constexpr (std::is_same_v&lt;T, AA&gt;)\n        return t.Plus(t);\n    else\n        return t + t;\n}\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 1655230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e9f3d2be6aedf0931be83ef1517e2f?s=128&d=identicon&r=PG", "display_name": "Rob Bryce", "link": "https://stackoverflow.com/users/1655230/rob-bryce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5743, "favorite_count": 1, "answer_count": 5, "score": 8, "last_activity_date": 1514932818, "creation_date": 1421870984, "last_edit_date": 1495541190, "question_id": 28075962, "link": "https://stackoverflow.com/questions/28075962/conditional-compilation-based-on-template-values", "title": "Conditional compilation based on template values?", "body": "<p>the question posed in:\n<a href=\"https://stackoverflow.com/questions/6251889/type-condition-in-template\">Type condition in template</a></p>\n\n<p>is very similar, yet the original question wasn't quite answered.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;type_traits&gt;\n\n\nclass AA {\npublic:\n    double a;\n\n    double Plus(AA &amp;b) {\n        return a + b.a;\n    }\n};\n\ntemplate&lt;class T&gt; double doit(T &amp;t) {\n    if (std::is_same&lt;T, AA&gt;::value)\n        return t.Plus(t);\n    else\n        return t + t;\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    double a;\n    AA aa;\n\n    doit(a);\n    doit(aa);\n\n    return 0;\n}\n</code></pre>\n\n<p>This doesn't compile, nor did I expect it to.  Is something like this possible?  Being, based on the template value, I want some code to be compiled, and others not.  Here, 'double' doesn't have a method called \"Plus\" and class \"AA\" doesn't override the '+' operator.  Operator overloading isn't always desirable when considering subtle semantics to the operations, so I'm looking for an alternative.  I'd prefer to do #ifdef's (truly conditional compilation as posed in the ref'd question), but based on template values.</p>\n"}, {"tags": ["c++", "algorithm", "tree", "binary-search-tree"], "comments": [{"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1421870751, "post_id": 28075777, "comment_id": 44530832, "body": "What kind of BST is this?"}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "reply_to_user": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1421871530, "post_id": 28075777, "comment_id": 44531206, "body": "I don&#39;t know if there are different kind of BST. I just know in BST left element should be smaller and right should be larger than the root."}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "reply_to_user": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1421873379, "post_id": 28075777, "comment_id": 44532066, "body": "@CaptainGiraffe : Skewed BST"}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "reply_to_user": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1421873397, "post_id": 28075777, "comment_id": 44532074, "body": "@CaptainGiraffe 1-&gt;2-&gt;3-&gt;4"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421871109, "post_id": 28075942, "comment_id": 44530995, "body": "I am not able to visualize the behavior. Everything works fine but only root deletion is creating problem when suppose I have 1,2,3,4 and I am trying to delete 1. I think I need <code>root=</code> to hold the returned value. otherwise the <code>return root; </code>is going no where.."}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421871359, "post_id": 28075942, "comment_id": 44531113, "body": "Am I kind of making sense?"}, {"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "reply_to_user": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421871522, "post_id": 28075942, "comment_id": 44531202, "body": "@tanz if you write it on paper and do, you&#39;ll get it. It basically reaches last else, recurse to right sub-tree"}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421871765, "post_id": 28075942, "comment_id": 44531323, "body": "for input 1,2,3,4 .. If I am trying to delete 1 , which will be root node only..I dont think any recursion will occur. It just goes to the else part and then returns. More like regular function. Please help me here."}, {"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "reply_to_user": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421872397, "post_id": 28075942, "comment_id": 44531595, "body": "@tanz Well it goes to <code>findMin</code> else part replace the <code>root</code> with min in right sub-tree i.e. root-&gt;right data, now will recurse into this sub-tree and delete the root there, cases as applicable, while unwinding you&#39;ll get yo your new <code>root</code>, its difficult to explain here, work on notebook and pencil with simple example"}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421872571, "post_id": 28075942, "comment_id": 44531668, "body": "I can understand its difficult to explain here and Thank you so much for trying to explain things to me. But I don&#39;t see it going to the findmin part. If you see closely. the if part where I say <code>root-&gt;left == NULL</code> ., that part will get executed. Because for input 1,2,3,4. left part of 1 will be NULL."}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421872669, "post_id": 28075942, "comment_id": 44531719, "body": "Even VS Debugger also telling the same thing."}, {"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "reply_to_user": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421872841, "post_id": 28075942, "comment_id": 44531812, "body": "@tanz I was referring to complete binary tree not your example, so okay with 1-&gt;2-&gt;3-&gt;4 i.e a linked list only your <code>root=root-&gt;right</code>, and you return root, i.e. your original root got modified, the caller root is now a dangling, you must restore it back, so you should do <code>root = del(root, num)</code>"}, {"owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "edited": false, "score": 0, "creation_date": 1421873867, "post_id": 28075942, "comment_id": 44532303, "body": "I kind of got your point. Just tell me one last thing. So even though if I modify root. the caller still holds to the old memory address.. it does not automatically moves to the new root. Since we have only one copy of root still the caller sticks to the old address of root?"}], "owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "is_accepted": true, "score": 2, "last_activity_date": 1421870916, "creation_date": 1421870916, "answer_id": 28075942, "question_id": 28075777, "link": "https://stackoverflow.com/questions/28075777/exception-deletion-of-node-in-binary-search-tree/28075942#28075942", "title": "Exception: Deletion of node in Binary Search Tree", "body": "<p>While deleting a BST node using recursion, you must track the root node, which you're doing correctly as</p>\n\n<p><code>root-&gt;left = // ...</code> and <code>root-&gt;right = ...</code></p>\n\n<p>However when call reaches to caller after unwinding the stack, the root may get modified ( case when you delete the root itself )</p>\n\n<p><sub>This <em>hopefully</em> answers both of your questions</sub></p>\n"}], "owner": {"reputation": 587, "user_id": 4407315, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1d26c3fc1a90c274566fd1c7912228fc?s=128&d=identicon&r=PG&f=1", "display_name": "tanz", "link": "https://stackoverflow.com/users/4407315/tanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 28075942, "answer_count": 1, "score": 1, "last_activity_date": 1421870916, "creation_date": 1421870263, "question_id": 28075777, "link": "https://stackoverflow.com/questions/28075777/exception-deletion-of-node-in-binary-search-tree", "title": "Exception: Deletion of node in Binary Search Tree", "body": "<p>I am getting Exception when running the BST Deletion. Below is my code snippet:    </p>\n\n<pre><code>Bst::node * Bst::del(node *root, int num)\n    {\n        if (root == NULL)\n        {\n            return root;\n        }\n        else if (num &lt; root-&gt;data)\n        {\n            root-&gt;left = del(root-&gt;left, num);\n        }\n        else if (num &gt; root-&gt;data)\n        {\n            root-&gt;right = del(root-&gt;right, num);\n        }\n        else\n        {\n            if (root-&gt;left == NULL)\n            {\n                node * tmp = root;\n                root = root-&gt;right;\n                delete tmp;\n            }\n            else if (root-&gt;right == NULL)\n            {\n                node * tmp = root;\n                root = root-&gt;left;\n                delete tmp;\n            }\n            else if (root-&gt;left == NULL &amp;&amp; root-&gt;right == NULL)\n            {\n                delete root;\n                root = NULL;\n            }\n            else\n            {\n                node *tmp = root;\n                tmp = findMin(root-&gt;right);\n                root-&gt;data = tmp-&gt;data;\n                root-&gt;right = del(root-&gt;right, tmp-&gt;data);\n            }\n        }\n\n\n        return root;\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>void Bst::del(int num)\n{\n     del(root, num);\n}\n</code></pre>\n\n<p>Everything works fine when I am deleting the other nodes but when I delete the root node itself then the function <code>void Bst::del(int num)</code> gets the garbage value from the function <code>Bst::node * Bst::del(node *root, int num)</code>. The error gets resolved when I rewrite my function as</p>\n\n<pre><code>void Bst::del(int num)\n        {\n            root = del(root, num);\n        }\n</code></pre>\n\n<p><strong>Question 1.</strong> Why it works when I delete the middle nodes or any other node except the root node. While debugging I found that even root was getting deleted properly when the function <code>Bst::node * Bst::del(node *root, int num)</code>was executing but when the call returned to the <code>void Bst::del(int num)</code> then the value of root was not getting retained and was garbage.</p>\n\n<p><strong>Question 2:</strong> Why the error got fixed when I stored the returned value in variable <code>root</code>?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 3, "creation_date": 1421870325, "post_id": 28075761, "comment_id": 44530601, "body": "I don&#39;t see where you tell us <i>exactly</i> what the error is and <i>what lines</i> it pertains to..."}, {"owner": {"reputation": 12923, "user_id": 1530508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fG8z0.png?s=128&g=1", "display_name": "ApproachingDarknessFish", "link": "https://stackoverflow.com/users/1530508/approachingdarknessfish"}, "edited": false, "score": 2, "creation_date": 1421870385, "post_id": 28075761, "comment_id": 44530643, "body": "How is <code>Chapter</code> declared?"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 9, "creation_date": 1421870642, "post_id": 28075761, "comment_id": 44530775, "body": "You forgot to include Chapter.h in Game.h. At the point that Game.h is compiled, the compiler has no idea what a <code>Chapter</code> is, and gives you an error."}, {"owner": {"reputation": 12923, "user_id": 1530508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fG8z0.png?s=128&g=1", "display_name": "ApproachingDarknessFish", "link": "https://stackoverflow.com/users/1530508/approachingdarknessfish"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1421870788, "post_id": 28075761, "comment_id": 44530850, "body": "@Cameron That should be an answer."}, {"owner": {"reputation": 2470, "user_id": 4262157, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DIi0C.jpg?s=128&g=1", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4262157/erik-w"}, "edited": false, "score": 0, "creation_date": 1421871035, "post_id": 28075761, "comment_id": 44530958, "body": "Why don&#39;t I need to do that with string for example?"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1421875551, "post_id": 28075761, "comment_id": 44533114, "body": "@Erik: You&#39;re not using anything declared in <code>string</code>, but your question is still valid -- the reason is that <code>#include</code>s are expanded into the included file&#39;s full text by the preprocessor before the file is actually compiled. This means that a given .h file has the context of all the files that were included before it (even if it doesn&#39;t include those files itself). In this case, Chapter.h sees Game.h, <code>iostream</code>, <code>vector</code>, and <code>string</code> because main.cpp includes them before including Chapter.h. But don&#39;t rely on this, because another .cpp might include different things (or nothing!) first."}], "answers": [{"comments": [{"owner": {"reputation": 1786, "user_id": 2704585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HL8QN.jpg?s=128&g=1", "display_name": "Adam Burry", "link": "https://stackoverflow.com/users/2704585/adam-burry"}, "edited": false, "score": 2, "creation_date": 1421871395, "post_id": 28075932, "comment_id": 44531134, "body": "You could also forward declare Chapter in this case since the object size is not needed just to point to it."}], "owner": {"reputation": 3572, "user_id": 412044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WZZOJ.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/412044/martin"}, "is_accepted": true, "score": 3, "last_activity_date": 1421871646, "last_edit_date": 1421871646, "creation_date": 1421870885, "answer_id": 28075932, "question_id": 28075761, "link": "https://stackoverflow.com/questions/28075761/c-object-as-argument/28075932#28075932", "title": "C++ Object as argument", "body": "<p>Include <code>Chapter.h</code> in <code>Game.h</code>.</p>\n\n<pre><code>\\game.h(8): error C2061: syntax error : identifier 'Chapter\n</code></pre>\n\n<p>You need to tell where the compiler can find the definition of <code>Chapter</code> when it reads the definition of addChapter in <code>Game.h</code>.</p>\n"}, {"owner": {"reputation": 532, "user_id": 2530572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ea742cae8e2d5b6239783d920dfcc67?s=128&d=identicon&r=PG", "display_name": "ART GALLERY", "link": "https://stackoverflow.com/users/2530572/art-gallery"}, "is_accepted": false, "score": 1, "last_activity_date": 1421871396, "creation_date": 1421871396, "answer_id": 28076065, "question_id": 28075761, "link": "https://stackoverflow.com/questions/28075761/c-object-as-argument/28076065#28076065", "title": "C++ Object as argument", "body": "<p>You are missing a include to Chapter.h inside of Game.h</p>\n\n<pre><code>#include \"Chapter.h\"\n\n#pragma once\nclass Game\n{\npublic:\n    Game();\n    ~Game();\n\n    void addChapter(Chapter *chapter);\n    void start();\n};\n</code></pre>\n\n<p>With that everything works like you'd expect</p>\n"}], "owner": {"reputation": 2470, "user_id": 4262157, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DIi0C.jpg?s=128&g=1", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4262157/erik-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 28075932, "answer_count": 2, "score": 0, "last_activity_date": 1421871646, "creation_date": 1421870216, "last_edit_date": 1592644375, "question_id": 28075761, "link": "https://stackoverflow.com/questions/28075761/c-object-as-argument", "title": "C++ Object as argument", "body": "<p>I am trying to make a program where I need to pass objects as argument to a function in a class, but it gives me these errors:</p>\n<blockquote>\n<p>------ Build started: Project: C++ Program, Configuration: Debug Win32 ------</p>\n<p>Main.cpp<br />\n[...]\\game.h(8): error C2061: syntax error : identifier 'Chapter'<br />\n[...]\\main.cpp(9): error C2660: 'Game::addChapter' : function does not take 1 arguments</p>\n<p>Game.cpp<br />\n[...]\\game.h(8): error C2061: syntax error : identifier 'Chapter'<br />\n[...]\\game.cpp(20): error C2511: 'void Game::addChapter(Chapter *)' :<br />\n\u00a0\u00a0\u00a0overloaded member function not found in 'Game'<br />\n[...]\\game.h(3) : see declaration of 'Game'</p>\n</blockquote>\n<p>My Code:</p>\n<p>Main.cpp</p>\n<pre><code>#include &quot;Game.h&quot;\n#include &quot;Chapter.h&quot;\n\nint main(void)\n{\nGame game;\nChapter hi;\n\ngame.addChapter(&amp;hi);\ngame.start();\nreturn 0;\n}\n</code></pre>\n<p>Game.cpp</p>\n<pre><code>#include &quot;Game.h&quot;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &quot;Chapter.h&quot;\n\nusing namespace std;\n\nGame::Game()\n{\n\n}\n\nGame::~Game()\n{\n\n}\n\nvoid Game::addChapter(Chapter *chapter)\n{\n    cout &lt;&lt; &quot;Added&quot;;\n}\n\nvoid Game::start()\n{\ncout &lt;&lt; &quot;Started&quot;;\n}\n</code></pre>\n<p>Game.h</p>\n<pre><code>#pragma once\nclass Game\n{\npublic:\n    Game();\n    ~Game();\n\n    void addChapter(Chapter *chapter);\n    void start();\n};\n</code></pre>\n<p>Chapter.cpp</p>\n<pre><code>#include &quot;Chapter.h&quot;\n\nChapter::Chapter()\n{\n\n}\n\n\nChapter::~Chapter()\n{\n\n}\n\n\nvoid Chapter::getInput()\n{\ncout &lt;&lt; &quot;Hello&quot;;\n}\n</code></pre>\n<p>Chapter.h</p>\n<pre><code>#pragma once\nclass Chapter\n{\npublic:\n    Chapter();\n    ~Chapter();\n\nprotected:\n    void getInput();\n};\n</code></pre>\n<p>Why am I getting this error and how can I solve the problem?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 2, "creation_date": 1421870221, "post_id": 28075729, "comment_id": 44530548, "body": "It&#39;s a variable. This is just a variable declaration. <code>cv_ptr_depth</code> is initialized with a new <code>CvImage</code> instance as its constructor&#39;s parameter."}, {"owner": {"reputation": 45276, "user_id": 176922, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/621b61c5445afea7639b4cf6bb7c455a?s=128&d=identicon&r=PG", "display_name": "Benjamin Bannier", "link": "https://stackoverflow.com/users/176922/benjamin-bannier"}, "edited": false, "score": 1, "creation_date": 1421870356, "post_id": 28075729, "comment_id": 44530623, "body": "Learning the basics should be much easier from a good book (see the tag&#39;s page) than from answers here."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1421870482, "post_id": 28075729, "comment_id": 44530698, "body": "@TheParamagneticCroissant it&#39;s very close to being prone to <a href=\"http://en.wikipedia.org/wiki/Most_vexing_parse\" rel=\"nofollow noreferrer\">the most vexing parse</a>. Without the <code>new</code> in there it almost certainly would."}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1421871420, "post_id": 28075729, "comment_id": 44531147, "body": "@MarkRansom Yes, that&#39;s true."}], "answers": [{"owner": {"reputation": 41806, "user_id": 1870232, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rbI29.jpg?s=128&g=1", "display_name": "P0W", "link": "https://stackoverflow.com/users/1870232/p0w"}, "is_accepted": true, "score": 3, "last_activity_date": 1421871151, "last_edit_date": 1421871151, "creation_date": 1421870497, "answer_id": 28075839, "question_id": 28075729, "link": "https://stackoverflow.com/questions/28075729/having-difficulty-in-interpreting-a-line-code-in-c/28075839#28075839", "title": "Having difficulty in interpreting a line code in c++", "body": "<p><code>cv_ptr_depth</code> is a variable of type <code>CvImagePtr</code> present in namespace <code>cv_bridge</code> initialized with a new instance of <code>CvImage</code> which is gain from <code>cv_bridge</code> namespace</p>\n\n<p>The initialization is done with help of constructor of <code>CvImagePtr</code></p>\n\n<blockquote>\n  <p>Is it a function ?</p>\n</blockquote>\n\n<p>No, however if you omit <code>new</code> it will be treated as a function.</p>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Most_vexing_parse\" rel=\"nofollow\"><em>Most Vexing Parse</em></a></p>\n"}], "owner": {"reputation": 13, "user_id": 4476601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c6b591f406db22284ae06b44682bbb4?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza", "link": "https://stackoverflow.com/users/4476601/alireza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 28075839, "answer_count": 1, "score": -1, "last_activity_date": 1421871151, "creation_date": 1421870122, "last_edit_date": 1421870864, "question_id": 28075729, "link": "https://stackoverflow.com/questions/28075729/having-difficulty-in-interpreting-a-line-code-in-c", "title": "Having difficulty in interpreting a line code in c++", "body": "<p>I am having difficulty in understanding this line in c++. \nThis is the code :</p>\n\n<p><code>cv_bridge::CvImagePtr cv_ptr_depth (new cv_bridge::CvImage);</code></p>\n\n<p>I think that <code>cv_bridge</code> is a library and <code>CvImagePtr</code> is the name of a class in that library, but what is <code>cv_ptr_depth</code>? Is it a function? If I am right, does the <code>(new cv_bridge::CvImage)</code> create a new <code>CvImage</code> object for the function <code>cv_ptr_depth</code> of the class <code>cv_bridge</code>?</p>\n"}, {"tags": ["c++", "mysql", "connector"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1421872424, "post_id": 28075595, "comment_id": 44531604, "body": "Try using without the <code>delete declaration</code>.  I&#39;m still not sure if the value returned by <code>createStatement()</code> can be <code>delete</code>d."}, {"owner": {"reputation": 13, "user_id": 4479814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4051f1603c88d9ec6a23b7f0518144e?s=128&d=identicon&r=PG&f=1", "display_name": "Marion", "link": "https://stackoverflow.com/users/4479814/marion"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1421873516, "post_id": 28075595, "comment_id": 44532140, "body": "It can, and it doesn&#39;t change anything deleting or not (except the memory...) I am deleting every statements when I do any SELECT query, and still don&#39;t have any problem. It happens only with UPDATE (haven&#39;t tried with INSERT)"}, {"owner": {"reputation": 1020, "user_id": 4304120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc7c00d9ea3a92baac5b6927343dba?s=128&d=identicon&r=PG&f=1", "display_name": "Marian Spanik", "link": "https://stackoverflow.com/users/4304120/marian-spanik"}, "edited": false, "score": 0, "creation_date": 1421875420, "post_id": 28075595, "comment_id": 44533050, "body": "Try to catch that exception by reference - catch (sql::SQLException &amp;e). The exception thrown may be a child of sql::SQLException, not the SQLException directly and that copying of that exception into SQLException may lose information."}, {"owner": {"reputation": 13, "user_id": 4479814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4051f1603c88d9ec6a23b7f0518144e?s=128&d=identicon&r=PG&f=1", "display_name": "Marion", "link": "https://stackoverflow.com/users/4479814/marion"}, "edited": false, "score": 0, "creation_date": 1421905041, "post_id": 28075595, "comment_id": 44542249, "body": "I ever tried, but didn&#39;t work, MSVC Says : &quot;First-chance exception at 0x7623C42D in NLServeur.exe: Microsoft C++ exception: sql::SQLException at memory location 0x0017FC68.&quot; when he is on the line..."}], "answers": [{"owner": {"reputation": 13, "user_id": 4479814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4051f1603c88d9ec6a23b7f0518144e?s=128&d=identicon&r=PG&f=1", "display_name": "Marion", "link": "https://stackoverflow.com/users/4479814/marion"}, "is_accepted": true, "score": 0, "last_activity_date": 1421947903, "creation_date": 1421947903, "answer_id": 28095082, "question_id": 28075595, "link": "https://stackoverflow.com/questions/28075595/mysql-c-connector-update/28095082#28095082", "title": "MySQL C++ Connector UPDATE", "body": "<p>Finaly I did it like that :</p>\n\n<pre><code>void renameCharac(std::string guid, std::string pseudo)\n{\n        sql::Statement *declaration;\n        declaration = connection-&gt;createStatement();\n        declaration-&gt;executeUpdate(\"UPDATE characters SET name = '\" + pseudoChoisi + \"' WHERE characregistra = '\" + guid + \"'\");\n        delete declaration;\n}\n</code></pre>\n\n<p>It works.</p>\n"}], "owner": {"reputation": 13, "user_id": 4479814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4051f1603c88d9ec6a23b7f0518144e?s=128&d=identicon&r=PG&f=1", "display_name": "Marion", "link": "https://stackoverflow.com/users/4479814/marion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2804, "favorite_count": 0, "accepted_answer_id": 28095082, "answer_count": 1, "score": 1, "last_activity_date": 1421947903, "creation_date": 1421869644, "question_id": 28075595, "link": "https://stackoverflow.com/questions/28075595/mysql-c-connector-update", "title": "MySQL C++ Connector UPDATE", "body": "<p>I am having trouble with the MySQL C++ Connector... My problem is I have a query : <code>UPDATE characters SET name = 'myNameIs' WHERE characregistra = 'MyguidIs'</code>\ncharacters is the table, name a column, characregistra too. I try to put the myNameIs value into name when I found in the column characregistra the value \"MyguisIs\". It works, but without try{]catch{], it crashes. I tried to get the error with a sql::SQLException, but no way, nothing in printed...\nThanks in advance.</p>\n\n<p>EDIT : forgot to put the code :</p>\n\n<pre><code>void renameCharac(std::string guid, std::string pseudo)\n{\n    try{\n        sql::Statement *declaration;\n        declaration = connection-&gt;createStatement(); // Connection is declared\n        declaration-&gt;executeQuery(\"UPDATE characters SET name = '\" + pseudo + \"' WHERE characregistra = '\" + guid + \"'\");\n        delete declaration;\n    }\n    catch (sql::SQLException e)\n    {\n        std::cout &lt;&lt; e.what();\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "sorting", "insertion-sort"], "comments": [{"owner": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 4, "creation_date": 1421869874, "post_id": 28075505, "comment_id": 44530359, "body": "Hello, welcome to StackOverflow! Have you trying debugging through your code step-by-step to see where the issue is?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1421869981, "post_id": 28075505, "comment_id": 44530424, "body": "Related: You may find <a href=\"http://pastebin.com/TGMytEp8\" rel=\"nofollow noreferrer\">this implementation</a> a bit more brief."}, {"owner": {"reputation": 3, "user_id": 4468339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a112b7f4850782cf11aad954c3cd40?s=128&d=identicon&r=PG&f=1", "display_name": "gymnastm117", "link": "https://stackoverflow.com/users/4468339/gymnastm117"}, "reply_to_user": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 0, "creation_date": 1421870071, "post_id": 28075505, "comment_id": 44530467, "body": "@JohnOdom Yeah, and it compiles fine it&#39;s just not doing what it&#39;s supposed to do."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 3, "creation_date": 1421870135, "post_id": 28075505, "comment_id": 44530498, "body": "@gymnastm117 He never said it didn&#39;t compile. Debugging it would have shown the unexpected value of <code>i</code> in the print loop. Pretty sure that was his point."}, {"owner": {"reputation": 1056, "user_id": 2970916, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1456170059/picture?type=large", "display_name": "user2970916", "link": "https://stackoverflow.com/users/2970916/user2970916"}, "edited": false, "score": 0, "creation_date": 1421870153, "post_id": 28075505, "comment_id": 44530511, "body": "int a[n] should throw an error. You cannot initialize arrays in c++ with a variable size. You would need to make n a const variable. const int n = 7; int a[n];"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1421870249, "post_id": 28075505, "comment_id": 44530561, "body": "@gymnastm117 debugging is not compiling"}, {"owner": {"reputation": 1056, "user_id": 2970916, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1456170059/picture?type=large", "display_name": "user2970916", "link": "https://stackoverflow.com/users/2970916/user2970916"}, "edited": false, "score": 0, "creation_date": 1421870453, "post_id": 28075505, "comment_id": 44530689, "body": "In your update you only added the initializes to the loop in the print function, and not in the getInput function."}, {"owner": {"reputation": 3, "user_id": 4468339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a112b7f4850782cf11aad954c3cd40?s=128&d=identicon&r=PG&f=1", "display_name": "gymnastm117", "link": "https://stackoverflow.com/users/4468339/gymnastm117"}, "reply_to_user": {"reputation": 1056, "user_id": 2970916, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1456170059/picture?type=large", "display_name": "user2970916", "link": "https://stackoverflow.com/users/2970916/user2970916"}, "edited": false, "score": 0, "creation_date": 1421870770, "post_id": 28075505, "comment_id": 44530839, "body": "That fixed it!! Thank you so much @user2970916"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4468339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a112b7f4850782cf11aad954c3cd40?s=128&d=identicon&r=PG&f=1", "display_name": "gymnastm117", "link": "https://stackoverflow.com/users/4468339/gymnastm117"}, "edited": false, "score": 0, "creation_date": 1421869740, "post_id": 28075565, "comment_id": 44530281, "body": "Oh right thank you, I can&#39;t believe I missed that! But it still isn&#39;t asking for user input."}, {"owner": {"reputation": 2277, "user_id": 3037915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4957d2ff2e049c7163f2aa0e97c3a434?s=128&d=identicon&r=PG&f=1", "display_name": "Tasos Vogiatzoglou", "link": "https://stackoverflow.com/users/3037915/tasos-vogiatzoglou"}, "edited": false, "score": 2, "creation_date": 1421870010, "post_id": 28075565, "comment_id": 44530437, "body": "It&#39;s a good practice to get used to compiling with -Wall and even -pedantic -Werror. These are errors that a compiler can notify you about and you&#39;ll get a better feeling of what is standard behavior."}], "owner": {"reputation": 7638, "user_id": 2986116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f1444d1687fdda5fc2f039ccb0c4c?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/2986116/j%c3%a9r%c3%b4me"}, "is_accepted": true, "score": 1, "last_activity_date": 1421870529, "last_edit_date": 1495541569, "creation_date": 1421869513, "answer_id": 28075565, "question_id": 28075505, "link": "https://stackoverflow.com/questions/28075505/using-insertion-sort-c/28075565#28075565", "title": "Using insertion sort c++", "body": "<p>In <code>print</code> and <code>getInput</code> your variable i is not initialized to 0</p>\n\n<p>You should initialize your i to 0</p>\n\n<pre><code>for(int i = 0; i&lt;n;i++)\n{\n    cout&lt;&lt;\"Number? \";\n    cin&gt;&gt;a[i];\n}\n</code></pre>\n\n<p>Same for the print method.</p>\n\n<p>Also, you should initialize your array size with a cont var. <a href=\"https://stackoverflow.com/questions/15013077/arrayn-vs-array10-initializing-array-with-variable-vs-real-number\">For more details</a></p>\n\n<pre><code>const int n = 7;\n</code></pre>\n"}, {"owner": {"reputation": 257, "user_id": 4479716, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000278691708/picture?type=large", "display_name": "Prakhar Verma", "link": "https://stackoverflow.com/users/4479716/prakhar-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1421870682, "creation_date": 1421870682, "answer_id": 28075885, "question_id": 28075505, "link": "https://stackoverflow.com/questions/28075505/using-insertion-sort-c/28075885#28075885", "title": "Using insertion sort c++", "body": "<pre><code> void print(int a[ ], int n)\n {\n     for(int i; i&lt;n; i++)\n {\n    cout&lt;&lt;a[i]&lt;&lt;\"    \";   \n }\n\n    cout&lt;&lt;endl;\n }\n</code></pre>\n\n<p>This is your function, in which you have not initialize the value of i.\nInitialize i =0;\nMake it:</p>\n\n<pre><code> for(int i = 0; i&lt;n; i++)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4468339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a112b7f4850782cf11aad954c3cd40?s=128&d=identicon&r=PG&f=1", "display_name": "gymnastm117", "link": "https://stackoverflow.com/users/4468339/gymnastm117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 28075565, "answer_count": 2, "score": 0, "last_activity_date": 1421870682, "creation_date": 1421869302, "last_edit_date": 1421870160, "question_id": 28075505, "link": "https://stackoverflow.com/questions/28075505/using-insertion-sort-c", "title": "Using insertion sort c++", "body": "<p>I wrote a code for insertion sort and there appears to be no errors (it compiles fine), but it doesn't print anything or ask for a user input.  I have looked over this several times and I can't figure out why the code won't run properly.  Thanks!</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid getInput(int a[ ], int n);\nvoid insertionSort(int a[ ], int n);\nvoid print(int a[ ], int n);\n\nint main()\n{\n    int n=7;\n    int a[n];\n\n    getInput(a, n);\n    insertionSort(a, n);\n    print(a, n);\n\n    system(\"pause\");\n    return 0;\n}\n\n\nvoid getInput(int a[ ], int n)\n{\n    for(int i; i&lt;n;i++)\n    {\n        cout&lt;&lt;\"Number? \";\n        cin&gt;&gt;a[i];\n    }\n}\n\nvoid insertionSort(int a[ ], int n)\n{\n    int temp, j;\n    for(int i = 0; i&lt;n; i++)\n    {\n        temp = a[i];\n        j=i;\n\n        while(j&gt;0 &amp;&amp; a[j-1] &gt; temp)\n        {\n            a[j]= a[j-1];\n            j=j-1;\n        }\n    }\n}\n\n\nvoid print(int a[ ], int n)\n{\n    for(int i= 0; i&lt;n; i++)\n    {\n        cout&lt;&lt;a[i]&lt;&lt;\"    \";   \n    }\n\n    cout&lt;&lt;endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "lua", "luaplus"], "comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 0, "creation_date": 1421869717, "post_id": 28075471, "comment_id": 44530267, "body": "Can you use a combination of template-function which does the work depending on the exact arguments and a called virtual function which does the rest?"}], "owner": {"reputation": 183, "user_id": 3355098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/51a71d86c555599740d43e0daa63cc03?s=128&d=identicon&r=PG&f=1", "display_name": "user3355098", "link": "https://stackoverflow.com/users/3355098/user3355098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1421881861, "creation_date": 1421869178, "last_edit_date": 1421881861, "question_id": 28075471, "link": "https://stackoverflow.com/questions/28075471/interface-methods-that-need-to-accept-ambiguous-arguments", "title": "Interface methods that need to accept ambiguous arguments?", "body": "<p>Wasn't sure how to word the problem for the title of the post correctly.  Here is the issue I am experiencing.  We have an interface that will be implemented by our <code>LuaStateManager</code> class to register functions to a <code>LuaPlus::LuaState</code>. The issue is that these functions could potentially have any signature.</p>\n\n<p>LuaPlus allows you to register any function with its <code>LuaObject::RegisterDirect</code> method. It can do this because it uses templates. However, we have to encapsulate the <code>LuaState</code> in an interface which has pure virtual functions.</p>\n\n<p>So our idea was to have a function that <code>LuaStateManager</code> will implement:</p>\n\n<pre><code>IScriptState::RegisterFunction( /* What should go here? */ ) \n</code></pre>\n\n<p>As you can probably see, though, there is no way to specify what type of argument should be passed to this function as it could potentially be any function signature.  We cant use templates like LuaPlus does because virtual functions cannot be templated.  We can't template the entire <code>LuaStateManager</code> class or <code>IScriptState</code> interface either because for each type of function passed it would generate a wholly new script state and none of the functions would reside together.</p>\n\n<p>How have problems like this been solved in the past? Currently we are going with a brute force method that just throws all our exports in a struct that users can derive from and fill out.  That way they will know which scripting language they are using and be able to directly use <code>LuaStateManager</code> instead of the <code>IScriptState</code> interface, but that is totally a sloppy 'hack' solution.</p>\n"}, {"tags": ["c++", "bitmap", "gdi+", "webp", "image-formats"], "comments": [{"owner": {"reputation": 381, "user_id": 4517814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f85affabc9d9f10cce71100d13745361?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed El-Sayed", "link": "https://stackoverflow.com/users/4517814/mohamed-el-sayed"}, "edited": false, "score": 2, "creation_date": 1452398777, "post_id": 28075464, "comment_id": 57149972, "body": "The stride parameter should be <code>width * 3</code> for RGB colorspace, and <code>width * 4</code> for RGBA, it is basically how many bytes does it take to store a scanline or a row.  <code>size_t size = WebPEncodeRGB(rgb, width, height, width * 3, &amp;originalPic);</code>"}], "answers": [{"owner": {"reputation": 319, "user_id": 64890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56d58520d32660d12727a9f6de63d92?s=128&d=identicon&r=PG", "display_name": "techolic", "link": "https://stackoverflow.com/users/64890/techolic"}, "is_accepted": false, "score": 1, "last_activity_date": 1446113331, "last_edit_date": 1495541039, "creation_date": 1446113331, "answer_id": 33411281, "question_id": 28075464, "link": "https://stackoverflow.com/questions/28075464/how-can-i-decode-and-encode-from-webp-using-libwebp/33411281#33411281", "title": "How Can I decode and encode from Webp using Libwebp?", "body": "<p>The 4th parameter to WebPEncodeRGB is the stride (<a href=\"https://stackoverflow.com/a/2004638\">https://stackoverflow.com/a/2004638</a>). Passing height may not work unless the height coincides with the stride. </p>\n"}], "owner": {"reputation": 85, "user_id": 1612927, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/47ce85867ebfa26ac8f5501375ffe98a?s=128&d=identicon&r=PG", "display_name": "user1612927", "link": "https://stackoverflow.com/users/1612927/user1612927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2703, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446113331, "creation_date": 1421869169, "last_edit_date": 1421872141, "question_id": 28075464, "link": "https://stackoverflow.com/questions/28075464/how-can-i-decode-and-encode-from-webp-using-libwebp", "title": "How Can I decode and encode from Webp using Libwebp?", "body": "<p>Im having trouble encoding and decoding from webp using libwebp in c++.\nI built this test application which takes webp file i created (which looks fine in chrome), and tried decoding it to rgb, and back to webp, just to understand how to use it, and the output is wrong:</p>\n\n<pre><code>//Code before reads the webp file, and assigning it to a uint8_t buffer called \"pic\" ///\n\nWebPConfig config;\nASSERT(WebConfigIit(&amp;config) == TRUE)\n\nint width=0 height =0;\nuint8_t * rgb = WebPDecodeRGB(pic, size, &amp;width, &amp;height)\nASSERT (rgb != NULL)\n// At this point the width and the height is valid, and the rgb is assigned.\n\nuint8_t* originalPic = null;\nsize_t size = WebPEncodeRGB(rgb, width, height, height, &amp;originalPic);\n// Didn't quite know what to put in the stride param.. \n\n/// Code after saves the originalPic buffer to a file ////\n</code></pre>\n\n<p>As you can see, all i tried to do is manage to encode and decode the webp, and trying to save it back to a file, but as i try to open the file, it looks corrupted.</p>\n\n<p>Can you please help me figure out what the problem is? \nmore over, i would be happy to know some more about the stride param, and about the rgb format, and how to convert pictures to it to check if my code works.</p>\n\n<p>Thanks alot!</p>\n"}, {"tags": ["c++", "binary"], "answers": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": false, "score": 1, "last_activity_date": 1421869494, "creation_date": 1421869494, "answer_id": 28075558, "question_id": 28075462, "link": "https://stackoverflow.com/questions/28075462/need-to-create-c-binary-calculator-using-beginner-logic/28075558#28075558", "title": "Need to create C++ Binary Calculator using beginner logic", "body": "<p>This <strong>assigns</strong> 1 to <code>c</code></p>\n\n<pre><code>if (c = 1){\n</code></pre>\n\n<p>This <strong>compares</strong> <code>c</code> to 1.</p>\n\n<pre><code>if (c == 1){\n</code></pre>\n\n<p>Please turn on warnings for your compiler.  You will be told about typos like these.</p>\n"}], "owner": {"reputation": 1, "user_id": 4479752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5b41490d5662a1e10f5215d7ca5bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Amanda", "link": "https://stackoverflow.com/users/4479752/amanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3555, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421869494, "creation_date": 1421869163, "last_edit_date": 1421869304, "question_id": 28075462, "link": "https://stackoverflow.com/questions/28075462/need-to-create-c-binary-calculator-using-beginner-logic", "title": "Need to create C++ Binary Calculator using beginner logic", "body": "<p>I have successfully set up how to accomplish binary addition using the following code,</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {    \n\n    long a, b;\n    int i = 0, r = 0, sum[20];\n\n    cout &lt;&lt; \"Enter the first binary number: \";\n\n    cin &gt;&gt; a;\n\n    cout &lt;&lt; \"Enter the second binary number: \";\n\n    cin &gt;&gt; b;\n\n    while (a != 0 || b != 0)\n    {\n        sum[i++] = (a % 10 + b % 10 + r) % 2;\n        r = (a % 10 + b % 10 + r) / 2;\n        a = a / 10;\n        b = b / 10;\n    }\n    if (r != 0)\n        sum[i++] = r;\n    --i;\n    cout &lt;&lt; \"The sum of the two binary numbers is: \";\n    while (i &gt;= 0)\n        cout &lt;&lt; sum[i--];\n    cout &lt;&lt; \". \";\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>I need to use similar methods to allow for binary subtraction and multiplication. I tried the following code, but it did not work as planned. Adding an if statement (like in if c=1) causes the loop to continue several times, never giving the correct answer. Using the subtract formula individually, gives me the same result as addition. Could someone please help me fix this? Thanks</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n\n    long a, b;\n\n    int c = 0;\n\n    cout &lt;&lt; \"Enter the first binary number: \";\n\n    cin &gt;&gt; a;\n\n    cout &lt;&lt; \"Enter the second binary number: \";\n\n    cin &gt;&gt; b;\n\n    cout &lt;&lt; \"Which operation do you want to complete: Add=1, Subtract=2, Multiply=3: \";\n\n    cin &gt;&gt; c;\n\n    if (c = 1){\n        while (a != 0 || b != 0)\n        {\n            int i = 0, r = 0, sum[20];\n            sum[i++] = (a % 10 + b % 10 + r) % 2;\n            r = (a % 10 + b % 10 + r) / 2;\n            a = a / 10;\n            b = b / 10;\n        }\n        if (r != 0)\n            sum[i++] = r;\n        --i;\n        cout &lt;&lt; \"The sum of the two binary numbers is: \";\n        while (i &gt;= 0)\n            cout &lt;&lt; sum[i--];\n        cout &lt;&lt; \". \";\n    }\n\n    if (c = 2) {\n        while (a != 0 || b != 0)\n        {\n            int i = 0, r = 0, sub[20];\n            sub[i++] = (a % 10 - b % 10 + r) % 2;\n            r = (a % 10 - b % 10 + r) / 2;\n            a = a / 10;\n            b = b / 10;\n            if (r != 0)\n                sub[i++] = r;\n            --i;\n            cout &lt;&lt; \"The difference of the two binary numbers is: \";\n            while (i &gt;= 0)\n                cout &lt;&lt; sub[i--];\n            cout &lt;&lt; \". \";\n        }\n    if (c = 3) {\n        while (a != 0 || b != 0)\n        {\n            int i = 0, r = 0, prod[20];\n            prod[i++] = (a % 10 * b % 10 + r) % 2;\n            r = (a % 10 * b % 10 + r) / 2;\n            a = a / 10;\n            b = b / 10;\n            if (r != 0)\n                prod[i++] = r;\n            --i;\n            cout &lt;&lt; \"The product of the two binary numbers is: \";\n            while (i &gt;= 0)\n                cout &lt;&lt; prod[i--];\n            cout &lt;&lt; \". \";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1421869028, "post_id": 28075351, "comment_id": 44529890, "body": "<code>A obj(1,2.3);</code>  um. is that decimal supposed to be there ?? You&#39;re invoking the two-param constructor <i>twice</i>, right ?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1421869103, "post_id": 28075351, "comment_id": 44529943, "body": "<code>a</code> is not initialized in either object. You shouldn&#39;t expect anything in particular. Accessing <code>a</code> gives you undefined behaviour."}, {"owner": {"reputation": 7182, "user_id": 1756405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ba33dcfe557ac8225234e185a43d8844?s=128&d=identicon&r=PG", "display_name": "IdeaHat", "link": "https://stackoverflow.com/users/1756405/ideahat"}, "edited": false, "score": 0, "creation_date": 1421869221, "post_id": 28075351, "comment_id": 44529987, "body": "Not sure what this has to do with order of operations....you initialize B and C in the two parameter constructor, and pass a two argument decimal into <code>obj</code>. So if you did it right and had <code>A obj(1,2,3); A obj(1,2);</code> i&#39;d expect <code>1 2 3\\n* 1 2)</code>"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1421869308, "post_id": 28075351, "comment_id": 44530030, "body": "you&#39;re expecting an asterisk? that&#39;s interesting..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "edited": false, "score": 0, "creation_date": 1421869360, "post_id": 28075351, "comment_id": 44530065, "body": "The syntax highlighting on ideone shows <code>2.3</code> in purple, so it should stick out if it is indeed a typo."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421869361, "post_id": 28075351, "comment_id": 44530066, "body": "Please fix the typo 2.3"}, {"owner": {"reputation": 168, "user_id": 3630907, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1ebb5377974547fb61dff5345034367e?s=128&d=identicon&r=PG&f=1", "display_name": "shakim", "link": "https://stackoverflow.com/users/3630907/shakim"}, "edited": false, "score": 0, "creation_date": 1421869532, "post_id": 28075351, "comment_id": 44530180, "body": "mybad....... misinterpreted decimal point as a comma"}], "answers": [{"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1421869723, "post_id": 28075482, "comment_id": 44530270, "body": "Except there is no default value."}], "owner": {"reputation": 21, "user_id": 1048802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2675c150c838e9d5d11c113483d5a7c0?s=128&d=identicon&r=PG", "display_name": "lws", "link": "https://stackoverflow.com/users/1048802/lws"}, "is_accepted": false, "score": 1, "last_activity_date": 1421869219, "creation_date": 1421869219, "answer_id": 28075482, "question_id": 28075351, "link": "https://stackoverflow.com/questions/28075351/order-of-evaluation-of-member-initiazation-list-in-a-constructor/28075482#28075482", "title": "Order of evaluation of member initiazation-list in a constructor", "body": "<p>I can see that the ctor function A (int,int) is called in your code, which just initialize y and z and leave x the default value.</p>\n"}, {"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 2, "creation_date": 1421869413, "post_id": 28075488, "comment_id": 44530100, "body": "no, <code>a</code> is not value-initialized in the second case, it is just left un-initialized, and most of the time it happens to be <code>0</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421869416, "post_id": 28075488, "comment_id": 44530104, "body": "Nice catch of a typo"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1421869526, "post_id": 28075488, "comment_id": 44530173, "body": "@vsoftco THX for pointing that out, fixed."}, {"owner": {"reputation": 940, "user_id": 2359982, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ae5c8c1c0def133aa169ea926f72e68?s=128&d=identicon&r=PG", "display_name": "JBarberU", "link": "https://stackoverflow.com/users/2359982/jbarberu"}, "edited": false, "score": 0, "creation_date": 1421869530, "post_id": 28075488, "comment_id": 44530178, "body": "&quot;and most of the time it happens to be 0&quot;, about as often on gcc as I see rainbow-farting unicorns :)"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 940, "user_id": 2359982, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ae5c8c1c0def133aa169ea926f72e68?s=128&d=identicon&r=PG", "display_name": "JBarberU", "link": "https://stackoverflow.com/users/2359982/jbarberu"}, "edited": false, "score": 0, "creation_date": 1421869732, "post_id": 28075488, "comment_id": 44530278, "body": "@JBarberU I was not making a precise and rigorous mathematical statement about the measure of the set where the event is true. However, if you try on most compilers, you will get zero (although again it is UB, so you should not expect zero). At least that&#39;s what&#39;s happening on my machine and on most online compilers. I guess I see more unicorns than you :)"}, {"owner": {"reputation": 940, "user_id": 2359982, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ae5c8c1c0def133aa169ea926f72e68?s=128&d=identicon&r=PG", "display_name": "JBarberU", "link": "https://stackoverflow.com/users/2359982/jbarberu"}, "edited": false, "score": 0, "creation_date": 1421871520, "post_id": 28075488, "comment_id": 44531201, "body": "Just wanted to point out that it&#39;s highly platform dependent. I haven&#39;t seen it with either clang or gcc. And besides, it quite useful since those values often stand out."}], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 3, "last_activity_date": 1421869246, "creation_date": 1421869246, "answer_id": 28075488, "question_id": 28075351, "link": "https://stackoverflow.com/questions/28075351/order-of-evaluation-of-member-initiazation-list-in-a-constructor/28075488#28075488", "title": "Order of evaluation of member initiazation-list in a constructor", "body": "<p>The reason is that you are using the second constructor definition for both cases</p>\n\n<pre><code>A(int y,int z) : b(y),c(z) {\n}\n</code></pre>\n\n<p>The constructor call</p>\n\n<pre><code>A obj(1,2.3);\n      // ^\n</code></pre>\n\n<p>Has a <code>double</code> parameter, that will be converted to <code>2</code> automatically. <code>a</code> is left uninitialized in both cases.</p>\n"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "is_accepted": false, "score": 3, "last_activity_date": 1421869400, "creation_date": 1421869400, "answer_id": 28075535, "question_id": 28075351, "link": "https://stackoverflow.com/questions/28075351/order-of-evaluation-of-member-initiazation-list-in-a-constructor/28075535#28075535", "title": "Order of evaluation of member initiazation-list in a constructor", "body": "<p>In both cases, you call constructor</p>\n\n<pre><code>A(int y,int z)\n</code></pre>\n\n<p>You may be doing that inadvertently in the case of <code>obj</code>, but the end result is that the code doesn't initialize <code>A::a</code> in either case. </p>\n\n<p>When you access <code>obj.a</code> or <code>obj2.a</code> you invoke <em>undefined behaviour</em>. You can't expect any particular outcome from your program.</p>\n"}], "owner": {"reputation": 168, "user_id": 3630907, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1ebb5377974547fb61dff5345034367e?s=128&d=identicon&r=PG&f=1", "display_name": "shakim", "link": "https://stackoverflow.com/users/3630907/shakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1421869878, "answer_count": 3, "score": -2, "last_activity_date": 1421869400, "creation_date": 1421868803, "last_edit_date": 1421869193, "question_id": 28075351, "link": "https://stackoverflow.com/questions/28075351/order-of-evaluation-of-member-initiazation-list-in-a-constructor", "closed_reason": "Not suitable for this site", "title": "Order of evaluation of member initiazation-list in a constructor", "body": "<p>Constructor member initialization-list order depends on the order of member variable declaration in the class</p>\n\n<p>This is what I read throughout the web....</p>\n\n<p>what is the reason behind such an output of the following code:</p>\n\n<pre><code>#include&lt;cstdio&gt;\nclass A\n{\npublic:\n    int a,b,c;\n    A(int x,int y,int z) : a(x),b(y),c(z)\n    {\n\n    }\n    A(int y,int z) : b(y),c(z)\n    {\n\n    }\n};\nint main()\n{\n    A obj(1,2.3);\n    A obj2(1,2);\n\n    printf(\"%d %d %d\\n\",obj.a,obj.b,obj.c);\n    printf(\"%d %d %d\\n\",obj2.a,obj2.b,obj2.c);\n}\n</code></pre>\n\n<p>I am expecting:</p>\n\n<pre><code>1 2 3\n* 1 2\n</code></pre>\n\n<p>But the output is:</p>\n\n<pre><code>0 1 2\n0 1 2\n</code></pre>\n\n<p>Working example:\n<a href=\"http://ideone.com/cw0qLQ\" rel=\"nofollow\">http://ideone.com/cw0qLQ</a></p>\n"}, {"tags": ["c++", "c++11", "gcc"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 4, "creation_date": 1421868773, "post_id": 28075328, "comment_id": 44529748, "body": "Ermm... missing compiler support in that version, or bug?"}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1421868925, "post_id": 28075328, "comment_id": 44529829, "body": "I believe GCC 4.7.1 has incomplete support for c++11 features such as this."}], "answers": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": false, "score": 6, "last_activity_date": 1421869085, "creation_date": 1421869085, "answer_id": 28075430, "question_id": 28075328, "link": "https://stackoverflow.com/questions/28075328/could-not-convert-from-brace-enclosed-initializer-list-to-stdvector/28075430#28075430", "title": "Could not convert from brace-enclosed initializer list to std::vector", "body": "<p>This is a <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53361#c6\">known bug that was fixed in gcc 4.8</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 533, "user_id": 5314549, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/dQhrL.jpg?s=128&g=1", "display_name": "Divij Sehgal", "link": "https://stackoverflow.com/users/5314549/divij-sehgal"}, "edited": false, "score": 0, "creation_date": 1545337554, "post_id": 28088849, "comment_id": 94598348, "body": "I had to add this flag even though my g++/gcc version was 5.4.0. Guess they did something and the flag must be added again!"}], "owner": {"reputation": 10571, "user_id": 122687, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9b4e0447e8d049ba853fe368765f6f76?s=128&d=identicon&r=PG", "display_name": "Stefan Monov", "link": "https://stackoverflow.com/users/122687/stefan-monov"}, "is_accepted": true, "score": 4, "last_activity_date": 1421929893, "creation_date": 1421929893, "answer_id": 28088849, "question_id": 28075328, "link": "https://stackoverflow.com/questions/28075328/could-not-convert-from-brace-enclosed-initializer-list-to-stdvector/28088849#28088849", "title": "Could not convert from brace-enclosed initializer list to std::vector", "body": "<p>It turns out I only needed to add <code>-std=c++11</code> to the gcc command line.</p>\n\n<p>Note: I was mistakenly thinking that this is on by default, since I was also getting some warnings like this:</p>\n\n<p><code>extended initializer lists only available with -std=c++11 or -std=gnu++11 [enabled by default]</code></p>\n\n<p>See how it says \"enabled by default\"? That's what was misleading me.</p>\n"}], "owner": {"reputation": 10571, "user_id": 122687, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9b4e0447e8d049ba853fe368765f6f76?s=128&d=identicon&r=PG", "display_name": "Stefan Monov", "link": "https://stackoverflow.com/users/122687/stefan-monov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10979, "favorite_count": 0, "accepted_answer_id": 28088849, "answer_count": 2, "score": 7, "last_activity_date": 1421929893, "creation_date": 1421868741, "question_id": 28075328, "link": "https://stackoverflow.com/questions/28075328/could-not-convert-from-brace-enclosed-initializer-list-to-stdvector", "title": "Could not convert from brace-enclosed initializer list to std::vector", "body": "<p>I saw a lot of similar questions, but I don't think I saw quite the same one. It's pretty basic. Some code from my lecturer is failing to compile, and I distilled the problem to this test case:</p>\n\n<pre><code>void foo(vector&lt;int&gt; v) {\n}\n\nvoid fooUsage() {\n    foo({0, 1, 2});\n}\n</code></pre>\n\n<p>This fails with:</p>\n\n<p><code>could not convert '{0, 1, 2}' from '&lt;brace-enclosed initializer list&gt;' to 'std::vector&lt;int&gt;</code></p>\n\n<p><em>Note: It works on GCC 5.0.0 20141228 but fails on my GCC 4.7.1 (tdm-1).</em></p>\n\n<p>Sorry if this is too basic but I don't know C++11 very well.</p>\n"}, {"tags": ["c++", "c", "multithreading", "locking", "lockless"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1421868472, "post_id": 28075130, "comment_id": 44529560, "body": "Side note: don&#39;t name your variable <code>new</code> that is a C++ keyword"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 3, "creation_date": 1421868745, "post_id": 28075130, "comment_id": 44529722, "body": "Both are a busy loop - there is no difference (both are bad)"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 1, "creation_date": 1421869616, "post_id": 28075130, "comment_id": 44530217, "body": "If the <code>global_var</code> type is integral, use an atomic increment."}, {"owner": {"reputation": 633, "user_id": 3167839, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9733482d33613b69ce278f902ecf93bc?s=128&d=identicon&r=PG&f=1", "display_name": "eswaat", "link": "https://stackoverflow.com/users/3167839/eswaat"}, "edited": false, "score": 0, "creation_date": 1421871901, "post_id": 28075130, "comment_id": 44531384, "body": "This is rough as I can&#39;t post my code. global_var is not a int it is structure"}, {"owner": {"reputation": 633, "user_id": 3167839, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9733482d33613b69ce278f902ecf93bc?s=128&d=identicon&r=PG&f=1", "display_name": "eswaat", "link": "https://stackoverflow.com/users/3167839/eswaat"}, "edited": false, "score": 0, "creation_date": 1421872669, "post_id": 28075130, "comment_id": 44531720, "body": "@DieterL&#252;cking any better idea ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421873044, "post_id": 28075130, "comment_id": 44531914, "body": "@eswaat you might consider a condition variable"}, {"owner": {"reputation": 633, "user_id": 3167839, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9733482d33613b69ce278f902ecf93bc?s=128&d=identicon&r=PG&f=1", "display_name": "eswaat", "link": "https://stackoverflow.com/users/3167839/eswaat"}, "edited": false, "score": 0, "creation_date": 1421873622, "post_id": 28075130, "comment_id": 44532198, "body": "I can&#39;t sleep. can you give use case that fit my above condition."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421874118, "post_id": 28075130, "comment_id": 44532421, "body": "<a href=\"http://en.cppreference.com/w/cpp/thread/condition_variable\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/thread/condition_variable</a>"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1421885921, "post_id": 28075130, "comment_id": 44537310, "body": "If <code>global_var</code> is not integral or a pointer type, the <code>atomic_compare_and_swap</code> is misleading."}], "answers": [{"owner": {"reputation": 501, "user_id": 2623183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681c02a87bdc9d1320f2ca5f36767d4?s=128&d=identicon&r=PG", "display_name": "phil", "link": "https://stackoverflow.com/users/2623183/phil"}, "is_accepted": false, "score": 0, "last_activity_date": 1421887010, "creation_date": 1421887010, "answer_id": 28079481, "question_id": 28075130, "link": "https://stackoverflow.com/questions/28075130/which-one-is-faster-atomic-compare-and-swap-or-spin-trylock/28079481#28079481", "title": "Which one is faster atomic_compare_and_swap or spin trylock?", "body": "<p>You need to use a blocking test. non-blocking tests like a spin lock which at best is test and sleep in a loop take a lot of processor cycles at the detriment to all other processes. Try using a semaphore </p>\n"}], "owner": {"reputation": 633, "user_id": 3167839, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9733482d33613b69ce278f902ecf93bc?s=128&d=identicon&r=PG&f=1", "display_name": "eswaat", "link": "https://stackoverflow.com/users/3167839/eswaat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421887010, "creation_date": 1421868107, "last_edit_date": 1421871951, "question_id": 28075130, "link": "https://stackoverflow.com/questions/28075130/which-one-is-faster-atomic-compare-and-swap-or-spin-trylock", "title": "Which one is faster atomic_compare_and_swap or spin trylock?", "body": "<p>Below is my use case</p>\n\n<p>I have one global variable and multiple thread across all CPU are accessing this.</p>\n\n<p>With atomic compare and exchange</p>\n\n<pre><code>auto old = global_var;\nauto new_var = old\nfor (;;) {\n            new++;\n            bool got_it = atomic_compare_and_swap(global_var,\n                                  old,\n                                  new_var);\n            if (got_it) {\n                return new_var;\n            }\n            old = global_var;\n            new_var = old;\n    }\n</code></pre>\n\n<p>With spin trylock</p>\n\n<pre><code>for(;;)\n    {\n        auto temp = go_for_work();\n        if (temp -&gt; spin.trylock() == 0 )\n        {\n            continue;\n        }\n\n    }\n\n... go_for_work\n{\n    auto old = global_var;\n    auto new_var = old\n    new_var++;\n    global_var  =  new_var;\n    return new_var\n}\n</code></pre>\n\n<p>This is rough code I hope it is clear. Let me know if it is not clear.</p>\n\n<p>global_var is not a int it is structure.</p>\n\n<p>So, my main aim is to protect global_var, which one is faster atomic_compare_and_swap or spin.trylock(), also if some other technique ?</p>\n"}, {"tags": ["c++", "debugging", "segmentation-fault", "gdb", "g++"], "owner": {"reputation": 2184, "user_id": 2416534, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/TTWTt.jpg?s=128&g=1", "display_name": "Lazik", "link": "https://stackoverflow.com/users/2416534/lazik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1454963722, "creation_date": 1421868017, "last_edit_date": 1454963722, "question_id": 28075110, "link": "https://stackoverflow.com/questions/28075110/gdb-record-restore-not-working-as-expected", "title": "gdb record restore not working as expected", "body": "<p>I have this simple C++ program</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std\n\nint main() {\n cout &lt;&lt; \"Hello\" &lt;&lt; endl; \n return 0;\n}\n</code></pre>\n\n<p>The program doesn't segfault.</p>\n\n<p>I run gdb like so:</p>\n\n<pre><code>gdb a.out\nbreak main\nrun\ntarget record\nrecord save\ns\nrecord stop\nc\nquit\n</code></pre>\n\n<p>Then I call gdb again:</p>\n\n<pre><code>gdb\nrecord restore gdb_record.21158\n[New LWP 21158]\nCore was generated by `a.out'.\nProgram terminated with signal 5, Trace/breakpoint trap.\n\\#0  0x08048617 in ?? ()\nSegmentation fault\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "edited": false, "score": 0, "creation_date": 1421868557, "post_id": 28075105, "comment_id": 44529615, "body": "Do you have a question beyond <i>&quot;Any help would be greatly appreciated&quot;?</i>  This site generally responds best to specific questions about specific problems."}, {"owner": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "reply_to_user": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "edited": false, "score": 0, "creation_date": 1421868717, "post_id": 28075105, "comment_id": 44529708, "body": "Ahh okay, so the big issue is whether or not the function is written properly or whether the issue is the types I use to put in my count and max variables. So, should I be using a different data type or is my program fundamentally flawed?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 4, "creation_date": 1421868973, "post_id": 28075105, "comment_id": 44529861, "body": "HInt: <code>&#39;1&#39; * &#39;2&#39; != 1 * 2</code>."}, {"owner": {"reputation": 1453, "user_id": 3195614, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qw0hw.jpg?s=128&g=1", "display_name": "Zach P", "link": "https://stackoverflow.com/users/3195614/zach-p"}, "edited": false, "score": 0, "creation_date": 1421869159, "post_id": 28075105, "comment_id": 44529958, "body": "Check this out - <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">asciitable.com</a> Any character is represented by some sort of a numeric value. You should cast (e - &#39;0&#39;), that will result in the number you meant to have."}], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "edited": false, "score": 0, "creation_date": 1421869169, "post_id": 28075400, "comment_id": 44529963, "body": "Yeah that fixed the problem right away! Is this a general technique that I need to always use if I am trying to convert a string &quot;number&quot; into an actual integer?"}, {"owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "reply_to_user": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "edited": false, "score": 0, "creation_date": 1421869314, "post_id": 28075400, "comment_id": 44530035, "body": "You &quot;need&quot; to use it when it is appropriate.  It is a common technique that you will see frequently.   BTW: You are <b><i>not</i></b> converting a string to an int.  You are converting a single char to an int.  (chars and strings are different!)"}, {"owner": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "edited": false, "score": 0, "creation_date": 1421869323, "post_id": 28075400, "comment_id": 44530037, "body": "So if I did something like static_cast&lt;char&gt;(0) it would return &#39;48&#39; or &#39;0&#39;?"}, {"owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "reply_to_user": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "edited": false, "score": 0, "creation_date": 1421870084, "post_id": 28075400, "comment_id": 44530474, "body": "Maybe you should try it, watch the results in a debugger, and find out?"}], "owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "is_accepted": true, "score": 3, "last_activity_date": 1421869005, "creation_date": 1421869005, "answer_id": 28075400, "question_id": 28075105, "link": "https://stackoverflow.com/questions/28075105/project-euler-8-c/28075400#28075400", "title": "Project Euler 8 - C++", "body": "<p>Variable <code>e</code> is a character.</p>\n\n<p>So if the character is <code>'0'</code>, the ascii-value is 48.</p>\n\n<p>When you do a static_cast to uint64, on value <code>'0'</code>(decimal 48), I think you <strong><em>meant</em></strong> to get value 0.<br>\nBut you <strong><em>actually</em></strong> get value 48.</p>\n\n<p>Try this:</p>\n\n<pre><code>count *= static_cast&lt;uint64_t&gt;(e - '0');\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 1779651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee6e753de9bb5bde800144c342a51283?s=128&d=identicon&r=PG", "display_name": "InsigMath", "link": "https://stackoverflow.com/users/1779651/insigmath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 28075400, "answer_count": 1, "score": -3, "last_activity_date": 1421869005, "creation_date": 1421867991, "last_edit_date": 1421868865, "question_id": 28075105, "link": "https://stackoverflow.com/questions/28075105/project-euler-8-c", "title": "Project Euler 8 - C++", "body": "<p>I am trying to solve <a href=\"https://projecteuler.net/problem=8\" rel=\"nofollow\">https://projecteuler.net/problem=8</a> in c++ and I think I have the right solution but I am getting very large values or small values. Just to give some information, I put the huge number into a text file and I read the text file, now I am trying to find the largest 13 adjacent values. This is a snippet of my code but it is the most important part, I am using uint64_t and I am getting \"18436407170275213312\":</p>\n\n<pre><code>uint64_t maxV = 0;\nint numOfLines = 0;\nuint64_t count = 1;\n\ngetline(myfile, line);\nint lineLen = line.size();\nint index = 0;\n\n// Iterating through the one line\nwhile (index &lt; lineLen - 12)\n{\n    string iter = line.substr(index, 13);\n    // cout &lt;&lt; iter &lt;&lt; endl;\n    for (char e : iter)\n    {\n        count *= static_cast&lt;uint64_t&gt;(e);\n    }\n    if (count &gt; maxV)\n    {\n        maxV = count;\n    }\n    count = 1;\n    index++;\n}\nmyfile.close();\n\ncout &lt;&lt; maxV &lt;&lt; endl;\n</code></pre>\n\n<p>I know what the solution ought to be, but I am getting a much much larger number that does not make mathematical sense. I don't know if the way I am iterating through the strong and getting my count number is wrong or if there is something wrong with the types I am using to store both the count and maxV? Any help would be greatly appreciated!</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1421868117, "post_id": 28075100, "comment_id": 44529378, "body": "Related <a href=\"http://stackoverflow.com/q/18898736/1708801\">What does sizeof without () do?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "edited": false, "score": 0, "creation_date": 1421868182, "post_id": 28075117, "comment_id": 44529410, "body": "That is what I was thinking thanks for clearing my doubt."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 9, "creation_date": 1421868199, "post_id": 28075117, "comment_id": 44529418, "body": "Nit: depending on the expression, you may still need parentheses even then. <code>sizeof a + b</code> doesn&#39;t mean <code>sizeof (a + b)</code>. (I know that&#39;s what you meant too.)"}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 0, "creation_date": 1421868238, "post_id": 28075117, "comment_id": 44529438, "body": "@hvd That&#39;s why I mentioned (and now elaborated on) operator precedence."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421868251, "post_id": 28075117, "comment_id": 44529449, "body": "@hvd: There&#39;s no parentheses around that expression.  There are parentheses inside the expression, of course, controlling parsing."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 4, "creation_date": 1421868311, "post_id": 28075117, "comment_id": 44529476, "body": "A worse situation would be <code>char x[10]; sizeof(x + 1)</code> will be very different from <code>sizeof x + 1</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421868349, "post_id": 28075117, "comment_id": 44529499, "body": "Yeah, I didn&#39;t think you thought otherwise. :) @BenVoigt In <code>sizeof (a + b)</code>, there are parentheses around the expression <code>a + b</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421868404, "post_id": 28075117, "comment_id": 44529527, "body": "@hvd: But the expression <code>a + b</code> is not the operand of <code>sizeof</code>.  The expression <code>(a + b)</code> is.  There are no parentheses around the operand."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421868499, "post_id": 28075117, "comment_id": 44529575, "body": "@BenVoigt Let me rephrase, then. If you have the expression <code>a + b</code>, and want to use it as an operand of <code>sizeof</code>, you cannot do so directly, you need to first put parentheses around it. And you&#39;re right that that makes <code>(a + b)</code> the operand of <code>sizeof</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 3, "creation_date": 1421868879, "post_id": 28075117, "comment_id": 44529804, "body": "@hvd: It&#39;s also important to note that parentheses may be required around <code>sizeof operand</code>.  Consider <code>char a; int x = sizeof(a)[&quot;abcdef&quot;];</code>  What is <code>x</code> ?  Would you know whether that is equivalent to <code>sizeof (a[&quot;abcdef&quot;])</code> or <code>(sizeof a)[&quot;abcdef&quot;]</code> ?  Very confusing to people who assume the <code>()</code> are part of the sizeof syntax."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421869027, "post_id": 28075117, "comment_id": 44529889, "body": "@BenVoigt I would, because a common use of <code>sizeof</code> is <code>sizeof array &#47; sizeof array[0]</code>, so I&#39;m well aware that <code>[0]</code> is part of the operand of <code>sizeof</code>. :) To disambiguate, when <code>(sizeof a)[&quot;abcdef&quot;]</code> is meant, I would strongly prefer <code>&quot;abcdef&quot;[sizeof a]</code>, without a need for parentheses around <code>sizeof a</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421869247, "post_id": 28075117, "comment_id": 44529997, "body": "@hvd: Of course.  But it comes as a surprise to people who think that <code>sizeof (expression)</code> takes care of operator precedence concerns.  Of course, for <code>(sizeof a)</code> and <code>[sizeof a]</code> alike, there&#39;s clearly no value to putting parentheses in the operand, doing so just adds line noise."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421869494, "post_id": 28075117, "comment_id": 44530147, "body": "@hvd: But if &quot;Expressions with unary operators group right-to-left&quot; and <code>sizeof</code>, unary <code>+</code>, and cast are all the same precedence, why is <code>sizeof (int)+5</code> equivalent to <code>(sizeof (int))+5</code> and not <code>sizeof ((int)+5)</code> ?"}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421870366, "post_id": 28075117, "comment_id": 44530628, "body": "@BenVoigt; In <code>sizeof (int)+5</code>, <code>+</code> will be treated as binary <code>+</code> and <code>(int)</code> will go with <code>sizeof</code>. In <code>sizeof ((int)+5)</code>, no evaluation of operand takes place and it will return the size of type."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1421870656, "post_id": 28075117, "comment_id": 44530781, "body": "@BenVoigt What haccks said, but also, &quot;Expressions with unary operators group right-to-left&quot; isn&#39;t something I&#39;ve said, and I&#39;m not sure what you&#39;re quoting from. The C grammar is clear that <code>sizeof</code>&#39;s expression operand must be a <i>unary-expression</i>, not a <i>cast-expression</i>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421872785, "post_id": 28075117, "comment_id": 44531780, "body": "@hvd: The quoted text is straight from the Standard.  But actually, you&#39;re right, casts have their own grammar production not mixed with <i>unary-expression</i>.  So the precedence table on Wikipedia is wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421873595, "post_id": 28075117, "comment_id": 44532183, "body": "@BenVoigt Ah, sorry, the question is tagged both C and C++, and I was looking at the C standard, which does not contain those same words."}, {"owner": {"reputation": 469, "user_id": 4824854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SPhK8fI7Ih8/AAAAAAAAAAI/AAAAAAAACnc/0BBhoF9bSXg/photo.jpg?sz=128", "display_name": "Sandburg", "link": "https://stackoverflow.com/users/4824854/sandburg"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1565779462, "post_id": 28075117, "comment_id": 101455978, "body": "It&#39;s because <code>sizeof</code>has priority over <code>+</code>: <a href=\"https://en.cppreference.com/w/c/language/operator_precedence\" rel=\"nofollow noreferrer\">en.cppreference.com/w/c/language/operator_precedence</a>  @iharob"}], "owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "is_accepted": true, "score": 36, "last_activity_date": 1421868064, "creation_date": 1421868064, "answer_id": 28075117, "question_id": 28075100, "link": "https://stackoverflow.com/questions/28075100/when-should-we-use-sizeof-with-and-without-parentheses/28075117#28075117", "title": "When should we use sizeof with and without parentheses", "body": "<p>When using <code>sizeof</code> with a <em>type,</em> you need parentheses around the type. When using it with an <em>expression,</em> you don't. But you can of course include them in this case as well, and you don't have to worry about operator precedence in such case. With uncommon operators such as this one, fewer people would be sure of the precedence, so clarity certainly helps.</p>\n\n<p>So I'd say it's preferable to use them always.</p>\n"}, {"comments": [{"owner": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "edited": false, "score": 0, "creation_date": 1421868486, "post_id": 28075212, "comment_id": 44529568, "body": "cause irritations ... like what ?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "edited": false, "score": 2, "creation_date": 1421868612, "post_id": 28075212, "comment_id": 44529644, "body": "@Meninx What is the value of <code>sizeof 1*2</code>? Is it intuitive?"}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 0, "creation_date": 1421868839, "post_id": 28075212, "comment_id": 44529775, "body": "@Columbo; From which standard you have quoted it?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 0, "creation_date": 1421868878, "post_id": 28075212, "comment_id": 44529801, "body": "@haccks N3337 (C++11), but the quote should have remained the same since C++98"}, {"owner": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "edited": false, "score": 0, "creation_date": 1421868894, "post_id": 28075212, "comment_id": 44529811, "body": "@Columbo: the value is machine-dependent ! but I can say that it is the same as sizeof(int) * 2"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "edited": false, "score": 0, "creation_date": 1421869004, "post_id": 28075212, "comment_id": 44529873, "body": "@Meninx Exactly. Who expects <code>sizeof 1*2</code> to be twice the size of an <code>int</code>? It&#39;s not quite obvious, IMO."}, {"owner": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "edited": false, "score": 0, "creation_date": 1421869038, "post_id": 28075212, "comment_id": 44529897, "body": "Okay get it now @Columbo ! Thanks for your explanation ! :)"}], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 12, "last_activity_date": 1421868379, "creation_date": 1421868379, "answer_id": 28075212, "question_id": 28075100, "link": "https://stackoverflow.com/questions/28075100/when-should-we-use-sizeof-with-and-without-parentheses/28075212#28075212", "title": "When should we use sizeof with and without parentheses", "body": "<p>[expr.sizeof]/1:</p>\n\n<blockquote>\n  <p>The operand is either an <em>expression</em>, which is an unevaluated operand\n  (Clause 5), or a <strong>parenthesized <em>type-id</em></strong>.</p>\n</blockquote>\n\n<p>Thus the parentheses are required for types only. If you prefer to use parentheses for clarity and consistency (as I do) you can always use them though, as parentheses around an <em>expression</em> form another <em>expression</em>.<br>\nThe operator precedence of <code>sizeof</code> is not very well known and could cause irritations.</p>\n\n<p>Also, for the <code>sizeof...</code> operator, you always have to use parentheses (another reason for consistency).</p>\n"}], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6985, "favorite_count": 6, "closed_date": 1421869313, "accepted_answer_id": 28075117, "answer_count": 2, "score": 22, "last_activity_date": 1421868434, "creation_date": 1421867976, "last_edit_date": 1421868272, "question_id": 28075100, "link": "https://stackoverflow.com/questions/28075100/when-should-we-use-sizeof-with-and-without-parentheses", "closed_reason": "Duplicate", "title": "When should we use sizeof with and without parentheses", "body": "<pre><code>typedef struct rem{\n    int  addr;\n    char addrbuf[32];\n} foo;\n</code></pre>\n\n<p>Both of these codes return the same results</p>\n\n<pre><code>foo addr;\nprintf(\"size is: %d\\n\",sizeof addr);\nprintf(\"size is: %d\\n\",sizeof (foo));\n</code></pre>\n\n<p>size is: 36</p>\n\n<p>size is: 36</p>\n\n<p>But when should we use <code>sizeof</code> with and without parentheses?</p>\n"}, {"tags": ["c++", "c++11", "tuples", "variadic-templates"], "comments": [{"owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "edited": false, "score": 0, "creation_date": 1421870029, "post_id": 28075079, "comment_id": 44530446, "body": "Are you referring to <a href=\"http://stackoverflow.com/q/14033828/873025\">this question</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 602798, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wzE2P.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/602798/arun"}, "edited": false, "score": 0, "creation_date": 1421871348, "post_id": 28075833, "comment_id": 44531105, "body": "Iam on VS2013 and I get the following error error C2144: syntax error : &#39;A&#39; should be preceded by &#39;)&#39;"}], "owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "is_accepted": false, "score": 2, "last_activity_date": 1421871808, "last_edit_date": 1421871808, "creation_date": 1421870470, "answer_id": 28075833, "question_id": 28075079, "link": "https://stackoverflow.com/questions/28075079/tuple-and-variadic-templates-how-does-this-work/28075833#28075833", "title": "Tuple and variadic templates, how does this work?", "body": "<p>For this to work there must be an implicit conversion from <code>std::istream</code> to all the types specified as template arguments.</p>\n\n<pre><code>struct A {\n    A(std::istream&amp;) {} // A can be constructed from 'std::istream'.\n};\n\nstruct B {\n    B(std::istream&amp;) {} // B can be constructed from 'std::istream'.\n};\n\nint main() {\n    std::istringstream stream{\"t1 t2\"};\n    auto tup = parse&lt;A, B&gt;(stream);\n}\n</code></pre>\n\n<p>It works by expanding the variadic list of types and constructs each type with the supplied <code>std::istream</code> as argument. It is then left to the constructor of each type to read from the stream.</p>\n\n<p>Also be aware that the evaluation order of the constructors is not specified so you can't expect that the first type in the variadic list will read from the stream first etc.</p>\n\n<p>The code as it is does <em>not</em> work with built in types as <code>int</code>, <code>float</code> and <code>char</code> as there is no conversion from <code>std::istream</code> to any of those types.</p>\n"}, {"comments": [{"owner": {"reputation": 7992, "user_id": 2694444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lQntl.jpg?s=128&g=1", "display_name": "galop1n", "link": "https://stackoverflow.com/users/2694444/galop1n"}, "edited": false, "score": 0, "creation_date": 1421876240, "post_id": 28076845, "comment_id": 44533481, "body": "There is a big problem with that implementation, there is no guarantee that the parameters to <code>make_tuple</code> are evaluate left to right. This is an unspecified behavior. And in fact, clang and gcc behave the opposite. GCC <a href=\"http://coliru.stacked-crooked.com/a/0688e941dfc9c563\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/0688e941dfc9c563</a> and CLANG <a href=\"http://coliru.stacked-crooked.com/a/d136ebd8dd32c43d\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/d136ebd8dd32c43d</a>"}, {"owner": {"reputation": 7992, "user_id": 2694444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lQntl.jpg?s=128&g=1", "display_name": "galop1n", "link": "https://stackoverflow.com/users/2694444/galop1n"}, "edited": false, "score": 0, "creation_date": 1421876663, "post_id": 28076845, "comment_id": 44533701, "body": "Instead of using <code>std::make_tuple( blabla... )</code> you have to use <code>std::tuple&lt;args...&gt; { blabla... }</code> to enforce the evaluation order ( note the use of {} instead of () )."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7992, "user_id": 2694444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lQntl.jpg?s=128&g=1", "display_name": "galop1n", "link": "https://stackoverflow.com/users/2694444/galop1n"}, "edited": false, "score": 0, "creation_date": 1421877171, "post_id": 28076845, "comment_id": 44533991, "body": "@galop1n <i>nod</i>, fixed.  As an aside, find the inability to &quot;directly construct via function&quot; the parts of a tuple annoying: the above requires move-ability of the data, for no good reason."}, {"owner": {"reputation": 2809, "user_id": 602798, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wzE2P.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/602798/arun"}, "edited": false, "score": 0, "creation_date": 1421922964, "post_id": 28076845, "comment_id": 44550424, "body": "@Yakk, I am using vs2013 to use your code and it cries : error C2668: &#39;read_from_stream&#39; : ambiguous call to overloaded function. Any ideas?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 2809, "user_id": 602798, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wzE2P.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/602798/arun"}, "edited": false, "score": 0, "creation_date": 1421929636, "post_id": 28076845, "comment_id": 44554178, "body": "@arun eliminate first overload, and the <code>...</code> in second.  It is only useful in a corner case anyhow."}], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1421877100, "last_edit_date": 1421877100, "creation_date": 1421874560, "answer_id": 28076845, "question_id": 28075079, "link": "https://stackoverflow.com/questions/28075079/tuple-and-variadic-templates-how-does-this-work/28076845#28076845", "title": "Tuple and variadic templates, how does this work?", "body": "<p>It works poorly.  It relies on the target type having a constructor that takes an <code>std::istream</code>.</p>\n\n<p>As many types don't have this, and you cannot add it to something like <code>int</code>, this is a bad plan.</p>\n\n<p>Instead do this:</p>\n\n<pre><code>template&lt;class T&gt;\nauto read_from_stream( std::istream&amp; stream, T* unused_type_tag )\n-&gt; typename std::decay&lt;decltype( T{stream} )&gt;::type\n{\n  return {stream};\n}\ntemplate&lt;class T&gt;\nauto read_from_stream( std::istream&amp; stream, T* unused_type_tag, ... )\n-&gt; typename std::decay&lt;decltype( T(stream) )&gt;::type\n{\n  return T(stream);\n}\n\ntemplate&lt;typename... args&gt;\nstd::tuple&lt;args...&gt; parse(std::istream&amp; stream)  {\n  return std::tuple&lt;args...&gt;{\n    read_from_stream(stream, (args*)nullptr)...\n  };\n}\n</code></pre>\n\n<p>now instead of directly constructing the arguments, we call <code>read_from_stream</code>.</p>\n\n<p><code>read_from_stream</code> has two overloads above.  The first tries to directly and implicitly construct our object from an <code>istream</code>.  The second explicitly constructs our object from an <code>istream</code>, then uses RVO to return it.  The <code>...</code> ensures that the 2nd one is only used if the 1st one fails.</p>\n\n<p>In any case, this opens up a point of customization.  In the namespace of a type <code>X</code> we can write a <code>read_from_stream( std::istream&amp;, X* )</code> function, and it will automatically be called instead of the default implementation above.  We can also write <code>read_from_stream( std::istream&amp;, int* )</code> (etc) which can know how to parse integers from an <code>istream</code>.</p>\n\n<p>This kind of point of customization can also be done using a traits class, but doing it with overloads has a number of advantages: you can inject the customizations adjacent to the type, instead of having to open a completely different namespace.  The custom action is also shorter (no class wrapping noise).</p>\n"}], "owner": {"reputation": 2809, "user_id": 602798, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/wzE2P.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/602798/arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 28076845, "answer_count": 2, "score": 3, "last_activity_date": 1421877100, "creation_date": 1421867909, "last_edit_date": 1421868798, "question_id": 28075079, "link": "https://stackoverflow.com/questions/28075079/tuple-and-variadic-templates-how-does-this-work", "title": "Tuple and variadic templates, how does this work?", "body": "<p>I have seen people write (on stack overflow itself, asking some even advanced concepts) something along the lines of:</p>\n\n<pre><code>template&lt;typename... args&gt;\nstd::tuple&lt;args...&gt; parse(istream stream) \n{\n    return std::make_tuple(args(stream)...);\n}\n</code></pre>\n\n<p>and use it as</p>\n\n<pre><code>auto tup = parse&lt;int, float, char&gt;(stream);\n</code></pre>\n\n<p>How does the above code construct the tuple by parsing the stream? Is there any specific requirement on how data is to be put into the stream?</p>\n"}, {"tags": ["c++", "multithreading", "sync"], "comments": [{"owner": {"reputation": 3558, "user_id": 389833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fc01b03cab64a85b58f30b70190eafb8?s=128&d=identicon&r=PG", "display_name": "Bukes", "link": "https://stackoverflow.com/users/389833/bukes"}, "edited": false, "score": 0, "creation_date": 1421869496, "post_id": 28075058, "comment_id": 44530149, "body": "Asked and answered: <a href=\"http://stackoverflow.com/questions/4989451/mutex-example-tutorial\" title=\"mutex example tutorial\">stackoverflow.com/questions/4989451/mutex-example-tutorial</a>.  Follow the numerous links in this question, and you&#39;ll be on your way"}, {"owner": {"reputation": 69, "user_id": 4014433, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cherry Cool", "link": "https://stackoverflow.com/users/4014433/cherry-cool"}, "reply_to_user": {"reputation": 3558, "user_id": 389833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fc01b03cab64a85b58f30b70190eafb8?s=128&d=identicon&r=PG", "display_name": "Bukes", "link": "https://stackoverflow.com/users/389833/bukes"}, "edited": false, "score": 0, "creation_date": 1421915319, "post_id": 28075058, "comment_id": 44546141, "body": "@Bukes It&#39;s helpful, but right now I am only well aware of barrier synchronization. I need to know how is one to one synchronization model implemented in multi threading."}], "owner": {"reputation": 69, "user_id": 4014433, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cherry Cool", "link": "https://stackoverflow.com/users/4014433/cherry-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421867830, "creation_date": 1421867830, "question_id": 28075058, "link": "https://stackoverflow.com/questions/28075058/thread-synchronization-using-one-to-one-model", "title": "Thread synchronization using one to one model", "body": "<p>How is one to one synchronization implemented in multi threading? How are the mutexes or semaphores used in the model? Some examples would be nice.</p>\n"}, {"tags": ["c++", "char"], "comments": [{"owner": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 0, "creation_date": 1421867852, "post_id": 28075017, "comment_id": 44529269, "body": "That&#39;s far from the serious issues here."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1421867853, "post_id": 28075017, "comment_id": 44529270, "body": "You cannot assign to character arrays (C style strings) that way. You <i>should</i> use <code>std::string</code> instead (or use C string functions, such as <code>strcpy</code>). Also, the <code>[i]</code> should be next to <code>arrayP</code> and not after the member variable."}], "answers": [{"owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "is_accepted": false, "score": 3, "last_activity_date": 1421867914, "creation_date": 1421867914, "answer_id": 28075081, "question_id": 28075017, "link": "https://stackoverflow.com/questions/28075017/incompatible-conversion-char/28075081#28075081", "title": "Incompatible conversion char", "body": "<p>You have two errors:</p>\n\n<ul>\n<li><p>if you use <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow\">aggregate initialization</a> you must obey the same layout of the class definition. So <code>{\"Paul\", 29}</code> is not correct, while <code>{29, \"Paul\"}</code> is.</p></li>\n<li><p><code>char name[4]</code> is too short to contain <code>\"Paul\"</code> since there is no room for the NUL terminator. Since you are working in C++ just use <strong><code>std::string</code>, there are no excuses.</strong></p></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 4321287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c2c6647fbbf75afea90393bba8667?s=128&d=identicon&r=PG&f=1", "display_name": "Hank Moody", "link": "https://stackoverflow.com/users/4321287/hank-moody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421867914, "creation_date": 1421867704, "question_id": 28075017, "link": "https://stackoverflow.com/questions/28075017/incompatible-conversion-char", "title": "Incompatible conversion char", "body": "<p>I've got tiny problem with my code, from unknown reason compiler pops-up two errors which unables me to compile the following code. The notification I get is: </p>\n\n<p><strong>multi-character character constant [-Wmultichar]</strong></p>\n\n<p><strong>incompatible types in assignment of 'int' to char[4];</strong></p>\n\n<p>Which is weird since I'm assigning char value to char variable. What am I doing wrong ? </p>\n\n<pre><code> #include &lt;iostream&gt; \n using namespace std; \n\n class People \n { \n    public: \n           int age; \n           char name[4]; \n }; \n\n int main() \n {\n    People arrayP[5] = {{\"Paul\", 29}, {\"Sue\", 31}, \n                        {\"Jack\", 22}, {\"Nil\", 32}}; \n\n    arraP[4].name = 'Ope'; \n\n    for(int i=0; i&lt;5; i++) \n    { \n        cout &lt;&lt;\"Name: \" &lt;&lt; arrayP.name[i] &lt;&lt; \", \" &lt;&lt; arrayP.age[i]&lt;&lt;endl\n    }\n return 0;\n }  \n</code></pre>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1421867598, "post_id": 28074939, "comment_id": 44529133, "body": "You shouldn&#39;t be getting the results you describe.  Are you using C++11 or later?  If so, the <code>apply</code> functions you override should be declared <code>override</code>."}, {"owner": {"reputation": 158, "user_id": 2480441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1cb2b6866f7e4b540066fd91ef0736?s=128&d=identicon&r=PG", "display_name": "PlamZ", "link": "https://stackoverflow.com/users/2480441/plamz"}, "edited": false, "score": 0, "creation_date": 1421867611, "post_id": 28074939, "comment_id": 44529135, "body": "Read a bit on <a href=\"http://www.cplusplus.com/doc/tutorial/polymorphism/\" rel=\"nofollow noreferrer\">Polymorphism.</a> it explains everything you need."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1421867670, "post_id": 28074939, "comment_id": 44529163, "body": "You need to be using pointers"}, {"owner": {"reputation": 329, "user_id": 1877058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qLZNy.jpg?s=128&g=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/1877058/laura"}, "reply_to_user": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1421867679, "post_id": 28074939, "comment_id": 44529173, "body": "@DrewDormann I&#39;m using C++98 (working with Visual C++ 2010)"}, {"owner": {"reputation": 329, "user_id": 1877058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qLZNy.jpg?s=128&g=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/1877058/laura"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1421867893, "post_id": 28074939, "comment_id": 44529289, "body": "@NathanOliver So should I store pointers to child instances inside the array?"}, {"owner": {"reputation": 1693, "user_id": 679906, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb2f9e196dfc828bdc58496f273221da?s=128&d=identicon&r=PG", "display_name": "Michbeckable", "link": "https://stackoverflow.com/users/679906/michbeckable"}, "edited": false, "score": 0, "creation_date": 1421868329, "post_id": 28074939, "comment_id": 44529491, "body": "You should use pointers here! By declaring <code>Effect effects[6]</code> every object stored in this array is of class Effect and if you store an object of a derived class it is sliced to the base class because memory is statically only reserved for objects of class Effect. To enable polymorphism in this case you have to switch to an array of pointers."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1421868689, "post_id": 28074939, "comment_id": 44529686, "body": "@Laura You would use <code>Effect* effects[6]; effects[0] = new SomeSubclassOfEffect();</code>"}], "answers": [{"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "is_accepted": false, "score": 7, "last_activity_date": 1421867668, "creation_date": 1421867668, "answer_id": 28075009, "question_id": 28074939, "link": "https://stackoverflow.com/questions/28074939/calling-overriden-methods-from-instances-within-array-of-base-type-c/28075009#28075009", "title": "Calling overriden methods from instances within array of base type (C++)", "body": "<p>C++ uses value semantics by default, not reference semantics, so <code>effects[0] = SomeSubclassOfEffect();</code> <em>slices</em> off all the child-specific information, leaving only the parent information.</p>\n"}, {"comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 0, "creation_date": 1421868703, "post_id": 28075125, "comment_id": 44529698, "body": "Actually, the <i>size</i> isn&#39;t the crux of the matter, though if the derived class has extra-members and thus is bigger, that makes the mis-fit obvious. The problem is that the array has type &quot;array of base&quot;, and any assignments and function-calls will treat it as such."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "reply_to_user": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 0, "creation_date": 1421869094, "post_id": 28075125, "comment_id": 44529936, "body": "@Deduplicator, I realized this just after I posted, hopefully the latest edit clarifies that point."}], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": true, "score": 4, "last_activity_date": 1421869091, "last_edit_date": 1495541569, "creation_date": 1421868099, "answer_id": 28075125, "question_id": 28074939, "link": "https://stackoverflow.com/questions/28074939/calling-overriden-methods-from-instances-within-array-of-base-type-c/28075125#28075125", "title": "Calling overriden methods from instances within array of base type (C++)", "body": "<p>The way c++ places classes in memory is to put the base class first then derived class information after that.</p>\n\n<pre><code>|base class|derived class|\n^          ^             ^\na          b             c\n</code></pre>\n\n<p>If you took the address of one of these objects that would be memory address <code>a</code>, the end of the class is at address <code>c</code> in this diagram. The information in your derived class is in the memory segment from <code>b</code> to <code>c</code>. There's 2 versions of <code>apply</code> stored in the memory here: a version for the base class and one for the derived class which one gets called is based on the type of the object.\nWhen you create an array with <code>Effect effects[3]</code> for example you get memory that looks like this:</p>\n\n<pre><code>|effect|effect|effect|\n</code></pre>\n\n<p>C++ just allocates you just enough space to fit an <code>effect</code> class per array index and <em>no more</em>.\nNow the problem is that you try to place and object that looks like this into the first element of the array:</p>\n\n<pre><code>|effect|somesubclass|\n</code></pre>\n\n<p>This can't fit into one array element so c++ <em>slices</em> off the end of the class, which includes the information about the subclass to put it in the array which loses information. Any members of the derived class are now gone! The array is of type <code>effect</code> so anything placed in the array will be treated as though it were that type and methods will be called accordingly. This then causes problems like the one you encountered.</p>\n\n<p>This is known as the slicing problem: <a href=\"https://stackoverflow.com/questions/274626/what-is-object-slicing\">What is object slicing?</a></p>\n\n<p>To deal with this you should never use a polymorphic array of objects, instead use pointers to the objects because the pointers are all the same size and hence will properly work when used inside the array. A pointer to the base class will be the same size as a pointer to the derived class, it's just the pointer to the start of the memory block after all. The pointers will now point to the correct type and hence the correct versions of functions will be called.</p>\n"}], "owner": {"reputation": 329, "user_id": 1877058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qLZNy.jpg?s=128&g=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/1877058/laura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 28075125, "answer_count": 2, "score": 3, "last_activity_date": 1421869091, "creation_date": 1421867438, "question_id": 28074939, "link": "https://stackoverflow.com/questions/28074939/calling-overriden-methods-from-instances-within-array-of-base-type-c", "title": "Calling overriden methods from instances within array of base type (C++)", "body": "<p>I have a base class called <code>Effect</code> that is defined like this:</p>\n\n<pre><code>class Effect\n{\npublic:\n    virtual void apply(int a, int b);\n};\n\nvoid Effect::apply(int a, int b)\n{\n}\n</code></pre>\n\n<p>And some subclasses of <code>Effect</code>, all defined like this:</p>\n\n<pre><code>#pragma once\n\n#include \"Effect.h\" \n\nclass SomeSubclassOfEffect: public Effect\n{\npublic:\n    void apply(int a, int b);\n};\n\nvoid SomeSubclassOfEffect::apply(int a, int b)\n{ \n    //Magic\n}\n</code></pre>\n\n<p>Now, in some other part of my application I have this:</p>\n\n<pre><code>Effect effects[6]...\n\neffects[0] = SomeSubclassOfEffect();\n</code></pre>\n\n<p>What I'm trying to do is to call the corresponding overridden version of <code>apply(int a, int b)</code> by means of <code>effects[whatever].apply(x, y)</code>, but I'm getting the parent class' one instead. Why am I getting this result?</p>\n"}, {"tags": ["c++", "visual-studio", "ifstream"], "answers": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 4, "last_activity_date": 1421867469, "creation_date": 1421867469, "answer_id": 28074943, "question_id": 28074867, "link": "https://stackoverflow.com/questions/28074867/failing-to-open-a-file-when-running-through-visual-studio/28074943#28074943", "title": "Failing to open a file when running through Visual Studio", "body": "<blockquote>\n  <p>I have a file \"Test.txt\" in the folder where I have the .exe file</p>\n</blockquote>\n\n<p>This is irrelevant. The process doesn't even know where the .exe file is!</p>\n\n<p>What matters is the <em>current working directory</em> of the process, which may not be where the .exe was loaded from.</p>\n\n<p>When debugging in Visual Studio, I believe that is the root folder of your project.</p>\n"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "is_accepted": false, "score": 3, "last_activity_date": 1421867478, "creation_date": 1421867478, "answer_id": 28074949, "question_id": 28074867, "link": "https://stackoverflow.com/questions/28074867/failing-to-open-a-file-when-running-through-visual-studio/28074949#28074949", "title": "Failing to open a file when running through Visual Studio", "body": "<p>The system runs the executable in some other directory (not the one that contains the exe-file). You can discover which one that is by creating a file:</p>\n\n<pre><code>void foo()\n{\n    std::ofstream hey(\"whatever\");\n}\n</code></pre>\n\n<p>Then look where the file was created. This is the directory where the system runs your exe-file.</p>\n"}, {"owner": {"reputation": 1453, "user_id": 3195614, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qw0hw.jpg?s=128&g=1", "display_name": "Zach P", "link": "https://stackoverflow.com/users/3195614/zach-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1421867743, "creation_date": 1421867743, "answer_id": 28075029, "question_id": 28074867, "link": "https://stackoverflow.com/questions/28074867/failing-to-open-a-file-when-running-through-visual-studio/28075029#28075029", "title": "Failing to open a file when running through Visual Studio", "body": "<p>By default, Visual Studio's working directory is the project's folder (where you can usually see the code files and the project files), so make sure your file is there. The EXE is found at the <code>Debug</code> folder, which is irrelevant, as it is not Visual Studio's working directory.</p>\n\n<p>You can change the working directory this way:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ms171340%28v=vs.90%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms171340%28v=vs.90%29.aspx</a></p>\n\n<p>Cheers.</p>\n"}], "owner": {"reputation": 86, "user_id": 4381424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/79b629599750ea78ffcc83e040ac6cf7?s=128&d=identicon&r=PG&f=1", "display_name": "Noam", "link": "https://stackoverflow.com/users/4381424/noam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 0, "accepted_answer_id": 28075029, "answer_count": 3, "score": 0, "last_activity_date": 1421869338, "creation_date": 1421867143, "question_id": 28074867, "link": "https://stackoverflow.com/questions/28074867/failing-to-open-a-file-when-running-through-visual-studio", "title": "Failing to open a file when running through Visual Studio", "body": "<p>I have the function</p>\n\n<pre><code>void foo()\n  {\n   std::string path = \"Test.txt\" ;\n  std::ifstream file;\n  file.open(path);\n  if (file.good()) // if the file opened up \n  {\n        std::cout &lt;&lt; \"YAY\" &lt;&lt; std::endl;\n  }\n  else\n  {\n      std::cout &lt;&lt; \"ERROR!\" &lt;&lt; std::endl;\n      getError();\n  }\n}\n</code></pre>\n\n<p>I have a file \"Test.txt\" in the folder where I have the .exe file .\nRunning the program direclly through the cmd follows a success in openning the file , but running the program through Visual studio fails to open the file .\nI tried to open the file with a full path , but the result remained the same .</p>\n"}, {"tags": ["c++", "unix", "c++11", "cin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421867461, "post_id": 28074834, "comment_id": 44529050, "body": "Interactive IO waits for a user input, a pipe has an EOF. Let the user enter Ctrl-D for EOF"}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 0, "creation_date": 1421867791, "post_id": 28074834, "comment_id": 44529229, "body": "Are you sure you&#39;re describing the cases correctly? <code>echo &quot;aaaa aaaaa&quot; | tst</code> would read from the pipe, <code>.&#47;tst mytest.txt</code> would normally use interactive input."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1421867873, "post_id": 28074834, "comment_id": 44529277, "body": "To read from a file you need to create an ifstream object.  cin reads from the standard input."}, {"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421868538, "post_id": 28074834, "comment_id": 44529602, "body": "I can&#39;t use an ifstream object as the application itself must remain generic as the input may be provided via a file or console."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 1, "creation_date": 1421868119, "post_id": 28074972, "comment_id": 44529379, "body": "I need the program to be able to read whatever input it is provided, so i cannot do the above for all possible characters."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409948"}, "reply_to_user": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421868401, "post_id": 28074972, "comment_id": 44529525, "body": "Sorry. I was starting to think that myself. My apologies."}], "owner": {"user_type": "does_not_exist", "display_name": "user4409948"}, "is_accepted": false, "score": 0, "last_activity_date": 1441009307, "last_edit_date": 1441009307, "creation_date": 1421867533, "answer_id": 28074972, "question_id": 28074834, "link": "https://stackoverflow.com/questions/28074834/while-cin-get-leading-to-an-infinite-loop-when-loading-from-file/28074972#28074972", "title": "while cin.get leading to an infinite loop when loading from file", "body": "<p>This is not a paticularly good method, and there is probably a better way, but you could try this:</p>\n\n<pre><code>if(cin.get() == \"SOME_CHARACTER_CHANGE_THIS\") {\n    cout &lt;&lt; \"SOME_CHARACTER_CHANGE_THIS_ALSO\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>For each character that can be typed in.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421868213, "post_id": 28075087, "comment_id": 44529423, "body": "If i were to use get line then the resulting output would be different then the one above, as the above would return a character per line while this would result in a line per line."}, {"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421869052, "post_id": 28075087, "comment_id": 44529910, "body": "Is there a way to pass the contents of a file to the application without having the application read the file itself?"}, {"owner": {"reputation": 7638, "user_id": 2986116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f1444d1687fdda5fc2f039ccb0c4c?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/2986116/j%c3%a9r%c3%b4me"}, "reply_to_user": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 1, "creation_date": 1421869160, "post_id": 28075087, "comment_id": 44529959, "body": "cat input.txt | ./tst.out    will feed std::cin input stream"}, {"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421870608, "post_id": 28075087, "comment_id": 44530754, "body": "This seems to work...ill use this instead of ./tst mytest.txt. Thanks"}], "owner": {"reputation": 7638, "user_id": 2986116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f1444d1687fdda5fc2f039ccb0c4c?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/2986116/j%c3%a9r%c3%b4me"}, "is_accepted": true, "score": 2, "last_activity_date": 1421869394, "last_edit_date": 1421869394, "creation_date": 1421867926, "answer_id": 28075087, "question_id": 28074834, "link": "https://stackoverflow.com/questions/28074834/while-cin-get-leading-to-an-infinite-loop-when-loading-from-file/28075087#28075087", "title": "while cin.get leading to an infinite loop when loading from file", "body": "<p>If you want to handle both file and cin input:</p>\n\n<pre><code>std::ifstream myFile;\n\nif (argc &gt; 1) \n{\n    myFile.open(argv[1]);\n}\n\nif (myFile.is_open()) \n{\n    readMyInput(myFile);\n    myFile.close();\n} else \n{\n    readMyInput(std::cin);\n}\n\nvoid readMyInput(std::istream &amp;inputStream)\n{\n    char myCharacter;\n    while (inputStream.get(myCharacter)) \n    {\n        cout&lt;&lt; myCharacter&lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n\n<p>if you don't want to open a file: <code>cat input.txt | ./tst.out</code> will feed <code>std::cin</code> input stream</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "edited": false, "score": 0, "creation_date": 1421868447, "post_id": 28075097, "comment_id": 44529548, "body": "My apologies for the inaccurate description. What I want to do is to be able to run the application by doing &#39;&#39;./tst mytest.txt&#39;&#39; without it going into an infinite loop. (I was under the impression that this meant that the contents of the file are read and given to the application as its input.)"}], "owner": {"reputation": 316, "user_id": 3970767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb33c9f016a9880916e0d288292065fe?s=128&d=identicon&r=PG&f=1", "display_name": "TedB", "link": "https://stackoverflow.com/users/3970767/tedb"}, "is_accepted": false, "score": 0, "last_activity_date": 1421867961, "creation_date": 1421867961, "answer_id": 28075097, "question_id": 28074834, "link": "https://stackoverflow.com/questions/28074834/while-cin-get-leading-to-an-infinite-loop-when-loading-from-file/28075097#28075097", "title": "while cin.get leading to an infinite loop when loading from file", "body": "<p>The code in your example isn't reading from the file, it's reading from stdin.  If you want to read from a file, you'll have to initialize an <code>ifstream</code> with the filename passed into <code>main</code> and read from that instead of <code>cin</code>.</p>\n"}], "owner": {"reputation": 35, "user_id": 3768409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae1563d05b2bd688f8317135eb3ec747?s=128&d=identicon&r=PG&f=1", "display_name": "Falo", "link": "https://stackoverflow.com/users/3768409/falo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 28075087, "answer_count": 3, "score": 1, "last_activity_date": 1441009307, "creation_date": 1421867044, "question_id": 28074834, "link": "https://stackoverflow.com/questions/28074834/while-cin-get-leading-to-an-infinite-loop-when-loading-from-file", "title": "while cin.get leading to an infinite loop when loading from file", "body": "<p>I have the following code (this just part of a bigger application but the issue seems to be coming from the following):</p>\n\n<pre><code>char inputChar;\nwhile (cin.get(inputChar)){\n    cout&lt;&lt; inputChar&lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>when providing the application with its input from the console, such as:\n'echo \"aaaaa aaaaa\"|tst' (where the program above has been compiled to tst.out) the program works correctly, however when I provide the input via a text file (ie './tst mytest.txt') it seems to run into an infinite loop (the cursor just moves to the next line and remains there, never getting the prompt again) no matter the contents of the file itself.</p>\n\n<p>Does anyone have any idea as to why this is happening, and what i can do to fix this behavior.</p>\n\n<p>ps: I am compiling and running this on a unix terminal.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "windows", "memory-leaks", "win32-process"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1421867101, "post_id": 28074781, "comment_id": 44528855, "body": "Can you post your code where you think you might have a memory leak?  You can also use valgrind to analyze your code."}, {"owner": {"reputation": 57972, "user_id": 131140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/11b4048e49b8b89f670cc984059d1677?s=128&d=identicon&r=PG", "display_name": "Goz", "link": "https://stackoverflow.com/users/131140/goz"}, "edited": false, "score": 0, "creation_date": 1421867140, "post_id": 28074781, "comment_id": 44528870, "body": "You have a memory leak that much is certain.  Without seeing any code there is no way we can help you beyond saying you should free any memory you allocate ..."}, {"owner": {"reputation": 2357, "user_id": 4074081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emDh4.png?s=128&g=1", "display_name": "dewaffled", "link": "https://stackoverflow.com/users/4074081/dewaffled"}, "edited": false, "score": 0, "creation_date": 1421867215, "post_id": 28074781, "comment_id": 44528908, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2820223/visual-c-memory-leak-detection\">Visual C++ - Memory Leak Detection</a>"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 2357, "user_id": 4074081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emDh4.png?s=128&g=1", "display_name": "dewaffled", "link": "https://stackoverflow.com/users/4074081/dewaffled"}, "edited": false, "score": 0, "creation_date": 1421867258, "post_id": 28074781, "comment_id": 44528932, "body": "@frymode: From the question title, you&#39;d think that, but there&#39;s a big difference if you actually read the whole question."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421867519, "post_id": 28074781, "comment_id": 44529087, "body": "&quot;The usage of physical memory is causing performance problems with my application.&quot;  Very doubtful.  Can you substantiate that with some numbers?  (My system has x GB of physical RAM, I&#39;m using Y tool to view &quot;Committed Pages&quot;, when this number goes above Z my application begins spending r milliseconds to perform action q instead of t milliseconds)"}, {"owner": {"reputation": 867, "user_id": 1265382, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e8552467d9b7bd4c8cbad6346617d4d1?s=128&d=identicon&r=PG", "display_name": "rohitsan", "link": "https://stackoverflow.com/users/1265382/rohitsan"}, "edited": false, "score": 0, "creation_date": 1421867615, "post_id": 28074781, "comment_id": 44529137, "body": "You are right - that comment is doubtful so I deleted it.  Thanks for your insight."}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1421867767, "post_id": 28074781, "comment_id": 44529216, "body": "@NathanOliver valgrind is not available on Windows"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1421868044, "post_id": 28074781, "comment_id": 44529350, "body": "@inetknght Valgrind + Wine can be made to work with some effort."}], "answers": [{"owner": {"reputation": 246, "user_id": 4470617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed337cf6316032b7ac19042a7b43e3af?s=128&d=identicon&r=PG&f=1", "display_name": "George McCollister", "link": "https://stackoverflow.com/users/4470617/george-mccollister"}, "is_accepted": false, "score": 1, "last_activity_date": 1421867329, "creation_date": 1421867329, "answer_id": 28074912, "question_id": 28074781, "link": "https://stackoverflow.com/questions/28074781/win32-c-memory-leak/28074912#28074912", "title": "Win32/C++ Memory Leak", "body": "<p>Don't spend too much effort figuring out what is going on with physical memory, the operating system should take care of it. You'll usually just go in circles trying to figure it out unless you have good understanding of what is going on in the OS kernel. I suspect it's leaving something in disk cache and it will release it when needs free pages.</p>\n"}, {"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1421867632, "post_id": 28074914, "comment_id": 44529147, "body": "Concerning the thread that scrubs pages before reuse, see <a href=\"http://stackoverflow.com/a/18386097/103167\">stackoverflow.com/a/18386097/103167</a>"}], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 3, "last_activity_date": 1421867331, "creation_date": 1421867331, "answer_id": 28074914, "question_id": 28074781, "link": "https://stackoverflow.com/questions/28074781/win32-c-memory-leak/28074914#28074914", "title": "Win32/C++ Memory Leak", "body": "<p>The physical memory is <em>always</em> under the control of the OS.  Whatever tool you are using to measure physical memory usage is misleading you.</p>\n\n<p>Possibly the disk cache is growing, possibly the low priority background thread that zeros free pages is not keeping up and your tool treats \"free but dirty\" differently from \"free and zeroed for reuse\".</p>\n\n<p>It's also possible that your application is triggering a memory leak in some driver or another process that hasn't exited yet.</p>\n\n<p>In no case is your application continuing to own physical memory after it terminates.</p>\n"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 1, "last_activity_date": 1421868317, "creation_date": 1421868317, "answer_id": 28075199, "question_id": 28074781, "link": "https://stackoverflow.com/questions/28074781/win32-c-memory-leak/28075199#28075199", "title": "Win32/C++ Memory Leak", "body": "<p>The OS has a goal of using as much physical memory as it can - anything that isn't being used is wasted. The paging system will ensure that any application that needs physical memory will get it, by swapping something else out if necessary.</p>\n\n<p>One of the ways it uses memory is for caching files from disk. A directory is also a file, so it gets cached too as you read through it.</p>\n\n<p>I've always felt personally that Windows does too much disk caching. I'm much more likely to switch to a program that I haven't used in a while than I am to access a file that I haven't used in a while.</p>\n"}], "owner": {"reputation": 867, "user_id": 1265382, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e8552467d9b7bd4c8cbad6346617d4d1?s=128&d=identicon&r=PG", "display_name": "rohitsan", "link": "https://stackoverflow.com/users/1265382/rohitsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 28074914, "answer_count": 3, "score": 0, "last_activity_date": 1421868317, "creation_date": 1421866856, "question_id": 28074781, "link": "https://stackoverflow.com/questions/28074781/win32-c-memory-leak", "title": "Win32/C++ Memory Leak", "body": "<p>I am experiencing a weird memory problem.  The process in which my C++ application executes consumes both virtual and physical memory as it time progresses.</p>\n\n<p>When I shut down the process, whatever virtual memory that it consumes is returned to the system.  However, most of the physical memory that is consumed is never returned to the system.  I can view this in Task Manager.</p>\n\n<p>Any memory that my application dynamically allocates should be returned to the system when its process terminates.</p>\n\n<p>The only suspect computations that my application is doing is repeatedly calling FindFirstFile/FindNextFile to examine some existing files in the file system.  The operation examines about 10 million files in total.  In this case, I believe that I am correctly closing the file handle returned by FindFirstFile.</p>\n\n<p>Can anyone speculate as to why the physical memory is not being returned to the system?</p>\n"}, {"tags": ["c++", "random"], "comments": [{"owner": {"reputation": 6369, "user_id": 1030185, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wctna.jpg?s=128&g=1", "display_name": "PaulG", "link": "https://stackoverflow.com/users/1030185/paulg"}, "edited": false, "score": 6, "creation_date": 1421866743, "post_id": 28074713, "comment_id": 44528665, "body": "Getting delays higher than 7000 is possible as 8000 is your maximum."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1421866745, "post_id": 28074713, "comment_id": 44528670, "body": "Are you using c++11? If so you should use the newer random number library functions."}, {"owner": {"reputation": 49, "user_id": 4450249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f330ade93a772135c49f612f67988c?s=128&d=identicon&r=PG&f=1", "display_name": "Histidine", "link": "https://stackoverflow.com/users/4450249/histidine"}, "edited": false, "score": 0, "creation_date": 1421867029, "post_id": 28074713, "comment_id": 44528817, "body": "I thought the form <code>%n + m</code> meant that m was the minimum and  n the maximum... isn&#39;t it ? No I&#39;m not using c++11"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1421867317, "post_id": 28074713, "comment_id": 44528967, "body": "<code>rand()</code> returns an <code>int</code> result. The cast to <code>int</code> is superfluous."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4450249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f330ade93a772135c49f612f67988c?s=128&d=identicon&r=PG&f=1", "display_name": "Histidine", "link": "https://stackoverflow.com/users/4450249/histidine"}, "edited": false, "score": 0, "creation_date": 1421867146, "post_id": 28074758, "comment_id": 44528874, "body": "Oh ok ! Thanks a lot!"}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1421880859, "post_id": 28074758, "comment_id": 44535566, "body": "Also, sleep() is not guaranteed to be that accurate. If you tell it to sleep for 7000ms, it will sleep for <i>at least</i> that, and likely more if the machine is running lots of other processes."}, {"owner": {"reputation": 49, "user_id": 4450249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f330ade93a772135c49f612f67988c?s=128&d=identicon&r=PG&f=1", "display_name": "Histidine", "link": "https://stackoverflow.com/users/4450249/histidine"}, "edited": false, "score": 0, "creation_date": 1421932056, "post_id": 28074758, "comment_id": 44555665, "body": "Do you know an alternative to sleep() that&#39;s more accurate ?"}], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": 5, "last_activity_date": 1421866778, "creation_date": 1421866778, "answer_id": 28074758, "question_id": 28074713, "link": "https://stackoverflow.com/questions/28074713/rand-gives-back-higher-int-than-my-max-c/28074758#28074758", "title": "rand() gives back higher int than my max c++", "body": "<p>That's a simple question of mathematics. rand () % 6000 gives a result from 0 to 5999. Adding 2000 gives a result from 2000 to 7999. </p>\n"}, {"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1421867292, "post_id": 28074814, "comment_id": 44528953, "body": "<code>(int)rand() % 4000</code> gives you numbers in the range 0 to 3999, not 0 to 4000. <code>(int)rand() % 4000 + 2000</code> then gives numbers in the range 2000 to 5999."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1421867462, "post_id": 28074814, "comment_id": 44529052, "body": "@KeithThompson, fixed"}], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": false, "score": 1, "last_activity_date": 1421867452, "last_edit_date": 1421867452, "creation_date": 1421866985, "answer_id": 28074814, "question_id": 28074713, "link": "https://stackoverflow.com/questions/28074713/rand-gives-back-higher-int-than-my-max-c/28074814#28074814", "title": "rand() gives back higher int than my max c++", "body": "<p>The problem is that <code>(int)rand() % 6000</code> will be anywhere up to 5999 so when you add 2000 you will go over the threshold.\nTo get the min and max of 2000 and 6000 you need to have <code>(int)rand() % 4000 + 2000</code>. This is because the random number will be generated in the range 0 to 3999 and then adding 2000 will give the range 2000 to 5999.</p>\n\n<p>If you have c++11 available to you you could write the code like this:</p>\n\n<pre><code>///init for RNG\nstd::random_device rd;\nstd::default_random_engine generator;\ngenerator.seed( rd() );\n\n//using the RNG\nstd::uniform_int_distribution&lt;int&gt; distribution(0,6000);\nSleep(distribution(generator));\n</code></pre>\n\n<p>The benefits here are that the random numbers will be of a higher quality and the intent of your code is clearer.</p>\n"}], "owner": {"reputation": 49, "user_id": 4450249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f330ade93a772135c49f612f67988c?s=128&d=identicon&r=PG&f=1", "display_name": "Histidine", "link": "https://stackoverflow.com/users/4450249/histidine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1421867452, "creation_date": 1421866612, "last_edit_date": 1421867009, "question_id": 28074713, "link": "https://stackoverflow.com/questions/28074713/rand-gives-back-higher-int-than-my-max-c", "title": "rand() gives back higher int than my max c++", "body": "<p>So I hope I am not asking something stupid. </p>\n\n<p>I want my program to pause for a random amount of ms going from 2000 to 5999 when a button is clicked so here is are the lines : </p>\n\n<pre><code>void ExpNatDlg::OnBnClickedBack()\n{\n   int delayRand;\n   delayRand = (int)rand() % 6000 + 2000;\n   Sleep(delayRand);\n}\n</code></pre>\n\n<p>To check the delays I get, I print them on a file, and I don't know why, I sometimes get delays higher than 7000 ms... </p>\n\n<p>I don't know what I'm missing ! Thanks for your help!</p>\n"}, {"tags": ["c++", "filestream", "eof"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1421866673, "post_id": 28074710, "comment_id": 44528634, "body": "Post the <i>relevant</i> code in the question please."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421867228, "post_id": 28074710, "comment_id": 44528916, "body": "If the data is not POD you can not  write/read sizeof(data)"}, {"owner": {"reputation": 142024, "user_id": 649665, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ea803aa8fff6a34f2a5d16e21fc85787?s=128&d=identicon&r=PG", "display_name": "James Kanze", "link": "https://stackoverflow.com/users/649665/james-kanze"}, "edited": false, "score": 0, "creation_date": 1421867291, "post_id": 28074710, "comment_id": 44528952, "body": "You&#39;ve got a <code>reinterpret_cast</code> on the pointer you pass to <code>filestream.read</code>; this is almost certain not to work.  (With a number of compilers, it will work if <code>temp_data</code> only contains <code>char []</code>.  Otherwise, it will fail everywhere.)"}, {"owner": {"reputation": 142024, "user_id": 649665, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ea803aa8fff6a34f2a5d16e21fc85787?s=128&d=identicon&r=PG", "display_name": "James Kanze", "link": "https://stackoverflow.com/users/649665/james-kanze"}, "edited": false, "score": 0, "creation_date": 1421867346, "post_id": 28074710, "comment_id": 44528982, "body": "@DieterL&#252;cking Even if the data is a POD, you cannot read/write sizeof data.  The only thing you can reliably read and write are preformatted buffers (<code>char[]</code>)."}], "owner": {"reputation": 1, "user_id": 3984166, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007707993488/picture?type=large", "display_name": "Lucas Spencer", "link": "https://stackoverflow.com/users/3984166/lucas-spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421866902, "creation_date": 1421866599, "last_edit_date": 1421866902, "question_id": 28074710, "link": "https://stackoverflow.com/questions/28074710/c-filestream-reading-issues", "title": "C++ filestream reading issues", "body": "<p>So I am using a filestream to read and write 3 vectors of structs to 3 binary files however when I perform read and write operations it reads duplicates of each one which I dont understand.</p>\n\n<p>I think it is just a trivial error with my code.</p>\n\n<pre><code>#include \"fileh.h\"\nusing namespace std;//create the variables used in the program\nfstream filestream;\nstudent_info temp_data;//even though its temporary its used a lot , more efficient than using multiple local declerations\nvoid write_to_class(student_info data, int classnum){//create a function that writes to the main class data\n        if (classnum == 1){//check the class numbers\n                class1.push_back(data);//if the number is the one selected\n        }\n        else if (classnum == 2){\n                class2.push_back(data);\n        }\n        else if (classnum == 3){\n                class3.push_back(data);\n        }\n        else{//if all values dont work then call this\n                cout &lt;&lt; \"Invalid class number!\" &lt;&lt; endl;\n                return;\n        }\n}\nbool write_to_file(){//function that writes data to a saved binary file\n        int classcurrent = 1;//variable for detecting class during iteration\n        vector&lt;student_info&gt;::iterator start;//create two iterators for the start and end positions of the class lists\n        vector&lt;student_info&gt;::iterator end;\n        while (classcurrent &lt; 3){\n                if (classcurrent == 1){//by using selection within a while loop makes the code cleaner , it also means there is less repetition with the code\n                        filestream.open(\"class1.bin\", ios::out | ios::binary | ios::trunc);//open the file for writing in a binary format trunc means all prior\n                        //data is deleted\n                        start = class1.begin();//set the iterators for the positions within the vector we are reading from\n                        end = class1.end();\n                }\n                else if (classcurrent == 2){//repeat for other classes\n                        filestream.open(\"class2.bin\", ios::out | ios::binary | ios::trunc);\n                        start = class2.begin();\n                        end = class2.end();\n                }\n                else{\n                        filestream.open(\"class3.bin\", ios::out | ios::binary | ios::trunc);\n                        start = class3.begin();\n                        end = class3.end();\n                }\n\n                if (filestream.is_open()){//check to see if there is no error with the file\n                        for (vector&lt;student_info&gt;::iterator position = start; position != end; position++){\n                                cout &lt;&lt; classcurrent &lt;&lt; endl;\n                                cout &lt;&lt; position-&gt;name &lt;&lt; endl;\n                                temp_data = *position;\n                                filestream.write((char *)(&amp;temp_data), sizeof(student_info));\n                        }\n\n                }\n                else{\n                        return false;//if there is immediately cancel the operation and notify the calling function with a boolean\n                }\n                filestream.close();//close the filestream to save the operaions\n                classcurrent += 1;//increase the current class to modify how the selection occurs\n        }\n        return true;//if nothing bad has occured then tell the calling function its completed\n}\nbool read_from_file(){//this function reads from a file and notifys the calling function the status afterward\n        int classcurrent = 1;//same as the write function\n        while (classcurrent &lt;3){\n                if (classcurrent == 1){\n\n                        filestream.open(\"class1.bin\", ios::in | ios::binary);//open the file for reading in binary\n\n                }\n                else if (classcurrent == 2){\n                        filestream.open(\"class2.bin\", ios::in | ios::binary);\n                }\n\n                else{\n                        filestream.open(\"class3.bin\", ios::in | ios::binary);\n                }\n                if (filestream.is_open()){//check if the file has been successfully opened\n\n                        while (!filestream.eof()){\n\n\n                                filestream.read((char *)(&amp;temp_data), sizeof(student_info));//if there is still stuff to read then read the data\n                                write_to_class(temp_data, classcurrent);//copy this data into the main class data\n                        }\n                }\n                else{\n                        return false;\n                        //this allows for returning an error to the user if anything failed during this operation.\n                }\n                filestream.close();\n                classcurrent += 1;\n\n        }\n\n        return true;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2013", "char"], "comments": [{"owner": {"reputation": 4516, "user_id": 1937198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b97a3ec92aed1c16e35c1bf532465d6b?s=128&d=identicon&r=PG", "display_name": "user1937198", "link": "https://stackoverflow.com/users/1937198/user1937198"}, "edited": false, "score": 2, "creation_date": 1421865769, "post_id": 28074422, "comment_id": 44528173, "body": "That is not ASCII. Did you mean <a href=\"http://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\">Windows-1252</a>?"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1421867309, "post_id": 28074422, "comment_id": 44528961, "body": "code-pages are the worst thing that happened (for non-americans of course). Use Unicode. Preferably utf8. I know c++ standard support for utf8 is abysmal, but there are options like <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU</a> and <a href=\"http://www.boost.org/doc/libs/1_51_0/libs/locale/doc/html/index.html\" rel=\"nofollow noreferrer\">Boost.Locale</a>"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1421868392, "post_id": 28074422, "comment_id": 44529519, "body": "Related: <a href=\"http://stackoverflow.com/q/19987448/509868\">this</a> question, which uses UTF-8 (may be better than UCS-16)"}], "answers": [{"owner": {"reputation": 1691, "user_id": 4355012, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc9e7a6a654cb5f9d877dae44f90b948?s=128&d=identicon&r=PG&f=1", "display_name": "Kamajii", "link": "https://stackoverflow.com/users/4355012/kamajii"}, "is_accepted": false, "score": 0, "last_activity_date": 1421865707, "creation_date": 1421865707, "answer_id": 28074474, "question_id": 28074422, "link": "https://stackoverflow.com/questions/28074422/euro-symbol-for-c/28074474#28074474", "title": "Euro Symbol for C++", "body": "<p>You have to distinguish between the translation environment and the execution environment.\nE.g., it heavily depends on where your program is being run what <em>glyph</em> is assigned to the <em>character</em> you intended to produce (cf. 'codepage').</p>\n\n<p>You may want to check of your terminal or whatsoever is unicode-aware and then just use the appropriate codepoints.</p>\n\n<p>Also, you should not create character constants the way you did. Use a character literal instead.</p>\n"}, {"comments": [{"owner": {"reputation": 7872, "user_id": 440302, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e785baf6d4a2626b8649d5b538c51858?s=128&d=identicon&r=PG", "display_name": "Rufflewind", "link": "https://stackoverflow.com/users/440302/rufflewind"}, "edited": false, "score": 0, "creation_date": 1421866476, "post_id": 28074514, "comment_id": 44528547, "body": "@DieterL&#252;cking: sure, but that&#39;s what Microsoft chose to stick with :("}], "owner": {"reputation": 7872, "user_id": 440302, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e785baf6d4a2626b8649d5b538c51858?s=128&d=identicon&r=PG", "display_name": "Rufflewind", "link": "https://stackoverflow.com/users/440302/rufflewind"}, "is_accepted": false, "score": 1, "last_activity_date": 1421866431, "last_edit_date": 1421866431, "creation_date": 1421865818, "answer_id": 28074514, "question_id": 28074422, "link": "https://stackoverflow.com/questions/28074422/euro-symbol-for-c/28074514#28074514", "title": "Euro Symbol for C++", "body": "<p>You should not use any of the deprecated <a href=\"https://en.wikipedia.org/wiki/Extended_ASCII\" rel=\"nofollow\">extended ASCII encodings</a> as they are long obsolete nowadays.  As user1937198 said, <code>156</code> is the character code of <code>\u00a3</code> in the archaic <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow\">Windows-1252* encoding</a>.  The appearance of non-ASCII characters in these encodings depends on the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd317752(v=vs.85).aspx\" rel=\"nofollow\">codepage</a> selected by the user, which makes it impossible to mix characters from different codepages under such a scheme. Additionally, your users will be very confused if they pick the wrong codepage.</p>\n\n<p>Consider using <a href=\"http://unicode.org\" rel=\"nofollow\">Unicode</a> instead.  Since you're on Windows, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd374081(v=vs.85).aspx\" rel=\"nofollow\">you should probably use UTF-16</a>, in which case the correct way is to declare:</p>\n\n<pre><code>// make sure the source code is saved as UTF-16!\nconst wchar_t poundSign[] = L\"\u00a3\";\nconst wchar_t euroSign[]  = L\"\u20ac\";\n</code></pre>\n\n<p>In UTF-16, there's no guarantee that a single character will take only 1 character due to the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd374069(v=vs.85).aspx\" rel=\"nofollow\">surrogate mechanism</a>, hence it's best to store \"characters\"* as strings.</p>\n\n<p>Keep in mind that this means the rest of your program should switch to Unicode as well: use the \"W\" versions of the Windows API (the <code>WCHAR</code>-versions).</p>\n\n<p>[*] In technical lingo, each \"Unicode character\" is referred to as a code point.</p>\n"}], "owner": {"reputation": 25, "user_id": 4330584, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Callum Osborn", "link": "https://stackoverflow.com/users/4330584/callum-osborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1764, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1421866431, "creation_date": 1421865513, "last_edit_date": 1421866251, "question_id": 28074422, "link": "https://stackoverflow.com/questions/28074422/euro-symbol-for-c", "title": "Euro Symbol for C++", "body": "<p>I am creating a small currency converting program in C++ in Visual Studio 2013.</p>\n\n<p>For a pound sign, I have created a char variable using the Windows-1252 code for \u00a3 symbol.</p>\n\n<pre><code>const char poundSign(156);\n</code></pre>\n\n<p>I need to find a way in which I can implement a symbol for \u20ac, euro symbol. When I run the program.</p>\n"}, {"tags": ["c++", "function"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1421865450, "post_id": 28074242, "comment_id": 44528026, "body": "The epitome of laziness. This question can easily be answered by compiling the code and executing the resulting binary."}, {"owner": {"reputation": 1, "user_id": 4479113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82add39b7a4f57d16c3624bf6b88bc51?s=128&d=identicon&r=PG&f=1", "display_name": "Maciek99", "link": "https://stackoverflow.com/users/4479113/maciek99"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1421865573, "post_id": 28074242, "comment_id": 44528082, "body": "I want to understand how it works, not only the result.."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1421865647, "post_id": 28074242, "comment_id": 44528120, "body": "@Maciek99 your question is &quot;What will be the result?&quot;  If you&#39;re looking for something else, please <a href=\"https://stackoverflow.com/posts/28074242/edit\">edit</a> your question."}, {"owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "edited": false, "score": 1, "creation_date": 1421866242, "post_id": 28074242, "comment_id": 44528423, "body": "<i>&quot;I know that <code>k</code> will be 0&quot;</i>  How do you know that?  Have you tested it?  Frankly, I disagree.  I believe <code>k</code> will be <code>1</code> after the function is complete."}, {"owner": {"reputation": 82368, "user_id": 251173, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/23de335ea2208b179ece18bec0b2597f?s=128&d=identicon&r=PG", "display_name": "Buhake Sindi", "link": "https://stackoverflow.com/users/251173/buhake-sindi"}, "edited": false, "score": 0, "creation_date": 1421869065, "post_id": 28074242, "comment_id": 44529918, "body": "Have you debugged the code and stepped to it to see if <code>k</code> becomes <code>0</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 8450, "user_id": 2842375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25280992c96f51e2b09f71beb360ef?s=128&d=identicon&r=PG&f=1", "display_name": "shauryachats", "link": "https://stackoverflow.com/users/2842375/shauryachats"}, "edited": false, "score": 0, "creation_date": 1421865685, "post_id": 28074406, "comment_id": 44528138, "body": "I&#39;ll just add the details."}, {"owner": {"reputation": 1, "user_id": 4479113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82add39b7a4f57d16c3624bf6b88bc51?s=128&d=identicon&r=PG&f=1", "display_name": "Maciek99", "link": "https://stackoverflow.com/users/4479113/maciek99"}, "edited": false, "score": 0, "creation_date": 1421867339, "post_id": 28074406, "comment_id": 44528979, "body": "It isn&#39;t passed by value.."}, {"owner": {"reputation": 8450, "user_id": 2842375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25280992c96f51e2b09f71beb360ef?s=128&d=identicon&r=PG&f=1", "display_name": "shauryachats", "link": "https://stackoverflow.com/users/2842375/shauryachats"}, "reply_to_user": {"reputation": 1, "user_id": 4479113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82add39b7a4f57d16c3624bf6b88bc51?s=128&d=identicon&r=PG&f=1", "display_name": "Maciek99", "link": "https://stackoverflow.com/users/4479113/maciek99"}, "edited": false, "score": 0, "creation_date": 1421867671, "post_id": 28074406, "comment_id": 44529164, "body": "I&#39;m sorry, I didn&#39;t read the edits."}], "owner": {"reputation": 8450, "user_id": 2842375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25280992c96f51e2b09f71beb360ef?s=128&d=identicon&r=PG&f=1", "display_name": "shauryachats", "link": "https://stackoverflow.com/users/2842375/shauryachats"}, "is_accepted": false, "score": 1, "last_activity_date": 1421865998, "last_edit_date": 1421865998, "creation_date": 1421865475, "answer_id": 28074406, "question_id": 28074242, "link": "https://stackoverflow.com/questions/28074242/explain-the-difference-between-call-by-reference-and-copy-restore/28074406#28074406", "title": "Explain the difference between call by reference and copy/restore", "body": "<p>The values of <code>A[0]</code> = 2 and <code>A[1]</code> =  7 as the array <code>A</code> and <code>k</code> are both globally defined.</p>\n\n<p>Since you explicitly asked for the details, here I go:</p>\n\n<p>As the array <code>A</code> and <code>k</code> have been <strong>globally</strong> defined, you can change it from <strong>wherever</strong> in the program you wish. \nNow when you call the statement <code>test(A[1],A[k],k);</code>, a copy of the values of <code>A[1]</code>, <code>A[k]</code> and <code>k</code> act as <code>a</code>, <code>b</code>, and <code>c</code> respectively in the <code>test()</code> function.</p>\n\n<p>As these parameters are passed by <strong>value</strong>, and not by <strong>reference</strong>, hence all the changes you do on the variables <code>a</code>,<code>b</code>,<code>c</code> in the function <code>test()</code> do not affect <code>A[1]</code>,<code>A[k]</code> and <code>k</code>. Only the statements which directly refer to the global variables like <code>A[k] = 7;</code> are affected because they are <strong>global</strong>.</p>\n\n<p>Hope it helped. </p>\n"}, {"owner": {"reputation": 1, "user_id": 4377184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968257a045412d2b86f279fbb8b215b9?s=128&d=identicon&r=PG&f=1", "display_name": "Rizza", "link": "https://stackoverflow.com/users/4377184/rizza"}, "is_accepted": false, "score": 0, "last_activity_date": 1421866201, "creation_date": 1421866201, "answer_id": 28074609, "question_id": 28074242, "link": "https://stackoverflow.com/questions/28074242/explain-the-difference-between-call-by-reference-and-copy-restore/28074609#28074609", "title": "Explain the difference between call by reference and copy/restore", "body": "<p>K is undefined.\nThe following program outputs 1:</p>\n\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint A[3];\nint k = 1;\n\nvoid test(int a, int b, int c) {\n     c = 0;\n     b = 1;\n     A[k] = 7;\n     a++;\n\n}\nint main()\n{\nA[0] = 2;\nA[1] = 4;\nk = 1;\ntest(A[1],A[k],k);\ncout&lt;&lt;k&lt;&lt;endl;\nreturn 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4479113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82add39b7a4f57d16c3624bf6b88bc51?s=128&d=identicon&r=PG&f=1", "display_name": "Maciek99", "link": "https://stackoverflow.com/users/4479113/maciek99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "closed_date": 1421866145, "answer_count": 2, "score": -3, "last_activity_date": 1421869934, "creation_date": 1421864863, "last_edit_date": 1495542035, "question_id": 28074242, "link": "https://stackoverflow.com/questions/28074242/explain-the-difference-between-call-by-reference-and-copy-restore", "closed_reason": "Needs details or clarity", "title": "Explain the difference between call by reference and copy/restore", "body": "<p>I have the following program :</p>\n\n<pre><code>int A[3];\nk = 1\n\nvoid test(int a, int b, int c) {\n     c = 0;\n     b = 1;\n     A[k] = 7;\n     a++;\n\n}\n</code></pre>\n\n<p>next I run this method using copy restore</p>\n\n<pre><code>A[0] = 2;\nA[1] = 4;\nk = 1;\ntest(A[1],A[k],k);\n</code></pre>\n\n<p>I know that k will be 0. </p>\n\n<p>EDIT </p>\n\n<p>I want to know how to calculate this using <strong>copy-restore</strong> not by value, reference etc. K will be 0 , because it's assigned to c and after function is finished it's copied to k.  Here is an explanation <a href=\"https://stackoverflow.com/questions/8848402/whats-the-difference-between-call-by-reference-and-copy-restore\">What&#39;s the difference between call by reference and copy/restore</a> , but <strong>How does it behaves when two values ( a and b have the same value A[1]) Does order matter ?</strong></p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 11196, "user_id": 1079907, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a7c69e39fbec2c781db5f27b40f63023?s=128&d=identicon&r=PG", "display_name": "Sunil Bojanapally", "link": "https://stackoverflow.com/users/1079907/sunil-bojanapally"}, "edited": false, "score": 1, "creation_date": 1421864958, "post_id": 28074239, "comment_id": 44527768, "body": "Yes. Depends on the max size member in it."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1421865148, "post_id": 28074239, "comment_id": 44527863, "body": "Yes, up to alignment."}, {"owner": {"reputation": 2670, "user_id": 346104, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/31duc.jpg?s=128&g=1", "display_name": "franji1", "link": "https://stackoverflow.com/users/346104/franji1"}, "edited": false, "score": 0, "creation_date": 1421866083, "post_id": 28074239, "comment_id": 44528339, "body": "Are you truly defining a union instance or are you mapping a pointer to a struct that contains this union, where the first struct member (m_eAddrType) tells you how to interpret the next member of the struct that is this union (i.e. look at .addr vs. looking at .addrBuff?  I have implemented this &quot;variant record&quot; data-structure using struct that contain a union."}], "answers": [{"comments": [{"owner": {"reputation": 8338, "user_id": 39138, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5b2c32394549cbfe730a2aa0dbc56486?s=128&d=identicon&r=PG", "display_name": "Roland Rabien", "link": "https://stackoverflow.com/users/39138/roland-rabien"}, "edited": false, "score": 4, "creation_date": 1421865081, "post_id": 28074262, "comment_id": 44527829, "body": "There may also be space allocated for padding."}], "owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "is_accepted": true, "score": 8, "last_activity_date": 1421867017, "last_edit_date": 1421867017, "creation_date": 1421864923, "answer_id": 28074262, "question_id": 28074239, "link": "https://stackoverflow.com/questions/28074239/how-much-memory-does-a-union-need/28074262#28074262", "title": "How much memory does a union need", "body": "<blockquote>\n  <p>Does it mean that a union allocates or needs the memory equal to biggest element in the union at definition ?  </p>\n</blockquote>\n\n<p>Yes. Memory for the largest member is allocated. That's why the members of a <code>union</code> are stored at the same location.    </p>\n\n<p>Assuming <code>int</code> requires 4 bytes, for union  </p>\n\n<pre><code>union{\n    char c;\n    int i;\n} U; \n</code></pre>\n\n<p>memory will be allocated as:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZnCQk.png\" alt=\"enter image description here\"></p>\n\n<p>Note that how <code>c</code> and <code>i</code> overlap. In fact <code>c</code> is first byte of <code>i</code>. </p>\n"}, {"owner": {"reputation": 19499, "user_id": 3883560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ndXdL.jpg?s=128&g=1", "display_name": "Gopi", "link": "https://stackoverflow.com/users/3883560/gopi"}, "is_accepted": false, "score": 1, "last_activity_date": 1421865278, "creation_date": 1421865278, "answer_id": 28074343, "question_id": 28074239, "link": "https://stackoverflow.com/questions/28074239/how-much-memory-does-a-union-need/28074343#28074343", "title": "How much memory does a union need", "body": "<p>Memory occupied by union unlike structure will be memory for the largest member of the union. But depending on the implementation there might be extra padding at the end so there is no guarantee that the <code>size of a union = size of the largest member</code>. So you can say size of union will be atleast the size of the largest member in the union.</p>\n\n<p>Side note: Since the memory is shared between all the members of the union only one member is active at a time. </p>\n"}], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 1, "closed_date": 1421865847, "accepted_answer_id": 28074262, "answer_count": 2, "score": 3, "last_activity_date": 1421867017, "creation_date": 1421864855, "question_id": 28074239, "link": "https://stackoverflow.com/questions/28074239/how-much-memory-does-a-union-need", "closed_reason": "Duplicate", "title": "How much memory does a union need", "body": "<p>I have the following union</p>\n\n<pre><code>typedef union rem{\n    int addr;\n    char addrbuf[32];\n} foo;\n</code></pre>\n\n<p>A sizeof on the union provides the following output</p>\n\n<pre><code>foo addr;\nprintf(\"size is: %d\\n\",sizeof addr);\n</code></pre>\n\n<p>size is: 32</p>\n\n<p>Does it mean that a union allocates or needs the memory equal to biggest element in the union at definition ?</p>\n"}, {"tags": ["c++", "image", "opencv", "screenshot"], "comments": [{"owner": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "edited": false, "score": 0, "creation_date": 1421885388, "post_id": 28074234, "comment_id": 44537157, "body": "You may also want to try looking around on <a href=\"http://dsp.stackexchange.com\">dsp.stackexchange.com</a>"}, {"owner": {"reputation": 4857, "user_id": 1872540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FMUNR.png?s=128&g=1", "display_name": "LovaBill", "link": "https://stackoverflow.com/users/1872540/lovabill"}, "edited": false, "score": 0, "creation_date": 1422031801, "post_id": 28074234, "comment_id": 44603526, "body": "&quot;just the recognition&quot; is a &quot;strong&quot; task. you will find out soon."}], "answers": [{"comments": [{"owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 0, "creation_date": 1421924151, "post_id": 28078086, "comment_id": 44551146, "body": "Thanks, Ill give it a try then."}], "owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1421879575, "creation_date": 1421879575, "answer_id": 28078086, "question_id": 28074234, "link": "https://stackoverflow.com/questions/28074234/image-numbers-letters-recognition/28078086#28078086", "title": "Image (Numbers/Letters) recognition", "body": "<p>Definitely use OpenCV. It is not too hard to get into, and once you do you will find it does basically everything you'd want. It makes image processing relatively straightforward and it can solve your problem in a lot of ways.</p>\n\n<p><a href=\"http://blog.damiles.com/2008/11/basic-ocr-in-opencv/\" rel=\"nofollow\">Here</a> is a good place to start.</p>\n"}], "owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 28078086, "answer_count": 1, "score": 2, "last_activity_date": 1422031840, "creation_date": 1421864844, "last_edit_date": 1422031840, "question_id": 28074234, "link": "https://stackoverflow.com/questions/28074234/image-numbers-letters-recognition", "title": "Image (Numbers/Letters) recognition", "body": "<p>I'm learning C++ for half a year now (so programming in general) and this site always had the answers I was looking for. But now I came to the point where I need to ask as I couldn't find anything related to my question.</p>\n\n<p>So I want to write a program that takes a screenshot of a particular area of the screen. This screenshot will ONLY contain playcards (so for example Hearth, Seven). What it should do now is return me which card it is, so the symbol and the number/letter.</p>\n\n<p>I already made some researches and the most mentioned thing was the library \"OpenCV\".</p>\n\n<p>So my question now: First is it even possible with my experience to write something like that?</p>\n\n<p>If so, is this library the way to go? It seems really strong, maybe too strong for just the recognition of numbers/letters and four symbols? So could there be something easier?</p>\n\n<p>And the last question, how could I get a screenshot  of a particular area of the screen and not the whole screen and save it somewhere?</p>\n\n<p>I hope you guys have a clue what I really want to know and it was understandable.</p>\n\n<p>Greetings</p>\n"}, {"tags": ["c++", "c++11", "language-lawyer", "overload-resolution", "list-initialization"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 1, "creation_date": 1421864941, "post_id": 28074071, "comment_id": 44527764, "body": "How does 8.5.1 apply for <code>int t = 1.0;</code>? That&#39;s not aggregate initialization, is it?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1421865058, "post_id": 28074071, "comment_id": 44527815, "body": "It was stated in the post that you linked to that constructors that take an initializer list are strongly favored.  So the compiler picks the initializer list constructor and then tries to convert and since it narrows the compilation fails."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1421865180, "post_id": 28074071, "comment_id": 44527875, "body": "@Columbo Sorry, I didn&#39;t get your point. Also, for <code>8.5.1</code>, I didn&#39;t paste the entire standard quote, but since you mention aggregate initialization, I guess that is clear enough."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1421865231, "post_id": 28074071, "comment_id": 44527897, "body": "@NathanOliver Yes, but &quot;strong preference&quot; is Scott Meyers putting the standard in simple English. I am asking how it follows from the standardese."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1421865327, "post_id": 28074071, "comment_id": 44527956, "body": "@Pradhan I posted an answer to make my point more clear."}], "answers": [{"comments": [{"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1421866724, "post_id": 28074354, "comment_id": 44528655, "body": "Ah ok, that seems to explain it. Going over those parts to ensure I understand. What do you think is the standard specifies it in this seemingly convoluted way? Why not simply ensure that in it isn&#39;t a viable overload? Is it to avoid complicating aggregate initialization? IOW they would have to differentiate between <code>&lt;some pod&gt; = {1, 1.0}</code> and <code>&lt;some init_list&gt; = {1, 1.0}</code>?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 1, "creation_date": 1421866896, "post_id": 28074354, "comment_id": 44528751, "body": "@Pradhan I have no idea tbh. It seems that either we&#39;re missing some corner-cases or the section is defected."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1421871917, "post_id": 28074354, "comment_id": 44531396, "body": "I think it would be strange if the constructor used was dependend on the value of the argument (for conversions from integer to integer type, where the source is a constant expression, for example)."}], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 4, "last_activity_date": 1421865701, "last_edit_date": 1421865701, "creation_date": 1421865311, "answer_id": 28074354, "question_id": 28074071, "link": "https://stackoverflow.com/questions/28074071/why-is-this-initializer-list-constructor-a-viable-overload/28074354#28074354", "title": "Why is this initializer_list constructor a viable overload?", "body": "<p>I believe that the problem in your analysis is the fact that the statement</p>\n\n<pre><code>int t = 1.0;\n</code></pre>\n\n<p>is indeed well-formed - an implicit conversion from <code>double</code> to <code>int</code> obviously exists. [over.ics.list]/4 also describes it:</p>\n\n<blockquote>\n  <p>Otherwise, if the parameter type is <code>std::initializer_list&lt;X&gt;</code> and all\n  the elements of the initializer list can be implicitly converted to\n  <code>X</code>, the implicit conversion sequence is the worst conversion\n  necessary to convert an element of the list to <code>X</code>, or if the\n  initializer list has no elements, the identity conversion.</p>\n</blockquote>\n\n<p>Every element from the initializer list can be implicitly converted to <code>int</code>, thus the constructor is viable and chosen. However, only once it is chosen, the whole thing hard-errors, [dcl.init.list]/(3.6):</p>\n\n<blockquote>\n  <p>The applicable constructors are enumerated and the best one is chosen\n  through overload resolution (13.3, 13.3.1.7). <strong>If a narrowing\n  conversion (see below) is required to convert any of the arguments,\n  the program is ill-formed.</strong></p>\n</blockquote>\n\n<p>As you can see, the constructor to call is determined before the narrowing-check is performed. In other words, <strong>the viability of an initializer-list constructor is not depending on narrowing of any arguments.</strong><br>\nThus the code should be ill-formed.</p>\n\n<p>One way to get the desired behavior is to use a constructor template with SFINAE</p>\n\n<pre><code>template &lt;typename T, typename=std::enable_if_t&lt;std::is_same&lt;int, T&gt;{}&gt;&gt;\nA(std::initializer_list&lt;T&gt;) { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl; }\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/db85f5e7c6a78783\" rel=\"nofollow\"><strong>Demo</strong></a>.</p>\n"}], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 28074354, "answer_count": 1, "score": 2, "last_activity_date": 1421866890, "creation_date": 1421864198, "last_edit_date": 1495542035, "question_id": 28074071, "link": "https://stackoverflow.com/questions/28074071/why-is-this-initializer-list-constructor-a-viable-overload", "title": "Why is this initializer_list constructor a viable overload?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;initializer_list&gt;\n\nclass A\n{\n public:\n  A(int, bool) { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl; }\n  A(int, double) { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl; }\n  A(std::initializer_list&lt;int&gt;) { std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl; }\n};\n\nint main()\n{\n  A a1 = {1, 1.0};\n  return 0;\n}\n</code></pre>\n\n<p>(This question is a follow-up to <a href=\"https://stackoverflow.com/questions/28058371/list-initialization-and-failed-overload-resolution-of-initializer-list-construct\">this</a>.)</p>\n\n<p>The above program fails to compile with <code>clang35 -std=c++11</code></p>\n\n<pre><code>init.cpp:15:14: error: type 'double' cannot be narrowed to 'int' in initializer list [-Wc++11-narrowing]\n  A a1 = {1, 1.0};\n             ^~~\ninit.cpp:15:14: note: insert an explicit cast to silence this issue\n  A a1 = {1, 1.0};\n             ^~~\n             static_cast&lt;int&gt;( )\n</code></pre>\n\n<p>while <code>g++48 -std=c++11</code> chooses a produce a warning to diagnose the ill-formed narrowing</p>\n\n<pre><code>init.cpp: In function \u2018int main()\u2019:\ninit.cpp:15:17: warning: narrowing conversion of \u20181.0e+0\u2019 from \u2018double\u2019 to \u2018int\u2019 inside { } [-Wnarrowing]\n   A a1 = {1, 1.0};\n                 ^\ninit.cpp:15:17: warning: narrowing conversion of \u20181.0e+0\u2019 from \u2018double\u2019 to \u2018int\u2019 inside { } [-Wnarrowing]\n</code></pre>\n\n<p>and produces the result</p>\n\n<pre><code>A::A(std::initializer_list&lt;int&gt;)\n</code></pre>\n\n<p>My question is if <code>A::A(std::initializer_list&lt;int&gt;)</code> should be a viable overload. Below are standard quotes that I think imply that the <code>initializer_list</code> overload should not be viable. </p>\n\n<p>From <code>13.3.2 [over.match.viable]</code></p>\n\n<blockquote>\n  <p>Second, for <code>F</code> to be a viable function, there shall exist for each\n  argument an <em>implicit conversion</em> sequence that converts that argument\n  to the corresponding parameter of <code>F</code>.</p>\n</blockquote>\n\n<p>From <code>4 [conv]</code></p>\n\n<blockquote>\n  <p>An expression <code>e</code> can be <em>implicitly converted</em> to a type <code>T</code> if and\n  only if the declaration <code>T t=e</code>; is well-formed, for some invented\n  temporary variable <code>t</code>.</p>\n</blockquote>\n\n<p>From <code>8.5.1 [dcl.init.aggr]</code></p>\n\n<blockquote>\n  <p>If the <em>initializer-clause</em> is an expression and a narrowing\n  conversion is required to convert the expression, the program is\n  ill-formed.</p>\n</blockquote>\n\n<p>Using <code>8.5.1</code> and <code>4</code>, since the following is not well-formed</p>\n\n<pre><code>std::initializer_list&lt;int&gt; e = {1, 1.0};\n</code></pre>\n\n<p><code>{1, 1.0}</code> is not <em>implicitly convertible</em> to <code>std::initializer_list&lt;int&gt;</code>.</p>\n\n<p>Using the quote from <code>13.3.2</code>, shouldn't it imply that <code>A::A(std::initializer_list&lt;int&gt;)</code> isn't a viable function when doing overload resolution for <code>A a1 = {1, 1.0};</code>? Finding no viable <code>initializer_list</code> constructors, shouldn't this statement pick <code>A::A(int, double)</code>?</p>\n"}, {"tags": ["c++", "qt", "padding", "qtstylesheets"], "answers": [{"comments": [{"owner": {"reputation": 1126, "user_id": 4159832, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VnHic.jpg?s=128&g=1", "display_name": "Efog", "link": "https://stackoverflow.com/users/4159832/efog"}, "edited": false, "score": 0, "creation_date": 1421864734, "post_id": 28074179, "comment_id": 44527675, "body": "Works only when hovered."}], "owner": {"reputation": 3691, "user_id": 4129852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gIrqQ.jpg?s=128&g=1", "display_name": "Iuliu", "link": "https://stackoverflow.com/users/4129852/iuliu"}, "is_accepted": true, "score": 10, "last_activity_date": 1421865070, "last_edit_date": 1421865070, "creation_date": 1421864634, "answer_id": 28074179, "question_id": 28074049, "link": "https://stackoverflow.com/questions/28074049/padding-left-not-working-in-qlistwidget/28074179#28074179", "title": "Padding-left not working in QListWidget", "body": "<p>Try</p>\n\n<pre><code>/* Works for both QListView and QListWidget */\nQListView::item {\n    /* Won't work without borders set */\n    border: 0px;\n\n    padding-left: 10px;\n}\n\n/* For icon only */\nQListView::icon {\n    left: 10px;\n}\n\n/* For text only */\nQListView::text {\n    left: 10px;\n}\n</code></pre>\n\n<p>Unfortunately I don't have an answer to the question <em>why doesn't it work without borders set</em> but ... it works when you do set them.</p>\n"}], "owner": {"reputation": 1126, "user_id": 4159832, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VnHic.jpg?s=128&g=1", "display_name": "Efog", "link": "https://stackoverflow.com/users/4159832/efog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3337, "favorite_count": 0, "accepted_answer_id": 28074179, "answer_count": 1, "score": 2, "last_activity_date": 1421865070, "creation_date": 1421864113, "question_id": 28074049, "link": "https://stackoverflow.com/questions/28074049/padding-left-not-working-in-qlistwidget", "title": "Padding-left not working in QListWidget", "body": "<p>I've created <code>QListWidget</code>:</p>\n\n<pre><code>QListWidget *list = new QListWidget();\nlist-&gt;addItem(\"Item 1\");\nlist-&gt;addItem(\"Item 2\");\nlist-&gt;addItem(\"Item 3\");\n</code></pre>\n\n<p>Then i've applied my stylesheet:</p>\n\n<pre><code>QListWidget::item {\n    padding: 5px;\n}\n\nQListWidget::item:selected {\n    background: qlineargradient(spread:pad, x1:0, y1:0, x2:0, y2:1, stop:0 #369, stop:1 #147);\n    color: white;\n}\n</code></pre>\n\n<p>But <code>padding</code> not working in the left side. So i have that:<br /></p>\n\n<p><img src=\"https://i.stack.imgur.com/CQh48.png\" alt=\"enter image description here\"></p>\n\n<p>So, can i create left padding on QSS, not on C++?<br />\nP.S. I tried to write <code>padding-left: 5px</code>, it is not working too.<br />\nP.P.S. In <code>QListWidget::item:selected</code> that padding is working.</p>\n"}, {"tags": ["c++", "arrays", "sfml"], "comments": [{"owner": {"reputation": 1019, "user_id": 816855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21cdf26bdaf7452f2ace9cd1cb63b0e0?s=128&d=identicon&r=PG", "display_name": "Rosme", "link": "https://stackoverflow.com/users/816855/rosme"}, "edited": false, "score": 4, "creation_date": 1421863969, "post_id": 28074005, "comment_id": 44527291, "body": "Without code, it&#39;s hard to tell the problem."}, {"owner": {"reputation": 53, "user_id": 4479459, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e5e35e88927c718114615261e8d2fd7c?s=128&d=identicon&r=PG&f=1", "display_name": "frendall", "link": "https://stackoverflow.com/users/4479459/frendall"}, "reply_to_user": {"reputation": 1019, "user_id": 816855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21cdf26bdaf7452f2ace9cd1cb63b0e0?s=128&d=identicon&r=PG", "display_name": "Rosme", "link": "https://stackoverflow.com/users/816855/rosme"}, "edited": false, "score": 0, "creation_date": 1421864450, "post_id": 28074005, "comment_id": 44527532, "body": "if im doing this all wrong its because i dont usually use forums, ive edited my question and put the code in there. thanks"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1421864698, "post_id": 28074005, "comment_id": 44527657, "body": "@frendall reading <a href=\"http://stackoverflow.com/help/how-to-ask\">How To Ask</a> should help."}], "answers": [{"owner": {"reputation": 1019, "user_id": 816855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21cdf26bdaf7452f2ace9cd1cb63b0e0?s=128&d=identicon&r=PG", "display_name": "Rosme", "link": "https://stackoverflow.com/users/816855/rosme"}, "is_accepted": true, "score": 1, "last_activity_date": 1421865697, "creation_date": 1421865697, "answer_id": 28074470, "question_id": 28074005, "link": "https://stackoverflow.com/questions/28074005/c-sfml-array5-of-strings-in-for-loop-window-display-only-showing-line-1-3-5/28074470#28074470", "title": "c++ sfml array[5] of strings in for loop window.display, only showing line 1,3,5", "body": "<p>Take the display out of the loop. This should fix the problem.</p>\n"}, {"owner": {"reputation": 2424, "user_id": 1732865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6pYGz.png?s=128&g=1", "display_name": "Conduit", "link": "https://stackoverflow.com/users/1732865/conduit"}, "is_accepted": false, "score": 7, "last_activity_date": 1423105309, "last_edit_date": 1423105309, "creation_date": 1421867784, "answer_id": 28075043, "question_id": 28074005, "link": "https://stackoverflow.com/questions/28074005/c-sfml-array5-of-strings-in-for-loop-window-display-only-showing-line-1-3-5/28075043#28075043", "title": "c++ sfml array[5] of strings in for loop window.display, only showing line 1,3,5", "body": "<p>As stated by Rosme <code>RenderWindow::display</code> should not be called within the loop. Actually,<code>RenderWindow::display</code> should only ever be called once per frame of rendered content... SFML uses <a href=\"http://en.wikipedia.org/wiki/Multiple_buffering#Double_buffering_in_computer_graphics\" rel=\"nofollow\">double buffering</a>, and <code>RenderWindow::display</code> is the command to switch the back buffer. Let's take a moment to discuss how this works:</p>\n\n<p>When you are drawing content in a double buffered system, you actually draw to two separate surfaces (\"buffers\") - at any given time one is hidden (the buffer in which drawing occurs) and one is shown on the screen. The hidden buffer currently used for drawing is called the \"back buffer\". When <code>RenderWindow::display</code> is called (or its equivalent in other double buffered systems) the buffer currently displayed on the screen becomes the new back buffer, and the old back buffer is displayed on the screen. This allows you to make lots of changes with less risk of pop-ins, tearing, or flicker - you never draw to the buffer that is being shown.</p>\n\n<p>With that knowledge, you should understand what was happening as a result of the display calls within the loop:</p>\n\n<pre><code>instruction  |  back buffer  |  front buffer (shown)\n----------------------------------------------------\n             |  (empty)      |  (empty)\ndraw A       |  A            |  (empty)\ndisplay      |  (empty)      |  A\ndraw B       |  B            |  A\ndisplay      |  A            |  B\ndraw C       |  A, C         |  B\ndisplay      |  B            |  A, C\ndraw D       |  B, D         |  A, C\ndisplay      |  A, C         |  B, D\ndraw E       |  A, C, E      |  B, D\ndisplay      |  B, D         |  A, C, E\n</code></pre>\n\n<p>Thus, after the loop completes, you see the first, third, and fifth items drawn. The others are drawn as well, but exist in the back buffer where they can't be seen.</p>\n"}], "owner": {"reputation": 53, "user_id": 4479459, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e5e35e88927c718114615261e8d2fd7c?s=128&d=identicon&r=PG&f=1", "display_name": "frendall", "link": "https://stackoverflow.com/users/4479459/frendall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 28074470, "answer_count": 2, "score": 1, "last_activity_date": 1423105309, "creation_date": 1421863931, "last_edit_date": 1421864349, "question_id": 28074005, "link": "https://stackoverflow.com/questions/28074005/c-sfml-array5-of-strings-in-for-loop-window-display-only-showing-line-1-3-5", "title": "c++ sfml array[5] of strings in for loop window.display, only showing line 1,3,5", "body": "<p>You will have to forgive me if I can't explain myself properly, I am trying to create a highscore table using c++ sfml string array. I tried drawing them separately using <code>window.draw(array[1],array[2]</code> and so on. </p>\n\n<p>But if I put the array in a for loop and use an int variable, it only draws array 1, 3 and 5.</p>\n\n<pre><code>for(cnt = 0;cnt &lt;5;cnt++)\n    {\n        thiswindow.draw(topscores[cnt]);\n        thiswindow.draw(topnames[cnt]);\n        thiswindow.display();\n    }\n</code></pre>\n"}, {"tags": ["c++", "loops", "methods", "do-while", "decrement"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1421863809, "post_id": 28073914, "comment_id": 44527212, "body": "I see three <code>do-while</code> loops. Which is the one you&#39;re having a problem with?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1421863908, "post_id": 28073914, "comment_id": 44527261, "body": "Are you talking about <code>newSpeed = (slowSpeed - 5);</code>? That sets it to the same value each time through the loop, since <code>slowSpeed</code> never changes."}, {"owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 0, "creation_date": 1421863939, "post_id": 28073914, "comment_id": 44527275, "body": "what result do you have, and what result do you expect ? give one set of values you entered in load speed and condition."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1421863941, "post_id": 28073914, "comment_id": 44527277, "body": "Common wrong usage of streams: No test for successful extraction before testing the extracted value (it might be unchanged)"}, {"owner": {"reputation": 39, "user_id": 4271411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574145911/picture?type=large", "display_name": "Paul2357", "link": "https://stackoverflow.com/users/4271411/paul2357"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1421864786, "post_id": 28073914, "comment_id": 44527691, "body": "@Barmar Yes I am talking about that part. The max speed you can enter is 20 so when it decrements it&#39;ll subtract 5 (the amount of braking) to get 15. Not sure if I have to get it to loop for the assignment, but it&#39;s something I wanted to add to &#39;go the extra mile&#39; (plus it helps with my understanding of how things work)."}, {"owner": {"reputation": 39, "user_id": 4271411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574145911/picture?type=large", "display_name": "Paul2357", "link": "https://stackoverflow.com/users/4271411/paul2357"}, "reply_to_user": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 0, "creation_date": 1421884577, "post_id": 28073914, "comment_id": 44536909, "body": "@philippelhardy I&#39;m trying to make the speed value go down by 5 each time a user wants to break within that loop. Problem is, it&#39;s only going to 15 and then only going to 15. I removed the const from the bool methods, so it&#39;s not that"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4271411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574145911/picture?type=large", "display_name": "Paul2357", "link": "https://stackoverflow.com/users/4271411/paul2357"}, "edited": false, "score": 0, "creation_date": 1421882620, "post_id": 28076185, "comment_id": 44536260, "body": "actually that still didn&#39;t work by removing the const. Still only goes to 15 then stops. I think the error is in my loop to utilize the braking method. I&#39;m going to play around with that"}], "owner": {"reputation": 1, "user_id": 4435899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9852f5c1ad721eac8278a93fcf901391?s=128&d=identicon&r=PG&f=1", "display_name": "goInDoor", "link": "https://stackoverflow.com/users/4435899/goindoor"}, "is_accepted": false, "score": 0, "last_activity_date": 1421871940, "creation_date": 1421871940, "answer_id": 28076185, "question_id": 28073914, "link": "https://stackoverflow.com/questions/28073914/issue-decrementing-in-a-do-while-loop/28076185#28076185", "title": "Issue decrementing in a do while loop", "body": "<p>you wrote these </p>\n\n<pre><code>double getLoad() const;\ndouble getSpeed() const;\ndouble getCondition() const; \n</code></pre>\n\n<p>so when you call these in do-while loop , the return values will not change once you have get through before.</p>\n"}, {"owner": {"reputation": 1, "user_id": 4435899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9852f5c1ad721eac8278a93fcf901391?s=128&d=identicon&r=PG&f=1", "display_name": "goInDoor", "link": "https://stackoverflow.com/users/4435899/goindoor"}, "is_accepted": false, "score": 0, "last_activity_date": 1421971692, "last_edit_date": 1421971692, "creation_date": 1421966791, "answer_id": 28100062, "question_id": 28073914, "link": "https://stackoverflow.com/questions/28073914/issue-decrementing-in-a-do-while-loop/28100062#28100062", "title": "Issue decrementing in a do while loop", "body": "<p>you wrote </p>\n\n<pre><code>return slowSpeed;\n</code></pre>\n\n<p>in Gondola.cpp</p>\n\n<pre><code>double Gondola::useBrake(int slowSpeed)\n</code></pre>\n\n<p>You should return speed instead,I think.</p>\n"}], "owner": {"reputation": 39, "user_id": 4271411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574145911/picture?type=large", "display_name": "Paul2357", "link": "https://stackoverflow.com/users/4271411/paul2357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1421971692, "creation_date": 1421863574, "last_edit_date": 1421864081, "question_id": 28073914, "link": "https://stackoverflow.com/questions/28073914/issue-decrementing-in-a-do-while-loop", "title": "Issue decrementing in a do while loop", "body": "<p>I'm having an issue decrementing using a do while loop. Everything is broken up into separate files to keep the class &amp; methods/functions separate (as well as keeping the main clear).</p>\n\n<p>The issue I'm having is that it decrements once, but when it loops back through it goes right back to the same value and decrements to the same result. I know it's probably something stupid I did, but I haven't noticed it yet!</p>\n\n<p><strong>To be specific the error I'm getting is when I call the useBrake method.</strong> </p>\n\n<p>Gondola.h</p>\n\n<pre><code>#ifndef _GONDOLA_CLASS\n#define _GONDOLA_CLASS\n\nclass Gondola\n{\n\nprivate:\n    double load; // load &lt;= 500\n    double speed; // Speed &lt;= 20\n    double condition; // 0-100\n\npublic:\n\n    //Constructors\n    Gondola();\n    Gondola(double ld, double spd, double cnd);\n\n    //Accessor methods (getters)\n    double getLoad() const;\n    double getSpeed() const;\n    double getCondition() const;\n\n    //Mutator Methods methods (setters)\n    bool setLoad(double ld);\n    bool setSpeed(double spd);\n    bool setCondition(double cnd);\n\n    //Other Methods\n    double useBrake(int slowSpeed);\n\n};\n\n#endif\n</code></pre>\n\n<p>Gondola.cpp</p>\n\n<pre><code>//Accessor and mutator methods\n#include &lt;iostream&gt;\n#include \"Gondola.h\"\n\nusing namespace std;\n\n//Constructors\n\nGondola::Gondola()\n{\n    load = 0;\n    speed = 0;\n    condition = 100;\n}\n\nGondola::Gondola(double ld, double spd, double condit)\n{\n    if(!setLoad(ld))\n    {\n        load = 500;\n    }\n\n    if(!setSpeed(spd))\n    {\n        speed = 20;\n    }\n\n    if(!setCondition(condit))\n    {\n        condition = 100;\n    }\n\n}\n\n//Accessor Methods\n\ndouble Gondola::getLoad() const\n{\n    return load;\n}\n\ndouble Gondola::getSpeed() const\n{\n    return speed;\n}\n\ndouble Gondola::getCondition() const\n{\n    return condition;\n}\n\n//Mutator Methods\n\nbool Gondola::setLoad(double ld)\n{\n    bool validLoad = (ld &gt; 0) &amp;&amp; (ld &lt;= 500);\n    if(validLoad)\n    {\n        load = ld;\n    }\n\n    return validLoad;\n}\n\nbool Gondola::setSpeed(double spd)\n{\n    bool validSpeed = (spd &gt; 0) &amp;&amp; (spd &lt;= 20);\n    if(validSpeed)\n    {\n        speed = spd;\n    }\n\n    return validSpeed;\n}\n\n\nbool Gondola::setCondition(double cnd)\n{\n    bool validCondition = (cnd &gt; 0) &amp;&amp; (cnd &lt;= 100);\n    if(validCondition)\n    {\n        condition = cnd;\n    }\n\n    return validCondition;\n}\n\n//Other Functions\n\ndouble Gondola::useBrake(int slowSpeed)\n{\n    char userResponse = ' ';\n    bool validInput = false;\n    int newSpeed = 0;\n\n    do\n    {\n        cout &lt;&lt; \"Do you want to use the brake?\" &lt;&lt; endl;\n        cout &lt;&lt; \"Enter y for 'yes' or n for 'no'\" &lt;&lt; endl;\n        cin &gt;&gt; userResponse;\n        validInput = (userResponse == 'y') || (userResponse == 'n');\n\n        if(!validInput)\n        {\n            cout &lt;&lt; \"Invalid response. Please try again!\" &lt;&lt; endl;\n        }\n\n        if(userResponse == 'y')\n        {\n            newSpeed = (slowSpeed - 5);\n            speed = newSpeed;\n        }\n    }while(!validInput);\n\n    return slowSpeed;\n}\n\nbool continueBraking()                                                   // Asks the user if they want to continue. If yes, the braking loop continues. If no, the program continues\n{\n\n    char userResponse = ' ';\n    bool validInput = false;\n\n    do\n    {\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"Do you wish to continue braking?\" &lt;&lt; endl;\n        cout &lt;&lt; \"Enter y for 'yes' or n for 'no'\" &lt;&lt; endl;\n        cin &gt;&gt; userResponse;\n        validInput = (userResponse == 'y') || (userResponse == 'n');\n        if (!validInput)\n        {\n            cout &lt;&lt; \"Invalid response. Please try again!\" &lt;&lt; endl;\n        }\n    } while (!validInput);\n    return(userResponse == 'y');\n}\n\nbool askToContinue()                                                         // Asks the user if they want to continue. If yes, the loop restarts. If no, the program exits.\n{\n\n    char userResponse = ' ';\n    bool validInput = false;\n\n    do\n    {\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"Do you wish to continue?\" &lt;&lt; endl;\n        cout &lt;&lt; \"Enter y for 'yes' or n for 'no'\" &lt;&lt; endl;\n        cin &gt;&gt; userResponse;\n        validInput = (userResponse == 'y') || (userResponse == 'n');\n        if (!validInput)\n        {\n            cout &lt;&lt; \"Invalid response. Please try again!\" &lt;&lt; endl;\n        }\n    } while (!validInput);\n    return(userResponse == 'y');\n}\n</code></pre>\n\n<p>Main.cpp</p>\n\n<pre><code>/*\n\n    Paul Christopher\n    Skill 2.2\n    Description: Program creates gondola object and then the user\n                 enters in the load, speed, and condition. The program\n                 also has methods to dump and use the brake to slow \n                 the speed of the gondola by 5 kph.\n\n*/\n\n//main program code\n\n#include &lt;iostream&gt;\n#include \"Gondola.h\"\n\nusing namespace std;\n\n\nbool continueBraking();\nbool askToContinue();\n\n\nint main()\n{\n\n    //Variables\n    double gondolaLoad = 0.0;\n    double gondolaSpeed = 0.0;\n    double gondolaCondition = 0.0;\n\n    do\n    {\n        //Object Declaration\n        Gondola gondola;\n\n        //Change variables\n        cout &lt;&lt; \"Enter a load size for this gondola (1-500): \" &lt;&lt; endl;\n        cin &gt;&gt; gondolaLoad;\n        gondola.setLoad(gondolaLoad);\n\n        cout &lt;&lt; \"Enter a speed for this gondola (&lt;=20): \" &lt;&lt; endl;\n        cin &gt;&gt; gondolaSpeed;\n        gondola.setSpeed(gondolaSpeed);\n\n        cout &lt;&lt; \"Enter a condition for this gondola (1-100): \" &lt;&lt; endl;\n        cin &gt;&gt; gondolaCondition;\n        gondola.setCondition(gondolaCondition);\n\n        //New Output\n        cout &lt;&lt; \"Gondola's new load, speed, and condition: \" &lt;&lt; endl; \n        cout &lt;&lt; gondola.getLoad() &lt;&lt; endl;\n        cout &lt;&lt; gondola.getSpeed() &lt;&lt; endl;\n        cout &lt;&lt; gondola.getCondition() &lt;&lt; endl;\n\n        do\n        {\n            gondola.useBrake(gondolaSpeed);\n            cout &lt;&lt; \"Gondola's new speed: \" &lt;&lt; gondola.getSpeed() &lt;&lt; endl;\n\n        }while(continueBraking());\n\n        cout &lt;&lt; \"Gondola's new speed: \" &lt;&lt; gondola.getSpeed() &lt;&lt; endl;\n\n    }while(askToContinue());\n\n    system(\"PAUSE\");\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "lapack", "blas", "armadillo"], "owner": {"reputation": 73, "user_id": 1382383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ab8ba8c1cf5d506b63b029e77531c7?s=128&d=identicon&r=PG", "display_name": "Jas", "link": "https://stackoverflow.com/users/1382383/jas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1549, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1421863461, "creation_date": 1421863461, "question_id": 28073876, "link": "https://stackoverflow.com/questions/28073876/qtcreator-c-linking-issue-with-armadillo-lapack-blas", "title": "QtCreator C++ Linking Issue with Armadillo/Lapack/Blas", "body": "<p><br>\nProgramming newbie here so please bear with me!<br><br>\nI am investigating using Armadillo (with Lapack and Blas or OpenBlas) in a custom C++ Qt GUI project to do some rather heavy matrix arithmetic and manipulations and am having a few issues that reading prior posts on stackoverflow hasn't helped with yet.<br><br>\nSetup:<br>\n- Windows x64 build of Qt 5.3.2 using MingW 4.9.1 obtained from this website (<a href=\"http://sourceforge.net/projects/qtx64/\" rel=\"nofollow\">http://sourceforge.net/projects/qtx64/</a>)<br>\n- QtCreator 3.3.0<br>\n- Armadillo 4.600.3 package from (<a href=\"http://arma.sourceforge.net/download.html\" rel=\"nofollow\">http://arma.sourceforge.net/download.html</a>) with the included Lapack and Blas x64 dlls and libs in the extracted example folder.\n- The dlls and libs mentioned above are the pre-compiled x64 files available in the Armadillo package.  I have NOT recompiled Lapack or Blas, etc.</p>\n\n<p>Issue:<br>\n - When attempting to run a subset of the included Armadillo example, a seg fault is thrown when attempting to compute the determinant (B = det(A)).  Below is the .cpp and .pro files that I am using.  I will also include the \"Compile Output\" results from QtCreator which shows the output from compiling in debug mode, the g++ command, etc.<br>\n - The \"include\" folder referenced below has the armadillo file and the armadillo_bits subfolder.<br>\n - The \"dependencies\" folder has the .dll and .lib x64 files for Lapack and Blas included with Armadillo.<br>\n - I know from reading here that Lapack should be passed to g++ prior to Blas.  This should be the case.<br>\n - The \"config.hpp\" Armadillo file has the following lines ENABLED (or NOT commented out).  All other entries are commented out:<br></p>\n\n<pre><code>#define ARMA_USE_LAPACK\n#define ARMA_USE_BLAS\n#define ARMA_BLAS_UNDERSCORE\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;armadillo&gt;\n\nusing namespace std;\nusing namespace arma;\n\nint main()\n{\n    cout &lt;&lt; \"Armadillo version: \" &lt;&lt; arma_version::as_string() &lt;&lt; endl;\n\n    mat A(2,3);  // directly specify the matrix size (elements are uninitialised)\n\n    cout &lt;&lt; \"A.n_rows: \" &lt;&lt; A.n_rows &lt;&lt; endl;  // .n_rows and .n_cols are read only\n    cout &lt;&lt; \"A.n_cols: \" &lt;&lt; A.n_cols &lt;&lt; endl;\n\n    A(1,2) = 456.0;  // directly access an element (indexing starts at 0)\n    A.print(\"A:\");\n\n    A.resize(2,2);\n    A.fill(97.0);\n    A.print(\"A:\");\n\n    mat B;\n    B = det(A); // throws seg fault here\n\n    return 0;\n}\n</code></pre>\n\n<p>arma_test_21jan2015.pro</p>\n\n<pre><code>TEMPLATE = app\nCONFIG += console\nCONFIG -= app_bundle\nCONFIG -= qt\n\nINCLUDEPATH += \"c:/qt/armadillo/include\"\nDEPENDPATH += \"c:/qt/armadillo/dependencies\"\n\nLIBS += -L\"c:/qt/armadillo/dependencies/\" -llapack_win64_MT\nLIBS += -L\"c:/qt/armadillo/dependencies/\" -lblas_win64_MT\n\nSOURCES += main.cpp\n\ninclude(deployment.pri)\nqtcAddDeployment()\n</code></pre>\n\n<p>Compile Window Output</p>\n\n<pre><code>11:42:01: Running steps for project arma_test_21jan2015...\n11:42:01: Configuration unchanged, skipping qmake step.\n11:42:01: Starting: \"C:\\Qt\\qt-5.3.2-x64-mingw491r1-seh\\mingw64\\bin\\mingw32-make.exe\" \nC:/Qt/qt-5.3.2-x64-mingw491r1-seh/mingw64/bin/mingw32-make -f Makefile.Debug\nmingw32-make[1]: Entering directory 'C:/Qt/projects/arma_test_21jan2015'\ng++ -c -pipe -fno-keep-inline-dllexport -g -frtti -Wall -Wextra -fexceptions -mthreads -DUNICODE -I. -I\"..\\..\\..\\qt\\armadillo\\include\" -I\"..\\..\\qt-5.3.2-x64-mingw491r1-seh\\qt-5.3.2-x64-mingw491r1-seh\\mkspecs\\win32-g++\" -o debug\\main.o main.cpp\ng++ -Wl,-subsystem,console -mthreads -o debug\\arma_test_21jan2015.exe debug/main.o  -Lc:/qt/armadillo/dependencies/ -llapack_win64_MT -lblas_win64_MT \nmingw32-make[1]: Leaving directory 'C:/Qt/projects/arma_test_21jan2015'\n11:42:04: The process \"C:\\Qt\\qt-5.3.2-x64-mingw491r1-seh\\mingw64\\bin\\mingw32-make.exe\" exited normally.\n11:42:04: Elapsed time: 00:03.\n</code></pre>\n\n<p>I honestly have no clue how to solve this issue.  Maybe it is my newness to this that is causing me to miss something fundamental and obvious.  I've seen some references to adding PRE_TARGETDEPS to the QtCreator project file but am unsure if I point to the .lib files or something else.<br><br>\nWould anybody out there be able to take a look at this and offer some insights?<br>\nThanks</p>\n"}, {"tags": ["c++", "boost-spirit", "boost-spirit-qi"], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 1003423, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d62d7d69d0e0051c81c0b22ff0c26934?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1003423/mark"}, "edited": false, "score": 0, "creation_date": 1421950667, "post_id": 28076143, "comment_id": 44567617, "body": "I did not see your answer before. Thanks for that. In the meantime I updated my question and proposed a different solution. Because your solution is quite different I would like to ask what is the advantage of your solution or what is the disadvantage of mine ? Thanks."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 519, "user_id": 1003423, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d62d7d69d0e0051c81c0b22ff0c26934?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1003423/mark"}, "edited": false, "score": 2, "creation_date": 1421965511, "post_id": 28076143, "comment_id": 44575257, "body": "Erm. What? You just told me I wasted my time answering this, and now you ask me to waste more time analyzing your own code to see what is the difference? (a) I have a hard time believing you can&#39;t do that yourself since you are clearly capable of solving the more advanced tasks with Spirit (b) I have no clue why you apparently don&#39;t know what the difference is, yet assume that my solution must be better? Maybe my code doesn&#39;t have an advantage. In short: None of this makes sense."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 519, "user_id": 1003423, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d62d7d69d0e0051c81c0b22ff0c26934?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1003423/mark"}, "edited": false, "score": 0, "creation_date": 1421965793, "post_id": 28076143, "comment_id": 44575379, "body": "On topic: It looks like your solution is essentially the same. I see three main benefits: <b>A.</b> my code uses a iterator which (a1.) makes the semantic action more succinct (a2.) make the code slightly more generic (it still works for any output iterator), <b>B.</b> it uses a local which makes it easier to compose (try doing <a href=\"http://coliru.stacked-crooked.com/a/9afd160f658f8e29\" rel=\"nofollow noreferrer\"><b><code>qi::phrase_parse(f, l, rule % &#39;;&#39;, qi::space, dst)</code></b></a> e.g.) <b>C.</b> <i>(subjective:)</i> might be slightly more readable, perhaps because it favours using static plumbing over using extraneous moving parts (<code>i</code> and <code>dst</code>)"}], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 0, "last_activity_date": 1421871748, "creation_date": 1421871748, "answer_id": 28076143, "question_id": 28073725, "link": "https://stackoverflow.com/questions/28073725/128-bit-string-to-array-using-boostspirit/28076143#28076143", "title": "128 bit string to array using boost::spirit::*", "body": "<p>There's  a sad combination of factors that lead to this being a painful edge case</p>\n\n<ul>\n<li>Boost Fusion can adapt <code>(boost::)array&lt;&gt;</code> but it it requires the parser to result in a tuple of elements, not a container</li>\n<li><p>Boost Fusion can adapt these sequences, but need to be configure to allow 16 elements:</p>\n\n<pre><code>#define FUSION_MAX_VECTOR_SIZE 16\n</code></pre></li>\n<li><p>Even when you do, the <code>qi::repeat(n)[]</code> parser directive expects the attribute to be a container type.</p></li>\n</ul>\n\n<p>You might work around all this in an ugly way (e.g. <a href=\"http://coliru.stacked-crooked.com/a/353b8c9c153611b2\" rel=\"nofollow\">Live On Coliru</a>). This makes everything hard to work with down the road.</p>\n\n<p>I'd prefer a tiny semantic action here to make the result being assigned from <code>qi::repeat(n)[]</code>:</p>\n\n<pre><code>    using data_t = boost::array&lt;uint8_t, 16&gt;;\n    data_t dst {};\n\n        qi::rule&lt;It, data_t(), qi::locals&lt;data_t::iterator&gt; &gt; rule = \n            qi::eps [ qi::_a = phx::begin(qi::_val) ]\n            &gt;&gt; qi::repeat(16) [\n                    uint8_hex [ *qi::_a++ = qi::_1 ]\n            ];\n</code></pre>\n\n<p>This works without too much noise. The idea is to take the start iterator and write to the next element each iteraton.</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/c810e0edec44eb79\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/spirit/include/qi.hpp&gt;\n#include &lt;boost/spirit/include/phoenix.hpp&gt;\n\nnamespace qi  = boost::spirit::qi;\nnamespace phx = boost::phoenix;\n\nint main() {\n    using It = std::string::const_iterator;\n    qi::int_parser&lt;uint8_t, 16, 2, 2&gt; uint8_hex;\n\n    std::string const src(\"00112233445566778899aabbccddeeff\");\n    auto f(src.begin()), l(src.end());\n\n    using data_t = boost::array&lt;uint8_t, 16&gt;;\n    data_t dst {};\n\n        qi::rule&lt;It, data_t(), qi::locals&lt;data_t::iterator&gt; &gt; rule = \n            qi::eps [ qi::_a = phx::begin(qi::_val) ]\n            &gt;&gt; qi::repeat(16) [\n                    uint8_hex [ *qi::_a++ = qi::_1 ]\n            ];\n\n    bool r = qi::parse(f, l, rule, dst);\n\n    if (r) {\n        std::cout &lt;&lt; \"Parse succeeded\\n\";\n\n        for(unsigned i : dst) std::cout &lt;&lt; std::hex &lt;&lt; std::showbase &lt;&lt; i &lt;&lt; \" \";\n        std::cout &lt;&lt; \"\\n\";\n    } else {\n        std::cout &lt;&lt; \"Parse failed at '\" &lt;&lt; std::string(f,l) &lt;&lt; \"'\\n\";\n    }\n}\n</code></pre>\n"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 2, "last_activity_date": 1421872224, "creation_date": 1421872224, "answer_id": 28076256, "question_id": 28073725, "link": "https://stackoverflow.com/questions/28073725/128-bit-string-to-array-using-boostspirit/28076256#28076256", "title": "128 bit string to array using boost::spirit::*", "body": "<p>Not literally staying with the question, if you really wanted just to parse the hexadecimal representation of a 128 bit integer, you can do so portably by using <code>uint128_t</code> defined in Boost Multiprecision:</p>\n\n<pre><code>qi::int_parser&lt;uint128_t, 16, 16, 16&gt; uint128_hex;\n\nuint128_t parsed;\nbool r = qi::parse(f, l, uint128_hex, parsed);\n</code></pre>\n\n<p>This is bound to be the quickest way especially on platforms where 128bit types are supported in the instruction set.</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/653b7932449248df\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/multiprecision/cpp_int.hpp&gt;\n#include &lt;boost/spirit/include/qi.hpp&gt;\n\nnamespace qi  = boost::spirit::qi;\n\nint main() {\n    using boost::multiprecision::uint128_t;\n    using It = std::string::const_iterator;\n    qi::int_parser&lt;uint128_t, 16, 16, 16&gt; uint128_hex;\n\n    std::string const src(\"00112233445566778899aabbccddeeff\");\n    auto f(src.begin()), l(src.end());\n\n    uint128_t parsed;\n    bool r = qi::parse(f, l, uint128_hex, parsed);\n\n    if (r) std::cout &lt;&lt; \"Parse succeeded: \" &lt;&lt; std::hex &lt;&lt; std::showbase &lt;&lt; parsed &lt;&lt; \"\\n\";\n    else   std::cout &lt;&lt; \"Parse failed at '\" &lt;&lt; std::string(f,l) &lt;&lt; \"'\\n\";\n\n}\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 1003423, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d62d7d69d0e0051c81c0b22ff0c26934?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1003423/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1421950445, "creation_date": 1421862851, "last_edit_date": 1421950445, "question_id": 28073725, "link": "https://stackoverflow.com/questions/28073725/128-bit-string-to-array-using-boostspirit", "title": "128 bit string to array using boost::spirit::*", "body": "<p>I am currently starting with boost::spirit::*. I try to parse a 128 bit string into a simple c array with corresponding size. I created a short test which does the job:</p>\n\n<pre><code>    boost::spirit::qi::int_parser&lt; boost::uint8_t, 16, 2, 2 &gt; uint8_hex;\n    std::string src( \"00112233445566778899aabbccddeeff\" );\n    boost::uint8_t dst[ 16 ];\n\n    bool r;\n    for( std::size_t i = 0; i &lt; 16; ++i )\n    {\n        r = boost::spirit::qi::parse( src.begin( ) + 2 * i, src.begin( ) + 2 * i + 2, uint8_hex, dst[ i ] );\n    }\n</code></pre>\n\n<p>I have the feeling that this is not the smartest way to do it :) Any ideas how to define a rule so I can avoid the loop ?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>In the meantime I figured out the following code which does the job very well:</p>\n\n<pre><code>    using namespace boost::spirit;\n    using namespace boost::phoenix;\n\n    qi::int_parser&lt; boost::uint8_t, 16, 2, 2 &gt; uint8_hex;\n\n    std::string src( \"00112233445566778899aabbccddeeff\" );\n\n    boost::uint8_t dst[ 16 ];\n    std::size_t i = 0;\n\n    bool r = qi::parse( src.begin( ),\n                        src.end( ),\n                        qi::repeat( 16 )[ uint8_hex[ ref( dst )[ ref( i )++ ] = qi::_1 ] ] );\n</code></pre>\n"}, {"tags": ["python", "c++", "numpy", "swig", "boost-python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1421862700, "post_id": 28073651, "comment_id": 44526628, "body": "You might use a pipeline: en.wikipedia.org/wiki/Pipeline_(Unix)"}], "answers": [{"owner": {"reputation": 3913, "user_id": 235548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo2fI.jpg?s=128&g=1", "display_name": "maxy", "link": "https://stackoverflow.com/users/235548/maxy"}, "is_accepted": true, "score": 0, "last_activity_date": 1421866666, "last_edit_date": 1421866666, "creation_date": 1421866275, "answer_id": 28074623, "question_id": 28073651, "link": "https://stackoverflow.com/questions/28073651/link-c-program-output-with-python-script/28074623#28074623", "title": "Link C++ program output with Python script", "body": "<p>I assume you have been saving ascii. You could modify your C++ code to write binary instead, and read it with <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.fromfile.html\" rel=\"nofollow\">numpy.fromfile</a>.</p>\n\n<p>For a more direct connection, you would wrap your C++ code as a library (remove main() and drive it from Python) using swig. This allows you to share the memory of arrays between C++ and Python. </p>\n\n<p>You can use either Python's <a href=\"https://docs.python.org/3/c-api/buffer.html\" rel=\"nofollow\">buffer protocol</a>  on the C++ side together with <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.frombuffer.html\" rel=\"nofollow\">numpy.frombuffer</a> on the Python side. Or you can use the <a href=\"http://docs.scipy.org/doc/numpy/reference/c-api.array.html\" rel=\"nofollow\">numpy headers</a> to directly work on numpy arrays in C++. Here is a small <a href=\"https://github.com/martinxyz/python/tree/master/realistic\" rel=\"nofollow\">swig example project</a> using the second method. (Disclaimer: I wrote it.)</p>\n"}], "owner": {"reputation": 175, "user_id": 1830108, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a41b42b6217869c7f6c41e3790989b34?s=128&d=identicon&r=PG", "display_name": "user1830108", "link": "https://stackoverflow.com/users/1830108/user1830108"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 28074623, "answer_count": 1, "score": 0, "last_activity_date": 1431703445, "creation_date": 1421862569, "last_edit_date": 1431703445, "question_id": 28073651, "link": "https://stackoverflow.com/questions/28073651/link-c-program-output-with-python-script", "title": "Link C++ program output with Python script", "body": "<p>I have a C++ program that uses some very specific method to calculate pairwise distances for a data set (30,000 elements). The output file would be 20 GB, and look something like this:</p>\n\n<pre>\npoint1, point2, distancex\npointi, pointj, distancexx\n.....\n</pre>\n\n<p>I then input the file to Python and use Python (NumPy) for clustering. It takes forever using Python to read the output file. Is there a way to connect the C++ program directly with my Python code to save time on I/O on the intermediate file? Maybe using SWIG?</p>\n"}, {"tags": ["c++", "r", "gdb", "rcpp"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1421870033, "post_id": 28073624, "comment_id": 44530448, "body": "It&#39;s a bit of a wart. We don&#39;t have native print member functions.  With Armadillo types you can. See <a href=\"http://stackoverflow.com/questions/15163261/debugging-c-programs-with-gdb\">this SO question</a> for some background."}, {"owner": {"reputation": 6913, "user_id": 4468078, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BriNN.png?s=128&g=1", "display_name": "R Yoda", "link": "https://stackoverflow.com/users/4468078/r-yoda"}, "edited": false, "score": 0, "creation_date": 1572727460, "post_id": 28073624, "comment_id": 103651524, "body": "A question with a similar problem is here: <a href=\"https://stackoverflow.com/q/58652434\">stackoverflow.com/q/58652434</a>"}], "owner": {"reputation": 61, "user_id": 4479399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e599a7fb1bfcfd24c8c2959116c202?s=128&d=identicon&r=PG&f=1", "display_name": "gtcuser", "link": "https://stackoverflow.com/users/4479399/gtcuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1421866850, "creation_date": 1421862467, "last_edit_date": 1421866850, "question_id": 28073624, "link": "https://stackoverflow.com/questions/28073624/displaying-elements-of-rcppnumericmatrix-from-gdb", "title": "Displaying Elements of Rcpp::NumericMatrix From gdb", "body": "<p>I am trying to use gdb to debug a simple C++ subroutine that uses Rcpp features. I build my subroutine foo.cpp using the options -O0 -g. I start R using R -d gdb\nI load the subroutine using dyn.load(\"foo.so\"), and I call the subroutine with .Call(\"foo\",X). There are no problems. When I enter the subroutine in gdb, I can print standard C++ types, e.g, \"print i\" where i is an int. However, I cannot print the elements of an Rcpp::NumericMatrix xout. I have tried</p>\n\n<p>print xout(1,1)</p>\n\n<p>as well as </p>\n\n<p>print R_PV(xout(1,1))</p>\n\n<p>Does anyone know how to do this?</p>\n\n<p>My C++ code is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Rcpp.h&gt;\n\nRcppExport SEXP foo(SEXP x){\n    using namespace Rcpp;\n    NumericMatrix xin = NumericMatrix(x);\n    int nrow = xin.nrow();\n    int ncol = xin.ncol();\n    NumericMatrix xout(nrow, ncol);\n    for(int j = 0; j&lt;ncol; j++) {\n      xout(0,j) = xin(0,j);\n      for (int i=1; i&lt;nrow; i++) {\n          if (ISNA(xin(i,j)))\n           xout(i,j) = xout(i-1,j);\n          else\n           xout(i,j) = xin(i,j);\n      }\n    }\n\n    return(xout);\n}\n</code></pre>\n\n<p>From the command line, I run:</p>\n\n<pre><code>R CMD SHLIB foo.cpp\n</code></pre>\n\n<p>Then I start R using </p>\n\n<pre><code>R -d gdb\n</code></pre>\n\n<p>I add a breakpoint at foo</p>\n\n<pre><code>b foo\n</code></pre>\n\n<p>Then I start R:</p>\n\n<pre><code>R\n</code></pre>\n\n<p>In R, I type</p>\n\n<pre><code>dyn.load(\"foo.so\")\nX =matrix(rnorm(9),3)\n.Call(\"foo\",X)\n</code></pre>\n\n<p>From the gdb command line I type</p>\n\n<p><code>print xin</code></p>\n\n<p>and get:</p>\n\n<pre><code>$1 = {&lt;Rcpp::Vector&lt;14&gt;&gt; = {&lt;Rcpp::RObject&gt; = {_vptr.RObject = 0x7fff8df4b410, \n      m_sexp = 0x2567f20}, &lt;Rcpp::VectorBase&lt;14, true, Rcpp::Vector&lt;14&gt; &gt;&gt; = {&lt;Rcpp::traits::expands_to_logical__impl&lt;14&gt;&gt; = {&lt;No data fields&gt;}, &lt;No data fields&gt;}, &lt;Rcpp::internal::eval_methods&lt;14&gt;&gt; = {&lt;No data fields&gt;}, cache = {\n      start = 0x31e03c39b0}}, &lt;Rcpp::MatrixBase&lt;14, true, Rcpp::Matrix&lt;14&gt; &gt;&gt; = {&lt;Rcpp::traits::expands_to_logical__impl&lt;14&gt;&gt; = {&lt;No data fields&gt;}, &lt;No data fields&gt;}, nrows = -537925942}\n</code></pre>\n\n<p>I would like to be able to access xin(1,1) from gdb, e.g.,</p>\n\n<p>print xin(1,1)</p>\n"}, {"tags": ["c#", "c++", "marshalling", "com-interop", "variant"], "comments": [{"owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "edited": false, "score": 0, "creation_date": 1421862714, "post_id": 28073585, "comment_id": 44526639, "body": "Is the C++ code use C# DLL as a COM component? or you&#39;re writing C++/CLI?"}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "reply_to_user": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "edited": false, "score": 0, "creation_date": 1421862786, "post_id": 28073585, "comment_id": 44526670, "body": "@Matt: First option."}], "answers": [{"comments": [{"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1421877860, "post_id": 28076698, "comment_id": 44534311, "body": "But I&#39;m not passing a <code>BSTR</code> to the C# method. I am passing <code>BSTR*</code>, into which the C# method should write the address of a newly-allocated <code>BSTR</code>. So I cannot use <code>VT_BSTR</code> for that purpose."}, {"owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1421878419, "post_id": 28076698, "comment_id": 44534563, "body": "but you&#39;re passing Intptr out, it becomes void** ."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1421878561, "post_id": 28076698, "comment_id": 44534630, "body": "On the C# side, I&#39;m expecting <code>out IntPtr</code> (unless you have a better suggestion). What <code>VT</code> should I use on the C++ side when I invoke this method?"}, {"owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1421878627, "post_id": 28076698, "comment_id": 44534660, "body": "why you want pass BSTR type for C# to COM?"}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1421878720, "post_id": 28076698, "comment_id": 44534697, "body": "I need the C# method to allocate some string with information and return it to me. That&#39;s why I want to pass a <b><code>BSTR*</code></b> to it. By the way, that link you mention on your second bullet indicates that the corresponding C# type for <code>BSTR*</code> is <code>System.String</code>. That&#39;s good, I like it. But I assume that I should declare <code>out String</code> in the C# method, right? And perhaps I should use <code>VT_BSTR | VT_BYREF</code>? It&#39;s a shame that the table in the link doesn&#39;t have a <code>VT</code> column."}], "owner": {"reputation": 5747, "user_id": 631599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fc6b2cf893347e70c0a965f39a67209?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/631599/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1421873981, "creation_date": 1421873981, "answer_id": 28076698, "question_id": 28073585, "link": "https://stackoverflow.com/questions/28073585/return-a-string-from-a-c-method-to-a-c-function-in-an-output-argument/28076698#28076698", "title": "Return a string from a C# method to a C++ function in an output argument", "body": "<p>You're using <a href=\"https://msdn.microsoft.com/en-us/library/f07c8z1c(v=vs.110).aspx\" rel=\"nofollow\">COM Callable Wrapper</a>, for your questions:</p>\n\n<ol>\n<li><p>C# <code>out IntPtr</code> is mapped to <code>void**</code> in <a href=\"https://msdn.microsoft.com/en-us/library/sak564ww(v=vs.100).aspx\" rel=\"nofollow\">COM data types</a>.</p></li>\n<li><p>By default, the C# string type is marshaled as BSTR type in COM, please check <a href=\"https://msdn.microsoft.com/en-us/library/s9ts558h(v=vs.100).aspx\" rel=\"nofollow\">Default Marshaling for Strings</a>, so you can just use string in C#</p></li>\n<li>The variant type for BSTR is VT_BSTR, but if you're only dealing with strings, you could just BSTR, you don't need to use variant types.</li>\n</ol>\n"}], "owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421873981, "creation_date": 1421862312, "question_id": 28073585, "link": "https://stackoverflow.com/questions/28073585/return-a-string-from-a-c-method-to-a-c-function-in-an-output-argument", "title": "Return a string from a C# method to a C++ function in an output argument", "body": "<p>I am invoking a C# method from a C++ function.</p>\n\n<p>The C# method should do the following:</p>\n\n<ul>\n<li>Allocate a <code>BSTR</code> and return it to the C++ function in an output argument</li>\n<li>Return an <code>HRESULT</code> to the C++ function through the stack (by return-value)</li>\n</ul>\n\n<hr>\n\n<p>I have implemented the C# method as follows:</p>\n\n<pre><code>int Method(out IntPtr output)\n{\n    int status = 0;\n    ...\n    output = Marshal.StringToBSTR(someString);\n    ...\n    return status;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Questions:</strong></p>\n\n<ul>\n<li>What variant-type should I use in C++, which corresponds the <code>out IntPtr</code> type in C#?</li>\n<li>Is there some other type in C# that I should use instead, in order to return the <code>BSTR</code>?</li>\n<li>If yes, then what C# type is it, and what is the corresponding C++ variant-type?</li>\n</ul>\n\n<p>I have tried several variant types listed <a href=\"https://msdn.microsoft.com/en-us/library/aa908601.aspx\" rel=\"nofollow\">here</a>, but none of them seemed to work.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1421861729, "post_id": 28073337, "comment_id": 44526127, "body": "There is nothing wrong with the format. It is printing out exactly what you ask it to print out? Have you tried to change how it is formatted?"}, {"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "edited": false, "score": 1, "creation_date": 1421861767, "post_id": 28073337, "comment_id": 44526153, "body": "What pattern did you use to change line 2, from  <i>c 18 6 endah regal</i> to <i>c 18 6</i> ? They will always be a set of 6 lines ?"}, {"owner": {"reputation": 29, "user_id": 4464910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065ac462354d91265b943b1d7aa657c5?s=128&d=identicon&r=PG&f=1", "display_name": "Neophyte Polyhistor", "link": "https://stackoverflow.com/users/4464910/neophyte-polyhistor"}, "edited": false, "score": 0, "creation_date": 1421861807, "post_id": 28073337, "comment_id": 44526166, "body": "I know it prints out everything in the file, how can I add those username,name,pass,adress,etc behind these data&#39;s ?"}, {"owner": {"reputation": 4575, "user_id": 746569, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7816351c392c2da71dc1019017b8dde?s=128&d=identicon&r=PG", "display_name": "MichaelCMS", "link": "https://stackoverflow.com/users/746569/michaelcms"}, "edited": false, "score": 2, "creation_date": 1421861822, "post_id": 28073337, "comment_id": 44526173, "body": "aren&#39;t you just outputting what you are reading from owner.txt ?"}, {"owner": {"reputation": 4575, "user_id": 746569, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7816351c392c2da71dc1019017b8dde?s=128&d=identicon&r=PG", "display_name": "MichaelCMS", "link": "https://stackoverflow.com/users/746569/michaelcms"}, "edited": false, "score": 0, "creation_date": 1421861874, "post_id": 28073337, "comment_id": 44526199, "body": "Your last comment helps allot, you should change your question :)."}, {"owner": {"reputation": 29, "user_id": 4464910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065ac462354d91265b943b1d7aa657c5?s=128&d=identicon&r=PG&f=1", "display_name": "Neophyte Polyhistor", "link": "https://stackoverflow.com/users/4464910/neophyte-polyhistor"}, "edited": false, "score": 0, "creation_date": 1421861942, "post_id": 28073337, "comment_id": 44526242, "body": "Yea, I did, just a second ago"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1421862175, "post_id": 28073337, "comment_id": 44526355, "body": "It looks like you want some of the input to get capitalized, and other input to be removed?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4464910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065ac462354d91265b943b1d7aa657c5?s=128&d=identicon&r=PG&f=1", "display_name": "Neophyte Polyhistor", "link": "https://stackoverflow.com/users/4464910/neophyte-polyhistor"}, "edited": false, "score": 0, "creation_date": 1421862308, "post_id": 28073543, "comment_id": 44526428, "body": "Guess I will go with a better format to write in file ... thanks Llyod ! :)"}], "owner": {"reputation": 596, "user_id": 2575077, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zMJZm.jpg?s=128&g=1", "display_name": "Lloyd Crawley", "link": "https://stackoverflow.com/users/2575077/lloyd-crawley"}, "is_accepted": false, "score": 1, "last_activity_date": 1421862160, "creation_date": 1421862160, "answer_id": 28073543, "question_id": 28073337, "link": "https://stackoverflow.com/questions/28073337/printing-data-in-the-right-pattern/28073543#28073543", "title": "Printing Data In The Right Pattern", "body": "<p>You're not printing out the desired labels of Name,Address etc in your code. You have two options - </p>\n\n<p>1) Write out the labels before the data in the actual file itself, and leave the printing code as-is\n2) Have a struct or a class with the members name, address etc and a function to print the contents</p>\n\n<pre><code>struct FileEntry{\n  string name;\n  string address;\n  .\n  .\n  .\n\n  void printContents(){\n    cout &lt;&lt; \"Name: \" &lt;&lt; name &lt;&lt; endl;\n    cout &lt;&lt; \"Address: \" &lt;&lt; address &lt;&lt; endl;\n    // etc etc\n  }\n}\n</code></pre>\n\n<p>If you want to have varying numbers of records per file just put a number at the top of the file, i.e if the file holds 100 records put 100 as the first piece of data to read in and use it in your processing</p>\n\n<pre><code>int numRecords;\n\nifstream in;\n\nif(in.open(\"owners,txt\")){\n  numRecords &lt;&lt; in;\n\n for(int record = 0; record &lt; numRecords; records++){\n   //read the info and output it here   \n }\n</code></pre>\n"}, {"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "is_accepted": true, "score": 0, "last_activity_date": 1421862647, "last_edit_date": 1421862647, "creation_date": 1421862221, "answer_id": 28073562, "question_id": 28073337, "link": "https://stackoverflow.com/questions/28073337/printing-data-in-the-right-pattern/28073562#28073562", "title": "Printing Data In The Right Pattern", "body": "<p>Just add a array of labels, and print them based on the line you are getting from the file.</p>\n\n<pre><code>const string labels[6] = {\n    \"Name\", \"Address\", \"Gender\", \"Contact\", \"Username\", \"Password\"\n};\n\nint i = 0;\nwhile (in) {\n    in.getline(str, 255);  // delim defaults to '\\n'\n    if (in) {\n        if (i == 6) i = 0;\n        cout &lt;&lt; labels[i++] &lt;&lt; \" : \" &lt;&lt; str &lt;&lt; endl;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "edited": false, "score": 0, "creation_date": 1421863391, "post_id": 28073568, "comment_id": 44526983, "body": "1+ , cleanest solution"}], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1421862234, "creation_date": 1421862234, "answer_id": 28073568, "question_id": 28073337, "link": "https://stackoverflow.com/questions/28073337/printing-data-in-the-right-pattern/28073568#28073568", "title": "Printing Data In The Right Pattern", "body": "<p>You want to store your output names names, something like this:</p>\n\n<pre><code>std::vector&lt;std::string&gt; names { \"Name\", \"Address\", \"Gender\", \"Contact\", \"Username\", \"Password\" };\n</code></pre>\n\n<p>take an interator to it:</p>\n\n<pre><code>auto it = names.begin();\n</code></pre>\n\n<p>and print in your <code>while</code> loop:</p>\n\n<pre><code>if (in) cout &lt;&lt; *it++ &lt;&lt; \" : \" &lt;&lt; str &lt;&lt; endl;\n</code></pre>\n"}, {"owner": {"reputation": 4575, "user_id": 746569, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7816351c392c2da71dc1019017b8dde?s=128&d=identicon&r=PG", "display_name": "MichaelCMS", "link": "https://stackoverflow.com/users/746569/michaelcms"}, "is_accepted": false, "score": 0, "last_activity_date": 1421862328, "creation_date": 1421862328, "answer_id": 28073588, "question_id": 28073337, "link": "https://stackoverflow.com/questions/28073337/printing-data-in-the-right-pattern/28073588#28073588", "title": "Printing Data In The Right Pattern", "body": "<p>So to re-state your question : </p>\n\n<p>How can I add the fields Name: , Address: , etc to the output.</p>\n\n<p>I would suggest the following approach :</p>\n\n<p>Declare the field names in a static array :</p>\n\n<pre><code>const char* fieldNamesArray[6] = { \"Name\",\"Address\",\"Gendre\", \"Contact\",\"Username\",\"Password\"};\n</code></pre>\n\n<p>Inside your read / write function , consume each non-empty lines and assume that all entries have 6 fields and all time in the same order :</p>\n\n<pre><code>int curField=0;\nwhile(in)\n{\n    in.getLine(str,255);\n    if (strlen(str)&gt;0)\n    {\n        cout&lt;&lt; fieldsNamesArray[curField] &lt;&lt; \" : \" &lt;&lt; str;\n        curField++;\n    }\n    if (curField&gt;=6)\n    {\n       curField=0;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4464910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065ac462354d91265b943b1d7aa657c5?s=128&d=identicon&r=PG&f=1", "display_name": "Neophyte Polyhistor", "link": "https://stackoverflow.com/users/4464910/neophyte-polyhistor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28073562, "answer_count": 4, "score": -2, "last_activity_date": 1421862647, "creation_date": 1421861400, "last_edit_date": 1421861861, "question_id": 28073337, "link": "https://stackoverflow.com/questions/28073337/printing-data-in-the-right-pattern", "title": "Printing Data In The Right Pattern", "body": "<p>I've written a function that goes through the text file and reads all the data's and prints them out, but the format of displaying data's are wrong and it just prints out data line by line, like this: </p>\n\n<pre><code> james\n c 18 6 endah regal\n male\n 0104252455\n rodgo.james\n kilkil\n</code></pre>\n\n<p>and what i'm looking for displaying data is something like this (which is not currently happening ):</p>\n\n<pre><code> Name : james\n Address : c 18 6 \n Gender : Male \n Contact : 0104252455\n Username : rodgo.james\n Password : kilkil\n</code></pre>\n\n<p>and here is the function :</p>\n\n<pre><code> int molgha() {\n\n    ifstream in(\"owner.txt\");\n\n    if (!in) {\n        cout &lt;&lt; \"Cannot open input file.\\n\";\n        return 1;\n    }\n\n    char str[255];\n\n    while (in) {\n\n        in.getline(str, 255);  // delim defaults to '\\n'\n        if (in) cout &lt;&lt; str &lt;&lt; endl;\n\n    }\n\n    system(\"pause\");\n    in.close();\n\n  }\n</code></pre>\n\n<p>keep in mind that this text file contains the records of owners registered to the system, hence we may need to print out maybe 3 sets of owner data's with the same pattern without any errors, hence what is the best way to display data's like that continuously ?</p>\n"}, {"tags": ["java", "c++", "assembly", "crash"], "comments": [{"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 1, "creation_date": 1421863606, "post_id": 28073329, "comment_id": 44527088, "body": "If you don&#39;t know C++ I&#39;m not sure how the painstaking effort of someone translating the assembly to C++ would help you?"}, {"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1421870310, "post_id": 28073329, "comment_id": 44530595, "body": "This C++ snippet is not very impressive. Global variables. No exception handling. No support for Unicode directory names. Possible access to variable in undefined state (uninitialized or leaking memory) in <code>moWord</code>, <code>moDoc</code>. Assembly listing and the log don&#39;t indicate what exactly went wrong (registers missing). If you are supposed to maintain the application it looks like good opportunity to rewrite some code into more maintainable shape, see <a href=\"http://stackoverflow.com/questions/1991030/word-document-creation-api-in-java\">Stack Overflow: Word document creation API in Java</a> for some inspiration"}, {"owner": {"reputation": 31, "user_id": 4429357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d7d7abf71318defca11006e9315a75?s=128&d=identicon&r=PG&f=1", "display_name": "Al Beback", "link": "https://stackoverflow.com/users/4429357/al-beback"}, "edited": false, "score": 0, "creation_date": 1424205581, "post_id": 28073329, "comment_id": 45451221, "body": "Added the register information from the log. Also added more from the .cpp file to give you a sense of how old the code is. Thanks."}], "answers": [{"owner": {"reputation": 8701, "user_id": 2653775, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/92a3b892b4b7ccbf28baeef4bf4ec157?s=128&d=identicon&r=PG", "display_name": "Alexander Zhak", "link": "https://stackoverflow.com/users/2653775/alexander-zhak"}, "is_accepted": false, "score": 0, "last_activity_date": 1427758705, "creation_date": 1427758705, "answer_id": 29358192, "question_id": 28073329, "link": "https://stackoverflow.com/questions/28073329/need-help-analyzing-java-crash/29358192#29358192", "title": "Need help analyzing Java crash", "body": "<p>What you're getting is an Unhandled Exception 0xc0000005 - Access Violation.\nYour disassembled code is really pointless. Sorry. It shows only entry to the standard Windows SEH - Structured Exception Handling. It's purpose is to show you a fancy dialog with error code.</p>\n\n<p>I'm pretty much sure your problem is that</p>\n\n<pre><code>moWord.CreateInstance(\"Word.Application\");\n</code></pre>\n\n<p>generates a null pointer exception in some cases.</p>\n\n<pre><code>if (moWord != NULL) moWord.Release();\n\n// Create word object\nif (mbOpen == false)\n{\n    moWord.CreateInstance(\"Word.Application\");\n</code></pre>\n\n<p>Here you first check if object exists and then release it. But you never get the object if it doesn't exist.</p>\n"}], "owner": {"reputation": 31, "user_id": 4429357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d7d7abf71318defca11006e9315a75?s=128&d=identicon&r=PG&f=1", "display_name": "Al Beback", "link": "https://stackoverflow.com/users/4429357/al-beback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1427758705, "creation_date": 1421861352, "last_edit_date": 1424205465, "question_id": 28073329, "link": "https://stackoverflow.com/questions/28073329/need-help-analyzing-java-crash", "title": "Need help analyzing Java crash", "body": "<p>JRE version: 6.0_45-b06\nJava VM: Java HotSpot(TM) Client VM (20.45-b01 mixed mode, sharing windows-x86 )</p>\n\n<p>Hi,</p>\n\n<p>We have a java application that periodically crashes (and apparently has been doing so for years). It uses native code (.cpp) on Windows. Here is the top of the stack from one of the hotspot error logs:</p>\n\n<p><code>---------------  T H R E A D  ---------------</code></p>\n\n<p><code>Current thread (0x002a6c00):  JavaThread \"main\" [_thread_in_vm, id=4168, stack(0x00640000,0x00690000)]</code></p>\n\n<p><code>siginfo: ExceptionCode=0xc0000005, reading address 0xcccccccc</code></p>\n\n<pre><code>Registers:\nEAX=0xcccccccc, EBX=0x0068fa2c, ECX=0x0068f940, EDX=0xcccccccc\nESP=0x0068f900, EBP=0x0068f900, ESI=0x002a6c00, EDI=0x002a6d28\nEIP=0x6da12c06, EFLAGS=0x00010286\n\nTop of Stack: (sp=0x0068f900)\n0x0068f900:   0068f91c 6d8fe0d1 cccccccc 002a6d28\n0x0068f910:   002a6c00 0068fa2c 0068f940 0068f934\n0x0068f920:   6d8fe1a5 0068f940 cccccccc 002a6c00\n0x0068f930:   002a6c00 0068f960 6d973a71 cccccccc\n0x0068f940:   002a6c00 0068f9c0 0068f970 0068fa2c\n0x0068f950:   002a6c00 002a75e0 0000026d 6db0848c\n0x0068f960:   0068f9c0 042307a2 002a6d28 cccccccc\n0x0068f970:   0068fa2c 04290e18 0068fa2c cccccccc \n\nInstructions: (pc=0x6da12c06)\n0x6da12be6:   24 c0 3c 80 75 01 4f 41 3b ca 7c f1 5e 8b c7 5f\n0x6da12bf6:   5d c3 cc cc cc cc cc cc cc cc 55 8b ec 8b 55 08\n0x6da12c06:   8a 0a 33 c0 84 c9 74 13 8b ff 80 e1 c0 80 f9 80\n0x6da12c16:   74 01 40 8a 4a 01 42 84 c9 75 ef 5d c3 cc cc cc \n\n\nRegister to memory mapping:\n\nEAX=0xcccccccc is an unknown value\nEBX=0x0068fa2c is pointing into the stack for thread: 0x002a6c00\nECX=0x0068f940 is pointing into the stack for thread: 0x002a6c00\nEDX=0xcccccccc is an unknown value\nESP=0x0068f900 is pointing into the stack for thread: 0x002a6c00\nEBP=0x0068f900 is pointing into the stack for thread: 0x002a6c00\nESI=0x002a6c00 is a thread\nEDI=0x002a6d28 is an unknown value\n\nStack: [0x00640000,0x00690000],  sp=0x0068f900,  free space=318k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [jvm.dll+0x132c06]\nV  [jvm.dll+0x1e0d1]\nV  [jvm.dll+0x1e1a5]\nV  [jvm.dll+0x93a71]\nC  [MSWordCOMBatch.dll+0x107a2]  Java_com_ams_cnl_common_MSWordCOMBatch_connectToWord+0xf239\nC  [MSWordCOMBatch.dll+0xfceb]  Java_com_ams_cnl_common_MSWordCOMBatch_connectToWord+0xe782\nj  com.ams.cnl.common.MSWordCOMBatch.addDocument(Ljava/lang/String;)Ljava/lang/String;+0\nj  com.ams.cnl.common.CNLBatchPrintProcess.printSingleTemplateLetters(Ljava/util/ArrayList;Ljava/lang/String;IIZ)V+338\n</code></pre>\n\n<p>I disassembled MSWordCOMBatch.dll using the instructions provided here:</p>\n\n<p><a href=\"https://weblogs.java.net/blog/kohsuke/archive/2009/02/crash_course_on.html\" rel=\"nofollow\">https://weblogs.java.net/blog/kohsuke/archive/2009/02/crash_course_on.html</a></p>\n\n<p>The image base is 10000000. Here is the assembly from the 100107A2 offset.</p>\n\n<p>Offset 100107A2</p>\n\n<pre><code>100107A2: 3B F4              cmp         esi,esp\n100107A4: E8 47 43 00 00     call        10014AF0\n100107A9: 5F                 pop         edi\n100107AA: 5E                 pop         esi\n100107AB: 5B                 pop         ebx\n100107AC: 83 C4 44           add         esp,44h\n100107AF: 3B EC              cmp         ebp,esp\n100107B1: E8 3A 43 00 00     call        10014AF0\n100107B6: 8B E5              mov         esp,ebp\n100107B8: 5D                 pop         ebp\n100107B9: C2 04 00           ret         4\n</code></pre>\n\n<p>Offset 10014AF0</p>\n\n<pre><code>10014AF0: 75 01              jne         10014AF3\n10014AF2: C3                 ret\n</code></pre>\n\n<p>Offset 10014AF3</p>\n\n<pre><code>10014AF3: 55                 push        ebp\n10014AF4: 8B EC              mov         ebp,esp\n10014AF6: 83 EC 00           sub         esp,0\n10014AF9: 50                 push        eax\n10014AFA: 52                 push        edx\n10014AFB: 53                 push        ebx\n10014AFC: 56                 push        esi\n10014AFD: 57                 push        edi\n10014AFE: CC                 int         3\n10014AFF: 5F                 pop         edi\n10014B00: 5E                 pop         esi\n10014B01: 5B                 pop         ebx\n10014B02: 5A                 pop         edx\n10014B03: 58                 pop         eax\n10014B04: 8B E5              mov         esp,ebp\n10014B06: 5D                 pop         ebp\n10014B07: C3                 ret\n</code></pre>\n\n<p>Second connectToWord frame\nOffset 1000FCEB</p>\n\n<pre><code>1000FCE6: E8 E5 15 FF FF     call        100012D0\n1000FCEB: 8B 4D F4           mov         ecx,dword ptr [ebp-0Ch]\n1000FCEE: 64 89 0D 00 00 00  mov         dword ptr fs:[00000000h],ecx\n        00\n1000FCF5: 5F                 pop         edi\n1000FCF6: 5E                 pop         esi\n1000FCF7: 5B                 pop         ebx\n1000FCF8: 83 C4 60           add         esp,60h\n1000FCFB: 3B EC              cmp         ebp,esp\n1000FCFD: E8 EE 4D 00 00     call        10014AF0\n1000FD02: 8B E5              mov         esp,ebp\n1000FD04: 5D                 pop         ebp\n1000FD05: C2 0C 00           ret         0Ch\n</code></pre>\n\n<p>Offset 10014AF0</p>\n\n<pre><code>10014AF0: 75 01              jne         10014AF3\n10014AF2: C3                 ret\n</code></pre>\n\n<p>offset 10014AF3</p>\n\n<pre><code>10014AF3: 55                 push        ebp\n10014AF4: 8B EC              mov         ebp,esp\n10014AF6: 83 EC 00           sub         esp,0\n10014AF9: 50                 push        eax\n10014AFA: 52                 push        edx\n10014AFB: 53                 push        ebx\n10014AFC: 56                 push        esi\n10014AFD: 57                 push        edi\n10014AFE: CC                 int         3\n10014AFF: 5F                 pop         edi\n10014B00: 5E                 pop         esi\n10014B01: 5B                 pop         ebx\n10014B02: 5A                 pop         edx\n10014B03: 58                 pop         eax\n10014B04: 8B E5              mov         esp,ebp\n10014B06: 5D                 pop         ebp\n10014B07: C3                 ret\n</code></pre>\n\n<p>Here is the code from MSWordCOMBatch.cpp:</p>\n\n<pre><code>#include &lt;afx.h&gt;\n#include &lt;Afxdisp.h&gt;\n#include &lt;Afxwin.h&gt;\n#include &lt;comdef.h&gt;\n#include \"com_ams_cnl_common_MSWordCOMBatch.h\"\n#include \"MSWordCOMBatch.h\"\n#include &lt;winspool.h&gt;\n#include &lt;Winuser.h&gt;\n#include &lt;Windows.h&gt;\n\nint miConnectOption;\nchar* msTemplateDir = NULL;\nbool mbWordWasRunning;\nbool mbOpen;\nbool mbLoadPrintDuplex = false;\nApplicationPtr moWord;\n_DocumentPtr moDoc;\n\n/* other methods not included, can provide as needed */\n\n/**\n * connectToWord()\n*/\nvoid connectToWord(int fiOption, char* fsTemplateDir)\n{   \n    miConnectOption = fiOption;\n    msTemplateDir = fsTemplateDir;\n\n    mbWordWasRunning = false;\n    mbOpen = false;\n\n    if (moDoc != NULL) moDoc.Release();\n    if (moWord != NULL) moWord.Release();\n\n    // Create word object\n    if (mbOpen == false)\n    {\n    moWord.CreateInstance(\"Word.Application\");\n    mbOpen = true;\n    miConnectOption = 1;\n}\n\n    return;\n}\n</code></pre>\n\n<p>The problem is that I do not know assembly, or cpp. :) I am having a hard time translating the assembly to cpp.</p>\n\n<p>Any help you can provide is greatly appreciated. Thanks!</p>\n"}, {"tags": ["c++", "c++11", "runtime-error", "destructor"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1421861256, "post_id": 28073189, "comment_id": 44525864, "body": "_strdup is a C function (AFAIK) so it most likely used malloc, you cannot delete malloced memory (new -&gt; delete, malloc -&gt; free). You have to free it. But really you should be using std::string."}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1421866507, "post_id": 28073189, "comment_id": 44528558, "body": "BTW <code>name</code> and <code>this-&gt;name</code> do the same"}], "answers": [{"comments": [{"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1421866434, "post_id": 28073292, "comment_id": 44528528, "body": "I guess &quot;prevent copying or implement copying&quot; is a terse reference to <a href=\"http://stackoverflow.com/q/4172722/509868\">this</a>"}, {"owner": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421938155, "post_id": 28073292, "comment_id": 44559638, "body": "Even if I change it to <code>free(this-&gt;name);</code>, the same error appears. <code>Heap block at 00EA68D8 modified at 00EA6909 past requested size of 29 gift1.exe has triggered a breakpoint.</code>"}, {"owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "reply_to_user": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421941368, "post_id": 28073292, "comment_id": 44561887, "body": "@lxjhk, are you certain you have rebuilt? To be sure, perform a clean and the rebuild."}, {"owner": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421941992, "post_id": 28073292, "comment_id": 44562355, "body": "@hmjd Yes, I have cleaned and rebuilt the solution but the problem persists. I am using MSV 2013."}, {"owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "reply_to_user": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421943668, "post_id": 28073292, "comment_id": 44563505, "body": "@lxjhk, I just did that and no problems (with 2010 and 2013)."}, {"owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "reply_to_user": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421944091, "post_id": 28073292, "comment_id": 44563785, "body": "@lxjhk, can you post your compiler arguments?"}, {"owner": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "edited": false, "score": 0, "creation_date": 1421945033, "post_id": 28073292, "comment_id": 44564386, "body": "@hmjd May I know how to view the compiler arguments? If I change the setting to <code>X64</code>, the program will execute without errors but once I switch to <code>Win32</code>, the problem appears."}, {"owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "edited": false, "score": 0, "creation_date": 1421945589, "post_id": 28073292, "comment_id": 44564743, "body": "If you using the IDE it should be displayed in the output window (I built both x64 and x86 and both worked correctly)."}], "owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "is_accepted": true, "score": 3, "last_activity_date": 1421861645, "last_edit_date": 1421861645, "creation_date": 1421861256, "answer_id": 28073292, "question_id": 28073189, "link": "https://stackoverflow.com/questions/28073189/error-heap-block-at-x-modified/28073292#28073292", "title": "Error : Heap block at X modified", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/y471khhc.aspx\" rel=\"nofollow\"><code>_strdup</code></a> uses <code>malloc()</code> internally:</p>\n\n<blockquote>\n  <p><strong>The <code>_strdup</code> function calls <code>malloc</code></strong> to allocate storage space for a copy of strSource and then copies strSource to the allocated space.</p>\n</blockquote>\n\n<p>but you are using <a href=\"http://en.cppreference.com/w/cpp/memory/new/operator_delete\" rel=\"nofollow\"><code>delete[]</code></a> to deallocate:</p>\n\n<blockquote>\n  <p>Deallocates storage previously allocated by a matching operator new... If the pointer passed to the standard library deallocation function was not obtained from the corresponding standard library allocation function, the behavior is undefined. </p>\n</blockquote>\n\n<p>To solve, use <code>std::string</code> instead of a <code>char*</code>(or if you really cannot use <code>std::string</code> use <code>free()</code> and prevent copying or implement copying for <code>Node</code>).</p>\n"}, {"owner": {"reputation": 2884, "user_id": 2558027, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/srmnC.jpg?s=128&g=1", "display_name": "sjdowling", "link": "https://stackoverflow.com/users/2558027/sjdowling"}, "is_accepted": false, "score": 0, "last_activity_date": 1421861349, "creation_date": 1421861349, "answer_id": 28073326, "question_id": 28073189, "link": "https://stackoverflow.com/questions/28073189/error-heap-block-at-x-modified/28073326#28073326", "title": "Error : Heap block at X modified", "body": "<p>If you check <a href=\"https://msdn.microsoft.com/en-us/library/y471khhc.aspx\" rel=\"nofollow\">the documentation for <code>_strdup</code> (aka <code>strdup</code>)</a> you will see that it uses <code>malloc</code> internally to allocate the string, therefore the memory must be freed with a call to <code>free</code> instead of <code>delete</code>.</p>\n"}], "owner": {"reputation": 427, "user_id": 4368629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-8FeEoD1vkOg/AAAAAAAAAAI/AAAAAAAAAA8/MJ9Ee_7BKG8/photo.jpg?sz=128", "display_name": "lxjhk", "link": "https://stackoverflow.com/users/4368629/lxjhk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 28073292, "answer_count": 2, "score": 0, "last_activity_date": 1421938650, "creation_date": 1421860942, "last_edit_date": 1421938650, "question_id": 28073189, "link": "https://stackoverflow.com/questions/28073189/error-heap-block-at-x-modified", "title": "Error : Heap block at X modified", "body": "<p>I was trying to use destructors for a struct. However, the compiler reported errors that <code>Heap block at 006651F8 modified at 00665229 past requested size of 29 gift1.exe has triggered a breakpoint.\n</code></p>\n\n<pre><code>    #include \"stdafx.h\"\n\n    struct Node{\n        char *name;\n        int age;\n\n        Node(char *n = 0, int a = 0){\n            this-&gt;name = _strdup(n);\n            age = a;\n        }\n\n        ~Node(){\n            if (this-&gt;name != 0)\n                delete[] this-&gt;name;\n        }\n    };\n\n    int _tmain(int argc, _TCHAR* argv[])\n    {\n\n        Node node1(\"Andy\", 20);\n        return 0;\n    }\n</code></pre>\n\n<p>May I know where went wrong? </p>\n\n<p>Does it matter if I use <code>name</code>instead of <code>this-&gt;name</code> ?</p>\n\n<p><strong>Add-on:</strong></p>\n\n<p>Even if I change it to <code>free(this-&gt;name);</code> as suggested by the answers below, the same error appears. <code>Heap block at 00EA68D8 modified at 00EA6909 past requested size of 29 gift1.exe has triggered a breakpoint.</code></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 113209, "user_id": 1033896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a75e2267a33cf64c2fc239b5556ec596?s=128&d=identicon&r=PG", "display_name": "hmjd", "link": "https://stackoverflow.com/users/1033896/hmjd"}, "edited": false, "score": 1, "creation_date": 1421861096, "post_id": 28073181, "comment_id": 44525776, "body": "There is an issue with <code>romanType::setNumeral()</code>, it does not change the state of the object."}], "answers": [{"owner": {"reputation": 1609, "user_id": 657412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/axctP.png?s=128&g=1", "display_name": "Ethouris", "link": "https://stackoverflow.com/users/657412/ethouris"}, "is_accepted": false, "score": 5, "last_activity_date": 1421861128, "creation_date": 1421861128, "answer_id": 28073249, "question_id": 28073181, "link": "https://stackoverflow.com/questions/28073181/error-with-c-program/28073249#28073249", "title": "Error with C++ Program", "body": "<p>In here:</p>\n\n<pre><code>void romanType::setNumeral(string s)\n{\n    string input = s;\n}\n</code></pre>\n\n<p>Use the field name instead of a local variable 'input' that eclipses the name of the field in this class.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 2901534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6544812fa1fcda5b13511ce0395a633?s=128&d=identicon&r=PG&f=1", "display_name": "allen1124", "link": "https://stackoverflow.com/users/2901534/allen1124"}, "edited": false, "score": 0, "creation_date": 1421901766, "post_id": 28073283, "comment_id": 44541368, "body": "Thanks man. It&#39;s crazy how hard you can look at your code and not notice a simple error like that."}, {"owner": {"reputation": 4575, "user_id": 746569, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7816351c392c2da71dc1019017b8dde?s=128&d=identicon&r=PG", "display_name": "MichaelCMS", "link": "https://stackoverflow.com/users/746569/michaelcms"}, "reply_to_user": {"reputation": 25, "user_id": 2901534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6544812fa1fcda5b13511ce0395a633?s=128&d=identicon&r=PG&f=1", "display_name": "allen1124", "link": "https://stackoverflow.com/users/2901534/allen1124"}, "edited": false, "score": 0, "creation_date": 1421916643, "post_id": 28073283, "comment_id": 44546775, "body": ":). Easiest errors are hardest to spot , no worries."}], "owner": {"reputation": 4575, "user_id": 746569, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7816351c392c2da71dc1019017b8dde?s=128&d=identicon&r=PG", "display_name": "MichaelCMS", "link": "https://stackoverflow.com/users/746569/michaelcms"}, "is_accepted": true, "score": 8, "last_activity_date": 1424322428, "last_edit_date": 1424322428, "creation_date": 1421861210, "answer_id": 28073283, "question_id": 28073181, "link": "https://stackoverflow.com/questions/28073181/error-with-c-program/28073283#28073283", "title": "Error with C++ Program", "body": "<p>In your romanType::setNumeral() remove the \"string\" word before input :</p>\n\n<p>wrong :</p>\n\n<pre><code> romanType::setNumeral(string s)\n {\n      string input=s;\n }\n</code></pre>\n\n<p>right :</p>\n\n<pre><code>romanType::setNumeral(string s)\n{\n    input=s;\n}\n</code></pre>\n\n<p>In the wrong example you are hiding your member variable with a local variable with the same name.</p>\n"}], "owner": {"reputation": 25, "user_id": 2901534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6544812fa1fcda5b13511ce0395a633?s=128&d=identicon&r=PG&f=1", "display_name": "allen1124", "link": "https://stackoverflow.com/users/2901534/allen1124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 28073283, "answer_count": 2, "score": 0, "last_activity_date": 1424322428, "creation_date": 1421860917, "question_id": 28073181, "link": "https://stackoverflow.com/questions/28073181/error-with-c-program", "title": "Error with C++ Program", "body": "<p>I am currently taking a C++ class, so bear with me. I am not asking for you to solve my homework, but just simply help me figure out what I am overlooking\nI am converting Roman numerals that the user inputs into a decimal number and then displaying the number. I have not completed my function for conversion yet. For now, I just convert the numeral into a number and add them up (Not taking into account on the order yet). I keep getting a 0 and not the right number whenever I run the program. Here is my code for the header file:</p>\n\n<pre><code>class romanType\n    {\n    public:\n        void setNumeral(string);\n        string getNumeral();\n        double convertToNumber();\n        double printNumber();\n    private:\n        string input;\n        double num;\n    };\n\nvoid romanType::setNumeral(string s)\n{\n    string input = s;\n}\n\nstring romanType::getNumeral()\n{\n    return input;\n}\n\ndouble romanType::convertToNumber()\n{\n    num = 0;\n    for(int i = 0; i &lt; input.length(); i++)\n    {\n        switch (input.at(i))\n        {\n        case 'M':\n            num += 1000;\n            break;\n        case 'D':\n            num += 500;\n            break;\n        case 'C':\n            num += 100;\n            break;\n        case 'L':\n            num += 50;\n            break;\n        case 'X':\n            num += 10;\n            break;\n        case 'V':\n            num += 5;\n            break;\n        case 'I':\n            num += 1;\n            break;\n        }\n    }\n    return num;\n}\n\ndouble romanType::printNumber()\n{\n    return num;\n}\n</code></pre>\n\n<p>Here is my cpp file code:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"romanType.h\"\n#include &lt;string&gt;\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    romanType roman;\n    string input;\n    string output;\n    double number = 0;\n    cout &lt;&lt; \"Enter a Roman numeral.\" &lt;&lt; endl;\n    cin &gt;&gt; input;\n    roman.setNumeral(input);\n    number = roman.convertToNumber();\n    cout &lt;&lt; number &lt;&lt; endl;\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "sdl-2", "glew"], "comments": [{"owner": {"reputation": 187, "user_id": 1561882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sKpRY.jpg?s=128&g=1", "display_name": "Aabesh Karmacharya", "link": "https://stackoverflow.com/users/1561882/aabesh-karmacharya"}, "edited": false, "score": 0, "creation_date": 1421866889, "post_id": 28073143, "comment_id": 44528747, "body": "Add directory to the list of directory to be searched for. Or copy the library to one of the standard directories.As <a href=\"http://stackoverflow.com/questions/12107422/ld-cannot-find-llibrary\">This</a> post says."}, {"owner": {"reputation": 13, "user_id": 3225224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5maV.jpg?s=128&g=1", "display_name": "Roane", "link": "https://stackoverflow.com/users/3225224/roane"}, "reply_to_user": {"reputation": 187, "user_id": 1561882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sKpRY.jpg?s=128&g=1", "display_name": "Aabesh Karmacharya", "link": "https://stackoverflow.com/users/1561882/aabesh-karmacharya"}, "edited": false, "score": 0, "creation_date": 1421987755, "post_id": 28073143, "comment_id": 44581315, "body": "Originally, I was getting this error, and now I&#39;m still getting it: undefined reference to <code>_imp__glewInit@0&#39; ... C:\\SDL\\SDL2-2.0.3\\i686-w64-mingw32\\lib\\libSDL2main.a(SDL_win&zwnj;&#8203;dows_main.o):SDL_win&zwnj;&#8203;dows_main.c|| undefined reference to </code>SDL_main&#39;|"}, {"owner": {"reputation": 187, "user_id": 1561882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sKpRY.jpg?s=128&g=1", "display_name": "Aabesh Karmacharya", "link": "https://stackoverflow.com/users/1561882/aabesh-karmacharya"}, "edited": false, "score": 0, "creation_date": 1422005773, "post_id": 28073143, "comment_id": 44588037, "body": "You need to use <code>int main(int argc, char* argv[])</code> and not <code>void main()</code> or just <code>int main()</code>."}, {"owner": {"reputation": 13, "user_id": 3225224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5maV.jpg?s=128&g=1", "display_name": "Roane", "link": "https://stackoverflow.com/users/3225224/roane"}, "reply_to_user": {"reputation": 187, "user_id": 1561882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sKpRY.jpg?s=128&g=1", "display_name": "Aabesh Karmacharya", "link": "https://stackoverflow.com/users/1561882/aabesh-karmacharya"}, "edited": false, "score": 0, "creation_date": 1422326467, "post_id": 28073143, "comment_id": 44695837, "body": "ok, now I&#39;m getting &quot;undefined reference to `_imp__glewInit@0&#39; ... what does that indicate?"}, {"owner": {"reputation": 13, "user_id": 3225224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5maV.jpg?s=128&g=1", "display_name": "Roane", "link": "https://stackoverflow.com/users/3225224/roane"}, "reply_to_user": {"reputation": 187, "user_id": 1561882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sKpRY.jpg?s=128&g=1", "display_name": "Aabesh Karmacharya", "link": "https://stackoverflow.com/users/1561882/aabesh-karmacharya"}, "edited": false, "score": 0, "creation_date": 1422365128, "post_id": 28073143, "comment_id": 44712322, "body": "Looks like I fixed it. The display window shows now. Looks like I may have had the wrong copy of the glew32.dll in my project folder and debug folder."}], "owner": {"reputation": 13, "user_id": 3225224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5maV.jpg?s=128&g=1", "display_name": "Roane", "link": "https://stackoverflow.com/users/3225224/roane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421866152, "creation_date": 1421860810, "last_edit_date": 1421866152, "question_id": 28073143, "link": "https://stackoverflow.com/questions/28073143/having-trouble-initializing-glew-in-codeblocks", "title": "Having trouble initializing GLEW in Code::Blocks", "body": "<p>So I'm trying to learn OpenGL/SDL development using Code::Blocks.</p>\n\n<p>I've setup GLEW and SLD2 correctly in Code::Blocks according to this tutorial:\n<a href=\"http://youtu.be/UwpZOwT9nVc\" rel=\"nofollow\">http://youtu.be/UwpZOwT9nVc</a></p>\n\n<p>First I set all the correct linker settings for my compiler: -lmingw32 -lSDL2main -lSDL2 -lSDL2_image -lSDL2_mixer -lopengl32 -lglu32 -lglew32 -lglew32mx</p>\n\n<p>and added all the approviate search directories for SDL2...</p>\n\n<p>Then I go into project build options and add the link libraries: GL GLEW SDL2 to Debug and Release</p>\n\n<p>Then in my display class, I include GL/glew.h as done similiarly to this tutorial: <a href=\"http://youtu.be/DkiKgQRiMRU?list=PLEETnX-uPtBXT9T-hD0Bj31DSnwio-ywh\" rel=\"nofollow\">http://youtu.be/DkiKgQRiMRU?list=PLEETnX-uPtBXT9T-hD0Bj31DSnwio-ywh</a></p>\n\n<p>But when I build, I get this error message from my ld.exe file: \"cannot find -GL\" ... \"cannot find -lGLEW\"</p>\n\n<p>Am I not putting something in the right folder? What else am I missing?</p>\n"}, {"tags": ["c++", "g++", "shared-libraries"], "comments": [{"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 3, "creation_date": 1421862981, "post_id": 28072998, "comment_id": 44526758, "body": "Alas, you have encountered one of the most annoying issues <i>ever</i>."}, {"owner": {"reputation": 385, "user_id": 3830531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5395589c05cf1b3ac58c7bf0271e4f83?s=128&d=identicon&r=PG&f=1", "display_name": "Heits", "link": "https://stackoverflow.com/users/3830531/heits"}, "edited": false, "score": 2, "creation_date": 1421863566, "post_id": 28072998, "comment_id": 44527068, "body": "Take a look at &lt;<a href=\"http://stackoverflow.com/questions/8808691/can-i-build-a-shared-library-by-linking-static-libraries\" title=\"can i build a shared library by linking static libraries\">stackoverflow.com/questions/8808691/&hellip;</a>&gt;.  It seems to have some dependency on the platform."}], "owner": {"reputation": 754, "user_id": 2320513, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/oQIvz.jpg?s=128&g=1", "display_name": "tylerjw", "link": "https://stackoverflow.com/users/2320513/tylerjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489443603, "creation_date": 1421860377, "last_edit_date": 1489443603, "question_id": 28072998, "link": "https://stackoverflow.com/questions/28072998/how-to-compile-a-shared-object-that-statically-links-a-library-that-was-not-comp", "title": "How to compile a shared object that statically links a library that was not compiled with -fPIC?", "body": "<p>I cannot recompile the library in question as it is being provided by a vendor that does not offer source code, only their <code>.a</code> file.</p>\n\n<p>Is there a way to include their static library in my shared object that requires <code>-fPIC</code>?</p>\n\n<p>When attempting this I generate this error:</p>\n\n<pre><code>/usr/bin/ld: /path/to/lib/libtheirs.a(theirs.o): relocation R_X86_64_32 against `.bss' can not be used when making a shared object; recompile with -fPIC\n/usr/bin/ld: /path/to/lib/libtheirs.a: could not read symbols: Bad value\n</code></pre>\n"}, {"tags": ["c++", "c++11", "move", "undefined-behavior", "b-tree"], "comments": [{"owner": {"reputation": 911, "user_id": 4433969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8322e261ca132ca41379ee7d605181?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Zavaritsky", "link": "https://stackoverflow.com/users/4433969/nick-zavaritsky"}, "edited": false, "score": 2, "creation_date": 1422037543, "post_id": 28072957, "comment_id": 44606742, "body": "Gcc provides <a href=\"http://stackoverflow.com/questions/6313050/gcc-how-to-use-attribute-may-alias-properly-to-avoid-derefencing-type\">may_alias attribute</a>, this works like -fno-strict-aliasing but only in expressions involving the particular variable(s) with may_alias attribute."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "reply_to_user": {"reputation": 911, "user_id": 4433969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8322e261ca132ca41379ee7d605181?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Zavaritsky", "link": "https://stackoverflow.com/users/4433969/nick-zavaritsky"}, "edited": false, "score": 1, "creation_date": 1422037949, "post_id": 28072957, "comment_id": 44606960, "body": "True.  (You mean <code>may_alias</code> right?)  I wonder if there&#39;s a way to do it without langauge extensions though."}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 1, "creation_date": 1422039193, "post_id": 28072957, "comment_id": 44607620, "body": "do you must use ad-hoc C-array? and do you must use array of objects or you can use array  of pointers?"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1422039493, "post_id": 28072957, "comment_id": 44607782, "body": "@user3613500 Storing an array of pointers in addition to the pairs themselves would probably use too much space.  It doesn&#39;t have to be a &quot;C array&quot;, I&#39;m open to things like <code>std::aligned_storage&lt;...&gt;::type</code> and placement new as long as the performance and memory layout stays the same."}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1422040061, "post_id": 28072957, "comment_id": 44608056, "body": "well , you going to sacrifice something , if not memory then runtime, if not runtime then simplicity of the code. I think using array of pointers instead of regular array of objects solves your problem of copying if each std::pair is bigger than sizeof(std::pair*)"}, {"owner": {"reputation": 2357, "user_id": 4074081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emDh4.png?s=128&g=1", "display_name": "dewaffled", "link": "https://stackoverflow.com/users/4074081/dewaffled"}, "edited": false, "score": 3, "creation_date": 1422040581, "post_id": 28072957, "comment_id": 44608308, "body": "just fyi, in <a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost/container/flat_map.html\" rel=\"nofollow noreferrer\">boost::flat_map</a> they define <code>value_type</code> simply as <code>typedef std::pair&lt; Key, T &gt;</code>"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1422040992, "post_id": 28072957, "comment_id": 44608550, "body": "@user3613500 In this instance, I would much rather sacrifice code simplicity than memory or performance."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "reply_to_user": {"reputation": 2357, "user_id": 4074081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/emDh4.png?s=128&g=1", "display_name": "dewaffled", "link": "https://stackoverflow.com/users/4074081/dewaffled"}, "edited": false, "score": 1, "creation_date": 1422041122, "post_id": 28072957, "comment_id": 44608606, "body": "@frymode Good point.  I&#39;d love to keep the extra safety of <code>const Key</code> in the interface but maybe it&#39;s not practical."}], "answers": [{"comments": [{"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 1, "creation_date": 1422043163, "post_id": 28117052, "comment_id": 44609581, "body": "I could define my own <code>pair&lt;&gt;</code> type to be sure of the layout.  But even still, a cast like <code>reinterpret_cast&lt;A&amp;&gt;(reinterpret_cast&lt;ABUnion&amp;&gt;(b))</code> doesn&#39;t really save you does it?  In the end you&#39;re still accessing an object of type <code>B</code> through an lvalue of type <code>A</code>."}, {"owner": {"reputation": 911, "user_id": 4433969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8322e261ca132ca41379ee7d605181?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Zavaritsky", "link": "https://stackoverflow.com/users/4433969/nick-zavaritsky"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1422045452, "post_id": 28117052, "comment_id": 44610674, "body": "@TavianBarnes do not apply another typecast to the union reference, use field access instead. This is unspecified behavior prior to c11/c++11, c11 guarantees it works right. Not sure if it is fine to use a structure instead of a union, probably not."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1422290636, "post_id": 28117052, "comment_id": 44680618, "body": "Okay good point.  If my reading of the standard is accurate then that&#39;s well defined as long as <code>pair&lt;Key, Value&gt;</code> and <code>pair&lt;const Key, Value&gt;</code> have a <i>common initial subsequence</i> containing <code>first</code> and <code>second</code>, which is only possible if <code>Key</code> and <code>Value</code> themselves are standard-layout types.  So it would work for <code>btree_map&lt;int, int&gt;</code> but not necessarily <code>btree_map&lt;std::string, std::string&gt;</code> for example."}], "owner": {"reputation": 911, "user_id": 4433969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8322e261ca132ca41379ee7d605181?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Zavaritsky", "link": "https://stackoverflow.com/users/4433969/nick-zavaritsky"}, "is_accepted": false, "score": 5, "last_activity_date": 1422042494, "last_edit_date": 1592644375, "creation_date": 1422040309, "answer_id": 28117052, "question_id": 28072957, "link": "https://stackoverflow.com/questions/28072957/how-can-i-avoid-wasteful-copying-of-keys-in-a-b-tree-based-stl-like-map/28117052#28117052", "title": "How can I avoid wasteful copying of keys in a B-tree based STL-like map?", "body": "<p>Quoting from <a href=\"https://stackoverflow.com/questions/98650/what-is-the-strict-aliasing-rule\">strict aliasing rules</a>,</p>\n<blockquote>\n<p>If a program attempts to access the stored value of an object through an lvalue of other than one of the following types the behavior is undefined:</p>\n<ul>\n<li><p>...</p>\n</li>\n<li><p>an aggregate or union type that includes one of the aforementioned types among its members (including, recursively, a member of a subaggregate or contained union), ...</p>\n</li>\n</ul>\n</blockquote>\n<p>Hence going from std::pair&lt;Key,Value&gt; to std::pair&lt;const Key, Value&gt; via intermediate cast to a union or a struct containing both types as members won't break strict aliasing rules.</p>\n<p>Caveat: std::pair in a union is not permited until C++11, can use a structure instead.</p>\n<p>Caveat: assumption that the two pair types have compatible layouts may not hold true. Imagine an implementation that orders first and second differently depending on the constness of the Key type.</p>\n"}, {"comments": [{"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1422453309, "post_id": 28184265, "comment_id": 44754834, "body": "But <code>std::move_backward</code> won&#39;t compile because <code>value_type</code> isn&#39;t assignable"}, {"owner": {"reputation": 161, "user_id": 4496852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rLW1.jpg?s=128&g=1", "display_name": "yoh2", "link": "https://stackoverflow.com/users/4496852/yoh2"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1422455503, "post_id": 28184265, "comment_id": 44756355, "body": "Sorry, <code>std::move_backward</code> should be replaced with placement new loop. I fixed the code."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1422458603, "post_id": 28184265, "comment_id": 44758454, "body": "That loop will be doing copy construction though, not move construction.  And even if you add <code>std::move(node-&gt;values[k - 1])</code> it will still do copy construction of the key because <code>value_type</code>&#39;s move constructor can&#39;t move from the <code>const</code> field <code>first</code>."}], "owner": {"reputation": 161, "user_id": 4496852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rLW1.jpg?s=128&g=1", "display_name": "yoh2", "link": "https://stackoverflow.com/users/4496852/yoh2"}, "is_accepted": false, "score": 4, "last_activity_date": 1422455269, "last_edit_date": 1422455269, "creation_date": 1422416608, "answer_id": 28184265, "question_id": 28072957, "link": "https://stackoverflow.com/questions/28072957/how-can-i-avoid-wasteful-copying-of-keys-in-a-b-tree-based-stl-like-map/28184265#28184265", "title": "How can I avoid wasteful copying of keys in a B-tree based STL-like map?", "body": "<p><em>Modified: expanded <code>move_backward(...)</code> into for-loop with explicit destructor call and placement new to avoid assignment error.</em></p>\n\n<p>Placement new can be used instead of simple assignment.</p>\n\n<p><em>Note: this implementation below is not exception-safe. Additional code is required for exception-safety.</em>\n</p>\n\n<pre><code>template &lt;typename Key, typename Value&gt;\nclass btree_map {\n// ...\nprivate:\n    struct node_type {\n        // Declare as value_type, not mutable_value_type.\n        value_type values[N];\n        // ...\n    };\n\n    class iterator {\n        // ...\n\n        value_type&amp; operator*() {\n            // Simply return values[i].\n            return node-&gt;values[i];\n        }\n    };\n\n    std::pair&lt;iterator, bool&gt; insert(const value_type&amp; value) {\n        // ...\n        // expand move_backward(...)\n        for(size_t k = j + 1; k &gt; i; k--) {\n            // Manually delete the previous value prior to assignment.\n            node-&gt;values[k].~value_type();\n            // Assign the new value by placement new.\n            // Note: it goes wrong if an exception occurred at this point.\n            new(&amp;node-&gt;values[k]) value_type(node-&gt;values[k - 1]);\n        }\n        // Matual delete and placement new too.\n        node-&gt;values[i].~value_type();\n        // Note: it goes wrong if an exception occurred at this point.\n        new (&amp;node-&gt;values[i]) value_type(value);\n        // ...\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 1, "creation_date": 1422613800, "post_id": 28233280, "comment_id": 44829646, "body": "I suspect the &quot;slow&quot; external storage in this case in main memory. BTrees can be faster than binary trees in modern systems because of higher cache efficiency and less pointer chasing."}, {"owner": {"reputation": 233, "user_id": 4183422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee62fef24448f1cbe62ca0eb89330e3c?s=128&d=identicon&r=PG", "display_name": "hlide", "link": "https://stackoverflow.com/users/4183422/hlide"}, "reply_to_user": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 0, "creation_date": 1422614812, "post_id": 28233280, "comment_id": 44830140, "body": "true if the size of a pair is small enough to allow several elements in the cache. Even so, sorting the internal array is probably not necessary. I mean, using a <code>std::vector&lt; std::pair&lt; key, value &gt; &gt;</code> instead of <code>std::map&lt; key, value &gt;</code> may be faster because the count of element is low."}], "owner": {"reputation": 233, "user_id": 4183422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee62fef24448f1cbe62ca0eb89330e3c?s=128&d=identicon&r=PG", "display_name": "hlide", "link": "https://stackoverflow.com/users/4183422/hlide"}, "is_accepted": false, "score": 2, "last_activity_date": 1422612429, "last_edit_date": 1422612429, "creation_date": 1422611848, "answer_id": 28233280, "question_id": 28072957, "link": "https://stackoverflow.com/questions/28072957/how-can-i-avoid-wasteful-copying-of-keys-in-a-b-tree-based-stl-like-map/28233280#28233280", "title": "How can I avoid wasteful copying of keys in a B-tree based STL-like map?", "body": "<p>You do not use BTREE as a replacement balanced binary tree with no reason: usually it is because you have a physical storage which is much slower and works as block-device that you need to use an array in a node which \"somewhat\" represents the device block. So trying to optimize the cycles spent in handling internal array is pretty marginal.</p>\n\n<p>However, I suspect N is the key factor in :</p>\n\n<pre><code>struct node_type {\n    mutable_value_type values[N];\n    // ...\n};\n</code></pre>\n\n<p>If it is small enough, you may not need to insert/lookup/remove an element in key order. The performance could be better than trying to order them in a small array. To avoid any move in Remove function, you could also define an empty slot so that Remove will just replace an element with an empty slot and Insert will replace the first met empty slot with an element.</p>\n\n<p>For bigger array, you could use two arrays : one will contain as element a pair consisting of a key and an index/iterator pointing to the value stored in the second array. That way, you can still sort the first array fast regardless the type of <code>value_type</code>. That said, you still need to handle the second array when inserting or removing an element. The first array may also contain special pairs with pre-allocated indices in the second array when creating a node. A special pair is also set at removal of an element (keeping the index for later insertion of another element). When sorting the first array those special pairs will be put at the end. And knowing the count of inserted elements, you could use it as an index to allocate the first special pair to insert an element (allocating in second array) at O(1). At removal of an element, a special pair can replace the normal pair (keeping the index) in the first array just before sorting it. And you just need to use a placement new call or a destructor call on the current element (insertion or removal).</p>\n"}], "owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 5, "answer_count": 3, "score": 16, "last_activity_date": 1422612429, "creation_date": 1421860214, "question_id": 28072957, "link": "https://stackoverflow.com/questions/28072957/how-can-i-avoid-wasteful-copying-of-keys-in-a-b-tree-based-stl-like-map", "title": "How can I avoid wasteful copying of keys in a B-tree based STL-like map?", "body": "<p>I'm replacing a use of <code>std::map</code> in a hot path with <a href=\"https://code.google.com/p/cpp-btree/\">cpp-btree</a>'s <code>btree_map</code>.  But with optimization enabled, GCC and Clang complain about a strict aliasing violation.  The problem boils down to this:</p>\n\n<pre><code>template &lt;typename Key, typename Value&gt;\nclass btree_map {\npublic:\n    // In order to match the standard library's container interfaces\n    using value_type = std::pair&lt;const Key, Value&gt;;\n\nprivate:\n    using mutable_value_type = std::pair&lt;Key, Value&gt;;\n\n    struct node_type {\n        mutable_value_type values[N];\n        // ...\n    };\n\npublic:\n    class iterator {\n        // ...\n\n        value_type&amp; operator*() {\n            // Here we cast from const std::pair&lt;Key, Value&gt;&amp;\n            // to const std::pair&lt;const Key, Value&gt;&amp;\n            return reinterpret_cast&lt;value_type&amp;&gt;(node-&gt;values[i]);\n        }\n    };\n\n    std::pair&lt;iterator, bool&gt; insert(const value_type&amp; value) {\n        // ...\n        // At this point, we have to insert into the middle of a node.\n        // Here we rely on nodes containing mutable_value_type, because\n        // value_type isn't assignable due to the const Key member\n        std::move_backward(node-&gt;values + i, node-&gt;values + j,\n                           node-&gt;values + j + 1);\n        node-&gt;values[i] = value;\n        // ...\n    }\n};\n</code></pre>\n\n<p>This got me thinking, is there a way to do this as efficiently that doesn't rely on undefined behaviour?  The keys I'm using are efficiently moveable but fairly slow to copy, so I'd love to avoid copying many keys on every insertion.  I've considered</p>\n\n<ul>\n<li>Using <code>value_type values[N]</code>, then <code>const_cast&lt;Key&amp;&gt;(values[i].first) = std::move(key)</code> to move the key around, but I'm pretty sure that's still undefined</li>\n<li>Returning <code>std::pair&lt;const Key&amp;, Value&amp;&gt;</code> instead of <code>std::pair&lt;const Key, Value&gt;&amp;</code> when appropriate, but I'm not sure this would still satisfy the container requirements (I hear <code>...::reference</code> is supposed to really be a reference type)</li>\n<li>Not caring.  The code works as-is, but I'm curious if it can be done in a standard-compliant way.  There's also the chance that future compilers do different things with the UB, and I don't know of a way to apply <code>-fno-strict-aliasing</code> to only a single class.</li>\n</ul>\n\n<p>Any other ideas?</p>\n"}, {"tags": ["c++", "gdb", "eigen"], "comments": [{"owner": {"reputation": 513, "user_id": 2658323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd58250dd25aa5f9edfeb265c8516299?s=128&d=identicon&r=PG", "display_name": "user2658323", "link": "https://stackoverflow.com/users/2658323/user2658323"}, "edited": false, "score": 0, "creation_date": 1422982985, "post_id": 28072936, "comment_id": 44960276, "body": "Which python version? Mine is 2.7.8, and works correctly with Debian&#39;s gdb 7.7.1+dfsg-5."}, {"owner": {"reputation": 78, "user_id": 3987731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085068b551760fac68f327911e6be14b?s=128&d=identicon&r=PG&f=1", "display_name": "rkeatin3", "link": "https://stackoverflow.com/users/3987731/rkeatin3"}, "reply_to_user": {"reputation": 513, "user_id": 2658323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd58250dd25aa5f9edfeb265c8516299?s=128&d=identicon&r=PG", "display_name": "user2658323", "link": "https://stackoverflow.com/users/2658323/user2658323"}, "edited": false, "score": 0, "creation_date": 1422999705, "post_id": 28072936, "comment_id": 44969614, "body": "My python version is 2.7.6."}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 3987731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085068b551760fac68f327911e6be14b?s=128&d=identicon&r=PG&f=1", "display_name": "rkeatin3", "link": "https://stackoverflow.com/users/3987731/rkeatin3"}, "edited": false, "score": 0, "creation_date": 1423064346, "post_id": 28320932, "comment_id": 44998261, "body": "This is the output I get: 3.4.0 (default, Apr 11 2014, 13:08:40)"}, {"owner": {"reputation": 513, "user_id": 2658323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd58250dd25aa5f9edfeb265c8516299?s=128&d=identicon&r=PG", "display_name": "user2658323", "link": "https://stackoverflow.com/users/2658323/user2658323"}, "reply_to_user": {"reputation": 78, "user_id": 3987731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085068b551760fac68f327911e6be14b?s=128&d=identicon&r=PG&f=1", "display_name": "rkeatin3", "link": "https://stackoverflow.com/users/3987731/rkeatin3"}, "edited": false, "score": 0, "creation_date": 1423149511, "post_id": 28320932, "comment_id": 45039279, "body": "So that&#39;s the difference then. The script uses python 2 syntax, whether your gdb interpreter uses python 3. It has to be adapted to work in your environment. Related: <a href=\"https://stackoverflow.com/questions/6800481/python-map-object-is-not-subscriptable\" title=\"python map object is not subscriptable\">stackoverflow.com/questions/6800481/&hellip;</a>"}, {"owner": {"reputation": 78, "user_id": 3987731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085068b551760fac68f327911e6be14b?s=128&d=identicon&r=PG&f=1", "display_name": "rkeatin3", "link": "https://stackoverflow.com/users/3987731/rkeatin3"}, "edited": false, "score": 0, "creation_date": 1423152469, "post_id": 28320932, "comment_id": 45041291, "body": "Fixed, thanks! I was hoping it would print Matlab-style rather than element by element, but I guess there&#39;s my reason to learn a little python..."}, {"owner": {"reputation": 2669, "user_id": 425758, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3c97d7bf6230e9b69680eeed46e6e467?s=128&d=identicon&r=PG", "display_name": "zhanxw", "link": "https://stackoverflow.com/users/425758/zhanxw"}, "edited": false, "score": 1, "creation_date": 1461778924, "post_id": 28320932, "comment_id": 61358385, "body": "I used 2to3 tool (<a href=\"https://docs.python.org/2.7/library/2to3.html\" rel=\"nofollow noreferrer\">docs.python.org/2.7/library/2to3.html</a>) to convert eigen-3.2.5/debug/gdb/printers.py and resolved the problem."}], "owner": {"reputation": 513, "user_id": 2658323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd58250dd25aa5f9edfeb265c8516299?s=128&d=identicon&r=PG", "display_name": "user2658323", "link": "https://stackoverflow.com/users/2658323/user2658323"}, "is_accepted": true, "score": 2, "last_activity_date": 1423051468, "creation_date": 1423051468, "answer_id": 28320932, "question_id": 28072936, "link": "https://stackoverflow.com/questions/28072936/trouble-printing-eigen-types-in-gdb-using-python-extension/28320932#28320932", "title": "Trouble printing Eigen types in gdb using python extension", "body": "<p>Can you make sure that 2.7.6 is the version that gdb uses by making the following check from it?</p>\n\n<ol>\n<li>Start gdb.</li>\n<li><p>Type:</p>\n\n<p>import sys</p>\n\n<p>print (sys.version)</p></li>\n<li><p>End with <code>CTRL+D</code></p></li>\n</ol>\n"}], "owner": {"reputation": 78, "user_id": 3987731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085068b551760fac68f327911e6be14b?s=128&d=identicon&r=PG&f=1", "display_name": "rkeatin3", "link": "https://stackoverflow.com/users/3987731/rkeatin3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 28320932, "answer_count": 1, "score": 4, "last_activity_date": 1423051468, "creation_date": 1421860150, "last_edit_date": 1495542233, "question_id": 28072936, "link": "https://stackoverflow.com/questions/28072936/trouble-printing-eigen-types-in-gdb-using-python-extension", "title": "Trouble printing Eigen types in gdb using python extension", "body": "<p>I'd like to print Eigen matrices and vectors in gdb, and so I added the extension to do so found here: <a href=\"https://bitbucket.org/eigen/eigen/src/12a658962d4e/debug/gdb/printers.py\" rel=\"nofollow noreferrer\">https://bitbucket.org/eigen/eigen/src/12a658962d4e/debug/gdb/printers.py</a></p>\n\n<p>When I try to call print on some Eigen type in ddd, however, I get the following error:</p>\n\n<pre><code>Python Exception &lt;class 'TypeError'&gt; 'map' object is not subscriptable: \nPython Exception &lt;class 'TypeError'&gt; 'map' object is not subscriptable: \nPython Exception &lt;class 'TypeError'&gt; 'map' object is not subscriptable:\n</code></pre>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/21340866/how-to-use-pretty-debugging-printers-to-see-eigen-objects-in-qtcreator\">this post</a> I checked that my gcc version is 4.8.2 and my gdb version is 7.7.1, so neither of those are the problem. </p>\n\n<p>Any ideas on how I might be able to fix this?</p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 2414, "user_id": 3724513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a5e701ba06fa236feca9bc7252ca946a?s=128&d=identicon&r=PG&f=1", "display_name": "DDD", "link": "https://stackoverflow.com/users/3724513/ddd"}, "edited": false, "score": 0, "creation_date": 1421860727, "post_id": 28072895, "comment_id": 44525549, "body": "Why are you connecting to the server everytime? TCP is not connectionless. You connect once and all you have to do is to check if the connection is still alive. If its not just destroy the socket. And try to reconnect. And the listener must be bind only once."}, {"owner": {"reputation": 11, "user_id": 4375549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f31a3f34aab1b5987ed8003e61c762d?s=128&d=identicon&r=PG&f=1", "display_name": "usualusernamewasnotavailable", "link": "https://stackoverflow.com/users/4375549/usualusernamewasnotavailable"}, "reply_to_user": {"reputation": 2414, "user_id": 3724513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a5e701ba06fa236feca9bc7252ca946a?s=128&d=identicon&r=PG&f=1", "display_name": "DDD", "link": "https://stackoverflow.com/users/3724513/ddd"}, "edited": false, "score": 1, "creation_date": 1421861455, "post_id": 28072895, "comment_id": 44525987, "body": "@Azarus Thank you saved me from going insane :D"}], "owner": {"reputation": 11, "user_id": 4375549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f31a3f34aab1b5987ed8003e61c762d?s=128&d=identicon&r=PG&f=1", "display_name": "usualusernamewasnotavailable", "link": "https://stackoverflow.com/users/4375549/usualusernamewasnotavailable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421862752, "creation_date": 1421860052, "last_edit_date": 1421862752, "question_id": 28072895, "link": "https://stackoverflow.com/questions/28072895/sfml-tcp-problems", "title": "SFML TCP problems", "body": "<p>What's wrong with the following code snippets?</p>\n\n<p>the following is a snippet of the client side program code:</p>\n\n<pre><code>   while (!done)\n    {\n        std::cout &lt;&lt; \"Creating connection\" &lt;&lt; std::endl;\n        sf::TcpSocket socket;\n        sf::Socket::Status status = socket.connect(\"192.168.0.5\", 53000);\n        if (status != sf::Socket::Done)\n        {\n            std::cout &lt;&lt; \"Client Error\" &lt;&lt; std::endl;\n        }\n        std::cout &lt;&lt; \"Created\" &lt;&lt; std::endl;\n        char data[100] = { 'H', 'e', 'l', 'l', 'o', '\\0' };\n        system(\"pause\");\n        if (socket.send(data, 100) != sf::Socket::Done)\n        {\n            std::cout &lt;&lt; \"Client Error : Couldn't send data\" &lt;&lt; std::endl;\n        }\n    }\n</code></pre>\n\n<p>This code sends the data correctly in alternating steps. </p>\n\n<p>How do I fix it?</p>\n\n<p>also, <code>system(pause)</code> is used to generate a delay.</p>\n\n<p>the following is a snippet of the server program code:</p>\n\n<pre><code>while (!done)\n{\n    sf::TcpListener listener;\n\n    // bind the listener to a port\n    if (listener.listen(53000) != sf::Socket::Done)\n    {\n        // error...\n    }\n\n    // accept a new connection\n    sf::TcpSocket client;\n    if (listener.accept(client) != sf::Socket::Done)\n    {\n        // error...\n        std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n    }\n    else\n    {       \n        std::cout &lt;&lt; \"New client connected: \" &lt;&lt; client.getRemoteAddress() &lt;&lt; std::endl;\n        char data[100];\n        std::size_t received;\n\n        // TCP socket:\n        if (client.receive(data, 100, received) != sf::Socket::Done)\n        {\n            // error...\n        }\n        std::cout &lt;&lt; \"Received \" &lt;&lt; received &lt;&lt; \" bytes: \" &lt;&lt; data &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"Ready\" &lt;&lt; std::endl;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "c++11", "variadic"], "comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1421860514, "post_id": 28072893, "comment_id": 44525423, "body": "to be clear: How do you want the initialization to look like?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1421860517, "post_id": 28072893, "comment_id": 44525425, "body": "As <code>Parent</code> will have to know its own <code>Parent</code>, the final <code>Child</code> will have the whole hierarchy as Parent type..."}, {"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1421860845, "post_id": 28072893, "comment_id": 44525619, "body": "@bolob.  The commented out line in main shows what I would like to have.  @Jarod42, so if I decare <code>grandchild</code> as <code>Object&lt;int, char, double&gt; grandChild;</code> instead, then the whole thing will ultimately be possible?  But that would mean that the pack needs <code>...</code> at both ends, loosely speaking, won&#39;t it (hence the title)?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1421867056, "post_id": 28072893, "comment_id": 44528828, "body": "I got this, I hope I remember to make it into a full answer later: <a href=\"http://coliru.stacked-crooked.com/a/590616d7a4bb1647\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/590616d7a4bb1647</a>"}, {"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "edited": false, "score": 0, "creation_date": 1421893294, "post_id": 28072893, "comment_id": 44539234, "body": "@At Mooing Duck. Yes, using an integer to identify the value-type was what I was thinking of too as I drove home. You might want to check out cdhowie&#39;s solution too, which doesn&#39;t force us to count with our eyes which one is the value type."}], "answers": [{"comments": [{"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "edited": false, "score": 0, "creation_date": 1421894903, "post_id": 28073519, "comment_id": 44539629, "body": "Thanks for the excellent solution and text-book explanation.  I tested that the second <code>pack&lt;...&gt;</code> used is not needed since we do know where that second <code>pack</code> begins (always the second type after the first <code>pack</code>).  Thanks very much!"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "edited": false, "score": 0, "creation_date": 1421898822, "post_id": 28073519, "comment_id": 44540617, "body": "@prestokeys Yup, that is true. For some reason that didn&#39;t come to mind. Thankfully that&#39;s an easy change."}], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": true, "score": 2, "last_activity_date": 1421882482, "last_edit_date": 1421882482, "creation_date": 1421862090, "answer_id": 28073519, "question_id": 28072893, "link": "https://stackoverflow.com/questions/28072893/variadic-templates-double-ended-pack-workaround/28073519#28073519", "title": "Variadic templates double-ended pack workaround", "body": "<p>The compiler has to be able to tell where one argument pack begins and another ends.  To this end, what you ask is not <em>directly</em> possible, but there is a workaround: use another variadic template as a \"pack delimiter.\"</p>\n\n<p>Our goal will be to support a type like this:</p>\n\n<pre><code>Object&lt;pack&lt;A, B&gt;, C, pack&lt;D, E&gt;&gt; foo;\n</code></pre>\n\n<p>In this case, <code>C</code> is <code>foo</code>'s value type and it will have the following related types:</p>\n\n<pre><code>Object&lt;pack&lt;A&gt;, B, pack&lt;C, D, E&gt;&gt; foo_parent;\nObject&lt;pack&lt;A, B, C&gt;, D, pack&lt;E&gt;&gt; foo_child;\n</code></pre>\n\n<p>Parent-less types will have an empty first pack and child-less types will have an empty second pack.</p>\n\n<p>This is complicated a lot by the fact that you can't \"recurse backwards\" through variadic arguments, so the types that have parents will be a bit obfuscated.  (Unfortunately the approach <code>template &lt;typename... Types, typename Last&gt; struct foo</code> doesn't work because a parameter pack has to be the <em>last</em> thing in a template argument list.)  We'll need more helpers to obtain and also \"peel off\" the last type in a variadic pack (change <code>pack&lt;A, B, C&gt;</code> into <code>pack&lt;A, B&gt;</code>).</p>\n\n<p>We will start with our declaration of <code>pack</code>:</p>\n\n<pre><code>// Helper template; needs no definition since we never instantiate it.\ntemplate &lt;typename...&gt; struct pack;\n</code></pre>\n\n<p>Now we need a helper to obtain the last type in a pack; given <code>pack&lt;A, B, C&gt;</code> it should let us obtain <code>C</code>.  To do this we define a meta-function that will remove types from the beginning of the pack until there is only one left.</p>\n\n<pre><code>// Helper to allow us to obtain the last type from a pack.\ntemplate &lt;typename&gt; struct last_type_in_pack;\n\ntemplate &lt;typename T&gt;\nstruct last_type_in_pack&lt;pack&lt;T&gt;&gt;\n{\n    typedef T type;\n};\n\ntemplate &lt;typename First, typename... Types&gt;\nstruct last_type_in_pack&lt;pack&lt;First, Types...&gt;&gt;\n    : public last_type_in_pack&lt;pack&lt;Types...&gt;&gt; { };\n</code></pre>\n\n<p>Now we need the helper to turn <code>pack&lt;A, B, C&gt;</code> into <code>pack&lt;A, B&gt;</code>. We'll use this when building the parent type for an object.  This meta-function works by starting with the template arguments <code>pack&lt;&gt;, pack&lt;A, B, C&gt;</code> and moving the left-most type of the right pack to the right-most position in the left pack. When the right-most pack has one remaining type, the left-most pack is our final type.</p>\n\n<p>If this is hard to follow, here are the steps:</p>\n\n<ol>\n<li>Start with <code>pack&lt;&gt;, pack&lt;A, B, C&gt;</code>. The right pack has more than one element, so we continue.</li>\n<li>Now we have <code>pack&lt;A&gt;, pack&lt;B, C&gt;</code>. The right pack still has more than one element.</li>\n<li>Now we have <code>pack&lt;A, B&gt;, pack&lt;C&gt;</code>. The right pack has one element, so the left pack is our final type.</li>\n</ol>\n\n<p>The implementation:</p>\n\n<pre><code>// We need another helper to allow us to \"peel off\" the last type from a pack,\n// turning pack&lt;A, B, C&gt; into pack&lt;A, B&gt; for example.\ntemplate &lt;typename, typename&gt; struct remove_last_type_from_pack_impl;\n\ntemplate &lt;typename... Types, typename LastType&gt;\nstruct remove_last_type_from_pack_impl&lt;pack&lt;Types...&gt;, pack&lt;LastType&gt;&gt;\n{\n    typedef pack&lt;Types...&gt; type;\n};\n\ntemplate &lt;typename... TS1, typename T2, typename... TS2&gt;\nstruct remove_last_type_from_pack_impl&lt;pack&lt;TS1...&gt;, pack&lt;T2, TS2...&gt;&gt;\n    : public remove_last_type_from_pack_impl&lt;pack&lt;TS1..., T2&gt;, pack&lt;TS2...&gt;&gt; { };\n\ntemplate &lt;typename&gt;\nstruct remove_last_type_from_pack;\n\ntemplate &lt;typename... Types&gt;\nstruct remove_last_type_from_pack&lt;pack&lt;Types...&gt;&gt;\n    : public remove_last_type_from_pack_impl&lt;pack&lt;&gt;, pack&lt;Types...&gt;&gt; { };\n</code></pre>\n\n<p>Now our actual declaration of <code>Object</code>.  We do not define it, because we will be providing partial specializations for every intended instantiation.  If someone tries to use this template with arguments we don't support they'll just get an \"incomplete type\" error, which is what we want.</p>\n\n<pre><code>template &lt;typename...&gt; struct Object;\n</code></pre>\n\n<p>Partial specialization allowing \"double-ended\" packs, and requiring at least one parent type and one child type.  (<code>FirstParent</code> exists solely to enforce that this partial specialization won't match when the first pack is empty.)</p>\n\n<pre><code>template &lt;typename FirstParent, typename... ParentTypes,\n          typename T,\n          typename FirstChild, typename... ChildTypes&gt;\nstruct Object&lt;pack&lt;FirstParent, ParentTypes...&gt;, T, pack&lt;FirstChild, ChildTypes...&gt;&gt;\n{\n    // We'll shift the packs around T to define our child and parent types:\n    typedef Object&lt;pack&lt;FirstParent, ParentTypes..., T&gt;,\n                   FirstChild,\n                   pack&lt;ChildTypes...&gt;&gt; child_type;\n\n    typedef Object&lt;\n        typename remove_last_type_from_pack&lt;pack&lt;FirstParent, ParentTypes...&gt;&gt;::type,\n        typename last_type_in_pack&lt;pack&lt;FirstParent, ParentTypes...&gt;&gt;::type,\n        pack&lt;T, FirstChild, ChildTypes...&gt;&gt; parent_type;\n\n    T item;\n    child_type * child;\n    parent_type * parent;\n\n    Object(T const &amp; t) : item(t) { }\n    Object(T &amp;&amp; t) : item(std::move(t)) { }\n};\n</code></pre>\n\n<p>Now we need specializations for parent-less and child-less.</p>\n\n<p>The parent-less type is relatively simple:</p>\n\n<pre><code>template &lt;typename T, typename FirstChild, typename... ChildTypes&gt;\nstruct Object&lt;pack&lt;&gt;, T, pack&lt;FirstChild, ChildTypes...&gt;&gt;\n{\n    typedef Object&lt;pack&lt;T&gt;, FirstChild, pack&lt;ChildTypes...&gt;&gt; child_type;\n\n    T item;\n    child_type * child;\n\n    Object(T const &amp; t) : item(t) { }\n    Object(T &amp;&amp; t) : item(std::move(t)) { }\n};\n</code></pre>\n\n<p>Now the child-less type.  As before, <code>FirstParent</code> just ensures that we have at least one parent type.</p>\n\n<p>We have to do the same gymnastics to obtain the parent type.</p>\n\n<pre><code>template &lt;typename FirstParent, typename... ParentTypes, typename T&gt;\nstruct Object&lt;pack&lt;FirstParent, ParentTypes...&gt;, T, pack&lt;&gt;&gt;\n{\n    typedef Object&lt;\n        typename remove_last_type_from_pack&lt;pack&lt;FirstParent, ParentTypes...&gt;&gt;::type,\n        typename last_type_in_pack&lt;pack&lt;FirstParent, ParentTypes...&gt;&gt;::type,\n        pack&lt;T&gt;&gt; parent_type;\n\n    T item;\n    parent_type * parent;\n\n    Object(T const &amp; t) : item(t) { }\n    Object(T &amp;&amp; t) : item(std::move(t)) { }\n};\n</code></pre>\n\n<p>Note that at this point <code>Object&lt;pack&lt;&gt;, T, pack&lt;&gt;&gt;</code> can't be instantiated since no specialization matches it, and the base template isn't defined. This type doesn't really make much sense, IMO, but you can specialize <code>Object</code> for it if you want:</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct Object&lt;pack&lt;&gt;, T, pack&lt;&gt;&gt;\n{\n    T item;\n\n    Object(T const &amp; t) : item(t) { }\n    Object(T &amp;&amp; t) : item(std::move(t)) { }\n};\n</code></pre>\n\n<p>If you still want your <code>ObjectWithNoParent</code> template alias, here is what that would look like now:</p>\n\n<pre><code>template &lt;typename Arg, typename... Rest&gt;\nusing ObjectWithNoParent = Object&lt;pack&lt;&gt;, Arg, pack&lt;Rest...&gt;&gt;;\n</code></pre>\n\n<p>(<a href=\"http://ideone.com/ZRfLP1\" rel=\"nofollow\">Here is a sample</a> that doesn't do much, but it does show that this compiles and it asserts that parent and child types are what we expect.)</p>\n"}], "owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 28073519, "answer_count": 1, "score": 1, "last_activity_date": 1421887055, "creation_date": 1421860045, "last_edit_date": 1421887055, "question_id": 28072893, "link": "https://stackoverflow.com/questions/28072893/variadic-templates-double-ended-pack-workaround", "title": "Variadic templates double-ended pack workaround", "body": "<p>The following code compiles because I'm assuming that <code>parent</code> of <code>Object&lt;Parent, T, Rest...&gt;</code> itself has no parent.</p>\n\n<pre><code>template &lt;typename Parent, typename T, typename... Rest&gt;\nstruct Object {\n    T item;  // T is item's type, while Parent is parent's item's type.\n    Object&lt;T, Rest...&gt;* child;  // child's item type is the first type from Rest...\n    Object&lt;void, Parent, T, Rest...&gt;* parent;\n    Object(const T&amp; t) : item(t) {}\n    void setChild (Object&lt;T, Rest...&gt;* c) {\n        child = c;\n        child-&gt;setParent(this);\n    }\n    void setParent (Object&lt;void, Parent, T, Rest...&gt;* p) {parent = p;}\n};\n\ntemplate &lt;typename Parent, typename T&gt;\nstruct Object&lt;Parent, T&gt; {  // Has no child.\n    T item;\n    Object&lt;void, Parent, T&gt;* parent;\n    Object(const T&amp; t) : item(t) {}\n    void setParent (Object&lt;void, Parent, T&gt;* p) {parent = p;}\n};\n\ntemplate &lt;typename... Args&gt;\nusing ObjectWithNoParent = Object&lt;void, Args...&gt;;\n\nint main() {\n    ObjectWithNoParent&lt;int, char, double&gt; object(2);\n    Object&lt;int, char, double&gt; child('r');\n    object.setChild(&amp;child);\n    Object&lt;char, double&gt; grandChild(3.5);\n//    child.setChild(&amp;grandChild);  // Want this line to work.\n}\n</code></pre>\n\n<p>What workaround can I use so that I can replace the type <code>void</code> with a general type?</p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 44714, "user_id": 731620, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6e2168c4647a4f096a14c254bd3d3f68?s=128&d=identicon&r=PG", "display_name": "ratchet freak", "link": "https://stackoverflow.com/users/731620/ratchet-freak"}, "edited": false, "score": 1, "creation_date": 1421860748, "post_id": 28072860, "comment_id": 44525565, "body": "you shouldn&#39;t create and delete the buffers each draw call, just create once and update when needed."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 2784930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5aa6d13d7acafcfece41c349005c8752?s=128&d=identicon&r=PG&f=1", "display_name": "user2784930", "link": "https://stackoverflow.com/users/2784930/user2784930"}, "edited": false, "score": 0, "creation_date": 1421860694, "post_id": 28073030, "comment_id": 44525533, "body": "Ah.  Another thing, am I doing this right?  Is this how you would draw rectangles and other shapes?"}, {"owner": {"reputation": 16, "user_id": 2522932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b744ee813857233c29670f49ed1c72e?s=128&d=identicon&r=PG", "display_name": "zonk", "link": "https://stackoverflow.com/users/2522932/zonk"}, "reply_to_user": {"reputation": 15, "user_id": 2784930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5aa6d13d7acafcfece41c349005c8752?s=128&d=identicon&r=PG&f=1", "display_name": "user2784930", "link": "https://stackoverflow.com/users/2784930/user2784930"}, "edited": false, "score": 0, "creation_date": 1421868693, "post_id": 28073030, "comment_id": 44529691, "body": "Well, the general idea is right. Some tips: you should do <code>glGenBuffers</code> and such only at startup, and then just put there new vertices data. Try to prepare all your vertices and colours in one huge array and then do one <code>glBufferData(); glDrawArrays();</code> call for every frame. And if only a small fraction of your rectangles is changing from frame to frame, then consider using <code>glBufferSubData</code>."}], "owner": {"reputation": 16, "user_id": 2522932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b744ee813857233c29670f49ed1c72e?s=128&d=identicon&r=PG", "display_name": "zonk", "link": "https://stackoverflow.com/users/2522932/zonk"}, "is_accepted": true, "score": 0, "last_activity_date": 1421860483, "creation_date": 1421860483, "answer_id": 28073030, "question_id": 28072860, "link": "https://stackoverflow.com/questions/28072860/opengl-only-most-recent-vertex-draw-displayed/28073030#28073030", "title": "OpenGL only most recent vertex draw displayed", "body": "<p>You should call <code>glClear( GL_COLOR_BUFFER_BIT );</code> only once, before all <code>draw*()</code> calls.</p>\n"}], "owner": {"reputation": 15, "user_id": 2784930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5aa6d13d7acafcfece41c349005c8752?s=128&d=identicon&r=PG&f=1", "display_name": "user2784930", "link": "https://stackoverflow.com/users/2784930/user2784930"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 28073030, "answer_count": 1, "score": 0, "last_activity_date": 1421860483, "creation_date": 1421859935, "question_id": 28072860, "link": "https://stackoverflow.com/questions/28072860/opengl-only-most-recent-vertex-draw-displayed", "title": "OpenGL only most recent vertex draw displayed", "body": "<p>New to OpenGL, tried to draw 2 rectangles separately using a rectangle draw function.  Using openGL 3, GLFW and GLEW.  I made a function called drawBox to draw a rectangle.\nMy problem here is that if I call it more than once in the main loop, only the last rectangle drawn is displayed.</p>\n\n<pre><code>void drawBox(float x, float y, float w, float h, float r, float g, float b) {\nGLfloat colours[15], vertices[10] = {\n    x, y,\n    x, y + h,\n    x + w, y + h,\n    x + w, y,\n    x, y\n};\nfor(int i = 0; i &lt; 5; ++i) {\n    colours[3*i] = (GLfloat)r;\n    colours[3*i + 1] = (GLfloat)g;\n    colours[3*i + 2] = (GLfloat)b;\n}\nGLuint buff[2];\nglGenBuffers(2, buff);\n\nglBindBuffer(GL_ARRAY_BUFFER, buff[1]); \nglBufferData(GL_ARRAY_BUFFER, 15*sizeof(GLfloat), colours, GL_STREAM_DRAW); \nglVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 0, (void*)0);\nglEnableVertexAttribArray(1);\n\nglBindBuffer(GL_ARRAY_BUFFER, buff[0]); \nglBufferData(GL_ARRAY_BUFFER, 10*sizeof(GLfloat), vertices, GL_STREAM_DRAW); \nglVertexAttribPointer(0, 2, GL_FLOAT, GL_FALSE, 0, (void*)0);\nglEnableVertexAttribArray(0);\n\nglClear( GL_COLOR_BUFFER_BIT );\nglUseProgram(defaultShader);\nglDrawArrays(GL_TRIANGLE_STRIP, 0, 5);        \nglDisableVertexAttribArray(0);\nglDisableVertexAttribArray(1);\nglDeleteBuffers(2, buff);\n} \n</code></pre>\n\n<p>What would I need to change to make this function display a rectangle regardless of past draws.  Assume all z-indices are 0 and overlap never happens.  Assume that I may have to make drawCircle calls or drawTriangle or something in between 2 calls to drawBox.</p>\n"}, {"tags": ["android", "c++", "google-play", "google-play-services"], "owner": {"reputation": 723, "user_id": 1484157, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/059c0afaacff29dffbb793aa2469553f?s=128&d=identicon&r=PG", "display_name": "Dredok", "link": "https://stackoverflow.com/users/1484157/dredok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421859166, "creation_date": 1421859166, "question_id": 28072612, "link": "https://stackoverflow.com/questions/28072612/where-can-i-see-a-comprehensive-log-of-google-play-services-c-sdk", "title": "Where can I see a comprehensive log of google play services c++ SDK?", "body": "<p>I'm integrating google play services SDK in unreal engine (saved games). The engine already uses a version of the c++ SDK (1.1). Now I see the latest version is 1.3 and thinking if its worth the change. But I can not see anywhere a changelog / revision log / news whatever.</p>\n\n<p>What are the improvements / bug fixes / news  of 1.3 vs 1.1 ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "opencv", "kinect", "kinect-sdk"], "answers": [{"owner": {"reputation": 329, "user_id": 1877058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qLZNy.jpg?s=128&g=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/1877058/laura"}, "is_accepted": true, "score": 0, "last_activity_date": 1421866658, "creation_date": 1421866658, "answer_id": 28074727, "question_id": 28072576, "link": "https://stackoverflow.com/questions/28072576/displaying-kinect-streams-using-opencv-c/28074727#28074727", "title": "Displaying Kinect streams using OpenCV (C++)", "body": "<p>Finally figured out how to use pointer arithmetic. The code is self-explanatory:</p>\n\n<pre><code>Mat_&lt;Vec3b&gt; mat = Mat::zeros(480, 640, CV_8UC3);\n\nNUI_IMAGE_FRAME imageFrame;\nNUI_LOCKED_RECT lockedRect;\n\nif (sensor-&gt;NuiImageStreamGetNextFrame(colorStream, 0, &amp;imageFrame) &lt; 0) { return; }\n\nINuiFrameTexture* texture = imageFrame.pFrameTexture;\ntexture-&gt;LockRect(0, &amp;lockedRect, NULL, 0);\n\n\nif (lockedRect.Pitch != 0)\n{\n    BYTE* upperLeftCorner = (BYTE*)lockedRect.pBits;\n    BYTE* pointerToTheByteBeingRead = upperLeftCorner;\n\n    for (int i = 0; i &lt; 480; i++)\n    {\n        Vec3b *pointerToRow = mat.ptr&lt;Vec3b&gt;(i);\n\n        for (int j = 0; j &lt; 640; j++)\n        {\n            unsigned char r = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 1;\n            unsigned char g = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 1;\n            unsigned char b = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 2; //So to skip the alpha channel\n\n            pointerToRow[j] = Vec3b(r, g, b);\n        }\n    }\n\n}\n\ntexture-&gt;UnlockRect(0);\nsensor-&gt;NuiImageStreamReleaseFrame(colorStream, &amp;imageFrame);\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 1877058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qLZNy.jpg?s=128&g=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/1877058/laura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 1, "accepted_answer_id": 28074727, "answer_count": 1, "score": 0, "last_activity_date": 1421866658, "creation_date": 1421859055, "question_id": 28072576, "link": "https://stackoverflow.com/questions/28072576/displaying-kinect-streams-using-opencv-c", "title": "Displaying Kinect streams using OpenCV (C++)", "body": "<p>I'm trying to get every frame of the stream produced by the RGB camera of the Kinect (using SDK version 1.8) into an OpenCV (2.4.10) <code>Mat_&lt;Vec3b&gt;</code>. This is my current algorithm, which is not at all fast:</p>\n\n<pre><code>Mat_&lt;Vec3b&gt; mat = Mat::zeros(480, 640, CV_8UC3);\n\nNUI_IMAGE_FRAME imageFrame;\nNUI_LOCKED_RECT lockedRect;\n\nif (sensor-&gt;NuiImageStreamGetNextFrame(colorStream, 0, &amp;imageFrame) &lt; 0) { return; }\n\nINuiFrameTexture* texture = imageFrame.pFrameTexture;\ntexture-&gt;LockRect(0, &amp;lockedRect, NULL, 0);\n\n\nif (lockedRect.Pitch != 0)\n{\n    BYTE* upperLeftCorner = (BYTE*)lockedRect.pBits;\n    BYTE* pointerToTheByteBeingRead = upperLeftCorner;\n\n    for (int i = 0; i &lt; 480; i++)\n    {\n        for (int j = 0; j &lt; 640; j++)\n        {\n            unsigned char r = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 1;\n            unsigned char g = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 1;\n            unsigned char b = *pointerToTheByteBeingRead;\n            pointerToTheByteBeingRead += 2; //So to skip the alpha channel\n\n            mat.at&lt;Vec3b&gt;(Point(j, i))[0] = r;\n            mat.at&lt;Vec3b&gt;(Point(j, i))[1] = g;\n            mat.at&lt;Vec3b&gt;(Point(j, i))[2] = b;\n        }\n    }\n\n}\n\ntexture-&gt;UnlockRect(0);\nsensor-&gt;NuiImageStreamReleaseFrame(colorStream, &amp;imageFrame);\n</code></pre>\n\n<p>I checked <a href=\"http://docs.opencv.org/doc/tutorials/core/how_to_scan_images/how_to_scan_images.html#howtoscanimagesopencv\" rel=\"nofollow\">the OpenCV documentation</a> and I understand I'm supposed to use pointer access to increase efficiency. Are <code>Mat_&lt;Vec3b&gt;</code>s stored into memory the same way as <code>Mat</code>s or should I do some other pointer arithmetic?</p>\n\n<p>Also, I understand updating every single pixel every time is not the most efficient way of achieving the display of the stream through a Mat. What other things could I do?</p>\n"}, {"tags": ["c++", "unordered-map"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1421859053, "post_id": 28072525, "comment_id": 44524534, "body": "What do you mean by &quot;determine which is which&quot;? Do you need to know the order they were inserted into the map?"}, {"owner": {"reputation": 11800, "user_id": 1594913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tLf29.jpg?s=128&g=1", "display_name": "JBL", "link": "https://stackoverflow.com/users/1594913/jbl"}, "edited": false, "score": 3, "creation_date": 1421859098, "post_id": 28072525, "comment_id": 44524572, "body": "If I understand correctly, what&#39;s wrong with an <code>unordered_map&lt;int, std::pair&lt;float,float&gt;&gt;</code>. That maps pretty well &quot;for each key I want to store two unique floats&quot;. A pair lets you keep track of the floats with <code>first</code> and <code>second</code>. Keep in mind though that you should be definitely sure that you must store two and only two floats. This solution doesn&#39;t evolve."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1421859306, "post_id": 28072525, "comment_id": 44524724, "body": "The answer is probably <code>unordered_multimap</code>, Can you clarify how it lacks &quot;great feel&quot; and &quot;good way&quot;?"}, {"owner": {"reputation": 261, "user_id": 3700636, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0b144a688e196f8f83cec2d743f201ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Southworth", "link": "https://stackoverflow.com/users/3700636/ben-southworth"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1421859640, "post_id": 28072525, "comment_id": 44524923, "body": "@MarkRansom Not so much the order as much as some way to distinguish to two values. I.e. at the end of the code I have two values for a key - say values A and B - and I want some way to collect all of the A-values and all of the B-values form all keys."}, {"owner": {"reputation": 261, "user_id": 3700636, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0b144a688e196f8f83cec2d743f201ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Southworth", "link": "https://stackoverflow.com/users/3700636/ben-southworth"}, "reply_to_user": {"reputation": 11800, "user_id": 1594913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tLf29.jpg?s=128&g=1", "display_name": "JBL", "link": "https://stackoverflow.com/users/1594913/jbl"}, "edited": false, "score": 0, "creation_date": 1421859701, "post_id": 28072525, "comment_id": 44524956, "body": "@JBL That works perfect - hadn&#39;t used that type before."}, {"owner": {"reputation": 3958, "user_id": 535724, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a7cd70ab9eda527473e023a3ecc3333?s=128&d=identicon&r=PG", "display_name": "umlcat", "link": "https://stackoverflow.com/users/535724/umlcat"}, "edited": false, "score": 0, "creation_date": 1421861885, "post_id": 28072525, "comment_id": 44526207, "body": "Seems to me, that the problem has not been well defined. Could you add a source code example, or shown some values, with the keys examples, and the pair values examples ?"}], "answers": [{"owner": {"reputation": 66, "user_id": 4478613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdtSp.jpg?s=128&g=1", "display_name": "devej", "link": "https://stackoverflow.com/users/4478613/devej"}, "is_accepted": true, "score": 2, "last_activity_date": 1421859328, "creation_date": 1421859328, "answer_id": 28072665, "question_id": 28072525, "link": "https://stackoverflow.com/questions/28072525/unordered-map-with-multiple-values/28072665#28072665", "title": "Unordered map with multiple values", "body": "<p>You could use an <code>unordered_map&lt; int, std::pair&lt; float, float &gt; &gt;</code>, accessing the values via the <code>.first</code> and <code>.second</code> functions of the pair.  I'm not sure that that is \"easier\" then using the <code>vector&lt; float &gt;</code> approach though.  The vector approach has the advantage of allowing you to expand to store more values with ease.  The <code>pair</code> approach has the advantage of being explicitly two values and only two values.</p>\n"}, {"owner": {"reputation": 111, "user_id": 6281779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iojx6.jpg?s=128&g=1", "display_name": "Achi", "link": "https://stackoverflow.com/users/6281779/achi"}, "is_accepted": false, "score": 1, "last_activity_date": 1480507459, "creation_date": 1480507459, "answer_id": 40887919, "question_id": 28072525, "link": "https://stackoverflow.com/questions/28072525/unordered-map-with-multiple-values/40887919#40887919", "title": "Unordered map with multiple values", "body": "<p>You can use both <code>vector</code> and <code>pair</code> as mentioned. You can also consider creating a <code>struct</code> if the number of values is fixed. This may be easier when you have multiple values from multiple data types in a single record.</p>\n\n<pre><code>struct Data {\n float value1;\n float value2;\n};\n\nunordered_map&lt;int, Data&gt; myMap;\n</code></pre>\n"}, {"owner": {"reputation": 13, "user_id": 10029877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04331aa17a591a67d111839481607d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav kumar", "link": "https://stackoverflow.com/users/10029877/gourav-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617450362, "last_edit_date": 1617450362, "creation_date": 1617446119, "answer_id": 66930158, "question_id": 28072525, "link": "https://stackoverflow.com/questions/28072525/unordered-map-with-multiple-values/66930158#66930158", "title": "Unordered map with multiple values", "body": "<p>You can use tuple of variable length</p>\n<pre><code>#include&lt;iostream&gt;\n#include &lt;iterator&gt;\n#include&lt;map&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n\n    // Defining Map  with two two values \n    map &lt;string, tuple&lt;int, int&gt;&gt; g1;\n\n    g1.insert({&quot;camera1&quot;, make_tuple(10,20)});\n    g1.insert({&quot;camera2&quot;, make_tuple(100,208)});\n    g1.insert({&quot;camera3&quot;, make_tuple(1000,202)});\n    g1.insert({&quot;camera4&quot;, make_tuple(102,202)});\n    g1.insert({&quot;camera5&quot;, make_tuple(104,203)});\n    g1.insert({&quot;camera6&quot;, make_tuple(109,203)});\n\n    //print map g1\n    cout&lt;&lt;&quot;\\nThe map g1 is : \\n&quot;;\n    cout &lt;&lt;&quot;\\n Key\\tElement \\n&quot;;\n    \n    string val = &quot;camera7&quot;;\n    \n    // // Find the specific key is present if not add that\n    map&lt;string,tuple&lt;int, int&gt;&gt;::iterator itr;\n    \n    itr = g1.find(&quot;camera7&quot;);\n\n    if(itr ==g1.end())\n    {\n        cout &lt;&lt; &quot;Key-value pair not present in map \\n&quot; ;\n        g1.insert({val, make_tuple(200,192)});\n    }\n    else\n    {   cout&lt;&lt;itr-&gt;first;\n        cout&lt;&lt;&quot;x: &quot;&lt;&lt; get&lt;0&gt;((itr-&gt;second));\n        cout&lt;&lt;&quot;y: &quot;&lt;&lt; get&lt;1&gt;((itr-&gt;second));\n    }\n\n    // //updated value \n    cout&lt;&lt;&quot;Updated Value\\n&quot;;\n    cout &lt;&lt;&quot;\\n \\tKey\\t\\tElement1\\tElement2 \\n&quot;;\n    for (itr=g1.begin(); itr!=g1.end();itr++)\n    {\n        cout&lt;&lt;&quot;\\t&quot;&lt;&lt;itr-&gt;first&lt;&lt;&quot;\\t&quot;&lt;&lt; get&lt;0&gt;(itr-&gt;second)&lt;&lt; &quot; \\t\\t&quot;&lt;&lt;get&lt;1&gt;(itr-&gt;second)&lt;&lt;&quot;\\n&quot;;\n    }\n    cout&lt;&lt;endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 3700636, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0b144a688e196f8f83cec2d743f201ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Southworth", "link": "https://stackoverflow.com/users/3700636/ben-southworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5204, "favorite_count": 0, "accepted_answer_id": 28072665, "answer_count": 3, "score": 2, "last_activity_date": 1617450362, "creation_date": 1421858926, "last_edit_date": 1421859749, "question_id": 28072525, "link": "https://stackoverflow.com/questions/28072525/unordered-map-with-multiple-values", "title": "Unordered map with multiple values", "body": "<p>So I have an unordered map, and for each key I want to store two unique floats. These floats represent aggregate values over time of something I am simulating, and thus as my code progresses they values of existing keys may be added to, and new keys may be created. </p>\n\n<p>Previously I was only tracking one value, and so an unordered map was the easy solution. I am not sure how to save two distinct values with one key though? </p>\n\n<ul>\n<li>Using an <code>unordered_map&lt;int,vector&lt;float&gt; &gt;</code> was my first thought, but then adding to existing values isn't as easy. It seems I must determine if a key exists first, and then either add the new vector component-wise to the existing one or set the key equal to the new vector. </li>\n<li>I looked at unordered_multimap. Although I didn't get a great feel for how it works, it didn't seem to offer a good way to track which of the values is which, given that I have two values that I want to keep separate and be able to determine which is which. </li>\n</ul>\n\n<p>Is there another way to go about this? </p>\n\n<hr>\n\n<p>Using <code>unordered_map&lt;int,pair&lt;float,float&gt; &gt;</code> was an easy solution. </p>\n"}, {"tags": ["c++", "sockets", "boost"], "comments": [{"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 2, "creation_date": 1421858766, "post_id": 28072341, "comment_id": 44524320, "body": "Your acceptor is set up to listen for connections on any interface (since you passed <code>tcp::v4()</code> as the local endpoint. Therefore, there&#39;s no way to know what local endpoint a client will connect to until the connection is made."}, {"owner": {"reputation": 1, "user_id": 4479170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f20add3029e0bd54d7a95fbc755395?s=128&d=identicon&r=PG&f=1", "display_name": "mauro21", "link": "https://stackoverflow.com/users/4479170/mauro21"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1421859851, "post_id": 28072341, "comment_id": 44525045, "body": "but since both client and server are running from my device it means that server will use the localhost IP address so for now I guess it would be fine to set that as the acceptor&#39;s endpoint and the only difference between server instances will be the port number. Have I understood correctly?"}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1421861516, "post_id": 28072341, "comment_id": 44526022, "body": "It depends upon context. Do you want to share the connectivity ability across a network? Printing &quot;127.0.0.1:12345&quot; will not allow others to connect to you."}, {"owner": {"reputation": 1, "user_id": 4479170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f20add3029e0bd54d7a95fbc755395?s=128&d=identicon&r=PG&f=1", "display_name": "mauro21", "link": "https://stackoverflow.com/users/4479170/mauro21"}, "edited": false, "score": 0, "creation_date": 1421862319, "post_id": 28072341, "comment_id": 44526438, "body": "So that address is not the address of the server?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1421867937, "post_id": 28072341, "comment_id": 44529307, "body": "It is the <i>local</i> address of the server. Clients running in the same host can use it to connect. Clients running in other hosts cannot. As stated, your question doesn&#39;t make sense. You need the public IP address <i>of the server.</i> The part about getting it from the listening socket is just an incorrect assumption on your part. You can get it via the DNS APIs."}], "owner": {"reputation": 1, "user_id": 4479170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f20add3029e0bd54d7a95fbc755395?s=128&d=identicon&r=PG&f=1", "display_name": "mauro21", "link": "https://stackoverflow.com/users/4479170/mauro21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421858381, "creation_date": 1421858381, "question_id": 28072341, "link": "https://stackoverflow.com/questions/28072341/get-ip-of-a-socket-without-client-connecting-to-it-c-boost-library", "title": "get ip of a socket without client connecting to it C++ BOOST LIBRARY", "body": "<p>I am trying to save the server's IP without a client connecting to the server. The server is iterative synchronous and awaits for clients to connect. As I mentioned above I need to save the IP before the clients start connecting to the server. The commented out code is actually getting the address of the endpoint of the socket. I don't expect someone to write code but maybe to explain me where I am wrong... so here is my code:</p>\n\n<p><pre>string ds_IP;</p>\n\n<p>DS::DS(void)\n{</p>\n\n<p>cout &lt;&lt; \"Data Server is UP!\" &lt;&lt; endl;</p>\n\n<code>boost::asio::io_service io_service;\ntcp::acceptor acceptor(io_service, tcp::endpoint(tcp::v4(), 1));\n\n\n\n\nfor (;;)\n{   \n    tcp::socket incoming(io_service);\n    acceptor.accept(incoming);\n\n    /*//identify IP\n    tcp::endpoint remote = incoming.remote_endpoint();\n    boost::asio::ip::address remote_address = remote.address();\n    ds_IP = remote_address.to_string();\n\n    cout &lt;&lt; ds_IP &lt;&lt; endl;*/\n    cout &lt;&lt; \"Client is Connected\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 1564, "user_id": 3432000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaEr6.jpg?s=128&g=1", "display_name": "j-p", "link": "https://stackoverflow.com/users/3432000/j-p"}, "edited": false, "score": 2, "creation_date": 1421858142, "post_id": 28072149, "comment_id": 44523883, "body": "Without a shader, using the default rendering pipeline, you have to enable texture2d with: <code>glEnable(GL_TEXTURE2D);</code>. Also your texture handle have to be binded (glBindTexture) before starting texture parameterization, call bind directely after genTextures."}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 3806749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e308053c0223ff5629dff6db65cbb707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsenadc", "link": "https://stackoverflow.com/users/3806749/mohsenadc"}, "edited": false, "score": 0, "creation_date": 1421860143, "post_id": 28072297, "comment_id": 44525217, "body": "now all of arrays have 11 elements.(thank for that!) and as j-p said i call glEnable(GL_TEXTURE2D); but no change made. Please recheck that."}, {"owner": {"reputation": 97034, "user_id": 427332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11b58e11decc7b4c352d3ac3b2d0b90?s=128&d=identicon&r=PG", "display_name": "Tommy", "link": "https://stackoverflow.com/users/427332/tommy"}, "reply_to_user": {"reputation": 100, "user_id": 3806749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e308053c0223ff5629dff6db65cbb707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsenadc", "link": "https://stackoverflow.com/users/3806749/mohsenadc"}, "edited": false, "score": 1, "creation_date": 1421860306, "post_id": 28072297, "comment_id": 44525299, "body": "@Mohsenadc remember that it&#39;s 11 elements of whatever size you say they are. So if your texture coordinates are three dimensional per your call to <code>glTexCoordPointer</code> then you need 3*11 = 33 scalars in there. You&#39;d probably expect to see either really screwy texturing or a page fault if you messed that up though. But it&#39;s undefined results so no texturing is a valid response, as is absolutely anything else."}, {"owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 1, "creation_date": 1421908570, "post_id": 28072297, "comment_id": 44543292, "body": "@Tommy Since this is community wiki, I figure it was ok to edit? Feel free to revert if you don&#39;t like it. I added some text at the end about a problem with the mipmap settings."}, {"owner": {"reputation": 100, "user_id": 3806749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e308053c0223ff5629dff6db65cbb707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsenadc", "link": "https://stackoverflow.com/users/3806749/mohsenadc"}, "reply_to_user": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 0, "creation_date": 1422123200, "post_id": 28072297, "comment_id": 44630146, "body": "@RetoKoradi I tried to add glGenerateMipmap(GL_TEXTURE_2D) ,but same it&#39;s not declared. i found GLEW. my problem is GLEW need &quot;windows.h&quot; but i use linux."}, {"owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 1, "creation_date": 1422129499, "post_id": 28072297, "comment_id": 44632111, "body": "<code>glGenerateMipmap()</code> is available in OpenGL 3.0 and later. If you don&#39;t really need mipmaps, you can also use <code>GL_LINEAR</code> instead of <code>GL_LINEAR_MIPMAP_LINEAR</code> for the filter attribute."}], "owner": {"reputation": 97034, "user_id": 427332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11b58e11decc7b4c352d3ac3b2d0b90?s=128&d=identicon&r=PG", "display_name": "Tommy", "link": "https://stackoverflow.com/users/427332/tommy"}, "is_accepted": true, "score": 3, "last_activity_date": 1421908493, "last_edit_date": 1421908493, "creation_date": 1421858243, "answer_id": 28072297, "question_id": 28072149, "link": "https://stackoverflow.com/questions/28072149/how-to-use-texture-in-3d-graphic-opengl/28072297#28072297", "title": "How to use texture in 3d graphic OpenGL", "body": "<p>In the fixed pipeline texturing is applied only if enabled. You don't show a call to <code>glEnable(GL_TEXTURE_2D)</code>.</p>\n\n<p>That being said, it also looks like your arrays are probably incorrectly sized.</p>\n\n<p>The net effect of <code>glTexCoordPointer(3,GL_FLOAT,0,TexCoords); ... glDrawElements(GL_TRIANGLES,54, GL_UNSIGNED_BYTE, indices);</code> is that eleven sets of texture coordinates will be read from <code>TexCoords</code> since the greatest index in <code>indices</code> is <code>10</code>. However your texture coordinates array has only two texture coordinates in it, given that you're specifying them in 3d.</p>\n\n<p>So, I'd say steps would be:</p>\n\n<ul>\n<li>make sure all of your arrays have at least 11 elements in them;</li>\n<li>enable texturing.</li>\n</ul>\n\n<p>You probably also want to switch down to supplying texture coordinates in 2d if you're using only a 2d texture and not doing anything clever with the texture matrix stack.</p>\n\n<p>As per j-p, the blatant cribbing of which being why this is now marked as community wiki: you're also failing to bind your new texture ID after creating it. OpenGL is slightly odd because texture IDs were a bolt on after display lists proved not to have the properties originally hoped, so you can get away with doing everything without ever having generated a texture provided you also never bind one, assuming you have exactly one texture. But if you're going to be sensible about it and generate them then make sure you bind them. Generating does not implicitly bind.</p>\n\n<p>Another problem is that you enable mipmapping as part of the sampling parameters:</p>\n\n<pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\n</code></pre>\n\n<p>but the texture does not have mipmaps. To generate  mipmaps, add the following call after <code>glTexImage2D()</code>:</p>\n\n<pre><code>glGenerateMipmap(GL_TEXTURE_2D);\n</code></pre>\n"}], "owner": {"reputation": 100, "user_id": 3806749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e308053c0223ff5629dff6db65cbb707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsenadc", "link": "https://stackoverflow.com/users/3806749/mohsenadc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28072297, "answer_count": 1, "score": 0, "last_activity_date": 1421908493, "creation_date": 1421857743, "last_edit_date": 1592644375, "question_id": 28072149, "link": "https://stackoverflow.com/questions/28072149/how-to-use-texture-in-3d-graphic-opengl", "title": "How to use texture in 3d graphic OpenGL", "body": "<p>as tommy said, i make some changes:</p>\n<blockquote>\n<p>So, I'd say steps would be:</p>\n<ul>\n<li>make sure all of your arrays have at least 11 elements in them;</li>\n<li>enable texturing.</li>\n</ul>\n</blockquote>\n<p>Why this code won't show grass texture?</p>\n<p>at first, load image of texture:</p>\n<pre><code>QImage img;\nif(!img.load(&quot;../g.jpg&quot;)){\n    qDebug(&quot;Texture not found!&quot;);\n}\nelse {\n    t = QGLWidget::convertToGLFormat(img);\n    qDebug(&quot;Textture Converted to GLFormat.&quot;);\n}\n</code></pre>\n<p>then call draw method that should draw an uneven ground with vertex array:</p>\n<pre><code> GLfloat vertices2[] = {\n    2,2,0 , 2,-2,0 , -2,-2,0 , -2,2,0,\n\n    0.7,0.6,0.6 , 0.4,0.9,0.1 , 0.1,0.2,0.3 , 0.8,0.3,0.8 ,\n\n    0.5,-0.5,0.12 , 0,-0.9,0.4 , -0.8,-0.2,0.6\n};\n\nGLfloat colors[] = {35 , 73 , 12 , 10 , 6 , 41 , 32 , 10 , 13 , 35 , 42 , 86 , 12 , 2 , 6 ,9};\n\nGLfloat TexCoords[] = {\n    0.449,0.911,0.056,\n    0.911,0.056,0.17,\n    0.056,0.17,0.902,\n    0.17,0.902,0.873,\n    0.902,0.873,0.061,\n    0.873,0.061,0.557,\n    0.061,0.557,0.517,\n    0.557,0.517,0.131,\n    0.517,0.131,0.855,\n    0.131,0.855,0.533,\n    0.855,0.533,0.896,\n    0.533,0.896,0.178,\n    0.896,0.178,0.303,\n    0.178,0.303,0.358,\n    0.303,0.358,0.064,\n    0.358,0.064,0.156,\n    0.064,0.156,0.199,\n    0.156,0.199,0.32,\n    0.199,0.32,0.636,\n    0.32,0.636,0.306,\n    0.636,0.306,0.445,\n    0.306,0.445,0.166,\n    0.445,0.166,0.572,\n    0.166,0.572,0.249,\n    0.572,0.249,0.29,\n    0.249,0.29,0.389,\n    0.29,0.389,0.79,\n    0.389,0.79,0.567,\n    0.79,0.567,0.692,\n    0.567,0.692,0.202,\n    0.692,0.202,0.913,\n    0.202,0.913,0.498\n};\n\nGLfloat NormalP[] = {     0.383,0.29,0.746,\n                          0.29,0.746,0.301,\n                          0.746,0.301,0.675,\n                          0.301,0.675,0.541,\n                          0.675,0.541,0.677,\n                          0.541,0.677,0.896,\n                          0.677,0.896,0.915,\n                          0.896,0.915,0.295,\n                          0.915,0.295,0.423,\n                          0.295,0.423,0.76,\n                          0.423,0.76,0.89,\n                    };\n\nGLubyte indices[]  = {\n    1,2,9 , 9,8,1 , 1,8,7 , 7,1,0 ,\n    0,7,4 , 0,4,5 , 0,5,3 , 3,5,6 ,\n    3,6,10 , 3,10,2 , 2,10,9 , 9,6,10 ,\n    6,5,4 , 6,4,7 , 6,7,8 , 6,8,9\n};\n\nGLuint mHandle;\nglGenTextures(1, &amp;mHandle);\nglBindTexture(GL_TEXTURE_2D, mHandle);\n\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n\nglTexImage2D(GL_TEXTURE_2D,0,GL_RGBA,t.width(),t.height(),0,GL_RGBA,GL_UNSIGNED_BYTE,t.bits());\n\nglEnableClientState(GL_VERTEX_ARRAY);\nglEnableClientState(GL_COLOR_ARRAY);\nglEnableClientState(GL_TEXTURE_COORD_ARRAY);\nglEnableClientState(GL_NORMAL_ARRAY);\n\nglColorPointer(3,GL_FLOAT,0,colors);\nglVertexPointer(3, GL_FLOAT, 0, vertices2);\nglTexCoordPointer(3,GL_FLOAT,0,TexCoords);\nglNormalPointer(GL_FLOAT,0,NormalP);\n\nglDrawElements(GL_TRIANGLES,54, GL_UNSIGNED_BYTE, indices);\nglDisableClientState(GL_VERTEX_ARRAY);\n</code></pre>\n"}, {"tags": ["c++", "opencv", "rounding", "mat", "approximation"], "answers": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1421858062, "creation_date": 1421858062, "answer_id": 28072244, "question_id": 28072053, "link": "https://stackoverflow.com/questions/28072053/opencv-round-after-division/28072244#28072244", "title": "OpenCv round after division", "body": "<p>If you want to get a floating point number then you need to use:</p>\n\n<pre><code>Mat G = (Green + Blue) / 2.0;\n</code></pre>\n\n<p>Just using:</p>\n\n<pre><code>Mat G = (Green + Blue) / 2;\n</code></pre>\n\n<p>Uses integer division and since there are no decimal points in an integer it gets truncated.</p>\n"}, {"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1486139322, "post_id": 28075165, "comment_id": 71231845, "body": "Thanks for this.  A link to some documentation regarding this would be nice."}], "owner": {"reputation": 5810, "user_id": 2451683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8e45f8be209f750e636da3f43b6a6e?s=128&d=identicon&r=PG", "display_name": "jet47", "link": "https://stackoverflow.com/users/2451683/jet47"}, "is_accepted": true, "score": 5, "last_activity_date": 1421868201, "creation_date": 1421868201, "answer_id": 28075165, "question_id": 28072053, "link": "https://stackoverflow.com/questions/28072053/opencv-round-after-division/28075165#28075165", "title": "OpenCv round after division", "body": "<p>OpenCV uses \"Round half to even\" rounding mode. If fraction is 0.5, it rounds to the nearest even integer. That's why 82.5 is rounded to 82 and 69.5 to 70.</p>\n"}, {"owner": {"reputation": 9792, "user_id": 1180117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/75c3146c3b87a3d4d01d9f7b07521b8f?s=128&d=identicon&r=PG", "display_name": "kiranpradeep", "link": "https://stackoverflow.com/users/1180117/kiranpradeep"}, "is_accepted": false, "score": 1, "last_activity_date": 1422079299, "last_edit_date": 1422079299, "creation_date": 1421869071, "answer_id": 28075421, "question_id": 28072053, "link": "https://stackoverflow.com/questions/28072053/opencv-round-after-division/28075421#28075421", "title": "OpenCv round after division", "body": "<p>That difference happened for an implementation of <code>cvRound</code> in opencv source. A part of it copied from <a href=\"https://github.com/Itseez/opencv/blob/3.0-ocl-tp2/modules/core/include/opencv2/core/cvdef.h#L384\" rel=\"nofollow\">github</a> below with comments added. </p>\n\n<pre><code>int cvRound( float value )\n{\n    double intpart, fractpart;\n    fractpart = modf(value, &amp;intpart);\n\n    //for +ve numbers, when fraction is 0.5, odd numbers are rounded up \n    //and even numbers are rounded down \n    //and vice versa for -ve numbers\n\n    if ((fabs(fractpart) != 0.5) || ((((int)intpart) % 2) != 0))\n        return (int)(value + (value &gt;= 0 ? 0.5 : -0.5));\n    else\n        return (int)intpart;\n}\n</code></pre>\n\n<p>I wrote a small sample and debugged to see that weighted addition of matrices invoked <code>saturate_cast</code> ( <a href=\"http://docs.opencv.org/modules/core/doc/utility_and_system_functions_and_macros.html#saturate-cast\" rel=\"nofollow\">link</a> ) in opencv code which inturn invoked <code>cvRound</code>. You can see that at github ( <a href=\"https://github.com/Itseez/opencv/blob/3.0-ocl-tp2/modules/core/src/arithm.cpp#L2218\" rel=\"nofollow\">link</a> ).</p>\n"}], "owner": {"reputation": 620, "user_id": 2614596, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c0623ddb838e224134a39e1103569411?s=128&d=identicon&r=PG", "display_name": "user2614596", "link": "https://stackoverflow.com/users/2614596/user2614596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5707, "favorite_count": 0, "accepted_answer_id": 28075165, "answer_count": 3, "score": 1, "last_activity_date": 1422079299, "creation_date": 1421857441, "question_id": 28072053, "link": "https://stackoverflow.com/questions/28072053/opencv-round-after-division", "title": "OpenCv round after division", "body": "<p>Looking at the following code</p>\n\n<pre><code>Blue = channel[0];\nGreen = channel[1];\nRed = channel[2];\n\nMat G = (Green + Blue) / 2;\n</code></pre>\n\n<p>where Red Green and Blue are the channels of an image. Where the sum of Green and Blue is odd, sometimes it make a round and sometimes a \"fix\". For example for a Green pixel with value 120 and Blue 45, the G value is 82 (so that it takes just the integer part of 82,5). While in another case where the Green is 106 and the Blue is 33 i get the value 70 for that element of G (so that, it makes a round because (33+106)/2 = 69,5 ).</p>\n\n<p>Which is the operation?</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1421856701, "post_id": 28071784, "comment_id": 44522929, "body": "what&#39;s about red and yellow? ;D"}, {"owner": {"reputation": 22495, "user_id": 3510483, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qubeh.jpg?s=128&g=1", "display_name": "quantdev", "link": "https://stackoverflow.com/users/3510483/quantdev"}, "edited": false, "score": 0, "creation_date": 1421856912, "post_id": 28071784, "comment_id": 44523075, "body": "<code>std::cin &gt;&gt; skinColor</code>"}, {"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 0, "creation_date": 1421856914, "post_id": 28071784, "comment_id": 44523077, "body": "Please, don&#39;t color fight me :D"}, {"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "reply_to_user": {"reputation": 22495, "user_id": 3510483, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qubeh.jpg?s=128&g=1", "display_name": "quantdev", "link": "https://stackoverflow.com/users/3510483/quantdev"}, "edited": false, "score": 0, "creation_date": 1421856993, "post_id": 28071784, "comment_id": 44523124, "body": "@quantdev I&#39;m saving that as a last choice."}, {"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 2, "creation_date": 1421857204, "post_id": 28071784, "comment_id": 44523271, "body": "I would look at RGB values, write them down, then figure the differences between all 3."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1421858132, "post_id": 28071784, "comment_id": 44523879, "body": "My computer doesn&#39;t see skin color."}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1421930994, "post_id": 28071784, "comment_id": 44554990, "body": "first you should normalize the image to remove colored-light effects. then you can use HSV color values to decide."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1503638059, "post_id": 28071784, "comment_id": 78707954, "body": "What do you mean by &quot;white&quot;, &quot;brown&quot;, and &quot;black&quot;?  If you are trying to do racial classification, be aware that there are plenty of southern Europeans who have darker skin than people who identify as African-Americans, so the actual HLS values aren&#39;t going to help much."}], "answers": [{"owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1421858747, "last_edit_date": 1421858747, "creation_date": 1421857912, "answer_id": 28072204, "question_id": 28071784, "link": "https://stackoverflow.com/questions/28071784/how-to-detect-skin-color-black-brown-white/28072204#28072204", "title": "How to detect skin color (Black, Brown, White)?", "body": "<p>I propose you two options:<br>\n1. Use neural networks. For this you need to train NN. I can assume that perceptron will be enough. <br>\n2. Sum of all pixels of different colors of skin will be in different ranges. The smallest will be range of black. The second will be brown. The third or biggest will be White</p>\n"}, {"owner": {"reputation": 46, "user_id": 4476742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95c570e98c5429f73c6ba84d3a8d0a1?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/4476742/jared"}, "is_accepted": false, "score": 0, "last_activity_date": 1421860701, "creation_date": 1421860701, "answer_id": 28073107, "question_id": 28071784, "link": "https://stackoverflow.com/questions/28071784/how-to-detect-skin-color-black-brown-white/28073107#28073107", "title": "How to detect skin color (Black, Brown, White)?", "body": "<p>I suggest using a mixture of Gaussians approach.</p>\n\n<p>Model each of the three categories {Black, Brown, White} as a mixture of two or three Guassians in HSV space or CIELab space. You would learn these using an expectation maximization algorithm.</p>\n"}], "owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 734, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1421860701, "creation_date": 1421856631, "question_id": 28071784, "link": "https://stackoverflow.com/questions/28071784/how-to-detect-skin-color-black-brown-white", "title": "How to detect skin color (Black, Brown, White)?", "body": "<p>Suppose that a face image detected from haar cascade as an example is given. How to detect the color of the skin (Black, Brown, White)?</p>\n"}, {"tags": ["c++", "inline"], "comments": [{"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1421856697, "post_id": 28071771, "comment_id": 44522925, "body": "That is way too vague. Try some google searches and or a different stack to ask question. This one is really for coding."}, {"owner": {"reputation": 221, "user_id": 1809041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d39d14d6439309d12a6a7f93dd316a75?s=128&d=identicon&r=PG", "display_name": "Aymen", "link": "https://stackoverflow.com/users/1809041/aymen"}, "reply_to_user": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 1, "creation_date": 1421857013, "post_id": 28071771, "comment_id": 44523136, "body": "I think proper use of inline functions has something to do with coding also :)"}, {"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 1, "creation_date": 1421857060, "post_id": 28071771, "comment_id": 44523170, "body": "True. I may have been wrong."}, {"owner": {"reputation": 13141, "user_id": 1834147, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a0991b9f14a94a126187ac3aa342d3d2?s=128&d=identicon&r=PG", "display_name": "tmyklebu", "link": "https://stackoverflow.com/users/1834147/tmyklebu"}, "edited": false, "score": 1, "creation_date": 1421857564, "post_id": 28071771, "comment_id": 44523528, "body": "This is probably a programmers.SE question, but the answer given is quite good and I don&#39;t want to mess with it."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 1809041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d39d14d6439309d12a6a7f93dd316a75?s=128&d=identicon&r=PG", "display_name": "Aymen", "link": "https://stackoverflow.com/users/1809041/aymen"}, "edited": false, "score": 0, "creation_date": 1421858168, "post_id": 28072040, "comment_id": 44523902, "body": "@inetnght: Good example, thanks. So, when there is a massive use of inline functions  the chance that upgradeability is affected increases. To me it sounds a bit dangerous that we don&#39;t have total control over it. I can do my best to write inline functions in a proper way (avoid while loops, recursion, etc) to give them higher chance to get effectively inlined by the compiler, but this is not guaranteed. Do you agree with me?"}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "reply_to_user": {"reputation": 221, "user_id": 1809041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d39d14d6439309d12a6a7f93dd316a75?s=128&d=identicon&r=PG", "display_name": "Aymen", "link": "https://stackoverflow.com/users/1809041/aymen"}, "edited": false, "score": 1, "creation_date": 1421858494, "post_id": 28072040, "comment_id": 44524119, "body": "No, I would not say it&#39;s dangerous: if you exercise proper declaration of export control (telling the compiler that you want to export something) and proper unit/integration/export testing (for example, creating another project specifically to test the importability of your exports which gets automatically triggered on every build) you can mitigate and manage issues caused by binary incompatibility by detecting these problems before shipping new versions (assuming you have all of this in place and properly use all of the features)."}, {"owner": {"reputation": 323, "user_id": 1869505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2c5411e7c9389e48edb56725c981e6d?s=128&d=identicon&r=PG", "display_name": "Hydren", "link": "https://stackoverflow.com/users/1869505/hydren"}, "edited": false, "score": 0, "creation_date": 1502820415, "post_id": 28072040, "comment_id": 78356041, "body": "Does that means that someone&#39;s function that was not declared inline but got inlined anyway (by the compiler&#39;s decision) can also break binary compatibility, in the same way as in @inetknght &#39;s example?"}, {"owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "edited": false, "score": 0, "creation_date": 1510702761, "post_id": 28072040, "comment_id": 81545509, "body": "Suppose you have library A which links against library B. B exported symbol <code>foobar</code> in 1.0 but was inlined in 2.0. Now, library A was built and linked against an <i>unspecified</i> B. If A used B 1.0&#39;s headers, then A should be compatible with B 1.0 (with regards to <code>foobar</code>) but will error if B 2.0 is installed (because <code>foobar</code> is no longer exported). If A used B 2.0&#39;s headers, then A should be compatible with B 1.0 and 2.0 (unless there are other additional problems); but then beware: if B 1.0 is installed, then B&#39;s exported <code>foobar</code> functionality will not be used by A (because A has 2.0!)."}], "owner": {"reputation": 3688, "user_id": 1111557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b40cacf02c8fa3f91429ef441912ac?s=128&d=identicon&r=PG", "display_name": "inetknght", "link": "https://stackoverflow.com/users/1111557/inetknght"}, "is_accepted": false, "score": 3, "last_activity_date": 1421857405, "creation_date": 1421857405, "answer_id": 28072040, "question_id": 28071771, "link": "https://stackoverflow.com/questions/28071771/how-inlining-could-constrain-binary-compatibility-for-upgrade-releases/28072040#28072040", "title": "How inlining could constrain binary compatibility for upgrade releases", "body": "<p>When declaring your functions, variables, and types (aka, your \"symbols\"), you should also declare them as exported. Different compilers achieve this in different ways (<a href=\"https://msdn.microsoft.com/en-us/library/a90k134d.aspx\" rel=\"nofollow\">Visual Studio uses <code>__declspec(dllexport)</code></a> (and some other methods which I'm too lazy to google for you) while <a href=\"https://gcc.gnu.org/wiki/Visibility\" rel=\"nofollow\">GCC uses various Visibility switches</a>. I believe clang uses GCC semantics (or is relatively compatible) and am unfamiliar with other compilers' methods for exporting symbols.</p>\n\n<p>If you inline your function <em>and it actually gets inlined</em> (which, if you declared it as an exportable symbol, I would argue that to be a compiler bug) then how do you call it from outside of your library? As part of the inlining process for functions the compiler will often remove or rework prologue and epilogue instructions since they're no longer needed (for example, no more need to <code>retn</code> on x86 -- just store the return value in the register it's going to be used).</p>\n\n<p>Now suppose that on one early version of your library you had used some function which was declared inline but did not actually get inline (for example, a recursive function). Someone else comes along and starts using your library. In a later version, you rework your code to remove the recursion; suddenly the compiler <em>can</em> inline the function and opts to, therefore hiding the export. Now your existing customers (whoever's using your library) have missing symbols. You've broken binary compatibility.</p>\n"}], "owner": {"reputation": 221, "user_id": 1809041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d39d14d6439309d12a6a7f93dd316a75?s=128&d=identicon&r=PG", "display_name": "Aymen", "link": "https://stackoverflow.com/users/1809041/aymen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421857405, "creation_date": 1421856565, "question_id": 28071771, "link": "https://stackoverflow.com/questions/28071771/how-inlining-could-constrain-binary-compatibility-for-upgrade-releases", "title": "How inlining could constrain binary compatibility for upgrade releases", "body": "<p>I know that excessive use of inline functions could affect binary upgradeability. This is must be avoided when upgradeability is important. But, I can't figure out how inlining could affect binary compatibility. Please, could someone illustrate that.</p>\n"}, {"tags": ["c++", "sudoku", "recursive-backtracking"], "comments": [{"owner": {"reputation": 62673, "user_id": 492336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/UjW5c.png?s=128&g=1", "display_name": "sashoalm", "link": "https://stackoverflow.com/users/492336/sashoalm"}, "edited": false, "score": 3, "creation_date": 1421856744, "post_id": 28071688, "comment_id": 44522963, "body": "Did you use a debugger?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4478274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d9ae12259e1cb41adf11e0a24737f6?s=128&d=identicon&r=PG&f=1", "display_name": "Parul Setia", "link": "https://stackoverflow.com/users/4478274/parul-setia"}, "edited": false, "score": 0, "creation_date": 1421856935, "post_id": 28071765, "comment_id": 44523090, "body": "you mean to say return sudoko(i,j+1) and return sudoko(i+1,0);"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 23, "user_id": 4478274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d9ae12259e1cb41adf11e0a24737f6?s=128&d=identicon&r=PG&f=1", "display_name": "Parul Setia", "link": "https://stackoverflow.com/users/4478274/parul-setia"}, "edited": false, "score": 0, "creation_date": 1421857075, "post_id": 28071765, "comment_id": 44523189, "body": "@ParulSetia yes, that ellipsis is &quot;your parameters here&quot; ;)"}, {"owner": {"reputation": 23, "user_id": 4478274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d9ae12259e1cb41adf11e0a24737f6?s=128&d=identicon&r=PG&f=1", "display_name": "Parul Setia", "link": "https://stackoverflow.com/users/4478274/parul-setia"}, "edited": false, "score": 0, "creation_date": 1421857511, "post_id": 28071765, "comment_id": 44523495, "body": "still it is solving partially"}], "owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1421856551, "creation_date": 1421856551, "answer_id": 28071765, "question_id": 28071688, "link": "https://stackoverflow.com/questions/28071688/sudoku-solver-in-c-partially-solving/28071765#28071765", "title": "Sudoku Solver in C++ partially solving", "body": "<p>In <code>sudoko(int, int)</code> you perform two recursive calls, then drop out of the function without returning a value, which is undefined behaviour. You probably want to replace each call by <code>return sudoko(...)</code>, and crank up your compiler warnings.</p>\n"}], "owner": {"reputation": 23, "user_id": 4478274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d9ae12259e1cb41adf11e0a24737f6?s=128&d=identicon&r=PG&f=1", "display_name": "Parul Setia", "link": "https://stackoverflow.com/users/4478274/parul-setia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421856551, "creation_date": 1421856327, "last_edit_date": 1421856384, "question_id": 28071688, "link": "https://stackoverflow.com/questions/28071688/sudoku-solver-in-c-partially-solving", "title": "Sudoku Solver in C++ partially solving", "body": "<p>I recently made a sudoku solver in c++. I used a backtracking algorithm to solve it, but there is a problem : for some cases it only solves up to the 5th row.</p>\n\n<p>Working case : [6][6] = 2, [4][5] = 1</p>\n\n<p>Case failing after row 5 : [1][1] = 1</p>\n\n<p>I don't know what might be the reason it is partially solving the sudoko for some cases and there exist soloution for that cases</p>\n\n<pre><code>using namespace std;\n#include&lt;iostream&gt;\n\nint a[9][9],b[9][9]; \nbool searchrow(int i,int w,int p){  \nint q=0;\nfor(int j=0;j&lt;9;j++){\n    if(j==w){  \n        continue;\n    }\n    if(a[i][j]==p){\n        q=1;break;\n    }\n }\n if(q==1){\n    return false;\n }\n else\n    return true; \n  }\n\n bool searchcoloumn(int i,int w,int p){ \n int q=0;\n for(int j=0;j&lt;9;j++){\n    if(j==w){\n        continue;\n    }\n    if(a[j][i]==p){\n        q=1;break;\n    }\n }\n if(q==1){\n    return false;\n }\n else\n    return true;\n  } \n\n  bool searchmatrix(int i,int j,int p){  \n  int m,n,x,y,l,k,q;\n  m=(i/3)*3;\n  n=(j/3)*3;\n  x=m+2;\n  y=n+2;  \n  q=0;\n  for(l=m;l&lt;=x;l++){\n    for(k=n;k&lt;=y;k++){\n        if(l==i&amp;&amp;k==j){ //skip the current location\n            continue;\n        }\n        if(a[l][k]==p){\n            q=1;\n            break;\n        }   \n      }\n   }\n   if(q==0){\n    return true;\n    }\n  else\n   return false;\n  }\n\n  bool place(int i,int j,int p){ \n  if(searchrow(i,j,p)&amp;&amp;searchcoloumn(j,i,p)&amp;&amp;searchmatrix(i,j,p)){\n    return true;\n   }\n   else{\n    return false;\n     }\n   }\n\n   bool sudoko(int i,int j){ \n   int w,x;\n    for(int p=1;p&lt;10;p++){ \n    x=0;\n    if(place(i,j,p)){\n        if(b[i][j]==0){ \n            a[i][j]=p;\n        }\n        if((i==8)&amp;&amp;(j==8)){   \n            return true;\n        }\n        else if(j==8){ \n            sudoko(i+1,0);\n        }\n        else{\n            sudoko(i,j+1);//move to next coloumn \n               }  \n            }  \n          }\n        }   \n\n      int main(){\n      int i,j,t,data;\n      cout&lt;&lt;\"\\nEnter how many no. to add to sudoko\\n\";\n      cin&gt;&gt;t;//t is the no of element which are initially present in         sudoko and user should give as input\n       cout&lt;&lt;\"\\nEnter row , coloumn and then data at the respective location\\n\";\n      for(int m=0;m&lt;9;m++){\n      for(int n=0;n&lt;9;n++){\n        a[m][n]=0;\n        b[m][n]=0;\n           }\n       }\n       while(t--){\n       cout&lt;&lt;\"Enter row\";\n       cin&gt;&gt;i;\n        cout&lt;&lt;\"Enter coloumn\";\n       cin&gt;&gt;j;\n        cout&lt;&lt;\"Enter data\";\n       cin&gt;&gt;data;\n       a[i][j]=data;\n       b[i][j]=data;\n      }\n     if(sudoko(0,0));//used a semicolon here so that to display result\n     for(int p=0;p&lt;9;p++){\n     cout&lt;&lt;\"\\n\"\n      for(int q=0;q&lt;9;q++){\n        cout&lt;&lt;a[p][q]&lt;&lt;\"\\t\";\n              }\n          }\n     }\n</code></pre>\n"}, {"tags": ["c++", "arrays", "vector", "struct"], "comments": [{"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 1, "creation_date": 1421856081, "post_id": 28071565, "comment_id": 44522487, "body": "Why not a vector of vectors?"}, {"owner": {"reputation": 701, "user_id": 848038, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bf05215970fac12c1ef52075de85d345?s=128&d=identicon&r=PG", "display_name": "sleeping_dragon", "link": "https://stackoverflow.com/users/848038/sleeping-dragon"}, "edited": false, "score": 2, "creation_date": 1421856091, "post_id": 28071565, "comment_id": 44522490, "body": "tried vector of vectors: <code>vector &lt;vector&lt;int&gt;&gt; x</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1421856417, "post_id": 28071631, "comment_id": 44522742, "body": "but you know numbers as first charakter in variable names are forbidden in c- like languages..."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1421856512, "post_id": 28071631, "comment_id": 44522810, "body": "I edited to make it more clear the name is just a place holder.  I just want to make sure they understood what dimension the vector has."}, {"owner": {"reputation": 11, "user_id": 4317067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da73cceb7d8c2d900d35148cec05861?s=128&d=identicon&r=PG&f=1", "display_name": "salajadin", "link": "https://stackoverflow.com/users/4317067/salajadin"}, "edited": false, "score": 0, "creation_date": 1421856883, "post_id": 28071631, "comment_id": 44523056, "body": "thanks for help me. im too noob"}], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 1, "last_activity_date": 1421856467, "last_edit_date": 1421856467, "creation_date": 1421856161, "answer_id": 28071631, "question_id": 28071565, "link": "https://stackoverflow.com/questions/28071565/array-like-struct-of-vectors/28071631#28071631", "title": "Array like struct of vectors", "body": "<p>To create a vector that is two dimensions you nest the vector in the template part:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;int&gt;&gt; 2dvector_name;\n</code></pre>\n\n<p>If you need more then two dimensions you would do the same thing:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;std::vector&lt;int&gt;&gt;&gt; 3dvector_name;\nstd::vector&lt;std::vector&lt;std::vector&lt;std::vector&lt;int&gt;&gt;&gt;&gt; 4dvector_name;\netc...\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4317067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da73cceb7d8c2d900d35148cec05861?s=128&d=identicon&r=PG&f=1", "display_name": "salajadin", "link": "https://stackoverflow.com/users/4317067/salajadin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "closed_date": 1421856177, "accepted_answer_id": 28071631, "answer_count": 1, "score": -1, "last_activity_date": 1421856616, "creation_date": 1421855949, "last_edit_date": 1421856616, "question_id": 28071565, "link": "https://stackoverflow.com/questions/28071565/array-like-struct-of-vectors", "closed_reason": "Needs details or clarity", "title": "Array like struct of vectors", "body": "<p>I have one question about array and how auto resize an array.\nI see vector does it automatically but vectors are for one dimension only.\nSo I think a <code>struct</code> of vectors could be good.</p>\n\n<pre><code>#include &lt;vector&gt;\nstruct 2dimensionarray\n{ \n    vector&lt;int&gt; 1dimension;\n    vector&lt;int&gt; 2dimension;\n}\n</code></pre>\n\n<p>So is this a good way? Or there are better ways to do it?</p>\n"}]