[{"tags": ["c++", "class", "constructor"], "comments": [{"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459987417, "post_id": 36464343, "comment_id": 60540448, "body": "Do you get a compile-time error or run-time?"}, {"owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "reply_to_user": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459987709, "post_id": 36464343, "comment_id": 60540512, "body": "@ArchbishopOfBanterbury Run time error. &quot;The program unexpectedly crashed&quot;"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 0, "creation_date": 1459987863, "post_id": 36464343, "comment_id": 60540549, "body": "Are you able to debug your code? On which line does it crash?"}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459987876, "post_id": 36464343, "comment_id": 60540558, "body": "My guess is that you are trying to initialise the <code>gpoints</code> field using the address of <code>vecpoints</code> which hasn&#39;t been initialised yet. Try removing it from initialiser list and put that initialisation after pushing back points to <code>vecpoints</code>"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 2, "creation_date": 1459988006, "post_id": 36464343, "comment_id": 60540586, "body": "@ArchbishopOfBanterbury <code>vecpoints</code> is declared before <code>gpoints</code> so that should be fine, unless the code shown differs from the real one."}, {"owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "edited": false, "score": 0, "creation_date": 1459990350, "post_id": 36464343, "comment_id": 60541176, "body": "The code is the same as this one. Is this related to some behaviours of qt cplus plus extensions i may not beaware of?"}, {"owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "reply_to_user": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 0, "creation_date": 1459991493, "post_id": 36464343, "comment_id": 60541462, "body": "@AntonSavin Is this because according to my code I am setting &#39;gpoints&#39; EQUAL TO &#39;&amp;vecpoints&#39;? When in actuality i  should be passing this to gpoints constructor? If that is the case how shoild I call gpoints&#39; constructor properly?"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 1, "creation_date": 1459992281, "post_id": 36464343, "comment_id": 60541647, "body": "@smilingbuddha Your code looks fine. You should run under debugger, step through your code and see what&#39;s going on. Again, make sure <code>vecpoints</code> is declared above <code>gpoints</code> in the <code>MainWindow</code>."}, {"owner": {"reputation": 9213, "user_id": 1105562, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/oV4rn.jpg?s=128&g=1", "display_name": "david.pfx", "link": "https://stackoverflow.com/users/1105562/david-pfx"}, "edited": false, "score": 0, "creation_date": 1460027381, "post_id": 36464343, "comment_id": 60558984, "body": "You may get better answers with a QT tag."}], "owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1459986933, "creation_date": 1459986933, "question_id": 36464343, "link": "https://stackoverflow.com/questions/36464343/what-is-incorrect-in-the-constructor-call-of-this-c-class", "title": "What is incorrect in the constructor call of this c++ class?", "body": "<p>The following code is compiling but keeps crashing unexpectedly in QtCreator. Where am I going wrong here? </p>\n\n<p>Here is the definition of my <code>MainWindow</code> class. </p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n\n    Ui::MainWindow *ui;\n    QGraphicsScene* scene;\n    QGraphicsEllipseItem* ellipse;\n\n    std::vector&lt;SimplePoint_2&gt; vecpoints;\n    CGAL::Qt::PointsGraphicsItem&lt; std::vector&lt;SimplePoint_2&gt;  &gt; gpoints; //The graphical representation of the above point vector\n};\n</code></pre>\n\n<p>Here is the call to the constructor of the Main Window class</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow),\n    gpoints(&amp;vecpoints)\n{        \n    ui-&gt;setupUi(this);\n    scene = new QGraphicsScene(this);\n    ui-&gt;graphicsView-&gt;setScene(scene);\n\n    ellipse = scene-&gt;addEllipse(0,10,100,100);\n\n    std::cout &lt;&lt; \"Pushing points into the vector\" &lt;&lt; std::endl;\n    vecpoints.push_back(SimplePoint_2(1,1));\n    vecpoints.push_back(SimplePoint_2(50,4));  \n}\n</code></pre>\n\n<p>When I comment out the member item <code>gpoints</code> and the corresponding <code>gpoints(&amp;vecpoints)</code> from the constructor call, the code runs perfectly. </p>\n\n<p>So it looks like I am calling the constructor of <code>gpoints</code> incorrectly. \nWhat is wrong? </p>\n\n<p>Note that the constructor of the templated class</p>\n\n<p><code>CGAL::Qt::PointsGraphicsItem</code> needs a pointer to an iterable container, (in this case a vector) according to the library I am using. </p>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 8173, "user_id": 3299580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5442c85b57162abfc606d86c0083e1d?s=128&d=identicon&r=PG&f=1", "display_name": "The Dark", "link": "https://stackoverflow.com/users/3299580/the-dark"}, "edited": false, "score": 1, "creation_date": 1459986462, "post_id": 36464241, "comment_id": 60540183, "body": "Is the <code>getEventName</code> method marked as <code>const</code>?"}, {"owner": {"reputation": 1132, "user_id": 5924264, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/98ba12b151229c872d6c7a5ce668301a?s=128&d=identicon&r=PG&f=1", "display_name": "roulette01", "link": "https://stackoverflow.com/users/5924264/roulette01"}, "reply_to_user": {"reputation": 8173, "user_id": 3299580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5442c85b57162abfc606d86c0083e1d?s=128&d=identicon&r=PG&f=1", "display_name": "The Dark", "link": "https://stackoverflow.com/users/3299580/the-dark"}, "edited": false, "score": 0, "creation_date": 1459986525, "post_id": 36464241, "comment_id": 60540197, "body": "No, it is not. Does it have to be const to solve the issue?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459986557, "post_id": 36464241, "comment_id": 60540206, "body": "Yes, it has to be const to solve the problem."}, {"owner": {"reputation": 1132, "user_id": 5924264, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/98ba12b151229c872d6c7a5ce668301a?s=128&d=identicon&r=PG&f=1", "display_name": "roulette01", "link": "https://stackoverflow.com/users/5924264/roulette01"}, "edited": false, "score": 0, "creation_date": 1459986594, "post_id": 36464241, "comment_id": 60540217, "body": "Thanks that worked. What about the last error? it doesn&#39;t like my return statement."}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1459986821, "last_edit_date": 1459986821, "creation_date": 1459986518, "answer_id": 36464266, "question_id": 36464241, "link": "https://stackoverflow.com/questions/36464241/operator-overloading-error-passing-const/36464266#36464266", "title": "operator&lt;&lt; overloading &quot;error: passing &#39;const....&quot;", "body": "<p><code>eventObject</code> is a reference to a <code>const</code> object, so its <code>getEventName()</code> and <code>getEventTime()</code> methods need to be declared as <code>const</code> as well, to specify that they don't modify the object they are called on, eg:</p>\n\n<pre><code>std::string getEventName() const;\nint getEventName() const;\n</code></pre>\n\n<p>Also, your operator is declared as returning an <code>ofstream</code>, but it needs to return an <code>ostream</code> instead, to match the input:</p>\n\n<pre><code>ostream&amp; operator&lt;&lt;(ostream &amp;outStream, const EventClass &amp;eventObject)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8173, "user_id": 3299580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5442c85b57162abfc606d86c0083e1d?s=128&d=identicon&r=PG&f=1", "display_name": "The Dark", "link": "https://stackoverflow.com/users/3299580/the-dark"}, "edited": false, "score": 1, "creation_date": 1459986599, "post_id": 36464276, "comment_id": 60540219, "body": "You should also point out that <code>ostream</code> and <code>ofstream</code> are not the same, for the last error."}], "tags": [], "owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "is_accepted": false, "score": 3, "last_activity_date": 1459987096, "last_edit_date": 1459987096, "creation_date": 1459986555, "answer_id": 36464276, "question_id": 36464241, "link": "https://stackoverflow.com/questions/36464241/operator-overloading-error-passing-const/36464276#36464276", "title": "operator&lt;&lt; overloading &quot;error: passing &#39;const....&quot;", "body": "<p>You need to make sure <code>getEventName</code> and <code>getEventTime</code> are declared as <code>const</code>, as follows:</p>\n\n<pre><code>std::string getEventName() const;\nint getEventTime() const;\n</code></pre>\n\n<p>in the declaration and implementation of <code>EventClass</code>. This tells the compiler that these methods will not modify the fields of the object in any way.</p>\n\n<p>Also, the last line of the operator should simply be: <code>return outStream;</code></p>\n\n<p>Edit: also <code>std::ofstream</code> is not the same as <code>std::ostream</code>. Generally, for <code>operator&lt;&lt;</code>, it needs to be defined as:</p>\n\n<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const EventClass&amp; eventObject) { \n    //blah \n}\n</code></pre>\n\n<p>to encompass <em>any</em> stream type.</p>\n"}], "owner": {"reputation": 1132, "user_id": 5924264, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/98ba12b151229c872d6c7a5ce668301a?s=128&d=identicon&r=PG&f=1", "display_name": "roulette01", "link": "https://stackoverflow.com/users/5924264/roulette01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1459987096, "creation_date": 1459986348, "last_edit_date": 1459986764, "question_id": 36464241, "link": "https://stackoverflow.com/questions/36464241/operator-overloading-error-passing-const", "title": "operator&lt;&lt; overloading &quot;error: passing &#39;const....&quot;", "body": "<pre><code>ofstream&amp; operator&lt;&lt;(ostream &amp;outStream, const EventClass &amp;eventObject)\n{\n  outStream &lt;&lt; eventObject.getEventName() &lt;&lt; \" event at \"\n    &lt;&lt; eventObject.getEventTime() &lt;&lt; endl;\n\n  return(outStream);\n}\n</code></pre>\n\n<p>I believe this snippet is sufficient to analyze the error.</p>\n\n<p>When I compile my code I get the following errors: </p>\n\n<blockquote>\n  <p>error: passing \u2018const EventClass\u2019 as \u2018this\u2019 argument of \u2018std::string EventClass::getEventName()\u2019 discards qualifiers [-fpermissive]\n  <br>\n    outStream &lt;&lt; eventObject.getEventName() &lt;&lt; \" event at \"</p>\n  \n  <p>error: passing \u2018const EventClass\u2019 as \u2018this\u2019 argument of \u2018int EventClass::getEventTime()\u2019 discards qualifiers [-fpermissive]\n  <br>\n      &lt;&lt; eventObject.getEventTime() &lt;&lt; endl;</p>\n  \n  <p>error: invalid initialization of reference of type \u2018std::ofstream&amp; {aka std::basic_ofstream&amp;}\u2019 from expression of type \u2018std::ostream {aka std::basic_ostream}\u2019\n  <br>\n    return(outStream);</p>\n</blockquote>\n\n<p>Any ideas how to solve these errors?</p>\n"}, {"tags": ["c++", "header-files", "circular-dependency"], "comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1459986237, "post_id": 36464173, "comment_id": 60540133, "body": "Circular references are best avoided all together. You might be better off asking how to re-structure your code such that you won&#39;t need them in the first place. Also note that the header file you&#39;re showing doesn&#39;t contain <i>pointers</i> but (forward) <i>declarations</i> of the classes."}, {"owner": {"reputation": 8173, "user_id": 3299580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5442c85b57162abfc606d86c0083e1d?s=128&d=identicon&r=PG&f=1", "display_name": "The Dark", "link": "https://stackoverflow.com/users/3299580/the-dark"}, "edited": false, "score": 3, "creation_date": 1459986372, "post_id": 36464173, "comment_id": 60540165, "body": "My preference would be to just have the individual class forward references in the headers that need them. But it is just a preference. One reason not to put it all in one header is to prevent having to recompile everything when you add a class."}, {"owner": {"reputation": 1120, "user_id": 3381662, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100001425623999/picture?type=large", "display_name": "Aleksandrus", "link": "https://stackoverflow.com/users/3381662/aleksandrus"}, "edited": false, "score": 0, "creation_date": 1459986543, "post_id": 36464173, "comment_id": 60540202, "body": "In my head, some cases may be inevitable. For example, I&#39;m writing a compiler for a simple language that looks like C. A function has a block (anything between &#39;{&#39; and &#39;}&#39;). a block has variable declarations and commands (like &#39;if&#39;) and a command might have a block (&#39;if&#39; may have a block). Thus, we have a circ dep issue between Command and Block"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 2, "creation_date": 1459992206, "post_id": 36464173, "comment_id": 60541628, "body": "These are not pointers to classes. They are forward declarations of classes. I don&#39;t see a reason to create another header file for this when you can just write the forward declaration itself whenever needed."}], "answers": [{"tags": [], "owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "is_accepted": true, "score": 2, "last_activity_date": 1459987905, "creation_date": 1459987905, "answer_id": 36464467, "question_id": 36464173, "link": "https://stackoverflow.com/questions/36464173/c-is-creating-a-header-to-solve-circular-dependency-a-good-idea/36464467#36464467", "title": "C++ is creating a header to solve circular dependency a good idea?", "body": "<p>What you have is fine. The naming suffix I've usually seen is <code>_fwd.h</code>/<code>_fwd.hpp</code>/<code>_fwd.hxx</code> or whatever variant of <code>.h</code> you like. You can see this in Boost, for example: <a href=\"http://www.boost.org/doc/libs/1_52_0/boost/optional/optional_fwd.hpp\" rel=\"nofollow\">optional_fwd.hpp</a>.</p>\n\n<p>(Of course reducing circular dependencies is a good goal, but some things are mutually-recursive in nature, like grammars, so you have no choice.)</p>\n"}], "owner": {"reputation": 1120, "user_id": 3381662, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100001425623999/picture?type=large", "display_name": "Aleksandrus", "link": "https://stackoverflow.com/users/3381662/aleksandrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 1, "accepted_answer_id": 36464467, "answer_count": 1, "score": 5, "last_activity_date": 1459987905, "creation_date": 1459985887, "question_id": 36464173, "link": "https://stackoverflow.com/questions/36464173/c-is-creating-a-header-to-solve-circular-dependency-a-good-idea", "title": "C++ is creating a header to solve circular dependency a good idea?", "body": "<p>I have a C++ project that's starting to get big. I'm facing a situation where I have lots of classes with circular dependencies. Suppose I have classes A, B, C, D. To solve this, I've created a header file named <strong>circular_dep.h</strong></p>\n\n<p>This file's content would be pointers to classes:</p>\n\n<pre><code>class A;\nclass B;\nclass C;\nclass D;\n</code></pre>\n\n<p>This header is included by all my classes's header now. That way, the compiler stopped complaining when I had circular dependencies. Whenever I add a new class to the project, however, I'll have to add it to <strong>circular_dep.h</strong></p>\n\n<p>I couldn't find any easier way to do this, so to me this is the best solution so far. My question is: is it a good idea to apply to projects that might face circular dependency issues? Or is this a bad design/bad or dangerous practice?</p>\n"}, {"tags": ["c++", "arrays", "templates"], "comments": [{"owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "edited": false, "score": 0, "creation_date": 1459986247, "post_id": 36464121, "comment_id": 60540135, "body": "what exactly is the question? Could you provide that recursive template source?"}, {"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "reply_to_user": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "edited": false, "score": 0, "creation_date": 1459987107, "post_id": 36464121, "comment_id": 60540365, "body": "Should&#39;ve put in an example! I just added one."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459987049, "post_id": 36464265, "comment_id": 60540349, "body": "The arrays are constant sized; the size is a template parameter."}, {"owner": {"reputation": 1196, "user_id": 5468596, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oYsoZ.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5468596/stephen"}, "reply_to_user": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459988145, "post_id": 36464265, "comment_id": 60540621, "body": "If that is the case I don&#39;t think what you want is possible, template arguments have to be static because the function is constructed with the template type at compile time and not run time."}, {"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459988392, "post_id": 36464265, "comment_id": 60540681, "body": "The parameter is still constant if its the result of a constant and another constant though. Such as d- 1 (where d was a template parameter)."}, {"owner": {"reputation": 1196, "user_id": 5468596, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oYsoZ.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5468596/stephen"}, "reply_to_user": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459989154, "post_id": 36464265, "comment_id": 60540888, "body": "Why do you want to do this with a template parameter? Wouldn&#39;t it be easier to just pass d as a function parameter and not as a template parameter?"}, {"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1460040535, "post_id": 36464265, "comment_id": 60569519, "body": "I am trying to see whether I can improve performance by taking advantage of the fact that my arrays are very small (&lt;10 elements) and constant sized. Also, I was just curious about how it could be done."}], "tags": [], "owner": {"reputation": 1196, "user_id": 5468596, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oYsoZ.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5468596/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1459986518, "creation_date": 1459986518, "answer_id": 36464265, "question_id": 36464121, "link": "https://stackoverflow.com/questions/36464121/recursive-templates-constant-n-size-array-n-1-size-in-place/36464265#36464265", "title": "Recursive templates - constant n size array -&gt; n-1 size in-place?", "body": "<p>Hopefully I am interpreting this correctly but, when you pass the array as a template, I assume you pass an argument for the size of the array. (otherwise how would you know how large the array is?) When you pass the array, you are passing a pointer to the first element of the array, so when you pass the sub array you could just pass a pointer to the next element and size d-1 or an iterator that points to the next element and size d-1.</p>\n\n<p>Example:</p>\n\n<pre><code>template&lt; typename T&gt;\nT foo(T * ptr, int size) {\n    if (size &gt; 0)\n        return *ptr + foo(ptr + sizeof(T), size - 1);\n    else\n        return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459992487, "post_id": 36464808, "comment_id": 60541701, "body": "This is a great answer! I can&#39;t believe I didn&#39;t think of reinterpret cast- I guess was unsure how things worked with constant sized arrays I didn&#39;t think to just force the cast. The rest of your answer was very helpful as well because (as you show) there&#39;s some other thorns in implementing this particular recursion. I had already figured out the partial specialization with structs, but I didn&#39;t know about the second method you posted."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "reply_to_user": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1459993422, "post_id": 36464808, "comment_id": 60541970, "body": "Thanks!  The &quot;overload&quot; version leverages class specialization in type_select, so it is technically also specialization-based, but I think a true overload-based technique should still be possible. The reinterpret_cast worries me, but strict aliasing should not be violated as long as the array is accessed by accessing each element, rather than somehow as a whole unit, like might be done by embedding it in a struct."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "reply_to_user": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1460010225, "post_id": 36464808, "comment_id": 60547413, "body": "I added two more techniques.  The last one is by far the best, and really the only way to end the recursion.  Lol"}], "tags": [], "owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "is_accepted": true, "score": 1, "last_activity_date": 1460010123, "last_edit_date": 1460010123, "creation_date": 1459990109, "answer_id": 36464808, "question_id": 36464121, "link": "https://stackoverflow.com/questions/36464121/recursive-templates-constant-n-size-array-n-1-size-in-place/36464808#36464808", "title": "Recursive templates - constant n size array -&gt; n-1 size in-place?", "body": "<p>This answer is for static, C-style arrays, If your question is about std::Array, I apologize.</p>\n\n<p>Off the top of my head, I came up with two ways to do the recursion, but many more techniques exist.</p>\n\n<p>The first one uses a partially specialized class (with array count of zero) to terminate the recursion.</p>\n\n<p>The second way uses a cast to a statically-chosen type which ends the recursion with an overloaded function.  Here, I cast the array to void*, but for types that won't work with this, you could create a custom type which is constructible from the original type.</p>\n\n<p>I resorted to using reinterpret_cast to change the array's type from a reference to array[count] to array[count-1].  Although I expect this to be safe as it is used here, keep in mind that you might run into problems in different situations.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n// Ends recursion with a partial specialization\ntemplate &lt;typename T, int count&gt;\nstruct StaticArrayDump {\n    static void func(T(&amp;a)[count]) {\n        using shorter_t = T(&amp;)[count-1];\n        StaticArrayDump&lt;T, count-1&gt;::func(reinterpret_cast&lt;shorter_t&gt;(a));\n        std::cout &lt;&lt; a[count-1] &lt;&lt; ' ';\n    }\n};\ntemplate &lt;typename T&gt;\nstruct StaticArrayDump&lt;T,0&gt; { \n    static void func(...) {}\n};\n\ntemplate &lt;typename T, int count&gt;\nstatic void static_array_dump_spec(T(&amp;a)[count]) {\n    using shorter_t = T(&amp;)[count-1];\n    StaticArrayDump&lt;T,count&gt;::func(a);\n}\n\n// Ends recursion with void* cast and function overload\n// Ultimately relies on type_select's specialization, however\ntemplate &lt;bool, typename A, typename B&gt; struct type_select /* true */ { using type = A; };\ntemplate &lt;typename A, typename B&gt;       struct type_select&lt;false,A,B&gt; { using type = B; };\ntemplate &lt;bool cond, typename A, typename B&gt;\nusing type_select_t = typename type_select&lt;cond, A, B&gt;::type;\n\nstatic void static_array_dump_ovld(...) {}\n\ntemplate &lt;typename T, int count&gt;\nstatic void static_array_dump_ovld(T(&amp;a)[count]) {\n    static const int next_count = count-1;\n    using shorter_t = T(&amp;)[next_count];\n    static_array_dump_ovld(reinterpret_cast&lt;\n            type_select_t&lt;next_count!=0, shorter_t, void*&gt;\n        &gt;(a));\n    // output the last element\n    std::cout &lt;&lt; a[count-1] &lt;&lt; ' ';\n}\n\n// This is an overload-based version which is free of\n// any reliance on template specialization.\n// helper_trueol's (void*, void*) overload will only be\n// selected for arguments (array_ref, count) when count\n// is 0, because 0 is the only integer which can be\n// converted to a pointer.\n\n// This one's compiler compatibility is a bit shaky...\n// MSVC 2013 OK\n// IdeOne g++ needs int cast for next_count\nstatic void helper_trueol(void*, void*) {}\n\ntemplate &lt;typename T, int count&gt;\nstatic void helper_trueol(T(&amp;a)[count], int) {\n    static const int next_count = count-1;\n    using shorter_t = T(&amp;)[next_count];\n    helper_trueol(reinterpret_cast&lt;shorter_t&gt;(a), int(next_count));\n    std::cout &lt;&lt; a[count-1] &lt;&lt; ' ';\n}\n\ntemplate &lt;typename T, int count&gt;\nstatic void static_array_dump_trueol(T(&amp;a)[count]) {\n    helper_trueol(a, count);\n}\n\n// Finally, this overload-based version relies\n// on SFINAE to disqualify the template function\n// as a candidate when count is 0 because the\n// zero-length array type triggeres a substitution\n// failure.\n// So just using this template array argument type,\n// the same one used in all of the previous examples,\n// but without any extra mechanisms, is all you need\n// to end this recursion!  \n// This is the obvious best way, of course.\n\nstatic void static_array_dump_sfinae(...) {}\n\ntemplate &lt;typename T, int count&gt;\nstatic void static_array_dump_sfinae(T(&amp;a)[count]) {\n    static const int next_count = count-1;\n    using shorter_t = T(&amp;)[next_count];\n    static_array_dump_sfinae(reinterpret_cast&lt;shorter_t&gt;(a));\n    std::cout &lt;&lt; a[count-1] &lt;&lt; ' ';\n}\n\n//////\n\nint main() {\n    double dbl_array[] = { 0, 1.2, 3.4, 5.6789, 10 };\n    static_array_dump_spec(dbl_array);\n    std::cout &lt;&lt; '\\n';\n    const char* cstr_array[] = { \"zero\", \"one\", \"two\", \"three\", \"four\" };\n    static_array_dump_ovld(cstr_array);\n    std::cout &lt;&lt; '\\n';\n\n    char charray[] = \"Hello\";\n    charray[sizeof(charray)-1] = '!'; // replace nul terminator\n    static_array_dump_trueol(charray);\n    std::cout &lt;&lt; '\\n';\n\n    bool barray[] = {true, true, true, false, true, false, false, false};\n    std::cout &lt;&lt; std::boolalpha;\n    static_array_dump_sfinae(barray);\n    std::cout &lt;&lt; '\\n';\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "edited": false, "score": 0, "creation_date": 1460040395, "post_id": 36465097, "comment_id": 60569415, "body": "I actually was just curious about how to take the input of T[d] and make it a t[d-1] without creating a new array."}], "tags": [], "owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1459992265, "creation_date": 1459992265, "answer_id": 36465097, "question_id": 36464121, "link": "https://stackoverflow.com/questions/36464121/recursive-templates-constant-n-size-array-n-1-size-in-place/36465097#36465097", "title": "Recursive templates - constant n size array -&gt; n-1 size in-place?", "body": "<p>From the information that you provided i assume you want too know how too \"stop\" the recursion. This would look something like this: </p>\n\n<pre><code>// this is the function that will be called from the user, it would be bad design too have to pass an integral constant manually when we can easily do this \ntemplate &lt;std::size_t I&gt;\ninline \nvoid Function(int (&amp;_array)[I])\n{\n  Function(_array, std::integral_constant&lt;std::size_t, I&gt;);\n}\n\n// function will recursively do something with an array for each of it's elements\ntemplate&lt;std::size_t I&gt;\nvoid Function(int (&amp;_array)[I], std::integral_constant&lt;std::size_t, I&gt;)\n{\n  // do something...\n  Function(_array,std::integral_constant&lt;std::size_t,I-1&gt;);\n}\n\n// function as before with a few modifications\ntemplate&lt;std::size_t I&gt;\nvoid Function(int (&amp;_array)[I], std::integral_constant&lt;std::size_t, 1&gt;)\n{\n  // do something...\n  // exit function...\n}\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 2345397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29212d203a5df277348eaf400e24eb24?s=128&d=identicon&r=PG", "display_name": "user2345397", "link": "https://stackoverflow.com/users/2345397/user2345397"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 36464808, "answer_count": 3, "score": 1, "last_activity_date": 1460010123, "creation_date": 1459985591, "last_edit_date": 1459986990, "question_id": 36464121, "link": "https://stackoverflow.com/questions/36464121/recursive-templates-constant-n-size-array-n-1-size-in-place", "title": "Recursive templates - constant n size array -&gt; n-1 size in-place?", "body": "<p>This may be a bizarre question, but I have a recursive template that expects an array of size d (where d is a template parameter), and I want to pass the d-1 template the same array as if it was one element shorter. This way I only work with one array, instead of creating a new one for each level. </p>\n\n<p>I feel like the answer may be something very basic, but I can't come up with any search terms that result in anything close to what I'm looking for. </p>\n\n<p>To put this into context, here's an example</p>\n\n<pre><code>template&lt;int d&gt;\nvoid Function(int array[d])\n{\n  array[d- 1]= d;\n  Function&lt;d- 1&gt;(?);\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 2, "creation_date": 1459984333, "post_id": 36463928, "comment_id": 60539592, "body": "Needs jalapeno sauce."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 1, "creation_date": 1459984412, "post_id": 36463928, "comment_id": 60539620, "body": "You need to define all the functions in the header and in the cpp. Google a sample header program"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459984791, "post_id": 36463928, "comment_id": 60539728, "body": "Your burrito has no variables (data members) declared in the class.  Your <code>variables</code> method has <i>local</i> variables that disappear after execution leaves the method."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459984843, "post_id": 36463928, "comment_id": 60539741, "body": "Your source file has <code>private</code> section and <code>};</code> not associated with anything.  Maybe you wanted to move these lines to the end of your Burrito."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6169401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJVtD.jpg?s=128&g=1", "display_name": "Ammar T.", "link": "https://stackoverflow.com/users/6169401/ammar-t"}, "edited": false, "score": 0, "creation_date": 1459985173, "post_id": 36464065, "comment_id": 60539824, "body": "Thanks for this! Sorry for this mess, I&#39;m new to c++"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459985180, "post_id": 36464065, "comment_id": 60539826, "body": "A common coding guideline is to provide parameter names in the declarations of methods."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 1, "user_id": 6169401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJVtD.jpg?s=128&g=1", "display_name": "Ammar T.", "link": "https://stackoverflow.com/users/6169401/ammar-t"}, "edited": false, "score": 0, "creation_date": 1459985384, "post_id": 36464065, "comment_id": 60539876, "body": "@AmmarT glad it helped. Please mark it as an answer if you see it working :)"}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459985483, "post_id": 36464065, "comment_id": 60539909, "body": "Do NOT put <code>using namespace std;</code> in the header file, this creates namespace pollution - see here: <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-in-c-considered-bad-practice\" title=\"why is using namespace std in c considered bad practice\">stackoverflow.com/questions/1452721/&hellip;</a>"}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459985581, "post_id": 36464065, "comment_id": 60539941, "body": "But this is for beginners? @archbishopofbanterbury"}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459985642, "post_id": 36464065, "comment_id": 60539958, "body": "@FirstStep That does not mean that we should teach them poor coding conventions - it&#39;s best to learn good coding conventions right from the start"}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459985827, "post_id": 36464065, "comment_id": 60540017, "body": "You are making a point.  I learned it that way and I am fairly doing good now. Thanks for the point I edited it :)"}], "tags": [], "owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "is_accepted": true, "score": 1, "last_activity_date": 1459985758, "last_edit_date": 1459985758, "creation_date": 1459985094, "answer_id": 36464065, "question_id": 36463928, "link": "https://stackoverflow.com/questions/36463928/no-variable-member-function-declared-in-class/36464065#36464065", "title": "No variable member function declared in class?", "body": "<p>Your code is a mess. You need to write function prototypes in the header file and function definitions in the cpp file. You are missing some basic coding structures. See below and learn this pattern of coding:</p>\n\n<p>This code should work and enjoy burritos !</p>\n\n<p><strong>main():</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Header.h\"\n\nint main()\n{\n    burrito a;\n    a.setName(\"Ammar T.\");\n\n    std::cout &lt;&lt; a.getName() &lt;&lt; \"\\n\";\n\n    getchar();\n    return 0;\n}\n</code></pre>\n\n<p><strong>CPP file:</strong></p>\n\n<pre><code>#include \"Header.h\"\n#include &lt;string&gt;\n\nvoid burrito::setName(std::string x) { this-&gt;name = x; }\nstd::string burrito::getName() { return this-&gt;name; }\n</code></pre>\n\n<p><strong>Header file:</strong></p>\n\n<pre><code>#include &lt;string&gt;\n\nclass burrito\n{\nprivate:\n    std::string name;\n\npublic:\n    void setName(std::string);\n    std::string getName();\n    //variables(string name) {string name;} // What do you mean by this??\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459985293, "post_id": 36464067, "comment_id": 60539857, "body": "this is too much for a beginner."}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459985310, "post_id": 36464067, "comment_id": 60539864, "body": "<code>set_name</code> needs a <code>void</code> return type in header file :)"}, {"owner": {"reputation": 1, "user_id": 6169401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJVtD.jpg?s=128&g=1", "display_name": "Ammar T.", "link": "https://stackoverflow.com/users/6169401/ammar-t"}, "edited": false, "score": 0, "creation_date": 1459985358, "post_id": 36464067, "comment_id": 60539874, "body": "Since I&#39;m new to c++ I have no idea what alot of the things u did mean so I&#39;ll have to look it up, Thanks for the help!"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1459985510, "post_id": 36464067, "comment_id": 60539916, "body": "@ArchbishopOfBanterbury: Thanks for identifying a defect. :-).  Corrected."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 2, "creation_date": 1459985583, "post_id": 36464067, "comment_id": 60539943, "body": "@FirstStep:  How is this too much for a beginner?  I took the OP&#39;s code and organized it correctly."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459985876, "post_id": 36464067, "comment_id": 60540025, "body": "What if he doesn&#39;t know what is to pass by reference? or why we use const with the parameter or inline?"}, {"owner": {"reputation": 1, "user_id": 6169401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJVtD.jpg?s=128&g=1", "display_name": "Ammar T.", "link": "https://stackoverflow.com/users/6169401/ammar-t"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 1, "creation_date": 1459985959, "post_id": 36464067, "comment_id": 60540046, "body": "@FirstStep I have no idea what either of those are, thats why I went with yours since it didn&#39;t add anything I didn&#39;t know."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 1, "creation_date": 1459985990, "post_id": 36464067, "comment_id": 60540061, "body": "@FirstStep: Then he has a poor education.  I recommend that references be taught before function creation."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459987202, "post_id": 36464067, "comment_id": 60540392, "body": "@thomasmatthews Maybe you are right and I should go with your advice."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1459985476, "last_edit_date": 1459985476, "creation_date": 1459985120, "answer_id": 36464067, "question_id": 36463928, "link": "https://stackoverflow.com/questions/36463928/no-variable-member-function-declared-in-class/36464067#36464067", "title": "No variable member function declared in class?", "body": "<p>Your poor little burrito is confused.  Confused burritos can't help much.  </p>\n\n<p>You may want your burrito declaration as:  </p>\n\n<pre><code>class Burrito\n{\npublic:\n    Burrito();\n    void set_name(const std::string&amp; new_name);\n    std::string get_name() const;\nprivate:\n    std::string name;\n};\n</code></pre>\n\n<p>The methods could be defined in the source file as:</p>\n\n<pre><code>void\nBurrito::set_name(const std::string&amp; new_name)\n{\n  name = new_name;\n}\n\nstd::string\nBurrito::get_name() const\n{\n  return name;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459985471, "post_id": 36464097, "comment_id": 60539906, "body": "the member function setName() needs a string as a parameter :)"}, {"owner": {"reputation": 3, "user_id": 5628207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6793cdb91788578e29506bf2434ea716?s=128&d=identicon&r=PG&f=1", "display_name": "nivbala", "link": "https://stackoverflow.com/users/5628207/nivbala"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459985801, "post_id": 36464097, "comment_id": 60540007, "body": "@FirstStep Were you pointing to the setName() on the first line? I just edited it"}], "tags": [], "owner": {"reputation": 3, "user_id": 5628207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6793cdb91788578e29506bf2434ea716?s=128&d=identicon&r=PG&f=1", "display_name": "nivbala", "link": "https://stackoverflow.com/users/5628207/nivbala"}, "is_accepted": false, "score": 0, "last_activity_date": 1459985618, "last_edit_date": 1459985618, "creation_date": 1459985400, "answer_id": 36464097, "question_id": 36463928, "link": "https://stackoverflow.com/questions/36463928/no-variable-member-function-declared-in-class/36464097#36464097", "title": "No variable member function declared in class?", "body": "<p>The header file only has a constructor for the class. The member functions </p>\n\n<pre><code>   setName(string) and getName()       \n</code></pre>\n\n<p>are not declared in the header file and that is why you get the error.\nAlso, you need to specify the return type for functions.</p>\n\n<p>One way to do this would be</p>\n\n<pre><code> //Header \n //burrito.h   \nclass burrito{\n   private:\n   string burrito_name; \n   public:\n       burrito();\n       string getName(); \n       void setName(string);\n             }\n\n//burrito.cpp\n#include \"burrito.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nstring burrito::getName()\n{\nreturn burrito_name; \n}\n\nvoid burrito::setName(string bname)\n{\n bname =burrito_name;\n} \n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6169399"}, "is_accepted": false, "score": 0, "last_activity_date": 1470741031, "last_edit_date": 1470741031, "creation_date": 1459986557, "answer_id": 36464277, "question_id": 36463928, "link": "https://stackoverflow.com/questions/36463928/no-variable-member-function-declared-in-class/36464277#36464277", "title": "No variable member function declared in class?", "body": "<p>This is a simple example for class in C++,<br>\nSave this in <code>burrito.cpp</code> file then compile and run it:  </p>\n\n\n\n<pre><code>#include &lt;iostream&gt; \n#include &lt;string&gt; \nusing namespace std;\nclass burrito {\npublic:\n    void setName(string s);\n    string getName();\nprivate:\n    string name;\n};\n\nvoid burrito::setName(string s) {\n    name = s;\n}\nstring burrito::getName() {\n    return name;\n}\n\nint main() {\n    burrito a;\n    a.setName(\"Ammar T.\");\n    std::cout &lt;&lt; a.getName() &lt;&lt; \"\\n\";\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6169401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJVtD.jpg?s=128&g=1", "display_name": "Ammar T.", "link": "https://stackoverflow.com/users/6169401/ammar-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 36464065, "answer_count": 4, "score": 0, "last_activity_date": 1470741031, "creation_date": 1459984291, "question_id": 36463928, "link": "https://stackoverflow.com/questions/36463928/no-variable-member-function-declared-in-class", "title": "No variable member function declared in class?", "body": "<h2>can sombody explain to me why my code will not work, and how to fix it thanks :)</h2>\n\n<p>I keep recieving this error :</p>\n\n<pre><code>no 'int burrito::setName()' member function declared in class 'burrito'\n</code></pre>\n\n<p>My goal is to call a function from a different class file</p>\n\n<p>My main.cpp :</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"burrito.h\"\nusing namespace std;\n\nint main()\n{\n\nburrito a;\na.setName(\"Ammar T.\");\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>My class header (burrito.h)</p>\n\n<pre><code>#ifndef BURRITO_H\n#define BURRITO_H\n\n\nclass burrito\n{\npublic:\n    burrito();\n};\n\n#endif // BURRITO_H\n</code></pre>\n\n<p>My class file (burrito.cpp):</p>\n\n<pre><code>#include \"burrito.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nburrito::setName()\n{\n  public:\n    void setName(string x){\n        name = x;\n\n\n    };\nburrito::getName(){\n\n    string getName(){\n        return name;\n    };\n\n}\n\nburrito::variables(string name){\n    string name;\n               };\n\nprivate:\n    string name;\n};\n</code></pre>\n"}, {"tags": ["c++", "arrays", "loops", "c++11", "for-loop"], "answers": [{"tags": [], "owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "is_accepted": false, "score": 0, "last_activity_date": 1459984133, "creation_date": 1459984133, "answer_id": 36463894, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array/36463894#36463894", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>In your display <code>for loop</code>, you started from <code>i = numbers</code> which is out of the array's range. Since the array starts from <code>0 till size - 1</code>, then you need to start from <code>i = numbers - 1</code> all the way to <code>&gt;=0</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 674, "user_id": 2843331, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f4607c2756f99ce71aa142a697b21e9b?s=128&d=identicon&r=PG", "display_name": "Husain", "link": "https://stackoverflow.com/users/2843331/husain"}, "is_accepted": false, "score": 0, "last_activity_date": 1459984165, "creation_date": 1459984165, "answer_id": 36463901, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array/36463901#36463901", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>Because you start from <code>array[numbers]</code> which is not defined.</p>\n\n<p><code>array[0], array[1], ... array[numbers-1]</code> are defined.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6167645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2bab319fa823faef1bfd2928d58af7?s=128&d=identicon&r=PG&f=1", "display_name": "Ray P.", "link": "https://stackoverflow.com/users/6167645/ray-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1459984399, "creation_date": 1459984399, "answer_id": 36463947, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array/36463947#36463947", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>In C arrays are stored from 0 instead of 1. So the last number is stored in <code>array[4]</code></p>\n\n<p>So when you're writing it out you should start an <code>numbers - 1</code> instead of just <code>numbers</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1459984415, "last_edit_date": 1495540456, "creation_date": 1459984415, "answer_id": 36463951, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array/36463951#36463951", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>This loop reads out of bounds:</p>\n\n<pre><code>for(int i = numbers; i &gt;= 0 ; i-- )\n{\n</code></pre>\n\n<p>If you follow <code>i</code> through in your head you will see that you output entries <code>numbers</code> through to <code>0</code>, when in fact you should output entries <code>numbers-1</code> through to <code>0</code>.</p>\n\n<p>An alternative patterns is:</p>\n\n<pre><code>for( int i = numbers; i--; )\n</code></pre>\n\n<p>Or you can use the fabled <a href=\"https://stackoverflow.com/questions/1642028/what-is-the-name-of-the-operator\"><code>--&gt;</code> operator</a>.</p>\n\n<p>It would be possible to \"simply\" start from <code>numbers - 1</code>, however the loop pattern you have used would not work for an unsigned counter (because they are always <code>&gt;= 0</code>). IMHO it is a good idea to use a pattern which works for all types; then you are less likely to make a mistake in future.</p>\n"}, {"tags": [], "owner": {"reputation": 310, "user_id": 2913117, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QIEla.jpg?s=128&g=1", "display_name": "Nauman Ahmad", "link": "https://stackoverflow.com/users/2913117/nauman-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1459984613, "creation_date": 1459984613, "answer_id": 36463981, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array/36463981#36463981", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>Because you are starting the index  from out of range giving  you garbage value.</p>\n\n<p>your code should look some thing like this </p>\n\n<pre><code> for(int i = numbers-1; i &gt;= 0 ; i-- )\n {\n     cout &lt;&lt; new_array[i] &lt;&lt; endl;\n  }\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6169294, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3Mg1V.jpg?s=128&g=1", "display_name": "ETERNAL OBLIVION", "link": "https://stackoverflow.com/users/6169294/eternal-oblivion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7861, "favorite_count": 0, "accepted_answer_id": 36463951, "answer_count": 5, "score": 1, "last_activity_date": 1459986627, "creation_date": 1459983960, "question_id": 36463867, "link": "https://stackoverflow.com/questions/36463867/c-using-for-loop-to-allow-user-input-of-numbers-into-array", "title": "C++: using for loop to allow user input of numbers into array", "body": "<p>I'm new to the community and to coding as well. Right now I'm taking Intro to Computer Science at my CC and we're learning C++. Anyways, I have to create a program which asks the user for a number, which will be the size indicator of the array <code>new_array</code>. The program then asks the user to input the numbers one by one and afterwards, outputs them in reverse. \n    #include \n    using namespace std;</p>\n\n<pre><code>int main()\n{\ncout &lt;&lt; \"How many numbers?\\n\";\nint numbers; // holds amount of numbers to be entered into array\ncin &gt;&gt; numbers;\nint new_array[numbers];\nfor(int counter = 0; counter &lt; numbers; counter++)\n{\n    cout &lt;&lt; \"Enter number \" &lt;&lt; counter &lt;&lt; endl;\n    cin &gt;&gt; new_array[counter];\n}\n\ncout &lt;&lt; \"You entered: \" &lt;&lt; endl;\n\nfor(int i = numbers; i &gt;= 0 ; i-- )\n{\n    cout &lt;&lt; new_array[i] &lt;&lt; endl;\n\n}\n\nreturn 0;\n}\n</code></pre>\n\n<p>I understand how to do this and for the most part, my program worked. It outputs the numbers entered in reverse just fine, but before it does so, it outputs large, strange numbers. For example, if the user enters <code>5</code> as the amount of numbers to be entered, and then enters <code>1, 2, 3, 4</code> and <code>6</code> as the <code>5</code> numbers respectively, the program outputs the number <code>4669476</code> first and then outputs the numbers in the array in reverse. Can anyone explain to me what I did wrong and how I could fix this? Thank you in advanced!\nPS be gentle! I'm a newbie at this </p>\n"}, {"tags": ["c++", "eclipse"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459984183, "post_id": 36463839, "comment_id": 60539532, "body": "You may need to enable C++11. What version of eclipse?"}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459987158, "post_id": 36463839, "comment_id": 60540377, "body": "Version: Helios Service Release 2 Build id: 20110218-0911"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459987782, "post_id": 36463839, "comment_id": 60540528, "body": "Jinkies. That&#39;s a hoary beast. The C++ constructs may give the CODAN module fits, so you might have to turn off some of the helper pre-compilation warnings and analysis. but you should be able to open up the build options and add <code>-std=c++11</code> for the miscellaneous build arguments to make the compiler happy. Unfortunately I can&#39;t remember where that was in Helios. Fortunately this dude seems to: <a href=\"http://stackoverflow.com/questions/9131763/eclipse-cdt-c11-c0x-support/22001437#22001437\" title=\"eclipse cdt c11 c0x support\">stackoverflow.com/questions/9131763/eclipse-cdt-c11-c0x-supp&zwnj;&#8203;ort/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459987869, "post_id": 36463839, "comment_id": 60540552, "body": "Looks like it&#39;s a pretty old version. I installed the following:  Version: Mars.2 Release (4.5.2) Build id: 20160218-0600  And am still running into the same problem."}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459988119, "post_id": 36463839, "comment_id": 60540612, "body": "I stumbled across that answer, but the trouble is the path he&#39;s describing isn&#39;t what I see in Eclipse. Once I get to Settings, there is no &#39;Discovery&#39; tab as he describes. . ."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459988568, "post_id": 36463839, "comment_id": 60540728, "body": "Most of that is useless to you. Doesn&#39;t exist. But <code>Properties&#47;C&#47;C++ Build-&gt;Settings-&gt;Tool Settings-&gt;GCC C++ Compiler-&gt;Miscellaneous-&gt;Other Flags</code> sounds right. Add in <code>-std=c++11</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459988687, "post_id": 36463839, "comment_id": 60540769, "body": "Getting the compiler to work in mars is easy: <code>Properties-&gt;C&#47;C++ Build-&gt;Settings-&gt;Tool Settings-&gt;GCC C++ Compiler-&gt;Dialect</code> Use the drop-down to select C++11"}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459988758, "post_id": 36463839, "comment_id": 60540778, "body": "I have tried both these suggestions, and am getting the same error. Will return shortly, with scotch."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459988959, "post_id": 36463839, "comment_id": 60540841, "body": "Crap. Wasn&#39;t paying enough attention to the error message. This is clang. This any help? <a href=\"http://stackoverflow.com/questions/7875241/activating-c11-support-in-clang\" title=\"activating c11 support in clang\">stackoverflow.com/questions/7875241/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459989022, "post_id": 36463839, "comment_id": 60540852, "body": "I will take a closer look in a moment, but I am on a Mac."}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459990895, "post_id": 36463839, "comment_id": 60541319, "body": "Here&#39;s the full error message I&#39;m getting:  make all  Building target: CS106B_Prog_Ass01_05 Invoking: MacOS X C++ Linker g++  -o &quot;CS106B_Prog_Ass01_05&quot;  ./CS106B_Prog_Ass01_05.o    Undefined symbols for architecture x86_64:   &quot;getLine(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;)&quot;, referenced from:       _main in CS106B_Prog_Ass01_05.o ld: symbol(s) not found for architecture x86_64 clang: error: linker command failed with exit code 1 (use -v to see invocation) make: *** [CS106B_Prog_Ass01_05] Error 1"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459991785, "post_id": 36463839, "comment_id": 60541528, "body": "Looks like you&#39;ve gotten around the C++11 problem then. This error looks like it can&#39;t find a <code>getLine</code> that takes a <code>string</code>. Different problem. You have a function prototype that looks something like <code>getLine(std::string)</code> but either no implementation of the function, the implementation and the prototype do not match, or the implementation is in another C++ file that is not being built or linked."}, {"owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459992918, "post_id": 36463839, "comment_id": 60541822, "body": "That means that the configuration I&#39;m using to link it to the stanfordcpplib folder on my desktop isn&#39;t working, which doesn&#39;t make any sense. The code that I&#39;m using perfectly recognizes a vector.h file found in the folder on my desktop."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459993579, "post_id": 36463839, "comment_id": 60542017, "body": "Check that the contents of vector.h aren&#39;t header-only. If vector.h is implemented entirely in the header it doesn&#39;t need to be separately compiled and linked in. You likely have a header that contains the prototype, the instructions for calling a function, but the function is in a cpp file that needs to be compiled and linked or has been compiled and is inside a library that needs to be linked. This conversation is kind of sprawling. I think you might need to open up a new question."}], "owner": {"reputation": 1, "user_id": 6169388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05febcc36ee3a24cc63bc182f07d4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "bigbrass", "link": "https://stackoverflow.com/users/6169388/bigbrass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1459983825, "creation_date": 1459983825, "question_id": 36463839, "link": "https://stackoverflow.com/questions/36463839/working-on-cs106b-through-see-continued-ld-symbols-not-found-for-architectu", "title": "Working on CS106B through SEE, continued &quot;ld: symbol(s) not found for architecture x86_64&quot; errors when using their libraries", "body": "<p>I'm using Eclipse and have been including the relevant libraries in the project folder as I build. Now that I'm a bit further in the course, I'm trying to </p>\n\n<pre><code>#include \"vector.h\"\n</code></pre>\n\n<p>but building gives 16 warnings that look like:</p>\n\n<p>In file included from ../CS106B_Prog_Ass01_05.cpp:6:\nFinished building: ../CS106B_Prog_Ass01_05.cpp\n../vector.h:560:26: warning: range-based for loop is a C++11 extension [-Wc++11-extensions]</p>\n\n<p>and the following error that prevents the project from building:</p>\n\n<p>Undefined symbols for architecture x86_64:\n  \"mainWrapper(int, char**)\", referenced from:\n      _main in CS106B_Prog_Ass01_05.o\n  \"__mainFlags\", referenced from:\n      _main in CS106B_Prog_Ass01_05.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [CS106B_Prog_Ass01_05] Error 1</p>\n\n<p>I would love to simply link to the library folder, but that results in a similar error even if I switch it to a different architecture. Has anyone had this problem?</p>\n"}, {"tags": ["python", "c++", "windows", "makefile"], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 5665422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-ZjJuNkfFnlA/AAAAAAAAAAI/AAAAAAAAABw/2xNy6z_ACgw/photo.jpg?sz=128", "display_name": "S rick", "link": "https://stackoverflow.com/users/5665422/s-rick"}, "is_accepted": false, "score": 0, "last_activity_date": 1459985488, "creation_date": 1459985488, "answer_id": 36464109, "question_id": 36463722, "link": "https://stackoverflow.com/questions/36463722/how-do-i-install-sip-makefile-to-use-pyqt/36464109#36464109", "title": "How do I install SIP makefile to use PyQt?", "body": "<p>So I've found the correct way to use make. I had to set my path to include mnGW and use: <code>mingw32-make</code> and <code>mingw32-make install</code></p>\n\n<p>I found this ironically on the python wiki!</p>\n\n<p><a href=\"https://wiki.python.org/moin/BuildPyQt4Windows\" rel=\"nofollow\">https://wiki.python.org/moin/BuildPyQt4Windows</a></p>\n"}], "owner": {"reputation": 34, "user_id": 5665422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-ZjJuNkfFnlA/AAAAAAAAAAI/AAAAAAAAABw/2xNy6z_ACgw/photo.jpg?sz=128", "display_name": "S rick", "link": "https://stackoverflow.com/users/5665422/s-rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1593, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1460020317, "creation_date": 1459983251, "last_edit_date": 1460020317, "question_id": 36463722, "link": "https://stackoverflow.com/questions/36463722/how-do-i-install-sip-makefile-to-use-pyqt", "title": "How do I install SIP makefile to use PyQt?", "body": "<p>I want to install sip to use with PyQt.</p>\n\n<ol>\n<li>I've unpacked the sip download</li>\n<li>I ran Windows command prompt and changed dir to C:\\Python\\sip\\</li>\n<li>I ran the <code>configure.py</code> script, I did try the <code>python configure.py</code> first but because I unpacked the sip folder into C:\\Python I couldn't get command line to recognise the python shell</li>\n<li>This returned the makefile in command prompt, i couldn't then use make, it just gave me the error <code>'make' is not recognized</code></li>\n<li>I looked into it and thought i would solve this by using minGW</li>\n<li><p>Now my command prompt shows:</p>\n\n<p><code>C:\\Python\\sip&gt;configure.py --platform win32-g++\nThis is SIP 4.17 for Python 2.7.11 on win32.\nThe SIP code generator will be installed in C:\\Python27.\nThe sip module will be installed in C:\\Python27\\Lib\\site-packages.\nThe sip.h header file will be installed in C:\\Python27\\include.\nThe default directory to install .sip files in is C:\\Python27\\sip.\nCreating siplib\\sip.h...\nCreating siplib\\siplib.c...\nCreating siplib\\siplib.sbf...\nCreating sipconfig.py...\nCreating top level Makefile...\nCreating sip code generator Makefile...\nCreating sip module Makefile...</code></p></li>\n<li><p>I then run make and i get</p>\n\n<p><code>C:\\Python\\sip&gt;make\n'make' is not recognized as an internal or external command,\noperable program or batch file.</code></p></li>\n</ol>\n\n<p>I've searched through Stack and some are close to the answer but nothing has got me quite there yet.</p>\n\n<p>I'm looking into downloading visual studio as I have been reading that your supposed to run the makefile from there on windows.</p>\n\n<p>Is this correct or am I looking in the wrong place?</p>\n"}, {"tags": ["c++", "opencv", "segmentation-fault"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 4, "creation_date": 1459983370, "post_id": 36463649, "comment_id": 60539277, "body": "The first rule of C++ programming is: &quot;just because you crashed in one spot, it doesn&#39;t mean that&#39;s where the bug is&quot;. Please edit your question, and include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, with the emphasis on both the &quot;minimum&quot; and &quot;complete&quot; requirements. Your question fails on both."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1459983775, "post_id": 36463812, "comment_id": 60539403, "body": "I was going to comment on the <code>input</code>-<code>inputImg</code> shuffle. If this compiles, OP may have a wider scope <code>inputImg</code> causing grief. Hard to say with only a snippet of code."}, {"owner": {"reputation": 174, "user_id": 5741478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e79227d77f98485e8414e2036c3b7e?s=128&d=identicon&r=PG&f=1", "display_name": "s0urcer", "link": "https://stackoverflow.com/users/5741478/s0urcer"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459983886, "post_id": 36463812, "comment_id": 60539434, "body": "@user4581301 yes, this may be the case"}, {"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1459984230, "post_id": 36463812, "comment_id": 60539558, "body": "I have a return statement,I just put the most important lignes and the program is compilable @s0urcer"}, {"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1459985221, "post_id": 36463812, "comment_id": 60539838, "body": "the inputImg is initialised by Input I have this ligne cv::Mat inputImg(input); in the beginning"}, {"owner": {"reputation": 174, "user_id": 5741478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e79227d77f98485e8414e2036c3b7e?s=128&d=identicon&r=PG&f=1", "display_name": "s0urcer", "link": "https://stackoverflow.com/users/5741478/s0urcer"}, "reply_to_user": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1459986209, "post_id": 36463812, "comment_id": 60540124, "body": "@ImaneElMourabit then probably I would agree with comments above that you should provide the actual code. Also it looks like width and height are confused in for loops."}, {"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1459988181, "post_id": 36463812, "comment_id": 60540628, "body": "@s0urcer the whole program is long,that&#39;s why I put just a portion but if you want I can edit the question and put all the code"}], "tags": [], "owner": {"reputation": 174, "user_id": 5741478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e79227d77f98485e8414e2036c3b7e?s=128&d=identicon&r=PG&f=1", "display_name": "s0urcer", "link": "https://stackoverflow.com/users/5741478/s0urcer"}, "is_accepted": false, "score": 2, "last_activity_date": 1459983641, "creation_date": 1459983641, "answer_id": 36463812, "question_id": 36463649, "link": "https://stackoverflow.com/questions/36463649/segmentation-fault-when-calling-a-function-which-contains-an-image-as-parameter/36463812#36463812", "title": "Segmentation fault when calling a function which contains an image as parameter opencv / c++", "body": "<p>I have not found <code>return</code> statement in <code>cv::Mat decompose(cv::Mat input)</code> method (this should have produced warnings and may be the root cause of the issue). Also it looks like this code should not be compilable as <code>inputImg</code> should not be accessible here:</p>\n\n<pre><code> cv::Mat decompose(cv::Mat input)\n{\n ///////////////////\n cv::Mat imgSource(inputImg);\n cv::Mat imgMax(inputImg);\n...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1460043314, "post_id": 36471091, "comment_id": 60571617, "body": "thank you very much for your answer,it solved the problem but my program generates a new segmentation fault in returning the result of decomposition                                                                                                          <code>cv::Mat decompose(cv::Mat input) { cv::Mat inputImg(input); &#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; &#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;                                                                                                      Mat diff_im=inputImg - imgMoyenne;         </code>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1460043422, "post_id": 36471091, "comment_id": 60571718, "body": "there&#39;s no return statement. Add <code>return newImgMax;</code> at the end of the function"}, {"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1460044179, "post_id": 36471091, "comment_id": 60572193, "body": "thank you very much for your answer,it solved the problem but my program generates a new segmentation fault in returning the result of decomposition                                                                                                      <code>cv::Mat decompose(cv::Mat input) { cv::Mat inputImg(input);&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;cv::Mat imgMoyenne(inputImg);  &#47;&#47;&#47;&#47;&#47;                                                                                                                             Mat diff_im=inputImg - imgMoyenne;      &#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; return diff_im;  } it crashes in the return statement  </code>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1460045525, "post_id": 36471091, "comment_id": 60573098, "body": "Unless you provide some code that I can copy &amp; paste &amp; run (see what&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), there isn&#39;t much more we can do..."}, {"owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "edited": false, "score": 0, "creation_date": 1460063837, "post_id": 36471091, "comment_id": 60583946, "body": "The whole program is long,that&#39;s why I put just a portion"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": false, "score": 1, "last_activity_date": 1460018869, "creation_date": 1460018869, "answer_id": 36471091, "question_id": 36463649, "link": "https://stackoverflow.com/questions/36463649/segmentation-fault-when-calling-a-function-which-contains-an-image-as-parameter/36471091#36471091", "title": "Segmentation fault when calling a function which contains an image as parameter opencv / c++", "body": "<p>You are assuming that the input image to your function is of type <code>CV_32FC1</code>, since you're accessing it's values as <code>.at&lt;float&gt;</code>.</p>\n\n<p>However, <code>inputImg</code> from <code>imread</code> will be  of type <code>CV_8UC3</code>. </p>\n\n<p>You need to convert <code>inputImage</code> to <code>CV_32FC1</code> format before passing it to <code>decompose</code>:</p>\n\n<pre><code> // read the image...\n\n // From 3 to 1 channels\n cvtColor(inputImage, inputImage, COLOR_BGR2GRAY);\n\n // From CV_8U to CV_32F\n inputImage.convertTo(inputImage, CV_32F);\n\n // now you can enter the for loop...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2192963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98aff9f3cc5fb32ab5335874e9fd0727?s=128&d=identicon&r=PG", "display_name": "Imane El Mourabit", "link": "https://stackoverflow.com/users/2192963/imane-el-mourabit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1460045124, "creation_date": 1459982837, "last_edit_date": 1460045124, "question_id": 36463649, "link": "https://stackoverflow.com/questions/36463649/segmentation-fault-when-calling-a-function-which-contains-an-image-as-parameter", "title": "Segmentation fault when calling a function which contains an image as parameter opencv / c++", "body": "<p>I'm implementing a method that decompose the images and I have a segmentation fault error ,I'm going to start by showing you the debugger output :</p>\n\n<pre><code>#0  0x0804c2cb in cv::Mat::Mat (this=0xbffff110, m=...)\n      at /usr/local/include/opencv2/core/mat.hpp:117\n#1  0x0804ad14 in decompose (input=...) at main.cpp:241\n#2  0x0804bbd7 in main (argc=2, argv=0xbffff6c4) at main.cpp:322\n</code></pre>\n\n<p>Here's a portion of my code :</p>\n\n<pre><code>#define MAX_ITERATIONS 15\n//////////////////\n/////////////////\nfloat sum(cv::Mat img, int startedY, int startedX, int w) {\n    float res = 0.0f;\nfor (int j = startedY - ((w - 1) / 2) ; j &lt; startedY + ((w + 1) / 2); j++)\nfor (int i = startedX - ((w - 1) / 2); i &lt; startedX + ((w + 1) / 2); i++) {\n        {\n  if ((i &gt;= 0 &amp;&amp; i &lt; img.size().width) &amp;&amp; (j &gt;= 0  &amp;&amp; j &lt; img.size().height)) {  res += img.at&lt;float&gt;(j,i);\n            }}}   return res; }\n\n cv::Mat decompose(cv::Mat input)\n{\n /////////////\n cv::Mat inputImg(input)\n ///////////////////\n cv::Mat imgSource(inputImg);\n cv::Mat imgMax(inputImg);\n cv::Mat newImgMax(imgMax.size().height,imgMax.size().width,CV_32F);\n ////////////////////////////////\n ////////////////////////////////////\nfor (int l = 0; l &lt; imgSource.size().width; l++){\n for (int k = 0; k &lt; imgSource.size().height; k++){\n   if( (k &gt;= 0 &amp;&amp; k &lt; imgSource.size().height) &amp;&amp; (l &gt;= 0  &amp;&amp; l &lt;    \n          imgSource.size().width) ) {\n  newImgMax.at&lt;float&gt;(k,l) = (float)sum(imgMax,k, l, wmax) / (wmax * wmax);***LIGNE 241*********\n }}}\n ////////////////////\n/////////////////////\n\n****************************************************************** \ncv::Mat imgMoyenne(inputImg);\n\nfor (int i = 0; i &lt; inputImg.size().height; i++) {\n    for (int j = 0; j &lt; inputImg.size().width; j++) {\n       imgMoyenne.at&lt;float&gt;(i, j) = (newImgMin.at&lt;float&gt;(i, j) +   \n          newImgMax.at&lt;float&gt;(i, j)) /2;\n    }\n}\nMat diff_im=inputImg - imgMoyenne; \n\nreturn diff_im; //the end of the decomposition function\n  }\n\n *************************************************************\nint main(int argc, char **argv)\n{\n    char modeTitle[30]= {0}, residueTitle[50];\n    double variance = 1000000;\n    if (argc != 2) {\n        std::cout &lt;&lt; \"Usage: ./emd &lt;image&gt;\" &lt;&lt; std::endl;\n        return 1;\n    }\n cv::Mat inputImg;\n cv::Mat imgMode;\n\n inputImg=imread(argv[1]); \n if(! inputImg.data )                             \n    {cout &lt;&lt;  \"Could not open or find the image\" &lt;&lt; std::endl ;\n        return -1; }\n\n  namedWindow(\"Source Image\",WINDOW_AUTOSIZE);\n  imshow(\"Source Image\",inputImg);\n  cv::waitKey(1000);\n    for (int i = 1; i &lt; MAX_ITERATIONS + 1; i++) {\n        sprintf(modeTitle, \"BEMC-%d\", i);\n        std::cout &lt;&lt; \"Decomposing \" &lt;&lt; modeTitle &lt;&lt; std::endl;\n        imgMode = decompose(inputImg);**************LIGNE 322****************\n       //////////////\n       /////////////\n     }\n</code></pre>\n\n<p>here's a portion of /usr/local/include/opencv2/core/mat.hpp :</p>\n\n<pre><code>inline Mat::Mat(const Mat&amp; m)\n: flags(m.flags), dims(m.dims), rows(m.rows), cols(m.cols), data(m.data),\nrefcount(m.refcount), datastart(m.datastart), dataend(m.dataend),\ndatalimit(m.datalimit), allocator(m.allocator), size(&amp;rows)\n{\nif( refcount )\n    CV_XADD(refcount, 1);**************** LIGNE 117******************\nif( m.dims &lt;= 2 )\n{\n    step[0] = m.step[0]; step[1] = m.step[1];\n}\nelse\n{\n    dims = 0;\n    copySize(m);\n}\n}\n</code></pre>\n\n<p>Any ideas how I could fix this issue?</p>\n"}, {"tags": ["c++", "vector", "struct", "maps"], "comments": [{"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1459983070, "post_id": 36463643, "comment_id": 60539177, "body": "What is the error?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1459983250, "post_id": 36463643, "comment_id": 60539234, "body": "Pop quiz, what&#39;s more readable, &quot;for(std::vector&lt;StdCardConfirmationReceipt&gt;::iterator vIter= mvCardConfirmationReceiptList.begin(); vIter != mvCardConfirmationReceiptList.end(); ++vIter)&quot;, or &quot;for (auto &amp;order:mvCardConfirmationReceiptList)&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1459983154, "creation_date": 1459983154, "answer_id": 36463701, "question_id": 36463643, "link": "https://stackoverflow.com/questions/36463643/adding-structs-to-a-map-c/36463701#36463701", "title": "adding structs to a map c++", "body": "<p>You're trying to insert an <code>Orders</code>-<code>Items</code> pair into a <code>std::map</code> of <code>Orders</code>-<code>std::vector&lt;Items&gt;</code>. Try this instead:</p>\n\n<pre><code>records.insert(std::make_pair(order, std::vector&lt;Items&gt;(item));\n</code></pre>\n\n<p>Or store <code>item</code> in a temporary <code>std::vector&lt;Items&gt; temp</code> and then do,</p>\n\n<pre><code>records.insert(std::make_pair(order, temp);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "edited": false, "score": 0, "creation_date": 1459983672, "post_id": 36463730, "comment_id": 60539371, "body": "That fixed the error.  Will I have to do anything different when retrieving that value with that &#39;1&#39; there?  Is that now just an index?"}, {"owner": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "edited": false, "score": 0, "creation_date": 1459983728, "post_id": 36463730, "comment_id": 60539382, "body": "for the &#39;records[order]&#39; addition you added, is that why the commented section of my code worked?  Is that good practice?"}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "reply_to_user": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "edited": false, "score": 0, "creation_date": 1459983738, "post_id": 36463730, "comment_id": 60539389, "body": "No, that was a constructor for <code>std::vector</code>.  It says to create a vector with 1 element, and make that value <code>item</code>.  I have just edited my post to suggest that you don&#39;t need to do any of this."}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "reply_to_user": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "edited": false, "score": 1, "creation_date": 1459983821, "post_id": 36463730, "comment_id": 60539416, "body": "Yeah, it&#39;s fine.  &quot;Good practice&quot; probably depends a lot on your program, your data, your memory requirements, performance, and lots of other things.  But since I can tell you&#39;re new to C++, I would bet that you&#39;re not working on a huge application with hundreds of thousands of lines of code.  So you don&#39;t have to worry."}], "tags": [], "owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1459983634, "last_edit_date": 1459983634, "creation_date": 1459983304, "answer_id": 36463730, "question_id": 36463643, "link": "https://stackoverflow.com/questions/36463643/adding-structs-to-a-map-c/36463730#36463730", "title": "adding structs to a map c++", "body": "<p>While it would have helped if you actually <em>included the error message</em>, it's easy to see in this case that you are trying to insert the wrong type into your map.</p>\n\n<p>The <code>records</code> container maps a key type of <code>Orders</code> to a value type of <code>std::vector&lt;Items&gt;</code>.  But your insertion line is trying to add a single <code>Items</code> instead of <code>std::vector&lt;Items&gt;</code>.</p>\n\n<p>You should create a vector with that item in it.  There are a few way to do it.  Simplest is:</p>\n\n<pre><code>records.insert( std::make_pair( order, std::vector&lt;Items&gt;( 1, item ) ) );\n</code></pre>\n\n<p>The more modern approach is to use <code>emplace</code> instead of <code>insert</code>.</p>\n\n<p>Of course, in your case this search is redundant anyway.  Using the map <code>operator[]</code> will create a new entry if one doesn't exist.  So your whole if-else block can condense down to:</p>\n\n<pre><code>records[order].push_back( item );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 674, "user_id": 2843331, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f4607c2756f99ce71aa142a697b21e9b?s=128&d=identicon&r=PG", "display_name": "Husain", "link": "https://stackoverflow.com/users/2843331/husain"}, "is_accepted": false, "score": 0, "last_activity_date": 1459983319, "creation_date": 1459983319, "answer_id": 36463733, "question_id": 36463643, "link": "https://stackoverflow.com/questions/36463643/adding-structs-to-a-map-c/36463733#36463733", "title": "adding structs to a map c++", "body": "<p>The problem is that you are passing a different kind of pair to the map. The map accept the pair type <code>&lt;Order, vector&lt;Item&gt;&gt;</code>. However, you are sending it the type <code>&lt;Order, Item&gt;</code>.</p>\n\n<p>You will have to either change the kind of map you want, or the type of what you are inserting.</p>\n"}], "owner": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1977, "favorite_count": 0, "accepted_answer_id": 36463730, "answer_count": 3, "score": 0, "last_activity_date": 1459983634, "creation_date": 1459982789, "question_id": 36463643, "link": "https://stackoverflow.com/questions/36463643/adding-structs-to-a-map-c", "title": "adding structs to a map c++", "body": "<p>I am having some problems adding two structs to a map where the value is a vector.</p>\n\n<pre><code>std::map&lt;Orders, std::vector&lt;Items&gt;&gt; records;\n\n        for(std::vector&lt;StdCardConfirmationReceipt&gt;::iterator vIter= mvCardConfirmationReceiptList.begin(); vIter != mvCardConfirmationReceiptList.end(); ++vIter)\n        {\n\n            Orders order = {(*vIter).getOrderIdOrderCentral,(*vIter).getFulfillmentOrderIdOrderCentral};\n            Items item = {(*vIter).getItemIdOrderCentral,(*vIter).getLineItemIdOrderCentral, (*vIter).getItemFulfillmentStatusOrderCentral, (*vIter).getFulfillmentExceptionOrderCentral};\n\n            if (records.find(order) == records.end())\n            {\n                records.insert(std::make_pair(order,item));\n                //records[order];\n                //records[order].push_back(item);\n            }\n            else\n            {\n                records[order].push_back(item);\n            }\n       }\n</code></pre>\n\n<p>When I try to use the 'records.insert()' with either 'pair' or 'make_pair' functions, it gives me this error that I don't really understand.  The comment lines in the 'if-statment' seem to work but I am not sure if that's the correct way to insert new entries into a map. Below is the code for the two structs, if that helps.  </p>\n\n<pre><code>struct Orders\n{\n    std::string sId;\n    std::string sFulfillmentOrderId;\n};\n\nstruct Items\n{\n    std::string sId;\n    std::string sLineItemId;\n    std::string sFulfillmentStatus;\n    std::string sFulfillmentException;\n};\n</code></pre>\n"}, {"tags": ["c++", "qt", "opengl", "opengl-es"], "answers": [{"comments": [{"owner": {"reputation": 1036, "user_id": 209289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/U4uT5.gif?s=128&g=1", "display_name": "facetus", "link": "https://stackoverflow.com/users/209289/facetus"}, "edited": false, "score": 0, "creation_date": 1578031237, "post_id": 36464002, "comment_id": 105314861, "body": "This won&#39;t give you access to the latest OpenGL API. Instead of inheritance one can make the following calls from initializeGL: &quot;auto *ctx = QOpenGLContext::currentContext(); glf = ctx-&gt;versionFunctions&lt;QOpenGLFunctions_4_5_Core&gt;();&quot;. You can choose another API version or just call &quot;ctx-&gt;functions()&quot;, or &quot;ctx-&gt;extraFunctions()&quot; instead. Then just access OpenGL functions via the returned pointer."}], "tags": [], "owner": {"reputation": 1505, "user_id": 4118460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31e169d81e1a37c7837dbd8e48b1ea46?s=128&d=identicon&r=PG&f=1", "display_name": "vicrucann", "link": "https://stackoverflow.com/users/4118460/vicrucann"}, "is_accepted": true, "score": 2, "last_activity_date": 1459984713, "creation_date": 1459984713, "answer_id": 36464002, "question_id": 36463561, "link": "https://stackoverflow.com/questions/36463561/opengl-in-qt-5-6/36464002#36464002", "title": "Opengl in Qt 5.6", "body": "<p>I assume your \"undefined reference error\" was pointing at the <code>glColor()</code> functions you were trying to use. </p>\n\n<p>In order to be able to use <code>QOpenGLFunctions</code> such as <code>glColor()</code>, you have to make your <code>GLWidget</code>to also inherit from <code>QOpenGLFunctions</code>; for example:</p>\n\n<pre><code>#include &lt;QOpenGLFunctions&gt;\n\nclass GLWidget: public QGLWidget, protected QOpenGLFunctions\n{ // ...\n};\n</code></pre>\n\n<p>See <a href=\"http://doc.qt.io/qt-5/qtgui-openglwindow-example.html\" rel=\"nofollow\">this example</a> for more details. </p>\n\n<p><strong>Note</strong>: it is <a href=\"http://doc.qt.io/qt-5/qglwidget.html\" rel=\"nofollow\">strongly advise against using <code>QGLWidget</code> in new code</a> in favor of <code>QOpenGLWidget</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 6169289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61793558bf6931d8f09a6c1fd9b29e1?s=128&d=identicon&r=PG&f=1", "display_name": "Celso Noronha", "link": "https://stackoverflow.com/users/6169289/celso-noronha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 36464002, "answer_count": 1, "score": 1, "last_activity_date": 1459984713, "creation_date": 1459982397, "question_id": 36463561, "link": "https://stackoverflow.com/questions/36463561/opengl-in-qt-5-6", "title": "Opengl in Qt 5.6", "body": "<p>I used to work with Qt 5.1.1 and OpenGL used to work fine.</p>\n\n<p>Now I've installed Qt 5.6 and it seems like it is not straightforward the OpenGL application as 5.1.1 is.</p>\n\n<p>The GL functions (even including it with <code>#include &lt;QOpenGLFunctions&gt;</code> returns \"undefined reference\". Maybe because it is a very new version, I'm not finding anything to help me out on that.</p>\n\n<p>The main question is: How do proceed for using OpenGL with Qt 5.6 version? Any of GL functions works.</p>\n\n<p>I see in some Qt Manual examples that <code>initializeOpenGLFunctions()</code> makes it work, but this statement is not recognized by my code (I've tried to #include lots of things).</p>\n\n<p>The code is the most basic:</p>\n\n<hr>\n\n<p>glwidget.h:</p>\n\n<pre><code>#ifndef GLWIDGET_H\n#define GLWIDGET_H\n\n#include &lt;QGLWidget&gt;\n\nclass GLWidget : public QGLWidget\n{\n    Q_OBJECT\npublic:\n    explicit GLWidget(QWidget *parent = 0);\n\n    void initializeGL();\n    void paintGL();\n    void resizeGL(int w, int h);\n};\n\n#endif // GLWIDGET_H\n</code></pre>\n\n<hr>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<hr>\n\n<p>glwidget.cpp:</p>\n\n<pre><code>#include \"glwidget.h\"\n\n#include &lt;QWidget&gt;\n#include &lt;QOpenGLFunctions&gt;\n\n\n\nGLWidget::GLWidget(QWidget *parent) :\n    QGLWidget(parent)\n{\n\n}\n\nvoid GLWidget::initializeGL()\n{\n\n    glClearColor(1,1,0,1);\n\n}\n\nvoid GLWidget::paintGL()\n{\n\n}\n\nvoid GLWidget::resizeGL(int w, int h)\n{\n\n}\n</code></pre>\n\n<hr>\n\n<p>main.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include &lt;QApplication&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<hr>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<hr>\n\n<p>test.pro:</p>\n\n<pre><code>QT       += core gui opengl\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = Test\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp \\\n    glwidget.cpp\n\nHEADERS  += mainwindow.h \\\n    glwidget.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n"}, {"tags": ["c++", "node.js", "node-gyp", "node.js-addon"], "comments": [{"owner": {"reputation": 8923, "user_id": 3182143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2405fee60fb30f5cf607562d4669b6d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3182143", "link": "https://stackoverflow.com/users/3182143/user3182143"}, "edited": false, "score": 1, "creation_date": 1475208542, "post_id": 36463472, "comment_id": 66860981, "body": "Did you fix the problem?If yes means plz post the answer because I too facing the same problem exactly what u asked."}], "answers": [{"tags": [], "owner": {"reputation": 92373, "user_id": 2050455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1255d2cb06adc4d0b48adf1d90e847?s=128&d=identicon&r=PG", "display_name": "mscdex", "link": "https://stackoverflow.com/users/2050455/mscdex"}, "is_accepted": false, "score": 1, "last_activity_date": 1459982657, "creation_date": 1459982657, "answer_id": 36463613, "question_id": 36463472, "link": "https://stackoverflow.com/questions/36463472/node-js-module-did-not-self-register/36463613#36463613", "title": "Node JS - Module did not self register", "body": "<p>Writing a node.js addon isn't quite that simple, you need to explicitly export functions and call the appropriate macro to register the addon with node's module system. Read the <a href=\"https://nodejs.org/docs/latest/api/addons.html\" rel=\"nofollow\">Addons documentation</a> for more information and examples.</p>\n"}, {"comments": [{"owner": {"reputation": 7691, "user_id": 91813, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/f0FGM.jpg?s=128&g=1", "display_name": "stanleyxu2005", "link": "https://stackoverflow.com/users/91813/stanleyxu2005"}, "edited": false, "score": 0, "creation_date": 1463575419, "post_id": 36611208, "comment_id": 62122348, "body": "Here is a full example for reference <a href=\"https://blog.scottfrees.com/building-an-asynchronous-c-addon-for-node-js-using-nan\" rel=\"nofollow noreferrer\">blog.scottfrees.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1226, "user_id": 4706114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MsRfU.jpg?s=128&g=1", "display_name": "paulhauner", "link": "https://stackoverflow.com/users/4706114/paulhauner"}, "is_accepted": false, "score": 1, "last_activity_date": 1460589590, "creation_date": 1460589590, "answer_id": 36611208, "question_id": 36463472, "link": "https://stackoverflow.com/questions/36463472/node-js-module-did-not-self-register/36611208#36611208", "title": "Node JS - Module did not self register", "body": "<p>Developing an addon for Node.js using node-gyp is a bit tricky. Your .cpp file needs to be very much tailored to work in the Node.js environment. </p>\n\n<p>I suggest starting at the very first \"Hello World\" example at the <a href=\"https://nodejs.org/docs/latest/api/addons.html#addons_addon_examples\" rel=\"nofollow\">Node.js C/C++ Addons Documentation</a>.</p>\n\n<p>Here is a (non-exhaustive) list of things missing from your .ccp file.</p>\n\n<p>The Node.js C++ library</p>\n\n<pre><code>#include &lt;node.h&gt;\n</code></pre>\n\n<p>An 'init' function which exposes methods to Node.js. Here we can see that calling <code>addon.hello()</code> in Javascript will call the <code>Method</code> function in C++ (not shown here).</p>\n\n<pre><code>void init(Local&lt;Object&gt; exports) {\n  NODE_SET_METHOD(exports, \"hello\", Method);\n}\n</code></pre>\n\n<p>A NODE_MODULE call which defines the addon name and the init function (above). The first parameter of this function (currently <code>addon</code>) must match the <code>\"target_name\"</code> value in the <code>binding.gyp</code> file. In your case, <code>newexample</code>. </p>\n\n<pre><code>NODE_MODULE(addon, init)\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1540052, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e3cce76e493c290ab99b37a98cb5870?s=128&d=identicon&r=PG", "display_name": "rtv", "link": "https://stackoverflow.com/users/1540052/rtv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3177, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1474511969, "creation_date": 1459981868, "last_edit_date": 1474511969, "question_id": 36463472, "link": "https://stackoverflow.com/questions/36463472/node-js-module-did-not-self-register", "title": "Node JS - Module did not self register", "body": "<p>I went through different posts &amp; most of them suggest to rebuild/reinstall/update npm, which I tried, but of no help.</p>\n\n<p>I'm trying an example of node.js with C++, below are the file details\n<br>\nTestNode.cpp</p>\n\n<pre><code>#include&lt;iostream&gt;\nclass TestNode {\npublic:\n    void printHelloW() {\n        std::cout &lt;&lt; \"Hello World!!!\";\n    }\n};\n</code></pre>\n\n<p><br>\nbinding.gyp</p>\n\n<pre><code>{\n  \"targets\": [\n    {\n      \"target_name\": \"newexample\",\n      \"sources\": [ \"TestNode.cpp\" ]\n    }\n  ]\n}\n</code></pre>\n\n<p>Now comes the execution &amp; it throws the error saying module is not self registered.</p>\n\n<pre><code>D:\\newexample&gt;node-gyp configure\ngyp info it worked if it ends with ok\ngyp info using node-gyp@3.3.1\ngyp info using node@5.10.0 | win32 | x64\ngyp info spawn C:\\Python27\\python.exe\ngyp info spawn args [ 'C:\\\\Users\\\\rtv\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\node-gyp\\\\gyp\\\\gyp_main.py',\ngyp info spawn args   'binding.gyp',\ngyp info spawn args   '-f',\ngyp info spawn args   'msvs',\ngyp info spawn args   '-G',\ngyp info spawn args   'msvs_version=auto',\ngyp info spawn args   '-I',\ngyp info spawn args   'D:\\\\newexample\\\\build\\\\config.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\\\Users\\\\rtv\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\node-gyp\\\\addon.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\\\Users\\\\rtv\\\\.node-gyp\\\\5.10.0\\\\include\\\\node\\\\common.gypi',\ngyp info spawn args   '-Dlibrary=shared_library',\ngyp info spawn args   '-Dvisibility=default',\ngyp info spawn args   '-Dnode_root_dir=C:\\\\Users\\\\rtv\\\\.node-gyp\\\\5.10.0',\ngyp info spawn args   '-Dnode_gyp_dir=C:\\\\Users\\\\rtv\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\node-gyp',\ngyp info spawn args   '-Dnode_lib_file=node.lib',\ngyp info spawn args   '-Dmodule_root_dir=D:\\\\newexample',\ngyp info spawn args   '--depth=.',\ngyp info spawn args   '--no-parallel',\ngyp info spawn args   '--generator-output',\ngyp info spawn args   'D:\\\\newexample\\\\build',\ngyp info spawn args   '-Goutput_dir=.' ]\ngyp info ok\n\nD:\\newexample&gt;node-gyp build\ngyp info it worked if it ends with ok\ngyp info using node-gyp@3.3.1\ngyp info using node@5.10.0 | win32 | x64\ngyp info spawn C:\\Program Files (x86)\\MSBuild\\14.0\\bin\\msbuild.exe\ngyp info spawn args [ 'build/binding.sln',\ngyp info spawn args   '/clp:Verbosity=minimal',\ngyp info spawn args   '/nologo',\ngyp info spawn args   '/p:Configuration=Release;Platform=x64' ]\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  TestNode.cpp\n  win_delay_load_hook.c\n  Generating code\n  Finished generating code\n  newexample.vcxproj -&gt; D:\\newexample\\build\\Release\\\\newexample.node\ngyp info ok\n\nD:\\newexample&gt;node\n&gt; var obj=require(\"./build/Release/newexample\")\nError: Module did not self-register.\n    at Error (native)\n    at Object.Module._extensions..node (module.js:440:18)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Module.require (module.js:367:17)\n    at require (internal/module.js:16:19)\n    at repl:1:9\n    at REPLServer.defaultEval (repl.js:269:27)\n    at bound (domain.js:287:14)\n    at REPLServer.runBound [as eval] (domain.js:300:12)\n&gt;\n</code></pre>\n\n<p>Version Info</p>\n\n<pre><code>D:\\newexample&gt;node -v\nv5.10.0\n\nD:\\newexample&gt;npm -v\n3.8.3\n\nD:\\newexample&gt;node-gyp -v\nv3.3.1\n\nOS: Windows 7 Professional 64-bit\n</code></pre>\n\n<p>Request you to guide me in resolving this error.</p>\n"}, {"tags": ["c++", "qt", "user-interface"], "comments": [{"owner": {"reputation": 70803, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1459983316, "post_id": 36463414, "comment_id": 60539266, "body": "You should probably use a debugger to look at the values of all the relevant variables that are used in the line that crashes.  Also, maybe you could post the generated C++ source code of Ui::MainWindow so that I can try to reproduce your problem here?"}, {"owner": {"reputation": 70803, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1459987351, "post_id": 36463414, "comment_id": 60540436, "body": "Also, I don&#39;t know what sort of inputs (e.g. mouse clicks and keyboard events) you are sending to the program to make it crash.  You should try to make it crash by calling functions on the game object directly from <code>main</code>.  Then you can get rid of MainWindow, which makes it much easier for others to reproduce your program."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6169296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y553f.jpg?s=128&g=1", "display_name": "Forrest Dunlap", "link": "https://stackoverflow.com/users/6169296/forrest-dunlap"}, "is_accepted": true, "score": 0, "last_activity_date": 1460022728, "last_edit_date": 1460022728, "creation_date": 1460013394, "answer_id": 36469219, "question_id": 36463414, "link": "https://stackoverflow.com/questions/36463414/qt-application-crashing-during-back-end/36469219#36469219", "title": "Qt application crashing during back end", "body": "<p>Figured it out after 'sleeping on it.' It had to do with the location in memory of the game, and from where it was being accessed. The game had to be <em>instantiated within</em> the mainwindow class in order for other parts of main window to use it. </p>\n\n<p>Furthermore, just a tip for others for the future. The LCD objects weren't updating for two reasons: </p>\n\n<ul>\n<li>There is an <code>update()</code> function build into widgets. So the compiler doesn't freak out if you write <code>update()</code> instead of, say, <code>updateLCD()</code>. </li>\n<li>You have to call functions on the object using 'this'. The program needs to know that this update is happening on the item it is being called from.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 6169296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y553f.jpg?s=128&g=1", "display_name": "Forrest Dunlap", "link": "https://stackoverflow.com/users/6169296/forrest-dunlap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 36469219, "answer_count": 1, "score": -1, "last_activity_date": 1460022728, "creation_date": 1459981583, "question_id": 36463414, "link": "https://stackoverflow.com/questions/36463414/qt-application-crashing-during-back-end", "title": "Qt application crashing during back end", "body": "<p>So I'm just making a <em>supposedly</em> simple program to get started with Qt. I had the backend of 2048 pre-made from some previous practice work, and on its own, it runs well enough. Without fail, the program crashes at the <code>if(!t-&gt;sameAs(board[t-&gt;pos-dimen]) &amp;&amp; board[t-&gt;pos-dimen]-&gt;value != 0){</code> or similar line, of the <code>can*Direction*()</code> functions regardless of the direction. Furthermore, the program <em>does not</em> throw a useful error. What needs to change, or how else does the back end need to be implemented?</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include &lt;QApplication&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    game* g = new game();\n\n    g-&gt;printBoard();\n\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><strong>mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QKeyEvent&gt;\n#include \"game.h\"\n\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void keyPressEvent(QKeyEvent *);\n\nprivate:\n    Ui::MainWindow *ui;\n    game* g;\n    void updateLCD();\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    update();\n}\n\nMainWindow::~MainWindow()\n{\n    delete g;\n    delete ui;\n}\n\nvoid MainWindow::keyPressEvent(QKeyEvent *event)\n{\n    if(event-&gt;key() == Qt::Key_Up)\n    {\n        g-&gt;moveUp();\n        updateLCD();\n    }\n    if(event-&gt;key() == Qt::Key_Down)\n    {\n        g-&gt;moveDown();\n        updateLCD();\n    }\n    if(event-&gt;key() == Qt::Key_Left)\n    {\n        g-&gt;moveLeft();\n        updateLCD();\n    }\n    if(event-&gt;key() == Qt::Key_Right)\n    {\n        g-&gt;moveRight();\n        updateLCD();\n    }\n}\n\nvoid MainWindow::updateLCD(){\n    ui-&gt;LCD00-&gt;display(g-&gt;getTile(0));\n    ui-&gt;LCD10-&gt;display(g-&gt;getTile(1));\n    ui-&gt;LCD20-&gt;display(g-&gt;getTile(2));\n    ui-&gt;LCD30-&gt;display(g-&gt;getTile(3));\n    ui-&gt;LCD01-&gt;display(g-&gt;getTile(4));\n    ui-&gt;LCD11-&gt;display(g-&gt;getTile(5));\n    ui-&gt;LCD21-&gt;display(g-&gt;getTile(6));\n    ui-&gt;LCD31-&gt;display(g-&gt;getTile(7));\n    ui-&gt;LCD02-&gt;display(g-&gt;getTile(8));\n    ui-&gt;LCD12-&gt;display(g-&gt;getTile(9));\n    ui-&gt;LCD22-&gt;display(g-&gt;getTile(10));\n    ui-&gt;LCD32-&gt;display(g-&gt;getTile(11));\n    ui-&gt;LCD30-&gt;display(g-&gt;getTile(12));\n    ui-&gt;LCD31-&gt;display(g-&gt;getTile(13));\n    ui-&gt;LCD32-&gt;display(g-&gt;getTile(14));\n    ui-&gt;LCD33-&gt;display(g-&gt;getTile(15));\n}\n</code></pre>\n\n<p><strong>game.h</strong></p>\n\n<pre><code>#ifndef game_hpp\n#define game_hpp\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n#include &lt;math.h&gt;\n\nclass game{\n\nprivate:\n    const static int TOTALTILES = 16;\n\n    struct tile{\n        int pos;\n        bool hasVal = false;\n        int value = 0;\n        int dimen;\n        bool sameAs(tile* t){ return t-&gt;value == value; }\n    };\n\n    tile* board[TOTALTILES];\n\n    bool allLeft();\n    bool allRight();\n    bool allUp();\n    bool allDown();\n    void generate();\n\n    bool canUp(tile*);\n    bool canLeft(tile*);\n    bool canRight(tile*);\n    bool canDown(tile*);\n\n    void moveTileUp(tile*);\n    void moveTileDown(tile*);\n    void moveTileLeft(tile*);\n    void moveTileRight(tile*);\n\n    int dimen;\n\npublic:\n    game();\n    void moveUp();\n    void moveDown();\n    void moveLeft();\n    void moveRight();\n    void printBoard();\n\n    int getTile(int i);\n};\n\n#endif /* game_hpp */\n</code></pre>\n\n<p><strong>game.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"game.h\"\n\ngame::game(){\n    dimen = log2(TOTALTILES);\n\n    srand(time(NULL));\n\n    for(int i = 0; i &lt; TOTALTILES; i++){\n        board[i] = new tile();\n        board[i]-&gt;pos = i;\n        board[i]-&gt;dimen = dimen;\n    }\n    generate();\n    generate();\n}\n\nvoid game::moveUp(){\n    if(!allUp()){\n        while(!allUp()){\n            for(int i = 0; i &lt; TOTALTILES; i++){\n                moveTileUp(board[i]);\n            }\n        }\n        generate();\n    }\n}\n\nvoid game::moveDown(){\n    if(!allDown()){\n\n        while(!allDown()){\n            for(int i = TOTALTILES - 1; i &gt;= 0; i--){\n                moveTileDown(board[i]);\n            }\n        }\n        generate();\n    }\n}\n\nvoid game::moveLeft(){\n    if(!allLeft()){\n        while(!allLeft()){\n            for(int i = 0; i &lt; TOTALTILES; i++){\n                moveTileLeft(board[i]);\n            }\n        }\n        generate();\n    }\n}\n\nvoid game::moveRight(){\n    if(!allRight()){\n        while(!allRight()){\n            for(int i = 0; i &lt; TOTALTILES; i++){\n                moveTileRight(board[i]);\n            }\n        }\n        generate();\n    }\n}\n\nvoid game::moveTileUp(tile* t){\n    if(canUp(t)){\n        tile* other = board[t-&gt;pos-dimen];\n        if(t-&gt;sameAs(other)){\n            other-&gt;value++;\n            t-&gt;value = 0;\n        } else {\n            other-&gt;value = t-&gt;value;\n            t-&gt;value = 0;\n        }\n    }\n}\n\nvoid game::moveTileDown(tile* t){\n    if(canDown(t)){\n        tile* other = board[t-&gt;pos+dimen];\n        if(t-&gt;sameAs(other)){\n            other-&gt;value++;\n            t-&gt;value = 0;\n        } else {\n            other-&gt;value = t-&gt;value;\n            t-&gt;value = 0;\n        }\n    }\n}\n\nvoid game::moveTileLeft(tile* t){\n    if(canLeft(t)){\n        tile* other = board[t-&gt;pos-1];\n        if(t-&gt;sameAs(other)){\n            other-&gt;value++;\n            t-&gt;value = 0;\n        } else {\n            other-&gt;value = t-&gt;value;\n            t-&gt;value = 0;\n        }\n    }\n}\n\nvoid game::moveTileRight(tile* t){\n    if(canRight(t)){\n        tile* other = board[t-&gt;pos+1];\n        if(t-&gt;sameAs(other)){\n            other-&gt;value++;\n            t-&gt;value = 0;\n        } else {\n            other-&gt;value = t-&gt;value;\n            t-&gt;value = 0;\n        }\n    }\n}\n\nvoid game::printBoard(){\n    for(int i = 0; i &lt; dimen; i++){\n        for(int j = 0; j &lt; dimen; j++){\n            if(board[(i*dimen) + j]-&gt;value == 0){\n                std::cout &lt;&lt; \"- \";\n            } else std::cout &lt;&lt; pow(2, board[(i*dimen) + j]-&gt;value) &lt;&lt; \" \";\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n}\n\nvoid game::generate(){\n    bool ungenerated = true;\n    int pos = rand() % 16;\n\n    while(ungenerated){\n        if(board[pos]-&gt;value == 0){\n            if(rand() % (TOTALTILES/2) == 0){\n                if(rand() % 2 == 0) board[pos]-&gt;value = 1;\n                else board[pos]-&gt;value = 2;\n                ungenerated = false;\n            }\n        }\n\n        pos = rand() % 16;\n    }\n}\n\nbool game::allUp(){\n    for(int i = 0; i &lt; TOTALTILES; i++){\n        if(canUp(board[i])){\n            return false;\n        }\n    }\n    return true;\n}\n\nbool game::allDown(){\n    for(int i = 0; i &lt; TOTALTILES; i++){\n        if(canDown(board[i])){\n            return false;\n        }\n    }\n    return true;\n}\n\nbool game::allLeft(){\n    for(int i = 0; i &lt; TOTALTILES; i++){\n        if(canLeft(board[i])){\n            return false;\n        }\n    }\n    return true;\n}\n\nbool game::allRight(){\n    for(int i = 0; i &lt; TOTALTILES; i++){\n        if(canRight(board[i])){\n            return false;\n        }\n    }\n    return true;\n}\n\nbool game::canUp(tile* t){\n    if(t-&gt;value == 0) return false;\n    else {\n        if(t-&gt;pos &lt; dimen){\n            return false;\n        }\n        if(!t-&gt;sameAs(board[t-&gt;pos-dimen]) &amp;&amp; board[t-&gt;pos-dimen]-&gt;value != 0){\n            return false;\n        }\n        return true;\n    }\n}\n\nbool game::canDown(tile* t){\n    if(t-&gt;value == 0) return false;\n    else {\n        if(t-&gt;pos &gt;= TOTALTILES-dimen){\n            return false;\n        }\n        if(!t-&gt;sameAs(board[t-&gt;pos+dimen]) &amp;&amp; board[t-&gt;pos+dimen]-&gt;value != 0){\n            return false;\n        }\n        return true;\n    }\n}\n\nbool game::canLeft(tile* t){\n    if(t-&gt;value == 0) return false;\n    else {\n        if(t-&gt;pos % dimen == 0){\n            return false;\n        }\n        if(!t-&gt;sameAs(board[t-&gt;pos-1]) &amp;&amp; board[t-&gt;pos-1]-&gt;value != 0){\n            return false;\n        }\n        return true;\n    }\n}\n\nbool game::canRight(tile* t){\n    if(t-&gt;value == 0) return false;\n    else {\n        if(t-&gt;pos % dimen == (dimen - 1)){\n            return false;\n        }\n        if(!t-&gt;sameAs(board[t-&gt;pos+1]) &amp;&amp; board[t-&gt;pos+1]-&gt;value != 0){\n            return false;\n        }\n        return true;\n    }\n}\n\nint game::getTile(int i){\n    int ret = pow(2,board[i]-&gt;value);\n\n    if(ret &gt; 0) return ret;\n    else return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "fortran", "gfortran"], "comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1459980942, "post_id": 36463225, "comment_id": 60538455, "body": "Make a library from your c/c++ code. And don&#39;t include the implementation into the header (<code>#include &lt;code.cpp&gt;</code>). Then link the fortran program against the library."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1459980953, "post_id": 36463225, "comment_id": 60538459, "body": "<i><code>#include &quot;code.cpp&quot;</code></i> smells 5 miles against the wind."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1459980965, "post_id": 36463225, "comment_id": 60538465, "body": "You can&#39;t combine C++ and Fortran in one file. And that is what the &quot;include &#39;code.h&#39;&quot; does. You need to completely separate the C++ and Fortran parts!"}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 1, "creation_date": 1459981018, "post_id": 36463225, "comment_id": 60538486, "body": "@BitTickler that is not necessary, you can just compile <code>gfortran cpp_part.cc fpart.f90 -lstdc++</code>."}, {"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1459981120, "post_id": 36463225, "comment_id": 60538519, "body": "<a href=\"http://www.yolinux.com/TUTORIALS/LinuxTutorialMixingFortranAndC.html\" rel=\"nofollow noreferrer\">yolinux.com/TUTORIALS/LinuxTutorialMixingFortranAndC.html</a>"}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1459981284, "post_id": 36463225, "comment_id": 60538581, "body": "@BitTickler Please no, that is really obsolete, see <a href=\"https://stackoverflow.com/questions/tagged/fortran-iso-c-binding\">fortran-iso-c-binding</a>"}, {"owner": {"reputation": 101, "user_id": 3228700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThMtw.jpg?s=128&g=1", "display_name": "SneakyPanda 40", "link": "https://stackoverflow.com/users/3228700/sneakypanda-40"}, "edited": false, "score": 0, "creation_date": 1459983946, "post_id": 36463225, "comment_id": 60539448, "body": "Thanks for all the feed back.  I have since removed the <code>#include &quot;code.cpp&quot;</code> from the header file  and tried to compile with <code>$gfortran code.cpp codeF.f -lstdc++</code> and got a total of 1 warning and 16 errors from  code.cpp. I&#39;ll keep trying"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 3228700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThMtw.jpg?s=128&g=1", "display_name": "SneakyPanda 40", "link": "https://stackoverflow.com/users/3228700/sneakypanda-40"}, "edited": false, "score": 0, "creation_date": 1459984902, "post_id": 36463830, "comment_id": 60539757, "body": "I will give this a try and the reason FORTRAN 77 is being used is because an old piece of software called MFIX (used for CFD purposes among other things) is largely written in 77. I did not know FORTRAN well enough to consider f90 in its place.  Thanks for the advice."}, {"owner": {"reputation": 101, "user_id": 3228700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThMtw.jpg?s=128&g=1", "display_name": "SneakyPanda 40", "link": "https://stackoverflow.com/users/3228700/sneakypanda-40"}, "edited": false, "score": 0, "creation_date": 1460144816, "post_id": 36463830, "comment_id": 60623100, "body": "After playing around a bit I was still not able to get it to work.  However I&#39;ve found a solution were I can call existing libraries into FORTRAN that seem to be working for me.  That means I no longer have to create my own libraries and headers and hopefully do not have to come back to this question.  Thanks for your response though"}], "tags": [], "owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1459983766, "creation_date": 1459983766, "answer_id": 36463830, "question_id": 36463225, "link": "https://stackoverflow.com/questions/36463225/read-c-hello-world-from-fortran/36463830#36463830", "title": "Read C++ &#39;Hello World&#39; from Fortran", "body": "<p>You cannot include a C++ header in Fortran. You must create an <em>interface block</em> which describes the procedure so Fortran can call it:</p>\n\n<pre><code>  program main\n\n    interface\n      subroutine worker() bind(C,name=\"worker\")\n      end subroutine\n    end interface\n\n    print *, 'Calling C'\n    call worker()\n    print *, 'Back to F2003'\n\n  end program main\n</code></pre>\n\n<p>You may still have problems, it is not advisable to combine Fortran and C++ I/O (the <code>std:cout</code> stream and the <code>print</code> statement) in one executable. They are not guaranteed to be compatible and weird things can happen.</p>\n\n<p>And forget FORTRAN 77, it is 40 years old, that is more than many people here (including me). Even Fortran 90 is too old considering how quickly computers and programs evolve. The latest standard is Fortran 2008 and Fortran 2015 exists as a draft.</p>\n\n<p>See questions and answers in <a href=\"/questions/tagged/fortran-iso-c-binding\" class=\"post-tag\" title=\"show questions tagged &#39;fortran-iso-c-binding&#39;\" rel=\"tag\">fortran-iso-c-binding</a> for much more about interfacing C and C++ with Fortran.</p>\n"}], "owner": {"reputation": 101, "user_id": 3228700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThMtw.jpg?s=128&g=1", "display_name": "SneakyPanda 40", "link": "https://stackoverflow.com/users/3228700/sneakypanda-40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1459983766, "creation_date": 1459980565, "question_id": 36463225, "link": "https://stackoverflow.com/questions/36463225/read-c-hello-world-from-fortran", "title": "Read C++ &#39;Hello World&#39; from Fortran", "body": "<p>I'm trying to verify a a simple hello world function written in c++ can be called from a FORTRAN script (gfortran 4.9.20.  I have little experience with both c++ and FORTRAN so I thought this is were I should start.</p>\n\n<pre><code>//code.cpp\n#include &lt;iostream&gt;\n\nextern \"C\"\n{\n  void worker();\n  int main()\n    {\n      worker();\n    }\n  void worker()\n    {\n      std::cout &lt;&lt; \"Hello, World!\\n\";\n    }\n}\n</code></pre>\n\n<p>and a header as follows</p>\n\n<pre><code>//code.h\n#include \"code.cpp\"\n\nextern \"C\"\n  {\n    void worker();\n  }\n</code></pre>\n\n<p>I was able to call my hello function in c++ with the simple code below</p>\n\n<pre><code>//readheader.cpp\n#include \"code.h\"\n\nextern \"C\"\n  {\n    void worker();\n  }\n</code></pre>\n\n<p>I thought all was well until I attempted to read the same code using FORTRAN.  It could be my compile line and at this point I'm not sure which part of my code is broken.  Below is my FORTRAN Code</p>\n\n<pre><code>c codeF.f\n\n      program main\n      include 'code.h'\n      print *, 'Calling C'\n      call worker()\n      print *, 'Back to F77'\n\n      end program main\n</code></pre>\n\n<p>my compile script</p>\n\n<pre><code>gfortran -I/Path/to/file -c codeF.f\n</code></pre>\n\n<p>where I get about 8 errors with the 'code.h' header.  Although my c++ code can read the header FORTRAN can not.  All my internet research so far has lead me here in hopes someone with experience could help me out.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "tuples", "c++03", "boost-tuples"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1459980963, "post_id": 36463220, "comment_id": 60538464, "body": "For your edit, you may look at <a href=\"http://stackoverflow.com/questions/11846634/why-is-there-no-piecewise-tuple-construction\">why-is-there-no-piecewise-tuple-construction</a>"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1459981314, "post_id": 36463220, "comment_id": 60538605, "body": "If you can make your types movable, you should. There are very few cases where a type should not be movable. (In the standard library, atomics, mutexes, and condition variables are not movable for technical reasons.) If you cannot make your types movable, you might use <code>std::unique_ptr&lt;A&gt;</code> as a workaround."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1459981998, "post_id": 36463220, "comment_id": 60538841, "body": "@Brian: move-constructor is a possible option that I&#39;d prefer to avoid though, in order for my code to be compilable on non C++11 compliant compiler. Thanks for answer anyway."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1459982216, "post_id": 36463220, "comment_id": 60538909, "body": "so... <code>std::tuple</code> is fine but move constructors are not?"}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1459982308, "post_id": 36463220, "comment_id": 60538942, "body": "@Brian: He used <code>boost-tuples</code> in his tag."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1459982679, "post_id": 36463220, "comment_id": 60539065, "body": "@Brian: yes, using boost tuples and vc10 compiler"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1459982702, "post_id": 36463220, "comment_id": 60539073, "body": "If you want a C++03 solution you should indicate that in your question. Same goes for if particular compiler."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1459983151, "post_id": 36463220, "comment_id": 60539201, "body": "@M.M: sorry, I indeed should have mentioned clearly that a C++03 solution is prefered (not mandatory though) to a C++11 solution."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1459983217, "post_id": 36463220, "comment_id": 60539222, "body": "@Jarod: thanks for the link, I think I&#39;ll a to move to vc14..."}], "answers": [{"comments": [{"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1459980980, "post_id": 36463262, "comment_id": 60538471, "body": "Thanks for answer. I forgot to mention that copy constructor cannot be used. Question edited. Anyway, thanks for your answer."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 3, "creation_date": 1459981045, "post_id": 36463262, "comment_id": 60538491, "body": "Note that it would use the move constructor if possible."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 2, "last_activity_date": 1459980771, "creation_date": 1459980771, "answer_id": 36463262, "question_id": 36463220, "link": "https://stackoverflow.com/questions/36463220/how-to-initialize-a-tuple-of-non-default-constructible-not-copyable-objects/36463262#36463262", "title": "How to initialize a tuple of non-default-constructible not-copyable objects?", "body": "<p>You may use the following:</p>\n\n<pre><code>tuple&lt;A,B&gt; tup(A(true, 42), B('*', 4.2));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1459982351, "post_id": 36463426, "comment_id": 60538957, "body": "FYI: He used <a href=\"https://stackoverflow.com/questions/tagged/boost-tuples\">boost-tuples</a> as a tag, so <code>std::tuple</code> is not the intent."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1459982574, "post_id": 36463426, "comment_id": 60539035, "body": "@Nicol It&#39;d be great if the intent were completely spelled out in the question in one go, rather than incrementally in various comments..."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1459984149, "post_id": 36463426, "comment_id": 60539523, "body": "@Barry: I thought the tags would have clarified this (no C++11 tag, boost-tuple tag), but I was wrong, sorry. Anyway, thanks for all the available solutions you provided, I&#39;ll probably go for solution 3 until I move to C++11. Thanks a lot."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1459982756, "last_edit_date": 1459982756, "creation_date": 1459981639, "answer_id": 36463426, "question_id": 36463220, "link": "https://stackoverflow.com/questions/36463220/how-to-initialize-a-tuple-of-non-default-constructible-not-copyable-objects/36463426#36463426", "title": "How to initialize a tuple of non-default-constructible not-copyable objects?", "body": "<p>Can you just add a piecewise constructor for your types? If so, you can create a horrible macro that unpacks and delegates a tuple:</p>\n\n<pre><code>#define CONSTRUCT_FROM_TUPLE(CLS)                      \\\n    template &lt;class... Ts&gt;                             \\\n    CLS(std::tuple&lt;Ts...&gt; const&amp; tup)                  \\\n        : CLS(tup, std::index_sequence_for&lt;Ts...&gt;{})   \\\n    { }                                                \\\n                                                       \\\n    template &lt;class Tuple, size_t... Is&gt;               \\\n    CLS(Tuple const&amp; tup, std::index_sequence&lt;Is...&gt; ) \\\n        : CLS(std::get&lt;Is&gt;(tup)...)                    \\\n    { }\n</code></pre>\n\n<p>And just add it to your types:</p>\n\n<pre><code>struct A {\n    A(bool, int ) { }\n    A(const A&amp; ) = delete;\n    CONSTRUCT_FROM_TUPLE(A)\n};\n\nstruct B {\n    B(char, double ) { }\n    B(const B&amp; ) = delete;\n    CONSTRUCT_FROM_TUPLE(B)\n};\n</code></pre>\n\n<p>And pass in tuples:</p>\n\n<pre><code>std::tuple&lt;A, B&gt; tup(\n    std::forward_as_tuple(true, 42), \n    std::forward_as_tuple('x', 3.14));\n</code></pre>\n\n<hr />\n\n<p>Pre-C++11, I don't know that this is possible - you don't have delegating constructors at all. You'd have to either:</p>\n\n<ol>\n<li>Write your own <code>tuple</code>-like class that accepts tuples in its constructor </li>\n<li>Add tuple constructors to your types that explicitly initialize the same thing as the non-tuple versions did </li>\n<li>Have a tuple of types that are single-argument constructible, like <code>boost::tuple&lt;boost::scoped_ptr&lt;A&gt;, boost::scoped_ptr&lt;B&gt;&gt;(new A(...), new B(...))</code></li>\n</ol>\n\n<p>(1) is a lot of work, (2) is code duplication and error prone, and (3) involves now having to do allocation all of a sudden. </p>\n"}], "owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 1, "accepted_answer_id": 36463426, "answer_count": 2, "score": 1, "last_activity_date": 1501684608, "creation_date": 1459980551, "last_edit_date": 1501684608, "question_id": 36463220, "link": "https://stackoverflow.com/questions/36463220/how-to-initialize-a-tuple-of-non-default-constructible-not-copyable-objects", "title": "How to initialize a tuple of non-default-constructible not-copyable objects?", "body": "<p>Given some classes with parameterized constructors, such as:</p>\n\n<pre><code>class A\n{\npublic:\n    A(bool b, int i) { /*...*/ }\nprivate:\n    A(const A&amp;) {}\n};\nclass B\n{\npublic:\n    B(char c, double d) { /* ... */ }\nprivate:\n    B(const B&amp;) {}\n};\n</code></pre>\n\n<p>How to properly initialize a tuple of such classes?</p>\n\n<pre><code>boost::tuple&lt;A,B&gt; tup( /* ??? */ );\n</code></pre>\n\n<p>Not using copy constructor of A or B, and, if possible, not using move-constructor either. C++03 solution preferred, if possible.</p>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1459980349, "post_id": 36463144, "comment_id": 60538228, "body": "<i><code>&#47;&#47; How to call the construtor of ct_ptv here? </code></i> You don&#39;t (can&#39;t) call it in the constructor body but need to initialize it in the member initializer list."}], "answers": [{"comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1459980683, "post_id": 36463215, "comment_id": 60538361, "body": "Sometimes you get a warning when you refer to members from the initializer list. I had this when I passed some pointer down to a base class. Check twice before you ignore the warning if you get it."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1459980960, "post_id": 36463215, "comment_id": 60538461, "body": "Note that the <code>v({ a, b })</code> syntax is only available in C++11 and later. Prior to C++11, you will have to stick with calling <code>v.push_back()</code> in the constructor body. You can still initialize <code>ct_ptv</code> in the constructor&#39;s initialization list, though."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1459981517, "post_id": 36463215, "comment_id": 60538691, "body": "@BitTickler the warning you&#39;re referring to is probably about using a member variable before it&#39;s initialized. If <code>v</code> and <code>ct_ptv</code> were switched in this example (in the class definition, not in the initializer list) that warning would appear. Data members are always initialized in the order they appear in the class definition."}], "tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": false, "score": 1, "last_activity_date": 1459980530, "creation_date": 1459980530, "answer_id": 36463215, "question_id": 36463144, "link": "https://stackoverflow.com/questions/36463144/how-to-call-the-constructor-in-this-class/36463215#36463215", "title": "How to call the constructor in this class.", "body": "<pre><code>class container\n{\npublic:\n    container(double a, double b) :\n        v({ a, b }),\n        ct_ptv(&amp;v)\n    {\n    }\n    vector&lt;double&gt; v;\n    Test ct_ptv;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1459980908, "creation_date": 1459980908, "answer_id": 36463293, "question_id": 36463144, "link": "https://stackoverflow.com/questions/36463144/how-to-call-the-constructor-in-this-class/36463293#36463293", "title": "How to call the constructor in this class.", "body": "<pre><code>class container\n{\npublic:\n  container(double a, double b)\n      : ct_ptv(&amp;v)\n  {\n    v.push_back(a);\n    v.push_back(b);\n  }\n  vector&lt;double&gt; v;\n  Test        ct_ptv;\n};\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 1037059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ff0c182ac9167e4e91fdee707c09b91?s=128&d=identicon&r=PG", "display_name": "curiousexplorer", "link": "https://stackoverflow.com/users/1037059/curiousexplorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459980908, "creation_date": 1459980162, "question_id": 36463144, "link": "https://stackoverflow.com/questions/36463144/how-to-call-the-constructor-in-this-class", "title": "How to call the constructor in this class.", "body": "<p>The following is a made-up example, but representative of a code sample I am working on. </p>\n\n<p>How do we call the constructor of the class <code>test</code> here? </p>\n\n<pre><code>class Test\n{\npublic:\n  Test(vector&lt;double&gt;* pt)\n  {\n    ptv = pt;\n  }\n  vector&lt;double&gt;* ptv;\n\n};\n\n\n\nclass container\n{\n\npublic:\n  container(double a, double b)\n  {\n    v.push_back(a);\n    v.push_back(b);\n    // How to call the construtor of ct_ptv here? \n  }\n  vector&lt;double&gt; v;\n  Test        ct_ptv;\n};\n</code></pre>\n\n<p>In words, I have two classes. One of them is called container whose instantiations\ncontain a vector of size 2. The same \nclass will also have a class called <code>Test</code> which would contain a pointer \nto the vector <code>v</code>. </p>\n\n<p>How do I call the constructor of <code>ct_ptv</code> here?  </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3721, "user_id": 1280057, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EQkPg.jpg?s=128&g=1", "display_name": "CaptainBli", "link": "https://stackoverflow.com/users/1280057/captainbli"}, "edited": false, "score": 0, "creation_date": 1459980607, "post_id": 36463120, "comment_id": 60538331, "body": "You need to change your title to better reflect the actual question and not a very specific error.  Otherwise you won&#39;t get much response. Something like: Error with Specifying Binary += Global Operator."}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1459980882, "post_id": 36463120, "comment_id": 60538435, "body": "Can you show the code snippet in which you instantiate your template ?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1459981131, "post_id": 36463120, "comment_id": 60538523, "body": "What is <code>elements</code> declared as? The error is telling you that the type used for <code>elements</code> does not have an <code>operator+=</code> implementation that accepts a <code>Movie</code> as input.  If you want <code>addElem()</code> to invoke your <code>operator+=</code> then use <code>*this += elem;</code> instead of <code>this-&gt;elements += elem;</code>  Similar with <code>deleteElem()</code>, to invoke your <code>operator-=</code>, use <code>*this -= position;</code> instead of <code>this-&gt;elements -= position;</code>."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1459981698, "post_id": 36463120, "comment_id": 60538743, "body": "In any case, why are you using a fixed array instead of a container like <code>std::vector</code> or <code>std::list</code>?"}, {"owner": {"reputation": 30, "user_id": 4607543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G05BZ.png?s=128&g=1", "display_name": "Ovidiu Chis", "link": "https://stackoverflow.com/users/4607543/ovidiu-chis"}, "edited": false, "score": 0, "creation_date": 1460060741, "post_id": 36463120, "comment_id": 60582298, "body": "Sorry for the lack of details. The elements  variable is declared generic as <code>Element* elements;</code> under the <code>friend class GenericIterator&lt;Element&gt;;</code> class. The below answers helped me solve the issue.  I replaced <code>this-&gt;elements += elem</code> with <code>*this += elem</code>. Now it works correctly."}], "answers": [{"comments": [{"owner": {"reputation": 30, "user_id": 4607543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G05BZ.png?s=128&g=1", "display_name": "Ovidiu Chis", "link": "https://stackoverflow.com/users/4607543/ovidiu-chis"}, "edited": false, "score": 0, "creation_date": 1460060325, "post_id": 36463387, "comment_id": 60582034, "body": "Yes, this did the trick: I changed this-&gt;elements += elem with *this += elem. Now it works correctly. Thank you!."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 0, "last_activity_date": 1459981416, "creation_date": 1459981416, "answer_id": 36463387, "question_id": 36463120, "link": "https://stackoverflow.com/questions/36463120/error-c2677-binary-no-global-operator-found-which-takes-type-movie-or/36463387#36463387", "title": "error C2677: binary &#39;+=&#39; : no global operator found which takes type &#39;Movie&#39; (or there is no acceptable conversion)", "body": "<p>Try this instead:</p>\n\n<pre><code>template&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator-=(int position)\n{\n    // some code here...\n    return *this;\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::deleteElem(int position)\n{\n    *this -= position;\n}\n\ntemplate&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator+=(const Element &amp;elem)\n{\n    resizeArray();\n    elements[lenght++] = elem;\n    return *this;\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::addElem(const Element &amp;elem)\n{\n    *this += elem;\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>template&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator-=(int position)\n{\n    deleteElem(position);\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::deleteElem(int position)\n{\n    // some code here...\n}\n\ntemplate&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator+=(const Element &amp;elem)\n{\n    addElem(elem);\n    return *this;\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::addElem(const Element &amp;elem)\n{\n    resizeArray();\n    elements[lenght++] = elem;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30, "user_id": 4607543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G05BZ.png?s=128&g=1", "display_name": "Ovidiu Chis", "link": "https://stackoverflow.com/users/4607543/ovidiu-chis"}, "edited": false, "score": 0, "creation_date": 1460060415, "post_id": 36463753, "comment_id": 60582088, "body": "Yes, this did the trick: I changed this-&gt;elemements += elem with *this += elem. Now it works correctly."}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1459983393, "creation_date": 1459983393, "answer_id": 36463753, "question_id": 36463120, "link": "https://stackoverflow.com/questions/36463120/error-c2677-binary-no-global-operator-found-which-takes-type-movie-or/36463753#36463753", "title": "error C2677: binary &#39;+=&#39; : no global operator found which takes type &#39;Movie&#39; (or there is no acceptable conversion)", "body": "<p>We are guessing a lot since you only posted a little fraction of your code. But perhaps you meant:</p>\n\n<pre><code>*this += elem;\n</code></pre>\n\n<p>which would call your class's overloaded <code>operator+=</code> function that you showed, instead of:</p>\n\n<pre><code>this-&gt;elements += elem;\n</code></pre>\n\n<p>which would call <code>+=</code> on the member variable <code>elements</code>.   You haven't told us what <code>elements</code> is , but (based on your symptoms) perhaps it has some type which has <code>+=</code> defined for <code>int</code> but not for <code>Element</code>.</p>\n\n<hr>\n\n<p>NB. Not related to your compilation error, but <code>resizeArray();</code> should be inside <code>operator+=</code> , otherwise (assuming that this function is necessary to make space in the array) you will overflow your space when someone calls <code>operator+=</code> instead of <code>addElem</code>.</p>\n"}], "owner": {"reputation": 30, "user_id": 4607543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G05BZ.png?s=128&g=1", "display_name": "Ovidiu Chis", "link": "https://stackoverflow.com/users/4607543/ovidiu-chis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 36463387, "answer_count": 2, "score": -2, "last_activity_date": 1459983393, "creation_date": 1459980036, "last_edit_date": 1459981560, "question_id": 36463120, "link": "https://stackoverflow.com/questions/36463120/error-c2677-binary-no-global-operator-found-which-takes-type-movie-or", "title": "error C2677: binary &#39;+=&#39; : no global operator found which takes type &#39;Movie&#39; (or there is no acceptable conversion)", "body": "<p>I'm trying to create a generic class which stores <code>Movie</code> objects in an array.\nI want to override the <code>+=</code> and <code>-=</code> operators in order to add or delete an element from the array.</p>\n\n<pre><code>template&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator-=(int position)\n{\n    // some code here...\n    return *this;\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::deleteElem(int position)\n{\n    this-&gt;elements -= position;\n}\n</code></pre>\n\n<p>The delete part works as expected. However, when I do the same thing for the Add operation:</p>\n\n<pre><code>template&lt;typename Element&gt;\nmovieArray&lt;Element&gt;&amp; movieArray&lt;Element&gt;::operator+=(const Element &amp;elem)\n{\n    elements[lenght++] = elem;\n    return *this;\n}\n\ntemplate&lt;typename Element&gt;\nvoid movieArray&lt;Element&gt;::addElem(const Element &amp;elem)\n{\n    resizeArray();\n    this-&gt;elements += elem;\n}\n</code></pre>\n\n<p>I receive the following error:</p>\n\n<blockquote>\n  <p>error C2677: binary '+=' : no global operator found which takes type 'Movie' (or there is no acceptable conversion)</p>\n</blockquote>\n\n<p>I am not sure why this is happening.</p>\n\n<p>If I change <code>Element</code> to <code>int</code>, like I have at the <code>-=</code> method, the code is compiled.</p>\n"}, {"tags": ["c++", "arrays", "string", "sorting"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1459979138, "post_id": 36462871, "comment_id": 60537756, "body": "<i><code>if ( names[i] &gt; names [i+1])</code></i> <code>names [i+1]</code> goes out of bounds if <code>i == NUM_NAMES -1</code>"}, {"owner": {"reputation": 11, "user_id": 6169178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFGfO.jpg?s=128&g=1", "display_name": "Angel Espinoza", "link": "https://stackoverflow.com/users/6169178/angel-espinoza"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459979449, "post_id": 36462871, "comment_id": 60537857, "body": "would you mind if I asked you to explain it though? i set &#39;i&#39; to 0, i thought that it would use position 1 in the array"}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 1, "creation_date": 1459979581, "post_id": 36462871, "comment_id": 60537921, "body": "@AngelEspinoza: But it is a <code>for</code> loop that runs from <code>0</code> to <code>19</code>. On the last iteration <code>19 + 1 = 20</code> which is out of bounds."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1459979634, "post_id": 36462871, "comment_id": 60537942, "body": "The array is valid between 0 and <code>NUM_NAMES</code> -1. <code>names [i+1]</code> can read from <code>names[NUM_NAMES]</code> which is one entry too far."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459979985, "post_id": 36462871, "comment_id": 60538084, "body": "@AngelEspinoza  <i>would you mind if I asked you to explain it though?</i> Of course not: <i>&quot;i set &#39;i&#39; to 0, i thought that it would use position 1 in the array&quot;</i> That&#39;s all fine, the problem is you go to access one value beyond your array when you execute <code>names [i+1]</code> in the last iteration of the loop."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6169178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFGfO.jpg?s=128&g=1", "display_name": "Angel Espinoza", "link": "https://stackoverflow.com/users/6169178/angel-espinoza"}, "edited": false, "score": 0, "creation_date": 1459980841, "post_id": 36463166, "comment_id": 60538420, "body": "ooooh, okay, i think i understand now. so I was asking the program to go out side of the array towards the end then?"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 11, "user_id": 6169178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFGfO.jpg?s=128&g=1", "display_name": "Angel Espinoza", "link": "https://stackoverflow.com/users/6169178/angel-espinoza"}, "edited": false, "score": 0, "creation_date": 1459981011, "post_id": 36463166, "comment_id": 60538483, "body": "You were basically writing to (and reading from) memory location after the last element of the array."}, {"owner": {"reputation": 11, "user_id": 6169178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFGfO.jpg?s=128&g=1", "display_name": "Angel Espinoza", "link": "https://stackoverflow.com/users/6169178/angel-espinoza"}, "edited": false, "score": 0, "creation_date": 1459981224, "post_id": 36463166, "comment_id": 60538553, "body": "ah..okay, well thank you so much for clearing that up for me, I greatly appreciate it"}], "tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": false, "score": 0, "last_activity_date": 1459980249, "creation_date": 1459980249, "answer_id": 36463166, "question_id": 36462871, "link": "https://stackoverflow.com/questions/36462871/segmentation-fault-core-dumped-error-sorting-string-array/36463166#36463166", "title": "segmentation fault (core dumped) error sorting string array", "body": "<p>You are overwriting memory, that does not belong to you - in this line:</p>\n\n<pre><code>names [i+1] = ...\n</code></pre>\n\n<p>In C++ (and many other languages) arrays are indexed from <code>0</code>. So an array of size <code>N</code> is valid for indexes from <code>0</code> to <code>N-1</code>. Your <code>for</code> loop iterates through <code>0</code> ... <code>NUM_NAMES - 1</code>, but inside, you use index <code>i+1</code> which is <code>NUM_NAMES</code> for last iteration.</p>\n\n<p>To solve this problem, you could iterate through <code>1</code> ... <code>NUM_NAMES - 1</code>:</p>\n\n<pre><code>for (int k=1; k &lt; NUM_NAMES; k++ )\n</code></pre>\n\n<p>And work on <code>names[i-1]</code> and <code>names[i]</code>:</p>\n\n<pre><code>if ( names[i-1] &gt; names [i])\n{\n    temp = names[i - 1];\n    names [i - 1] = names[i];\n    names [i] = temp;\n}\n</code></pre>\n\n<p><em>(Or leave it as it is now, but change execution condition of the loop to <code>k &lt; NUM_NAMES - 1</code>)</em></p>\n\n<p>Also, instead of this:</p>\n\n<pre><code>temp = names[i];\nnames [i] = names[i + 1];\nnames [i + 1] = temp;\n</code></pre>\n\n<p>You could simply do:</p>\n\n<pre><code>std::swap(names[i], names[i + 1]);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6169178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFGfO.jpg?s=128&g=1", "display_name": "Angel Espinoza", "link": "https://stackoverflow.com/users/6169178/angel-espinoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460049383, "creation_date": 1459978881, "last_edit_date": 1460049383, "question_id": 36462871, "link": "https://stackoverflow.com/questions/36462871/segmentation-fault-core-dumped-error-sorting-string-array", "title": "segmentation fault (core dumped) error sorting string array", "body": "<p>I'm supposed to write a code that puts names into alphabetical order using  pre-set names, and this is what i have so far: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main ()\n\n{\n\nconst int NUM_NAMES = 20;\nstring temp;                        \nstring names [NUM_NAMES] = {\"Collins, Phil\", \"Simpson, Bart\", \"Allen, Jim\",\n                            \"Griffen, Jim\", \"Stamey, Marty\" \"Rose, Geri\",\n                            \"Taylor, Swift\",\"Johnson, Jill\", \"Alison, Jeff\",\n                            \"Looney, Joe\", \"Wolfe, Bill\", \"James, Jean\", \n                            \"Weaver, Jim\", \"Pore, Bob\", \"Rutherford, Greg\",\n                            \"Ravens, Renee\", \"Harrison, Rose\", \"Setzer, Cathy\",\n                            \"Pike, Gordon\", \"Holland, Beth\" }; \n\n\nfor (int k=0; k &lt; NUM_NAMES; k++ )\n{     for (int i=0; i&lt;NUM_NAMES; i++)\n      {\n           if ( names[i] &gt; names [i+1])\n              {\n                temp = names[i];\n                names [i] = names[i + 1];\n                names [i + 1] = temp;\n              }\n\n      }\n\n}\ncout &lt;&lt; names [0] &lt;&lt; endl;\n\nint k = 1;\nint  i = 0;\nwhile (k &lt;= NUM_NAMES)\n{\n      cout &lt;&lt; names [i] &lt;&lt; endl;\nk++;\ni++;\n}\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>it compiles with no error but when i try to run it \"Segmentation Fault (core dumped)\" appears... any help in the right direction would be appreciated </p>\n"}, {"tags": ["c++", "boost", "boost-accumulators"], "answers": [{"tags": [], "owner": {"reputation": 5285, "user_id": 195873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53912b2e0cc619ca6c81ab1406522c2a?s=128&d=identicon&r=PG", "display_name": "Eric Niebler", "link": "https://stackoverflow.com/users/195873/eric-niebler"}, "is_accepted": false, "score": 1, "last_activity_date": 1460043804, "creation_date": 1460043804, "answer_id": 36481107, "question_id": 36462724, "link": "https://stackoverflow.com/questions/36462724/initialize-a-boostaccumulator-set-at-runtime/36481107#36481107", "title": "Initialize a boost::accumulator_set at runtime", "body": "<p>There isn't. You would need to write a type-erased accumulator set wrapper. That would perform badly at runtime, which is why it isn't supported our off the box.</p>\n"}], "owner": {"reputation": 3980, "user_id": 66681, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2b24b87664cd8e0ea82d839f7a0b61ce?s=128&d=identicon&r=PG", "display_name": "0xFF", "link": "https://stackoverflow.com/users/66681/0xff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460043804, "creation_date": 1459978210, "question_id": 36462724, "link": "https://stackoverflow.com/questions/36462724/initialize-a-boostaccumulator-set-at-runtime", "title": "Initialize a boost::accumulator_set at runtime", "body": "<p>Is there a way to declare at runtime a <code>boost::accumulator_set</code> with features determined as runtime?\nSomething like:</p>\n\n<pre><code>accumulator_set *acc;\n\nif (SomeUserInput1)\n{\n  acc = new accumulator_set&lt; double, features&lt; tag::min &gt;&gt;;\n}\n\nif (SomeUserInput2)\n{\n  acc = new accumulator_set&lt; double, features&lt; tag::min, tag::max, tag::mean, tag::... &gt;&gt;;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 5, "creation_date": 1459978342, "post_id": 36462712, "comment_id": 60537407, "body": "Whether it is or not, I hope never to see this code in a real-world application."}, {"owner": {"reputation": 374, "user_id": 3909898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100006688479802/picture?type=large", "display_name": "Bharat Ahuja", "link": "https://stackoverflow.com/users/3909898/bharat-ahuja"}, "reply_to_user": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1459978477, "post_id": 36462712, "comment_id": 60537471, "body": "but we can see the second one"}, {"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1459978544, "post_id": 36462712, "comment_id": 60537496, "body": "The first one does not compile in gcc."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1459978702, "post_id": 36462712, "comment_id": 60537568, "body": "Yes, initializer lists are guaranteed left to right."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "reply_to_user": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 1, "creation_date": 1459982194, "post_id": 36462712, "comment_id": 60538902, "body": "@owacoder anyone who works for me and writes code like that, doesn&#39;t work for me :)"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1459984044, "post_id": 36462712, "comment_id": 60539487, "body": "An initialiser list has to contain <i>constant expressions</i> only in C. Not sure about C++, this is a different language."}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1459997390, "post_id": 36462712, "comment_id": 60543078, "body": "I&#39;m courious if the Answer there applys to C language too. It seems to be a C++ one."}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "edited": false, "score": 2, "creation_date": 1460012940, "post_id": 36462712, "comment_id": 60548975, "body": "Unlike in C++, behavior is undefined in C."}], "owner": {"reputation": 374, "user_id": 3909898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100006688479802/picture?type=large", "display_name": "Bharat Ahuja", "link": "https://stackoverflow.com/users/3909898/bharat-ahuja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "closed_date": 1459978972, "answer_count": 0, "score": 0, "last_activity_date": 1460012893, "creation_date": 1459978157, "last_edit_date": 1460012893, "question_id": 36462712, "link": "https://stackoverflow.com/questions/36462712/is-a-comma-in-an-array-initializer-a-sequence-point", "closed_reason": "Duplicate", "title": "Is a comma in an array initializer a sequence point?", "body": "<p>I am not sure if a comma in an array initializer is actually a sequence point. Has the statement below defined behavior? The standard does not discuss side-effects during aggregate initialization specifically (I think), so I assumed implementation behavior myself, but I had to ask</p>\n\n<pre><code>char s[7] = {'a', s[0], s[1], s[2], s[3], s[4], 0};\n\n int a[3]= { *ptr++,*ptr++,*ptr++}\n</code></pre>\n"}, {"tags": ["c++", "linux", "debian"], "answers": [{"tags": [], "owner": {"reputation": 2256, "user_id": 2329365, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f9ae77df0d9ea5a75e379d2f6904e9a1?s=128&d=identicon&r=PG", "display_name": "hr0m", "link": "https://stackoverflow.com/users/2329365/hr0m"}, "is_accepted": false, "score": 0, "last_activity_date": 1459977829, "last_edit_date": 1459977829, "creation_date": 1459977396, "answer_id": 36462513, "question_id": 36462431, "link": "https://stackoverflow.com/questions/36462431/what-is-the-best-way-to-have-multiple-g-toolchains-installed-on-debian-jessie/36462513#36462513", "title": "What is the best way to have multiple g++ toolchains installed on Debian Jessie", "body": "<p>Mixing up stable/testing/unstable branch of debian is not easy and i wouldn't recommend to do it. What you could do is to download diractly the tarball, or clone the cvs and compile the compiler on your own, having each version in their own directory.</p>\n\n<p>The different releases can be found <a href=\"ftp://ftp.fu-berlin.de/unix/languages/gcc/releases/\" rel=\"nofollow\">here</a>, for example.</p>\n"}], "owner": {"reputation": 1231, "user_id": 4248768, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8f15d7958ecb927981418f3c178a3e36?s=128&d=identicon&r=PG&f=1", "display_name": "Anon Dev", "link": "https://stackoverflow.com/users/4248768/anon-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459977829, "creation_date": 1459977084, "last_edit_date": 1459977401, "question_id": 36462431, "link": "https://stackoverflow.com/questions/36462431/what-is-the-best-way-to-have-multiple-g-toolchains-installed-on-debian-jessie", "title": "What is the best way to have multiple g++ toolchains installed on Debian Jessie", "body": "<p>I'm pretty new to linux, and I want to have installed multiple toolchains versions on my machine for testing purposes, I've read many documents on the internet refering to how to install test/experimental/unstable packages to get very new compilers packages (i.e. g++-6), but after setting Debian to find packages from test/experimental/unstable channels and install g++-6 my machine crashed, so as a new Linux user I would like to get your help to understand what is the recommended way of doing this, in my case I would like to have an easy way of testing my code against g++ (4.9, 5 and 6).</p>\n\n<p>On Windows I used to download a zip package from a daily build version of mingw including g++ 5 or 6 and just setted the IDE to look for the toolchain in each folder, is that possible on Linux?</p>\n"}, {"tags": ["c++", "qt", "user-interface"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6169098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c39fd85aa76a082811fd7644374aa9?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6169098/charles"}, "edited": false, "score": 0, "creation_date": 1460134956, "post_id": 36462836, "comment_id": 60617630, "body": "The only thing i need to do is ask the user by interface a string, and then return a string, the program is working without on console, for what I am understanding i just need to do the interface using QT and then i use the code i have without changing it, because the code is a bit long, and for me to transfer it all to QT library would take a lot of time."}, {"owner": {"reputation": 902, "user_id": 5874704, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Uni7M.jpg?s=128&g=1", "display_name": "A.Fagrell", "link": "https://stackoverflow.com/users/5874704/a-fagrell"}, "reply_to_user": {"reputation": 11, "user_id": 6169098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c39fd85aa76a082811fd7644374aa9?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6169098/charles"}, "edited": false, "score": 0, "creation_date": 1460142406, "post_id": 36462836, "comment_id": 60621764, "body": "@Charles I&#39;m not sure what you mean by &quot;transfer&quot;. You can mix Qt with STL without any problems. Using at QLineEdit will give you a QString but that&#39;s easy to convert to a std::string, by using the function I wrote in my answer. As long as performance is not extremely important you probably don&#39;t need to change any code you&#39;ve done so far. I think you should just go for it."}], "tags": [], "owner": {"reputation": 902, "user_id": 5874704, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Uni7M.jpg?s=128&g=1", "display_name": "A.Fagrell", "link": "https://stackoverflow.com/users/5874704/a-fagrell"}, "is_accepted": false, "score": 2, "last_activity_date": 1459978728, "creation_date": 1459978728, "answer_id": 36462836, "question_id": 36462374, "link": "https://stackoverflow.com/questions/36462374/code-transfer-in-qt-creator/36462836#36462836", "title": "Code transfer in Qt Creator", "body": "<p>It is difficult to say without seeing any code, however I think it should be quite straightforward for you to integrate your code with Qt. Qt supplies quite many \"helper-functions\" to convert between STL objects and Qt objects such as for example QString:</p>\n\n<pre><code>std::string toStdString() const\nQString fromStdString(const std::string &amp;str)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1459978747, "creation_date": 1459978747, "answer_id": 36462843, "question_id": 36462374, "link": "https://stackoverflow.com/questions/36462374/code-transfer-in-qt-creator/36462843#36462843", "title": "Code transfer in Qt Creator", "body": "<p><code>std::string</code> and console code are separate issues. You can certainly write console code using Qt, in fact there's quite a bit of such code out there, doing its work. You can easily create <code>QString</code> from <code>std::string</code>. The simplest answer is: yes, you can use the code, and the generality of that answer makes the question useless. There's no other way but to answer \"yes\".</p>\n"}], "owner": {"reputation": 11, "user_id": 6169098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c39fd85aa76a082811fd7644374aa9?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/6169098/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1460014218, "creation_date": 1459976866, "last_edit_date": 1460014218, "question_id": 36462374, "link": "https://stackoverflow.com/questions/36462374/code-transfer-in-qt-creator", "title": "Code transfer in Qt Creator", "body": "<p>I worked on a console code, that basically asks the user for their Iban, and then searchs on a linked list what is their bank name and code of agent. This is a plain C++ console application. Now, I have to do an interface with Qt and I was wondering if I could use the code I have and just work with the GUI or if I need to transfer the code (for example, instead of <code>string</code>, use <code>QString</code>).</p>\n\n<p>Does anybody have an idea?</p>\n"}, {"tags": ["c++", "qt", "sockets", "networking", "udp"], "comments": [{"owner": {"reputation": 1804, "user_id": 4313775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpFpj.jpg?s=128&g=1", "display_name": "David van rijn", "link": "https://stackoverflow.com/users/4313775/david-van-rijn"}, "edited": false, "score": 0, "creation_date": 1459977621, "post_id": 36462290, "comment_id": 60537039, "body": "Can you give the code in <code>processTheDatagram</code> ?"}, {"owner": {"reputation": 1804, "user_id": 4313775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpFpj.jpg?s=128&g=1", "display_name": "David van rijn", "link": "https://stackoverflow.com/users/4313775/david-van-rijn"}, "edited": false, "score": 1, "creation_date": 1459977786, "post_id": 36462290, "comment_id": 60537120, "body": "Also, i hate to be <b>that guy</b> but have you considered using tcp? It seems way more fitted to your needs, since this is what tcp is made for (putting messages into order). Because there is no guarantee that your packages will arrive in order."}, {"owner": {"reputation": 638, "user_id": 2355357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQd04.jpg?s=128&g=1", "display_name": "Elkvis", "link": "https://stackoverflow.com/users/2355357/elkvis"}, "edited": false, "score": 0, "creation_date": 1459977902, "post_id": 36462290, "comment_id": 60537184, "body": "Have you considered starting a thread to handle each datagram?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1459978800, "post_id": 36462290, "comment_id": 60537600, "body": "That&#39;s perfectly normal. You <b>chose</b> to use UDP, right? Deal with packet loss."}], "answers": [{"tags": [], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "is_accepted": true, "score": 6, "last_activity_date": 1459978061, "creation_date": 1459978061, "answer_id": 36462690, "question_id": 36462290, "link": "https://stackoverflow.com/questions/36462290/qudpsocket-losses-datagrams-while-processing-previous-one/36462690#36462690", "title": "QUdpsocket losses datagrams while processing previous one", "body": "<blockquote>\n  <p>Where is the problem?? in udp buffer?</p>\n</blockquote>\n\n<p>The problem is that if the socket's recv-buffer fills up, then any UDP packets the computer receives while the buffer is full will be dropped.  That's not a bug, it's a 'feature' of how UDP works.</p>\n\n<p>Dropped UDP packets are just a fact of life; any program that uses UDP has to deal with dropped UDP packets one way or another.  Here are some ways you could deal with them (not all mutually exclusive):</p>\n\n<ol>\n<li>Make your processTheDatagram() function so efficient that it always returns fast enough that the UDP buffer never has time to fill up</li>\n<li>Call setSocketOption(QAbstractSocket::ReceiveBufferSizeSocketOption, someLargeValue) on your QUDPSocket to give it a bigger in-kernel receive buffer, which will take longer to fill up</li>\n<li>Instead of trying to process the datagram in the same thread, just add the datagram to a FIFO queue and let another thread do the heavy lifting.  That way your I/O thread is always free to quickly receive the next UDP packet.</li>\n<li>Implement some sort of flow-control or packet-resend algorithm so that packets won't be sent faster than your computer can process them, or so that if a packet is dropped you can request to have it sent again (although if you go down this route it's often better to just use TCP instead)</li>\n<li>Run on a faster computer :)</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4703308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9pu1k.jpg?s=128&g=1", "display_name": "John Gilbert", "link": "https://stackoverflow.com/users/4703308/john-gilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1584935428, "last_edit_date": 1584935428, "creation_date": 1584934678, "answer_id": 60807651, "question_id": 36462290, "link": "https://stackoverflow.com/questions/36462290/qudpsocket-losses-datagrams-while-processing-previous-one/60807651#60807651", "title": "QUdpsocket losses datagrams while processing previous one", "body": "<p>As a complement to @Jeremy Friesner 's second recommendation:</p>\n\n<p>For QUdpSocket:</p>\n\n<ol>\n<li>Make sure you call setSocketOption instead of <a href=\"https://doc.qt.io/qt-5/qabstractsocket.html#setReadBufferSize\" rel=\"nofollow noreferrer\">setReadBufferSize</a> which refers to QAbstractSocket's internal buffer QUdpSocket doesn't use.</li>\n<li>Call QUdpSocket::bind before setSocketOption.</li>\n</ol>\n"}], "owner": {"reputation": 43, "user_id": 4998602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7esP.jpg?s=128&g=1", "display_name": "\u0410\u0441\u043a\u0435\u0440 \u0427\u0438\u043a", "link": "https://stackoverflow.com/users/4998602/%d0%90%d1%81%d0%ba%d0%b5%d1%80-%d0%a7%d0%b8%d0%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1771, "favorite_count": 2, "accepted_answer_id": 36462690, "answer_count": 2, "score": 2, "last_activity_date": 1584935428, "creation_date": 1459976558, "last_edit_date": 1459977222, "question_id": 36462290, "link": "https://stackoverflow.com/questions/36462290/qudpsocket-losses-datagrams-while-processing-previous-one", "title": "QUdpsocket losses datagrams while processing previous one", "body": "<p>Im sending not packed image (bmp) data from one application(unity) to another (QT) via udp splitting in frames (50Kb) and adding frameId to data.\nOn other side I'm trying to integrate frames (using frameId) and after i collected all frames of one image I process it as image.\nIf Im just catching frames and do not process them Im getting data in right sequence</p>\n\n<pre><code>void Server::readPendingDatagrams()\n{\n    if (udpSocket-&gt;hasPendingDatagrams()) {\n        QByteArray datagram;\n        datagram.resize(udpSocket-&gt;pendingDatagramSize());\n        QHostAddress sender;\n        quint16 senderPort;\n\n        udpSocket-&gt;readDatagram(datagram.data(), datagram.size(),\n                                &amp;sender, &amp;senderPort);\n        qDebug()&lt;&lt;datagram[0]; //frameId\n        //processTheDatagram(datagram);\n    }\n}\n</code></pre>\n\n<p>I see \"1 2 3 4 5 1 2 3 4 5 1 2 3 4 5\" in console\nbut if I uncomment processTheDatagram(datagram);\nI'm getting \"1 3 4 1 2 4 2 4 5 2 3 5\"\nit losses data while processing previous datagram.\nWhere is the problem??\nin udp buffer?</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1459976500, "post_id": 36462215, "comment_id": 60536396, "body": "It would be much more portable (read as safer) to simply add the boolean flag."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1459976624, "post_id": 36462215, "comment_id": 60536465, "body": "This code looks like it negates the pointer and not the data, &lt;s&gt;a pointer cannot be negative&lt;/s&gt;"}, {"owner": {"reputation": 734, "user_id": 2387521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98bf0d528ab74149a60fb059d8cdf380?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/2387521/steven"}, "edited": false, "score": 1, "creation_date": 1459976640, "post_id": 36462215, "comment_id": 60536477, "body": "Well, on a 32-bit Windows you can flag a program as being &quot;large address aware&quot;; in that case, when you allocate memory you can use the first 3GB of memory.  Assuming qintptr is a signed 32-bit value, all of the addresses above 2GB would end up being negative.  So, at least on some platforms it is possible."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459976802, "post_id": 36462215, "comment_id": 60536580, "body": "Not sure what <code>qintptr</code> is, but if it is any similar to standard <code>std::intptr_t</code>, than the answer is &quot;it can be anything, and negative as well&quot;."}, {"owner": {"reputation": 734, "user_id": 2387521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98bf0d528ab74149a60fb059d8cdf380?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/2387521/steven"}, "edited": false, "score": 2, "creation_date": 1459976938, "post_id": 36462215, "comment_id": 60536669, "body": "The more typical way to do this hack would be to rely on the objects being aligned on an address boundary greater than 1, and then use the lower bits of the address as the flags.  (i.e. if all objects are allocated at addresses which are multiples of 4, you can use the bottom 3 bits as flags).  This is still platform-specific/undefined behaviour, and owacoder&#39;s point still stands."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459976952, "post_id": 36462215, "comment_id": 60536677, "body": "And really, do not code brittle systems. Instead, use <code>std::unique_ptr</code> in your code to hold the value you allocate yourself."}, {"owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459977136, "post_id": 36462215, "comment_id": 60536795, "body": "@SergeyA <a href=\"http://doc.qt.io/qt-5/qtglobal.html#qintptr-typedef\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qtglobal.html#qintptr-typedef</a> And yeah, smart pointers are an alternative. However I will have many of these, think hundreds of millions, so if I could save few bytes on each it will make huge difference."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1459977195, "post_id": 36462215, "comment_id": 60536830, "body": "<code>std::unique_ptr</code> should not have any size overhead"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459977246, "post_id": 36462215, "comment_id": 60536849, "body": "@Resurrection, your own link answers your question. It is the same size as pointer, as thus it can easily become negative."}, {"owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "reply_to_user": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1459977268, "post_id": 36462215, "comment_id": 60536863, "body": "@vu1p3n0x However it cannot hold more than one type at a time unless they share the same base."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459977376, "post_id": 36462215, "comment_id": 60536919, "body": "@Resurrection, is your system essentially build on <code>void*</code> pointers? (typecasted into integers)? I thought the tag of the question is C++..."}, {"owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459977497, "post_id": 36462215, "comment_id": 60536981, "body": "@SergeyA It is not, I rarely use casts or void* but as I explained I am trying to shave off bytes where I can because of the amount of data this will support."}], "answers": [{"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1459998933, "last_edit_date": 1459998933, "creation_date": 1459984795, "answer_id": 36464014, "question_id": 36462215, "link": "https://stackoverflow.com/questions/36462215/can-reinterpret-castqintptr-be-negative/36464014#36464014", "title": "Can reinterpret_cast&lt;qintptr&gt;(...) be negative?", "body": "<p>The <a href=\"http://doc.qt.io/qt-5/qtglobal.html#qintptr-typedef\" rel=\"nofollow\">QT 5 documentation</a> indicates that <code>qintptr</code> is a typedef for either <code>qint32</code> or <code>qint64</code>, which in turn are typedefs for <code>signed int</code> or <code>signed long long</code>.</p>\n\n<p>So, yes, the value could be negative. You will have to write proper code instead of using the \"sign bit as extra boolean flag\" hack.</p>\n"}], "owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 36464014, "answer_count": 1, "score": 0, "last_activity_date": 1459998933, "creation_date": 1459976299, "question_id": 36462215, "link": "https://stackoverflow.com/questions/36462215/can-reinterpret-castqintptr-be-negative", "title": "Can reinterpret_cast&lt;qintptr&gt;(...) be negative?", "body": "<p>I have a class that is basis for representing hierarchical structure where the bottom object holds actual data:</p>\n\n<pre><code>class Data { };\n\nclass Item\n{\npublic:\n    AItem(AItem *source = nullptr) : m_Data(source ? reinterpret_cast&lt;qintptr&gt;(source) : -reinterpret_cast&lt;qintptr&gt;(new Data)) {}\n    virtual ~AItem() { if(m_Data &lt; 0) delete reinterpret_cast&lt;AData*&gt;(-m_Data); }\n\n    qintptr id() const { return m_Data; }\n    Data *data() const { return m_Data &lt; 0 ? reinterpret_cast&lt;AData*&gt;(-m_Data) : reinterpret_cast&lt;AItem*&gt;(m_Data)-&gt;data(); }\n\nprivate:\n    qintptr m_Data;\n};\n</code></pre>\n\n<p>Notice that when no \"source\" is set in the constructor I create new object of <code>Data</code>, reinterpret it as integer, <strong>negate it</strong> and then save it to m_Data. This is crucial as it is used when getting the <code>Data</code> object from the hierarchy in <code>data()</code> and of course in the destructor.</p>\n\n<p>However this might be a dangerous hack because it relies on both <code>reinterpret_cast&lt;qintptr&gt;(source)</code> and <code>reinterpret_cast&lt;qintptr&gt;(new Data)</code> never to produce negative integer. Could they?</p>\n\n<p>If they could (and I think they could but I cannot find definitive answer) I will have to add boolean flag to check if the item is base object or not.</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1459976395, "post_id": 36461980, "comment_id": 60536335, "body": "Why can&#39;t you store integers in <code>double</code>s?"}, {"owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "reply_to_user": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1459976554, "post_id": 36461980, "comment_id": 60536425, "body": "The point isn&#39;t that double can&#39;t hold integers because they can. The main point is that the method for solving Knapsach problem requires 2 2D array, namely Value and Keep. But the column an integer of cost. But in this case, the cost is a double, which is not possible to construct the 2D array"}, {"owner": {"reputation": 91690, "user_id": 4833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0d3bf653c44af90ef09711d538bee6a?s=128&d=identicon&r=PG", "display_name": "VolkerK", "link": "https://stackoverflow.com/users/4833/volkerk"}, "edited": false, "score": 0, "creation_date": 1459976688, "post_id": 36461980, "comment_id": 60536514, "body": "But an array of <code>struct { double cost; int value }</code> or some container of  <code>std::pair&lt;double,cost&gt;</code> or ...."}, {"owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "edited": false, "score": 0, "creation_date": 1459976798, "post_id": 36461980, "comment_id": 60536576, "body": "I think the method for solving this problem is different from what you guys have in mind. Please refer to the following video for the method that I&#39;m referring to:   <a href=\"https://www.youtube.com/watch?v=1fDAOvgK11s&amp;nohtml5=False\" rel=\"nofollow noreferrer\">youtube.com/watch?v=1fDAOvgK11s&amp;nohtml5=False</a>"}, {"owner": {"reputation": 91690, "user_id": 4833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0d3bf653c44af90ef09711d538bee6a?s=128&d=identicon&r=PG", "display_name": "VolkerK", "link": "https://stackoverflow.com/users/4833/volkerk"}, "edited": false, "score": 0, "creation_date": 1459977890, "post_id": 36461980, "comment_id": 60537178, "body": "<code>(CPU) cost(946.021)</code> is that (10^-3) the maximum precision used?"}, {"owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "edited": false, "score": 0, "creation_date": 1459977936, "post_id": 36461980, "comment_id": 60537203, "body": "yes, Max precision is 3"}, {"owner": {"reputation": 91690, "user_id": 4833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0d3bf653c44af90ef09711d538bee6a?s=128&d=identicon&r=PG", "display_name": "VolkerK", "link": "https://stackoverflow.com/users/4833/volkerk"}, "edited": false, "score": 2, "creation_date": 1459978269, "post_id": 36461980, "comment_id": 60537378, "body": "Then multiply the cost by 1000 and you have intergers."}, {"owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "edited": false, "score": 0, "creation_date": 1459978450, "post_id": 36461980, "comment_id": 60537457, "body": "In the situation when 3 precision is used, what if the precision isn&#39;t defined at the beginning?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459978660, "post_id": 36461980, "comment_id": 60537541, "body": "Most of the time folks use integers to represent money because <code>double</code>s don&#39;t always equal what you think they should. Hard to make a good comparison between A and B when A might be 4.99999999999 and B could be 5.00000001."}, {"owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "edited": false, "score": 1, "creation_date": 1459979097, "post_id": 36461980, "comment_id": 60537741, "body": "So in a situation when cost is a double and precision isn&#39;t defined, how can one solve this knapsack problem?"}], "answers": [{"tags": [], "owner": {"reputation": 22952, "user_id": 210211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8721ff8fa4b5c658058f4a2803231f44?s=128&d=identicon&r=PG", "display_name": "comingstorm", "link": "https://stackoverflow.com/users/210211/comingstorm"}, "is_accepted": false, "score": 1, "last_activity_date": 1459984947, "last_edit_date": 1459984947, "creation_date": 1459984581, "answer_id": 36463977, "question_id": 36461980, "link": "https://stackoverflow.com/questions/36461980/knapsack-with-double-data-types/36463977#36463977", "title": "Knapsack with double data types", "body": "<p>You can scan your input for the smallest exponent (using <code>frexp()</code>), and add in the mantissa precision (53 bits?) to find a scaling factor that will convert all your numbers to exactly proportionate integers.</p>\n\n<p>You will need a bigint library to handle the resulting integers, though.</p>\n"}, {"tags": [], "owner": {"reputation": 51837, "user_id": 2144669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7393f439028063515255b63ed94cfd?s=128&d=identicon&r=PG", "display_name": "David Eisenstat", "link": "https://stackoverflow.com/users/2144669/david-eisenstat"}, "is_accepted": false, "score": 1, "last_activity_date": 1459989934, "creation_date": 1459989934, "answer_id": 36464778, "question_id": 36461980, "link": "https://stackoverflow.com/questions/36461980/knapsack-with-double-data-types/36464778#36464778", "title": "Knapsack with double data types", "body": "<p>Switch to a dynamic program that finds the least costly solution for each value, with 2D arrays for Cost and Keep instead of Value and Keep. (The difference between the programs is minor.)</p>\n"}], "owner": {"reputation": 43, "user_id": 5486321, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64985ddf0725d378edc6d5b6f797b168?s=128&d=identicon&r=PG&f=1", "display_name": "TNT_42", "link": "https://stackoverflow.com/users/5486321/tnt-42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1459989934, "creation_date": 1459975524, "last_edit_date": 1459979911, "question_id": 36461980, "link": "https://stackoverflow.com/questions/36461980/knapsack-with-double-data-types", "title": "Knapsack with double data types", "body": "<p>For all the Knapsack problem that I've seen so far on the internet, all of them have the form (cost, value) given a capacity of the cost variable. All of the problems seems to have cost as an integer only which makes it quite convenient to make a 2D array for Value and Keep array. But what if the cost variable isn't an integer but instead a double data type? There's no way to make a Value and Keep array based on the double data type. How can I approach this situation?  </p>\n\n<p>Ex:  </p>\n\n<p>budget: $3458</p>\n\n<p>item_name(laptop)    cost(1177.44)  value (131)</p>\n\n<p>item_name(desktop)   cost(1054.44) value(35)</p>\n\n<p>item_name(GPU)     cost(1252.66) value(105)</p>\n\n<p>item_name(CPU)     cost(946.021) value(136)</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1459975650, "post_id": 36461976, "comment_id": 60535852, "body": "All map values have to be of the same type. You probably can use runtime polymorphism, but the question is asked in too generic way to give any meaningful answer."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1459975659, "post_id": 36461976, "comment_id": 60535857, "body": "Exactly as you write it? Or do you want store pointers of various types in the same map?"}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1459975773, "post_id": 36461976, "comment_id": 60535930, "body": "i want differenttypes* to be for example string, int etc..."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459975818, "post_id": 36461976, "comment_id": 60535966, "body": "@MateuszW How will you know what the type is when you retrieve it?  See the hole in your design?"}, {"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1459975867, "post_id": 36461976, "comment_id": 60535999, "body": "You can use a union and a &quot;type tag&quot; (enum or string) indicating what the union actually holds."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1459975902, "post_id": 36461976, "comment_id": 60536023, "body": "So you want all generic types? Or user defined classes?"}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "reply_to_user": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1459975962, "post_id": 36461976, "comment_id": 60536070, "body": "@PeterA.Schneider can you ellaborate on that? possibly giving some example?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1459975991, "post_id": 36461976, "comment_id": 60536101, "body": "@PeterA.Schneider That can be used, but it will inevitably lead to the &quot;big-if&quot; or &quot;big-switch&quot; type of programming."}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "reply_to_user": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1459976009, "post_id": 36461976, "comment_id": 60536113, "body": "@Chiel probably like 5 user defined classes"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459976058, "post_id": 36461976, "comment_id": 60536130, "body": "@MateuszW  See my &quot;big-if / big-switch&quot; comment.  Do you want that?  If it&#39;s a string do this, if it&#39;s an int do that, if it&#39;s a double do something else, etc..Litter your application with code like that, and it becomes a maintenance headache."}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1459976119, "post_id": 36461976, "comment_id": 60536169, "body": "The problem that I am trying to solve is to have a storage for pointers of 5 different objects with different types based on int. For example if int is 1 return string object, if int is 2 return car object etc"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459976466, "post_id": 36461976, "comment_id": 60536375, "body": "Also, see this: <a href=\"http://stackoverflow.com/questions/4738405/how-can-i-store-objects-of-differing-types-in-a-c-container\">Storing objects of differing types in a container</a>"}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459976654, "post_id": 36461976, "comment_id": 60536489, "body": "@PaulMcKenzie i was looking at this boost::any and boost::variant but how would I cast/know type of the object returning"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1459976939, "post_id": 36461976, "comment_id": 60536670, "body": "@MateuszW that&#39;s kind of the point people have been making. It&#39;s not a very good design to have an object that can be any type. You need some sort of runtime checking. I&#39;m not familiar with boost::any and boost::variant to know what they offer. A better solution is to fix your design."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1459977010, "post_id": 36461976, "comment_id": 60536710, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/26342950/is-it-possible-to-return-an-accurate-object-from-a-polymorphic-container-of-po\">Is it possible to return an &#39;accurate&#39; object from a polymorphic container of pointers?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1459976385, "post_id": 36462206, "comment_id": 60536323, "body": "how would I cast/know which object type it is when retrieving that from an enum?"}, {"owner": {"reputation": 902, "user_id": 5874704, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Uni7M.jpg?s=128&g=1", "display_name": "A.Fagrell", "link": "https://stackoverflow.com/users/5874704/a-fagrell"}, "reply_to_user": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1459976957, "post_id": 36462206, "comment_id": 60536679, "body": "@MateuszW boost::any has a member function type() which returns a std::type_info"}], "tags": [], "owner": {"reputation": 902, "user_id": 5874704, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Uni7M.jpg?s=128&g=1", "display_name": "A.Fagrell", "link": "https://stackoverflow.com/users/5874704/a-fagrell"}, "is_accepted": true, "score": 0, "last_activity_date": 1459977434, "last_edit_date": 1459977434, "creation_date": 1459976268, "answer_id": 36462206, "question_id": 36461976, "link": "https://stackoverflow.com/questions/36461976/how-to-have-a-map-with-different-types-of-values/36462206#36462206", "title": "How to have a map with different types of values?", "body": "<p>You could use the <code>any</code> type that boost provides in the map-container (or any other container that you like)\n<a href=\"http://www.boost.org/doc/libs/1_60_0/doc/html/any.html\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_60_0/doc/html/any.html</a></p>\n\n<blockquote>\n  <p>The boost::any class supports copying of any value type and safe checked extraction of that value strictly against its type.</p>\n</blockquote>\n\n<p>To get implementation-specific information about an element's type use the following function member of <code>boost::any</code></p>\n\n<pre><code> const std::type_info &amp; type() const;\n</code></pre>\n\n<p>Example here (using a std::list):\n<a href=\"http://www.boost.org/doc/libs/1_60_0/doc/html/any/s02.html\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_60_0/doc/html/any/s02.html</a></p>\n\n<p>Should be the safest and quickest approach.</p>\n"}, {"tags": [], "owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1459976786, "last_edit_date": 1459976786, "creation_date": 1459976383, "answer_id": 36462240, "question_id": 36461976, "link": "https://stackoverflow.com/questions/36461976/how-to-have-a-map-with-different-types-of-values/36462240#36462240", "title": "How to have a map with different types of values?", "body": "<p>You can use a union and a \"type tag\" (enum or string) indicating what the union actually holds. Let's suppose you want to hold strings, ints and floats:</p>\n\n<pre><code>union valU { float f; int i; char *s; };\nenum valE { fl, in, st };\nstruct variousT { valU val; valE type; };\n\nvoid print(variousT v)\n{\n   switch(v.type)\n   {\n      case fl: printf(\"%f\", v.val.f); break;\n      case in:  printf(\"%d\", v.val.i); break;      \n      case st:  printf(\"%s\", v.val.s); break;\n   }\n}\n</code></pre>\n\n<p>Of course <code>print</code> could be a member function, there should be overloaded setters in <code>variousT</code> which set the tag together with the value etc. But this is the raw mechanism.</p>\n"}, {"comments": [{"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "edited": false, "score": 1, "creation_date": 1459981415, "post_id": 36463216, "comment_id": 60538650, "body": "I think you need to call placement new/placement delete on the string in the constructor/destructor as this is not done automatically for union members"}, {"owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "reply_to_user": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "edited": false, "score": 0, "creation_date": 1459982922, "post_id": 36463216, "comment_id": 60539134, "body": "@galinette Yes, you were right, thanks. I fixed it. Double-checked it with <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">valgrind</a>"}], "tags": [], "owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "is_accepted": false, "score": 0, "last_activity_date": 1459982880, "last_edit_date": 1459982880, "creation_date": 1459980534, "answer_id": 36463216, "question_id": 36461976, "link": "https://stackoverflow.com/questions/36461976/how-to-have-a-map-with-different-types-of-values/36463216#36463216", "title": "How to have a map with different types of values?", "body": "<p>You can implement your own '<code>any</code>' type (using a nested <code>union</code> in a <code>struct</code>) and store that as a value in your map. However, non-primitive type like <code>std::string</code> are a little tricky here.</p>\n\n<p>Here is some rudimentary example:</p>\n\n<pre><code>#include &lt;sstream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;map&gt;\n\nstruct any {\n    enum any_type:char { string_t = 0, int_t = 1 };\n    any(){\n    }\n    any(const any&amp; a) {\n        this-&gt;type = a.type;\n        switch (this-&gt;type) {\n            case any_type::string_t: new(&amp;(this-&gt;str)) std::string(a.str); break;\n            case any_type::int_t   : this-&gt;i = a.i; break;\n            /* more types */\n        }\n    }\n    ~any(){\n        switch (this-&gt;type) {\n            case any_type::string_t: { if (str.size()) { str.std::string::~string(); } } break;  \n            /* more types */\n            default: ;\n        }\n    }\n    std::string descr() const {\n        switch (this-&gt;type) {\n            case any_type::string_t: { std::stringstream s; s &lt;&lt; \"string : \" &lt;&lt; str; return s.str(); }  \n            case any_type::int_t   : { std::stringstream s; s &lt;&lt; \"int    : \" &lt;&lt; i; return s.str(); }\n            /* more types */\n        }\n    }\n    any_type type;\n    union {\n        std::string str;\n        int i;\n        /* more types */\n    };\n};\nusing any_t = any::any_type;\n\nint main() {\n    std::map&lt;std::string,any&gt; m;\n    any a;\n    a.type = any_t::string_t;\n    new(&amp;(a.str)) std::string(\"aaa\");\n    //a.str = std::string{\"aaa\"};\n    m.insert({\"a\",a});\n\n    any b;\n    b.type = any_t::int_t;\n    b.i = 5;\n    m.insert({\"b\",b});\n\n    for(auto&amp; a : m) {\n        std::cout &lt;&lt; a.second.descr() &lt;&lt; \"\\n\";\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1459982174, "accepted_answer_id": 36462206, "answer_count": 3, "score": 0, "last_activity_date": 1459982880, "creation_date": 1459975510, "last_edit_date": 1459975851, "question_id": 36461976, "link": "https://stackoverflow.com/questions/36461976/how-to-have-a-map-with-different-types-of-values", "closed_reason": "Needs details or clarity", "title": "How to have a map with different types of values?", "body": "<p>I need a map that has int as a key and value which can be various types of objects</p>\n\n<pre><code>std::map&lt;int, differenttypes*&gt; mapping;\n</code></pre>\n\n<p>and extract that objects like:</p>\n\n<pre><code> dialog* newDialog = mapping[let]; //let is some int\n</code></pre>\n\n<p>insert that value like:</p>\n\n<pre><code> mapping[let] = newDialog2;\n</code></pre>\n\n<p>How would i do this with a map? For example differenttypes to take string, int etc.\nMaybe using boost::variant?</p>\n"}, {"tags": ["c++", "qt", "crash", "qml", "versioning"], "comments": [{"owner": {"reputation": 21247, "user_id": 904422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/55cf313c546e7c5aa1aeefae0e772c53?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/904422/mitch"}, "edited": false, "score": 0, "creation_date": 1460016983, "post_id": 36461965, "comment_id": 60551574, "body": "You&#39;ll need to provide a runnable example. There&#39;s not enough to go on here."}, {"owner": {"reputation": 922, "user_id": 2358659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2507b387674450082f63930a449d19ae?s=128&d=identicon&r=PG", "display_name": "Ma\u017evydas Tadaravi\u010dius", "link": "https://stackoverflow.com/users/2358659/ma%c5%bevydas-tadaravi%c4%8dius"}, "edited": false, "score": 1, "creation_date": 1460037555, "post_id": 36461965, "comment_id": 60566933, "body": "From personal experience, seg faults appear when one tries to access an object in C++ when object is already destroyed or when object is not yet created. Are You sure that model is created and populated before it is accessed from QML? As far as I understand, QML engine is async to Your C++ code, so what might happen is that QML context is created prior model is created and populated with data for QML to access it.  It&#39;s quite difficult to give You a better answer as You don&#39;t show how and when You create Your model."}, {"owner": {"reputation": 366, "user_id": 2868433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49cbbec4eb7b388a125af62e5e17b09c?s=128&d=identicon&r=PG&f=1", "display_name": "kch_PE_MSEE_BSCE", "link": "https://stackoverflow.com/users/2868433/kch-pe-msee-bsce"}, "edited": false, "score": 0, "creation_date": 1463418481, "post_id": 36461965, "comment_id": 62045654, "body": "It seems odd that the segfault occurs without the try-catch, and that the catch never executes when try-catch is added."}, {"owner": {"reputation": 366, "user_id": 2868433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49cbbec4eb7b388a125af62e5e17b09c?s=128&d=identicon&r=PG&f=1", "display_name": "kch_PE_MSEE_BSCE", "link": "https://stackoverflow.com/users/2868433/kch-pe-msee-bsce"}, "edited": false, "score": 0, "creation_date": 1463418968, "post_id": 36461965, "comment_id": 62045913, "body": "Edit timed out....Odd that segfault occurs sans try-catch, but catch never executes with try-catch.  Adding a try would not delay the Qt execution by much, if any.  Also the fact that the error is consistent in 5.4, 5.5, and 5.6 while running with no errors in 5.3 would indicate a difference between 5.3 and 5.4. ==&gt;Try adding an intentional delay in your C++ model code prior to building the model and see if it causes any difference in behavior.  If so, the async looks like the culprit, but does not explain why addition of try-catch under 5.4--5.6 fixes the issue without catch firing."}], "owner": {"reputation": 11, "user_id": 6168882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7629309bda5b60a4ab7bc9405e2eb7c2?s=128&d=identicon&r=PG&f=1", "display_name": "kch", "link": "https://stackoverflow.com/users/6168882/kch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1459975449, "creation_date": 1459975449, "question_id": 36461965, "link": "https://stackoverflow.com/questions/36461965/qt-qml-list-delegate-runs-on-5-3-crashes-on-startup-in-5-4", "title": "qt/qml list delegate runs on 5.3, crashes on startup in 5.4+", "body": "<p>My app with combined C++ and QML lists, has the model implemented in C++, derived from QAbstractListModel, and delegate in QML.</p>\n\n<p>The model has three items stored as QString.</p>\n\n<p>When displaying the list, the delegate has a property <em>numItems</em> initialized from model data as shown:</p>\n\n<pre><code>property int numItems:\n  {\n  var tally = 0;\n  model.item1.length &gt; 0 ? tally++ : \"\";\n  model.item2.length &gt; 0 ? tally++ : \"\";\n  model.item3.length &gt; 0 ? tally++ : \"\";\n  return tally;\n  }\n</code></pre>\n\n<p>In Qt5.3, everything runs fine, regardless of whether there is data in the model or not.</p>\n\n<p>In Qt5.4, Qt5.5, and Qt5.6, however, and with zero code changes, I get a segfault/ signal 11:</p>\n\n<blockquote>\n  <p>Error Signal Handler: 11\n  [bt] Execution path at Wed Apr  6, 2016  2:04:00 PM:\n  UI/Build/app_x86/debug/(_Z18stiBackTraceToFilei+0x3e)[0x8a29e9]\n  UI/Build/app_x86/debug/(_Z12stiBackTracev+0x1a)[0x8a29a8]\n  UI/Build/app_x86/debug/(_Z21stiErrorSignalHandleriP9siginfo_tPv+0x14b[0x8a3e73]\n  /lib/x86_64-linux-gnu/libpthread.so.0(+0x10d10)[0x7fd23e7d1d10]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0xfafb5)[0x7fd23f54afb5]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(_ZN3QV42IR9Optimizer3runEP17QQmlEnginePrivatebb+0x1c2d)[0x7fd23f55070d]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(_ZN3QV43JIT20InstructionSelection3runEi+0x91)[0x7fd23f5a0cf1]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(_ZN3QV424EvalInstructionSelection7compileEb+0x37)[0x7fd23f52bf37]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x11cfac)[0x7fd23f56cfac]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x2698de)[0x7fd23f6b98de]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26add8)[0x7fd23f6badd8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(_ZN12QQmlDataBlob7tryDoneEv+0x44)[0x7fd23f6b9394]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269ca1)[0x7fd23f6b9ca1]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269f91)[0x7fd23f6b9f91]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26bff8)[0x7fd23f6bbff8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x273da4)[0x7fd23f6c3da4]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26c8ca)[0x7fd23f6bc8ca]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26dfd1)[0x7fd23f6bdfd1]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26e7a8)[0x7fd23f6be7a8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269d59)[0x7fd23f6b9d59]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269f91)[0x7fd23f6b9f91]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26bff8)[0x7fd23f6bbff8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x273da4)[0x7fd23f6c3da4]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26c8ca)[0x7fd23f6bc8ca]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26dfd1)[0x7fd23f6bdfd1]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26e7a8)[0x7fd23f6be7a8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269d59)[0x7fd23f6b9d59]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x269f91)[0x7fd23f6b9f91]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26bff8)[0x7fd23f6bbff8]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x273da4)[0x7fd23f6c3da4]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26c8ca)[0x7fd23f6bc8ca]\n  /usr/share/qt5/install/lib/libQt5Qml.so.5(+0x26dfd1)[0x7fd23f6bdfd1]</p>\n  \n  <p>[3]+  Segmentation fault      (core dumped)</p>\n</blockquote>\n\n<p>I have found that if I surround the <em>model.item</em> block of code with a try...catch I can get it to not crash, but the <em>console.error()</em> call in the catch never shows up on the output.</p>\n\n<pre><code>property int numItems:\n  {\n  var tally = 0;\n  try\n    {\n    model.item1.length &gt; 0 ? tally++ : \"\";\n    model.item2.length &gt; 0 ? tally++ : \"\";\n    model.item3.length &gt; 0 ? tally++ : \"\";\n    }\n  catch(err)\n    {\n    console.error(\"Exception in tally calculation: \" + err)\n    }\n  return tally;\n  }\n</code></pre>\n\n<p>This feels like a bandaid rather than a real solution.  I need to know if I am missing something more fundamental.  Has something changed in the initialization of code starting with Qt5.4?</p>\n\n<p>As you can see from the crash dump, it occurs deep inside of QT/QML libraries.  If I set a breakpoint in my code the crash does not happen, making it look more like a race-condition than a fundamental code issue.</p>\n\n<p>What is going on here?</p>\n"}, {"tags": ["c++", "multithreading", "visual-studio", "qt", "sdl-2"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1459978878, "post_id": 36461955, "comment_id": 60537646, "body": "How do you launch the application from the game? Is it in the same process?"}, {"owner": {"reputation": 1, "user_id": 6132203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qY4iR.jpg?s=128&g=1", "display_name": "Ariel", "link": "https://stackoverflow.com/users/6132203/ariel"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1459979129, "post_id": 36461955, "comment_id": 60537753, "body": "Yes, I am calling the main() function of the application from within the game"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1459987338, "post_id": 36461955, "comment_id": 60540431, "body": "The game itself uses Qt, then, and somehow both try to use the same copy of Qt. Don&#39;t do that. If a <code>QApplication</code> exists, you don&#39;t want to create a new one; use the existing one via <code>qApp</code>. Another common problem I see is that of passing invalid arguments to <code>main</code>."}], "owner": {"reputation": 1, "user_id": 6132203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qY4iR.jpg?s=128&g=1", "display_name": "Ariel", "link": "https://stackoverflow.com/users/6132203/ariel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1459975400, "creation_date": 1459975400, "question_id": 36461955, "link": "https://stackoverflow.com/questions/36461955/default-scheduler-exists-how-to-use-a-multithreaded-qt-app-in-another-project", "title": "Default Scheduler Exists - how to use a multithreaded Qt app in another project?", "body": "<p>I am working on a VS2015 solution that integrates 2 stand-alone projects - an SDL2 game, and a Qt4 Application. At a certain point in the SDL game, I want the Qt application to launch, do it's job, and close, giving control back to the game.</p>\n\n<p>I am able to run the Qt application from the game; however, on closing it throws a default_scheduler_exists() error. Another error that comes up is \"ASSERT failure in QCoreApplicaton; \"there should be only one application object.\" \"</p>\n\n<p>How do I fix this? I tried running the game and app on seperate threads, but that did not solve the problem.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "c++"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 4, "creation_date": 1459974703, "post_id": 36461696, "comment_id": 60535296, "body": "You&#39;re looking for lambda expressions."}, {"owner": {"reputation": 2753, "user_id": 1565503, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/31a226a3b8534e9206d91ac10ae22d3b?s=128&d=identicon&r=PG", "display_name": "Benoit Vanalderweireldt", "link": "https://stackoverflow.com/users/1565503/benoit-vanalderweireldt"}, "edited": false, "score": 0, "creation_date": 1459974949, "post_id": 36461696, "comment_id": 60535434, "body": "Have a look at : <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 1, "creation_date": 1459977313, "post_id": 36461696, "comment_id": 60536883, "body": "@SilenceTemplar Please don&#39;t tag as both <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> <i>and</i> <a href=\"https://stackoverflow.com/questions/tagged/c%2b%2b\">c++</a>. I suspect you mean the latter only, but I can&#39;t be sure."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "edited": false, "score": 0, "creation_date": 1459975727, "post_id": 36461868, "comment_id": 60535894, "body": "Thanks, but can you explain the [&amp;](Element&amp; element) part?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "edited": false, "score": 1, "creation_date": 1459977255, "post_id": 36461868, "comment_id": 60536854, "body": "It is a <i>lambda</i> with capture (for the <code>i</code>)."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 2, "last_activity_date": 1459975088, "creation_date": 1459975088, "answer_id": 36461868, "question_id": 36461696, "link": "https://stackoverflow.com/questions/36461696/is-there-a-possibility-to-make-function-working-like-a-for-loop/36461868#36461868", "title": "Is there a possibility to make function working like a for loop?", "body": "<p>In c++, you may do</p>\n\n<pre><code>template &lt;typename F&gt;\nvoid makeElementAction(Element&amp; element, F f){\n   for (auto* pointer = &amp;element; pointer != nullptr; pointer = pointer-&gt;next) {\n       f(*pointer);\n   }\n}\n</code></pre>\n\n<p>With a call like</p>\n\n<pre><code>makeElementAction(root, [&amp;](Element&amp; element) { element.actionA(i); });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "edited": false, "score": 0, "creation_date": 1459975446, "post_id": 36461876, "comment_id": 60535731, "body": "Can you write an example of Element class that uses it,please?"}, {"owner": {"reputation": 9213, "user_id": 1802512, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4a7b3635dc3e513cffd8645df0890f?s=128&d=identicon&r=PG", "display_name": "hoaz", "link": "https://stackoverflow.com/users/1802512/hoaz"}, "reply_to_user": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "edited": false, "score": 0, "creation_date": 1459975916, "post_id": 36461876, "comment_id": 60536033, "body": "Sure, I skipped ElementIterator#remove implementation, it is irrelevant in this example"}], "tags": [], "owner": {"reputation": 9213, "user_id": 1802512, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4a7b3635dc3e513cffd8645df0890f?s=128&d=identicon&r=PG", "display_name": "hoaz", "link": "https://stackoverflow.com/users/1802512/hoaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1459975878, "last_edit_date": 1459975878, "creation_date": 1459975107, "answer_id": 36461876, "question_id": 36461696, "link": "https://stackoverflow.com/questions/36461696/is-there-a-possibility-to-make-function-working-like-a-for-loop/36461876#36461876", "title": "Is there a possibility to make function working like a for loop?", "body": "<p>In Java you can implement interface <code>Iterable</code>, which allows you to iterate  \"iterable\" structures using <code>for</code> loop:</p>\n\n<pre><code>Element start = ...;\nfor (Element current : start) {\n   // do something with current element\n}\n\nclass Element implements Iterable&lt;Element&gt; {\n    ...\n\n    public Iterator&lt;Element&gt; iterator() {\n        return new ElementIterator(this);\n    }\n}\n\nclass ElementIterator implements Iterator&lt;Element&gt; {\n    private Element current;\n\n    ElementIterator(Element start) {\n        this.current = start;\n    }\n\n    public boolean hasNext() {\n        return current != null;\n    }\n\n    public Element next() {\n        Element result = current;\n        current = current.next;\n        return result;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "is_accepted": false, "score": 0, "last_activity_date": 1459983304, "creation_date": 1459983304, "answer_id": 36463731, "question_id": 36461696, "link": "https://stackoverflow.com/questions/36461696/is-there-a-possibility-to-make-function-working-like-a-for-loop/36463731#36463731", "title": "Is there a possibility to make function working like a for loop?", "body": "<p>I've found an interesting structre.\nIt solves the problem also.</p>\n\n<p>Loop looks that:</p>\n\n<pre><code>public static void loop(Element start, Element end, T t){\n         for (Element pointer = start; pointer != end; pointer = pointer.next) {\n              t.run(pointer);\n          }\n}\ninterface T{\n    void run(Element pointer);\n }\n</code></pre>\n\n<p>And new methods look like that</p>\n\n<pre><code>void makeActionA(int i){\n     loop(s,e,(pointer)-&gt; pointer.actionA(i) );\n }\n\nvoid makeActionBC(int i,int j){\n     loop(s,e,(pointer)-&gt;{pointer.actionB(i,j); pointer.actionC(i,j,i*j);} );\n }\n</code></pre>\n\n<p>Links: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html</a>\n     : <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html\" rel=\"nofollow\">http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html</a></p>\n"}], "owner": {"reputation": 31, "user_id": 4967084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa77a18986f7262d94fd9f68cb8146ea?s=128&d=identicon&r=PG&f=1", "display_name": "Silence Templar", "link": "https://stackoverflow.com/users/4967084/silence-templar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 36461876, "answer_count": 3, "score": 1, "last_activity_date": 1459983304, "creation_date": 1459974505, "question_id": 36461696, "link": "https://stackoverflow.com/questions/36461696/is-there-a-possibility-to-make-function-working-like-a-for-loop", "title": "Is there a possibility to make function working like a for loop?", "body": "<p>I was wondering if there is any way to write a custom method working as a \"for\" loop.\nBecause of very unusual iteration throught objects (well, not as usual as typical iteration) I' am forced to rewrite it every time I want to use it.</p>\n\n<p>Sorry for my English and very unclear explaination, I'm not a very communicative person, but I think that sample below will explain my problem correctly.\nThe code below is not a real code, but just a scheme. Pointers and references can be used wrong but what I mean is to show my conception.</p>\n\n<pre><code> class Element{\n          Element *next;       // Pointer to the next object\n          Element *previous;   // Pointer to the previous object\n          // There are also some primitives (int, double etc.) there.\n\n          void actionA(int a){ /* sth happpens to the primitives and may affect *next and *previous */ } \n          void actionB(int b,int c){ /* just like above */ }\n          // ............. and even more methods \n\n    }\n\n\n\n\nvoid makeActionA(int i){\n       Element pointer=start.next;\n       while(pointer!=end){\n            Element tmp=pointer.next;\n            pointer.actionA(i);          //X\n            pointer=tmp;\n        }\n    }\n\nvoid makeActionBC(int i,int j){\n       Element pointer=start.next;\n       while(pointer!=end){\n            Element tmp=pointer.next;\n            pointer.actionB(i,j);            //X\n            pointer.actionC(i,j,i*j);        //X\n            pointer=tmp;\n        }\n    }\n    // AND SO ON\n</code></pre>\n\n<p>We can see that structers of makeAction methods are nearly the same except the lines marked with \"X\".\nI want to make it shorter without stupid repeating like it is in a \"for\" loop.</p>\n\n<pre><code>   void custom_loop(Element pointer,Element start, Element end){ \n            pointer=start.next;\n            while(pointer!=end){\n                Element tmp=pointer.next;\n                {\n                        // Magical function that read the code between the brackets in code.\n                }\n                pointer=tmp;\n\n            }\n    }\n</code></pre>\n\n<p>And replace makeAction methods with more simple ones using the custom_loop</p>\n\n<pre><code>    void makeActionA(int i){\n          Element t,s,e;\n          custom_loop(t;s;e){\n               t.actionA(i); \n          }\n    }\n\n    void makeActionBC(int i,int j){\n          Element t,s,e;\n          custom_loop(t;s;e){\n               t.actionB(i,j);\n               t.actionC(i,j,i*j); \n          }\n    }\n</code></pre>\n\n<p>The only solution which comes to my mind are some magical tricks with metaprograming and macros.\nI'm not really into them, but they won't scare me off. \nI'm looking forward to the solution. \nMany thanks.\nAnd sorry for my English again.</p>\n"}, {"tags": ["c++", "constructor", "class-template"], "comments": [{"owner": {"reputation": 103, "user_id": 5458803, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/24782c80bd7c35689806b1bd5ec4b61f?s=128&d=identicon&r=PG&f=1", "display_name": "hcoder", "link": "https://stackoverflow.com/users/5458803/hcoder"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459974919, "post_id": 36461632, "comment_id": 60535418, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 The error arises in the + operator function.Passing integer values resulting in error as single argument constructor is not invoked. I need to know how to use C2=3+C1 while using class template. thank you"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1459975384, "post_id": 36461632, "comment_id": 60535703, "body": "Your code is badly flawed from the bone. Stop using raw pointers and <code>new</code> for starters."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1459983756, "post_id": 36461632, "comment_id": 60539397, "body": "You should delete most of this code and start again from <code>T real,imag;</code> . It will save a lot of time in the long run."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459976481, "post_id": 36462014, "comment_id": 60536385, "body": "So we will finally have string_view standartized? I didn&#39;t know!"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1459980556, "post_id": 36462014, "comment_id": 60538305, "body": "@SergeyA It&#39;s part of fundamentals V1 that has been merged into C++17."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1459975632, "creation_date": 1459975632, "answer_id": 36462014, "question_id": 36461632, "link": "https://stackoverflow.com/questions/36461632/how-to-invoke-single-argument-constructor-in-this-program-involving-class-templa/36462014#36462014", "title": "How to invoke Single argument constructor in this program involving class template?", "body": "<p>With something like</p>\n\n<pre><code>template&lt;class R&gt;\nComplex&lt;R&gt; operator +(Complex&lt;R&gt;, Complex&lt;R&gt;);\n</code></pre>\n\n<p>The type <code>R</code> is deduced independently from each function argument; both deduction must succeed and the deduced type must match for this to be usable. Since 3 is not a <code>Complex</code>, deduction fails and the overload is not considered.</p>\n\n<p>There are two ways to solve this. One is to use a non-template friend:</p>\n\n<pre><code>template&lt;class T&gt;\nclass Complex {\n   // ...\n   friend Complex operator+(Complex a, Complex b) {\n      // ...\n   }\n};\n</code></pre>\n\n<p>This instantiates into a non-template friend function, which is happy to consider implicit conversions.</p>\n\n<p>The other approach is to supply additional overloads that deduce only from one argument:</p>\n\n<pre><code>template&lt;class T&gt; struct identity { using type = T; };\ntemplate&lt;class T&gt; using nondeduced_t = typename identity&lt;T&gt;::type;\n\ntemplate&lt;class R&gt;\nComplex&lt;R&gt; operator +(nondeduced_t&lt;Complex&lt;R&gt;&gt;, Complex&lt;R&gt;) { /* ... */ }\n\ntemplate&lt;class R&gt;\nComplex&lt;R&gt; operator +(Complex&lt;R&gt;, nondeduced_t&lt;Complex&lt;R&gt;&gt;) { /* ... */ }\n</code></pre>\n\n<p>This is the approach taken by <code>std::basic_string_view</code>.</p>\n\n<hr>\n\n<p>By the way, the implementation you have is badly broken. It leaks memory like there's no tomorrow - and there's no reason to dynamically allocate the <code>T</code>s in the first place.</p>\n"}], "owner": {"reputation": 103, "user_id": 5458803, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/24782c80bd7c35689806b1bd5ec4b61f?s=128&d=identicon&r=PG&f=1", "display_name": "hcoder", "link": "https://stackoverflow.com/users/5458803/hcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1459975632, "creation_date": 1459974322, "question_id": 36461632, "link": "https://stackoverflow.com/questions/36461632/how-to-invoke-single-argument-constructor-in-this-program-involving-class-templa", "title": "How to invoke Single argument constructor in this program involving class template?", "body": "<p>This is the code I wrote to get started with class templates.</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\ntemplate&lt;class T&gt;\nclass Complex\n{\nT *real,*imag;\npublic:\n    Complex(T a)\n    {\n    real=new T;\n    imag=new T;\n        *real=a;\n        *imag=0;\n    }\n    Complex(T a,T b)\n    {\n    real=new T;\n    imag=new T;\n        *real=a;\n        *imag=b;\n    }\n    Complex()\n    {\n    real=new T;\n    imag=new T;\n        *real=0;\n        *imag=0;\n    }   \ntemplate&lt;class R&gt;       \nfriend ostream&amp; operator&lt;&lt;(ostream &amp;out,Complex&lt;R&gt; &amp;C);\ntemplate&lt;class R&gt;\nfriend istream&amp; operator&gt;&gt;(istream &amp;in,Complex&lt;R&gt; &amp;C);\ntemplate&lt;class R&gt;\nfriend Complex&lt;R&gt; operator +(Complex&lt;R&gt; a,Complex&lt;R&gt; b);    \n};\ntemplate&lt;class R&gt;\nostream&amp; operator&lt;&lt;(ostream &amp;out,Complex&lt;R&gt; &amp;C)\n    {\n    out&lt;&lt;\"The number is \"&lt;&lt;*C.real&lt;&lt;\"+\"&lt;&lt;*C.imag&lt;&lt;\"i\"&lt;&lt;endl;\n    return out; \n    }\ntemplate&lt;class R&gt;       \nistream&amp; operator&gt;&gt;(istream &amp;in,Complex&lt;R&gt; &amp;C)\n    {\n    cout&lt;&lt;\"Enter the number \";\n    in&gt;&gt;*C.real&gt;&gt;*C.imag;\n    return in;  \n    }\ntemplate&lt;class R&gt;       \nComplex&lt;R&gt; operator +(Complex&lt;R&gt; a,Complex&lt;R&gt; b)\n{\nComplex&lt;R&gt; temp;\n*temp.real=*a.real+*b.real;\n*temp.imag=*a.imag+*b.imag;\nreturn temp;    \n}       \nint main()\n{\nComplex&lt;float&gt; C1,C2(4.2,6.8),C3,C4;\nC1=5;\nC3=3+C1;\nC4=C2+C3;\ncout&lt;&lt;C1;\ncout&lt;&lt;C2;\ncout&lt;&lt;C3;\ncout&lt;&lt;C4;\n}\n</code></pre>\n\n<p>This code everything works fine except when I try to use an integer value like '3+C2' it shows error. If the same code is considered without using templates for '3+C2' invokes the friend function operator+(Complex a,Complex b) and 3 being copied to object a which invokes single argument constructor and 3 will be assigned to the real part of the Complex class. How to make the same happen when class templates are used? How to invoke the single argument constructor when a number is passed to operator+() function instead of Complex object when class templates are used?</p>\n"}, {"tags": ["c++", "class", "operator-overloading", "friend"], "comments": [{"owner": {"reputation": 334, "user_id": 2917054, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cJbljGKhoO0/AAAAAAAAAAI/AAAAAAAAAUg/emgxYVRChF4/photo.jpg?sz=128", "display_name": "Henry Jooste", "link": "https://stackoverflow.com/users/2917054/henry-jooste"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1459974688, "post_id": 36461618, "comment_id": 60535288, "body": "Awesome thanks for the help. Can you please post it as an answer so I can accept it!"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 1, "creation_date": 1459974818, "post_id": 36461618, "comment_id": 60535363, "body": "This should give you some additional explanations: <a href=\"http://stackoverflow.com/questions/236801/should-operator-be-implemented-as-a-friend-or-as-a-member-function\" title=\"should operator be implemented as a friend or as a member function\">stackoverflow.com/questions/236801/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 2917054, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cJbljGKhoO0/AAAAAAAAAAI/AAAAAAAAAUg/emgxYVRChF4/photo.jpg?sz=128", "display_name": "Henry Jooste", "link": "https://stackoverflow.com/users/2917054/henry-jooste"}, "edited": false, "score": 0, "creation_date": 1459974854, "post_id": 36461774, "comment_id": 60535384, "body": "Thanks for the help. It compiles now, but I&#39;m getting this error message now: \u2018friend\u2019 used outside of class"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "reply_to_user": {"reputation": 334, "user_id": 2917054, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cJbljGKhoO0/AAAAAAAAAAI/AAAAAAAAAUg/emgxYVRChF4/photo.jpg?sz=128", "display_name": "Henry Jooste", "link": "https://stackoverflow.com/users/2917054/henry-jooste"}, "edited": false, "score": 0, "creation_date": 1459975360, "post_id": 36461774, "comment_id": 60535687, "body": "@Henry See the edit."}, {"owner": {"reputation": 334, "user_id": 2917054, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cJbljGKhoO0/AAAAAAAAAAI/AAAAAAAAAUg/emgxYVRChF4/photo.jpg?sz=128", "display_name": "Henry Jooste", "link": "https://stackoverflow.com/users/2917054/henry-jooste"}, "edited": false, "score": 1, "creation_date": 1459975495, "post_id": 36461774, "comment_id": 60535764, "body": "Thanks it&#39;s working now!"}], "tags": [], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "is_accepted": true, "score": 1, "last_activity_date": 1459975048, "last_edit_date": 1459975048, "creation_date": 1459974773, "answer_id": 36461774, "question_id": 36461618, "link": "https://stackoverflow.com/questions/36461618/overload-stream-insertion-and-extraction-operator/36461774#36461774", "title": "Overload stream insertion and extraction operator", "body": "<p>The signatures are wrong. You're using friend, because you want to declare/define non-member functions. Drop the <code>Enterpreneur::</code> and the problem is solved.</p>\n\n<p>The class' definition should look something like:</p>\n\n<pre><code>class Enterpreneur\n{\npublic:\n    ...\n\n    friend istream&amp; operator&gt;&gt; (istream &amp;input, Entrepreneur &amp;entrepreneur);\n    friend ostream&amp; operator&lt;&lt; (ostream &amp;output, Entrepreneur const&amp; entrepreneur);\n    //                                                        ^^^^^\n    //                                    we're not modifying the argument, are we?\n};\n</code></pre>\n\n<p>and then just define those operators as any other non-member function (no <code>friend</code> keyword), or define them inline with the class.</p>\n"}], "owner": {"reputation": 334, "user_id": 2917054, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cJbljGKhoO0/AAAAAAAAAAI/AAAAAAAAAUg/emgxYVRChF4/photo.jpg?sz=128", "display_name": "Henry Jooste", "link": "https://stackoverflow.com/users/2917054/henry-jooste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "closed_date": 1460000298, "accepted_answer_id": 36461774, "answer_count": 1, "score": 0, "last_activity_date": 1459975748, "creation_date": 1459974293, "last_edit_date": 1459975748, "question_id": 36461618, "link": "https://stackoverflow.com/questions/36461618/overload-stream-insertion-and-extraction-operator", "closed_reason": "Not suitable for this site", "title": "Overload stream insertion and extraction operator", "body": "<p>I'm trying to overload both the stream insertion and extraction operator for my <code>Entrepreneur</code> class.</p>\n\n<p><strong>I've got the following in my Entrepreneur class:</strong></p>\n\n<pre><code>friend istream&amp; Entrepreneur::operator&gt;&gt; (istream &amp;input, Entrepreneur &amp;entrepreneur) {\n    cout &lt;&lt; \"Please enter the item to be sold: \";\n    input &gt;&gt; entrepreneur.Item;\n    cout &lt;&lt; \"\\nPlease enter the donation amount received: \";\n    input &gt;&gt; entrepreneur.Donation;\n    cout &lt;&lt; \"\\nPlease enter the amount of members in the group: \";\n    input &gt;&gt; entrepreneur.Nr;\n    cout &lt;&lt; \"\\nPlease enter the startup amount received: \";\n    input &gt;&gt; entrepreneur.StartupAmt;\n    cout &lt;&lt; endl;\n    return input;\n}\n\nfriend ostream&amp; Entrepreneur::operator&lt;&lt; (ostream &amp;output, Entrepreneur &amp;entrepreneur) {\n    output &lt;&lt; \"Item: \" &lt;&lt; entrepreneur.Item &lt;&lt; endl;\n    output &lt;&lt; \"Members in group: \" &lt;&lt; entrepreneur.Nr &lt;&lt; endl;\n    output &lt;&lt; \"Startup amount: \" &lt;&lt; entrepreneur.StartupAmt &lt;&lt; endl;\n    output &lt;&lt; \"Donation amount: \" &lt;&lt; entrepreneur.Donation &lt;&lt; endl;\n    output &lt;&lt; \"Expenses: \" &lt;&lt; entrepreneur.Expenses &lt;&lt; endl;\n    output &lt;&lt; \"Points earned: \" &lt;&lt; entrepreneur.Points &lt;&lt; endl;\n    output &lt;&lt; \"All items sold: \" &lt;&lt; entrepreneur.Sold ? \"Yes\" : \"No\" &lt;&lt; endl;\n    return output;\n}\n</code></pre>\n\n<p><strong>In my main.cpp file, I'm trying the following code:</strong></p>\n\n<pre><code>int main() {\n    Entrepreneur Group3;\n    cin &gt;&gt; Group3;\n}\n</code></pre>\n\n<p><strong>The code is unable to compile. I'm getting the following error message:</strong></p>\n\n<blockquote>\n  <p>Binary Operator '>>' can't be applied to the expression of type 'istream' and 'Entrepreneur'</p>\n</blockquote>\n\n<p>Can you guys please help me to figure out what is wrong with the above code?</p>\n"}, {"tags": ["c++", "wxwidgets"], "comments": [{"owner": {"reputation": 15008, "user_id": 16582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/febff21383acf755f8b375c322e36f2b?s=128&d=identicon&r=PG", "display_name": "ravenspoint", "link": "https://stackoverflow.com/users/16582/ravenspoint"}, "edited": false, "score": 0, "creation_date": 1459989598, "post_id": 36461612, "comment_id": 60541003, "body": "As we have explained to you several times: this is the wrong approach."}, {"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "reply_to_user": {"reputation": 15008, "user_id": 16582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/febff21383acf755f8b375c322e36f2b?s=128&d=identicon&r=PG", "display_name": "ravenspoint", "link": "https://stackoverflow.com/users/16582/ravenspoint"}, "edited": false, "score": 0, "creation_date": 1459991439, "post_id": 36461612, "comment_id": 60541450, "body": "@ravenspoint I am going of with different approach. It still would be nice to know how to use this wxpersistentclass for future reference. I guesss it was made in wxwidgets for some purpose to use it? I don&#39;t know why is there a negative vote on that. This is completely a separate question."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1460036296, "post_id": 36477642, "comment_id": 60565875, "body": "it doesn&#39;t save the full object just kind of part of it like position, size etc. not controls etc?"}, {"owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "reply_to_user": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "edited": false, "score": 0, "creation_date": 1460045988, "post_id": 36477642, "comment_id": 60573427, "body": "Yes, it only saves the selected object properties, it absolutely doesn&#39;t save the object in the sense of fully serializing it."}], "tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": true, "score": 0, "last_activity_date": 1460035653, "creation_date": 1460035653, "answer_id": 36477642, "question_id": 36461612, "link": "https://stackoverflow.com/questions/36461612/using-wxcreatepersistentobject-to-save-tabs-in-a-memory/36477642#36477642", "title": "Using wxCreatePersistentObject to save tabs in a memory", "body": "<p>It is really not clear what you're trying to do here. Persistent objects save their state in persistent storage (e.g. on disk) when they're destroyed and restore it when they're created again. A typical example is a top level window remembering its size and position between the program runs or a notebook remembering its last selected page. So if you want to save your <code>TabPanel</code> state in this way, you would define <code>PersistentTabPanel</code>, but unless <code>TabPanel</code> doesn't derive from <code>wxWindow</code>, you should inherit it from <code>wxPersistentWindow&lt;TabPanel&gt;</code> and not <code>wxPersistentObject</code> itself directly.</p>\n\n<p>As for the error in the ctor, calling <code>wxCreatePersistentObject()</code> in the ctor initializer list just doesn't make any sense from C++ point of view, you use the initializer list to initialize the base classes and members and this function is, of course, neither. As the documentation you link to states, you need to <em>define</em> this function taking <code>TabPanel*</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 6157661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156a317cc3e73cab77b8e2dd7609758e?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz W", "link": "https://stackoverflow.com/users/6157661/mateusz-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 36477642, "answer_count": 1, "score": -1, "last_activity_date": 1460035653, "creation_date": 1459974272, "question_id": 36461612, "link": "https://stackoverflow.com/questions/36461612/using-wxcreatepersistentobject-to-save-tabs-in-a-memory", "title": "Using wxCreatePersistentObject to save tabs in a memory", "body": "<p>I am working on saving tabs in memory using wxCreatePersistentObject, however I encountered some problems.</p>\n\n<p>Using <a href=\"http://docs.wxwidgets.org/trunk/overview_persistence.html#persistence_defining\" rel=\"nofollow\">http://docs.wxwidgets.org/trunk/overview_persistence.html#persistence_defining</a>\nI am going step by step to create this persistentclass. I want to save tabpanel, which is inherited from auiNotebook.</p>\n\n<pre><code>class myPersistentClass : public wxPersistentObject{\npublic:\n  myPersistentClass(TabPanel *panel);\n  wxString GetKind() const;\n  wxString GetName() const;\n  void Save() const;\n  bool Restore();\n  TabPanel * panel_;\n  wxPersistentObject * wxCreatePersistentObject (PropertyTabPanel *panel);\n};\n</code></pre>\n\n<p>here is my definition:</p>\n\n<pre><code>  myPersistentClass::myPersistentClass(TabPanel *panel):wxCreatePersistentObject(panel)  {\n  }\n\n  wxPersistentObject * wxCreatePersistentObject (TabPanel *panel){\n    return new myPersistentClass(panel);\n  }\n\n  wxString myPersistentClass::GetKind() const{\n    return \"PropertyTabPanel\";\n  }\n\n  wxString myPersistentClass::GetName() const{\n    return \"namesomething\";\n  }\n\n  void myPersistentClass::Save() const{\n    wxPersistentObject::SaveValue(\"something\", this);\n  }\n\n  bool myPersistentClass::Restore(){\n    return wxPersistentObject::RestoreValue(GetName(), this);\n  }\n</code></pre>\n\n<p>It gives ma a compiler error for the constructor. I am not sure what I am doing wrong. Also if someone could tell me if I am on the right track to creating this wxPersistentObject</p>\n"}, {"tags": ["c++", "wrapper", "variadic-templates"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1459977509, "post_id": 36461452, "comment_id": 60536989, "body": "&quot;Expand ...jsParamType... pack with calling a method for each jsParamType in order to create a wrapper class object instance for matching the corresponding argument out of args to prepare calling the C API function.&quot; I&#39;m not sure I follow. Can you post some pseudocode of what you wish this would look like, and what the result would be if the templates were expanded?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460009494, "post_id": 36461452, "comment_id": 60547032, "body": "Thank you. I have added some pseudo-code, ask if you need more clarification."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460037784, "post_id": 36461452, "comment_id": 60567146, "body": "The main problem I see is that, when you want to pass a parameter pack, that parameter pack also must appear as an argument to the function. In your scenario, the parameter pack does not appear in the function argument list, and therefore the compiler will ignore the pack."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460041705, "post_id": 36461452, "comment_id": 60570390, "body": "Indeed, there is no parameters pack, just template types pack to match against a &quot;regular&quot; collection, but I am sure it works to expand the variadic types pack only. I&#39;ve tried this and it works without having parameters pack in the function signature itself. I just need to find a way to expand using a function instead of this <code>bool isOut[numArgs] = { jsParamType::IsOut()... };</code>, this function matching the index too in a for each per index, probably."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460042761, "post_id": 36461452, "comment_id": 60571186, "body": "I&#39;ve forgot to say that <code>numArgs</code> is as follows: <code>const unsigned numArgs = sizeof...(jsParamType);</code>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460042854, "post_id": 36461452, "comment_id": 60571240, "body": "Yes, it works so long as the template arguments are explicit.   Your problem is interesting. I will read closer and attempt to write up an answer, but you can get started by looking into <code>std::tuple</code> for your heterogeneous container, and <code>type_traits</code> for turning types into indexes."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460440388, "post_id": 36461452, "comment_id": 60729153, "body": "I try to use std::tuple, but I fail passing a tuple to some function when I try to expand the arguments of the tuple. See here, compiled from other articles: <a href=\"http://ideone.com/NP1tuo\" rel=\"nofollow noreferrer\">ideone.com/NP1tuo</a>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460465303, "post_id": 36461452, "comment_id": 60746054, "body": "Are you trying to do something like <a href=\"http://coliru.stacked-crooked.com/a/4bd594c2fd2dfa3b\" rel=\"nofollow noreferrer\">this</a>?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460467919, "post_id": 36461452, "comment_id": 60748461, "body": "Actually not. I don&#39;t see the use in my case. I need more. That is just a test. The goal is to instantiate a new pack of variables based on the input arguments and specific types to unwrap them. That&#39;s why it seems to copy some variables from a vector to another collection. I need to call a function for each of the input arguments, which are wrappers, to extract their data, pass them to an C API function and wrap the result back (in order to return their values to the originating javascript)."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460468566, "post_id": 36461452, "comment_id": 60749030, "body": "I have a pack of argument types (wrappers of C types) to be matched against an array of elements of these types: <code>template &lt;typename... Args&gt;</code> &lt;-&gt; <code>vp[n]</code>, where <code>sizeof...(Args) &gt;= n</code>, to loop them knowing that v[0] is of type Args[0] ... v[n-1] is of type Args[n-1]  (well, throwing an exception if not, but this is out of the scope here). In other words, I need to declare <code>Args[Is] t()</code> inside of a function, then <code>t &lt;- v[Is].data</code> .So, if successfully extracts the vp wrappers&#39; data and to create another pack of arguments for the C API function to be called like (pseudo-sort-of) <code>cf(args...)</code>."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460468670, "post_id": 36461452, "comment_id": 60749123, "body": "Considering <a href=\"http://coliru.stacked-crooked.com/a/4bd594c2fd2dfa3b\" rel=\"nofollow noreferrer\">this</a>, my issue is that I need to pass the tuple to some function or from function to function."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460469871, "post_id": 36461452, "comment_id": 60750121, "body": "In my example, I guess the initialization is wrong."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460475341, "post_id": 36461452, "comment_id": 60754678, "body": "<a href=\"http://coliru.stacked-crooked.com/a/f81c1bedcf84d19f\" rel=\"nofollow noreferrer\">This</a> then?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460476260, "post_id": 36461452, "comment_id": 60755473, "body": "Thanks, I&#39;ve managed this using vector&lt;void*&gt; too. I&#39;ve tried to achieve the same by std::tuple, as you&#39;ve advised me. I think it is difficult to use std::tuple, or I don&#39;t understand it yet..."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460476702, "post_id": 36461452, "comment_id": 60755848, "body": "BTW, look here: <a href=\"http://ideone.com/Rihfre\" rel=\"nofollow noreferrer\">ideone.com/Rihfre</a>."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460481069, "post_id": 36461452, "comment_id": 60758710, "body": "<code>vector&lt;void*&gt;</code> to <code>vector&lt;void*&gt;</code> is fine; it sounds like what you&#39;re really looking for. If you want it to work with <code>std::tuple</code> for academic reasons, <a href=\"http://coliru.stacked-crooked.com/a/4ef7a8a49ed0162a\" rel=\"nofollow noreferrer\">it&#39;s not much different</a>"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460491122, "post_id": 36461452, "comment_id": 60764713, "body": "Wow, thanks, I have done it by passing all the tuples until the copy of the members, but is this memory leaking? I see <code>new</code>, but where is the <code>delete</code>?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460492541, "post_id": 36461452, "comment_id": 60765560, "body": "I didn&#39;t do any <code>delete</code>... left as an exercise to the reader ;-)"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460492949, "post_id": 36461452, "comment_id": 60765809, "body": "How do you expand a pack of contained types? If I have an inner type TT of T,  how could I write in a function having a pack <code>typename...T</code>, a declaration of tuple of types contained in <code>T...</code>, like tuple&lt;T::TT...&gt;?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460493416, "post_id": 36461452, "comment_id": 60766030, "body": "I see, it needs <code>typename</code> in front, i.e. <code>tuple&lt;typename T::TT...&gt;</code>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460557062, "post_id": 36461452, "comment_id": 60799364, "body": "Did the code I posted solve the problem? I think I was approaching an understanding of what you wanted: Given a array of <code>void*</code> and knowledge of the array size and the underlying types, transform the <code>void*</code> into another array of the underlying types, with those values copy-constructed from the <code>void*</code> ones. For each value in this second array, call some overloaded or templated function. Is that correct? It&#39;s still admittedly difficult to understand what your post is asking."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460561408, "post_id": 36461452, "comment_id": 60803174, "body": "First of all, you are the only that helped me with this issue. So I owe you a big deal of thanks. You are close. I have some wrapped params to pass to a function and wrap the results back. It doesn&#39;t matter the solution chosen between vector&lt;void*&gt; or tuple. I have chosen tuple as I don&#39;t like to use void* and tuple allows me to modify its elements as long as I created it with defaults passed to make_tuple. So far I get this transform of wrapped params to native C ones. Next, I need to pass them at once to a C function."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460562354, "post_id": 36461452, "comment_id": 60803897, "body": "As in, transform the elements of the tuple into a parameter list for the C function? Take a peek at my <a href=\"http://coliru.stacked-crooked.com/a/4bd594c2fd2dfa3b\" rel=\"nofollow noreferrer\">first example</a> to see an example of doing something like that. The gist of it is <code>myfunction(std::get&lt;Is&gt;(myTuple)...)</code> where <code>Is</code> is from an <code>index_sequence&lt;Is...&gt;</code>"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460578987, "post_id": 36461452, "comment_id": 60814376, "body": "Welll, works except for cases when mixed types of passing is present: <code>bool f(int i, O* o)</code>, because the tuple to be used is &lt;int, O&gt; because it is created from wrappers not aware how the members will be used, here a call would look like <code>f(i, &amp;o)</code>. I don&#39;t figure out how to do that."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460586234, "post_id": 36461452, "comment_id": 60817962, "body": "You&#39;re not making this very easy for me :-). How about <a href=\"http://coliru.stacked-crooked.com/a/d4a028f242faca37\" rel=\"nofollow noreferrer\">something like this</a>? It&#39;s pretty limited as written, and not the most efficient if you have anything other than primitive types or small easily copyable objects. We could probably iterate on it to make something better, but the gist is that we attempt to convert each type in the tuple to the next argument in the function&#39;s argument list."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460611472, "post_id": 36461452, "comment_id": 60825507, "body": "Actually C++ does the things difficult or we are not doing the right way."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460614999, "post_id": 36461452, "comment_id": 60826940, "body": "I feel I am here: <a href=\"http://thbecker.net/articles/rvalue_references/section_07.html\" rel=\"nofollow noreferrer\">thbecker.net/articles/rvalue_references/section_07.html</a>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460630099, "post_id": 36461452, "comment_id": 60836846, "body": "Can you show me an example where it didn&#39;t work? Also, perfect forwarding is about preserving reference qualifiers on a type, not converting the type to a desired one."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460630885, "post_id": 36461452, "comment_id": 60837402, "body": "Not yet, but I have opaque object instances provided by the C API in question."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460641225, "post_id": 36461452, "comment_id": 60845719, "body": "I did not try <b>yet</b> your solution. I have tried perfect forwarding as only <code>&amp;&amp;</code> replaced <code>&amp;</code> for tuples in functions calls and std::forward was used in two places. (I&#39;m lazy and a bit tired of weeks of trial and error, long compile times etc., but I will try your solution just to see how it performs on real cases) So far, using perfect forwarding works excepting enums, it <i>seems</i> it can&#39;t convert, it says, the tuple argument of type enum. Any ideas?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460648353, "post_id": 36461452, "comment_id": 60851647, "body": "Perfect forwarding will not convert types into pointers to types. The types need to already be in pointer form. For your enum case, I think it would help me if you showed a code example, preferably via modifying my existing one."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460654888, "post_id": 36461452, "comment_id": 60855555, "body": "By the way, I updated the code example. <a href=\"http://coliru.stacked-crooked.com/a/4e2436e6bf171283\" rel=\"nofollow noreferrer\">Here it is</a>"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460661134, "post_id": 36461452, "comment_id": 60859212, "body": "Super!, I&#39;ll test it now, but I need time to integrate it. I&#39;ll come back when I get results, thank you!"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460665917, "post_id": 36461452, "comment_id": 60862058, "body": "What about this: <code>template&lt;typename Ret, typename... ARGS, typename... TupArgs, size_t... Is&gt;     void call_func_helper(Ret(*f)(ARGS...), std::tuple&lt;TupArgs...&gt;&amp; tup, std::index_sequence&lt;Is...&gt;)     {         f(             convert_type&lt;typename ARGS, TupArgs&gt;(std::get&lt;Is&gt;(tup))             ...);     }</code> ?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460666018, "post_id": 36461452, "comment_id": 60862121, "body": "That, my friend, would take me to actually post a full answer to explain :-)Does it work? If so, I think I understand what all you needed, and can answer the question."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460666312, "post_id": 36461452, "comment_id": 60862278, "body": "I think it is something related to my compiler, VC++ 2015. It compiles under it. Not under Ideone.com. Which one is right??"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460666601, "post_id": 36461452, "comment_id": 60862444, "body": "Remove <code>typename</code> from <code>convert_type&lt;typename ARGS</code>, so <code>template&lt;typename Ret, typename... ARGS, typename... TupArgs, size_t... Is&gt;     void call_func_helper(Ret(*f)(ARGS...), std::tuple&lt;TupArgs...&gt;&amp; tup, std::index_sequence&lt;Is...&gt;)     {         f(             convert_type&lt;typename ARGS, typename TupArgs&gt;(std::get&lt;Is&gt;(tup))             ...);     }</code> is right. MSVC++ 2015 has seems to accept <code>typename</code> when it shouldn&#39;t..."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460666650, "post_id": 36461452, "comment_id": 60862478, "body": "My example compiles in both clang and gcc under the <code>-std=c++14</code> options. Either you are using VC++2015 but compiling under 2013, or there is probably a bug with Microsoft."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460667375, "post_id": 36461452, "comment_id": 60862868, "body": "Anyway, the issue here is that I need to extract the method parameters somehow, otherwise it is difficult to write all the stuff, meaning I pass the method type and the method reference using template parameters. Note, all the templates in my case have several type parameters that need to be passed, but not always possible to be deduced."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460730456, "post_id": 36461452, "comment_id": 60893030, "body": "I have adapted your code a bit more to be closer of what I need, here: <a href=\"http://ideone.com/nxUiku\" rel=\"nofollow noreferrer\">ideone.com/nxUiku</a>."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460751428, "post_id": 36461452, "comment_id": 60905347, "body": "As comment, one more conversion function must be taken into account (at least), for passed by reference function parameters."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460752594, "post_id": 36461452, "comment_id": 60905867, "body": "potentially. Do you think you could update your OP with some even clearer description of what you need, taking into account what you&#39;ve learned? Right now it&#39;s still a little unapproachable."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460831844, "post_id": 36461452, "comment_id": 60928161, "body": "Actually, I could post some code, although is basically yours."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460833888, "post_id": 36461452, "comment_id": 60928872, "body": "I have just one issue left, how to call functions depending on their scope. Taking as reference, for simplification, some method without parameters, it is differently called depending on being a static or instance method, or a pointer to a method in a structure or simply in the global space, like <code>(*M)();</code>, or <code>(obj-&gt;*M)()</code>. I need some specialization to cover them, including const methods."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1460996761, "post_id": 36461452, "comment_id": 60986685, "body": "Admittedly you question is still difficult to follow on account of it being so big. I think a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> will help us here. What I mean is: provide some stubbed objects representing each type you need, as well as the functions you need to call, and we can take it from there."}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461051664, "post_id": 36461452, "comment_id": 61009962, "body": "The complexity of the code and the fact I have stubs to these functions only (Adobe Illustrator C API) makes the job very hard. If we start from [<a href=\"http://coliru.stacked-crooked.com/a/4e2436e6bf171283](here)\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/4e2436e6bf171283](here)</a>, how could be built a template to call functions that return a value (<code>R f(...)</code>) and functions that don&#39;t (<code>void f(...)</code>)?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461052050, "post_id": 36461452, "comment_id": 61010205, "body": "Should I write another specialized function traits for <code>void</code>? This would just double them, isn&#39;t it?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461065763, "post_id": 36461452, "comment_id": 61019650, "body": "If I understand correctly what you&#39;re asking for, then it shouldn&#39;t be too difficult. <a href=\"http://coliru.stacked-crooked.com/a/3f4082940c1b23ac\" rel=\"nofollow noreferrer\">See here</a>"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461066670, "post_id": 36461452, "comment_id": 61020265, "body": "Yes, except for one thing. I have to return the value using a parameter of call_func, not its return value. How is that possible, knowing that I should pass a supplemental template parameter for the type of the return value and to pass there some type or void (if that&#39;s possible) and a return value in function&#39;s parameter? I am bound to SpiderMonkey&#39;s need to evaluate the success of an operation and I know I could do it by returning a value and bool as parameter, but I&#39;m curious if it is possible .. this twisted way :)... too."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461076005, "post_id": 36461452, "comment_id": 61027432, "body": "One of the parameters should be returned? How do you wish to specify which one?"}, {"owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461078682, "post_id": 36461452, "comment_id": 61029430, "body": "I think you already specified it as I need in your example, <a href=\"http://coliru.stacked-crooked.com/a/4e2436e6bf171283\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/4e2436e6bf171283</a>, but it is not used <code>template&lt;typename Ret, typename ARGFirst, typename... ARGS, typename... TupArgs, size_t... Is&gt;. It should be a ref parameter when needed. void call_func_helper(Ret(*f)(ARGFirst, ARGS...), std::tuple&lt;TupArgs...&gt;&amp; tup, std::index_sequence&lt;Is...&gt;)</code>, as Ret. Here too: <a href=\"http://coliru.stacked-crooked.com/a/3f4082940c1b23ac\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/3f4082940c1b23ac</a>."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461095727, "post_id": 36461452, "comment_id": 61040372, "body": "&quot;it should be a ref parameter&quot;, what is &quot;it&quot; here? Please be precise."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "edited": false, "score": 0, "creation_date": 1461097604, "post_id": 36461452, "comment_id": 61041442, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/109595/discussion-between-andyg-and-mike\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1461435438, "last_edit_date": 1495535330, "creation_date": 1461435438, "answer_id": 36814669, "question_id": 36461452, "link": "https://stackoverflow.com/questions/36461452/c-function-caller-wrapper-using-variadic-pack-types-expansion/36814669#36814669", "title": "C++ function caller wrapper using variadic pack types expansion", "body": "<p>Thanks to the help and patience of <a href=\"https://stackoverflow.com/users/27678/andyg\">AndyG</a>, I have achieved my goal. Here is a sample of code with the note that actual wrappers are not provided, as they are specific from case to case. So, they are simulated by simply passing parameters.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n#include &lt;tuple&gt;\n#include &lt;type_traits&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\n#include &lt;functional&gt;\n#include &lt;tuple&gt;\n#include &lt;type_traits&gt;\nusing namespace std;\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, U&gt;::value, int&gt; = 0&gt;\nT convert_type(U _in)\n{\n    //return const_cast&lt;U&gt;(_in);\n    return _in;\n}\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_const_t&lt;U&gt;&gt;::value, int&gt; = 0&gt;\nT convert_type(U _in)\n{\n    //return const_cast&lt;U&gt;(_in);\n    return _in;\n}\n\n\n// these conversion functions only can convert type to pointer to type, else return reference to type, so they're a bit limited\n// pointer to pointer, or\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_const_t&lt;U&gt;&gt;::value, int&gt; = 0&gt;\nT&amp; convert_type(U&amp; _in)\n{\n    return _in;\n}\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_lvalue_reference_t&lt;U&gt;&gt;::value, int&gt; = 0&gt;\nT&amp; convert_type(U&amp; _in)\n{\n    return _in;\n}\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_lvalue_reference_t&lt;std::add_const_t&lt;U&gt;&gt;&gt;::value, int&gt; = 0&gt;\nT&amp; convert_type(U&amp; _in)\n{\n    return _in;\n}\n\n\n// for conversion to pointer\n//T&amp;* to T*\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_pointer_t&lt;U&gt;&gt;::value, int&gt; = 0&gt;\nT convert_type(U&amp; _in)\n{\n    return std::addressof(_in);\n}\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_const_t&lt;U&gt;&gt;::value, int&gt; = 0&gt;\nT convert_type(U&amp; _in)\n{\n    return std::addressof(_in);\n}\n\ntemplate&lt;typename T, typename U, std::enable_if_t&lt;std::is_same&lt;T, std::add_pointer_t&lt;std::add_const_t&lt;U&gt;&gt;&gt;::value, int&gt; = 0&gt;\nT convert_type(U&amp; _in)\n{\n    return std::addressof(_in);\n}\n\ntemplate&lt;typename T&gt;\nstruct function_traits;\n\ntemplate&lt;typename R, typename ...Args&gt;\nstruct function_traits&lt;std::function&lt;R(Args...)&gt;&gt;\n{\n    static const size_t nargs = sizeof...(Args);\n\n    typedef R result_type;\n\n    template &lt;size_t i&gt;\n    struct arg\n    {\n        typedef typename std::tuple_element&lt;i, std::tuple&lt;Args...&gt;&gt;::type type;\n    };\n\n    static const bool isGlobalOrStaticContainer = true;\n    static const bool isClassContainer = false;\n    static const bool isPointerContainer = false;\n    static const bool isConstInClassContainer = false;\n    static const bool returnsVoid = std::is_same&lt;R, void&gt;::value;\n};\n\ntemplate&lt;typename C, typename R, typename ...Args&gt;\nstruct function_traits&lt;std::function&lt;R(*C::*)(Args...)&gt;&gt;\n{\n    static const size_t nargs = sizeof...(Args);\n\n    typedef R result_type;\n\n    template &lt;size_t i&gt;\n    struct arg\n    {\n        typedef typename std::tuple_element&lt;i, std::tuple&lt;Args...&gt;&gt;::type type;\n    };\n\n    static const bool isGlobalOrStaticContainer = false;\n    static const bool isClassContainer = false;\n    static const bool isPointerContainer = true;\n    static const bool isConstInClassContainer = false;\n    static const bool returnsVoid = std::is_same&lt;R, void&gt;::value;\n};\n\ntemplate&lt;typename C, typename R, typename ...Args&gt;\nstruct function_traits&lt;std::function&lt;R(C::*)(Args...)&gt;&gt;\n{\n    static const size_t nargs = sizeof...(Args);\n\n    typedef R result_type;\n\n    template &lt;size_t i&gt;\n    struct arg\n    {\n        typedef typename std::tuple_element&lt;i, std::tuple&lt;Args...&gt;&gt;::type type;\n    };\n\n    static const bool isGlobalOrStaticContainer = false;\n    static const bool isClassContainer = true;\n    static const bool isPointerContainer = false;\n    static const bool isConstInClassContainer = false;\n    static const bool returnsVoid = std::is_same&lt;R, void&gt;::value;\n};\n\ntemplate&lt;typename C, typename R, typename ...Args&gt;\nstruct function_traits&lt;std::function&lt;R(C::*)(Args...) const&gt;&gt;\n{\n    static const size_t nargs = sizeof...(Args);\n\n    typedef R result_type;\n\n    template &lt;size_t i&gt;\n    struct arg\n    {\n        typedef typename std::tuple_element&lt;i, std::tuple&lt;Args...&gt;&gt;::type type;\n    };\n\n    static const bool isGlobalOrStaticContainer = false;\n    static const bool isClassContainer = true;\n    static const bool isPointerContainer = false;\n    static const bool isConstInClassContainer = true;\n    static const bool returnsVoid = std::is_same&lt;R, void&gt;::value;\n};\n\ntemplate&lt;typename ParamType&gt; class Param\n{\npublic:\n\n    typedef ParamType Type;\n\n    static const bool isOut = false;\n};\n\ntemplate&lt;typename ParamType&gt; class ParamOut : public Param&lt;ParamType&gt;\n{\npublic:\n\n    static const bool isOut = true;\n};\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename ParamType, size_t paramIndex, typename... ParamTypes&gt;\nstatic bool UnwrapParameter(unsigned argc, std::vector&lt;void*&gt;&amp; args, typename ParamType::Type &amp;ppt)\n{\n    if (argc &gt; paramIndex)\n    {\n        ppt = *((std::add_pointer_t&lt;typename ParamType::Type&gt;(args[paramIndex])));\n    }\n\n    return true;\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename... ParamType, size_t... paramIndex&gt;\nstatic bool UnwrapParameters(unsigned argc, std::vector&lt;void*&gt;&amp; args, std::tuple&lt;typename ParamType::Type...&gt;&amp; params, std::index_sequence&lt;paramIndex...&gt;)\n{\n    bool r[] = { true, UnwrapParameter&lt;Type, ReturnType, MethodType, Method, ParamType, paramIndex, ParamType...&gt;(argc, args, std::get&lt;paramIndex&gt;(params))... };\n\n    bool res = true;\n    for (size_t i = 0; i &lt; sizeof...(ParamType) + 1 &amp;&amp; res == true; i++)\n        res &amp;= r[i];\n    return res;\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename... ParamType&gt;\nstatic bool UnwrapParameters(unsigned argc, std::vector&lt;void*&gt;&amp; args, std::tuple&lt;typename ParamType::Type...&gt;&amp; params)\n{\n    return UnwrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params, std::make_index_sequence&lt;sizeof...(ParamType)&gt;{});\n}\n\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename ParamType, size_t paramIndex, typename... ParamTypes&gt;\nstatic bool WrapParameter(unsigned argc, std::vector&lt;void*&gt;&amp; args, typename ParamType::Type &amp;ppt)\n{\n    if (ParamType::isOut &amp;&amp; (argc &gt; paramIndex))\n    {\n        // Wrap them back - nothing to do here, in this example\n    }\n\n    return true;\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename... ParamType, size_t... paramIndex&gt;\nstatic bool WrapParameters(unsigned argc, std::vector&lt;void*&gt;&amp; args, std::tuple&lt;typename ParamType::Type...&gt;&amp; params, std::index_sequence&lt;paramIndex...&gt;)\n{\n    bool r[] = { true, WrapParameter&lt;Type, ReturnType, MethodType, Method, ParamType, paramIndex, ParamType...&gt;(argc, args, std::get&lt;paramIndex&gt;(params))... };\n\n    bool res = true;\n    for (size_t i = 0; i &lt; sizeof...(ParamType)+1 &amp;&amp; res == true; i++)\n        res &amp;= r[i];\n    return res;\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename... ParamType&gt;\nstatic bool WrapParameters(unsigned argc, std::vector&lt;void*&gt;&amp; args, std::tuple&lt;typename ParamType::Type...&gt;&amp; params)\n{\n    return WrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params, std::make_index_sequence&lt;sizeof...(ParamType)&gt;{});\n}\n\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType,\n    typename std::enable_if&lt;function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::isPointerContainer, MethodType&gt;::type Method,\n    typename... ParamType, size_t... paramIndex&gt;\n    static ReturnType CallMethodRet(bool&amp; success, Type* obj, std::tuple&lt;typename ParamType::Type...&gt;&amp; params, std::index_sequence&lt;paramIndex...&gt;)\n{\n    if (!(obj &amp;&amp; (obj-&gt;*Method)))\n        success = false;\n\n    return (obj-&gt;*Method)(convert_type&lt;typename function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::template arg&lt;paramIndex&gt;::type, typename ParamType::Type&gt;(std::get&lt;paramIndex&gt;(params))...);\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType,\n    typename std::enable_if&lt;function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::isGlobalOrStaticContainer, MethodType&gt;::type Method,\n    typename... ParamType, size_t... paramIndex&gt;\n    static ReturnType CallMethodRet(bool&amp; success, Type* obj, std::tuple&lt;typename ParamType::Type...&gt;&amp; params, std::index_sequence&lt;paramIndex...&gt;)\n{\n    if (!(*Method))\n        success = false;\n\n    return (*Method)(convert_type&lt;typename function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::template arg&lt;paramIndex&gt;::type, typename ParamType::Type&gt;(std::get&lt;paramIndex&gt;(params))...);\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType,\n    typename std::enable_if&lt;function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::isClassContainer, MethodType&gt;::type Method,\n    typename... ParamType, size_t... paramIndex&gt;\n    static ReturnType CallMethodRet(bool&amp; success, Type* obj, std::tuple&lt;typename ParamType::Type...&gt;&amp; params, std::index_sequence&lt;paramIndex...&gt;)\n{\n    if (!(obj &amp;&amp; (Method)))\n        success = false;\n\n    return (obj-&gt;*Method)(convert_type&lt;typename function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::template arg&lt;paramIndex&gt;::type, typename ParamType::Type&gt;(std::get&lt;paramIndex&gt;(params))...);\n}\n\ntemplate &lt;typename Type, typename ReturnType, typename MethodType, MethodType Method, typename... ParamType&gt;\nstatic ReturnType CallMethodRet(bool&amp; success, Type* obj, std::tuple&lt;typename ParamType::Type...&gt;&amp; params)\n{\n    return CallMethodRet&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(success, obj, params, std::make_index_sequence&lt;sizeof...(ParamType)&gt;{});\n}\n\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType,\n    typename std::enable_if&lt;!function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::returnsVoid, MethodType&gt;::type Method,\n    typename... ParamType&gt;\nstatic bool ExecuteMethod(Type* obj, unsigned argc, std::vector&lt;void*&gt;&amp; args, ReturnType&amp; result)\n{\n    try\n    {\n        const unsigned numArgs = sizeof...(ParamType);\n\n        std::tuple&lt;typename ParamType::Type...&gt; params = std::make_tuple(typename ParamType::Type()...);\n\n        if (!UnwrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params))\n            return false;\n\n        bool success = true;\n\n        result = CallMethodRet&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(success, obj, params);\n\n        if (!success)\n           return false; // Throw method not found here\n\n        if (!WrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params))\n            return false;\n    }\n    catch (...)\n    {\n        // whatever...\n    }\n\n    return true;\n}\n\ntemplate&lt;typename Type, typename ReturnType, typename MethodType,\n    typename std::enable_if&lt;function_traits&lt;std::function&lt;typename std::remove_pointer&lt;MethodType&gt;::type&gt;&gt;::returnsVoid, MethodType&gt;::type Method,\n    typename... ParamType&gt;\n    static bool ExecuteMethod(Type* obj, unsigned argc, std::vector&lt;void*&gt;&amp; args)\n{\n    try\n    {\n        const unsigned numArgs = sizeof...(ParamType);\n\n        std::tuple&lt;typename ParamType::Type...&gt; params = std::make_tuple(typename ParamType::Type()...);\n\n        if (!UnwrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params))\n            return false;\n\n        bool success = true;\n\n        CallMethodRet&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(success, obj, params);\n\n        if (!success)\n            return false; // Throw method not found here\n\n        if (!WrapParameters&lt;Type, ReturnType, MethodType, Method, ParamType...&gt;(argc, args, params))\n            return false;\n    }\n    catch (...)\n    {\n        // whatever...\n    }\n    return true;\n}\n\nclass O \n{\npublic:\n    void func(int a, string b, bool&amp; c, const char* d)\n    {\n        std::cout &lt;&lt; \"Successfully called func with in values \" &lt;&lt; a &lt;&lt; \",\" &lt;&lt; b &lt;&lt; \",\" &lt;&lt; c &lt;&lt; \" and \" &lt;&lt; d &lt;&lt; std::endl;\n\n        c = true;\n\n        std::cout &lt;&lt; \"Successfully called func with out values \" &lt;&lt; a &lt;&lt; \",\" &lt;&lt; b &lt;&lt; \",\" &lt;&lt; c &lt;&lt; \" and \" &lt;&lt; d &lt;&lt; std::endl;\n    }\n\n    int func_i(int a, string b, bool&amp; c, const char* d)\n    {\n        std::cout &lt;&lt; \"Successfully called func with in values \" &lt;&lt; a &lt;&lt; \",\" &lt;&lt; b &lt;&lt; \",\" &lt;&lt; c &lt;&lt; \" and \" &lt;&lt; d &lt;&lt; std::endl;\n\n        c = false;\n\n        std::cout &lt;&lt; \"Successfully called func with out values \" &lt;&lt; a &lt;&lt; \",\" &lt;&lt; b &lt;&lt; \",\" &lt;&lt; c &lt;&lt; \" and \" &lt;&lt; d &lt;&lt; std::endl;\n\n        return 1;\n    }\n};\n\nint main() {\n\n    int a = 1;\n    string b = \"string\";\n    bool c = false;\n    const char* d = \"char*\";\n\n    std::vector&lt;void*&gt; v {(void*)&amp;a, (void*)&amp;b, (void*)&amp;c, (void*)&amp;d};\n\n    std::cout &lt;&lt; std::endl;\n\n    O o;\n\n    std::cout &lt;&lt; ExecuteMethod&lt;O, void, void(O::*)(int, string, bool&amp;, const char*), &amp;O::func, Param&lt;int&gt;, Param&lt;string&gt;, ParamOut&lt;bool&gt;, Param&lt;const char*&gt;&gt;(&amp;o, v.size(), v);\n\n    std::cout &lt;&lt; std::endl &lt;&lt; std::endl;\n\n    int result = 0;\n    std::cout &lt;&lt; ExecuteMethod&lt;O, int, int(O::*)(int, string, bool&amp;, const char*), &amp;O::func_i, Param&lt;int&gt;, Param&lt;string&gt;, ParamOut&lt;bool&gt;, Param&lt;const char*&gt;&gt;(&amp;o, v.size(), v, result) &lt;&lt; std::endl;\n    std::cout &lt;&lt; result &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 360, "user_id": 2594510, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GXSDt.jpg?s=128&g=1", "display_name": "mike", "link": "https://stackoverflow.com/users/2594510/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 36814669, "answer_count": 1, "score": 1, "last_activity_date": 1556695042, "creation_date": 1459973748, "last_edit_date": 1556695042, "question_id": 36461452, "link": "https://stackoverflow.com/questions/36461452/c-function-caller-wrapper-using-variadic-pack-types-expansion", "title": "C++ function caller wrapper using variadic pack types expansion", "body": "<p>I am bound to some APIs and I am tied to some function signatures like here:</p>\n\n<pre><code>static bool WrapperFunction(JSContext *cx, unsigned argc, JS::Value *vp)\n</code></pre>\n\n<p>I try to wrap objects and functions to use in javascript under SpiderMonkey.</p>\n\n<p>To integrate some C API, must be implemented wrappers for object data and wrapper methods for some object.</p>\n\n<p>My solution lead me to the following logic of the wrapper, in order to be able to call methods with several arguments, but I don't know how to achieve it:</p>\n\n<pre><code>    template&lt;typename jsType, typename jsReturnType, typename MethodType, MethodType Method, typename... jsParamType&gt;\nstatic bool VAMethodRet(JSContext *cx, unsigned argc, JS::Value *vp)\n{\n    JS::CallArgs args = CallArgsFromVp(argc, vp);\n\n    jsReturnType::PrivateType result = jsReturnType::PrivateTypeDefaultValue();\n</code></pre>\n\n<p>Here my issues begin:</p>\n\n<ol>\n<li><p>Expand ...<code>jsParamType</code>... pack with calling a method for each jsParamType in order to create a wrapper class object instance for matching the corresponding argument out of args to prepare calling the C API function.</p>\n\n<p>In other words, <code>jsParamType</code> tells the type it wraps so it can extract the C type object for each parameter to be passed to the C API function.</p>\n\n<p>The first <code>jsParamType</code> corresponds to the <code>args[0]</code>, the second <code>jsParamType</code> to the <code>args[1]</code>, etc. to the last <code>jsParamType</code>, which corresponds the <code>args[argc]</code>.</p>\n\n<p>It is possible to get less elements in args than <code>sizeof...jsParamType</code>, in this case the base C object should be initialized with a default value.</p>\n\n<p>The meta-information of parameters or object wrappers is achieved with static methods already (<code>jsParamType::jsType::PrivateTypeDefaultValue()</code> for example).</p>\n\n<p>Eventually, the expanded pack should be an array or vector of heterogeneous objects.</p>\n\n<p>The matching function should be templated, based on jsParamType, but also get the index of the expanded variadic pack and the args local variable in order to get the correct object to parse - here is my first issue:</p>\n\n<p>How to pass the index to the method?</p>\n\n<p>I've tried to be inspired from <a href=\"https://stackoverflow.com/q/12030538\">here</a>, but I can't make it work.</p></li>\n</ol>\n\n<p>2.. After this, I plan to have a similar technique to <a href=\"https://stackoverflow.com/q/15036063\">here</a> in order to call the C API function with the right arguments - is this possible?</p>\n\n<ol start=\"3\">\n<li>In the end, based on a static function of <code>jsParamType</code>, called <code>IsOut()</code>, the out values will update the content of <code>args</code> local variable, but this should be done again using a new expansion, similar to the first step, to put back some values using type info present in <code>jsParamType</code> elements.</li>\n</ol>\n\n<p>The last thing to do would be to set the return value, which is trivial.</p>\n"}, {"tags": ["c++", "user-input", "eof", "scanf"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1459973926, "post_id": 36461405, "comment_id": 60534876, "body": "Don&#39;t mix C and C++ like that."}, {"owner": {"reputation": 11, "user_id": 6074851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f1fe2d5380ee7f00074ecdb3410b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/6074851/sean"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1459974465, "post_id": 36461405, "comment_id": 60535167, "body": "Ok, but I&#39;m wondering whether this is the cause of problem"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1459974495, "post_id": 36461405, "comment_id": 60535181, "body": "Always check return value of <code>fscanf</code> so that you catch both EOF <i>and</i> parse errors (like trying to read a number when there is text)."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1459974729, "post_id": 36461405, "comment_id": 60535307, "body": "Also, please indent your code properly. Trying to figure out what&#39;s wrong with badly indented code is basically making the problem intentionally harder to solve."}, {"owner": {"reputation": 11, "user_id": 6074851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f1fe2d5380ee7f00074ecdb3410b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/6074851/sean"}, "edited": false, "score": 0, "creation_date": 1459976817, "post_id": 36461405, "comment_id": 60536593, "body": "Sorry, this is my first post. I am very confused myself, because the error totally does not makes sense. I re-edited the post. Hopefully, it makes more sense now."}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1459976934, "post_id": 36461405, "comment_id": 60536667, "body": "What you need to edit is the source code. I&#39;m not going to spend my time trying to parse unformatted source code if you&#39;re not going to take the time to format it."}, {"owner": {"reputation": 11, "user_id": 6074851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f1fe2d5380ee7f00074ecdb3410b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/6074851/sean"}, "edited": false, "score": 0, "creation_date": 1459977879, "post_id": 36461405, "comment_id": 60537173, "body": "I reformatted the code. I hope it is now easy to read by everyone."}], "answers": [{"comments": [{"owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "reply_to_user": {"reputation": 11, "user_id": 6074851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f1fe2d5380ee7f00074ecdb3410b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/6074851/sean"}, "edited": false, "score": 0, "creation_date": 1460034487, "post_id": 36462996, "comment_id": 60564343, "body": "@Sean, please update the code in your post to reflect that, as well as any other updates you&#39;ve made.  When that shows the latest you&#39;ve tested, and still gotten the error, I will be glad to look again."}], "tags": [], "owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "is_accepted": false, "score": 0, "last_activity_date": 1459979365, "creation_date": 1459979365, "answer_id": 36462996, "question_id": 36461405, "link": "https://stackoverflow.com/questions/36461405/issue-of-reading-input-from-fscanf/36462996#36462996", "title": "Issue of reading input from fscanf", "body": "<p>You must first initialize <code>i</code> in <code>readstrct()</code>.  As the post reads now, it is used as an index into the integer array, <code>a</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6074851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326f1fe2d5380ee7f00074ecdb3410b3?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/6074851/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1460042304, "creation_date": 1459973566, "last_edit_date": 1460042304, "question_id": 36461405, "link": "https://stackoverflow.com/questions/36461405/issue-of-reading-input-from-fscanf", "title": "Issue of reading input from fscanf", "body": "<p>I'm trying to do a DFS search on a given graph using the following code:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;cstring&gt;\n    #include &lt;cstdlib&gt;\n    #include &lt;cstdio&gt;\n    #include &lt;vector&gt;\n    #include &lt;queue&gt;\n\n    typedef struct G{\n      int vertex1;\n      int vertex2;\n      float num;\n    } graph;\n\n    typedef struct adj{\n      std::vector&lt;int&gt; element;\n    }adj;\n\n    void dfs (int v, bool marked[], adj*p){\n       marked[v]=true;\n       std::vector&lt;int&gt;::iterator i;\n       for (i=p[v].element.begin(); i!=p[v].element.end();i++){\n            if (!marked[*i]){\n            dfs(*i, marked, p);\n            }\n        }\n    }\n\n    void Search(adj*p, int*tvertex){\n       bool *marked=new bool[*tvertex];\n       for (int v=0; v&lt;*tvertex; v++){\n           marked[v]=false;\n           }\n       for (int v=0; v&lt;*tvertex;v++){\n          if (marked[v]==false){\n             dfs(v, marked,p);\n            }\n        }\n     }\n\n    void buildadj(graph*g, adj*p, int * tvertex, int *edge ){\n       for (int e=0; e&lt;*edge; e++){ \n           p[g[e].vertex1].element.push_back(g[e].vertex2);\n           p[g[e].vertex2].element.push_back(g[e].vertex1);\n        }\n    }\n\n    void readInData(FILE *fp, graph*g, int *tvertex) {\n         char buffer[500];\n         char *token;\n         const char delimiters[] = \" \";\n         int i;\n         int n;\n         memset(buffer, 0, 499);\n         for(i = 0;!feof(fp);) {\n            i++;\n            if (i&gt;=2){\n               fscanf(fp, \" %[^\\n]\", buffer);\n               token = strtok(buffer, delimiters);\n               n = (int) atoi(token); \n               g[i-2].vertex1 = n;\n               g[i-2].vertex2 =  (int) atoi(strtok(NULL, delimiters));\n               g[i-2].num = (float)atof(strtok(NULL, delimiters));\n            }\n          }\n     }\n    void readstrct(FILE *fp,int*edge, int*tvertex){\n         int i;\n         int a[2];\n         while (EOF!=fscanf(fp, \"%d\\n\", &amp;a[i])) {\n               i++;     \n              if(i&gt;=2){\n                 break;\n                }\n          }\n         *tvertex=a[0];\n         *edge=a[1];\n    }\n\n    void sendMessage() {\n        char message[200];\n        sprintf(message, \"Wrong Format\\n\");\n        printf(\"%s\", message);\n    }\n   int main(int argc, char * argv[]) {\n        FILE *fp;\n        int edge;\n        int tvertex;\n        if(argc &lt; 2) {\n           printf(\"File not given\\n\");\n           sendMessage();\n           return 0;\n          }\n        fp=fopen(argv[1], \"r\");\n        if(fp == NULL) {\n           printf(\"file not found\\n\");\n           sendMessage();\n           return 0;\n         }\n        readstrct(fp,&amp;edge, &amp;tvertex);\n        graph *g=new graph[edge];\n        adj *p=new adj[tvertex];\n        readInData(fp, g, &amp;tvertex);\n        buildadj(g,p,&amp;tvertex, &amp;edge);\n        Search(p,&amp;tvertex);\n   }\n</code></pre>\n\n<p>The input is of the following form:</p>\n\n<ol>\n<li>13       </li>\n<li>13           </li>\n<li>0 5 2.1                </li>\n<li>4 3 2.3</li>\n<li>0 1 3.2</li>\n<li>9 12 4.2  </li>\n<li>6 4 5.1</li>\n<li>5 4 2.2</li>\n<li>0 2 0.2</li>\n<li>11 12 0.22   </li>\n<li>9 10 0.22</li>\n<li>0 6 0.22</li>\n<li>7 8 0.22</li>\n<li>9 11 0.22</li>\n<li>5 3 0.22</li>\n</ol>\n\n<p>Please focus on the readstruct and readIndata function where the data is read </p>\n\n<p>and stored. I intend to read the first two lines (13 and 13) and stores these </p>\n\n<p>two values as  edges and vertex num in the '<strong><em>readstruct</em></strong>' function. </p>\n\n<p>After reading line 1 and line 2, the if condition is satisfied and goes out </p>\n\n<p>of loop. </p>\n\n<p>Line 3 and Line 15 are read in the <strong><em>readIndata</em></strong> when i larger than 1 </p>\n\n<p>Since per-line contains three data and space between them, I used char array </p>\n\n<p>to store them and read one character by one character. The Segmention faul </p>\n\n<p>error shows when the code continues to read the file when it reaches line </p>\n\n<p>15(or i=13) in  <strong><em>readIndata</em></strong> function, where it should stop. So I guess </p>\n\n<p>something messed up with filepointer or fscanf function.</p>\n\n<p>Best</p>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1459973437, "post_id": 36461332, "comment_id": 60534549, "body": "A more <i>minimal</i> example would be considerably better here. They&#39;re private properties, so make an accessor method."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459973746, "post_id": 36461332, "comment_id": 60534754, "body": "@kfsone All of the data members of the struct are private."}, {"owner": {"reputation": 4113, "user_id": 2126582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVrzW.png?s=128&g=1", "display_name": "AnatolyS", "link": "https://stackoverflow.com/users/2126582/anatolys"}, "edited": false, "score": 0, "creation_date": 1459973768, "post_id": 36461332, "comment_id": 60534773, "body": "For such struct you have not to write consturctor and assign operator."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459973796, "post_id": 36461332, "comment_id": 60534789, "body": "There is no code there that would allow access to those members."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459973964, "post_id": 36461332, "comment_id": 60534896, "body": "@NathanOliver, <code>-pedantic</code> Not <i>all the members</i>, just all of the <b>data</b> members :) And for your comment below this - what <i>pointer trickery</i> do you have in mind?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1459973967, "post_id": 36461332, "comment_id": 60534899, "body": "It is possible with pointer trickery but it is not something you should do."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459973997, "post_id": 36461332, "comment_id": 60534910, "body": "@SergeyA I updated the comment :).  To your update see: <a href=\"http://stackoverflow.com/a/3173080/4342498\">stackoverflow.com/a/3173080/4342498</a>"}, {"owner": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "edited": false, "score": 0, "creation_date": 1459974057, "post_id": 36461332, "comment_id": 60534952, "body": "Will I have to write getter functions to the struct?  There are currently setters that set all the data but no getters.  example:  \tvoid setOrderIdOrderCentral(std::string sOrderIdOrderCentral) \t{ \t\tthis-&gt;sOrderIdOrderCentral = sOrderIdOrderCentral; \t}"}, {"owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "edited": false, "score": 0, "creation_date": 1459974210, "post_id": 36461332, "comment_id": 60535040, "body": "Actually, with the code you have here, you could assume they are &quot;&quot;. So if by &quot;access&quot; you mean &quot;read&quot;, just hard-code &quot;&quot;. (I am not very serious here)"}], "answers": [{"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459974225, "post_id": 36461559, "comment_id": 60535048, "body": "I&#39;d prefer a closer relation to the OP&#39;s sample. May be something like a <code>std::map&lt;std:string,std::string&gt;</code> for holding the <i>variables</i>?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459974909, "post_id": 36461559, "comment_id": 60535409, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 there was no map in his question, but I&#39;ve normalized my answer to his mvce more."}, {"owner": {"reputation": 3998, "user_id": 246878, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7c42eb2c8aea125422f16d2a656bb896?s=128&d=identicon&r=PG&f=1", "display_name": "M2tM", "link": "https://stackoverflow.com/users/246878/m2tm"}, "edited": false, "score": 0, "creation_date": 1460411386, "post_id": 36461559, "comment_id": 60720278, "body": "Since you <i>can</i> indeed access private members I am downvoting this.  The answer to the question of if you <i>should</i> is certainly no, but that isn&#39;t what was asked."}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 0, "last_activity_date": 1459974882, "last_edit_date": 1459974882, "creation_date": 1459974086, "answer_id": 36461559, "question_id": 36461332, "link": "https://stackoverflow.com/questions/36461332/retrieving-a-specific-value-from-sctruct-c/36461559#36461559", "title": "retrieving a specific value from sctruct c++", "body": "<p>Unfortunately, all of those members are private, so they <em>cannot</em> be accessed from outside of the class. You'll need to either write accessor functions:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nstruct StdCardConfirmationReceipt {\nprivate:\n    std::string sOfrIdOrderCentral;\npublic:\n    StdCardConfirmationReceipt() : sOfrIdOrderCentral() {}\n    StdCardConfirmationReceipt(std::string s) : sOfrIdOrderCentral(s) {}\npublic:\n    const std::string&amp; getsOfrIdOrderCentral() const { return sOfrIdOrderCentral; }\n};\n\nint main() {\n    std::vector&lt;StdCardConfirmationReceipt&gt; vec;\n    vec.push_back(StdCardConfirmationReceipt(\"1\"));\n    vec.push_back(StdCardConfirmationReceipt(\"2\"));\n    vec.push_back(StdCardConfirmationReceipt(\"3\"));\n    for (auto vIter = vec.begin(); vIter != vec.end(); ++vIter) {\n        std::cout &lt;&lt; vIter-&gt;getsOfrIdOrderCentral();\n    }\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/kdwyWL\" rel=\"nofollow\">http://ideone.com/kdwyWL</a></p>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1459974419, "post_id": 36461643, "comment_id": 60535145, "body": "Deliberately invoking undefined behavior is punishable by 6 months of reading Knuth. Upvoter, shame on you."}, {"owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459974592, "post_id": 36461643, "comment_id": 60535238, "body": "What exactly is the undefined behavior here? I know that this is horrible practice, but it should be defined behavior."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459974846, "post_id": 36461643, "comment_id": 60535379, "body": "By replacing access modifiers, you are changing class definition. Now, if the same header file is included in another translation unit where no such terrible thing was done, you end up with a class which is defined differently in two translation units. Ka-Boom."}, {"owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459975009, "post_id": 36461643, "comment_id": 60535469, "body": "@SergeyA: we all understand that this solution is terribly dangerous and the worse idea. But is it undefined behaviour?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "edited": false, "score": 0, "creation_date": 1459975205, "post_id": 36461643, "comment_id": 60535592, "body": "@AdrianMaire, yes it is. See above why."}, {"owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459975952, "post_id": 36461643, "comment_id": 60536066, "body": "@SergeyA: Yes, I read your comment but: 1) your case is not required to happens, 2) The linker could be required to throw an error. 3) The run time could work, just allowing one case to access properties, while the other not. Those 3 cases are not undefined behaviour. That is why I am asking for more reference. Just curiosity :-)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "edited": false, "score": 0, "creation_date": 1459976216, "post_id": 36461643, "comment_id": 60536223, "body": "@AdrianMaire, only the first point is somewhat relevant (yes, it might happen the class is only referenced in one translation unit, but why would it be in the .h file than at all?). Your two second points are exact definition of undefined behavior. Linker could be required, but could be not. Code could work runtime, but could refuse to work. This is the essence of undefined behavior."}], "tags": [], "owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "is_accepted": false, "score": -1, "last_activity_date": 1459974354, "creation_date": 1459974354, "answer_id": 36461643, "question_id": 36461332, "link": "https://stackoverflow.com/questions/36461332/retrieving-a-specific-value-from-sctruct-c/36461643#36461643", "title": "retrieving a specific value from sctruct c++", "body": "<p>If you have a struct with private data members that you want to access, you can always <code>#define private public</code> right before the struct definition and access them as normal. If you can, just use accessor functions as this is extremely bad practice.</p>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459975340, "post_id": 36461752, "comment_id": 60535676, "body": "I am still trying to understand this: <code>template class rob&lt;Af, &amp;A::f&gt;;</code> How come it is not a compilation error - to access a private member in such way? I mean, which wording from standard allows this?"}, {"owner": {"reputation": 3998, "user_id": 246878, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7c42eb2c8aea125422f16d2a656bb896?s=128&d=identicon&r=PG&f=1", "display_name": "M2tM", "link": "https://stackoverflow.com/users/246878/m2tm"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1460411145, "post_id": 36461752, "comment_id": 60720162, "body": "No wording in the standard disallows it, certainly.  I am not familiar enough with the language standard to quote for you the passages that enable this syntax.  With that said, there is the oft quoted passage <a href=\"https://books.google.com/books?id=0klsAQAAQBAJ&amp;pg=PA454&amp;lpg=PA454&amp;dq=C%2B%2B+protects+against+accident+rather+than+deliberate+circumvention+(fraud)&amp;source=bl&amp;ots=S1r6-byH0P&amp;sig=yNtFfzBDL6hCL7W1FtVq4Pkme8Y&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjk2dKnx4fMAhUNymMKHbnVDSQQ6AEIHTAA#v=onepage&amp;q=C%2B%2B%20protects%20against%20accident%20rather%20than%20deliberate%20circumvention%20(fraud)&amp;f=false\" rel=\"nofollow noreferrer\">books.google.com/&hellip;</a>"}, {"owner": {"reputation": 3998, "user_id": 246878, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7c42eb2c8aea125422f16d2a656bb896?s=128&d=identicon&r=PG&f=1", "display_name": "M2tM", "link": "https://stackoverflow.com/users/246878/m2tm"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1460411174, "post_id": 36461752, "comment_id": 60720173, "body": "&quot;C++ protects against accident rather than deliberate circumvention (fraud)&quot; -Bjarne Stroustrup"}, {"owner": {"reputation": 3998, "user_id": 246878, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7c42eb2c8aea125422f16d2a656bb896?s=128&d=identicon&r=PG&f=1", "display_name": "M2tM", "link": "https://stackoverflow.com/users/246878/m2tm"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1460411248, "post_id": 36461752, "comment_id": 60720206, "body": "In this particular instance getting the address of a private member function is allowed by the same language rules of getting the address of a regular member function."}], "tags": [], "owner": {"reputation": 3998, "user_id": 246878, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7c42eb2c8aea125422f16d2a656bb896?s=128&d=identicon&r=PG&f=1", "display_name": "M2tM", "link": "https://stackoverflow.com/users/246878/m2tm"}, "is_accepted": false, "score": 1, "last_activity_date": 1459974684, "creation_date": 1459974684, "answer_id": 36461752, "question_id": 36461332, "link": "https://stackoverflow.com/questions/36461332/retrieving-a-specific-value-from-sctruct-c/36461752#36461752", "title": "retrieving a specific value from sctruct c++", "body": "<p><a href=\"http://bloglitb.blogspot.com/2010/07/access-to-private-members-thats-easy.html\" rel=\"nofollow\">http://bloglitb.blogspot.com/2010/07/access-to-private-members-thats-easy.html</a></p>\n\n<p>Essentially you're asking for access to private members.  To quote the full source of the link to ensure it doesn't go stale:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate&lt;typename Tag&gt;\nstruct result {\n  /* export it ... */\n  typedef typename Tag::type type;\n  static type ptr;\n};\n\ntemplate&lt;typename Tag&gt;\ntypename result&lt;Tag&gt;::type result&lt;Tag&gt;::ptr;\n\ntemplate&lt;typename Tag, typename Tag::type p&gt;\nstruct rob : result&lt;Tag&gt; {\n  /* fill it ... */\n  struct filler {\n    filler() { result&lt;Tag&gt;::ptr = p; }\n  };\n  static filler filler_obj;\n};\n\ntemplate&lt;typename Tag, typename Tag::type p&gt;\ntypename rob&lt;Tag, p&gt;::filler rob&lt;Tag, p&gt;::filler_obj;\n\nstruct A {\nprivate:\n  void f() {\n    std::cout &lt;&lt; \"proof!\" &lt;&lt; std::endl;\n  }\n};\n\nstruct Af { typedef void(A::*type)(); };\ntemplate class rob&lt;Af, &amp;A::f&gt;;\n\nint main() {\n  A a;\n  (a.*result&lt;Af&gt;::ptr)();\n}\n</code></pre>\n\n<p>Essentially using this method would achieve what you want.  You should not be doing this, however.  It breaks encapsulation and creates exceptionally brittle code.</p>\n\n<p>This can cause incredible maintenance headaches and is generally <em>terrible</em> programming practice.  The reason your answer has gotten so many downvotes is because it promotes terrible code if you subvert the information hiding mechanisms built into the language.</p>\n"}], "owner": {"reputation": 194, "user_id": 4576760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-8aOq1q-yY2k/AAAAAAAAAAI/AAAAAAAAAGc/6C83r9KLALs/photo.jpg?sz=128", "display_name": "Saif Ahsanullah", "link": "https://stackoverflow.com/users/4576760/saif-ahsanullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1459974882, "creation_date": 1459973296, "last_edit_date": 1459973621, "question_id": 36461332, "link": "https://stackoverflow.com/questions/36461332/retrieving-a-specific-value-from-sctruct-c", "title": "retrieving a specific value from sctruct c++", "body": "<p>So I have a struct, and there I would like to access specific values from within it in another method.  I am not allowed to modify the struct itself. Here is the struct and a couple of functions that are used to initialize and access it.  </p>\n\n<pre><code>struct StdCardConfirmationReceipt\n{\nprivate:\n    std::string sOfrIdOrderCentral;\n    std::string sOrderIdOrderCentral;\n    std::string sFulfillmentOrderIdOrderCentral;\n\npublic:\n    StdCardConfirmationReceipt()\n    {       \n        sOfrIdOrderCentral = \"\";\n        sOrderIdOrderCentral = \"\";\n        sFulfillmentOrderIdOrderCentral = \"\";\n    }\n\n    StdCardConfirmationReceipt&amp; operator=(const StdCardConfirmationReceipt&amp; source )\n    {\n        sOfrIdOrderCentral                  = source.sOfrIdOrderCentral;\n        sOrderIdOrderCentral                = source.sOrderIdOrderCentral;\n        sFulfillmentOrderIdOrderCentral     = source.sFulfillmentOrderIdOrderCentral;\n    }\n</code></pre>\n\n<p>I would like to get these values 'sOFrIDOrderCentral' and sFulfillmentOrdIdOrderCentral' and put it in another struct.  Is this possible with the above code?  Here is the for-loop I'm using in the other method to access the struct.  </p>\n\n<pre><code>for(std::vector&lt;StdCardConfirmationReceipt&gt;::iterator vIter= mvCardConfirmationReceiptList.begin(); vIter != mvCardConfirmationReceiptList.end(); ++vIter)\n{\n    //need to accesss OFrIDOrderCentral and sFulfillmentOrdIdOrderCentral\n}\n</code></pre>\n"}, {"tags": ["c++", "typetraits"], "comments": [{"owner": {"reputation": 4113, "user_id": 2126582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVrzW.png?s=128&g=1", "display_name": "AnatolyS", "link": "https://stackoverflow.com/users/2126582/anatolys"}, "edited": false, "score": 0, "creation_date": 1459973196, "post_id": 36461270, "comment_id": 60534438, "body": "Qt is not C++ compiler, so you have to name your compiler."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1459973382, "post_id": 36461270, "comment_id": 60534520, "body": "<code>And, is there anyway to throw the error to console output when it runs</code> defeats the purpose of any static_assert"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 4113, "user_id": 2126582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVrzW.png?s=128&g=1", "display_name": "AnatolyS", "link": "https://stackoverflow.com/users/2126582/anatolys"}, "edited": false, "score": 0, "creation_date": 1459973542, "post_id": 36461270, "comment_id": 60534616, "body": "@AnatolyS, while Qt is indeed not a compiler, the actual compiler is not relevant to the question. I will edit it and remove Qt."}], "answers": [{"comments": [{"owner": {"reputation": 1856, "user_id": 4116831, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7f72171b14399db9ac49c325de619e2?s=128&d=identicon&r=PG&f=1", "display_name": "scmg", "link": "https://stackoverflow.com/users/4116831/scmg"}, "edited": false, "score": 0, "creation_date": 1459973759, "post_id": 36461363, "comment_id": 60534764, "body": "for the last question, yes i knew it, i meant to ask if there is a way (of course other than <code>static_assert</code>) to trigger and throw that error only at runtime, since compiler always realizes the error with bitwise operations ... like <code>Error: at function XXX at line YYY</code>"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 1856, "user_id": 4116831, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7f72171b14399db9ac49c325de619e2?s=128&d=identicon&r=PG&f=1", "display_name": "scmg", "link": "https://stackoverflow.com/users/4116831/scmg"}, "edited": false, "score": 0, "creation_date": 1459973881, "post_id": 36461363, "comment_id": 60534846, "body": "@scmg, why do you want to do this? This is an error which is 100% detectable during compile time. Why do you want to report it during runtime? People are spending considerable efforts to report as much as they can at compile time, why do you want to go in the opposite direction?"}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1459973429, "creation_date": 1459973429, "answer_id": 36461363, "question_id": 36461270, "link": "https://stackoverflow.com/questions/36461270/use-type-traits-to-limit-type-of-template-member-function/36461363#36461363", "title": "use type_traits to limit type of template member function", "body": "<p>Compiler is trying to report as many errors as it can. <code>static_assert</code> reports an error, but there is another error as well (using <code>double</code> argument for <code>&amp;</code>) so it also is reported.</p>\n\n<p>If you want to limit output to one error, you should have two sfinae-enabled overloads and have a second one (for anything but integrals) consist of a single <code>static_assert</code>.</p>\n\n<p>As for your last question, the whole purpose of doing <code>static_assert</code> is to trigger errors at <strong>compile</strong> time, not runtime.</p>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 1, "last_activity_date": 1459973567, "creation_date": 1459973567, "answer_id": 36461406, "question_id": 36461270, "link": "https://stackoverflow.com/questions/36461270/use-type-traits-to-limit-type-of-template-member-function/36461406#36461406", "title": "use type_traits to limit type of template member function", "body": "<blockquote>\n  <p>My question is, if it will show the error at line <code>return (i &amp; 2);</code> anyway, using <code>type_traits</code> to check for type here seems useless? </p>\n</blockquote>\n\n<p>It's true that it's unfortunate that you get subsequent compile errors anyway, but which compile error do you find more readable?  </p>\n\n<ul>\n<li>\"Integer required.\" </li>\n<li>invalid operands to binary expression (<code>double</code> and <code>double</code>)</li>\n</ul>\n\n<p>I know what I did wrong about the first one - I have <code>A&lt;double&gt;</code> but <code>foo()</code> requires an integer. No idea about the second. Am I misusing your class template or does it have a bug?</p>\n\n<blockquote>\n  <p>And, is there anyway to throw the error to console output when it runs, instead of making it unable to be compiled?</p>\n</blockquote>\n\n<p>You <em>want</em> it to be a compile error. Catching errors at compile time is a lot better than catching errors at compile time. </p>\n"}, {"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 0, "last_activity_date": 1459984275, "creation_date": 1459984275, "answer_id": 36463926, "question_id": 36461270, "link": "https://stackoverflow.com/questions/36461270/use-type-traits-to-limit-type-of-template-member-function/36463926#36463926", "title": "use type_traits to limit type of template member function", "body": "<p>Here's another way to achieve the same thing. You may or may not prefer the error messages:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;typename T, typename = std::enable_if_t&lt;std::is_integral&lt;T&gt;::value&gt;&gt;\nclass A\n{\n  public:\n    A();\n\n    T foo(T i) {\n        return (i &amp; 2);\n    }\n\n  private:\n    T x;\n};\n\nint main() {\n  A&lt;double&gt; a;\n  std::cout &lt;&lt; a.foo(3) &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>sample errors:</p>\n\n<pre><code>In file included from /opt/gcc-5.3.0/include/c++/5.3.0/bits/move.h:57:0,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/bits/stl_pair.h:59,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/bits/stl_algobase.h:64,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/bits/char_traits.h:39,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/ios:40,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/ostream:38,\nfrom /opt/gcc-5.3.0/include/c++/5.3.0/iostream:39,\nfrom /tmp/gcc-explorer-compiler11636-75-1ve7gbt/example.cpp:1:\n/opt/gcc-5.3.0/include/c++/5.3.0/type_traits: In substitution of 'template&lt;bool _Cond, class _Tp&gt; using enable_if_t = typename std::enable_if::type [with bool _Cond = std::integral_constant&lt;bool, false&gt;::value; _Tp = void]':\n19 : required from here\n/opt/gcc-5.3.0/include/c++/5.3.0/type_traits:2388:61: error: no type named 'type' in 'struct std::enable_if&lt;false, void&gt;'\nusing enable_if_t = typename enable_if&lt;_Cond, _Tp&gt;::type;\n^\n/tmp/gcc-explorer-compiler11636-75-1ve7gbt/example.cpp: In function 'int main()':\n19 : error: template argument 2 is invalid\nA&lt;double&gt; a;\n^\n20 : error: request for member 'foo' in 'a', which is of non-class type 'int'\nstd::cout &lt;&lt; a.foo(3) &lt;&lt; std::endl;\n^\nCompilation failed\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 4116831, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7f72171b14399db9ac49c325de619e2?s=128&d=identicon&r=PG&f=1", "display_name": "scmg", "link": "https://stackoverflow.com/users/4116831/scmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1459984275, "creation_date": 1459973034, "last_edit_date": 1459973562, "question_id": 36461270, "link": "https://stackoverflow.com/questions/36461270/use-type-traits-to-limit-type-of-template-member-function", "title": "use type_traits to limit type of template member function", "body": "<p>I'm writing a template class with a method that performs some bitwise operations, so I want to limit the type in the case this method is used within <code>is_integral</code>. I took the simple example <a href=\"http://en.cppreference.com/w/cpp/types/is_integral\" rel=\"nofollow\">here</a> and modified a bit as follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;typename T&gt;\nclass A\n{\n  public:\n    A();\n\n    T foo(T i) {\n        static_assert(std::is_integral&lt;T&gt;::value, \"Integer required.\");\n        return (i &amp; 2);\n    }\n\n  private:\n    T x;\n};\n\nint main() {\n  A&lt;double&gt; a;\n  std::cout &lt;&lt; a.foo(3) &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>However, compiler gives me 2 compile errors at <code>static_assert()</code>:</p>\n\n<pre><code>static_assert failed \"Integer required.\"\n</code></pre>\n\n<p>and at <code>return (i &amp; 2);</code>:</p>\n\n<pre><code>invalid operands to binary expression ('double' and 'double')\n</code></pre>\n\n<p>My question is, if it will show the error at line <code>return (i &amp; 2);</code> anyway, using <code>type_traits</code> to check for type here seems useless? And, is there anyway to throw the error to console output when it runs, instead of making it unable to be compiled?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 1, "creation_date": 1459973197, "post_id": 36461263, "comment_id": 60534441, "body": "<code>rapidjson::Document</code> isn&#39;t copyable. You need to pass it to the callback by reference."}], "answers": [{"comments": [{"owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "edited": false, "score": 0, "creation_date": 1459974067, "post_id": 36461385, "comment_id": 60534957, "body": "Thank you! Code compiles successfully after passing the arg by reference but I now got another error. EXC_BAD_ACCESS, Code=EXC_i386_GPFLT. Do you know what this means? (I am asking in the context of my case)"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "edited": false, "score": 0, "creation_date": 1459974359, "post_id": 36461385, "comment_id": 60535112, "body": "I&#39;m not familiar with that exact error but it sounds like something had perhaps gone out of scope. You should attach the debugger and isolate where this is happening, it may or may not be related to the callback."}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 1, "last_activity_date": 1459973508, "creation_date": 1459973508, "answer_id": 36461385, "question_id": 36461263, "link": "https://stackoverflow.com/questions/36461263/callbacks-with-stdfunction/36461385#36461385", "title": "Callbacks with std::function", "body": "<p>Prior to C++11 the only way to disable a function to the outside world was to mark it <code>private</code>. In this case, they've made the copy-constructor for <code>rapidjson::Document</code> private as a way of saying \"this object is not copyable\".</p>\n\n<p>To solve this, your callback should take the Document by reference:</p>\n\n<pre><code>void operator() (std::function&lt;void(rapidjson::Document&amp;)&gt; callback);\n</code></pre>\n"}], "owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "accepted_answer_id": 36461385, "answer_count": 1, "score": 0, "last_activity_date": 1459973650, "creation_date": 1459973004, "last_edit_date": 1459973650, "question_id": 36461263, "link": "https://stackoverflow.com/questions/36461263/callbacks-with-stdfunction", "title": "Callbacks with std::function", "body": "<p>I am getting a compile error with a std::function callback. Here's the class declaration:</p>\n\n<pre><code>class Cloud\n{\n// ...\npublic:\n    Cloud (std::string end_point) : end_point(end_point) {}\n    void operator() (std::function&lt;void(rapidjson::Document)&gt; callback);\n};\n</code></pre>\n\n<p>I store the callback in a private variable and then in a function of the class I'm trying to invoke the callback like this:</p>\n\n<pre><code>rapidjson::Document document;\nthis-&gt;callback(document);\n</code></pre>\n\n<p>This code gives me the error:</p>\n\n<pre><code>/Users/petilodie/Projects/TheGame/client/Classes/Cloud.cpp:67:20: Calling a private constructor of class 'rapidjson::GenericDocument&lt;rapidjson::UTF8&lt;char&gt;, rapidjson::MemoryPoolAllocator&lt;rapidjson::CrtAllocator&gt;, rapidjson::CrtAllocator&gt;'\n</code></pre>\n\n<p>I'm new to C++ and I'm sure I'm doing something wrong here. Any help is appreciated.</p>\n"}, {"tags": ["c++", "sdl", "sdl-2"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4722868, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571264579818047/picture?type=large", "display_name": "Herv&#233; Hugonnet", "link": "https://stackoverflow.com/users/4722868/herv%c3%a9-hugonnet"}, "edited": false, "score": 0, "creation_date": 1460494006, "post_id": 36573158, "comment_id": 60766347, "body": "Thank you for that answer but it still isn&#39;t working (I already tried this)"}, {"owner": {"reputation": 326, "user_id": 6192933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97606b02ea1d36442a43b46fccea9a5?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Paul", "link": "https://stackoverflow.com/users/6192933/joseph-paul"}, "reply_to_user": {"reputation": 23, "user_id": 4722868, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571264579818047/picture?type=large", "display_name": "Herv&#233; Hugonnet", "link": "https://stackoverflow.com/users/4722868/herv%c3%a9-hugonnet"}, "edited": false, "score": 0, "creation_date": 1460530149, "post_id": 36573158, "comment_id": 60778920, "body": "You should describe your development environment and take a few time to write a small C program that reproduces the incorrect behaviour. Then it will be much easier to help you."}], "tags": [], "owner": {"reputation": 326, "user_id": 6192933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97606b02ea1d36442a43b46fccea9a5?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Paul", "link": "https://stackoverflow.com/users/6192933/joseph-paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1460463768, "creation_date": 1460463768, "answer_id": 36573158, "question_id": 36461123, "link": "https://stackoverflow.com/questions/36461123/sdl-software-renderer-not-working-works-in-hardware-accelerated-one/36573158#36573158", "title": "sdl software renderer not working , works in hardware accelerated one", "body": "<p>The problem is here:</p>\n\n<pre><code>if (SOFTWARE_RENDERING) SDL_UpdateWindowSurface(gWindow);\nelse SDL_RenderPresent(gRenderer);\n</code></pre>\n\n<p>You should <em>always</em> call <a href=\"https://wiki.libsdl.org/SDL_RenderPresent\" rel=\"nofollow\">SDL_RenderPresent</a> whatever the rendering driver.</p>\n"}], "owner": {"reputation": 23, "user_id": 4722868, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571264579818047/picture?type=large", "display_name": "Herv&#233; Hugonnet", "link": "https://stackoverflow.com/users/4722868/herv%c3%a9-hugonnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1460463768, "creation_date": 1459972531, "last_edit_date": 1459978964, "question_id": 36461123, "link": "https://stackoverflow.com/questions/36461123/sdl-software-renderer-not-working-works-in-hardware-accelerated-one", "title": "sdl software renderer not working , works in hardware accelerated one", "body": "<p>I am using sdl2 and tryed to use their software rendering istead of their hardware rendering. Up to now I was using their hardware rendering and everything displayed great. It is very important for me to have a software rendering. </p>\n\n<p>The big question is Why do software renderer and hardware renderer behave differently ? and how to fix it?</p>\n\n<p>Here is my Problem :</p>\n\n<p>Therefore I used <code>SDL_CreateSoftwareRenderer</code> to creat a renderer which renders to a surface and then I display that surface which is in fact the window surface. (I need a surface for some reason...).</p>\n\n<p>The rendering is then made in a loop :</p>\n\n<pre><code>    SDL_SetRenderDrawColor(gRenderer, 0XFF, 0XFF, 0X00, 0XFF);\n    SDL_RenderClear(gRenderer);\n    SDL_SetRenderDrawColor(gRenderer, 0X0F, 0X00, 0XF0, 0XFF);\n    SDL_SetRenderDrawColor(gRenderer, 0X0F, 0X00, 0XF0, 0XFF);\n    SDL_Rect rect;\n    rect.x = 0;\n    rect.y = 5;\n    rect.w = 10;\n    rect.h = 2;\n    SDL_RenderFillRect(gRenderer, &amp;rect);\n    std::cout &lt;&lt; \"begin\" &lt;&lt; std::endl;\n\n    for (auto&amp; i : zIndexOrder) {\n        //Rectangles[i]-&gt;get_x();\n        Rectangles[i]-&gt;updat_move_fnct();\n        if (Rectangles[i]-&gt;everyframe_fct != NULL)Rectangles[i]-&gt;everyframe_fct(Rectangles[i]);\n        //Rectangles[i]-&gt;index_th = i;\n    }\n    for (auto u : Underwindows)u-&gt;Refresh();\n\n    for (auto&amp; i : zIndexOrder)Rectangles[i]-&gt;draw(this);\n\n\n    SDL_SetRenderDrawColor(gRenderer, 0X0F, 0X00, 0XF0, 0XFF);\n    rect.x = 0;\n    rect.y = 5;\n    rect.w = 5;\n    rect.h = 5;\n    SDL_RenderFillRect(gRenderer, &amp;rect);\n\n    std::cout &lt;&lt; \"true RENDERER \" &lt;&lt; gRenderer &lt;&lt; std::endl;\n\n    if (SOFTWARE_RENDERING) SDL_UpdateWindowSurface(gWindow);\n    else SDL_RenderPresent(gRenderer);\n</code></pre>\n\n<p>The two rectangle drawn here with <code>SDL_RenderFillRect(f-&gt;get_screen_render(), &amp;rect);</code> draw fine but, in <code>ectangles[i]-&gt;draw(this);</code> If I make the same call It doesn't work I mean I call </p>\n\n<pre><code>            SDL_SetRenderDrawColor(f-&gt;get_screen_render(), 0X0F, 0X00, 0XF0, 0XFF);\n            SDL_Rect rect;\n            rect.x = 6;\n            rect.y = 5;\n            rect.w = 10;\n            rect.h = 55;\n            SDL_RenderFillRect(f-&gt;get_screen_render(), &amp;rect);\n</code></pre>\n\n<p>in <code>ectangles[i]-&gt;draw(this);</code> and the rectangle doesn't draw.</p>\n\n<p>notice that the three rectangles are from different size to see the differences, the clear color is not the same as the draw color, <code>f-&gt;get_screen_render()</code> gives the same pointer to the renderer as the one in the two other call ,  and this part of the code is execute (I know this thanks to the console), and finally it executes between the two other draw. </p>\n\n<p>Could their be a reason why everything works with the hardware accelerated renderer and not with the software one ? </p>\n\n<p>My code consists of thousands of code line so if some one wants it to help me I can give it to him but i can not put it here. </p>\n\n<p>Thank for help ^^</p>\n"}, {"tags": ["c++", "winapi", "gdi+"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1459972484, "post_id": 36460643, "comment_id": 60534014, "body": "Pretty normal with Aero enabled.  BitBlt() is then not just a straight copy from the video adapter memory anymore.  When you blit the desktop it then needs to composite all of the windows on the desktop, not just the single one.  Feature, not a bug."}, {"owner": {"reputation": 11, "user_id": 3068903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c914c2acdc43ec4e05e7edb56a090345?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3068903/neo"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1459973178, "post_id": 36460643, "comment_id": 60534422, "body": "@HansPassant So that means in Windows 8 and 10 this will always be the case?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1459973541, "post_id": 36460643, "comment_id": 60534613, "body": "That is an easy guarantee, Aero cannot be turned off anymore."}, {"owner": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1459982952, "post_id": 36460643, "comment_id": 60539141, "body": "@HansPassant So the successor to GDI, that being Direct2D, will it ever be ready for primetime ;-)  It didn&#39;t work out so great with our client code on Win7, but will profile it again on Win10 soon."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1459983099, "post_id": 36460643, "comment_id": 60539186, "body": "Hmya, if you have no idea what they tried to do then it all looks like it sucks more than XP."}], "owner": {"reputation": 11, "user_id": 3068903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c914c2acdc43ec4e05e7edb56a090345?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3068903/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 896, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1459971354, "creation_date": 1459970966, "last_edit_date": 1459971354, "question_id": 36460643, "link": "https://stackoverflow.com/questions/36460643/why-is-bitblt-slower-when-using-getwindowdcnull", "title": "Why is BitBlt slower when using GetWindowDC(NULL)?", "body": "<p><strong>Purpose</strong>\nThis code is part of a screen capture/app capture application that I am working on.</p>\n\n<p><strong>Question</strong>\nIn this example I am trying to capture Firefox which is maximized and fits the whole screen. I have omitted the code that comes after BitBlt because it is not relevant. My question is why does Bitblt take 10 times longer when I use GetWindowDC(NULL) obtaining the device context of the entire screen opposed to when I use GetWindowDC(FireFoxHWND)?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n\ndouble PCFreq = 0.0;\n__int64 CounterStart = 0;\n\nvoid StartCounter()\n{\n    LARGE_INTEGER li;\n    if (!QueryPerformanceFrequency(&amp;li))\n    {\n        std::cout &lt;&lt; \"QueryPerformanceFrequency failed!\\n\";\n    }\n\n    PCFreq = double(li.QuadPart) / 1000.0;\n\n    QueryPerformanceCounter(&amp;li);\n    CounterStart = li.QuadPart;\n}\ndouble GetCounter()\n{\n    LARGE_INTEGER li;\n    QueryPerformanceCounter(&amp;li);\n    return double(li.QuadPart - CounterStart) / PCFreq;\n}\n\nvoid BitBltFunc(HWND hwnd)\n{\n    HDC device_context = GetWindowDC(hwnd);\n    if (!device_context)\n    {\n        std::cout &lt;&lt; \"Error creating device context\" &lt;&lt; std::endl;\n    }\n\n    HDC hdc_capture = CreateCompatibleDC(device_context);\n\n    int width = GetDeviceCaps(device_context, HORZRES);\n    int height = GetDeviceCaps(device_context, VERTRES);\n    HBITMAP hbm_screen = CreateCompatibleBitmap(device_context, width, height);\n\n    if (!hbm_screen)\n    {\n        std::cout &lt;&lt; \"Couldn't create compatible bitmap\" &lt;&lt; std::endl;\n    }\n    else\n    {\n        HBITMAP bmp_old = (HBITMAP)SelectObject(hdc_capture, hbm_screen);\n        if (!BitBlt(hdc_capture, 0, 0, width, height, device_context, 0, 0, SRCCOPY))\n        {\n            std::cout &lt;&lt; \"Bitblt failed\" &lt;&lt; std::endl;\n        }\n\n        SelectObject(hdc_capture, bmp_old);\n        DeleteObject(hbm_screen);\n    }\n    DeleteObject(hdc_capture);\n    ReleaseDC(hwnd, device_context);\n    std::cout &lt;&lt; \"Finished BitBlt\" &lt;&lt; std::endl;\n}\n\nint main()\n{\n    HWND mozilla_window = FindWindow(TEXT(\"MozillaWindowClass\"), NULL);\n    if (!mozilla_window)\n    {\n        std::cout &lt;&lt; \"Cannot find mozilla window\" &lt;&lt; std::endl;\n    }\n    for (int i = 0; i &lt; 30; i++)\n    {\n        StartCounter();\n        BitBltFunc(mozilla_window);\n        std::cout &lt;&lt; GetCounter() &lt;&lt; \"\\n\";\n    }\n    for (int j = 0; j &lt; 30; j++)\n    {\n        StartCounter();\n        BitBltFunc(NULL);\n        std::cout &lt;&lt; GetCounter() &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Are the two not bitblt-ing the same amount of pixels?</p>\n"}, {"tags": ["c++", "gcc", "enums", "c++14", "32bit-64bit"], "comments": [{"owner": {"reputation": 16309, "user_id": 247763, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bc88bb482be923525ecc7ab10066413?s=128&d=identicon&r=PG", "display_name": "derekerdmann", "link": "https://stackoverflow.com/users/247763/derekerdmann"}, "edited": false, "score": 0, "creation_date": 1459970508, "post_id": 36460361, "comment_id": 60532883, "body": "This probably isn&#39;t related, but you should also be making your base class&#39;s destructor <code>virtual</code>"}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459970649, "post_id": 36460361, "comment_id": 60532960, "body": "@kfsone, I added <code>someFunction</code>, though it is HEAVILY without context. It is in a rather massive bit of code, so take my word for it that this is the most efficient way of doing things atm. I&#39;ll keep your idea in mind, tho."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "reply_to_user": {"reputation": 16309, "user_id": 247763, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bc88bb482be923525ecc7ab10066413?s=128&d=identicon&r=PG", "display_name": "derekerdmann", "link": "https://stackoverflow.com/users/247763/derekerdmann"}, "edited": false, "score": 0, "creation_date": 1459970664, "post_id": 36460361, "comment_id": 60532971, "body": "@derekerdmann, I&#39;ll bear that in mind. Thanks!"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1459972964, "post_id": 36460361, "comment_id": 60534307, "body": "<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> needed; minimal project that when compiled produces your symptom.  This needs to include all command-line flags you feed the compiler, and compiler version information.  I&#39;m guessing you have a library messup somewhere."}, {"owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "edited": false, "score": 0, "creation_date": 1459973274, "post_id": 36460361, "comment_id": 60534469, "body": "Does the shown piece of code triggers the error? If yes, try cutting away pieces until it doesn&#39;t: see what exactly causes the problem. (If no, we have nothing to do here)"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1459973579, "post_id": 36460361, "comment_id": 60534635, "body": "None of the code you posted fails to compile for the reason you mentioned. You have missing variable declaration, you&#39;ve posted <code>someFunction</code> after <code>main</code>, and you&#39;ve called <code>someFunction</code> with insufficient arguments (it appears you need a <code>std::string</code> and then a <code>Derived*</code>, but you only pass a <code>Derived*</code>). Please get your code to a state where we can reproduce your problem. Bonus points for linking to it from an online compiler (coliru and ideone are commonly used here)."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1459977924, "post_id": 36460361, "comment_id": 60537196, "body": "Hey all, sorry about that. Turns out, it&#39;s going to take a while to nail down a legible MCVE - the code is MASSIVE (see note in edit above). I fixed the typos and expanded the example, which I&#39;ll leave here in case anyone happens to recognize this weird behavior. Meanwhile, I&#39;ll keep trying to boil down the code (easier said than done)."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1459978118, "post_id": 36460361, "comment_id": 60537294, "body": "FYI, I&#39;m switching away from <code>libsigc++</code> because of a host of there-but-not-there type bugs, so I&#39;m beginning to suspect that library may be indirectly causing some evil to occur. Once I&#39;ve switched, it will be a LOT easier to narrow in on a better MCVE."}], "owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1459977837, "creation_date": 1459970031, "last_edit_date": 1459977837, "question_id": 36460361, "link": "https://stackoverflow.com/questions/36460361/enumerations-in-constructors-architecture-dependent-error", "title": "Enumerations in Constructors (architecture-dependent error)", "body": "<h1>Code and Goal</h1>\n\n<p>I am using an enumeration value in an object's constructor. The enumerator is declared public in the abstract <code>Base</code> class, and used in the constructors for the <code>Derived1</code> and <code>Derived2</code> classes.</p>\n\n<p>Here's the \"foo'd\" version of the code, omitting the non-important stuff. (I have MUCH better names in the real version, but they'd only muddy the waters here.)</p>\n\n<blockquote>\n  <p>NOTE: Annoyingly enough, this <em>near</em>-MCVE duplicates all the LOGIC involved, but the problem doesn't surface. I'll leave it here in case anyone recognizes the issue while I continue deeper debugging - the actual code is massive and highly interconnected, so I'm basically filleting a whale with a steak knife here. Please be patient as I try to narrow it down and duplicate the problem! >.> (And please don't DV for lack of a full MCVE right now - I'm working as fast as I can, but I don't know if someone recognizes this weirdness in the meantime.)</p>\n</blockquote>\n\n<p><strong>main.cpp:</strong></p>\n\n<pre><code>#include &lt;iostream&gt; \n#include \"TestClass.h\"\n\nclass Base : public OtherBase\n{\n    public:\n        enum TestArrayType\n        {\n            ARRAY_RANDOM,\n            ARRAY_SORTED,\n            ARRAY_REVERSED\n            //Actually, there are about 20 more values here...\n        };\n\n    protected:\n        TestArrayType arrayType;\n        //More member functions and variables...\n\n    public:\n        Base(){}\n        bool pre()\n        {\n            // Do some magic....\n\n            switch(arrayType)\n            {\n                case ARRAY_RANDOM:\n                {\n                    // Case specific magic...\n                    break;\n                }\n                case ARRAY_SORTED:\n                {\n                    // More case specific magic...\n                    break;\n                }\n                case ARRAY_REVERSED:\n                {\n                    // You get the idea.\n                    break;\n                }\n                default:\n                {\n                    return false;\n                }\n            }\n\n            //More stuff here...\n        }\n        virtual bool run()\n        {\n            return true;\n        }\n        ~Base(){}\n\n};\n\nclass Derived1 : public Base\n{\n    public:\n        Derived1(TestArrayType type = ARRAY_RANDOM)\n        {\n            arrayType = type;\n        }\n        bool run()\n        {\n            // Do derived-class-specific magic.\n            return true;\n        }\n        ~Derived1(){}\n\n};\n\nclass Derived2 : public Base\n{\n    public:\n        Derived2(TestArrayType type = ARRAY_RANDOM)\n        {\n            arrayType = type;\n        }\n        bool run()\n        {\n            // Do derived-class-specific magic.\n            return true;\n        }\n        ~Derived2(){}\n};\n\nint main()\n{\n\n    //someFunction is using std::unique_ptr.\n    testclass.someFunction(\"Derived1\", new Derived1(Base::ARRAY_SORTED));\n    testclass.someFunction(\"Derived2\", new Derived2(Base::ARRAY_SORTED));\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>TestClass.h</strong></p>\n\n<pre><code>#ifndef TESTCLASS_H\n#define TESTCLASS_H\n\n#include &lt;string&gt;\n#include &lt;memory&gt;\n#include &lt;map&gt;\n\nclass OtherBase\n{\n    public:\n        OtherBase(){}\n\n        virtual bool pre(){return true;}\n        virtual bool run()=0;\n\n        virtual ~OtherBase(){}\n};\n\nclass TestClass\n{\n    public:\n        TestClass(){}\n\n        void someFunction(std::string, OtherBase*);\n\n        ~TestClass(){}\n    protected:\n        typedef std::unique_ptr&lt;OtherBase&gt; test_ptr;\n        std::map&lt;std::string, test_ptr&gt; stuff;\n};\n\nextern TestClass testclass;\n\n#endif // TESTCLASS_H\n</code></pre>\n\n<p><strong>TestClass.cpp</strong></p>\n\n<pre><code>#include \"TestClass.h\"\n\n//Declaring global instance of testclass.\nTestClass testclass;\n\nvoid TestClass::someFunction(std::string name, OtherBase* test)\n{\n    if(test == 0)\n    {\n        //Show error.\n        //Return non-fatally.\n        return;\n    }\n\n    //Stuff is a map\n    stuff.emplace(name, test_ptr(test));\n}\n</code></pre>\n\n<h1>Environment</h1>\n\n<ul>\n<li>Ubuntu 15.10 64-bit (AMD)</li>\n<li>Code::Blocks 16.01</li>\n<li><code>g++ (Ubuntu 5.2.1-23ubuntu1~15.10) 5.2.1 20151028</code></li>\n<li>Compiling against <code>--std=c++14</code>.</li>\n<li>I have <code>gcc-5-multilib</code> and <code>g++-5-multilib</code> installed, and everything is up-to-date as of this morning.</li>\n</ul>\n\n<h1>Problem</h1>\n\n<p>This works perfectly when compiling with <code>-m64</code> - no warnings, errors, or other issues. </p>\n\n<p>However, when compiling with <code>-m32</code>, I get the following errors on each use of <code>new</code> with the derived classes and enumerations...</p>\n\n<blockquote>\n  <p>undefined reference to `operator new(unsigned int)'</p>\n</blockquote>\n\n<p>There are similar errors coming from <code>someFunction</code>, but those all related back to the above error's cause (they have the same complaint).</p>\n\n<p><strong>Successful build command (64-bit):</strong></p>\n\n<pre><code>g++ -std=c++14 -fexceptions -I/usr/include/sigc++-2.0 -I/usr/lib/x86_64-linux-gnu/sigc++-2.0/include -lsigc-2.0 -Wextra -Wall -g -m64 -v -I../pawlib/Debug64/include -c /home/jason/Code/Repositories/pawlib-git/pawlib-tester/main.cpp -o obj/Debug64/main.o\n</code></pre>\n\n<p><strong>Problem build command (64-bit):</strong></p>\n\n<pre><code>g++ -std=c++14 -fexceptions -I/usr/include/sigc++-2.0 -I/usr/lib/x86_64-linux-gnu/sigc++-2.0/include -lsigc-2.0 -Wextra -Wall -g -m32 -v -I../pawlib/Debug32/include -c /home/jason/Code/Repositories/pawlib-git/pawlib-tester/main.cpp -o obj/Debug32/main.o\n</code></pre>\n\n<p>Repeating for emphasis: <strong>this code is working perfectly when compiled with <code>-m64</code></strong>.</p>\n"}, {"tags": ["c++", "opencv", "signal-processing", "digital-filter"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1459970160, "post_id": 36460251, "comment_id": 60532670, "body": "Please provide also the Matlab code... It&#39;s probably easier to port that than correcting yours ;D"}, {"owner": {"reputation": 33, "user_id": 6093579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d048a5e5708f489e792413dacc0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "faraz", "link": "https://stackoverflow.com/users/6093579/faraz"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1459970411, "post_id": 36460251, "comment_id": 60532819, "body": "I have edited the post, I have copied the coefficients. The specifications for the filter are as follows  FIR filter Bandpass 128 Order Hamming Window Fs = 50 Hz Fc1 = 0.7 Hz Fc2 = 4 Hz  I have used fdatool in MATLAB to design the filter and then generate coefficients."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6093579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d048a5e5708f489e792413dacc0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "faraz", "link": "https://stackoverflow.com/users/6093579/faraz"}, "edited": false, "score": 0, "creation_date": 1459975811, "post_id": 36461181, "comment_id": 60535963, "body": "Thanks a lot SleuthEye, you code works absolutely fine. However the filtered signal has group delay, is there any way, one can remove it...?"}, {"owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "reply_to_user": {"reputation": 33, "user_id": 6093579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d048a5e5708f489e792413dacc0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "faraz", "link": "https://stackoverflow.com/users/6093579/faraz"}, "edited": false, "score": 0, "creation_date": 1459980122, "post_id": 36461181, "comment_id": 60538138, "body": "Any causal system (other than the trivial scaling) will have some delay. If your application can support a non-causal implementation (e.g. you are not processing samples in real-time), then you one way to &quot;remove&quot; delays is to use &quot;forward-backward&quot; filtering. Have a look at <a href=\"http://www.mathworks.com/help/signal/ref/filtfilt.html\" rel=\"nofollow noreferrer\"><code>filtfilt</code></a>."}, {"owner": {"reputation": 33, "user_id": 6093579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d048a5e5708f489e792413dacc0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "faraz", "link": "https://stackoverflow.com/users/6093579/faraz"}, "edited": false, "score": 0, "creation_date": 1460009063, "post_id": 36461181, "comment_id": 60546831, "body": "Thanks a lot for your help :) @SleuthEye, I will look at the filtfilt documentation and try to implement the same in C++."}], "tags": [], "owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "is_accepted": true, "score": 2, "last_activity_date": 1459972750, "creation_date": 1459972750, "answer_id": 36461181, "question_id": 36460251, "link": "https://stackoverflow.com/questions/36460251/fir-filter-design-in-c-using-coefficients-from-matlab-filter-not-giving-corre/36461181#36461181", "title": "FIR filter design in C++ using coefficients from MATLAB, Filter not giving correct results", "body": "<p>Matlab's <a href=\"http://www.mathworks.com/help/matlab/ref/filter.html\" rel=\"nofollow\"><code>filter</code></a> is a one dimensional filter. When provided an input which is a two dimensional matrix, it filters each column independently (the default if the <code>dim</code> parameter is not set, or set to 1; setting <code>dim</code> to 2 would do the same but on each row), essentially resetting the FIR state in between each processed column (or row).</p>\n\n<p>As such, to achieve the correct result you must also reset the filter state which you store in <code>buffer</code> between each set of values to be filtered by setting resetting the buffer to zeros:</p>\n\n<pre><code>void reset_buffer()\n{\n  for(int i=0; i&lt;taps ; i++ )\n  {\n    buffer[i] = 0.0;\n  }\n}\n</code></pre>\n\n<p>Also, the filter must see each values belonging to the same set sequentially (i.e. not interleaving the values to the filtering function), so the order of the loop is important. Depending on whether you want to filter along the column or row dimension of your data, you can use either of the following function:</p>\n\n<pre><code>// Filter along columns, similar to Matlab's filter(coefficients, 1, data, [], 1)\nvoid filterDim1()\n{\n  for (int i = 0; i&lt;numFrames-1; i++)\n  {\n    filteredTrajectory[i].resize(featuresPrevious.size());\n  }\n  for (int j = 0; j&lt;featuresPrevious.size(); j++)\n  {\n    for (int i = 0; i&lt;numFrames-1; i++)\n    {\n      filteredTrajectory[i][j] = filter (Ycoordinates[i][j]); \n    }\n    reset_buffer();\n  }\n}\n// Filter along rows, similar to Matlab's filter(coefficients, 1, data, [], 2)\nvoid filterDim2()\n{\n  for (int i = 0; i&lt;numFrames-1; i++)\n  {\n    filteredTrajectory[i].resize(featuresPrevious.size());\n    for (int j = 0; j&lt;featuresPrevious.size(); j++)\n    {\n      filteredTrajectory[i][j] = filter (Ycoordinates[i][j]); \n    }\n    reset_buffer();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6093579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d048a5e5708f489e792413dacc0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "faraz", "link": "https://stackoverflow.com/users/6093579/faraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 36461181, "answer_count": 1, "score": 3, "last_activity_date": 1459972750, "creation_date": 1459969678, "last_edit_date": 1459970207, "question_id": 36460251, "link": "https://stackoverflow.com/questions/36460251/fir-filter-design-in-c-using-coefficients-from-matlab-filter-not-giving-corre", "title": "FIR filter design in C++ using coefficients from MATLAB, Filter not giving correct results", "body": "<p>I am working on a project in OpenCV, as I am new to this field, I am facing a few problems with it. I have to design a 128th order FIR bandpass filter for which I have used the coefficients calculated through MATLAB.  I found the following code online.</p>\n\n<pre><code>const int taps = 129;\ndouble buffer[129] = {0.0};\nint offset = 0;\ndouble input;\n\ndouble coefficients[] =\n\n{\n    0.0005,0.0004,0.0002,0.0000,-0.0001,-0.0000,0.0001,0.0004,0.0007,0.0011,\n    0.0015,0.0017,0.0018,0.0016,0.0011,0.0006,0.0001,-0.0003,-0.0002,0.0003,\n    0.0011,0.0022,0.0032,0.0038,0.0038,0.0031,0.0015,-0.0005,-0.0026,-0.0044,\n    -0.0053,-0.0050,-0.0037,-0.0016,0.0007,0.0023,0.0027,0.0012,-0.0022,-0.0072,\n    -0.0127,-0.0178,-0.0212,-0.0220,-0.0199,-0.0153,-0.0093,-0.0036,-0.0001,-0.0003,\n    -0.0053,-0.0147,-0.0274,-0.0408,-0.0519,-0.0573,-0.0545,-0.0419,-0.0197,0.0102,\n    0.0442,0.0779,0.1064,0.1254,0.1321,0.1254,0.1064,0.0779,0.0442,0.0102,-0.0197,\n    -0.0419,-0.0545,-0.0573,-0.0519,-0.0408,-0.0274,-0.0147,-0.0053,-0.0003,-0.0001,-0.0036,\n    -0.0093,-0.0153,-0.0199,-0.0220,-0.0212,-0.0178,-0.0127,-0.0072,-0.0022,0.0012,0.0027,\n    0.0023,0.0007,-0.0016,-0.0037,-0.0050,-0.0053,-0.0044,-0.0026,-0.0005,0.0015,0.0031,\n    0.0038,0.0038,0.0032,0.0022,0.0011,0.0003,-0.0002,-0.0003,0.0001,0.0006,0.0011,\n    0.0016,0.0018,0.0017,0.0015,0.0011,0.0007, 0.0004,0.0001,-0.0000,-0.0001,0.0000,\n    0.0002,0.0004,0.0005\n};\n\n\ndouble filter( double input)\n\n{\n    double output = 0;\n\n\n    for(int i= taps-1; i&gt;0 ; i-- )\n    {\n       buffer[i] = buffer[i-1];\n    }\n\n       buffer[0] = input;\n\n\n    for(int j = 0; j&lt;taps; j++ )\n    {\n\n        output += (coefficients[j]*buffer[j]);\n\n    }\n    return output; \n}\n</code></pre>\n\n<p>I try to use the filter as described in the code snippet below.\nfilteredTrajectory is the vector of vector, where I want to store the filtered values. YCoordinates is a vector of vector containing the data to be filtered. The dimension of YCoordinates is [1000x266]</p>\n\n<pre><code>// Calling FIR filter function filter\n// filtering all 266 values across 1000 frames.\n\nconst int numFrames = 1000;\n\n//featuresPrevious.size() = 266 (predefined fixed value)\n\nvector&lt;vector&lt;double&gt;&gt; filteredTrajectory;\nfilteredTrajectory.resize(numFrames-1);\n\n   for (int i = 0; i&lt;numFrames-1; i++)\n\n    {\n\n       filteredTrajectory[i].resize(featuresPrevious.size());\n\n       for (int j = 0; j&lt;featuresPrevious.size(); j++)\n\n        {\n\n            filteredTrajectory[i][j] = filter (Ycoordinates[i][j]); \n\n     }\n\n    }\n</code></pre>\n\n<p>When I run this code, the filtered values do not match with those of MATLAB. However if I filter only one value throughout all 1000 frames, I get matching results with MATLAB (see code below).  </p>\n\n<pre><code>// Filtering value at index Ycoordinates[i][0] across all frames \n\nfilteredTrajectory.resize(numFrames-1);\n\n   for (int i = 0; i&lt;numFrames-1; i++)\n\n    {\n\n     filteredTrajectory[i].resize(1);\n\n     filteredTrajectory[i][0] = filter (Ycoordinates[i][0]);\n\n} \n</code></pre>\n\n<p>What could be the possible flaws in the code which provide wrong results when filtering all trajectories inside the loop but matching results when filtered individually.</p>\n"}, {"tags": ["c++", "windows", "macos", "user-interface", "juce"], "comments": [{"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1459976851, "post_id": 36460086, "comment_id": 60536621, "body": "How many times are you calling it? It should only be called a very small number of times"}, {"owner": {"reputation": 11, "user_id": 2274269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56439b2cfb91a57c74f015e96fd974b3?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2274269/matt"}, "reply_to_user": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1461583939, "post_id": 36460086, "comment_id": 61248582, "body": "Many times in fact, that was the issue :)"}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1461614858, "post_id": 36460086, "comment_id": 61269131, "body": "I added it as an answer, please accept (assuming it still answers your question) so this can be removed from the unanswered queue."}], "answers": [{"tags": [], "owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "is_accepted": true, "score": 0, "last_activity_date": 1461614817, "creation_date": 1461614817, "answer_id": 36850080, "question_id": 36460086, "link": "https://stackoverflow.com/questions/36460086/gui-loading-issue-on-windows-compare-to-osx/36850080#36850080", "title": "GUI loading issue on Windows compare to OsX", "body": "<p><code>Typeface::createSystemTypefaceFor</code> is not designed to be called frequently; you should call it once for each typeface ideally and cache the results. Calling it frequently will cause a performance hit which varies depending on platform, as you are experiencing.</p>\n"}], "owner": {"reputation": 11, "user_id": 2274269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56439b2cfb91a57c74f015e96fd974b3?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2274269/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 36850080, "answer_count": 1, "score": 0, "last_activity_date": 1461614817, "creation_date": 1459969256, "question_id": 36460086, "link": "https://stackoverflow.com/questions/36460086/gui-loading-issue-on-windows-compare-to-osx", "title": "GUI loading issue on Windows compare to OsX", "body": "<p>I use Juce C++ 4.0.2 to build an audio plugin with a relatively heavy GUI. It takes 5s to load the GUI on a DAW like reaper on OsX, but it takes 10 times more on Windows using the same DAW.</p>\n\n<p>I eventually figure out that is it due to the Typeface::createSystemTypefaceFor function that takes 100ms on Windows. It was an issue on my side because I used it many times.</p>\n\n<p>Does anyone face the same issue?</p>\n"}, {"tags": ["c++", "istream"], "comments": [{"owner": {"reputation": 4735, "user_id": 5270744, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/kPNwH.jpg?s=128&g=1", "display_name": "m_callens", "link": "https://stackoverflow.com/users/5270744/m-callens"}, "edited": false, "score": 0, "creation_date": 1459969279, "post_id": 36460027, "comment_id": 60532104, "body": "What is your assignment? It also completely depends what the <code>istream</code> is. (eg file input stream, etc.)"}, {"owner": {"reputation": 1254, "user_id": 1824182, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59303405a4cea7391ed2de39a0d918bf?s=128&d=identicon&r=PG", "display_name": "Ti Strga", "link": "https://stackoverflow.com/users/1824182/ti-strga"}, "edited": false, "score": 0, "creation_date": 1459969966, "post_id": 36460027, "comment_id": 60532563, "body": "You say you want to be able to use <code>cin</code> with your class.  After you create an instance of <code>Complex</code>, you would then call <code>my_complex.input(std::cin);</code>."}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1459970207, "creation_date": 1459970207, "answer_id": 36460415, "question_id": 36460027, "link": "https://stackoverflow.com/questions/36460027/using-istream-as-a-function-parameter/36460415#36460415", "title": "Using istream&amp; as a function parameter", "body": "<p>The signatures for</p>\n\n<pre><code>    void input(std::istream&amp; in);\n    void output(std::ostream&amp; out);\n</code></pre>\n\n<p>should allow to chain the resulting stream state:</p>\n\n<pre><code>    std::istream&amp; input(std::istream&amp; in);\n    std::ostream&amp; output(std::ostream&amp; out) const;\n</code></pre>\n\n<p>Thus these can be used in global overloads for your class:</p>\n\n<pre><code> std::istream operator&gt;&gt;(std::istream&amp; is, Complex&amp; c ) {\n     return c.input(is);\n }\n\n std::ostream operator&lt;&lt;(std::ostream&amp; os, const Complex&amp; c ) {\n     return c.output(os);\n }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4761249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5830ae3f5189bd6da3cd5b5a7cc532?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy", "link": "https://stackoverflow.com/users/4761249/timothy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 795, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1459970207, "creation_date": 1459969070, "last_edit_date": 1459969381, "question_id": 36460027, "link": "https://stackoverflow.com/questions/36460027/using-istream-as-a-function-parameter", "title": "Using istream&amp; as a function parameter", "body": "<p>I was told to use istream&amp; as a parameter for an input function for my class Complex. Which is used in complex numbers. However I'm having trouble finding a good explanation of how to use istream.</p>\n\n<p>I want to be able to cin to the real and imag variables.</p>\n\n<pre><code>class Complex\n{\n    public:\n        void input(std::istream&amp; in);\n        void output(std::ostream&amp; out);\n        double getReal();\n        double getImag();\n        void setReal(double r);\n        void setImag(double i);\n    private:\n        double real;\n        double imag;\n};\n\nvoid Complex::input(istream&amp; in)\n{\n    in &gt;&gt; real;\n    in &gt;&gt; imag;\n}\n</code></pre>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "edited": false, "score": 0, "creation_date": 1459969353, "post_id": 36460064, "comment_id": 60532147, "body": "No I actually added them to make the code look a bit better."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "edited": false, "score": 0, "creation_date": 1459969514, "post_id": 36460064, "comment_id": 60532245, "body": "@coolguy123 <i>&quot;to make the code look a bit better&quot;</i> So they are useless though. The first <code>return</code> statement seen will skip everything that comes afterwards."}, {"owner": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "edited": false, "score": 0, "creation_date": 1459969620, "post_id": 36460064, "comment_id": 60532311, "body": "Thank you for pointing that out."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1459969204, "creation_date": 1459969204, "answer_id": 36460064, "question_id": 36459957, "link": "https://stackoverflow.com/questions/36459957/generating-a-pseudo-random-number-and-a-letter-with-no-repetitions/36460064#36460064", "title": "Generating a pseudo-random number and a letter with no repetitions", "body": "<p>These code blocks are useless. Your function always returns here:</p>\n\n<pre><code>string culo =  lOut + to_string(nOut);\n{\n    int G = rand() % 10;\n    int nOut = rand() % 10 + 1;\n    char lOut = letters[G];\n    int Max = 5;\n    int Min = 0;\n    string culo1 =  lOut + to_string(nOut);\n    return culo1;  // function returns, no further execution\n}\n</code></pre>\n\n<p>Did you mean to check some condition with an <code>if()</code> <code>else if()</code> cascade to execute these code blocks conditionally?</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "edited": false, "score": 0, "creation_date": 1459971895, "post_id": 36460590, "comment_id": 60533682, "body": "Could you comment the code? It&#39;s pretty hard to understand it for me."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "edited": false, "score": 0, "creation_date": 1459979902, "post_id": 36460590, "comment_id": 60538053, "body": "@coolguy123 done, as requested. Suggest you read this site: <a href=\"http://en.cppreference.com/\" rel=\"nofollow noreferrer\">en.cppreference.com</a>"}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 0, "last_activity_date": 1459979858, "last_edit_date": 1459979858, "creation_date": 1459970758, "answer_id": 36460590, "question_id": 36459957, "link": "https://stackoverflow.com/questions/36459957/generating-a-pseudo-random-number-and-a-letter-with-no-repetitions/36460590#36460590", "title": "Generating a pseudo-random number and a letter with no repetitions", "body": "<p>Here's one way to acheive what you want:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;random&gt;\n\n// build an array of strings A1-9 to I1-9\n// then shuffle it randomly (like a deck of cards)\nstd::vector&lt;std::string&gt; make_candidates()\n{\n    // this builds the array\n    std::vector&lt;std::string&gt; result;\n\n    // for each number 1 to 9...\n    for(int i = 1 ; i &lt; 10 ; ++i)\n    {\n        // for each letter A to I...\n        for(char c = 'A' ; c &lt; 'J' ; ++c) {\n            // build a string of Letter, Number and push it to the\n            // top of the 'deck'\n            char s[2] = { c, char('0' + char(i)) };\n            result.emplace_back(std::begin(s), std::end(s));\n        }\n    }\n\n    // random device delivers true random numbers (on most systems)        \n    std::random_device rd {};\n\n    // make a pseudo-random engine, seeded with a real random number\n    auto eng = std::default_random_engine(rd());\n\n    // use the engine to shuffle our 'deck' of results\n    std::shuffle(std::begin(result), std::end(result), eng);\n\n    return result;\n}\n\n// pull the last string off the given 'deck'    \nstd::string next_candidate(std::vector&lt;std::string&gt;&amp; candidates)\n{\n    auto result = std::move(candidates.back());\n    candidates.pop_back();\n    return result;\n}\n\nint main()\n{\n    // make a shuffled 'deck' of 'cards' from A1 to I9, but in\n    // random order\n    std::vector&lt;std::string&gt; candidates = make_candidates();\n\n    // pick the top 5 and print them    \n    std::cout &lt;&lt; next_candidate(candidates) &lt;&lt; std::endl;\n    std::cout &lt;&lt; next_candidate(candidates) &lt;&lt; std::endl;\n    std::cout &lt;&lt; next_candidate(candidates) &lt;&lt; std::endl;\n    std::cout &lt;&lt; next_candidate(candidates) &lt;&lt; std::endl;\n    std::cout &lt;&lt; next_candidate(candidates) &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>example output:</p>\n\n<pre><code>F6\nF4\nI3\nF3\nG9\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6136539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb0dd7bb2dfa694486ca684582a18bc?s=128&d=identicon&r=PG&f=1", "display_name": "coolguy123", "link": "https://stackoverflow.com/users/6136539/coolguy123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1459988918, "accepted_answer_id": 36460590, "answer_count": 2, "score": 0, "last_activity_date": 1459979858, "creation_date": 1459968875, "last_edit_date": 1459969271, "question_id": 36459957, "link": "https://stackoverflow.com/questions/36459957/generating-a-pseudo-random-number-and-a-letter-with-no-repetitions", "closed_reason": "Not suitable for this site", "title": "Generating a pseudo-random number and a letter with no repetitions", "body": "<p>I am trying to generate randomly 5 strings that will look like this \"A1, B3, C7, D2, I8\" and with no repetitions. The end result should be a working function that gives me a letter and a number easy to confront.\nHere's the function I've made, by the way the problem with this function is that \nit gives me only numbers.</p>\n\n<pre><code>using namespace std;\n\nchar letters[]= {'A','B','C','D','E','F','G','H','I','L'};\nint Num[11];\nchar pGuess[10];\nstring generateSetOfNumbers()\n{\n    int G = rand() % 10;\n    int nOut = rand() % 10 + 1;\n    char lOut = letters[G];\n    int Max = 5;\n    int Min = 0;\n    string culo =  lOut + to_string(nOut);\n    {\n        int G = rand() % 10;\n        int nOut = rand() % 10 + 1;\n        char lOut = letters[G];\n        int Max = 5;\n        int Min = 0;\n        string culo1 =  lOut + to_string(nOut);\n        return culo1;\n    }\n    {\n        int G = rand() % 10;\n        int nOut = rand() % 10 + 1;\n        char lOut = letters[G];\n        int Max = 5;\n        int Min = 0;\n        string culo2 =  lOut + to_string(nOut);\n        return culo2;\n    }\n    {\n        int G = rand() % 10;\n        int nOut = rand() % 10 + 1;\n        char lOut = letters[G];\n        int Max = 5;\n        int Min = 0;\n        string culo3 =  lOut + to_string(nOut);\n        return culo3;\n    }\n    {\n        int G = rand() % 10;\n        int nOut = rand() % 10 + 1;\n        char lOut = letters[G];\n        int Max = 5;\n        int Min = 0;\n        string culo4 =  lOut + to_string(nOut);\n        return culo4;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "constexpr", "compile-time-constant", "constructor-overloading"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1459968239, "post_id": 36459703, "comment_id": 60531435, "body": "If you look at <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/basic_string\" rel=\"nofollow noreferrer\">the <code>std::string</code> constructor overloads</a> you will see that they don&#39;t even bother with arrays, only pointers."}, {"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1459968332, "post_id": 36459703, "comment_id": 60531494, "body": "They also don&#39;t support constexpr construction! That&#39;s the point. The templatized character array is capable of detecting string size at compile-time."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 4, "creation_date": 1459968473, "post_id": 36459703, "comment_id": 60531597, "body": "non-templated function has a preference over templated, even when it requires pointer decay. I do not know how to fix this, though. I had the same problem myself when I tried that, and finally settled on strings based on variadic templates."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1459969182, "post_id": 36459703, "comment_id": 60532051, "body": "this code does not compile in gcc 5.1.0 even if I comment out <code>string(const char *)</code> is it problem with compiler? -  error: \u2018string{((const char*)(&amp; kConstant)), 9}\u2019 is not a constant expression"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1459969599, "post_id": 36459703, "comment_id": 60532302, "body": "@Slava, compiles for me..."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1459969877, "post_id": 36459703, "comment_id": 60532495, "body": "Possible dupe of <a href=\"http://stackoverflow.com/q/28437613/2069064\">stackoverflow.com/q/28437613/2069064</a> ?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1459970501, "post_id": 36459703, "comment_id": 60532877, "body": "Though not <code>constexpr</code>, <code>strlen(str)</code> implemented using <code>__builtin_strlen</code> <i>will</i> be able to determine the length of a string literal at compile time. Is that not good enough?"}], "answers": [{"comments": [{"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "edited": false, "score": 0, "creation_date": 1459973880, "post_id": 36461436, "comment_id": 60534844, "body": "Impressive.  I tried something similar but couldn&#39;t get it working without the pointer decay trick.  +1 for explaining why the <code>const &amp;</code> makes a difference.  Unfortunately, I don&#39;t think I&#39;ll be able to get that past code-review as it complicated the vanilla code-path."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1459974474, "last_edit_date": 1459974474, "creation_date": 1459973660, "answer_id": 36461436, "question_id": 36459703, "link": "https://stackoverflow.com/questions/36459703/compile-time-strings-constructor-overload-precedence-between-const-char/36461436#36461436", "title": "Compile-time strings: constructor overload precedence between `const char *` / `const char[]`", "body": "<p>This is a bit ugly, but it should work:</p>\n\n<pre><code>template&lt;class T, class = std::enable_if_t&lt;std::is_same_v&lt;T, char&gt;&gt;&gt;\nstring(const T * const &amp; str)\n    : ptr_(str) {\n  length_ = strlen(str);\n}\n</code></pre>\n\n<p>The trick is that taking the pointer by const reference blocks array-to-pointer decay during template argument deduction, so when you pass an array, the compiler can't deduce <code>T</code> and the constructor is ignored.</p>\n\n<p>The drawback is that this would also reject other things that are implicitly convertible to <code>const char *</code>.</p>\n\n<hr>\n\n<p>An alternative might be to accept everything convertible to <code>const char *</code>, and then dispatch based on whether said thing is an array.</p>\n\n<pre><code>template&lt;size_t N&gt;\nconstexpr string(const char(&amp;char_array)[N], std::true_type)\n    : ptr_(char_array), length_(N-1) {}\n\nstring(const char * str, std::false_type)\n    : ptr_(str) {\n  length_ = strlen(str);\n}\n\ntemplate&lt;class T, class = std::enable_if_t&lt;std::is_convertible_v&lt;T, const char *&gt;&gt;&gt;\nconstexpr string(T&amp;&amp; t) \n    : string(std::forward&lt;T&gt;(t), std::is_array&lt;std::remove_reference_t&lt;T&gt;&gt;()) {} \n</code></pre>\n"}], "owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1459974474, "creation_date": 1459968066, "last_edit_date": 1495540241, "question_id": 36459703, "link": "https://stackoverflow.com/questions/36459703/compile-time-strings-constructor-overload-precedence-between-const-char", "title": "Compile-time strings: constructor overload precedence between `const char *` / `const char[]`", "body": "<p>I am trying to make a compile-time string class. I took a few hints from <a href=\"https://stackoverflow.com/questions/15858141/conveniently-declaring-compile-time-strings-in-c\">this post</a>. Unfortunately, I'm stuck on constructor overload precedence: the <code>const char[]</code> constructor is being ignored in favor of the  <code>const char*</code> constructor.  Any tips would be appreciated!</p>\n\n<pre><code>class string {\n public:\n  // Can be done compile time. Works lovely! except...\n  template&lt;size_t N&gt;\n  constexpr string(const char(&amp;char_array)[N])\n      : ptr_(char_array), length_(N-1) {}\n\n  // This override gets called instead.  I *must* keep this constructor.\n  string(const char* const str)\n      : ptr_(str) {\n    length_ = strlen(str);\n  }\n\n  // Ugly hack. (not acceptable)\n  template&lt;size_t N&gt;\n  constexpr string(const char(&amp;char_array)[N], double unused)\n      : ptr_(char_array), length_(N-1) {}\n\n private:\n  const char* ptr_;\n  int length_;\n};\n\n\n\n\nconstexpr const char kConstant[] = \"FooBarBaz\";\n\nconstexpr string kString(kConstant); // Error: constexpr variable 'kString' must be initialized by a constant expression (tries to call wrong overload)\n\nconstexpr string kString(kConstant, 1.0f); // ugly hack works.\n</code></pre>\n\n<p>There's lots of cool things I can do if I can make compile-time string constants.</p>\n\n<ul>\n<li>string equality testing is faster on <code>string</code> than <code>const char *</code></li>\n<li>Eliminate run-time overhead of implicit conversions from <code>const char *</code> to <code>string</code> that call <code>strlen()</code> on compile-time constant strings.</li>\n<li>Compile-time string sets that do equality testing instead of hashing for size &lt; N. (this is multiple cpus of overhead on one application I'm looking at)</li>\n</ul>\n"}, {"tags": ["c++", "templates", "c++11"], "answers": [{"tags": [], "owner": {"reputation": 2607, "user_id": 2592962, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6vDLz.jpg?s=128&g=1", "display_name": "Will Beason", "link": "https://stackoverflow.com/users/2592962/will-beason"}, "is_accepted": false, "score": 2, "last_activity_date": 1459967810, "creation_date": 1459967810, "answer_id": 36459642, "question_id": 36459641, "link": "https://stackoverflow.com/questions/36459641/partial-template-type-deduction/36459642#36459642", "title": "Partial template type deduction", "body": "<p>Template type deduction works from right to left. If the rightmost template parameter must be specified, then so must every other template parameter. The following slight modification to the above allows for the much cleaner interface. Essentially, the <code>Index</code> template parameter must come before <code>BinaryFunction</code> since <code>sort_by_index</code> cannot automatically deduce <code>Index</code>.</p>\n\n<pre><code>template &lt;int Index, typename BinaryFunction&gt;\nstruct sort_by_index_t {\n  explicit sort_by_index_t(const BinaryFunction&amp; binary_function)\n      : binary_function(binary_function) {}\n\n  template &lt;typename Tuple&gt;\n  bool operator()(const Tuple&amp; left, const Tuple&amp; right) const {\n    return binary_function(std::get&lt;Index&gt;(left),\n                           std::get&lt;Index&gt;(right));\n  }\n\n private:\n  const BinaryFunction binary_function;\n};\n\ntemplate &lt;int Index, typename BinaryFunction&gt;\nsort_by_index_t&lt;Index, BinaryFunction&gt;\nsort_by_index(const BinaryFunction&amp; binary_function) {\n  return sort_by_index_t&lt;Index, BinaryFunction&gt;(binary_function);\n}\n</code></pre>\n\n<p>The below now compiles:</p>\n\n<pre><code>sort_by_index&lt;0&gt;(std::less&lt;char&gt;());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9006, "user_id": 2805376, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gTE7F.jpg?s=128&g=1", "display_name": "Shafizadeh", "link": "https://stackoverflow.com/users/2805376/shafizadeh"}, "edited": false, "score": 0, "creation_date": 1459969884, "post_id": 36460036, "comment_id": 60532501, "body": "As a top user in C++, can you please introduce me the best book for learning C++?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 9006, "user_id": 2805376, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gTE7F.jpg?s=128&g=1", "display_name": "Shafizadeh", "link": "https://stackoverflow.com/users/2805376/shafizadeh"}, "edited": false, "score": 2, "creation_date": 1459969950, "post_id": 36460036, "comment_id": 60532552, "body": "@Shafizadeh <a href=\"http://stackoverflow.com/q/388242/2069064\">Definitive C++ Book Guide and list</a>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1460037181, "post_id": 36460036, "comment_id": 60566612, "body": "Me, I&#39;d implement <code>order_by( projection, base_order = std::less&lt;&gt; )</code> rather than reimplement <code>std::sort</code> with projection support."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1460037301, "post_id": 36460036, "comment_id": 60566707, "body": "@Barry The top post there lacks any decent post-C++11 template books?  Not sure if any exist."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1460037491, "post_id": 36460036, "comment_id": 60566874, "body": "@Yakk Want to write one? I&#39;m not aware of any. Unfortunately most of the good ones are effectively obsolete by not covering any of the new stuff (e.g. Abrahams or Alexandrescu)."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 6, "last_activity_date": 1459969128, "creation_date": 1459969128, "answer_id": 36460036, "question_id": 36459641, "link": "https://stackoverflow.com/questions/36459641/partial-template-type-deduction/36460036#36460036", "title": "Partial template type deduction", "body": "<p><code>Index</code> is non-deducible, so it must be explicitly provided. Explicitly provided template arguments can only be provided from left-to-right, whereas the ordering of the template arguments doesn't matter for deduction so it's a simple fix to just reorder them to make sure <code>Index</code> goes first:</p>\n\n<pre><code>template &lt;int Index, typename BinaryFunction&gt; // only this line needs to change\nsort_by_index_t&lt;BinaryFunction, Index&gt;\nsort_by_index(const BinaryFunction&amp; binary_function) {\n  return sort_by_index_t&lt;BinaryFunction, Index&gt;(binary_function);\n}\n</code></pre>\n\n<hr />\n\n<p>That said, this is unsatisfying because we're conflating two seemingly unrelated things - the binary function that we're using as a comparator, and the data that we're actually comparing. And we have to write a lot of code here that's basically just repetitive boilerplate. </p>\n\n<p>In the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4128.html#algorithms-should-take-invokable-projections\" rel=\"noreferrer\">ranges proposal</a>, Eric Niebler, Sean Parent, and Andrew Sutton argue for algorithms taking invokable projections. If you have a C++14 compiler, I'd encourage you to implement them so that you can just write something like:</p>\n\n<pre><code>// polymorphic getter\ntemplate &lt;size_t I&gt;\nauto getter() {\n    return [](auto&amp;&amp; tuple) {\n        return std::get&lt;I&gt;(std::forward&lt;decltype(tuple)&gt;(tuple));\n    };\n}\n\n// just use the getter as a projection\nstd::sort(container_of_tuples,\n    std::less&lt;char&gt;{},  // this is the binary function\n    getter&lt;0&gt;());       // this is the projection\n</code></pre>\n"}], "owner": {"reputation": 2607, "user_id": 2592962, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6vDLz.jpg?s=128&g=1", "display_name": "Will Beason", "link": "https://stackoverflow.com/users/2592962/will-beason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2724, "favorite_count": 1, "accepted_answer_id": 36460036, "answer_count": 2, "score": 5, "last_activity_date": 1459969135, "creation_date": 1459967810, "last_edit_date": 1459969135, "question_id": 36459641, "link": "https://stackoverflow.com/questions/36459641/partial-template-type-deduction", "title": "Partial template type deduction", "body": "<p>I am writing a template meant to sort tuples by their elements at compile-time specified indices. I have code that works, but is a pain to use because I have to specify the type of the binary function used to sort the tuple elements.</p>\n\n<pre><code>template &lt;typename BinaryFunction, int Index&gt;\nstruct sort_by_index_t {\n  explicit sort_by_index_t(const BinaryFunction&amp; binary_function)\n      : binary_function(binary_function) {}\n\n  template &lt;typename Tuple&gt;\n  bool operator()(const Tuple&amp; left, const Tuple&amp; right) const {\n    return binary_function(std::get&lt;Index&gt;(left),\n                           std::get&lt;Index&gt;(right));\n  }\n\n private:\n  const BinaryFunction binary_function;\n};\n\ntemplate &lt;typename BinaryFunction, int Index&gt;\nsort_by_index_t&lt;BinaryFunction, Index&gt;\nsort_by_index(const BinaryFunction&amp; binary_function) {\n  return sort_by_index_t&lt;BinaryFunction, Index&gt;(binary_function);\n}\n</code></pre>\n\n<p>So if I want to sort by the first element in the tuple, I have to type:</p>\n\n<pre><code>sort_by_index&lt;std::less&lt;char&gt;, 0&gt;(std::less&lt;char&gt;());\n</code></pre>\n\n<p>Instead, I'd rather have an interface such as the below to avoid duplication, but it does not currently compile.</p>\n\n<pre><code>sort_by_index&lt;0&gt;(std::less&lt;char&gt;());\n</code></pre>\n\n<p>I don't see a way to automatically deduce <code>Index</code> (and it would be unnecessary), but <code>sort_by_index</code> should be able to deduce the type of <code>BinaryFunction</code>.</p>\n\n<p>How can I rewrite the above so that I do not need to specify the type of <code>BinaryFunction</code>?</p>\n"}, {"tags": ["c++", "opencv", "camera"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1460012362, "post_id": 36459563, "comment_id": 60548595, "body": "you want to turn off the camera, or just the LED (while camera is still running)?"}, {"owner": {"reputation": 117, "user_id": 1805103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2f373d2fc7f6e1eba62e3e35fd503887?s=128&d=identicon&r=PG", "display_name": "user1805103", "link": "https://stackoverflow.com/users/1805103/user1805103"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1460045915, "post_id": 36459563, "comment_id": 60573367, "body": "Just the LED while the camera is still running."}], "owner": {"reputation": 117, "user_id": 1805103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2f373d2fc7f6e1eba62e3e35fd503887?s=128&d=identicon&r=PG", "display_name": "user1805103", "link": "https://stackoverflow.com/users/1805103/user1805103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505674681, "creation_date": 1459967602, "question_id": 36459563, "link": "https://stackoverflow.com/questions/36459563/getting-setting-camera-led-status-light-iusing-videoinput-logitech-c930e", "title": "Getting/Setting Camera LED Status Light iusing videoinput/Logitech c930e", "body": "<p>I am using OpenCV 3.1 with Windows 10 and VS2012 C++/CLI.\nIn addition, I am using the videoinput library as the camera interface and that uses DirectShow.</p>\n\n<p>Currently, I can access the camera settings using the CameraControl Properties (e.g., focus) as follows:</p>\n\n<pre><code>typedef enum  {\n    CameraControl_Pan,\n    CameraControl_Tilt,\n    CameraControl_Roll,\n    CameraControl_Zoom,\n    CameraControl_Exposure,\n    CameraControl_Iris,\n    CameraControl_Focus\n} CameraControlProperty;\n\ntypedef enum   {\n    CameraControl_Flags_Auto     = 0x0001,\n    CameraControl_Flags_Manual   = 0x0002\n} CameraControlFlags;\n\nvoid Channel::FocusControl(bool tAutoFocusOn)\n{\n    long mDefaultmin,mDefaultmax,mDefaultStep,mDefaultFlags,mDefaultValue,mDefaultfocus;\n\n    try\n    {\n       CameraVI-&gt;getVideoSettingCamera(CameraNumber,CameraControl_Focus,mDefaultmin,mDefaultmax,mDefaultStep,mDefaultfocus,mDefaultFlags,mDefaultValue);\n    }\n    catch(...)\n    {\n        System::Windows::Forms::MessageBox::Show(\"Camera unable to set focus!\",\"Camera Error Focus\",MessageBoxButtons::OK,MessageBoxIcon::Error);\n    return;\n    }\n\n    if(tAutoFocusOn)\n       CameraVI-&gt;setVideoSettingCamera(CameraNumber,CameraControl_Focus,mDefaultfocus,CameraControl_Flags_Auto);\n    else\n        CameraVI-&gt;setVideoSettingCamera(CameraNumber,CameraControl_Focus,mDefaultfocus,CameraControl_Flags_Manual);\n}\n</code></pre>\n\n<p>Where CameraVI is a pointer the the camera instance.</p>\n\n<p>The Logitech cameras have an LED light which indicates that they are on and I want to turn that off.  That does not seem to be part of the CameraControl properties.</p>\n\n<p>However, I do see the KSPROPERTY and KSCAMERA_EXTENDEDPROP classes/structures.  Which, if any of these controls the LED light (TORCH_MODE?) and how do I access it?  I am new to all of this so any code examples would be great.</p>\n\n<p>Thanks,\nJames</p>\n"}, {"tags": ["c++", "c", "caching", "gcc", "ternary-operator"], "comments": [{"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 2, "creation_date": 1459967814, "post_id": 36459487, "comment_id": 60531195, "body": "I would think that the answer to that would be entirely dependent on which compiler you use, and possibly the optimization level you are using with it."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 3, "creation_date": 1459968158, "post_id": 36459487, "comment_id": 60531393, "body": "What is <code>then</code>?  Since when does an <code>if</code> statement produce a value as if it were an expression?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459968216, "post_id": 36459487, "comment_id": 60531420, "body": "my version of gcc (as expected) produces exactly the same code for both versions - assuming my intuitive reading of correct <code>if</code> version."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1459968223, "post_id": 36459487, "comment_id": 60531425, "body": "At <code>-O3</code>, GCC produces <a href=\"https://godbolt.org/g/ndj4Pi\" rel=\"nofollow noreferrer\">similar code</a> for both constructions on x86."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1459968236, "post_id": 36459487, "comment_id": 60531432, "body": "Surely only 2 memory accesses are required when cached / optimised? <code>x</code> and <code>y</code> are both needed for the comparison..."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1459968252, "post_id": 36459487, "comment_id": 60531446, "body": "suggest posting the true code for &quot;min is defined as <code>if (a &lt; b) then a else b</code>&quot;"}, {"owner": {"reputation": 115, "user_id": 1842151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3042c37c18bf0c18ec3235803e239405?s=128&d=identicon&r=PG", "display_name": "localized", "link": "https://stackoverflow.com/users/1842151/localized"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1459968320, "post_id": 36459487, "comment_id": 60531486, "body": "@John Bollinger. If is just the simplified min function: if (a&lt;b) return a; else return b;"}, {"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 1, "creation_date": 1459968395, "post_id": 36459487, "comment_id": 60531545, "body": "Please pick one of C and C++ for this question. C and C++ are different languages and differ in their semantic!"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1459968597, "post_id": 36459487, "comment_id": 60531652, "body": "@PavleDjordjevic, <code>if (a&lt;b) return a; else return b;</code> is not a good substitute for <code>(((a) &lt; (b)) ? (a) : (b))</code>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 2, "creation_date": 1459968609, "post_id": 36459487, "comment_id": 60531664, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you have a full example that illustrates a difference, that would be helpful. As such, the answers provided just basically dispute your premise."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459969058, "post_id": 36459487, "comment_id": 60531954, "body": "@PavleDjordjevic You should mention which cache simulator so that someone familiar with it could give you a definitive answer rather than speculative."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1459968728, "post_id": 36459753, "comment_id": 60531749, "body": "Upvoted for actually checking the generated code with a few major compilers."}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": false, "score": 4, "last_activity_date": 1459968227, "creation_date": 1459968227, "answer_id": 36459753, "question_id": 36459487, "link": "https://stackoverflow.com/questions/36459487/is-the-ternary-operator-cache-unfriendly/36459753#36459753", "title": "Is the ternary operator cache unfriendly?", "body": "<p>It really depends on the compiler vendor. However, considering the following two versions of <code>min(int, int)</code>:</p>\n\n<pre><code>int min(int a, int b) {\n  return (a &lt; b)? a : b;\n}\n\nint min(int a, int b) {\n  if(a &lt; b)\n    return a;\n  else\n    return b;\n}\n</code></pre>\n\n<p>The assembly code produced for them by GCC version 5.3 and Clang version 3.8 with -O3 is the same:</p>\n\n<pre><code>min(int, int):\n        cmpl    %esi, %edi\n        movl    %esi, %eax\n        cmovle  %edi, %eax\n        ret\n</code></pre>\n\n<p><a href=\"https://godbolt.org/g/cbXsgR\" rel=\"nofollow\"><strong>GCC Live Demo</strong></a></p>\n\n<p><a href=\"https://godbolt.org/g/xYJl91\" rel=\"nofollow\"><strong>CLANG Live Demo</strong></a></p>\n\n<p>Consequently, at least for the two main vendors the two versions (i.e., ternary operator and if-else) are equivalent.</p>\n"}, {"tags": [], "owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "is_accepted": false, "score": 0, "last_activity_date": 1459968367, "creation_date": 1459968367, "answer_id": 36459800, "question_id": 36459487, "link": "https://stackoverflow.com/questions/36459487/is-the-ternary-operator-cache-unfriendly/36459800#36459800", "title": "Is the ternary operator cache unfriendly?", "body": "<p>Typically, uses of the ternary operator and if-then-else statements result in the same intermediate representation in the compiler. Both do the same thing, both are equally cache-friendly.</p>\n\n<p>I suspect that the difference comes from other things you changed between the two implementations, but without seeing them I can't tell you what the problem is.</p>\n"}], "owner": {"reputation": 115, "user_id": 1842151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3042c37c18bf0c18ec3235803e239405?s=128&d=identicon&r=PG", "display_name": "localized", "link": "https://stackoverflow.com/users/1842151/localized"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "closed_date": 1459969853, "answer_count": 2, "score": 2, "last_activity_date": 1459968367, "creation_date": 1459967395, "question_id": 36459487, "link": "https://stackoverflow.com/questions/36459487/is-the-ternary-operator-cache-unfriendly", "closed_reason": "Not suitable for this site", "title": "Is the ternary operator cache unfriendly?", "body": "<p>While playing around with a cache simulator (which compiles code with gcc and -O3 before creating a memory trace) an interesting thing happened.</p>\n\n<p>Following code: <code>a[i] = min(a[i], b[j])</code> results in 4 memory accesses if <code>min</code> is defined as a ternary operator macro: <code>min(x, y) (((x) &lt; (y)) ? (x) : (y))</code> and in 3 memory accesses if <code>min</code> is defined as <code>if (a &lt; b) then a else b</code>.</p>\n\n<p>Apparently, the simulator fetches all variables in the macro (even the one in the branch not taken) while <code>if-else</code> doesn't do this. Is this just a simulator intrinsic thing/bug, or a real issue with ternary operators?</p>\n"}, {"tags": ["c++", "utf-8", "unzip", "multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 2071, "user_id": 138943, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/80c8a7dfc577ea59a608df5aea498204?s=128&d=identicon&r=PG&f=1", "display_name": "David Menard", "link": "https://stackoverflow.com/users/138943/david-menard"}, "edited": false, "score": 0, "creation_date": 1459968208, "post_id": 36459518, "comment_id": 60531415, "body": "From what I understand, the encoding option for fopen applies to the content of the file, not the filename. Am I wrong?"}, {"owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "reply_to_user": {"reputation": 2071, "user_id": 138943, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/80c8a7dfc577ea59a608df5aea498204?s=128&d=identicon&r=PG&f=1", "display_name": "David Menard", "link": "https://stackoverflow.com/users/138943/david-menard"}, "edited": false, "score": 0, "creation_date": 1459968289, "post_id": 36459518, "comment_id": 60531469, "body": "@DavidMenard Not sure about <code>ccs</code> - maybe you are right. <code>_wfopen</code> is for Unicode filenames."}], "tags": [], "owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "is_accepted": false, "score": 2, "last_activity_date": 1459967474, "creation_date": 1459967474, "answer_id": 36459518, "question_id": 36459452, "link": "https://stackoverflow.com/questions/36459452/minizip-using-fopen-with-utf-8-filenames/36459518#36459518", "title": "Minizip - Using fopen with UTF-8 filenames", "body": "<p>Under Windows use <code>_wfopen</code> for Unicode projects. Note that it accepts Unicode (UTF-16) strings, not UTF-8. For UTF-8 the standard <code>fopen</code> has extra option <code>ccs</code>: <code>FILE *fp = fopen(\"newfile.txt\", \"rt+, ccs=encoding\");</code></p>\n"}], "owner": {"reputation": 2071, "user_id": 138943, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/80c8a7dfc577ea59a608df5aea498204?s=128&d=identicon&r=PG&f=1", "display_name": "David Menard", "link": "https://stackoverflow.com/users/138943/david-menard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459967474, "creation_date": 1459967271, "last_edit_date": 1495540781, "question_id": 36459452, "link": "https://stackoverflow.com/questions/36459452/minizip-using-fopen-with-utf-8-filenames", "title": "Minizip - Using fopen with UTF-8 filenames", "body": "<p>I am in the same situation as <a href=\"https://stackoverflow.com/questions/21402742/fopen-with-unicode-filename\">fopen with unicode filename</a>, where I want to use a library that uses fopen. The library in question is minizip, and I need it to work with UTF-8 encoding, on windows, UNIX (OSX), iOS and Android.\nI read the answers, including the discussion about GetShortPathName, and essentially the conclusion is to rewrite the library.\nIs there any way around this?\nAlso, I read that the fopen function on UNIX system can handle UTF-8 encoding (unlike its windows counterpart). Can anyone confirm this?</p>\n\n<p>I would really hate to have to go around and place some ifdef WINDOWS around everywhere in minizip... Does anyone have an alternative?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 1, "creation_date": 1459967593, "post_id": 36459382, "comment_id": 60531059, "body": "If it were implemented, it would only save memory if the derived class&#39;s first member was 1-byte aligned (otherwise there would be padding bytes between the vtable pointer and the first member). I suppose you could force the derived classes to be tightly packed so there would be no padding bytes, but then you&#39;re just getting into weird domain-specific territory."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1459967609, "post_id": 36459382, "comment_id": 60531067, "body": "The real harm of virtual functions is not because of the vptr, but because of their un-inlinability."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459967661, "post_id": 36459382, "comment_id": 60531091, "body": "@SergeyA: OP is asking about saving memory. Un-inlineability doesn&#39;t really affect that."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1459967773, "post_id": 36459382, "comment_id": 60531167, "body": "@Cornstalks, not arguing that. However, OP is wrong on the actual essence and is trying to solve non-existing problem, while the main problem remains unsolved."}, {"owner": {"user_type": "does_not_exist", "display_name": "user184968"}, "reply_to_user": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1459967917, "post_id": 36459382, "comment_id": 60531259, "body": "@Cornstalks, Agree. But [[compact]] with 4-byte ptr would be OK even if a derived class has a first member like int."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1459968042, "post_id": 36459382, "comment_id": 60531335, "body": "This question is essentially &quot;why didn&#39;t the standards committee include this hardly useful feature that would really complicate the implementation&quot;. Not really &#39;on-topic&#39;."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459968253, "post_id": 36459382, "comment_id": 60531448, "body": "The pointer needs to point to a location in memory.  Since that location could be anywhere in memory the pointer needs to be able to hold any location the system could have.  There is a price to pay for polymorphism and part of that price is the size of a pointer being added to all of your classes."}, {"owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "edited": false, "score": 0, "creation_date": 1459968996, "post_id": 36459382, "comment_id": 60531918, "body": "There would also be a penalty in performance; the pointer points to the function that handles the operation, but if you reduced it to an index in a size-limited v-table, it would have to look up that v-table entry every time, based on the index, rather than just call the pointer.  In addition, every virtual function would require the same, which would really hurt memory spatial locality.  As it is now, a class will load entirely in cache, but change to v-table index lookups, and you&#39;ll have a much higher percentage of cache misses, with very little to show for it."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 3, "last_activity_date": 1459968455, "creation_date": 1459968455, "answer_id": 36459833, "question_id": 36459382, "link": "https://stackoverflow.com/questions/36459382/compact-class-with-a-virtual-function/36459833#36459833", "title": "Compact class with a virtual function", "body": "<p>There is no such feature.</p>\n\n<p>Now, the vtable feature of C++ (at least the parts you use) can be emulated in either C or C++ with only a bit of syntactic sugar.</p>\n\n<pre><code>struct my_vtable {\n  void(*dtor)(void*) = 0;\n  void(*print)(void*) = 0;\n  void(*add)(void*, int) = 0;\n};\n\nstruct my_interface {\n  my_vtable const* vtable = 0;\n  ~my_interface() { vtable-&gt;dtor(this); }\n  void print() { vtable-&gt;print(this); }\n  void add(int x) { vtable-&gt;add(this, x); }\n};\n</code></pre>\n\n<p>etc.  This requires a bit more work to get constructor and destructor cascades working, and virtual inheritance is a bit of a boor, and building a composite vtable from multiple inheritance is also work (especially if you want it clean).</p>\n\n<p>But you have the tools.</p>\n\n<p>Using such tools, you can implement your <code>[[tiny]]</code> vtable feature.</p>\n\n<p>Now, if you care about this, a better approach is probably using proxy objects where you look up the table using an arbitrary function on arbitrary state you store in your instances.  You store the state in the instances, and the table elsewhere.</p>\n\n<p>C++'s object system is <em>not</em> all that flexible.  It implements one way of arranging inheritance and OO.  There are many others that are useful, from layout changes through to functionality changes (for example, C++ does not support building one-off vtables for class instances, or otherwise dynamically creating new types).</p>\n\n<p>Treat the C++ inheritance system as just one of many ways to write your OO code.  Know that you should have a good reason to step away from it, and make the resulting code as clean as you can, but don't be too afraid of not using C++ inheritance just because you have an inheritance relationship.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user184968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 36459833, "answer_count": 1, "score": 1, "last_activity_date": 1459968455, "creation_date": 1459967104, "question_id": 36459382, "link": "https://stackoverflow.com/questions/36459382/compact-class-with-a-virtual-function", "title": "Compact class with a virtual function", "body": "<p>I have been asked in a discussion what are disadavntages of adding virtual function in a C++ class. I said that one disadvantage is that an object of the class has a pointer to its virtual table and for a small C++ class it add 8 bytes to its size on 64-bit platform. If one creates millions of instances of such class that increase memory consumption of a program.</p>\n\n<p>OK, but why actually in C++ there is no such a thing as a tiny pointer to a virtual table or small pointer to a virtual table or compact pointer to a virtual table. Some thing like this:</p>\n\n<pre><code>class [[compact]] base {\n  ~base(){}\n  virtual f() = 0;\n};\n\nclass [[tiny]] another_base {\n  ~base(){}\n  virtual g() = 0;\n};\n\nclass [[small]] yet_another_base {\n  ~base(){}\n  virtual h() = 0;\n};\n\nclass child : public base {\n  virtual f();\n};\n\nclass user_type : public another_base {\n  ~base(){}\n  virtual g();\n};\n</code></pre>\n\n<p>Imagine that I am going to create lots of instances of <code>user_type</code> (in fact I once had this situation with a real program). By default a compiler creates an instance of <code>user_type</code> with size of 8 (on 64-bit). But with [[tiny]] attribute only it might be only 1 byte and with [[compact]] only 4 bytes.</p>\n\n<p>Is this feature already available or not? If not it seems to me it is possible to implement it. Like having in a program hidden <code>tiny_vptr</code> and <code>compact_vptr</code> and just add first byte or first four bytes to them when it is necessary to find a real pointer to vtable. So in a program it is allowed to have only 256 [[tiny classes]] for example or 65000 [[small]] classses. It is like a choice betweeen maximum speed and saving some memory.</p>\n"}, {"tags": ["c++", "visual-studio", "getline"], "comments": [{"owner": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1459966946, "post_id": 36459267, "comment_id": 60530696, "body": "it expects char*, not string"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459967005, "post_id": 36459267, "comment_id": 60530735, "body": "<code>sizeof(myText)</code> doesn&#39;t do what you think it does. Rather use <code>myText.size()</code>."}, {"owner": {"reputation": 82, "user_id": 5828183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhY5a.png?s=128&g=1", "display_name": "iLoveSpicyNoodles", "link": "https://stackoverflow.com/users/5828183/ilovespicynoodles"}, "edited": false, "score": 0, "creation_date": 1459967006, "post_id": 36459267, "comment_id": 60530736, "body": "I saw, but im not sure how to make it expect a string, and im also not really sure how it expects a char* in the first place :("}, {"owner": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1459967103, "post_id": 36459267, "comment_id": 60530803, "body": "std::getline() expects string, not std::istream::getline()"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459967105, "post_id": 36459267, "comment_id": 60530805, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, not gonna work for OP :)"}], "answers": [{"comments": [{"owner": {"reputation": 82, "user_id": 5828183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhY5a.png?s=128&g=1", "display_name": "iLoveSpicyNoodles", "link": "https://stackoverflow.com/users/5828183/ilovespicynoodles"}, "edited": false, "score": 0, "creation_date": 1459967238, "post_id": 36459343, "comment_id": 60530874, "body": "Ah got it, thankyou so much for the help, it works now :)"}, {"owner": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1459967685, "post_id": 36459343, "comment_id": 60531114, "body": "I think he could also preallocate vector of chars and pass iterator to the beginning along with size of the vector to avoid overflows, but I think the solution is for extreme cases"}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 2, "last_activity_date": 1459966996, "creation_date": 1459966996, "answer_id": 36459343, "question_id": 36459267, "link": "https://stackoverflow.com/questions/36459267/c-cin-getline-no-instance-of-overload-function/36459343#36459343", "title": "C++: cin.getline - no instance of overload function", "body": "<p>You are not using correct function. Instead of <code>cin.getline()</code> you should use</p>\n\n<pre><code>std::getline(cin, myText)\n</code></pre>\n\n<p><code>cin.getline()</code> expects a pre-allocated <code>char*</code>, and your <code>myText</code> is not. It is also very hard to somehow manage to preallocate a buffer long enough for <code>std::basic_istream::getline()</code>, so this function is almost never useful at all. </p>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459967037, "post_id": 36459350, "comment_id": 60530758, "body": "<i>I honestly don&#39;t know why this problem exists</i> do not answer, than."}, {"owner": {"reputation": 82, "user_id": 5828183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhY5a.png?s=128&g=1", "display_name": "iLoveSpicyNoodles", "link": "https://stackoverflow.com/users/5828183/ilovespicynoodles"}, "edited": false, "score": 0, "creation_date": 1459967149, "post_id": 36459350, "comment_id": 60530826, "body": "Thankyou so much :) it works now. is this something visual studio specific or am i just understand tutorials wrong that use cin.getline()?"}, {"owner": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 1, "creation_date": 1459967235, "post_id": 36459350, "comment_id": 60530872, "body": "you should probably forget that tutorials"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 82, "user_id": 5828183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhY5a.png?s=128&g=1", "display_name": "iLoveSpicyNoodles", "link": "https://stackoverflow.com/users/5828183/ilovespicynoodles"}, "edited": false, "score": 0, "creation_date": 1459967317, "post_id": 36459350, "comment_id": 60530909, "body": "@Lan_Tian Check <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/getline\" rel=\"nofollow noreferrer\"><code>std::istream::getline()</code></a> vs <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\"><code>std::getline()</code></a>."}], "tags": [], "owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1459967008, "creation_date": 1459967008, "answer_id": 36459350, "question_id": 36459267, "link": "https://stackoverflow.com/questions/36459267/c-cin-getline-no-instance-of-overload-function/36459350#36459350", "title": "C++: cin.getline - no instance of overload function", "body": "<p>use <code>getline(cin,myText)</code> I honestly don't know why this problem exists or if it even is a problem but i know for a fact that this works. </p>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459967477, "post_id": 36459447, "comment_id": 60531002, "body": "Please don&#39;t recommend that buggy and ambiguous reference. <a href=\"http://en.cppreference.com/w/\" rel=\"nofollow noreferrer\">en.cppreference.com</a> does a way better job."}, {"owner": {"reputation": 141, "user_id": 2864439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d08d0ac7b93bd7e028973b028e727bf?s=128&d=identicon&r=PG&f=1", "display_name": "tetorea", "link": "https://stackoverflow.com/users/2864439/tetorea"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459968024, "post_id": 36459447, "comment_id": 60531325, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 I didn&#39;t know the cplusplus website was problematic. I&#39;ll try the cppreference one then. Thanks!"}, {"owner": {"reputation": 141, "user_id": 2864439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d08d0ac7b93bd7e028973b028e727bf?s=128&d=identicon&r=PG&f=1", "display_name": "tetorea", "link": "https://stackoverflow.com/users/2864439/tetorea"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459968240, "post_id": 36459447, "comment_id": 60531436, "body": "@user4581301 : yes, it&#39;s a poorer solution than <code>std::getline</code> but I just wanted to inform what the error was in OP code. I&#39;ll edit my answer to stop my fall to hell, then..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1459968668, "post_id": 36459447, "comment_id": 60531707, "body": "That&#39;s not a fall to hell. The fall to hell starts with <code>#include &lt;bits&#47;stdc++.h&gt; using namespace std;</code>"}], "tags": [], "owner": {"reputation": 141, "user_id": 2864439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d08d0ac7b93bd7e028973b028e727bf?s=128&d=identicon&r=PG&f=1", "display_name": "tetorea", "link": "https://stackoverflow.com/users/2864439/tetorea"}, "is_accepted": false, "score": 0, "last_activity_date": 1459968636, "last_edit_date": 1459968636, "creation_date": 1459967254, "answer_id": 36459447, "question_id": 36459267, "link": "https://stackoverflow.com/questions/36459267/c-cin-getline-no-instance-of-overload-function/36459447#36459447", "title": "C++: cin.getline - no instance of overload function", "body": "<p><strike>See : <a href=\"http://www.cplusplus.com/reference/istream/istream/getline/\" rel=\"nofollow\">http://www.cplusplus.com/reference/istream/istream/getline/</a></strike></p>\n\n<p>See : <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/getline\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/io/basic_istream/getline</a></p>\n\n<p>The first parameter of this function getline must be a char *, not a string.</p>\n\n<pre><code>char myText[1024];\ncin.getline( myText, sizeof(myText) );\n</code></pre>\n\n<p>As mentioned everywhere else, it's better to use the <code>std::getline</code>function:</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/string/basic_string/getline</a></p>\n"}], "owner": {"reputation": 82, "user_id": 5828183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhY5a.png?s=128&g=1", "display_name": "iLoveSpicyNoodles", "link": "https://stackoverflow.com/users/5828183/ilovespicynoodles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5886, "favorite_count": 0, "accepted_answer_id": 36459343, "answer_count": 3, "score": 0, "last_activity_date": 1459968636, "creation_date": 1459966776, "question_id": 36459267, "link": "https://stackoverflow.com/questions/36459267/c-cin-getline-no-instance-of-overload-function", "title": "C++: cin.getline - no instance of overload function", "body": "<p>I'am trying to write a line of text to a .txt file, but visual studio 2015 is giving me the following error.</p>\n\n<blockquote>\n  <p>Severity   Code    Description Project File    Line    Suppression State\n  Error (active)      no instance of overloaded function \"std::basic_istream&lt;_Elem, _Traits>::getline [with _Elem=char, _Traits=std::char_traits]\" matches the argument list    Studying    c:\\Users\\Klaas\\Documents\\Visual Studio 2015\\Projects\\Studying\\Studying\\Studying.cpp 16</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Severity   Code    Description Project File    Line    Suppression State\n  Error   C2664   'std::basic_istream> &amp;std::basic_istream>::getline(_Elem *,std::streamsize,_Elem)': cannot convert argument 1 from 'std::string' to 'char *'    Studying1   c:\\users\\klaas\\documents\\visual studio 2015\\projects\\studying1\\studying1\\studying1.cpp  16  </p>\n</blockquote>\n\n<p>My source code: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"stdafx.h\"\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\nint main()\n{\n    ofstream myFile;\n    string myText;\n    myFile.open(\"sometext.txt\");\n    cout &lt;&lt; \"Write text to save to file: \";\n    cin.ignore();\n    cin.getline(myText, sizeof(myText));\n    myFile &lt;&lt; myText;\n    myFile.close();\n    return 0;\n}\n</code></pre>\n\n<p>I have done multiple searches and found answers such as including </p>\n\n<pre><code>cin.ignore();\n</code></pre>\n\n<p>above the</p>\n\n<pre><code>cin.getline\n</code></pre>\n\n<p>, but i just can't get it to work and i don't really understand what the error means, and i don't see why it thinks i'm trying to convert a string to char.</p>\n\n<p>Any tips would be very welcome :)</p>\n"}, {"tags": ["c++", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 1415870, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZrtYq.jpg?s=128&g=1", "display_name": "Nickolouse", "link": "https://stackoverflow.com/users/1415870/nickolouse"}, "is_accepted": false, "score": 0, "last_activity_date": 1459966925, "creation_date": 1459966925, "answer_id": 36459320, "question_id": 36459229, "link": "https://stackoverflow.com/questions/36459229/how-to-highlight-everything-between-a-set-of-braces-in-visual-studio/36459320#36459320", "title": "How to highlight everything between a set of braces in Visual Studio", "body": "<p>Click at the top of the lines and shift click at the bottom. Its not one click but it is better then holding down the mouse and scrolling. </p>\n"}, {"comments": [{"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1459967315, "post_id": 36459326, "comment_id": 60530908, "body": "Which version of VS does that apply to? It doesn&#39;t seem to work in VS 2010."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1459967507, "post_id": 36459326, "comment_id": 60531016, "body": "@Logicrat I can go back to MSVS 2013 and it works with that."}, {"owner": {"reputation": 101, "user_id": 6164460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a959d0aab60a3a0581fcbc188c34effd?s=128&d=identicon&r=PG&f=1", "display_name": "anarchyistheanswer", "link": "https://stackoverflow.com/users/6164460/anarchyistheanswer"}, "edited": false, "score": 0, "creation_date": 1459967607, "post_id": 36459326, "comment_id": 60531066, "body": "oh wow thank you so much it works indeed on VS 2013 thanks again"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 101, "user_id": 6164460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a959d0aab60a3a0581fcbc188c34effd?s=128&d=identicon&r=PG&f=1", "display_name": "anarchyistheanswer", "link": "https://stackoverflow.com/users/6164460/anarchyistheanswer"}, "edited": false, "score": 0, "creation_date": 1459967955, "post_id": 36459326, "comment_id": 60531285, "body": "@anarchyistheanswer No problem.  I just found out it works with () as well.  I added that tidbit into the answer as well."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 2, "last_activity_date": 1459967903, "last_edit_date": 1459967903, "creation_date": 1459966941, "answer_id": 36459326, "question_id": 36459229, "link": "https://stackoverflow.com/questions/36459229/how-to-highlight-everything-between-a-set-of-braces-in-visual-studio/36459326#36459326", "title": "How to highlight everything between a set of braces in Visual Studio", "body": "<p>If you put the cursor on on the left or right had side of a curly brace you can use <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>]</kbd> to select all code in the block.  It will also select the curly braces.</p>\n\n<p>This work using the opening or closing curly brace.</p>\n\n<p>I have tested this and it works with MSVS 2013 and MSVS 2015 </p>\n\n<p>As an added bonus if you use <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>]</kbd> on an opening or closing parentheses it will select all code between and including the parentheses.</p>\n"}], "owner": {"reputation": 101, "user_id": 6164460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a959d0aab60a3a0581fcbc188c34effd?s=128&d=identicon&r=PG&f=1", "display_name": "anarchyistheanswer", "link": "https://stackoverflow.com/users/6164460/anarchyistheanswer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 36459326, "answer_count": 2, "score": 1, "last_activity_date": 1459967903, "creation_date": 1459966665, "last_edit_date": 1459967578, "question_id": 36459229, "link": "https://stackoverflow.com/questions/36459229/how-to-highlight-everything-between-a-set-of-braces-in-visual-studio", "title": "How to highlight everything between a set of braces in Visual Studio", "body": "<p>I know there is always the old fashioned way of holding down the left mouse button and dragging down, but for instance is there a method similar to (and of course this doesn't actually do it but it <strong>should</strong> in my opinion) holding down left mouse button and pressing <kbd>CTRL</kbd>+<kbd>]</kbd>?  What I'm trying to do is highlight many lines of code with the press of a button or 1 click.</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 0, "creation_date": 1461072729, "post_id": 36458941, "comment_id": 61024969, "body": "I used <code>ON_NOTIFY_REFLECT(LVN_GETINFOTIP, OnGetInfoTip)</code> and <code>void CMyListCtrlEx::OnGetInfoTip(NMHDR* pNMHDR, LRESULT* pResult)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1459992181, "post_id": 36459637, "comment_id": 60541622, "body": "This was no help.  What you say is a problem in my code is similar to MSDN documentation - <a href=\"https://msdn.microsoft.com/en-us/library/sa23xtsw.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/sa23xtsw.aspx</a>.  Note that example uses szText, which has the 80 character limit.  I&#39;m trying to use lpszText to allow tooltips greater than 80 characters."}, {"owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "reply_to_user": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460005342, "post_id": 36459637, "comment_id": 60545289, "body": "Edited the answer. I see that <code>tagNMTTDISPINFOW::szText</code> is defined to be <code>80</code> size array/"}, {"owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460021792, "post_id": 36459637, "comment_id": 60554889, "body": "I&#39;ve seen that article, but don&#39;t understand when/where/how to deallocate the text buffer.  Is there another callback when the tooltip message disappears where I can deallocate? I assume I could use <code>tipStr.AllocSysString()</code> for the allocation in the above code in place of <code>T2W</code>?"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460025401, "post_id": 36459637, "comment_id": 60557463, "body": "@user2971092: There is no callback that lets you know, when the tooltip no longer requires the information, and that it can be deleted. The best you can do is allocate a static array, copy your strings to it, and set that as the <i>lpszText</i> member. Alternatively, use a <code>CStringA</code>/<code>CStringW</code> class member that stores the text, and assign the return value of <code>operator LPCSTR</code>/<code>LPCWSTR</code> to the <i>lpszText</i> member. That way you can use arbitrarily sized strings, and not have to worry about memory leaks."}, {"owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1460040055, "post_id": 36459637, "comment_id": 60569101, "body": "@IInspectable: lpszText is a LPWSTR (for wide), so I cannot assign a LPCWSTR to it."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460040670, "post_id": 36459637, "comment_id": 60569621, "body": "@user2971092: You&#39;ll need a <code>const_cast</code>. This is safe, as the system will only ever read from the data provided by you. The <i>lpszText</i> member isn&#39;t declared <code>const</code>, since the <code>NMTTDISPINFO</code> structure used to set tooltip data is also used to query for information. As a consequence, const-correctness often suffers in the Windows API."}], "tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1460005289, "last_edit_date": 1460005289, "creation_date": 1459967802, "answer_id": 36459637, "question_id": 36458941, "link": "https://stackoverflow.com/questions/36458941/mfc-clistctrl-ontooltipnotify/36459637#36459637", "title": "MFC CListCtrl OnToolTipNotify", "body": "<p>I tried to understand your question with my best efforts. All you are saying that <code>CString</code> can be used, but the wide conversion cannot be used directly without <code>T2W</code> conversion macro. If this is the question, you can simply use <code>CStringW</code> - assign <code>tipStr</code> to a variable of this type, and pass it to <code>lpszText</code>.</p>\n\n<p>But, I see problem with your code - you are assuming that if <code>code</code> is not <code>TTN_NEEDTEXTA</code>, it must be <code>TTN_NEEDTEXTW</code>- this assumption is wrong. </p>\n\n<p>EDIT: <a href=\"http://www.codeproject.com/Articles/28885/CListCtrl-and-Displaying-a-Tooltip\" rel=\"nofollow\">From this article</a>, I found out that you need to allocate it dynamically. Hope this helps!</p>\n\n<blockquote>\n  <p>If using the TTN_NEEDTEXT message handler and one wants to display\n  tooltip longer than 80 characters, then one must allocate the wanted\n  text buffer and set the TOOLTIPTEXT::lpszText pointer to this\n  text-buffer in the message handler (one has to deallocate this text\n  buffer manually):</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460163819, "post_id": 36495771, "comment_id": 60629576, "body": "Your answer looks promising.  I&#39;ll give it a try.  For the TTN_NEEDTEXTA case wouldn&#39;t <code>pTTTA-&gt;lpszText = tiptext.GetBuffer();</code> be sufficient?"}, {"owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "edited": false, "score": 0, "creation_date": 1460461407, "post_id": 36495771, "comment_id": 60742951, "body": "In my case <code>tiptext</code> is a const ref to the cell&#39;s member, so I think it may be all right.  But now I&#39;m questioning the need to support <code>TTN_NEEDTEXTA</code>.  <code>pNMHDR-&gt;code</code> always equals <code>TTN_NEEDTEXTW</code> for me, so I&#39;m not sure how I would even test the <code>TTN_NEEDTEXTA</code> case."}], "tags": [], "owner": {"reputation": 3480, "user_id": 198861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a34e839b94f9b510cc9ee28feacd8458?s=128&d=identicon&r=PG", "display_name": "dwo", "link": "https://stackoverflow.com/users/198861/dwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1460106734, "creation_date": 1460106734, "answer_id": 36495771, "question_id": 36458941, "link": "https://stackoverflow.com/questions/36458941/mfc-clistctrl-ontooltipnotify/36495771#36495771", "title": "MFC CListCtrl OnToolTipNotify", "body": "<p>This is the code I use:\ntiptext is the CString containing the text I want to show\nm_pchTip and m_pwchTip are members of my list control. </p>\n\n<pre><code>    if(m_pchTip != NULL)\n    {\n        delete[] m_pchTip;\n        m_pchTip = nullptr;\n    }\n\n    if(m_pwchTip != NULL)\n    {\n        delete[] m_pwchTip;\n        m_pwchTip = nullptr;\n    }\n\n        if(pNMHDR-&gt;code == TTN_NEEDTEXTA)\n        {\n            TOOLTIPTEXTA* pTTTA = (TOOLTIPTEXTA*)pNMHDR;\n            m_pchTip = new char[tiptext.GetLength() + 1];\n            lstrcpyn(m_pchTip,tiptext,tiptext.GetLength() + 1);\n            m_pchTip[tiptext.GetLength()] = 0;\n            pTTTA-&gt;lpszText = m_pchTip;\n        }\n        else\n        {\n            TOOLTIPTEXTW* pTTTW = (TOOLTIPTEXTW*)pNMHDR;\n            m_pwchTip = new WCHAR[tiptext.GetLength() + 1];\n            _mbstowcsz(m_pwchTip,tiptext,tiptext.GetLength() + 1);\n            m_pwchTip[tiptext.GetLength()] = 0;\n            pTTTW-&gt;lpszText = (WCHAR*)m_pwchTip;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "is_accepted": false, "score": 0, "last_activity_date": 1460513030, "creation_date": 1460513030, "answer_id": 36587234, "question_id": 36458941, "link": "https://stackoverflow.com/questions/36458941/mfc-clistctrl-ontooltipnotify/36587234#36587234", "title": "MFC CListCtrl OnToolTipNotify", "body": "<p>Here is what I ended up doing. Since I could not find a case in my applications where I need to handle the <code>TTN_NEEDTEXTA == notifMsg-&gt;code</code> case I'm not supporting it.  I removed <code>ON_NOTIFY_EX_RANGE(TTN_NEEDTEXTA...)</code> from the message map and in <code>CListCtrlEx::OnToolTipNotify</code> I return FALSE if <code>TTN_NEEDTEXTA == notifMsg-&gt;code</code>. I will revisit it when I better understand ANSI vs. UNICODE. </p>\n\n<p>In my cell class I changed the <code>CString tooltip</code> member to <code>CStringW</code> as @IInspectable suggested.  The CListCtrlEx::OnToolTipNotify function has access to the cell's CStringW member, so I set <code>lpszText = const_cast&lt;LPWSTR&gt;((LPCWSTR)m_Data[row]-&gt;colvals[col]-&gt;tooltip)</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 2971092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2959ae1f8c9721b24edfbd3f8d054720?s=128&d=identicon&r=PG&f=1", "display_name": "user2971092", "link": "https://stackoverflow.com/users/2971092/user2971092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 729, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1460513030, "creation_date": 1459965820, "last_edit_date": 1459993901, "question_id": 36458941, "link": "https://stackoverflow.com/questions/36458941/mfc-clistctrl-ontooltipnotify", "title": "MFC CListCtrl OnToolTipNotify", "body": "<p>I'm trying to override OnToolTipNotify for the CListCtrl to have tooltips that support more than 80 characters.  I want the tooltips to appear for specific cells. I've seen a bunch of posts related to this, but none have completely helped me understand the best way to do this.  Here is what I have so far, but I'm concerned with the wide char code that uses T2W.  I read T2W uses memory off the stack and when the function returns it will be cleaned up. So, lpszText will become invalid. This seems to work though and I cannot find another way to do it.</p>\n\n<pre><code>BOOL CListCtrlEx::OnToolTipNotify(UINT tooldId, NMHDR* notifMsg, LRESULT result)\n{\n    USES_CONVERSION;\n    TOOLTIPTEXTA* tttA = reinterpret_cast&lt;TOOLTIPTEXTA*&gt;(notifMsg);\n    TOOLTIPTEXTW* tttW = reinterpret_cast&lt;TOOLTIPTEXTW*&gt;(notifMsg);\n    ...\n    int row, col;\n    cellHitTest(row, col);\n    CString tipStr;\n\n    // Note getTooltip() returns const ref to cell's tooltip string\n    if (-1 &lt; row &amp;&amp; -1 &lt; col)\n        tipStr = m_Data[row]-&gt;colvals[col]-&gt;getTooltip();\n\n    if (tipStr.IsEmpty()) return FALSE;\n\n    if (TTN_NEEDTEXTA == notifMsg-&gt;code)\n    {\n        tttA-&gt;lpszText = tipStr.GetBuffer();\n        tttA-&gt;hinst = 0;\n    }\n    else\n    {\n        // Question: Is this a problem?  Will the buffer pointed to\n        // by tttW-&gt;lpszText be deleted after this function ends  \n        // making the pointer invalid?\n        tttW-&gt;lpszText = T2W(tipStr.GetBuffer());\n        tttW-&gt;hinst = 0;\n    }\n\n    ...\n}\n</code></pre>\n"}, {"tags": ["c++", "queue"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1459965638, "post_id": 36458741, "comment_id": 60529896, "body": "Try it out. Also add <code>const</code> to the parameter, so we can trust the statement such as: <i>&quot;The original queue Q must end up unchanged.&quot;</i>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459965641, "post_id": 36458741, "comment_id": 60529899, "body": "Did you try it?  Did it work?  Are you using a <code>std::queue</code> or some home grown one?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459965644, "post_id": 36458741, "comment_id": 60529903, "body": "<a href=\"http://en.cppreference.com/w/cpp/container/queue/operator%3D\" rel=\"nofollow noreferrer\">Sure</a>."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459965850, "post_id": 36458741, "comment_id": 60530020, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 Actually the third overload <a href=\"http://en.cppreference.com/w/cpp/container/queue/queue\" rel=\"nofollow noreferrer\">here</a> :) But there won&#39;t be one without the other, I guess."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1459965915, "post_id": 36458741, "comment_id": 60530053, "body": "@LogicStuff Oops, yes of course."}], "answers": [{"comments": [{"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1459966681, "post_id": 36459172, "comment_id": 60530523, "body": "no need for const here. It&#39;s good style, I know, but there&#39;s no need for it"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 3, "last_activity_date": 1459966699, "last_edit_date": 1459966699, "creation_date": 1459966517, "answer_id": 36459172, "question_id": 36458741, "link": "https://stackoverflow.com/questions/36458741/can-you-set-queues-equal-to-each-other/36459172#36459172", "title": "Can you set queues equal to each other?", "body": "<blockquote>\n  <p>Would it be possible to just do something like: ...</p>\n</blockquote>\n\n<p>Almost. Remember the requirement </p>\n\n<blockquote>\n  <blockquote>\n    <p>The original queue Q must end up unchanged.</p>\n  </blockquote>\n</blockquote>\n\n<p>Add a <code>const</code> to the reference parameter to guarantee that:</p>\n\n<pre><code>std::queue&lt;int&gt; copy_queue(const std::queue&lt;int&gt; &amp;Q) {    \n                        // ^^^^^\n    std::queue&lt;int&gt;Q2 = Q; \n    return Q2;\n}\n</code></pre>\n\n<hr>\n\n<p>Note that this <code>copy_queue()</code> function looks pretty useless, since simply using</p>\n\n<pre><code>std::queue&lt;int&gt;Q2 = Q; \n</code></pre>\n\n<p>already does what you want.</p>\n\n<p>See <a href=\"http://en.cppreference.com/w/cpp/container/queue/queue\" rel=\"nofollow\"><code>std::queue&lt;T&gt;::queue(const std::queue&lt;T&gt;&amp; other)</code></a> please.</p>\n"}], "owner": {"reputation": 111, "user_id": 5347756, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8bb0a2f2dd0692e5eaa56e52f219defe?s=128&d=identicon&r=PG&f=1", "display_name": "przm", "link": "https://stackoverflow.com/users/5347756/przm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6089, "favorite_count": 0, "closed_date": 1460295563, "accepted_answer_id": 36459172, "answer_count": 1, "score": -1, "last_activity_date": 1459967114, "creation_date": 1459965224, "last_edit_date": 1459967114, "question_id": 36458741, "link": "https://stackoverflow.com/questions/36458741/can-you-set-queues-equal-to-each-other", "closed_reason": "Not suitable for this site", "title": "Can you set queues equal to each other?", "body": "<p>For example, if I have one queue of <code>int</code> named Q with the values (from front to back) 0, 1, 2, and 3, can I just create another queue of <code>int</code> and set them equal to each other to copy data from one another?</p>\n\n<p>Here is an example:</p>\n\n<blockquote>\n  <p>Write a C++ Function <code>queue&lt;int&gt; copy_queue(queue&lt;int&gt; &amp;Q)</code> that returns a new queue containing all of the items in Q in the same order that they were found in Q. The original queue Q must end up unchanged.</p>\n</blockquote>\n\n<p>Would it be possible to just do something like:</p>\n\n<pre><code>queue&lt;int&gt; copy_queue(queue&lt;int&gt; &amp;Q){    \n  queue&lt;int&gt;Q2 = Q; \n  return Q2;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "class"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1459965418, "post_id": 36458737, "comment_id": 60529755, "body": "<code>Restaurant mimmos;</code> - not an array, <code>string menu = mimmos.Menu;</code>  - not accessible"}], "answers": [{"comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459965912, "post_id": 36458848, "comment_id": 60530050, "body": "Read the comment directly above the getShifts line."}], "tags": [], "owner": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "is_accepted": false, "score": -1, "last_activity_date": 1459965524, "creation_date": 1459965524, "answer_id": 36458848, "question_id": 36458737, "link": "https://stackoverflow.com/questions/36458737/c-array-of-type-class/36458848#36458848", "title": "c++ array of type class", "body": "<p>Because you are only creating a single object of <code>Restaurant</code> class, not an <code>array</code> so you cannot use with <code>index</code> there.</p>\n\n<p>You should use as follows</p>\n\n<pre><code>cout &lt;&lt; \"Shift info:\" &lt;&lt; mimmos.getShifts() &lt;&lt; endl;\n</code></pre>\n\n<p>Also to access <code>private</code> variable expose a <code>public</code> method which will return the <code>Menu</code> field.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 0, "last_activity_date": 1459967891, "last_edit_date": 1459967891, "creation_date": 1459966840, "answer_id": 36459288, "question_id": 36458737, "link": "https://stackoverflow.com/questions/36458737/c-array-of-type-class/36459288#36459288", "title": "c++ array of type class", "body": "<p>The first you have correctly identified is caused by access to a private member. The fix? A public member function which returns the menu:</p>\n\n<pre><code>string getMenu();\n</code></pre>\n\n<p>The second is an invalid attempt to treat 'mimmos' as an array when infact it is a single instance. Since the comment above it indicates it is an attempt to get information about the third shift. You have two choices: change the \"getShifts\" function to take an index parameter:</p>\n\n<pre><code>string getShift(size_t n) {\n    return Shifts[n];\n}\n</code></pre>\n\n<p>and then you would obtain information about the 3rd shift by writing:</p>\n\n<pre><code>cout &lt;&lt; \"Shift info: \" &lt;&lt; mimmos.getShift(2) &lt;&lt; std::endl;\n</code></pre>\n\n<p>Or change getShifts() to return an array pointer:</p>\n\n<pre><code>string* getShifts();\n</code></pre>\n\n<p>then you would write:</p>\n\n<pre><code>cout &lt;&lt; \"Shift info: \" &lt;&lt; mimmos.getShifts()[2] &lt;&lt; std::endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 3065085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c2KWo.png?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/3065085/mohsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1459967358, "creation_date": 1459967358, "answer_id": 36459475, "question_id": 36458737, "link": "https://stackoverflow.com/questions/36458737/c-array-of-type-class/36459475#36459475", "title": "c++ array of type class", "body": "<p>There are tree problems with this code:</p>\n\n<pre><code>string menu = mimmos.Menu;\n</code></pre>\n\n<p>Menu is declared private in Restaurant class.</p>\n\n<pre><code>Restaurant mimmos;\n//get information about shift 3\ncout &lt;&lt; \"Shift info:\" &lt;&lt; mimmos[2].getShifts() &lt;&lt; endl;\n</code></pre>\n\n<p>\"mimmos\" is single object and not an array. And in this case square brackets operator \"[]\" is used to access an array member.</p>\n\n<p>Also according to comment above that line: \"get information about shift 3\"</p>\n\n<p>You want to access the shift number 3 but the return type of \"getShifts\" function is single string object. So even if you move square brackets to front of the function :</p>\n\n<pre><code>cout &lt;&lt; \"Shift info:\" &lt;&lt; mimmos.getShifts()[2] &lt;&lt; endl;\n</code></pre>\n\n<p>You will get a single char (3rd char of the string).</p>\n\n<p><a href=\"http://www.cplusplus.com/reference/string/string/operator[]/\" rel=\"nofollow\">std::string::operator[]</a></p>\n"}], "owner": {"reputation": 51, "user_id": 3932201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15729b690b3fd6a2102a3f8b0f740020?s=128&d=identicon&r=PG&f=1", "display_name": "e.botha", "link": "https://stackoverflow.com/users/3932201/e-botha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "closed_date": 1459987839, "accepted_answer_id": 36459288, "answer_count": 3, "score": -5, "last_activity_date": 1459967891, "creation_date": 1459965215, "question_id": 36458737, "link": "https://stackoverflow.com/questions/36458737/c-array-of-type-class", "closed_reason": "Not suitable for this site", "title": "c++ array of type class", "body": "<p>I have just started learning c++. I have a question in an assignment that reads: Consider the following class declaration with a main() function. There are two errors in the main() function. Name them and explain how to fix them.</p>\n\n<pre><code>//Question Three Start\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nclass Restaurant\n{\npublic:\n    Restaurant();\n    int getTables();\n    int getTempStaff();\n    int getPermStaff();\n    string getShifts();\nprivate:\n    string Menu;\n    int Tables;\n    int TempStaff;\n    int PermStaff;\n    string Shifts[3];\n};\n\nint main()\n{\n    Restaurant mimmos;\n    //.........(additional code)\n    string menu = mimmos.Menu;\n    //.........(additional code)\n    //get information about shift 3\n    cout &lt;&lt; \"Shift info:\" &lt;&lt; mimmos[2].getShifts() &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>I know that the first issue is that the member variable Menu is private, but i am not sure how to fix the issue with the mimmos[2].getShifts() and how to use an accessor/mutator function. Any help will be greatly appreciated.</p>\n"}, {"tags": ["c++", "pointers", "fortran", "default-arguments", "mixed-programming"], "comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1459965120, "post_id": 36458612, "comment_id": 60529523, "body": "Although the answer to the dupe is not accepted, I think it addresses your issue, in other words, you cannot have non-C features (like default parameters) when compiling/linking with <code>extern C</code>. Here are some ways of simulating it: <a href=\"http://stackoverflow.com/q/2988038/3093378\">stackoverflow.com/q/2988038/3093378</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1459965360, "post_id": 36458612, "comment_id": 60529712, "body": "Using extern &quot;C&quot; will allow the linker bind fortran&#39;s myfunc(1) call to the function with 2 arguments.  But only 1 is supplied, big time UB.  You cannot do this, use a function with an other name like myfunc2()."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1459971949, "post_id": 36458612, "comment_id": 60533712, "body": "@vsoftco I do not agree with duplicating this. The problem can be solved, just the optional argument part must be done in Fortran, it has support for this."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1459980129, "post_id": 36458612, "comment_id": 60538144, "body": "Thanks, I reopened it so feel free to add an answer."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 0, "creation_date": 1460097239, "post_id": 36471634, "comment_id": 60594026, "body": "thanks for your solution. is this supported in g++ and gfortran? did you tested it? i am asking because when i try to compile your code with the commands given in my initial post, it complains about _myfunc function (Undefined symbols for architecture ...) and did not compile."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "reply_to_user": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 0, "creation_date": 1460099778, "post_id": 36471634, "comment_id": 60595249, "body": "@epsilon Yes it will work. Noice that I renamed _myfunc to myfunc and that I use <code>bind(C,name=&quot;myfunc&quot;)</code> Be sure to follow these details or leave _myfunc and use <code>bind(C,name=&quot;_myfunc&quot;)</code>."}, {"owner": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 0, "creation_date": 1460114138, "post_id": 36471634, "comment_id": 60603910, "body": "Yes i know that the function name changed. It is weird and i am using your code without any change but it does not compile. I did not change anything in the function and the main program. do you think that there could be a issue of compiler version."}, {"owner": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 0, "creation_date": 1460114190, "post_id": 36471634, "comment_id": 60603943, "body": "BTW, i am using Mac OS along with GNU compiler and i think that the issue could be related with the OS and compilers. So, i tested the code under CentOS (gcc version 4.4.7 20120313) and it gives following error, when i try to compile it <code>gfortran -o main.x main.f90 myfunc.o  main.f90:5.34:          subroutine myfunc(var, arr) bind(C, name=&quot;myfunc&quot;)                                     1 Error: Variable &#39;arr&#39; at (1) cannot have the OPTIONAL attribute because procedure &#39;myfunc&#39; is BIND(C)</code>.  With Intel compiler the error is <code>main.f90:(.text+0x49): undefined reference to </code>myfunc&#39;`."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "reply_to_user": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 1, "creation_date": 1460115164, "post_id": 36471634, "comment_id": 60604599, "body": "@epsilon GCC 4..4 is too old. But I just checked the exact above code with GCC 4.8 (note I changed 2 lines in the C++) and it works. I compile as <code>gfortran opt.cc opt.f90 -lstdc++</code>.  Maybe you call <code>_myfunc</code> somewhere else?"}, {"owner": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "edited": false, "score": 0, "creation_date": 1460116381, "post_id": 36471634, "comment_id": 60605337, "body": "Okay. Thanks for your help. Now it is working. I was adding <code>#include &lt;iostream&gt;</code> but not <code>extern &quot;C&quot;</code>. Now, it compels and works without any problem. I think that missing <code>extern &quot;C&quot;</code> was causing the problem. Anyway, thanks for your help."}], "tags": [], "owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "is_accepted": true, "score": 2, "last_activity_date": 1460115071, "last_edit_date": 1460115071, "creation_date": 1460020386, "answer_id": 36471634, "question_id": 36458612, "link": "https://stackoverflow.com/questions/36458612/default-arguments-for-pointer-in-c-and-mixed-programming/36471634#36471634", "title": "Default arguments for pointer in C++ and mixed programming", "body": "<p>As pointed out in the comments, you cannot have default values of parameters in <code>extern \"C\"</code> functions. However, you can have optional arguments in the Fortran interface of the function and call it exactly the way you want:</p>\n\n<pre><code>#include &lt;iostream&gt;\nextern \"C\" void myfunc(int var, double* arr) { //removed the = 0 and renamed to myfunc\n  if (arr == 0) {\n    std::cout &lt;&lt; \"1 arg\" &lt;&lt; std::endl;\n  } else {\n    std::cout &lt;&lt; \"2 arg\" &lt;&lt; std::endl;\n  }\n}\n</code></pre>\n\n<p>In Fortran create an interface describing the  C(C++) function:</p>\n\n<pre><code>program main\nuse iso_c_binding\n\ninterface\n  subroutine myfunc(var, arr) bind(C, name=\"myfunc\")  \n    use iso_c_binding\n    integer(c_int), value :: var\n    real(c_double), optional :: arr(*)\n  end subroutine\nend interface\n\n!C_double comes from iso_c_binding\nreal(c_double):: arr(2)\n\ncall myfunc(1_c_int)\ncall myfunc(1_c_int, arr)\nend program main\n</code></pre>\n\n<p>The key thing is the <code>optional</code> attribute in the interface. If you don't supply the optional array, a null pointer will be passed instead.</p>\n\n<p>Also notice the <code>value</code> attribute to the <code>var</code> argument. It is necessary because the C++ function accepts the parameter by value.</p>\n\n<p>Note: this is quite a recent addition as a <a href=\"ftp://ftp.nag.co.uk/sc22wg5/N1901-N1950/N1942.pdf\" rel=\"nofollow\">TS</a> to the Fortran 2008 standard, but is widely supported.</p>\n"}], "owner": {"reputation": 33, "user_id": 6168261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015101621354cbed666ca4ddb105cebf?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/6168261/epsilon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 36471634, "answer_count": 1, "score": 3, "last_activity_date": 1460115071, "creation_date": 1459964885, "last_edit_date": 1459971819, "question_id": 36458612, "link": "https://stackoverflow.com/questions/36458612/default-arguments-for-pointer-in-c-and-mixed-programming", "title": "Default arguments for pointer in C++ and mixed programming", "body": "<p>The usage of default arguments for pointers in C++ can be demonstrated with following code </p>\n\n<pre><code>#include &lt;iostream&gt;\n\nvoid myfunc_(int var, double* arr = 0) {\n  if (arr == 0) {\n    std::cout &lt;&lt; \"1 arg\" &lt;&lt; std::endl;\n  } else {\n    std::cout &lt;&lt; \"2 arg\" &lt;&lt; std::endl;\n  }\n}\n\nint main() {\n  myfunc(1);\n  double *arr = new double[2];\n  myfunc(1, arr);\n}\n</code></pre>\n\n<p>in this case, the output of the program is</p>\n\n<pre><code>1 arg\n2 arg\n</code></pre>\n\n<p>on the other hand, if i try to pass optional arguments from Fortran to C++, it does not work. The following example code demonstrates the sutiation</p>\n\n<p>The <strong>myfunc.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nextern \"C\" void myfunc_(int var, double* arr = 0) {\n  if (arr == 0) {\n    std::cout &lt;&lt; \"1 arg\" &lt;&lt; std::endl;\n  } else {\n    std::cout &lt;&lt; \"2 arg\" &lt;&lt; std::endl;\n  }\n} \n</code></pre>\n\n<p>and the <strong>Fortran main program</strong></p>\n\n<pre><code>program main\nuse iso_c_binding\n\nreal*8 :: arr(2)\n\ncall myfunc(1)\ncall myfunc(1, arr)\nend program main\n</code></pre>\n\n<p>and the mixed code (Fortran and C++) can be compiled using following command without any error</p>\n\n<pre><code>g++ -c myfunc.cpp\ngfortran -o main.x myfunc.o main.f90 -lstdc++ -lc++ \n</code></pre>\n\n<p>but the program prints </p>\n\n<pre><code>2 arg\n2 arg\n</code></pre>\n\n<p>in this case. So, Is there any solution for this problem? Am i missing something in here? I think that using default arguments in mixed programming is not working as it expected but i need suggestion at this point.</p>\n"}, {"tags": ["java", "c++", "java-native-interface"], "comments": [{"owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "edited": false, "score": 6, "creation_date": 1459965331, "post_id": 36458490, "comment_id": 60529686, "body": "See <a href=\"http://stackoverflow.com/questions/1947122/\">&quot;Is there a simple way of obtaining all object instances of a specific class in Java&quot;</a>."}, {"owner": {"reputation": 77842, "user_id": 3448419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54njx.png?s=128&g=1", "display_name": "apangin", "link": "https://stackoverflow.com/users/3448419/apangin"}, "edited": false, "score": 0, "creation_date": 1460004635, "post_id": 36458490, "comment_id": 60545066, "body": "Though this question has a similar title, I wouldn&#39;t call it duplicate, since the referenced question is 1) outdated, 2) not about JNI, 3) does not have a precise answer."}], "answers": [{"tags": [], "owner": {"reputation": 77842, "user_id": 3448419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54njx.png?s=128&g=1", "display_name": "apangin", "link": "https://stackoverflow.com/users/3448419/apangin"}, "is_accepted": true, "score": 7, "last_activity_date": 1460006980, "creation_date": 1460006980, "answer_id": 36467422, "question_id": 36458490, "link": "https://stackoverflow.com/questions/36458490/jni-how-to-list-all-the-current-instances/36467422#36467422", "title": "JNI, How to list all the current instances?", "body": "<p><a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html\" rel=\"noreferrer\">JVMTI</a> will help.</p>\n\n<ol>\n<li>Call <a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#IterateOverInstancesOfClass\" rel=\"noreferrer\"><code>IterateOverInstancesOfClass</code></a> to tag all required objects;</li>\n<li>Call <a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#GetObjectsWithTags\" rel=\"noreferrer\"><code>GetObjectsWithTags</code></a> to copy all tagged objects to <code>jobject*</code> array.</li>\n</ol>\n\n<p>Here is an example. Note that <code>targetClass</code> can be also an interface.</p>\n\n<pre><code>static jvmtiIterationControl JNICALL\nHeapObjectCallback(jlong class_tag, jlong size, jlong* tag_ptr, void* user_data) {\n    *tag_ptr = 1;\n    return JVMTI_ITERATION_CONTINUE;\n}\n\nJNIEXPORT void JNICALL\nJava_Test_iterateInstances(JNIEnv* env, jclass ignored, jclass targetClass) {\n    JavaVM* vm;\n    env-&gt;GetJavaVM(&amp;vm);\n\n    jvmtiEnv* jvmti;\n    vm-&gt;GetEnv((void**)&amp;jvmti, JVMTI_VERSION_1_0);\n\n    jvmtiCapabilities capabilities = {0};\n    capabilities.can_tag_objects = 1;\n    jvmti-&gt;AddCapabilities(&amp;capabilities);\n\n    jvmti-&gt;IterateOverInstancesOfClass(targetClass, JVMTI_HEAP_OBJECT_EITHER,\n                                       HeapObjectCallback, NULL);\n\n    jlong tag = 1;\n    jint count;\n    jobject* instances;\n    jvmti-&gt;GetObjectsWithTags(1, &amp;tag, &amp;count, &amp;instances, NULL);\n\n    printf(\"Found %d objects with tag\\n\", count);\n\n    jvmti-&gt;Deallocate((unsigned char*)instances);\n}\n</code></pre>\n"}], "owner": {"reputation": 2822, "user_id": 1366673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf94cf8fe9b542830a7f96973ca2ddd9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1366673/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 1, "accepted_answer_id": 36467422, "answer_count": 1, "score": 2, "last_activity_date": 1460006980, "creation_date": 1459964569, "question_id": 36458490, "link": "https://stackoverflow.com/questions/36458490/jni-how-to-list-all-the-current-instances", "title": "JNI, How to list all the current instances?", "body": "<p>I would like to know if it is possible with JNI apis to list ALL the current available instances(as jobject) in the current JVM.</p>\n\n<p>Example of what I mean:</p>\n\n<pre><code>jvm-&gt;AttachCurrentThreadAsDaemon((void**)&amp;env,0);\njobject* instances;\nint count = env-&gt;GetInstances(&amp;instances);\n</code></pre>\n\n<p>My task would be to search through them for objects which implement a certain interface(<code>env-&gt;IsInstanceOf()</code>), I have to do this dynamically and globally without class names</p>\n"}, {"tags": ["c++", "constructor", "ternary-operator"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1459964260, "post_id": 36458348, "comment_id": 60528983, "body": "You&#39;re about to get to know the comma operator. And what&#39;s &quot;short if&quot;?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1459964392, "post_id": 36458348, "comment_id": 60529066, "body": "Provide an appropriate copy constructor and write <code>myClass cc = isTrue(aa,bb) ? myClass(aa,bb) : myClass (bb,bb);</code>"}, {"owner": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "edited": false, "score": 0, "creation_date": 1459964951, "post_id": 36458348, "comment_id": 60529395, "body": "Should I ignore copy constructor and just write as you said? Or do I have to implement it?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459966121, "post_id": 36458348, "comment_id": 60530176, "body": "@raptor0102 it&#39;s called &quot;ternary operator&quot; not &quot;short if&quot;."}, {"owner": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "edited": false, "score": 0, "creation_date": 1459966626, "post_id": 36458348, "comment_id": 60530486, "body": "Its working! Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 1, "last_activity_date": 1459966573, "creation_date": 1459966573, "answer_id": 36459195, "question_id": 36458348, "link": "https://stackoverflow.com/questions/36458348/initializtion-class-object-error-using-ternary-operator/36459195#36459195", "title": "initializtion class object error using ternary operator", "body": "<p>Before you try and answer the whole of your own question, we should look at what happens when we simplify it to not include the ternary operator:</p>\n\n<pre><code>myClass cc = (aa, bb);\n</code></pre>\n\n<p>This would also call the single-parameter constructor, because this is not how you pass parameters to a constructor, it is not the same as</p>\n\n<pre><code>myClass cc(aa, bb);\n</code></pre>\n\n<p>Instead, what you are doing is invoking the \"comma operator\". You should take a look at what value is being passed to your single value constructor, you'll find that it is the value of <code>bb</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass A {\npublic:\n    A(int a) {\n        std::cout &lt;&lt; \"single \" &lt;&lt; a &lt;&lt; '\\n';\n    }\n    A(int a, int b) {\n        std::cout &lt;&lt; \"double \" &lt;&lt; a &lt;&lt; ',' &lt;&lt; b &lt;&lt; '\\n';\n    }\n};\n\nint main()\n{\n    int aa = 5;\n    int bb = 6;\n\n    A a = (aa, bb);\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/wapbv9\" rel=\"nofollow\">http://ideone.com/wapbv9</a></p>\n\n<p>The comma operator evaluates the expression on the left, discards it and evaluates the expression on the right. So what you are actually writing is:</p>\n\n<pre><code>(void)aa;  // a way to say \"evaluate this and ignore it\"\nA a = bb;\n</code></pre>\n\n<p>In order to do what you are trying to achieve you'll need to construct an instance of your class:</p>\n\n<pre><code>myClass cc = isTrue(aa, bb) ? myClass(aa, bb) : myClass(bb, bb);\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 3660832, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76da87bae67df5fa4c4a71b3a383a944?s=128&d=identicon&r=PG&f=1", "display_name": "raptor0102", "link": "https://stackoverflow.com/users/3660832/raptor0102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 36459195, "answer_count": 1, "score": -2, "last_activity_date": 1459966573, "creation_date": 1459964176, "last_edit_date": 1459966240, "question_id": 36458348, "link": "https://stackoverflow.com/questions/36458348/initializtion-class-object-error-using-ternary-operator", "title": "initializtion class object error using ternary operator", "body": "<p>I'm trying to create an object using the ternary operator, But every time, its called only the first one. Here is my simple code:</p>\n\n<pre><code>bool itTrue(int x, int y){\n  if(x&gt;y)\n     return true;\n  return false;\n}\nclass myClass {\n    public:\n       myClass(int x){\n          val=x;\n      }\n       myClass(int x, int y){\n          val=x*y;\n      }\n      val=0;\n };\nint main(){\n   aa=5;\n   bb=6;\n   myClass cc = isTrue(aa,bb) ? (aa,bb) : (bb,bb);\n   cout&lt;&lt;cc.val&lt;&lt;endl;\n   return 0;\n}\n</code></pre>\n\n<p>Some how, using the Debuger, after isTrue functions is called, the constructor who gets called is the one using one object:\n<code>myClass(int x)</code>\n But I want to use both arguments, How do I call the other one:\n<code>myClass(int x, int y)</code> using the ternary operator? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459964267, "post_id": 36458333, "comment_id": 60528989, "body": "Do you have to do it using two for loops? And It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1459964540, "post_id": 36458333, "comment_id": 60529140, "body": "Pick some arbitrary N and go through it by hand, line-by-line to see what you get when you draw it out. (I&#39;ll give you a hint, the bounds in your for loops aren&#39;t quite what you think they are.)"}], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "reply_to_user": {"reputation": 3, "user_id": 2426219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd4c1c1737c6b08d03c19e047e5a96b?s=128&d=identicon&r=PG", "display_name": "BaNi Dibra", "link": "https://stackoverflow.com/users/2426219/bani-dibra"}, "edited": false, "score": 0, "creation_date": 1459969332, "post_id": 36458466, "comment_id": 60532137, "body": "don&#39;t know if I deserve that, but glad to help"}], "tags": [], "owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "is_accepted": true, "score": 0, "last_activity_date": 1459964524, "creation_date": 1459964524, "answer_id": 36458466, "question_id": 36458333, "link": "https://stackoverflow.com/questions/36458333/normal-and-upsidedown-triangle-of-stars-in-c/36458466#36458466", "title": "Normal And UpsideDown Triangle of stars in C++", "body": "<p>Your outer loop is making <code>i</code> go from <code>1</code> to <code>n</code> (which means <code>n</code> rows), but there are less than <code>n</code> rows since each row, the number of stars decreases by 2, not 1. The extra lines are the result of this. There are no stars in the extra lines because in this loop:</p>\n\n<pre><code>for(j=i;j&lt;=n-i+1;j++)\n    cout&lt;&lt;\"*\";\n</code></pre>\n\n<p>once <code>i</code> exceeds half the size of <code>n</code>, the loop will not print any stars, since the initial value of <code>j</code> is greater than the terminating condition for <code>j</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 2426219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd4c1c1737c6b08d03c19e047e5a96b?s=128&d=identicon&r=PG", "display_name": "BaNi Dibra", "link": "https://stackoverflow.com/users/2426219/bani-dibra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 1, "accepted_answer_id": 36458466, "answer_count": 1, "score": 0, "last_activity_date": 1459964524, "creation_date": 1459964129, "last_edit_date": 1459964225, "question_id": 36458333, "link": "https://stackoverflow.com/questions/36458333/normal-and-upsidedown-triangle-of-stars-in-c", "title": "Normal And UpsideDown Triangle of stars in C++", "body": "<p>I need to create a upsidedown triangle and a normal triangle and it should look like this:</p>\n\n<pre><code>***********\n *********\n  *******\n   *****\n    ***\n     *          \n     *\n    ***\n   *****\n  *******\n *********\n***********\n</code></pre>\n\n<p>I created something but I get 5 new lines and than the other triangle:</p>\n\n<pre><code>***********\n *********\n  *******\n   *****\n    ***\n     *\n\n\n\n\n\n     *\n    ***\n   *****\n  *******\n *********\n***********\n</code></pre>\n\n<p>Here is the C++ code , Hope someone can resolve my issue : </p>\n\n<pre><code>int n,i,j;\n\ncout&lt;&lt;\"Give the Number N of Stars \";\ncin&gt;&gt;n;\n\nfor(i=1; i&lt;=n; i++)\n{    \n    for(j=1;j&lt;=i-1;j++)\n        cout&lt;&lt;\" \";\n     for(j=i;j&lt;=n-i+1;j++)\n        cout&lt;&lt;\"*\";\n     cout&lt;&lt;\"\\n\";\n}\n\nfor(i=1;i&lt;=n;i++)\n{    \n    for(j=i;j&lt;=n-1;j++)\n        cout&lt;&lt;\" \";\n    for(j=1;j&lt;=2*i-n;j++)\n        cout&lt;&lt;\"*\";\n    cout&lt;&lt;\"\\n\";\n}\n</code></pre>\n"}, {"tags": ["c++", "stack"], "comments": [{"owner": {"reputation": 7230, "user_id": 4221083, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbb81063f5b67ee63b903a9c8b277964?s=128&d=identicon&r=PG", "display_name": "theblindprophet", "link": "https://stackoverflow.com/users/4221083/theblindprophet"}, "edited": false, "score": 0, "creation_date": 1459963648, "post_id": 36458131, "comment_id": 60528623, "body": "As in how the computer would calculate this step by step?"}, {"owner": {"reputation": 171, "user_id": 2897708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0aaa0035b255b096b5a525173e609f?s=128&d=identicon&r=PG", "display_name": "David Herskovics", "link": "https://stackoverflow.com/users/2897708/david-herskovics"}, "reply_to_user": {"reputation": 7230, "user_id": 4221083, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbb81063f5b67ee63b903a9c8b277964?s=128&d=identicon&r=PG", "display_name": "theblindprophet", "link": "https://stackoverflow.com/users/4221083/theblindprophet"}, "edited": false, "score": 0, "creation_date": 1459963877, "post_id": 36458131, "comment_id": 60528757, "body": "Yes. I know that this piece of code is not correct and have a general idea why it is not, but I would like to see exactly what happens &quot;behind the scene&quot; to totally understand how the stack works and how this code can cause a problem."}, {"owner": {"reputation": 6453, "user_id": 916225, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba66e25b90b0c202ef0770f81391be97?s=128&d=identicon&r=PG", "display_name": "Karthikeyan Vaithilingam", "link": "https://stackoverflow.com/users/916225/karthikeyan-vaithilingam"}, "edited": false, "score": 1, "creation_date": 1459963944, "post_id": 36458131, "comment_id": 60528796, "body": "You do it by yourself by debugging."}, {"owner": {"reputation": 171, "user_id": 2897708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0aaa0035b255b096b5a525173e609f?s=128&d=identicon&r=PG", "display_name": "David Herskovics", "link": "https://stackoverflow.com/users/2897708/david-herskovics"}, "reply_to_user": {"reputation": 6453, "user_id": 916225, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba66e25b90b0c202ef0770f81391be97?s=128&d=identicon&r=PG", "display_name": "Karthikeyan Vaithilingam", "link": "https://stackoverflow.com/users/916225/karthikeyan-vaithilingam"}, "edited": false, "score": 0, "creation_date": 1459964423, "post_id": 36458131, "comment_id": 60529082, "body": "@KarthikeyanVaithilingam How do I do that?"}, {"owner": {"reputation": 6453, "user_id": 916225, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba66e25b90b0c202ef0770f81391be97?s=128&d=identicon&r=PG", "display_name": "Karthikeyan Vaithilingam", "link": "https://stackoverflow.com/users/916225/karthikeyan-vaithilingam"}, "edited": false, "score": 0, "creation_date": 1459964465, "post_id": 36458131, "comment_id": 60529097, "body": "Are you using any IDE?"}, {"owner": {"reputation": 171, "user_id": 2897708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0aaa0035b255b096b5a525173e609f?s=128&d=identicon&r=PG", "display_name": "David Herskovics", "link": "https://stackoverflow.com/users/2897708/david-herskovics"}, "reply_to_user": {"reputation": 6453, "user_id": 916225, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba66e25b90b0c202ef0770f81391be97?s=128&d=identicon&r=PG", "display_name": "Karthikeyan Vaithilingam", "link": "https://stackoverflow.com/users/916225/karthikeyan-vaithilingam"}, "edited": false, "score": 0, "creation_date": 1459964614, "post_id": 36458131, "comment_id": 60529194, "body": "@KarthikeyanVaithilingam Code::Blocks"}, {"owner": {"reputation": 6453, "user_id": 916225, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba66e25b90b0c202ef0770f81391be97?s=128&d=identicon&r=PG", "display_name": "Karthikeyan Vaithilingam", "link": "https://stackoverflow.com/users/916225/karthikeyan-vaithilingam"}, "edited": false, "score": 1, "creation_date": 1459964720, "post_id": 36458131, "comment_id": 60529268, "body": "@DavidHerskovics I never used Code::Blocks, but <a href=\"http://wiki.codeblocks.org/index.php/Debugging_with_Code::Blocks\" rel=\"nofollow noreferrer\">this</a> should help you."}], "answers": [{"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 3, "last_activity_date": 1459966364, "creation_date": 1459966364, "answer_id": 36459118, "question_id": 36458131, "link": "https://stackoverflow.com/questions/36458131/how-does-the-stack-change-step-by-step-in-this-c-program/36459118#36459118", "title": "How does the stack change step by step in this c++ program?", "body": "<p>Contrary to popular belief, the c++ standard never mentions the concept of a stack. (other than the std::stack class template, which is not what you mean here).</p>\n\n<p>The standard talks in terms of functions, flow of control, local objects, heap objects and static objects.</p>\n\n<p>It is entirely possible to write a c++ compiler for an architecture that does not have a stack (the old TMS 9900 series of chip for which I rote when I was a teenager springs to mind).</p>\n\n<p>Your question might be better put as:</p>\n\n<blockquote>\n  <p>How does the stack change step by step in this c++ program, when compiled with X compiler, with Y options for Z architecture?</p>\n</blockquote>\n\n<p>For which the answer lies only in your debugger or in the assembler listing (for gcc, compile with -S option)</p>\n\n<p>In truth, if you compile this program with optimisations on, there will be no stack movement at all. The entire flow will be inlined.</p>\n\n<p>for example, gcc 5.3 with -O2 produces the following code (see below)</p>\n\n<p>Note that because you introduced undefined behaviour by returning a reference to a local variable, the compiler is permitted to do anything it likes. In this case it decided that your program does nothing. main simply returns zero.</p>\n\n<p>assembler output:</p>\n\n<pre><code>init_pi():\n        xorl    %eax, %eax\n        ret\n.LC1:\n        .string \"%lf\\n\"\ncircumference(double, double&amp;):\n        pushq   %rbx\n        movl    $1, %eax\n        movq    %rdi, %rbx\n        subq    $16, %rsp\n        movsd   %xmm0, 8(%rsp)\n        movsd   (%rdi), %xmm0\n        movl    $.LC1, %edi\n        call    printf\n        movsd   8(%rsp), %xmm1\n        movsd   (%rbx), %xmm0\n        addq    $16, %rsp\n        addsd   %xmm1, %xmm1\n        popq    %rbx\n        mulsd   %xmm1, %xmm0\n        ret\nmain:\n        movsd   0, %xmm0\n        ud2\n</code></pre>\n\n<p>compiler warning:</p>\n\n<pre><code>/tmp/gcc-explorer-compiler11636-75-1libuwy/example.cpp: In function 'double&amp; init_pi()':\n5 : warning: reference to local variable 'pi' returned [-Wreturn-local-addr]\ndouble pi = 3.14;\n^\nCompiled ok\n</code></pre>\n\n<p>If we fix the warning and subsequent error, we get this:</p>\n\n<pre><code>init_pi():\n        movsd   .LC0(%rip), %xmm0\n        ret\n.LC2:\n        .string \"%lf\\n\"\ncircumference(double, double):\n        subq    $24, %rsp\n        movl    $.LC2, %edi\n        movl    $1, %eax\n        movsd   %xmm0, 8(%rsp)\n        movapd  %xmm1, %xmm0\n        movsd   %xmm1, (%rsp)\n        call    printf\n        movsd   8(%rsp), %xmm2\n        movsd   (%rsp), %xmm1\n        addq    $24, %rsp\n        addsd   %xmm2, %xmm2\n        movapd  %xmm2, %xmm0\n        mulsd   %xmm1, %xmm0\n        ret\n.LC5:\n        .string \"%lf\\n,\"\nmain:\n        subq    $8, %rsp\n        movl    $.LC2, %edi\n        movl    $1, %eax\n        movsd   .LC0(%rip), %xmm0\n        call    printf\n        movsd   .LC4(%rip), %xmm0\n        movl    $.LC5, %edi\n        movl    $1, %eax\n        call    printf\n        xorl    %eax, %eax\n        addq    $8, %rsp\n        ret\n.LC0:\n        .long   1374389535\n        .long   1074339512\n.LC4:\n        .long   1374389535\n        .long   1076436664\n</code></pre>\n\n<p>Again, you will see that <code>main</code> has been completely inlined. There is no stack use whatsoever (other than during the calls to printf)</p>\n"}], "owner": {"reputation": 171, "user_id": 2897708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0aaa0035b255b096b5a525173e609f?s=128&d=identicon&r=PG", "display_name": "David Herskovics", "link": "https://stackoverflow.com/users/2897708/david-herskovics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36459118, "answer_count": 1, "score": 1, "last_activity_date": 1459966364, "creation_date": 1459963434, "last_edit_date": 1459964443, "question_id": 36458131, "link": "https://stackoverflow.com/questions/36458131/how-does-the-stack-change-step-by-step-in-this-c-program", "title": "How does the stack change step by step in this c++ program?", "body": "<p>I have the following c++ program where a function returns a reference to a local variable. Can you please show me step by step what happens exactly to the stack?</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\ndouble&amp; init_pi()\n{\n    double pi = 3.14;\n    return pi;\n}\n\ndouble circumference(double r, double&amp; pi)\n{\n    printf(\"%lf\\n\", pi);\n    return 2*r*pi;\n}\n\nint main()\n{\n    printf(\"%lf\\n,\", circumference(2, init_pi()));\n    return 0;\n}\n</code></pre>\n\n<p>Thank you for the answers.</p>\n"}, {"tags": ["c++", "reference", "static", "stack", "member"], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 5563225, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/54159a68ec7941e85d0ae4c581be0d44?s=128&d=identicon&r=PG&f=1", "display_name": "starlight", "link": "https://stackoverflow.com/users/5563225/starlight"}, "edited": false, "score": 0, "creation_date": 1459988836, "post_id": 36459980, "comment_id": 60540800, "body": "Thank you for your help. I understand what I&#39;m doing wrong now."}], "tags": [], "owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1459968941, "creation_date": 1459968941, "answer_id": 36459980, "question_id": 36458075, "link": "https://stackoverflow.com/questions/36458075/parentheses-matching-program-using-stacks-not-stl-template-stacks/36459980#36459980", "title": "Parentheses matching program using stacks (not STL template stacks)", "body": "<p>Because you're calling non-static member functions as though they were static. You also never allocate an instance of StringStack, though you have a StringStack pointer. When you dereference that pointer at <code>stack-&gt;stackSize = parentest.length;</code> you're going to have a segmentation fault.\nThis <code>char parentest[paren.length] = paren;</code> is also wrong.</p>\n\n<p>There is almost nothing correct about the code you've shown.</p>\n\n<p>This is an example of how you need to instantiate your class and how to invoke member functions:</p>\n\n<pre><code>StringStack stack(100);\nstring s( \"a string\" );\nstack.push( s );\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5563225, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/54159a68ec7941e85d0ae4c581be0d44?s=128&d=identicon&r=PG&f=1", "display_name": "starlight", "link": "https://stackoverflow.com/users/5563225/starlight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 36459980, "answer_count": 1, "score": 0, "last_activity_date": 1459968941, "creation_date": 1459963278, "last_edit_date": 1459966840, "question_id": 36458075, "link": "https://stackoverflow.com/questions/36458075/parentheses-matching-program-using-stacks-not-stl-template-stacks", "title": "Parentheses matching program using stacks (not STL template stacks)", "body": "<p>I am making a parentheses matching program for my homework and I am not quite sure how to go about this exactly. I am getting errors when calling my stack functions saying a nonstatic member reference must be made using a relative a specific object in  the is_balanced function. Why is this error occurring and how can I fix it? Thanks for the help.</p>\n\n<pre><code>    #include &lt;iostream&gt;\n\n#include &lt;string&gt;\n\n#include \"StringStack.h\"\n\n\nusing namespace std;\n\nchar parentest[];\n\nint main() {\n\n    //variables\n\n    string paren;\n\n    StringStack *stack;\n\n    //user input\n\n    cout &lt;&lt; \"Please enter a string of parentheses\";\n\n    cin &gt;&gt; paren;\n\n    //turn string into char array\n\n    char parentest[paren.length] = paren;\n\n    //set size of the stack equal to the length of the char array.\n\n    stack-&gt;stackSize = parentest.length;\n\n    //display the string of balanced parantheses\n\n    cout &lt;&lt; is_balanced(parentest);\n\n    system(\"Pause\");\n\n    return 0;\n\n}\n\n//balances the parentheses and returns the string\n\nbool is_balanced(string s) {\n    bool status;\n    for (int i = 0; i &lt; s.length, i++) {\n\n        cout &lt;&lt; s[i] &lt;&lt; endl;\n\n    StringStack::push(s[i]);\n    }\n    StringStack::isEmpty();\n    if (StringStack::isEmpty) {\n        status = true;\n    }\n    return status;\n}\n\n//constructor creates an empty stack\n\nStringStack::StringStack(int size)\n\n{\n\n    stackArray = new string[size];\n\n    stackSize = size;\n\n    top = -1;\n\n}\n\n//copy constructor\n\nStringStack::StringStack(const StringStack &amp;obj) {\n\n    //creates stack array\n\n    if (obj.stackSize &gt; 0) {\n\n        stackArray = new string[obj.stackSize];\n\n    }\n\n    else {\n\n        stackArray = nullptr;\n\n    }\n\n    //copies stack contents\n\n    stackSize = obj.stackSize;\n\n    for (int count = 0; count &lt; stackSize; count++) {\n\n        stackArray[count] = obj.stackArray[count];\n\n    }\n\n    //set top of stack\n\n    top = obj.top;\n\n}\n\n\n\n//Destructor\n\nStringStack::~StringStack() {\n\n    delete[] stackArray;\n\n}\n\n//puts a value at top of the stack\n\nvoid StringStack::push(string p) {\n\n    if (isFull()) {\n\n        cout &lt;&lt; \"The stack is full. \\n\";\n\n    }\n\n    else {\n\n        top++;\n\n        stackArray[top] = p;\n\n    }\n\n\n\n}\n\nvoid StringStack::pop() {\n\n    if (isEmpty()) {\n\n        cout &lt;&lt; \"the stack is empty\";\n\n    }\n\n    else {\n\n        top--;\n\n        return top;\n\n    }\n\n\n\n}\n\nbool StringStack::isFull() const {\n\n\n\n    bool status;\n\n\n\n    if (top == stackSize - 1) {\n\n        status = true;\n\n    }\n\n    else {\n\n        status = false;\n\n    }\n\n    return status;\n\n}\n\nbool StringStack::isEmpty() const {\n\n    bool status;\n\n\n\n    if (top == -1) {\n\n        status = true;\n\n    }\n\n    else {\n\n        status = false;\n\n    }\n\n    return status;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "c++11"], "comments": [{"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 1, "creation_date": 1459963217, "post_id": 36458049, "comment_id": 60528339, "body": "<code>typedef typename std::map&lt;T1, T2&gt;::const_iterator i_t;</code> !"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1459963602, "post_id": 36458049, "comment_id": 60528594, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords\">Where and why do I have to put the \u201ctemplate\u201d and \u201ctypename\u201d keywords?</a>"}, {"owner": {"reputation": 9, "user_id": 6168112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296df49f33cfd1dba1f5194f7890595?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6168112/samuel"}, "edited": false, "score": 0, "creation_date": 1459963662, "post_id": 36458049, "comment_id": 60528632, "body": "arrrrrrrrrrrrrrrr ! perfect answer ! what a mistake I made ! Many Thanks Piotr !"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1459964836, "post_id": 36458049, "comment_id": 60529337, "body": "With all due respect, I think that this question was closed in error. The supposed duplicate is &quot;Where and why do I have to put the \u201ctemplate\u201d and \u201ctypename\u201d keywords?&quot; which does not have a c++11 tag, as this question does. While the problem is the same as the one there, the solutions are not necessarily the same (e.g., using <code>decltype</code>)."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1459972607, "post_id": 36458049, "comment_id": 60534087, "body": "@AmiTavory, I agree with your observation, but the proper thing to do is to add this as an aswer to the duplicate so it becomes an authoritive answer in both dialects."}], "owner": {"reputation": 9, "user_id": 6168112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296df49f33cfd1dba1f5194f7890595?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6168112/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1459963627, "answer_count": 0, "score": 0, "last_activity_date": 1459963189, "creation_date": 1459963189, "question_id": 36458049, "link": "https://stackoverflow.com/questions/36458049/cannot-access-first-and-second-members-from-an-iterator-on-a-templated-stdmap", "closed_reason": "Duplicate", "title": "Cannot access first and second members from an iterator on a templated std::map", "body": "<p>I want to write a template function to interpolate missing values within a std::map like this :</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;typename T1, typename T2&gt;\nT2 interpolate(const std::map&lt;T1, T2&gt; &amp;data, const T1 at_x);\n</code></pre>\n\n<p>When I write the function with real type for the map, like <code>std::map &lt;unsigned short, double&gt;</code> , all is fine.\nBut when I want to template the function, after I create an iterator for the map, I cannot access the ->first and ->second membres anymore from the iterator ? why ?</p>\n\n<p>Here's the code of my templated function:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;typename T1, typename T2&gt;\nT2 interpolate(const std::map&lt;T1, T2&gt; &amp;data, const T1 at_x){\n\n    typedef std::map&lt;T1, T2&gt;::const_iterator i_t;\n\n    i_t right = data.upper_bound(at_x);\n    i_t left;\n    double delta;\n\n    data.begin()-&gt;first; // this is ok for the compiler and the auto-completion of eclipse\n    right-&gt;first; // this is rejected: \"Field 'first' could not be resolved\"\n\n    // after range of keys in map:\n    if (right == data.end()) {\n        --right;\n        left = right;\n        --left;\n        delta = ((double)at_x - left-&gt;first) / (right-&gt;first - left-&gt;first);\n        return right-&gt;second + (delta - 1.0) * (right-&gt;second - left-&gt;second);\n    }\n\n    // before range of keys in map:\n    if (right == data.begin()) {\n        left = right;\n        ++left;\n        delta = ((double)at_x - left-&gt;first) / (right-&gt;first - left-&gt;first);\n        return right-&gt;second + (delta - 1.0) * (right-&gt;second - left-&gt;second);\n    }\n\n    // within range of keys in map:\n    left = right;\n    --left;\n    delta = ((double)at_x - left-&gt;first) / (right-&gt;first - left-&gt;first);\n    return delta * right-&gt;second + (1.0 - delta) * left-&gt;second;\n}\n</code></pre>\n\n<p>Many thanks for any help.</p>\n\n<p>Samuel</p>\n"}, {"tags": ["c++", "opengl", "linker", "cmake", "g++"], "comments": [{"owner": {"reputation": 808, "user_id": 5199318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e310ab88ed654014bbd8ff0e9c8e75d1?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/5199318/jas"}, "edited": false, "score": 0, "creation_date": 1459963527, "post_id": 36457998, "comment_id": 60528552, "body": "Many OpenGL programs use the glew library so maybe try adding -lGLEW to there too?"}, {"owner": {"reputation": 102, "user_id": 6151543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c441fbda31a3c2e5d4ecb4e2a3a6d6e?s=128&d=identicon&r=PG&f=1", "display_name": "benk", "link": "https://stackoverflow.com/users/6151543/benk"}, "reply_to_user": {"reputation": 808, "user_id": 5199318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e310ab88ed654014bbd8ff0e9c8e75d1?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/5199318/jas"}, "edited": false, "score": 0, "creation_date": 1459964193, "post_id": 36457998, "comment_id": 60528946, "body": "Thanks for the suggestion. Tried -lGLEW before and after the others, but it didn&#39;t solve the error."}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 1, "creation_date": 1459966124, "post_id": 36457998, "comment_id": 60530179, "body": "CMAKE_CXX_FLAGS contains the options to be passed to the C++ compiler. <code>-l</code> options, e.g. <code>-lGL</code>, are linker options, not compiler options. CMake expects linker options in <code>CXX_EXE_LINKER_FLAGS</code>. See <a href=\"https://cmake.org/cmake/help/v3.0/manual/cmake-variables.7.html\" rel=\"nofollow noreferrer\">cmake-variables</a>"}, {"owner": {"reputation": 102, "user_id": 6151543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c441fbda31a3c2e5d4ecb4e2a3a6d6e?s=128&d=identicon&r=PG&f=1", "display_name": "benk", "link": "https://stackoverflow.com/users/6151543/benk"}, "edited": false, "score": 0, "creation_date": 1459972584, "post_id": 36457998, "comment_id": 60534071, "body": "Cool, I didn&#39;t know that. But adding <code>set(CXX_EXE_LINKER_FLAGS ${CMAKE_EXE_LINKER_FLAGS} &quot;-lGLEW -lGL -lGLU -lglut&quot;)</code> could not solve my error. I also tried omitting <code>${}</code> and extending the double quotes. Also, I could not do without <code>set(CMAKE_CXX_FLAGS &quot;-lGL&quot;)</code>; if I replace <code>CMAKE_CXX_FLAGS</code> with <code>CXX_EXE_LINKER_FLAGS</code>, the other undefined reference to <code>glPopClientAttrib</code> returns."}, {"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "reply_to_user": {"reputation": 808, "user_id": 5199318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e310ab88ed654014bbd8ff0e9c8e75d1?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/5199318/jas"}, "edited": false, "score": 0, "creation_date": 1459973286, "post_id": 36457998, "comment_id": 60534474, "body": "@Jas: glNewLists originates in the very first version of OpenGL, namely version 1.0. You definitely don&#39;t need GLEW to use it. Actually it&#39;s so old and busted, that it&#39;s been removed from OpenGL-3 onward. However it should be still be exported by libGL.so as this is required by the ABI contract."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1459979021, "post_id": 36457998, "comment_id": 60537708, "body": "Linking <b>order</b> is meaningfull: library should be mention <b>after</b> the object (or other library) which uses it. That is why linking via <code>CMAKE_EXE_FLAGS</code> is incorrect and <code>target_link_libraries</code> should be used instead. See <a href=\"http://stackoverflow.com/questions/19901934/strange-linking-error-dso-missing-from-command-line\">here</a> for more info about linking order."}], "answers": [{"tags": [], "owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "is_accepted": true, "score": 1, "last_activity_date": 1459973473, "creation_date": 1459973473, "answer_id": 36461376, "question_id": 36457998, "link": "https://stackoverflow.com/questions/36457998/c-gl-linker-undefined-reference/36461376#36461376", "title": "C++ GL linker undefined reference", "body": "<p>With CMake the required libraries are set using the <code>target_link_libraries</code> command. Usually you'll use <code>find_package(OpenGL)</code> to collect the locations of the OpenGL development and library files and use the package variables for the <code>target_link_libraries</code> command. Like this:</p>\n\n<pre><code>find_package(OpenGL)\nadd_executable(foo \u2026)\ntarget_link_libraries(foo ${OPENGL_gl_LIBRARY} \u2026)\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 6151543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c441fbda31a3c2e5d4ecb4e2a3a6d6e?s=128&d=identicon&r=PG&f=1", "display_name": "benk", "link": "https://stackoverflow.com/users/6151543/benk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 36461376, "answer_count": 1, "score": 0, "last_activity_date": 1459973473, "creation_date": 1459963040, "last_edit_date": 1459964736, "question_id": 36457998, "link": "https://stackoverflow.com/questions/36457998/c-gl-linker-undefined-reference", "title": "C++ GL linker undefined reference", "body": "<p>Using Ubuntu 14.04, g++, I want to port a project from make to cmake. Getting the following error when I <code>sudo make install</code>.</p>\n\n<pre><code>Linking CXX executable texmapper\n/usr/bin/ld: /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../..\n/lib/libplibssg.a(ssgLeaf.o): undefined reference to symbol 'glNewList'\n/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../x86_64-linux-gnu/libGL.so: \nerror adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>A linker error like many encountered on this website. But the usually suggested fix, <code>\"-lGL -lGLU -lglut</code>, does not work. I also tried some permutations of this.</p>\n\n<p>Before the undefined reference to <code>glNewList</code> I had an undefined reference to <code>glPopClientAttrib</code>, which I solved by adding <code>lGL</code>, like this:</p>\n\n<pre><code>set(CMAKE_CXX_FLAGS \"-lGL\")\n</code></pre>\n\n<p>So I am on the right track, but the answer is eluding me.</p>\n\n<p>Edit: full command (verbose):</p>\n\n<pre><code>/usr/bin/c++   -lGLEW -lGL -lGLU -lglut    CMakeFiles/texmapper.dir/maintexmapper.o CMakeFiles/texmapper.dir/ssgSaveAC.o  -o texmapper -rdynamic -Wl,-Bstatic -lplibsg -lplibssg -lplibul -Wl,-Bdynamic ../../libs/tgf/libtgf.so ../../libs/tgfclient/libtgfclient.so -lglut -lXmu -lXi -lpng -lz -lSM -lICE -lX11 -lXext -lXrandr -Wl,-rpath,/home/jeroen/Thesis/torcsCMAKE/trunk/src/libs/tgf:/home/jeroen/Thesis/torcsCMAKE/trunk/src/libs/tgfclient\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 605, "user_id": 2969723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/093776f8b823fedd13ac6130fdee4633?s=128&d=identicon&r=PG&f=1", "display_name": "LukeG", "link": "https://stackoverflow.com/users/2969723/lukeg"}, "edited": false, "score": 1, "creation_date": 1459963217, "post_id": 36457878, "comment_id": 60528337, "body": "This function does not convert to double, it does check if the input string is convrtible to a double. <code>strtod</code> converts a string to double. <a href=\"http://www.cplusplus.com/reference/cstdlib/strtod/\" rel=\"nofollow noreferrer\">reference</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459963264, "post_id": 36457878, "comment_id": 60528367, "body": "<a href=\"http://en.cppreference.com/w/cpp/string/byte/strtof\" rel=\"nofollow noreferrer\">It&#39;s pretty well explained in the reference documentation</a>."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1459963499, "post_id": 36457878, "comment_id": 60528524, "body": "How&#39;s that question title helpful for future researchers? What don&#39;t you understand in particular? Ask more clear questions please! You may want to read <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask good questions</a>."}], "answers": [{"comments": [{"owner": {"reputation": 91690, "user_id": 4833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0d3bf653c44af90ef09711d538bee6a?s=128&d=identicon&r=PG", "display_name": "VolkerK", "link": "https://stackoverflow.com/users/4833/volkerk"}, "edited": false, "score": 0, "creation_date": 1459963418, "post_id": 36458058, "comment_id": 60528472, "body": "And since the first paramter of strtod() is a <code>const char*</code> and not a <code>std::string</code> that &quot;raw&quot; pointer of the string is retrieved via <code>input.c_str()</code>. The parameter (at the very least) should be marked as const as well."}], "tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": true, "score": 5, "last_activity_date": 1459963239, "creation_date": 1459963239, "answer_id": 36458058, "question_id": 36457878, "link": "https://stackoverflow.com/questions/36457878/can-someone-explain-this-code-line-by-line/36458058#36458058", "title": "Can someone explain this code line by line?", "body": "<p><code>strtod</code> tries to convert the string to a <code>double</code>. It also sets the <code>p</code> parameter to point to the position where the conversion ended.</p>\n\n<p>If the conversion used all the characters in the string - if they were all part of a number - the pointer <code>p</code> will point to the <code>'\\0'</code> terminator of the string.</p>\n\n<p>So, <code>return *p == 0</code>, or better <code>return *p == '\\0'</code>, tells us if we reached the end of the string. And, of course, <code>==</code> returns a <code>bool</code> result.</p>\n"}], "owner": {"reputation": 67, "user_id": 6163860, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ab8b6b3023c2cff73f323ddc04cb612a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Lee", "link": "https://stackoverflow.com/users/6163860/brian-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 36458058, "answer_count": 1, "score": -3, "last_activity_date": 1459963642, "creation_date": 1459962648, "question_id": 36457878, "link": "https://stackoverflow.com/questions/36457878/can-someone-explain-this-code-line-by-line", "title": "Can someone explain this code line by line?", "body": "<p>This method</p>\n\n<pre><code>bool isNumber(string input)\n{\n    char* p;\n\n    strtod(input.c_str(), &amp;p);\n    return *p == 0;\n}\n</code></pre>\n\n<p>should input a string and convert it to a double. But I do not understand the process of it. Can someone explain this to me in detail, line by line? And also, shouldn't bool be changed to double since it's not returning a true or false value? Thanks.</p>\n"}, {"tags": ["c++", "standards", "language-lawyer", "reinterpret-cast", "strict-aliasing"], "comments": [{"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1459996899, "post_id": 36457841, "comment_id": 60542919, "body": "What is the alignment of <code>A</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459964774, "post_id": 36457908, "comment_id": 60529296, "body": "I agree that &quot;access through <code>a</code> will trigger undefined behavior,&quot; but (like you mention), <code>A* a = reinterpret_cast&lt;A*&gt;(new char[5])</code> may not constitute an access. Again, the answer comes down to what constitutes an &quot;access&quot;. Is the <i>pointer deference</i> or the <i>conversion to an lvalue</i> (I may be getting the type wrong) the &quot;access&quot;?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459964861, "post_id": 36457908, "comment_id": 60529347, "body": "<code>A* a = ...</code> is not an access. But dereferencing a pointer is an access."}, {"owner": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459965240, "post_id": 36457908, "comment_id": 60529620, "body": "Sorry to be pedantic, but <i>why not</i>? It is not clear to me why <code>A&amp; b = *a</code> is inherently any more of an access than <code>A* b = a</code> is. Neither of those statements require <code>A</code> to be defined; only declared. Is there anything in the standard that hints at this interpretation?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459965764, "post_id": 36457908, "comment_id": 60529968, "body": "Yes, and I said it several times - <b>dereferencing a pointer</b>. A specific standard term is <i>indirection</i>, and as specified in 5.3.1 / 1, indirection to incomplete type is allowed to initialize a reference. However, it is still understood to be access."}, {"owner": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459967214, "post_id": 36457908, "comment_id": 60530860, "body": "Thank you for the pointer to 5.3.1 / 1 - that is definitely relevant. However, I am specifically looking for a statement in the standard that says that dereferencing a pointer (indirection) constitutes &quot;access&quot;. I followed the reference to 4.1 / 1 that defines when lvalue to prvalue conversion constitutes access. I am not positive, but I think <code>A&amp; b = *a</code>  is not an access because the result is not odr-used."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459967373, "post_id": 36457908, "comment_id": 60530940, "body": "@MichaelKoval, well, to the best of my knowldge, standard doesn&#39;t have formal definition for access. However, this seems to be the actual essence of your question. In this case, I suggest you ask another straightforward question, free from any type aliasing or anything - what does constitue an <i>access</i>. Provide this example (with reference to the same type, though). You are likely to get more interesting answers than here."}, {"owner": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "edited": false, "score": 0, "creation_date": 1459967591, "post_id": 36457908, "comment_id": 60531056, "body": "Fair enough. I will post another question specifically about the definition of &quot;access&quot; in the C++ standard."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 4, "last_activity_date": 1459963868, "last_edit_date": 1459963868, "creation_date": 1459962749, "answer_id": 36457908, "question_id": 36457841, "link": "https://stackoverflow.com/questions/36457841/creating-an-invalid-reference-via-reinterpret-cast/36457908#36457908", "title": "Creating an invalid reference via reinterpret cast", "body": "<p><code>char* x = reinterpret_cast&lt;char*&gt;(&amp;f);</code> is valid. Or, more specifically, access through <code>x</code> is allowed - the cast itself is always valid.</p>\n\n<p><code>A* a = reinterpret_cast&lt;A*&gt;(new char[5])</code> is not valid - or, to be precise, access through <code>a</code> will trigger undefined behaviour.</p>\n\n<p>The reason for this is that while it's OK to access object through a <code>char*</code>, it's not OK to access array of chars through a random object. Standard allows first, but not the second.</p>\n\n<p>Or, in layman terms, you can alias a <code>type*</code> through <code>char*</code>, but you can't alias <code>char*</code> through <code>type*</code>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just noticed I didn't answer direct question (\"<em>What constitutes \"access\" in the C++ standard</em>\"). Apparently, Standard does not define <em>access</em> (at least, I was not able to find the formal definition), but dereferencing the pointer is commonly understood to qualify for access. </p>\n"}], "owner": {"reputation": 7521, "user_id": 111426, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6a182b10a77f3a5170e26eef4320a76?s=128&d=identicon&r=PG", "display_name": "Michael Koval", "link": "https://stackoverflow.com/users/111426/michael-koval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1459967101, "creation_date": 1459962547, "last_edit_date": 1592644375, "question_id": 36457841, "link": "https://stackoverflow.com/questions/36457841/creating-an-invalid-reference-via-reinterpret-cast", "title": "Creating an invalid reference via reinterpret cast", "body": "<p>I am trying to determine whether the following code invokes undefined behavior:</p>\n<pre><code>#include &lt;iostream&gt;\n\nclass A;\n\nvoid f(A&amp; f)\n{\n  char* x = reinterpret_cast&lt;char*&gt;(&amp;f);\n  for (int i = 0; i &lt; 5; ++i)\n    std::cout &lt;&lt; x[i];\n}\n\nint main(int argc, char** argue)\n{\n  A* a = reinterpret_cast&lt;A*&gt;(new char[5])\n  f(*a);\n}\n</code></pre>\n<p>My understanding is that <code>reinterpret_cast</code>s to and from <code>char*</code> are compliant because the standard permits aliasing with <code>char</code> and <code>unsigned char</code> pointers (emphasis mine):</p>\n<blockquote>\n<p>If a program <strong>attempts to access</strong> the stored value of an object through an lvalue of other than one of the following types the behavior is undefined:</p>\n<ul>\n<li>the dynamic type of the object,</li>\n<li>a cv-qualified version of the dynamic type of the object,</li>\n<li>a type that is the signed or unsigned type corresponding to the dynamic type of the object,</li>\n<li>a type that is the signed or unsigned type corresponding to a cv-qualified version of the dynamic type of the object,</li>\n<li>an aggregate or union type that includes one of the aforementioned types among its members (including, recursively, a member of a subaggregate or contained union),</li>\n<li>a type that is a (possibly cv-qualified) base class type of the dynamic type of the object,</li>\n<li><strong>a <code>char</code> or <code>unsigned char</code> type.</strong></li>\n</ul>\n</blockquote>\n<p>However, I am not sure whether <code>f(*a)</code> invokes undefined behavior by creating a <code>A&amp;</code> reference to the invalid pointer. The deciding factor seems to be what &quot;attempts to access&quot; verbiage means in the context of the C++ standard.</p>\n<p>My intuition is that this does <em>not</em> constitute an access, since an access would require <code>A</code> to be defined (it is declared, but not defined in this example). Unfortunately, I cannot find a concrete definition of &quot;access&quot; in the C++ standard:</p>\n<p><strong>Does <code>f(*a)</code> invoke undefined behavior? What constitutes &quot;access&quot; in the C++ standard?</strong></p>\n<p>I understand that, regardless of the answer, it is likely a bad idea to rely on this behavior in production code. I am asking this question primarily out of a desire to improve my understanding of the language.</p>\n<p><strong>[Edit]</strong> @SergeyA cited this section of the standard. I've included it here for easy reference (emphasis mine):</p>\n<blockquote>\n<p><strong>5.3.1/1 [expr.unary.op]</strong></p>\n<p>The unary <code>*</code> operator performs indirection: the expression to which it is applied shall be a pointer to an object type, or a pointer to a function type and the result is an lvalue referring to the object or function to which the expression points. If the type of the expression is \u201cpointer to <code>T</code>,\u201d the type of the result is \u201c<code>T</code>.\u201d [Note: indirection through a pointer to an incomplete type (other than cv void) is valid. <strong>The lvalue thus obtained can be used in limited ways (to initialize a reference, for example); this lvalue must not be converted to a prvalue, see 4.1.</strong> \u2014 end note ]</p>\n</blockquote>\n<p>Tracing the reference to 4.1, we find:</p>\n<blockquote>\n<p><strong>4.1/1 [conv.lval]</strong></p>\n<p>A glvalue (3.10) of a non-function, non-array type <code>T</code> can be converted to a prvalue. If <code>T</code> is an incomplete type, a program that necessitates this conversion is ill-formed. If T is a non-class type, the type of the prvalue is the cv-unqualified version of <code>T</code>. Otherwise, the type of the prvalue is <code>T</code>.</p>\n<p><strong>When an lvalue-to-rvalue conversion is applied to an expression <code>e</code></strong>, and either:</p>\n<ul>\n<li><code>e</code> is not potentially evaluated, or</li>\n<li>the evaluation of <code>e</code> results in the evaluation of a member <code>ex</code> of the set of potential results of <code>e</code>, and <code>ex</code> names a variable <code>x</code> that is not odr-used by <code>ex</code> (3.2)</li>\n</ul>\n<p>the value contained in <strong>the referenced object is not accessed</strong>.</p>\n</blockquote>\n<p>I think our answer lies in whether <code>*a</code> satisfies the second bullet point. I am having trouble parsing that condition, so I am not sure.</p>\n"}, {"tags": ["c++", "arrays", "c++11", "std"], "comments": [{"owner": {"reputation": 121, "user_id": 1653204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7abf40ecadd138d3d2ba5450be2827?s=128&d=identicon&r=PG", "display_name": "Pulseczar", "link": "https://stackoverflow.com/users/1653204/pulseczar"}, "edited": false, "score": 0, "creation_date": 1460084149, "post_id": 36457740, "comment_id": 60589931, "body": "Here is another related question: <a href=\"http://stackoverflow.com/questions/14370043/can-operators-be-overloaded-for-initializer-list-literals\">Can operators be overloaded for initializer_list literals?</a>"}, {"owner": {"reputation": 121, "user_id": 1653204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7abf40ecadd138d3d2ba5450be2827?s=128&d=identicon&r=PG", "display_name": "Pulseczar", "link": "https://stackoverflow.com/users/1653204/pulseczar"}, "edited": false, "score": 0, "creation_date": 1460085983, "post_id": 36457740, "comment_id": 60590316, "body": "The selected answer here satisfied my question, though the answer lacked documentary support: <a href=\"http://stackoverflow.com/questions/33781070/compare-stl-container-contents-to-an-initialiser-list\">Compare STL container contents to an initialiser list</a> The documentary support seems to be in this answer: <a href=\"http://stackoverflow.com/questions/11420448/initializer-lists-and-rhs-of-operators\">Initializer lists and RHS of operators</a>"}], "answers": [{"comments": [{"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 2, "creation_date": 1459962917, "post_id": 36457813, "comment_id": 60528126, "body": "Yes, but the question is &quot;Why can&#39;t we also do the following...&quot;. Why, really? What is the fundamental difference between <code>vec = { 1, 2, 3 }</code> and <code>vec == { 1, 2, 3 }</code>? The fact that <code>=</code> is implicitly declared and <code>==</code> is user-declared?"}, {"owner": {"reputation": 65373, "user_id": 819272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o7w9X.png?s=128&g=1", "display_name": "TemplateRex", "link": "https://stackoverflow.com/users/819272/templaterex"}, "edited": false, "score": 0, "creation_date": 1459963368, "post_id": 36457813, "comment_id": 60528439, "body": "in any case, a special <code>cmp</code> function that delegates to <code>std::equal(v.begin(), v.end(), il.begin(), il.end())</code> would be best, since it avoids the copying."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1459964271, "post_id": 36457813, "comment_id": 60528992, "body": "Ok, so the linked duplicate answers my question: the assignment operator is explicitly given special treatment by the language specification."}], "tags": [], "owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "is_accepted": false, "score": 1, "last_activity_date": 1459963008, "last_edit_date": 1495540236, "creation_date": 1459962464, "answer_id": 36457813, "question_id": 36457740, "link": "https://stackoverflow.com/questions/36457740/is-there-a-way-to-use-stdarray-with-literals-or-initializer-lists-for-compar/36457813#36457813", "title": "Is there a way to use std::array with literals, or initializer lists, for comparison, in the same way you can for assignment?", "body": "<p>Without an alias, you can use <code>decltype</code> to convert the list</p>\n\n<pre><code>vec == decltype(vec){{1.1, 1.2, 1.3}};\n</code></pre>\n\n<p>You can explicitly call <code>operator==</code>, but you cannot implicitly convert the list with the comparison operator.</p>\n\n<pre><code>operator==(vec, {{1.1, 1.2, 1.3}});\n</code></pre>\n\n<p>The only other option I can think of would be <code>std::equal_to</code> but that's uglier:</p>\n\n<pre><code>std::equal_to&lt;decltype(vec)&gt;{}(vec, {{1.1, 1.2, 1.3}});\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/11445905/1013719\">This answer</a> quotes the standard where it says what an initializer_list <strong>can</strong> be used for, operators are not in that list.</p>\n"}], "owner": {"reputation": 121, "user_id": 1653204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7abf40ecadd138d3d2ba5450be2827?s=128&d=identicon&r=PG", "display_name": "Pulseczar", "link": "https://stackoverflow.com/users/1653204/pulseczar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "closed_date": 1459963145, "answer_count": 1, "score": 3, "last_activity_date": 1460041567, "creation_date": 1459962258, "last_edit_date": 1460041567, "question_id": 36457740, "link": "https://stackoverflow.com/questions/36457740/is-there-a-way-to-use-stdarray-with-literals-or-initializer-lists-for-compar", "closed_reason": "Duplicate", "title": "Is there a way to use std::array with literals, or initializer lists, for comparison, in the same way you can for assignment?", "body": "<p>Example:</p>\n\n<pre><code>std::array&lt;float, 3&gt; vec;\n</code></pre>\n\n<p>We can do ...</p>\n\n<pre><code>vec = {1.1, 1.2, 1.3};\n</code></pre>\n\n<p>Why can't we also do the following, for comparison?</p>\n\n<pre><code>vec == {1.1, 1.2, 1.3}\n</code></pre>\n\n<p>Instead, it appears that we have to do ...</p>\n\n<pre><code>vec == std::array&lt;float, 3&gt;({1.1, 1.2, 1.3})\n</code></pre>\n\n<p>... or something similar.</p>\n\n<p>Typedef'ing allows me to do something like ...</p>\n\n<pre><code>typedef std::array&lt;float, 3&gt; vector;\nvec == vector({1.1, 1.2, 1.3})\n</code></pre>\n\n<p>But is there a way to just do ... ?</p>\n\n<pre><code>vec == {1.1, 1.2, 1.3}\n</code></pre>\n\n<p>Can I overload <code>operator==</code> to accomplish this? It would seem that the compiler should know to interpret <code>{1.1, 1.2, 1.3}</code> as whatever is on the left side of the <code>==</code>. It does it for <code>=</code>. Why not for <code>==</code>?</p>\n"}, {"tags": ["c++", "opengl", "opengl-3"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4863745, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d1aab3050d77d55d574ef9fcd5991b4?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/4863745/omar-martinez"}, "edited": false, "score": 0, "creation_date": 1459972317, "post_id": 36458905, "comment_id": 60533922, "body": "This was it, thank you, I shouldn&#39;t have used floating point counter since it was rounding up at really really small values (1 / 400); Thanks for the help ^^"}], "tags": [], "owner": {"reputation": 22952, "user_id": 210211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8721ff8fa4b5c658058f4a2803231f44?s=128&d=identicon&r=PG", "display_name": "comingstorm", "link": "https://stackoverflow.com/users/210211/comingstorm"}, "is_accepted": true, "score": 2, "last_activity_date": 1459972987, "last_edit_date": 1459972987, "creation_date": 1459965727, "answer_id": 36458905, "question_id": 36457658, "link": "https://stackoverflow.com/questions/36457658/opengl-vertices-being-clipped-from-the-side/36458905#36458905", "title": "OpenGL Vertices being clipped from the side", "body": "<p>I would check the length of <code>_vertexPosition</code>; I suspect the problem is that you are (depending on the number of <code>_rows</code>) generating an extra point at the end of your inner loop (and your outer loop too, depending on <code>_columns</code>).</p>\n\n<p>The reason is that the termination condition of your vertex loops depends on the exact behavior of your floating point math.  Specifically, you divide up the range [-1,1] into <code>_rows</code> segments, then add them together and use them as a termination test.  It is unclear whether you expect a final point (yielding <code>_rows+1</code> points per inner loop) or not (yielding a rectangle which doesn't cover the entire [-1,1] range).  Unfortunately, floating point is not exact, so this is a recipe for unreliable behavior:  depending on the direction of your floating point error, you might get one or the other.</p>\n\n<p>For a larger number of <code>_rows</code>, you are adding more (and significantly smaller) numbers to the same initial value; this will aggravate your floating point error.</p>\n\n<p>At any rate, in order to get reliable behavior, you should use integer loop variables to determine loop termination.  Accumulate your floating point coordinates separately, so that exact accuracy is not required.</p>\n"}], "owner": {"reputation": 37, "user_id": 4863745, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d1aab3050d77d55d574ef9fcd5991b4?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/4863745/omar-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 36458905, "answer_count": 1, "score": 2, "last_activity_date": 1459972987, "creation_date": 1459962017, "question_id": 36457658, "link": "https://stackoverflow.com/questions/36457658/opengl-vertices-being-clipped-from-the-side", "title": "OpenGL Vertices being clipped from the side", "body": "<p>I'm having my vertices clipped on the edged as shown on this album:</p>\n\n<p><a href=\"http://imgur.com/a/VkCrJ\" rel=\"nofollow\">http://imgur.com/a/VkCrJ</a></p>\n\n<p>When my terrain size if 400 x 400 i get clipping, yet at 40x40 or anything less, i don't get any clipping.\nThis is my code to fill the position and indices:</p>\n\n<pre><code>void Terrain::fillPosition()\n{\n  //start from the top right and work your way down to 1,1\n  double x = -1, y = 1, z = 1;\n  float rowValue = static_cast&lt;float&gt;((1.0f / _rows) * 2.0); // .05 if 40\n  float colValue = static_cast&lt;float&gt;((1.0f / _columns) * 2.0); // .05 if 40\n\n for (y; y &gt; -1; y -= colValue)\n {\n    for (x; x &lt; 1; x += rowValue)\n    {\n        _vertexPosition.emplace_back(glm::vec3(x, y, z));\n    }\n    x = -1;\n }\n}\n</code></pre>\n\n<p>This properly sets my position, I've tested it with GL_POINTS. It works fine at 400x400 and 40x40 and other values in between.\nIndex code:</p>\n\n<pre><code>void Terrain::fillIndices()\n{\n    glm::ivec3 triangle1, triangle2;\n    for (int y = 0; y &lt; _columns - 1; y++)\n    {\n        for (int x = 0; x &lt; _rows - 1; x++)\n        {\n            // Triangle 1\n            triangle1.x = x       + y       * _rows;\n            triangle1.y = x       + (y + 1) * _rows;\n            triangle1.z =(x + 1)  + y       * _rows;\n            // Triangle 2\n            triangle2.x = triangle1.y;\n            triangle2.y = (x + 1) + (y + 1) * _rows;\n            triangle2.z = triangle1.z;\n\n            // add our data to the vector\n            _indices.emplace_back(triangle1.x);\n            _indices.emplace_back(triangle1.y);\n            _indices.emplace_back(triangle1.z);\n\n            _indices.emplace_back(triangle2.x);\n            _indices.emplace_back(triangle2.y);\n            _indices.emplace_back(triangle2.z);\n        }\n    }\n}\n</code></pre>\n\n<p>_indices is std::vector.I'm not sure what's causing this, But I'm pretty sure it's the way I'm filling the indices for the mesh. I've re-written my algorhithm and it ends up with the same result, small values work perfectly fine, and large values over ~144 get clipped. I fill my buffers like this:</p>\n\n<pre><code>void Terrain::loadBuffers()\n{\n    // generate the buffers and vertex arrays\n    glGenVertexArrays(1, &amp;_vao);\n    glGenBuffers(1, &amp;_vbo);\n    glGenBuffers(1, &amp;_ebo);\n    // bind the vertex array\n    glBindVertexArray(_vao);\n    // bind the buffer to the vao\n    glBindBuffer(GL_ARRAY_BUFFER, _vbo);\n    glBufferData(GL_ARRAY_BUFFER, _vertexPosition.size() * sizeof(_vertexPosition[0]), _vertexPosition.data(), GL_STATIC_DRAW);\n\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _ebo);\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, _indices.size() * sizeof(_indices[0]), _indices.data(), GL_STATIC_DRAW);\n    // enable the shader locations\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, nullptr);\n    // unbind our data\n    glBindVertexArray(0);\n}\n</code></pre>\n\n<p>and my draw call:</p>\n\n<pre><code>void Terrain::renderTerrain(ResourceManager&amp; manager, ResourceIdTextures id)\n{\n    // set the active texture\n    glActiveTexture(GL_TEXTURE0);\n    // bind our texture\n    glBindTexture(GL_TEXTURE_2D, manager.getTexture(id).getTexture());\n    _shaders.use();\n    // send data the our uniforms\n    glUniformMatrix4fv(_modelLoc, 1, GL_FALSE, glm::value_ptr(_model));\n    glUniformMatrix4fv(_viewLoc, 1, GL_FALSE, glm::value_ptr(_view));\n    glUniformMatrix4fv(_projectionLoc, 1, GL_FALSE, glm::value_ptr(_projection));\n    glUniform1i(_textureLoc, 0);\n    glBindVertexArray(_vao);\n    // Draw our terrain;\n    glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\n    glDrawElements(GL_TRIANGLES, _indices.size(), GL_UNSIGNED_INT, 0);\n    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);\n    glBindVertexArray(0);\n    _shaders.unuse();\n}\n</code></pre>\n\n<p>I thought it was because of my transformations to the model, so i removed all transformations and it's the same result. I tried debugging by casting the glm::vec3 to_string but the data looks fine, My projectionMatrix is:</p>\n\n<p>glm::perspective(glm::radians(_fov), _aspRatio, 0.1f, 1000.0f);</p>\n\n<p>So i doubt it's my perspective doing the clipping. _aspRatio is 16/9.</p>\n\n<p>It's really strange that it works fine with small rowsxcolumns and not large ones, I'm really not sure what the problem is.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1459962173, "post_id": 36457645, "comment_id": 60527649, "body": "Learn about loops. Then learn <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">why is <code>iostream::eof</code> inside a loop condition considered wrong</a>. Also, <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">a good beginners book</a> might help too."}, {"owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "edited": false, "score": 1, "creation_date": 1459962272, "post_id": 36457645, "comment_id": 60527719, "body": "that&#39;s not really a quine, a quine can&#39;t open itself! To be honest, you probably won&#39;t figure out how to do this yourself as the solution itself uses mainly C elements, and i am not aware of a solution that utilizes any c++ utilites."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1459962601, "post_id": 36457645, "comment_id": 60527922, "body": "A quine cannot open any files for reading, so this isn&#39;t one."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "edited": false, "score": 0, "creation_date": 1460274098, "post_id": 36457645, "comment_id": 60658495, "body": "@NowhereMan there&#39;s no &quot;the&quot; solution. You can write a quine in any sufficiently rich language, including those that have nothing in common with C. You can certainly write one in a pure STL-boasting pointer-eschewing C++."}], "owner": {"reputation": 3, "user_id": 6168086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PDLCl.jpg?s=128&g=1", "display_name": "Scott Killick", "link": "https://stackoverflow.com/users/6168086/scott-killick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1459962605, "answer_count": 0, "score": 0, "last_activity_date": 1459962515, "creation_date": 1459961981, "last_edit_date": 1459962232, "question_id": 36457645, "link": "https://stackoverflow.com/questions/36457645/attempting-to-make-a-quine-program-in-c-using-codeblocks", "closed_reason": "Duplicate", "title": "Attempting to make a quine program in c++ using CodeBlocks", "body": "<p>I have been assigned to try and figure out how to write a program that prints itself.  So far, this is what I've been able to come up with:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nifstream in_stream;\n\nint main()\n{\nstring quine;\n\nin_stream.open(\"main.cpp\");\nin_stream &gt;&gt; quine;\ncout &lt;&lt; quine &lt;&lt; endl;\n\nreturn 0;\n}\n</code></pre>\n\n<p>I'm still fairly new to programming, so I can't figure out how to make it output more than just the first line.  Any help would be greatly appreciated.</p>\n"}, {"tags": ["c++", "winapi"], "answers": [{"tags": [], "owner": {"reputation": 1622, "user_id": 35951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14841b385915426bdf8ce0d98d26d3b1?s=128&d=identicon&r=PG", "display_name": "mooware", "link": "https://stackoverflow.com/users/35951/mooware"}, "is_accepted": false, "score": 5, "last_activity_date": 1459961896, "creation_date": 1459961896, "answer_id": 36457592, "question_id": 36457463, "link": "https://stackoverflow.com/questions/36457463/c-windows-program-detecting-program-exit-no-gui-or-console/36457592#36457592", "title": "C++ Windows Program Detecting Program Exit | No GUI or console", "body": "<p>How does your \"task\" run and how is it stopped? If it's just killed/terminated from the outside, then you can't detect it inside that process.</p>\n\n<p>If your program exits in a regular fashion (no kill, no quick exit), you can register a \"cleanup\" function with <a href=\"http://en.cppreference.com/w/cpp/utility/program/atexit\">atexit()</a>, which will be run during exit().</p>\n\n<p>EDIT: Or since it's C++, you could use a global variable with a custom type and run your code inside the destructor, which is basically the same as atexit().</p>\n"}, {"tags": [], "owner": {"reputation": 1708, "user_id": 2441156, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18baac9732cb20cf9b4ec25b3cb49546?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/2441156/tyler"}, "is_accepted": false, "score": 3, "last_activity_date": 1459961958, "last_edit_date": 1495540783, "creation_date": 1459961958, "answer_id": 36457634, "question_id": 36457463, "link": "https://stackoverflow.com/questions/36457463/c-windows-program-detecting-program-exit-no-gui-or-console/36457634#36457634", "title": "C++ Windows Program Detecting Program Exit | No GUI or console", "body": "<p><code>atexit()</code> would be the C-portable way to do it.</p>\n\n<p>If you want to use a Windows specific way to do it, see this: <a href=\"https://stackoverflow.com/questions/1216788/win32-api-analog-of-sending-catching-sigterm\">Win32 API analog of sending/catching SIGTERM</a></p>\n"}], "owner": {"reputation": 85, "user_id": 3434681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d952e8b7bd51ce62447f0728f18f9a15?s=128&d=identicon&r=PG&f=1", "display_name": "user3434681", "link": "https://stackoverflow.com/users/3434681/user3434681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1459961958, "creation_date": 1459961437, "question_id": 36457463, "link": "https://stackoverflow.com/questions/36457463/c-windows-program-detecting-program-exit-no-gui-or-console", "title": "C++ Windows Program Detecting Program Exit | No GUI or console", "body": "<p>In my C++ Windows Program without a console or GUI I wan't to detect if the task is being cancelled/stopped.\nHow can I achieve this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "pointers", "multidimensional-array"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1459961116, "post_id": 36457248, "comment_id": 60527045, "body": "See this answer of mine: <a href=\"http://stackoverflow.com/questions/23581342/difference-between-2d-char-array-and-char-or-3d-char-array-and-char-etc/23582916#23582916\" title=\"difference between 2d char array and char or 3d char array and char etc\">stackoverflow.com/questions/23581342/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1459962402, "post_id": 36457248, "comment_id": 60527795, "body": "Thank you for your answer. But as arnobpl said, you get confused because you can use * on an array name like  a pointer, so you think they are the same (which they aren&#39;t)."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1459962652, "post_id": 36457248, "comment_id": 60527944, "body": "I understand that they are not the same, I have not said otherwise. Maybe my answer was not entirely clear though."}, {"owner": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1459963165, "post_id": 36457248, "comment_id": 60528296, "body": "Sorry,when I said &quot;you&quot; ,I meant a human in general, not you:P"}], "answers": [{"tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": false, "score": 0, "last_activity_date": 1459961172, "creation_date": 1459961172, "answer_id": 36457369, "question_id": 36457248, "link": "https://stackoverflow.com/questions/36457248/multidimensional-arrays-memory-storage-overview/36457369#36457369", "title": "Multidimensional arrays memory storage overview", "body": "<p><code>&amp;t</code> is taking the address of the pointer <code>t</code>, not the address of the first element. The address of the first element is just <code>t</code> (as <code>t</code> is an <code>int*</code>, which points to the block of memory).</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 5964547, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9vgEj_0Fco0/AAAAAAAAAAI/AAAAAAAAAwc/Fw7IoZsSBHk/photo.jpg?sz=128", "display_name": "Aadil Bhatti", "link": "https://stackoverflow.com/users/5964547/aadil-bhatti"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1460038691, "post_id": 36457392, "comment_id": 60567928, "body": "Thanks, will add it in"}], "tags": [], "owner": {"reputation": 71, "user_id": 5964547, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9vgEj_0Fco0/AAAAAAAAAAI/AAAAAAAAAwc/Fw7IoZsSBHk/photo.jpg?sz=128", "display_name": "Aadil Bhatti", "link": "https://stackoverflow.com/users/5964547/aadil-bhatti"}, "is_accepted": false, "score": 1, "last_activity_date": 1460038709, "last_edit_date": 1460038709, "creation_date": 1459961230, "answer_id": 36457392, "question_id": 36457248, "link": "https://stackoverflow.com/questions/36457248/multidimensional-arrays-memory-storage-overview/36457392#36457392", "title": "Multidimensional arrays memory storage overview", "body": "<p><code>t</code> is a pointer declared on the stack which holds the address of an array on the heap. <code>&amp;t</code> gets the address of <code>t</code>, AKA the location of <code>t</code> on the stack. If you want to access the first member of the array, you can either do <code>*t</code> or <code>t[0]</code>. C++ automatically dereferences and does pointer arithmetic based on the type of <code>t</code> when you use the bracket notation. </p>\n\n<p>However, <code>&amp;t[0]</code> essentially gets you the address of <code>t[0]</code>, which is why it is different from <code>&amp;t</code>, as <code>&amp;t</code> lives on the stack while <code>&amp;t[0]</code> lives on the heap. So if you want the address of <code>t[0]</code>, you can use that notation, otherwise stick to <code>t[0]</code> if you just want the values. </p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "edited": false, "score": 0, "creation_date": 1459961700, "post_id": 36457481, "comment_id": 60527375, "body": "So actually a static declared array is not a pointer?(even if you can do *(a+i) or p=a where p is a pointer). I thought *x tells the compiler &quot;give me what is stored in the address that x contains&quot; so *a should give a wrong answer if &amp;a=&amp;a[0]. So i should treat them separetely as 2 distinct things?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "edited": false, "score": 1, "creation_date": 1459961851, "post_id": 36457481, "comment_id": 60527477, "body": "@BaltatuAndreiMircea An array is not a pointer.  They are two completely different things.  Unfortunately an array can decay into a pointer in a number of cases so it is easy to get them confused. <code>*a</code> is the same as <code>*(a + 0)</code> which is the same as <code>a[0]</code>.  Fun right?"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1459961496, "creation_date": 1459961496, "answer_id": 36457481, "question_id": 36457248, "link": "https://stackoverflow.com/questions/36457248/multidimensional-arrays-memory-storage-overview/36457481#36457481", "title": "Multidimensional arrays memory storage overview", "body": "<p>An array is an object that contains a contiguous block of N objects where N is some constant size.  The address of the array is the start of the array so the address of the first object and the addresss of the array are the same thing.</p>\n\n<p>A pointer to an array is a unique object.  Since it is it's own object it has its own address separate from the address that it holds.  so with <code>int* t=new int[10];</code> <code>&amp;t</code> is the address of <code>t</code> where <code>&amp;t[0]</code> is the address of the first element of the array that was allocated by new.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "edited": false, "score": 0, "creation_date": 1459984148, "post_id": 36457655, "comment_id": 60539522, "body": "Very thorough answer,thank you very much.  So because the address and size of static declared arrays are known at compile time(in most of the cases,because with the new compilers,you can do int a[x] with x an int variable), when decaying to a pointer and losing a dimension it still forces that pointer to have the right boundaries to other dimensions .   As with pointers,or pointers to pointers,it can&#39;t set anything because things can change at run-time.I got it ,thanks again!"}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 1, "last_activity_date": 1459986513, "last_edit_date": 1592644375, "creation_date": 1459962011, "answer_id": 36457655, "question_id": 36457248, "link": "https://stackoverflow.com/questions/36457248/multidimensional-arrays-memory-storage-overview/36457655#36457655", "title": "Multidimensional arrays memory storage overview", "body": "<p>Arrays are first-class entities of the language, so when you declare an array variable</p>\n<pre><code>int a[10];\n</code></pre>\n<p>the compiler knows the dimensions of the array. When you allocate a dynamic storage space</p>\n<pre><code>int* p = new int[10];\n</code></pre>\n<p>Only you and the allocator know how large this space is.</p>\n<p>In the array version, <code>a</code> <em>is</em> the array. It has an address, but that address is held by the compiler during compilation. In the allocation pardigm, <code>p</code> is <em>the address</em> of the data, which won't be known until run time.</p>\n<p>What causes people to be confused is that by and large the two seem interchangeable: you can do pointer and array math with both, use either where a pointer is expected:</p>\n<pre><code>void f(int*);\n\nint a1 = a[1];\nf(a);\nint p1 = p[1];\nf(p);\n</code></pre>\n<p>This is by design, it's something called <a href=\"http://c-faq.com/aryptr/aryptrequiv.html\" rel=\"nofollow noreferrer\">array-pointer-equivalence</a>, emphasis mine:</p>\n<blockquote>\n<p>Much of the confusion surrounding arrays and pointers in C can be traced to a misunderstanding of this statement. Saying that arrays and pointers are ''equivalent'' means neither that they are identical nor even interchangeable. What it means is that array and pointer arithmetic is defined such that a pointer can be conveniently used to access an array or to simulate an array. In other words, as Wayne Throop has put it, it's <em>''pointer arithmetic and array indexing [that] are equivalent in C, pointers and arrays are different.''</em>)</p>\n<p>Specifically, the cornerstone of the equivalence is this key definition:</p>\n<blockquote>\n<p>A reference to an object of type array-of-T which appears in an expression decays (with three exceptions) into a pointer to its first element; the type of the resultant pointer is pointer-to-T.</p>\n</blockquote>\n</blockquote>\n"}], "owner": {"reputation": 27, "user_id": 4454276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Duaji.jpg?s=128&g=1", "display_name": "Baltatu Andrei Mircea", "link": "https://stackoverflow.com/users/4454276/baltatu-andrei-mircea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1460038709, "creation_date": 1459960817, "last_edit_date": 1459961510, "question_id": 36457248, "link": "https://stackoverflow.com/questions/36457248/multidimensional-arrays-memory-storage-overview", "title": "Multidimensional arrays memory storage overview", "body": "<p>Lately I started learning pointers and references in c++ (not just the usual use of them,but all kinds of ways,I don't want to have problems with them in near future).</p>\n\n<p>From my perspective a 1d static allocated array is similar to a int* const pointer. My problem is that ,when I allocate dynamically with a pointer, the pointer itself has other memory address than the first element,which is not the case in a 1d array. This is an example</p>\n\n<pre><code>int a[5];\ncout&lt;&lt;&amp;a&lt;&lt;\" \"&lt;&lt;&amp;a[0]&lt;&lt;\"\\n\";\nint* t=new int[10];\ncout&lt;&lt;&amp;t&lt;&lt;\" \"&lt;&lt;&amp;t[0]&lt;&lt;\"\\n\";\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>0x6afed0 0x6afed0\n0x6afecc 0xcb0e40\n</code></pre>\n\n<p>I can't think how the 1d array is stored,at 1 block of 4 bytes you can store either a value or an address.\nI tried also with 2d arrays,and there are more intersections.</p>\n\n<pre><code>q = new int*[10];\nfor (i=0;i&lt;10;i++)\n    q[i] = new int[i+1];\ncout&lt;&lt;&amp;q&lt;&lt;\" \"&lt;&lt;&amp;q[0]&lt;&lt;\" \"&lt;&lt;&amp;q[0][0]&lt;&lt;\"\\n\";\nint b[10][10];\ncout&lt;&lt;&amp;b&lt;&lt;\" \"&lt;&lt;&amp;b[0]&lt;&lt;\" \"&lt;&lt;&amp;b[0][0]&lt;&lt;\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x6afee4 0xe40e40 0xe41240\n0x6afd54 0x6afd54 0x6afd54\n</code></pre>\n\n<p>If someone would enlighten me and explain how these arrays are stored,I would be thankful. </p>\n\n<p>EDIT:To be more specific, I know and it's logical how the array dynamically created with new keyword by the pointer is stored. But how &amp;a and &amp;a[0] have the same values,if a should store the address of a[0] .That block of memory(&amp;a) stores what then?the value of a[0] or the address of a[0]. Hope I was clear in what my problem is.</p>\n"}, {"tags": ["c++", "opengl-es", "vertex-shader"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459960573, "post_id": 36457138, "comment_id": 60526685, "body": "Not sure if it will help you or not but in C++ a <code>dynamic array == std::vector</code>"}, {"owner": {"reputation": 87, "user_id": 1712639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f430b12e9e425b5eb2f684ae4d73e8fd?s=128&d=identicon&r=PG", "display_name": "Grodslukarn", "link": "https://stackoverflow.com/users/1712639/grodslukarn"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459960755, "post_id": 36457138, "comment_id": 60526811, "body": "@NathanOliver Yea, the data storage in C++ is not the problem right now. Thanks anyway!"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 1712639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f430b12e9e425b5eb2f684ae4d73e8fd?s=128&d=identicon&r=PG", "display_name": "Grodslukarn", "link": "https://stackoverflow.com/users/1712639/grodslukarn"}, "edited": false, "score": 0, "creation_date": 1459962949, "post_id": 36457421, "comment_id": 60528147, "body": "I actually forgot to mention that this is supposed to run on OpenGL ES. From what I understand SSBO&#39;s are only available in ES 3.1 which is unfortunately a bit of an issue since it&#39;s not widely used yet."}, {"owner": {"reputation": 87, "user_id": 1712639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f430b12e9e425b5eb2f684ae4d73e8fd?s=128&d=identicon&r=PG", "display_name": "Grodslukarn", "link": "https://stackoverflow.com/users/1712639/grodslukarn"}, "edited": false, "score": 0, "creation_date": 1459965463, "post_id": 36457421, "comment_id": 60529780, "body": "Thank you for the help, much appreciated. So I&#39;m looking at usage of Uniform Buffer Objects and if I&#39;m correct they will still have the issue that the Uniform Blocks will need to be defined statically in the vertex shader? So I would have to store the data for all blend shapes in the blocks and access them relative to the mesh I am interpolating? Also, I&#39;ve heard a bit about storing arbitrary data as textures. I would love to know more about it even if I&#39;m not going to end up using them. Do you know any good starting point where I can learn more about that topic maybe?"}, {"owner": {"reputation": 317, "user_id": 1579651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1571ceec4b9c2f330f9e154911c43381?s=128&d=identicon&r=PG", "display_name": "John M", "link": "https://stackoverflow.com/users/1579651/john-m"}, "reply_to_user": {"reputation": 87, "user_id": 1712639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f430b12e9e425b5eb2f684ae4d73e8fd?s=128&d=identicon&r=PG", "display_name": "Grodslukarn", "link": "https://stackoverflow.com/users/1712639/grodslukarn"}, "edited": false, "score": 0, "creation_date": 1494851153, "post_id": 36457421, "comment_id": 74987966, "body": "@Grodslukarn did you ever manage to devise a solution for this? I&#39;m facing same issue and swaying toward storing all my data in a texture..."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 2, "last_activity_date": 1459963401, "last_edit_date": 1459963401, "creation_date": 1459961339, "answer_id": 36457421, "question_id": 36457138, "link": "https://stackoverflow.com/questions/36457138/dynamically-sized-arrays-in-opengl-es-vertex-shader-used-for-blend-shapes-morph/36457421#36457421", "title": "Dynamically sized arrays in OpenGL ES vertex shader; used for blend shapes/morph targets", "body": "<p><strike>What you're looking for is <a href=\"https://www.opengl.org/wiki/Shader_Storage_Buffer_Object\" rel=\"nofollow\">Shader Storage Buffer Objects</a> (SSBO's) and they'll basically let you do exactly what you're trying to do.</p>\n\n<p>Big caveat though: they're only available on GL4.x class hardware, specifically 4.3+. This is becoming less and less of a problem each year, but if the computer's GPU is more than 5 years old, it may not work.</strike></p>\n\n<p>If you're dealing with OpenGL ES, you'll still (probably) have <a href=\"https://www.opengl.org/wiki/Uniform_Buffer_Object\" rel=\"nofollow\">Uniform Buffer Objects</a> which only require OpenGL 3.x hardware. They're a lot more limited than SSBOs (spec only guarantees 65kb of data, and even modern hardware doesn't typically give space beyond that) but it's much more likely to be compatible with your hardware.</p>\n\n<p>In an absolute worst-case scenario, you could also use textures as buffers that you write arbitrary data to, then reinterpret the data on the shader. It's very hacky, but it'll bypass the space restrictions of UBO's, and will probably be compatible with your hardware at almost any level.</p>\n"}], "owner": {"reputation": 87, "user_id": 1712639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f430b12e9e425b5eb2f684ae4d73e8fd?s=128&d=identicon&r=PG", "display_name": "Grodslukarn", "link": "https://stackoverflow.com/users/1712639/grodslukarn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459966238, "creation_date": 1459960499, "last_edit_date": 1459966238, "question_id": 36457138, "link": "https://stackoverflow.com/questions/36457138/dynamically-sized-arrays-in-opengl-es-vertex-shader-used-for-blend-shapes-morph", "title": "Dynamically sized arrays in OpenGL ES vertex shader; used for blend shapes/morph targets", "body": "<p>I'm about to do an Opengl ES implementation of blend shapes/morph targets and I'm not quite sure about the best way for me to do this. The problems I am facing is that I want the interpolation of the vertex data to occur on the GPU but I also want the number of blend shapes to be arbitrary.</p>\n\n<p>To clarify, I do not want my vertex shader to look like this:\n<a href=\"https://stackoverflow.com/questions/24175414/glitchy-facial-morph-target-animation-in-opengl-c\">Glitchy Facial Morph Target Animation in OpenGL (C++)</a>. The problem with this implementation is that the number of meshes to blend between is static in the shader. I am going to process multiple meshes that have different numbers of blend shapes associated to them and I dont want to create separate shader for each if possible. Creating hard-coded shaders for meshes with around 20 blend shapes will also look quite ugly imo.</p>\n\n<p>So I was thinking of using some kind of dynamic array to hold all the data. However, I'm uncertain if you can allocate dynamically sized arrays in the vertex shader? In <a href=\"https://stackoverflow.com/questions/13538091/vertex-shader-with-array-inputs\">Vertex shader with array inputs</a> the op has the size set to a constant. The only way I could think about creating my array is the use a uniform variable to hold the size but I'm guessing that won't compile since the array cannot be allocated with an unknown variable.</p>\n\n<p>So what I'm trying to find is a good way to store my data(number of blend shapes, weights, vertices, normals) and to access them during runtime in my vertex shader so I can effectively interpolate on the GPU.</p>\n\n<p>Any ideas on how to accomplish this?</p>\n\n<p><strong>EDIT</strong>\nForgot to mention its for OpenGL ES</p>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459960162, "post_id": 36456966, "comment_id": 60526422, "body": "Does you class have a proper copy constructor and copy assignment operator?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1459960589, "post_id": 36456966, "comment_id": 60526694, "body": "Note: If you think <code>char **</code> is a 2D array, you are wrong. It is none and cannot be used as one. Use a 2D array instead."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 4, "creation_date": 1459960679, "post_id": 36456966, "comment_id": 60526753, "body": "C and C++ are different languages! Pick the one you actually use and remove the wrong tag!"}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1459963308, "post_id": 36456966, "comment_id": 60528403, "body": "You&#39;re doing a shallow copy, not a deep copy."}, {"owner": {"reputation": 135, "user_id": 1676020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nJ3eG.png?s=128&g=1", "display_name": "plethora", "link": "https://stackoverflow.com/users/1676020/plethora"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1459986447, "post_id": 36456966, "comment_id": 60540179, "body": "@Olaf What do you mean? What is it so?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1459986792, "post_id": 36456966, "comment_id": 60540273, "body": "What is not to be understood about my comment? You might want to take the <a href=\"https://stackoverflow.com/tour\">tour</a>. Anyway, as you accepted a C++ answer, I&#39;ve removed the C tag myself. Next time don&#39;t add the wrong tag!"}, {"owner": {"reputation": 135, "user_id": 1676020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nJ3eG.png?s=128&g=1", "display_name": "plethora", "link": "https://stackoverflow.com/users/1676020/plethora"}, "edited": false, "score": 0, "creation_date": 1459986963, "post_id": 36456966, "comment_id": 60540331, "body": "I meant the <code>char**</code> vs <code>std::array</code> comment. But thanks for editing anyway."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 1676020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nJ3eG.png?s=128&g=1", "display_name": "plethora", "link": "https://stackoverflow.com/users/1676020/plethora"}, "edited": false, "score": 0, "creation_date": 1459986667, "post_id": 36457116, "comment_id": 60540236, "body": "Thanks, @Jack!  PS: It&#39;s missing a comma after  <code>array&lt;char, 3&gt;</code>"}], "tags": [], "owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "is_accepted": true, "score": 3, "last_activity_date": 1459992288, "last_edit_date": 1459992288, "creation_date": 1459960448, "answer_id": 36457116, "question_id": 36456966, "link": "https://stackoverflow.com/questions/36456966/why-is-the-source-struct-being-modified-according-to-the-copy/36457116#36457116", "title": "Why is the source struct being modified according to the copy?", "body": "<p>The problem is related to the member <code>char** puzzle</code> of your <code>struct</code>.</p>\n\n<p>You are copying <code>state</code> by value inside <code>next[4]</code> which makes sense but the <code>struct</code> contains a pointer object.</p>\n\n<p>This means that, without a proper <a href=\"http://en.cppreference.com/w/cpp/language/copy_constructor\" rel=\"nofollow\">copy constructor</a>, the value of <code>puzzle</code> will be copied to all <code>state</code> created thus sharing the same pointer to the same memory.</p>\n\n<p>This is clearly not what you need, but since you are working with an array of fixed size why don't you use something more suitable that will be copied correctly by value without sharing anything, for example an <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow\"><code>std::array</code></a>:</p>\n\n<pre><code>struct state {\n  std::array&lt;std::array&lt;char, 3&gt;, 3&gt; puzzle;\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 1676020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nJ3eG.png?s=128&g=1", "display_name": "plethora", "link": "https://stackoverflow.com/users/1676020/plethora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 36457116, "answer_count": 1, "score": -1, "last_activity_date": 1459992288, "creation_date": 1459960064, "last_edit_date": 1459986802, "question_id": 36456966, "link": "https://stackoverflow.com/questions/36456966/why-is-the-source-struct-being-modified-according-to-the-copy", "title": "Why is the source struct being modified according to the copy?", "body": "<p>So I got puzzles with the following format:</p>\n\n<pre><code>1 2 3 \n4 x 5 \n6 7 8\n</code></pre>\n\n<p>In this function I move 'x' around, generating 4 possible variations, each of them having 'x' exchange positions with one of its neighbors.</p>\n\n<p>The problem is: every time I modify one of the copies the original struct is modified as well, so the next variations accumulate the previous x's.\nBy the end of the function, <code>current</code> is:</p>\n\n<pre><code>1 x 3 \nx 7 x \n6 x 8\n</code></pre>\n\n<p>(the first change is actually correct, that's why the middle 'x' disappears)</p>\n\n<p>My code:</p>\n\n<pre><code>struct state{\n    char** puzzle;\n    // (...) \n    bool valid;\n    int xi; // x's row\n    int xj; // x's column\n};\n\nvoid next_states(state current, state next[4]){\n    next[0] = current;\n    next[1] = current;\n    next[2] = current;\n    next[3] = current;\n\n    if(current.xj-1&gt;=0){ // moves 'x' left\n        next[0].puzzle[current.xi][current.xj] = current.puzzle[current.xi][current.xj-1];\n        next[0].puzzle[current.xi][current.xj-1] = 'x';\n        --next[0].xj;\n    } else {\n        next[0].valid = false;\n    }\n\n    if(current.xj+1&lt;3){ // moves 'x' right\n        next[1].puzzle[current.xi][current.xj] = current.puzzle[current.xi][current.xj+1];\n        next[1].puzzle[current.xi][current.xj+1] = 'x';\n        ++next[1].xj;\n    } else {\n        next[1].valid = false;\n    }\n    if(current.xi-1&gt;=0){\n        next[2].puzzle[current.xi][current.xj] = current.puzzle[current.xi-1][current.xj];\n        next[2].puzzle[current.xi-1][current.xj] = 'x';\n        --next[2].xi;\n    } else {\n        next[2].valid = false;\n    }\n    if(current.xi+1&lt;3){ // moves 'x'down\n        next[3].puzzle[current.xi][current.xj] = current.puzzle[current.xi+1][current.xj];\n        next[3].puzzle[current.xi+1][current.xj] = 'x';\n        ++next[3].xi;\n    } else {\n        next[3].valid = false;\n    }\n\n    print(current.puzzle); // ERROR: accumulating all the changes above\n}\n</code></pre>\n"}, {"tags": ["c++", "ide", "static-analysis", "pragma", "clion"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459959387, "post_id": 36456677, "comment_id": 60525885, "body": "List request are off topic on Stack Overflow"}, {"owner": {"reputation": 5128, "user_id": 152060, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4b0bc5fee5f02e4d117db039b47528dc?s=128&d=identicon&r=PG", "display_name": "Daisy Sophia Hollman", "link": "https://stackoverflow.com/users/152060/daisy-sophia-hollman"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459966449, "post_id": 36456677, "comment_id": 60530360, "body": "@NathanOliver this isn&#39;t a list request, it&#39;s a documentation request.  Should have phrased it differently.  The &quot;list requests&quot; that are off topic for Stack Overflow are things like &quot;List of C++ IDEs&quot; or &quot;List of Java visualization frameworks&quot;.  This is asking about a specific feature and about where it is documented."}], "answers": [{"tags": [], "owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "is_accepted": false, "score": 0, "last_activity_date": 1459962605, "creation_date": 1459962605, "answer_id": 36457862, "question_id": 36456677, "link": "https://stackoverflow.com/questions/36456677/list-of-pragma-ide-diagnostic-ignored-for-clion-and-other-ides/36457862#36457862", "title": "List of &quot;#pragma ide diagnostic ignored&quot; for CLion (and other IDEs?)", "body": "<p>I don't know about <code>#pragma IDE</code>, but for <code>#pragma GCC</code> and <code>#pragma clang</code>, you can use any <code>-W</code> option that does not require an <code>=</code>.</p>\n\n<p>For gcc you can use, <code>gcc --help=warnings</code> to list all possible warnings, though note that different warnings apply to different languages.</p>\n\n<p>For clang, there is no direct way to list all the warnings, but running with <code>-Weverything</code> is a good way to find all possible warnings that apply to any given piece of code.</p>\n"}], "owner": {"reputation": 5128, "user_id": 152060, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4b0bc5fee5f02e4d117db039b47528dc?s=128&d=identicon&r=PG", "display_name": "Daisy Sophia Hollman", "link": "https://stackoverflow.com/users/152060/daisy-sophia-hollman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 612, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1459962605, "creation_date": 1459959301, "question_id": 36456677, "link": "https://stackoverflow.com/questions/36456677/list-of-pragma-ide-diagnostic-ignored-for-clion-and-other-ides", "title": "List of &quot;#pragma ide diagnostic ignored&quot; for CLion (and other IDEs?)", "body": "<p>I've been using the Google Testing framework with CLion, and the IDE can't parse a lot of the macros in the framework.  Today I clicked the light bulb next to the inspection and clicked \"ignore inspection for statement\" and CLion inserted</p>\n\n<pre><code>#pragma ide diagnostic ignored \"CannotResolve\"\n</code></pre>\n\n<p>along with <code>clang diagnostic push</code> and <code>pop</code> pragmas.  This seems useful, but I can't find a list of allowed values for diagnostics to ignore anywhere.  Does anyone know where I can find such a list?  Also, does anyone know if this is just a CLion thing, or is it more broadly applicable?  Is this intended to be a signal to all IDEs, even if CLion is the only one using it? (or is it the only one?)</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1459959199, "post_id": 36456566, "comment_id": 60525764, "body": "Not 100% sure what you wan to do but it looks like you might want a <code>std::initializer_list</code> or <code>std::array</code>."}, {"owner": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "edited": false, "score": 1, "creation_date": 1459959346, "post_id": 36456566, "comment_id": 60525857, "body": "I think the second call (<code>..obj({1,2,3,4,};</code>) results in <code>std::initializer_list</code> being used, hence there needs to be a constructor using that. Otherwise a constructor using an STL container may help solve this, since those have constructors taking init lists, in turn."}, {"owner": {"reputation": 10784, "user_id": 620863, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-Mqgo9PO_taA/AAAAAAAAAAI/AAAAAAAAABM/8h3wY8pcFbg/photo.jpg?sz=128", "display_name": "Anne Quinn", "link": "https://stackoverflow.com/users/620863/anne-quinn"}, "reply_to_user": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "edited": false, "score": 0, "creation_date": 1459960007, "post_id": 36456566, "comment_id": 60526308, "body": "@iksemyonov - Looked up <code>std::initializer_list</code> and it works exactly as I was hoping, thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 13218, "user_id": 1348273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IYjFG.jpg?s=128&g=1", "display_name": "Lingxi", "link": "https://stackoverflow.com/users/1348273/lingxi"}, "is_accepted": false, "score": 0, "last_activity_date": 1459960377, "creation_date": 1459960377, "answer_id": 36457091, "question_id": 36456566, "link": "https://stackoverflow.com/questions/36456566/c-object-constructor-using-an-array-literal-directly-in-the-parameter-list/36457091#36457091", "title": "C++: object constructor using an array literal directly in the parameter list", "body": "<p>Besides what has been said in the comment, you may also want to try this (see it live <a href=\"http://melpon.org/wandbox/permlink/Ye6mtt6H3qBg2BjC\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>#include &lt;bits/stdc++.h&gt;\n\nstruct Stru {\n  template &lt;std::size_t n&gt;\n  explicit Stru(const int (&amp;arr)[n]) {   \n    for (int v : arr) {\n      std::cout &lt;&lt; v &lt;&lt; ' ';\n    }\n  }\n};\n\nint main() {\n  Stru obj({1, 2, 3});\n}\n</code></pre>\n"}], "owner": {"reputation": 10784, "user_id": 620863, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-Mqgo9PO_taA/AAAAAAAAAAI/AAAAAAAAABM/8h3wY8pcFbg/photo.jpg?sz=128", "display_name": "Anne Quinn", "link": "https://stackoverflow.com/users/620863/anne-quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1459960377, "creation_date": 1459958998, "question_id": 36456566, "link": "https://stackoverflow.com/questions/36456566/c-object-constructor-using-an-array-literal-directly-in-the-parameter-list", "title": "C++: object constructor using an array literal directly in the parameter list", "body": "<p>I am writing global constants for my program, and it's important to me that an object's data be as localized and together as possible, so I want to put everything right in the constructor.  </p>\n\n<p>The Problem though is that  the constant in this case is an object that takes an array of other objects as an argument.</p>\n\n<p>Things like this work:</p>\n\n<pre><code>Constant::Constant(const char * string){...}\nconst Constant obj(\"string\");\n</code></pre>\n\n<p>but things like this do not:</p>\n\n<pre><code>Constant::Constant(const int * array){...}\nconst Constant obj({1, 2, 3, 4});\n</code></pre>\n\n<p>and things like what I need certainly don't:</p>\n\n<pre><code>Constant::Constant(const vec2 * array){...}\nconst Constant obj({vec3(6, 9), vec3(4, 2)});\n</code></pre>\n\n<p>Am I trying to do this incorrectly, have the wrong constructor parameter types, or are string literals the only array literal that can be placed in the parameter list like this?</p>\n"}, {"tags": ["c++", "visual-studio", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 0, "last_activity_date": 1459960429, "creation_date": 1459960429, "answer_id": 36457108, "question_id": 36456335, "link": "https://stackoverflow.com/questions/36456335/assertion-failed-when-i-want-to-use-calchist-to-generate-the-number-of-pixels-in/36457108#36457108", "title": "Assertion failed when I want to use calcHist to generate the number of pixels in a specific range of a picture", "body": "<p>You're over-complicating this.  </p>\n\n<p>To get the number of pixels in a given color range, you can:</p>\n\n<ol>\n<li>Create a mask of values in the given color range, using <code>inRange</code></li>\n<li>Count the number of non-zero pixels in the mask, with <code>countNonZero</code></li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\nusing namespace cv;\nusing namespace std;\n\nint main()\n{\n    // Read the image\n    Mat image = imread(\"path_to_image\");\n    // Convert to HSV\n    Mat img_hsv;\n    cvtColor(image, img_hsv, CV_BGR2HSV);\n\n    // Define lower and upper ranges\n    Scalar lower(0, 100, 107);\n    Scalar upper(20, 255, 245);\n\n    // Create a mask with pixels in range\n    Mat1b mask;\n    inRange(img_hsv, lower, upper, mask);\n\n    // Count the number of non-black pixels\n    int cnz = countNonZero(mask);\n\n    cout &lt;&lt; \"# pixels in range \" &lt;&lt; cnz &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5635873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yvyYg9bVcA/AAAAAAAAAAI/AAAAAAAAAC0/WS7cucYCy2w/photo.jpg?sz=128", "display_name": "Sheng Nee", "link": "https://stackoverflow.com/users/5635873/sheng-nee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36457108, "answer_count": 1, "score": 0, "last_activity_date": 1459960429, "creation_date": 1459958390, "question_id": 36456335, "link": "https://stackoverflow.com/questions/36456335/assertion-failed-when-i-want-to-use-calchist-to-generate-the-number-of-pixels-in", "title": "Assertion failed when I want to use calcHist to generate the number of pixels in a specific range of a picture", "body": "<p>I want to calculate the number of pixels in a specific range of color using calcHist. However I get following errors:</p>\n\n<pre><code>OpenCV Error: Assertion failed (dims &lt;= 2 &amp;&amp; data &amp;&amp; (unsigned)i0 &lt; (unsigned)(size.p[0]*size.p[1]) &amp;&amp; elemSize() == (((((DataType&lt;_Tp&gt;::type) &amp; ((512 - 1) &lt;&lt; 3)) &gt;&gt; 3) + 1) &lt;&lt; ((((sizeof(size_t)/4+1)*16384|0x3a50) &gt;&gt; ((DataType&lt;_Tp&gt;::type) &amp; ((1 &lt;&lt; 3) - 1))*2) &amp; 3))) in cv::Mat::at, file e:\\opencv2.4\\opencv\\build\\include\\opencv2\\core\\mat.hpp, line 570\n\nZKB_shop.exe has triggered a breakpoint.\n</code></pre>\n\n<p>My code shows like followings:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n\nusing namespace std;\nusing namespace cv;\n\nint main(int argc, const char** argv) {\n    Mat image = imread(\"D:\\\\obj\\\\138.jpg\");\n    Mat img_hsv;\n    cvtColor(image, img_hsv, CV_BGR2HSV);\n\n    int hbins = 1;\n    int sbins = 1;\n    int vbins = 1;\n    int histSize[] = { hbins,sbins,vbins };\n\n    //H\n    float hranges[] = { 0,20 };\n    //S\n    float sranges[] = { 100,255 };\n    //V\n    float vranges[] = { 107,245 };\n    const float* ranges[] = { hranges,sranges,vranges };\n\n    MatND hist;\n    //chanels\n    int channels[] = { 0,1,2 };\n\n    calcHist(&amp;img_hsv, 1, channels, Mat(), hist, 3, histSize, ranges);\n    cout &lt;&lt; \"Hist.dims = \" &lt;&lt; hist.dims &lt;&lt; endl;\n    cout &lt;&lt; \"Value: \" &lt;&lt; hist.at&lt;double&gt;(0) &lt;&lt; endl;\n    cout &lt;&lt; \"Hist.rows = \" &lt;&lt; hist.rows &lt;&lt; endl;\n    cout &lt;&lt; \"Hist.cols = \" &lt;&lt; hist.cols &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>I adapt the code from the official tutorial :<a href=\"http://docs.opencv.org/3.1.0/d6/dc7/group__imgproc__hist.html#ga4b2b5fd75503ff9e6844cc4dcdaed35d\" rel=\"nofollow\">http://docs.opencv.org/3.1.0/d6/dc7/group__imgproc__hist.html#ga4b2b5fd75503ff9e6844cc4dcdaed35d</a>\nand add one more channel but I have no idea why it doesn't work.</p>\n\n<p>I use VS2015+WIN10+OPENCV2.4.11</p>\n"}, {"tags": ["java", "c++", "parallel-processing", "java-native-interface", "parallel-port"], "answers": [{"tags": [], "owner": {"reputation": 658, "user_id": 6161587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tZ40h.png?s=128&g=1", "display_name": "Robin Kramer", "link": "https://stackoverflow.com/users/6161587/robin-kramer"}, "is_accepted": true, "score": 0, "last_activity_date": 1460119533, "creation_date": 1460119533, "answer_id": 36499905, "question_id": 36456252, "link": "https://stackoverflow.com/questions/36456252/parallel-port-communication-with-jnpout32pkg-jnpout32reg/36499905#36499905", "title": "Parallel Port Communication with jnpout32pkg / jnpout32reg", "body": "<p>With some great help from Alexander Heimel (<a href=\"http://csflab.nin.knaw.nl/protocols/parallel-port-in-matlab\" rel=\"nofollow\">http://csflab.nin.knaw.nl/protocols/parallel-port-in-matlab</a>) and Douglas Beattie (<a href=\"http://www.hytherion.com/beattidp/comput/pport.htm\" rel=\"nofollow\">http://www.hytherion.com/beattidp/comput/pport.htm</a>) I finally managed to find a workaround. </p>\n\n<p>Python has no problem with inpout32 (or inpoutx64, depending on the version you use), so I wrote the following script.</p>\n\n<pre><code># import windll, to be able to load the inpoutx64.dll/inpout32.dll file\nfrom ctypes import windll\nimport sys\nfrom time import sleep\n## If no input is given, write '1' to parallel port\naddress = int(888) # 0x378 in hex\nnum = 1\n\n## if two inputs are given\nif len(sys.argv) &gt; 2:\n    # cast string arguments to: \n    address = int(sys.argv[1],16) # hexadecimal integer\n    num = int(sys.argv[2]) # decimal integer\n\n# load dll. \n# Select either inpout32.dll or inpoutx64.dll, depending on which\n#  Python version you use. If you get the error:\n# WindowsError: [Error 193] %1 is not a valid Win32 application\n# You have used the wrong one. \np = windll.LoadLibrary(\"C:\\\\Python27\\\\DLLs\\\\inpout32.dll\")\n\n# write data\np.Out32(address,num)\n</code></pre>\n\n<p>If you only want to send a pulse (i.e. set it back to 0 immediately afterwards), use <code>sleep(0.002)</code>, followed by <code>p.Out32(address,0)</code>. Following, you execute this script via Java, which is done with the following code:</p>\n\n<pre><code>String cmd = \"python C:\\\\Path\\\\To\\\\Code\\\\WriteParPort.py \"+ address +\" \" + num;\nProcess p = Runtime.getRuntime().exec(cmd);\n</code></pre>\n\n<p>In which address is the parallel port address (0x378), and num is the to-be-written value. </p>\n"}], "owner": {"reputation": 658, "user_id": 6161587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tZ40h.png?s=128&g=1", "display_name": "Robin Kramer", "link": "https://stackoverflow.com/users/6161587/robin-kramer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "accepted_answer_id": 36499905, "answer_count": 1, "score": 1, "last_activity_date": 1460119533, "creation_date": 1459958139, "question_id": 36456252, "link": "https://stackoverflow.com/questions/36456252/parallel-port-communication-with-jnpout32pkg-jnpout32reg", "title": "Parallel Port Communication with jnpout32pkg / jnpout32reg", "body": "<p>I am trying to communicate with a Parallel Port via the package jnpout32reg (<a href=\"http://www.hytherion.com/beattidp/comput/pport.htm\" rel=\"nofollow\">http://www.hytherion.com/beattidp/comput/pport.htm</a>), a Java implementation of inpout32 (<a href=\"http://www.highrez.co.uk/downloads/inpout32/\" rel=\"nofollow\">http://www.highrez.co.uk/downloads/inpout32/</a>). I have tested inpout32 with a Parallel Port Tester (download. cnet. com/Parallel-Port-Tester/3000-2086_4-75940249.html), which seems to work perfectly. However, the java implementation does not seem to work. </p>\n\n<pre><code>package ioTest_reg;\nimport hardware.jnpout32.*;\n\npublic class ioTestReg\n{\n        static short datum;\n        static short Addr;\n        static pPort lpt;\n\n     static void write()\n     {\n         datum = 0x001;\n          // Notify the console\n          System.out.println(\"Write to Port: \" + Integer.toHexString(Addr) +\n                              \" with data = \" +  Integer.toHexString(datum));\n          //Write to the port\n          long start = System.currentTimeMillis();\n          long stop = System.currentTimeMillis();\n          while (stop-start &lt; 10000){\n              lpt.output((short)0x001);\n              stop = System.currentTimeMillis();\n          }\n          System.out.println(\"Finished\");\n     }\n\n\n     static void do_read_range()\n     {\n          // Try to read 0x378..0x37F, LPT1:\n          for (Addr=0x378; (Addr&lt;0x380); Addr++) {\n               //Read from the port\n               datum = (short) lpt.input(Addr);\n               // Notify the console\n               System.out.println(\"Port: \" + Integer.toHexString(Addr) +\n                                   \" = \" +  Integer.toHexString(datum));\n          }\n     }\n\n\n     public static void main( String args[] )\n     {\n        lpt = new pPort();\n        Addr=0x378;\n        datum=0x01;\n        write();\n        // Try to read 0x378..0x37F, LPT1:\n        do_read_range();\n    }\n}\n</code></pre>\n\n<p>The connection with the port is made and I can read from the ports (Port 378 returns 78, 379 returns 79 etc...).  However, I cannot write output. No error is given, but nothing happens on the receiving side (as opposed to with the Parallel Port Tester). </p>\n\n<p>When I use jnpout32pkg (a different version of jnpout32reg) instead, I get the following error (even though I installed everything similarly):</p>\n\n<pre><code> Exception in thread \"main\" java.lang.UnsatisfiedLinkError:  ioTest_pkg.jnpout32.ioPort.Out32(SS)V\n</code></pre>\n\n<p>What am I doing wrong, and what is the difference between pkg and reg?</p>\n"}, {"tags": ["c++", "pointers", "inheritance"], "comments": [{"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 1356, "user_id": 4358137, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bfsy9.jpg?s=128&g=1", "display_name": "Seth Kitchen", "link": "https://stackoverflow.com/users/4358137/seth-kitchen"}, "edited": false, "score": 1, "creation_date": 1459958201, "post_id": 36455992, "comment_id": 60525015, "body": "@SethKitchen I think you mean they have the same dynamic type but different static types? <code>pa</code> is an <code>A</code> (static) pointing to a <code>C</code> (dynamic), whereas <code>pb</code> is a <code>B</code> (static) pointing to a <code>C</code> (dynamic)"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459964606, "post_id": 36455992, "comment_id": 60529187, "body": "You might consider adding the <code>language-lawyer</code> tag to get a standards-based explanation of why this is happening."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1461018597, "post_id": 36455992, "comment_id": 60998643, "body": "Moral of the story: don&#39;t use multiple inheritance for anything but mixins."}], "answers": [{"comments": [{"owner": {"reputation": 3599, "user_id": 144183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/452a1f1ffc04f296f4996d940463db31?s=128&d=identicon&r=PG", "display_name": "Gio", "link": "https://stackoverflow.com/users/144183/gio"}, "edited": false, "score": 0, "creation_date": 1459962189, "post_id": 36456547, "comment_id": 60527659, "body": "Actually I did all that. What I&#39;m confused abpout is why the statement: const int y = (pb == &amp;c) ? 3 : 4; evaluates to true, which as you just indicated is technically not true. The pointer to &#39;b&#39; clearly does not equal to the pointer to &#39;c&#39;. if you run this program you will see the output is 136."}, {"owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "edited": false, "score": 1, "creation_date": 1459962717, "post_id": 36456547, "comment_id": 60527992, "body": "look at the definition <code>B *pb = &amp;c;</code> Now do you see it? If you don&#39;t look more closely. If you don&#39;t read on. <code>y = (pb == &amp;c) ? 3 : 4</code>. pb == &amp;c is true because that&#39;s how it was defined, you assigned the address of <code>&amp;c</code>  to <code>bd</code>. Later on a bool comparison is made too check if <code>pb == &amp;c</code>. Of course it does! Hope that cleared it up."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1459965131, "post_id": 36456547, "comment_id": 60529529, "body": "<a href=\"http://ideone.com/Vxeju4\" rel=\"nofollow noreferrer\">ideone.com/Vxeju4</a> Note that pb is different than &amp;c. But that&#39;s ok, because &amp;c is the address of c <i>as a <code>C*</code></i>. When you compare <code>pb == &amp;c</code> you can&#39;t upcast <code>pb</code> to a <code>C</code> but you can downcast <code>C</code> to a <code>B</code>, and when you do the comparison is true - it yields the same result as the assignment, so the comparison yields true."}, {"owner": {"reputation": 3599, "user_id": 144183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/452a1f1ffc04f296f4996d940463db31?s=128&d=identicon&r=PG", "display_name": "Gio", "link": "https://stackoverflow.com/users/144183/gio"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1459966375, "post_id": 36456547, "comment_id": 60530316, "body": "@kfsone - are you saying there is an implicit downcast in that comparion of pb == &amp;c? If I was to duplicate that in code which cast would I use - reinterpret_cast?"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 3599, "user_id": 144183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/452a1f1ffc04f296f4996d940463db31?s=128&d=identicon&r=PG", "display_name": "Gio", "link": "https://stackoverflow.com/users/144183/gio"}, "edited": false, "score": 0, "creation_date": 1459966707, "post_id": 36456547, "comment_id": 60530537, "body": "@Gio A reinterpret_cast keeps the pointer value the same, but just reinterprets (as the name implies) the pointer as something else. As you&#39;ve seen a downcast potentially changes the value of the pointer. To manually do this in code (you don&#39;t want to) you&#39;d do something like <code>reinterpret_cast&lt;B*&gt;(reinterpret_cast&lt;char*&gt;(&amp;c)+sizeof(A))</code>. This ignores padding and is compiler specific. There&#39;s a reason why the compiler does this sort of thing for you. To do an explicit downcast you&#39;d use a <code>static_cast</code>."}, {"owner": {"reputation": 654, "user_id": 4743711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0qvK.png?s=128&g=1", "display_name": "Loreto", "link": "https://stackoverflow.com/users/4743711/loreto"}, "edited": false, "score": 0, "creation_date": 1459988618, "post_id": 36456547, "comment_id": 60540743, "body": "std::cout &lt;&lt; &quot;pa == &quot; &lt;&lt; pa &lt;&lt; &quot;; &amp;c == &quot; &lt;&lt; &amp;c &lt;&lt; &quot;; (pa == &amp;c)? &quot; &lt;&lt; (pa == &amp;c) &lt;&lt; &#39;\\n&#39;;     std::cout &lt;&lt; &quot;pb == &quot; &lt;&lt; pb &lt;&lt; &quot;; &amp;c == &quot; &lt;&lt; &amp;c &lt;&lt; &quot;; (pb == &amp;c)? &quot; &lt;&lt; (pb == &amp;c) &lt;&lt; &#39;\\n&#39;; Don&#39;t seem moral to me"}], "tags": [], "owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "is_accepted": false, "score": 8, "last_activity_date": 1459958947, "creation_date": 1459958947, "answer_id": 36456547, "question_id": 36455992, "link": "https://stackoverflow.com/questions/36455992/understanding-c-pointers-to-parent-base-classes/36456547#36456547", "title": "understanding c++ pointers to parent/base classes", "body": "<p>Perhaps if you print out <code>pa</code> and <code>pb</code> it will be more clear what is going on.</p>\n\n<pre><code>std::cout &lt;&lt; \"A: \" &lt;&lt; pa &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"B: \" &lt;&lt; pb &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"C: \" &lt;&lt; &amp;c &lt;&lt; std::endl;\n</code></pre>\n\n<p>Running this at the end of <code>main</code> gives me</p>\n\n<pre><code>A: 0xbfef54e0\nB: 0xbfef54e4\nC: 0xbfef54e0\n</code></pre>\n\n<p>(your output may be different, the important thing is that they aren't all equal)</p>\n\n<p>This is because of how a <code>C</code> object is represented in memory. Since a <code>C</code> is both an <code>A</code> and a <code>B</code>, it needs to have the data members from each part. The real layout of <code>C</code> is something like this (ignoring padding):</p>\n\n<pre><code>int    A::m_i;\ndouble B::m_d;\nchar   C::m_c;\n</code></pre>\n\n<p>When you convert a <code>C*</code> to an <code>A*</code>, the compiler knows that the <code>A</code> part starts at offset 0, so the pointer value doesn't change. For <code>C*</code> to <code>B*</code> it needs to offset by <code>sizeof(int)</code> (plus padding). This offset handling is done automatically for you for calculating <code>x</code> and <code>y</code>. For <code>z</code> it is bypassed since you use <code>reinterpret_cast</code></p>\n"}, {"tags": [], "owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "is_accepted": false, "score": 2, "last_activity_date": 1459963040, "creation_date": 1459963040, "answer_id": 36457999, "question_id": 36455992, "link": "https://stackoverflow.com/questions/36455992/understanding-c-pointers-to-parent-base-classes/36457999#36457999", "title": "understanding c++ pointers to parent/base classes", "body": "<p>C++ typically lays out class structures by one after another. Lets check following code sample:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\n//#define DO_PACKSTRUCTURES\n//#define DEFINE_VFUNC\n\n#ifdef DO_PACKSTRUCTURES\n#pragma pack(push, 1)\n#endif\n\n\nclass A\n{\npublic:\n    A() : m_i(0) { }\n\n#ifdef DEFINE_VFUNC\n    virtual \n#endif    \n    void myfunc()\n    {\n    }\n\nprotected:\n    int m_i;\n};\n\nclass B\n{\npublic:\n    B() : m_d(0.0) { }\n\n#ifdef DEFINE_VFUNC\n    virtual \n#endif    \n    void myfunc2()\n    {\n    }\n\nprotected:\n    double m_d;\n};\n\nclass C\n    : public A, public B\n{\npublic:\n    C() : m_c('a') { }\n\n#ifdef DEFINE_VFUNC\n    virtual\n#endif    \n    void myfunc3()\n    {\n    }\n\n    char m_c;\n};\n\n#ifdef DO_PACKSTRUCTURES\n#pragma pack(pop)\n#endif\n\nvoid pprint(char* prefix, void* p)\n{\n    printf(\"%s = %p\\r\\n\", prefix, p);\n}\n\nint main()\n{\n    C c;\n    A *pa = &amp;c;\n    B *pb = &amp;c;\n\n    pprint(\"&amp;c\", &amp;c);\n    pprint(\"pa\", pa);\n    printf(\"\\r\\n\");\n\n    pprint(\"pb\", pb);\n    pprint(\"pa + sizeof(A)\", ((char*)pa) + sizeof(A));\n    printf(\"\\r\\n\");\n\n    pprint(\"&amp;c.m_c\", &amp;c.m_c);\n    pprint(\"pb + sizeof(B)\", ((char*)pb) + sizeof(B));\n    printf(\"\\r\\n\");\n    printf(\"sizeof(A)=%d\\r\\n\", sizeof(A));\n    printf(\"sizeof(B)=%d\\r\\n\", sizeof(B));\n    printf(\"sizeof(C)=%d\\r\\n\", sizeof(C));\n    printf(\"sizeof(int)=%d\\r\\n\", sizeof(int));\n    printf(\"sizeof(double)=%d\\r\\n\", sizeof(double));\n    printf(\"sizeof(char)=%d\\r\\n\", sizeof(char));\n    printf(\"sizeof(void*)=%d\\r\\n\", sizeof(void*));\n\n    pa-&gt;myfunc();\n    c.myfunc2();\n    c.myfunc3();\n\n    return 0;\n}\n</code></pre>\n\n<p>Win32 / Debug or Release / DO_PACKSTRUCTURES &amp; DEFINE_VFUNC are undefined:</p>\n\n<pre><code>&amp;c = 00BBF7A4\npa = 00BBF7A4\n\npb = 00BBF7AC\npa + sizeof(A) = 00BBF7A8\n\n&amp; c.m_c = 00BBF7B4\npb + sizeof(B) = 00BBF7B4\n\nsizeof(A) = 4\nsizeof(B) = 8\nsizeof(C) = 24\nsizeof(int) = 4\nsizeof(double) = 8\nsizeof(char) = 1\nsizeof(void*) = 4\n</code></pre>\n\n<p>So pointer to C* is the same pointer as A* - because A is first base class from which memory layout starts. So memory layout looks somehow like this:</p>\n\n<pre><code>C*:\n   A\n   B\n   C members (m_c)\n</code></pre>\n\n<p>pb is not equal to ( pa + sizeof(A) )  - because compiler add some alignment bytes between A and B to speed up access to B. Not sure how important those optimizations are - making millions of instances of same class may be will have performance impact.</p>\n\n<p>Win32 / Debug or Release / DO_PACKSTRUCTURES is defined &amp; DEFINE_VFUNC is undefined:</p>\n\n<pre><code>&amp;c = 00B9F770\npa = 00B9F770\n\npb = 00B9F774\npa + sizeof(A) = 00B9F774\n\n&amp;c.m_c = 00B9F77C\npb + sizeof(B) = 00B9F77C\n\nsizeof(A)=4\nsizeof(B)=8\nsizeof(C)=13\nsizeof(int)=4\nsizeof(double)=8\nsizeof(char)=1\nsizeof(void*)=4\n</code></pre>\n\n<p>Now we are not adding any alignment or padding bytes (Because of #pragma pack(push, 1) ) - we got C class smaller, and also now pb == (pa + sizeof(A)). Now we can see also what is \"allocating\" C - class that is sizeof(int) / sizeof(double) + sizeof(char) = 4 + 8 + 1 = 13.</p>\n\n<p>Win32 / Debug or Release / DO_PACKSTRUCTURES &amp; DEFINE_VFUNC defined:</p>\n\n<pre><code>&amp;c = 007EFCF4\npa = 007EFCF4\n\npb = 007EFCFC\npa + sizeof(A) = 007EFCFC\n\n&amp;c.m_c = 007EFD08\npb + sizeof(B) = 007EFD08\n\nsizeof(A)=8\nsizeof(B)=12\nsizeof(C)=21\nsizeof(int)=4\nsizeof(double)=8\nsizeof(char)=1\nsizeof(void*)=4\n</code></pre>\n\n<p>We still have pointer calculation match as in previous case, but if we calculate size using sizeof(class) - we will get correct size, but not sizeof(member type) - because of 'virtual' keyword - virtual keyword itself is allocating extra virtual table pointer size.</p>\n\n<pre><code> It reflects 21 - 8 - 4 - 1 = 8\n 8 / sizeof(void*) = 2 - that's two vtables - one from A and another from B class instances.\n</code></pre>\n\n<p>I'm not sure why C class itself does not have it's own vtable - to my best understanding it should. This is something to figure out later on.\nMicrosoft Visual C++ compiler has also special kind of keyword __declspec (novtable) which has also some reflection on how vtable's are generated. But is something normal developers don't need, unless you're dealing with advanced COM programming.</p>\n"}], "owner": {"reputation": 3599, "user_id": 144183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/452a1f1ffc04f296f4996d940463db31?s=128&d=identicon&r=PG", "display_name": "Gio", "link": "https://stackoverflow.com/users/144183/gio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 2, "answer_count": 2, "score": 14, "last_activity_date": 1459963040, "creation_date": 1459957414, "question_id": 36455992, "link": "https://stackoverflow.com/questions/36455992/understanding-c-pointers-to-parent-base-classes", "title": "understanding c++ pointers to parent/base classes", "body": "<p>I was asked this interview question and I got it wrong. \"What is the output\": My answer was 135, the actual output is 136. This implies that the pointer's to the two parent classes are not equal even though they pass the prior test of being equal to the child class.\nI thought I understood c++ pointers, but this has me stumped for an explanation. Although I think I see what's going on, I'm not sure why. Any c++ experts out there that can offer a technical explanation?\nIt appears the first two comparisons are more logical in nature, while the last comparison is more literal...</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass A\n{\n    public:\n    A() : m_i(0) { }\n\n    protected:\n    int m_i;\n};\n\nclass B\n{\n    public:\n    B() : m_d(0.0) { }\n\n    protected:\n    double m_d;\n};\n\nclass C\n    : public A, public B\n{\n    public:\n    C() : m_c('a') { }\n\n    private:\n    char m_c;\n};\n\nint main()\n{\n    C c;\n    A *pa = &amp;c;\n    B *pb = &amp;c;\n\n    const int x = (pa == &amp;c) ? 1 : 2;\n    const int y = (pb == &amp;c) ? 3 : 4;\n    const int z = (reinterpret_cast&lt;char*&gt;(pa) == reinterpret_cast&lt;char*&gt;(pb)) ? 5 : 6;\n\n    std::cout &lt;&lt; x &lt;&lt; y &lt;&lt; z &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["html", "c++", "qt", "pdf"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460033758, "post_id": 36455990, "comment_id": 60563728, "body": "You have not included any code that actually prints. You only show how you set your deprecated webkit instance (the web view), and the printer. But you don&#39;t show any actual printing. Since you use (old) webkit, make sure that webkit itself implements the functionality you need. You will need special html/css to support a table that wraps around; it might not be trivial and you need to read up on it. A table by default won&#39;t wrap horizontally - just look in any browser, they don&#39;t do it."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460033825, "post_id": 36455990, "comment_id": 60563786, "body": "This question is off topic without a complete html sample that will correctly wrap on printing in major browsers. E.g. show something that prints wrapped from Firefox and Chrome. If you want to ask how to implement it in html, that&#39;d be a separate question."}, {"owner": {"reputation": 982, "user_id": 2190313, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/518c491670550e02a8d78654f4c1b19c?s=128&d=identicon&r=PG&f=1", "display_name": "clearScreen", "link": "https://stackoverflow.com/users/2190313/clearscreen"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460038209, "post_id": 36455990, "comment_id": 60567526, "body": "@KubaOber, this is the code that prints the html file into pdf in my qt application, I have updated with the html sample now. I am using the QPrinter class given by Qt."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460040760, "post_id": 36455990, "comment_id": 60569691, "body": "Does your html print properly when you try printing from Firefox or Chrome? If it doesn&#39;t, then the problem is with your html/css and you have to fix it first, perhaps ask a separate question about how to fix it but you&#39;ll have to minimize your html/css first, too. Remove all unnecessary styling. Leave only enough html/css to demonstrate the problem."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460040862, "post_id": 36455990, "comment_id": 60569777, "body": "&quot;I am using the QPrinter class given by Qt.&quot; Sure you are, but that&#39;s not very relevant. What you&#39;re really using is the webkit rendering engine to lay out your document. Your document must be designed to wrap the table around when printed. It won&#39;t happen automagically. You must design it to act that way in the context of a paper page. You should get it printing correctly in standard browsers first, it&#39;ll then likely print just fine from webkit bundled with Qt. Again, the problem is with html/css, and you can use any browser to debug/fix that issue (you must!)."}, {"owner": {"reputation": 982, "user_id": 2190313, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/518c491670550e02a8d78654f4c1b19c?s=128&d=identicon&r=PG&f=1", "display_name": "clearScreen", "link": "https://stackoverflow.com/users/2190313/clearscreen"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460046456, "post_id": 36455990, "comment_id": 60573757, "body": "@KubaOber, thanks - Yes, I see the problem now, its not printing properly in chrome (and firefox) - so it&#39;s an issue of designing the html/css. I&#39;ll close this question."}], "owner": {"reputation": 982, "user_id": 2190313, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/518c491670550e02a8d78654f4c1b19c?s=128&d=identicon&r=PG&f=1", "display_name": "clearScreen", "link": "https://stackoverflow.com/users/2190313/clearscreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1460038123, "creation_date": 1459957411, "last_edit_date": 1460038123, "question_id": 36455990, "link": "https://stackoverflow.com/questions/36455990/qprinter-fit-the-html-table-into-a4-sheet-in-pdf-format", "title": "QPrinter: fit the html table into a4 sheet (in pdf format)", "body": "<p>I could not find an answer to this problem - My QT application generates a html output which has tables and figures (the size of the table-rows and columns- is not known beforehand).</p>\n\n<p>I have to create a pdf exporter from this html file. I used the <a href=\"http://doc.qt.io/qt-5/qprinter.html\" rel=\"nofollow\">QPrinter</a> class provided by Qt to do this. The problem I am facing is, when I have very long tables (many columns), I am not able to print the pdf document properly. </p>\n\n<p>Ideally, I want the pdf to contain the table with one below the other </p>\n\n<pre><code>--------------------------------------\nalpha | beta | gamma | delta | epsilon\none \ntwo \nthree\n--------------------------------------\n</code></pre>\n\n<p>If the above table exceeds the A4 sheet size, I want it to be printed as</p>\n\n<pre><code>--------------------\nalpha | beta | gamma \none \ntwo \nthree\n--------------------\n---------------\ndelta | epsilon\none\ntwo \nthree\n---------------\n</code></pre>\n\n<p>Currently, when I try to print it, the part of the table that exceeds the A4 size disappears. For printing, I load the contents of html file onto QString object. Then I use the following,</p>\n\n<pre><code>QWebView document;\ndocument.setHtml(qStr); //qStr is QString object\n\nQPrinter printer(QPrinter::HighResolution);\nprinter.setPageSize(QPrinter::A4);\nprinter.setOutputFormat(QPrinter::PdfFormat);\nprinter.setOutputFileName(\"output.pdf\");\ndocument.print(&amp;printer);\n</code></pre>\n\n<p>The html file is very simple- it contains only the table element. I have put the html file in this plunker - <a href=\"https://plnkr.co/edit/g9f68REYVnREqkUX39Nc?p=preview\" rel=\"nofollow\">link</a></p>\n\n<p>How can I achieve this? Thanks in advance. \n(I am required to use to the QPrinter functionality)</p>\n"}, {"tags": ["c++", "openmp"], "comments": [{"owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 1, "creation_date": 1459959797, "post_id": 36455989, "comment_id": 60526164, "body": "<i>Is it correct?</i>  Possibly.  Possibly not.  Your functions seem likely to operate through side effects.  Those side effects may implement data races ..."}], "answers": [{"tags": [], "owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "is_accepted": false, "score": 2, "last_activity_date": 1459959491, "creation_date": 1459959491, "answer_id": 36456761, "question_id": 36455989, "link": "https://stackoverflow.com/questions/36455989/openmp-with-nested-loops/36456761#36456761", "title": "OpenMP with nested loops", "body": "<p>Yes this will create one parallel region where every thread will iterate <code>t</code> over the outer loop, and split up the work of the iterations of the <code>i</code> loops among the threads.</p>\n\n<p>Note that a <code>#pragma omp for</code> has an implicit barrier at the end of it, so there is no need for you to also write your explicit barrier. This implicit barrier can be removed using the <code>nowait</code> clause (i.e. <code>#pragma omp for nowait</code>).</p>\n"}], "owner": {"reputation": 357, "user_id": 4376963, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d34a35d8fefb5fd01f22e532084fe501?s=128&d=identicon&r=PG&f=1", "display_name": "qloq", "link": "https://stackoverflow.com/users/4376963/qloq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460046999, "creation_date": 1459957411, "last_edit_date": 1460046999, "question_id": 36455989, "link": "https://stackoverflow.com/questions/36455989/openmp-with-nested-loops", "title": "OpenMP with nested loops", "body": "<p>I have few functions that should be applied to matrix of some structures serially. For single thread I use the following code:</p>\n\n<pre><code>for(int t = 0; t &lt; maxT; ++t)\n{\n    for(int i = 0; i &lt; maxI; ++i)\n        for(int j = 0; j &lt; maxJ; ++j)\n            function1(i, j);\n\n    for(int i = 0; i &lt; maxI; ++i)\n        for(int j = 0; j &lt; maxJ; ++j)\n            function2(i, j);\n}\n</code></pre>\n\n<p>Now I'm trying to parallelize that code:</p>\n\n<pre><code>#pragma omp parallel\n{\n    for(int t = 0; t &lt; maxT; ++t)\n    {\n        #pragma omp single\n        function3(); // call this function once (once for each iteration of t)\n        #pragma omp for\n        for(int i = 0; i &lt; sizeI; ++i)\n            for(int j = 0; j &lt; sizeJ; ++j)\n                function1(i, j);\n\n        #pragma omp for\n        for(int i = 0; i &lt; sizeI; ++i)\n           for(int j = 0; j &lt; sizeJ; ++j)\n               function2(i, j);\n    }\n}\n</code></pre>\n\n<p>Is it correct?\nDoes it work it the way of reusing threads (not creating new threads team in main loop)?</p>\n\n<p>Update: Explicit barrier is really unnecessary.</p>\n\n<p>Actually, it seems that I was confused when I asked this question - the code example works properly. Now the question is: is it possible to call function (commented line in code) once after #pragma omp parrallel (not to call function3 in each thread in every iteration) . There is #pragma omp atomic to call increment operators and some others, but if I want to call a single instance of an arbitrary function (or, generally, to perform a block of code)?</p>\n\n<p>Mark's comment. I assume that I will handle data races in my parallelized functions. The only question here is: stl containers are not simply thread safe when using OpenMP? i.e., if I want to push_back() in std::list from several threads I still need to lock that list manually.</p>\n\n<p>Update 2: I've found that to run single action in parallel section it's needed to use #pragma omp single. So, this question is closed.</p>\n"}, {"tags": ["c++", "qt", "resources", "qml"], "comments": [{"owner": {"reputation": 5721, "user_id": 2792656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a52b4e818fe834ca7445df4395c156?s=128&d=identicon&r=PG&f=1", "display_name": "Meefte", "link": "https://stackoverflow.com/users/2792656/meefte"}, "edited": false, "score": 0, "creation_date": 1459959901, "post_id": 36455889, "comment_id": 60526245, "body": "try <a href=\"http://doc.qt.io/qt-5/qdir.html#Q_CLEANUP_RESOURCE\" rel=\"nofollow noreferrer\">Q_CLEANUP_RESOURCE(redTheme)</a>."}, {"owner": {"reputation": 1620, "user_id": 2425044, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b3b361ae8bba363d631bcccd9293e0c9?s=128&d=identicon&r=PG", "display_name": "Gr&#233;goire Borel", "link": "https://stackoverflow.com/users/2425044/gr%c3%a9goire-borel"}, "reply_to_user": {"reputation": 5721, "user_id": 2792656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a52b4e818fe834ca7445df4395c156?s=128&d=identicon&r=PG&f=1", "display_name": "Meefte", "link": "https://stackoverflow.com/users/2792656/meefte"}, "edited": false, "score": 0, "creation_date": 1460018273, "post_id": 36455889, "comment_id": 60552359, "body": "It seems to only work with internal resources, such as my <b>qml.qrc</b> which contains my controllers and views. My custom objects are contained in my external binary resources."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460035011, "post_id": 36455889, "comment_id": 60564809, "body": "Looks like a Qt bug, you should report it. A temporary workaround would be to switch to another resource and then back."}, {"owner": {"reputation": 1620, "user_id": 2425044, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b3b361ae8bba363d631bcccd9293e0c9?s=128&d=identicon&r=PG", "display_name": "Gr&#233;goire Borel", "link": "https://stackoverflow.com/users/2425044/gr%c3%a9goire-borel"}, "edited": false, "score": 0, "creation_date": 1460036817, "post_id": 36455889, "comment_id": 60566294, "body": "Switching from <b>redTheme,rcc</b> to <b>blueTheme.rcc</b> and vice-versa works. However, even if they are overidden, their content do not change."}], "owner": {"reputation": 1620, "user_id": 2425044, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b3b361ae8bba363d631bcccd9293e0c9?s=128&d=identicon&r=PG", "display_name": "Gr&#233;goire Borel", "link": "https://stackoverflow.com/users/2425044/gr%c3%a9goire-borel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1460034687, "creation_date": 1459957146, "last_edit_date": 1460034687, "question_id": 36455889, "link": "https://stackoverflow.com/questions/36455889/overriding-external-binary-resource-doesnt-update-its-content", "title": "Overriding external binary resource doesn&#39;t update its content", "body": "<p>I'm using external binary resources to set the graphical interface of my program.</p>\n\n<p>Everything works when I switch from <strong>redTheme.rcc</strong> to <strong>blueTheme.rcc</strong>: my interface is updated.</p>\n\n<p>Now let's say I want to update my <strong>redTheme.rcc</strong> file from the outside of my program. I am able to detect that the file has been overridden by using the <a href=\"http://doc.qt.io/qt-5/qfilesystemwatcher.html\" rel=\"nofollow\">QFileSystemWatcher</a> class. Here's what I do to update its content:</p>\n\n<pre><code>QResource::unregisterResource(\"redTheme.rcc\");\nQResource::registerResource(\"redTheme.rcc\");\n</code></pre>\n\n<p>Both commands return <code>true</code>. However, my graphical interface is not updated. It seems that the content of my resource is not overridden.</p>\n\n<p>Is there a way to do it?</p>\n"}, {"tags": ["c++", "boost", "visual-studio-2015"], "comments": [{"owner": {"reputation": 13218, "user_id": 1348273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IYjFG.jpg?s=128&g=1", "display_name": "Lingxi", "link": "https://stackoverflow.com/users/1348273/lingxi"}, "edited": false, "score": 0, "creation_date": 1459959629, "post_id": 36455870, "comment_id": 60526052, "body": "You could try rebuilding boost without specifying <code>--toolset=msvc-14.0</code> so that the build system could figure out the right version itself."}, {"owner": {"reputation": 3808, "user_id": 2922611, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26420ac1fcb58b3d0c0f63273eaf3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kenba", "link": "https://stackoverflow.com/users/2922611/kenba"}, "reply_to_user": {"reputation": 13218, "user_id": 1348273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IYjFG.jpg?s=128&g=1", "display_name": "Lingxi", "link": "https://stackoverflow.com/users/1348273/lingxi"}, "edited": false, "score": 1, "creation_date": 1459962600, "post_id": 36455870, "comment_id": 60527921, "body": "@Lingxi specifying <code>toolset=msvc-14.0</code> is correct for MSVC2015, but boost 1.60 seems to cause lots of people build issues, see my answer <a href=\"http://stackoverflow.com/questions/35217511/boost-1-60-0-zip-installation-in-windows/35223257#35223257\">here</a>"}, {"owner": {"reputation": 4803, "user_id": 350527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed271b0bb926fbff73cb84dd1a1beb64?s=128&d=identicon&r=PG", "display_name": "Sergei Nikulov", "link": "https://stackoverflow.com/users/350527/sergei-nikulov"}, "edited": false, "score": 0, "creation_date": 1460011020, "post_id": 36455870, "comment_id": 60547843, "body": "Let me guess... You have multiple boost installations and incorrect boost library linked with your project."}, {"owner": {"reputation": 65, "user_id": 2798312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041ab63ff700392b857a6864ba7f26dd?s=128&d=identicon&r=PG&f=1", "display_name": "cevertje400", "link": "https://stackoverflow.com/users/2798312/cevertje400"}, "reply_to_user": {"reputation": 4803, "user_id": 350527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed271b0bb926fbff73cb84dd1a1beb64?s=128&d=identicon&r=PG", "display_name": "Sergei Nikulov", "link": "https://stackoverflow.com/users/350527/sergei-nikulov"}, "edited": false, "score": 0, "creation_date": 1460014888, "post_id": 36455870, "comment_id": 60550267, "body": "@SergeiNikulov I have only one boost installation and I link to the correct library. Omiting --toolset=msv-14.0 doesn&#39;t work"}, {"owner": {"reputation": 4803, "user_id": 350527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed271b0bb926fbff73cb84dd1a1beb64?s=128&d=identicon&r=PG", "display_name": "Sergei Nikulov", "link": "https://stackoverflow.com/users/350527/sergei-nikulov"}, "edited": false, "score": 0, "creation_date": 1460017462, "post_id": 36455870, "comment_id": 60551861, "body": "@cevertje400 could you please define BOOST_ALL_NO_LIB for your solution and point to exact libs you want to link?"}, {"owner": {"reputation": 65, "user_id": 2798312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041ab63ff700392b857a6864ba7f26dd?s=128&d=identicon&r=PG&f=1", "display_name": "cevertje400", "link": "https://stackoverflow.com/users/2798312/cevertje400"}, "reply_to_user": {"reputation": 3808, "user_id": 2922611, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26420ac1fcb58b3d0c0f63273eaf3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kenba", "link": "https://stackoverflow.com/users/2922611/kenba"}, "edited": false, "score": 0, "creation_date": 1460104163, "post_id": 36455870, "comment_id": 60597772, "body": "@kenba I tried all three build versions (static,thread,dynamic) but I got the same error. I downloaded the prebuild windows binaries and they work"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1460110760, "post_id": 36455870, "comment_id": 60601833, "body": "Building boost is a greek tragedy.  Just download the <a href=\"https://sourceforge.net/projects/boost/files/boost-binaries/\" rel=\"nofollow noreferrer\">prebuilt binaries</a>"}, {"owner": {"reputation": 3808, "user_id": 2922611, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26420ac1fcb58b3d0c0f63273eaf3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kenba", "link": "https://stackoverflow.com/users/2922611/kenba"}, "edited": false, "score": 0, "creation_date": 1460120833, "post_id": 36455870, "comment_id": 60608087, "body": "@cevertje400 I&#39;m glad to hear that you&#39;ve got the prebuilt binaries to work. It sounds like the libraries you&#39;ve built have been built with the wrong version of Visual Studio. I usually build <code>MSVC</code> libraries in an <code>MSBuild Command Prompt for VS2015</code> instead of a normal command prompt. It ensures that the correct version of MSVC is at the start of your Path and it sets <code>VisualStudioVersion=14.0</code>..."}, {"owner": {"reputation": 65, "user_id": 2798312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041ab63ff700392b857a6864ba7f26dd?s=128&d=identicon&r=PG&f=1", "display_name": "cevertje400", "link": "https://stackoverflow.com/users/2798312/cevertje400"}, "reply_to_user": {"reputation": 3808, "user_id": 2922611, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26420ac1fcb58b3d0c0f63273eaf3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kenba", "link": "https://stackoverflow.com/users/2922611/kenba"}, "edited": false, "score": 0, "creation_date": 1460125310, "post_id": 36455870, "comment_id": 60611365, "body": "@kenba I tried building the libaries with the developper commant prompt and the msbuild command prompt of vs2015. But the same linker error remains. :("}], "owner": {"reputation": 65, "user_id": 2798312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041ab63ff700392b857a6864ba7f26dd?s=128&d=identicon&r=PG&f=1", "display_name": "cevertje400", "link": "https://stackoverflow.com/users/2798312/cevertje400"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1460114529, "creation_date": 1459957112, "last_edit_date": 1460114529, "question_id": 36455870, "link": "https://stackoverflow.com/questions/36455870/installing-boost-1-60-in-visual-studio-2015-update-1", "title": "installing boost 1_60 in visual studio 2015 update 1", "body": "<p>I Installed boost 1_60 using the visual studio 2015 command prompt:</p>\n\n<pre><code>bootstrap.bat\nb2 --toolset=msvc-14.0 architecture=x86 address-model=64 \n</code></pre>\n\n<p>However when I include the headers and link to the libraries in a new visual studio 2015 (update 1) project  (target machine =x64) I obtain the following error:</p>\n\n<pre><code>error LNK2038: mismatch detected for '_MSC_VER': value '1800' doesn't match    value '1900'\n</code></pre>\n\n<p>I manually renamed one of the lib files to vc120 and inlcuded them in a new visual studio 2013 project. No linker errors occur. So apparently boost compiled boost using the visual studio 2013 compiler instead of the visual studio 2015 compiler even when the toolset is set to msvc-14.0</p>\n"}, {"tags": ["c++", "member", "functor"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1459957036, "post_id": 36455778, "comment_id": 60524099, "body": "You can&#39;t create variables with just  a declaration."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1459958979, "post_id": 36455778, "comment_id": 60525601, "body": "Is <a href=\"http://stackoverflow.com/a/2600679/4342498\">this</a> what you are looking for?"}, {"owner": {"reputation": 903, "user_id": 5339398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dd9da7f9c11bf0f13cc812c55b37bf96?s=128&d=identicon&r=PG&f=1", "display_name": "Madden", "link": "https://stackoverflow.com/users/5339398/madden"}, "edited": false, "score": 0, "creation_date": 1459961224, "post_id": 36455778, "comment_id": 60527096, "body": "Funnily enough I was actually trying to get away from hiding the functors in a private namespace. I&#39;ve settled on just leaving them in there and writing some accessors"}], "owner": {"reputation": 903, "user_id": 5339398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dd9da7f9c11bf0f13cc812c55b37bf96?s=128&d=identicon&r=PG&f=1", "display_name": "Madden", "link": "https://stackoverflow.com/users/5339398/madden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1459956870, "creation_date": 1459956870, "question_id": 36455778, "link": "https://stackoverflow.com/questions/36455778/c-declare-member-functors-for-later-definition", "title": "C++: Declare member functors for later definition", "body": "<p>I have some functors that I want to make member variables of a class, which I declare in my header file like so</p>\n\n<pre><code>class A {\npublic:\n//...\ntypedef struct functor1 functor1;\n//...\n}\n</code></pre>\n\n<p>I then want to define these functors in my source file (purely for organisational reasons), something like</p>\n\n<pre><code>A::functor1 {\n     void operator()(int in) const {\n     //stuff\n     }\n};\n</code></pre>\n\n<p>However this gives me an 'unqualified-id before \u2018{\u2019 token' error. Can anyone show me how to achieve what I'm aiming for or something similar?</p>\n"}, {"tags": ["c++", "user-defined-functions", "sqrt", "absolute-value"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 1013973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d2fadeaf423a7f5a915c5bce41c58b?s=128&d=identicon&r=PG", "display_name": "Vladimir Barshak", "link": "https://stackoverflow.com/users/1013973/vladimir-barshak"}, "is_accepted": false, "score": 0, "last_activity_date": 1459958454, "creation_date": 1459958454, "answer_id": 36456361, "question_id": 36455692, "link": "https://stackoverflow.com/questions/36455692/how-to-calculate-the-true-square-root-of-a-number-with-3-user-defined-functions/36456361#36456361", "title": "How to calculate the true square root of a number with 3 user-defined functions", "body": "<p>Just a few corrections</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\ndouble sqRoot(double X);\n\nint main()\n{\n    double X;\n\n    // Calculations\n\n    cout &lt;&lt; \"Please enter a number: \";\n    cin &gt;&gt; X;\n\n    while (X &lt;= 0)\n    {\n        cout &lt;&lt; \"*** Error: Invalid Number! *** \" &lt;&lt; endl;\n        cout &lt;&lt; \"Please enter a number: \";\n        cin &gt;&gt; X;\n    }\n    while (X &gt;= 1)\n    {\n        cout &lt;&lt; \"The Square Root is: \" &lt;&lt; sqRoot(X) &lt;&lt; endl;\n    }\n}\n\ndouble sqRoot(double X)\n{\n    double newValue = 0;\n    double oldValue = X;\n    while (true)\n    {\n        newValue = 0.5 * (oldValue + (X / oldValue));\n        if (abs(newValue - oldValue) &lt; 0.0001)\n            break;\n        oldValue = newValue;\n        //cout &lt;&lt; \" The square root is: \" &lt;&lt; newValue &lt;&lt; endl;\n    }\n    return (newValue);\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "is_accepted": true, "score": 2, "last_activity_date": 1459983485, "creation_date": 1459983485, "answer_id": 36463775, "question_id": 36455692, "link": "https://stackoverflow.com/questions/36455692/how-to-calculate-the-true-square-root-of-a-number-with-3-user-defined-functions/36463775#36463775", "title": "How to calculate the true square root of a number with 3 user-defined functions", "body": "<p>In your snippet you don't show how you implement <code>absVal()</code>, which is trivial:</p>\n\n<pre><code>double absVal( double x )\n{\n    return  x &lt; 0.0 ? -x : x;\n}\n</code></pre>\n\n<p>Assuming that you you know the ternary operator. Otherwise use an <code>if</code>.</p>\n\n<p>The implementation of <code>main()</code> you posted is basically an infinite loop which calculates and prints repeatedly only the first number equal or greater then 1.0 that the user inputs. That's not what you are asked for, I think</p>\n\n<p>I'm not sure if the x >= 1 condition is mandatory (tiny values requires more iterations) or an assumption of yours and what you are supposed to do in case of a negative number (you can use absVal instead of printing an error), but you can write something like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n// #include &lt;cmath&gt;         &lt;-- you are not supposed to use that\n// #include &lt;cstdlib&gt;       &lt;-- why do you want that?\n// using namespace std;     &lt;-- bad idea\n\nusing std::cin;\nusing std::cout;\n\ndouble absVal( double x );\ndouble sqRoot( double x );\n\nint main()\n{\n    double num;\n\n    cout &lt;&lt; \"This program calculate the square root of the numbers you enter.\\n\"\n         &lt;&lt; \"Please, enter a number or something else to quit the program:\\n\";\n\n    // this will loop till std::cin fails\n    while ( cin &gt;&gt; num )\n    {\n        if ( num &lt; 0.0 ) {\n            cout &lt;&lt; \"*** Error: Invalid input! ***\\n\"\n                 &lt;&lt; \"Please enter a positive number: \";\n            continue;\n        }\n\n        cout &lt;&lt; \"The square root of \" &lt;&lt; num &lt;&lt; \" is: \" &lt;&lt; sqRoot(num);\n        cout &lt;&lt; \"\\nPlease enter a number: \";\n    }\n\n    return 0;       // you missed this\n}\n</code></pre>\n\n<p>Then, in your implementation of <code>sqRoot()</code> you forgot to pass the variable x as a parameter, to initialize oldValue and newValue and if the flow of execution happens to enter the while loop it will exit after the first loop because <code>oldValue = newValue;</code> is evaluated before the condition. Try something like this (I used the relative error instead of the absolute difference to gain better precision with small values of x at the cost of more iterations):</p>\n\n<pre><code>double sqRoot(double x)\n{\n    const double eps = 0.0001;\n    double newValue = 0;        \n    double oldValue = x;\n\n    while ( oldValue != 0.0 )\n    {\n        newValue = 0.5 * (oldValue + (x / oldValue));\n\n        // check if the relative error is small enough\n        if ( absVal(newValue - oldValue) / oldValue  &lt;  eps )\n            break;\n\n        oldValue = newValue;\n    }\n\n    return newValue;\n }\n</code></pre>\n\n<p>Hope it helped.</p>\n"}], "owner": {"reputation": 17, "user_id": 6167587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebe6d3bb63fea1cea46db9fe78d88d5?s=128&d=identicon&r=PG&f=1", "display_name": "123890Sah", "link": "https://stackoverflow.com/users/6167587/123890sah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 1, "accepted_answer_id": 36463775, "answer_count": 2, "score": 2, "last_activity_date": 1459983485, "creation_date": 1459956644, "last_edit_date": 1459956887, "question_id": 36455692, "link": "https://stackoverflow.com/questions/36455692/how-to-calculate-the-true-square-root-of-a-number-with-3-user-defined-functions", "title": "How to calculate the true square root of a number with 3 user-defined functions", "body": "<p>I need a bit of help and some tips on where to go \nFor a programming assignment, I have to write a program that calculates the square root of the number that the user inputs and there are certain requirements. </p>\n\n<ol>\n<li><p>The <strong>main</strong> asks for the number and displays it, operates inside a Loop so that the user can repeat the program without closing it</p></li>\n<li><p>The calculation has to be done in a function called <strong>sqRoot</strong> which will be called by <strong>main</strong> using the algorithm:</p></li>\n</ol>\n\n<p>newValue = 0.5 * (oldValue + (X / oldValue))</p>\n\n<ol start=\"3\">\n<li><strong>sqRoot</strong> will need to find the absolute value of the number with a function named <strong>absVal</strong> which will then be called by <strong>sqRoot</strong></li>\n</ol>\n\n<p>I dont even know where to start with a program like this. But, this is what i have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\ndouble sqRoot();\ndouble absVal();\nint i = 0;\ndouble X;\n\nint main()\n{\n   sqRoot = sqrt(X);\n   double X;\n\n   // Calculations\n\n   cout &lt;&lt; \"Please enter a number: \";\n   cin &gt;&gt; X;\n\n   while (X &lt;= 0)\n   {\n      cout &lt;&lt; \"*** Error: Invalid Number! *** \" &lt;&lt; endl;\n      cout &lt;&lt; \"Please enter a number: \";\n      cin &gt;&gt; X;\n   }\n   while (X &gt;= 1)\n   {\n      cout &lt;&lt; \"The Square Root is: \" &lt;&lt; sqRoot &lt;&lt; endl;\n   }\n}\n\ndouble sqRoot ()\n{\n   double newValue;\n   double oldValue ;\n   while (abs(newValue - oldValue) &gt; 0.0001)\n   {\n      newValue = 0.5 * (oldValue + ( X / oldValue));\n      oldValue = newValue;\n      cout &lt;&lt; \" The square root is: \" &lt;&lt; newValue &lt;&lt; endl;\n   }\n   return (newValue);\n}\n</code></pre>\n\n<p>I'm just stuck with what to do next and how to properly write the program.\nThank You for the help and tips!</p>\n"}, {"tags": ["c++", "winapi", "interlocked"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1459957119, "post_id": 36455678, "comment_id": 60524166, "body": "I don&#39;t understand, why you are contrasting heap allocation with memory alignment. It&#39;s not like those two concepts ever compete. What question do you really want to ask?"}, {"owner": {"reputation": 55767, "user_id": 219159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cxM6H.jpg?s=128&g=1", "display_name": "Seva Alekseyev", "link": "https://stackoverflow.com/users/219159/seva-alekseyev"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1459957906, "post_id": 36455678, "comment_id": 60524795, "body": "The real question is - is there any particular reason this C++ sample uses malloc() for the header?"}], "answers": [{"tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": true, "score": 1, "last_activity_date": 1459957522, "creation_date": 1459957522, "answer_id": 36456023, "question_id": 36455678, "link": "https://stackoverflow.com/questions/36455678/do-i-have-to-mallocate-slist-header/36456023#36456023", "title": "Do I have to mallocate SLIST_HEADER?", "body": "<p>The giveaway here is the mix of libraries. The SLIST part comes from Windows itself (doesn't assume C/C++) while <code>_aligned_malloc</code> comes from the MSVCRT. Since the SLIST code cannot even assume MSVCRT is used, it doesn't know where the memory came from. </p>\n\n<p>So it doesn't matter by which means you (or the compiler) align the memory, or how your language calls a particular category of memory. (Your \"heap\" most likely isn't a Windows Heap in the <code>HeapAlloc</code> sense of the word)</p>\n"}], "owner": {"reputation": 55767, "user_id": 219159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cxM6H.jpg?s=128&g=1", "display_name": "Seva Alekseyev", "link": "https://stackoverflow.com/users/219159/seva-alekseyev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 36456023, "answer_count": 1, "score": 1, "last_activity_date": 1459957522, "creation_date": 1459956609, "question_id": 36455678, "link": "https://stackoverflow.com/questions/36455678/do-i-have-to-mallocate-slist-header", "title": "Do I have to mallocate SLIST_HEADER?", "body": "<p>The guide <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686962(v=vs.85).aspx\" rel=\"nofollow\">\"Using Singly Linked Lists\"</a> uses <code>_aligned_malloc</code> to allocate the SLIST_HEADER structure before calling <code>InitializeSListHead()</code> on it. Is it a requirement that the list header structure is placed on the heap? I mean, it's declared with <code>DECLSPEC_ALIGN(16)</code> (on Win64), the compiler would place it on a required 16-byte boundary, won't it?</p>\n"}, {"tags": ["c++", "syntax"], "comments": [{"owner": {"reputation": 1876, "user_id": 2209511, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6BtmQ.png?s=128&g=1", "display_name": "aslg", "link": "https://stackoverflow.com/users/2209511/aslg"}, "edited": false, "score": 1, "creation_date": 1459956731, "post_id": 36455669, "comment_id": 60523862, "body": "You need to learn how to use <a href=\"http://www.cplusplus.com/doc/tutorial/functions/\" rel=\"nofollow noreferrer\">functions</a>. If you really want to have your syntax the way you wrote it, maybe a macro could be used... But it&#39;s best if you use a function."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1459966570, "post_id": 36455669, "comment_id": 60530448, "body": "What does &#39;appeal a code block&#39; mean?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6163386, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-aBZxqhQg3cI/AAAAAAAAAAI/AAAAAAAAAEk/n_rhiymq0VI/photo.jpg?sz=128", "display_name": "GameZone RO", "link": "https://stackoverflow.com/users/6163386/gamezone-ro"}, "edited": false, "score": 0, "creation_date": 1459959368, "post_id": 36455711, "comment_id": 60525873, "body": "I look for an alternative method. This is just an example.  I have an file: ofstream myFile(&quot;file.txt&quot;) and I want to use an syntax, like write(or short, just w) for myFile&lt;&lt;i;"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 63, "user_id": 6163386, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-aBZxqhQg3cI/AAAAAAAAAAI/AAAAAAAAAEk/n_rhiymq0VI/photo.jpg?sz=128", "display_name": "GameZone RO", "link": "https://stackoverflow.com/users/6163386/gamezone-ro"}, "edited": false, "score": 0, "creation_date": 1459960088, "post_id": 36455711, "comment_id": 60526365, "body": "@GameZoneRO Please stick to C++ conventions and don&#39;t invent your own dialect. <code>&lt;&lt;</code> is the standard way for writing things to a file, and it&#39;s for a good reason. You can chain these together, like <code>f &lt;&lt; y &lt;&lt; z</code> which is way less mess than <code>f.write(y).write(z)</code>. Get used to the notation and you&#39;ll be fine."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 63, "user_id": 6163386, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-aBZxqhQg3cI/AAAAAAAAAAI/AAAAAAAAAEk/n_rhiymq0VI/photo.jpg?sz=128", "display_name": "GameZone RO", "link": "https://stackoverflow.com/users/6163386/gamezone-ro"}, "edited": false, "score": 0, "creation_date": 1459966605, "post_id": 36455711, "comment_id": 60530470, "body": "@GameZoneRO You look for an alternative method why?"}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": false, "score": 0, "last_activity_date": 1459956697, "creation_date": 1459956697, "answer_id": 36455711, "question_id": 36455669, "link": "https://stackoverflow.com/questions/36455669/c-syntax-who-appealed-a-code-block-simplify-the-work/36455711#36455711", "title": "C++ syntax who appealed a code block - simplify the work", "body": "<p>You would create a function:</p>\n\n<pre><code>void good_bad(int i)\n{\n    if(i%2) cout&lt;&lt;\"Good for us\";\n    else cout&lt;&lt;\"Bad for us\";\n}\n</code></pre>\n\n<p>And call it like this:</p>\n\n<pre><code>good_bad();\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6163386, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-aBZxqhQg3cI/AAAAAAAAAAI/AAAAAAAAAEk/n_rhiymq0VI/photo.jpg?sz=128", "display_name": "GameZone RO", "link": "https://stackoverflow.com/users/6163386/gamezone-ro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459959573, "creation_date": 1459956599, "last_edit_date": 1459959573, "question_id": 36455669, "link": "https://stackoverflow.com/questions/36455669/c-syntax-who-appealed-a-code-block-simplify-the-work", "title": "C++ syntax who appealed a code block - simplify the work", "body": "<p>It's possible to make my own \"syntax\" for a code block?\nFor, example I want to appeal this block of code 3 times in my program.</p>\n\n<p>I have an file: </p>\n\n<pre><code>ofstream myFile(\"file.txt\")\n</code></pre>\n\n<p>and I want to use an syntax, like \"write\" (or short, just \"w\") instead of</p>\n\n<pre><code>myFile&lt;&lt;i;\n</code></pre>\n\n<p>It's possible?</p>\n"}, {"tags": ["c++", "winapi", "window", "hwnd"], "comments": [{"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1459958694, "post_id": 36455622, "comment_id": 60525403, "body": "Is this for a child window? If you show what you have already done it would be easier to understand."}, {"owner": {"reputation": 4591, "user_id": 1798187, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/TtMsV.jpg?s=128&g=1", "display_name": "idanshmu", "link": "https://stackoverflow.com/users/1798187/idanshmu"}, "reply_to_user": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1459965739, "post_id": 36455622, "comment_id": 60529958, "body": "Just a simple exe the create a window using <code>CreateWindowEx</code>. alot of utility classes are involved in the window creation so it&#39;s hard to post all the relevant code. I&#39;m hopefully looking for a simple way of manipulating existing <code>HWND</code> to accomplish that."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1459965946, "post_id": 36455622, "comment_id": 60530067, "body": "You mean you don&#39;t want the user to be able to move the window? (this requires removing the caption and implementing a custom resize) - or are you looking for <code>SetWindowPos(hwnd, 0, 0, 0, width, height, SWP_NOMOVE)</code> which will resize the window but it won&#39;t change the top-left corner value."}, {"owner": {"reputation": 4591, "user_id": 1798187, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/TtMsV.jpg?s=128&g=1", "display_name": "idanshmu", "link": "https://stackoverflow.com/users/1798187/idanshmu"}, "reply_to_user": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1459966107, "post_id": 36455622, "comment_id": 60530169, "body": "I want the user to be able to resize the window but the top side must be at the same coordinate. left, right &amp; bottom sides may move"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 1, "creation_date": 1459967042, "post_id": 36455622, "comment_id": 60530762, "body": "Is <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20150504-00/?p=44944\" rel=\"nofollow noreferrer\">this</a> what you are looking for?"}], "answers": [{"tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 1, "last_activity_date": 1459976314, "last_edit_date": 1459976314, "creation_date": 1459968332, "answer_id": 36459787, "question_id": 36455622, "link": "https://stackoverflow.com/questions/36455622/create-resizable-window-with-fixed-top-coordinate/36459787#36459787", "title": "Create resizable window with fixed top coordinate", "body": "<p>You can create a window with no caption bar, for example</p>\n\n<pre><code>CreateWindow(className, title, WS_THICKFRAME | WS_POPUP, ...)\n</code></pre>\n\n<p>Then override <code>WM_NCHITTEST</code> to change the requests for moving the window up and down. </p>\n\n<p>If window has caption bar, for example:</p>\n\n<pre><code>CreateWindow(className, title, WS_OVERLAPPEDWINDOW, ...)\n</code></pre>\n\n<p>Then add override for <code>WM_WINDOWPOSCHANGING</code> as well:</p>\n\n<pre><code>LRESULT CALLBACK WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)\n{\n    switch (msg)\n    {\n\n    case WM_NCHITTEST:\n    {\n        LRESULT lresult = DefWindowProc(hwnd, msg, wParam, lParam);\n        switch (lresult)\n        {\n        case HTTOP:      lresult = HTCLIENT; break;\n        case HTTOPLEFT:  lresult = HTLEFT;   break;\n        case HTTOPRIGHT: lresult = HTRIGHT;  break;\n        }\n        return lresult;\n    }\n\n    case WM_WINDOWPOSCHANGING:\n    {\n        WINDOWPOS* wndpos = (WINDOWPOS*)lParam;\n        wndpos-&gt;y = 100;//choose a fixed position\n        break;\n    }\n\n    ...\n    }\n\n    return DefWindowProc(hwnd, msg, wParam, lParam);\n}\n</code></pre>\n"}], "owner": {"reputation": 4591, "user_id": 1798187, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/TtMsV.jpg?s=128&g=1", "display_name": "idanshmu", "link": "https://stackoverflow.com/users/1798187/idanshmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 36459787, "answer_count": 1, "score": 1, "last_activity_date": 1460424595, "creation_date": 1459956476, "last_edit_date": 1460424595, "question_id": 36455622, "link": "https://stackoverflow.com/questions/36455622/create-resizable-window-with-fixed-top-coordinate", "title": "Create resizable window with fixed top coordinate", "body": "<p>I'd like to implemented a window that its top coordinate is always <em>X</em> (for simplicity let's say 0). Meaning, the window's top side is fixed on 0 which is the top of the screen. </p>\n\n<p>I've already implemented the window, set its position using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms633545(v=vs.85).aspx\" rel=\"nofollow\">SetWindowPos</a> but I'm struggling maintaining  its top coordinate value. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 2, "creation_date": 1459956453, "post_id": 36455567, "comment_id": 60523655, "body": "Where is your code in all these questions? Post the code to show us what you are trying to do."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1459956602, "post_id": 36455567, "comment_id": 60523772, "body": "Which language, C or C++?  For example the C++ has <code>const_cast&lt;&gt;</code> and the C language doesn&#39;t."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459956671, "post_id": 36455567, "comment_id": 60523820, "body": "Also <code>char * str = &quot;Tokyo&quot;;</code> is deprecated in C++ and a good compiler with warnings turned on should at least tell you that."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1459956713, "post_id": 36455567, "comment_id": 60523852, "body": "C and C++ are different languages. Pick one!"}, {"owner": {"reputation": 11, "user_id": 6167609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85b301b3bfd0df99dba6adb00e7b4c1?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/6167609/oasis"}, "edited": false, "score": 0, "creation_date": 1459956737, "post_id": 36455567, "comment_id": 60523864, "body": "Sorry this is C++."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459956795, "post_id": 36455567, "comment_id": 60523908, "body": "A character literal, such as <code>&quot;Tokyo&quot;</code>, is constant, so you should declare a pointer to constant data:  <code>char const * str = &quot;Tokyo&quot;;</code> or my favorite: <code>const char tokyo[] = &quot;Tokyo&quot;;</code>."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1459957358, "post_id": 36455567, "comment_id": 60524356, "body": "You just pass is, conversion is implicit: <code>char str[] = &quot;Tokyo&quot;; const char* psz = str;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459956787, "post_id": 36455649, "comment_id": 60523898, "body": "And one <b>can&#39;t</b> use const_cast, at the peril of invoking undefined behavior."}, {"owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1459956873, "post_id": 36455649, "comment_id": 60523967, "body": "Yes, I&#39;ll add this, and that const_cast is typically for the sake of compatiblity with old apis."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1459957280, "post_id": 36455649, "comment_id": 60524299, "body": "Re you added code edit: You have UB in the code since <code>cs</code> is <code>const</code>.  A correct example would be to have a non-const array, pass it to a function taking a <code>const char *</code> and then <code>const_cast</code> away the const to pass it to a function that takes a <code>char *</code>."}, {"owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1459957431, "post_id": 36455649, "comment_id": 60524405, "body": "@NathanOliver. It depends whether some_old_api modifies cs. If it doesn&#39;t and one knows it, then this does not invoke UB. I&#39;ll check this, but as far as I&#39;m aware."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459957546, "post_id": 36455649, "comment_id": 60524494, "body": "Nope.  In your example you cast away the <code>const</code> on <code>cs</code> with <code>some_old_api(const_cast&lt;char*&gt;(cs);</code>.  Since <code>cs</code> is <code>const</code> you now have UB."}, {"owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "edited": false, "score": 0, "creation_date": 1459957635, "post_id": 36455649, "comment_id": 60524573, "body": "Yes, I do cast it way merely for the legacy call to compile, but it is still const, as the legacy call does not modify it... Therefore not UB."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1459957712, "post_id": 36455649, "comment_id": 60524647, "body": "@NathanOliver Nope, casting const to non-const does <i>not</i> result in UB. Only if  <code>some_old_api</code> modifies the pointed object does any UB happen. If <code>some_old_api</code> is guaranteed not to modify, this is OK and quite typical when interacting with a C API."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 1, "creation_date": 1459958450, "post_id": 36455649, "comment_id": 60525198, "body": "@user2079303 and Werner.  You are correct.  I considered the cast a modification but it is not.  As long as it is never modified it is okay."}], "tags": [], "owner": {"reputation": 3682, "user_id": 1400817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/666a05ea91a0a7e833c3e221a421a47a?s=128&d=identicon&r=PG", "display_name": "Werner Erasmus", "link": "https://stackoverflow.com/users/1400817/werner-erasmus"}, "is_accepted": false, "score": 4, "last_activity_date": 1459957586, "last_edit_date": 1459957586, "creation_date": 1459956555, "answer_id": 36455649, "question_id": 36455567, "link": "https://stackoverflow.com/questions/36455567/how-to-pass-char-a-to-const-char/36455649#36455649", "title": "How to pass &quot;char* a&quot; to &quot;const char*&quot;?", "body": "<p>In c++, it should just work. Native/Builtin types are automatically convertible to more const, but not to less const. </p>\n\n<p>Therefore:</p>\n\n<pre><code>void foo(const char*) {\n}\n\nint main() {\n    char s[] = {'x', 'y', 'z', '\\0'};\n    foo(s); //Compiles fine.\n    return 0;\n}\n</code></pre>\n\n<p>This compiles fine, however the other way around, one has to use a const_cast. One should however not lie to the compiler and indicate that something is non const, while in actual fact it is const, as the program behavior in that case is undefined (one cannot know what the behavior of the program might be). const_cast is typically only used when old APIs require char* arguments despite it not modifying the arguments, and should never be used to \"lie\" to the compiler.</p>\n\n<p>Example:</p>\n\n<pre><code>void some_old_api(char*){}\n\nint main() {\n    const char* cs = \"xyz\";\n    some_old_api(const_cast&lt;char*&gt;(cs));\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459956686, "post_id": 36455662, "comment_id": 60523836, "body": "Wrong. a string literal is <b>not</b> of type <code>const char*</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1459956880, "post_id": 36455662, "comment_id": 60523973, "body": "About C: While a <i>string literal</i> <b>behaves</b> as if it was <code>const</code> qualified (and should be treated the alike). it actually is not! The standard is very clear about this. It also mentions writing to a string literal is a comon extension of the standard. Furthermore, if it was, you could not use <code>char *str = &quot;It works&quot;;</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459956997, "post_id": 36455662, "comment_id": 60524069, "body": "<code>&quot;Tokyo&quot;</code> has the type of <code>const char[N]</code> where <code>N</code> is the number of characters plus a null terminator."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1459957522, "post_id": 36455662, "comment_id": 60524477, "body": "@Olaf I do get compiler warnings from Xcode 7.3 if I try <code>char* str = &quot;It works&quot;;</code> It will compile, but it complains loudly."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459957644, "post_id": 36455662, "comment_id": 60524581, "body": "@NathanOliver OK, good point. I&#39;ll consider myself corrected on that point. But that doesn&#39;t make <code>const char* str = &quot;Tokyo&quot;;</code> invalid."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459957741, "post_id": 36455662, "comment_id": 60524667, "body": "@Logicrat Never said it did.  It is a totally correct way to store a string literal.  My only issue is with you saying a string literal is a <code>const char *</code> since it is not."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1459957870, "post_id": 36455662, "comment_id": 60524766, "body": "@Logicrat: Use a C compiler. I was very clear in my comment. Note that it is also not a <code>char *</code>, but a <code>char []</code> as NathanOliver pointed out. As every array, it decasy to a pointer to the first element for most usages."}], "tags": [], "owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "is_accepted": false, "score": -3, "last_activity_date": 1459956578, "creation_date": 1459956578, "answer_id": 36455662, "question_id": 36455567, "link": "https://stackoverflow.com/questions/36455567/how-to-pass-char-a-to-const-char/36455662#36455662", "title": "How to pass &quot;char* a&quot; to &quot;const char*&quot;?", "body": "<p>A character array hard-coded in your program <em>is</em> a <code>const char*</code>, so you can declare it as <code>const char* str = \"Tokyo\";</code><br>Or, when you do have a <code>char* str</code>, you can cast it as follows: <code>const char* myconst = (const char*) str;</code></p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 7, "last_activity_date": 1459958118, "last_edit_date": 1459958118, "creation_date": 1459956866, "answer_id": 36455775, "question_id": 36455567, "link": "https://stackoverflow.com/questions/36455567/how-to-pass-char-a-to-const-char/36455775#36455775", "title": "How to pass &quot;char* a&quot; to &quot;const char*&quot;?", "body": "<pre><code>char * str = \"Tokyo\";\n</code></pre>\n\n<p>In c++, this is <strong>not</strong> allowed <sup>\u2020</sup>. You may not assign a const array (such as a string literal) to a non-const pointer.</p>\n\n<pre><code>const char *;\n</code></pre>\n\n<p>This is not allowed, because a variable declaration must have a name (unless it's a function argument).</p>\n\n<pre><code>const char *str = non_const_pointer_or_array;\n</code></pre>\n\n<p>The above is OK in c++.</p>\n\n<p>\u2020 Implicit conversion from const to non-const is allowed in c but typically discouraged by compiler warnings. It was deprecated in c++ and not allowed at all since c++11.</p>\n"}], "owner": {"reputation": 11, "user_id": 6167609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85b301b3bfd0df99dba6adb00e7b4c1?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/6167609/oasis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "closed_date": 1459958277, "answer_count": 3, "score": -2, "last_activity_date": 1459958118, "creation_date": 1459956321, "last_edit_date": 1459957430, "question_id": 36455567, "link": "https://stackoverflow.com/questions/36455567/how-to-pass-char-a-to-const-char", "closed_reason": "Needs details or clarity", "title": "How to pass &quot;char* a&quot; to &quot;const char*&quot;?", "body": "<p>Could you tell me the way to pass the value (char * a) to the value (const char* b)?</p>\n\n<p>For example, </p>\n\n<pre><code>char * str = \"Tokyo\";\nconst char *;\n\n\"char = str\"  is OK? \n</code></pre>\n"}, {"tags": ["c++", "linux", "exception", "shared", "platform"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4590120"}, "edited": false, "score": 0, "creation_date": 1461527592, "post_id": 36455453, "comment_id": 61227331, "body": "My condolences for having to deal with LINUX/UNIX. I&#39;m suffering the same fate. Avoid Linux/UNIX. Use a system (I&#39;m not going to tell you the name), which is able (since 20 years) to deal with multiple different runtime libraries inside a single process and which does not suffer the problem of std:: always ending up as weak symbols (not being able to hide symbols from the std namespace, even if it is std::vector&lt;yourNameSpace::yourClass&gt;)."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1459963561, "creation_date": 1459963561, "answer_id": 36458170, "question_id": 36455453, "link": "https://stackoverflow.com/questions/36455453/how-to-create-a-shared-library-object-on-linux-x64-which-internally-uses-c-exc/36458170#36458170", "title": "How to create a shared library object on linux x64 which internally uses C++ exceptions and can run on older platforms?", "body": "<p>On Linux <code>g++</code> links in <code>libstdc++</code> and <code>libgcc_s</code> to your executables and shared libraries.</p>\n\n<p>I would try using <code>-static-libgcc</code> and <code>-static-libstdc++</code> to link these statically into your shared library. And then would check <code>ldd my.so</code> output to make sure your shared library does not link unwanted <code>.so</code>.</p>\n"}], "owner": {"reputation": 166, "user_id": 955065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f656b3bd635a2073f8df5ec91a03c7ea?s=128&d=identicon&r=PG", "display_name": "Klingon", "link": "https://stackoverflow.com/users/955065/klingon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459963561, "creation_date": 1459956052, "question_id": 36455453, "link": "https://stackoverflow.com/questions/36455453/how-to-create-a-shared-library-object-on-linux-x64-which-internally-uses-c-exc", "title": "How to create a shared library object on linux x64 which internally uses C++ exceptions and can run on older platforms?", "body": "<p>How can a C++ based shared library, which internally uses C++ exceptions (no exceptions crossing .so boundaries), be created on one Linux x64 (e.g. Red Hat 7.x) platform be created in such a way it can be run on other platforms which are ABI compatible to the shared library (e.g. Red Hat 5.x or Red Hat 8.x)?</p>\n\n<p>The .so does not use the C++ standard library (except for ), but internally uses C++ exceptions. Its external API is C only, all exceptions are caught inside (incl. using \"catch(...)\" to be on the safe side).</p>\n\n<p>The experience now is that despite versioning efforts in GLIBC a .so built with GCC 4.7.2 and loaded by the main program via dlopen does run on a system with libc.so.6 etc. of version 2.12, but not on a system with version 2.5, weird abort() and terminate() calls occur when throwing the exceptions.</p>\n\n<p>The .so was compiled with \"-fabi-version=2\". No linker / loader errors occur on any platforms.</p>\n\n<p>So my question is how to achieve this task of building such an .so which can run on older platforms? It must be possible.</p>\n"}, {"tags": ["c++", "c++11", "variadic-templates"], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1459957144, "last_edit_date": 1459957144, "creation_date": 1459956808, "answer_id": 36455756, "question_id": 36455403, "link": "https://stackoverflow.com/questions/36455403/variadic-function-to-check-equal-lengths-of-stl-containers/36455756#36455756", "title": "Variadic function to check equal lengths of STL containers", "body": "<p>You're using two different packs in this statement:</p>\n\n<pre><code>std::vector&lt;Iterator&gt; vec_its {its...};\n</code></pre>\n\n<p><code>its</code> is expanded, but <code>Iterator</code> isn't a single type... it's a pack too, and you're failing to expand it. Hence the error (which specifically points out <code>Iterator</code>). </p>\n\n<p>If all you want is the sizes of the containers, you could just call <code>size()</code> on all the passed-in containers (containers, not iterators!) and put that in an array (no need for dynamic allocation):</p>\n\n<pre><code>template &lt;typename... Container&gt;\nbool isEqualLength(Container&amp;&amp;... cs) {\n    size_t sizes[] = {cs.size()...};\n\n    return std::all_of(std::begin(sizes), std::end(sizes),\n        [&amp;sizes](size_t cur){return cur == sizes[0]; });\n}\n</code></pre>\n"}], "owner": {"reputation": 1014, "user_id": 1350852, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/amXM8.gif?s=128&g=1", "display_name": "Cron Merdek", "link": "https://stackoverflow.com/users/1350852/cron-merdek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36455756, "answer_count": 1, "score": 2, "last_activity_date": 1459957144, "creation_date": 1459955910, "last_edit_date": 1459957124, "question_id": 36455403, "link": "https://stackoverflow.com/questions/36455403/variadic-function-to-check-equal-lengths-of-stl-containers", "title": "Variadic function to check equal lengths of STL containers", "body": "<p>I am writing my first variadic function template. I am getting the error <code>error: parameter packs not expanded with \u2018...\u2019:</code>. Probably I cannot understand some easy concept here. I would like to store all passed in <code>iterators</code> in a <code>vector</code>. What is the right way to do this?</p>\n\n<pre><code>template&lt;typename... Iterator&gt;\nbool IsEqualLength(Iterator&amp;... its)\n{\n    std::vector&lt;Iterator&gt; vec_its {its...};\n    int head = vec_its.front().size();\n\n    bool is_diff_size = std::any_of(vec_its.begin(), vec_its.end(), \n        [&amp;head](Iterator&amp; cur){return cur.size() != head;});\n\n    if(is_diff_size)\n    {\n        return false;\n    } else {\n        return true;\n    }\n}\n</code></pre>\n\n<p>This fails to compile with (under gcc 4.8.4 on Ubuntu):</p>\n\n<pre><code>../proc.h: In function \u2018bool IsEqualLength(Iterator&amp; ...)\u2019:\n../proc.h:32:24: error: parameter packs not expanded with \u2018...\u2019:\n  std::vector&lt;Iterator&gt; vec_its {its...};\n                        ^\n../proc.h:32:24: note:         \u2018Iterator\u2019\n../proc.h:35:87: error: parameter packs not expanded with \u2018...\u2019:\n</code></pre>\n"}, {"tags": ["python", "c++", "cython"], "comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1459963708, "post_id": 36455381, "comment_id": 60528659, "body": "In part it&#39;s because you aren&#39;t initialising <code>Foo</code> - it has a pointer called <code>&lt;something&gt;vtab&lt;something&gt;</code> which is never set, for example (see &quot;FooClass.h&quot;). I think you need a capi function that returns a <code>Foo</code>. However that still doesn&#39;t get rid of the segmentation fault for me, and I can&#39;t immediately see what&#39;s needed to fix it..."}], "answers": [{"comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1459967694, "post_id": 36459188, "comment_id": 60531121, "body": "That&#39;s pretty much what I tried and failed to get to work! Glad you were able to solve it..."}], "tags": [], "owner": {"reputation": 51, "user_id": 4164960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bef94cca7199f9ad7070f8987d8adbd?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Tervala", "link": "https://stackoverflow.com/users/4164960/justin-tervala"}, "is_accepted": false, "score": 1, "last_activity_date": 1459967263, "last_edit_date": 1459967263, "creation_date": 1459966553, "answer_id": 36459188, "question_id": 36455381, "link": "https://stackoverflow.com/questions/36455381/embedding-cython-class-methods-in-c/36459188#36459188", "title": "Embedding Cython Class Methods in C++", "body": "<p>I managed to fix the problem. Based on what David W said (thanks David!), I created another <code>cdef api</code> class to act as a wrapper for the constructor, <code>cdef api Foo buildFoo (double a, double b):</code> This returns a <code>Foo*</code> pointer, which what is required by <code>foobar(Foo foo, double d)</code> in the .pyx file. The resulting files  look like this:</p>\n\n<p>&lt;&lt;&lt; File: fooClass.pyx >>></p>\n\n<pre><code>from math import sin\n\ncdef public class Foo[object Foo, type fooType]:\n    cdef double a,b  \n\n    def __cinit__(self, double a, double b):\n        self.a = a\n        self.b = b  \n\n    cdef double bar(self, double c):\n        return sin(self.a*c)  \n\ncdef api Foo buildFoo(double a, double b):\n    return Foo(a,b)\n\ncdef api double foobar(Foo foo, double d):\n    return foo.bar(d)\n</code></pre>\n\n<p>&lt;&lt;&lt; File: Foo.cpp >>></p>\n\n<pre><code>#include \"fooClass_api.h\"\n#include &lt;iostream&gt;\n\nint main(){\n    Py_Initialize();\n    import_fooClass();\n    Foo *foo = buildFoo(10.0,5.0);\n    std::cout &lt;&lt; foobar(foo,5.0) &lt;&lt; \"\\n\";\n    Py_Finalize();\n}\n</code></pre>\n\n<p>Using the same <code>setup.py</code> script.</p>\n\n<p>Running this results in <code>-0.262375</code> printed to stdout, which is the correct result. I hope to use a more complicated version of this idea to replace some calls to boost::python throughout my code to improve performance.</p>\n"}, {"comments": [{"owner": {"reputation": 5451, "user_id": 414063, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5b1e3128b33fa994d6c6640fb49898da?s=128&d=identicon&r=PG", "display_name": "jokoon", "link": "https://stackoverflow.com/users/414063/jokoon"}, "edited": false, "score": 0, "creation_date": 1591005693, "post_id": 36556286, "comment_id": 109883516, "body": "It seems this was done with python 2: initfooClass is PyInit_fooClass. It crashes anyways."}], "tags": [], "owner": {"reputation": 51, "user_id": 4164960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bef94cca7199f9ad7070f8987d8adbd?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Tervala", "link": "https://stackoverflow.com/users/4164960/justin-tervala"}, "is_accepted": true, "score": 1, "last_activity_date": 1460398835, "creation_date": 1460398835, "answer_id": 36556286, "question_id": 36455381, "link": "https://stackoverflow.com/questions/36455381/embedding-cython-class-methods-in-c/36556286#36556286", "title": "Embedding Cython Class Methods in C++", "body": "<p>After using the previously-mentioned technique in a more complicated setting and repeatedly getting segfaults, here is the alternate method I used. The key difference is in the <code>api</code> and <code>public</code> keywords in the <code>pyx</code> file and how the class is included and used in <code>foo.cpp</code>.</p>\n\n<p>&lt;&lt;&lt; File: fooClass.pyx >>></p>\n\n<pre><code>from math import sin\n\ncdef public class Foo[object Foo, type fooType]:\n    cdef double a,b  \n    def __cinit__(self, double a, double b):\n        self.a = a\n        self.b = b  \n    cdef double bar(self, double c):\n        return sin(self.a*c)  \n\ncdef public Foo buildFoo(double a, double b):\n    return Foo(a,b)\n\ncdef public double foobar(Foo foo, double d):\n    return foo.bar(d)\n</code></pre>\n\n<p>&lt;&lt;&lt; File: Foo.cpp >>></p>\n\n<pre><code>#include &lt;Python.h&gt;\n#include \"fooClass.h\"\n#include &lt;iostream&gt;\n\nint main(){\n    Py_Initialize();\n    initfooClass();\n    Foo *foo = buildFoo(10.0,5.0);\n    std::cout &lt;&lt; foobar(foo,5.0) &lt;&lt; std::endl;\n    Py_Finalize();\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4164960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bef94cca7199f9ad7070f8987d8adbd?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Tervala", "link": "https://stackoverflow.com/users/4164960/justin-tervala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 1, "accepted_answer_id": 36556286, "answer_count": 2, "score": 3, "last_activity_date": 1460398835, "creation_date": 1459955862, "last_edit_date": 1459958248, "question_id": 36455381, "link": "https://stackoverflow.com/questions/36455381/embedding-cython-class-methods-in-c", "title": "Embedding Cython Class Methods in C++", "body": "<p>I am trying to embed a Cython class in a C++ class. Creating a Cython wrapper for this C++ class is not possible given the constraints of the project. And due to the number of methods in the Cython classes and long inheritances of the Cython classes, removing the method from a class entirely is not an attractive solution. It is necessary for me to create a Cython class instance and call its method from C++. However, I can't seem to make it not segfault. Here is an example of the problem:</p>\n\n<p>&lt;&lt;&lt; File: fooClass.pyx >>>  </p>\n\n<pre><code>from math import sin\ncdef public class Foo[object Foo, type fooType]:\n    cdef double a,b  \n    def __cinit__(self, double a, double b):\n        self.a = a\n        self.b = b  \n    cdef double bar(self, double c):\n        return sin(self.a*c)  \ncdef api double foobar(Foo foo, double d):\n    return foo.bar(d)\n</code></pre>\n\n<p>&lt;&lt;&lt; File: Foo.cpp >>></p>\n\n<pre><code>#include \"fooClass_api.h\"\n#include &lt;iostream&gt;\n\nint main(){\n    Py_Initialize();\n    import_fooClass();\n    Foo foo;\n    foo.a = 1.0;\n    foo.b = 10.0;\n    std::cout &lt;&lt; foobar(&amp;foo,5.0) &lt;&lt; \"\\n\";\n    Py_Finalize();\n}\n</code></pre>\n\n<p>&lt;&lt;&lt; File: setup.py >>></p>\n\n<pre><code>from distutils.core import setup\nfrom Cython.Build import cythonize  \nsetup ( ext_modules = cythonize (\"cyClass.pyx\"))\n</code></pre>\n\n<p>I build with <code>python setup.py build_ext --inplace</code> and compile with g++. Through testing I know that <code>Py_Initialize()</code> and <code>import_fooClass</code> is succeeding. And I know that I print the values of <code>foo.a</code> and <code>foo.b</code> inside of <code>foobar()</code>, but as soon as I make a call using the <code>Foo</code> object inside <code>foobar()</code>, the program segfaults. Even a call to <code>foo.__dict__</code> or <code>foo.callable()</code> inside <code>foobar()</code> causes it to segfault. Changing the <code>public</code> or <code>api</code> keywords have had effect, nor has switching between <code>__init__</code> and <code>__cinit__</code>.  If anyone knows how to fix this, I'd be very appreciative. I suspect it has something to do with pointers or misusing the Python C API. Thanks so much!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 509, "user_id": 859385, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3613ab2650aacf6d02b6d2500910389?s=128&d=identicon&r=PG", "display_name": "user859385", "link": "https://stackoverflow.com/users/859385/user859385"}, "edited": false, "score": 0, "creation_date": 1459955268, "post_id": 36455100, "comment_id": 60522732, "body": "may i ask why the downvote?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1459955283, "post_id": 36455100, "comment_id": 60522743, "body": "Please <b><a href=\"https://stackoverflow.com/posts/36455100/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>.  Also please do not use <code>using namespace std;</code> in a header file.  further reading: <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-in-c-considered-bad-practice\">Why is \u201cusing namespace std\u201d in C++ considered bad practice?</a>"}, {"owner": {"reputation": 509, "user_id": 859385, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3613ab2650aacf6d02b6d2500910389?s=128&d=identicon&r=PG", "display_name": "user859385", "link": "https://stackoverflow.com/users/859385/user859385"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459955328, "post_id": 36455100, "comment_id": 60522774, "body": "yeah i did not use. I am saying. The compiler is giving me problems"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1459955385, "post_id": 36455100, "comment_id": 60522827, "body": "How can we tell you what the problem could be without seeing the code the compiler is trying to compile?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 2, "creation_date": 1459955652, "post_id": 36455100, "comment_id": 60523040, "body": "@user859385 compiler doesn&#39;t <i>give you problems</i>. Your program is (probably) ill formed and the compiler tells you what&#39;s wrong with it. If you don&#39;t understand what the compiler says, then you can show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and we can explain it to you."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1459955684, "post_id": 36455100, "comment_id": 60523069, "body": "Header files are usually not compiled. They are always included (i.e. expanded) in compilation units. Those compilation units may change the environment for the header."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 1, "creation_date": 1459956103, "post_id": 36455100, "comment_id": 60523395, "body": "Just an idea, but is it possible that there are include files that are always included before A.h and not before B.h.  Normally, you should always include (or declare) what you need in a header file, so actually B.h is the one without any problems."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459957649, "post_id": 36455534, "comment_id": 60524588, "body": "IMHO, header files should only <code>#include</code> header files <i>to resolve symbols in the header file</i>.  Use <code>#include</code> in source files to resolve symbols in the source file."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1459957740, "post_id": 36455534, "comment_id": 60524666, "body": "@ThomasMatthews I agree. I think my answer assumed the context that the header file in question did declare objects of top <code>string</code> and <code>vector</code>."}], "tags": [], "owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "is_accepted": true, "score": 1, "last_activity_date": 1459956235, "creation_date": 1459956235, "answer_id": 36455534, "question_id": 36455100, "link": "https://stackoverflow.com/questions/36455100/weird-headers-c/36455534#36455534", "title": "Weird headers c++", "body": "<p>Your header files should have <code>#include &lt;string&gt;</code> and <code>#include &lt;vector&gt;</code> among their first few lines.  Then when you refer to those types either in your program or in the header file, I would recommend referring to <code>std::string</code> and <code>std::vector</code>. Using qualified references like that is the preferred alternative to <code>using namespace std</code>, as @NathanOliver pointed out.</p>\n"}], "owner": {"reputation": 509, "user_id": 859385, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3613ab2650aacf6d02b6d2500910389?s=128&d=identicon&r=PG", "display_name": "user859385", "link": "https://stackoverflow.com/users/859385/user859385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1459963507, "accepted_answer_id": 36455534, "answer_count": 1, "score": -4, "last_activity_date": 1459956235, "creation_date": 1459955148, "question_id": 36455100, "link": "https://stackoverflow.com/questions/36455100/weird-headers-c", "closed_reason": "Not suitable for this site", "title": "Weird headers c++", "body": "<p>On <code>A.h</code> i do not have to <code>#include</code> anything or use namespace for anything. </p>\n\n<p>On the other header, <code>B.h</code> i have to include <code>vector</code> and <code>using namespace std</code>. Both of this headers are not linked. Seems to be a file problem. When i copy the contents of <code>A.h</code> (without any problems) to <code>B.h</code>, i still get a compiler error saying <code>string</code> is not a type name and <code>vector</code> is not a template although the compiler did not state anything when the same content was on <code>A.h</code>. I am coding c++ on visual studio. What is going on?</p>\n"}, {"tags": ["c++", "qt", "qt4", "codeblocks"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1459967949, "post_id": 36454987, "comment_id": 60531281, "body": "Are you perchance building your project using a compiler different than was used to build Qt?"}, {"owner": {"reputation": 311, "user_id": 6167432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23502b15e4b9c37b780815142df04c81?s=128&d=identicon&r=PG&f=1", "display_name": "Instinct", "link": "https://stackoverflow.com/users/6167432/instinct"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460025009, "post_id": 36454987, "comment_id": 60557178, "body": "I am using the GNU Compiler as on default"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1460033553, "post_id": 36454987, "comment_id": 60563541, "body": "<b>Are you using the same compiler that was used to build the Qt you have installed</b>? If not, you will have problems. Either rebuild your own copy of Qt with the same compiler that Code::Blocks is using, or make sure that your Code::Blocks project is configured to use the compiler that Qt was compiled with."}], "owner": {"reputation": 311, "user_id": 6167432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23502b15e4b9c37b780815142df04c81?s=128&d=identicon&r=PG&f=1", "display_name": "Instinct", "link": "https://stackoverflow.com/users/6167432/instinct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 871, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1459955310, "creation_date": 1459954893, "last_edit_date": 1459955310, "question_id": 36454987, "link": "https://stackoverflow.com/questions/36454987/codeblocks-and-qt4", "title": "Code::Blocks and Qt4", "body": "<p>I\u00b4ve been trying desperately to get Qt4 running on my Code::Blocks. I\u00b4ve found the following page, with instructions I followed (German):</p>\n\n<p><a href=\"http://www.heikogorski.de/Compiler---Code/QT-und-Code--Blocks/qt-und-code--blocks.html\" rel=\"nofollow\">http://www.heikogorski.de/Compiler---Code/QT-und-Code--Blocks/qt-und-code--blocks.html</a></p>\n\n<p>I downloaded Qt 4.8.2 like in the tutorial, checked every path 3 times and still, once I try to run the following very basic code:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n\nint main(int a, char ** b)\n{\n    QApplication app(a,b);\n    return app.exec();\n}\n</code></pre>\n\n<p>the window will just crash and I get the following error message in debugger:</p>\n\n<blockquote>\n  <p>Exception error at 0x6E1CC9A4 (QtCore4.dll) in qttest3.exe:\n  0xC0000005: Acesss violation at adress 0x01040806</p>\n</blockquote>\n\n<p>Does anybody have an idea why?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 362978, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 1, "creation_date": 1459954724, "post_id": 36454882, "comment_id": 60522314, "body": "Note that <code>int</code> and <code>double</code> are not the same. This code won&#39;t compile. Also, it&#39;s really not very typical for C++ code."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 2, "creation_date": 1459954852, "post_id": 36454882, "comment_id": 60522408, "body": "delete_element(mass, len, ?); usually you should send the variables and not numbers"}, {"owner": {"reputation": 4125, "user_id": 3426025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxLev.png?s=128&g=1", "display_name": "BeyelerStudios", "link": "https://stackoverflow.com/users/3426025/beyelerstudios"}, "edited": false, "score": 3, "creation_date": 1459954924, "post_id": 36454882, "comment_id": 60522466, "body": "you cannot &quot;delete&quot; an element from an array you can only move the values of them around. as for the line <code>delete_element(mass[10],10&amp;,4);</code>: <code>mass[10]</code> accesses the 11-th element in your 10-sized array which will cause undefined behaviour (segfault at best), <code>10&amp;</code> is half of an expression and won&#39;t compile"}, {"owner": {"reputation": 89, "user_id": 5477056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a807f210de02024fb641ff220d0b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5477056/peter"}, "edited": false, "score": 0, "creation_date": 1459955110, "post_id": 36454882, "comment_id": 60522608, "body": "x - is primary array  n - array length k- element to delete (actually remove as is not actually possible to flat out to delete element as i&#39;m understanding from other posts)"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459957174, "post_id": 36454882, "comment_id": 60524209, "body": "@Peter -- Is <code>k</code> zero-based?  If so, the test is wrong.  If it isn&#39;t, this goes against how C++ usually refers to elements of an array.  In C++, we start at 0, not 1."}, {"owner": {"reputation": 89, "user_id": 5477056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a807f210de02024fb641ff220d0b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5477056/peter"}, "edited": false, "score": 0, "creation_date": 1459957404, "post_id": 36454882, "comment_id": 60524384, "body": "actually k can be any number the function handles if it negative or higher than number of elements."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1459957624, "post_id": 36454882, "comment_id": 60524559, "body": "@Peter But look at your test.  You are testing if <code>k &lt; 1</code>, when <code>k == 0</code> is a perfectly valid index."}, {"owner": {"reputation": 89, "user_id": 5477056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a807f210de02024fb641ff220d0b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5477056/peter"}, "edited": false, "score": 0, "creation_date": 1459957825, "post_id": 36454882, "comment_id": 60524730, "body": "Yes it is accustomed to normal counting comparing to computer counting, but there is no mistike as it is adjusted in for loop k-1, n-1"}], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 1693881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1f307d50eb1da6b1ffa341a1482401c?s=128&d=identicon&r=PG", "display_name": "And Wan", "link": "https://stackoverflow.com/users/1693881/and-wan"}, "is_accepted": false, "score": 1, "last_activity_date": 1459955255, "creation_date": 1459955255, "answer_id": 36455141, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c/36455141#36455141", "title": "Deleting element from an array in c++", "body": "<p>Line 15: syntax error\nyou can't pass a number&amp;\nIf you want to pass by reference, you need to create a variable first, like:</p>\n\n<p>your delete_element function signature conflicts with your declared arrays. Either use a double array or int array and make sure the signatures match.</p>\n\n<pre><code>delete_element(mass, len , 4);\n</code></pre>\n\n<p>when you write the name of an array without the brackets, then it's the same as &amp;mass[0]\nie. pointer to the first element.</p>\n\n<p>complete changes should be:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\n\nvoid delete_element(int x[], int&amp; n, int k);\n\nint main(){\n    // example of a function\n    int mass[10] = { 1, 2, 3, 45, 12, 87, 100, 101, 999, 999 };\n    int len = 10;\n\n    for (int i = 0; i&lt;10; i++){ cout &lt;&lt; mass[i] &lt;&lt; \" \"; };\n    cout &lt;&lt; endl;\n\n    delete_element(mass, len , 4);\n\n    for (int i = 0; i&lt;10; i++)cout &lt;&lt; mass[i] &lt;&lt; \" \";\n    cout &lt;&lt; endl;\n\n    cin.ignore();\n    return 0;\n}\n\nvoid delete_element(int x[], int&amp; n, int k){\n    if (k&lt;1 || k&gt;n){\n        cout &lt;&lt; \"Wrong index of k \" &lt;&lt; k &lt;&lt; endl;\n        exit(1); // end program\n    }\n\n    for (int i = k - 1; i&lt;n - 1; i++)\n        x[i] = x[i + 1];\n    n--;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 976, "user_id": 6105692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b319f39af45a42f5f38962b6869c335?s=128&d=identicon&r=PG&f=1", "display_name": "foo", "link": "https://stackoverflow.com/users/6105692/foo"}, "is_accepted": false, "score": 0, "last_activity_date": 1459955378, "creation_date": 1459955378, "answer_id": 36455183, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c/36455183#36455183", "title": "Deleting element from an array in c++", "body": "<p>There are a couple of mistakes in your program. \nApart from some syntax issues you are trying to pass an <code>int</code> array to a function which wants a <code>double</code> array. </p>\n\n<p>You cannot pass a lvalue reference of a <code>int</code> literal. What you want is to pass a reference to the length of the <code>int</code> array. see also <a href=\"http://en.cppreference.com/w/cpp/language/reference\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/reference</a>. </p>\n\n<p>Here is an updated version of your program.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n\nusing namespace std;\n\nvoid delete_element(int x[], int&amp; n, int k);\n\nint main() {\n  // example of a function\n  int mass[10] = { 1,2,3,45,12,87,100,101,999,999 };\n  int len = 10;\n\n  for (int i = 0;i &lt; len;i++)  \n    cout &lt;&lt; mass[i] &lt;&lt; \" \"; ;\n  cout &lt;&lt; endl;\n\n  delete_element(mass, len, 4);\n\n  for (int i = 0;i &lt; len;i++) // len is 9 now\n    cout &lt;&lt; mass[i] &lt;&lt; \" \";\n  cout &lt;&lt; endl;\n\n  return 0;\n}\n\nvoid delete_element(int x[], int&amp; n, int k) {\n  if (k&lt;1 || k&gt;n) {\n    cout &lt;&lt; \"Wrong index of k \" &lt;&lt; k &lt;&lt; endl;\n    exit(1); // end program\n  }\n\n  for (int i = k - 1;i&lt;n - 1;i++)\n    x[i] = x[i + 1];\n  n--;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1459955700, "post_id": 36455253, "comment_id": 60523084, "body": "@BeyelerStudios. That is of course a good argument, but I am very much support to make new programmers immediately aware of the fact that they are working with C++ rather than C. But you are right, I have edit my answer to satisfy your comment."}], "tags": [], "owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1459955792, "last_edit_date": 1459955792, "creation_date": 1459955540, "answer_id": 36455253, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c/36455253#36455253", "title": "Deleting element from an array in c++", "body": "<p>Although it does not answer your question directly, I would like to show you how you can use C++ to solve your problem in a simpler way.</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nvoid delete_element(std::vector&lt;int&gt;&amp; v, const unsigned i)\n{\n    if (i &lt; v.size())\n        v.erase(v.begin() + i);\n    else\n        std::cout &lt;&lt; \"Index \" &lt;&lt; i &lt;&lt; \" out of bounds\" &lt;&lt; std::endl;\n}\n\nint main()\n{\n    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5, 6, 7};\n    delete_element(v, 4);\n\n    for (int i : v)\n        std::cout &lt;&lt; i &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 455, "user_id": 6162032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rn7m.png?s=128&g=1", "display_name": "Nowhere Man", "link": "https://stackoverflow.com/users/6162032/nowhere-man"}, "is_accepted": true, "score": 1, "last_activity_date": 1459956744, "last_edit_date": 1459956744, "creation_date": 1459956279, "answer_id": 36455554, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c/36455554#36455554", "title": "Deleting element from an array in c++", "body": "<p>There are a couple of errors in your code. I highlight some of the major issues in question <strong>1-3</strong>:</p>\n\n<ol>\n<li>You call <code>exit</code>, which does not provide proper cleanup of any objects since     it's inherited from C. This isn't such a big deal in this program but it <em>will</em> become one.  <br/><br/>\nOne proper way too handle such an error is by throwing an exception <br/> <code>cout&lt;&lt;\"Wrong index of k \"&lt;&lt; k &lt;&lt;endl;\nexit(1);</code><br>\nShould be something like this:<br>\n<code>throw std::runtime_error(\"invalid index\");</code> <br/>\nand should be handled somewhere else. \n<br/></li>\n<li>You declare function parameters as taking a <code>int&amp;</code> but you call the function like this: <code>delete_element(mass[10],10&amp;,4);</code> <code>10&amp;</code> is passing the <em>address</em> of <code>10</code>. Simply pass the value <code>10</code> instead. </li>\n<li>You are \"deleting\" a function from a raw C array. This inherently doesn't make sense. You can't actually delete part of such an array. It is of constant compile time size created on the stack. The function itself doesn't do any deleting, try to name the functions something more task-oriented. </li>\n<li>You are using C-Arrays. Don't do this unless you have a very good reason. Use <code>std::array</code> or <code>std::vector</code>. These containers know their own size, and vector manages it's own memory and can be re sized with minimal effort. With containers you also have access to the full scope of the STL because of their iterator support. </li>\n</ol>\n\n<p><em>I suggest you rewrite the code, implementing some type of STL container</em></p>\n"}, {"tags": [], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1459959087, "last_edit_date": 1592644375, "creation_date": 1459958672, "answer_id": 36456452, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c/36456452#36456452", "title": "Deleting element from an array in c++", "body": "<p>You cannot delete elements from an array, since an array's size is fixed.  Given this, the implementation of <code>delete_element</code> can be done with just a single call to the appropriate algorithm function <a href=\"http://en.cppreference.com/w/cpp/algorithm/copy\" rel=\"nofollow noreferrer\">std::copy</a>.</p>\n<p>In addition, I highly suggest you make the element to delete a 0-based value, and not 1-based.</p>\n<p>Another note:  <a href=\"https://stackoverflow.com/questions/22843189/exit-call-inside-a-function-which-should-return-a-reference/22843464#22843464\">don't call <code>exit()</code> in the middle of a function call</a>.</p>\n<pre><code>#include &lt;algorithm&gt;\n//...\nvoid delete_element(int x[], int&amp; n, int k) \n{\n    if (k &lt; 0 || k &gt; n-1 )\n    {\n       cout &lt;&lt; &quot;Wrong index of k &quot; &lt;&lt; k &lt;&lt; endl;\n       return;\n    }\n\n    std::copy(x + k + 1, x + n, x + k);\n    n--;\n}\n</code></pre>\n<p><a href=\"http://ideone.com/1abW2B\" rel=\"nofollow noreferrer\">Live Example removing first element</a></p>\n<p>The <code>std::copy</code> call moves the elements from the source range (defined by the element after <code>k</code> and the last item (denoted by <code>n</code>)) to the destination range (the element at <code>k</code>).  Since the destination is not within the source range, the <code>std::copy</code> call works correctly.</p>\n"}], "owner": {"reputation": 89, "user_id": 5477056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a807f210de02024fb641ff220d0b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5477056/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5227, "favorite_count": 2, "accepted_answer_id": 36455554, "answer_count": 5, "score": 2, "last_activity_date": 1459959087, "creation_date": 1459954651, "last_edit_date": 1459955271, "question_id": 36454882, "link": "https://stackoverflow.com/questions/36454882/deleting-element-from-an-array-in-c", "title": "Deleting element from an array in c++", "body": "<p>I have read others posts, but they don't answer my problem fully.\nI'm learning to delete elements from an array from the book and try to apply that code. \nAs far as I can grasp I'm passing array wrong or it is sending integer by address(didn't know the meaning behind that).</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nvoid delete_element(double x[], int&amp; n, int k);\n\nint main()\n{\n    // example of a function\n    int mass[10]={1,2,3,45,12,87,100,101,999,999};\n    int len = 10;\n\n    for(int i=0;i&lt;10;i++)\n    {\n        cout&lt;&lt;mass[i]&lt;&lt;\" \";\n    };\n\n    delete_element(mass[10],10&amp;,4);\n\n    for(int i=0;i&lt;10;i++)\n        cout&lt;&lt;mass[i]&lt;&lt;\" \";\n\n    return 0;\n}\n\nvoid delete_element(double x[], int&amp; n, int k)\n{\n    if(k&lt;1 || k&gt;n)\n    {\n        cout&lt;&lt;\"Wrong index of k \"&lt;&lt;k&lt;&lt;endl;\n        exit(1); // end program\n    }\n\n    for(int i = k-1;i&lt;n-1;i++)\n        x[i]=x[i+1];\n\n    n--;\n} \n</code></pre>\n"}, {"tags": ["c++", "qt", "qcompleter"], "comments": [{"owner": {"reputation": 62673, "user_id": 492336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/UjW5c.png?s=128&g=1", "display_name": "sashoalm", "link": "https://stackoverflow.com/users/492336/sashoalm"}, "edited": false, "score": 0, "creation_date": 1459955521, "post_id": 36454860, "comment_id": 60522933, "body": "See <a href=\"https://stackoverflow.com/questions/5090969/read-a-text-file-to-qstringlist\" title=\"read a text file to qstringlist\">stackoverflow.com/questions/5090969/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6167442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fd75ac6a0d887a42d29dc793df3984?s=128&d=identicon&r=PG&f=1", "display_name": "arnaud1000", "link": "https://stackoverflow.com/users/6167442/arnaud1000"}, "edited": false, "score": 0, "creation_date": 1459957644, "post_id": 36455023, "comment_id": 60524580, "body": "I think my question is more basic than that. I have no warning on my LocationListString. I hope it is OK that way. It seems it does not know about it in the mainWindow.cpp file. How to make it known ?"}], "tags": [], "owner": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "is_accepted": true, "score": 0, "last_activity_date": 1460033101, "last_edit_date": 1460033101, "creation_date": 1459954988, "answer_id": 36455023, "question_id": 36454860, "link": "https://stackoverflow.com/questions/36454860/qcompleter-how-to-import-data-from-file/36455023#36455023", "title": "QCompleter - how to import data from file", "body": "<p>What have you tried? Normally, you can use it like this:</p>\n\n<pre><code>QStringList list;\nfor(auto&amp; complexStructObject : complexStructList)\n    list &lt;&lt; complexStructObject.getStringForCompletion();\n\nQCompleter* myCompleter = new QCompleter(list, this);\n\nmyLineEdit-&gt;setCompleter(myCompleter);\n</code></pre>\n\n<p>In your example, I would pass the list to your class:</p>\n\n<pre><code>// main.cpp\n\n// above keeps unchanged\nMainWindow w(LocationStringList);\nw.show();\n// at the end, do not forget to delete!! your string list is not managed; better yet use a unique_ptr\n\n// MainWindow.h\n#include &lt;QStringList&gt;\n\nclass MainWindow\n{\nQ_OBJECT\npublic:\n    MainWindow(QStringList* stringList);\n\n    // ...\n};\n\n// MainWindows.cpp\nMainWindow::MainWindow(QStringList* stringList)\n{\n    QCompleter *cmpt;\n    cmpt=new QCompleter(*stringList, this);\n    cmpt-&gt;setCaseSensitivity(Qt::CaseInsensitive);\n    QLineEdit *locationLineEdit = new QLineEdit();\n    locationLineEdit-&gt;setCompleter(cmpt);\n}\n</code></pre>\n\n<p><code>new</code> is a reserved keyword, so you should probably just use your constructor </p>\n"}], "owner": {"reputation": 15, "user_id": 6167442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fd75ac6a0d887a42d29dc793df3984?s=128&d=identicon&r=PG&f=1", "display_name": "arnaud1000", "link": "https://stackoverflow.com/users/6167442/arnaud1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 36455023, "answer_count": 1, "score": 1, "last_activity_date": 1460033101, "creation_date": 1459954583, "last_edit_date": 1459957134, "question_id": 36454860, "link": "https://stackoverflow.com/questions/36454860/qcompleter-how-to-import-data-from-file", "title": "QCompleter - how to import data from file", "body": "<p>I am quite new to Qt. I tried to find answers here but did not succeed so far.\nI have in a main.cpp file a vector of a complex struct and I would like to use it as an input for the QCompleter I have defined in a void function of my mainwindow.cpp that creates among other thing a QLineEdit to which I associate this QCompleter.\nHow shall I transfer this vector to my completer ?\nPart of main.cpp:</p>\n\n<pre><code>//... l is a vector based on a struct containing, among other thing , string name.\nQApplication a(argc, argv);\nQStringList *LocationStringList=new QStringList;\nfor (int k=0;k!=l.size();k++)   {\n    LocationStringList-&gt;append(QString::fromStdString(l[k].name));\n}\nMainWindow w;\nw.show();\n</code></pre>\n\n<p>part of MainWindows.cpp :</p>\n\n<pre><code>void MainWindow::new()\n{\n    ...\n    QCompleter *cmpt;\n    cmpt=new QCompleter(LocationStringList,this);\n    cmpt-&gt;setCaseSensitivity(Qt::CaseInsensitive);\n    QLineEdit *locationLineEdit = new QLineEdit();\n    locationLineEdit-&gt;setCompleter(cmpt);\n    ...\n</code></pre>\n\n<p>It seems it does not know : LocationStringList</p>\n"}, {"tags": ["c++", "queue", "invalid-pointer"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1459954659, "post_id": 36454816, "comment_id": 60522250, "body": "If you want an answer publish MCVE, there is way too much information missing"}, {"owner": {"reputation": 3, "user_id": 6158807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f2a8a90a47eaf9010d0d01c5df5f48?s=128&d=identicon&r=PG&f=1", "display_name": "Wezabi", "link": "https://stackoverflow.com/users/6158807/wezabi"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1459955042, "post_id": 36454816, "comment_id": 60522560, "body": "What is MCVE exactly?  Constructors and deconstructors? I tried to google it real quick but I&#39;m still unsure, sorry :p"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1459955206, "post_id": 36454816, "comment_id": 60522680, "body": "It&#39;s a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>. Asking for it means that we need to see constructors, copy-constructor and destructors."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459955207, "post_id": 36454816, "comment_id": 60522681, "body": "Does <code>RobotCustomer</code> have an appropriate copy constructor and copy assignment operator?"}, {"owner": {"reputation": 3, "user_id": 6158807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f2a8a90a47eaf9010d0d01c5df5f48?s=128&d=identicon&r=PG&f=1", "display_name": "Wezabi", "link": "https://stackoverflow.com/users/6158807/wezabi"}, "edited": false, "score": 0, "creation_date": 1459955632, "post_id": 36454816, "comment_id": 60523022, "body": "I can update with constructors, but I don&#39;t have a copy constructor or a copy assignment operator.  Is that why RobotCustomer dada&#39;s pointer gets dropped in dequeue possibly?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1459956200, "post_id": 36454816, "comment_id": 60523471, "body": "If you use <code>new</code> with <code>m_reqServices</code> then yes you need a proper copy constructor and copy assignment operator.  See Joachim Pileborg&#39;s answer for why."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6158807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f2a8a90a47eaf9010d0d01c5df5f48?s=128&d=identicon&r=PG&f=1", "display_name": "Wezabi", "link": "https://stackoverflow.com/users/6158807/wezabi"}, "edited": false, "score": 0, "creation_date": 1459955707, "post_id": 36455046, "comment_id": 60523089, "body": "Oh yea I was messing around with different options, I was going to change     Node&lt;T&gt;* tempNode = new Node&lt;T&gt;; to     Node&lt;T&gt;* tempNode;"}, {"owner": {"reputation": 3, "user_id": 6158807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f2a8a90a47eaf9010d0d01c5df5f48?s=128&d=identicon&r=PG&f=1", "display_name": "Wezabi", "link": "https://stackoverflow.com/users/6158807/wezabi"}, "edited": false, "score": 0, "creation_date": 1459956178, "post_id": 36455046, "comment_id": 60523452, "body": "When I get input from the user, I do use the line &#39;m_reqServices = new string[m_numServices];&#39; after verifying input.  I guess in this test file I never do that though so m_reqServices is empty.  I do concur with the &quot;no copy-constructor or assignment operator&quot; leading to a problem still though.  As for using std::queue It&#39;s a homework assignment where we have to use out own queue class derived from an ADT abstractQueue that we&#39;re given."}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 0, "last_activity_date": 1459955748, "last_edit_date": 1459955748, "creation_date": 1459955035, "answer_id": 36455046, "question_id": 36454816, "link": "https://stackoverflow.com/questions/36454816/templated-dequeue-invalid-pointer-fails-on-deleting-class/36455046#36455046", "title": "Templated Dequeue invalid pointer: Fails on deleting class", "body": "<p>Lets look at a few of the lines in your function:</p>\n\n<pre><code>Node&lt;T&gt;* tempNode = new Node&lt;T&gt;;\ntempNode = m_front;\ndelete tempNode;\n</code></pre>\n\n<p>First you allocate memory and assign its pointer to the <code>tempNode</code> variable. Then you <em>reassign</em> that variable to point to some other memory, losing the original pointer. Then you try to free the memory, which is no longer the original memory you allocated.</p>\n\n<p>This should not cause the crash (as fas as I can see), but it is a memory leak.</p>\n\n<hr>\n\n<p>My <em>guess</em> as to what is causing the crash is that you probably allocate memory dynamically in the <code>RobotCustomer</code> constructor, for the <code>m_reqServices</code> member. But if you don't implement a copy-constructor or copy-assignment operator, or just do a shallow copy of the pointer in those functions, then with the assignment</p>\n\n<pre><code>newNode-&gt;m_data = x\n</code></pre>\n\n<p>in the <code>enqueue</code> function you will have <em>two</em> object with the same pointer, and when one of them is deleted its destructor deletes the allocated memory, leaving the other objects pointer now pointing to unallocated memory, leading to <em>undefined behavior</em> when you try to free it again.</p>\n\n<p>You need to read about <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow\">the rules of three, five and zero</a>. My recommendation is to use <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow\"><code>std::vector</code></a> or <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow\"><code>std::array</code></a> (as applicable) and simply follow <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three#Rule_of_zero\" rel=\"nofollow\">the rule of zero</a>.</p>\n\n<p>Of course, talking about using the <a href=\"http://en.cppreference.com/w/cpp/container\" rel=\"nofollow\">standard containers</a> makes me wonder why you don't use <a href=\"http://en.cppreference.com/w/cpp/container/queue\" rel=\"nofollow\"><code>std::queue</code></a> to begin with?</p>\n"}], "owner": {"reputation": 3, "user_id": 6158807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f2a8a90a47eaf9010d0d01c5df5f48?s=128&d=identicon&r=PG&f=1", "display_name": "Wezabi", "link": "https://stackoverflow.com/users/6158807/wezabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 36455046, "answer_count": 1, "score": 0, "last_activity_date": 1459956496, "creation_date": 1459954480, "last_edit_date": 1459956496, "question_id": 36454816, "link": "https://stackoverflow.com/questions/36454816/templated-dequeue-invalid-pointer-fails-on-deleting-class", "title": "Templated Dequeue invalid pointer: Fails on deleting class", "body": "<p>My templated queue's dequeue function works fine for a queue of string, but if I use my custom Robot class, it crashes upon trying to delete the pointer.  I'm curious as to why.  </p>\n\n<p>For example, in main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;cstring&gt;\n#include \"robotqueue.h\"\n#include \"robotcustomer.h\"\n#include \"servicestation.h\"\n\nusing namespace std;\n\nint main()\n{\n    //- TEST ONE: QUEUE&lt;STRING&gt; -//\n    RobotQueue &lt; string &gt; stringQueue;\n    string a(\"Tim\");\n    string b(\"Greg\");\n\n    stringQueue.enqueue(a);\n    stringQueue.enqueue(b);\n    stringQueue.dequeue();\n    stringQueue.dequeue();\n\n    //- TEST TWO: QUEUE&lt;RobotCustomer&gt; -//\n    RobotQueue &lt; RobotCustomer &gt; robotQueue;\n    RobotCustomer e(\"Tim\",3);\n    RobotCustomer f(\"Greg\",5);\n\n    robotQueue.enqueue(e);\n    robotQueue.enqueue(f);\n    robotQueue.dequeue();            &lt;--- Segfault occurs here\n    robotQueue.dequeue();\n    return 0;\n}\n</code></pre>\n\n<p>the string queue works fine, but I get this error:</p>\n\n<pre><code>***Error in `q': munmap_chunk(): invalid pointer: 0x0000000001d6c108 ***\nAborted (core dumped)\n</code></pre>\n\n<p>My templated queue looks about like this (dunno if this ya need more).</p>\n\n<p>robotqueue.hpp</p>\n\n<pre><code>// Default Constructor\ntemplate &lt;typename T&gt;\nRobotQueue&lt;T&gt;::RobotQueue()\n{\n    m_size = 0;\n    m_front = NULL;\n    m_back = NULL;\n}\n// Default destructor\ntemplate &lt;typename T&gt;\nRobotQueue&lt;T&gt;::~RobotQueue() \n{\n    Node&lt;T&gt;* currNode = m_front, *nextNode = NULL;\n    while ( currNode != NULL )\n    {\n        nextNode = currNode-&gt;m_next;\n        delete currNode;\n        currNode = nextNode;\n    }\n    m_size = 0;\n}\n\ntemplate &lt;typename T&gt;\nvoid RobotQueue&lt;T&gt;::enqueue(const T&amp; x)\n{\n    Node&lt;T&gt; *newNode = new Node&lt;T&gt;;\n    newNode-&gt;m_data = x;\n    newNode-&gt;m_next = NULL;\n    if(m_front == NULL)\n        m_front = newNode;\n    else\n        m_back-&gt;m_next = newNode;\n    m_back = newNode;\n    m_size++;                           // Increments queue size\n    return;\n}\n\ntemplate &lt;typename T&gt;\nvoid RobotQueue&lt;T&gt;::dequeue()\n{\n    Node&lt;T&gt;* tempNode = new Node&lt;T&gt;;\n    if(m_front == NULL)\n        cout &lt;&lt; \"dequeue error: Queue is empty\" &lt;&lt; endl;\n    else\n    {\n        tempNode = m_front;\n        m_front = m_front-&gt;m_next;\n        delete tempNode;     &lt;-- Segfault occurs here in RobotCustomer class\n        m_size--;                       // Increments queue size\n    }\n    return;\n}\n</code></pre>\n\n<p>I'm assuming it has to do with RobotCustomer being a class so m_data can't point to it or something?  Not an expert here :p </p>\n\n<p>RobotCustomer.h</p>\n\n<pre><code>/* ------------------  Class RobotCustomer ------------------ */\nclass RobotCustomer\n{\nprivate:\n  string m_name;                // Name of Robot\n  string* m_reqServices;        // Array of services requeseted\n  int m_numServices;            // Number of services requested\n  int m_currService;            // Number of services compelted\n  bool m_busy;                  // Logic for if robot is in line/servicing\n  bool m_done;                  // Logic for if robot is done\npublic:\n  //- functions and such that I don't think affect the queue -//\n</code></pre>\n\n<p>Thanks for your time :)</p>\n\n<p>---------------------UPDATED_WITH CONSTRUCTORS/DECONSTRUCTORS-------------------</p>\n\n<p>RobotCustomer.cpp</p>\n\n<pre><code>// Default Constructor\nRobotCustomer::RobotCustomer()\n{\n    m_name = \"\";\n    m_numServices = 0;\n    m_currService = 0;\n    m_busy = false;\n    m_done = false;\n}\n// Overloaded Constructor\nRobotCustomer::RobotCustomer(string n, int x)\n{\n   m_name = n;\n   m_numServices = x;\n   m_reqServices = new string[m_numServices]; \n   m_currService = 0;\n   m_busy = false;\n   m_done = false;\n}\n\n// Default Destructor\nRobotCustomer::~RobotCustomer()\n{\n    delete m_reqServices;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "enums"], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 3604955, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oMAdr.jpg?s=128&g=1", "display_name": "kaiser", "link": "https://stackoverflow.com/users/3604955/kaiser"}, "edited": false, "score": 1, "creation_date": 1459954804, "post_id": 36454813, "comment_id": 60522369, "body": "Thanks for your and all other ansers. That is exactly what i was looking for. Because all answers are correct, i take the first one."}], "tags": [], "owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "is_accepted": true, "score": 2, "last_activity_date": 1459954477, "creation_date": 1459954477, "answer_id": 36454813, "question_id": 36454554, "link": "https://stackoverflow.com/questions/36454554/replace-enum-by-class-intemplates-c/36454813#36454813", "title": "Replace enum by class inTemplates c++", "body": "<p>Take a look at <code>std::conditional</code> from <code>&lt;type_traits&gt;</code>.</p>\n\n<p>The way it works is very simple:</p>\n\n<p><code>std::conditional&lt;true, int, float&gt;::type</code> means <code>int</code>.</p>\n\n<p><code>std::conditional&lt;false, int, float&gt;::type</code> means <code>float</code>.</p>\n\n<p>Thus, it substitutes one of two types based on a value of the first parameter.</p>\n\n<p>Keep in mind that in some contexts compiler will require you to put <code>typename</code> keyword right before <code>std::conditional&lt;..&gt;</code>.</p>\n\n<hr>\n\n<p>Implementing a class that chooses it's base depending on a constexpr value is left as an exercise to the reader.</p>\n"}, {"tags": [], "owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "is_accepted": false, "score": 1, "last_activity_date": 1459954501, "creation_date": 1459954501, "answer_id": 36454824, "question_id": 36454554, "link": "https://stackoverflow.com/questions/36454554/replace-enum-by-class-intemplates-c/36454824#36454824", "title": "Replace enum by class inTemplates c++", "body": "<p>You could use <code>std::conditional</code> for this:</p>\n\n<pre><code>template &lt;MESH_TYPE Base&gt; class CollisionMeshEntity \n    : std::conditional_t&lt;(Base == SINGLE), SingleMeshEntity, MultiMeshEntity&gt;\n{};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 1, "last_activity_date": 1459954503, "creation_date": 1459954503, "answer_id": 36454826, "question_id": 36454554, "link": "https://stackoverflow.com/questions/36454554/replace-enum-by-class-intemplates-c/36454826#36454826", "title": "Replace enum by class inTemplates c++", "body": "<p>IIUC, you can do something like the following.</p>\n\n<p>Starting with your basic classes:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\nclass MeshEntity{ }; // some entities are mesh entities\nclass SingleMeshEntity : MeshEntity { }; // some entites use single meshes\nclass MultiMeshEntity  : MeshEntity { }; // some entities use multi meshes\n</code></pre>\n\n<p>and enum:</p>\n\n<pre><code>enum MESH_TYPE\n{\n    SINGLE,\n    MULTI\n};\n</code></pre>\n\n<p>define the following helper struct:</p>\n\n<pre><code>template&lt;MESH_TYPE MeshType&gt;\nstruct mesh_type\n{\n    typedef \n        typename std::conditional&lt;\n            MeshType == SINGLE,\n            SingleMeshEntity,\n            MultiMeshEntity&gt;::type\n        type;\n};\n</code></pre>\n\n<p>you can now use it almost like any type; for inheritance:</p>\n\n<pre><code>class foo :\n    public mesh_type&lt;SINGLE&gt;::type\n{};                                                                                                                                         \n</code></pre>\n\n<p>or for defining objects:</p>\n\n<pre><code>int main()\n{\n    mesh_type&lt;SINGLE&gt;::type t0;\n}\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 3604955, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oMAdr.jpg?s=128&g=1", "display_name": "kaiser", "link": "https://stackoverflow.com/users/3604955/kaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 36454813, "answer_count": 3, "score": 2, "last_activity_date": 1459954503, "creation_date": 1459953935, "question_id": 36454554, "link": "https://stackoverflow.com/questions/36454554/replace-enum-by-class-intemplates-c", "title": "Replace enum by class inTemplates c++", "body": "<p>i'm facing following problem. Say you have some deeper inheritance. here is some pseudo code:</p>\n\n<pre><code>class MeshEntity{ } // some entities are mesh entities\nclass SingleMeshEntity : MeshEntity { } // some entites use single meshes\nclass MultiMeshEntity  : MeshEntity { } // some entities use multi meshes\n\ntemplate &lt;class BASE&gt; class CollisionMeshEntity : BASE // base is either SingleMeshEntity or MultiMeshEntity  \n</code></pre>\n\n<p>Lets say you have some enum:</p>\n\n<pre><code>enum MESH_TYPE\n{\n     SINGLE,\n     MULTI\n}\n</code></pre>\n\n<p>Is it possible to create a template that uses following template (pseude code):</p>\n\n<pre><code>template&lt;MESH_TYPE T&gt; CollisionMeshEntity : if(T == SINGLE){SingleMeshEntity } else if (T == MULTI) {MultiMeshEntity}\n</code></pre>\n\n<p>The above code is much simplified. In my programm i have more situations like this, and also the same problem in deeper inheritances.</p>\n\n<p>My aim is to finally create a simple Template that takes two or more enums and then added all correct inheritances up to all base classes.</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["c++", "qt", "deployment", "qt5.6"], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 2769062, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/KLVcR.png?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2769062/dmitry"}, "is_accepted": false, "score": 1, "last_activity_date": 1459960052, "creation_date": 1459960052, "answer_id": 36456962, "question_id": 36454533, "link": "https://stackoverflow.com/questions/36454533/application-deployment-with-mingw-and-qt5-6/36456962#36456962", "title": "Application deployment with MinGW and Qt5.6", "body": "<p>After half a day of non-stop experiments here is a solution :\n1. Copy <strong>all</strong> *.dlls from C:\\Qt\\5.6\\mingw49_32\\bin to your bin folder\n2. Copy qml and plugin folders from C:\\Qt\\5.6\\mingw49_32 to your bin folder\n3. Create qt.conf in your bin folder with the following content :</p>\n\n<pre><code>[Paths]\nPrefix=.\nPlugins=plugins\nQml2Imports=qml\n</code></pre>\n\n<p>After all these steps you will be able to start your application from Windows Explorer. And don't ask me how copying all the DLLs could influence on plugin loading issue :)</p>\n"}], "owner": {"reputation": 1448, "user_id": 2769062, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/KLVcR.png?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2769062/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461669804, "creation_date": 1459953897, "last_edit_date": 1461669804, "question_id": 36454533, "link": "https://stackoverflow.com/questions/36454533/application-deployment-with-mingw-and-qt5-6", "title": "Application deployment with MinGW and Qt5.6", "body": "<p>The final goal is to run Qt5.6 based application out of Qt Creator. I've found out that there is a tool <code>C:\\Qt\\5.6\\mingw49_32\\bin\\windeployqt.exe</code>. So I execute it as follows :</p>\n\n<pre><code>C:\\Qt\\5.6\\mingw49_32\\bin&gt;windeployqt.exe PATH_TO_MY_EXE_FOLDER --release -3dcore -quick -qml -3dquick -3dinput\n</code></pre>\n\n<p>Then I start my app and see that <code>module QtQuick/QtQuick.Scene3D is not installed</code>. To fix this, I copy the whole qml folder from <code>C:\\Qt\\5.6\\mingw49_32\\qml</code> to the folder where my app is. </p>\n\n<p>And I get the following thing on my screen : </p>\n\n<blockquote>\n  <p>qrc:/main.qml:2:1: plugin cannot be loaded for module\n  \"QtQuick.Scene3D\": Cannot load library\n  C:\\gui\\qml\\QtQuick\\Scene3D\\qtqui ckscene3dplugin.dll: ?? ???????\n  ????????? ?????????.\"</p>\n</blockquote>\n\n<p>What should I do? Actually, <code>qtquickscene3dplugin.dll</code> is in the right folder. </p>\n\n<p>What is the best/easiest way to deploy Qt5.6 based applications? </p>\n"}, {"tags": ["c++", "templates", "struct", "non-type", "copy-assignment"], "comments": [{"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 1, "creation_date": 1459954691, "post_id": 36454365, "comment_id": 60522280, "body": "Just to make sure you aren&#39;t X-Y&#39;ing this, can you elaborate on <i>why</i> each path&#39;s point has to be a distinct type, but still assignable to each other?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1459955014, "post_id": 36454365, "comment_id": 60522537, "body": "@MarkB, this is irrelvant question. The question is valid on it&#39;s own. Assigning inner structures of different outer templates is a valid thing on it&#39;s own."}, {"owner": {"reputation": 606, "user_id": 3982107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4c8242c29fae2ef7b5d7fe8d190748?s=128&d=identicon&r=PG&f=1", "display_name": "magnetometer", "link": "https://stackoverflow.com/users/3982107/magnetometer"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1459955212, "post_id": 36454365, "comment_id": 60522687, "body": "@MarkB : The main reason is that I&#39;m a bit stubborn and really wanted to know if there&#39;s a way to make it work. Also, a workaround might be possible for the simple example presented here, but not in the general case, as it, for example, might require multiple changes in an existing codebase."}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1459955344, "post_id": 36454365, "comment_id": 60522785, "body": "@magnetometer That&#39;s what I was getting at. This is a fairly interesting question on its own but there may be a <i>better</i> C++ answer to your real problem if you had asked that."}, {"owner": {"reputation": 606, "user_id": 3982107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4c8242c29fae2ef7b5d7fe8d190748?s=128&d=identicon&r=PG&f=1", "display_name": "magnetometer", "link": "https://stackoverflow.com/users/3982107/magnetometer"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1459975283, "post_id": 36454365, "comment_id": 60535647, "body": "@MarkB I&#39;m likely going to introduce a single point type in the actual problem I&#39;m trying to solve, as it is going to be easier to understand and is likely more maintainable. Nevertheless, the answers so far are very interesting. P.S. : As I had to google &quot;x-y&#39;ing&quot;, here&#39;s a link for the lazy, who don&#39;t know the term: <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>"}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459954919, "post_id": 36454726, "comment_id": 60522459, "body": "This is a terrible solution. It will gladly eat <b>anything</b> which has x and y in them, and mask a potential logic error in the program."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459955313, "post_id": 36454726, "comment_id": 60522759, "body": "@SergeyA It should be enough for OP&#39;s case. If something incompatible passed as rhs we&#39;ll get a compiler error. Unnecessary complexity might hurt too."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459955711, "post_id": 36454726, "comment_id": 60523094, "body": "The problem is not with something which doesn&#39;t have x or y on it. The problem is with something which does, yet has no relationship to Pointer whatsoever."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459956869, "post_id": 36454726, "comment_id": 60523964, "body": "@SergeyA I think it might be OP&#39;s XY problem."}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": false, "score": 2, "last_activity_date": 1459954751, "last_edit_date": 1459954751, "creation_date": 1459954301, "answer_id": 36454726, "question_id": 36454365, "link": "https://stackoverflow.com/questions/36454365/overload-copy-assignment-operator-for-a-member-struct-of-a-non-type-template-str/36454726#36454726", "title": "Overload copy assignment operator for a member struct of a non-type template struct", "body": "<pre><code>template&lt;size_t OTHER_SIZE&gt;\nPoint &amp; operator = (const typename Path&lt;OTHER_SIZE&gt;::Point &amp; that)\n</code></pre>\n\n<p>won't work because the template argument <code>OTHER_SIZE</code> on the outer struct couldn't be deduced. You can just:</p>\n\n<pre><code>template&lt;typename T&gt;\nPoint &amp; operator = (const T &amp; that)\n{\n    x = that.x;\n    y = that.y;\n    return *this;\n}\n</code></pre>\n\n<p>Note that if something without member <code>x</code> and <code>y</code> being passed you'll get a compiler error, which should be enough for this case.</p>\n\n<p><a href=\"http://rextester.com/FKGX31403\" rel=\"nofollow\">LIVE</a></p>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459954643, "post_id": 36454803, "comment_id": 60522238, "body": "Yes, this is the better approach. This is what I was looking for, but you&#39;ve beaten me to it. Just fix your code to be compilable."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459954833, "post_id": 36454803, "comment_id": 60522391, "body": "Just try compiling it. Your signature for operator= is not correct. Point is not a type you can use like that, it is an inner type of Path&lt;SIZE&gt; ( or put it into definition of Point)."}, {"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459955122, "post_id": 36454803, "comment_id": 60522616, "body": "@SergeyA It <a href=\"http://coliru.stacked-crooked.com/a/d3bf75cdcaaa755a\" rel=\"nofollow noreferrer\">works fine</a> because of the injected-class-name."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1459955252, "post_id": 36454803, "comment_id": 60522717, "body": "@TartanLlama, but this code is different from one posted in the answer. In the answer operator is defined out-of-class (because it is not defined in the class, the full struct code is posted), and this is exactly what I meant."}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1459957994, "post_id": 36454803, "comment_id": 60524873, "body": "@SergeyA SO is not required to provide copy-and-pastable answers, and I see no benefit in including unchanged bits of the OP&#39;s code in the use case. There&#39;s context around the definition of the <code>operator =</code> which was left out for simplicity."}, {"owner": {"reputation": 606, "user_id": 3982107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4c8242c29fae2ef7b5d7fe8d190748?s=128&d=identicon&r=PG&f=1", "display_name": "magnetometer", "link": "https://stackoverflow.com/users/3982107/magnetometer"}, "edited": false, "score": 0, "creation_date": 1460018231, "post_id": 36454803, "comment_id": 60552326, "body": "@Angew Thank you for your answer. Just as a remark: default template arguments in function templates can only be used in c++11, so the SFINAE option might not be available for everyone, depending on the compiler (e.g. this is not going to work in Visual Studio 2010). Nevertheless, this is the most detailed answer."}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "reply_to_user": {"reputation": 606, "user_id": 3982107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4c8242c29fae2ef7b5d7fe8d190748?s=128&d=identicon&r=PG&f=1", "display_name": "magnetometer", "link": "https://stackoverflow.com/users/3982107/magnetometer"}, "edited": false, "score": 0, "creation_date": 1460035556, "post_id": 36454803, "comment_id": 60565277, "body": "@magnetometer In C++98/03, you just need to trigger SFINAE in a different way. Added one such to the answer."}], "tags": [], "owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "is_accepted": true, "score": 5, "last_activity_date": 1460035534, "last_edit_date": 1460035534, "creation_date": 1459954447, "answer_id": 36454803, "question_id": 36454365, "link": "https://stackoverflow.com/questions/36454365/overload-copy-assignment-operator-for-a-member-struct-of-a-non-type-template-str/36454803#36454803", "title": "Overload copy assignment operator for a member struct of a non-type template struct", "body": "<p>Yes, such setup is possible. At the core, you need an assignment operator template which will accept all types:</p>\n\n<pre><code>template&lt;class T&gt;\nPoint &amp; operator = (const T &amp; that)\n</code></pre>\n\n<p>As a basic solution, this would be enough. It will now work with all types which have members <code>x</code> and <code>y</code> of compatible types, and produce a (usually) ugly error message for types which don't.</p>\n\n<p>If that's good enough for you, we're done.</p>\n\n<p>If you have other overloads of the assignment operator, you will probably want to selectively disable the template one. For this, you will need to instrument the <code>Point</code> classes and use <a href=\"https://en.wikipedia.org/wiki/Substitution_failure_is_not_an_error\" rel=\"nofollow\" title=\"Wikipedia on SFINAE\">SFINAE</a>:</p>\n\n<pre><code>template&lt;size_t MAX_SIZE&gt;\nstruct Path{\n    struct Point{\n        float x;\n        float y;\n        struct EnableAssignment {};\n    };\n    Point segment[MAX_SIZE];\n};\n</code></pre>\n\n<p>The instrumentation is then used like this:</p>\n\n<pre><code>template&lt;class T, class U = typename T::EnableAssignment&gt;\nPoint &amp; operator = (const T &amp; that)\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/fe0d962bac75ed9f\" rel=\"nofollow\">[Simplified live example]</a></p>\n\n<hr>\n\n<p>The code above uses a default template argument in a function template, which was only introduced in C++11. Before that, you would have to invoke SFINAE in some other way:</p>\n\n<pre><code>template &lt;class L, class R&gt;\nstruct SfinaeThenRight\n{\n  typedef R type;\n};\n\ntemplate &lt;class T&gt;\ntypename SfinaeThenRight&lt;typename T::EnableAssignment, Point&amp;&gt;::type operator = (const T &amp; that)\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/ccd34c4b2f12618e\" rel=\"nofollow\">[Simplified C++98 live example]</a></p>\n"}], "owner": {"reputation": 606, "user_id": 3982107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4c8242c29fae2ef7b5d7fe8d190748?s=128&d=identicon&r=PG&f=1", "display_name": "magnetometer", "link": "https://stackoverflow.com/users/3982107/magnetometer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 36454803, "answer_count": 2, "score": 9, "last_activity_date": 1460035534, "creation_date": 1459953496, "question_id": 36454365, "link": "https://stackoverflow.com/questions/36454365/overload-copy-assignment-operator-for-a-member-struct-of-a-non-type-template-str", "title": "Overload copy assignment operator for a member struct of a non-type template struct", "body": "<p>I have the following non-type template:</p>\n\n<pre><code>template&lt;size_t MAX_SIZE&gt;\nstruct Path{\n    struct Point{\n        float x;\n        float y;\n       }\n    };\n    Point segment[MAX_SIZE];\n};\n</code></pre>\n\n<p>If I now declare two different Paths, I cannot assign elements of the different segments to each other, as the structs may have the same structure, but are of different type :</p>\n\n<pre><code>Path&lt;10&gt; path_a ;\nPath&lt;30&gt; path_b ;\npath_a.segment[0].x = 1;\npath_a.segment[0].y = 2;\npath_b.segment[0] = path_a.segment[0]; // &lt;- error C2679 in Visual Studio)\n</code></pre>\n\n<p>Of course, if I separate the definition of Point and Path, the assignment would work:</p>\n\n<pre><code>struct Point{\n        float x;\n        float y;\n       };\n\ntemplate&lt;size_t MAX_SIZE&gt;\nstruct Path{\n    Point segment[MAX_SIZE];\n};\n</code></pre>\n\n<p>But that's not what I want (this is just a MWE), so I was wondering how I can overload the copy assignment operator to make it work. I've tried numerous variants, for example:</p>\n\n<pre><code>template&lt;size_t MAX_SIZE&gt;\nstruct Path{\n    struct Point{\n        float x;\n        float y;\n        template&lt;size_t OTHER_SIZE&gt;\n        Point &amp; operator = (const typename Path&lt;OTHER_SIZE&gt;::Point &amp; that)\n        {\n            x = that.x;\n            y = that.y;\n            return *this;\n        }\n    };\n    Point segment[MAX_SIZE];\n};\n</code></pre>\n\n<p>but I always get the same error. So my question is: Is it possible to overload = in a way that allows for an assignment of the following form without changing the layout of my structs?</p>\n\n<pre><code>path_b.segment[0] = path_a.segment[0];\n</code></pre>\n"}, {"tags": ["c++", "loops", "mod"], "comments": [{"owner": {"reputation": 1050, "user_id": 4112476, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QGDfzqMw6Z0/AAAAAAAAAAI/AAAAAAAABi0/uKJOblGuJTs/photo.jpg?sz=128", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4112476/vasanth"}, "edited": false, "score": 1, "creation_date": 1459953389, "post_id": 36454238, "comment_id": 60521241, "body": "Do you want to just do the check only for the number n? I didn&#39;t understand your question correctly."}, {"owner": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 3, "creation_date": 1459953450, "post_id": 36454238, "comment_id": 60521285, "body": "Your program cannot generate your desired output. It also cannot generate the observed output. Simply because the string in the source you posted is different to either of them. Please double-check that the program you are running is actually the one compiled from the source you posted. Then try to formulate your question in a better way; right now it is not clear what you want."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1459953583, "post_id": 36454238, "comment_id": 60521383, "body": "So you want to display all the numbers between 1-&gt;N that are i%2=0 but not i%3 = 0?"}, {"owner": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 0, "creation_date": 1459953923, "post_id": 36454238, "comment_id": 60521676, "body": "I edited your question. Take note of the changes I did to the code; there is a full handfull of good practices applied there. It also makes a certain code error more obvious, which I left in there. Can you spot it? It&#39;s in the <code>if()</code> body. I assume it&#39;s a copy &amp; paste error, because your compiler should have thrown a fit otherwise."}, {"owner": {"reputation": 13, "user_id": 6167273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c42744ae74eb032a45ba07bd41c2d3d?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/6167273/atika"}, "reply_to_user": {"reputation": 1050, "user_id": 4112476, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QGDfzqMw6Z0/AAAAAAAAAAI/AAAAAAAABi0/uKJOblGuJTs/photo.jpg?sz=128", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4112476/vasanth"}, "edited": false, "score": 0, "creation_date": 1459953995, "post_id": 36454238, "comment_id": 60521729, "body": "@Vasanth no..  for example ,, input : 5 , Output : 2,4,8,10,14  not input:5 , output : 2,4."}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1459954166, "post_id": 36454238, "comment_id": 60521866, "body": "This code doesn&#39;t even compile. Please do a clean copy and paste from your editor, otherwise we all just waste our time. For example, what about the &quot;with range until n &quot; message? Does it have to be printed? What you are asking isn&#39;t clear."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6167273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c42744ae74eb032a45ba07bd41c2d3d?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/6167273/atika"}, "edited": false, "score": 0, "creation_date": 1459955010, "post_id": 36454497, "comment_id": 60522535, "body": "omg thank you so much ."}], "tags": [], "owner": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "is_accepted": true, "score": 1, "last_activity_date": 1459953797, "creation_date": 1459953797, "answer_id": 36454497, "question_id": 36454238, "link": "https://stackoverflow.com/questions/36454238/c-about-looping-wrong-output/36454497#36454497", "title": "c++ about looping , wrong output", "body": "<p>If I understand you correctly you want the user to input the amount of numbers that fulfill your condition. For that you should have a counter:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main()\n{\n    int n;\n\n    cout &lt;&lt; \"input n\" &lt;&lt; endl;\n    cin &gt;&gt; n;\n    cout &lt;&lt; n &lt;&lt; \" numbers for that holds that mod2 = 0 but mod3 != 0\" &lt;&lt; endl;\n\n    int counter = 0; \n    for (int i = 1; counter &lt; n; ++i)\n    {\n        if (i % 2 == 0 &amp;&amp; i % 3 != 0)\n        {\n            cout &lt;&lt; i &lt;&lt; \"   \";\n            ++counter;\n        }\n    }\n    getch ();\n}\n</code></pre>\n\n<p>I also changed some other details.</p>\n"}, {"comments": [{"owner": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "edited": false, "score": 0, "creation_date": 1459954072, "post_id": 36454542, "comment_id": 60521792, "body": "<code>main</code>does not need to return an <code>int</code>, only the return type has to be <code>int</code>"}, {"owner": {"reputation": 579, "user_id": 4524830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/970145e748c7fe0bda4ad76f47d66ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Zafi", "link": "https://stackoverflow.com/users/4524830/zafi"}, "reply_to_user": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "edited": false, "score": 0, "creation_date": 1459954227, "post_id": 36454542, "comment_id": 60521913, "body": "C++ Standard, chapter 3.6.1 paragraph 5:      A return statement in main has the effect of leaving the main function (destroying any objects with automatic storage duration) and calling exit with the return value as the argument. If control reaches the end of main without encountering a return statement, the effect is that of executing return 0;  So it will return an int implicitly ;)."}, {"owner": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "edited": false, "score": 0, "creation_date": 1459954345, "post_id": 36454542, "comment_id": 60522017, "body": "Exactly. Your third bullet point together with <code>return 0;</code> implicated to me, though, that <code>return 0;</code> is a necessary statement, which it is not. I just wanted to clarify this with my comment"}, {"owner": {"reputation": 579, "user_id": 4524830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/970145e748c7fe0bda4ad76f47d66ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Zafi", "link": "https://stackoverflow.com/users/4524830/zafi"}, "reply_to_user": {"reputation": 3700, "user_id": 2573127, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/J2n1Z.png?s=128&g=1", "display_name": "IceFire", "link": "https://stackoverflow.com/users/2573127/icefire"}, "edited": false, "score": 1, "creation_date": 1459954515, "post_id": 36454542, "comment_id": 60522144, "body": "Ok, I agree that it might be confusing. I&#39;ll edit the answer."}], "tags": [], "owner": {"reputation": 579, "user_id": 4524830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/970145e748c7fe0bda4ad76f47d66ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Zafi", "link": "https://stackoverflow.com/users/4524830/zafi"}, "is_accepted": false, "score": 1, "last_activity_date": 1459954716, "last_edit_date": 1459954716, "creation_date": 1459953920, "answer_id": 36454542, "question_id": 36454238, "link": "https://stackoverflow.com/questions/36454238/c-about-looping-wrong-output/36454542#36454542", "title": "c++ about looping , wrong output", "body": "<p>Different things to take into mind:</p>\n\n<ul>\n<li>It is better to include from <code>&lt;iostream&gt;</code> iso <code>&lt;iostream.h&gt;</code> (will add link for why)</li>\n<li><code>cout</code>, <code>cin</code> and <code>endl</code> are in the <code>std</code> namespace, so either use the correct namespace or add <code>std::</code></li>\n<li>The return type of main() should be int. If there is no return statement it will be 0 implicitly.\n\n<ul>\n<li>There's a difference between <code>operator&lt;</code> and <code>operator&lt;&lt;</code></li>\n</ul></li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n\n    int main()\n    {\n        int i,n;\n\n        std::cout&lt;&lt;\"input n\"&lt;&lt;std::endl;\n        std::cin&gt;&gt;n;\n        std::cout&lt;&lt;\"N Number that mod2=0 but mod3!=0\"&lt;&lt;std::endl;\n\n        for (i=1;i&lt;=n;i++)\n            if (i%2==0 &amp;&amp; i%3!=0)\n                std::cout &lt;&lt; i &lt;&lt; std::endl;\n\n        return 0;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6075748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a1621dbca233510343ccccb7258b6c?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/6075748/anatoly"}, "is_accepted": false, "score": 0, "last_activity_date": 1459954466, "creation_date": 1459954466, "answer_id": 36454810, "question_id": 36454238, "link": "https://stackoverflow.com/questions/36454238/c-about-looping-wrong-output/36454810#36454810", "title": "c++ about looping , wrong output", "body": "<p>Not sure, I got the question completely, but the most evident culprit is the typo in the line: </p>\n\n<pre><code>cout&lt;&lt;i&lt;\"   \";\n</code></pre>\n\n<p>Replace \"&lt;\" with stream output operator, that is \"&lt;&lt;\".</p>\n"}], "owner": {"reputation": 13, "user_id": 6167273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c42744ae74eb032a45ba07bd41c2d3d?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/6167273/atika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1459959041, "accepted_answer_id": 36454497, "answer_count": 3, "score": -3, "last_activity_date": 1459954716, "creation_date": 1459953175, "last_edit_date": 1459953987, "question_id": 36454238, "link": "https://stackoverflow.com/questions/36454238/c-about-looping-wrong-output", "closed_reason": "Needs details or clarity", "title": "c++ about looping , wrong output", "body": "<p>I just started to study C++, and I want to ask why my simple code's output is not right. </p>\n\n<p>What I want:</p>\n\n<p>user input N -> output = \" N number that mod 2 =0  but not mod 3=0\"</p>\n\n<p>What I got:</p>\n\n<p>user input N -> output = \" number that mod 2 but not mod3=0 , with range until n \"</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n\nint main()\n{\n    int i,n;\n\n    std::cout &lt;&lt; \"input n\" &lt;&lt; std::endl;\n    std::cin &gt;&gt; n;\n    std::cout &lt;&lt; \"N Number that mod2=0 but mod3!=0\" &lt;&lt; std::endl;\n\n    for ( i = 1; i &lt;= n; ++i )\n    {\n        if ( i % 2 == 0 &amp;&amp; i % 3 != 0 )\n        {\n            std::cout &lt;&lt; i &lt; \"   \";\n        }\n    }\n\n    getch ();\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "dll", "swig", "boost-python"], "comments": [{"owner": {"reputation": 1592, "user_id": 1369532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/I5IKK.jpg?s=128&g=1", "display_name": "neohope", "link": "https://stackoverflow.com/users/1369532/neohope"}, "edited": false, "score": 0, "creation_date": 1459957258, "post_id": 36454212, "comment_id": 60524287, "body": "<a href=\"http://www.boost.org/doc/libs/1_42_0/libs/python/doc/tutorial/doc/html/index.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_42_0/libs/python/doc/tutorial/doc/html/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1459977076, "post_id": 36454212, "comment_id": 60536751, "body": "You&#39;ve told us almost nothing about your scenario other than the one comment about singletons. What exactly are you struggling with that isn&#39;t already described much better than I could in <a href=\"http://www.swig.org/Doc3.0/SWIGPlus.html\" rel=\"nofollow noreferrer\">swig.org/Doc3.0/SWIGPlus.html</a> ?"}, {"owner": {"reputation": 1, "user_id": 6160042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e18b195be920429d314ae4c6738a558?s=128&d=identicon&r=PG&f=1", "display_name": "M.Moncif", "link": "https://stackoverflow.com/users/6160042/m-moncif"}, "edited": false, "score": 0, "creation_date": 1460014156, "post_id": 36454212, "comment_id": 60549795, "body": "Actually that part about singletons that I posted is what I need the most. I don&#39;t know how to handle pointers in Python. For example, I&#39;d do something like :     <i>import MyDLL</i>     <i>instance = MyDLL.getInstance()</i>     <i>instance.someMethod()</i>  But I&#39;m not sure it will be that simple.."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6160042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e18b195be920429d314ae4c6738a558?s=128&d=identicon&r=PG&f=1", "display_name": "M.Moncif", "link": "https://stackoverflow.com/users/6160042/m-moncif"}, "is_accepted": true, "score": 0, "last_activity_date": 1460122188, "creation_date": 1460122188, "answer_id": 36500884, "question_id": 36454212, "link": "https://stackoverflow.com/questions/36454212/using-c-dlls-in-python/36500884#36500884", "title": "Using C++ DLLs in Python", "body": "<p>After finding the solution to my problem, I come back to answer my question to whom it might help. </p>\n\n<p>I used SWIG to make the C++ wrapper. So I defined the module interface something like :</p>\n\n<pre><code>%module MyClass\n    %{\n    #include    \"MyClass.h\"\n    %}\n    %include &lt;windows.i&gt;   //if you're using __declspec(dllexport) to export dll\n    %include \"MyClass.h\"\n</code></pre>\n\n<p>Then compiled it directly with : </p>\n\n<pre><code>    &gt;swig -c++ -python MyClass.i\n</code></pre>\n\n<p>And that generates two files : <em>MyClass.py</em> and <em>MyClass_wrap.cxx</em>.</p>\n\n<p>I then included the MyClass_wrap.cxx file to my project in Visual Studio and made these changes on my project properties :</p>\n\n<p>Configuration properties > General > Target Name : <strong>_MyClass</strong>\nTarget Extension : <strong>.pyd</strong></p>\n\n<p>C/C++ > General > Additional Include Directories : <strong>/path/to/Python/include</strong></p>\n\n<p>Linker > Additional Library Directories : <strong>//path/to/Python/libs</strong></p>\n\n<p>And then compiled the project to generate <em>_MyClass.pyd</em>.</p>\n\n<p>In my Python script, it is as simple as the following :</p>\n\n<pre><code>import MyClass\ninstance = MyClass.MyClass.getInstance()\n#and then use all MyClass methods via instance, ex: instance.SomeMethod()\n</code></pre>\n\n<p>That's all. SWIG does all the work to handle the reference returned by getInstance().</p>\n"}], "owner": {"reputation": 1, "user_id": 6160042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e18b195be920429d314ae4c6738a558?s=128&d=identicon&r=PG&f=1", "display_name": "M.Moncif", "link": "https://stackoverflow.com/users/6160042/m-moncif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 36500884, "answer_count": 1, "score": -1, "last_activity_date": 1460122188, "creation_date": 1459953105, "question_id": 36454212, "link": "https://stackoverflow.com/questions/36454212/using-c-dlls-in-python", "title": "Using C++ DLLs in Python", "body": "<p>I'm sorry if the question seems repeated many times here but I spent the whole day without finding a clear answer.</p>\n\n<p>I'm working under Visual Studio 2010 and i'm trying to load a class defined in a DLL into Python. I saw that there's no way to do this without making a C++ wrapper (using eventually SWIG or Boost.Python). I'm not a C++ programmer and I couldn't find an easy and clear tutorial to start with, I will be grateful if you could give me a simple one.</p>\n\n<p>Also, my class uses the singleton pattern that restricts its instantiation to one object like this :</p>\n\n<pre><code>MyClass*    MyClass::getInstance()\n{\n    if(instance==NULL)                  \n        instance    =   new MyClass();      \n\n    return instance;\n}\n</code></pre>\n\n<p>So I need to know how I can deal with this in my Python script so that I can create an instance of MyClass and access all its methods.</p>\n\n<p>Thanks guys.</p>\n"}]