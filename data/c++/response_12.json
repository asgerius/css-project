[{"tags": ["c++", "vector", "iterator", "iteration"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 3995038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c8318becd82e1ee0cbded8f18d5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "jack", "link": "https://stackoverflow.com/users/3995038/jack"}, "edited": false, "score": 0, "creation_date": 1427932850, "post_id": 29402889, "comment_id": 46981163, "body": "Oh thank you, i am a beginner in c++. I am used to java and didn&#180;t pay attention to this. Thank you."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1427934953, "post_id": 29402889, "comment_id": 46981712, "body": "Actually, the <code>remove_if</code> won&#39;t work here if the goal is to both <code>delete</code> the item and then remove the item.  If the algorithm approach is to be used, then <code>std::stable_parttion</code> first, and then <code>delete</code> and erase the items on the &quot;bad&quot; side of the partition."}], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 1, "last_activity_date": 1427960426, "last_edit_date": 1427960426, "creation_date": 1427932591, "answer_id": 29402889, "question_id": 29402841, "link": "https://stackoverflow.com/questions/29402841/vector-iteration-and-deletion/29402889#29402889", "title": "Vector iteration and deletion", "body": "<p>Whenever you modify a range, you have to make sure that you update the iterator that you use to traverse the range in a way that's compatible with the way iterators are invalidated when you erase from the range.</p>\n\n<p>A simple example for applying this approach to a vector is the following loop. Note that erasing invalidates all iterators from the point of erasure onwards, so you need to obtain a fresh iterator when you erase, and you also need to recompute <code>end()</code> each time (i.e. don't hoist the end computation out of the loop):</p>\n\n<pre><code>for (auto it = m_activeConnections.begin(); it != m_activeConnections.end(); )\n{\n    if ((*it)-&gt;isClosed()) { it = m_activeConnections.erase(it); }\n    else                   { ++it;                               }\n}\n</code></pre>\n\n<p>A better way to erase from a vector is to move the to-be-erased elements to the back of the vector and then erasing the whole range all at once and avoid moving the tail range around all the time. Generally we do this with <code>remove_if</code>, though you need to add a bit of trickery to also delete the pointees in your case:</p>\n\n<pre><code>m_activeConnections.erase(\n    std::remove_if(m_activeConnections.begin(),\n                   m_activeConnections.end(),\n                   [](Connection * p) {\n                      if (p-&gt;isClosed()) { delete p; return true; }\n                      return false;}),\n    m_activeConnections.end());\n</code></pre>\n\n<p>You could avoid that trickery if you changed your container to <code>std::vector&lt;std::unique_ptr&lt;Connection&gt;&gt;</code>: Have one class per responsibility (the vector contains, the unique pointer deletes), and algorithms become composable.</p>\n\n<p>If you can't make your code simple by choosing appropriate abstractions, you can also try a more complicated algorithm: Partition the range first according to the need to delete, then delete, then erase the range:</p>\n\n<pre><code>auto it = std::stable_partition(m_activeConnections.begin(),\n                                m_activeConnections.end(),\n                                [](Connection * p) { return p-&gt;isClosed(); });\n\nfor (auto kt = it; kt != m_activeConnections.end(); ++kt)\n{\n    delete *kt;\n}\n\nm_activeConnections.erase(it, m_activeConnections.end());\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 3995038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c8318becd82e1ee0cbded8f18d5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "jack", "link": "https://stackoverflow.com/users/3995038/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435915641, "creation_date": 1427932299, "last_edit_date": 1435915641, "question_id": 29402841, "link": "https://stackoverflow.com/questions/29402841/vector-iteration-and-deletion", "title": "Vector iteration and deletion", "body": "<p>I am programming a multithreaded c++ WIN socket server and I came across some weird problem.</p>\n\n<p>I am using a vector to store active Connections. I lock the vector with win mutex then I try to iterate over it to find all closed connections and delete them then release mutex.</p>\n\n<p>The code:</p>\n\n<pre><code>if (!m_activeConnections.empty()){\n    for(std::vector&lt;Connection*&gt;::iterator it = m_activeConnections.begin(); it != m_activeConnections.end(); ++it) {\n        if ((*it)-&gt;isClosed()){\n            delete *it;\n            it = m_activeConnections.erase(it);\n            break;\n        }\n    }\n    cout &lt;&lt; \"\\n \\t Active Connections: \" &lt;&lt; m_activeConnections.size() &lt;&lt; endl;\n}\n</code></pre>\n\n<p>It works like this, but when I remove the <code>break</code> line it always goes one more loop with iterator <code>it</code> pointing at 0Xaaaaaa and throws exception. If this deletion is done in the same thread where the new Connections are created it works just fine even without the break. Why is this?</p>\n"}, {"tags": ["c++", "linux", "windows", "cmake", "cross-platform"], "answers": [{"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "is_accepted": false, "score": 0, "last_activity_date": 1427962784, "creation_date": 1427962784, "answer_id": 29408206, "question_id": 29402770, "link": "https://stackoverflow.com/questions/29402770/creating-a-deployable-cmake-dynamic-sdl2-app/29408206#29408206", "title": "Creating a deployable CMake dynamic SDL2 app", "body": "<p>FindSDL.cmake is used to detect SDL and sets the respective variables. Look at the documentation on top of the file how to use it</p>\n"}], "owner": {"reputation": 77, "user_id": 2228475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5839389967f4c0eaeac693809a15bc5c?s=128&d=identicon&r=PG", "display_name": "Elidor", "link": "https://stackoverflow.com/users/2228475/elidor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427962784, "creation_date": 1427931823, "question_id": 29402770, "link": "https://stackoverflow.com/questions/29402770/creating-a-deployable-cmake-dynamic-sdl2-app", "title": "Creating a deployable CMake dynamic SDL2 app", "body": "<p>What is the most minimalistic way to create a CMakeLists.txt file that can distribute a SDL2 executable with dynamic libraries across Linux and Windows? That is I'm trying to get a cmake file that will emit an executable to a build directory in a project for something like:</p>\n\n<pre><code>#include \"SDL.h\"\nint main()\n{\n    SDL_Init();\n    SDL_Quit();\n    return 0;\n}\n</code></pre>\n\n<p>So far I've only seen how to link against system libraries but this is inconsistent for Windows which doesn't automatically register libraries with their system path like Linux automatically does with package managers. I know that with Make you can specify a lib directory in the project and set a path to that during compilation, then you could use terminal commands to dump the lib in a folder with the executable.</p>\n\n<p>I want my projects to have this automatic behavior -- that is anyone who downloads the source can just type cmake, then make, and have a standalone directory with the executable and required libs to run the program without having to set up their path. How would I be able to do this? or is this even the best way of deploying a cross platform application?</p>\n"}, {"tags": ["c++", "derived"], "comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427931896, "post_id": 29402681, "comment_id": 46980922, "body": "This is an order-of-inclusion issue: include transitionList.h -&gt; include transition.h -&gt; include element.h -&gt; include transitionList.h (no-op because of include guards) -&gt; define class <code>Element</code> The <code>TransitionList</code> class is not declared when the class <code>Element</code> is defined because of this order."}, {"owner": {"reputation": 3257, "user_id": 3578468, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7957773c9ae23195b8a064ade49af29?s=128&d=identicon&r=PG&f=1", "display_name": "lo tolmencre", "link": "https://stackoverflow.com/users/3578468/lo-tolmencre"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427932342, "post_id": 29402681, "comment_id": 46981034, "body": "Oh, thanks. I added class TransitionList; before the definition of Element and it compiled. Thanks."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427932498, "post_id": 29402681, "comment_id": 46981073, "body": "I suggest you try to reduce your dependencies. For example, the parts of element.h you&#39;ve shown do not need the definition of <code>TransitionList</code>, therefore the header transitionList.h is not required in element.h, a forward-declaration is sufficient."}, {"owner": {"reputation": 3257, "user_id": 3578468, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7957773c9ae23195b8a064ade49af29?s=128&d=identicon&r=PG&f=1", "display_name": "lo tolmencre", "link": "https://stackoverflow.com/users/3578468/lo-tolmencre"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1428109275, "post_id": 29402681, "comment_id": 47051429, "body": "Thanks, that really helped me out. I didn&#39;t know you could forward declare without including the respective classes header."}], "owner": {"reputation": 3257, "user_id": 3578468, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7957773c9ae23195b8a064ade49af29?s=128&d=identicon&r=PG&f=1", "display_name": "lo tolmencre", "link": "https://stackoverflow.com/users/3578468/lo-tolmencre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546927877, "creation_date": 1427931283, "last_edit_date": 1546927877, "question_id": 29402681, "link": "https://stackoverflow.com/questions/29402681/unknown-type-name-derived-class-name", "title": "unknown type name &lt;derived class name&gt;", "body": "<p>I am trying to compile the implementation file for a base class that has functions that operate themselves on a type that is derived from a different base class. The outline is the following:</p>\n\n<ul>\n<li>Element (base class) [uses TransitionList)</li>\n<li>Transition (derived from Element)</li>\n<li>List (base class)</li>\n<li>TransitionList (derived from List)</li>\n</ul>\n\n<p>element.h</p>\n\n<pre><code>ifndef ELEMENT_H\n#define ELEMENT_H\n\n#include \"transitionList.h\"\n\nclass Element{\n\n    //other code\n\n    public:\n\n        Element();\n\n        virtual ~Element();\n\n        virtual TransitionList* get_successor();\n\n        virtual void set_successor(TransitionList* e);\n\n    //other code\n\n};\n\n#endif\n</code></pre>\n\n<p>element.cpp</p>\n\n<pre><code>#include \"transitionList.h\"\n#include \"element.h\"\n\nElement::Element(){}\nElement::~Element(){}\n\n// other code\n\nTransitionList* Element::get_successor(){}\nElement::set_successor(TransitionList* e){}\n</code></pre>\n\n<p>transitionList.h</p>\n\n<pre><code>#ifndef TRANSITION_LIST_H\n#define TRANSITION_LIST_H\n\n#include \"list.h\"\n#include \"transition.h\"\n\nclass Transition;\n\nclass TransitionList: public List {\n\n    public:\n\n        TransitionList();\n        ~TransitionList();\n\n        // other code\n};\n\n#endif\n</code></pre>\n\n<p>transitionList.cpp</p>\n\n<pre><code>#include \"transitionList.h\"\n\n\nTransitionList::TransitionList(){}\nTransitionList::~TransitionList(){}\n\n// other code\n</code></pre>\n\n<p>transition.h </p>\n\n<pre><code>#ifndef TRANSITION_H\n#define TRANSITION_H\n\n#include \"element.h\"\n#include \"transitionList.h\"\n\n\nclass TransitionList;\n\nclass Transition: public Element {\n\n    public:\n\n        Transition();\n        ~Transition(){}\n\n    // other code\n\n#endif\n</code></pre>\n\n<p>transition.cpp</p>\n\n<pre><code>#include \"transition.h\"\n#include \"element.h\"\n#include \"transitionList.h\"\n\n\nTransition::Transition(){}\n\n// other code\n</code></pre>\n\n<p>So, when I try to compile element.cpp I get </p>\n\n<pre><code>error: unknown type name 'TransitionList'\n</code></pre>\n\n<p>Which I don't understand, because it is included in element.h. I guess the question isn't really helpful, but, I don't really know what might be needed.</p>\n"}, {"tags": ["c++", "gcc", "g++"], "comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930291, "post_id": 29402378, "comment_id": 46980436, "body": "What does the <code>gcc -S</code> say? I don&#39;t believe there is any guarantee that compilers will only ever generate exactly the minimum bytes obviously needed by your program... It is allowed for the compiler to generate &quot;extra stuff&quot;, without any particlar explanation. [Or it is just random garbage that the disassembler produced?]"}, {"owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930844, "post_id": 29402378, "comment_id": 46980623, "body": "With: g++-4.9.2 -S -O3 -fno-align-functions -shared -nodefaultlibs -nostdlib -nostartfiles -fno-use-linker-plugin -Wl,-entry,_XMain main.cpp -o TestLib.dll"}, {"owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930857, "post_id": 29402378, "comment_id": 46980627, "body": ".file\t&quot;main.cpp&quot; \t.text \t.globl\t_XMain \t.def\t_XMain;\t.scl\t2;\t.type\t32;\t.endef _XMain: \tmovl\t$1, %eax \tret"}, {"owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930962, "post_id": 29402378, "comment_id": 46980662, "body": "No sign of trash bytes in the asm output as we can see."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427931099, "post_id": 29402378, "comment_id": 46980706, "body": "Why is this important? Like I said, I don&#39;t think any compiler guarantees that there won&#39;t be padding or similar? Interestingly, there are two <code>nop</code> first, then 4 <code>0xff</code> and 4 <code>0x00</code> bytes - which seems like someone is trying to make sure it&#39;s &quot;not executable&quot; (good when you happen to accidentally modify the return address of some function by just a little bit, and return just after the end of the function, for example) [0xff, 0xff is not executable, but 0x00,0x00 is]"}, {"owner": {"reputation": 7561, "user_id": 1627348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0169513b14084f169c7d5126885a6e0?s=128&d=identicon&r=PG", "display_name": "teppic", "link": "https://stackoverflow.com/users/1627348/teppic"}, "edited": false, "score": 0, "creation_date": 1427932068, "post_id": 29402378, "comment_id": 46980958, "body": "That&#39;s just part of the object code formatting, surely?"}, {"owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "edited": false, "score": 0, "creation_date": 1427932310, "post_id": 29402378, "comment_id": 46981027, "body": "I tried adding some code to grow the output and interestingly the padding stays intact just farther location cause of the grow."}, {"owner": {"reputation": 7561, "user_id": 1627348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0169513b14084f169c7d5126885a6e0?s=128&d=identicon&r=PG", "display_name": "teppic", "link": "https://stackoverflow.com/users/1627348/teppic"}, "edited": false, "score": 0, "creation_date": 1427932825, "post_id": 29402378, "comment_id": 46981157, "body": "On my system immediately following the <code>ret</code> instruction is a new section, <code>eh_frame_hdr</code>."}, {"owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "edited": false, "score": 0, "creation_date": 1427938070, "post_id": 29402378, "comment_id": 46982422, "body": "This is weird, i dont have a eh_frame_hdr section after the code."}], "answers": [{"comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930288, "post_id": 29402470, "comment_id": 46980432, "body": "Except optimisation is given as <code>-O0</code>?"}], "owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "is_accepted": false, "score": 0, "last_activity_date": 1427930128, "creation_date": 1427930128, "answer_id": 29402470, "question_id": 29402378, "link": "https://stackoverflow.com/questions/29402378/trash-bytes-end-of-file-compiled-with-g/29402470#29402470", "title": "trash bytes end of file compiled with g++", "body": "<p>GCC pads based on <code>-falign-functions</code>, which is on with <code>-O2</code> and <code>-O3</code>.</p>\n\n<p>I don't know why it's padding with those specific bytes.</p>\n"}], "owner": {"reputation": 241, "user_id": 3575889, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84a7c442ceff393c05bdbd820d908320?s=128&d=identicon&r=PG&f=1", "display_name": "user3575889", "link": "https://stackoverflow.com/users/3575889/user3575889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427930128, "creation_date": 1427929652, "question_id": 29402378, "link": "https://stackoverflow.com/questions/29402378/trash-bytes-end-of-file-compiled-with-g", "title": "trash bytes end of file compiled with g++", "body": "<p>I ve been looking through the GCC source code and google with no luck at all.</p>\n\n<p>I am compiling this code:</p>\n\n<pre><code>extern \"C\" int XMain(unsigned int hModule, unsigned int ulReason, unsigned int lpReserved)\n{\n    //if (ulReason == DLL_PROCESS_ATTACH)\n    {\n\n    }\n\n    return 1;\n}\n</code></pre>\n\n<p>With the following commands:</p>\n\n<blockquote>\n  <p>g++-4.9.2 -O0 -shared -nodefaultlibs -nostdlib -nostartfiles\n  -fno-use-linker-plugin -Wl,-entry,_XMain main.cpp -o TestLib.dll</p>\n</blockquote>\n\n<p>And here is the output seen with a disassembler:\n<img src=\"https://i.stack.imgur.com/KrcRA.png\" alt=\"enter image description here\"></p>\n\n<p>The code output is ok, but what are those trash bytes at the end of the code?\nWhat do they do ?</p>\n"}, {"tags": ["c++", "bit-manipulation", "language-lawyer", "undefined-behavior"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 3, "creation_date": 1427930106, "post_id": 29402367, "comment_id": 46980366, "body": "I&#39;m guessing <code>~</code> promotes the argument to <code>int</code> before doing anything anyway, so ~0 would convert to <code>true</code>. Can&#39;t be 100% sure without looking."}, {"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427930325, "post_id": 29402367, "comment_id": 46980449, "body": "@chris, you&#39;re right."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427930412, "post_id": 29402367, "comment_id": 46980489, "body": "is it UB to do <code>bool b = 13;</code> [or something like that]?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427931150, "post_id": 29402367, "comment_id": 46980722, "body": "@MatsPetersson: No, the <code>int</code> value <code>13</code> is implicitly converted to <code>bool</code>, yielding <code>true</code>."}], "answers": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": false, "score": 1, "last_activity_date": 1427934909, "last_edit_date": 1427934909, "creation_date": 1427930680, "answer_id": 29402576, "question_id": 29402367, "link": "https://stackoverflow.com/questions/29402367/does-using-bitwise-not-operator-on-boolean-values-invoke-undefined-behavior/29402576#29402576", "title": "Does using bitwise not operator (~) on boolean values invoke Undefined Behavior?", "body": "<pre><code>bool t = true;\nbool t2 = ~t;    // is t2 guaranteed to be false, or is this UB?\n</code></pre>\n\n<p>I suppose it is not guaranteed, seeing how</p>\n\n<pre><code>  bool b = true;\n  bool b1 = ~b;\n  cout &lt;&lt; b1;\n</code></pre>\n\n<p>outputs a \"true\"</p>\n\n<p>I suppose it has to do with boolean representation... if it is a byte, then <code>00000001</code> will negate to <code>11111110</code> which is not zero. Promotion might also be at play, but it's the same tune.</p>\n\n<p>The key here is it is \"bitwise\" not \"logical\". So one should not expect the two to match, unless the boolean representation is a single bit.</p>\n\n<p>Easily entirely defined behavior. </p>\n"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1427931505, "last_edit_date": 1427931505, "creation_date": 1427930736, "answer_id": 29402590, "question_id": 29402367, "link": "https://stackoverflow.com/questions/29402367/does-using-bitwise-not-operator-on-boolean-values-invoke-undefined-behavior/29402590#29402590", "title": "Does using bitwise not operator (~) on boolean values invoke Undefined Behavior?", "body": "<p>The arithmetic operators perform the integral promotions on their operand. Specifically [expr.unary.op]/9 says that this happens for <code>~</code> too.</p>\n\n<p>So <code>~t</code> is the same as <code>~1</code>. This gives a valid non-zero integer.</p>\n\n<p>Integer-to-bool conversions are defined by [conv.bool]: </p>\n\n<blockquote>\n  <p>A zero value, null pointer value, or null member pointer value is converted to false; any other value is converted to true</p>\n</blockquote>\n\n<p>so <code>bool t2 = ~t;</code> yields <code>t2 == true</code>.  There is no undefined behaviour.</p>\n\n<hr>\n\n<p><code>~f</code> is the same as <code>~0</code>. In 2's complement, <code>~0</code> gives <code>-1</code>, so we will have <code>f2 == true</code>.</p>\n\n<p><SUB>In 1's complement -- if there were ever a C++ system that uses 1's complement -- then the effect of <code>~0</code> is unclear.</SUB></p>\n"}, {"comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1427932293, "post_id": 29402657, "comment_id": 46981023, "body": "@MattMcNabb Where does this standard say that? I was actually looking for that wording, and sadly failing. There&#39;s wording to this effect in C99 <b>6.2.6.2</b> - perhaps it could be argued that this wording is incorporated into C++ standard by reference, but that sounds like a pretty weak argument. Am I missing something obvious?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1427932525, "post_id": 29402657, "comment_id": 46981082, "body": "@MattMcNabb Ah, right. &quot;Pure binary numeration system&quot; is the term of art I&#39;ve forgotten about. Let me update the answer."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1427932587, "post_id": 29402657, "comment_id": 46981104, "body": "I guess there is a little bit of room to argue that negative-zero could be an alternate representation of <code>0</code> , in one&#39;s complement"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1427932999, "post_id": 29402657, "comment_id": 46981198, "body": "@MattMcNabb C99, at least, puts a limitation on how a negative zero can be produced (basically, only by bit twiddling). Just writing <code>0</code> or <code>(int)false</code> shouldn&#39;t do it. But yes, C++ standard doesn&#39;t have any similar wording."}], "owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "is_accepted": true, "score": 8, "last_activity_date": 1427932754, "last_edit_date": 1427932754, "creation_date": 1427931083, "answer_id": 29402657, "question_id": 29402367, "link": "https://stackoverflow.com/questions/29402367/does-using-bitwise-not-operator-on-boolean-values-invoke-undefined-behavior/29402657#29402657", "title": "Does using bitwise not operator (~) on boolean values invoke Undefined Behavior?", "body": "<blockquote>\n  <p><strong>5.3.1/10</strong> The operand of <code>~</code> shall have integral or unscoped enumeration type; the result is the one\u2019s complement of its operand. <strong>Integral promotions are performed.</strong> [emphasis mine]</p>\n  \n  <p><strong>4.5/6</strong> A prvalue of type <code>bool</code> can be converted to a prvalue of type <code>int</code>, with <code>false</code> becoming zero and <code>true</code> becoming one.</p>\n  \n  <p><strong>4.5/7</strong> These conversions are called <em>integral promotions</em>.</p>\n</blockquote>\n\n<p>So <code>~false</code> is an <code>int</code> with a bit pattern consisting of all ones - one's complement of a bit pattern representing 0, namely all zeros (as required by <strong>3.9.1/7</strong>.) Similarly, <code>~true</code> is an <code>int</code> that's one's complement of the bit representation of 1 - namely, all ones with the least significant bit zero. Both these values will evaluate to <code>true</code> in boolean context.</p>\n"}], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 1, "accepted_answer_id": 29402657, "answer_count": 3, "score": 10, "last_activity_date": 1428339924, "creation_date": 1427929578, "last_edit_date": 1428339924, "question_id": 29402367, "link": "https://stackoverflow.com/questions/29402367/does-using-bitwise-not-operator-on-boolean-values-invoke-undefined-behavior", "title": "Does using bitwise not operator (~) on boolean values invoke Undefined Behavior?", "body": "<p>If a C++ program applies the bitwise-not operator (~) to a boolean value, does that invoke Undefined Behavior?</p>\n\n<p>E.g. is the following program well-defined?</p>\n\n<pre><code>bool f = false;\nbool f2 = ~f;    // is f2 guaranteed to be true, or is this UB?\nbool t = true;\nbool t2 = ~t;    // is t2 guaranteed to be false, or is this UB?\n</code></pre>\n\n<p>(Yes, I know there is a ! operator that is better-suited to this sort of thing; for purposes of this question we will ignore its existence ;))</p>\n"}, {"tags": ["c++", "linker-errors"], "answers": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": false, "score": 1, "last_activity_date": 1427929614, "creation_date": 1427929614, "answer_id": 29402371, "question_id": 29402301, "link": "https://stackoverflow.com/questions/29402301/undefined-symbols-for-architecture-x86-64-after-adding-the-cpp-file/29402371#29402371", "title": "Undefined symbols for architecture x86_64 after adding the cpp file", "body": "<p>You need to include <code>plane.cpp</code> in your compilation command</p>\n\n<pre><code>g++ -c main.cpp plane.cpp\n</code></pre>\n\n<p>then link both object files</p>\n\n<pre><code>g++ -o raytracer main.o plane.o\n</code></pre>\n\n<p>Or, better, learn how to use some modern build system, such as <a href=\"http://www.cmake.org/\" rel=\"nofollow\">CMake</a>, it will come very handy in the future.</p>\n"}, {"owner": {"reputation": 8286, "user_id": 533037, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f711473fb27cd269ba5ad2064c15dcd3?s=128&d=identicon&r=PG", "display_name": "solidpixel", "link": "https://stackoverflow.com/users/533037/solidpixel"}, "is_accepted": false, "score": 1, "last_activity_date": 1427929616, "creation_date": 1427929616, "answer_id": 29402372, "question_id": 29402301, "link": "https://stackoverflow.com/questions/29402301/undefined-symbols-for-architecture-x86-64-after-adding-the-cpp-file/29402372#29402372", "title": "Undefined symbols for architecture x86_64 after adding the cpp file", "body": "<blockquote>\n  <p>g++ main.o -o raytracer.exe</p>\n</blockquote>\n\n<p>Your Plane.cpp function was presumably compiled into plane.o. The linker is complaining because you haven't given it plane.o to link. Try:</p>\n\n<pre><code>g++ &lt;put all your .o files here&gt; -o raytracer.exe\n</code></pre>\n\n<p>... or just compile and link all in one go. </p>\n\n<pre><code>g++ &lt;put all your .cpp files here&gt; -O3 -I \"./\" -o raytracer.exe\n</code></pre>\n\n<p>(i.e. compile without the -c flag)</p>\n"}], "owner": {"reputation": 254, "user_id": 2770288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ea344f83b5abaf971f2a7a96bc65dcc9?s=128&d=identicon&r=PG&f=1", "display_name": "ionutt93", "link": "https://stackoverflow.com/users/2770288/ionutt93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1882, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427929616, "creation_date": 1427929218, "question_id": 29402301, "link": "https://stackoverflow.com/questions/29402301/undefined-symbols-for-architecture-x86-64-after-adding-the-cpp-file", "title": "Undefined symbols for architecture x86_64 after adding the cpp file", "body": "<p>I'm trying to build a raytracer in c++ and I have a compilation issue on one of the classes. Basically the program runs well if all the code is stored in the header file, but once I move it in its corresponding cpp file it gives this error:</p>\n\n<pre><code>g++ -O3 -c main.cpp -I \"./\"\ng++ main.o -o raytracer.exe\nUndefined symbols for architecture x86_64:\n\"Plane::Plane(Vect, double, Color)\", referenced from:\n  _main in main.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [raytracer] Error 1\n</code></pre>\n\n<p>The code from the header file (Plane.h) is: </p>\n\n<pre><code>#ifndef PLANE_H\n#define PLANE_H\n\n#include \"math.h\"\n#include \"Object.h\"\n#include \"Vect.h\"\n#include \"Color.h\"\n\nclass Plane : public Object\n{\nprivate:\n    Vect normal;\n    double distance;\n    Color color;\n\npublic:\n    Plane();\n\n    Plane(Vect n, double d, Color c);\n\n    Vect GetPlaneNormal()     { return normal;   }\n    double GetPlaneDistance() { return distance; }\n    virtual Color GetColor()  { return color;    }\n\n    virtual Vect GetNormalAt(Vect point);\n\n    virtual double FindIntersection(Ray ray);\n};\n\n#endif // PLANE_H\n</code></pre>\n\n<p>And the implementation (Plane.cpp):</p>\n\n<pre><code>#include \"Plane.h\"\n\nPlane::Plane() \n{\n    normal   = Vect(1.0, 0.0, 0.0);\n    distance = 0.0;\n    color    = Color(0.5, 0.5, 0.5, 0.0);\n}\n\nPlane::Plane(Vect n, double d, Color c)\n{\n    normal   = n;\n    distance = d;\n    color    = c;\n}\n\nVect Plane::GetNormalAt(Vect point)\n{\n    return normal;\n}\n\ndouble Plane::FindIntersection(Ray ray)\n{\n    Vect rayDirection = ray.GetRayDirection();\n\n    double a = rayDirection.DotProduct(normal);\n    if (a == 0)\n    {\n            // ray is parallel to our plane:w\n        return -1;\n    }\n    else\n    {\n        double b = normal.DotProduct(ray.GetRayOrigin().VectAdd(normal.VectMult(distance).Negative()));\n        return -1 * b / a - 0.000001;\n    }\n}\n</code></pre>\n\n<p>Is there anything I need to add to make the issue disappear? Thank you!</p>\n"}, {"tags": ["c#", "c++", "sockets"], "comments": [{"owner": {"reputation": 1828, "user_id": 2584754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q3gFD.jpg?s=128&g=1", "display_name": "sturcotte06", "link": "https://stackoverflow.com/users/2584754/sturcotte06"}, "edited": false, "score": 1, "creation_date": 1427929594, "post_id": 29402172, "comment_id": 46980195, "body": "All is fine,  your c++ header contains 3 ints which maps to 12 c# bytes."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1427930441, "post_id": 29402172, "comment_id": 46980502, "body": "An integer consists of 4 bytes. If you want to see the other bytes get used, send in a value greater than 255."}, {"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1427961644, "post_id": 29402172, "comment_id": 46989762, "body": "So with my code I will always have to parse header at the c# code like byte[0] = messageID, byte[4] = dataLen, byte[8] = checkSum. This position of byte array should always indicate the same. Am I correct?"}], "owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427928487, "creation_date": 1427928487, "question_id": 29402172, "link": "https://stackoverflow.com/questions/29402172/c-socket-data-send-c-data-receive", "title": "c++ socket data send c# data receive", "body": "<p>I'm trying to send some data with header from c++ tcp socket to c# tcp socket. Please see my code below for this appraoch.</p>\n\n<p>C++ code to send data</p>\n\n<pre><code>typedef struct tag_TCP_Header_Data{\n  int iMessageID;\n  int iDataLen;\n  int iCheckSum;\n}TCP_HEADER_DATA;\n\n  TCP_HEADER_DATA stTcpHeader = {0};\n  char acSendBuf[1024] = {0};  \n  char chData[38] = \"01 April - I compile my simple program\";\n\n  stTcpHeader.iMessageID  = 100;\n  stTcpHeader.iDataLen    = 38;\n  stTcpHeader.iCheckSum   = 190;\n\n  memcpy(acSendBuf, &amp;stTcpHeader, sizeof(stTcpHeader));\n  memcpy(acSendBuf+sizeof(stTcpHeader), &amp;chData, sizeof(chData));\n\n  int iSent = SendSocketData(acSendBuf, sizeof(acSendBuf));\n</code></pre>\n\n<p>C# code to receive data</p>\n\n<pre><code>public void AddBytesFromArrayToArrayList(ref ArrayList arrayListReceivedBytes, byte[] byteReceivedBuffer, int intLength)\n{\n  for (int intCount = 0; intCount &lt; intLength; intCount++)\n  {\n    arrayListReceivedBytes.Add(byteReceivedBuffer[intCount]);\n  }\n}\n\npublic byte[] ReceiveMessage()\n{\n  lock (this.objectToLock)\n  {\n    byte[] byteReceivedBuffer = new byte[1024];\n    int intBytesReceived = 0;\n    ArrayList arrayListReceivedBytes = new ArrayList();\n    do\n    {\n      try\n      {\n        intBytesReceived = this.socket.Receive(byteReceivedBuffer, byteReceivedBuffer.Length, SocketFlags.None);\n        this.AddBytesFromArrayToArrayList(ref arrayListReceivedBytes, byteReceivedBuffer, intBytesReceived);\n        Thread.Sleep(100);\n      }\n      catch (SocketException ex)\n      {\n        string str = ex.Message;\n      }\n      catch (Exception ex)\n      {\n        string str = ex.Message;\n      }\n    }\n    while (this.socket.Available &gt; 0);\n    byte[] byteReceived = (byte[])arrayListReceivedBytes.ToArray(typeof(byte));\n    return byteReceived;\n  }\n}\n</code></pre>\n\n<p>Server gets the header data with blank in between like this. I know something I'm missing in c# code for this int and char byte data conversion. Can anyone point me out?</p>\n\n<pre><code>[0]  100    byte\n[1]  0      byte\n[2]  0      byte\n[3]  0      byte\n[4]  160    byte\n[5]  0      byte\n[6]  0      byte\n[7]  0      byte\n[8]  190    byte\n[9]  0      byte\n[10] 0      byte\n[11] 0      byte\n\n[12] Correct data\n[..] Correct data\n[..] Correct data\n</code></pre>\n"}, {"tags": ["c++", "qt", "dialog"], "answers": [{"comments": [{"owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "edited": false, "score": 0, "creation_date": 1427952019, "post_id": 29402419, "comment_id": 46985688, "body": "@cmannetti85 thanks but I can not really know which button has been pressed. DialogCode only reply reject or accept"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "reply_to_user": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "edited": false, "score": 0, "creation_date": 1427953942, "post_id": 29402419, "comment_id": 46986399, "body": "The method takes an int, the <code>DialogCode</code> values should be incorporated for compatibility. Assuming you used a <code>QButtonGroup</code> for your buttons, the <code>buttonClicked</code> signal carries the ID of the button. Even if you didn&#39;t use a <code>QButtonGroup</code>, <i>you</i> built the dialog, how can you not know which button was pressed!?"}], "owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "is_accepted": false, "score": 0, "last_activity_date": 1427929865, "creation_date": 1427929865, "answer_id": 29402419, "question_id": 29402110, "link": "https://stackoverflow.com/questions/29402110/how-to-easily-get-the-button-press-in-a-dialog-box-in-qt-c/29402419#29402419", "title": "How to easily get the button Press in a dialog box in Qt/C++", "body": "<p>Call <code>QDialog::done(int r)</code> with a value that represents one of the closing buttons. This value is returned by <code>exec()</code>.</p>\n\n<p>Default values are provided by <code>QDialog::DialogCode</code> enum.</p>\n"}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427929865, "creation_date": 1427928144, "question_id": 29402110, "link": "https://stackoverflow.com/questions/29402110/how-to-easily-get-the-button-press-in-a-dialog-box-in-qt-c", "title": "How to easily get the button Press in a dialog box in Qt/C++", "body": "<p>I have wrote an app which mainly is an equivalent to mac osx finder. When copying file into a folder, I'm checking if a file of the same name already exist. In case it exist, I'm asking the user if he want to cancel, overwrite or not overwrite.</p>\n\n<p>The Dialog box for the overwrite has been created with QT designer and generate a dialogoverwrite.ui, .cpp and .h.</p>\n\n<p>User Interface</p>\n\n<p><img src=\"https://i.stack.imgur.com/hgwf0.png\" alt=\"enter image description here\"></p>\n\n<p>dialogoverwrite.cpp</p>\n\n<pre><code>#include &lt;QDialogButtonBox&gt;\n\n#include \"dialogoverwrite.h\"\n#include \"ui_dialogoverwrite.h\"\n\nDialogOverwrite::DialogOverwrite(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::DialogOverwrite)\n{\n    ui-&gt;setupUi(this);\n}\n\nDialogOverwrite::~DialogOverwrite()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>dialogoverwrite.h</p>\n\n<pre><code>#include &lt;QDialog&gt;\n#include &lt;QDialogButtonBox&gt;\n\nnamespace Ui {\nclass DialogOverwrite;\n}\n\nclass DialogOverwrite : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    explicit DialogOverwrite(QWidget *parent = 0);\n    ~DialogOverwrite();\n\nprivate:\n    Ui::DialogOverwrite *ui;\n\n};\n</code></pre>\n\n<p>I'm using this class in My TreeWidget application as shown below, I will only add the required code</p>\n\n<pre><code>DialogOverwrite *OverwriteDialog = new DialogOverwrite;\nOverwriteDialog-&gt;exec();\n</code></pre>\n\n<p>A kind of OverwriteDialog.button.value could be perfect for me.</p>\n\n<p>the exec will show the dialog and wait for a user action. How can I easily catch the return value : Cancel, Yes, YesToAll, No, NoToAll</p>\n\n<p>I'm looking for an easy to get it. I would like to avoid any additional method in the dialogoverwrite class with signal/connecT. I really just need the button value to react.</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["c++", "list", "c++11", "dictionary", "std"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 4740227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0cd7476d5dbcd15d8d6155cab254f36?s=128&d=identicon&r=PG&f=1", "display_name": "NewToThis", "link": "https://stackoverflow.com/users/4740227/newtothis"}, "edited": false, "score": 0, "creation_date": 1427927571, "post_id": 29401996, "comment_id": 46979511, "body": "thanks! I forgot about that.  Also, is there anything wrong with including libraries in a header file that might not be used?"}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1427927694, "post_id": 29401996, "comment_id": 46979563, "body": "The compiler has more work to do but for a simple program it&#39;s not of concern. Except for its redundancy..."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1427927697, "post_id": 29401996, "comment_id": 46979565, "body": "Adding <code>#include</code> lines in a <code>.h</code> file has compile time cost. Don&#39;t <code>#include</code> anything in a <code>.h</code> file unless you need to."}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 16, "last_activity_date": 1427927428, "creation_date": 1427927428, "answer_id": 29401996, "question_id": 29401979, "link": "https://stackoverflow.com/questions/29401979/error-list-is-not-a-member-of-std-and-error-template-argument-2-is-invalid/29401996#29401996", "title": "error: \u2018list\u2019 is not a member of \u2018std\u2019 and error: template argument 2 is invalid", "body": "<p>You forgot to add</p>\n\n<pre><code>#include &lt;list&gt;    \n</code></pre>\n"}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "is_accepted": false, "score": 5, "last_activity_date": 1427927442, "creation_date": 1427927442, "answer_id": 29401997, "question_id": 29401979, "link": "https://stackoverflow.com/questions/29401979/error-list-is-not-a-member-of-std-and-error-template-argument-2-is-invalid/29401997#29401997", "title": "error: \u2018list\u2019 is not a member of \u2018std\u2019 and error: template argument 2 is invalid", "body": "<p>What about <code>#include &lt;list&gt;</code>? You are missing the header inclusion.</p>\n"}], "owner": {"reputation": 121, "user_id": 4740227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d0cd7476d5dbcd15d8d6155cab254f36?s=128&d=identicon&r=PG&f=1", "display_name": "NewToThis", "link": "https://stackoverflow.com/users/4740227/newtothis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18072, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1565930106, "creation_date": 1427927323, "last_edit_date": 1427929948, "question_id": 29401979, "link": "https://stackoverflow.com/questions/29401979/error-list-is-not-a-member-of-std-and-error-template-argument-2-is-invalid", "title": "error: \u2018list\u2019 is not a member of \u2018std\u2019 and error: template argument 2 is invalid", "body": "<p>I'm trying to compile my header file, but I'm getting errors I can't figure out.</p>\n\n<p>I want to create a struct that contains 3 maps:\n-map from single words to counts\n-map from word pairs to counts\n-map from single words to list of following words</p>\n\n<p>The code in my header file:</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;string&gt;\n#include &lt;cctype&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;map&gt;\n\ntypedef struct {\n\n    std::map&lt;std::string, int&gt; firstCounts;\n    std::map&lt;std::string, int&gt; pairCounts;\n    std::map&lt;std::string, std::list&lt;std::string&gt;&gt; follows; //You can use an iterator to retrieve the values stored in the list. \n\n} LanguageModel;\n</code></pre>\n\n<p>And the errors I'm getting:</p>\n\n<pre><code>&gt;   LangModel.h:24:23: error: \u2018list\u2019 is not a member of \u2018std\u2019\n&gt;      std::map&lt;std::string, std::list&lt;std::string&gt;&gt; follows; //You can use an iterator to retrieve the values stored in the list. \n&gt;                            ^\n&gt;     LangModel.h:24:23: error: \u2018list\u2019 is not a member of \u2018std\u2019\n&gt;     LangModel.h:24:38: error: template argument 2 is invalid\n&gt;      std::map&lt;std::string, std::list&lt;std::string&gt;&gt; follows; //You can use an iterator to retrieve the values stored in the list. \n&gt;                                           ^\n&gt;     LangModel.h:24:38: error: template argument 4 is invalid\n&gt;     LangModel.h:24:44: error: expected unqualified-id before \u2018&gt;\u2019 token\n&gt;      std::map&lt;std::string, std::list&lt;std::string&gt;&gt; follows; //You can use an iterator to retrieve the values stored in the list.\n</code></pre>\n"}, {"tags": ["c++", "file", "numbers", "structure", "add"], "comments": [{"owner": {"reputation": 120111, "user_id": 469935, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/14lYV.jpg?s=128&g=1", "display_name": "Armen Tsirunyan", "link": "https://stackoverflow.com/users/469935/armen-tsirunyan"}, "edited": false, "score": 0, "creation_date": 1427927260, "post_id": 29401895, "comment_id": 46979397, "body": "I really believe the following passage needs to be edited: &quot;I need to get num from the user and pick use that to pick the cookie number that they chose and allow them to add a number to the quantity which is the first number after the cookie type.&quot;"}, {"owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "edited": false, "score": 0, "creation_date": 1427927344, "post_id": 29401895, "comment_id": 46979424, "body": "What problem are you facing..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427927368, "post_id": 29401895, "comment_id": 46979436, "body": "Specifically, what are you having issues with?  Is it the <code>while (!file.eof())</code> <i>(which is incorrect)</i>?  Is it adding numbers?  Is it appending to a file?  Is it inserting into the middle of a file?"}, {"owner": {"reputation": 25, "user_id": 4701023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1072959266067125/picture?type=large", "display_name": "C0UG3R", "link": "https://stackoverflow.com/users/4701023/c0ug3r"}, "edited": false, "score": 0, "creation_date": 1427927914, "post_id": 29401895, "comment_id": 46979658, "body": "I&#39;m not sure how to get to the specific quantity once the user has chosen a  number is my main problem, I&#39;m also unsure how to replace the number in the file once I&#39;ve added something to it."}], "answers": [{"owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1427928145, "creation_date": 1427928145, "answer_id": 29402111, "question_id": 29401895, "link": "https://stackoverflow.com/questions/29401895/how-to-add-to-a-number-in-a-file/29402111#29402111", "title": "How to add to a number in a file?", "body": "<p>After the statement <code>file.seekg((num - 1)* sizeof(Cookies), ios::beg);</code>\nyou can now modify the cookie as</p>\n\n<pre><code>file.read( (char *)&amp;tempCookies, sizeof(Cookies) );//used to read the required cookie\nfile.seekg((num - 1)* sizeof(Cookies), ios::beg);//shifting back file pointer by one cookie object \ntempCookies.quantity_sold = new_value;//updating the value\nfile.write( (char *)&amp;tempCookies, sizeof(Cookies) );//writing the value to the file.\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4701023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1072959266067125/picture?type=large", "display_name": "C0UG3R", "link": "https://stackoverflow.com/users/4701023/c0ug3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427928145, "creation_date": 1427926903, "question_id": 29401895, "link": "https://stackoverflow.com/questions/29401895/how-to-add-to-a-number-in-a-file", "title": "How to add to a number in a file?", "body": "<p>I am using this file:</p>\n\n<pre><code>cookie1\n1\n2\n3\ncookie2\n4\n5\n6\ncookie3\n7\n8\n9\ncookie4\n10\n11\n12\ncookie5\n13\n14\n15\n</code></pre>\n\n<p>I need to get num from the user and pick use that to pick the cookie number that they chose and allow them to add a number to the quantity which is the first number after the cookie type.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>void AddQuantity (fstream &amp;file)\n{\nchar user_choice[SIZE];\nint i = 1;\nCookies tempCookies;\nint num;\n\nfile.open(\"cookie.dat\", ios::in | ios::out | ios::app);\nfile.clear();\nfile.seekg(0L, ios::beg);\n\n    file &gt;&gt; tempCookies.description;\n    file &gt;&gt; tempCookies.quantity_sold;\n    file &gt;&gt; tempCookies.cost;\n    file &gt;&gt; tempCookies.price;\n\nwhile (!file.eof())\n{\n\n    cout &lt;&lt; i &lt;&lt; \". \" &lt;&lt; tempCookies.description &lt;&lt; endl;\n\n    file &gt;&gt; tempCookies.description;\n    file &gt;&gt; tempCookies.quantity_sold;\n    file &gt;&gt; tempCookies.cost;\n    file &gt;&gt; tempCookies.price;\n\n    i++;\n};\ncout &lt;&lt; endl;\nfile.clear();\n\ncout &lt;&lt; \"Enter the number of the cookie type that you would like to modify: \";\ncin &gt;&gt; num;\ncout &lt;&lt; endl;\n\nfile.seekg((num - 1)* sizeof(Cookies), ios::beg);\n\nreturn;\n}\n</code></pre>\n"}, {"tags": ["c++", "dll", "curlpp"], "comments": [{"owner": {"reputation": 10206, "user_id": 65678, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tLuGV.jpg?s=128&g=1", "display_name": "gha.st", "link": "https://stackoverflow.com/users/65678/gha-st"}, "edited": false, "score": 0, "creation_date": 1427926947, "post_id": 29401866, "comment_id": 46979279, "body": "How about just calling <code>LoadLibrary</code> in your primary <code>DllMain</code>...?"}, {"owner": {"reputation": 3558, "user_id": 389833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fc01b03cab64a85b58f30b70190eafb8?s=128&d=identicon&r=PG", "display_name": "Bukes", "link": "https://stackoverflow.com/users/389833/bukes"}, "reply_to_user": {"reputation": 10206, "user_id": 65678, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tLuGV.jpg?s=128&g=1", "display_name": "gha.st", "link": "https://stackoverflow.com/users/65678/gha-st"}, "edited": false, "score": 2, "creation_date": 1427927760, "post_id": 29401866, "comment_id": 46979592, "body": "@gha.st - Calling LoadLibrary from DLL main is forbidden.  See the docs for DllMain()"}], "answers": [{"comments": [{"owner": {"reputation": 998, "user_id": 979732, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/8275b314b370b2fb6547328f59826a48?s=128&d=identicon&r=PG", "display_name": "Qub1", "link": "https://stackoverflow.com/users/979732/qub1"}, "edited": false, "score": 0, "creation_date": 1428000165, "post_id": 29402438, "comment_id": 47012079, "body": "Thanks, I&#39;m going to link it statically"}], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1427929980, "creation_date": 1427929980, "answer_id": 29402438, "question_id": 29401866, "link": "https://stackoverflow.com/questions/29401866/include-curl-library-for-c-in-dll-file/29402438#29402438", "title": "Include curl library for C++ in dll file", "body": "<p>You could include the libcurl library code directly into your DLL, as libcurl is open-source.</p>\n\n<p>Or you could compile libcurl into its own DLL (or find a 3rd party precompiled DLL) and have your DLL statically link to it.  That way, if libcurl fails to load at runtime, your mod DLL will also fail to load, which Skyrim can detect and handle as needed.</p>\n"}], "owner": {"reputation": 998, "user_id": 979732, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/8275b314b370b2fb6547328f59826a48?s=128&d=identicon&r=PG", "display_name": "Qub1", "link": "https://stackoverflow.com/users/979732/qub1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 29402438, "answer_count": 1, "score": 0, "last_activity_date": 1427929980, "creation_date": 1427926776, "question_id": 29401866, "link": "https://stackoverflow.com/questions/29401866/include-curl-library-for-c-in-dll-file", "title": "Include curl library for C++ in dll file", "body": "<p>I'm writing a dll as a mod for Skyrim, however I need to use an external library as well. The library I need is the curl library for C++ (curlpp). Skyrim will only load the one DLL I create, therefore I need to have the entire library be compiled into the DLL file along with my code. I've never done this before, so I'm kind of lost on how to do this. Could I just copy the files from the curlpp library into my project?</p>\n\n<p>If anyone could clarify the process needed I'd be very grateful.</p>\n\n<p>So to recap, I'll have my own code, and the library. Those 2 should be merged into a single DLL when compiling.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "pointers", "structure"], "comments": [{"owner": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "edited": false, "score": 1, "creation_date": 1427927006, "post_id": 29401850, "comment_id": 46979299, "body": "How about saving the previous <code>bool</code> value of <code>LTS_TaxiSw</code>?"}, {"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "reply_to_user": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "edited": false, "score": 0, "creation_date": 1427927133, "post_id": 29401850, "comment_id": 46979350, "body": "That&#39;s also what they did in the SDK example (where they had only tracked two values). However, later on this will track dozens of the struct values and I&#39;d rather not create another variable for  every single one of them."}, {"owner": {"reputation": 1006, "user_id": 3888756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPnk1.jpg?s=128&g=1", "display_name": "DigitalNinja", "link": "https://stackoverflow.com/users/3888756/digitalninja"}, "edited": false, "score": 0, "creation_date": 1427927248, "post_id": 29401850, "comment_id": 46979395, "body": "I&#39;m confused, so the data that your passing into <code>ProcessNGXData</code> is also the <code>previousData</code>?"}, {"owner": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "edited": false, "score": 0, "creation_date": 1427927275, "post_id": 29401850, "comment_id": 46979401, "body": "I see, and how about holding a copy of <code>PMDG_NGX_Data</code>? is it too big to copy every <code>ProcessNGXData</code>. Cause the framework obviously uses the same pointer over &amp; over."}, {"owner": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "edited": false, "score": 2, "creation_date": 1427927291, "post_id": 29401850, "comment_id": 46979412, "body": "You can change <code>PMDG_NGX_Data* previousData;</code> to not be a pointer. Then <code>previousData = *data</code>; would copy the contents."}, {"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "reply_to_user": {"reputation": 1006, "user_id": 3888756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPnk1.jpg?s=128&g=1", "display_name": "DigitalNinja", "link": "https://stackoverflow.com/users/3888756/digitalninja"}, "edited": false, "score": 0, "creation_date": 1427927304, "post_id": 29401850, "comment_id": 46979416, "body": "@BinaryJudy No, <code>ProcessNGXData</code> is being called from a different function and gets passed the current data."}, {"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "reply_to_user": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "edited": false, "score": 0, "creation_date": 1427927444, "post_id": 29401850, "comment_id": 46979458, "body": "@henje I&#39;ve tried that (I changed it to <code>PMDG_NGX_Data previousData;</code>). It resulted in: <code>Error: expression must have a pointer type</code> at <code>previousData-&gt;LTS_TaxiSw</code>"}, {"owner": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "edited": false, "score": 1, "creation_date": 1427927604, "post_id": 29401850, "comment_id": 46979524, "body": "Structs are accessed with the dot operator <code>data.field</code>"}, {"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "edited": false, "score": 0, "creation_date": 1427927784, "post_id": 29401850, "comment_id": 46979604, "body": "I didn&#39;t realize that before, now it&#39;s working... Thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 1921, "user_id": 4645606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e927a684803ef8ad6f7b00684744ef9?s=128&d=identicon&r=PG", "display_name": "pharring", "link": "https://stackoverflow.com/users/4645606/pharring"}, "edited": false, "score": 0, "creation_date": 1427927555, "post_id": 29402004, "comment_id": 46979503, "body": "Oh, and instead of &quot;previousData-&gt;LTS_TaxiSw&quot; you&#39;ll need to do &quot;previousData.LTS_TaxiSw&quot;"}], "owner": {"reputation": 1921, "user_id": 4645606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e927a684803ef8ad6f7b00684744ef9?s=128&d=identicon&r=PG", "display_name": "pharring", "link": "https://stackoverflow.com/users/4645606/pharring"}, "is_accepted": false, "score": 2, "last_activity_date": 1427927492, "creation_date": 1427927492, "answer_id": 29402004, "question_id": 29401850, "link": "https://stackoverflow.com/questions/29401850/copy-structure-without-pointers/29402004#29402004", "title": "Copy structure without pointers", "body": "<p>Declare previousData like this:</p>\n\n<pre><code>PMDG_NGX_Data previousData;\n</code></pre>\n\n<p>(without the asterisk). Now, when you want to 'save' the structure, do this:</p>\n\n<pre><code>previousData = *data;\n</code></pre>\n\n<p>(right hand side has an asterisk). Note that this assumes that PMDG_NGX_Data is copy-able and a fixed size. If it's an interface or an abstract class, then this won't be possible. Perhaps the API gives you a \"Clone\" or \"Copy\" method you can call.</p>\n"}, {"comments": [{"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "edited": false, "score": 0, "creation_date": 1427927681, "post_id": 29402013, "comment_id": 46979556, "body": "That&#39;s it! I didn&#39;t realize I had to change the <code>-&gt;</code> to <code>.</code> so I was just confused of the <code>Error: expression must have a pointer type</code>. Thanks :)"}], "owner": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "is_accepted": true, "score": 1, "last_activity_date": 1427927534, "creation_date": 1427927534, "answer_id": 29402013, "question_id": 29401850, "link": "https://stackoverflow.com/questions/29401850/copy-structure-without-pointers/29402013#29402013", "title": "Copy structure without pointers", "body": "<p>If <code>PMDG_NGX_Data</code> is not too big to copy every <code>ProcessNGXData</code> you can try this:</p>\n\n<pre><code>PMDG_NGX_Data previousData;\nbool alreadyProcessed = false;\n\nvoid ProcessNGXData(PMDG_NGX_Data *data)\n{\n    if (!alreadyProcessed || data-&gt;LTS_TaxiSw != previousData.LTS_TaxiSw) {\n        if (data-&gt;LTS_TaxiSw)\n            printf(\"Taxi Lights: [ON]\\n\");\n        else\n            printf(\"Taxi Lights: [OFF]\\n\");\n    }\n\n    if (!alreadyProcessed) {\n        alreadyProcessed = true;\n    }\n    previousData = *data;\n}\n</code></pre>\n\n<p>If it is too big, you can create a struct that will hold only the fields you need to compare and will be initialized by <code>PMDG_NGX_Data</code> and initialize that struct every <code>ProcessNGXData</code>.</p>\n"}], "owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29402013, "answer_count": 2, "score": 2, "last_activity_date": 1427927534, "creation_date": 1427926706, "question_id": 29401850, "link": "https://stackoverflow.com/questions/29401850/copy-structure-without-pointers", "title": "Copy structure without pointers", "body": "<p>I'm trying to create an interface between physical components (Arduinos) and flight simulator in order to control and display simulator events from self-built parts. I have started learning C++ in school, but have never been quite keen on it.<br>\nYet the library I use to communicate with my flight simulator is written in C++ (it's called <a href=\"https://msdn.microsoft.com/en-us/library/cc526983.aspx\" rel=\"nofollow\">SimConnect</a>) and so is the SDK of my payware airplane. Therefore I figured it's probably easier to get back into it than creating wrappers or such for another programming language.</p>\n\n<p>Every time I receive new data from the simulator, I pass it into the function <code>ProcessNGXData</code>:</p>\n\n<pre><code>PMDG_NGX_Data* previousData;\nbool alreadyProcessed = false;\n\nvoid ProcessNGXData(PMDG_NGX_Data *data)\n{\n    if (!alreadyProcessed || data-&gt;LTS_TaxiSw != previousData-&gt;LTS_TaxiSw) {\n        if (data-&gt;LTS_TaxiSw)\n            printf(\"Taxi Lights: [ON]\\n\");\n        else\n            printf(\"Taxi Lights: [OFF]\\n\");\n    }\n\n    if (!alreadyProcessed) {\n        alreadyProcessed = true;\n    }\n    previousData = data;\n}\n</code></pre>\n\n<p>In other programming languages, this would probably work fine, hence I tried to implement it like this. However, C++ pointers are a slight bit more complicated to me.</p>\n\n<p>The condition <code>data-&gt;LTS_TaxiSw != previousData-&gt;LTS_TaxiSw</code> never evaluates to <code>true</code>. From my understanding, that is because both <code>data</code> and <code>previousData</code> are pointers to exactly the same structure and thus can never be different.</p>\n\n<p>With my little knowledge and not much understanding of those pointers, how would I do this? Is there a way to copy the structure, so they can differ?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "qt", "user-interface", "qt5.4"], "answers": [{"owner": {"reputation": 3641, "user_id": 3399252, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GeTXQ.jpg?s=128&g=1", "display_name": "Bowdzone", "link": "https://stackoverflow.com/users/3399252/bowdzone"}, "is_accepted": true, "score": 1, "last_activity_date": 1427981733, "creation_date": 1427981733, "answer_id": 29414346, "question_id": 29401714, "link": "https://stackoverflow.com/questions/29401714/reset-clear-every-item-within-tabwidget-page/29414346#29414346", "title": "Reset / Clear every item within TabWidget Page", "body": "<p>All pages of a <code>QTabWidget</code> are of the type <code>QWidget</code> which is a <code>QObject</code>. The latter has the <a href=\"http://doc.qt.io/qt-5/qobject.html#children\" rel=\"nofollow\">function</a></p>\n\n<pre><code>const QObjectList &amp; QObject::children() const\n</code></pre>\n\n<p>so you can get all children, iterate over them and invoking the <code>clear()</code>. You should probably check <a href=\"http://doc.qt.io/qt-5/qobject.html#isWidgetType\" rel=\"nofollow\"><code>isWidgetType()</code></a> to make sure you only have widgets and probably also design this function recursively if you plan on having widgets with children of their own (i.e <code>QGroupBox</code>).</p>\n"}], "owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 29414346, "answer_count": 1, "score": 0, "last_activity_date": 1591771267, "creation_date": 1427926087, "last_edit_date": 1591771267, "question_id": 29401714, "link": "https://stackoverflow.com/questions/29401714/reset-clear-every-item-within-tabwidget-page", "title": "Reset / Clear every item within TabWidget Page", "body": "<p>Is it possible to reset / clear every <code>QTabWidgets</code> Pages Items?</p>\n\n<p>I have created the UI using the Designer.</p>\n\n<p>I would hate to statically code a clear mask function since we all now UIs can get quite complex and it would take quite the maintenance work for every item that gets added later on.</p>\n\n<p>If this is not possible I would also be okay with looping over each child item and invoking the <code>clear( )</code> function if someone could give me a hint as to how I can get the pointer / address of them.</p>\n"}, {"tags": ["c++", "memory", "memory-management", "vector"], "comments": [{"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 1, "creation_date": 1427926130, "post_id": 29401658, "comment_id": 46978982, "body": "If you know for sure it&#39;s not a memory leak, then the best approach is to reserve the vector with the maximum your program can reach."}, {"owner": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "edited": false, "score": 3, "creation_date": 1427926427, "post_id": 29401658, "comment_id": 46979076, "body": "It depends on the tool you&#39;re testing this with, but it might have to do with your application&#39;s allocations requesting a new memory page file (since not every allocation <b>really</b> changes the memory size of an application in terms of page files)."}, {"owner": {"reputation": 124, "user_id": 3942093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UxRz.jpg?s=128&g=1", "display_name": "Tabula Rasa", "link": "https://stackoverflow.com/users/3942093/tabula-rasa"}, "reply_to_user": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1427926474, "post_id": 29401658, "comment_id": 46979098, "body": "@Tony J My program doesn&#39;t need to have nearly this many elements in the vectors. I just had a moment of curiosity about memory management with vectors, so I threw this in randomly. What I&#39;m trying to understand is why it remains stable and then spikes, rather than steadily leaking."}, {"owner": {"reputation": 3694, "user_id": 3374591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24276eb856ed7cbcb5f02d6bacf29ca1?s=128&d=identicon&r=PG", "display_name": "Arnon Zilca", "link": "https://stackoverflow.com/users/3374591/arnon-zilca"}, "edited": false, "score": 2, "creation_date": 1427926624, "post_id": 29401658, "comment_id": 46979154, "body": "Again, i don&#39;t think it&#39;s necessarily the vectors&#39; fault (in your case it is, though not in general) but the overall process memory required that caused allocating a new page file for your application by the os."}, {"owner": {"reputation": 124, "user_id": 3942093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UxRz.jpg?s=128&g=1", "display_name": "Tabula Rasa", "link": "https://stackoverflow.com/users/3942093/tabula-rasa"}, "edited": false, "score": 0, "creation_date": 1427927139, "post_id": 29401658, "comment_id": 46979355, "body": "@ Amon Zilca: thanks, this seems like a good thing to look into. Do you happen to have any good resources handy (better than what a google search would turn up) on how that works?"}], "answers": [{"owner": {"reputation": 891, "user_id": 3896299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3660fe434b2c13e0d54e35643b3b32b?s=128&d=identicon&r=PG&f=1", "display_name": "Garland", "link": "https://stackoverflow.com/users/3896299/garland"}, "is_accepted": false, "score": 0, "last_activity_date": 1427927874, "creation_date": 1427927874, "answer_id": 29402068, "question_id": 29401658, "link": "https://stackoverflow.com/questions/29401658/sudden-memory-spike-at-700-000-vector-elements/29402068#29402068", "title": "Sudden memory spike at 700,000 vector elements", "body": "<h2>Vector Size and Capacity</h2>\n\n<p>For good performance by allocating more memory than ever needed.</p>\n\n<h2>size()</h2>\n\n<p>Returns the current number of elements</p>\n\n<h2>empty()</h2>\n\n<p>Returns whether the container is empty (equivalent to 0==size() but faster)</p>\n\n<h2>capacity()</h2>\n\n<p>Returns the maximum possible number of elements without reallocation</p>\n\n<h2>reserve(num)</h2>\n\n<p>Enlarges capacity, if not enough yet</p>\n\n<p>The capacity of a vector is important, because\nReallocation invalidates all references, pointers, and iterators for elements.\nReallocation takes time by moving all elements to new heap location.\nReallocation size increment depends on the actual vector implementation.</p>\n\n<p>Code example for using reserve(num):</p>\n\n<pre><code>std::vector&lt;int&gt;\u00a0v1;\u00a0\u00a0//\u00a0Create\u00a0an\u00a0empty\u00a0vector \u00a0\u00a0\u00a0\nv1.reserve(80);\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0Reserve\u00a0memory\u00a0for\u00a080\u00a0elements\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 2, "creation_date": 1427930072, "post_id": 29402084, "comment_id": 46980352, "body": "<code>new</code> <i>is</i> sort of slow but that\u2019s very much not the reason for this behaviour. What\u2019s asymptotically slower than <code>new</code> is the necessary copying of the elements from the old into the newly allocated buffer. The behaviour is required to guarantee the <i>asymptotic</i> runtime of vectors, not simply to improve the absolute runtime."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1427934476, "post_id": 29402084, "comment_id": 46981600, "body": "@KonradRudolph: Fixed."}], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": true, "score": 5, "last_activity_date": 1427934463, "last_edit_date": 1427934463, "creation_date": 1427927991, "answer_id": 29402084, "question_id": 29401658, "link": "https://stackoverflow.com/questions/29401658/sudden-memory-spike-at-700-000-vector-elements/29402084#29402084", "title": "Sudden memory spike at 700,000 vector elements", "body": "<p>When you add an element to an empty vector, it will allocate enough space via <code>new</code> for several elements.  Like 16 maybe.  It does this because resizing the array to a larger buffer is slow, so it allocates more than it needs.  If it allocates room for 16 elements, that means you can push back 15 more before it needs to bother with another call to <code>new</code>.  Each time it grows significantly more.  If you have 500 elements (and it's out of room) and you push back one more, it may allocate room for 750.  Or maybe even 1000.  Or 2000.  Plenty of room.  </p>\n\n<p>It turns out that when you (or the vector) call <code>new</code>, you get this from the program's memory manager.  If the program's memory manager doesn't have enough memory available, it will ask the operating system for a HUGE amount of memory, because operating system calls are themselves slow, and messing with page mappings is slow. So when <code>vector</code> asks for room for <code>200</code> bytes, the program's memory manager may <em>actually</em> grab like 65536 bytes, and then give the vector only 200 of that, and save the remaining 65336 bytes for the next call(s) to <code>new</code>.  Because of this, you (or vector) can call <code>new</code> many many times before you have to bother the operating system again, and things go quickly.</p>\n\n<p>But this has a side effect: The operating system can't actually tell how much memory your program is <em>really</em> using.  All it knows is that you allocated 65536 from it, so it reports that.  As you push back elements in the vector, <em>eventually</em> the vector runs out of capacity, and asks more from the program's memory manager.  And as it does that more and more, and the operating system reports the same memory usage, because it can't see. <em>Eventually</em> the memory manager runs out of capacity, and asks for more from the operating system.  The operating system allocates another huge block (65536? 131072?) and you see a sudden large spike in memory usage.</p>\n\n<p>The vector size at which this happens isn't set, it depends on what else has also been allocated, and <em>what order they were allocated and deallocated</em>.  Even the things that you <code>delete</code>d still affect things, it's pretty darn complicated.  Also, the rate at which vector grows depending on your library implementation, and the amount of memory the program's memory manager grabs from the OS also varies depending on factors even I don't know about.</p>\n\n<p>I have no idea why the GPU's memory would spike, it depends on what you were doing with your program.  But note that there is less GPU memory total, it's entirely possible it grew by a <em>smaller</em> amount than \"private bytes\".</p>\n"}, {"owner": {"reputation": 6009, "user_id": 3313438, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Ks9C6.jpg?s=128&g=1", "display_name": "Ziezi", "link": "https://stackoverflow.com/users/3313438/ziezi"}, "is_accepted": false, "score": 1, "last_activity_date": 1427930979, "last_edit_date": 1427930979, "creation_date": 1427929702, "answer_id": 29402391, "question_id": 29401658, "link": "https://stackoverflow.com/questions/29401658/sudden-memory-spike-at-700-000-vector-elements/29402391#29402391", "title": "Sudden memory spike at 700,000 vector elements", "body": "<p>Vectors use a dynamically allocated array to store their elements.This array may need to be reallocated <strong>in order to grow in size when new elements are inserted, which implies allocating a new array and moving all elements to it. This is a relatively expensive task</strong> in terms of processing time, and thus, vectors do not reallocate each time an element is added to the container. Instead, vector containers may allocate some extra storage to accommodate for possible growth, and <strong>thus the container may have an actual capacity greater than the storage strictly needed to contain its elements (i.e., its size)</strong>. <em>This explains your plateaus.</em> The capacity enlargement is done by doubling the current one. It may be the case that after a finite number of doubling, its quadrupling the capacity. <em>Which will explain your spike.</em>    </p>\n"}], "owner": {"reputation": 124, "user_id": 3942093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UxRz.jpg?s=128&g=1", "display_name": "Tabula Rasa", "link": "https://stackoverflow.com/users/3942093/tabula-rasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 2, "accepted_answer_id": 29402084, "answer_count": 3, "score": 4, "last_activity_date": 1427934463, "creation_date": 1427925865, "last_edit_date": 1427927054, "question_id": 29401658, "link": "https://stackoverflow.com/questions/29401658/sudden-memory-spike-at-700-000-vector-elements", "title": "Sudden memory spike at 700,000 vector elements", "body": "<p>So I was running a memory usage test in my program where I was adding 20 elements each to two separate vectors each frame (~60fps). I expected that at some point I would start seeing a memory leak, but instead memory usage remained constant until a certain critical point. Around 700,000 elements total it spiked and then leveled off again at the new plateau.</p>\n\n<p>I have a feeling this has something to do with the allocation of the vectors being automatically increased at that point, but I'm not sure and can't find anything online. It also wouldn't really explain why so much extra memory was allocated at that point (Private Bytes on the CPU jumped from ~800 to ~900, and System GPU Memory jumped from ~20 to ~140). Here are the Process Explorer graphs for both CPU and GPU:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pzaXO.png\" alt=\"enter image description here\"></p>\n\n<p>Note: the dips in both CPU and GPU usage are from me pausing the program after seeing the spike.</p>\n\n<p>Can anyone explain this to me?</p>\n\n<p>Edit: Here's a simpler, more general test:</p>\n\n<p><img src=\"https://i.stack.imgur.com/svORC.png\" alt=\"enter image description here\"></p>\n\n<p>The total usage is obviously a lot lower, but same idea.</p>\n"}, {"tags": ["c++", "visual-studio-2012", "visual-studio-2008"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1427927297, "post_id": 29401568, "comment_id": 46979414, "body": "<code>&#47;&#47; 1998 Microsoft Systems Journal</code>  Why are you using a 17 year old header file?  Second, if you leave the version info out of your DLL, you won&#39;t be able to know what version your DLL is when you use the various Windows tools and utilities."}, {"owner": {"reputation": 37, "user_id": 2595328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBva3.jpg?s=128&g=1", "display_name": "MTH", "link": "https://stackoverflow.com/users/2595328/mth"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1427976200, "post_id": 29401568, "comment_id": 46997758, "body": "&quot;Why are you using a 17 year old header file?&quot;  Because that is what I was  given.  Sad thing is, there are some that are older.  I have yet to write one line of code in this project.  At some point, all these applications will have to be re-written. My job is to perform maintenance until then."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2595328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBva3.jpg?s=128&g=1", "display_name": "MTH", "link": "https://stackoverflow.com/users/2595328/mth"}, "edited": false, "score": 0, "creation_date": 1427999051, "post_id": 29402621, "comment_id": 47011503, "body": "That did it!!  Thank you very much!"}], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1427930956, "creation_date": 1427930956, "answer_id": 29402621, "question_id": 29401568, "link": "https://stackoverflow.com/questions/29401568/dllversioninfo-compile-error-after-updating-project-to-vs2012-from-vs2008/29402621#29402621", "title": "&#39;DLLVERSIONINFO&#39; Compile error after updating project to VS2012 from VS2008", "body": "<p>Obviously, Microsoft added their own declaration of <code>DLLVERSIONINFO</code> (in shlwapi.h) sometime between VS2008 and VS2012.  You should not be declaring it manually anymore, just use <code>#include &lt;shlwapi.h&gt;</code> instead.</p>\n\n<p>Either way, <code>#ifndef DLLVERSIONINFO</code> would never have worked, as <code>DLLVERSIONINFO</code> is not declared using a <code>#define</code> statement.  If you want to conditionally define <code>DLLVERSIONINFO</code> based on compiler version, use <code>_MSC_VER</code> instead, eg:</p>\n\n<pre><code>#if _MSC_VER &gt;= 1700 // 1700 == VS2012\n#include &lt;shlwapi.h&gt;\n#else\n// following is from shlwapi.h, in November 1997 release of the Windows SDK\n\ntypedef struct _DllVersionInfo\n{\n    DWORD cbSize;\n    DWORD dwMajorVersion;                   // Major version\n    DWORD dwMinorVersion;                   // Minor version\n    DWORD dwBuildNumber;                    // Build number\n    DWORD dwPlatformID;                     // DLLVER_PLATFORM_*\n} DLLVERSIONINFO;\n\n// Platform IDs for DLLVERSIONINFO\n#define DLLVER_PLATFORM_WINDOWS         0x00000001      // Windows 95\n#define DLLVER_PLATFORM_NT              0x00000002      // Windows NT\n\n#endif // _MSC_VER\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 2595328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBva3.jpg?s=128&g=1", "display_name": "MTH", "link": "https://stackoverflow.com/users/2595328/mth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 29402621, "answer_count": 1, "score": 0, "last_activity_date": 1427930956, "creation_date": 1427925463, "question_id": 29401568, "link": "https://stackoverflow.com/questions/29401568/dllversioninfo-compile-error-after-updating-project-to-vs2012-from-vs2008", "title": "&#39;DLLVERSIONINFO&#39; Compile error after updating project to VS2012 from VS2008", "body": "<p>I have a very old C++ application that over the years, and before my time, the source code has been migrated many times.  It now builds and compiles under VS2008.  I decided to migrate to VS2012, after doing so, I now receive the following compiler error:  error C2371: 'DLLVERSIONINFO' : redefinition; different basic types</p>\n\n<p>I have not changed one single line of code.  I simply updated the project from VS2008 to VS2012.  </p>\n\n<p>After visiting <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb773263%28v=vs.85%29.aspx\" rel=\"nofollow\">MSDN</a>, and playing around a little bit, I commented out the last part of the struct \u201cDLLVERSIONINFO\u201d at the very end of the _DllVersionInfo  struct.</p>\n\n<p>Now the project compiles and run!!!  </p>\n\n<p>My questions are as follows:\n1)  Does that mean that Microsoft changed the way this struct works in VS2012?\n2)  What sort of problems could I possibly run into if I leave the commented section out for good? </p>\n\n<p>Source code below.</p>\n\n<pre><code>// 1998 Microsoft Systems Journal\n//\n// If this code works, it was written by Paul DiLascia.\n// If not, I don't know who wrote it.\n// http://www.microsoft.com/msj/0498/c0498.aspx\n\n#ifndef __MODULEVER_H\n#define __MODULEVER_H\n\n// tell linker to link with version.lib for VerQueryValue, etc.\n#pragma comment(linker, \"/defaultlib:version.lib\")\n\n#ifndef DLLVERSIONINFO\n// following is from shlwapi.h, in November 1997 release of the Windows SDK\n\ntypedef struct _DllVersionInfo\n{\n    DWORD cbSize;\n    DWORD dwMajorVersion;                   // Major version\n    DWORD dwMinorVersion;                   // Minor version\n    DWORD dwBuildNumber;                    // Build number\n    DWORD dwPlatformID;                     // DLLVER_PLATFORM_*\n} /*DLLVERSIONINFO*/; // commented out this part\n\n// Platform IDs for DLLVERSIONINFO\n#define DLLVER_PLATFORM_WINDOWS         0x00000001      // Windows 95\n#define DLLVER_PLATFORM_NT              0x00000002      // Windows NT\n\n#endif // DLLVERSIONINFO\n\n// value must pair with static LPCTSTR Keys[]  in method CString\n//  CMainVersion::GetFile_VS_VERSION_INFO(...)\ntypedef  enum  {\n    eCompanyName = 0,\n    eFileDescription = 1,\n    eFileVersion = 2,\n    eInternalName = 3,\n    eLegalCopyright = 4,\n    eOriginalFilename = 5,\n    eProductName = 6,\n    eProductVersion = 7,\n    eAllInfo = 8\n} E_VS_VERSION_INFO;\n\nclass CModuleVersion : public VS_FIXEDFILEINFO \n{\nprotected:\n BYTE* m_pVersionInfo;  // all version info\n\n struct TRANSLATION {\n    WORD langID;            // language ID\n    WORD charset;           // character set (code page)\n} m_translation;\n\npublic:\n CModuleVersion();\n virtual ~CModuleVersion();\n static CString GetModuleVersion();\n static CString GetModuleHistory();\n\n BOOL  GetFileVersionInfo(LPCTSTR modulename);\n CString    GetValue(LPCTSTR lpKeyName);\n static BOOL DllGetVersion(LPCTSTR modulename, DLLVERSIONINFO&amp; dvi);\n};\n\nclass CMainVersion \n{\npublic:\n CMainVersion();\n virtual ~CMainVersion();\n\nstatic CString GetFileVersion(const CString &amp; csModuleName);\nstatic CString GetFile_VS_VERSION_INFO(const CString &amp; csModuleName,\nE_VS_VERSION_INFO eInfo);\nstatic CString GetFileAndDllVersion(const CString &amp; csModuleName);\nstatic CString GetAllVersions();\n};\n#endif\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 1, "creation_date": 1427925479, "post_id": 29401554, "comment_id": 46978730, "body": "See <a href=\"http://en.cppreference.com/w/cpp/header/string\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/header/string</a> for a list of things that <code>&lt;string&gt;</code> contains. Also, make a bookmark of that website in case you want to look up similar things later."}], "answers": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": true, "score": 0, "last_activity_date": 1427925565, "creation_date": 1427925565, "answer_id": 29401593, "question_id": 29401554, "link": "https://stackoverflow.com/questions/29401554/when-do-i-use-includestring/29401593#29401593", "title": "When do I use #include&lt;string&gt;?", "body": "<p>Include it whenever you need something from that header. <a href=\"http://en.cppreference.com/w/cpp/header/string\" rel=\"nofollow\">Here</a> you can find a list of things that you need to <code>#include &lt;string&gt;</code> for.</p>\n"}], "owner": {"reputation": 1, "user_id": 4740143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhWi0.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4740143/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29401593, "answer_count": 1, "score": -4, "last_activity_date": 1427925565, "creation_date": 1427925392, "question_id": 29401554, "link": "https://stackoverflow.com/questions/29401554/when-do-i-use-includestring", "title": "When do I use #include&lt;string&gt;?", "body": "<p>I know that we use  <code>#include&lt;iostream&gt;</code> for cout function.\nHowever, I'm curious when we need to use <code>#include&lt;string&gt;</code>.\nIm a student taking C++ class.\nThanks.</p>\n"}, {"tags": ["c++", "floating-point", "c-standard-library"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 4, "creation_date": 1427924594, "post_id": 29401361, "comment_id": 46978362, "body": "because abs() has an <code>int</code> return type? if you want to deal with floats, then there&#39;s <code>fabs()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1427924691, "post_id": 29401361, "comment_id": 46978395, "body": "@MarcB That&#39;s available as <code>abs</code> in C++ too. <a href=\"http://en.cppreference.com/w/cpp/numeric/math/fabs\" rel=\"nofollow noreferrer\">Reference</a>. Just make sure to include <code>&lt;cmath&gt;</code>."}, {"owner": {"reputation": 16838, "user_id": 491645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0Zoi.png?s=128&g=1", "display_name": "Mikael Persson", "link": "https://stackoverflow.com/users/491645/mikael-persson"}, "edited": false, "score": 0, "creation_date": 1427928222, "post_id": 29401361, "comment_id": 46979773, "body": "And in C++, all standard library components are in the <code>std</code> namespace, even the C functions (which are sometimes also provided in the C forms (e.g., without overloading) in the global namespace, but this is not mandatory, and some platforms don&#39;t provide it). So, you should use <code>std::abs</code> (or <code>std::fabs</code>), or through a <code>using std::abs;</code> statement followed by just <code>abs</code>. That&#39;s the standard-compliant way to use C functions in C++."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 16838, "user_id": 491645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0Zoi.png?s=128&g=1", "display_name": "Mikael Persson", "link": "https://stackoverflow.com/users/491645/mikael-persson"}, "edited": false, "score": 0, "creation_date": 1427988979, "post_id": 29401361, "comment_id": 47005876, "body": "@MikaelPersson That&#39;s incorrect. The C++ standard requires <code>&lt;math.h&gt;</code> to provide those same overloads in the global namespace. Commonly used implementations fail to conform to the standard, true, but that doesn&#39;t change what is and isn&#39;t standard."}, {"owner": {"reputation": 16838, "user_id": 491645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0Zoi.png?s=128&g=1", "display_name": "Mikael Persson", "link": "https://stackoverflow.com/users/491645/mikael-persson"}, "edited": false, "score": 0, "creation_date": 1427995222, "post_id": 29401361, "comment_id": 47009429, "body": "@hvd That&#39;s a deprecated requirement (see Annex D of C++11 standard). I generally never recommend using any deprecated features, even if it is strictly-speaking still standard-compliant to use them. The general recommendation is to always use <code>&lt;cname&gt;</code> instead of <code>&lt;name.h&gt;</code>, and when you do so, things are only required to appear in the <code>std</code> namespace (although some implementations pull them into global namespace too). As far as I&#39;m concerned, those are the rules to follow. Don&#39;t use deprecated features in <i>new code</i>, they are there to keep old code from breaking."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1427996775, "post_id": 29401361, "comment_id": 47010328, "body": "@MikaelPerrson For recommendations that&#39;s fine, but for talk of compliance it&#39;s important to remember that deprecated features are still part of the language. Support for <code>&lt;math.h&gt;</code> is mandatory."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 16838, "user_id": 491645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0Zoi.png?s=128&g=1", "display_name": "Mikael Persson", "link": "https://stackoverflow.com/users/491645/mikael-persson"}, "edited": false, "score": 0, "creation_date": 1428002141, "post_id": 29401361, "comment_id": 47013148, "body": "@MikaelPersson (Apologies for misspelling your name earlier.) BTW, I don&#39;t know if it&#39;s interesting to you, but it&#39;s taken a very long time for the committee to decide what they want it to mean when they deprecate something. It&#39;s been decided after years to define a deprecated feature as &quot;having been identified as a candidate for removal from future revisions&quot;, but by that definition, there is a chance that if it were brought up, C headers would become undeprecated. They&#39;re not recommended, but to the best of my knowledge, there&#39;s not even any hint that they&#39;re going to go away."}], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 1350864, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/297721694e3e0d742c9789a01ebbbe37?s=128&d=identicon&r=PG", "display_name": "andrepd", "link": "https://stackoverflow.com/users/1350864/andrepd"}, "edited": false, "score": 0, "creation_date": 1427931642, "post_id": 29401392, "comment_id": 46980854, "body": "I did include cmath. Shouldn&#39;t it recognise that I&#39;m calling with a double as an argument and choose accordingly."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 487, "user_id": 1350864, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/297721694e3e0d742c9789a01ebbbe37?s=128&d=identicon&r=PG", "display_name": "andrepd", "link": "https://stackoverflow.com/users/1350864/andrepd"}, "edited": false, "score": 0, "creation_date": 1427932686, "post_id": 29401392, "comment_id": 46981128, "body": "@andrepd It should. Try <code>std::abs</code>."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1427963495, "post_id": 29401392, "comment_id": 46990624, "body": "He cannot be using one of the integral overloads of abs, because for that to be true he had to <code>#include</code> some prototype for them, as in C++ it is <b>mandatory</b> to declare/define a function before use.  On other side, he has used a <code>double</code> as argument, so he need at least a function with double argument to match that (or to include a <code>extern &quot;C&quot;</code> variant --C++ disables overloading for these)."}], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 8, "last_activity_date": 1427924647, "creation_date": 1427924647, "answer_id": 29401392, "question_id": 29401361, "link": "https://stackoverflow.com/questions/29401361/why-does-the-abs-of-this-positive-double-equal-zero/29401392#29401392", "title": "Why does the abs of this positive double equal zero?", "body": "<p>You're probably calling one of the <a href=\"http://en.cppreference.com/w/cpp/numeric/math/abs\">integral overloads</a> of <code>abs</code>, defined in <code>&lt;stdlib.h&gt;</code> or <code>&lt;cstdlib&gt;</code>, so your argument is being truncated.</p>\n\n<p>You should <code>#include &lt;cmath&gt;</code> to pick up the <a href=\"http://en.cppreference.com/w/cpp/numeric/math/fabs\">floating point overloads.</a></p>\n"}], "owner": {"reputation": 487, "user_id": 1350864, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/297721694e3e0d742c9789a01ebbbe37?s=128&d=identicon&r=PG", "display_name": "andrepd", "link": "https://stackoverflow.com/users/1350864/andrepd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427924647, "creation_date": 1427924490, "question_id": 29401361, "link": "https://stackoverflow.com/questions/29401361/why-does-the-abs-of-this-positive-double-equal-zero", "title": "Why does the abs of this positive double equal zero?", "body": "<p>I have a function working on a <code>vector &lt;vector &lt;double&gt; &gt;</code>. At some point I want to use the absolute value of an element in a comparison, and I was getting wrong behaviour, so I put in the following debug line:</p>\n\n<pre><code>std::cout &lt;&lt; M[3][2] &lt;&lt; \" \" &lt;&lt; abs(M[3][2]) &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>And the output, surprisingly, is:</p>\n\n<pre><code>0.667 0\n</code></pre>\n\n<p>Why is this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427924012, "post_id": 29401226, "comment_id": 46978134, "body": "The second example is swapping values."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 5, "creation_date": 1427924115, "post_id": 29401226, "comment_id": 46978188, "body": "Your program prints an error if the numbers are entered in the wrong order. The answers at the other sites swap them to get them into the right order."}, {"owner": {"reputation": 258, "user_id": 3099345, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662be73d766ce241f690ff4b1644422b?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/3099345/xyz"}, "edited": false, "score": 0, "creation_date": 1427924332, "post_id": 29401226, "comment_id": 46978271, "body": "Oh alright. After running the program I was able to see that. Thank you. I just wasn&#39;t sure if my answer was considered &quot;wrong&quot; within the context of the exercise."}], "answers": [{"owner": {"reputation": 2946, "user_id": 1488118, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/74638bb1fe3873f2c5d1d31ac6cdafe2?s=128&d=identicon&r=PG", "display_name": "bweber", "link": "https://stackoverflow.com/users/1488118/bweber"}, "is_accepted": false, "score": 1, "last_activity_date": 1427924356, "creation_date": 1427924356, "answer_id": 29401331, "question_id": 29401226, "link": "https://stackoverflow.com/questions/29401226/misunderstanding-c-primer-5th-edition-exercise-1-19-the-if-statement/29401331#29401331", "title": "Misunderstanding C++ Primer 5th Edition Exercise 1.19 &quot;The If Statement&quot;?", "body": "<p>I guess in the task should be \"if the first number is greater than the second\" since the other case is already handled in your code whereas this one just prints an error message.</p>\n\n<p>In the example they just swap the values if the first one is greater than the second one.</p>\n"}, {"owner": {"reputation": 79428, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "is_accepted": true, "score": 2, "last_activity_date": 1427925140, "last_edit_date": 1592644375, "creation_date": 1427925140, "answer_id": 29401495, "question_id": 29401226, "link": "https://stackoverflow.com/questions/29401226/misunderstanding-c-primer-5th-edition-exercise-1-19-the-if-statement/29401495#29401495", "title": "Misunderstanding C++ Primer 5th Edition Exercise 1.19 &quot;The If Statement&quot;?", "body": "<p>The exercise that is being revised reads:</p>\n<blockquote>\n<p>Write a program that prompts the user for two integers. Print each number in the range specified by those two integers.</p>\n</blockquote>\n<p>When exercise 1.19 asks you to change the program so that it &quot;handles&quot; input where the first number is smaller, what it means is that the program should still print each number in the range. I also think the exercise is assuming that your earlier version of the program only works if the first number is greater to or equal than the second number.</p>\n<hr />\n<p>In other words, you need to write a program where the output is the same for both of the following inputs:</p>\n<blockquote>\n<p>input: 5 10<br />\noutput: 5 6 7 8 9 10</p>\n<p>input: 10 5<br />\noutput: 5 6 7 8 9 10</p>\n</blockquote>\n<p>The example solution you show is achieving this by checking that the input numbers are in a certain order, and if they're not, then it swaps them. This ensures that the two values are in the order expected by the rest of the program.</p>\n"}], "owner": {"reputation": 258, "user_id": 3099345, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662be73d766ce241f690ff4b1644422b?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/3099345/xyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 29401495, "answer_count": 2, "score": 0, "last_activity_date": 1427925140, "creation_date": 1427923894, "question_id": 29401226, "link": "https://stackoverflow.com/questions/29401226/misunderstanding-c-primer-5th-edition-exercise-1-19-the-if-statement", "title": "Misunderstanding C++ Primer 5th Edition Exercise 1.19 &quot;The If Statement&quot;?", "body": "<p>everyone. In exercise 1.19 of C++ Primer 5th Edition, it says to </p>\n\n<pre><code>Revise the program you wrote for the exercises in 1.4.1 (p.\n13) that printed a range of numbers so that it handles input in which the first\nnumber is smaller than the second\n</code></pre>\n\n<p>My code seems to meet the requirements when it is run:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    std::cout &lt;&lt; \"Enter two numbers: \" &lt;&lt; std::endl;\n    int v1 = 0, v2 = 0;\n    std::cin &gt;&gt; v1 &gt;&gt; v2;\n    if (v1 &lt; v2) {\n        while (v1 &lt;= v2) {\n            std::cout &lt;&lt; v1 &lt;&lt; std::endl;\n            ++v1;\n            }\n        }\n    else {\n        std::cout &lt;&lt; \"First number is bigger.\" &lt;&lt; std::endl;\n        }\n    return 0;\n}\n</code></pre>\n\n<p>Yet when I check two different sites to check my answers, they both have a different statement in the if statement:</p>\n\n<pre><code>// Print each number in the range specified by two integers.\n\n#include &lt;iostream&gt;\n\nint main()\n{\n        int val_small = 0, val_big = 0;\n        std::cout &lt;&lt; \"please input two integers:\";\n        std::cin &gt;&gt; val_small &gt;&gt; val_big;\n\n        if (val_small &gt; val_big)\n        {\n                int tmp = val_small;\n                val_small = val_big;\n                val_big = tmp;\n        }\n\n        while (val_small &lt;= val_big)\n        {\n                std::cout &lt;&lt; val_small &lt;&lt; std::endl;\n                ++val_small;\n        }\n\n        return 0;\n}\n</code></pre>\n\n<p>Both answers seem to have a temp int variable, and I am not sure how or why it is more correct for the problem.</p>\n"}, {"tags": ["c++", "inheritance", "architecture", "embedded", "real-time"], "comments": [{"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 2, "creation_date": 1427924290, "post_id": 29401138, "comment_id": 46978252, "body": "Regarding (E) you can use explicit instantiation, and so you can leave only declarations in the headers."}, {"owner": {"reputation": 3170, "user_id": 1004211, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/490a33dc2429cbd669bd4471d7aedc1d?s=128&d=identicon&r=PG", "display_name": "Prismatic", "link": "https://stackoverflow.com/users/1004211/prismatic"}, "edited": false, "score": 1, "creation_date": 1427924516, "post_id": 29401138, "comment_id": 46978331, "body": "I think your reasons for dismissing B and E (policy one) are a little biased against templates. You can&#39;t always have crystal clear simple code that compiles super fast. B and E both seem like maintainable and valid solutions."}, {"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "reply_to_user": {"reputation": 3170, "user_id": 1004211, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/490a33dc2429cbd669bd4471d7aedc1d?s=128&d=identicon&r=PG", "display_name": "Prismatic", "link": "https://stackoverflow.com/users/1004211/prismatic"}, "edited": false, "score": 0, "creation_date": 1428093504, "post_id": 29401138, "comment_id": 47047405, "body": "@Pris: I&#39;m actually quite biased <i>towards</i> the template solutions, I just didn&#39;t want the question to be biased, in the hope to get some fresh input and open feedback."}], "answers": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": false, "score": 8, "last_activity_date": 1427924739, "last_edit_date": 1427924739, "creation_date": 1427924312, "answer_id": 29401318, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29401318#29401318", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>I'd go for A. Until it's PROVEN that this is not good enough, go for the same decisions as for desktop (well, of course, allocating several kilobytes on the stack, or using global variables that are many megabytes large may be \"obvious\" that it's not going to work). Yes, there is SOME overhead in calling virtual functions, but I would go for the most obvious and natural C++ solution FIRST, then redesign if it's not \"good enough\" (obviously, try to determine performance and such early on, and use tools like a sampling profiler to determine where you are spending time, rather than \"guessing\" - humans are proven pretty poor guessers).</p>\n\n<p>I'd then move to option B if A is proven to not work. This is indeed not entirely obvious, but it is, roughly, how LLVM/Clang solves this problem for combinations of hardware and OS, see:\n<a href=\"https://github.com/llvm-mirror/clang/blob/master/lib/Basic/Targets.cpp\">https://github.com/llvm-mirror/clang/blob/master/lib/Basic/Targets.cpp</a></p>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428137983, "post_id": 29443014, "comment_id": 47056568, "body": "This might work, although I&#39;m afraid that I would have to pass around a lot of template arguments if I decide to split up <code>&lt;typename Hardware&gt;</code> into orthogonal aspects such as <code>&lt;typename Processor, typename Physical_Link, typename FPGA&gt;</code> and pass them down the whole hierarchy. The second last proposal (<code>Sub</code> inheriting from <code>Hardware</code>) I don&#39;t really see though, as I would definitely have more than one class per layer and inheriting from all of them would be strange. (That aspect is maybe not very clear from the question, sorry)"}, {"owner": {"reputation": 1761, "user_id": 1279096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6acf6fe2953e58561810880a270ab64f?s=128&d=identicon&r=PG", "display_name": "Dalzhim", "link": "https://stackoverflow.com/users/1279096/dalzhim"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428170767, "post_id": 29443014, "comment_id": 47065514, "body": "To address your concern, you can also split up the HardwareLayer class into multiple base classes the following way : <code>template typename&lt;Hardware&gt; class HardwareLayer : public Physical_Link&lt;Hardware&gt;, public Processor&lt;Hardware&gt;, public FPGA&lt;Hardware&gt;</code>."}, {"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 1, "creation_date": 1428694409, "post_id": 29443014, "comment_id": 47288052, "body": "With quite some viable yet controversial solutions beijing proposed, it&#39;s hard for me to award the bounty... However, I decided for this answer, because it is valid and shows some actual code."}], "owner": {"reputation": 1761, "user_id": 1279096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6acf6fe2953e58561810880a270ab64f?s=128&d=identicon&r=PG", "display_name": "Dalzhim", "link": "https://stackoverflow.com/users/1279096/dalzhim"}, "is_accepted": false, "score": 3, "last_activity_date": 1428124598, "creation_date": 1428124598, "answer_id": 29443014, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29443014#29443014", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>I understand that you have two important requirements :</p>\n\n<ol>\n<li>Data types are known at compile time</li>\n<li>Program-flow is known at compile time</li>\n</ol>\n\n<p>The CRTP wouldn't really address the problem you are trying to solve as it would allow the <code>HardwareLayer</code> to call methods on the <code>Sub_generic</code>, <code>Middle_generic</code> or <code>TopLevel</code> and I don't believe it is what you are looking for.</p>\n\n<p>Both of your requirements can be met using the <a href=\"http://en.wikipedia.org/wiki/Trait_%28computer_programming%29\" rel=\"nofollow\">Trait pattern</a> (<a href=\"http://www.bogotobogo.com/cplusplus/template_specialization_traits.php\" rel=\"nofollow\">another reference</a>). Here is an example proving both requirements are met. First, we define empty shells representing two Hardwares you might want to support.</p>\n\n<pre><code>class Hardware_A {};\nclass Hardware_B {};\n</code></pre>\n\n<p>Then let's consider a class that describes a general case which corresponds to <code>Hardware_A</code>.</p>\n\n<pre><code>template &lt;typename Hardware&gt;\nclass HardwareLayer\n{\npublic:\n    typedef long int64_t;\n\n    static int64_t getCPUSerialNumber() {return 0;}\n};\n</code></pre>\n\n<p>Now let's see a specialization for Hardware_B :</p>\n\n<pre><code>template &lt;&gt;\nclass HardwareLayer&lt;Hardware_B&gt;\n{\npublic:\n    typedef int int64_t;\n\n    static int64_t getCPUSerialNumber() {return 1;}\n};\n</code></pre>\n\n<p>Now, here is a usage example within the Sub_generic layer :</p>\n\n<pre><code>template &lt;typename Hardware&gt;\nclass Sub_generic\n{\npublic:\n    typedef HardwareLayer&lt;Hardware&gt; HwLayer;\n    typedef typename HwLayer::int64_t int64_t;\n\n    int64_t doSomething() {return HwLayer::getCPUSerialNumber();}\n};\n</code></pre>\n\n<p>And finally, a short main that executes both code paths and use both data types :</p>\n\n<pre><code>int main(int argc, const char * argv[]) {\n    std::cout &lt;&lt; \"Hardware_A : \" &lt;&lt; Sub_generic&lt;Hardware_A&gt;().doSomething() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Hardware_B : \" &lt;&lt; Sub_generic&lt;Hardware_B&gt;().doSomething() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Now if your HardwareLayer needs to maintain state, here is another way to implement the HardLayer and Sub_generic layer classes.</p>\n\n<pre><code>template &lt;typename Hardware&gt;\nclass HardwareLayer\n{\npublic:\n    typedef long hwint64_t;\n\n    hwint64_t getCPUSerialNumber() {return mySerial;}\n\nprivate:\n    hwint64_t mySerial = 0;\n};\n\ntemplate &lt;&gt;\nclass HardwareLayer&lt;Hardware_B&gt;\n{\npublic:\n    typedef int hwint64_t;\n\n    hwint64_t getCPUSerialNumber() {return mySerial;}\n\nprivate:\n    hwint64_t mySerial = 1;\n};\n\ntemplate &lt;typename Hardware&gt;\nclass Sub_generic : public HardwareLayer&lt;Hardware&gt;\n{\npublic:\n    typedef HardwareLayer&lt;Hardware&gt; HwLayer;\n    typedef typename HwLayer::hwint64_t hwint64_t;\n\n    hwint64_t doSomething() {return HwLayer::getCPUSerialNumber();}\n};\n</code></pre>\n\n<p>And here is a last variant where only the Sub_generic implementation changes :</p>\n\n<pre><code>template &lt;typename Hardware&gt;\nclass Sub_generic\n{\npublic:\n    typedef HardwareLayer&lt;Hardware&gt; HwLayer;\n    typedef typename HwLayer::hwint64_t hwint64_t;\n\n    hwint64_t doSomething() {return hw.getCPUSerialNumber();}\n\nprivate:\n    HwLayer hw;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428508795, "post_id": 29514874, "comment_id": 47194277, "body": "Well, we are explicitly migrating from C to C++ and even if we just use a small subset of its features, that is justified in my opinion. However, this particular question is one where I&#39;m not completely sure yet how to leverage it best. What do you mean with &quot;PID, VID, SN&quot; by the way?"}, {"owner": {"reputation": 4683, "user_id": 2978901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f4c47814ee6a385d2cf6447d75ac1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Pandrei", "link": "https://stackoverflow.com/users/2978901/pandrei"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428568156, "post_id": 29514874, "comment_id": 47220007, "body": "Product ID, Vendor ID, Serial Number; basically anything that would allow to uniquely identify a device family or device (if you need to differentiate between identical devices)."}], "owner": {"reputation": 4683, "user_id": 2978901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f4c47814ee6a385d2cf6447d75ac1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Pandrei", "link": "https://stackoverflow.com/users/2978901/pandrei"}, "is_accepted": false, "score": 2, "last_activity_date": 1431086534, "last_edit_date": 1431086534, "creation_date": 1428496729, "answer_id": 29514874, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29514874#29514874", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>Since this is for a hard real time embedded system, usually you would    go for a C type of solution not c++. </p>\n\n<p>With modern compilers I'd say that the overhead of c++ is not that great, so it's not entirely a matter of performance, but embedded systems tend to prefer c instead of c++.\nWhat you are trying to build would resemble a classic device drivers library (like the one for ftdi chips). </p>\n\n<p>The approach there would be (since it's written in C) something similar to your F, but with no compile time options - you would specialize the code, at runtime, based on somethig like PID, VID, SN, etc...</p>\n\n<p>Now if you what to use c++ for this, templates should probably be your last option (code readability usually ranks higher than any advantage templates bring to the table). So you would probably go for something similar to A: a basic class inheritance scheme, but no particularly fancy design pattern is required. </p>\n\n<p>Hope this helps...</p>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428508480, "post_id": 29516471, "comment_id": 47194073, "body": "This is similar to what I suggested as <code>(C)</code>, right? This could indeed be a lightwight solution, I&#39;m just a bit afraid when it comes to things like tests that would include source from multiple products or IDE support (how does it know which files to in-/exclude?)"}, {"owner": {"reputation": 75, "user_id": 1028074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4da388b4be5762bcd16e792310ecb4?s=128&d=identicon&r=PG", "display_name": "Hashtag", "link": "https://stackoverflow.com/users/1028074/hashtag"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428538325, "post_id": 29516471, "comment_id": 47209202, "body": "That&#39;s a good question. My personal experience has generally been to use this approach with multiple <i>very</i> different platforms that required different IDE&#39;s and compilers. (For example, one case would be a visual studio build targeted at x86 Windows, the other being a gcc build targeted at some ARM embedded device). So for the gcc build I would build everything under hardware2/src/*.cpp, and for visual studio I would build everything under hardware1/src/*.cpp."}, {"owner": {"reputation": 75, "user_id": 1028074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4da388b4be5762bcd16e792310ecb4?s=128&d=identicon&r=PG", "display_name": "Hashtag", "link": "https://stackoverflow.com/users/1028074/hashtag"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428538588, "post_id": 29516471, "comment_id": 47209261, "body": "As far as tests go.. I usually have two sets of tests. Tests that are generic enough that they could sit with the application code (like serial loop-back or something). Then another set of tests that were directed at that specific hardware and would sit in the hardware code.  Or are you referring more to unit testing of the code itself? That is close to impossible when you get close enough to the hardware as I would think everything in hardware.cpp is going to be speaking directly to hardware or to some OS function that might be hard to virtualize. (I don&#39;t know what your code is though)"}, {"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428693776, "post_id": 29516471, "comment_id": 47287746, "body": "Well, I was just trying to play devils advocat and find a situation where this leads to problems. And one such case could be an integration test or a simulation that instantiates all the possible combinations at once. But of course such a test could also just be split up into different targets. We are using the same CPU-board for all products, only the machine being controlled is different."}, {"owner": {"reputation": 75, "user_id": 1028074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4da388b4be5762bcd16e792310ecb4?s=128&d=identicon&r=PG", "display_name": "Hashtag", "link": "https://stackoverflow.com/users/1028074/hashtag"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428699023, "post_id": 29516471, "comment_id": 47290309, "body": "Oh, I was confused about what the code was doing. I was assuming this was OS/BSP related stuff. If this is an interface to how equipment it is controlling works (not the hardware of the board you are running on) I would not recommend my solution. I like the train of thought you originally had. Especially since if you find out that space isn&#39;t as much of an issue you may at some point find out you want it settable at runtime (or factory configuration) so you would only need one set of firmware and would make testing easier."}], "owner": {"reputation": 75, "user_id": 1028074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4da388b4be5762bcd16e792310ecb4?s=128&d=identicon&r=PG", "display_name": "Hashtag", "link": "https://stackoverflow.com/users/1028074/hashtag"}, "is_accepted": false, "score": 2, "last_activity_date": 1428502100, "last_edit_date": 1428502100, "creation_date": 1428500734, "answer_id": 29516471, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29516471#29516471", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>On a similar train of thought to F, you could just have a directory layout like this:</p>\n\n<pre><code>Hardware/\n  common/inc/hardware.h\n  hardware1/src/hardware.cpp\n  hardware2/src/hardware.cpp\n</code></pre>\n\n<p>Simplify the interface to only assume a single hardware exists:</p>\n\n<pre><code>// sub_generic.h\nclass Sub_generic {\n        Hardware _hardware;\n};\n</code></pre>\n\n<p>And then only compile the folder that contains the .cpp files for the hardware for that platform.</p>\n\n<p>The benefits to this approach are:</p>\n\n<ul>\n<li>It's simple to understand whats happening and to add a hardware3</li>\n<li>hardware.h still serves as your API</li>\n<li>It takes away the abstraction from the compiler (for your speed concerns)</li>\n<li>Compiler 1 doesn't need to compile hardware2.cpp or hardware3.cpp which may contain things Compiler 1 can't do (like inline assembly, or some other specific Compiler 2 thing)</li>\n<li>hardware3 might be much more complicated for some reason you haven't considered yet.. so giving it a whole directory structure encapsulates it.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428680928, "post_id": 29561995, "comment_id": 47280817, "body": "I like the expression &quot;template socialization&quot;  :-)"}], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "is_accepted": true, "score": 4, "last_activity_date": 1428681045, "last_edit_date": 1428681045, "creation_date": 1428670339, "answer_id": 29561995, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29561995#29561995", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>First I would like to point out that you basically answered your own question in the question :-)</p>\n\n<p>Next I would like to point out that in <em>C++</em></p>\n\n<blockquote>\n  <p>the exact program-flow are given at compile-time, performance is\n  important and a lot of code can be inlined</p>\n</blockquote>\n\n<p>is called <strong>templates</strong>. The other approaches that leverage language features as opposed to build system features will serve only as a logical way of structuring the code in your project to the benefit of developers.</p>\n\n<p>Further, as noted in other answers <em>C</em> is more common for hard real-time systems than are <em>C++</em>, and in <em>C</em> it is customary to rely on <strong>MACROS</strong> to make this kind of optimization at compile time.</p>\n\n<p>Finally, you have noted under your <strong>B</strong> solution above that template specialization is hard to understand. I would argue that this depends on how you do it and also on how much experience your team has on C++/templates. I find many \"template ridden\" projects to be extremely hard to read and the error messages they produce to be unholy at best, but I still manage to make effective use of templates in my own projects because I respect the KISS principle while doing it.</p>\n\n<p>So my answer to you is, go with <strong>B</strong> or ditch <em>C++</em> for <em>C</em></p>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428693090, "post_id": 29566498, "comment_id": 47287379, "body": "Not my downvote, but I would also try to avoid a factory, because it would be used only once and create the objects on the stack or heap, while I would prefer them to be statically allocated in the data segment."}, {"owner": {"reputation": 65, "user_id": 4765642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc2fd8975abbd395cb79b9139ffa2b1b?s=128&d=identicon&r=PG&f=1", "display_name": "travisco_nabisco", "link": "https://stackoverflow.com/users/4765642/travisco-nabisco"}, "reply_to_user": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "edited": false, "score": 0, "creation_date": 1428695506, "post_id": 29566498, "comment_id": 47288649, "body": "I figured the Factory method had been disregarded for some reason, but thought it might be worth mentioning. As a note my preference would be the option B that was proposed."}], "owner": {"reputation": 65, "user_id": 4765642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc2fd8975abbd395cb79b9139ffa2b1b?s=128&d=identicon&r=PG&f=1", "display_name": "travisco_nabisco", "link": "https://stackoverflow.com/users/4765642/travisco-nabisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1428683806, "creation_date": 1428683806, "answer_id": 29566498, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time/29566498#29566498", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p>I am going to assume that these classes only need to be created a single time, and that their instances persist throughout the entire program run time.</p>\n\n<p>In this case I would recommend using the Object Factory pattern since the factory will only get run one time to create the class. From that point on the specialized classes are all a known type.</p>\n"}], "owner": {"reputation": 1720, "user_id": 2861669, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jNqT4.png?s=128&g=1", "display_name": "mbschenkel", "link": "https://stackoverflow.com/users/2861669/mbschenkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1367, "favorite_count": 2, "accepted_answer_id": 29561995, "answer_count": 6, "score": 12, "last_activity_date": 1475650573, "creation_date": 1427923559, "last_edit_date": 1475650573, "question_id": 29401138, "link": "https://stackoverflow.com/questions/29401138/efficient-configuration-of-class-hierarchy-at-compile-time", "title": "Efficient configuration of class hierarchy at compile-time", "body": "<p><em>This question is specifically about C++ architecture on embedded, hard real-time systems. This implies that large parts of the data-structures as well as the exact program-flow are given at compile-time, performance is important and a lot of code can be inlined. Solutions preferably use C++03 only, but C++11 inputs are also welcome.</em></p>\n\n<p>I am looking for established design-patterns and solutions to the architectural problem where the same code-base should be re-used for several, closely related products, while some parts (e.g. the hardware-abstraction) will necessarily be different. </p>\n\n<p>I will likely end up with a hierarchical structure of modules encapsulated in classes that might then look somehow like this, assuming 4 layers:</p>\n\n<pre><code>Product A                       Product B\n\nToplevel_A                      Toplevel_B                  (different for A and B, but with common parts)\n    Middle_generic                  Middle_generic          (same for A and B)\n        Sub_generic                     Sub_generic         (same for A and B)\n            Hardware_A                      Hardware_B      (different for A and B)\n</code></pre>\n\n<p>Here, some classes inherit from a common base class (e.g. <code>Toplevel_A</code> from <code>Toplevel_base</code>) while others do not need to be specialized at all (e.g. <code>Middle_generic</code>).</p>\n\n<p>Currently I can think of the following approaches:</p>\n\n<ul>\n<li><p><strong>(A)</strong>: If this was a regular desktop-application, I would use virtual inheritance and create the instances at run-time, using e.g. an Abstract Factory. </p>\n\n<p><strong><em>Drawback</em></strong>: However the <code>*_B</code> classes will never be used in product A and hence the dereferencing of all the virtual function calls and members not linked to an address at run-time will lead to quite some overhead.</p></li>\n<li><p><strong>(B)</strong> Using template specialization as inheritance mechanism (e.g. <a href=\"http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow\">CRTP</a>)</p>\n\n<pre><code>template&lt;class Derived&gt;\nclass Toplevel  { /* generic stuff ... */ };\n\nclass Toplevel_A : public Toplevel&lt;Toplevel_A&gt; { /* specific stuff ... */ };\n</code></pre>\n\n<p><strong><em>Drawback</em></strong>: Hard to understand.</p></li>\n<li><p><strong>(C)</strong>: Use different sets of matching files and let the build-scripts include the right one</p>\n\n<pre><code>// common/toplevel_base.h\nclass Toplevel_base { /* ... */ };\n\n// product_A/toplevel.h\nclass Toplevel : Toplevel_base { /* ... */ };\n\n// product_B/toplevel.h\nclass Toplevel : Toplevel_base { /* ... */ };\n\n// build_script.A\ncompiler -Icommon -Iproduct_A\n</code></pre>\n\n<p><strong><em>Drawback</em></strong>: Confusing, tricky to maintain and test.</p></li>\n<li><p><strong>(D)</strong>: One big typedef (or #define) file</p>\n\n<pre><code>//typedef_A.h\ntypedef Toplevel_A Toplevel_to_be_used;\ntypedef Hardware_A Hardware_to_be_used;\n// etc.\n\n// sub_generic.h\nclass sub_generic {\n    Hardware_to_be_used the_hardware;\n    // etc.\n};\n</code></pre>\n\n<p><strong><em>Drawback</em></strong>: One file to be included everywhere and still the need of another mechnism to actually switch between different configurations.</p></li>\n<li><p><strong>(E)</strong>: A similar, <a href=\"http://en.wikipedia.org/wiki/Policy-based_design\" rel=\"nofollow\">\"Policy based\"</a> configuration, e.g.</p>\n\n<pre><code>template &lt;class Policy&gt;\nclass Toplevel { \n    Middle_generic&lt;Policy&gt; the_middle;\n    // ...\n};\n\n// ...\n\ntemplate &lt;class Policy&gt;\nclass Sub_generic {\n    class Policy::Hardware_to_be_used the_hardware;\n    // ... \n};\n\n// used as\nclass Policy_A {\n    typedef Hardware_A Hardware_to_be_used;\n};\nToplevel&lt;Policy_A&gt; the_toplevel;\n</code></pre>\n\n<p><strong><em>Drawback</em></strong>: Everything is a template now; a lot of code needs to be re-compiled every time.</p></li>\n<li><p><strong>(F)</strong>: Compiler switch and preprocessor </p>\n\n<pre><code>// sub_generic.h\nclass Sub_generic {\n    #if PRODUCT_IS_A\n        Hardware_A _hardware;\n    #endif\n    #if PRODUCT_IS_B\n        Hardware_B _hardware;\n    #endif\n};\n</code></pre>\n\n<p><strong><em>Drawback</em></strong>: Brrr..., only if all else fails.</p></li>\n</ul>\n\n<p>Is there any (other) established design-pattern or a better solution to this problem, such that the compiler can statically allocate as many objects as possible and inline large parts of the code, knowing which product is being built and which classes are going to be used?</p>\n"}, {"tags": ["c++", "boost"], "answers": [{"owner": {"reputation": 2007, "user_id": 1540501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/JcHkg.jpg?s=128&g=1", "display_name": "ivan.ukr", "link": "https://stackoverflow.com/users/1540501/ivan-ukr"}, "is_accepted": false, "score": 1, "last_activity_date": 1427923637, "creation_date": 1427923637, "answer_id": 29401151, "question_id": 29401049, "link": "https://stackoverflow.com/questions/29401049/how-to-call-a-method-from-parent-classes-that-are-instances-of-the-same-template/29401151#29401151", "title": "How to call a method from parent classes that are instances of the same template [boost::enable_shared_from_this]", "body": "<p>Did you try changing to something like <code>return enable_shared_from_this&lt;B&gt;::shared_from_this();</code> ?</p>\n"}, {"comments": [{"owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "edited": false, "score": 0, "creation_date": 1427926401, "post_id": 29401152, "comment_id": 46979067, "body": "With your fix, does boost::static_pointer_cast&lt;B&gt;(boost::static_pointer_cast&lt;A&gt;(&zwnj;&#8203;b)-&gt;returnMe()) equal to b-&gt;returnMe()? b is B&#39;s object. Do they actually return share_ptrs to the same obj and share the same reference counter?"}], "owner": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "is_accepted": false, "score": 1, "last_activity_date": 1427923646, "creation_date": 1427923646, "answer_id": 29401152, "question_id": 29401049, "link": "https://stackoverflow.com/questions/29401049/how-to-call-a-method-from-parent-classes-that-are-instances-of-the-same-template/29401152#29401152", "title": "How to call a method from parent classes that are instances of the same template [boost::enable_shared_from_this]", "body": "<p>There are two bases that provide <code>shared_from_this</code>, but the types of the bases is distinct and thus you can use that to disambiguate:</p>\n\n<pre><code>shared_ptr&lt;B&gt; returnMe() {\n   return static_cast&lt;boost::enable_shared_from_this&lt;B&gt;*&gt;(this)-&gt;shared_from_this();\n}\n</code></pre>\n\n<p>That being said, the design might be a bit more complicated than what you want, in particular <code>returnMe</code> is not a virtual function (and cannot be, different non-covariant return type), which means that if you pass <code>B</code> to a function that takes a reference or pointer to <code>A</code> and they call <code>shared_from_this()</code> it will get the <em>wrong</em> version of the object.</p>\n\n<p>While <code>shared_ptr</code> supports aliasing, and there is no technical reason, the interfaces don't support the configuration of <code>enable_shared_from_this&lt;A&gt;</code> to yield a <code>shared_ptr&lt;A&gt;</code> that can share ownership with the <code>shared_ptr&lt;B&gt;</code> that is managing the whole object.</p>\n\n<p>If you can make the base pure virtual (remove the <code>enable_shared_from_this</code> and the <code>returnMe</code> functions) you will have a cleaner interface, less confusing as of what might work and how.</p>\n"}], "owner": {"reputation": 2519, "user_id": 2220174, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cb20f87eabd3f6894b936bbb10a65464?s=128&d=identicon&r=PG", "display_name": "Joe C", "link": "https://stackoverflow.com/users/2220174/joe-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427925804, "creation_date": 1427923192, "last_edit_date": 1427925804, "question_id": 29401049, "link": "https://stackoverflow.com/questions/29401049/how-to-call-a-method-from-parent-classes-that-are-instances-of-the-same-template", "title": "How to call a method from parent classes that are instances of the same template [boost::enable_shared_from_this]", "body": "<p>I have the following code.</p>\n\n<pre><code>class A: public boost::enable_shared_from_this&lt;A&gt; {\n  public:\n    virtual ~A() {}\n    boost::shared_ptr&lt;A&gt; returnMe() {\n      return shared_from_this();\n    }\n};\n\nclass B: public A, public boost::enable_shared_from_this&lt;B&gt; {\n    boost::shared_ptr&lt;B&gt; returnMe() {\n      return shared_from_this();\n    }\n};\n</code></pre>\n\n<p>gcc complains that the shared_from_this is ambiguous. \n* In this case, is it safe to use <code>boost::enable_shared_from_this&lt;B&gt;::shared_from_this()</code> or\n<code>this-&gt;boost::enable_shared_from_this&lt;B&gt;::shared_from_this()</code>\nin the returnMe of B?\n* Both A and B inherited from enable_shared_from_this with different parameters. Does it seem correct? Or I need to do something else?\nIf B does not inherit enable_shared_from_this, using <code>shared_from_this()</code> in B returns <code>shared_ptr&lt;A&gt;</code>. If so, is it safe to <code>static_pointer_cast</code> it to be <code>shared_ptr&lt;B&gt;</code>?</p>\n"}, {"tags": ["c++", "file-io", "binaryfiles"], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427921968, "post_id": 29400646, "comment_id": 46977214, "body": "Ah curses.  I looked for <code>binary</code>, but saw it was there and moved on."}, {"owner": {"reputation": 962, "user_id": 2048539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f672b3ac44170a0493455b4b1c941cde?s=128&d=identicon&r=PG", "display_name": "triple_r", "link": "https://stackoverflow.com/users/2048539/triple-r"}, "edited": false, "score": 0, "creation_date": 1427922066, "post_id": 29400646, "comment_id": 46977266, "body": "Darn, How did I miss that. Thanks a tonne :-) I&#39;ll accept the answer when the timer let&#39;s me to."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 962, "user_id": 2048539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f672b3ac44170a0493455b4b1c941cde?s=128&d=identicon&r=PG", "display_name": "triple_r", "link": "https://stackoverflow.com/users/2048539/triple-r"}, "edited": false, "score": 0, "creation_date": 1427922239, "post_id": 29400646, "comment_id": 46977354, "body": "@triple_r, such mistakes happens all the time :)"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 2, "creation_date": 1427922262, "post_id": 29400646, "comment_id": 46977360, "body": "...and specifying <code>std::ios_base::out</code> for <code>std::ofstream</code> is redundant. That mode is automatically included when a <code>std::ofstream</code> is constructed with a filename or opened."}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 7, "last_activity_date": 1427922393, "last_edit_date": 1427922393, "creation_date": 1427921761, "answer_id": 29400646, "question_id": 29400632, "link": "https://stackoverflow.com/questions/29400632/when-writing-into-a-binary-file-stdofstreamwrite-sometimes-writes-more-by/29400646#29400646", "title": "When writing into a binary file, `std::ofstream::write` sometimes writes more bytes than it should", "body": "<p>This line</p>\n\n<pre><code>std::ofstream outf(outfname, std::ios_base::out &amp; std::ios_base::binary);\n</code></pre>\n\n<p>needs to be</p>\n\n<pre><code>std::ofstream outf(outfname, std::ios_base::out | std::ios_base::binary);\n                                              ^^^^^ The difference\n</code></pre>\n\n<p>It can be simplified by omitting the <code>std::ios_base::out</code> flag (Thanks @Blastfurnace for the hint). It also reduces the chances of such errors creeping in.</p>\n\n<pre><code>std::ofstream outf(outfname, std::ios_base::binary);\n</code></pre>\n"}], "owner": {"reputation": 962, "user_id": 2048539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f672b3ac44170a0493455b4b1c941cde?s=128&d=identicon&r=PG", "display_name": "triple_r", "link": "https://stackoverflow.com/users/2048539/triple-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "accepted_answer_id": 29400646, "answer_count": 1, "score": 3, "last_activity_date": 1427922393, "creation_date": 1427921709, "last_edit_date": 1427921939, "question_id": 29400632, "link": "https://stackoverflow.com/questions/29400632/when-writing-into-a-binary-file-stdofstreamwrite-sometimes-writes-more-by", "title": "When writing into a binary file, `std::ofstream::write` sometimes writes more bytes than it should", "body": "<p>I'm trying to write a 3D geometry into a binary STL file. Here is how the main program works:</p>\n\n<pre><code>ParseSTL stl();\n//generate the 3D model\nstd::string outfname = \"test.stl\";\nstd::ofstream outf(outfname, std::ios_base::out &amp; std::ios_base::binary);\nstl.writeBinarySTL(outf);\n</code></pre>\n\n<p>and the STL writer is:</p>\n\n<pre><code>void writeBinarySTL(std::ofstream &amp;outf)\n{\n    char attr[2] = { 0 };\n    char header[80] = { 0 };\n    int count = 0;\n    outf.write(header, 80);\n    //count += 80;\n    //std::cout &lt;&lt; \"after header: file position: \" &lt;&lt; outf.tellp() &lt;&lt; \"  bytes written: \" &lt;&lt; count &lt;&lt; \"\\n\";\n    //if ((int)outf.tellp() != count)\n    //    std::cout &lt;&lt; \"something is wrong!\\n\";\n    outf.write(reinterpret_cast&lt;char *&gt;(&amp;facecount), sizeof(int));\n    //count += sizeof(int);\n    //std::cout &lt;&lt; \"after number of faces: file position: \" &lt;&lt; outf.tellp() &lt;&lt; \"  bytes written: \" &lt;&lt; count &lt;&lt; \"\\n\";\n    //if ((int)outf.tellp() != count)\n    //    std::cout &lt;&lt; \"something is wrong!\\n\";\n    for (int i = 0; i &lt; facecount; i++)\n    {\n        struct face{\n            float n[3];\n            float v[3][3];\n        } f;\n        for (int j = 0; j &lt; 3; ++j)\n            f.n[j] = (float) normals[i][j];\n        for (int j = 0; j &lt; 3; ++j)\n            for (int k = 0; k &lt; 3; ++k)\n                f.v[j][k] = (float)vertices[faces[i][j]][k];\n        outf.write(reinterpret_cast&lt;char *&gt;(&amp;f), sizeof(f));\n        //count += sizeof(f);\n        //std::cout &lt;&lt; \"after struct: file position: \" &lt;&lt; outf.tellp() &lt;&lt; \"  bytes written: \" &lt;&lt; count &lt;&lt; \"\\n\";\n        //if ((int)outf.tellp() != count)\n        //{\n        //    std::cout &lt;&lt; \"something is wrong!\\n\";\n        //    break;\n        //}\n        outf.write(attr, 2);\n        //count += 2;\n        //std::cout &lt;&lt; \"after attributes: file position: \" &lt;&lt; outf.tellp() &lt;&lt; \"  bytes written: \" &lt;&lt; count &lt;&lt; \"\\n\";\n        //if ((int)outf.tellp() != count)\n        //{\n        //    std::cout &lt;&lt; \"something is wrong!\\n\";\n        //    break;\n        //}\n    }\n    //std::cout &lt;&lt; \"Bytes written: \" &lt;&lt; count &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>The commented parts are just for debugging, and <code>facecount</code> is a member of the class <code>ParseSTL</code> that stores number of triangles, <code>normals</code> is a vector of 3D vectors that stores normals for all faces, <code>vertices</code> is a vector of 3D vectors that stores coordinates for all vertices, and <code>faces</code> is a vector of 3 integers that stores the index of vrtices that belong to a triangle. Now, if I run the program, here is the output that I get:</p>\n\n<pre><code>Vertex count = 4243\nFace count = 3168\nEdge count = 0\nafter header: file position: 80  bytes written: 80\nafter number of faces: file position: 84  bytes written: 84\nafter struct: file position: 132  bytes written: 132\nafter attributes: file position: 134  bytes written: 134\n...\nafter struct: file position: 532  bytes written: 532\nafter attributes: file position: 534  bytes written: 534\nafter struct: file position: 583  bytes written: 582\nsomething is wrong!\n</code></pre>\n\n<p>So, it seems that the line <code>outf.write(reinterpret_cast&lt;char *&gt;(&amp;f), sizeof(f));</code> is writing 1 more byte than it should. This drifting happens once in a while, and at the end, instead of a file that is <code>158,484</code> Bytes, I'm getting a file that is <code>158,896</code> Bytes. If I add a <code>outf.seekp(count)</code> after writing the struct, the final file size is correct, but some of the floats are not written correctly (so the drift is not always at the end of the struct).</p>\n\n<p>I was wondering what I'm doing wrong that causes this extra Bytes to be written into the file. Oh, and I'm using Microsoft Visual Stusio Express 2013.</p>\n"}, {"tags": ["c++", "opencv", "image-processing", "measurement"], "comments": [{"owner": {"reputation": 10061, "user_id": 1601291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc4421361b876e9d58c10fa16f49386?s=128&d=identicon&r=PG", "display_name": "Aurelius", "link": "https://stackoverflow.com/users/1601291/aurelius"}, "edited": false, "score": 1, "creation_date": 1427923431, "post_id": 29400573, "comment_id": 46977890, "body": "Could you clarify your question please? It looks like your code is correct. Are you asking how to access the x and y coordinates, or whether your calculation is correct?"}, {"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 0, "creation_date": 1427924526, "post_id": 29400573, "comment_id": 46978334, "body": "@Felipe I understand the question in the following way: &quot;The code you show is an initialization of the vector of points mc, of which then you have to find the center of mass (barycenter), so that you compute the distance of any given point to this barycenter.&quot; Please provide additional clarification if necessary."}, {"owner": {"reputation": 39, "user_id": 4697329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tLHB3.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/4697329/felipe"}, "edited": false, "score": 0, "creation_date": 1427938835, "post_id": 29400573, "comment_id": 46982596, "body": "Of course, sorry. My code works well, in my case I have one contour (At least is expected one contour), how can I access the coordinates of the mass center?"}], "answers": [{"comments": [{"owner": {"reputation": 3528, "user_id": 1794167, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/k7MI9.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/1794167/brian"}, "edited": false, "score": 0, "creation_date": 1506435093, "post_id": 29400656, "comment_id": 79814705, "body": "Perfect solution ... elegant."}], "owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "is_accepted": true, "score": 6, "last_activity_date": 1429040355, "last_edit_date": 1429040355, "creation_date": 1427921799, "answer_id": 29400656, "question_id": 29400573, "link": "https://stackoverflow.com/questions/29400573/opencv-mass-center-point/29400656#29400656", "title": "OpenCV mass center point", "body": "<p>First you should get the point by index. Let :</p>\n\n<pre><code>int size = contours.size();\n</code></pre>\n\n<p>The indices are: <code>i = 0 ... size</code> . The point at index <code>i</code> is </p>\n\n<pre><code>mc[i];\n</code></pre>\n\n<p>The coordinates of that point can be reached by:</p>\n\n<pre><code>float xCoor = mc[i].x;\nfloat yCoor = mc[i].y;\n</code></pre>\n\n<p>Of course you can read those values in a loop from <code>i = 0 to size</code> if you want to read all the coordinates of all the <code>mc</code> points.</p>\n\n<p><strong>Edit:</strong>\nI assumed that you knew how to find the mass center, and was just asking how to get the coordinates. But if you want to get mass center and the distance from mass center to some other point then you could do the following:</p>\n\n<pre><code>float distance;\nfloat totalX=0.0, totalY=0.0;    \nfor(int i=0; i&lt;size; i++) {\n    totalX+=mc[i].x;\n    totalY+=mc[i].y;\n}\n\nPoint2f massCenter(totalX/size, totalY/size); // condition: size != 0\nPoint2F someOtherPoint(someXVal, someYVal);\n\ndistance = massCenter.distance(someOtherPoint);\n</code></pre>\n\n<p>is the distance from mass center to some other point.</p>\n\n<p>Hope that helps!</p>\n"}, {"comments": [{"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427923001, "post_id": 29400918, "comment_id": 46977699, "body": "The question is: &quot;how can I find the coordinates of mc so I can calculate the distance between the mass center and some other point.&quot;"}, {"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "reply_to_user": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427923192, "post_id": 29400918, "comment_id": 46977785, "body": "@erolyeniaras That&#39;s how I understand your question: &quot;The code you show seems an initialization of the vector of points <code>mc</code>, of which then you have to find the center of mass (barycenter), so that you compute the distance of any given point to this barycenter.&quot; Please provide some clarification"}, {"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427924324, "post_id": 29400918, "comment_id": 46978269, "body": "I am a bit confused if he asks for how to calculate the coordinates of mass center or how to get (read) the coordinates of the mass center."}, {"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "reply_to_user": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427924469, "post_id": 29400918, "comment_id": 46978310, "body": "Ah, sorry, <i>his</i> question :) Yes, it&#39;s not very clear."}, {"owner": {"reputation": 39, "user_id": 4697329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tLHB3.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/4697329/felipe"}, "edited": false, "score": 0, "creation_date": 1427939492, "post_id": 29400918, "comment_id": 46982730, "body": "I understood, I can read the mass center coordinates per index! thanks"}], "owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "is_accepted": false, "score": 1, "last_activity_date": 1427922640, "creation_date": 1427922640, "answer_id": 29400918, "question_id": 29400573, "link": "https://stackoverflow.com/questions/29400573/opencv-mass-center-point/29400918#29400918", "title": "OpenCV mass center point", "body": "<p><code>mc[i].x</code> and <code>mc[i].y</code> are the x and y coordinates of the point of index i. </p>\n\n<p>To compute the center of mass:</p>\n\n<pre><code>cv::Point2f baricenter(0,0);\nfor( int i = 0; i &lt; mc.size(); i++ )\n    barycenter += mc[i];\nbarycenter.x /= mc.size();\nbarycenter.y /= mc.size();\n</code></pre>\n\n<p>Check that you have at least one point in your vector.</p>\n"}], "owner": {"reputation": 39, "user_id": 4697329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tLHB3.jpg?s=128&g=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/4697329/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8537, "favorite_count": 1, "accepted_answer_id": 29400656, "answer_count": 2, "score": 2, "last_activity_date": 1429040355, "creation_date": 1427921517, "last_edit_date": 1427939118, "question_id": 29400573, "link": "https://stackoverflow.com/questions/29400573/opencv-mass-center-point", "title": "OpenCV mass center point", "body": "<p>I found the mass center of an irregular shape, but now I need to compute the distance to any given point.\nI understand that the mc is a vector of points, but how can I find the coordinates of mc so I can calculate the distance between the mass center and some other point.Thanks</p>\n\n<pre><code>vector&lt;Point2f&gt; mc( contours.size() );\nfor( int i = 0; i &lt; contours.size(); i++ )\n{\n    mc[i] = Point2f( mu[i].m10/mu[i].m00 , mu[i].m01/mu[i].m00 );\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2013", "linker-errors"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1427927856, "post_id": 29400537, "comment_id": 46979636, "body": "also I think you are not supposed to have stdafx.h in the header file. The compiler ignores everything before that line, which will cause problems."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4739907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f93fcb62fe76bb067dac2d682dba4?s=128&d=identicon&r=PG&f=1", "display_name": "Voluptious", "link": "https://stackoverflow.com/users/4739907/voluptious"}, "edited": false, "score": 0, "creation_date": 1427921901, "post_id": 29400612, "comment_id": 46977182, "body": "Moved it to list.cpp instead, fixed the issue, thank you. I see what you mean in the last sentence"}], "owner": {"reputation": 4284, "user_id": 3837231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdHnA.jpg?s=128&g=1", "display_name": "NetVipeC", "link": "https://stackoverflow.com/users/3837231/netvipec"}, "is_accepted": true, "score": 1, "last_activity_date": 1427922116, "last_edit_date": 1495541603, "creation_date": 1427921643, "answer_id": 29400612, "question_id": 29400537, "link": "https://stackoverflow.com/questions/29400537/i-get-lnk1169-and-lnk2005-no-matter-what-i-do/29400612#29400612", "title": "I get LNK1169 and LNK2005 no matter what i do", "body": "<p>You are defining variables in the <code>list.h</code></p>\n\n<p><code>nodePtr curr = NULL;</code></p>\n\n<p>When inserting the <code>.h</code> in multiple translation units, the compiler report the same symbol define in the translation units.</p>\n\n<p>Move the variable for the <code>.cpp</code> if you need to use the variable in multiple translation units, use <a href=\"https://stackoverflow.com/questions/1433204/how-do-i-use-extern-to-share-variables-between-source-files-in-c\"><code>extern</code></a> (linked a post with more info about extern).</p>\n\n<p>Reading the code, there's no necessity of declaring <code>curr</code> as a free variable, it's only used in <code>displayAllBunnies</code> as an iteration variable (that could be local).</p>\n\n<p>Change displayAllBunnies to:</p>\n\n<pre><code>void bunnyList::displayAllBunnies(void) {\n    nodePtr curr = head;\n\n    while (curr != NULL) {\n        cout &lt;&lt; curr-&gt;data &lt;&lt; endl;\n        curr = curr-&gt;next;\n    }\n}\n</code></pre>\n\n<p>And remove line: <code>nodePtr curr = NULL;</code> from <code>list.h</code></p>\n"}], "owner": {"reputation": 13, "user_id": 4739907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/163f93fcb62fe76bb067dac2d682dba4?s=128&d=identicon&r=PG&f=1", "display_name": "Voluptious", "link": "https://stackoverflow.com/users/4739907/voluptious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "closed_date": 1427922129, "accepted_answer_id": 29400612, "answer_count": 1, "score": 0, "last_activity_date": 1427923623, "creation_date": 1427921353, "last_edit_date": 1427923623, "question_id": 29400537, "link": "https://stackoverflow.com/questions/29400537/i-get-lnk1169-and-lnk2005-no-matter-what-i-do", "closed_reason": "Duplicate", "title": "I get LNK1169 and LNK2005 no matter what i do", "body": "<p>i am making a program regarding bunnies and linked lists. I have five files: <code>link.h, link.cpp, bunny.h, bunny.cpp, main.cpp</code></p>\n\n<blockquote>\n  <p>When i try to compile my program (Using MVS2013) i get two errors;\n  LNK1169: Error  3   error LNK1169: one or more multiply defined symbols found\n  and \n  LNK2005: Error  2   error LNK2005: \"struct node * curr\" (?curr@@3PAUnode@@A) already defined in list.obj</p>\n</blockquote>\n\n<p>I have no idea where the error lies, so i did some research and found out these errors mean that i have defined something more than once, but i cant find out where. I tried moving all #includes to one file but that didn't help either.</p>\n\n<p>I have scanned my code but cant find anywhere that fits this error, so now i'm stumped.</p>\n\n<p>NB! Before you get mad at me for posting a giant wall of text, i don't know where the error lies, so i thought it was best to include it all</p>\n\n<p>bunny.h</p>\n\n<pre><code>#ifndef BUNNY_H\n#define BUNNY_H\n\n#include \"stdafx.h\"\n\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass bunny\n{\n    private:\n\n        int m_age;\n        char m_gender;\n        bool m_radioactiveVampire;\n        string m_color;\n        string m_name;\n\n    public: \n        bunny();\n        void setRadioactiveVampire(bool RV) {m_radioactiveVampire = RV; }\n\n        string getName(void) { return m_name; }\n        string getColor(void) { return m_color; }\n        bool getRadioactiveVampire(void) { return m_radioactiveVampire; }\n        char getGender(void) { return m_gender; }\n        int getAge(void) { return m_age; }\n};\n#endif\n</code></pre>\n\n<p>bunny.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n/* 16 bunnies */ string maleBunnies[] = { \"Abel\", \"Abraham\", \"Ace\", \"Acer\", \"Achilles\", \"Acker\", \"Adagio\", \"Admiral\", \"Aesop\", \"Ajax\", \"Aladdin\", \"Alaska\", \"Albert\", \"Alchemy\", \"Alex\", \"Mark\" };\n/* 16 bunnies */ string femaleBunnies[] = { \"Abba\", \"Aberdeen\", \"Abigail\", \"Acura\", \"Adele\", \"Adoni\", \"Aki\", \"Alibi\", \"Alice\", \"Amaretto\", \"Amaya\", \"Ambrosia\", \"Amore\", \"Amorette\", \"Anabell\", \"Anastasia\" };\n/* 8  colors  */ string bunnyColors[] = { \"Red\", \"Black\", \"Yellow\", \"Gray\", \"Green\", \"White\", \"Blue\", \"Purple\" };\n\nbunny::bunny()\n{\n    m_age = 0;\n    m_color = bunnyColors[rand() % 8 + 1];\n\n    if (rand() % 2 + 1 == 1) //calculates what gender and name respectively\n    {\n        m_gender = 'f';\n        m_name = femaleBunnies[rand() % 16 + 1]; \n    }\n    else if (rand() % 2 + 1 == 2)\n    {\n        m_gender = 'm';\n        m_name = maleBunnies[rand() % 16 + 1]; \n    }\n    else\n    {\n        cerr &lt;&lt; \"Uh oh, something went wrong with gender generation\";\n    }\n\n    if (rand() % 100 + 1 &lt; 2) //calculates 2% chance on radioactive vampire\n    {\n        m_radioactiveVampire = true; \n    }\n    else if (rand() % 100 + 1 &gt; 2)\n    {\n        m_radioactiveVampire = false; \n    }\n    else\n    {\n        cerr &lt;&lt; \"Uh oh, something went wrong with RV calculation \";\n    }\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;ctime&gt;\n\nusing namespace std; \n\nint main()\n{\n    srand(time(NULL));\n    bunnyList list;\n    bunny *b;\n\n    for (int i = 0; i &lt; 5; i++)\n    {\n        b = new bunny();\n\n        list.addBunny(b);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>list.h</p>\n\n<pre><code>#ifndef LIST_H\n#define LIST_H\n\n#include \"bunny.h\"\n#include \"stdafx.h\"\n\ntypedef struct node\n{\n    node *next;\n    bunny *data;\n} *nodePtr;\n\nnodePtr curr = NULL;\n\nclass bunnyList\n{\n    private:\n\n    public:\n        node *head; \n\n        bunnyList();\n        void displayAllBunnies(void);\n        void addBunny(bunny *b); // linked list stuff\n        void removeBunny(int bunnyNumber); // linked list stuff\n};\n\n#endif      \n</code></pre>\n\n<p>and last list.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nbunnyList::bunnyList()\n{\n}\n\nvoid bunnyList::addBunny(bunny *b)\n{\n    node *newNode = new node; //creates a node and holds its pointer\n    newNode-&gt;data = b;\n    newNode-&gt;next = head;\n    head = newNode;\n}\n\n\nvoid bunnyList::displayAllBunnies(void)\n{\n    curr = head;\n\n    while (curr != NULL)\n    {\n        cout &lt;&lt; curr-&gt;data &lt;&lt; endl;\n        curr = curr-&gt;next;\n    }\n}\n</code></pre>\n\n<p>(list.h and bunny.h is included in stdafx.h, this was one solution that didnt help, but they are there)</p>\n"}, {"tags": ["c++", "enums", "initialization"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427920923, "post_id": 29400314, "comment_id": 46976628, "body": "I can immediately think of several workarounds, most of which end up being even more code, but in different places.  Mostly involving making a map of enum-&gt;function pointers of some sort or another."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427921093, "post_id": 29400314, "comment_id": 46976731, "body": "or <code>#define PTR_IS_NEW_THING(n) case GLUE(Thing::Ex,n): ptr=new GLUE(Class,n)(); break</code>"}, {"owner": {"reputation": 780, "user_id": 4647583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed29ba29164901d431c9755a8fc9a14?s=128&d=identicon&r=PG", "display_name": "Otomo", "link": "https://stackoverflow.com/users/4647583/otomo"}, "edited": false, "score": 0, "creation_date": 1427921187, "post_id": 29400314, "comment_id": 46976779, "body": "My first thought was to use templates and template specialization. Something like: <code>template&lt;Thing&gt; class Foo{...}</code> <code>template&lt;&gt; class Foo&lt;Thing::Ex1&gt; {...}</code> etc..."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1427921688, "post_id": 29400314, "comment_id": 46977074, "body": "apparently I don&#39;t understand your question: If you have to do this multiple times in your code, why don&#39;t you put it into a function?"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 3841300, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b896a4ed571b99e899f99e4e77ec484?s=128&d=identicon&r=PG&f=1", "display_name": "Bluejay", "link": "https://stackoverflow.com/users/3841300/bluejay"}, "edited": false, "score": 0, "creation_date": 1427980598, "post_id": 29400498, "comment_id": 47000495, "body": "All the answers were useful and informative. I felt that this was the simplest and most straightforward to implement into my existing code structure."}], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 2, "last_activity_date": 1427921248, "creation_date": 1427921248, "answer_id": 29400498, "question_id": 29400314, "link": "https://stackoverflow.com/questions/29400314/enums-and-initialising-classes/29400498#29400498", "title": "Enums and initialising classes", "body": "<p>Unfortunately, C++ still doesn't have reflection. You can consider the tried-and-true X macro, if you have multiple places in your code where you'll have to employ the same mapping of values to types:</p>\n\n<pre><code>#define CASES \\\n    X(Thing::Ex1, Class1) \\\n    X(Thing::Ex2, Class2) \\\n    X(Thing::Ex3, Class3) \\\n    // ...\n// ...\nswitch (_thing) {\n#define X(v, T) \\\n    case (v): \\\n        ptr = new (T)(); \\\n        break;\n    CASES\n#undef X\n}\n// ... do other things with CASES and a different X macro\n// ...\n#undef CASES\n</code></pre>\n"}, {"owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "is_accepted": false, "score": 2, "last_activity_date": 1427979766, "last_edit_date": 1427979766, "creation_date": 1427922160, "answer_id": 29400776, "question_id": 29400314, "link": "https://stackoverflow.com/questions/29400314/enums-and-initialising-classes/29400776#29400776", "title": "Enums and initialising classes", "body": "<p>If the number of items gets large, it makes sense to create an association (aka <code>map</code>) between the \"Things\" and factory methods.  This is easy in say Python, but can be a bit of a pain in C++.</p>\n\n<pre><code>typedef Baseclass * (*factoryMethod) (void);\n\n// factories contains the association between types and constructors\nstd::map &lt;std::string, factoryMethod&gt; factories;\n\n// If possible, it's often a good idea to make these methods static members of Baseclass.\nBaseclass * factoryMethodA(void)\n{\n  return new ClassA();\n}\n\nBaseclass * factoryMethodB(void)\n{\n  return new ClassB();\n}\n// &amp;ct\n\nmy_map[\"A\"] = factoryMethodA;\nmy_map[\"B\"] = factoryMethodB;\n// &amp;ct\n</code></pre>\n\n<p>And usage is just...</p>\n\n<pre><code>ptr = factories[classname]();\n</code></pre>\n\n<p>If you are using C++11, I you can save a lot of typing with lambdas, to the point that this is a pretty useful programming tool to have in your belt.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n\nclass BaseClass {\n  public:\n  virtual void Print() = 0;\n};\n\nclass ClassA : public BaseClass {\n  public:\n  void Print() { std::cout &lt;&lt; \"Hello \"; }\n};\n\nclass ClassB : public BaseClass {\n  public:\n  void Print() { std::cout &lt;&lt; \"World!\\n\"; }\n};\n\ntypedef BaseClass * (*factoryMethod) (void);\n\nstd::map &lt;std::string, factoryMethod&gt; factories = {\n  { \"a\", []()-&gt;BaseClass * {return new ClassA(); } },\n  { \"b\", []()-&gt;BaseClass * {return new ClassB(); } }\n};\n\nint main (void)\n{\n  BaseClass * foo = factories[\"a\"]();\n  BaseClass * bar = factories[\"b\"]();\n\n  foo-&gt;Print();\n  bar-&gt;Print();\n\n  return 0;\n}\n</code></pre>\n\n<p>This lets you do some neat tricks, like being able to use things other than enums since you're no longer bound to <code>switch</code>.  Also, it lets you handle different logical associations with the same code (comes up in parsers).</p>\n\n<p><strong>PS</strong> I didn't use enums in the above code, but the idea is the same.  In my experience, whenever I encountered this problem it was easier to associate strings directly with the intended behavior, so I stuck with that.</p>\n"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "is_accepted": false, "score": 2, "last_activity_date": 1427924274, "creation_date": 1427924274, "answer_id": 29401310, "question_id": 29400314, "link": "https://stackoverflow.com/questions/29400314/enums-and-initialising-classes/29401310#29401310", "title": "Enums and initialising classes", "body": "<p>There is a codegenerator hidden in C++ called <a href=\"http://en.wikipedia.org/wiki/Template_metaprogramming\" rel=\"nofollow\">Template Metaprogramming</a>. You may use it to generate factories you want. You may also use Variadic Templates (that is C++11 feature).</p>\n\n<p>I came to following code (I'm a bit lazy to implement correct \"last\" specialized <code>createThing</code>, so I used <code>void</code> as terminator):</p>\n\n<pre><code>enum class Thing {Ex1, Ex2, Ex3};\n\nclass Class1 { virtual void f() {} };\nclass Class2 : public Class1 {};\nclass Class3 : public Class2 {};\n\ntemplate &lt;Thing val_, typename Class_&gt; \nstruct MPLFactoryPair  {\n    static constexpr Thing val = val_;\n    using Class = Class_;\n};\n\ntemplate&lt;class head, typename... tail&gt; \nstruct MPLFactory {\n    static Class1* createThing(Thing thing_) {\n        if(thing_ == head::val) {\n            return new typename head::Class();\n        }\n        return MPLFactory&lt;tail...&gt;::createThing(thing_);\n    }\n};\n\ntemplate&lt;typename last&gt; \nstruct MPLFactory&lt;last&gt; {\n    static Class1* createThing(Thing thing_) {\n        return nullptr;\n    }\n};\n\nusing ThingFactory =\n    MPLFactory&lt;MPLFactoryPair&lt;Thing::Ex1, Class1&gt;, \n            MPLFactoryPair&lt;Thing::Ex2, Class2&gt;, \n            MPLFactoryPair&lt;Thing::Ex3, Class3&gt;, \n            void&gt;;\n</code></pre>\n\n<p>The main problem with it is that you should hope that compiler will optimize tail call in <code>createThing</code>. GCC does that with -O2:</p>\n\n<pre><code>&lt;+20&gt;:    test   %eax,%eax\n&lt;+22&gt;:    je     0x400a5e &lt;main(int, char**)+238&gt;\n&lt;+28&gt;:    cmp    $0x1,%eax\n&lt;+31&gt;:    je     0x400a83 &lt;main(int, char**)+275&gt;\n&lt;+37&gt;:    cmp    $0x2,%eax\n&lt;+40&gt;:    jne    0x400a77 &lt;main(int, char**)+263&gt;\n</code></pre>\n\n<p>So it came to simple if-else. Not sure if it will generate jump table.</p>\n\n<p>Here is a test code:</p>\n\n<pre><code>int main(int argc, char* argv[]) {\n    volatile Thing thing = Thing::Ex2;\n    Class1* ptr = ThingFactory::createThing(thing);\n\n    std::cout &lt;&lt; \"ptr = \" &lt;&lt; ptr &lt;&lt; std::endl \n            &lt;&lt; \"&lt;Class2&gt;(ptr) = \"  &lt;&lt; dynamic_cast&lt;Class2*&gt;(ptr) &lt;&lt; std::endl\n            &lt;&lt; \"&lt;Class3&gt;(ptr) = \"  &lt;&lt; dynamic_cast&lt;Class3*&gt;(ptr) &lt;&lt; std::endl\n            &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>For me it outputs:</p>\n\n<pre><code>ptr = 0x214c010\n&lt;Class2&gt;(ptr) = 0x214c010\n&lt;Class3&gt;(ptr) = 0\n</code></pre>\n\n<p>You may also use <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/mpl/doc/index.html\" rel=\"nofollow\">boost::mpl</a>, but it is not easy.</p>\n"}], "owner": {"reputation": 311, "user_id": 3841300, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b896a4ed571b99e899f99e4e77ec484?s=128&d=identicon&r=PG&f=1", "display_name": "Bluejay", "link": "https://stackoverflow.com/users/3841300/bluejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 29400498, "answer_count": 3, "score": 2, "last_activity_date": 1427979766, "creation_date": 1427920646, "last_edit_date": 1427920804, "question_id": 29400314, "link": "https://stackoverflow.com/questions/29400314/enums-and-initialising-classes", "title": "Enums and initialising classes", "body": "<p>I frequently come across this annoying quirk.</p>\n\n<p>Say I have something like</p>\n\n<pre><code>enum class Thing {Ex1, Ex2, Ex3}\n</code></pre>\n\n<p>I have an instance of a Thing and want to create a certain class depending on what it is, and it ends up looking like this</p>\n\n<pre><code>switch(_thing){\n    case Thing::Ex1:\n        ptr = new Class1();\n        break;\n\n     case Thing::Ex2:\n         ptr = new Class2();\n         break;\n\n     case Thing::Ex3:\n         ptr = new Class3();\n         break; \n}\n</code></pre>\n\n<p>And so on. With 10-20 such statements, it just looks very bad. Is this an inevitability, or is there some way to improve this?</p>\n"}, {"tags": ["c++", "opengl", "visual-studio-2013", "kinect", "glut"], "answers": [{"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1427927341, "creation_date": 1427927341, "answer_id": 29401980, "question_id": 29400299, "link": "https://stackoverflow.com/questions/29400299/rendering-the-kinect-output-with-glut-in-visual-studio-2013-c-stack-overflow/29401980#29401980", "title": "Rendering the Kinect output with GLUT in Visual Studio 2013 C++ (Stack overflow)", "body": "<p>I don't see immediately a problem with your code, however I can give some advice: There are two possible reasons for a stack overflow:</p>\n\n<ul>\n<li><p>the amount of available stack is exceeded by allocating an object in automatic storage.</p></li>\n<li><p>a (set of) function is calling themself recursively without properly terminating the recursion.</p></li>\n</ul>\n\n<p>Luckily stack overflows are very easy to debug: Run your program in a debugger, let the stack overflow happen and retrieve a backtrace / stack trace using the debugger. This will exactly show you which function call(s) are causing the problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 4739856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f439d3eedb6b1276fe85765ef34d3f60?s=128&d=identicon&r=PG&f=1", "display_name": "RFerrari", "link": "https://stackoverflow.com/users/4739856/rferrari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427927341, "creation_date": 1427920605, "question_id": 29400299, "link": "https://stackoverflow.com/questions/29400299/rendering-the-kinect-output-with-glut-in-visual-studio-2013-c-stack-overflow", "title": "Rendering the Kinect output with GLUT in Visual Studio 2013 C++ (Stack overflow)", "body": "<p>I have been trying to port some useful code for a project, but I'm experiencing some difficulty in making GLUT work properly. Whenever the cbRender function is called, Visual Studio pops up an exception saying that there was a Stack Overflow: \"Unhandled exception at 0x00FAD357 in KinectBridgeWithOpenCVBasics-D2D.exe: 0xC00000FD: Stack overflow (parameters: 0x00000000, 0x00272000).\"</p>\n\n<p>I have tried putting a breakpoint right at the declaration of cbRender, and by going into the next step has got me in a \"chkstk.asm not found\" VB page.</p>\n\n<p>Here's my main function so far:</p>\n\n<pre><code>int main(int argc, char** argv) {\n\nHRESULT hr = NuiInitialize(\n    NUI_INITIALIZE_FLAG_USES_DEPTH_AND_PLAYER_INDEX\n    | NUI_INITIALIZE_FLAG_USES_COLOR);\n\nif (hr != S_OK)\n{\n    cout &lt;&lt; \"NuiInitialize failed\" &lt;&lt; endl;\n    return hr;\n}\n\n// Initialize Display Mode\nglutInit(&amp;argc, argv);\nglutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE | GLUT_ALPHA | GLUT_DEPTH);\n\n// Initialize OpenGL Window\nglutInitWindowSize(window_width, window_height);\nglutInitWindowPosition(window_xpos, window_ypos);\nGLwindow = glutCreateWindow(\"Kinect Registration\");\nglClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n\n// Initialize OpenCV Window\nnamedWindow(\"Camera 0 | Camera 1\", CV_WINDOW_AUTOSIZE);\n\n// Setup The GL Callbacks\nglutDisplayFunc(cbRender);\nglutReshapeFunc(cbReSizeGLScene);\nglutKeyboardFunc(cbKeyPressed);\nglutMotionFunc(cbMouseMoved);\nglutMouseFunc(cbMousePress);\nglutTimerFunc(10, cbTimer, 10);\n\n// Setup The CV Callbacks\ncvSetMouseCallback(\"Camera 0 | Camera 1\", cbMouseEvent);\n\nglutMainLoop();\n\nNuiShutdown();\n\nreturn 0;\n}\n</code></pre>\n\n<p>And the cbRender function:</p>\n\n<pre><code>void cbRender() {\n\n    short xyz[window_height][window_width][3];\n    unsigned char rgb[window_height][window_width][3];\n    unsigned int indices[window_height][window_width];\n\n    //Flush the OpenCV Mat's from last frame\n    rgbCV.clear();\n    depthCV.clear();\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    glEnable(GL_DEPTH_TEST);\n    glPushMatrix();\n    glScalef(zoom, zoom, 1);\n    gluLookAt(0, 0, 3.5, 0, 0, 0, 0, 1.0, 0);\n    glRotatef(rotangles[0], 1, 0, 0);\n    glRotatef(rotangles[1], 0, 1, 0);\n    draw_axes();\n\n    glEnableClientState(GL_VERTEX_ARRAY);\n    glEnableClientState(GL_COLOR_ARRAY);\n\n    glPointSize(2);\n    //--------Camera 0 (P)-----------\n    loadBuffers(0, indices, xyz, rgb);\n    glVertexPointer(3, GL_SHORT, 0, xyz);\n    glColorPointer(3, GL_UNSIGNED_BYTE, 0, rgb);\n    glPushMatrix();\n    // transform centroid of P to origin and rotate\n    transformation(0);\n    // projection matrix (camera specific - Can be improved)\n    loadVertexMatrix();\n    glDrawArrays(GL_POINTS, 0, window_width*window_height);\n    glPopMatrix();\n    glFlush();\n    glutSwapBuffers();\n    glDisable(GL_DEPTH_TEST);\n}\n</code></pre>\n\n<p>I realize that most of the actual code is hidden away in functions, and if any of those functions can be causing the problem just say so and I will provide the code for them, too.</p>\n"}, {"tags": ["c++", "powerpc", "rtems"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1427920837, "post_id": 29400290, "comment_id": 46976567, "body": "Do you really need &#39;volatile&#39; ?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1427920956, "post_id": 29400290, "comment_id": 46976649, "body": "@DieterL&#252;cking This is the <code>RTEM&#39;s</code> implementation so im not to keen to play around with it. I believe so though since it can indeed be edited by devices etc (not on our system but in RTEMS in general)."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1427921098, "post_id": 29400290, "comment_id": 46976733, "body": "Theoretically the memory can be altered by other processes, but hopefully not the same chunk of memory you&#39;re using. Try and drop the <code>volatile</code> then benchmark again. I think the compiler has to be super paranoid about accesses there, it can&#39;t rely on registers, and it slows down considerably."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1427921141, "post_id": 29400290, "comment_id": 46976757, "body": "@tadman Would it be an equivalent test to add a <code>volatile</code> to the stack memory component, then it should take the same amount of time?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1427921165, "post_id": 29400290, "comment_id": 46976773, "body": "Can you allocate a small amount of memory on the heap as a comparison? If you&#39;re super serious about this, inspect the assembly output of your compiled code. I think you&#39;ll find significant differences in that assignment. It may be the case this memory is actually slower since it&#39;s accessed through some convoluted hardware path."}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 1, "creation_date": 1427921305, "post_id": 29400290, "comment_id": 46976853, "body": "Adding <code>volatile</code> to your stack <code>data1</code> is the right test."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1427922455, "post_id": 29400290, "comment_id": 46977439, "body": "@tadman I have disassembled the code, but im struggling to really interpret it."}, {"owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "edited": false, "score": 1, "creation_date": 1427934958, "post_id": 29400290, "comment_id": 46981714, "body": "For me it looks like SRAM is in IPB clock domain, not XLB. Also, as I can read from the block diagram, an access to the SRAM is still done via DMA, which necessarily incurs delays."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "edited": false, "score": 0, "creation_date": 1427988179, "post_id": 29400290, "comment_id": 47005332, "body": "@user58697 Maybe you are right! The bus that connects the DMA is definitely XLB, but perhaps the ram itself is operating on a different clock? EDIT: <code>IPB clock can run at the same frequency as XLB clock, or 1&#47;2 the frequency. BestComm runs at the IPB clock frequency as do all IPB control register access logic.</code> So from this im not sure, i think it probably runs at the same rate as XLB."}], "answers": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 1, "last_activity_date": 1427996282, "creation_date": 1427996282, "answer_id": 29419104, "question_id": 29400290, "link": "https://stackoverflow.com/questions/29400290/why-is-there-a-dramatic-speed-drop-for-access-to-static-ram-over-cache-c/29419104#29419104", "title": "Why is there a dramatic speed drop for access to static ram over cache c++?", "body": "<p>So it looks like there are a couple of factors, that might lead to this. </p>\n\n<ol>\n<li>I am no longer sure that the SRAM is running at the same clock speed as the Processor. As pointed out by @user58697, the <code>SRAM</code> is on IPB clock time even though it looks like the bus is on XLB time. On top of that there is this diagram:</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/eUAd4.png\" alt=\"enter image description here\">\n(<em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=137\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<p>This seems to indicate that he memory clock is on the XLB path but that the XLB path is at a lower frequency than the CORE clock. This can be confirmed here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VD5Tq.png\" alt=\"enter image description here\"></p>\n\n<p>(<em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=139\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<p>Which indicates that the XLB_Bus runs at a slower rate than the processor. </p>\n\n<ol start=\"2\">\n<li>To test that the SRAM is at least faster than the dynamic ram i conducted the following test:</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>// Fill up the cache with pointless stuff\nfor (int i = 0; i &lt; 4097; ++i) {\n    a = (int)TSin[i];\n}\n\n// 1. Test the dynamic RAM access with a cache miss every time. \nticks = timer_now();\n// += 16 to ensure a cache line miss.\nfor (int y = 0; y &lt; listSize; y += 16) {\n    a = (data1[y]);\n}\nelapsedTicks = timer_now() - ticks;\n\n// Fill up the cache with pointless stuff again ...\n\nticks = timer_now();\n// Test 2, do the same cycles but with static memory.\nfor (int y = 0; y &lt; listSize; y += 16) {\n    a = (mpc5200.sram[y]);\n}\nelapsedTicks = timer_now() - ticks;\n</code></pre>\n\n<p>And with this we get the following results:</p>\n\n<pre><code>elapsed dynamic:  294.84 uS\nelapsed static:  57.78 uS\n</code></pre>\n\n<p>So what we can say here is that the static RAM is faster than the dynamic RAM (expected) but when the dynamic RAM is loaded into cache accessing the static ram is much much slower because cache access is at processor speed and the static ram speed is much less than this. </p>\n"}], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 6, "accepted_answer_id": 29419104, "answer_count": 1, "score": 15, "last_activity_date": 1519278971, "creation_date": 1427920556, "last_edit_date": 1519278971, "question_id": 29400290, "link": "https://stackoverflow.com/questions/29400290/why-is-there-a-dramatic-speed-drop-for-access-to-static-ram-over-cache-c", "title": "Why is there a dramatic speed drop for access to static ram over cache c++?", "body": "<h2>Background</h2>\n\n<p>I have been looking into potentially using the <em>MPC5200</em> static ram space as <a href=\"http://en.wikipedia.org/wiki/Scratchpad_memory\" rel=\"nofollow noreferrer\">scratch pad memory</a>. We have 16Kb of unused memory that appears on the processor bus (<em><a href=\"http://cache.freescale.com/files/32bit/doc/data_sheet/MPC5200.pdf#page=5\" rel=\"nofollow noreferrer\">source</a></em>). </p>\n\n<p>Now some important implementation notes are:</p>\n\n<ol>\n<li><p>This memory is used by the <em>BestComm DMA</em> controller, under <code>RTEMS</code> this will essentially set up a task table at the start of SRAM with a set of 16 tasks that can run as buffers for peripheral interface, I2C, Ethernet etc. In order to use this space without conflict and knowing that our system only uses a about 2Kb of Ethernet driver buffers, I offset the start of SRAM by 8Kb, so now we have 8Kb of memory that we know wont be used by the system.</p></li>\n<li><p><code>RTEMS</code> defines an array that points to static memory as follows: </p></li>\n</ol>\n\n<p>(<em><a href=\"https://devel.rtems.org/browser/rtems/c/src/lib/libbsp/powerpc/gen5200/include/mpc5200.h?rev=c9b005a9d2ed95bb1ab16fbc0c823c12a5c58b26\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<pre><code>typedef struct {\n    ...\n    ...\n    volatile uint8_t    sram[0x4000];\n } mpc5200_t;\n\n extern volatile mpc5200_t mpc5200;\n</code></pre>\n\n<p>And i know that the sram array points to static memory because when I edit the first section and print out the memory block (<code>MBAR + 0x8000</code> <em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=122\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<p>So from here i can say the following, I have the RTEMS defined access to the <code>SRAM</code> via <code>mpc5200.sram[0 -&gt; 0x2000]</code>. This means i can start doing some testing on the speed I can get out of it.</p>\n\n<hr>\n\n<h2>Test</h2>\n\n<p>In order to evaluate the speed, i set up the following test:</p>\n\n<pre><code>int a; // Global that is separate from the test. \n\n**TEST**\n\n// Set up the data.\nconst unsigned int listSize = 0x1000;\nuint8_t data1[listSize];\nfor (int k = 0; k &lt; listSize; ++k) {\n    data1[k] = k;\n    mpc5200.sram[k] = k;\n}\n\n// Test 1, data on regular stack.\nclock_t start = clock();\nfor (int x = 0; x &lt; 5000; ++x) {\n    for (int y = 0; y &lt; 0x2000; ++y) {\n        a = (data1[y]);\n    }\n}\ndouble elapsedTime = static_cast&lt;double&gt;(clock() - start) / CLOCKS_PER_SEC;\nprintf(\"elapsed dynamic: %f\\n\" ,elapsedTime);\n\n// Test 2, get data from the static memory.\nstart = clock();\nfor (int x = 0; x &lt; 5000; ++x) {\n    for (int y = 0; y &lt; 0x2000; ++y) {\n        a = (mpc5200.sram[y]);\n    }\n}\nelapsedTime = static_cast&lt;double&gt;(clock() - start) / CLOCKS_PER_SEC;\nprintf(\"elapsed static: %f\\n\" ,elapsedTime);    \n</code></pre>\n\n<p>Pretty simple, the concept is that we are iterating over the available space and setting a global. We should expect that the static memory should have the same approximate time.</p>\n\n<hr>\n\n<h2>RESULT</h2>\n\n<p>So we get the following:</p>\n\n<pre><code>elapsedDynamic = 1.415\nelapsedStatic = 6.348\n</code></pre>\n\n<p>So there is something going on here, because the static is almost 6x slower than the cache. </p>\n\n<hr>\n\n<h2>Hypothesis</h2>\n\n<p>So i had 3 ideas about why this is: </p>\n\n<ol>\n<li><strong>Cache misses</strong>, i thought maybe the fact that we are mixing dynamic and static ram that something strange is happening. So i tried this test:</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>// Some pointers to use as incrementers\nuint8_t *i = reinterpret_cast&lt;uint8_t*&gt;(0xF0000000+0x8000+0x1000+1);\nuint8_t *j = reinterpret_cast&lt;uint8_t*&gt;(0xF0000000+0x8000+0x1000+2);\nuint8_t *b = reinterpret_cast&lt;uint8_t*&gt;(0xF0000000+0x8000+0x1000+3);\n\n\n// I replaced all of the potential memory accesses with the static ram\n// variables. That way the tests have no interaction in terms of \n// memory locations. \nstart = clock();\n// Test 2, get data from the static memory.\nfor ((*i) = 0; (*i) &lt; 240; ++(*i)) {\n    for ((*j) = 0; (*j) &lt; 240; ++(*j)) {\n        (*b) = (mpc5200.sram[(*j)]);\n    }\n}\nelapsedTime = static_cast&lt;double&gt;(clock() - start) / CLOCKS_PER_SEC;\nprintf(\"elapsed static: %f\\n\" ,elapsedTime);\n</code></pre>\n\n<p>We have the following results:</p>\n\n<pre><code>elapsedDynamic = 0.0010\nelapsedStatic = 0.2010\n</code></pre>\n\n<p>So now it is 200 times slower? So i guess it is not to do with that?</p>\n\n<ol start=\"2\">\n<li><p><strong>Static memory different to normal</strong>, The next thing i thought was that maybe it doesn't interact how i thought it would because of this line:</p>\n\n<blockquote>\n  <p>MPC5200 contains 16KBytes of on-chip SRAM. This memory is directly accessible by the BestComm DMA unit. It is used primarily as\n  storage for task table and buffer descriptors used by BestComm DMA to move peripheral data to and from SDRAM or other locations. These\n  descriptors must be downloaded to the SRAM at boot.\n  This SRAM resides in the MPC5200 internal register space and is also accessible by the processor core. As such it can be used for other\n  purposes, such as scratch pad storage. The 16kBytes SRAM starts at location MBAR + 0x8000.</p>\n</blockquote></li>\n</ol>\n\n<p>(<em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=450\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<p>I am not sure how to confirm or deny this?</p>\n\n<ol start=\"3\">\n<li><strong>Slower Static Clock</strong>, Perhaps the static memory runs on a slower clock, like in some systems?</li>\n</ol>\n\n<p>This can be disproved by looking in the manual:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qPDes.png\" alt=\"enter image description here\"></p>\n\n<p>(<em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=136\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<p>The SRAM and the processor were on the same clock, the <code>XLB_CLK</code> runs at the Processor Fundamental Frequency (<em><a href=\"http://cache.freescale.com/files/microcontrollers/doc/user_guide/MPC5200UM.pdf#page=135\" rel=\"nofollow noreferrer\">source</a></em>)</p>\n\n<hr>\n\n<h2>QUESTION</h2>\n\n<p><strong>What could be causing this, are there reasons in general not to use SRAM for scratch pad storage?</strong> I know on modern processors this would not even be considered but this is an older embedded processor and we are struggling for speed and space. </p>\n\n<hr>\n\n<h2>EXTRA TESTS</h2>\n\n<p>So after the comments below i performed some extra tests: </p>\n\n<ol>\n<li><strong>Add <code>volatile</code> to the stack member to see if the speeds are more equal:</strong></li>\n</ol>\n\n<p>.</p>\n\n<pre><code>elapsedDynamic = 0.98\nelapsedStatic = 5.97\n</code></pre>\n\n<p>So still much faster and not really any change with the <em>volatile</em>??</p>\n\n<ol start=\"2\">\n<li><strong>Disassemble the code to see what is happening</strong></li>\n</ol>\n\n<p>.</p>\n\n<pre><code>// original code\nint a = 0;\nuint8_t data5[0x2000];\nvoid assemblyFunction(void) {\n    int * test = (int*) 0xF0008000;\n    mpc5200.sram[0] = a;\n    data5[0] = a;\n    test[0] = a;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>void assemblyFunction(void) {\n// I think this is to load up A\n0:  3d 20 00 00     lis     r9,0\n8:  80 09 00 00     lwz     r0,0(r9)\n 14:    54 0a 06 3e     clrlwi  r10,r0,24\n\n    mpc5200.sram[0] = a;   \n    1c: 3d 60 00 00     lis     r11,0\n  20:   39 6b 00 00     addi    r11,r11,0\n  28:   3d 6b 00 01     addis   r11,r11,1 // Where do these come from?\n  2c:   99 4b 80 00     stb     r10,-32768(r11)\n\ntest[0] = a;\n   c:   3d 20 f0 00     lis     r9,-4096 // This should be the same as above??\n  10:   61 29 80 00     ori     r9,r9,32768\n  24:   90 09 00 00     stw     r0,0(r9)\n\n    data5[0] = a;\n    4:  3d 60 00 00     lis     r11,0\n    18: 99 4b 00 00     stb     r10,0(r11)\n</code></pre>\n\n<p>I am not particularly good at interpenetrating assembler, but perhaps we have a problem here? Accessing and setting the memory from a global does seem to take more instructions for the <code>SRAM</code>? </p>\n\n<ol start=\"3\">\n<li><strong>From the above test it seems that there are less instructions for the pointer so i added this:</strong></li>\n</ol>\n\n<p>.</p>\n\n<pre><code>uint8_t *p = (uint8_t*)0xF0008000;\n\n// Test 3, get data from static with direct pointer.\nfor (int x = 0; x &lt; 5000; ++x) {\n    for (int y = 0; y &lt; 0x2000; ++y) {\n        a = (p[y]);\n    }\n}\n</code></pre>\n\n<p>And i get the following result:</p>\n\n<pre><code>elapsed dynamic: 0.952750\nelapsed static: 5.160250\nelapsed pointer: 5.642125\n</code></pre>\n\n<p>So the pointer takes <strong>EVEN LONGER</strong>! I would have thought it would be exactly the same? This is just getting stranger. </p>\n"}, {"tags": ["c++", "struct", "fstream"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1427920364, "post_id": 29400057, "comment_id": 46976312, "body": "As usual &#39;while (!data.eof())&#39; is wrong - I did not read past that (after doing that, this code is junk)"}, {"owner": {"reputation": 5666, "user_id": 2392683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/974ad1bd6b5fe25cadefb23460e2b5d0?s=128&d=identicon&r=PG", "display_name": "chwarr", "link": "https://stackoverflow.com/users/2392683/chwarr"}, "edited": false, "score": 0, "creation_date": 1427921566, "post_id": 29400057, "comment_id": 46977010, "body": "This code does not compile as-is. Please post a <a href=\"http://stackoverflow.com/help/mcve\">minimal example</a> that has the problem"}, {"owner": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "edited": false, "score": 0, "creation_date": 1427921872, "post_id": 29400057, "comment_id": 46977161, "body": "This doesn&#39;t compile? I am running it right now as is? My includes are  #include &lt;iostream&gt; #include &lt;fstream&gt; #include &lt;cstdlib&gt; #include &lt;cctype&gt; #include &lt;iomanip&gt; #include &lt;string&gt; #include &lt;cstring&gt;"}, {"owner": {"reputation": 5666, "user_id": 2392683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/974ad1bd6b5fe25cadefb23460e2b5d0?s=128&d=identicon&r=PG", "display_name": "chwarr", "link": "https://stackoverflow.com/users/2392683/chwarr"}, "edited": false, "score": 0, "creation_date": 1427922130, "post_id": 29400057, "comment_id": 46977299, "body": "This code cannot be copied and pasted into a blank file and compiled. Something that are missing: main(), implementation of cookies, #includes for standard library functions being used."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "edited": false, "score": 0, "creation_date": 1427922691, "post_id": 29400694, "comment_id": 46977556, "body": "Thank you! It was creating a new file by default when just in ios::out. Something that I should have already known. Thank you for being respectful and helpful to a newbie!"}], "owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "is_accepted": true, "score": 0, "last_activity_date": 1427921889, "creation_date": 1427921889, "answer_id": 29400694, "question_id": 29400057, "link": "https://stackoverflow.com/questions/29400057/c-fstream-searching-through-a-txt-for-a-structure/29400694#29400694", "title": "C++ fstream searching through a .txt for a structure", "body": "<ul>\n<li>Change <code>while(!data.eof())</code> to <code>while(data)</code></li>\n<li>For clarity, read a record from the file at the beginning of your <code>while</code> loop, not at the end.</li>\n<li>You can break out of the loop when your record has been written.</li>\n<li>When writing cookies.txt, open it with <code>std::ios::binary | std::ios::in | std::ios::out</code>. Seek from <code>std::ios::beg</code>.</li>\n<li>You have the file open for both reading and writing at the same time. This should work, but is unnecessary. Close the file for reading before writing to it.</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 29400694, "answer_count": 1, "score": -1, "last_activity_date": 1427921889, "creation_date": 1427919835, "last_edit_date": 1427921189, "question_id": 29400057, "link": "https://stackoverflow.com/questions/29400057/c-fstream-searching-through-a-txt-for-a-structure", "title": "C++ fstream searching through a .txt for a structure", "body": "<p>I have a program that allows the user to enter a new record (put into a structure then written to the file), print all records, or edit a specific record. I have included my function. The records are for a girlscout cookie info. It has the name, quantity, price, and cost. It opens the file asks the user to enter the name and then when it finds that name it has all the data read into a temporary structure variable (the same as what wrote it to the file) where the user can than just change the quantity and rewrite it in the same place it was read from. Everything should be the same except for the updated quantity.It does all of that but for some reason turns all the other records before it to null or 0's. What is my mistake that makes this change all my other records in the file. I just want to edit this specific one.\n This is just the function. Help would really be appreciated!</p>\n\n<p>function code:</p>\n\n<pre><code>void editField()\n{\n    char input[20];\n    fstream data(\"cookies.txt\", ios::in);\n    cookies test;\n\n    if ( !data ) {\n        cout &lt;&lt; \"Error opening file. Program aborting.\\n\";\n        return;\n    }\n\n    cout &lt;&lt; \"Please enter the name of the cookie you are searching for: \";\n    cin.getline(input,20);\n\n    data.read(reinterpret_cast&lt;char *&gt;(&amp;test),\n    sizeof(test));\n\n    while (!data.eof())\n    {\n        if( strcmp(input,test.name) == 0 ) {\n\n            int position = data.tellp();\n            data.close();\n            data.clear();\n            data.open(\"cookies.txt\", ios::binary | ios::out);\n\n            cout &lt;&lt; \"Please enter the new quantity for the cookie \";\n            cin &gt;&gt; test.quantity;\n\n            data.seekp(position-sizeof(test),ios::cur);\n            data.write(reinterpret_cast&lt;char *&gt;(&amp;test), sizeof(test));\n        }\n        // Read the next record from the file.\n        data.read(reinterpret_cast&lt;char *&gt;(&amp;test),\n        sizeof(test));\n    }\n    return;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "cuda", "thrust"], "comments": [{"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1427921082, "post_id": 29400050, "comment_id": 46976721, "body": "Without seeing a definition of <code>point</code> in a complete example someone could try and compile it is impossible to say what is wrong, but I would wager that 0 isn&#39;t a valid <code>point</code> value, nor is there a way to construct or cast to one."}], "answers": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "is_accepted": true, "score": 4, "last_activity_date": 1427922445, "last_edit_date": 1592644375, "creation_date": 1427922445, "answer_id": 29400856, "question_id": 29400050, "link": "https://stackoverflow.com/questions/29400050/cuda-functor-of-min-point/29400856#29400856", "title": "CUDA functor of min point", "body": "<p>It may be helpful if you study the thrust documentation for <a href=\"https://thrust.github.io/doc/group__reductions.html#ga5e9cef4919927834bec50fc4829f6e6b\" rel=\"nofollow noreferrer\">reduce</a>.</p>\n<p>Note the following:</p>\n<blockquote>\n<p>Template Parameters</p>\n<p>InputIterator is a model of Input Iterator and InputIterator's value_type is convertible to T.</p>\n<p>T is a model of Assignable, and is convertible to BinaryFunction's first_argument_type and second_argument_type.</p>\n</blockquote>\n<p>This means that your choice of the <code>init</code> parameter as well as <em>the return type</em> of <code>reduce</code> are not arbitrary.  They must be the same type (effectively) as the type of the input iterator (i.e. <code>point</code> in this case).</p>\n<p><code>thrust::reduce</code> (in this case) does <em>not</em> return the index of the minimum element.  It returns the actual contents of the minimum element, i.e. if your elements are <code>point</code>, it returns a <code>point</code>, and the init value must be of type <code>point</code>.</p>\n<p>To find the index of the minimum point (appears to be your objective) there are various possibilities.  One possibility would be to zip together (using <code>zip_iterator</code>) the data along with an index array (e.g. <code>counting_iterator</code>), do the min-reduction based on that, and then extract the index from the value returned by <code>thrust::reduce</code>.</p>\n<p>However, I think a better approach would be what is suggested <a href=\"https://stackoverflow.com/questions/7709181/finding-the-maximum-element-value-and-its-position-using-cuda-thrust\">here</a>, i.e. use <a href=\"https://thrust.github.io/doc/group__extrema.html#ga90f5158cab04adeb3f1b8b5e4acdbbcc\" rel=\"nofollow noreferrer\"><code>thrust::min_element</code></a> which <em>will</em> return an interator to the minimum element, which can then be used to compute the index easily.</p>\n<p>Here's a worked example:</p>\n<pre><code>$ cat t683.cu\n#include &lt;thrust/device_ptr.h&gt;\n#include &lt;thrust/extrema.h&gt;\n#include &lt;thrust/host_vector.h&gt;\n#include &lt;thrust/device_vector.h&gt;\n\n#include &lt;iostream&gt;\n\nstruct point{\n\n  int value;\n  int data;\n};\n\n\nstruct minPointOperator\n{\n    __device__ __host__ bool operator()(const point&amp; x, const point&amp; y) const\n    {\n        return (x.value &lt; y.value);\n    }\n};\n\nint findBestPointIndx(point* dev_points, int pointCount)\n{\n    thrust::device_ptr&lt;point&gt; points(dev_points);\n    int id = thrust::min_element(points, points+pointCount, minPointOperator()) - points;\n    return id;\n}\n\nint main(){\n\n  point data[4] = { {4,5}, {0,7}, {2,3}, {6,1} };\n  thrust::host_vector&lt;point&gt; h_data(data, data + 4);\n  thrust::device_vector&lt;point&gt; d_data = h_data;\n  int min_point = findBestPointIndx(thrust::raw_pointer_cast(d_data.data()), 4);\n  std::cout &lt;&lt; &quot;min index: &quot; &lt;&lt; min_point &lt;&lt; std::endl;\n  return 0;\n}\n\n$ nvcc t683.cu -o t683\n$ ./t683\nmin index: 1\n$\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3262743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/655b2b590f2266bc1ba9442fb2e72125?s=128&d=identicon&r=PG&f=1", "display_name": "eocron", "link": "https://stackoverflow.com/users/3262743/eocron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 29400856, "answer_count": 1, "score": -1, "last_activity_date": 1427922445, "creation_date": 1427919814, "question_id": 29400050, "link": "https://stackoverflow.com/questions/29400050/cuda-functor-of-min-point", "title": "CUDA functor of min point", "body": "<p>Im stunned. I readed a lot of answers and still can't get it work. Im trying to implement comparator over <code>struct point</code>, which will help to find minimal point in array, this is code so far:</p>\n\n<pre><code>struct minPointOperator\n{\n    __device__ __host__ point operator()(const point&amp; x, const point&amp; y) const \n    { \n        return x.value &gt; y.value ? y : x;\n    } \n};\nint findBestPointIndx(point* dev_points, int pointCount)\n{\n    thrust::device_ptr&lt;point&gt; points(dev_points);\n    int id = thrust::reduce(points, points+pointCount, 0, minPointOperator());\n    return id;\n}\n</code></pre>\n\n<p>but thi doesn't compile, it just spew a lot of <code>function \"minPointOperator::operator()\" cannot be called with the given argument list</code>  errors</p>\n"}, {"tags": ["c++", "qt", "qdialog"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1427921770, "post_id": 29400003, "comment_id": 46977113, "body": "Why do you get the pointers to the buttons in the constructor if you don&#39;t use them anywhere?"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1427922522, "post_id": 29400003, "comment_id": 46977474, "body": "Looks like your roles are not set. Did you bother to check those pointers in the constructor to verify buttons with such roles exist?"}, {"owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1427924709, "post_id": 29400003, "comment_id": 46978402, "body": "@ddriver to be honest, when doing it it allow me to triggered the clicked. What I&#39;m looking is just opening the overwrite box if the same file is detected and catch the answer &quot;Yes....No..&quot; before continuing"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1427925015, "post_id": 29400003, "comment_id": 46978510, "body": "Again - check your roles. You get <code>NoButton</code> when it is not a standard button, which means it doesn&#39;t have the appropriate role set. I don&#39;t say any other reason it will not work."}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427919645, "creation_date": 1427919645, "question_id": 29400003, "link": "https://stackoverflow.com/questions/29400003/button-clicked-not-received-in-buttonbox", "title": "Button clicked not received in buttonbox", "body": "<p>I have created a overwrite dialog box as shown below in QT/C++</p>\n\n<p><img src=\"https://i.stack.imgur.com/9Wxpu.png\" alt=\"enter image description here\"></p>\n\n<p>here is the code associated:</p>\n\n<pre><code>DialogOverwrite::DialogOverwrite(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::DialogOverwrite)\n{\n    ui-&gt;setupUi(this);\n\n    QPushButton *YesToAllButton = ui-&gt;buttonBox-&gt;button(QDialogButtonBox::YesToAll);\n    QPushButton *YesButton = ui-&gt;buttonBox-&gt;button(QDialogButtonBox::Yes);\n    QPushButton *NoToAllButton = ui-&gt;buttonBox-&gt;button(QDialogButtonBox::NoToAll);\n    QPushButton *NoButton = ui-&gt;buttonBox-&gt;button(QDialogButtonBox::No);\n    QPushButton *CancelButton = ui-&gt;buttonBox-&gt;button(QDialogButtonBox::Cancel);\n\n    connect(ui-&gt;buttonBox, SIGNAL(clicked(QAbstractButton*)),this,\n        SLOT(dialogButton(QAbstractButton*)));\n}\n\nDialogOverwrite::~DialogOverwrite()\n{\n    delete ui;\n}\n\nvoid DialogOverwrite::dialogButton(QAbstractButton* aButton) {\n    QDialogButtonBox::StandardButton button = ui-&gt;buttonBox-&gt;standardButton(aButton);\n    switch (button) {\n    case QDialogButtonBox::YesToAll:\n        OverwriteAction = YES_TO_ALL;\n        break;\n</code></pre>\n\n<p>....</p>\n\n<p>I have declared QPushButton *YesToAllButton ... in order to connect to the buttonbox design in the ui and triggered the signal clicked.</p>\n\n<p>The triggered works fine but when trying to catch on which button I have clicked, I receive a \"NoButton\" instead of YesToAll or any other.</p>\n\n<p>Did I miss something</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "c++11", "initialization", "c++14"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427920217, "post_id": 29399870, "comment_id": 46976250, "body": "Well I thought it was because <code>B</code> wasn&#39;t an aggregate, but it actually seems to meet the requirements as far as I can tell.  It&#39;s simply non-trivial."}, {"owner": {"reputation": 38390, "user_id": 923854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OecRr.png?s=128&g=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/923854/casey"}, "edited": false, "score": 1, "creation_date": 1427926257, "post_id": 29399870, "comment_id": 46979019, "body": "Note that &quot;C++14&quot; on Ideone.com is g++-4.9.2, which is not C++14-compliant (as attested by this compile error!)"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4739674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988b03267124fcf611b103b05216d3b?s=128&d=identicon&r=PG&f=1", "display_name": "fp12", "link": "https://stackoverflow.com/users/4739674/fp12"}, "edited": false, "score": 0, "creation_date": 1427983130, "post_id": 29401520, "comment_id": 47002075, "body": "Thanks a lot for the detailed answer! I guess I should have tested with another c++14 compiler to be sure..."}], "owner": {"reputation": 38390, "user_id": 923854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OecRr.png?s=128&g=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/923854/casey"}, "is_accepted": true, "score": 2, "last_activity_date": 1427925646, "last_edit_date": 1427925646, "creation_date": 1427925259, "answer_id": 29401520, "question_id": 29399870, "link": "https://stackoverflow.com/questions/29399870/uniform-and-value-initialization/29401520#29401520", "title": "Uniform and Value-initialization", "body": "<p>Under C++11 rules, <code>B</code> is not an aggregate type. C++11 [dcl.init.aggr]/1:</p>\n\n<blockquote>\n  <p>An <em>aggregate</em> is an array or a class (Clause 9) with no user-provided constructors (12.1), <strong>no <em>brace-or-equal-initializers</em> for non-static data members</strong> (9.2), no private or protected non-static data members (Clause 11), no base classes (Clause 10), and no virtual functions (10.3).</p>\n</blockquote>\n\n<p><code>B</code> only has a default constructor, and thus cannot be initialized from the <em>braced-initializer-list</em> <code>{2}</code>. </p>\n\n<p>C++14 allows <em>brace-or-equal-initializers</em> for non-static data members in an aggregate. N4140 [dcl.init.aggr]/1:</p>\n\n<blockquote>\n  <p>An <em>aggregate</em> is an array or a class (Clause 9) with no user-provided constructors (12.1), no private or protected non-static data members (Clause 11), no base classes (Clause 10), and no virtual functions (10.3).</p>\n</blockquote>\n\n<p>With fairly straight-forward semantics: fields for which there is no initializer specified are initialized from their <em>brace-or-equal-initializer</em>, if any, and otherwise initialized with <code>{}</code> [dcl.init.aggr]/7:</p>\n\n<blockquote>\n  <p>If there are fewer <em>initializer-clauses</em> in the list than there are members in the aggregate, then each member not explicitly initialized shall be initialized from its <em>brace-or-equal-initializer</em> or, if there is no <em>brace-or-equal-initializer</em>, from an empty initializer list (8.5.4).</p>\n</blockquote>\n\n<p>Your program is thus valid C++14 (<a href=\"http://melpon.org/wandbox/permlink/IoUviio8T4DOUqUY\" rel=\"nofollow\"><strong>DEMO</strong></a>). Essentially, the prohibition of <em>brace-or-equal-initializer</em>s in C++11 was a mistake that C++14 corrected.</p>\n"}], "owner": {"reputation": 63, "user_id": 4739674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988b03267124fcf611b103b05216d3b?s=128&d=identicon&r=PG&f=1", "display_name": "fp12", "link": "https://stackoverflow.com/users/4739674/fp12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "closed_date": 1427932130, "accepted_answer_id": 29401520, "answer_count": 1, "score": 6, "last_activity_date": 1427932182, "creation_date": 1427919030, "last_edit_date": 1427932182, "question_id": 29399870, "link": "https://stackoverflow.com/questions/29399870/uniform-and-value-initialization", "closed_reason": "Duplicate", "title": "Uniform and Value-initialization", "body": "<p>I try to use value-initialization for members with value-initialization for constructors (I don't know if I really use the good terms...)</p>\n\n<p>So... When I define:</p>\n\n<pre><code>struct A\n{\n  int a_;\n};\n</code></pre>\n\n<p>I'm able to use:</p>\n\n<pre><code>A a{5};\nassert(m.a_==5);   \n</code></pre>\n\n<p>However, if I want to use the member brace initializer AND an initialization-list constructor</p>\n\n<pre><code>struct B\n{\n  int b_ {1};\n};\n</code></pre>\n\n<p>This doesn't compile (c++14: <a href=\"http://ideone.com/MQ1FMU\">http://ideone.com/MQ1FMU</a>):</p>\n\n<pre><code>B b{2};\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>prog.cpp:19:7: error: no matching function for call to 'B::B(&lt;brace-enclosed initializer list&gt;)'\n  B b{2};\n       ^\nprog.cpp:19:7: note: candidates are:\nprog.cpp:10:8: note: constexpr B::B()\n struct B\n        ^\nprog.cpp:10:8: note:   candidate expects 0 arguments, 1 provided\nprog.cpp:10:8: note: constexpr B::B(const B&amp;)\nprog.cpp:10:8: note:   no known conversion for argument 1 from 'int' to 'const B&amp;'\nprog.cpp:10:8: note: constexpr B::B(B&amp;&amp;)\nprog.cpp:10:8: note:   no known conversion for argument 1 from 'int' to 'B&amp;&amp;'\n</code></pre>\n\n<p>What is the difference, concept-wise?\nMany thanks!</p>\n"}, {"tags": ["c++", "c", "file", "fopen", "fclose"], "comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1427918926, "post_id": 29399771, "comment_id": 46975559, "body": "It&#39;s undefined behavior of course."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 1, "creation_date": 1427919134, "post_id": 29399771, "comment_id": 46975678, "body": "In a complex situation that is hard to keep track of, just as with <code>free()</code> if you set the pointer to <code>NULL</code> at the point of declaration, and after closing or freeing, you can then check it before the <code>fclose()</code> or <code>free()</code> call to save a lot of grief."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1427919506, "post_id": 29399771, "comment_id": 46975861, "body": "@WeatherVane: But unfortunately, in difference to <code>free</code>, it is not well defined to call <code>fclose</code> with a <code>NULL</code> pointer. I would suggest &quot;checking&quot; for <code>NULL</code> before <code>free</code> is a bad thing. Checking for <code>NULL</code> before calling <code>fclose</code> is definitely a good thing."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1427919548, "post_id": 29399771, "comment_id": 46975883, "body": "Also see <a href=\"http://stackoverflow.com/q/24555980/1708801\">Fclose a file that is already fclose</a> looks like a duplicate"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427919666, "post_id": 29399771, "comment_id": 46975953, "body": "@MatsPetersson How about <code>if (!nullptr == fp) \t\t\tfclose(fp); </code> ?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427919667, "post_id": 29399771, "comment_id": 46975954, "body": "@MatsPetersson I didn&#39;t say to call <code>fclose(NULL)</code> or <code>free(NULL)</code>. I said it allows you to check the pointer status and <b><i>not</i></b> call those functions. but with a file, you need to be careful to distinguish that a file handle can be <code>0</code>."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427919833, "post_id": 29399771, "comment_id": 46976041, "body": "Right, and my point is that <code>free</code>, since about 1990 [or before], tolerates calls with a <code>NULL</code> pointer - so you should NOT check for <code>NULL</code> before calling <code>free</code> (because it&#39;s extra code that doesn&#39;t do anything meaningful), but you should before calling <code>fclose</code>. Which is rather confusing. Better to avoid both and use <code>fstream</code>."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427920050, "post_id": 29399771, "comment_id": 46976163, "body": "@MatsPetersson I don&#39;t understand your quibble. Is my suggestion that you set a freed memory pointer, or a closed file pointer to <code>NULL</code> wrong, so that in the first case it is benign to <code>free()</code>, and in the second, checkable to <code>fclose()</code>?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427920178, "post_id": 29399771, "comment_id": 46976225, "body": "No, but your suggestion to &quot;check for <code>NULL</code> before calling <code>free</code> leads to extra code for no good reason, wheras you NEED to do that in the case of <code>fclose</code>."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1427920218, "post_id": 29399771, "comment_id": 46976251, "body": "That&#39;s what I originally said. Check for <code>NULL</code>, sorry I mentioned <code>free()</code> now, but you went right off topic."}], "answers": [{"comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1427919017, "post_id": 29399840, "comment_id": 46975608, "body": "POSIX also says it&#39;s UB: <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/fclose.html\" rel=\"nofollow noreferrer\">pubs.opengroup.org/onlinepubs/009695399/functions/fclose.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1427919021, "post_id": 29399840, "comment_id": 46975610, "body": "Agreed.  An implementation could always <code>new&#47;malloc</code> the <code>FILE</code> in <code>fopen(_s)()</code> and <code>delete&#47;free</code> it in <code>fclose()</code>,or it could use a private cache, and both would be legal.  The caller should not make any assumptions about the validity of a <code>FILE*</code> pointer after passing it to <code>fclose()</code>, just NULL it and move it."}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427919042, "post_id": 29399840, "comment_id": 46975626, "body": "Why does it say <i>stream parameter</i>? Not using streams here"}, {"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 1, "creation_date": 1427919202, "post_id": 29399840, "comment_id": 46975713, "body": "@ShafikYaghmour: ISO C11 Draft N1570, 7.21.3 par. 4: <code>The value of a pointer to a FILE object is indeterminate after the associated file is closed (including the standard text streams).</code>"}], "owner": {"reputation": 765, "user_id": 2661551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/621133c045364c2063d4d943d09a3b97?s=128&d=identicon&r=PG", "display_name": "Shade", "link": "https://stackoverflow.com/users/2661551/shade"}, "is_accepted": true, "score": 6, "last_activity_date": 1427918911, "creation_date": 1427918911, "answer_id": 29399840, "question_id": 29399771, "link": "https://stackoverflow.com/questions/29399771/undefined-behavior-fopen-fclose/29399840#29399840", "title": "Undefined behavior fopen, fclose", "body": "<p>Quote from <code>man fclose</code>:</p>\n\n<blockquote>\n  <p>The  behaviour  of  fclose()  is  undefined  if  the  stream  parameter is an illegal pointer, or is a descriptor already passed to a previous invocation of fclose().</p>\n</blockquote>\n\n<p>So yes, it is undefined behavior.</p>\n"}], "owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "closed_date": 1427919668, "accepted_answer_id": 29399840, "answer_count": 1, "score": 2, "last_activity_date": 1427918969, "creation_date": 1427918659, "last_edit_date": 1427918969, "question_id": 29399771, "link": "https://stackoverflow.com/questions/29399771/undefined-behavior-fopen-fclose", "closed_reason": "Duplicate", "title": "Undefined behavior fopen, fclose", "body": "<p>Can the following code result in undefined behavior?</p>\n\n<pre><code>FILE *fp;\nfopen_s(&amp;fp, \"abc.bin\", \"rb\");\nfclose(fp);\nfclose(fp); // accidentally closed an already closed file.\n</code></pre>\n\n<p>I know that calling free on an already freed up array results in UB. Hence I ask. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427918735, "post_id": 29399748, "comment_id": 46975450, "body": "Can you provide an example? I don&#39;t understand the question. Are you asking how to iterate through the elements in <code>array</code> and access each of their <code>b</code> members?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1427918859, "post_id": 29399748, "comment_id": 46975520, "body": "If b is made public then you can use <code>array[i].b</code>"}, {"owner": {"reputation": 6675, "user_id": 875295, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/1rKE0.jpg?s=128&g=1", "display_name": "lezebulon", "link": "https://stackoverflow.com/users/875295/lezebulon"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427918897, "post_id": 29399748, "comment_id": 46975539, "body": "@Cameron : basically I have a library which is storing this A array, and I&#39;d like to only expose the class B (not A). I&#39;d also like for the users of the library to iterate through the &quot;b&quot; members of &quot;array&quot;, without having them know that it&#39;s actually a &quot;b&quot; member of a class A."}, {"owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "edited": false, "score": 7, "creation_date": 1427919140, "post_id": 29399748, "comment_id": 46975682, "body": "You want to use a custom iterator, an <a href=\"http://stackoverflow.com/questions/3582608/how-to-correctly-implement-custom-iterators-and-const-iterators\">example question about making one</a>."}], "owner": {"reputation": 6675, "user_id": 875295, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/1rKE0.jpg?s=128&g=1", "display_name": "lezebulon", "link": "https://stackoverflow.com/users/875295/lezebulon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427919222, "creation_date": 1427918585, "last_edit_date": 1427918961, "question_id": 29399748, "link": "https://stackoverflow.com/questions/29399748/index-elements-of-array-as-an-array", "title": "index elements of array as an array?", "body": "<p>let's say I have the following :</p>\n\n<pre><code>class A {\n\nB b;\nC c;\n\n};\n\n//....\n\nA array[20];\n</code></pre>\n\n<p>Now I want to have access to the \"b\" member of class A, as if it was in an array.\nIs there a C/C++ way to do this ? For instance with the knowledge of just the pointer to array and the size (20), I would like to be able to enumerate only the \"b\" members, like <code>new_array[i]</code>. Is there a way to do this without directly referencing the class A ?</p>\n\n<p>edit :  reason I want to do this :\n I have a library which is storing this A array, and I'd like to only expose the class B (not A) to the users of the lib. I'd also like for the users of the library to iterate through the \"b\" members of \"array\", without having them know that it's actually a \"b\" member of a class A.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 4896, "user_id": 2792256, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/poi0S.jpg?s=128&g=1", "display_name": "Googie", "link": "https://stackoverflow.com/users/2792256/googie"}, "edited": false, "score": 1, "creation_date": 1427918258, "post_id": 29399621, "comment_id": 46975205, "body": "Can you draw a sample image of what would you expect to achive?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 3507499, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a3f4418333c096f98586a20f82aef1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3507499", "link": "https://stackoverflow.com/users/3507499/user3507499"}, "edited": false, "score": 0, "creation_date": 1427944953, "post_id": 29401441, "comment_id": 46983929, "body": "Thank you for the response. The problem is - I only have Qt 4.6. I am not able to implement qml in it. Do you have any suggestions for making lighting work on a qwidget still. I know its difficult - but even a broad outline  might work. From what you have written, it seems to have something to do with the Linear Gradient?"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "reply_to_user": {"reputation": 55, "user_id": 3507499, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a3f4418333c096f98586a20f82aef1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3507499", "link": "https://stackoverflow.com/users/3507499/user3507499"}, "edited": false, "score": 0, "creation_date": 1427978999, "post_id": 29401441, "comment_id": 46999447, "body": "&quot;I only have Qt 4.6&quot; - well, why don&#39;t you get a newer version, after all... you know, it&#39;s free. The &quot;broad outline&quot; is the second paragraph from the answer, it is also used for the QML example, it is just that QML does most of the work for you, with QtWidgets you will have to draw everything manually."}], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": false, "score": 2, "last_activity_date": 1427924895, "creation_date": 1427924895, "answer_id": 29401441, "question_id": 29399621, "link": "https://stackoverflow.com/questions/29399621/qt-getting-a-qwidget-to-reflect-light/29401441#29401441", "title": "Qt getting a QWidget to reflect light", "body": "<p>This isn't a reflection really, which itself would be pretty complex to achieve.</p>\n\n<p>It is a clumsy fakery, basically you have an animated linear gradient going from transparent to white to transparent, which is masked by the alpha of the object it is supposed to be applied to as it moves across it.</p>\n\n<p>If you are looking for a way to do that in Qt, it is most definitely not <code>QtWdigets</code>, it will be very inefficient. The right tool for this is QML - this is how easy it is:</p>\n\n<pre><code>import QtQuick 2.4\nimport QtQuick.Window 2.2\nimport QtQuick.Controls 1.2\nimport QtGraphicalEffects 1.0\n\nApplicationWindow {\n    id: main\n    width: 200\n    height: 200\n    visible: true\n    color: \"black\"\n\n    Grid {\n        x: 15\n        y: 15\n        id: grid\n        rows: 3\n        columns: 3\n        spacing: 10\n\n        Repeater {\n            model: 9\n            Rectangle {\n                radius: 10\n                width: 50\n                height: 50\n                color: \"gold\"\n                border.color: \"orange\"\n                border.width: 5\n            }\n        }\n    }\n\n    LinearGradient {\n        id: effect\n        anchors.fill: grid\n        source: grid\n        rotation: -90\n        property real p : pos.mouseX / pos.width\n        gradient: Gradient {\n            GradientStop { position: effect.p - 0.05; color: \"#00FFFFFF\"}\n            GradientStop { position: effect.p; color: \"#FFFFFFFF\"}\n            GradientStop { position: effect.p + 0.05; color: \"#00FFFFFF\"}\n        }\n    }\n\n    MouseArea {\n        id: pos\n        anchors.fill: grid\n        hoverEnabled: true\n    }\n}\n</code></pre>\n\n<p>And the result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Z3ok9.png\" alt=\"enter image description here\"></p>\n\n<p>The light in this example will move with the mouse position.</p>\n"}], "owner": {"reputation": 55, "user_id": 3507499, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a3f4418333c096f98586a20f82aef1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3507499", "link": "https://stackoverflow.com/users/3507499/user3507499"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427924895, "creation_date": 1427918065, "last_edit_date": 1427920585, "question_id": 29399621, "link": "https://stackoverflow.com/questions/29399621/qt-getting-a-qwidget-to-reflect-light", "title": "Qt getting a QWidget to reflect light", "body": "<p>I am using Qt 4.6 to create a grid of golden plaques. I have done so using QLabel as my widget and setting its parent to QPixmap which contains a .jpg image of a plaque. The widgets then scroll up the screen out of sight. However, now I would like the plaques to shine as they move. I thought that QGraphicsEffect would have a function that would do that - much like its dropShadowEffect where the shadow changes position with regard to the light source. In a similar way, I am searching for a way that the shininess of each plaque would reflect from a light source as the widgets move.</p>\n\n<p>So, for example, here is an example of a trophy glinting gold <a href=\"http://www.123gifs.eu/gold/gif-pokal-0019.gif.html\" rel=\"nofollow\">Gold Trophy</a> or<a href=\"http://www.123gifs.eu/gold/page-8/\" rel=\"nofollow\">2nd Gold Trophy</a> (look at the trophy that says 2nd on it). I would like to be able to add the same feature to my plaques. Any help would be greatly appreaciated</p>\n"}, {"tags": ["c++", "arrays", "for-loop", "multidimensional-array", "decrement"], "comments": [{"owner": {"reputation": 3059, "user_id": 202367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca76b7b553fb6ccdf4982024c82200f3?s=128&d=identicon&r=PG", "display_name": "pascal", "link": "https://stackoverflow.com/users/202367/pascal"}, "edited": false, "score": 0, "creation_date": 1427919035, "post_id": 29399608, "comment_id": 46975619, "body": "It is the compiler which has a problem; I guess it is the execution. In a for loop the test is executed at the beginning of the loop: from the beginning, <code>Row</code> does not verify <code>Row&gt;MAX_ROWS</code>, so the outer loop is never executed."}, {"owner": {"reputation": 3059, "user_id": 202367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca76b7b553fb6ccdf4982024c82200f3?s=128&d=identicon&r=PG", "display_name": "pascal", "link": "https://stackoverflow.com/users/202367/pascal"}, "edited": false, "score": 0, "creation_date": 1427919138, "post_id": 29399608, "comment_id": 46975681, "body": "What you want, from the title &quot;reverse order&quot;, is something like <code>for (int Row=MAX_ROWS; Row--&gt;0; )</code>."}], "answers": [{"owner": {"reputation": 866, "user_id": 4215308, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0f23844edc3b32aec24f999a567795d2?s=128&d=identicon&r=PG&f=1", "display_name": "Zerp", "link": "https://stackoverflow.com/users/4215308/zerp"}, "is_accepted": false, "score": 2, "last_activity_date": 1427918258, "creation_date": 1427918258, "answer_id": 29399669, "question_id": 29399608, "link": "https://stackoverflow.com/questions/29399608/how-to-access-elements-in-an-array-in-reverse-order/29399669#29399669", "title": "How to access elements in an array in reverse order?", "body": "<pre><code>for( int Row = 2; Row &gt; MAX_ROWS; Row--)\n</code></pre>\n\n<p><code>Row</code> and <code>MAX_ROWS</code> both equal 2 what you want is <code>Row &gt; 0</code></p>\n\n<p>Same goes for the column loop</p>\n"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1427918278, "creation_date": 1427918278, "answer_id": 29399674, "question_id": 29399608, "link": "https://stackoverflow.com/questions/29399608/how-to-access-elements-in-an-array-in-reverse-order/29399674#29399674", "title": "How to access elements in an array in reverse order?", "body": "<blockquote>\n  <p>Syntax error, Nested loop, or just silly mistake?</p>\n</blockquote>\n\n<p>The later: you start your inner loop at four, and continue while <code>Column</code> is <em>above</em> four. This is the same as never starting it. The outer loop has the same issue.</p>\n\n<p>You should start your loop at <code>SIZE-1</code> (i.e. <code>MAX_ROWS - 1</code> or <code>MAX_COLS - 1</code>) and continue while you are above or at zero:</p>\n\n<pre><code>for( int Row = MAX_ROWS-1; Row &gt;= 0 ; Row--) {\n    for( int Column = MAX_COLS - 1; Column &gt;= 0 ; Column--) {\n        cout &lt;&lt; \"Integer[\" &lt;&lt; Row &lt;&lt; \"][\" &lt;&lt; Column &lt;&lt; \"] = \" &lt;&lt; BigSmall[Row][Column] &lt;&lt; endl;\n    }   \n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/Pe1s0H\" rel=\"nofollow\">Demo.</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3392606, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/fTX9w.png?s=128&g=1", "display_name": "Ham", "link": "https://stackoverflow.com/users/3392606/ham"}, "edited": false, "score": 0, "creation_date": 1428017251, "post_id": 29399675, "comment_id": 47019613, "body": "hmm.. okay it works now. Would you explaining why that works??"}, {"owner": {"reputation": 550, "user_id": 4596797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980708640d67708d1f37365bbaba058d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Derevyanko", "link": "https://stackoverflow.com/users/4596797/andrey-derevyanko"}, "reply_to_user": {"reputation": 1, "user_id": 3392606, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/fTX9w.png?s=128&g=1", "display_name": "Ham", "link": "https://stackoverflow.com/users/3392606/ham"}, "edited": false, "score": 0, "creation_date": 1428039454, "post_id": 29399675, "comment_id": 47024267, "body": "Well, it just does what is written. E.g. for rows, you have <code>MAX_ROWS</code> (2) of them with numbers 0 and 1 (as we start count from 0). To look over them in reverse order we start from <code>MAX_ROWS-1</code> (that is 1) and finish at 0 decrementing the loop counter."}], "owner": {"reputation": 550, "user_id": 4596797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980708640d67708d1f37365bbaba058d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Derevyanko", "link": "https://stackoverflow.com/users/4596797/andrey-derevyanko"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918278, "creation_date": 1427918278, "answer_id": 29399675, "question_id": 29399608, "link": "https://stackoverflow.com/questions/29399608/how-to-access-elements-in-an-array-in-reverse-order/29399675#29399675", "title": "How to access elements in an array in reverse order?", "body": "<p>Do you mean</p>\n\n<pre><code>for( int Row = MAX_ROWS - 1; Row &gt;=0 ; Row--)\n{\n    for( int Column = MAX_COLS - 1; Column &gt;= 0 ; Column--)\n    {\n        cout &lt;&lt; \"Integer[\" &lt;&lt; Row &lt;&lt; \"][\" &lt;&lt; Column &lt;&lt; \"] = \" &lt;&lt; BigSmall[Row][Column] &lt;&lt; endl;\n    }   \n}\n</code></pre>\n\n<p>?</p>\n"}], "owner": {"reputation": 1, "user_id": 3392606, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/fTX9w.png?s=128&g=1", "display_name": "Ham", "link": "https://stackoverflow.com/users/3392606/ham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427918278, "creation_date": 1427918033, "question_id": 29399608, "link": "https://stackoverflow.com/questions/29399608/how-to-access-elements-in-an-array-in-reverse-order", "title": "How to access elements in an array in reverse order?", "body": "<p>So I don't understand what I am doing wrong(Syntax error, Nested loop, or just silly mistake??). My compiler ask me to Press any key to continue . . . Could you point me in the right direction??</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{   \n    const int MAX_ROWS = 2;\n    const int MAX_COLS = 4;\n\n    int BigSmall[MAX_ROWS][MAX_COLS] = \n    {\n        {1,3,5,7},\n        {2,4,6,8}\n    };\n\n    for( int Row = 2; Row &gt; MAX_ROWS; Row--)\n    {\n        for( int Column = 4; Column &gt; MAX_COLS; Column--)\n        {\n            cout &lt;&lt; \"Integer[\" &lt;&lt; Row &lt;&lt; \"][\" &lt;&lt; Column &lt;&lt; \"] = \" &lt;&lt; BigSmall[Row][Column] &lt;&lt; endl;\n        }   \n    }\n        return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "visual-c++", "gcc", "clang"], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 886002, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2615d234788ed7101a28bd003d08684b?s=128&d=identicon&r=PG", "display_name": "Alexp", "link": "https://stackoverflow.com/users/886002/alexp"}, "edited": false, "score": 0, "creation_date": 1453884349, "post_id": 29399773, "comment_id": 57790254, "body": "At present Clang in Xcode 7 for iOS targets does not support thread_local - <a href=\"https://devforums.apple.com/message/1079348#1079348\" rel=\"nofollow noreferrer\">devforums.apple.com/message/1079348#1079348</a> so I am not sure why this is marked as correct."}, {"owner": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 1, "creation_date": 1499283023, "post_id": 29399773, "comment_id": 76845022, "body": "<code>Apple LLVM version 7.3.0 (clang-703.0.31)</code> produces this fatal diagnostic for x86-64: <code>error: thread-local storage is not supported for the current target</code>. But <code>Apple LLVM version 8.1.0 (clang-802.0.42)</code> seems to handle <code>thread_local</code> all right, at least for native x86-64. I don&#39;t know about iOS."}], "owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "is_accepted": false, "score": 3, "last_activity_date": 1427918668, "creation_date": 1427918668, "answer_id": 29399773, "question_id": 29399494, "link": "https://stackoverflow.com/questions/29399494/what-is-the-current-state-of-support-for-thread-local-across-platforms/29399773#29399773", "title": "What is the current state of support for &#39;thread_local&#39; across platforms?", "body": "<p>For <code>clang</code>, you can check the <a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow\">C++11 implementation status</a>:</p>\n\n<blockquote>\n  <p><strong>Language Feature:</strong> Thread-local storage<br>\n  <strong>C++11 Proposal:</strong> <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2659.htm\" rel=\"nofollow\">N2659</a><br>\n  <strong>Available in Clang?</strong> Clang 3.3</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Clang 3.3 and later implement all of the <a href=\"http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=50372\" rel=\"nofollow\">ISO C++ 2011 standard</a>. ...\n  <code>thread_local</code> support currently requires the C++ runtime library from g++-4.8 or later.</p>\n</blockquote>\n\n<p>You could also use <a href=\"http://libcxx.llvm.org/\" rel=\"nofollow\">libc++</a>, which is \"a 100% complete C++11 implementation on Apple's OS X.\"</p>\n"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 7, "last_activity_date": 1465809444, "last_edit_date": 1465809444, "creation_date": 1428017036, "answer_id": 29424084, "question_id": 29399494, "link": "https://stackoverflow.com/questions/29399494/what-is-the-current-state-of-support-for-thread-local-across-platforms/29424084#29424084", "title": "What is the current state of support for &#39;thread_local&#39; across platforms?", "body": "<p>In complement to the other excellent answer: MSVC 2013  doesn't currently support it.  </p>\n\n<p>This <a href=\"http://blogs.msdn.com/b/vcblog/archive/2013/12/02/c-11-14-core-language-features-in-vs-2013-and-the-nov-2013-ctp.aspx\" rel=\"nofollow\">page on support of core language features</a> claims it's partially supported. However, looking at the details it appears that:  </p>\n\n<blockquote>\n  <p>Thread-local storage is listed as \"Partial\" because VC has provided\n  the <strong>non-Standard extension</strong> __declspec(thread) for many years.\n  (Notably, C++11 thread_local supports non-PODs, but __declspec(thread)\n  doesn't.)</p>\n</blockquote>\n\n<p>It's implemented in MSVC 2014 CTP 3 (since summer 2014; See <a href=\"http://blogs.msdn.com/b/vcblog/archive/2014/11/17/c-11-14-17-features-in-vs-2015-preview.aspx\" rel=\"nofollow\">blog entry</a>) and is available in <a href=\"https://msdn.microsoft.com/en-us/library/hh567368.aspx\" rel=\"nofollow\">MSVS2015</a>.</p>\n"}], "owner": {"reputation": 3170, "user_id": 1004211, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/490a33dc2429cbd669bd4471d7aedc1d?s=128&d=identicon&r=PG", "display_name": "Prismatic", "link": "https://stackoverflow.com/users/1004211/prismatic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2518, "favorite_count": 4, "answer_count": 2, "score": 12, "last_activity_date": 1465809444, "creation_date": 1427917634, "last_edit_date": 1427918030, "question_id": 29399494, "link": "https://stackoverflow.com/questions/29399494/what-is-the-current-state-of-support-for-thread-local-across-platforms", "title": "What is the current state of support for &#39;thread_local&#39; across platforms?", "body": "<p>I'd like a summary of what the current state of support for the 'thread_local' keyword is across different compilers and platforms. </p>\n\n<p>I'm specifically interested in common desktop and mobile platforms. The information I could find seems spotty at best with reports of it working on some platforms and not on others or mentions of support being a WIP. Answers that confirm support (or lack of support) even for single platforms are welcome. Please mention any caveats to the support if there are any.</p>\n\n<ul>\n<li>Windows (gcc, clang, msvc)</li>\n<li>Linux (gcc, clang)</li>\n<li>OS X (gcc, clang)</li>\n<li>Android (gcc, clang)</li>\n<li>iOS</li>\n<li>BlackBerry</li>\n<li>Windows Phone/RT/etc</li>\n</ul>\n"}, {"tags": ["c++", "file", "stl", "merge", "mergesort"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1427917666, "post_id": 29399422, "comment_id": 46974851, "body": "Have you looked at external sorting: <a href=\"http://en.wikipedia.org/wiki/External_sorting\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/External_sorting</a>?"}, {"owner": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "edited": false, "score": 1, "creation_date": 1427918028, "post_id": 29399422, "comment_id": 46975061, "body": "Have you tried to implement <code>merge</code>? The algorithm does not require that you keep the sources in memory, as a matter of fact it acts only on one value from each sequence... Alternatively you can just use the algorithm on your inputs directly by means of <code>std::istream_iterator</code> and <code>std::ostream_iterator</code>... just saying"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1427918059, "post_id": 29399422, "comment_id": 46975082, "body": "Are the input files supposed to be already sorted ?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1427918464, "post_id": 29399422, "comment_id": 46975296, "body": "Like David said, <code>std::istream_iterator&lt;int&gt;</code> and <code>std::merge</code> would work pretty easily in concert to <a href=\"http://pastebin.com/XEc5ZBM7\" rel=\"nofollow noreferrer\">solve this trivially</a>."}], "answers": [{"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427923402, "creation_date": 1427923402, "answer_id": 29401107, "question_id": 29399422, "link": "https://stackoverflow.com/questions/29399422/how-to-merge-two-files-if-the-buffer-size-is-smaller-than-the-size-of-the-file/29401107#29401107", "title": "How to merge two files if the buffer size is smaller than the size of the file?", "body": "<p>As mentioned in the comment, you only need 1 number from each file to implement a merge, but you'll probably need to write your own merge logic as opposed to using std::merge. Example pseudo code, you'll need to add eof checks (if end of 1.txt, copy rest of 2.txt and vice versa).</p>\n\n<pre><code>    num1 = get number from \"1.txt\"\n    num2 = get number from \"2.txt\"\n    loop(...){\n        if(num1 &lt;= num2){\n            write num1\n            num1 = get number from \"1.txt\"\n        } else {\n            write num2\n            num2 = get number from \"2.txt\"\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4735025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6442a2e5c0d2aca360961d45aa8d1c?s=128&d=identicon&r=PG", "display_name": "amtkel", "link": "https://stackoverflow.com/users/4735025/amtkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427923402, "creation_date": 1427917390, "question_id": 29399422, "link": "https://stackoverflow.com/questions/29399422/how-to-merge-two-files-if-the-buffer-size-is-smaller-than-the-size-of-the-file", "title": "How to merge two files if the buffer size is smaller than the size of the file?", "body": "<p>How to merge two files if the buffer size is smaller than the size of the file?\nFor example, I have two files with sorted integers</p>\n\n<p>1.txt  and  2.txt</p>\n\n<pre><code>2       1\n5       7\n6       8\n7       9\n</code></pre>\n\n<p>I have to merge them in one sorted file but I can't read more than two numbers from each file(that's the task). And I cant have more than 4 numbers in memory at the same time.</p>\n\n<p>Here is my code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int bufferSize = 2;\n\nbool readSortFile(ifstream &amp;file, vector&lt;int&gt; &amp;data) {\n    int tmp;\n    for (int i = 0; (i &lt; bufferSize &amp;&amp; file &gt;&gt; tmp); i++)\n        data.push_back(tmp);\n\n    return file.good();\n}\n\nint main() {\n    ifstream file1(\"1.txt\");\n    ifstream file2(\"2.txt\");\n    ofstream out;\n    vector&lt;int&gt; data1, data2;\n    bool fileGood1, fileGood2;\n\n    fileGood1 = true;\n    fileGood2 = true;\n\n    while(fileGood1 || fileGood2) {\n        if(data1.size() == 0)\n            fileGood1 = readSortFile(file1, data1);\n        if (data2.size() == 0)\n            fileGood2 = readSortFile(file2, data2);\n\n        out.open(\"temp\", ios::app);\n        merge(data1.begin(),\n              data1.end(),\n              data2.begin(),\n              data2.end(),\n              ostream_iterator&lt;int&gt;(out, \"\\n\"));\n\n        data1.clear();\n        data2.clear();\n        out.close();\n    }\n    rename(\"temp\", \"result.txt\");\n    file1.close();\n    file2.close();\n\n    return 0;\n}\n</code></pre>\n\n<p>The output is <code>1 2 5 7 6 7 8 9</code></p>\n"}, {"tags": ["c++", "class", "definition"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 3, "creation_date": 1427917408, "post_id": 29399404, "comment_id": 46974687, "body": "<code>#include &quot;implementacja.cpp&quot;</code> - anytime you find yourself <code>#include</code>-ing a <code>.cpp</code> file, consider it a highly suspect configuration smell. I suspect <code>implementacja.cpp</code> is both stand-alone compiled properly <i>and</i> <i>improperly</i> included in <code>main.cpp</code> (thusly compiled <i>again</i>), leaving you with two translation units loaded with identical defs."}], "answers": [{"comments": [{"owner": {"reputation": 2222, "user_id": 2339551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/48e00397ce26346f40c9f76d86e6e7f4?s=128&d=identicon&r=PG", "display_name": "lodo", "link": "https://stackoverflow.com/users/2339551/lodo"}, "reply_to_user": {"reputation": 13, "user_id": 4739506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e01bd5bd121a4c0225285bb583fa6?s=128&d=identicon&r=PG&f=1", "display_name": "zakho", "link": "https://stackoverflow.com/users/4739506/zakho"}, "edited": false, "score": 0, "creation_date": 1427920284, "post_id": 29399524, "comment_id": 46976287, "body": "@potatosglory I&#39;m glad to help. Please, mark the answer as accepted, so that it is clear that this is no longer an issue."}], "owner": {"reputation": 2222, "user_id": 2339551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/48e00397ce26346f40c9f76d86e6e7f4?s=128&d=identicon&r=PG", "display_name": "lodo", "link": "https://stackoverflow.com/users/2339551/lodo"}, "is_accepted": true, "score": 1, "last_activity_date": 1427917725, "creation_date": 1427917725, "answer_id": 29399524, "question_id": 29399404, "link": "https://stackoverflow.com/questions/29399404/multiple-definition-of-functions-in-c-project/29399524#29399524", "title": "multiple definition of functions in c++ project", "body": "<p>In your main file, you must not include your implementation <code>.cpp</code> file. You only have to include the header <code>.h</code> file. Putting together the implementation files is linker's work, not your work.</p>\n\n<p>To compile your main program, the compiler only needs the declarations inside the header file.</p>\n"}], "owner": {"reputation": 13, "user_id": 4739506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e01bd5bd121a4c0225285bb583fa6?s=128&d=identicon&r=PG&f=1", "display_name": "zakho", "link": "https://stackoverflow.com/users/4739506/zakho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29399524, "answer_count": 1, "score": 1, "last_activity_date": 1427920458, "creation_date": 1427917305, "last_edit_date": 1427919438, "question_id": 29399404, "link": "https://stackoverflow.com/questions/29399404/multiple-definition-of-functions-in-c-project", "title": "multiple definition of functions in c++ project", "body": "<p>I have a program like this:</p>\n\n<p><strong>zesp.h</strong></p>\n\n<pre><code>#ifndef ZESP_H_INCLUDED\n#define ZESP_H_INCLUDED\n#include &lt;iostream&gt;\n\nnamespace Project_1\n{\nvoid error ();\n\nclass Complex_n {\nprivate:\n    float real, imag;\npublic:\n    Complex_n (float n_real, float n_imag);\n    // overloaded functions\n    Complex_n &amp; operator= (const Complex_n &amp; a);\n    Complex_n &amp; operator+= (const Complex_n &amp; a);\n    Complex_n &amp; operator-= (const Complex_n &amp; a);\n    Complex_n &amp; operator*= (const Complex_n &amp; a);\n    Complex_n &amp; operator/= (const Complex_n &amp; a);\n    Complex_n operator! ();\n    // friend\n    friend std::ostream &amp; operator&lt;&lt; (std::ostream &amp; s, const Complex_n &amp; a);\n    friend Complex_n operator+ (const Complex_n &amp; a, const Complex_n &amp; b);\n    friend bool operator== (const Complex_n &amp; a, const Complex_n &amp; b);\n    friend Complex_n operator- (const Complex_n &amp; a, const Complex_n &amp; b);\n    friend Complex_n operator* (const Complex_n &amp; a, const Complex_n &amp; b);\n    friend Complex_n operator/ (const Complex_n &amp; a, const Complex_n &amp; b);\n\n};\n\nstd::ostream &amp; operator&lt;&lt; (std::ostream &amp; s, const Complex_n &amp; a);\nComplex_n operator+ (const Complex_n &amp; a, const Complex_n &amp; b);\nbool operator== (const Complex_n &amp; a, const Complex_n &amp; b);\nComplex_n operator- (const Complex_n &amp; a, const Complex_n &amp; b);\nComplex_n operator* (const Complex_n &amp; a, const Complex_n &amp; b);\nComplex_n operator/ (const Complex_n &amp; a, const Complex_n &amp; b);\n\n}\n#endif // ZESP_H_INCLUDED\n</code></pre>\n\n<p><strong>implementacja.cpp</strong></p>\n\n<pre><code>   #include \"zesp.h\"\n\n    using namespace Project_1;\n\n    // Complex_n\n    // constructor\n    Complex_n::Complex_n (float n_real, float n_imag = 0.0)\n   {\n     real = n_real;\n     imag = n_imag;\n   }\n\n   // functions\n  Complex_n &amp; Complex_n::operator= (const Complex_n &amp; a)\n {\n   real = a.real;\n  imag = a.imag;\n  return *this;\n }\n\n Complex_n &amp; Complex_n::operator+= (const Complex_n &amp; a)\n{\n  real += a.real;\n  imag += a.imag;\n  return *this;\n}\n\nComplex_n &amp; Complex_n::operator-= (const Complex_n &amp; a)\n\n{\n  real = real - a.real;\n  imag = imag - a.imag;\n  return *this;\n }\n\n Complex_n &amp; Complex_n::operator*= (const Complex_n &amp; a)\n {\n   real = (real * a.real) - (imag * a.imag);\n   imag = (real * a.imag) + (imag * a.real);\n   return *this;\n }\n\n Complex_n &amp; Complex_n::operator/= (const Complex_n &amp; a)\n {\n   if (a.real == 0.0 &amp;&amp; a.imag == 0.0)\n   {\n      error ();\n      return *this;\n   }\n   real = (real * a.real + imag * a.imag) / (a.real * a.real + a.imag * a.imag);\nimag = (imag * a.real - a.real * a.imag) / (a.real * a.real + a.imag * a.imag);\nreturn *this;\n   }\n\n   Complex_n Complex_n::operator! ()\n  {\n    imag = imag * (-1.0);\n    return *this;\n  }\n\n  // friend functions\n  std::ostream &amp; Project_1::operator&lt;&lt; (std::ostream &amp; s, const Complex_n &amp; a)\n {\n   if (a.real != 0)\n   s&lt;&lt;a.real;\n   if (a.imag &lt; 0)\n       s&lt;&lt;\" \"&lt;&lt;a.imag&lt;&lt;\"*i\"&lt;&lt;std::endl;\n   else if (a.imag &gt; 0)\n           s&lt;&lt;\" + \"&lt;&lt;a.imag&lt;&lt;\"*i\"&lt;&lt;std::endl;\n   return s;\n  }\n\n  Complex_n Project_1::operator+ (const Complex_n &amp; a, const Complex_n &amp; b)\n  {\n     Complex_n temp (a.real + b.real, a.imag + b.imag);\n     return temp;\n  }\n\n  bool Project_1::operator== (const Complex_n &amp; a, const Complex_n &amp; b)\n  {\n     if (a.real == b.real &amp;&amp; a.imag == b.imag)\n       return true;\n     return false;\n  }\n\n  Complex_n Project_1::operator- (const Complex_n &amp; a, const Complex_n &amp; b)\n  {\n     Complex_n temp (a.real - b.real, a.imag - b.imag);\n     return temp;\n  }\n\n  Complex_n Project_1::operator* (const Complex_n &amp; a, const Complex_n &amp; b)\n {\n    Complex_n temp ((a.real * b.real) - (a.imag * b.imag), (a.real * b.imag) + (a.imag * b.real));\n     return temp;\n }\n\n Complex_n Project_1::operator/ (const Complex_n &amp; a, const Complex_n &amp; b)\n{\n   Complex_n temp (0.0, 0.0);\n   if(b.real == 0.0 &amp;&amp; b.imag == 0.0)\n   {\n       error ();\n       return temp;\n   }\n   temp.real = (a.real * b.real + a.imag * b.imag) / (b.real * b.real + b.imag * b.imag);\n   temp.imag = (a.imag * b.real - b.real * b.imag) / (b.real * b.real + b.imag * b.imag);\n   return temp;\n  }\n  // Complex_n\n\n  void error ()\n  {\n      std::cout&lt;&lt;\"Blad! Nie dziel przez 0.\"&lt;&lt;std::endl;\n  }\n</code></pre>\n\n<p><strong>main.cpp:</strong></p>\n\n<pre><code> #include \"implementacja.cpp\"\n\n using namespace Project_1;\n\n // some tests\n</code></pre>\n\n<p>And my compiler reports problems like: </p>\n\n<blockquote>\n  <p>\"multiple definitions of Project_1::Complex_n::Complex_n(float,\n  float)\"</p>\n</blockquote>\n\n<p>Does anybody know whats wrong with it?</p>\n"}, {"tags": ["c++", "templates", "generic-programming"], "comments": [{"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 3, "creation_date": 1427917706, "post_id": 29399368, "comment_id": 46974873, "body": "Derived&lt;Base2&gt; != Derived&lt;Base&gt;. They are completly different types, so dcast2 is correctly set to null. One way to go around this is to make Derived inherit from another class, lets say DerivedBase, and then dynamic cast to that."}, {"owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "edited": false, "score": 0, "creation_date": 1427922212, "post_id": 29399368, "comment_id": 46977342, "body": "You&#39;re kind of mixing two different concepts together: runtime polymorphism and compile-time polymorphism. You could go as Creris suggested or consider refactoring your code in order to avoid comparing different template types"}, {"owner": {"reputation": 454, "user_id": 2041703, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eZ3la.png?s=128&g=1", "display_name": "DiB", "link": "https://stackoverflow.com/users/2041703/dib"}, "edited": false, "score": 0, "creation_date": 1427975389, "post_id": 29399368, "comment_id": 46997296, "body": "Derived&lt;Base2&gt; and Derived&lt;Base&gt; are NOT completely different types in that they both ultimately inherit from Base.  That is, I could cast either of them to a Base* successfully.  I am not arguing that the casts were wrong, only illustrating what I desired from some possible solution.  Indeed, it was the mixing of the compile-time guarantee that both inherit from Base and both have the same interface defined by Derived that I would have liked to exploit at runtime.  Using the suggested DerivedBase is a simple solution here that ultimately addresses 90% of what I wanted."}], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 2041703, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eZ3la.png?s=128&g=1", "display_name": "DiB", "link": "https://stackoverflow.com/users/2041703/dib"}, "edited": false, "score": 0, "creation_date": 1427923515, "post_id": 29400231, "comment_id": 46977928, "body": "I was hoping someone had some voodoo, but back to basics to get things wired up.  Appreciate the sanity check!"}], "owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "is_accepted": true, "score": 1, "last_activity_date": 1427920414, "creation_date": 1427920414, "answer_id": 29400231, "question_id": 29399368, "link": "https://stackoverflow.com/questions/29399368/dynamic-cast-template-class-with-known-inheritance/29400231#29400231", "title": "dynamic_cast Template class with &quot;Known&quot; Inheritance", "body": "<p>As suggested by Creris' in comments, you need a non-templated base class is that is common to all your <code>Derived&lt;&gt;</code> template classes. In addition, the inheritance to <code>Base</code> itself should be virtual, so that there is only a single <code>Base</code> instance when <code>Derived&lt;&gt;</code> is instantiated.</p>\n\n<pre><code>struct Base { virtual ~Base () {} };\nstruct Base2 : virtual Base {};\n\nstruct DerivedBase : virtual Base {};\n\ntemplate &lt;typename BASE = Base&gt;\nstruct Derived : DerivedBase, BASE {};\n\n    Base *b = new Derived&lt;Base2&gt;;\n    assert(dynamic_cast&lt;DerivedBase *&gt;(b));\n</code></pre>\n"}], "owner": {"reputation": 454, "user_id": 2041703, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eZ3la.png?s=128&g=1", "display_name": "DiB", "link": "https://stackoverflow.com/users/2041703/dib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 29400231, "answer_count": 1, "score": 1, "last_activity_date": 1427920414, "creation_date": 1427917214, "question_id": 29399368, "link": "https://stackoverflow.com/questions/29399368/dynamic-cast-template-class-with-known-inheritance", "title": "dynamic_cast Template class with &quot;Known&quot; Inheritance", "body": "<p>I have a type that inherits from a template-defined type.  The template-defined type is guaranteed to have a given base class.  What I want to do is to be able to dynamic_cast or otherwise find types in a container that match my derived type, irrespective of the template parameter.</p>\n\n<pre><code>// A bunch of classes exist which inherit from Base already.\nclass Base{};\nclass Base2 : public Base {};\nclass BaseN : public Base {};\n\n// Some new classes can inherit from any Base-derived class,\n// but also have special attributes (i.e. function \"f\").\ntemplate&lt;typename T = Base&gt;\nclass Derived : public T\n{\n    static_assert(std::is_base_of&lt;Base, T&gt;::value, \n        \"Class must inherit from a type derived from Base.\")\n\n    public:\n        void f();\n};\n\n//\n// Now process a collection of Base pointers.  \n//\n\nstd::vector&lt;Base*&gt; objects;\n\n// The vector may contain classes that are not \"Derived\".\n// I only care about the ones that are.\n// I want the cast here to return non-null for Derived&lt;Base&gt;, \n// Derived&lt;Base2&gt;, Derived&lt;BaseN&gt;, but null for Base, Base2, etc.\n\n// This will be Null, Good.\nobjects.push_back(new Base)\nauto dcast0 = dynamic_cast&lt;Derived&lt;Base&gt;*&gt;(objects[0]);\n\n// This will be Non Null, Good.\nobjects.push_back(new Derived&lt;Base&gt;);\nauto dcast1 = dynamic_cast&lt;Derived&lt;Base&gt;*&gt;(objects[1]);\n\n// This will be Null, BAD! HELP!\nobjects.push_back(new Derived&lt;Base2&gt;);\nauto dcast2 = dynamic_cast&lt;Derived&lt;Base&gt;*&gt;(objects[2]);\n</code></pre>\n"}, {"tags": ["c++", "struct", "constants", "new-operator"], "comments": [{"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1427916515, "post_id": 29399144, "comment_id": 46974214, "body": "Default copy and assignment should work for this, ie <code>Car newCar = Porsche;</code>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1427917199, "post_id": 29399144, "comment_id": 46974587, "body": "You already have a compiler-defined default copy constructor (and assignment operator) which does exactly what you need."}, {"owner": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "reply_to_user": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1427917421, "post_id": 29399144, "comment_id": 46974701, "body": "@AlejandroD&#237;az M&#39;kay, thanks."}, {"owner": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1427917432, "post_id": 29399144, "comment_id": 46974708, "body": "@molbdnilo Ok, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "edited": false, "score": 0, "creation_date": 1427916477, "post_id": 29399180, "comment_id": 46974186, "body": "So, I could just defined a copy constructor and just create identical versions of the same struct?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "edited": false, "score": 0, "creation_date": 1427916505, "post_id": 29399180, "comment_id": 46974206, "body": "You could.  What exactly are you trying to do?"}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "edited": false, "score": 0, "creation_date": 1427916980, "post_id": 29399180, "comment_id": 46974472, "body": "@neutralboolean: The C++ compiler will automatically create a copy constructor - no need to define one yourself."}, {"owner": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "edited": false, "score": 0, "creation_date": 1427917185, "post_id": 29399180, "comment_id": 46974580, "body": "I want to define an object of <code>Car</code>, e.g. &quot;Object1&quot;, and then be able to create another object that has the same member values as Object1 without having to just manually initialize with the same values."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "edited": false, "score": 0, "creation_date": 1427918804, "post_id": 29399180, "comment_id": 46975488, "body": "@neutralboolean: That is exactly what a copy constructor does. And if you use compiler-managed types and let the compiler generate a default copy constructor for you, you get all this functionality for free, you don&#39;t have to write any code for it.  Just assign one object instance to another and let the compiler handle the rest."}], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 3, "last_activity_date": 1427916418, "creation_date": 1427916418, "answer_id": 29399180, "question_id": 29399144, "link": "https://stackoverflow.com/questions/29399144/c-structs-operator-new-and-const/29399180#29399180", "title": "C++ : Structs, operator &quot;new&quot;, and const", "body": "<p>In C++ there is no difference between a <code>class</code> and a <code>struct</code> except that <code>struct</code> defaults its members to <code>public</code> and <code>class</code> defaults to <code>private</code>.  Anything else you can do to one you can do to the other.</p>\n"}], "owner": {"reputation": 25, "user_id": 4524657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d7ec20d9048a558a97c278859762da?s=128&d=identicon&r=PG&f=1", "display_name": "neutralboolean", "link": "https://stackoverflow.com/users/4524657/neutralboolean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 29399180, "answer_count": 1, "score": 0, "last_activity_date": 1427916418, "creation_date": 1427916314, "question_id": 29399144, "link": "https://stackoverflow.com/questions/29399144/c-structs-operator-new-and-const", "title": "C++ : Structs, operator &quot;new&quot;, and const", "body": "<p>I'm going to be speaking in hypotheticals because I haven't tested anything as of yet. I'm not even sure where to begin.</p>\n\n<p>So I have a few structs that I initialized with values and I want them to be passed to a class. But I want each instance of the class to have their own instance of one of those structs initially defined with the same values.</p>\n\n<p>For the sake of visualization:</p>\n\n<pre><code>struct Car{\nint value, mileage,\n\nstd::string model_name;\nstd::string owner;\n\ndouble insurance_premium} \n\nCar Porsche, Toyota, Honda;\n</code></pre>\n\n<p>How would I, or is it even possible to, create new instances of any of those declared <code>Car</code>s? Can you do a copy constructor for structs?</p>\n\n<p>I had an idea to maybe declare and initialize each of the <code>Car</code> objects, then label them as <code>const</code>. Then maybe call <code>new</code> on them. Would that just implode my everything? I don't know.</p>\n\n<p>Assistance please.</p>\n"}, {"tags": ["c++", "opengl", "visual-studio-2012", "glew"], "answers": [{"owner": {"reputation": 3208, "user_id": 4705190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qmkvx.jpg?s=128&g=1", "display_name": "Ali Sajid", "link": "https://stackoverflow.com/users/4705190/ali-sajid"}, "is_accepted": true, "score": 0, "last_activity_date": 1427917156, "creation_date": 1427917156, "answer_id": 29399352, "question_id": 29399134, "link": "https://stackoverflow.com/questions/29399134/error-loading-glew-library-error-lnk2001/29399352#29399352", "title": "Error loading GLEW library (error LNK2001)", "body": "<p>You're missing GLEW (<a href=\"http://glew.sourceforge.net/\" rel=\"nofollow\">The OpenGL Extension Wrangler Library</a>). You can link this in with the following pragma somewhere in your source code:</p>\n\n<pre><code>#pragma comment(lib, \"glew32.lib\")\n</code></pre>\n\n<p>Or you can modify the linker flags in the project settings. This assumes that you have the GLEW library installed. On my system, I installed it at the following path:</p>\n\n<pre><code>C:\\Program Files (x86)/Microsoft Visual Studio 10.0/VC/lib/glew32.lib\n</code></pre>\n\n<p>The path may be different on your system, and there are other ways of linking with GLEW if you don't want to install it.</p>\n"}], "owner": {"reputation": 55, "user_id": 4739670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-jfKvVEAf624/AAAAAAAAAAI/AAAAAAAAAQg/gF0_fuAfcm8/photo.jpg?sz=128", "display_name": "NoName", "link": "https://stackoverflow.com/users/4739670/noname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "closed_date": 1427920508, "accepted_answer_id": 29399352, "answer_count": 1, "score": 0, "last_activity_date": 1427917156, "creation_date": 1427916286, "question_id": 29399134, "link": "https://stackoverflow.com/questions/29399134/error-loading-glew-library-error-lnk2001", "closed_reason": "Duplicate", "title": "Error loading GLEW library (error LNK2001)", "body": "<p><strong>I install GLEW library into the Visual Studio:</strong><br>\nx64/bin/glew32.dll to %SystemRoot%/system32<br>\nx64/lib/glew32.lib to {VC Root}/Lib<br>\ninclude/GL/glew.h to {VC Root}/Include/GL<br>\ninclude/GL/wglew.h to {VC Root}/Include/GL<br></p>\n\n<p><strong>And add library in Linker > Input: glew32.lib and write #pragma comment</strong></p>\n\n<pre><code>#pragma comment(lib, \"opengl32.lib\")\n#pragma comment(lib, \"glu32.lib\")\n#pragma comment(lib, \"glut32.lib\")\n#pragma comment(lib, \"glew32.lib\")\n\n#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n#include &lt;glew.h&gt;\n#include &lt;glut.h&gt;\n</code></pre>\n\n<p>But Visual Studio continues to write error:</p>\n\n<pre><code>1&gt;Core.obj : error LNK2001: unresolved external symbol __imp____glewBindVertexArray\n1&gt;Core.obj : error LNK2001: unresolved external symbol __imp____glewGenVertexArrays\n</code></pre>\n"}, {"tags": ["c++", "boost", "std", "tostring", "lexical-cast"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 10, "creation_date": 1427916103, "post_id": 29399064, "comment_id": 46973982, "body": "If I recall the history correctly, <code>boost::to_string</code> preceded <code>std::to_string</code>, as is typically the case. Boost tends to be the playground for stuff before it gets accepted into the standard library. <code>std::to_string</code> is new as of C++11."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1427917200, "post_id": 29399064, "comment_id": 46974588, "body": "@Cyber: I&#39;d suggest you write this as a (partial) answer."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1484661524, "post_id": 29399064, "comment_id": 70593845, "body": "@CoryKramer, <code>boost::to_string</code> might be older, but it&#39;s not the same as <code>std::to_string</code> and <code>std::to_string</code> was not based on it (they just happen to use the same name)."}], "answers": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 30, "last_activity_date": 1565792212, "last_edit_date": 1565792212, "creation_date": 1427917480, "answer_id": 29399444, "question_id": 29399064, "link": "https://stackoverflow.com/questions/29399064/whats-the-difference-between-stdto-string-boostto-string-and-boostlexic/29399444#29399444", "title": "What&#39;s the difference between std::to_string, boost::to_string, and boost::lexical_cast&lt;std::string&gt;?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/string/basic_string/to_string\" rel=\"noreferrer\"><code>std::to_string</code></a>, available since C++11, works on <strong>fundamental numeric types</strong> specifically.  It also has a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/to_wstring\" rel=\"noreferrer\"><code>std::to_wstring</code></a> variant.</p>\n\n<p>It is designed to produce the same results that <a href=\"http://en.cppreference.com/w/cpp/io/c/fprintf\" rel=\"noreferrer\"><code>sprintf</code></a> would.</p>\n\n<p>You may choose this form to avoid dependencies on external libraries/headers.</p>\n\n<hr>\n\n<p>The throw-on-failure function <a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost_lexical_cast.html\" rel=\"noreferrer\"><code>boost::lexical_cast&lt;std::string&gt;</code></a> and its non-throwing cousin <a href=\"https://www.boost.org/doc/libs/1_56_0/doc/html/boost_lexical_cast/synopsis.html#boost_lexical_cast.synopsis.try_lexical_convert\" rel=\"noreferrer\"><code>boost::conversion::try_lexical_convert</code></a> work on <strong>any type that can be inserted into a <code>std::ostream</code></strong>, including types from other libraries or your own code.</p>\n\n<p>Optimized specializations exist for common types, with the generic form resembling:</p>\n\n<pre><code>template&lt; typename OutType, typename InType &gt;\nOutType lexical_cast( const InType &amp; input ) \n{\n    // Insert parameter to an iostream\n    std::stringstream temp_stream;\n    temp_stream &lt;&lt; input;\n\n    // Extract output type from the same iostream\n    OutType output;\n    temp_stream &gt;&gt; output;\n    return output;\n}\n</code></pre>\n\n<p>You may choose this form to leverage greater flexibility of input types in generic functions, or to produce a <code>std::string</code> from a type that you know isn't a fundamental numeric type.</p>\n\n<hr>\n\n<p><code>boost::to_string</code> isn't directly documented, and seems to be for internal use primarily.  Its functionality behaves like <code>lexical_cast&lt;std::string&gt;</code>, not <code>std::to_string</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 8414, "user_id": 2249175, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XGc78.png?s=128&g=1", "display_name": "Paul Kertscher", "link": "https://stackoverflow.com/users/2249175/paul-kertscher"}, "edited": false, "score": 3, "creation_date": 1484660318, "post_id": 41698537, "comment_id": 70592980, "body": "Please do a bit more than just pasting some code. Describe <i>what</i> your code does and <i>how</i> it does it."}, {"owner": {"reputation": 119, "user_id": 7430680, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbmIukcqnYc/AAAAAAAAAAI/AAAAAAAAABs/fAaiZWG_pak/photo.jpg?sz=128", "display_name": "Claus Klein", "link": "https://stackoverflow.com/users/7430680/claus-klein"}, "reply_to_user": {"reputation": 8414, "user_id": 2249175, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XGc78.png?s=128&g=1", "display_name": "Paul Kertscher", "link": "https://stackoverflow.com/users/2249175/paul-kertscher"}, "edited": false, "score": 1, "creation_date": 1484666898, "post_id": 41698537, "comment_id": 70597841, "body": "It is simple the output of to_string() and lexical_cast() for the same double value ;-))"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 2, "creation_date": 1484687415, "post_id": 41698537, "comment_id": 70609592, "body": "Those results certainly differ - and that&#39;s worth noting.  But it&#39;s not obvious to me which result is more &quot;right&quot;."}], "owner": {"reputation": 119, "user_id": 7430680, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbmIukcqnYc/AAAAAAAAAAI/AAAAAAAAABs/fAaiZWG_pak/photo.jpg?sz=128", "display_name": "Claus Klein", "link": "https://stackoverflow.com/users/7430680/claus-klein"}, "is_accepted": false, "score": 8, "last_activity_date": 1541002743, "last_edit_date": 1541002743, "creation_date": 1484659994, "answer_id": 41698537, "question_id": 29399064, "link": "https://stackoverflow.com/questions/29399064/whats-the-difference-between-stdto-string-boostto-string-and-boostlexic/41698537#41698537", "title": "What&#39;s the difference between std::to_string, boost::to_string, and boost::lexical_cast&lt;std::string&gt;?", "body": "<p>There are more differences: boost::lexical_cast works a bit different when converting double to string. Please consider the following code:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;limits&gt;\n#include &lt;iostream&gt;\n\n#include \"boost/lexical_cast.hpp\"\n\nint main()\n{\n    double maxDouble = std::numeric_limits&lt;double&gt;::max();\n    std::string str(std::to_string(maxDouble));\n\n    std::cout &lt;&lt; \"std::to_string(\" &lt;&lt; maxDouble &lt;&lt; \") == \" &lt;&lt; str &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"boost::lexical_cast&lt;std::string&gt;(\" &lt;&lt; maxDouble &lt;&lt; \") == \"\n              &lt;&lt; boost::lexical_cast&lt;std::string&gt;(maxDouble) &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Results</p>\n\n<pre><code>$ ./to_string\nstd::to_string(1.79769e+308) == 179769313486231570814527423731704356798070600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000\nboost::lexical_cast&lt;std::string&gt;(1.79769e+308) == 1.7976931348623157e+308\n</code></pre>\n\n<p>As you can see, the boost version uses exponential notation (1.7976931348623157e+308) whereas std::to_string prints every digit, and six decimal places. One may be more useful than another for your purposes. I personally find the boost version more readable.</p>\n"}, {"comments": [{"owner": {"reputation": 3909, "user_id": 7427152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jI9oC.png?s=128&g=1", "display_name": "JarMan", "link": "https://stackoverflow.com/users/7427152/jarman"}, "edited": false, "score": 0, "creation_date": 1598991916, "post_id": 63694062, "comment_id": 112633852, "body": "Your link may be interesting, but does not rise to the level of answering the question."}], "owner": {"reputation": 1, "user_id": 12900650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000192f1df5888c3f123156c216cc98e?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil  Rawal", "link": "https://stackoverflow.com/users/12900650/kapil-rawal"}, "is_accepted": false, "score": -2, "last_activity_date": 1598987819, "creation_date": 1598987819, "answer_id": 63694062, "question_id": 29399064, "link": "https://stackoverflow.com/questions/29399064/whats-the-difference-between-stdto-string-boostto-string-and-boostlexic/63694062#63694062", "title": "What&#39;s the difference between std::to_string, boost::to_string, and boost::lexical_cast&lt;std::string&gt;?", "body": "<p>Here is a benchmark that I found for the integer to string conversion, hope it doesn't change much for float and double <a href=\"http://www.zverovich.net/2020/06/13/fast-int-to-string-revisited.html\" rel=\"nofollow noreferrer\">Fast integer to string conversion benchmark in C++</a>.</p>\n"}], "owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8867, "favorite_count": 3, "accepted_answer_id": 29399444, "answer_count": 3, "score": 22, "last_activity_date": 1598987819, "creation_date": 1427916030, "question_id": 29399064, "link": "https://stackoverflow.com/questions/29399064/whats-the-difference-between-stdto-string-boostto-string-and-boostlexic", "title": "What&#39;s the difference between std::to_string, boost::to_string, and boost::lexical_cast&lt;std::string&gt;?", "body": "<p>What's the purpose of <code>boost::to_string</code> (found in <code>boost/exception/to_string.hpp</code>) and how does it differ from <code>boost::lexical_cast&lt;std::string&gt;</code> and <code>std::to_string</code>?</p>\n"}, {"tags": ["c++", "class", "oop", "inheritance", "virtual-functions"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1427915522, "post_id": 29398813, "comment_id": 46973695, "body": "Side note: you should use virtual inheritance, when deriving form interfaces. Also have a virtual destructor in the interface (base class)"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427916142, "post_id": 29398813, "comment_id": 46973999, "body": "@DieterL&#252;cking Can you please explain why use virtual inheritence?This seems to do the job."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1427916398, "post_id": 29398813, "comment_id": 46974131, "body": "That should not solve your problem - use a class initializer list."}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427916443, "post_id": 29398813, "comment_id": 46974165, "body": "@DieterL&#252;cking I mean Christophe&#39;s answer works without using virtual inheritence. It compiles."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1427916800, "post_id": 29398813, "comment_id": 46974381, "body": "The virtual inheritance of interfaces avoids duplication of the same interface if a  you have multiple base classes (interfaces) or combine interfaces"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427917307, "post_id": 29398813, "comment_id": 46974636, "body": "@DieterL&#252;cking should <code>class derived : public tempBase</code> also be made <code>virtual public</code>, or only <code>class tempBase : public interfaceBase</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1427917791, "post_id": 29398813, "comment_id": 46974918, "body": "To end it here: Just First : virtual public Interface (virtual public Interface for each interface involved) - no need for a Second : virtual public First."}, {"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 1, "creation_date": 1427917867, "post_id": 29398813, "comment_id": 46974975, "body": "Offtopic, but calling free on data allocated using new results in UB"}], "answers": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 1, "last_activity_date": 1427915664, "last_edit_date": 1427915664, "creation_date": 1427915334, "answer_id": 29398849, "question_id": 29398813, "link": "https://stackoverflow.com/questions/29398813/compiler-error-for-classes-in-hierarchy/29398849#29398849", "title": "Compiler Error for classes in hierarchy", "body": "<p>You ave to put this in the initializer list:  </p>\n\n<pre><code>derived(int rhs) : tempBase(var) { } // No erroranymore - see below\n</code></pre>\n\n<p>Some additional explanation about the errors in your original code:  </p>\n\n<ul>\n<li>As there was no initializer for <code>tempBase</code>, the compiler tried to generate a  default constructor, so that all member variables are constructed before executing the constructor body. </li>\n<li>You <code>tempBase(var)</code> in the body would create an additional temporary anonymous object of class <code>tempBase</code>, but such direct instantiation of a pure virtual class is not allowed   </li>\n</ul>\n"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1427915344, "creation_date": 1427915344, "answer_id": 29398855, "question_id": 29398813, "link": "https://stackoverflow.com/questions/29398813/compiler-error-for-classes-in-hierarchy/29398855#29398855", "title": "Compiler Error for classes in hierarchy", "body": "<p>When constructing the base part of a derived object you need to use</p>\n\n<pre><code>derived(vars) : base(vars) { constructor code here }\n</code></pre>\n"}], "owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29398849, "answer_count": 2, "score": 0, "last_activity_date": 1427915664, "creation_date": 1427915186, "question_id": 29398813, "link": "https://stackoverflow.com/questions/29398813/compiler-error-for-classes-in-hierarchy", "title": "Compiler Error for classes in hierarchy", "body": "<p>I have the following code</p>\n\n<pre><code>class interfaceBase // abstract class\n{\npublic:\n    virtual void vf1() = 0;\n};\n\nclass tempBase : public interfaceBase  // manages a resource\n{\n    tempBase(int a) { var = new int[a]; }\n    ~tempBase(){ free(var); }\nprivate:\n    int* var;\n};\n\nclass derived : public tempBase // class I intend to instantiate.\n{\npublic:\n    derived(int rhs){ tempBase(var); } // ERROR - Pasted below\n    void vf1() override final {}\n};\n\nint main()\n{\n    int a = 5;\n    derived d(a);\n}\n</code></pre>\n\n<p>I have a resource that needs to be managed, I created a seperate class called <code>tempBase</code> whose job is to manage that resource. However, this leaves me with a problem - I cannot construct objects of type <code>derived</code>, because there seems no means to call the constructor to <code>tempBase</code></p>\n\n<p>I get the error saying </p>\n\n<pre><code>error C2512: 'tempBase' : no appropriate default constructor available\nerror C2259: 'tempBase' : cannot instantiate abstract class\n</code></pre>\n\n<p>How can I change my code such that I might still have all the resource management handled by <code>tempBase</code>, and have <code>derived</code> instantiable also.</p>\n"}, {"tags": ["c++", "python-2.7", "boost-python"], "answers": [{"owner": {"reputation": 5898, "user_id": 817659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dc6960319324ecebe786580dfca13f07?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/817659/ivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427946553, "last_edit_date": 1427946553, "creation_date": 1427945624, "answer_id": 29404544, "question_id": 29398642, "link": "https://stackoverflow.com/questions/29398642/c-and-boost-python-simple-function/29404544#29404544", "title": "c++ and Boost python simple function", "body": "<p>This is pretty dumb on my part.</p>\n\n<p>Ok, here are the problems</p>\n\n<ol>\n<li>I am using spyder IDE without setting the working directory to the path of the .so. If run from the command line, there are probably complicated PYTHONPATH type of things that could work, but having .so in the same directory from where your run the .py file works.</li>\n<li>You don't need any of this <code>from ctypes import cdll mydll = cdll.LoadLibrary</code> crap. Probably name your .so the same name you give in BOOST_PYTHON_MODULE(same_name_as_lib_name). So if your lib is named hello.so, put hello inside of BOOST_PYTHON_MODULE(). Then jus say <code>import hello</code> and then call the functions like <code>print hello.greet()</code></li>\n<li>I didn't need to say extern \"C\" at all.</li>\n</ol>\n"}], "owner": {"reputation": 5898, "user_id": 817659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dc6960319324ecebe786580dfca13f07?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/817659/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427946553, "creation_date": 1427914628, "last_edit_date": 1427940665, "question_id": 29398642, "link": "https://stackoverflow.com/questions/29398642/c-and-boost-python-simple-function", "title": "c++ and Boost python simple function", "body": "<p>I built this .so</p>\n\n<pre><code>#include &lt;vector&gt;\n\n#include &lt;boost/python.hpp&gt;\n#include &lt;boost/python/suite/indexing/vector_indexing_suite.hpp&gt;\n\nextern \"C\"\n{\n    // A function adding two integers and returning the result\n    int SampleAddInt(int i1, int i2)\n    {\n        return i1 + i2;\n    }\n\n    // A function doing nothing ;)\n    void SampleFunction1()\n    {\n        // insert code here\n    }\n\n    // A function always returning zero\n    int SampleFunction2()\n    {\n        // insert code here\n\n        return 0;\n    }\n\n    char const* greet()\n    {\n        return \"hello, world\";\n    }\n}\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass hello\n{\npublic:\n    hello(const std::string&amp; country)\n    {\n        this-&gt;country = country;\n    }\n    std::string greet() const\n    {\n        return \"Hello from \" + country;\n    }\nprivate:\n    std::string country;\n};\n\n// A function taking a hello object as an argument.\nstd::string invite(const hello&amp; w)\n{\n    return w.greet() + \"! Please come soon!\";\n}\n\nboost::python::tuple HeadAndTail(boost::python::object sequence)\n{\n    return make_tuple(sequence[0], sequence[-1]);\n}\n\nnamespace py = boost::python;\n\nBOOST_PYTHON_MODULE(hello_ext)\n{\n    using namespace boost::python;\n\n    def(\"greet\", greet);\n    def(\"SampleAddInt\", SampleAddInt);\n    def(\"HeadAndTail\", HeadAndTail);\n\n    // Create the Python type object for our extension class and define __init__ function.\n    boost::python::class_&lt;hello&gt;(\"hello\", init&lt;std::string&gt;())\n    .def(\"greetclass\", &amp;hello::greet)  // Add a regular member function.\n    .def(\"invite\", invite)  // Add invite() as a regular function to the module.\n    ;\n\n    def(\"invite\", invite); // Even better, invite() can also be made a member of module!!!\n}\n</code></pre>\n\n<p>Linked it with boost_python.</p>\n\n<p>In python, I then say: (with the correct path to the .so)</p>\n\n<pre><code>from ctypes import cdll\nmydll = cdll.LoadLibrary('libHelloWorldPythonCpp.so')\n\n#    import hello_ext\n\nprint mydll.greet()\nvec = [-4, -2, 0, 2, 4]\nprint vec\nprint mydll.HeadAndTail(vec)\n</code></pre>\n\n<p>However I get a strange value when I call <code>mydll.greet()</code> of </p>\n\n<pre><code>-2015371328\n</code></pre>\n\n<p>The <code>import hello_ext</code> code that is commented out gives an error if I remove the comment, <code>ImportError: No module named hello_ext</code>\n.</p>\n\n<p>However </p>\n\n<pre><code>print mydll.SampleAddInt(6, 3)\n</code></pre>\n\n<p>Works, but I can't access the rest of the code like <code>invite</code> <code>HeadAndTail</code> etc. For example</p>\n\n<pre><code>AttributeError: /home/idf/Documents/BOOST_Python/HelloWorldPythonCpp/bin/Release/libHelloWorldPythonCpp.so: undefined symbol: HeadAndTail\n</code></pre>\n\n<p>If I move     </p>\n\n<pre><code>boost::python::tuple HeadAndTail(boost::python::object sequence)\n{\n    return make_tuple(sequence[0], sequence[-1]);\n}\n</code></pre>\n\n<p>inside the extern \"C\" then it seems to work. However then I get an error when I pass it vec:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python2.7/dist-packages/spyderlib/widgets/externalshell/sitecustomize.py\", line 540, in runfile\n    execfile(filename, namespace)\n  File \"/home/idf/.spyder2/.temp.py\", line 17, in &lt;module&gt;\n    print mydll.HeadAndTail(vec)\nctypes.ArgumentError: argument 1: &lt;type 'exceptions.TypeError'&gt;: Don't know how to convert parameter 1\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I did a </p>\n\n<pre><code>idf@C55t-A:~/Documents/BOOST_Python/HelloWorldPythonCpp/bin/Release$ readelf -Ws libHelloWorldPythonCpp.so | grep -i sample\n   118: 0000000000008430     2 FUNC    GLOBAL DEFAULT   11 SampleFunction1\n   120: 0000000000008440     3 FUNC    GLOBAL DEFAULT   11 SampleFunction2\n   234: 0000000000008410     4 FUNC    GLOBAL DEFAULT   11 SampleAddInt\nidf@C55t-A:~/Documents/BOOST_Python/HelloWorldPythonCpp/bin/Release$ \n</code></pre>\n\n<p>And even</p>\n\n<pre><code>idf@C55t-A:~/Documents/BOOST_Python/HelloWorldPythonCpp/bin/Release$ readelf -Ws libHelloWorldPythonCpp.so | grep -i head  \n   230: 0000000000008560   483 FUNC    GLOBAL DEFAULT   11 _Z11HeadAndTailN5boost6python3api6objectE\nidf@C55t-A:~/Documents/BOOST_Python/HelloWorldPythonCpp/bin/Release$ \n</code></pre>\n\n<p>So HeadAndTail seems to be mangled.</p>\n\n<ol>\n<li>What am I missing in the greet etc case?</li>\n<li>Why does import hello_ext give an error?</li>\n<li>How do I call HeadAndTail which appears to be c++</li>\n<li>What type is boost::python::object sequence in Python?</li>\n<li>How do I call the function \"greetclass\" inside the class?</li>\n</ol>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I just downloaded this</p>\n\n<pre><code>https://github.com/TNG/boost-python-examples\n</code></pre>\n\n<p>and  everything compiles and seems to run fine. I don't understand what I am doing wrong, but when I find out I will post an answer.</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 0, "creation_date": 1427914604, "post_id": 29398550, "comment_id": 46973170, "body": "You need to use string compare functions, like <code>strcmp</code> or to be safer <code>strncmp</code> with a limit of 10 since that is the max length of your string."}, {"owner": {"reputation": 100185, "user_id": 3234959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bb12ca0f93dfddb33880316f7e66c2?s=128&d=identicon&r=PG&f=1", "display_name": "chi", "link": "https://stackoverflow.com/users/3234959/chi"}, "edited": false, "score": 0, "creation_date": 1427914605, "post_id": 29398550, "comment_id": 46973171, "body": "Indent 4 spaces (or select your code and push Ctrl-K) to format it. Do not use backticks for a code block."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1427914644, "post_id": 29398550, "comment_id": 46973203, "body": "Wait, it&#39;s not just <code>strcmp()</code> why are you doing this <code>Worker_name= worker1,worker2</code>???"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1427914755, "post_id": 29398550, "comment_id": 46973265, "body": "@helpme . In the scanf you have to use Worker_name instead of Worker_name[10]); and instead of this statement if (Worker_name= worker1,worker2) you have to use  if ( strcmp( Worker_name, worker1,worker2 ) == 0 )"}, {"owner": {"reputation": 9, "user_id": 4727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11796df257f376a53c2cb71e6273792?s=128&d=identicon&r=PG&f=1", "display_name": "helpme.", "link": "https://stackoverflow.com/users/4727064/helpme"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1427914807, "post_id": 29398550, "comment_id": 46973290, "body": "@iharob i dnt knw if statement for it so i used that"}, {"owner": {"reputation": 9, "user_id": 4727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11796df257f376a53c2cb71e6273792?s=128&d=identicon&r=PG&f=1", "display_name": "helpme.", "link": "https://stackoverflow.com/users/4727064/helpme"}, "edited": false, "score": 0, "creation_date": 1427923953, "post_id": 29398550, "comment_id": 46978116, "body": "@barmar look at this program and see if u can fix the error pls"}], "answers": [{"owner": {"reputation": 518, "user_id": 4734154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-mtFgS7yzJfM/AAAAAAAAAAI/AAAAAAAAD4k/lBjqD5wl8CQ/photo.jpg?sz=128", "display_name": "Gerald Zehetner", "link": "https://stackoverflow.com/users/4734154/gerald-zehetner"}, "is_accepted": false, "score": 0, "last_activity_date": 1427914706, "last_edit_date": 1495541187, "creation_date": 1427914706, "answer_id": 29398673, "question_id": 29398550, "link": "https://stackoverflow.com/questions/29398550/if-statement-to-print-worker-name/29398673#29398673", "title": "If statement to print worker name", "body": "<p>You should take a look at this post, it's excatly the same problem with the answer to it:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15038035/c-how-would-i-write-a-search-function-to-look-for-a-match-in-a-struct-array-an\">C: how would I write a search function to look for a match in a struct array, and return (print) the entire struct it matched?</a></p>\n"}, {"owner": {"reputation": 27359, "user_id": 1141471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/t1JZE.png?s=128&g=1", "display_name": "4pie0", "link": "https://stackoverflow.com/users/1141471/4pie0"}, "is_accepted": false, "score": 0, "last_activity_date": 1427915103, "last_edit_date": 1427915103, "creation_date": 1427914794, "answer_id": 29398701, "question_id": 29398550, "link": "https://stackoverflow.com/questions/29398550/if-statement-to-print-worker-name/29398701#29398701", "title": "If statement to print worker name", "body": "<p>In C you can use <code>strcmp</code> to <a href=\"http://en.cppreference.com/w/c/string/byte/strcmp\" rel=\"nofollow\">compare</a> two null-terminated (!) byte strings lexicographically:</p>\n\n<pre><code>int err = strcmp(worker1,worker2);\nif( err == 0))\n    printf(\"ok,equal\\n\");\nelse if(err &lt; 0)\n    printf(\"[%s] precedes [%s]\\n\",worker1,worker2);\nelse if(err &gt; 0)\n    printf(\"[%s] follows [%s]\\n\",worker1,worker2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1427915718, "post_id": 29398747, "comment_id": 46973794, "body": "Your second version is flawed. It uses the comma operator which will just throw away the first operand. You&#39;re only comparing against <code>worker2.Worker_name</code>."}, {"owner": {"reputation": 9, "user_id": 4727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11796df257f376a53c2cb71e6273792?s=128&d=identicon&r=PG&f=1", "display_name": "helpme.", "link": "https://stackoverflow.com/users/4727064/helpme"}, "edited": false, "score": 0, "creation_date": 1427916685, "post_id": 29398747, "comment_id": 46974317, "body": "this is right but it only print worker doesn&#39;t exits even if i put in the worker in the struct above @SaagarEliasJacky"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427917364, "post_id": 29398747, "comment_id": 46974663, "body": "What is <code>&amp;Worker_name[10]</code> supposed to do?"}, {"owner": {"reputation": 9, "user_id": 4727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11796df257f376a53c2cb71e6273792?s=128&d=identicon&r=PG&f=1", "display_name": "helpme.", "link": "https://stackoverflow.com/users/4727064/helpme"}, "edited": false, "score": 0, "creation_date": 1427917667, "post_id": 29398747, "comment_id": 46974854, "body": "thats the variable name"}], "owner": {"reputation": 2651, "user_id": 4059942, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2bmaq.jpg?s=128&g=1", "display_name": "Saagar Elias Jacky", "link": "https://stackoverflow.com/users/4059942/saagar-elias-jacky"}, "is_accepted": false, "score": 1, "last_activity_date": 1427917814, "last_edit_date": 1427917814, "creation_date": 1427914941, "answer_id": 29398747, "question_id": 29398550, "link": "https://stackoverflow.com/questions/29398550/if-statement-to-print-worker-name/29398747#29398747", "title": "If statement to print worker name", "body": "<p>Don't you need to specify the Struct member in your If Condition if you are checking only the names? Please see below.</p>\n\n<pre><code>if (Worker_name == worker1.Worker_name || Worker_name == worker2.Worker_name)\n{\n    printf(\"Welcome %s\\n\",Worker_name);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (strcmp(Worker_name,worker1.Worker_name) != 0 || strcmp(Worker_name,worker2.Worker_name) != 0)\n{\n    printf(\"Welcome %s\\n\",Worker_name);\n}\n</code></pre>\n"}, {"owner": {"reputation": 79, "user_id": 4159282, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/kpV19.jpg?s=128&g=1", "display_name": "Devi", "link": "https://stackoverflow.com/users/4159282/devi"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918659, "creation_date": 1427918659, "answer_id": 29399770, "question_id": 29398550, "link": "https://stackoverflow.com/questions/29398550/if-statement-to-print-worker-name/29399770#29399770", "title": "If statement to print worker name", "body": "<p>I think you need to modify scanf and printf statement this way:</p>\n\n<pre><code>scanf(\"%s\",&amp;Worker_name); //small letter 's' \n</code></pre>\n\n<p>or may be</p>\n\n<pre><code>scanf(\"%s\",Worker_name);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>printf(\"%s\",Worker_name);\n</code></pre>\n\n<p>Hope this works..</p>\n"}], "owner": {"reputation": 9, "user_id": 4727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11796df257f376a53c2cb71e6273792?s=128&d=identicon&r=PG&f=1", "display_name": "helpme.", "link": "https://stackoverflow.com/users/4727064/helpme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1428093492, "creation_date": 1427914341, "last_edit_date": 1428093492, "question_id": 29398550, "link": "https://stackoverflow.com/questions/29398550/if-statement-to-print-worker-name", "title": "If statement to print worker name", "body": "<p>I cant get my intended result I want my program to display can anyone help me. The program is to print the workers name who are listed in the struct and if you don't enter any of those names I should print worker name doesn't exist. Can someone tell me the code/ syntax to use </p>\n\n<p>Here is what I have </p>\n\n<pre><code>#include &lt;stdio.h&gt;    \n#include &lt;conio.h&gt;       \n#include &lt;string.h&gt;\n\n//Program Purpose: To accept a specific set of worker names and worker id number and accept the time they came to work and determine if they were early or late for the day.`\n\nstruct workers {\n    char worker_name[10];\n    int worker_id;\n}   workers;\n\nint main ()\n{\n    struct workers worker1; \n    struct workers worker2;\n\n    strcpy (worker1.worker_name, \"sean\");\n    worker1.worker_Id = 1234;\n    strcpy (worker2.worker_name,\"tajae\");\n    worker2.worker_Id = 7890;\n\n    char worker_name [30];\n    int Worker_Id;\n    float Time_Arrived;\n    float Minutes_Late;\n    float Extra_Minutes;\n    float Minutes_Early;\n    float lunch_time;\n    float Departure;\n\n    printf(\"******************Produce Pro Time Management System********************\\n\\n\");\n    printf(\"Good morning. Welcome to Produce Pro, Hope you had a good nights rest and ready to have a successful day at work today.\\n\\n\");\n    printf(\"Please follow the instruction and answer with the required details\\n\");\n    printf(\"Note brief: All time are in army hours\\n\\n\");\n    printf(\"Enter your Worker Name\\n\");\n\n    scanf(\"%S\",&amp;worker_name[30]);\n\n    if (worker_name= worker1,worker2) // this is the error in the program//\n    {\n        printf(&amp;worker_name[30]);\n    }\n    else\n    {\n        printf (\"Worker Name doesn't exist\");\n    }\n}\n</code></pre>\n\n<p>when i make a change the if statement and put</p>\n\n<pre><code>if (worker_name == worker1.worker_name || worker_name == worker2.worker_name)\n\n{\nprintf(\"Welcome %s\\n\",worker_name);\n}\n\nelse printf (\"Worker Name doesn't exist\\n\");\n</code></pre>\n\n<p>worker doesn't eixt is what i get</p>\n"}, {"tags": ["c++", "qt-creator"], "comments": [{"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1427913903, "post_id": 29398352, "comment_id": 46972786, "body": "for console apps Qt Creator opens up a console and runs your program there, is the output not in this console?"}, {"owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "reply_to_user": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1427918623, "post_id": 29398352, "comment_id": 46975390, "body": "I&#39;ve turned off console window in run settings, I&#39;d prefer to see the output in application output window"}], "answers": [{"comments": [{"owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427918776, "post_id": 29398559, "comment_id": 46975472, "body": "If I&#39;m switching on a run in console option, it shows me there all expected . However I&#39;d prefer to use application output window for that. If cout not in application window, then why application output window does exist?"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "reply_to_user": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427951359, "post_id": 29398559, "comment_id": 46985459, "body": "The correct way to show something in Application Output is to use qDebug(). This is both for console and non console applications. You will be able to have qDebug in Application Output and cout in Console window."}, {"owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427953015, "post_id": 29398559, "comment_id": 46986044, "body": "So that means I can&#39;t have an output in application output window in non qt application?"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "reply_to_user": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427957228, "post_id": 29398559, "comment_id": 46987701, "body": "Not sure I understand your comment. Yes, application output in Qt Creator is for Qt application. Are you writing a Qt application?"}, {"owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427957803, "post_id": 29398559, "comment_id": 46987971, "body": "no, i&#39;m just using QtC as C++ IDE, the only libs which I&#39;m using in that project are stl+boost"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "reply_to_user": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "edited": false, "score": 0, "creation_date": 1427958261, "post_id": 29398559, "comment_id": 46988195, "body": "Then you should use console window as I specified in my answer or put stdout and stderr where you need. But you won&#39;t be able to use Application Output window, as far as I know."}], "owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "is_accepted": false, "score": -1, "last_activity_date": 1427914359, "creation_date": 1427914359, "answer_id": 29398559, "question_id": 29398352, "link": "https://stackoverflow.com/questions/29398352/qtcreator-doesnt-show-messages-in-application-output/29398559#29398559", "title": "QtCreator doesn&#39;t show messages in application output", "body": "<p>Output from cout should not be in the Application Output, it should be in separate Console window for console projects (if you have CONFIG += console in pro file).</p>\n\n<p>Make sure you have </p>\n\n<pre><code>system(\"PAUSE\");\n</code></pre>\n\n<p>at the end of your program to be able to see the console window, it can be closed before you can see the output.</p>\n"}], "owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1448548126, "creation_date": 1427913626, "last_edit_date": 1448548126, "question_id": 29398352, "link": "https://stackoverflow.com/questions/29398352/qtcreator-doesnt-show-messages-in-application-output", "title": "QtCreator doesn&#39;t show messages in application output", "body": "<p>I'm writing console application in QtC, and it has a lot of \"cout &lt;&lt; \" outputs\nalso some of project configurations are unit tests (Catch uTest framework)\nand nothing of this has shown in Application output window.\nOn Projects tab - Run in Console has been switched off. \nand I don't plan to use <code>qDebug()</code> because this project doesn't use Qt library</p>\n\n<p>How can this be fixed? </p>\n"}, {"tags": ["c++", "c", "pointers"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 2, "creation_date": 1427913656, "post_id": 29398329, "comment_id": 46972640, "body": "<code>int  *i_ptr = 5</code> means the address, not the content of the address, is 5. It doesn&#39;t give an error because 5 is a valid address."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1427913935, "post_id": 29398329, "comment_id": 46972799, "body": "&quot;Can we initialize and declare pointer variable like this - &quot; - yes, and you already know it: <code>int *ptr = &amp;n;</code>"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1427913996, "post_id": 29398329, "comment_id": 46972835, "body": "what you probably want is  <code>int  *i_ptr = new int(5);</code>"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427914189, "post_id": 29398329, "comment_id": 46972941, "body": "This should not compile in C++, period."}, {"owner": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1427914352, "post_id": 29398329, "comment_id": 46973027, "body": "@immibis, dose it mean we can write also int <code>*ptr = &amp;5</code> ?"}, {"owner": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1427914421, "post_id": 29398329, "comment_id": 46973071, "body": "@Quentin, I think it is not duplicate because of the my first question. From the heading of the questions it seems it is duplicate."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1427914499, "post_id": 29398329, "comment_id": 46973118, "body": "@Razib: It is illegal in both C and C++ language to initialize a pointer value with non-zero integer. The code is ill formed. Such initialization (if you need it for some reason) requires an explicit cast."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1427916789, "post_id": 29398329, "comment_id": 46974372, "body": "@AnT, Was it always illegal in C, or just C99 on (or maybe just from the first ISO standard)?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427917863, "post_id": 29398329, "comment_id": 46974973, "body": "@chris: It is illegal in all versions of standard C. In pre-standard C it was OK."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1427918261, "post_id": 29398329, "comment_id": 46975209, "body": "@AnT, That makes sense, thanks."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1427922576, "post_id": 29398329, "comment_id": 46977497, "body": "@Razib No, because you can&#39;t write <code>&amp;5</code>."}], "answers": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "is_accepted": false, "score": 2, "last_activity_date": 1427913995, "last_edit_date": 1427913995, "creation_date": 1427913613, "answer_id": 29398349, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398349#29398349", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<p>The <code>*</code> has a different meaning in your code. </p>\n\n<p>It's not for pointer dereference but for pointer declaration, so you are declaring a pointer and assigning an integer to it, the pointer will store the integer as the address it points to. </p>\n\n<p>That would presumably be Undefined Behavior because you don't know whether <code>5</code> a valid address or not, and it's very very likely that it's not.</p>\n\n<p>If you split the declaration from the initialization it will become obvious that the code has a different meaning, example</p>\n\n<pre><code>int *pointer; /* here the `*' is used for pointer declaration */\nint  value;\n\npointer  = &amp;vaule; /* we store the address of value */\n*pointer = 5; /* we dereference the pointer and write to that location */\n/* ^ here the `*' is used for pointer dereference */\n\nprintf(\"%d\\n\", value * 5); /* this will print 25 */\n/*                   ^ here the `*' is used for multiplication */\n</code></pre>\n\n<p>Now you see that I said that your code is confusing because</p>\n\n<pre><code>int *pointer = 5;\n</code></pre>\n\n<p>seems equivalent to</p>\n\n<pre><code>*pointer = 5;\n</code></pre>\n\n<p>but it's not.</p>\n"}, {"comments": [{"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 1, "creation_date": 1427914332, "post_id": 29398416, "comment_id": 46973013, "body": "&quot;Nothing wrong&quot;? It is flat out <i>illegal</i> in both C and C++ language to initialize a pointer value with non-zero integer. The code is ill-formed. Such initialization (if you need it for some reason) requires an explicit cast."}, {"owner": {"reputation": 157, "user_id": 4672998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A7vfI.jpg?s=128&g=1", "display_name": "Martin Kalcok", "link": "https://stackoverflow.com/users/4672998/martin-kalcok"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1427915073, "post_id": 29398416, "comment_id": 46973455, "body": "In no way am I going to defend initializing pointer to static integer values. I merely stated that there&#39;s &quot;Technically&quot; nothing wrong with it. That&#39;s why it gets compiled, and why compiler prints Warning about it."}, {"owner": {"reputation": 148948, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 0, "creation_date": 1427915474, "post_id": 29398416, "comment_id": 46973673, "body": "@MartinKalcok: it is technically wrong because it does not follow the rules of the C language as specified by the ISO standard (cf C11 6.5.16.1, which also holds for initialization according to 6.7.9 &#167;11)"}], "owner": {"reputation": 157, "user_id": 4672998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A7vfI.jpg?s=128&g=1", "display_name": "Martin Kalcok", "link": "https://stackoverflow.com/users/4672998/martin-kalcok"}, "is_accepted": false, "score": 1, "last_activity_date": 1427913989, "last_edit_date": 1427913989, "creation_date": 1427913859, "answer_id": 29398416, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398416#29398416", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<ol>\n<li>There is technically nothing wrong with <code>int *n = 5</code>. It's a valid pointer that points at memory with address 5 and that's why it lets you compile it. The reason it segfaults is that your program don't have access to this memory.</li>\n</ol>\n"}, {"owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914001, "creation_date": 1427914001, "answer_id": 29398467, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398467#29398467", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<p>When you are doing </p>\n\n<pre><code>int  *i_ptr = 5;\n</code></pre>\n\n<p>you are assigning address 5 to i_ptr.But since this address doesn't belongs to your program,hence when you De-reference i_ptr it is giving you segmentation fault.Only try to access those memory location which belongs to your program.</p>\n"}, {"owner": {"reputation": 13415, "user_id": 102, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f20eaa6bccefd48c6ca5aff0badffdce?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/102/bill"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914055, "creation_date": 1427914055, "answer_id": 29398479, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398479#29398479", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<p>The compiler is not required to make it an error, so it does not.</p>\n\n<p>The syntax you are looking for is: <code>int *i_ptr = new int(5);</code></p>\n\n<p>This allocates new memory large enough for an integer, sets the value to 5, and sets <code>i_ptr</code> to point at that memory.  Remember to do <code>delete i_ptr;</code> whene you are done with the memory.</p>\n"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914822, "last_edit_date": 1427914822, "creation_date": 1427914466, "answer_id": 29398591, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398591#29398591", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<p>You code is illegal in both C and C++ languages. You are not allowed to initialize pointers with integer values. This</p>\n\n<pre><code>int *i_ptr = 5;\n</code></pre>\n\n<p>is illegal. It is not \"assigning address 5 to a pointer\" as some other answers seem to suggest. The above initialization is plainly non-compilable within the realm of standard C and C++ languages.</p>\n\n<p>The diagnostic message that you received indicates an error in your code. After that, neither C nor C++ makes any guarantees about the meaning of your code, i.e. your code is neither C nor C++.</p>\n\n<p>Don't ignore diagnostic messages issued by your compiler. C and C++ does no differentiate between \"warnings\" or \"errors\". Any diagnostic message should be treated as a potential error. It is up to you to recognize errors among what looks like a \"mere warning\". With GCC you can also try using <code>-pedantic-errors</code> option to make it report errors as errors.</p>\n"}, {"owner": {"reputation": 148948, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "is_accepted": true, "score": 3, "last_activity_date": 1427915762, "last_edit_date": 1427915762, "creation_date": 1427914468, "answer_id": 29398592, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring/29398592#29398592", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<blockquote>\n  <ol>\n  <li>While the first code fails at execution time why it doesn't give compilation error, instead of warning?</li>\n  </ol>\n</blockquote>\n\n<p>The difference between errors and warnings depends on the flags you pass to your compiler.</p>\n\n<p>It's a good idea to make the setting more paranoid during development (<code>-Wall</code>, <code>-Wextra</code>, possibly even <code>-Weverything</code> with Clang), in addition to making warnings into errors via <code>-Werror</code> (which you probably shouldn't set by default when shipping code).</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Can we initialize and declare pointer variable like this </li>\n  </ol>\n</blockquote>\n\n<p>Pointer variables store addresses, and you need to declare an addressable something where you can store the value 5.</p>\n\n<p>Since C99, it's possible to use a compound literal instead of a named variable:</p>\n\n<pre><code>int *p = &amp;(int){ 5 };\n</code></pre>\n"}], "owner": {"reputation": 9988, "user_id": 2986537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff296a622eb6993b28017005d1f7e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Razib", "link": "https://stackoverflow.com/users/2986537/razib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1427915331, "accepted_answer_id": 29398592, "answer_count": 6, "score": 2, "last_activity_date": 1427915800, "creation_date": 1427913554, "last_edit_date": 1427915800, "question_id": 29398329, "link": "https://stackoverflow.com/questions/29398329/understanding-the-warning-and-compilation-error-while-initializing-and-declaring", "closed_reason": "Duplicate", "title": "Understanding the Warning and Compilation Error while Initializing and Declaring Pointer Variable", "body": "<p>Please look at the following code snippet -  </p>\n\n<pre><code>int main(){\n\n   int  *i_ptr = 5;\n   printf(\"%d\", *i_ptr); \n\n   return 0;\n}\n</code></pre>\n\n<p>Here I am trying to declare and initialize a pointer variable <code>i_ptr</code>. It gives me the following warning while it compiles fine -  </p>\n\n<blockquote>\n  <p>warning: initialization makes pointer from integer without a cast\n  [enabled by default]</p>\n</blockquote>\n\n<p>But when I am going to execute the code it gives me the following error -  </p>\n\n<blockquote>\n  <p>Segmentation fault (core dumped)  </p>\n</blockquote>\n\n<p>I know a correct way to do this - </p>\n\n<pre><code>int n = 5;\nint *ptr = &amp;n;  \n</code></pre>\n\n<p>Now I have some questions - </p>\n\n<p><strong>1.</strong> While the first code fails at execution time why it doesn't give compilation error, instead of warning?</p>\n\n<p><strong>2.</strong> Can we initialize and declare pointer variable like  this - </p>\n\n<pre><code>int n = 5 // both declaration and initialization of int type variable n  \n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "edited": false, "score": 0, "creation_date": 1427913458, "post_id": 29398238, "comment_id": 46972516, "body": "I would say no <i>performance</i> differences, but not 100% sure. The rest is opinion-based, and in my opinion, including <code>cpp</code> files is ugly"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1427913464, "post_id": 29398238, "comment_id": 46972521, "body": "To me it is not clear at all what you are asking. Templates typically dont have a cpp. Maybe you can put a little example code."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1427913618, "post_id": 29398238, "comment_id": 46972617, "body": "Also, I dont understand what you mean with &quot;creating a temporary object in the cpp file&quot;. Can you put links, where did you find these three methods?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1427913688, "post_id": 29398238, "comment_id": 46972665, "body": "see e.g. <a href=\"http://www.parashift.com/c++-faq/templates-defn-vs-decl.html\" rel=\"nofollow noreferrer\">here</a> or <a href=\"http://stackoverflow.com/questions/2185954/implications-of-template-declaration-definition\">here</a>"}, {"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1427913713, "post_id": 29398238, "comment_id": 46972682, "body": "@tobi303 you may find many examples here in SO <a href=\"http://stackoverflow.com/questions/115703/storing-c-template-function-definitions-in-a-cpp-file\" title=\"storing c template function definitions in a cpp file\">stackoverflow.com/questions/115703/&hellip;</a>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1427913954, "post_id": 29398238, "comment_id": 46972809, "body": "well, ok. Then I would actually vote to close this question. Or the question should be rephrased to something that isnt covered in the other questions already."}, {"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "edited": false, "score": 0, "creation_date": 1427914159, "post_id": 29398238, "comment_id": 46972920, "body": "this question actually <i>screams</i> &quot;opinion-based&quot;"}, {"owner": {"reputation": 7526, "user_id": 4108376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/163807162a115b27e50f5f5f2b90de26?s=128&d=identicon&r=PG&f=1", "display_name": "tmlen", "link": "https://stackoverflow.com/users/4108376/tmlen"}, "edited": false, "score": 0, "creation_date": 1427914252, "post_id": 29398238, "comment_id": 46972972, "body": "Sometimes <code>.icc</code> or <code>.tcc</code> is used as extension to C++ file (instead of <code>.cpp</code>) with template function definitions included in a header (after the class definition)."}], "answers": [{"comments": [{"owner": {"reputation": 7526, "user_id": 4108376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/163807162a115b27e50f5f5f2b90de26?s=128&d=identicon&r=PG&f=1", "display_name": "tmlen", "link": "https://stackoverflow.com/users/4108376/tmlen"}, "edited": false, "score": 0, "creation_date": 1427914080, "post_id": 29398427, "comment_id": 46972869, "body": "Doesn&#39;t including the function definition inside the class body indicate it should be inlined?"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 7526, "user_id": 4108376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/163807162a115b27e50f5f5f2b90de26?s=128&d=identicon&r=PG&f=1", "display_name": "tmlen", "link": "https://stackoverflow.com/users/4108376/tmlen"}, "edited": false, "score": 0, "creation_date": 1427914531, "post_id": 29398427, "comment_id": 46973127, "body": "No. Forget about this whole &quot;inlining-hint&quot;. Compiler doesn&#39;t care what you think about inlining, he can do much more better than you in judging this kind of optimizations. <code>inline</code> is keyword used by linker. It tells him, that multiple definitions of a certain functions (if encountered) should not be treated as an error and allowed. There two major techniques for dealing with such situations: <code>1.</code> treating function as declared with <code>static</code> storage specifier or <code>2.</code> act wisely and merge all these copies into one. All this happens, if compiler hasn&#39;t inlined this function."}], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": true, "score": 1, "last_activity_date": 1427924373, "last_edit_date": 1427924373, "creation_date": 1427913890, "answer_id": 29398427, "question_id": 29398238, "link": "https://stackoverflow.com/questions/29398238/c-what-is-the-best-way-to-separate-declaration-and-definition-of-class-when-us/29398427#29398427", "title": "C++ What is the best way to separate declaration and definition of class when using templates", "body": "<p>Templates should always be defined inside class body. This is the most preferred solution, because it's simple, clear and allows you to avoid a lot of unnecessary typing.</p>\n\n<p>Consider following class:</p>\n\n<pre><code>template &lt;CharEncoding Encoding&gt;\nclass UnicodeConverter\n{\nprotected:\n    template &lt;typename Input_char_type, typename Output_char_type&gt;\n    class InternalHelper\n    {\n    public:\n        void function_a()\n        {\n            //do something\n        }\n    };\n\n    //...\n};\n</code></pre>\n\n<p>Now imagine, what would you have to write if you wanted to have a separate definition file:</p>\n\n<pre><code>template &lt;CharEncoding Encoding&gt;\ntemplate &lt;typename Input_char_type, typename Output_char_type&gt;\nvoid UnicodeConverter&lt;Encoding&gt;::InternalHelper&lt;Input_char_type, Output_char_type&gt;::function_a()\n{\n  //do something\n}\n</code></pre>\n\n<p>That is definitely not pretty nor readable, wouldn't you agree?</p>\n\n<p>There are some situations, where definition must separated (for example, two templates, that depend on each other), but in most cases: avoid it!</p>\n\n<p>The rule of placing implementation in separate <code>.cpp</code> files, generally does not apply to templates. C++ standard library also is mostly header-based, as its extensively uses templates for everything.</p>\n\n<p>Also, note, that my sample code is a real sample, taken from real app (slightly modified). And imagine, that this is not the most complicated template I have in this project.</p>\n"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1427918507, "creation_date": 1427918507, "answer_id": 29399727, "question_id": 29398238, "link": "https://stackoverflow.com/questions/29398238/c-what-is-the-best-way-to-separate-declaration-and-definition-of-class-when-us/29399727#29399727", "title": "C++ What is the best way to separate declaration and definition of class when using templates", "body": "<blockquote>\n  <p>The first method suggests to create a temporary opject in the cpp file.</p>\n</blockquote>\n\n<p>?</p>\n\n<blockquote>\n  <p>The second method suggests to include both cpp and header files in our main file.</p>\n</blockquote>\n\n<p>Most compilers do not support splitting template code in this manner.  It would require the use of external template definitions, which is not widely supported yet.  Most compilers require templates to be declared and defined in the same translation unit.  Which brings us to the 3rd option...</p>\n\n<blockquote>\n  <p>The third method suggests to include the cpp file in the header file. </p>\n</blockquote>\n\n<p>This is the approach most people take, if they even split their template declarations from definitions at all (see 4th option below).  However, it is common to name the definition file with a <code>.icc</code> file extension instead of <code>.cpp</code> to make this distinction clearer.  For example:</p>\n\n<p>myfile.h:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass TMyClass\n{\npublic:\n    void doSomething(T value);\n};\n\n#include \"myfile.icc\"\n</code></pre>\n\n<p>myfile.icc:</p>\n\n<pre><code>template&lt;typename T&gt; void TMyClass&lt;T&gt;::doSomething(T value)\n{\n    //...\n}\n</code></pre>\n\n<p>Which brings us to the 4th option - not splitting the code at all, but implement it inline instead.  This is the more common way to write templates.  For example:</p>\n\n<p>myfile.h:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass TMyClass\n{\npublic:\n    void doSomething(T value)\n    {\n        //...\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 2359084, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b68b1bfa26d36387049c9debbf77e4cf?s=128&d=identicon&r=PG", "display_name": "David Safrastyan", "link": "https://stackoverflow.com/users/2359084/david-safrastyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "closed_date": 1428164309, "accepted_answer_id": 29398427, "answer_count": 2, "score": -2, "last_activity_date": 1427924373, "creation_date": 1427913224, "question_id": 29398238, "link": "https://stackoverflow.com/questions/29398238/c-what-is-the-best-way-to-separate-declaration-and-definition-of-class-when-us", "closed_reason": "Opinion-based", "title": "C++ What is the best way to separate declaration and definition of class when using templates", "body": "<p>I have searched a lot on this topic. I came across three methods.  Suppose we have 3 files, the main.cpp, the declaration header file and the definiton cpp file.\n   The first method suggests to create a temporary opject in the cpp file. \n   The second method suggests to include both cpp and header files in our main file.\n  The third method suggests to include the cpp file in the header file. </p>\n\n<p>Now the question: which one is the best method ? by saying best I mean both good in performance and good at proper code styling. \nAre there any other better methods?</p>\n"}, {"tags": ["c++", "linux", "gdb"], "comments": [{"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 1, "creation_date": 1427913555, "post_id": 29398133, "comment_id": 46972573, "body": "Can you add code to your program? You could catch the offending signal or exception and call one of the <a href=\"http://www.gnu.org/software/libc/manual/html_node/Backtraces.html\" rel=\"nofollow noreferrer\">backtrace</a> functions in the GNU C library."}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 2, "creation_date": 1427913678, "post_id": 29398133, "comment_id": 46972654, "body": "Are you able to get a core file and run gdb on that, or is gdb just not available at all?"}], "answers": [{"comments": [{"owner": {"reputation": 3021, "user_id": 3668129, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ac352e02a6cfd758ca9483be85862898?s=128&d=identicon&r=PG&f=1", "display_name": "user3668129", "link": "https://stackoverflow.com/users/3668129/user3668129"}, "edited": false, "score": 0, "creation_date": 1427946416, "post_id": 29403371, "comment_id": 46984241, "body": "Thanks, Is there a way to get it without coding ? (from linux files ?)"}, {"owner": {"reputation": 3021, "user_id": 3668129, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ac352e02a6cfd758ca9483be85862898?s=128&d=identicon&r=PG&f=1", "display_name": "user3668129", "link": "https://stackoverflow.com/users/3668129/user3668129"}, "edited": false, "score": 0, "creation_date": 1428034365, "post_id": 29403371, "comment_id": 47023136, "body": "I like it, But cant run it in the working space I have"}], "owner": {"reputation": 51, "user_id": 4619189, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEF3fIZyZJ4/AAAAAAAAAAI/AAAAAAAAAQo/4qThJzke9e0/photo.jpg?sz=128", "display_name": "Jay Zhou", "link": "https://stackoverflow.com/users/4619189/jay-zhou"}, "is_accepted": false, "score": 1, "last_activity_date": 1427936361, "creation_date": 1427936361, "answer_id": 29403371, "question_id": 29398133, "link": "https://stackoverflow.com/questions/29398133/how-to-get-the-backtrace-call-stack-of-the-crashing-function-or-deadlocks-with/29403371#29403371", "title": "How to get the backtrace (call stack) of the crashing function or deadlocks without gdb?", "body": "<p>you can use __cxa_demangle() to get the stack message,like this:</p>\n\n<pre><code>string OException::strGetSourceCode(const string&amp; p_strFileName,const string&amp; p_strAddressInfo) throw()\n{\n    char l_acBuf[CBUFFLEN] = {0};\n    char l_acAddress[CBUFFLEN] = {0};\n    memcpy(l_acBuf, p_strAddressInfo.c_str(), p_strAddressInfo.length());\n    if(sscanf(l_acBuf,\"%*[^[][0x%[^]]\", l_acAddress)==1)\n    {   \n        FILE *l_pFp;\n        stringstream l_ss;\n        if(p_strFileName.find(\".so\")!=string::npos)\n        {   \n            unsigned int l_lOffset=strtol(l_acAddress,NULL,16)-strtol(strGetBaseAddress(p_strFileName).c_str(),NULL,16);\n            snprintf(l_acAddress,sizeof(l_acAddress),\"%x\",l_lOffset);\n        }   \n\n        l_ss &lt;&lt; \"addr2line 0x\" &lt;&lt; l_acAddress&lt;&lt; \" -i -e \" &lt;&lt; p_strFileName;\n        if((l_pFp = popen(l_ss.str().c_str(), \"r\"))) {\n            if(fgets(l_acAddress, CBUFFLEN, l_pFp) != NULL) {\n                l_acAddress[strlen(l_acAddress) - 1] = '\\0';\n            }   \n        }   \n        return l_acAddress;\n    }   \n    return  l_acBuf;\n}\nstring OException::strGetBaseAddress(const string&amp; p_soFileName) throw()\n{\n    int l_iPid=getpid();\n    char l_acFileName[CBUFFLEN]={0};\n    char l_acCmd[CBUFFLEN]={0};\n#ifdef __linux__ \n    snprintf(l_acFileName,sizeof(l_acFileName),\"/proc/%d/maps\",l_iPid);\n    snprintf(l_acCmd,sizeof(l_acCmd),\"grep %s %s | head -1 | awk -F- \\'{print $1}\\'\",p_soFileName.c_str(),l_acFileName);\n#endif\n    FILE* l_pFile=popen(l_acCmd,\"r\");\n    char l_acBaseAddress[CBUFFLEN]={0};\n    if(fgets(l_acBaseAddress,CBUFFLEN,l_pFile)!=NULL)\n        return l_acBaseAddress;\n    return \"\";\n}\nvoid OException::vSaveStackTrace() throw()\n{\n    void* l_acBuffer[CBUFFLEN];\n    int l_iStackCount = ::backtrace(l_acBuffer, CBUFFLEN); //get the trace list    //cout&lt;&lt;\"l_iStackCount=\"&lt;&lt;l_iStackCount&lt;&lt;endl;\n    //translate trace message \n    char** l_pacStackResult = ::backtrace_symbols(l_acBuffer, l_iStackCount);\n    if (l_pacStackResult)\n    {\n        string l_strFormat=\"\";\n        string l_binFile=\"\";\n        m_sStack=\"==============BackTrace===========\\n\";\n        for (int i = 0;i&lt;l_iStackCount-1; i++)//\n        {\n\n            l_binFile=l_pacStackResult[i];//get the exe filename\n            l_binFile=l_binFile.substr(0,l_binFile.find('(',0));\n            m_sStack.append(l_strFormat+\"[\"+l_binFile+\"]:\"+strDemangle(l_pacStackResult[i])+\"--&gt;\");\n            m_sStack.append(strGetSourceCode(l_binFile,l_pacStackResult[i]));\n            m_sStack.push_back('\\n');\n            l_strFormat+=\"  \";\n        }\n        free(l_pacStackResult);\n    }\n\n}\nstring  OException::strDemangle(const char* p_acSymbol) throw()\n{\n    size_t size;\n    int status;\n    char l_acTmp[CBUFFLEN]={0};\n    char* l_pDemangled;\n    //first, try to demangle a c++ name\n    if (1 == sscanf(p_acSymbol, \"%*[^(](%256[^)+]\", l_acTmp)) {\n        if (NULL != (l_pDemangled = abi::__cxa_demangle(l_acTmp, NULL, &amp;size, &amp;status))) {\n            string l_strResult(l_pDemangled);\n            free(l_pDemangled);\n            return l_strResult;\n        }\n    }\n    //if that didn't work, try to get a regular c p_acSymbol\n    if (1 == sscanf(p_acSymbol, \"%256s\", l_acTmp)) {\n        return l_acTmp;\n    }\n    return p_acSymbol;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1546417028, "post_id": 54003154, "comment_id": 94842894, "body": "The GNU <code>backtrace</code> function is not <i>async-signal-safe</i> (see <a href=\"http://man7.org/linux/man-pages/man7/signal-safety.7.html\" rel=\"nofollow noreferrer\">signal-safety(7)</a>) so you should not use it in a signal handler"}], "owner": {"reputation": 1882, "user_id": 1350091, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aa727cb8113ba0df19d187c5ca2ba3cd?s=128&d=identicon&r=PG&f=1", "display_name": "baziorek", "link": "https://stackoverflow.com/users/1350091/baziorek"}, "is_accepted": false, "score": 0, "last_activity_date": 1546416883, "creation_date": 1546416883, "answer_id": 54003154, "question_id": 29398133, "link": "https://stackoverflow.com/questions/29398133/how-to-get-the-backtrace-call-stack-of-the-crashing-function-or-deadlocks-with/54003154#54003154", "title": "How to get the backtrace (call stack) of the crashing function or deadlocks without gdb?", "body": "<p>There is also another solution to get backtrace of crashing program, but of course it is not as pretty as backtrace from gdb, the solution is described here: <a href=\"https://stackoverflow.com/questions/77005/how-to-automatically-generate-a-stacktrace-when-my-program-crashes\">How to automatically generate a stacktrace when my program crashes</a></p>\n\n<p>In short words you need to compile your program with options:</p>\n\n<pre><code>-g -rdynamic\n</code></pre>\n\n<p>then you need to register signal handler (SIGSEGV probably is the signal you need):</p>\n\n<pre><code>signal(SIGSEGV, callbackWhenSignalOccures);\n</code></pre>\n\n<p>in function callbackWhenSignalOccures you can display backtrace with functions:\n<a href=\"http://man7.org/linux/man-pages/man3/backtrace.3.html\" rel=\"nofollow noreferrer\">http://man7.org/linux/man-pages/man3/backtrace.3.html</a></p>\n\n<p><strong>About gdb</strong> -I don't know what You mean by \"I cant use gdb (logisitic problems)\", but You don't have to run gdb in interactive mode, You can just display backtrace from core then gdb would automatically quit:</p>\n\n<pre><code>ulimit -c unlimited\n./program # it crashes\ngdb -silent ./program core --eval-command=backtrace --batch\n</code></pre>\n\n<p><strong>About deadlocks</strong> I found solution: <a href=\"https://stackoverflow.com/questions/9389777/how-to-detect-and-find-out-a-program-is-in-deadlock\">How to detect and find out a program is in deadlock?</a></p>\n"}], "owner": {"reputation": 3021, "user_id": 3668129, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ac352e02a6cfd758ca9483be85862898?s=128&d=identicon&r=PG&f=1", "display_name": "user3668129", "link": "https://stackoverflow.com/users/3668129/user3668129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1546416883, "creation_date": 1427912923, "question_id": 29398133, "link": "https://stackoverflow.com/questions/29398133/how-to-get-the-backtrace-call-stack-of-the-crashing-function-or-deadlocks-with", "title": "How to get the backtrace (call stack) of the crashing function or deadlocks without gdb?", "body": "<p>I'm trying to find a random bug (I dont have a specific senario) which crash my C++ linux program.\nI know that If I'm using gdb and the app crash, I can use \"bt\" command and get the call stack of the crash.\nI cant use gdb (logisitic problems) and the crash is random.</p>\n\n<ol>\n<li>Is there a way in Linux to get the call stack of a crashing C++ app , without useing gdb ?</li>\n<li>Is there a way to know if there are dead locks (with and without gdb) ?</li>\n</ol>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "reference", "observer-pattern"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427912631, "post_id": 29397878, "comment_id": 46972087, "body": "Personally I prefer pointer rather than references as <i>members</i> of a class. That way, it&#39;s possible to assign Observers, which may be useful in some cases."}], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "edited": false, "score": 0, "creation_date": 1427964327, "post_id": 29398142, "comment_id": 46991029, "body": "In a complex architecture this might be a problem since I&#39;d implement the observer class with generic events (usually Observer is a base class inherited by different Concrete Observer), thus, having a specific class as a parameter of the notify function would require using dynamic_cast which, except from some particular cases, is usually a sign of bad design. Anyway, I did not specify in the question that the observer is inherited so your suggestion can be helpful in some cases."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "reply_to_user": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "edited": false, "score": 0, "creation_date": 1427966750, "post_id": 29398142, "comment_id": 46992255, "body": "You can use generics in order to avoid casts, assuming the Observer watches objects of the same type."}], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": true, "score": 0, "last_activity_date": 1427912941, "creation_date": 1427912941, "answer_id": 29398142, "question_id": 29397878, "link": "https://stackoverflow.com/questions/29397878/reference-to-observed-class-as-member-variable-of-the-observer-in-c/29398142#29398142", "title": "Reference to Observed class as member variable of the Observer in C++", "body": "<p>I'd recommend in this case having the Observable instance sent as a member of Event, this way an Observer can watch more than one object, and you also achieve loose coupling between the two classes.</p>\n"}], "owner": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 29398142, "answer_count": 1, "score": 0, "last_activity_date": 1427912941, "creation_date": 1427912069, "question_id": 29397878, "link": "https://stackoverflow.com/questions/29397878/reference-to-observed-class-as-member-variable-of-the-observer-in-c", "title": "Reference to Observed class as member variable of the Observer in C++", "body": "<p>I'm implementing an Observer pattern in C++.\nThe observer objects need to access to member variables of the Observed class when they are notified. By now I've solved this thing adding a reference to the Observed class as a member variable of the Observer as follows:</p>\n\n\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class Observer{\n     public:   \n     Observer(const Observable&amp; obs) : observed_(obs){}\n     void notify(const Event&amp; event){\n         // get Observable member and do stuff\n     }\n     private:\n     const Observable&amp; observed_;\n}\nclass Observable{\n\n      public:\n      void notify(const Event&amp; event){\n           //observer list.notify\n      }\n\n}\n</code></pre>\n\n<p>Is the reference a good way for this pattern or is better to use other strategies?</p>\n"}, {"tags": ["c++", "bitmap", "gdi+"], "answers": [{"comments": [{"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1427914400, "post_id": 29398074, "comment_id": 46973061, "body": "From that, am I able to say: <code>int n = ...(x, y);</code> Being able to access a specific pixel at (x, y), and determine if it is a 0 or a 1?"}, {"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "reply_to_user": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1427915449, "post_id": 29398074, "comment_id": 46973656, "body": "Use curX, curY to get color data for target pixel. The b variable is the actual color you are interested in."}], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": true, "score": 1, "last_activity_date": 1427912728, "creation_date": 1427912728, "answer_id": 29398074, "question_id": 29397877, "link": "https://stackoverflow.com/questions/29397877/c-gdiplus-monochrome-pixel-values/29398074#29398074", "title": "C++ Gdiplus Monochrome Pixel Values", "body": "<p>You should use <code>LockBits()</code> method for faster access:</p>\n\n<pre><code>BitmapData bitmapData;\npBitmap-&gt;LockBits(&amp;Rect(0,0,pBitmap-&gt;GetWidth(), pBitmap-&gt;GetHeight()), ImageLockModeWrite, PixelFormat32bppARGB, &amp;bitmapData);\n\nunsigned int *pRawBitmapOrig = (unsigned int*)bitmapData.Scan0;   // for easy access and indexing\n\nunsigned int curColor = pRawBitmapCopy[curY * bitmapData.Stride / 4 + curX];\nint b = curColor &amp; 0xff;\nint g = (curColor &amp; 0xff00) &gt;&gt; 8;\nint r = (curColor &amp; 0xff0000) &gt;&gt; 16;\nint a = (curColor &amp; 0xff000000) &gt;&gt; 24;\n</code></pre>\n"}], "owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 29398074, "answer_count": 1, "score": 0, "last_activity_date": 1427914591, "creation_date": 1427912064, "last_edit_date": 1427914591, "question_id": 29397877, "link": "https://stackoverflow.com/questions/29397877/c-gdiplus-monochrome-pixel-values", "title": "C++ Gdiplus Monochrome Pixel Values", "body": "<p>I have a monochrome bitmap. I am using it for collision detection.</p>\n\n<pre><code>// creates the monochrome bitmap\nbmpTest = new Bitmap(200, 200, PixelFormat1bppIndexed);\n\n// color and get the pixel color at point (x, y)\nColor color;\nbmpTest-&gt;GetPixel(110,110,&amp;color);\n\n// the only method I know of that I can get a 0 or 1 from.\nint b = color.GetB();   \n\n// b is 0 when the color is black and 1 when it is not black as desired\n</code></pre>\n\n<p>Is there a faster way of doing this? I can only use it on <code>Get A R G B()</code> values. I am using GetB() because any ARGB value is 0 or 1, correctly, but seems messy to me.</p>\n\n<p>Is there a way I can read a byte from a monochrome bitmap returning either a 0 or 1? (is the question)</p>\n"}, {"tags": ["c++", "c++11", "static-members", "c++14", "constexpr"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 1, "creation_date": 1427912218, "post_id": 29397864, "comment_id": 46971874, "body": "If it is <a href=\"http://stackoverflow.com/q/8016780/1708801\">oder-used it must be defined</a>"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1427912452, "post_id": 29397864, "comment_id": 46971988, "body": "Thanks @ShafikYaghmour for the link. I do not know about <code>odr-used</code>. Please could you provide more within an answer. You can also explain if you advice to define the member within the header file... Cheers"}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 1, "creation_date": 1427912503, "post_id": 29397864, "comment_id": 46972014, "body": "static const int has been special cased since before c++11.  Even then if you ever need the address of a static const int you must provide a definition in addition to the declaration."}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1427912621, "post_id": 29397864, "comment_id": 46972082, "body": "Perfect @DaleWilson I understand :-) But do I have to provide also a &quot;.cpp&quot; file with my lib?"}], "answers": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 5, "last_activity_date": 1428002975, "last_edit_date": 1495540041, "creation_date": 1427941769, "answer_id": 29404063, "question_id": 29397864, "link": "https://stackoverflow.com/questions/29397864/why-does-constexpr-static-member-of-type-class-require-a-definition/29404063#29404063", "title": "Why does constexpr static member (of type class) require a definition?", "body": "<p>The <a href=\"http://en.wikipedia.org/wiki/One_Definition_Rule\" rel=\"nofollow noreferrer\">One Definition rule</a> tells us that we can not have more than one definition of an <a href=\"http://en.cppreference.com/w/cpp/language/definition\" rel=\"nofollow noreferrer\">odr-used</a> variable in a program. So if a variable is odr-used then you need to define it but you can not define it the header file since it may be included more than once with the whole program. Odr-use violations do not require a diagnostic message and so you can violate this rule and the compiler is not obliged to notify you.</p>\n\n<p>In your case you are indeed odr-using <code>str_</code>, and you can not include the definition in the header file because that would violate the one definiton rule since it can be included more than once within the program.</p>\n\n<p>It is interesting to note that if you had done the following it would not have been odr-used:</p>\n\n<pre><code>return str_.size_;\n</code></pre>\n\n<p>You would therefore not need to define the variable, <a href=\"https://stackoverflow.com/q/28506342/1708801\">which can have some odd consequences in some examples</a>. I doubt that really solves your problem long-term.</p>\n\n<p>The odr rules are covered in the draft C++ standard section <code>3.2</code> and they say:</p>\n\n<blockquote>\n  <p>A variable x whose name appears as a potentially-evaluated expression\n  ex is odr-used unless applying the lvalue-to-rvalue conversion (4.1)\n  to x yields a constant expression (5.19) that does not invoke any\n  non-trivial functions and, if x is an object, ex is an element of the\n  set of potential results of an expression e, where either the\n  lvalue-to-rvalue conversion (4.1) is applied to e, or e is a\n  discarded-value expression (Clause 5). this is odr-used if it appears\n  as a potentially-evaluated expression (including as the result of the\n  implicit transformation in the body of a non-static member function\n  (9.3.1)).[...]</p>\n</blockquote>\n\n<p>So <code>str_</code> yield a constant expression, the lvalue-to-rvalue conversion is not applied the expression <code>str_.size()</code> and it is not a discarded value expression, so it is odr-used and therefore <code>str_</code> is required to be defined.</p>\n\n<p>On the other hand the lvalue-to-rvalue conversion is applied to the expression <code>str_.size_</code>, so it is not odr-used and does not require <code>str_</code> to be defined.</p>\n"}], "owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6334, "favorite_count": 6, "accepted_answer_id": 29404063, "answer_count": 1, "score": 12, "last_activity_date": 1465891025, "creation_date": 1427911988, "last_edit_date": 1465891025, "question_id": 29397864, "link": "https://stackoverflow.com/questions/29397864/why-does-constexpr-static-member-of-type-class-require-a-definition", "title": "Why does constexpr static member (of type class) require a definition?", "body": "<p>==> See the full snippet code and compilation on <a href=\"http://coliru.stacked-crooked.com/a/e6ebe0ef8a87b601\" rel=\"noreferrer\">coliru</a>.</p>\n\n<p>I have a <a href=\"http://en.cppreference.com/w/cpp/concept/LiteralType\" rel=\"noreferrer\">LiteralType</a> class filling <a href=\"http://en.cppreference.com/w/cpp/language/constexpr\" rel=\"noreferrer\"><code>constexpr</code> requirements</a>:</p>\n\n<pre><code>struct MyString\n{\n    constexpr MyString(char const* p, int s) : ptr(p), sz(s) {}\n    constexpr char const* data() const { return ptr; }\n    constexpr int         size() const { return sz;  }\n\n    char const *ptr = 0;\n    int  const  sz  = 0;\n};\n</code></pre>\n\n<p>I use it as a <a href=\"http://en.cppreference.com/w/cpp/language/static#Constant_static_members\" rel=\"noreferrer\"><code>constexpr static</code></a> member variable:</p>\n\n<pre><code>struct Foo\n{\n    int size() { return str_.size(); }\n\n    constexpr static MyString str_{\"ABC\",3};\n};\n\nint main()\n{\n  Foo foo;\n  return ! foo.size();\n}\n</code></pre>\n\n<p>But the linker says:<br>\n<sup>(Clang-3.5 and GCC-4.9)</sup></p>\n\n<pre><code>undefined reference to `Foo::str_'\n</code></pre>\n\n<p>I have to define the <code>constexpr static</code> member!<br>\n<sup>(I do not specify the constructor parameters)</sup></p>\n\n<pre><code>constexpr MyString Foo::str_;\n</code></pre>\n\n<p>However if the <code>constexpr static</code> member had been an <code>int</code> the member would not have to be defined outside the class definition. This is my understanding, but I am not sure...</p>\n\n<h3>Questions:</h3>\n\n<ul>\n<li>Why <code>int</code> does not need to be defined outside the class declaration but <code>MyString</code> requires this?</li>\n<li>Is there a disadvantage to define a <code>constexpr static</code> member in a header file? <br> (I provide my library as header files only)</li>\n</ul>\n"}, {"tags": ["c++", "time"], "comments": [{"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 0, "creation_date": 1427914335, "post_id": 29397805, "comment_id": 46973016, "body": "I bet even bogosort would work in less than 1ms on modern hardware for an array of 8 elements."}, {"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "edited": false, "score": 0, "creation_date": 1427915178, "post_id": 29397805, "comment_id": 46973519, "body": "The initial data array to be sorted is too small to get valuable performance stats."}, {"owner": {"reputation": 294, "user_id": 2473036, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/9c78a3bd357a3c68b621c70044f597b9?s=128&d=identicon&r=PG", "display_name": "Chuck Onwuzuruike", "link": "https://stackoverflow.com/users/2473036/chuck-onwuzuruike"}, "edited": false, "score": 0, "creation_date": 1427935905, "post_id": 29397805, "comment_id": 46981919, "body": "I used an array of 10000 numbers and its still returning zero. I just cant believe that bubble sort is sorting 10k random numbers in less than 1ms."}], "answers": [{"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427914070, "creation_date": 1427914070, "answer_id": 29398482, "question_id": 29397805, "link": "https://stackoverflow.com/questions/29397805/c-getsystemtime-returns-0-when-debugging-but-returns-correct-output-when-stepp/29398482#29398482", "title": "c++ GetSystemTime returns 0 when debugging but returns correct output when stepping through breakpoint", "body": "<p>Here is how you should calculate the time difference:</p>\n\n<pre><code>_int64 Delta(SYSTEMTIME st1, SYSTEMTIME st2) \n{\n  union timeunion \n  {\n      FILETIME fileTime;\n      ULARGE_INTEGER ul;\n  };\n\n  timeunion ft1;\n  timeunion ft2;\n\n  SystemTimeToFileTime(&amp;st1, &amp;ft1.fileTime);\n  SystemTimeToFileTime(&amp;st2, &amp;ft2.fileTime);\n\n  return ft2.ul.QuadPart - ft1.ul.QuadPart;\n}\n</code></pre>\n"}], "owner": {"reputation": 294, "user_id": 2473036, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/9c78a3bd357a3c68b621c70044f597b9?s=128&d=identicon&r=PG", "display_name": "Chuck Onwuzuruike", "link": "https://stackoverflow.com/users/2473036/chuck-onwuzuruike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427914070, "creation_date": 1427911786, "question_id": 29397805, "link": "https://stackoverflow.com/questions/29397805/c-getsystemtime-returns-0-when-debugging-but-returns-correct-output-when-stepp", "title": "c++ GetSystemTime returns 0 when debugging but returns correct output when stepping through breakpoint", "body": "<p>Im trying to get the time it takes for some functions to run but when I run using the debugger, I get zero. When I insert a breakpoint and step through the program, I get the correct output. Here is the code below. </p>\n\n<pre><code>vector&lt;int&gt; nums = { 5, 8, 1, 3, 9, 45, 12, 4 };\nSYSTEMTIME startTime;\nSYSTEMTIME endTime;\nSorter&lt;int&gt; s;\ns.setData(nums);\nGetSystemTime(&amp;startTime);\ns.bubbleSort();\ns.combSort();\ns.insertionSort();\nGetSystemTime(&amp;endTime);\nauto diff = endTime.wMilliseconds - startTime.wMilliseconds;\ncout &lt;&lt; \"Took \" &lt;&lt; diff &lt;&lt; endl;\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1010, "user_id": 3411191, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/G86MZ.jpg?s=128&g=1", "display_name": "Zane Helton", "link": "https://stackoverflow.com/users/3411191/zane-helton"}, "edited": false, "score": 0, "creation_date": 1427911860, "post_id": 29397796, "comment_id": 46971679, "body": "What&#39;s wrong with DevC++ is DevC++. Completely opinionated but I recommend you switch to Code::Blocks soon. Make sure you&#39;ve opened a .cpp file."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427915652, "post_id": 29398851, "comment_id": 46973763, "body": "I&#39;m not sure it just says dev c++ I assume the newest one since I dled it today. so theres no way for it to notify me say I missed a semicolon or something like that? the same issue with code::blocks"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916379, "post_id": 29398851, "comment_id": 46974123, "body": "Have you gone in the editor options and tried to customize your ide at all? It is not updated like other IDE&#39;s so if it isn&#39;t an available options and you want to use it I would look in to switching IDE. Also, what is the issue you have with Visual Studio?"}, {"owner": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916519, "post_id": 29398851, "comment_id": 46974219, "body": "Thanks Jeff, I&#39;m trying to figure out the difference between an IDE and a compiler...I&#39;v been just learning syntax I didnt study this stuff at all. The problem with Visual studio is I tried deleting it to install a clean version but for some reason the installer thinks its still on my computer and the remove software thinks its still there but when I click to uninstall the program crashes...so I&#39;m at a loss of what to do here"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916624, "post_id": 29398851, "comment_id": 46974285, "body": "This is a simple explanation of the difference between IDK and Compiler <a href=\"http://www.cplusplus.com/articles/o8TbqMoL/\" rel=\"nofollow noreferrer\">cplusplus.com/articles/o8TbqMoL</a>"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916695, "post_id": 29398851, "comment_id": 46974325, "body": "Oh, between dev c++ and Visual Studio, I&#39;d prefer VS, I use it at home and at work, so hopefully you can figure out how to reinstall it."}, {"owner": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916708, "post_id": 29398851, "comment_id": 46974335, "body": "Thanks jeff I&#39;ll take a read now, I edited my response to include what happened with VS"}, {"owner": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427916926, "post_id": 29398851, "comment_id": 46974447, "body": "Thanks...its frustrating..I&#39;m considering reformatting my computer because of this"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427917022, "post_id": 29398851, "comment_id": 46974490, "body": "When you say you deleted it, does that mean you deleted the folder or did you uninstall it from the control panel?"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "edited": false, "score": 0, "creation_date": 1427917170, "post_id": 29398851, "comment_id": 46974573, "body": "In that case I&#39;d suggest going to your control panel and removing the program. At that point I think you would be able to reinstall."}], "owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1427915336, "creation_date": 1427915336, "answer_id": 29398851, "question_id": 29397796, "link": "https://stackoverflow.com/questions/29397796/dev-c-doesnt-highlight-syntax-mistakes-and-errors/29398851#29398851", "title": "dev c++ doesnt highlight syntax mistakes and errors", "body": "<p>According to this pdf\n<a href=\"http://www.apeg.ac.me/nastava/Introduction%20to%20DevC-%20IDE.pdf\" rel=\"nofollow\">http://www.apeg.ac.me/nastava/Introduction%20to%20DevC-%20IDE.pdf</a></p>\n\n<p>The editor highlights with different colors keywords and other elements of the C language. The classic scheme uses:</p>\n\n<ol>\n<li>Light blue for comments</li>\n<li>Green for included libraries</li>\n<li>Red for text strings</li>\n<li>Bold black for C keywords</li>\n</ol>\n\n<p>As long as you are using the classic scheme then your errors should be obvious if they do not show up with the expected syntax color. You can check in Tools > Editor options >\nSyntax > Color Speed Settings > Classic</p>\n\n<p>I would also expect you are able to tweak these how ever you want in the Tools > Editor options > Syntax area. I am not sure what version you are using as you did not state it. </p>\n"}], "owner": {"reputation": 19, "user_id": 4709371, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/363832977156355/picture?type=large", "display_name": "Yaser Eisa", "link": "https://stackoverflow.com/users/4709371/yaser-eisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427915336, "creation_date": 1427911749, "last_edit_date": 1427912078, "question_id": 29397796, "link": "https://stackoverflow.com/questions/29397796/dev-c-doesnt-highlight-syntax-mistakes-and-errors", "title": "dev c++ doesnt highlight syntax mistakes and errors", "body": "<p>I'm pretty new to coding and just moved to dev c++ and it never notifies me when I write something wrong or if it doesnt make sense. When I was using visual c++ the second I wrote something wrong or if a library was missing it would highlight it and if I hovered over it it would give me an error message....is there anyway to get that with dev c++?</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["c++", "search", "binary-search-tree"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427917651, "post_id": 29397793, "comment_id": 46974840, "body": "I suggest you search the internet for &quot;balanced binary tree&quot;.  This may be very close to what you want to achieve."}], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 4557064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a14eb30ac6839a5a0a1e026de5d94f?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude1142", "link": "https://stackoverflow.com/users/4557064/thedude1142"}, "edited": false, "score": 0, "creation_date": 1427914554, "post_id": 29398583, "comment_id": 46973140, "body": "Then when 5 is searched and found you increment the node&#39;s count. When that count is equal to whatever the count threshold is, then rotate it."}], "owner": {"reputation": 118, "user_id": 4557064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a14eb30ac6839a5a0a1e026de5d94f?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude1142", "link": "https://stackoverflow.com/users/4557064/thedude1142"}, "is_accepted": true, "score": 0, "last_activity_date": 1427914438, "creation_date": 1427914438, "answer_id": 29398583, "question_id": 29397793, "link": "https://stackoverflow.com/questions/29397793/binary-search-tree-self-organizing-search-rotation-c/29398583#29398583", "title": "Binary Search Tree; Self Organizing Search/Rotation C++", "body": "<p>I can't add a comment but did you try giving each node its own int count?</p>\n\n<p>example: </p>\n\n<pre><code>struct treeNode\n    {\n        treeNode* left;\n        treeNode* right;\n        T data;\n        treeNode() {left = NULL; right = NULL;};\n        treeNode(const T&amp;v, treeNode* l, treeNode* r){data = v; left = l;  right = r;};\nint count = 0;\n    };\n</code></pre>\n\n<p>Then incrementing that node's individual count when a search is conducted?</p>\n"}], "owner": {"reputation": 89, "user_id": 4351705, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7169dfaee7058bac47dde7ab7c1c62f1?s=128&d=identicon&r=PG&f=1", "display_name": "mrwigglesworth", "link": "https://stackoverflow.com/users/4351705/mrwigglesworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 29398583, "answer_count": 1, "score": 2, "last_activity_date": 1427914438, "creation_date": 1427911743, "question_id": 29397793, "link": "https://stackoverflow.com/questions/29397793/binary-search-tree-self-organizing-search-rotation-c", "title": "Binary Search Tree; Self Organizing Search/Rotation C++", "body": "<p>For my project I am to create a Self-Organizing Binary Search Tree. I have successfully created the BST but for some reason I can't quite figure out how to implement the Organizing portion.</p>\n\n<p>To be more specific, \nWhen I perform a search for a value, I am to increment its search count. Once the search count equals the \"Thresh hold Value\" (set through the constructor) I rotate that searched node up one.</p>\n\n<p>I am confident I can figure out how to perform the rotation but my problem lies with the integer variables <strong>searchCount</strong> and <strong>threshVal</strong>. For some reason, I can't figure out how to get <strong>searchCount</strong> to only increment with the searched value, and reset when I search for a new value</p>\n\n<p>For example:\nI have \"1 2 3 4 5\" in my BST. I perform a search for the value \"3\", I find it, increment the search count to 1.\nThen, I perform another search, this time on the value \"5\". The <strong>searchCount</strong> variable is then incremented again to 2, when it should be 1 since I searched for a different value.</p>\n\n<p>Here is my <em>Search</em> function. It's a big .cpp file so I'll just include the one function.</p>\n\n<pre><code>template &lt;typename T&gt;\nbool BST&lt;T&gt;::contains(const T&amp; v, BSTNode *&amp;t)\n{\n    if (t == nullptr)\n        return false;\n    else if(v &lt; t-&gt;data)\n        return contains(v, t-&gt;left);\n    else if(t-&gt;data &lt; v)\n        return contains(v, t-&gt;right);\n    else{\n\n        if(t-&gt;right == nullptr)\n            return true;\n        /*\n          Problem lies in the following segment, I just added the little\n          rotation portion to try and get something to work for testing\n          purposes. The problem still lies with threshVal and searchCount\n         */\n        if (searchCount == threshVal){\n            BSTNode *temp = t-&gt;right;\n            t-&gt;right = temp-&gt;left;\n            temp-&gt;left = t;\n            t = temp;\n\n            if(t == root)\n                searchCount = 0;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>If I need to give y'all more info, or perhaps add the rest of the .cpp file let me know. Thank you!</p>\n"}, {"tags": ["c++", "templates", "c++11", "std-function"], "comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 1, "creation_date": 1427911778, "post_id": 29397744, "comment_id": 46971608, "body": "does using <code>auto</code> work?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1427911817, "post_id": 29397744, "comment_id": 46971636, "body": "@dwcanillas: Like in <a href=\"http://stackoverflow.com/q/25338795/596781\">this question</a>?"}, {"owner": {"reputation": 4016, "user_id": 1290720, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9c43909fe3188371d0af8a721c1eec2?s=128&d=identicon&r=PG", "display_name": "Sidharth Mudgal", "link": "https://stackoverflow.com/users/1290720/sidharth-mudgal"}, "edited": false, "score": 0, "creation_date": 1427911827, "post_id": 29397744, "comment_id": 46971645, "body": "Um, I&#39;m not sure I understand how I would use auto in this case. I have to declare the type and then define this function myself."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1427911838, "post_id": 29397744, "comment_id": 46971660, "body": "it looks like a truly infinite recursion for me. What if your function returns a function that returns a function etc.?"}, {"owner": {"reputation": 4016, "user_id": 1290720, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9c43909fe3188371d0af8a721c1eec2?s=128&d=identicon&r=PG", "display_name": "Sidharth Mudgal", "link": "https://stackoverflow.com/users/1290720/sidharth-mudgal"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1427911926, "post_id": 29397744, "comment_id": 46971721, "body": "@vsoftco Yes it can and it does which should be perfectly legal. Not sure how to tell that to the compiler though"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1427911991, "post_id": 29397744, "comment_id": 46971761, "body": "@SidharthMudgal probably cannot (although I never say never), because C++ is strongly typed, so the compiler must know the type. This of course is my opinion, and not an answer."}, {"owner": {"reputation": 4016, "user_id": 1290720, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9c43909fe3188371d0af8a721c1eec2?s=128&d=identicon&r=PG", "display_name": "Sidharth Mudgal", "link": "https://stackoverflow.com/users/1290720/sidharth-mudgal"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1427912076, "post_id": 29397744, "comment_id": 46971808, "body": "@vsoftco If I can correctly declare the type then why not?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 2, "creation_date": 1427912136, "post_id": 29397744, "comment_id": 46971840, "body": "@SidharthMudgal Well that&#39;s the issue, you probably cannot &quot;correctly&quot; declare an infinitely recursive type. But again, let&#39;s see what experts on TMP have to say..."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1427913687, "post_id": 29397744, "comment_id": 46972663, "body": "BTW, you would have hard time in C to declare a function returning itself. (or even in Ocaml <i>without</i> <code>-rectypes</code>)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1427914121, "post_id": 29397744, "comment_id": 46972895, "body": "Do you want <code>using RetTypeFunction = std::function&lt;std::function&lt;RetType(void)&gt;(void)&gt;;</code> ?"}], "answers": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 4, "last_activity_date": 1427945244, "last_edit_date": 1427945244, "creation_date": 1427913391, "answer_id": 29398282, "question_id": 29397744, "link": "https://stackoverflow.com/questions/29397744/return-type-of-function-that-returns-an-stdfunction/29398282#29398282", "title": "Return type of function that returns an std::function", "body": "<p>You cannot use <code>std::function</code> that way.</p>\n\n<p>You can roll your own, but it will take some work.</p>\n\n<p>Here is a sketch:</p>\n\n<pre><code>template&lt;class T, class A, class B&gt;\nstruct sub{using type=T;};\ntemplate&lt;class T, class A, class B&gt;\nusing sub_t=typename sub&lt;T,A,B&gt;::type;\ntemplate&lt;class T, class B&gt;\nstruct sub&lt;T,T,B&gt;{using type=B;};\ntemplate&lt;class R,class...Args,class A,class B&gt;\nstruct sub&lt;R(Args...),A,B&gt;{\n  using type=sub_t&lt;R,A,B&gt;(sub_t&lt;Args,A,B&gt;...);\n};\n</code></pre>\n\n<p>write the above.  It takes a type <code>T</code>, and if it matches <code>A</code> it returns <code>B</code>.  Otherwise it returns <code>T</code>.  It also works on function signatures.</p>\n\n<p>We can use this with a 'flag' type in a signature to replace with the type of the function object itself:</p>\n\n<pre><code>struct recurse{}; // flag type\n\n// not needed in C++14:\ntemplate&lt;class Sig&gt;\nusing result_of_t=typename std::result_of&lt;Sig&gt;::type;\n\ntemplate&lt;class Sig&gt;\nstruct func {\n  using Sig2=sub_t&lt;Sig,recurse,func&gt;;\n  using function = std::function&lt;Sig2&gt;;\n  function impl;\n  template&lt;class...Ts&gt;\n  result_of_t&lt;function const&amp;(Ts...)&gt;\n  operator()(Ts&amp;&amp;...ts)const\n  {\n    return impl(std::forward&lt;Ts&gt;(ts)...);\n  }\n};\n</code></pre>\n\n<p>Then <code>func&lt;recurse()&gt;</code> is a function object that when called, returns a <code>func&lt;recurse()&gt;</code>.</p>\n\n<p>Turns out the implementation is as simple as storing a <code>std::function&lt;Sig2&gt;</code> and calling it.  The above code lacks polish -- you'd want constructors, more operators, privacy, etc.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/e2b60536cad59243\" rel=\"nofollow\">live example</a></p>\n\n<p>Note that a y-combinator might be useful if you want to avoid having to capture a copy of yourself by reference in order to return <code>*this</code> in a lambda, as capture by reference implies a limited lifetime (and avoid using shared ptr).</p>\n\n<p>Other work that is useful would be enhancing <code>sub</code> to handle references-to-<code>A</code>, or even templates that contain <code>A</code> as an argument.  (the general sub algorithm is not doable in C++, as C++ does not have full meta-template capabilities, but handling every template class currently in <code>std</code> is easy: they are all pure type templates, or <code>std::array</code>).</p>\n\n<hr>\n\n<p>For completeness, you can add this to <code>sub</code>:</p>\n\n<pre><code>// optional stuff for completeness:\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T&amp;,A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt;&amp;;\n};\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T*,A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt;*;\n};\ntemplate&lt;template&lt;class...&gt;class Z,class... Ts,class A,class B&gt;\nstruct sub&lt;Z&lt;Ts...&gt;,A,B&gt;{\n  using type=Z&lt;sub_t&lt;Ts,A,B&gt;...&gt;;\n};\ntemplate&lt;template&lt;class,size_t&gt;class Z,class T,size_t n,class A,class B&gt;\nstruct sub&lt;Z&lt;T,n&gt;,A,B&gt;{\n  using type=Z&lt;sub_t&lt;T,A,B&gt;,n&gt;;\n};\ntemplate&lt;class T,size_t n,class A,class B&gt;\nstruct sub&lt;T[n],A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt;[n];\n};\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T[],A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt;[];\n};\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T const,A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt; const;\n};\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T volatile const,A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt; volatile const;\n};\ntemplate&lt;class T,class A,class B&gt;\nstruct sub&lt;T volatile,A,B&gt;{\n  using type=sub_t&lt;T,A,B&gt; volatile;\n};\n</code></pre>\n\n<p>And it now works recursively on many templates, on arrays, references, and pointers, and with cv-qualified types.  This allows you to write something like:</p>\n\n<pre><code>func&lt; std::vector&lt;recurse&gt;() &gt;\n</code></pre>\n\n<p>which is a function object whose <code>operator()</code> returns a <code>func&lt; std::vector&lt;recurse&gt;() &gt;</code>.</p>\n\n<p>Note that this procedure isn't quite perfect, as if <code>some_template&lt;recurse&gt;</code> isn't a valid template instantiation, the above won't work.  A stranger version that takes potentially applied templates and arguments, does the substitution, then the application, would be required in such cases.</p>\n"}], "owner": {"reputation": 4016, "user_id": 1290720, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9c43909fe3188371d0af8a721c1eec2?s=128&d=identicon&r=PG", "display_name": "Sidharth Mudgal", "link": "https://stackoverflow.com/users/1290720/sidharth-mudgal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2050, "favorite_count": 2, "closed_date": 1427988789, "answer_count": 1, "score": 5, "last_activity_date": 1440166318, "creation_date": 1427911592, "last_edit_date": 1440166318, "question_id": 29397744, "link": "https://stackoverflow.com/questions/29397744/return-type-of-function-that-returns-an-stdfunction", "closed_reason": "Duplicate", "title": "Return type of function that returns an std::function", "body": "<p>I have a function that should return an std::function of the same type as that function. Basically I want something like this:</p>\n\n<pre><code>using RetType = std::function&lt;RetType(void)&gt;;\n</code></pre>\n\n<p>which obviously will not compile. How do I correctly declare the return type?</p>\n"}, {"tags": ["c++", "linux", "makefile", "gnu-make"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427911529, "post_id": 29397684, "comment_id": 46971476, "body": "This is what <a href=\"http://www.gnu.org/software/make/manual/make.html#Static-Pattern\" rel=\"nofollow noreferrer\">static pattern rules</a> are for. Well one thing they are useful for at least."}, {"owner": {"reputation": 31, "user_id": 4608643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a_xnpK-0WoI/AAAAAAAAAAI/AAAAAAAAABk/I117mYO3FVI/photo.jpg?sz=128", "display_name": "Joel Allen", "link": "https://stackoverflow.com/users/4608643/joel-allen"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427919035, "post_id": 29397684, "comment_id": 46975620, "body": "@EtanReisner I&#39;m still not making any progress. Is there anyway to pass multiple % wildcards to a target? (e.g. %/build/%.o: %/src/%.cpp)"}], "answers": [{"owner": {"reputation": 5156, "user_id": 1300170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/600a453e63e5e8d9f735e91cdc5cb839?s=128&d=identicon&r=PG", "display_name": "ruvim", "link": "https://stackoverflow.com/users/1300170/ruvim"}, "is_accepted": false, "score": 1, "last_activity_date": 1465923072, "creation_date": 1465923072, "answer_id": 37817916, "question_id": 29397684, "link": "https://stackoverflow.com/questions/29397684/generic-makefile-target-for-object-files-in-multiple-subdirectories/37817916#37817916", "title": "Generic makefile target for object files in multiple subdirectories", "body": "<p>There is no way to express such sophisticated target in GNU Make. Although there is a way to generate the set of targets (and corresponding rules). Except an obvious way to use some tool to generate Makefile, we can use <a href=\"https://www.gnu.org/software/make/manual/html_node/Eval-Function.html\" rel=\"nofollow\">eval</a> feature of GNU Make to create rules programmatically. Example code is following.</p>\n\n<pre><code># Directory naming conventions\nSRC_DIR_NAME := src\nBUILD_DIR_NAME := build\n\n# source files list\nSRCS := $(shell find -name '*.cpp')\n\n# function to get obj file name from src file name\nOBJ_FROM_SRC = $(subst /$(SRC_DIR_NAME)/,/$(BUILD_DIR_NAME)/,$(1:%.cpp=%.o))\n\n# Final executable\nAPP := bin/app\n\n.PHONY: build\n.DEFAULT_GOAL := build\n\n# rule template for obj\ndefine obj_rule_by_src =\nsrc := $(1)\nobj := $$(call OBJ_FROM_SRC,$$(src))\nOBJS := $$(OBJS) $$(obj)\n$$(obj): $$(src)\n    # compile source into object\n    echo build $$@ from $$&lt;\nendef\n\n# generate rules for OBJS\n$(foreach src,$(SRCS),$(eval $(call obj_rule_by_src,$(src))))\n\n\n$(APP): $(OBJS)\n# link objects and compile app\n    echo create $@ from $^\n\nbuild: $(APP)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4608643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a_xnpK-0WoI/AAAAAAAAAAI/AAAAAAAAABk/I117mYO3FVI/photo.jpg?sz=128", "display_name": "Joel Allen", "link": "https://stackoverflow.com/users/4608643/joel-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1465923072, "creation_date": 1427911369, "question_id": 29397684, "link": "https://stackoverflow.com/questions/29397684/generic-makefile-target-for-object-files-in-multiple-subdirectories", "title": "Generic makefile target for object files in multiple subdirectories", "body": "<p>I have a project with the following directory structure: </p>\n\n<pre><code>Root directory\n    bin/ (for final executable)\n    Mod1/\n        build/ (for *.o / *.d files)\n        inc/\n        src/\n    Mod2/\n        build/\n        inc/\n        src/\n    Mod.../ (future module directories)\n        build/\n        inc/\n        src/\n    makefile\n</code></pre>\n\n<p>My current makefile contains this:</p>\n\n<pre><code># Directory naming conventions\nSRC_DIR_NAME = src\nBUILD_DIR_NAME = build\n\n# Parallel source/object/dependency file lists\nSRCS = $(shell find -name *.cpp)\nOBJS = $(subst $(SRC_DIR_NAME),$(BUILD_DIR_NAME),$(SRCS:%.cpp=%.o))\n\n# Final executable\nAPP = bin/app\n\nbuild: $(APP)\n\n$(APP): $(OBJS)\n    # link objects and compile app\n\n%.o: %.cpp\n    # compile sources into objects\n</code></pre>\n\n<p>My file lists work as expected and produce:</p>\n\n<pre><code>SRCS=./mod1/src/file.cpp ./mod2/src/file.cpp\nOBJS=./mod1/build/file.o ./mod2/build/file.o\nDEPS=./mod1/build/file.d ./mod2/build/file.d\n</code></pre>\n\n<p>However when I run make I get the following error:</p>\n\n<pre><code>make: *** No rule to make target `mod1/build/file.o', needed by `/bin/app'.  Stop.\n</code></pre>\n\n<p>My assumption is that:</p>\n\n<p><code>%.o: %.cpp</code></p>\n\n<p>Doesn't work with a input like</p>\n\n<p><code>mod1/build/file.o</code></p>\n\n<p>Is there a way to make a generic target that takes a module directory and creates targets for that module's object files that require that module's source files in their respective sub-directories?</p>\n\n<p>I know using recursive make can solve this issue but I want to avoid having to use that solution if possible.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1427911297, "post_id": 29397627, "comment_id": 46971361, "body": "Afaik, it&#39;s resolved through the scope operator <code>::</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1427911344, "post_id": 29397627, "comment_id": 46971378, "body": "have you read this: <a href=\"http://isocpp.org/wiki/faq/multiple-inheritance#mi-diamond\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/multiple-inheritance#mi-diamond</a>?"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1427911361, "post_id": 29397627, "comment_id": 46971384, "body": "It&#39;s problem is that you can end up with weirdly shaped hierarchies (like diamonds), which cause their own problems."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1427911374, "post_id": 29397627, "comment_id": 46971396, "body": "<a href=\"http://isocpp.org/wiki/faq/multiple-inheritance#mi-diamond\" rel=\"nofollow noreferrer\">The dreaded diamond inheritance</a>."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427911549, "post_id": 29397627, "comment_id": 46971483, "body": "Are you basically asking &quot;why is multiple inheritance in C++ considered a bad thing?&quot;?"}, {"owner": {"reputation": 559, "user_id": 4599245, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/9336e13034805f67026d5b735a493bc9?s=128&d=identicon&r=PG&f=1", "display_name": "B-Mac", "link": "https://stackoverflow.com/users/4599245/b-mac"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427913135, "post_id": 29397627, "comment_id": 46972332, "body": "@LightningRacisinObrit: I guess."}], "owner": {"reputation": 559, "user_id": 4599245, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/9336e13034805f67026d5b735a493bc9?s=128&d=identicon&r=PG&f=1", "display_name": "B-Mac", "link": "https://stackoverflow.com/users/4599245/b-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427911140, "creation_date": 1427911140, "question_id": 29397627, "link": "https://stackoverflow.com/questions/29397627/is-my-deduction-about-multiple-inheritance-correct", "title": "Is my deduction about multiple-inheritance correct?", "body": "<p>I'm doing C++ and Java courses together. My Java instructor was like, \"there is no multiple inheritance in Java for good. I wonder how the ambiguity issues are resolved in C++\". And our C++ instructor was like...\"so you see the ambiguity, that's why we should only use it when it's absolutely necessary\"</p>\n\n<p>Ambiguity obviously refers to the base classes from which the sub-class is derived having some member function or member variable with the same signature/type-cum-identifier.</p>\n\n<p>He never explained how that ambiguity is resolved. So, I decided to try out on my own and began with the scope resolution operator and it seemed to work for both ambiguous functions and variables. So, I think we should be fine. Then why does multiple inheritance still get bad reps? I mean, the ambiguity can easily be resolved using the binary scope resolution operator.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427911129, "post_id": 29397584, "comment_id": 46971260, "body": "Your problem statement is too vague. What are 6 objects? You need a class of 4 strings of 9 characters? Please show the code you have so far."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 2, "creation_date": 1427911173, "post_id": 29397584, "comment_id": 46971288, "body": "<a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."}, {"owner": {"reputation": 3, "user_id": 4739395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0af5947c56f96ba1af5ee21e379400?s=128&d=identicon&r=PG&f=1", "display_name": "Wamast", "link": "https://stackoverflow.com/users/4739395/wamast"}, "edited": false, "score": 0, "creation_date": 1427921245, "post_id": 29397584, "comment_id": 46976816, "body": "Break the entry into fields and save the fields in a C++ object. You can assume that no entry contains more than 4 fields and that no field contains more than 9 characters. Add the object to a vector. (If your object has a fixed length, you can use a vector of objects. Otherwise you need to use a vector of pointers to objects.)-on the whole I have 6 entries. This is what we need to do, (Am sorry this is my first post of question, I will improve how to ask clearly)"}], "answers": [{"comments": [{"owner": {"reputation": 3187, "user_id": 4350216, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uYP0f.jpg?s=128&g=1", "display_name": "Ali Akber", "link": "https://stackoverflow.com/users/4350216/ali-akber"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427911357, "post_id": 29397656, "comment_id": 46971383, "body": "what do you mean by &quot;6&quot;?"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427911390, "post_id": 29397656, "comment_id": 46971400, "body": "You have &quot;9 characters&quot; and &quot;4 fields&quot; but missing &quot;6 objects&quot;."}, {"owner": {"reputation": 3187, "user_id": 4350216, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uYP0f.jpg?s=128&g=1", "display_name": "Ali Akber", "link": "https://stackoverflow.com/users/4350216/ali-akber"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427911728, "post_id": 29397656, "comment_id": 46971576, "body": "sorry :( i didn&#39;t notice that before :("}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427911801, "post_id": 29397656, "comment_id": 46971627, "body": "That creates a vector of objects which have no members."}, {"owner": {"reputation": 3187, "user_id": 4350216, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uYP0f.jpg?s=128&g=1", "display_name": "Ali Akber", "link": "https://stackoverflow.com/users/4350216/ali-akber"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427912035, "post_id": 29397656, "comment_id": 46971777, "body": "my bad :( i&#39;m an a***hole :&#39;("}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427912073, "post_id": 29397656, "comment_id": 46971805, "body": "Erm no need to start insulting yourself?"}], "owner": {"reputation": 3187, "user_id": 4350216, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uYP0f.jpg?s=128&g=1", "display_name": "Ali Akber", "link": "https://stackoverflow.com/users/4350216/ali-akber"}, "is_accepted": true, "score": 0, "last_activity_date": 1427911995, "last_edit_date": 1427911995, "creation_date": 1427911277, "answer_id": 29397656, "question_id": 29397584, "link": "https://stackoverflow.com/questions/29397584/how-to-create-vector-object-with-4-fields-and-9-char-length-for-each-field/29397656#29397656", "title": "how to create vector object with 4 fields and 9 char length for each field", "body": "<p>if you mean STL vector then you can use this :</p>\n\n<pre><code>class obj\n{\n    public:\n    vector&lt;vector&lt;char&gt; &gt;v;\n    obj()\n    {\n        v = vector&lt;vector&lt;char&gt; &gt;(4, vector&lt;char&gt;(9));\n    }\n};\n\nint main()\n{\n    vector&lt;obj&gt;array(6);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4739395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0af5947c56f96ba1af5ee21e379400?s=128&d=identicon&r=PG&f=1", "display_name": "Wamast", "link": "https://stackoverflow.com/users/4739395/wamast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 29397656, "answer_count": 1, "score": -3, "last_activity_date": 1427911995, "creation_date": 1427910995, "question_id": 29397584, "link": "https://stackoverflow.com/questions/29397584/how-to-create-vector-object-with-4-fields-and-9-char-length-for-each-field", "title": "how to create vector object with 4 fields and 9 char length for each field", "body": "<p>Can anyone please script how to create a class for vector in c++, The requirement is there must be 6 objects, and each object must have 4 fields and each field must have 9 characters length. please help me am trying to learn. Am able to create vector and push data into it and display it, but could not do the requirement. thank you.</p>\n"}, {"tags": ["c++", "qt", "class", "keyword"], "comments": [{"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 1, "creation_date": 1427910902, "post_id": 29397517, "comment_id": 46971142, "body": "It isn&#39;t a keyword <a href=\"http://ideone.com/54UsaM\" rel=\"nofollow noreferrer\">ideone.com/54UsaM</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 6, "creation_date": 1427911024, "post_id": 29397517, "comment_id": 46971207, "body": "Have a look at this: <a href=\"http://doc.qt.io/qt-5/signalsandslots.html\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/signalsandslots.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1427911134, "post_id": 29397582, "comment_id": 46971262, "body": "How does c++ incorporate Qt library code?  AFAIK, this is is pure c++."}, {"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "edited": false, "score": 1, "creation_date": 1427911155, "post_id": 29397582, "comment_id": 46971283, "body": "&quot;c++ compilers will just ignore these keywords&quot; not <i>ignore</i>, but they will fail to compile the code. Aside from this, your answer is fine."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1427911226, "post_id": 29397582, "comment_id": 46971323, "body": "The Qt preprocessor is <code>moc</code>, not <code>qmake</code>. And the compiler does not just &quot;ignore&quot; these keywords -- they are macros defined to <code>public</code> or <code>private</code> (I can&#39;t remember which) in one of the included Qt headers."}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "reply_to_user": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 1, "creation_date": 1427911270, "post_id": 29397582, "comment_id": 46971347, "body": "@wallyk this won&#39;t compile as pure C++"}, {"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "reply_to_user": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "edited": false, "score": 0, "creation_date": 1427911388, "post_id": 29397582, "comment_id": 46971399, "body": "@KeillRandor : but it does compile (not link) without moc. I do not know how, but it compiles"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 1, "creation_date": 1427911408, "post_id": 29397582, "comment_id": 46971410, "body": "This would be a great answer if it didn&#39;t claim <i>&quot;c++ compilers will just ignore these keywords.&quot;</i>. They&#39;re not keywords (they&#39;re just preprocessor tokens) and C++ compilers will give an error if they see them, they need to be removed/replaced by the preprocessor before the compiler ever sees them."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 1, "creation_date": 1427911517, "post_id": 29397582, "comment_id": 46971468, "body": "@galinette: If it compiles without moc, it simply means that one of your included header files defined <code>signals</code> to be a macro that means something completely innocent from C++ point of view, i.e. <code>public</code>, <code>private</code> or <code>protected</code>."}, {"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1427911644, "post_id": 29397582, "comment_id": 46971533, "body": "@JonathanWakely : no, the preprocessor does not alter the source. It just creates companion classes. The original source containing these keywords is sent to the c++ compiler unmodified. The keywords are likely removed by a macro"}, {"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "edited": false, "score": 1, "creation_date": 1427911670, "post_id": 29397582, "comment_id": 46971544, "body": "@galinette NOPE, it does not compile without including Qt headers. see the ideone example provided by Alejandro."}], "owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "is_accepted": false, "score": 2, "last_activity_date": 1427911798, "last_edit_date": 1427911798, "creation_date": 1427910994, "answer_id": 29397582, "question_id": 29397517, "link": "https://stackoverflow.com/questions/29397517/what-does-the-c-class-access-keyword-signals-mean/29397582#29397582", "title": "What does the c++ class access keyword &quot;signals&quot; mean?", "body": "<p>These are not c++ keywords! c++ will not compile them, unless you include a header from the Qt library which will remove them with the preprocessor using:</p>\n\n<pre><code>//from qobjectdefs.h\n#     define slots\n#     define signals public\n</code></pre>\n\n<p>These are \"tags\" used by the Qt Library Preprocessor (moc, Meta Object Compiler) for processing them.</p>\n\n<p>They mark methods which are used in a signal-slot communication mechanism between objects. moc will process them only if the class is marked with the Q_OBJECT macro, and these classes must inherit from QObject.</p>\n\n<p>From these, moc create a companion class in moc_xxxxx.h and moc_xxxxx.cpp source files, with the necessary code for handling the signal/slot mechanism.</p>\n\n<p>Even if you have Qt headers and libraries, you will generally not be able to link the code without the qmake generated sources.</p>\n"}, {"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 2, "creation_date": 1427911416, "post_id": 29397641, "comment_id": 46971415, "body": "Actually this isn&#39;t quite accurate either. <code>moc</code> doesn&#39;t change the code itself before it gets compiled (how would this work for headers that get compiled in many translation units?), it just does <i>additional</i> processing to generate the metadata code. The code compiles as-is in a normal C++ compiler, by virtue of the Qt &quot;keywords&quot; being defined to something else via macros."}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427911550, "post_id": 29397641, "comment_id": 46971484, "body": "@Cameron I don&#39;t think I said it changed the code itself? I&#39;ll change my wording by &quot;turns this signals into actually valid C++ code&quot; I mean &quot;it will add up the code that provides the signal-slot functionality&quot;"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427911622, "post_id": 29397641, "comment_id": 46971522, "body": "You said it changes the code (into valid code) &quot;and that&#39;s what gets compiled&quot; :-)"}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427911729, "post_id": 29397641, "comment_id": 46971577, "body": "@Cameron well it generates valid code, as Qt macros and &#39;keywords&#39; aren&#39;t valid C++, how would you word it?"}, {"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1427911940, "post_id": 29397641, "comment_id": 46971731, "body": "Aha!  In the long list of header files, there are four peculiar includes like <code>#include &lt;QMainWindow&gt;</code> and <code>#include &lt;QProcess&gt;</code>.  So apparently it is not pure c++.  The Makefile does not immediately succumb to scrutiny, but this at least explains what is going on."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427911942, "post_id": 29397641, "comment_id": 46971733, "body": "I would say that the code is already valid C++ (by dint of these special &quot;keywords&quot; being <code>#define</code>d to something harmless), but that <code>moc</code> treats them specially in a separate pass in order to auto-generate metadata code."}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1427912210, "post_id": 29397641, "comment_id": 46971871, "body": "@Cameron sure the could would be valid if we <code>#define</code> those &quot;keywords&quot; to something harmless, if we don&#39;t then it is not."}], "owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "is_accepted": true, "score": 8, "last_activity_date": 1427912906, "last_edit_date": 1427912906, "creation_date": 1427911189, "answer_id": 29397641, "question_id": 29397517, "link": "https://stackoverflow.com/questions/29397517/what-does-the-c-class-access-keyword-signals-mean/29397641#29397641", "title": "What does the c++ class access keyword &quot;signals&quot; mean?", "body": "<p>It isn't a keyword, if you're using a framework such as Qt it adds up 'keywords' to the language to provide additional functionality that isn't part of the standard.</p>\n\n<p>In Qt for example this code gets preproccessed by the MOC(Meta-Object Compiler), <code>signals</code> is defined in <code>qobjectdefs.h</code> as <code>#define signals public</code>, the moc checks for this macro to add meta-code and provide the actual signal-slot functionality, the generated code is put into a file with a name such as 'moc_myClass.cpp'.</p>\n"}, {"owner": {"reputation": 3553, "user_id": 2863154, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e451732f6ff8efd541922b6075a47198?s=128&d=identicon&r=PG", "display_name": "\u042fois", "link": "https://stackoverflow.com/users/2863154/%d0%afois"}, "is_accepted": false, "score": 1, "last_activity_date": 1427913561, "last_edit_date": 1427913561, "creation_date": 1427913159, "answer_id": 29398215, "question_id": 29397517, "link": "https://stackoverflow.com/questions/29397517/what-does-the-c-class-access-keyword-signals-mean/29398215#29398215", "title": "What does the c++ class access keyword &quot;signals&quot; mean?", "body": "<p><code>signals</code> is a macro defined by the Qt framework that is translated to <code>public</code> during compilation while serving as a <em>beacon</em> to Qt's <code>moc</code> preprocessor for implementing observer-like class relations with \"signals\" and \"slots\". Other similar Qt macros include <code>slots</code> and <code>Q_SLOTS</code>.</p>\n"}], "owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2773, "favorite_count": 0, "accepted_answer_id": 29397641, "answer_count": 3, "score": 7, "last_activity_date": 1427913561, "creation_date": 1427910781, "last_edit_date": 1427911526, "question_id": 29397517, "link": "https://stackoverflow.com/questions/29397517/what-does-the-c-class-access-keyword-signals-mean", "title": "What does the c++ class access keyword &quot;signals&quot; mean?", "body": "<p>I came across a declaration similar to this (names changed per <a href=\"https://en.wikipedia.org/wiki/Non-disclosure_agreement\" rel=\"noreferrer\">NDA</a>):</p>\n\n<pre><code>class Foo\n{\n    int  bar;\n\n public:\n    explicit Foo (Fu *parent = NULL);\n\n private:\n    void somefunc (String);\n\n signals:        // ??? what does this do ???\n    void windowClosed();\n};\n</code></pre>\n\n<p>This is compiled successfully by g++ 4.4.7 (from about 2012).  Additionally, vim recognizes it as a keyword similar to <code>public</code> and <code>private</code> by highlighting them in brown.  (Dis)similiarly, vim uses green to highlight the keywords <code>namespace</code>, <code>class</code>, <code>void</code>, <code>int</code>, <code>double</code>, <code>float</code>, <code>char</code>, <code>unsigned</code>, etc.</p>\n\n<p>The Stackoverflow code formatter does <em>not</em> highlight <code>signals</code> above like it does <code>public</code> and <code>private</code>!</p>\n\n<p>It has proved quite difficult to Google for this (lots of noise), but I haven't found anything mentioning it, not even on SO.  I also looked in the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Extensions.html\" rel=\"noreferrer\">enhancements section</a> of the g++ documentation.</p>\n\n<p>This codebase is large (23+ million lines), oldish (~1998), and has a distinct accent.  For example, the same class definition has the class access <code>private slots:</code> before two member functions.  So it is possible there is some <code>#define</code> obfuscation or trickery going on, but I can't find it using <code>grep</code>.  It is possible g++ has been altered, but its <code>--version</code> output does not indicate modification.</p>\n"}, {"tags": ["c++", "qt", "unit-testing"], "answers": [{"owner": {"reputation": 5721, "user_id": 2792656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a52b4e818fe834ca7445df4395c156?s=128&d=identicon&r=PG&f=1", "display_name": "Meefte", "link": "https://stackoverflow.com/users/2792656/meefte"}, "is_accepted": true, "score": 5, "last_activity_date": 1443602077, "last_edit_date": 1443602077, "creation_date": 1427913459, "answer_id": 29398300, "question_id": 29397463, "link": "https://stackoverflow.com/questions/29397463/what-does-0-skipped-0-blacklisted-mean-in-the-qt-unit-test-framework/29398300#29398300", "title": "What does &quot;0 skipped, 0 blacklisted&quot; mean in the Qt Unit Test framework?", "body": "<p>Test is skipped, if <a href=\"http://doc.qt.io/qt-5/qtest.html#QSKIP\" rel=\"nofollow\">QSKIP()</a> called from a test function.</p>\n\n<p><code>QTestlib</code> looks for a file called <code>BLACKLIST</code> in the test directory and parses it if found. The file contains a simple ini style list of functions to blacklist. For details see <a href=\"http://code.qt.io/cgit/qt/qtbase.git/tree/src/testlib/qtestblacklist.cpp\" rel=\"nofollow\">qtestblacklist.cpp</a>.</p>\n"}], "owner": {"reputation": 62673, "user_id": 492336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/UjW5c.png?s=128&g=1", "display_name": "sashoalm", "link": "https://stackoverflow.com/users/492336/sashoalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 29398300, "answer_count": 1, "score": 3, "last_activity_date": 1443602077, "creation_date": 1427910563, "question_id": 29397463, "link": "https://stackoverflow.com/questions/29397463/what-does-0-skipped-0-blacklisted-mean-in-the-qt-unit-test-framework", "title": "What does &quot;0 skipped, 0 blacklisted&quot; mean in the Qt Unit Test framework?", "body": "<p>When I run my Qt Unit Test project, it ends with a summary that looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Totals: 28 passed, 1 failed, 0 skipped, 0 blacklisted\n</code></pre>\n\n<p>The \"passed\" and \"failed\" categories are obvious, but what is the meaning of \"skipped\" and \"blacklisted\"?</p>\n\n<p>Under what conditions will the test framework skip a test? How is that different from blacklisting it?</p>\n\n<p>My Qt version is Qt 5.4.1.</p>\n"}, {"tags": ["c++", "qt"], "answers": [{"owner": {"reputation": 335, "user_id": 3830784, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e99c42399c833b0ace266cd1b49806e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3830784", "link": "https://stackoverflow.com/users/3830784/user3830784"}, "is_accepted": true, "score": 0, "last_activity_date": 1428614230, "creation_date": 1428614230, "answer_id": 29549210, "question_id": 29397371, "link": "https://stackoverflow.com/questions/29397371/graphing-issues-in-data-output/29549210#29549210", "title": "Graphing issues in data output", "body": "<p>Two changes were needed to correct the issues.  </p>\n\n<p>First, stepSize and heightStep were both changed from int to double. </p>\n\n<p>second, the section </p>\n\n<pre><code>x = dataInput.at(i);\nx = max - x;\nx = (x-min)/heightStep;\nnextPoint.setX(0);\nnextPoint.setY(x+lineDist);\nfor (i = 1; i &lt; 60; i++){\n    x = dataInput.at(i);\n    x = max - x;\n    x = (x-min)/heightStep;\n    lastPoint = nextPoint;\n    nextPoint.setX(i*stepSize);\n    nextPoint.setY(x+lineDist);\n    painter.drawLine(lastPoint, nextPoint);\n}\n</code></pre>\n\n<p>was changed to:</p>\n\n<pre><code>x = dataInput.at(i);\nx = (x-min)/heightStep;\nnextPoint.setX(0);\nnextPoint.setY(dist-x+lineDist);\nfor (i = 1; i &lt; 60; i++){\n    x = dataInput.at(i);\n    x = (x-min)/heightStep;\n    lastPoint = nextPoint;\n    nextPoint.setX(i*stepSize);\n    nextPoint.setY(dist-x+lineDist);\n    painter.drawLine(lastPoint, nextPoint);\n}\n</code></pre>\n\n<p>This solved the issue and made the system always draw the data between the min and max lines.</p>\n"}], "owner": {"reputation": 335, "user_id": 3830784, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e99c42399c833b0ace266cd1b49806e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3830784", "link": "https://stackoverflow.com/users/3830784/user3830784"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 29549210, "answer_count": 1, "score": 0, "last_activity_date": 1428614230, "creation_date": 1427910214, "question_id": 29397371, "link": "https://stackoverflow.com/questions/29397371/graphing-issues-in-data-output", "title": "Graphing issues in data output", "body": "<p>I have a program that is taking input from an external source (right now, a joystick), and then plotting it on a graph.  The graph displays the last 60 frames of data, which is about 1-2 seconds.</p>\n\n<p>here is the data input:</p>\n\n<pre><code>nextDataPoint(double x){\n    if (x &gt; max){ max = x; }\n    if (x &lt; min){ min = x; }\n    dataInput.enqueue(x) //dataInput is a QQueue&lt;double&gt;\n    while (dataInput.size() &gt; 60){\n        dataInput.dequeue();\n    }\n    update(); //this triggers the paint event\n}\n</code></pre>\n\n<p>here is the graphing function</p>\n\n<pre><code>graph function:\n\n//this draws the min line and the max line\nQPainter painter(this);\nint lineDist = 25;\nQPen myPen(Qt::black, 3);\nQPoint maxText(10,20);\npainter.drawText(maxText, \"max\");\nQPoint maxLineLeft(0, lineDist);\nQPoint maxLineRight(width(), lineDist);\npainter.drawLine(maxLineLeft, maxLineRight);\nQPoint minText(10, height()-10);\npainter.drawText(minText, \"min\");\nQPoint minLineLeft(0, height()-lineDist);\nQPoint minLineRight(width(), height()-lineDist);\n\n//this draws the actual graph\nmyPen.setColor(Qt::blue);\nmyPen.setWidth(2);\npainter.setPen(myPen);\ndouble dist = (double)(heigh() - 2*lineDist);\nint stepSize = (int)((double)width() / 60.0);\nint heightStep = (max-min)/dist;\ndouble x;\nQPoint lastPoint(0,0);\nQPoint nextPoint(0,0);\nint i = 0;\nif (!dataInput.empty()){ //checks that there is data\n    if (dataInput.size() &lt; 60) { //ignoring for sake of brevety\n    } else {\n        x = dataInput.at(i);\n        x = max - x; // this inverts the data, necessary because (0,0) is the upper left corner\n        x = (x-min)/heightStep;\n        nextPoint.setX(0);\n        nextPoint.setY(x+lineDist);\n        for (i = 1; i &lt; 60; i++){\n            x = dataInput.at(i);\n            x = max - x;\n            x = (x-min)/heightStep;\n            lastPoint = nextPoint;\n            nextPoint.setX(i*stepSize);\n            nextPoint.setY(x+lineDist);\n            painter.drawLine(lastPoint, nextPoint);\n        }\n    }\n}\n</code></pre>\n\n<p>So, with one joystick that I am testing with, this program works without issue.  As I move the joystick, the program draws the blue line within the bounds listed on the screen.  x is input as a number between 0 and 65535, and after moving the joystick around a little bit the system recognizes that as the max and the min, and then proceeds to function as expected.</p>\n\n<p>The second \"joystick\" is less of a joystick and more of a pressure sensor.  This outputs either x = 1023 or x is some number between 5 and 9.  In this case however, the blue line appears on the same level as the max line, or when the data output is x in the single digits, the blue line appears below min.  I haven't been able to figure out why this would be the case, the first joystick can also produce results of 0, but it never goes below the minimum line.  What might be causing this particular issue?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427909403, "post_id": 29397067, "comment_id": 46970321, "body": "Which error please??"}, {"owner": {"reputation": 9, "user_id": 4739101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AmtS6.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4739101/matt"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427909480, "post_id": 29397067, "comment_id": 46970353, "body": "Sorry. Hit return before I was ready. Still getting used to this forum."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1427909482, "post_id": 29397067, "comment_id": 46970354, "body": "Do you compile with C++11 (or later) enabled ?"}, {"owner": {"reputation": 61429, "user_id": 572743, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9941673f566f229bc536c1c2b558884e?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/572743/damon"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1427909853, "post_id": 29397067, "comment_id": 46970542, "body": "@Jarod42: Most definitely not, or it would work ;-)"}, {"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 1, "creation_date": 1427909860, "post_id": 29397067, "comment_id": 46970545, "body": "What are you using? C or C++? The answer is different for each one."}, {"owner": {"reputation": 9, "user_id": 4739101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AmtS6.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4739101/matt"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1427910652, "post_id": 29397067, "comment_id": 46970988, "body": "@milleniumbug it&#39;s C++. Using a namespace (as suggested below) seems to work."}], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1427909715, "post_id": 29397118, "comment_id": 46970480, "body": "@Jarod42 thanks.  Haven&#39;t usen&#39;t constexpr much because I am still on VS2012 compiler."}], "owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "is_accepted": false, "score": 5, "last_activity_date": 1427909585, "last_edit_date": 1427909585, "creation_date": 1427909330, "answer_id": 29397118, "question_id": 29397067, "link": "https://stackoverflow.com/questions/29397067/how-can-i-define-a-structure-of-physical-constants/29397118#29397118", "title": "How can I define a structure of physical constants?", "body": "<p>one solution would be a set of static variables in a \"constants\" namespace:</p>\n\n<pre><code>namespace Constants\n{\n    static double constexpr Q = 1.3;\n}\n</code></pre>\n\n<p>to refer to the variable, you would do:</p>\n\n<pre><code>Constants::Q\n</code></pre>\n\n<p>you can also define static variables within classes or structs as well, if that makes sense and keeps the code more organized.</p>\n"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1427909556, "creation_date": 1427909556, "answer_id": 29397180, "question_id": 29397067, "link": "https://stackoverflow.com/questions/29397067/how-can-i-define-a-structure-of-physical-constants/29397180#29397180", "title": "How can I define a structure of physical constants?", "body": "<p>You either use </p>\n\n<pre><code>struct constants {\n    static const float q=1.6022e-19;\n};\n</code></pre>\n\n<p>or even better place these constants in a namespace</p>\n\n<pre><code>namespace constants {\n    static const float q=1.6022e-19;\n};\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4739101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AmtS6.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4739101/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427911591, "creation_date": 1427909160, "last_edit_date": 1427911591, "question_id": 29397067, "link": "https://stackoverflow.com/questions/29397067/how-can-i-define-a-structure-of-physical-constants", "title": "How can I define a structure of physical constants?", "body": "<p>I would like to define some sort of structure (struct? namespace? class?) of physical constants that will be known globally to my program. The purpose of doing so is to allow me to give the constants simple, intuitive names while protecting those values elsewhere. For example, I could define q within this structure to be the fundamental charge without having to worry about accidentally using q as a loop variable somewhere else in the program. My thought was to define a struct (in main.h):</p>\n\n<pre><code>struct constants {\n    float q=1.6022e-19;\n} _C;\n</code></pre>\n\n<p>but that gives me the error</p>\n\n<pre><code>main.h:79: error: ISO C++ forbids initialization of member 'q'\nmain.h:79: error: making 'q' static\nmain.h:79: error: ISO C++ forbids in-class initialization of non-const static member 'q'\n</code></pre>\n\n<p>I searched both here and the internet at large but didn't find an answer. If you know of one, please redirect me. I'm also fairly new to both Stack Overflow and C/C++ so I appreciate your patience.</p>\n"}, {"tags": ["c++", "regex"], "comments": [{"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 0, "creation_date": 1427911135, "post_id": 29397066, "comment_id": 46971264, "body": "None. What you have there is not a regular language, and while some regular expression libraries extend regular expressions into the realm of context-free languages such as this one, the C++ standard library does not support recursion. You may be interested in <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/spirit/doc/html/index.html\" rel=\"nofollow noreferrer\">Boost.Spirit</a> to parse this."}], "answers": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 4, "last_activity_date": 1427916118, "creation_date": 1427916118, "answer_id": 29399089, "question_id": 29397066, "link": "https://stackoverflow.com/questions/29397066/c-regexp-to-parsing-nested-struct/29399089#29399089", "title": "C++ regexp to parsing nested struct", "body": "<p>The regex implementation from the C++ standard library does not support recursion, which would be needed to match nested structures.</p>\n\n<p>Like Wintermute said in the comments, nested structures such as this are not a regular language, and you need other tools.</p>\n\n<p><strong>FYI</strong>, you can use <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/regex/doc/html/index.html\" rel=\"nofollow\">Boost.Regex</a> or <a href=\"http://www.pcre.org/\" rel=\"nofollow\">PCRE</a> to match the following pattern:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\{(?:[^{}]++|(?R))*\\}\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/nO8pS3/1\" rel=\"nofollow\">Demo</a></p>\n\n<p>This is a pretty simple recursive pattern. Some explanations:</p>\n\n<ul>\n<li><code>[^{}]++</code> matches anything but <code>{</code> or <code>}</code> <em>possessively</em>.</li>\n<li><code>(?R)</code> recurses the entire pattern</li>\n<li>the <code>*</code> quantifier is applied over the inner possessive <code>++</code> quantifier, which prevents <a href=\"http://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow\">catastrophic backtracking</a>.</li>\n</ul>\n\n<p>The thing is, this will only help with <strong>matching</strong> properly nested constructs. It won't really help you with <strong>parsing</strong>. Regexes aren't really the right tool for such a job, a parser would be much more appropriate.</p>\n\n<p>If you <em>still</em> want to go the regex way, you'll have to expand the pattern to match the constructs more precisely. If using PCRE you may want to use the <em>callout</em> mechanism to extract information from the pattern <em>while</em> the engine is performing the match. But like I said, just write a parser.</p>\n"}], "owner": {"reputation": 71, "user_id": 1895826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deed2b086d8513bfeb78150a419294c7?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/1895826/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1836, "favorite_count": 0, "accepted_answer_id": 29399089, "answer_count": 1, "score": 3, "last_activity_date": 1427916118, "creation_date": 1427909148, "question_id": 29397066, "link": "https://stackoverflow.com/questions/29397066/c-regexp-to-parsing-nested-struct", "title": "C++ regexp to parsing nested struct", "body": "<p>I have a string formatted as follows permanent way:</p>\n\n<pre><code>{\n  First nested string;\n  {\n    Second nested string;\n  }\n}\n</code></pre>\n\n<p>Nesting may be arbitrary depth. Each sub-element is formatted closing brace, adding two spaces to the previous level of nesting and closing brace. I want to receive the regular expression allows to obtain nested data. For example, for the above example the result should be:</p>\n\n<pre><code>First nested string;\n{\n  Second nested string;\n}\n</code></pre>\n\n<p>I wrote the following code that allows you to parse strings in only one line, as a symbol '.' is any character except a newline.</p>\n\n<pre><code>regex regEx(\"\\\\s*\\\\{\\\\s*(.*?)\\\\s*\\\\}\\\\s*\");\nstring testInput = \n\"{\\n\"\n\"  First nested string;\\n\"\n\"  {\\n\"\n\"    Second nested string;\\n\"\n\"  }\\n\"\n\"}\\n\";\nsmatch match;\nif (regex_search(testInput, match, regEx))\n{\n    auto result = match[1].str();\n}\n</code></pre>\n\n<p>What regular expression will make it so that I can receive nested data?\nThanks in advance.</p>\n"}, {"tags": ["c++", "c", "netbeans"], "comments": [{"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 1, "creation_date": 1427920229, "post_id": 29397038, "comment_id": 46976257, "body": "<a href=\"http://stackoverflow.com/questions/6608569/can-cmake-and-netbeans-play-nice\" title=\"can cmake and netbeans play nice\">stackoverflow.com/questions/6608569/&hellip;</a>"}, {"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 0, "creation_date": 1427920346, "post_id": 29397038, "comment_id": 46976300, "body": "<a href=\"http://stackoverflow.com/questions/22765476/where-to-obtain-qmake-qt-compiler-for-netbeans\" title=\"where to obtain qmake qt compiler for netbeans\">stackoverflow.com/questions/22765476/&hellip;</a>"}, {"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 1, "creation_date": 1427920490, "post_id": 29397038, "comment_id": 46976380, "body": "As for other than cmake/qmake build tools - you always can call them from your makefile, provided that your project type is <code>C&#47;C++ Project with Existing Sources</code>"}], "answers": [{"owner": {"reputation": 22989, "user_id": 1622894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7fc8ff4593f37f357f8e3985d9f16902?s=128&d=identicon&r=PG&f=1", "display_name": "ollo", "link": "https://stackoverflow.com/users/1622894/ollo"}, "is_accepted": true, "score": 2, "last_activity_date": 1429045674, "last_edit_date": 1495542494, "creation_date": 1429045674, "answer_id": 29637430, "question_id": 29397038, "link": "https://stackoverflow.com/questions/29397038/what-default-make-tool-does-netbeans-use/29637430#29637430", "title": "What default make tool does NetBeans use", "body": "<blockquote>\n  <p>What default make tool does NetBeans use</p>\n</blockquote>\n\n<p>It uses <code>make</code> per default. Default C/C++ project types generate Makefiles for you. You can use custom Makefiles instead too - and even other build tools (like CMake, QMake, ...).</p>\n\n<blockquote>\n  <p>I'v searched a little but there is little information on what tool supports this file or if it is a NetBeans internal tool.</p>\n</blockquote>\n\n<p>The <em>configurations.xml</em> is NetBeans internal only.</p>\n\n<p>Btw. modify this file only, if you are sure what you are doing - it has the capability to break your project!</p>\n\n<blockquote>\n  <p>How could i call it from the command line etc.</p>\n</blockquote>\n\n<p>You mean the configurations.xml? If so; you can't. As said above, it's for NB internal usage only. However it's not necessary though. Netbeans will provide you all Makefiles you need. Those can be build using <code>make</code> the usual way.</p>\n\n<blockquote>\n  <p>Does anyone have experience with it?</p>\n</blockquote>\n\n<p>If the generated Makefiles don't serve your purpose you can either customize it (check comments within the files) - or write a custom one and create a project from it.</p>\n\n<p>As commented by <em>Hekto</em>, <a href=\"http://www.cmake.org/\" rel=\"nofollow noreferrer\">CMake</a> is an alternative build tool that <a href=\"https://stackoverflow.com/questions/6608569/can-cmake-and-netbeans-play-nice\">works great with NetBeans</a>. It's also widely used for C/C++ project and has lot's of benefits. Furthermore CMake-based projects can be used by other IDE's (like Eclipse or VisualStudio) easily - and if all fails just call it from terminal ;-).</p>\n"}], "owner": {"reputation": 1794, "user_id": 2474098, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/511dff23b9073611ae2728779f2b3c85?s=128&d=identicon&r=PG", "display_name": "alknows", "link": "https://stackoverflow.com/users/2474098/alknows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 29637430, "answer_count": 1, "score": 2, "last_activity_date": 1429045674, "creation_date": 1427909067, "question_id": 29397038, "link": "https://stackoverflow.com/questions/29397038/what-default-make-tool-does-netbeans-use", "title": "What default make tool does NetBeans use", "body": "<p>Iv been writing a small c program with <strong>NetBeans 8</strong>  on Linux. It uses this <strong>configuration.xml</strong> file to compile the Makefile together. I'v searched a little but there is little information on what tool supports this file or if it is a NetBeans internal tool. How could i call it from the command line etc.</p>\n\n<p>i was hoping it is some alternative build tool, but so far its no scons, waf, ninja, cmake, qmake</p>\n\n<p>Does anyone have experience with it?</p>\n\n<p>How it looks like:</p>\n\n<p><code>&lt;configurationDescriptor version=\"95\"&gt;\n  &lt;logicalFolder name=\"root\" displayName=\"root\" projectFiles=\"true\" kind=\"ROOT\"&gt;\n   &lt;logicalFolder name=\"HeaderFiles\" ...&gt;\n</code></p>\n"}, {"tags": ["c++", "class", "exception", "getline"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427908867, "post_id": 29396795, "comment_id": 46970039, "body": "You should inspect such situations by using the debugger and stepping through your code line by line. What should be the purpose of this code line <code>ship-&gt;name;</code> BTW?"}, {"owner": {"reputation": 141, "user_id": 3446237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/416d71623f4702b776bb2a37f1c82e0f?s=128&d=identicon&r=PG&f=1", "display_name": "PapaSmurf", "link": "https://stackoverflow.com/users/3446237/papasmurf"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427909178, "post_id": 29396795, "comment_id": 46970208, "body": "It is a string I am trying to read user input into."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427909263, "post_id": 29396795, "comment_id": 46970248, "body": "Yes, we can see that. But what should this line do actually? And don&#39;t distract from my main advice!"}], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1427908708, "post_id": 29396835, "comment_id": 46969960, "body": "that definitely seems like the problem, but I&#39;m not entire how he is even hitting that code anyway.  <code>userChoice</code> isn&#39;t updated anywhere outside the constructor, and should always be 0"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 1, "creation_date": 1427908917, "post_id": 29396835, "comment_id": 46970060, "body": "@dwcanillas I am using the assumption that he updated <code>userChoice</code> in code he hasn&#39;t shown here since the code posted wont even compile as is so it is not a complete example."}, {"owner": {"reputation": 141, "user_id": 3446237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/416d71623f4702b776bb2a37f1c82e0f?s=128&d=identicon&r=PG&f=1", "display_name": "PapaSmurf", "link": "https://stackoverflow.com/users/3446237/papasmurf"}, "edited": false, "score": 0, "creation_date": 1427909046, "post_id": 29396835, "comment_id": 46970133, "body": "Sorry I missed this out I get the userChoice from <code>cin &gt;&gt; userChoice;</code>"}, {"owner": {"reputation": 141, "user_id": 3446237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/416d71623f4702b776bb2a37f1c82e0f?s=128&d=identicon&r=PG&f=1", "display_name": "PapaSmurf", "link": "https://stackoverflow.com/users/3446237/papasmurf"}, "edited": false, "score": 0, "creation_date": 1427909330, "post_id": 29396835, "comment_id": 46970285, "body": "Thank you this fixed it. I am just learning pointers so it is new to me."}], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 2, "last_activity_date": 1427908377, "creation_date": 1427908377, "answer_id": 29396835, "question_id": 29396795, "link": "https://stackoverflow.com/questions/29396795/unhandled-exception-within-my-menu/29396835#29396835", "title": "Unhandled exception within my menu", "body": "<p>You have an uninitialized pointer <code>Ship* ship;</code>.  You either need to use <code>Ship*  ship = new Ship();</code> or declare the ship as <code>Ship ship;</code></p>\n"}, {"owner": {"reputation": 2969, "user_id": 4683600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcf47e6c220e1d2bf49575565b46da5?s=128&d=identicon&r=PG&f=1", "display_name": "bku_drytt", "link": "https://stackoverflow.com/users/4683600/bku-drytt"}, "is_accepted": false, "score": 1, "last_activity_date": 1427908414, "creation_date": 1427908414, "answer_id": 29396845, "question_id": 29396795, "link": "https://stackoverflow.com/questions/29396795/unhandled-exception-within-my-menu/29396845#29396845", "title": "Unhandled exception within my menu", "body": "<p>Ship* ship is an unitialized pointer that points to a random memory location which you then try to access. You should always initialize pointers to <strong>nullptr</strong> or to a valid object to prevent undefined behavior.</p>\n\n<pre><code>Ship* s( new Ship );\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3446237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/416d71623f4702b776bb2a37f1c82e0f?s=128&d=identicon&r=PG&f=1", "display_name": "PapaSmurf", "link": "https://stackoverflow.com/users/3446237/papasmurf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29396835, "answer_count": 2, "score": -1, "last_activity_date": 1431054749, "creation_date": 1427908261, "last_edit_date": 1431054749, "question_id": 29396795, "link": "https://stackoverflow.com/questions/29396795/unhandled-exception-within-my-menu", "title": "Unhandled exception within my menu", "body": "<p>I am currently getting a unhandled exception in my code and I have no idea why. This is the first time I am using more than one class together. </p>\n\n<p>At the moment I am trying to put user input into a string from another class. I am trying to input the user input into a string called name in the class below </p>\n\n<pre><code>#ifndef SHIP_H\n#define SHIP_H\n#include \"ApplicationMenu.h\"\n#include &lt;string&gt;\nclass Ship\n{\npublic:\n    Ship(void);\n    ~Ship(void);\n\n    std::string _size;\n    std::string _shipName;\n    std::string name;\n};\n\n#endif\n</code></pre>\n\n<p>Into the following function which is ran in main</p>\n\n<pre><code>#include \"ApplicationMenu.h\"\n#include \"Ship.h\"\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\nclass Ship;\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nApplicationMenu::ApplicationMenu(void) { userChoice = 0; }\n\n\nApplicationMenu::~ApplicationMenu(void) { }\n\n\n\nvoid ApplicationMenu::displayMenu() {\n\n\n    cout &lt;&lt; \"Welcome to the Port.\" &lt;&lt; endl &lt;&lt; \"Please select one of the\n        following options : \" &lt;&lt; endl\n        &lt;&lt; \"1: Dock Ship\" &lt;&lt; endl;\n    cin &gt;&gt; userChoice;\n    switch (userChoice)\n    {\n    case 1:\n\n        Ship*   ship;\n\n        ship-&gt;name;\n\n\n        cout &lt;&lt; \"Please enter the name of your ship your wish to dock: \";\n        cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\n        getline(cin, ship-&gt;name);\n\n        cout &lt;&lt; ship-&gt;name;\n        break;\n    }\n}\n</code></pre>\n\n<p>Can anyone please advise why I am getting error?</p>\n\n<p>Edit: </p>\n\n<p>This error was because of an uninitialised pointer which was due to the lack of knowledge about pointers in C++. Although this was answered by the community this link would prove helpful for future viewers. <a href=\"http://www.cplusplus.com/doc/tutorial/pointers/\" rel=\"nofollow\">http://www.cplusplus.com/doc/tutorial/pointers/</a></p>\n"}, {"tags": ["c++", "ostream"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1427907546, "post_id": 29396548, "comment_id": 46969395, "body": "You forgot to <code>#include &lt;iostream&gt;</code>."}, {"owner": {"reputation": 83, "user_id": 4115763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtV8W.jpg?s=128&g=1", "display_name": "Master Sketchiggle", "link": "https://stackoverflow.com/users/4115763/master-sketchiggle"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1427907895, "post_id": 29396548, "comment_id": 46969587, "body": "@Kerrek - Have that in all my header files :)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427908498, "post_id": 29396548, "comment_id": 46969866, "body": "@MasterSketchiggle Please post a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that enables everyone to reproduce your errors."}, {"owner": {"reputation": 83, "user_id": 4115763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtV8W.jpg?s=128&g=1", "display_name": "Master Sketchiggle", "link": "https://stackoverflow.com/users/4115763/master-sketchiggle"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427909008, "post_id": 29396548, "comment_id": 46970112, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I would find that extremely hard to do. As the program was working previously prior to implementing a new class date. The program structure is Registration with a array of object results, which entails it a float &quot;result&quot; and two objects date &amp; unit. My point being that it seems that something in the implementation of adding date seems to have messed it all up. And not sure if posting the whole program is.... what is expected on the site. It would be hard to recreate, sorry :("}], "answers": [{"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1427908200, "post_id": 29396704, "comment_id": 46969727, "body": "<i>&quot;Need to either add <code>using namespace std;</code>&quot;</i> That causes me physical pain."}, {"owner": {"reputation": 83, "user_id": 4115763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtV8W.jpg?s=128&g=1", "display_name": "Master Sketchiggle", "link": "https://stackoverflow.com/users/4115763/master-sketchiggle"}, "edited": false, "score": 0, "creation_date": 1427908546, "post_id": 29396704, "comment_id": 46969887, "body": "At uni atm. And at this stage we taught to use &quot;using namespace std&quot;  May I ask why it seems that you suggest I always put in std:: when coding? Additionally, I have iostream in all headers and have &quot;using namespace std&quot; in all headers.  I have overloaded the istream for Registration class but haven&#39;t included the code as errors don&#39;t seem to relate to that. Shall I update question with this included?"}, {"owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "edited": false, "score": 1, "creation_date": 1427911026, "post_id": 29396704, "comment_id": 46971209, "body": "Sure. The reason is that you should always avoid <code>using namespace</code> because it hacks around C++ namespaces, which are there for reasons that will become increasingly apparent as you work on larger codebases and find conflicting names (including ones that conflict with names in the std namespace). <code>using namespace</code> was only made part of the standard so that legacy code (written prior to namespace support) would compile with minimal modification."}, {"owner": {"reputation": 897, "user_id": 222450, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/085eeaede347d4902f8e9976e17c3447?s=128&d=identicon&r=PG", "display_name": "wades", "link": "https://stackoverflow.com/users/222450/wades"}, "edited": false, "score": 0, "creation_date": 1427911048, "post_id": 29396704, "comment_id": 46971220, "body": "&quot;using namespace std&quot; is OK for class projects, but for real work you need to be explicit. Sooner or later, &quot;using namespace <i>whatever</i>&quot; will pull in something you really don&#39;t want."}, {"owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "edited": false, "score": 0, "creation_date": 1427911146, "post_id": 29396704, "comment_id": 46971275, "body": "Feel free to add additional code, and especially to include the exact error message your compiler is giving you."}, {"owner": {"reputation": 83, "user_id": 4115763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtV8W.jpg?s=128&g=1", "display_name": "Master Sketchiggle", "link": "https://stackoverflow.com/users/4115763/master-sketchiggle"}, "edited": false, "score": 0, "creation_date": 1427944364, "post_id": 29396704, "comment_id": 46983783, "body": "@AdamLeggett thanks for the heads up I shall start doing that now. Better to get used to industry std&#39;s...pun intended =P.   I&#39;m going to try rebuild from last version prior to date class implementation and take a much better testing approach them coding everything and than testing.... it was late... i know this is dumb :( but most of the things I&#39;ve been doing aren&#39;t overly comprehensive... again it just about making good habits.  Should I get the same errors .... I&#39;ll be back. :)"}], "owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "is_accepted": false, "score": 0, "last_activity_date": 1427908250, "last_edit_date": 1427908250, "creation_date": 1427907972, "answer_id": 29396704, "question_id": 29396548, "link": "https://stackoverflow.com/questions/29396548/c-ostream-no-operator-match-expected-initializer-before-token/29396704#29396704", "title": "C++ ostream : no operator match &lt;&lt; &amp; expected initializer before &#39;&amp;&#39; token", "body": "<p>This code is valid, except:</p>\n\n<ul>\n<li>Need to <code>#include &lt;iostream&gt;</code></li>\n<li>Need to either add <code>using namespace std;</code> or add <code>std::</code> before <code>ifstream</code>, <code>ofstream</code>, and <code>cout</code>.</li>\n<li>Need to overload <code>istream</code> for your <code>Registration</code> class.</li>\n</ul>\n\n<p>Edit: Please add <code>std::</code> rather than <code>using namespace std;</code>. I only mentioned it for completeness. :)</p>\n"}], "owner": {"reputation": 83, "user_id": 4115763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtV8W.jpg?s=128&g=1", "display_name": "Master Sketchiggle", "link": "https://stackoverflow.com/users/4115763/master-sketchiggle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427909217, "creation_date": 1427907369, "last_edit_date": 1427909217, "question_id": 29396548, "link": "https://stackoverflow.com/questions/29396548/c-ostream-no-operator-match-expected-initializer-before-token", "title": "C++ ostream : no operator match &lt;&lt; &amp; expected initializer before &#39;&amp;&#39; token", "body": "<p>Thanks in advance for any help! This program is a student registration program.</p>\n\n<p>Input is via file and the results are out to file. Then general idea is to learn c++, method overloading -including operators and <code>fstream</code>'s. I'll post the code the compiler points to but please let me know if you want to see other code.</p>\n\n<p>When I go to build the compiler error points to my header file method, outside of my class but inside the <code>#endif</code>. See below.</p>\n\n<pre><code>    std::ostream &amp; operator &lt;&lt; ( std::ostream &amp; os, const Registration &amp; R);\n</code></pre>\n\n<p>The implementation of this file is as such:</p>\n\n<pre><code>std::ostream &amp;operator &lt;&lt;( std::ostream &amp; os, const Registration &amp; R  )\n{ os  &lt;&lt; \"Student ID: \"   &lt;&lt; R.GetStudentId() &lt;&lt; \"\\n\"\n      &lt;&lt; \"Semester:   \"   &lt;&lt; R.GetSemester()  &lt;&lt; \"\\n \\n\";\n\nfor(unsigned i = 0; i &lt; R.GetCount(); i++)\n{\n    os  &lt;&lt; \"\\tUnit Name : \" &lt;&lt; R.GetName(i) &lt;&lt; \"\\n\"\n        &lt;&lt; \"\\tUnit Id : \" &lt;&lt; R.GetId(i) &lt;&lt; \"\\n\"\n        &lt;&lt; \"\\tCredit Points : \" &lt;&lt; R.GetCredits(i) &lt;&lt; \"\\n\"\n        &lt;&lt; \"\\tStudent Mark : \" &lt;&lt; R.GetResult(i) &lt;&lt; \"\\n\"\n        &lt;&lt; \"\\tDate : \" &lt;&lt; R.GetDay(i) &lt;&lt; \" \" &lt;&lt; R.GetMonth(i) &lt;&lt; \" \" &lt;&lt; R.GetYear(i) &lt;&lt; \"\\n\\n\";\n}\n\nos  &lt;&lt; \"Total Credits :\" &lt;&lt; R.GetCredits() &lt;&lt; \"\\n\"\n    &lt;&lt; \"Number of Units : \" &lt;&lt; R.GetCount() &lt;&lt; \"\\n\"\n    &lt;&lt; \"Average Mark : \" &lt;&lt; R.GetAverage();\n\nreturn os;\n}\n</code></pre>\n\n<p>And main()</p>\n\n<pre><code> int main()\n{\nifstream infile( \"rinput.txt\" );\nif( !infile ) return -1;\n\nRegistration R;\ninfile &gt;&gt; R;\n\nofstream ofile( \"routput.txt\" );\n\nofile &lt;&lt; R; // Error Here RE- no match for 'operator&lt;&lt;'\n\ncout &lt;&lt; \"\\nComputation completed. Check output file. \\n\";\n\nreturn 0;\n}\n</code></pre>\n\n<p>Thanks again for any and all help, hope this isn't a rookie error... it's late where I am.</p>\n\n<p>Edit: I have \"using namespace std\" &amp; #include in all header files.</p>\n"}, {"tags": ["c++", "huffman-code"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427907214, "post_id": 29396435, "comment_id": 46969206, "body": "Assuming a char is 8 bits, what do you want the first char to contain? 3 bits and 5 bits of the next value?"}], "answers": [{"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "is_accepted": false, "score": 1, "last_activity_date": 1427945755, "last_edit_date": 1427945755, "creation_date": 1427941621, "answer_id": 29404045, "question_id": 29396435, "link": "https://stackoverflow.com/questions/29396435/saving-a-huffman-tree-compactly-in-c/29404045#29404045", "title": "Saving a Huffman Tree compactly in C++", "body": "<p>Simply treat a sequence of <em>n</em> bytes as a sequence of <em>8n</em> bits.  Use the <code>&gt;&gt;</code> or <code>&lt;&lt;</code>, <code>|</code>, and <code>&amp;</code> operators to assemble bytes from the sequence of variable-length bit codes.</p>\n\n<p>The end of the stream is important to handle properly.  You need an end of stream code so that the decoder knows to stop and not try to decode the final padding bits that complete the last byte.</p>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 1524637, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/343a2291134bced0aa8272eb68c6fbe7?s=128&d=identicon&r=PG", "display_name": "Taylor Bishop", "link": "https://stackoverflow.com/users/1524637/taylor-bishop"}, "edited": false, "score": 0, "creation_date": 1427999021, "post_id": 29404171, "comment_id": 47011491, "body": "Thank you. I ended up adding a padding number to the beginning of the file so I know exactly where to trim the end of the stream."}, {"owner": {"reputation": 2177, "user_id": 4492918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9eac6e10fbb69a3a5a24a8b7795cdc?s=128&d=identicon&r=PG&f=1", "display_name": "Atsby", "link": "https://stackoverflow.com/users/4492918/atsby"}, "reply_to_user": {"reputation": 339, "user_id": 1524637, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/343a2291134bced0aa8272eb68c6fbe7?s=128&d=identicon&r=PG", "display_name": "Taylor Bishop", "link": "https://stackoverflow.com/users/1524637/taylor-bishop"}, "edited": false, "score": 0, "creation_date": 1428006260, "post_id": 29404171, "comment_id": 47015220, "body": "@TaylorBishop added explanation about the advantages of placing padding information at the end of the file."}], "owner": {"reputation": 2177, "user_id": 4492918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9eac6e10fbb69a3a5a24a8b7795cdc?s=128&d=identicon&r=PG&f=1", "display_name": "Atsby", "link": "https://stackoverflow.com/users/4492918/atsby"}, "is_accepted": true, "score": 1, "last_activity_date": 1428006202, "last_edit_date": 1428006202, "creation_date": 1427942519, "answer_id": 29404171, "question_id": 29396435, "link": "https://stackoverflow.com/questions/29396435/saving-a-huffman-tree-compactly-in-c/29404171#29404171", "title": "Saving a Huffman Tree compactly in C++", "body": "<p>The standard solution to this problem is padding. There are many possible padding schemes. Padding schemes pad up to an even number of bytes (i.e., a multiple of 8 bits). Additionally, they encode either the length of the message in bits, or the number of padding bits (from which the message length in bits can be determined by subtraction). The latter solution obviously results in slightly more efficient paddings.</p>\n\n<p>Most simply, you can append the number of \"unused\" bits in the last byte as an additional byte value.</p>\n\n<p>One level up, start by assuming that the number of padding bits fits in 3 bits. Define the last 3 bits of an encoded file to encode the number of padding bits. Now if the message uses up no more than 5 bits of the last byte, the padding can fit nicely in the same byte. If it is necessary to add a byte to contain the padding, the maximum gap is 5+2=7 (5 from the unused high bits of the extra byte, and 2 is the maximum possible space free in the last byte, otherwise the 3-bit padding value would've fit there). Since 0-7 is representable in 3 bits, this works (it doesn't work for 2 bits, since the maximum gap is larger and the range of representable values is smaller).</p>\n\n<p>By the way, one of the main advantages of placing the padding information at the end of the file (rather than as a header at the beginning of the file) is that the compression functions can then operate on a stream without having to know its length in advance. Decompression can be stream-based as well, with careful handling of EOF signals.</p>\n"}], "owner": {"reputation": 339, "user_id": 1524637, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/343a2291134bced0aa8272eb68c6fbe7?s=128&d=identicon&r=PG", "display_name": "Taylor Bishop", "link": "https://stackoverflow.com/users/1524637/taylor-bishop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 29404171, "answer_count": 2, "score": 1, "last_activity_date": 1428006202, "creation_date": 1427907039, "question_id": 29396435, "link": "https://stackoverflow.com/questions/29396435/saving-a-huffman-tree-compactly-in-c", "title": "Saving a Huffman Tree compactly in C++", "body": "<p>Let's say that I've encoded my Huffman tree in with the compressed file. So I have as an example file output:</p>\n\n<pre><code>001A1C01E01B1D\n</code></pre>\n\n<p>I'm having an issue saving this string to file bit-by-bit. I know that C++ can only output to file one byte at a time, so I'm having an issue storing this string in bytes. Is it possible to convert the first three bits to a char without the program padding to a byte? If it pads to a byte for the traversal codes then my tree (And the codes) will be completely messed up. If I were to chop this up one byte at a time, then what happens if the tree isn't exactly a multiple of 8? What happens if the compressed file's bit-length isn't exactly a multiple of 8?</p>\n\n<p>Hopefully I've been clear enough.</p>\n"}, {"tags": ["c++", "pthreads"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427907350, "post_id": 29396401, "comment_id": 46969280, "body": "The <code>pthread_cleanup_pop</code> (and <code>pthread_cleanup_push</code>) symbols may be implemented as macros, which is apparently the case here. You might want to look at the preprocessed code to see what the macros expand to and it might give you some hints to what the problem might be."}, {"owner": {"reputation": 4312, "user_id": 3880254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/13dffa84d85f3ed70e7156867822246d?s=128&d=identicon&r=PG&f=1", "display_name": "InQusitive", "link": "https://stackoverflow.com/users/3880254/inqusitive"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427907388, "post_id": 29396401, "comment_id": 46969304, "body": "How do I check, the expansion of macro?"}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1427910235, "post_id": 29396401, "comment_id": 46970770, "body": "Doing <code>pthread_cleanup_pop(void(0));</code> might help."}, {"owner": {"reputation": 4312, "user_id": 3880254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/13dffa84d85f3ed70e7156867822246d?s=128&d=identicon&r=PG&f=1", "display_name": "InQusitive", "link": "https://stackoverflow.com/users/3880254/inqusitive"}, "reply_to_user": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1427913433, "post_id": 29396401, "comment_id": 46972503, "body": "@alk: error: could not convert &#39;0&#39; from &#39;void&#39; to &#39;bool&#39;"}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1427914219, "post_id": 29396401, "comment_id": 46972957, "body": "Where does the <code>bool</code>come from? And the other error is gone? The code does  compile with the two <code>pthread_cleanup_*</code> commented out?"}], "owner": {"reputation": 4312, "user_id": 3880254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/13dffa84d85f3ed70e7156867822246d?s=128&d=identicon&r=PG&f=1", "display_name": "InQusitive", "link": "https://stackoverflow.com/users/3880254/inqusitive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427907873, "creation_date": 1427906919, "last_edit_date": 1427907873, "question_id": 29396401, "link": "https://stackoverflow.com/questions/29396401/pthread-cleanup-pop-error-on-windows-make-it-compilable", "title": "pthread_cleanup_pop error on Windows- make it compilable", "body": "<p>Code:</p>\n\n<pre><code>    void clean(void *message)\n    {\n     cout&lt;&lt;\"Exiting \"&lt;&lt;(char*)message&lt;&lt;endl;\n    }\n    void *func2(void* arg)\n    {\n       char *message = \"func2\";\n       pthread_cleanup_push(clean,(void*)message);\n       int status;\n       int count=0;   \n       pthread_setcancelstate(PTHREAD_CANCEL_ENABLE,&amp;status);\n       for(;;){\n          if(count%3467==0)\n          {\n              sleep(3);\n              pthread_testcancel();\n          }\n          else if(count%67==0)\n          {\n              cout&lt;&lt;\"func 2 is running\"&lt;&lt;endl;\n          }\n          else\n          {}\n          count++;\n       }\n        pthread_cleanup_pop(0);//error is pointing here\n    }\n</code></pre>\n\n<p>When I try to compile this , I am getting an error</p>\n\n<pre><code>cancel.cpp:45:5: error: second operand to the conditional operator is of type 'v\noid', but the third operand is neither a throw-expression nor of type 'void'\n     pthread_cleanup_pop(cleanup_pop_arg);\n</code></pre>\n\n<p>I am not able to find what's the problem with my code.\nCompiled with <code>g++ file.cpp -pthread</code> , Windows 8, Cygwin 64.</p>\n\n<p>How to make the code compile successfully?</p>\n\n<p>Edit:</p>\n\n<p>After preprocessing this is how it does look.</p>\n\n<pre><code>void *func2(void* arg)\n{\n    char *message = \"func2\";\n   { const _pthread_cleanup _pthread_cup = {(clean), ((void*)message), *pthread_getclean()}; __sync_synchronize(); *pthread_getclean() = (_pthread_cleanup *) &amp;_pthread_cup; __sync_synchronize();\n   int status;\n   int count=0;\n   pthread_setcancelstate(0x01,&amp;status);\n   for(;;){\n      if(count%3467==0)\n      {\n          sleep(3);\n          pthread_testcancel();\n      }\n      else if(count%67==0)\n      {\n          cout&lt;&lt;\"func 2 is running\"&lt;&lt;endl;\n      }\n      else\n      {}\n      count++;\n   }\n    (*pthread_getclean() = _pthread_cup.next, (cleanup_pop_arg?_pthread_cup.func((pthread_once_t *)_pthread_cup.arg):0));};\n\n}\n</code></pre>\n"}, {"tags": ["c++", "vba", "excel", "vbe"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1427906726, "post_id": 29396251, "comment_id": 46968976, "body": "Surely that&#39;s just a formatting choice of the UI?"}, {"owner": {"reputation": 26278, "user_id": 293078, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5437f5b4fa32bd95e6825f93a2b91a50?s=128&d=identicon&r=PG", "display_name": "Doug Glancy", "link": "https://stackoverflow.com/users/293078/doug-glancy"}, "edited": false, "score": 3, "creation_date": 1427908141, "post_id": 29396251, "comment_id": 46969701, "body": "The short answer is declare as Double instead. You say CDbl is returning the correct value, but it&#39;s not. This SO post may be helpful: <a href=\"http://stackoverflow.com/a/18504731\">stackoverflow.com/a/18504731</a>"}], "answers": [{"owner": {"reputation": 172, "user_id": 2635143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94adfabac995bdc7dfa214e14a7836c3?s=128&d=identicon&r=PG", "display_name": "tpkaplan", "link": "https://stackoverflow.com/users/2635143/tpkaplan"}, "is_accepted": false, "score": 1, "last_activity_date": 1428446287, "creation_date": 1428446287, "answer_id": 29502588, "question_id": 29396251, "link": "https://stackoverflow.com/questions/29396251/vba-debugger-precision/29502588#29502588", "title": "VBA debugger precision", "body": "<p>VBA variables of type \"single\" are stored as \"32-bit hardware implementation of IEEE 754[-]1985 [sic].\" [see: <a href=\"https://msdn.microsoft.com/en-us/library/ee177324.aspx]\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ee177324.aspx]</a>.  </p>\n\n<p>What this means in English is, \"single\" precision numbers are converted to binary then truncated to fit in a 4 byte (32-bit) sequence.  The exact process is very well described in Wikipedia under <a href=\"http://en.wikipedia.org/wiki/Single-precision_floating-point_format\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Single-precision_floating-point_format</a> .  The upshot is that all single precision numbers are expressed as </p>\n\n<pre><code>(1) a 23 bit \"fraction\" between 0 and 1, *times*\n(2) an 8-bit exponent which represents a multiplier between 2^(-127) and 2^128, *times*\n(3) one more bit for positive or negative.  \n</code></pre>\n\n<p>The process of converting numbers to binary and back causes two types of rounding errors:</p>\n\n<p>(1) Significant Digits -- as you have noticed, there is a limit on significant digits.  A 22 bit integer can only have 8,388,607 unique values. Stated another way, no number can be expressed with greater than +/- 0.000012% precision.  Reaching back to high school science, you may recall that that is another way of saying you cannot count on more than six significant digits (well, decimal digits, at least ... of course you have 22 significant binary digits).  So any representation of a number with more than six significant digits will get rounded off.  However, it won't get rounded off to the nearest decimal digit ... it will get rounded off to the nearest binary digit.  This often causes some unexpected results (like yours).  </p>\n\n<p>(2) Binary conversion -- The other type of error is even more pernicious.  There are some numbers with significantly less than six (decimal) digits that will get rounded off.  For example, 1/5 in decimal is 0.2000000.  It never gets \"rounded off.\"  But the same number in binary is 0.00110011001100110011.... repeating forever. (That sequence is equivalent to 1/8 + 1/16 + 1/16*(1/8+1/16) + 1/256*(1/8+1/16) ... )  If you used an arbitrary number of binary digits to represent 0.20, then converted it back to decimal, you will NEVER get exactly 0.20.  For example, if you used eight bits, you would have 0.00110011 in binary which is:</p>\n\n<pre><code>  0.12500000\n  0.06250000\n  0.00781250\n+ 0.00390625\n------------\n  0.19921875\n</code></pre>\n\n<p>No matter how many binary digits you use, you will never get exactly 0.20, because 0.20 cannot be expressed as the sum of powers of two.</p>\n\n<p>That in a nutshell explains what's going on.  When you assign 876.34497 to \"test,\" it gets converted internally to:</p>\n\n<pre><code>1 10001000 0110110001011000010011\n     136       5,969,427\n</code></pre>\n\n<p>Which is (+1) * 2^(136-127) * (5,969,427)/(2^23)  </p>\n\n<p>Excel is automatically truncating the display of your single-precision number to show only six significant digits, because it knows that the seventh digit might be wrong.  I can't tell you what the number is exactly because my excel doesn't display enough significant digits!  But you get the point.</p>\n\n<p>When you coerce the value into double precision, it uses the entire binary string and then adds another 4 bytes worth of zeroes to the end.  It now allows you to display twice as many significant figures because it is double precision, but as you can see, the conversion from 8 decimal digits to 23 binary digits and then appending another long string of zeros has introduced some errors.  Not really errors, if you understand what it's doing; just artifacts.  After all, it's doing exactly what you told it to do ... you just didn't know what you were telling it to do!</p>\n"}], "owner": {"reputation": 2855, "user_id": 1169578, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b841b107ba53d8a3b16d23b2dbced449?s=128&d=identicon&r=PG", "display_name": "user17753", "link": "https://stackoverflow.com/users/1169578/user17753"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1428446287, "creation_date": 1427906396, "last_edit_date": 1427908295, "question_id": 29396251, "link": "https://stackoverflow.com/questions/29396251/vba-debugger-precision", "title": "VBA debugger precision", "body": "<p>I had a <code>single</code> which I believe the C++ equivalent is <code>float</code> in VBA in an Excel workbook module.  Anyways, the value I originally assigned (876.34497) is rounded off to 876.345 in the Immediate Window, and Watch, and hover tooltip when I set a breakpoint on the VBA.  However, if I pass this <code>Single</code> to a C++ DLL C++ reports it as the original value 876.34497.</p>\n\n<p>So, is it actually stored in memory as the original value? Is this some limitation of the debugger?  Unsure what is going on here.  Makes it difficult to test if what I'm passing is what I'm getting on the C++ side.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nztln.png\" alt=\"enter image description here\"></p>\n\n<p>I tried:</p>\n\n<pre><code>?CStr(test)\n876.345\n?CDbl(test)\n 876.344970703125 \n?CSng(test)\n 876.345 \n</code></pre>\n\n<p>VBA isn't very straightforward, so at some level it must be stored as 876.34497 in memory.  Otherwise, I don't think <code>CDbl</code> would be correct like it is.</p>\n"}, {"tags": ["c++", "memory-management", "embedded"], "comments": [{"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 2, "creation_date": 1427906433, "post_id": 29396190, "comment_id": 46968802, "body": "Yes, it&#39;s possible, and that&#39;s the right syntax. You can&#39;t just use <code>delete</code> to free the objects though. Another alternative is to overload <code>operator new</code> and <code>operator delete</code> just for your <code>MyObject</code> type, so you don&#39;t need to use the placement new syntax."}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1427909033, "post_id": 29396190, "comment_id": 46970125, "body": "This question: <a href=\"http://stackoverflow.com/questions/7194127/how-should-i-write-iso-c-standard-conformant-custom-new-and-delete-operators\" title=\"how should i write iso c standard conformant custom new and delete operators\">stackoverflow.com/questions/7194127/&hellip;</a> is a good place to start reading."}, {"owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "edited": false, "score": 0, "creation_date": 1427909866, "post_id": 29396190, "comment_id": 46970551, "body": "If you&#39;re going to use placement new use <code>-&gt;~()</code> for delete."}, {"owner": {"reputation": 61, "user_id": 981830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b6ae8ad8eb2702df265be1da127a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Inounx", "link": "https://stackoverflow.com/users/981830/inounx"}, "edited": false, "score": 0, "creation_date": 1427961640, "post_id": 29396190, "comment_id": 46989757, "body": "I just figured out that my question is not really clear, so I edited it to add some details : the question is not about overloading operator new to do allocation using a custom allocator, but about the implementation of <code>BufferAllocator</code>  to use the memory management already implemented for operator new"}, {"owner": {"reputation": 159018, "user_id": 57428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e2cef525cef5d7b0078f33b707e30c69?s=128&d=identicon&r=PG", "display_name": "sharptooth", "link": "https://stackoverflow.com/users/57428/sharptooth"}, "edited": false, "score": 0, "creation_date": 1427969361, "post_id": 29396190, "comment_id": 46993828, "body": "Basically you&#39;re trying to implement your own heap over a fixed region of memory. If a block allocator (all blocks the same size) will do - search for that, that&#39;s been done before many times."}, {"owner": {"reputation": 61, "user_id": 981830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b6ae8ad8eb2702df265be1da127a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Inounx", "link": "https://stackoverflow.com/users/981830/inounx"}, "reply_to_user": {"reputation": 159018, "user_id": 57428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e2cef525cef5d7b0078f33b707e30c69?s=128&d=identicon&r=PG", "display_name": "sharptooth", "link": "https://stackoverflow.com/users/57428/sharptooth"}, "edited": false, "score": 0, "creation_date": 1427975320, "post_id": 29396190, "comment_id": 46997259, "body": "@sharptooth : Yes exactly, but before looking into a custom allocator to do that, i want to be sure there is no way I can do that with the existing code that &quot;new&quot; is using (i.e. the allocation management)"}, {"owner": {"reputation": 159018, "user_id": 57428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e2cef525cef5d7b0078f33b707e30c69?s=128&d=identicon&r=PG", "display_name": "sharptooth", "link": "https://stackoverflow.com/users/57428/sharptooth"}, "edited": false, "score": 0, "creation_date": 1427977266, "post_id": 29396190, "comment_id": 46998328, "body": "@Inounx Suppose you&#39;re inside <code>operator new()</code> function and have to obtain memory from somewhere. The default implementation uses <code>malloc()</code>. You have to craft some magic over you fixed block - most likely a block allocator - and call that magic from inside <code>operator new()</code>."}, {"owner": {"reputation": 2721, "user_id": 2002198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98684cf4e01d405c4bf5662b2fdcb842?s=128&d=identicon&r=PG", "display_name": "Felipe Lavratti", "link": "https://stackoverflow.com/users/2002198/felipe-lavratti"}, "edited": false, "score": 0, "creation_date": 1482102589, "post_id": 29396190, "comment_id": 69626405, "body": "CppUTest does change new and delete behavior, it is a nice reference for overloading new and delete. (<a href=\"https://github.com/cpputest/cpputest/blob/master/include/CppUTest/MemoryLeakDetectorNewMacros.h\" rel=\"nofollow noreferrer\">github.com/cpputest/cpputest/blob/master/include/CppUTest/&hellip;</a>&zwnj;&#8203;)"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 981830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b6ae8ad8eb2702df265be1da127a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Inounx", "link": "https://stackoverflow.com/users/981830/inounx"}, "edited": false, "score": 0, "creation_date": 1428566371, "post_id": 29425040, "comment_id": 47218973, "body": "I think I will go for a similar solution than your&#39;s because it seems to not be possible to do what I want... I am working on a Cortex-M3 (EFM32GG) with the MDK ARM toolchain. The <code>-wrap</code> option is not a good solution i think as the expected behavior relies on the build command line and i intend to write this code as shareable between projects (it will be a part of a framework). Some interesting link from ARM here to extend the heap at runtime : <a href=\"http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0475c/CHDFCIFC.html\" rel=\"nofollow noreferrer\">Extending heap size at runtime</a>"}], "owner": {"reputation": 1929, "user_id": 539972, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a06770429504c24cfeded0a38576007f?s=128&d=identicon&r=PG", "display_name": "Verax", "link": "https://stackoverflow.com/users/539972/verax"}, "is_accepted": false, "score": 0, "last_activity_date": 1428026867, "last_edit_date": 1495542652, "creation_date": 1428024826, "answer_id": 29425040, "question_id": 29396190, "link": "https://stackoverflow.com/questions/29396190/is-it-possible-to-use-operator-new-to-allocate-from-elsewhere-than-the-heap/29425040#29425040", "title": "Is it possible to use operator new to allocate from elsewhere than the heap?", "body": "<p>I faced this same problem as well, and the only solution I could find was to write my own <code>malloc</code> and <code>free</code>.  I didn't need anything special, so I just modeled my code after that shown in K&amp;R's <em>The C Programming Language</em> (they have a naive example documented).</p>\n\n<p>I then created two heaps: one for internal memory, and one for external memory.  My stack is in an entirely different block of memory (CCRAM on an STM32F4), so I didn't need to worry about <code>sbrk</code>.  However, I did have to know the start address of my internal SRAM heap based on the size of the data and bss segments.  That was determined from <code>extern</code> symbols injected by the linker script.  </p>\n\n<p>I have enough information about my heap to know its current size, amount of free space, and whether there is enough contiguous memory to perform an allocation.  If there's not enough in internal SRAM, it tries external SRAM. If there's not enough memory there, it's no different than the default <code>malloc</code> running out of memory.</p>\n\n<p>I am using the GNU toolchain, so I was able to employ the <a href=\"https://stackoverflow.com/questions/13961774/gnu-gcc-ld-wrapping-a-call-to-symbol-with-caller-and-callee-defined-in-the-sam\">--wrap</a> option to override the C standard library's default <code>malloc</code>, <code>free</code>, <code>realloc</code>, and <code>calloc</code> (Actually <code>malloc_r</code>, <code>free_r</code>, <code>realloc_r</code> and <code>calloc_r</code> since I'm using newlib).  Since <code>new</code> and <code>delete</code> eventually call <code>malloc</code> and friends, I was able to make it work (at least for my needs).  </p>\n\n<p>I'm not terribly confident with this approach, but it's the best I could do within the limitations of my abilities.  Consider with scrutiny.</p>\n\n<p>I would be interested in knowing a simpler solution.</p>\n"}, {"owner": {"reputation": 2240, "user_id": 3499640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff85dddff0538584dfeb0dfc0946a341?s=128&d=identicon&r=PG&f=1", "display_name": "srdjan.veljkovic", "link": "https://stackoverflow.com/users/3499640/srdjan-veljkovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1454966882, "creation_date": 1454966882, "answer_id": 35279672, "question_id": 29396190, "link": "https://stackoverflow.com/questions/29396190/is-it-possible-to-use-operator-new-to-allocate-from-elsewhere-than-the-heap/35279672#35279672", "title": "Is it possible to use operator new to allocate from elsewhere than the heap?", "body": "<p>There is no standard way to provide a memory area to <code>operator new</code> or <code>malloc()</code>. In POSIX-like systems, <code>malloc()</code> calls <code>brk()</code>,  <code>sbrk()</code> and probably <code>mmap()</code> to get the area, so you might \"capture\" these calls and provide your own implementation, but, that is not portable (and a problem for <code>mmap()</code>). </p>\n\n<p>Depending on your toolchain, you might be able to \"explain\" to your <code>malloc()</code> and/or <code>operator new</code> that it should handle two or more distinct memory areas, in some linker script or some such thing. But there is no guarantee.</p>\n\n<p>Other than that, the only general solution that I can think of is to use a different general memory manager (like <code>jemalloc</code>) in your projects and find a way to configure it for your purpose. </p>\n"}], "owner": {"reputation": 61, "user_id": 981830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b6ae8ad8eb2702df265be1da127a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Inounx", "link": "https://stackoverflow.com/users/981830/inounx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 725, "favorite_count": 4, "answer_count": 2, "score": 5, "last_activity_date": 1454966882, "creation_date": 1427906160, "last_edit_date": 1427961406, "question_id": 29396190, "link": "https://stackoverflow.com/questions/29396190/is-it-possible-to-use-operator-new-to-allocate-from-elsewhere-than-the-heap", "title": "Is it possible to use operator new to allocate from elsewhere than the heap?", "body": "<p>Here is the context of my application : I'm working on an embedded system which uses RAM from different devices. One part in the internal RAM of the microcontroller (128kB) and the other part is the external RAM (1MB). These memories are mapped into the address space of the microcontroller, but in non contiguous regions.</p>\n\n<p>The internal RAM is used for System stack, tasks stacks and Heap.\nThe external RAM is used for statically allocated data (Pools, buffers, and all \"<code>static ...</code>\" stuff)</p>\n\n<p>I am trying to implement a simple memory management structure, and as part of it be able to create an allocator which could use the allocation algorithm of <code>operator new</code> but using another memory source, not the system heap but a memory region elsewhere. Do you know if this is possible ?</p>\n\n<p>An example of use could be to reserve 100kB of external RAM and to create an allocator to manage it, and then give it to a specified task which need this memory. </p>\n\n<pre><code>static const uint8_t* ramBase = reinterpret_cast&lt;uint8_t*&gt;(0x80000000);\nstatic const uint32_t ramAreaSize = 0x19000; //100kB\nBufferAllocator allocator(ramBase, ramAreaSize);\n\n//...\n//Assuming operator new is overloaded to use BufferAllocator\nMyObject * obj = new (allocator) MyObject(some, parameter);\n//...\n</code></pre>\n\n<p>The question is : how (if this is even possible) can I implement <code>BufferAllocator</code> in order to use <code>operator new</code> to manage the raw memory area ? </p>\n\n<pre><code>void* BufferAllocator::allocate(uint32_t bytes)\n{\n    //I would like to write something like this\n    //and so let the responsibility to manage this memory area to \"new\"\n    //so I don't have to reimplement (or reuse) a different custom  \n    // allocator\n    return ::operator new(ramBase, ramAreaSize, bytes)\n} \n</code></pre>\n"}, {"tags": ["c++", "class", "oop", "inheritance", "derived"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1427906132, "post_id": 29396133, "comment_id": 46968611, "body": "And where is the code where you are actually using <code>show()</code>?"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1427906197, "post_id": 29396133, "comment_id": 46968655, "body": "Post this fragment of code, that is responsible for calling <code>show()</code>. @WojciechFrohmberg That would break the concept of polymorphism."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427906272, "post_id": 29396133, "comment_id": 46968698, "body": "About that array, is it e.g. <code>P a[N]</code> (or <code>vector&lt;P&gt; v</code>)? Because then you need to read about <a href=\"http://stackoverflow.com/questions/274626/what-is-object-slicing\">object slicing</a>. Please show how you use the classes, preferably you should create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a> and show us."}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 4555670, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b5dc55a1c06c2816060f034afe52460c?s=128&d=identicon&r=PG&f=1", "display_name": "hakeris1010", "link": "https://stackoverflow.com/users/4555670/hakeris1010"}, "edited": false, "score": 0, "creation_date": 1427990679, "post_id": 29396230, "comment_id": 47006963, "body": "Cool ! But what if i&#39;m declaring array as vector?"}], "owner": {"reputation": 2969, "user_id": 4683600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcf47e6c220e1d2bf49575565b46da5?s=128&d=identicon&r=PG&f=1", "display_name": "bku_drytt", "link": "https://stackoverflow.com/users/4683600/bku-drytt"}, "is_accepted": true, "score": 2, "last_activity_date": 1427992641, "last_edit_date": 1427992641, "creation_date": 1427906316, "answer_id": 29396230, "question_id": 29396133, "link": "https://stackoverflow.com/questions/29396133/calling-derived-class-overriden-function-from-parent-c/29396230#29396230", "title": "Calling derived class overriden function from parent. C++", "body": "<p>This is probably because you didn't declare your array as an array of P pointers. Make sure that your array is declared something like:</p>\n\n<pre><code>P* elements[ N ];\n</code></pre>\n\n<p>Here is some example code to show polymorphism:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstddef&gt;\n\nstruct P\n{\n    virtual void func() { std::cout &lt;&lt; \"Parent\" &lt;&lt; std::endl; }\n};\n\nstruct D : P\n{\n    void func() override { std::cout &lt;&lt; \"Derived\" &lt;&lt; std::endl; }\n};\n\nint main()\n{\n    const std::size_t N( 2 );\n\n    P* elements[ N ];\n\n    P parent;\n    D derived;\n\n    elements[ 0 ] = &amp;parent;\n    elements[ 1 ] = &amp;derived;\n\n    for ( std::size_t i( 0 ); i &lt; N; ++i )\n        elements[ i ]-&gt;func();\n\n    std::cout &lt;&lt; \"Enter a character to exit: \"; char c; std::cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n\n<p>Using std::vector:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstddef&gt;\n#include &lt;vector&gt;\n\n... // same P and D definitions as in the previous example.\n\nint main()\n{\n    std::vector&lt;P*&gt; elements; \n\n    elements.push_back( &amp;P() ); // &amp;P(): create an instance of P and return its address.\n    elements.push_back( &amp;D() ); // &amp;D(): create an instance of D and return its address.\n\n    for ( std::vector&lt;P*&gt;::size_type i( 0 ), sz( elements.size() ); i &lt; sz; ++i )\n        elements[ i ]-&gt;func();\n\n    std::cout &lt;&lt; \"Enter a character to exit: \"; char c; std::cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 4555670, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b5dc55a1c06c2816060f034afe52460c?s=128&d=identicon&r=PG&f=1", "display_name": "hakeris1010", "link": "https://stackoverflow.com/users/4555670/hakeris1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 29396230, "answer_count": 1, "score": -2, "last_activity_date": 1427992641, "creation_date": 1427906020, "last_edit_date": 1427990528, "question_id": 29396133, "link": "https://stackoverflow.com/questions/29396133/calling-derived-class-overriden-function-from-parent-c", "title": "Calling derived class overriden function from parent. C++", "body": "<p>I have a parent class P, derived class D, and function show() in both of them. Also, i have an array of P objects, and in that array i am assigning objects derived from P, like D. And i'm calling show() function from array. But it seems that it calls only P empty function, not derived overriden function.</p>\n\n<p>My Code:</p>\n\n<pre><code>//parent.h    \n\nclass P\n{\npublic:\n    P(){ }\n    ~P(){ }\n\n    virtual void show(){ }\n};\n\n//derived.h\n\n#include \"parent.h\"\n\nclass D : public P\n{\npublic:\n    D(){ }\n    ~D(){ }\n\n    void show();\n};\n\n//derived.cpp\n\n#include \"derived.h\"\n\nvoid D::show()\n{\n    std::cout&lt;&lt;\"Showing Derived Function\\n\";\n}\n</code></pre>\n\n<p>//main.cpp</p>\n\n<pre><code>#include \"derived.h\"\n#include &lt;vector&gt;\n\nint main()\n{\n    vector&lt;P&gt; objectz;\n\n    for(int i=0; i&lt;8; i++)\n    {\n        D derp;\n        objectz.insert(objectz.begin(), derp);\n    }\n\n    for(int i=0; i&lt;8; i++)\n    {\n        objectz[i].show(); //Call it Here !!\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "openssl", "cryptography"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1427924107, "post_id": 29396052, "comment_id": 46978180, "body": "Read this incorrectly, you&#39;ll have to send them yourself together with the ciphertext, it seems to me. Note that the IV is the same as the block size for CBC mode encryption, and that the encrypted symmetric key will have the same size as the modulus. So you can statically determine the sizes if you prefix them to the ciphertext if you want to save a few bytes."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1427946406, "post_id": 29396052, "comment_id": 46984239, "body": "You have to synchronize <code>ek</code> and <code>iv</code> between the client and server. You should probably perform a key agreement, and then use the shared secret that results. Use the shared secret to create client and server crypto parameters like symmetric keys and iv&#39;s. Create the parameters using the shared secret from the agreement algorithm and a KDF. Use unique labels for each parameter to ensure key/parameter independence."}, {"owner": {"reputation": 449, "user_id": 4708444, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/57e1665328d412a518089ebbdcfb1845?s=128&d=identicon&r=PG&f=1", "display_name": "GloriousLemon", "link": "https://stackoverflow.com/users/4708444/gloriouslemon"}, "edited": false, "score": 0, "creation_date": 1427979692, "post_id": 29396052, "comment_id": 46999924, "body": "Thank you for the feedback :). In general, is it ok to use the same symmetric key and iv to encrypt all my messages or is it better to create a new set of symmetric keys and iv&#39;s each time (and just share that before sending the message)?"}], "owner": {"reputation": 449, "user_id": 4708444, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/57e1665328d412a518089ebbdcfb1845?s=128&d=identicon&r=PG&f=1", "display_name": "GloriousLemon", "link": "https://stackoverflow.com/users/4708444/gloriouslemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1427945801, "creation_date": 1427905690, "last_edit_date": 1427945801, "question_id": 29396052, "link": "https://stackoverflow.com/questions/29396052/how-does-a-server-obtain-the-ek-and-iv-arguments-from-the-client-in-order-to-rs", "title": "How does a server obtain the ek and iv arguments from the client, in order to RSA decrypt a message?", "body": "<p>I'm trying to use the EVP utilities in OpenSSL for RSA encryption. My goal is implement the Seal &amp; Open method to encrypt using a public key and decrypt using a private key. </p>\n\n<p>Assuming that the SSL handshake was successful and the client has the public key of the server, I want the client to seal the message before sending it.</p>\n\n<p>Something like this:</p>\n\n<pre><code>int Crypto::rsaEncrypt(const unsigned char *msg, size_t msgLen, unsigned char **encMsg, unsigned char **ek, size_t *ekl, unsigned char **iv, size_t *ivl) {\n    ...\n    if(!EVP_SealInit(rsaEncryptCtx, EVP_aes_256_cbc(), ek, (int*)ekl, *iv, &amp;remotePubKey, 1)) {\n        return FAILURE;\n    }\n\n    if(!EVP_SealUpdate(rsaEncryptCtx, *encMsg + encMsgLen, (int*)&amp;blockLen, (const unsigned char*)msg, (int)msgLen)) {\n        return FAILURE;\n    }\n    encMsgLen += blockLen;\n\n    if(!EVP_SealFinal(rsaEncryptCtx, *encMsg + encMsgLen, (int*)&amp;blockLen)) {\n        return FAILURE;\n    }\n    ...\n}\n</code></pre>\n\n<p>If my understanding is correct, the EVP_SealInit() will generate a public key encrypted secret key pointed to by the ek and an IV corresponding to the cipher. This is all done on the client. </p>\n\n<p>When this encrypted message is sent to the server, I'll use something like this to decrypt:</p>\n\n<pre><code>int Crypto::rsaDecrypt(unsigned char *encMsg, size_t encMsgLen, unsigned char *ek, size_t ekl, unsigned char *iv, size_t ivl, unsigned char **decMsg) {\n    ...\n    if(!EVP_OpenInit(rsaDecryptCtx, EVP_aes_256_cbc(), ek, ekl, iv, key)) {\n        return FAILURE;\n    }\n\n    if(!EVP_OpenUpdate(rsaDecryptCtx, (unsigned char*)*decMsg + decLen, (int*)&amp;blockLen, encMsg, (int)encMsgLen)) {\n        return FAILURE;\n    }\n    decLen += blockLen;\n\n    if(!EVP_OpenFinal(rsaDecryptCtx, (unsigned char*)*decMsg + decLen, (int*)&amp;blockLen)) {\n        return FAILURE;\n    }\n    ...\n}\n</code></pre>\n\n<p><strong>Ok, now my questions is,</strong> if the server is calling this decrypt, how does get reference to the ek and iv (since it was created on the client)? or are those generated locally?</p>\n\n<p>I referenced these following OpenSSL API docs for <a href=\"http://www.openssl.org/docs/crypto/EVP_SealInit.html\" rel=\"nofollow\">Seal</a> and <a href=\"http://www.openssl.org/docs/crypto/EVP_OpenInit.html\" rel=\"nofollow\">Open</a>. And this one for the sample source code: <a href=\"https://github.com/shanet/Crypto-Example/blob/master/Crypto.cpp\" rel=\"nofollow\">Crypto.cpp</a>.</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 17691, "user_id": 645270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7eVm1.png?s=128&g=1", "display_name": "keyser", "link": "https://stackoverflow.com/users/645270/keyser"}, "edited": false, "score": 12, "creation_date": 1427905697, "post_id": 29396027, "comment_id": 46968347, "body": "Imagine if all questions on this site had titles like yours :)"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1427906263, "post_id": 29396027, "comment_id": 46968692, "body": "Did you try compiling the code? There&#39;s typos in it."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 4, "creation_date": 1427907433, "post_id": 29396027, "comment_id": 46969337, "body": "The code in question appears to also have <code>#include &quot;Typelist.h&quot;</code>, which defines <code>namespace TL</code>.  <a href=\"http://loki-lib.sourceforge.net/html/a00644.html\" rel=\"nofollow noreferrer\">(reference)</a>"}, {"owner": {"reputation": 5845, "user_id": 2725810, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/520b9e3418a19d3e442f5713613ef9b8?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/2725810/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1435237618, "post_id": 29396027, "comment_id": 50123477, "body": "I did not see anyone comment on calling the book &quot;old&quot;. Have there been any development as far as the designs are concerned since then?"}], "answers": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 2, "last_activity_date": 1491477987, "last_edit_date": 1491477987, "creation_date": 1427908018, "answer_id": 29396717, "question_id": 29396027, "link": "https://stackoverflow.com/questions/29396027/is-this-code-from-old-alexandrescus-c-book-valid/29396717#29396717", "title": "Is this code from old Alexandrescu&#39;s C++ book valid?", "body": "<p>No, the code you've posted is not correct.</p>\n\n<p>There's a few typos which probably aren't very relevant but I'll mention them. They may be in the book or maybe they were made by yourself when you posted this. I don't have the book so I can't check</p>\n\n<ul>\n<li><code>GenLinearHierachy</code> should probably be <code>GenLinearHierarchy</code></li>\n<li>Comma missing at the end of <code>OPNewFactoryUnit</code> before another template parameter</li>\n</ul>\n\n<p>Now that those are out of the way, no the snippet does not declare <code>TL</code> namespace or <code>template &lt;class&gt; class Reverse;</code> inside that namespace. It does declare <code>template &lt;class&gt; class Reverse;</code> outside <code>TL</code> namespace, so it might be an error in the book assuming that's the entire snippet and there's no reason to assume that additional headers would be required.</p>\n\n<p>The declaration is probably related to <code>Loki::TL::Reverse&lt; NullType &gt;</code> which is declared in <a href=\"http://loki-lib.sourceforge.net/html/a00681.html\" rel=\"nofollow noreferrer\">Typelist.h</a> of Loki library.</p>\n\n<p>Third thing that I find confusing is that the template parameter <code>template &lt;class, class&gt; class Creator = OPNewFactoryUnit</code> is passed as a second type parameter to <code>template &lt;class, class, class&gt; class GenLinearHierachy</code> even though <code>Creator</code> is not a type but a template! Seems like <code>GenLinearHierarchy</code> would be intended to be <code>template &lt;class, template &lt;class, class&gt; class, class&gt; class GenLinearHierarchy;</code>. That would match with <a href=\"http://loki-lib.sourceforge.net/html/a00653.html\" rel=\"nofollow noreferrer\">LOKI::GenLinearHierarchy</a></p>\n\n<p>With those changes (fix typos, remove <code>TL</code> namespace, change type of <code>GenLinearHierarchy</code>), the code parses correctly.</p>\n"}], "owner": {"reputation": 23069, "user_id": 2786156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fWMLm.jpg?s=128&g=1", "display_name": "St.Antario", "link": "https://stackoverflow.com/users/2786156/st-antario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1427908683, "accepted_answer_id": 29396717, "answer_count": 1, "score": -2, "last_activity_date": 1491477987, "creation_date": 1427905612, "last_edit_date": 1427909199, "question_id": 29396027, "link": "https://stackoverflow.com/questions/29396027/is-this-code-from-old-alexandrescus-c-book-valid", "closed_reason": "Not suitable for this site", "title": "Is this code from old Alexandrescu&#39;s C++ book valid?", "body": "<p>I was reading the old Alexandrescu's book about C++ templates and came across the following code snippet where he explained AbstractFactory pattern implementation (Chapter 9.3). Here it is:</p>\n\n<pre><code>template &lt;class, class, class&gt; class GenLinearHierachy;\ntemplate &lt;class, class&gt; class OPNewFactoryUnit;\ntemplate &lt;class&gt; class Reverse;\n\n//definitions\n\ntemplate\n&lt;\n    class AbstractFact,\n    template &lt;class, class&gt; class Creator = OPNewFactoryUnit\n    class TList = typename AbstractFact::ProductList\n&gt;\nclass ConcreteFactory\n: public GenLinearHierarchy&lt;\ntypename TL::Reverse&lt;TList&gt;::Result, Creator, AbstractFact&gt; //HERE.\n{\npublic:\n    typedef typename AbstractFact::ProductList ProductList;\n    typedef TList ConcreteProductList;\n};\n</code></pre>\n\n<p>I don't get why the code is valid. We didn't defined <code>TL</code> anywhere in the snippet.</p>\n"}, {"tags": ["c++", "lambda"], "comments": [{"owner": {"reputation": 887, "user_id": 3897435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b3e0e8ed556fec6fb61ac51c0c15837a?s=128&d=identicon&r=PG&f=1", "display_name": "busebd12", "link": "https://stackoverflow.com/users/3897435/busebd12"}, "reply_to_user": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 0, "creation_date": 1427905790, "post_id": 29395984, "comment_id": 46968408, "body": "@Sneftel: ah, thanks. I guess I was thinking there was more to it that just replacing functors."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1427905936, "post_id": 29395984, "comment_id": 46968503, "body": "Functors have types. Lambdas only have signatures."}, {"owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "edited": false, "score": 0, "creation_date": 1427905992, "post_id": 29395984, "comment_id": 46968538, "body": "I guess you&#39;re getting downvoted (partly) because we don&#39;t see why the words &quot;object oriented programming&quot; and &quot;lambdas&quot; are appearing in the same question. To me at least, there is no question here."}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1427906479, "post_id": 29395984, "comment_id": 46968840, "body": "@user3528438 lambdas have types"}], "answers": [{"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "is_accepted": false, "score": 0, "last_activity_date": 1427922527, "creation_date": 1427922527, "answer_id": 29400882, "question_id": 29395984, "link": "https://stackoverflow.com/questions/29395984/when-would-lambda-functions-be-useful-for-classes-in-c/29400882#29400882", "title": "When would lambda functions be useful for classes in C++?", "body": "<p>Okay, so a little more (and less) helpful response than my comment.</p>\n\n<p>Closures (that is, functions declared inside other functions, which capture the outer function's variables) are an interesting back-channel way to implement classes. Watch:</p>\n\n<pre><code>auto MakeCounter(int initialCount)\n{\n    int currentCount = initialCount;\n    struct {\n        std::function&lt;void()&gt; increment = [&amp;]() { currentCount++; };\n        std::function&lt;int()&gt; getCount = [&amp;]() { return currentCount; };\n    } theCounter;\n\n    return theCounter;\n}\n</code></pre>\n\n<p>Now <code>theCounter</code> is a structure with two members, one which increments the count and the other which retrieves the current count. Notice that the struct doesn't itself need to store the current count; that is instead implicitly held by the two lambdas, which share <code>currentCount</code> between them.</p>\n\n<p>There's a few problems with this.</p>\n\n<ol>\n<li>It doesn't compile. Not even mostly. There are a ton of things wrong with that code snippet. Actually, <em>it crashes GCC 4.9</em>. Whee!</li>\n<li>Even if it did compile, it wouldn't work properly, because C++ closures aren't very powerful -- they can't keep captured variables alive after the end of their scopes. Only a language with actual GC could do this.</li>\n<li>C++ already has classes, so why bother?</li>\n</ol>\n\n<p>Nevertheless, you see this sort of pattern in other languages which either support (proper) closures and GC but don't have native facilities for classes (e.g. some variants of LISP), or do support classes but so crappily that it's arguably better to do things this way (e.g. Matlab). </p>\n\n<p>So in C++ they're just for replacing functor boilerplate. They don't offer any additional power. In some other languages, they're rather more versatile, and more widely important.</p>\n"}], "owner": {"reputation": 887, "user_id": 3897435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b3e0e8ed556fec6fb61ac51c0c15837a?s=128&d=identicon&r=PG&f=1", "display_name": "busebd12", "link": "https://stackoverflow.com/users/3897435/busebd12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1427922527, "creation_date": 1427905488, "question_id": 29395984, "link": "https://stackoverflow.com/questions/29395984/when-would-lambda-functions-be-useful-for-classes-in-c", "title": "When would lambda functions be useful for classes in C++?", "body": "<p>So, I see the usefulness of lambda functions when they are used to replace functors, but when would you want to use them in an object oriented programming (with classes) setting in general and why? </p>\n"}, {"tags": ["c++", "c", "arrays", "printf"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1427905632, "post_id": 29395935, "comment_id": 46968303, "body": "You have a loop within a loop, and a semicolon as the body of the second loop. This means that <b>all</b> the data that you enter ends up at the position <code>10</code> of the array."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 6, "creation_date": 1427905657, "post_id": 29395935, "comment_id": 46968320, "body": "Remove semicolon after <code>for(indeks = 0; indeks &lt; 10; indeks++);</code> <b>Voting to close as a typo.</b>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1427905869, "post_id": 29395935, "comment_id": 46968464, "body": "<a href=\"http://isocpp.org/wiki/faq/newbie#main-returns-int\" rel=\"nofollow noreferrer\">main() returns an int</a>"}, {"owner": {"reputation": 85, "user_id": 4739046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/340fe4a1565e65a676fcf2f52a2a3fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Typo boy", "link": "https://stackoverflow.com/users/4739046/typo-boy"}, "edited": false, "score": 0, "creation_date": 1427906013, "post_id": 29395935, "comment_id": 46968549, "body": "Thanks guys , Im new to programming . This helped me alot."}], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 1, "creation_date": 1427906009, "post_id": 29396087, "comment_id": 46968545, "body": "while we are at it, <code>j</code> and <code>rezultat</code> are unused, and <code>indeks</code> (im assuming he meant index) and <code>n</code> can be declared inisde the <code>for</code> loops.  <code>cin</code> and <code>cout</code> would probably be better to use, and you can also remove the <code>{</code> and <code>}</code> near the second for loop"}, {"owner": {"reputation": 85, "user_id": 4739046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/340fe4a1565e65a676fcf2f52a2a3fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Typo boy", "link": "https://stackoverflow.com/users/4739046/typo-boy"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1427906885, "post_id": 29396087, "comment_id": 46969055, "body": "@dwcanillas , oh yeah about that j and rezultat ... I used(copied) my old code so i forgot to remove it , sorry :D."}], "owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "is_accepted": true, "score": 4, "last_activity_date": 1427906011, "last_edit_date": 1427906011, "creation_date": 1427905834, "answer_id": 29396087, "question_id": 29395935, "link": "https://stackoverflow.com/questions/29395935/int-array-not-printing-good/29396087#29396087", "title": "Int Array[ ] not printing good.", "body": "<p>The <code>for</code> loop does nothing, since it ends with <code>;</code> and as the <code>while</code> loop iterates, <code>indeks</code> will always be <code>10</code>. I suggest the following</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()                                  // correct function type\n    {\n    int indeks, a[11], j, rezultat[50];\n    int n = 0;\n\n    printf(\"Unesite elemenate niza\\n\");\n\n    //while (n &lt; 10)                        // delete while loop\n    //{\n\n    for(indeks = 0; indeks &lt; 10; indeks++)  // remove trailing ;\n        scanf(\"%d\", &amp;a[indeks]);\n\n    //n++;                                  // delete unnecessary line\n    //} \n\n    for (n = 0; n &lt; 10; n++) {\n        printf(\"%d\\n\", a[n]);\n    }\n   return 0;                                // add return value\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 4739046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/340fe4a1565e65a676fcf2f52a2a3fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Typo boy", "link": "https://stackoverflow.com/users/4739046/typo-boy"}, "edited": false, "score": 0, "creation_date": 1427906143, "post_id": 29396088, "comment_id": 46968617, "body": "geez man :D , i got answer few seconds ago , no need for writing whole code. I&#39;m new to c++ and whole programing thing . Thanks anyway."}], "owner": {"reputation": 1156, "user_id": 4597023, "user_type": "registered", "profile_image": "https://graph.facebook.com/1089025404457164/picture?type=large", "display_name": "riodoro1", "link": "https://stackoverflow.com/users/4597023/riodoro1"}, "is_accepted": false, "score": 1, "last_activity_date": 1427905838, "creation_date": 1427905838, "answer_id": 29396088, "question_id": 29395935, "link": "https://stackoverflow.com/questions/29395935/int-array-not-printing-good/29396088#29396088", "title": "Int Array[ ] not printing good.", "body": "<p>This \n<code>for(indeks = 0; indeks &lt; 10; indeks++);</code>\ndoes nothing except incrementing <code>indeks</code> 10 times.\nI could write the whole code corrected for You but how will You learn then?</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 4739046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/340fe4a1565e65a676fcf2f52a2a3fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Typo boy", "link": "https://stackoverflow.com/users/4739046/typo-boy"}, "edited": false, "score": 0, "creation_date": 1427906550, "post_id": 29396144, "comment_id": 46968881, "body": "Yeah I did , I looked up for Weather Vane it all works fine . Thanks for answer . I&#39;m sorry , I&#39;m still new to this whole thing."}], "owner": {"reputation": 2969, "user_id": 4683600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcf47e6c220e1d2bf49575565b46da5?s=128&d=identicon&r=PG&f=1", "display_name": "bku_drytt", "link": "https://stackoverflow.com/users/4683600/bku-drytt"}, "is_accepted": false, "score": 0, "last_activity_date": 1427906046, "creation_date": 1427906046, "answer_id": 29396144, "question_id": 29395935, "link": "https://stackoverflow.com/questions/29395935/int-array-not-printing-good/29396144#29396144", "title": "Int Array[ ] not printing good.", "body": "<p>Your code seems to have a couple of syntax errors. <strong>Weather Vane</strong> has posted the correct version, please look at his answer.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\nvoid main()\n{\n    const unsigned int A_SIZE( 10 );\n    int a[ A_SIZE ];\n\n    printf( \"Unesite elemenate niza\\n\" );\n\n    for ( unsigned int indeks( 0 ); indeks &lt; A_SIZE; ++indeks )\n        scanf( \"%d\", &amp;a[ indeks ] );\n\n    for ( unsigned int indeks( 0 ); indeks &lt; A_SIZE; ++indeks )\n        printf( \"%d\\n\", a[ indeks ] );\n\n    std::cout &lt;&lt; \"Enter a character to exit: \"; char c; std::cin &gt;&gt; c;\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4739046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/340fe4a1565e65a676fcf2f52a2a3fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Typo boy", "link": "https://stackoverflow.com/users/4739046/typo-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 29396087, "answer_count": 3, "score": 2, "last_activity_date": 1427906046, "creation_date": 1427905364, "question_id": 29395935, "link": "https://stackoverflow.com/questions/29395935/int-array-not-printing-good", "title": "Int Array[ ] not printing good.", "body": "<p>here is my code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid main()\n   {\n   int indeks, a[11], j, rezultat[50];\n   int n = 0;\n\n   printf(\"Unesite elemenate niza\\n\");\n\n   while (n &lt; 10)\n   {\n\n     for(indeks = 0; indeks &lt; 10; indeks++);\n     scanf(\"%d\", &amp;a[indeks]);\n     n++;\n   } \n    for (n = 0; n &lt; 10; n++) {\n    printf(\"%d\\n\", a[n]);\n   }\n\n}\n</code></pre>\n\n<p>Hello , I have problem that this doesn't print array as a integer number that I enter in . </p>\n\n<p>It always print out -858993460 ten times. </p>\n\n<p>this is how it looks in cmd.\n(sorry for bad english)</p>\n\n<pre><code> Unesite elemenate niza: \n 1     /input starts here\n 3\n 5\n 1\n 0\n 2\n 3\n 5\n 7\n 4     /ends here\n-858993460  \n-858993460\n-858993460\n-858993460\n-858993460\n-858993460 \n-858993460\n-858993460\n-858993460\n-858993460      /output result\nPress any key to continue . . .\n</code></pre>\n"}, {"tags": ["c++", "image", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 1, "creation_date": 1427962474, "post_id": 29396209, "comment_id": 46990119, "body": "You should specify that what you provided is pseudocode."}], "owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "is_accepted": false, "score": 0, "last_activity_date": 1427986505, "last_edit_date": 1427986505, "creation_date": 1427906220, "answer_id": 29396209, "question_id": 29395836, "link": "https://stackoverflow.com/questions/29395836/c-place-an-image-on-top-of-another-image-in-a-certain-location/29396209#29396209", "title": "C++ Place an image on top of another image in a certain location", "body": "<p>Suggested explicit algorithm:</p>\n\n<p>1 - Read two images. E.g., <em>bottom.ppm, top.ppm</em>,\n2 - Read the location for overlay. E.g., <em>let the wanted top-left corner of \"top.ppm\" on \"bottom.ppm\" be (x,y) where 0 &lt; x &lt; bottom.height() and 0 &lt; y &lt; bottom.width()</em>,\n3 - Finally, nested loop on the top image to modify the bottom image pixel by pixel:</p>\n\n<pre><code>for(int i=0; i&lt;top.height(); i++) {\n    for(int j=0; j&lt;top.width(), j++) {\n        bottom(x+i, y+j) = top(i,j);\n    }\n}\n</code></pre>\n\n<p>return bottom image. </p>\n"}, {"comments": [{"owner": {"reputation": 1870, "user_id": 907387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wLQLG.jpg?s=128&g=1", "display_name": "Milind Morey", "link": "https://stackoverflow.com/users/907387/milind-morey"}, "edited": false, "score": 0, "creation_date": 1615900803, "post_id": 29398615, "comment_id": 117830648, "body": "//For place image at location Point(70,70) ;  smallImg.copyTo(BigImage(cv::Rect(10, 10, smallImg.cols, smallImg.rows))); this image"}], "owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "is_accepted": true, "score": 5, "last_activity_date": 1427914542, "creation_date": 1427914542, "answer_id": 29398615, "question_id": 29395836, "link": "https://stackoverflow.com/questions/29395836/c-place-an-image-on-top-of-another-image-in-a-certain-location/29398615#29398615", "title": "C++ Place an image on top of another image in a certain location", "body": "<p>You can also create a Mat that points to a rectangular region of the original image and copy the blue image to that:</p>\n\n<pre><code>Mat bigImage = imread(\"redSquare.png\", -1);\nMat lilImage = imread(\"blueSquare.png\", -1);\n\nMat insetImage(bigImage, Rect(70, 70, 100, 100));\nlilImage.copyTo(insetImage);\n\nimshow(\"Overlay Image\", bigImage);\n</code></pre>\n"}, {"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "is_accepted": false, "score": 1, "last_activity_date": 1427962614, "last_edit_date": 1495542824, "creation_date": 1427927664, "answer_id": 29402036, "question_id": 29395836, "link": "https://stackoverflow.com/questions/29395836/c-place-an-image-on-top-of-another-image-in-a-certain-location/29402036#29402036", "title": "C++ Place an image on top of another image in a certain location", "body": "<p>Building from <a href=\"https://stackoverflow.com/a/29398615/2436175\">beaker answer</a>, and generalizing to any input images size, with some error checking:</p>\n\n<pre><code>cv::Mat bigImage = cv::imread(\"redSquare.png\", -1);\nconst cv::Mat smallImage = cv::imread(\"blueSquare.png\", -1);\n\nconst int x = 70;\nconst int y = 70;\ncv::Mat destRoi;\ntry {\n    destRoi = bigImage(cv::Rect(x, y, smallImage.cols, smallImage.rows));\n}  catch (...) {\n    std::cerr &lt;&lt; \"Trying to create roi out of image boundaries\" &lt;&lt; std::endl;\n    return -1;\n}\nsmallImage.copyTo(destRoi);\n\ncv::imshow(\"Overlay Image\", bigImage);\n</code></pre>\n\n<p>Check <a href=\"http://docs.opencv.org/modules/core/doc/basic_structures.html#id6\" rel=\"nofollow noreferrer\">cv::Mat::operator()</a></p>\n\n<p>Note: Probably this will still fail if the 2 images have different formats, e.g. if one is color and the other grayscale.</p>\n"}], "owner": {"reputation": 783, "user_id": 4474553, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qerC9.jpg?s=128&g=1", "display_name": "fakeaccount", "link": "https://stackoverflow.com/users/4474553/fakeaccount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5659, "favorite_count": 2, "accepted_answer_id": 29398615, "answer_count": 3, "score": 5, "last_activity_date": 1427986505, "creation_date": 1427905094, "question_id": 29395836, "link": "https://stackoverflow.com/questions/29395836/c-place-an-image-on-top-of-another-image-in-a-certain-location", "title": "C++ Place an image on top of another image in a certain location", "body": "<p>I'm looking for a way to place on image on top of another image at a set location.</p>\n\n<p>I have been able to place images on top of each other using <code>cv::addWeighted</code> but when I searched for this particular problem, there wasn't any posts that I could find relating to <code>C++</code>.</p>\n\n<p><strong>Quick Example:</strong></p>\n\n<p><strong><code>200x200</code> Red Square &amp;  <code>100x100</code> Blue Square</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/HJMRl.png\" alt=\"enter image description here\"> <strong>&amp;</strong> <img src=\"https://i.stack.imgur.com/yiSHq.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Blue Square on the Red Square at <code>70x70</code> (From top left corner Pixel of Blue Square)</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/19EY7.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c++", "opencv", "canny-operator", "opencv-contour"], "answers": [{"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "is_accepted": true, "score": 1, "last_activity_date": 1427927185, "creation_date": 1427927185, "answer_id": 29401962, "question_id": 29395771, "link": "https://stackoverflow.com/questions/29395771/opencv-findcontours-cv-retr-external-not-working/29401962#29401962", "title": "Opencv findcontours CV_RETR_EXTERNAL not working", "body": "<p>Simply add a binarization with minimal threshold, and remove Canny:</p>\n\n<pre><code>cvtColor(final_img, grey, CV_BGR2GRAY);\n//Threshold=1: very low value, anyway the rest of the image is pure black\nthreshold(grey, binary, 1, 255, CV_THRESH_BINARY);\nfindContours(binary, contours, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_SIMPLE);\n</code></pre>\n"}], "owner": {"reputation": 328, "user_id": 4174853, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ab682a93691743d36ee74bac9f1ca2d9?s=128&d=identicon&r=PG&f=1", "display_name": "bjorn", "link": "https://stackoverflow.com/users/4174853/bjorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2705, "favorite_count": 1, "accepted_answer_id": 29401962, "answer_count": 1, "score": 1, "last_activity_date": 1431460712, "creation_date": 1427904896, "last_edit_date": 1431460712, "question_id": 29395771, "link": "https://stackoverflow.com/questions/29395771/opencv-findcontours-cv-retr-external-not-working", "title": "Opencv findcontours CV_RETR_EXTERNAL not working", "body": "<p>I've this image:</p>\n\n<p><strong>EDIT</strong>\nSorry but I had to remove the images!</p>\n\n<p>I need to extract the contour of the non-black picture, so I used findcontour with the CV_RETR_EXTERNAL parameter, but I obtain this:</p>\n\n<p>Here's the code:</p>\n\n<pre><code>static Mat canny_output, grey,draw;\n        vector&lt;vector&lt;Point&gt;&gt; contours;\n        cvtColor(final_img, grey, CV_BGR2GRAY);\n        Canny(grey, canny_output, 100, 200);\n        findContours(canny_output, contours, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_SIMPLE);\n\n        draw = Mat::zeros(canny_output.size(), CV_8UC3);\n\n\n        for (size_t i = 0; i &lt; contours.size(); i++)\n        {\n            drawContours(draw, contours, i, Scalar(255, 0, 0));\n\n        }\n</code></pre>\n\n<p>how can I resolve?</p>\n"}, {"tags": ["c++", "windows-runtime", "windows-store-apps", "c++-cx"], "answers": [{"owner": {"reputation": 17815, "user_id": 1822514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e2TMH.jpg?s=128&g=1", "display_name": "chue x", "link": "https://stackoverflow.com/users/1822514/chue-x"}, "is_accepted": false, "score": 2, "last_activity_date": 1428290754, "last_edit_date": 1428290754, "creation_date": 1427998666, "answer_id": 29419763, "question_id": 29395709, "link": "https://stackoverflow.com/questions/29395709/winrt-api-windowssystemlauncherlaunchfileasync-usage-from-c/29419763#29419763", "title": "WinRT API WIndows::System::Launcher::LaunchFileAsync() usage from C++", "body": "<p>The method <a href=\"https://msdn.microsoft.com/library/windows/apps/windows.storage.storagefile.getfilefrompathasync?cs-save-lang=1&amp;cs-lang=cpp#code-snippet-1\" rel=\"nofollow\">GetFileFromPathAsync</a> does not return a <code>StorageFile</code>, but it returns <code>IAsyncOperation&lt;StorageFile&gt;^</code>. What you have to do is convert the latter to the former, as follows:</p>\n\n<pre class=\"lang-cxx prettyprint-override\"><code>using namespace concurrency;\n\nString^ imagePath = ref new String(L\"C:\\\\Users\\\\GoodMan\\\\Pictures\\\\wood.png\");\nauto task = create_task(Windows::Storage::StorageFile::GetFileFromPathAsync(imagePath));\ntask.then([this](Windows::Storage::StorageFile^ file)\n{\n    Windows::System::Launcher::LaunchFileAsync(file);\n});\n</code></pre>\n\n<p>Generally all Windows Store app framework methods that end in <code>Async</code> will return either an <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/br206598.aspx\" rel=\"nofollow\">IAsyncOperation</a>, or a <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/jj987789.aspx\" rel=\"nofollow\">task</a>. These methods are what are known as asynchronous methods, and require some special handling. See this article for more info: <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/hh780559.aspx\" rel=\"nofollow\">Asynchronous programming in C++ </a>.</p>\n\n<hr>\n\n<p>So now everything is great, correct? Well, not quite. There is another issue with your code. It is that when you run the code above, you will get an access-denied error. The reason is that Windows Store Apps are sandboxed, and you cannot generally access just any file on the filesystem.</p>\n\n<p>You are in luck, though, because you are trying to access a file in your Pictures folder. The Pictures folder is a special folder that Windows Store apps have access to. You can get at it using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.storage.knownfolders(v=win.10).aspx\" rel=\"nofollow\">KnownFolders class</a>:</p>\n\n<pre class=\"lang-cxx prettyprint-override\"><code>using namespace concurrency;\n\nWindows::Storage::StorageFolder^ pictures =\n    Windows::Storage::KnownFolders::PicturesLibrary;\nauto task = create_task(pictures-&gt;GetFileAsync(\"wood.png\"));\n\ntask.then([this](Windows::Storage::StorageFile^ file)\n{\n    Windows::System::Launcher::LaunchFileAsync(file);\n});\n</code></pre>\n\n<p>Note that in order to access the Pictures folder your application has to declare it in the project manifest. To do so, double click on the <em>Package.appmanifest</em> file in the project \"tree\" in Visual Studio, and select the <em>Capabilities</em> tab. Then under <em>Capabilities</em>, check <em>Pictures Library</em>.</p>\n"}], "owner": {"reputation": 3527, "user_id": 485539, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d10de06616c8f4661387c74a4a40ec22?s=128&d=identicon&r=PG", "display_name": "codeLover", "link": "https://stackoverflow.com/users/485539/codelover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428290754, "creation_date": 1427904701, "last_edit_date": 1427998827, "question_id": 29395709, "link": "https://stackoverflow.com/questions/29395709/winrt-api-windowssystemlauncherlaunchfileasync-usage-from-c", "title": "WinRT API WIndows::System::Launcher::LaunchFileAsync() usage from C++", "body": "<p>I'm trying to launch an image using WinRT API <code>WIndows::System::Launcher::LaunchFileAsync()</code>.</p>\n\n<p>Code snippet is as follows:</p>\n\n<pre><code>RoInitialize(RO_INIT_MULTITHREADED);                \nString^ imagePath = ref new String(L\"C:\\\\Users\\\\GoodMan\\\\Pictures\\\\wood.png\");  \nauto file = Storage::StorageFile::GetFileFromPathAsync(imagePath);  \nWindows::System::Launcher::LaunchFileAsync(file);\n</code></pre>\n\n<p>I'm getting this error from the <code>LaunchFileAsync()</code> API:</p>\n\n<blockquote>\n  <p>error C2665: 'Windows::System::Launcher::LaunchFileAsync' : none of\n  the 2 overloads could convert all the argument types</p>\n</blockquote>\n\n<p>Can I please get help how to solve this. I'm very new to WinRT C++ coding .</p>\n"}, {"tags": ["c++", "c++11", "gcc", "variadic-templates"], "answers": [{"comments": [{"owner": {"reputation": 1322, "user_id": 2503810, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ac47f68e5115cb337f12753cb6c0f0ec?s=128&d=identicon&r=PG", "display_name": "hynner", "link": "https://stackoverflow.com/users/2503810/hynner"}, "edited": false, "score": 0, "creation_date": 1427904892, "post_id": 29395723, "comment_id": 46967816, "body": "Oh man, I can&#39;t believe it&#39;s that simple :-) Thanks A LOT! I&#39;ll accept your answer when the timer runs out."}], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": true, "score": 3, "last_activity_date": 1427904907, "last_edit_date": 1427904907, "creation_date": 1427904749, "answer_id": 29395723, "question_id": 29395688, "link": "https://stackoverflow.com/questions/29395688/c-parameter-pack-fails-to-expand/29395723#29395723", "title": "C++ parameter pack fails to expand", "body": "<p>The compiler has no reason to believe that <code>a.a</code> is a template; as such, it is mandated to interpret the <code>&lt;</code> as the less-than operator. Write:</p>\n\n<pre><code>        a.template a&lt;N...&gt;(plist ...);\n          ^^^^^^^^^\n</code></pre>\n\n<p>In your second example, it knows that <code>a.a</code> is a template, because the type of <code>a</code> there does not depend on a template parameter.</p>\n"}], "owner": {"reputation": 1322, "user_id": 2503810, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ac47f68e5115cb337f12753cb6c0f0ec?s=128&d=identicon&r=PG", "display_name": "hynner", "link": "https://stackoverflow.com/users/2503810/hynner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 29395723, "answer_count": 1, "score": 1, "last_activity_date": 1427904907, "creation_date": 1427904630, "question_id": 29395688, "link": "https://stackoverflow.com/questions/29395688/c-parameter-pack-fails-to-expand", "title": "C++ parameter pack fails to expand", "body": "<p>I'm playing with variadic templates and I can't understand why the following code won't compile (GCC 4.9.2 with std=c++11):</p>\n\n<p>It's just an example, but I need similar kind of use in my code and it fails as well:</p>\n\n<pre><code>template&lt;int I&gt;\nclass Type{};\ntemplate&lt;typename ... Tlist&gt;\nclass A{\n    public:\n        template&lt;int ...N&gt;\n            void a(Type&lt;N&gt; ... plist){\n\n            }\n};\ntemplate&lt;typename ... Tlist&gt;\nclass B{\npublic:\n    template&lt;int ... N&gt;\n        void b(Type&lt;N&gt; ... plist){\n            A&lt;Tlist...&gt; a;\n            a.a&lt;N...&gt;(plist ...);\n        }\n};\n</code></pre>\n\n<p>And the use example:</p>\n\n<pre><code>B&lt;int, int, int&gt; b;\nb.b&lt;1,7,6&gt;(Type&lt;1&gt;(),Type&lt;7&gt;(),Type&lt;6&gt;());\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>file.cpp: In member function \u2018void B&lt;Tlist&gt;::b(Type&lt;N&gt;...)\u2019:\nfile.cpp:58:9: error: expected \u2018;\u2019 before \u2018...\u2019 token\n    a.a&lt;N...&gt;(plist ...);\n         ^\nfile.cpp:58:24: error: parameter packs not expanded with \u2018...\u2019:\n    a.a&lt;N...&gt;(plist ...);\n                        ^\nfile.cpp:58:24: note:         \u2018N\u2019\n</code></pre>\n\n<p>However the following code compiles fine (I just removed Tlist parameters from both classes and adjusted the code accordingly):</p>\n\n<pre><code>template&lt;int I&gt;\nclass Type{};\nclass A{\n    public:\n        template&lt;int ...N&gt;\n            void a(Type&lt;N&gt; ... plist){\n\n            }\n};\nclass B{\npublic:\n    template&lt;int ... N&gt;\n        void b(Type&lt;N&gt; ... plist){\n            A a;\n            a.a&lt;N...&gt;(plist ...);\n        }\n};\n\n\nB b;\nb.b(Type&lt;1&gt;(),Type&lt;7&gt;(),Type&lt;6&gt;());\n</code></pre>\n\n<p>Can anyone give me an explanation?\nThanks.</p>\n"}, {"tags": ["c++", "firefox", "gpo"], "comments": [{"owner": {"reputation": 2234, "user_id": 1993474, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/t1jlt.jpg?s=128&g=1", "display_name": "zeetit", "link": "https://stackoverflow.com/users/1993474/zeetit"}, "edited": false, "score": 0, "creation_date": 1435229173, "post_id": 29395604, "comment_id": 50117603, "body": "i am working on the same functionality. Tried to install Bing default pack and then understand its ff addon C:\\Users\\MeUser\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\cas&zwnj;&#8203;jqwjp.default-142425&zwnj;&#8203;0116022\\extensions\\b&zwnj;&#8203;ing-search...) Please let me know if you were able to do the same. I tried <a href=\"http://blogs.msdn.com/b/dsadsi/archive/2009/07/23/working-with-group-policy-objects-programmatically-simple-c-example-illustrating-how-to-modify-a-registry-based-policy.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/dsadsi/archive/2009/07/23/&hellip;</a> link &amp; trying to change registry values by combining both. Registry updates using c++. Not sure if at right path"}, {"owner": {"reputation": 2234, "user_id": 1993474, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/t1jlt.jpg?s=128&g=1", "display_name": "zeetit", "link": "https://stackoverflow.com/users/1993474/zeetit"}, "edited": false, "score": 0, "creation_date": 1435235555, "post_id": 29395604, "comment_id": 50121822, "body": "also on reloading firefox, the pref.js file is overwritten with the original values"}], "owner": {"reputation": 1054, "user_id": 3316077, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/js6iY.png?s=128&g=1", "display_name": "Cajuu&#39;", "link": "https://stackoverflow.com/users/3316077/cajuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 621, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427904301, "creation_date": 1427904301, "question_id": 29395604, "link": "https://stackoverflow.com/questions/29395604/how-to-change-firefox-homepage-using-gpo-group-policy", "title": "How to change Firefox Homepage using GPO (Group policy)", "body": "<p>So far, I have developed a solution in C# but it doesn't use GPO. It modifies the prefs.js file.</p>\n\n<p>This is what I have tried so far using C#:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace FireFoxHomepageChanger\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        public static void SetMozilla(string strURL)\n        {\n            try\n            {\n                string strSystemUname = Environment.UserName.ToString().Trim();\n                string systemDrive = Environment.ExpandEnvironmentVariables(\"%SystemDrive%\");\n                string strDirectory = \"\";\n                string strPrefFolder = \"\";\n                if (Directory.Exists(systemDrive + \"\\\\Documents and Settings\\\\\" + strSystemUname + \"\\\\Application Data\\\\Mozilla\\\\Firefox\\\\Profiles\"))\n                {\n                    strDirectory = systemDrive + \"\\\\Documents and Settings\\\\\" + strSystemUname + \"\\\\Application Data\\\\Mozilla\\\\Firefox\\\\Profiles\";\n                }\n                else if (Directory.Exists(systemDrive + \"\\\\WINDOWS\\\\Application Data\\\\Mozilla\\\\Firefox\\\\Profiles\"))\n                {\n                    strDirectory = systemDrive + \"\\\\WINDOWS\\\\Application Data\\\\Mozilla\\\\Firefox\\\\Profiles\";\n                }\n                if (strDirectory.Trim().Length != 0)\n                {\n                    System.IO.DirectoryInfo oDir = new DirectoryInfo(strDirectory);\n                    //System.IO.DirectoryInfo[] oSubDir;\n                    //oSubDir = oDir.GetDirectories(strDirectory);\n                    foreach (DirectoryInfo oFolder in oDir.GetDirectories())\n                    {\n                        if (oFolder.FullName.IndexOf(\".default\") &gt;= 0)\n                        {\n                            strPrefFolder = oFolder.FullName;\n                            CreatePrefs(strURL, strPrefFolder);\n                        }\n                    }\n\n                }\n            }\n            catch\n            { }\n        }\n        private static void CreatePrefs(string strURL, string strFolder)\n        {\n            StringBuilder sbPrefs = new StringBuilder();\n            sbPrefs.Append(\"# Mozilla User Preferences\\n\\r\");\n            sbPrefs.Append(\"/* Do not edit this file.\\n\\r*\\n\\r\");\n            sbPrefs.Append(\"* If you make changes to this file while the application is running,\\n\\r\");\n            sbPrefs.Append(\"* the changes will be overwritten when the application exits.,\\n\\r*\\n\\r\");\n            sbPrefs.Append(\"* To make a manual change to preferences, you can visit the URL about:config\\n\\r\");\n            sbPrefs.Append(\"* For more information, see http://www.mozilla.org/unix/customizing.html#prefs\\n\\r\");\n            sbPrefs.Append(\"*/\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"app.update.lastUpdateTime.addon-background-update-timer\\\", 1188927425);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"app.update.lastUpdateTime.background-update-timer\\\", 1188927425);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"app.update.lastUpdateTime.blocklist-background-update-timer\\\", 1188927425);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"app.update.lastUpdateTime.search-engine-update-timer\\\", 1188927425);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.anchor_color\\\", \\\"#0000FF\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.display.background_color\\\", \\\"#C0C0C0\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.display.use_system_colors\\\", true);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.formfill.enable\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.history_expire_days\\\", 20);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.shell.checkDefaultBrowser\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.startup.homepage\\\", \\\"\" + strURL + \"\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.startup.homepage_override.mstone\\\", \\\"rv:1.8.1.6\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"browser.visited_color\\\", \\\"#800080\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"extensions.lastAppVersion\\\", \\\"2.0.0.6\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"intl.charsetmenu.browser.cache\\\", \\\"UTF-8, ISO-8859-1\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"network.cookie.prefsMigrated\\\", true);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"security.warn_entering_secure\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"security.warn_leaving_secure\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"security.warn_submit_insecure\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"security.warn_submit_insecure.show_once\\\", false);\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"spellchecker.dictionary\\\", \\\"en-US\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"urlclassifier.tableversion.goog-black-enchash\\\", \\\"1.32944\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"urlclassifier.tableversion.goog-black-url\\\", \\\"1.14053\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"urlclassifier.tableversion.goog-white-domain\\\", \\\"1.23\\\");\\n\\r\");\n            sbPrefs.Append(\"user_pref(\\\"urlclassifier.tableversion.goog-white-url\\\", \\\"1.371\\\");\\n\\r\");\n            StreamWriter writer = new StreamWriter(strFolder + \"\\\\prefs.js\");\n            writer.Write(sbPrefs.ToString());\n            writer.Close();\n            writer.Dispose();\n            GC.Collect();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            string URLString;\n            URLString = textBox1.Text;\n            SetMozilla(URLString);\n\n            label2.Text =String.Format( \"Home page changed to: {0}\",URLString);\n        }\n    }\n}\n</code></pre>\n\n<p>This solution works, but I want something in C++.</p>\n\n<p>Now, is there any way of doing what I want using native <strong>C++</strong> and <strong>Group Policy</strong> on a Windows machine ? Thanks.</p>\n"}, {"tags": ["c++", "gcc", "vector", "allocator"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1427904714, "post_id": 29395591, "comment_id": 46967708, "body": "Even on implementations where it isn&#39;t necessary for the allocator&#39;s value_type to match the vector element type, you do have to pass a valid allocator.  <code>std::allocator&lt;void&gt;</code> isn&#39;t valid, as the template argument is required to be &quot;a non-const object type&quot; and <code>void</code> is not."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1427908729, "post_id": 29395591, "comment_id": 46969969, "body": "@BenVoigt There&#39;s an explicit specialization of <code>std::allocator</code> for <code>void</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1427910400, "post_id": 29395591, "comment_id": 46970850, "body": "@T.C.: Right, but it is an allocator factory, not an allocator.  <code>allocator_traits</code> fails miserably with <code>allocator&lt;void&gt;</code>"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1427985489, "post_id": 29395591, "comment_id": 47003544, "body": "<a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=64865#c3\" rel=\"nofollow noreferrer\">libstdc++ does intentionally support <code>std::vector&lt;int, std::allocator&lt;char&gt;&gt;</code></a>, though, so I wonder if breaking on <code>allocator&lt;void&gt;</code> is an oversight."}], "answers": [{"comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427904785, "post_id": 29395710, "comment_id": 46967749, "body": "Why couldn&#39;t <code>allocator_type</code> be defined via rebinding by the container?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 1, "creation_date": 1427904865, "post_id": 29395710, "comment_id": 46967794, "body": "@dyp In theory it can. But the standard defines the <code>allocator_type</code> typedef to be identical to the <code>Allocator</code> template argument for individual containers."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427904871, "post_id": 29395710, "comment_id": 46967799, "body": "@dyp: Because it is a template argument.  The container could (and often does, for metadata) use a rebound version of allocator_type, but it cannot redefine allocator_type."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1427905106, "post_id": 29395710, "comment_id": 46967954, "body": "@BenVoigt There&#39;s nothing in theory that prevents the standard from saying that <code>allocator_type</code> is <code>typename allocator_traits&lt;Allocator&gt;::template rebind_alloc&lt;value_type&gt;</code>. It just doesn&#39;t do it."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1427905404, "post_id": 29395710, "comment_id": 46968145, "body": "@T.C.: Sure, but it doesn&#39;t.  And it doesn&#39;t leave the flexibility for the implementer to do so.  It does leave the flexibility for the implementer to use a rebound version of the allocator for actual allocation."}], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 7, "last_activity_date": 1427904701, "creation_date": 1427904701, "answer_id": 29395710, "question_id": 29395591, "link": "https://stackoverflow.com/questions/29395591/is-stdvectorint-stdallocatorchar-valid/29395710#29395710", "title": "Is std::vector&lt;int, std::allocator&lt;char&gt; &gt; valid?", "body": "<p>No, it's not allowed. First row of table 99:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0e7A8.png\" alt=\"Table 99\"></p>\n"}], "owner": {"reputation": 3803, "user_id": 1030861, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/df2b0ab3bb0ff2aea103fc4857aeca43?s=128&d=identicon&r=PG&f=1", "display_name": "Inbae Jeong", "link": "https://stackoverflow.com/users/1030861/inbae-jeong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "accepted_answer_id": 29395710, "answer_count": 1, "score": 4, "last_activity_date": 1427904701, "creation_date": 1427904267, "question_id": 29395591, "link": "https://stackoverflow.com/questions/29395591/is-stdvectorint-stdallocatorchar-valid", "title": "Is std::vector&lt;int, std::allocator&lt;char&gt; &gt; valid?", "body": "<p>The standard says nothing about the allocator of <code>std::vector</code> but only requires the allocator to satisfy the <code>Allocator</code> concept. Nothing about the allocator's value_type, no reference_type, no nothing.</p>\n\n<p>I thought <code>std::vector&lt;T, A&gt;</code> internally rebinds <code>A</code> to an allocator for <code>T</code>, so I gave a vector <code>std::allocator&lt;char&gt;</code> and it worked as expected.</p>\n\n<p>However, GCC generates errors if <code>std::allocator&lt;void&gt;</code> is given, as below:</p>\n\n<pre><code>/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/include/g++-v4/ext/alloc_traits.h: In instantiation of \u2018struct __gnu_cxx::__alloc_traits&lt;std::allocator&lt;void&gt; &gt;\u2019:\n/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/include/g++-v4/bits/stl_vector.h:75:28:   required from \u2018struct std::_Vector_base&lt;int, std::allocator&lt;void&gt; &gt;\u2019\n/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/include/g++-v4/bits/stl_vector.h:214:11:   required from \u2018class std::vector&lt;int, std::allocator&lt;void&gt; &gt;\u2019\na.cpp:5:42:   required from here\n/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/include/g++-v4/ext/alloc_traits.h:109:53: error: forming reference to void\n     typedef value_type&amp;                             reference;\n                                                 ^\n/usr/lib/gcc/x86_64-pc-linux-gnu/4.9.2/include/g++-v4/ext/alloc_traits.h:110:53: error: forming reference to void\n     typedef const value_type&amp;                       const_reference;\n                                                 ^\n</code></pre>\n\n<p>Is it a GCC's bug? or am I misreading the standard?</p>\n\n<ul>\n<li>GCC version : 4.9.2</li>\n</ul>\n"}, {"tags": ["c++", "c++11", "boost", "bind"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427912695, "post_id": 29395586, "comment_id": 46972112, "body": "I had always assumed the return type was something akin to <code>bound_type&lt;func_type,ret_type,params...&gt;</code>, but I never checked to confirm this."}], "answers": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 5, "last_activity_date": 1427904542, "creation_date": 1427904542, "answer_id": 29395658, "question_id": 29395586, "link": "https://stackoverflow.com/questions/29395586/why-is-the-return-type-of-stdbind-unspecified/29395658#29395658", "title": "Why is the return type of std::bind unspecified?", "body": "<p>Well, for starters there isn't just one return type.  It varies greatly depending on the types of the arguments passed in.</p>\n\n<p>The C++ Standard is leaving a lot of flexibility to implementers exactly how different cases are broken out (using overloading and SFINAE) and mapped onto different closure object types.</p>\n"}, {"owner": {"reputation": 4175, "user_id": 1082038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEql2.jpg?s=128&g=1", "display_name": "Nevin", "link": "https://stackoverflow.com/users/1082038/nevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427912264, "creation_date": 1427912264, "answer_id": 29397941, "question_id": 29395586, "link": "https://stackoverflow.com/questions/29395586/why-is-the-return-type-of-stdbind-unspecified/29397941#29397941", "title": "Why is the return type of std::bind unspecified?", "body": "<p>It isn't boost::function or std::function because those both perform type erasure, which may need a memory allocation (bind does not) and typically cannot have the function call inlined.</p>\n"}], "owner": {"reputation": 17508, "user_id": 1128289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/9gnmI.jpg?s=128&g=1", "display_name": "Praxeolitic", "link": "https://stackoverflow.com/users/1128289/praxeolitic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 29395658, "answer_count": 2, "score": 1, "last_activity_date": 1427912264, "creation_date": 1427904253, "last_edit_date": 1495541180, "question_id": 29395586, "link": "https://stackoverflow.com/questions/29395586/why-is-the-return-type-of-stdbind-unspecified", "title": "Why is the return type of std::bind unspecified?", "body": "<p>The return type of <code>boost::bind</code> and now <code>std::bind</code> is unspecified.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7935401/unspecified-bind\">unspecified bind</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6412065/what-is-the-return-type-of-boostbind\">What is the return type of boost::bind?</a></p>\n\n<p>Why is it that the return type of <code>boost::bind</code> and now <code>std::bind</code> is unspecified? Why isn't it something like <code>boost::function</code> and <code>std::function</code>?</p>\n\n<p>I realize that the intent is to refer to the return type via type deduction but that doesn't answer why <code>std::bind</code> is special.</p>\n\n<p>If that was just the whim of the committee then ok, there's not much else to say, but is there a technical reason that specifying a return type for <code>std::bind</code> is uniquely burdensome or that not specifying it permits a more efficient implementation?</p>\n"}, {"tags": ["java", "c++", "java-native-interface"], "answers": [{"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": true, "score": 0, "last_activity_date": 1427909861, "last_edit_date": 1427909861, "creation_date": 1427909250, "answer_id": 29397102, "question_id": 29395562, "link": "https://stackoverflow.com/questions/29395562/how-to-obtain-individual-strings-returned-from-getprivateprofilesection/29397102#29397102", "title": "How to obtain individual strings returned from GetPrivateProfileSection()", "body": "<p>The code that reads INI file to std::map looks like this:</p>\n\n<pre><code>LPTSTR str_settings = new TCHAR[bufferSize];\n\n::GetPrivateProfileSection(_T(\"MySection\"), str_settings , bufferSize, _T(\"MyIni.ini\"));\n\nstd::map&lt;std::string, std::string&gt; settings; // map key -&gt; value from ini file\nstd::string sett_string;\n\nfor (;*str_settings; str_settings += sett_string.length() + 1)\n{\n   sett_string = str_settings;\n\n   size_t pos = sett_string.find('=');\n   std::string key;\n   std::string value;\n\n   if (pos == std::string::npos)\n   {\n      key = sett_string;\n   }\n   else\n   {\n      key.assign(sett_string.begin(), sett_string.begin() + pos);\n      value.assign(sett_string.begin() + pos + 1, sett_string.end());\n   }\n\n   settings[key] = value;\n}\n</code></pre>\n"}, {"owner": {"reputation": 323, "user_id": 4703659, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JS5EZ.jpg?s=128&g=1", "display_name": "David Lim", "link": "https://stackoverflow.com/users/4703659/david-lim"}, "is_accepted": false, "score": 0, "last_activity_date": 1427996862, "creation_date": 1427996862, "answer_id": 29419268, "question_id": 29395562, "link": "https://stackoverflow.com/questions/29395562/how-to-obtain-individual-strings-returned-from-getprivateprofilesection/29419268#29419268", "title": "How to obtain individual strings returned from GetPrivateProfileSection()", "body": "<p>Thanks for your reply. I experimented with your source codes in a test C++ program and it worked well. One thing I noticed is that the std::map class is very similar to the Java Properties class. </p>\n\n<p>My goal now is to get each name=value pair and concat them back-to-back in a C++ string with each name=value pair separated by a \\r\\n.</p>\n\n<p>After experimenting for some time, I finally came up with the following code which seem to work:</p>\n\n<pre><code>void DoTest()\n{\nconst int bufferSize = 1024;\nLPTSTR str_settings = new TCHAR[bufferSize];\n// Keep the original pointer. Need to delete later.\nLPTSTR str_settings_original = str_settings;\n// Another string to keep all name=value pairs back to back separated by \\r\\n.\nLPTSTR str_settings_concatenated = new TCHAR[bufferSize];\n\n// I keep getting crash until I tried the following :\n// put a NULL character at the beginning of str_settings_concatenated.\nstr_settings_concatenated[0] = NULL;\n\n::GetPrivateProfileSection(_T(\"MySection\"), str_settings , bufferSize, _T(\"MyIni.ini\"));\n\nstd::string sett_string;\n\nfor (;*str_settings; str_settings += sett_string.length() + 1)\n{\nsett_string = str_settings;\n// str_settings effectively points to the next name=value pair\n// and this is what I really want. I take advantage of this\n// and pack them back-to-back into str_settings_concatenated\n// separated by \\r\\n.\nstrcat(str_settings_concatenated, str_settings);\nstrcat(str_settings_concatenated, \"\\r\\n\");\n}\n\ndelete str_settings_original;\nstr_settings_original = NULL;\n\ndelete str_settings_concatenated;\nstr_settings_concatenated = NULL;\n}\n</code></pre>\n\n<p>Important points:</p>\n\n<ul>\n<li>I used your for loop construct to obtain each name=value pair in str_settings.</li>\n<li>In every iteration of the for loop, str_settings seemed to always get the next name=value pair which works well for me even though I have honestly no clue how the code works (but many thanks to you).</li>\n<li>I created another C++ string to store each name=value pair each separated by a \\r\\n. I used strcat() to do this.</li>\n<li>I initially got many crashes and str_settings_concatenated did not appear to get any of the strings.</li>\n<li>I also recall that in C++ we must call a delete to every memory allocation using new. I tried this and it did not help. However, I got some advice from a friend that told me I should put a NULL character at the beginning of str_settings_concatenated.</li>\n</ul>\n\n<p>The code now works well. If you don't mind, could you also point out any other errors present in the code? </p>\n\n<p>Once again, thanks very much for the help.</p>\n\n<p>David.</p>\n\n<p>P.S.: sorry for using the Answer option to post this. Was unable to post this as a comment due to character limitations.</p>\n"}], "owner": {"reputation": 323, "user_id": 4703659, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JS5EZ.jpg?s=128&g=1", "display_name": "David Lim", "link": "https://stackoverflow.com/users/4703659/david-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 29397102, "answer_count": 2, "score": 0, "last_activity_date": 1427996862, "creation_date": 1427904190, "question_id": 29395562, "link": "https://stackoverflow.com/questions/29395562/how-to-obtain-individual-strings-returned-from-getprivateprofilesection", "title": "How to obtain individual strings returned from GetPrivateProfileSection()", "body": "<p>I normally use Java for programming. I have only basic knowledge of C++. I am currently using JNI to call the Windows API GetPrivateProfileSection().</p>\n\n<p>I understand that I have to write a C++ function to do this. I am vaguely familiar with how to do this. The problem I face is the returned C++ string from GetPrivateProfileSection().</p>\n\n<p>From the Microsoft documentation, I understand that the returned string contains name=value pairs each separated by a NULL character. The last name=value pair ends with 2 NULL characters.</p>\n\n<p>What I want to do is to collect all the individual name=value strings and put them in an array. I have absolutely no clue as to how to do this with the returned string from GetPrivateProfileSection(). I have heard that I need to do something known as pointer arithmetics but I have no knowledge how to do this.</p>\n\n<p>Could anyone help me out? Thanks!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 1, "creation_date": 1427903439, "post_id": 29395233, "comment_id": 46966867, "body": "Largely historical: it wasn&#39;t in C when C++ was &quot;forked&quot;, and C++ had added <code>std::vector</code> before C added VLAs. Given the presence of <code>std::vector</code> being able to specify an array size at run time would take quite a bit of work, but add little (if anything) in the way of new capability. [Aside: some C++ compilers such as gcc, support it as an extension.]"}, {"owner": {"reputation": 658, "user_id": 4587281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eVgWW.png?s=128&g=1", "display_name": "HarshaXsoad", "link": "https://stackoverflow.com/users/4587281/harshaxsoad"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1428385685, "post_id": 29395233, "comment_id": 47129099, "body": "@Jerry Thanks Jerry. it makes more sense. sorry i can&#39;t up vote your comment yet. but it was really helpful."}], "owner": {"reputation": 658, "user_id": 4587281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eVgWW.png?s=128&g=1", "display_name": "HarshaXsoad", "link": "https://stackoverflow.com/users/4587281/harshaxsoad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "closed_date": 1427903473, "answer_count": 0, "score": 0, "last_activity_date": 1427903203, "creation_date": 1427903203, "question_id": 29395233, "link": "https://stackoverflow.com/questions/29395233/what-is-the-reason-c-doesnt-allow-to-specify-array-size-at-run-time", "closed_reason": "Duplicate", "title": "What is the reason c++ doesn&#39;t allow to specify array size at run time", "body": "<p>What is the reason c++ doesn't allow to specify array size at runtime. is it because of pointer usage(like pointer arithmetic, i'm assuming it is for keep elements in contiguous memory locations) or because of some other reason.\nCan someone please explain me why it is designed that way.</p>\n"}, {"tags": ["c++", "c", "parsing", "arduino", "zigbee"], "comments": [{"owner": {"reputation": 898, "user_id": 3443596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bc2c1a62bc4080906a1b194c538646?s=128&d=identicon&r=PG&f=1", "display_name": "eventHandler", "link": "https://stackoverflow.com/users/3443596/eventhandler"}, "edited": false, "score": 0, "creation_date": 1427906194, "post_id": 29395159, "comment_id": 46968652, "body": "how do you send the data?"}, {"owner": {"reputation": 15, "user_id": 3810767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kq52T.jpg?s=128&g=1", "display_name": "Venix", "link": "https://stackoverflow.com/users/3810767/venix"}, "reply_to_user": {"reputation": 898, "user_id": 3443596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bc2c1a62bc4080906a1b194c538646?s=128&d=identicon&r=PG&f=1", "display_name": "eventHandler", "link": "https://stackoverflow.com/users/3443596/eventhandler"}, "edited": false, "score": 0, "creation_date": 1427963871, "post_id": 29395159, "comment_id": 46990816, "body": "With xbee.send(TXRequest); on Arduino1 (it uses the same Library aka Xbee-Arduino); When I log packets with XCTU, the datas are correct so the problem is clearly the parsing on Arduino2"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1427985882, "post_id": 29395159, "comment_id": 47003811, "body": "You are doing it wrong, there must be only <i>one</i> call to getResponse().  You have multiple calls now, so, yes, the data will be changing.  You need to write <code>XBeeResponse response = xbee.getResponse();</code> and then use <i>response</i> in your parsing code."}, {"owner": {"reputation": 10869, "user_id": 266392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/173e2caa17a8522cae442e23e7879921?s=128&d=identicon&r=PG", "display_name": "tomlogic", "link": "https://stackoverflow.com/users/266392/tomlogic"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1427987971, "post_id": 29395159, "comment_id": 47005205, "body": "@HansPassant, it looks like he&#39;s using <code>xbee.getResponse()</code> correctly, judging from the <a href=\"https://code.google.com/p/xbee-arduino/wiki/DevelopersGuide\" rel=\"nofollow noreferrer\">documentation</a>."}, {"owner": {"reputation": 15, "user_id": 3810767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kq52T.jpg?s=128&g=1", "display_name": "Venix", "link": "https://stackoverflow.com/users/3810767/venix"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1427990699, "post_id": 29395159, "comment_id": 47006976, "body": "@HansPassant I tried but technically, I&#39;m not supposed to use &quot;XBeeResponse&quot; according to the Library Documentation. And xbee.getResponse() should only change after another xbee.readPacket() has been done. So, &quot;It shouldn&#39;t&quot; change and since Arduino is single thread, nothing should change it. That&#39;s why i&#39;m kinda lost here"}], "answers": [{"owner": {"reputation": 15, "user_id": 3810767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kq52T.jpg?s=128&g=1", "display_name": "Venix", "link": "https://stackoverflow.com/users/3810767/venix"}, "is_accepted": true, "score": 0, "last_activity_date": 1428227748, "last_edit_date": 1428227748, "creation_date": 1428012826, "answer_id": 29423384, "question_id": 29395159, "link": "https://stackoverflow.com/questions/29395159/zigbee-arduino-incorrect-parsed-datas/29423384#29423384", "title": "ZigBee Arduino, Incorrect parsed datas", "body": "<p>I finally found what was going on:\nI'm using NewSoftSerial (because one Serial is clearly not enough) and it seems to f**ck up timers (long timeout) and I was actually using either TimerOne library or the \"Thread.h\" library to kinda allow me to use interrupt.</p>\n\n<p>Well, the whole thing was clearly messed up by the timeout on NSS so beware if you use them together in the future. I had to switch from TimerOne to Thread.h (which wasn't real threads of course), allowing me to avoid problems.</p>\n\n<p>I also found that normal Serial, the one bundled with the Arduino, was playing bad stuff aswell with the timer things.</p>\n\n<p>So thank you for trying to help me, but it wasn't really where I thought the problem was.</p>\n\n<p>Venix</p>\n"}], "owner": {"reputation": 15, "user_id": 3810767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kq52T.jpg?s=128&g=1", "display_name": "Venix", "link": "https://stackoverflow.com/users/3810767/venix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 29423384, "answer_count": 1, "score": 0, "last_activity_date": 1428227748, "creation_date": 1427902992, "last_edit_date": 1427980816, "question_id": 29395159, "link": "https://stackoverflow.com/questions/29395159/zigbee-arduino-incorrect-parsed-datas", "title": "ZigBee Arduino, Incorrect parsed datas", "body": "<p>I've got some trouble to make communication between 2 arduinos Uno to work.</p>\n\n<p>Arduino1&lt;>ZigBee >---------- &lt; ZigBee &lt;  > Arduino2</p>\n\n<p>I'm currently trying to make them understand each other. The message is currently going well between the 1st Arduino to his Zigbee then to the Second Zigbee.</p>\n\n<p>Arduino1&lt;>ZigBee>----------&lt; ZigBee--X-- Arduino2</p>\n\n<p>The problem is: When I try to parse, on Arduino2 the payload of the incoming packet from the Arduino1, the messages are differents.</p>\n\n<p>Since I'm using ZigBee API2, there's a CRC on the message while travelling between ZigBees so (after some investigations) I'm sure that the packet is correct where arriving on the ZigBee2 (if not, packet is dropped).</p>\n\n<p>So the main event now:</p>\n\n<pre><code>memmove(received,xbee_Rx.getData(),24);\n</code></pre>\n\n<p>When I receive the packet</p>\n\n<pre><code>xbee.readPacket();\nif (xbee.getResponse().isAvailable())\n{\n  if (xbee.getResponse().getApiId() == ZB_RX_RESPONSE)\n    {\n        xbee.getResponse().getZBRxResponse(xbee_Rx);\n        memmove(received,xbee_Rx.getData(),24);\n        for (int i = 0; i &lt; 24; i++) {       \n          Serial.print(received[i],HEX);\n        }\n    }\n}\n</code></pre>\n\n<p>While I send this \" 4144000000000000446B3AB4083E8484258 \" in HEX on Arduino1</p>\n\n<p>I received this \" 414400000000000008C201862419B5 \" in HEX on Arduino2</p>\n\n<p>It's an example, datas are always wrong (apart maybe from the two first bytes). The result is kinda random and unusable for me.</p>\n\n<p>I also tried to parse with </p>\n\n<pre><code>for (int i = 0; i &lt; 24; i++) {\n    received[i] = xbee_Rx.getData()[i];\n    Serial.print(received[i],HEX);\n  }\n</code></pre>\n\n<p>but the result was kinda the same.</p>\n\n<p>So my question is: Am I doing the parsing wrong? Is there a problem with the <strong>getData()</strong> function?</p>\n\n<p>Thank you :-)</p>\n\n<p>EDIT:\nafter some research, i've found that if i do </p>\n\n<pre><code>   for (int i = 0; i &lt; sizeof(xbee_Rx.getData()); i++) {  \n    Serial.print(xbee_Rx.getData()[i],HEX);\n  }\n        Serial.println();\n  for (int i = 0; i &lt; sizeof(received); i++) {     \n    Serial.print(received[i],HEX);\n  }\n</code></pre>\n\n<p>datas are not the same.</p>\n\n<p>414400000000000008C201885358C80<br>\n414400000000000008C201862419E6</p>\n\n<p>instead of\n4144000000000000441A6E9B407DDD494258</p>\n\n<p>So, I guess while I'm reading the data is changing and that's maybe why it f**k up datas. So, is there any way to \"freeze\" the Datas before I read them?</p>\n"}, {"tags": ["c++", "windows", "sockets", "unix", "tcp"], "comments": [{"owner": {"reputation": 3565, "user_id": 545430, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1980ea1d7e33e2a5134f6f3e4d3177cd?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/545430/ian"}, "edited": false, "score": 0, "creation_date": 1427903387, "post_id": 29395084, "comment_id": 46966831, "body": "You don&#39;t have to read/write to a TCP port. You will be reading/writing to a windows socket which may be TCP or UDP (at least those are the 2 I know of). You probably got down-voted because your question is too vague to answer specifically and depends upon how you&#39;ve written your original implementation and what your objectives are."}], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 2340002, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a4aa312c9abc52b72636e9151f2d0e92?s=128&d=identicon&r=PG", "display_name": "joaocandre", "link": "https://stackoverflow.com/users/2340002/joaocandre"}, "edited": false, "score": 0, "creation_date": 1427919120, "post_id": 29396534, "comment_id": 46975670, "body": "and what about boost::asio? would it coupare performance-wise?"}, {"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "reply_to_user": {"reputation": 1251, "user_id": 2340002, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a4aa312c9abc52b72636e9151f2d0e92?s=128&d=identicon&r=PG", "display_name": "joaocandre", "link": "https://stackoverflow.com/users/2340002/joaocandre"}, "edited": false, "score": 0, "creation_date": 1427953050, "post_id": 29396534, "comment_id": 46986054, "body": "I would use boost::asio if you are developing cross platform app or if you already using boost stuff."}], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427907338, "creation_date": 1427907338, "answer_id": 29396534, "question_id": 29395084, "link": "https://stackoverflow.com/questions/29395084/porting-unix-sockets-to-windows/29396534#29396534", "title": "Porting Unix Sockets to Windows", "body": "<p>The <strong>Berkeley API</strong> does exist on Windows and is largely compatible with any other Berkeley Sockets implementation.</p>\n\n<p>See the MSDN article \"<strong>Porting Socket Applications to Winsock</strong>\" for information about porting sockets code to Windows.</p>\n"}, {"owner": {"reputation": 617, "user_id": 4371674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452d08dbb13f2f233cc3da7ce593f974?s=128&d=identicon&r=PG&f=1", "display_name": "arghol", "link": "https://stackoverflow.com/users/4371674/arghol"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914218, "last_edit_date": 1427914218, "creation_date": 1427913582, "answer_id": 29398339, "question_id": 29395084, "link": "https://stackoverflow.com/questions/29395084/porting-unix-sockets-to-windows/29398339#29398339", "title": "Porting Unix Sockets to Windows", "body": "<p>One common reason why sockets won't work on Windows is that you need to run <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms742213%28v=vs.85%29.aspx\" rel=\"nofollow\">WSAStartup</a> to initiate the Winsock DLL. Like this:</p>\n\n<pre><code>WORD wVersionRequested;\nWSADATA wsaData;\nint err;\n\n/* Use the MAKEWORD(lowbyte, highbyte) macro declared in Windef.h */\nwVersionRequested = MAKEWORD(2, 2);\n\nerr = WSAStartup(wVersionRequested, &amp;wsaData);\nif (err != 0) {\n    /* Tell the user that we could not find a usable */\n    /* Winsock DLL.                                  */\n    printf(\"WSAStartup failed with error: %d\\n\", err);\n    return 1;\n}\n</code></pre>\n\n<p>Besides that, the Windows Sockets API (WSA) is pretty much as Berkeley sockets.</p>\n"}], "owner": {"reputation": 1251, "user_id": 2340002, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a4aa312c9abc52b72636e9151f2d0e92?s=128&d=identicon&r=PG", "display_name": "joaocandre", "link": "https://stackoverflow.com/users/2340002/joaocandre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "closed_date": 1428802685, "answer_count": 2, "score": -2, "last_activity_date": 1427914218, "creation_date": 1427902792, "question_id": 29395084, "link": "https://stackoverflow.com/questions/29395084/porting-unix-sockets-to-windows", "closed_reason": "Opinion-based", "title": "Porting Unix Sockets to Windows", "body": "<p>I have a simple C++ library that implements unix sockets and it works perfectly fine on Linux systems, however I'm facing the problem of porting part of my code to a Windows platform, which obviously does not support unix sockets. The alternative, as far as I understand, would be to implement TCP sockets, whoose principle is fairly similar (writing/reading from a TCP port instead of a specific file).</p>\n\n<p>Contextually and logistically, would the conversion of the code be simple enough to implement on top of the existing code or I should rewrite the code from scratch?</p>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 2, "creation_date": 1427902791, "post_id": 29395054, "comment_id": 46966489, "body": "down vote for homework smell"}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1427902843, "post_id": 29395054, "comment_id": 46966517, "body": "I&#39;m not sure I understand what you need, look up the docs of <code>std::thread</code> or <code>boost::thread</code>"}, {"owner": {"reputation": 13, "user_id": 4604186, "user_type": "registered", "profile_image": "https://graph.facebook.com/926194697411250/picture?type=large", "display_name": "\u0627\u062d\u0645\u062f \u0628\u0646\u062f\u0627\u0631\u0649", "link": "https://stackoverflow.com/users/4604186/%d8%a7%d8%ad%d9%85%d8%af-%d8%a8%d9%86%d8%af%d8%a7%d8%b1%d9%89"}, "edited": false, "score": 0, "creation_date": 1427905353, "post_id": 29395054, "comment_id": 46968112, "body": "i want to make a thread from process.h to use _begin thread() and sleep"}], "answers": [{"comments": [{"owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "reply_to_user": {"reputation": 13, "user_id": 4604186, "user_type": "registered", "profile_image": "https://graph.facebook.com/926194697411250/picture?type=large", "display_name": "\u0627\u062d\u0645\u062f \u0628\u0646\u062f\u0627\u0631\u0649", "link": "https://stackoverflow.com/users/4604186/%d8%a7%d8%ad%d9%85%d8%af-%d8%a8%d9%86%d8%af%d8%a7%d8%b1%d9%89"}, "edited": false, "score": 0, "creation_date": 1427911304, "post_id": 29396449, "comment_id": 46971363, "body": "Okay. <code>_beginthread</code> was included for compatibility with VC++. Please enable Code::Blocks C++11 support and use std::thread."}], "owner": {"reputation": 2717, "user_id": 4735342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc187ffc011cee6080de2ccacf2896e?s=128&d=identicon&r=PG", "display_name": "Adam Leggett", "link": "https://stackoverflow.com/users/4735342/adam-leggett"}, "is_accepted": true, "score": 0, "last_activity_date": 1427907087, "creation_date": 1427907087, "answer_id": 29396449, "question_id": 29395054, "link": "https://stackoverflow.com/questions/29395054/how-to-make-thread-in-c/29396449#29396449", "title": "how to make thread in c++", "body": "<p><code>_beginthread</code> is a Visual C++ CRT function. I don't recommend using it or <code>process.h</code> for this purpose. Please use std::thread (or if your compiler is older, <code>boost::thread</code>).</p>\n\n<p>If you were using <code>_beginthread</code>, you'd give it tdrow, not tdrow().</p>\n"}], "owner": {"reputation": 13, "user_id": 4604186, "user_type": "registered", "profile_image": "https://graph.facebook.com/926194697411250/picture?type=large", "display_name": "\u0627\u062d\u0645\u062f \u0628\u0646\u062f\u0627\u0631\u0649", "link": "https://stackoverflow.com/users/4604186/%d8%a7%d8%ad%d9%85%d8%af-%d8%a8%d9%86%d8%af%d8%a7%d8%b1%d9%89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 29396449, "answer_count": 1, "score": -7, "last_activity_date": 1427907087, "creation_date": 1427902704, "last_edit_date": 1427903232, "question_id": 29395054, "link": "https://stackoverflow.com/questions/29395054/how-to-make-thread-in-c", "title": "how to make thread in c++", "body": "<p>i need a simple program using <code>sleep()</code> and (<code>_begin thread()</code>) to make a thread on this program </p>\n\n<pre><code>void tdrow(){\n    Sleep(50);\n    move_bare_without_ball(a,b,windowsize);\n    _beginthread(tdrow(),0,0);\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "visual-studio", "build-process"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1427902740, "post_id": 29394949, "comment_id": 46966461, "body": "I&#39;d force everyone to learn python or octave and change those <code>main()</code>s to wrappers to them."}, {"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427903312, "post_id": 29394949, "comment_id": 46966777, "body": "The short answer to your question is: No."}, {"owner": {"reputation": 3565, "user_id": 545430, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1980ea1d7e33e2a5134f6f3e4d3177cd?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/545430/ian"}, "reply_to_user": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1427903991, "post_id": 29394949, "comment_id": 46967245, "body": "@erol yeniaras: Couldn&#39;t the OP just create a solution with 100 different projects that all build their own exe? Each project would be able to handle its own main entry, it would just be a PITA."}, {"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "reply_to_user": {"reputation": 3565, "user_id": 545430, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1980ea1d7e33e2a5134f6f3e4d3177cd?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/545430/ian"}, "edited": false, "score": 1, "creation_date": 1427904889, "post_id": 29394949, "comment_id": 46967811, "body": "@Ian : The short question was: &quot;Is there a way to set up a visual studio solution to build 100 different main files all contained in a single code base, and in a single Visual Studio project?&quot; So John wants not only a single solution but also a &quot;single project&quot; having multiple &quot;main&quot;s."}, {"owner": {"reputation": 3558, "user_id": 389833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fc01b03cab64a85b58f30b70190eafb8?s=128&d=identicon&r=PG", "display_name": "Bukes", "link": "https://stackoverflow.com/users/389833/bukes"}, "edited": false, "score": 0, "creation_date": 1427911791, "post_id": 29394949, "comment_id": 46971615, "body": "I&#39;m wondering if instead of 100 &quot;little&quot; programs, each of which link and call a &quot;main-like&quot; entry point in the larger library, it would be best to build a single &quot;little&quot; application that links to the aforementioned library and allows the application user to select the functionality to invoke via command line switch or a configuration file."}, {"owner": {"reputation": 5428, "user_id": 107122, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a853e46e13bd048ae88fe160b8d4d874?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/107122/john"}, "edited": false, "score": 0, "creation_date": 1427912463, "post_id": 29394949, "comment_id": 46971992, "body": "@Blukes this is an interesting point.  One example of exactly this approach would be git.  I was hoping to avoid having to modify 100 different files to do this....  That said, a judicious awk/sed script could automate all that....  I think you should write that up as an answer."}], "owner": {"reputation": 5428, "user_id": 107122, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a853e46e13bd048ae88fe160b8d4d874?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/107122/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427902359, "creation_date": 1427902359, "question_id": 29394949, "link": "https://stackoverflow.com/questions/29394949/how-to-manage-100-different-main-files", "title": "How to manage 100 different main files?", "body": "<p>Short version of my question:</p>\n\n<p>Is there a way to set up a visual studio solution to build 100 different main files all contained in a single code base, and in a single Visual Studio project?</p>\n\n<p>Long version of my question:</p>\n\n<p>I work with a legacy corporate signal processing library.</p>\n\n<p>The functions in it are clean, well written, highly optimized, and all in ANSI C. (Yes, I know some of those attributes are contradictory)  We have a VS project to build the library, and to publish it to other projects/groups in the company using our corporate code publishing system.</p>\n\n<p>Each \"big\" library entry point has it's own source file.  Each of these \"big\" entry points has a thin main wrapper function defined in this file, with a </p>\n\n<pre><code>#ifdef FOOMAIN\n/* Main for function foo */\nmain() \n{  \n}\n#endif\n</code></pre>\n\n<p>I have just learned that these \"little\" apps are also used by many people around the company.  So, we would like to include these apps in our publishing process.  (At present they are published via a manual back door means.)  We are using VS solutions, and I am curious if we can do this there?</p>\n"}, {"tags": ["c++", "arrays", "string", "initializer-list", "bare"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1427902633, "post_id": 29394937, "comment_id": 46966414, "body": "<code>const int bar[] = { 1, 2, 3 };</code>?"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1427906459, "post_id": 29394937, "comment_id": 46968823, "body": "@NathanOliver Right that obviously works. What I&#39;m asking is how is <code>&quot;This&quot;</code> different from <code>{&#39;T&#39;, &#39;h&#39;, &#39;i&#39;, &#39;s&#39;}</code>? And is there a <code>&quot;This&quot;</code> equivalent for numeric arrays?"}], "answers": [{"comments": [{"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1427906337, "post_id": 29395120, "comment_id": 46968740, "body": "Perhaps you can elaborate? Is a &quot;C String&quot; some kind of hidden special object? Note that you can&#39;t do this in C++ either: <code>const char* foo = {&#39;T&#39;, &#39;h&#39;, &#39;i&#39;, &#39;s&#39;};</code>"}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1427908293, "post_id": 29395120, "comment_id": 46969769, "body": "C string is the same as char*, it&#39;s not a hidden special object. C string is what you get when you call .c_str() from a std::string. The only difference is that char* (or C string) have a this special initialization, you can&#39;t find an analogous version of this initialization in int* for instance.  It&#39;s like doing: <code>char foo[] = {&#39;S&#39;, &#39;t&#39;, &#39;r&#39;, &#39;i&#39;, &#39;n&#39;, &#39;g&#39;}; char* bar = &amp;foo;</code>  In a single, more readable way: <code>char* bar = &quot;String&quot;;</code>"}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1427909641, "post_id": 29395120, "comment_id": 46970439, "body": "Maybe the equivalent version would be something like: <code>int foo[] = {1, 2, 3}; int* bar = &amp;foo;</code>  But then you don&#39;t have the &quot;abbreviated&quot; version: <code>int* bar = &quot;123&quot;; O.O</code>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1427912040, "post_id": 29395120, "comment_id": 46971782, "body": "So it sounds like the answer is, there isn&#39;t a way to do this, I&#39;d have to use <code>int foo[] = {1, 2, 3};</code>"}], "owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "is_accepted": true, "score": 1, "last_activity_date": 1427902889, "creation_date": 1427902889, "answer_id": 29395120, "question_id": 29394937, "link": "https://stackoverflow.com/questions/29394937/array-equivalent-of-bare-string/29395120#29395120", "title": "Array Equivalent of Bare-String", "body": "<p>You can't do this:</p>\n\n<pre><code>const int* bar = {1, 2, 3};\n</code></pre>\n\n<p>But you can do this:</p>\n\n<pre><code>const int bar[] = {1, 2, 3};\n</code></pre>\n\n<p>Reason is that char* in C (or C++) have an added functionality, besides working as a char pointer, it also works as a \"C string\", thus the added initialization method (special for char*):</p>\n\n<pre><code>const char* foo = \"This is bare-string\";\n</code></pre>\n\n<p>Best.</p>\n"}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 29395120, "answer_count": 1, "score": 0, "last_activity_date": 1427902889, "creation_date": 1427902328, "question_id": 29394937, "link": "https://stackoverflow.com/questions/29394937/array-equivalent-of-bare-string", "title": "Array Equivalent of Bare-String", "body": "<p>I can do this without issue:</p>\n\n<pre><code>const char* foo = \"This is a bare-string\";\n</code></pre>\n\n<p>What I want is to be able to do the same thing with an array:</p>\n\n<pre><code>const int* bar = {1, 2, 3};\n</code></pre>\n\n<p>Obviously that code doesn't compile, but is there some kind of array equivalent to the bare-string?</p>\n"}, {"tags": ["c++", "qt", "arduino", "communication"], "answers": [{"owner": {"reputation": 176, "user_id": 4537483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9cb9251267b534db714b0ab506a1bc?s=128&d=identicon&r=PG&f=1", "display_name": "dayoda", "link": "https://stackoverflow.com/users/4537483/dayoda"}, "is_accepted": false, "score": 0, "last_activity_date": 1427903739, "creation_date": 1427903739, "answer_id": 29395409, "question_id": 29394934, "link": "https://stackoverflow.com/questions/29394934/sending-more-than-one-character-from-qt-to-arduino/29395409#29395409", "title": "Sending more than one character from Qt to Arduino", "body": "<p>Without the knowledge of your code for the Arduino I can't help in detail. What you basically have to do is the following:</p>\n\n<ul>\n<li>Send some characters to the serial interface with your Qt application. You can do this with additional calls to <code>serial.write()</code>.</li>\n<li>On the Arduino side, you have to implement a loop (or better catch an event) that checks if serial data is available.</li>\n<li>In that loop (or the caught event) you can then read each character and assign it to a variable.</li>\n</ul>\n\n<p>Have a look at the <a href=\"http://arduino.cc/en/Serial/read\" rel=\"nofollow\">documentation for <code>Serial.read()</code></a> and <a href=\"http://arduino.cc/en/Reference/SerialEvent\" rel=\"nofollow\"><code>serialEvent()</code></a>.</p>\n"}, {"owner": {"reputation": 1, "user_id": 4739033, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/180086accc17082e91f2eb99078c6f7b?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/4739033/jay"}, "is_accepted": false, "score": 0, "last_activity_date": 1427904079, "creation_date": 1427904079, "answer_id": 29395524, "question_id": 29394934, "link": "https://stackoverflow.com/questions/29394934/sending-more-than-one-character-from-qt-to-arduino/29395524#29395524", "title": "Sending more than one character from Qt to Arduino", "body": "<p>The best option to send data is using a protocol which you can define yourself.</p>\n\n<p>It's best to worth with hex.</p>\n\n<p>First define a packet start byte and packet stop byte. For example 0x00 and 0x01.</p>\n\n<p>Have the arduino loop read from serial in. Until it finds 0x00. Once it finds this start byte. Read every character into an array until 0x01 is found which is the stop byte. </p>\n\n<p>Also in case 0x01 is displayed in the data use a escape byte.</p>\n"}, {"owner": {"reputation": 634, "user_id": 4690503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ddcb8abf6771db5855729a7b88bf1004?s=128&d=identicon&r=PG", "display_name": "slux83", "link": "https://stackoverflow.com/users/4690503/slux83"}, "is_accepted": true, "score": 0, "last_activity_date": 1427904569, "creation_date": 1427904569, "answer_id": 29395667, "question_id": 29394934, "link": "https://stackoverflow.com/questions/29394934/sending-more-than-one-character-from-qt-to-arduino/29395667#29395667", "title": "Sending more than one character from Qt to Arduino", "body": "<p>I suppose you are using the QSerialPort class from QT.</p>\n\n<p>As you can see from the documentation (<a href=\"http://doc.qt.io/qt-5/qserialport-members.html\" rel=\"nofollow\">http://doc.qt.io/qt-5/qserialport-members.html</a>), you have three functions overloading the write(...), from the super class</p>\n\n<pre><code>write(const char *, qint64) : qint64\nwrite(const char *) : qint64\nwrite(const QByteArray &amp;) : qint64\n</code></pre>\n\n<p>What you are actually sending with <code>\"'0'\"</code> is actually a string composed by three characters, two single quotes and the number zero.</p>\n\n<p>If you'd like to send more than one character, you have to pack all the characters into a QByteArray.</p>\n\n<p>You'll have to call serial.write() in the following way</p>\n\n<pre><code>QByteArray ba;\nba.append('1')\nba.append('2')\nba.append('3')\netc...\nserial.write(ba)\n</code></pre>\n\n<p>In this way you send data composed by three bytes { '1', '2', '3' }</p>\n"}], "owner": {"reputation": 267, "user_id": 4627876, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/764913763603899/picture?type=large", "display_name": "Med Anis", "link": "https://stackoverflow.com/users/4627876/med-anis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "accepted_answer_id": 29395667, "answer_count": 3, "score": 0, "last_activity_date": 1427905360, "creation_date": 1427902307, "last_edit_date": 1427905360, "question_id": 29394934, "link": "https://stackoverflow.com/questions/29394934/sending-more-than-one-character-from-qt-to-arduino", "title": "Sending more than one character from Qt to Arduino", "body": "<p>First of all: Sorry I'm not very good with english.</p>\n\n<p>I'm making a serial communication between Qt (C++) and an Arduino. First I tried to send one character ('1') to the Arduino to turn the LED on and it worked. Now I want to send more than one character. How can I send more characters so each character will be a variable in the Arduino code?</p>\n\n<p>This is my Qt code for one character:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void MainWindow::on_pushButton_clicked()\n{\n\n    serial.setPortName(\"com17\");\n    serial.setBaudRate(QSerialPort::Baud9600);\n    serial.setDataBits(QSerialPort::Data8);\n    serial.setParity(QSerialPort::NoParity);\n    serial.setStopBits(QSerialPort::OneStop);\n    serial.setFlowControl(QSerialPort::NoFlowControl);\n    serial.open(QIODevice::ReadWrite);\n    serial.write(\"'0'\");\n\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "io"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428058820, "post_id": 29395047, "comment_id": 47031224, "body": "Using templates with input from file is done this way     a = read_file_a();     if (a == 1)   {  do_sth&lt;1&gt;(); }     if (a == 2)   {  do_sth&lt;2&gt;(); }  This code works perfectly well with exception that it gets ugly with multiple template parameters.  I can not immediately see how to implement your advice, could you write a short snippet with 2 template parameters?"}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428322730, "post_id": 29395047, "comment_id": 47103743, "body": "Yes, that should work!  Although by doing that, you are not actually resolving the templates using input from files, you are just selecting which compiled (already resolved) version of the template you&#39;ll use depending on the input... And considering this, there is a more elegant way of doing this, which is using design patterns and polymorphism, for instance, by using a Factory to produce the desired object depending on the input you get from the file, or maybe Decorator:  <a href=\"http://en.wikipedia.org/wiki/Factory_(object-oriented_programming)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Factory_(object-oriented_programming)</a> <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Decorator_pattern</a>"}, {"owner": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428423321, "post_id": 29395047, "comment_id": 47151283, "body": "Thanks for your advice :) I assume that the above patterns use dynamic polymorphism, right? Generally, I was told to fear it as fire since it has a little bit of performance overhead. Do you know how significant this overhead would be in this case, and if it would only happen during the initialization of the class, or during every call?"}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428495862, "post_id": 29395047, "comment_id": 47184575, "body": "I worked 4 years developing softwares to simulate flow of oil, gas and water through 3d porous media (petroleum reservoirs) with gas being able to dissolve in water and oil...in other words, a pretty complicated and hard to solve problem that requires performance... so I have a little experience in this, and my opinion on this matter is: Code it clean, elegant, reusable, easy to understand and modify, don&#39;t worry about performance early on, and when working on performance, focus on changing algorithms (which actually have a BIG impact on performance) and do not worry with petty stuff"}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428496566, "post_id": 29395047, "comment_id": 47185062, "body": "Like variable initializations, inline, reusing bizarrely named variables (because they represent more than one thing). And use polymorphism, it helps you a lot in this case. Though, it is important to know what you&#39;re doing, and to avoid unnecessary copies, use lots of references and pointers (preferably smart pointers) and use smart algorithms and data storage structures."}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428496807, "post_id": 29395047, "comment_id": 47185240, "body": "There are lots of arguments in defense of using clean code, even for performance hungry softwares, but my fav one for your case is that is favors reusability, because you must have spent a lot of time writing a good scientific code, carefully choosing the appropriate algorithm, carefully implementing this algorithm so it actually represents the theory, so it is actually very rewarding when you finish the software and then you see people actually putting your library/software to use."}, {"owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "reply_to_user": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "edited": false, "score": 0, "creation_date": 1428497112, "post_id": 29395047, "comment_id": 47185456, "body": "Just to finish, it doesn&#39;t make sense to worry too much with little things these days, the compiler will simply ignore the &quot;improvements&quot; you do (regarding inline, variable initializations, variable saving, etc) and do whatever it &quot;feels&quot; like doing, and it&#39;ll probably be better than anything you do. So you can relax and write an elegant code, it is a fallacy to say that an elegant code lacks performance."}], "owner": {"reputation": 368, "user_id": 4738414, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PqzVjJNxWpU/AAAAAAAAAAI/AAAAAAAAAGI/KcrWotvC1oY/photo.jpg?sz=128", "display_name": "Aymar Fisherman", "link": "https://stackoverflow.com/users/4738414/aymar-fisherman"}, "is_accepted": true, "score": 2, "last_activity_date": 1427902689, "creation_date": 1427902689, "answer_id": 29395047, "question_id": 29394926, "link": "https://stackoverflow.com/questions/29394926/c-templates-dependent-on-input-from-file/29395047#29395047", "title": "c++ templates dependent on input from file", "body": "<p>You can't implement templates dependent in input from files, since template types are resolved in compilation, not runtime.</p>\n\n<p>The tidy way to do this is by polymorphism (also, the elegant way ;D).</p>\n\n<p>Define a Base class that defines the interface for each implementation, create the Children classes each one with it's own implementation, and then, (using input from file...or not... your call) resolve which algorithm to use by polymorphism.</p>\n\n<p>:) Good luck.</p>\n"}], "owner": {"reputation": 526, "user_id": 3906713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sBosb.jpg?s=128&g=1", "display_name": "Aleksejs Fomins", "link": "https://stackoverflow.com/users/3906713/aleksejs-fomins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 29395047, "answer_count": 1, "score": 1, "last_activity_date": 1427902938, "creation_date": 1427902266, "question_id": 29394926, "link": "https://stackoverflow.com/questions/29394926/c-templates-dependent-on-input-from-file", "title": "c++ templates dependent on input from file", "body": "<p>I have a complicated c++ scientific code, that uses multiple libraries.\nImagine that there are 5 different types of libraries, like linear solver, integration tool, etc. For each library type there are several different libraries that do exactly the same thing, but have different internal implementation. In fact, for every library a wrapper class is implemented, such that all libraries of the same type have exactly the same interface.</p>\n\n<p>Now, I want to give this software to a user. I want user to be able to select the libraries they want to use after the code is already compiled. Currently it is done by means of an input file.</p>\n\n<p>The only problem is coding this in the main program. When coding library selection, I end up using nested ifs, thus explicitly coding every possible combination of the libraries, conditioned on the parameters read from the file. I was wondering if there was a tidy way to do this.</p>\n"}, {"tags": ["c++", "list", "pointers", "structure"], "comments": [{"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1428073680, "post_id": 29394857, "comment_id": 47038708, "body": "Was your problem solved?"}, {"owner": {"reputation": 5, "user_id": 3530289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f1c605a7b7e77f74eb2ab7b4734ed?s=128&d=identicon&r=PG&f=1", "display_name": "mrbarney", "link": "https://stackoverflow.com/users/3530289/mrbarney"}, "reply_to_user": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "edited": false, "score": 0, "creation_date": 1428110606, "post_id": 29394857, "comment_id": 47051662, "body": "Yes, I figured everything out. I greatly appreciate all the help!!"}], "answers": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1427902387, "last_edit_date": 1492087233, "creation_date": 1427902387, "answer_id": 29394955, "question_id": 29394857, "link": "https://stackoverflow.com/questions/29394857/c-sorted-structure-linked-list/29394955#29394955", "title": "C++ Sorted Structure Linked List", "body": "<p>The problem you are having is you are only making one node outside of your while loop and you are reusing it every iteration.  With linked list you need to make a new element every time you insert into the list.</p>\n\n<p><a href=\"https://codereview.stackexchange.com/questions/42958/linkedlist-with-node-implementation\">Here</a> is a linked list implementation that is on code review that you can look at to get some pointers on how linked list work.</p>\n"}, {"owner": {"reputation": 3423, "user_id": 4317639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-51v9SCix-tY/AAAAAAAAAAI/AAAAAAAAAFc/OJYPEymZCVE/photo.jpg?sz=128", "display_name": "erol yeniaras", "link": "https://stackoverflow.com/users/4317639/erol-yeniaras"}, "is_accepted": true, "score": 0, "last_activity_date": 1427904669, "creation_date": 1427904669, "answer_id": 29395695, "question_id": 29394857, "link": "https://stackoverflow.com/questions/29394857/c-sorted-structure-linked-list/29395695#29395695", "title": "C++ Sorted Structure Linked List", "body": "<p>As Nathan mentioned you need to allocate additional memory for each data entry you create and add to your linked list. If you need further improvement here is one:\nYou don`t actually need an additional '&amp;' sign when passing a pointer to a function since it is already an address for the head data. Try:</p>\n\n<pre><code>account * head = NULL;\n\nifstream fin;\nfin.open(\"record.txt\");\nwhile (fin &gt;&gt; accountNumberCheck)\n{\n    fin &gt;&gt; firstNameCheck;\n    fin &gt;&gt; lastNameCheck;\n    fin &gt;&gt; balanceCheck;\n\n    account * currentAccount = new account; // Allocate a new memory location for each data entry in the heap\n    currentAccount-&gt;accountNumber = accountNumberCheck;\n    currentAccount-&gt;firstName = firstNameCheck;\n    currentAccount-&gt;lastName = lastNameCheck;\n    currentAccount-&gt;balance = balanceCheck;\n    currentAccount-&gt;next = NULL;\n    insertAccountByAccountNumber(head, currentAccount);\n}\n\nshowAccounts(head);\n\n\nfin.close();\n</code></pre>\n\n<p>and of course the function header will be:</p>\n\n<p>void insertAccountByAccountNumber(account* H, account* n);</p>\n"}], "owner": {"reputation": 5, "user_id": 3530289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f1c605a7b7e77f74eb2ab7b4734ed?s=128&d=identicon&r=PG&f=1", "display_name": "mrbarney", "link": "https://stackoverflow.com/users/3530289/mrbarney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 29395695, "answer_count": 2, "score": 0, "last_activity_date": 1427904669, "creation_date": 1427902073, "question_id": 29394857, "link": "https://stackoverflow.com/questions/29394857/c-sorted-structure-linked-list", "title": "C++ Sorted Structure Linked List", "body": "<p>I am working on a project where I import the data from a text file into a linked list in order, then output the linked list. However, whenever I output the linked list, I always get the last entry in the text file repeating over and over.</p>\n\n<p>Here is the structure:</p>\n\n<pre><code>struct account\n{\n    int accountNumber;\n    double balance;\n    string firstName;\n    string lastName;\n\n    account * next;\n};\n</code></pre>\n\n<p>This is my function to add the node in the list:</p>\n\n<pre><code>void insertAccountByAccountNumber(account * &amp; H, account * n)\n{\n    if (H == NULL)\n    {\n        H = n;\n        return;\n    }\n    if (H-&gt;accountNumber &gt;= n-&gt;accountNumber)\n    {\n        n-&gt;next = H;\n        H = n;\n        return;\n    }\n    account * t1, *t2;\n    t1 = H;\n    t2 = H-&gt;next;\n    while (t2 != NULL)\n    {\n        if (t2-&gt;accountNumber &lt; n-&gt;accountNumber)\n        {\n            t1 = t2;\n            t2 = t2-&gt;next;\n\n        }\n        else\n        {\n            n-&gt;next = t2;\n            t1-&gt;next = n;\n            return;\n        }\n        t1-&gt;next = n;\n    }\n}\n</code></pre>\n\n<p>And here is my code to create the node from the text file:</p>\n\n<pre><code>account * head = NULL;\n\naccount * currentAccount = new account;\n\nifstream fin;\nfin.open(\"record.txt\");\nwhile (fin &gt;&gt; accountNumberCheck)\n{\n    fin &gt;&gt; firstNameCheck;\n    fin &gt;&gt; lastNameCheck;\n    fin &gt;&gt; balanceCheck;\n    currentAccount-&gt;accountNumber = accountNumberCheck;\n    currentAccount-&gt;firstName = firstNameCheck;\n    currentAccount-&gt;lastName = lastNameCheck;\n    currentAccount-&gt;balance = balanceCheck;\n    currentAccount-&gt;next = NULL;\n    insertAccountByAccountNumber(* &amp; head, currentAccount);\n}\n\nshowAccounts(head);\n\n\nfin.close();\n</code></pre>\n"}, {"tags": ["c++", "makefile", "travis-ci"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427902193, "post_id": 29394843, "comment_id": 46966153, "body": "Assuming you parallelize the test doesn&#39;t this mean they can run on different hosts? Assuming they run on different hosts doesn&#39;t that <i>require</i> the installation to be done on each one?"}, {"owner": {"reputation": 11, "user_id": 4107519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8TEV.jpg?s=128&g=1", "display_name": "Samvel", "link": "https://stackoverflow.com/users/4107519/samvel"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427902491, "post_id": 29394843, "comment_id": 46966326, "body": "Sure thing, assuming they are run on different hosts. Travis documentation says that jobs running for more than 50 mins will be killed. The status page shows total amount of time spent, e.g.: dT_test1 + dT_test2. Does Travis timeout jobs based on total time or individual test dT_i?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427902607, "post_id": 29394843, "comment_id": 46966401, "body": "Are you indicating that even for the same host the install runs twice? I&#39;m assuming each job runs in its own environment of some sort so they might very well be different hosts as far as the test jobs are concerned. (I&#39;ll point out I know nothing about how travis actually works I&#39;m just going on general principals here.) Where does timing jobs out come into play here at all?"}, {"owner": {"reputation": 11, "user_id": 4107519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8TEV.jpg?s=128&g=1", "display_name": "Samvel", "link": "https://stackoverflow.com/users/4107519/samvel"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427902865, "post_id": 29394843, "comment_id": 46966534, "body": "That&#39;s the primary question: if test are run independently on the same host (parallel processes) then I do not see a reason to run the install step twice. However, if (as you said) they run on different hosts or different virtual machines, etc. then obviously the install step needs to be run twice. The timing is important to speed up testing. For example, given a node with N cores I can run <code>make -j N -C path1</code> which dramatically speeds up test builds. Moreover I can test path1 and path2 in parallel but it needs to be done with two separate processes instead of environments."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427903028, "post_id": 29394843, "comment_id": 46966639, "body": "Ok, so the timing thing is a different question entirely then. And no, your assumption is faulty. Teaching the CI system that two jobs running (in parallel) on the same host can share the same install requires more work than simply treating two parallel jobs on the same host <i>exactly</i> the same as you treat two jobs running in parallel on different hosts. Each job needs to run <i>as if</i> it is running on its own to function. Building support for short-circuiting is extra (potentially fragile) work that otherwise isn&#39;t necessary. But since I&#39;m just speculating I&#39;ll shut up now."}, {"owner": {"reputation": 11, "user_id": 4107519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8TEV.jpg?s=128&g=1", "display_name": "Samvel", "link": "https://stackoverflow.com/users/4107519/samvel"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1427904646, "post_id": 29394843, "comment_id": 46967665, "body": "Thanks for sharing thoughts. Most likely it is implemented exactly the way you describe. Otherwise the system would not run the install twice. I see no other logical explanation to this."}], "owner": {"reputation": 11, "user_id": 4107519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8TEV.jpg?s=128&g=1", "display_name": "Samvel", "link": "https://stackoverflow.com/users/4107519/samvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427902046, "creation_date": 1427902046, "question_id": 29394843, "link": "https://stackoverflow.com/questions/29394843/single-make-and-parallel-tests-in-travis", "title": "Single make and parallel tests in Travis", "body": "<p>I need to run once:</p>\n\n<pre><code>autoreconf -i\nmkdir build &amp;&amp; cd build\n../configure\nmake\n</code></pre>\n\n<p>and then run tests in different folders:</p>\n\n<pre><code>make check -C path1\nmake check -C path2\n</code></pre>\n\n<p>The tests can be parallelized with Matrix feature:</p>\n\n<pre><code>language:\n    - cpp\ncompiler:\n    - clang\nenv:\n    - TEST_PATH=path1\n    - TEST_PATH=path2\ninstall:\n    - autoreconf --install\n    - mkdir build &amp;&amp; cd build\n    - ../configure\n    - make\nscript:\n    - make check -C $TEST_PATH\n</code></pre>\n\n<p>The problem is: the <em>install</em> step runs <strong>twice</strong>, e.g.:</p>\n\n<ul>\n<li>install + test path1</li>\n<li>install + test path2</li>\n</ul>\n\n<p>Is there a way to achieve something like:</p>\n\n<ul>\n<li>install (runs once)</li>\n<li><p>run 2 jobs with tests (the <em>script</em> part of the Travis config):</p>\n\n<ul>\n<li>test path1</li>\n<li>test path2</li>\n</ul></li>\n</ul>\n"}, {"tags": ["c++", "macros"], "comments": [{"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 5, "creation_date": 1427901887, "post_id": 29394753, "comment_id": 46965942, "body": "what about { ...code... } ?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1427901947, "post_id": 29394753, "comment_id": 46965993, "body": "yes, what about <code>{this is a scope}</code> ? Can you explain why you want to use a macro?"}, {"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427902026, "post_id": 29394753, "comment_id": 46966035, "body": "yup, but less readable for one line <code>{ std::unique_lock lock(mutex); do_some(); }</code>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1427902102, "post_id": 29394753, "comment_id": 46966090, "body": "@disable13 I generally don&#39;t trust macros, they make the code less understandable <code>{ ... }</code> is the far better idiom."}, {"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 0, "creation_date": 1427902432, "post_id": 29394753, "comment_id": 46966293, "body": "nothing stops you from placing { and } on separate lines"}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1427902509, "post_id": 29394753, "comment_id": 46966337, "body": "I do use macros, but why not just write <code>do {...} while(0)</code> ?"}, {"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "reply_to_user": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 0, "creation_date": 1427903455, "post_id": 29394753, "comment_id": 46966879, "body": "@Creris codestyle and git hooks  (;"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427963970, "post_id": 29395958, "comment_id": 46990855, "body": "this macro can&#39;t redefine by <code>if (...)</code>"}, {"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427964081, "post_id": 29395958, "comment_id": 46990911, "body": "but lambda is great and better idea!"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "reply_to_user": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427979228, "post_id": 29395958, "comment_id": 46999587, "body": "I am unsure what you mean by &quot;redefine by if&quot;, and what it is about the macro that prevents you from making its action conditional."}, {"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427980893, "post_id": 29395958, "comment_id": 47000668, "body": "for example using this macro like decorator for function. <code>void do_some() SCOPE_GUARD() { do_also_some(); }</code>"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "reply_to_user": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427981602, "post_id": 29395958, "comment_id": 47001116, "body": "Wouldn&#39;t your for loop version also fail?"}], "owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "is_accepted": true, "score": 3, "last_activity_date": 1427905410, "creation_date": 1427905410, "answer_id": 29395958, "question_id": 29394753, "link": "https://stackoverflow.com/questions/29394753/best-c-macro-for-creating-a-new-scope/29395958#29395958", "title": "Best C++ macro for creating a new scope", "body": "<p>You can do an awful lot with C++ templates and lambda expressions. It might be worthwhile to explore using them. For example, instead of using the <code>SCOPE_GUARD</code> macro, you could do something like this:</p>\n\n<pre><code>template &lt;typename G, typename F, typename... A&gt;\ninline auto scope_guard(G&amp;&amp;, F&amp;&amp; f, A&amp;&amp;... args)\n-&gt; decltype(std::forward&lt;F&gt;(f)(std::forward&lt;A&gt;(args)...))\n{\n    return std::forward&lt;F&gt;(f)(std::forward&lt;A&gt;(args)...);\n}\n\n    scope_guard(std::unique_lock&lt;std::mutex&gt;(m), do_something);\n    scope_guard(std::unique_lock&lt;std::mutex&gt;(m), [&amp;]() {\n        do_something1();\n        do_something2();\n        do_something3();\n    });\n</code></pre>\n\n<p>If I were using straight macros, mine would probably look something like this:</p>\n\n<pre><code>#define UNWRAP(...)  __VA_ARGS__\n#define SCOPE_GUARD(X, Y) do { X; UNWRAP Y; } while (0)\n\n    SCOPE_GUARD(std::unique_lock&lt;std::mutex&gt; lock(m), (do_something()));\n    SCOPE_GUARD(std::unique_lock&lt;std::mutex&gt; lock(m), (\n        do_something1();\n        do_something2();\n        do_something3();\n    ));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427963915, "post_id": 29396836, "comment_id": 46990833, "body": "this macro woks only if <code>operator bool()</code> overloaded. if I using class without overloading? <code>for (FOO f; true; &#47;* nothing *&#47;)</code>. May be better <code>for(std::unique_lock&lt;FOO&gt; f = new FOO(); f.get() != nullprt; f.reset(nullptr))</code>"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "edited": false, "score": 0, "creation_date": 1427963992, "post_id": 29396836, "comment_id": 46990864, "body": "Check the documentation for unique_lock. Operator bool is mandated by the standard. The macro is correct."}], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 1, "last_activity_date": 1427908380, "creation_date": 1427908380, "answer_id": 29396836, "question_id": 29394753, "link": "https://stackoverflow.com/questions/29394753/best-c-macro-for-creating-a-new-scope/29396836#29396836", "title": "Best C++ macro for creating a new scope", "body": "<p>I think this is what you're looking for:</p>\n\n<pre><code>#define PROTECTED_BY(m) for(std::unique_lock&lt;decltype(m)&gt; _lock_(m) ; _lock_ ; _lock_.unlock())\n</code></pre>\n\n<p>complete use case:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;mutex&gt;\n\n#define PROTECTED_BY(m) for(std::unique_lock&lt;decltype(m)&gt; _lock_(m) ; _lock_ ; _lock_.unlock())\n\nusing namespace std;\n\nint main()\n{\n    mutex m;\n\n    PROTECTED_BY(m)\n    {\n        cout &lt;&lt; \"Hello World\" &lt;&lt; endl; \n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3041550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365414a79a1344efd9422c927632b55f?s=128&d=identicon&r=PG", "display_name": "disable13", "link": "https://stackoverflow.com/users/3041550/disable13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 29395958, "answer_count": 2, "score": 1, "last_activity_date": 1427908380, "creation_date": 1427901798, "last_edit_date": 1427902326, "question_id": 29394753, "link": "https://stackoverflow.com/questions/29394753/best-c-macro-for-creating-a-new-scope", "title": "Best C++ macro for creating a new scope", "body": "<p>I have a macro</p>\n\n<pre><code>#define SCOPE_GUARD(GUARD, NAME,  ...) \\\n   for(bool __once = true; __once; /* nothing */) \\\n     for(GUARD NAME (__VA_ARGS__); __once; __once = false)\n</code></pre>\n\n<p>using something like this:</p>\n\n<pre><code>SCOPE_GUARD(std::unique_lock, lock, (some_mutex))\n  do_some();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>SCOPE_GUARD(std::unique_ptr&lt;char&gt;, buff, (new char[BUFFER_SIZE])) {\n  *buff.get() = 0;\n  GetSomeDescription(buff.get(), BUFFER_SIZE);\n  Log(buff.get);\n}\n</code></pre>\n\n<p>Are there similar(better) implementation of the macro, which is optimized by multiple compilers correctly.</p>\n\n<p>P.S. Macro should be one, without finally macro like <code>BOOST_SCOPE_EXIT_END</code> <em>(can redefine by <code>if (...)</code>)</em>.</p>\n\n<p><strong>EDIT</strong>\nSimple scoupe in using codestyle is very huge.</p>\n\n<pre><code>{\n   std::unique_lock lock (some_mutex);\n   do_some();\n}\n</code></pre>\n\n<p>but I want using some like this</p>\n\n<pre><code>SCOPE_GUARD(std::unique_lock, lock, (some_mutex)) do_some();\n</code></pre>\n"}, {"tags": ["c#", "c++", "video", "aforge"], "comments": [{"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1427902038, "post_id": 29394669, "comment_id": 46966046, "body": "It&#39;s not in your code, it&#39;s in AForge.Video.FFMPEG.dll.  Is your size.width or height zero?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1427902064, "post_id": 29394669, "comment_id": 46966065, "body": "Sounds like you are sending bad data to the library."}, {"owner": {"reputation": 131, "user_id": 3088260, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3c50ae045b24fdbeee918ce74182355?s=128&d=identicon&r=PG&f=1", "display_name": "user3088260", "link": "https://stackoverflow.com/users/3088260/user3088260"}, "reply_to_user": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1427902383, "post_id": 29394669, "comment_id": 46966267, "body": "@robinson I changed size.width and size.height to 1280 and 720 respectively. Now it&#39;s throwing an access voilation exception.."}], "owner": {"reputation": 131, "user_id": 3088260, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3c50ae045b24fdbeee918ce74182355?s=128&d=identicon&r=PG&f=1", "display_name": "user3088260", "link": "https://stackoverflow.com/users/3088260/user3088260"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 692, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427901928, "creation_date": 1427901584, "last_edit_date": 1427901928, "question_id": 29394669, "link": "https://stackoverflow.com/questions/29394669/system-dividebyzeroexception-without-division", "title": "System.DivideByZeroException without division", "body": "<p>I am using this code to capture short bursts of video from a connected camera:</p>\n\n<pre><code>private void Show() {\n    if (videoDevice != null) {\n        videoDevice.VideoResolution = capabilities[comboBox1.SelectedIndex];\n        size = ((Size) comboBox1.SelectedItem);\n        videoDevice.NewFrame += new AForge.Video.NewFrameEventHandler(Frame);\n        videoDevice.Start();\n    }\n}\nprivate void Frame(object sender, NewFrameEventArgs e) {\n    if (count &gt; 7 &amp;&amp; !motion) {\n        urame = 0;\n        b = ((Bitmap) e.Frame.Clone());\n        if (detector.ProcessFrame(b) &gt; 0.02) {\n            motion = true;\n            writer.Open(@\"C:\\Users\\Home\\Documents\\Visual Studio 2013\\Projects\\CCTV\\CCTV\\bin\\wesdgzufjw3.mp4\", size.Width, size.Height, 30, VideoCodec.MSMPEG4v3);\n        }\n    } \n    else if (motion) {\n        b = ((Bitmap) e.Frame.Clone());\n        writer.WriteVideoFrame(b);\n        if (detector.ProcessFrame(b) &lt; 0.02) {\n            motion = false;\n            writer.Close();\n        }\n    }\n    count++;\n}\n</code></pre>\n\n<p>But for some reason, when motion is detected, visual studio throws an error saying that:</p>\n\n<blockquote>\n  <p>\"An exception of type 'System.DivideByZeroException' occurred in AForge.Video.FFMPEG.dll but was not handled in user code\"</p>\n</blockquote>\n\n<p>I have checked my code for \"bad divisions\" and out of desperation I've removed <strong>all</strong> arithmetic from my code. A friend of mine used the exact same lib - AForge.Video.FFMPEG - in one of his projects a few weeks ago and didn't encounter any error like this.  </p>\n\n<p>The problem is that the error doesn't tell what could be wrong.. division could be in the lib, in a method I've used, heck, even ToString() must use some sort of division..</p>\n\n<p><strong>Note:</strong> I've added a tag for c++ because 1) Aforge is mostly written in c++ and 2) a few minutes before this error I got an error saying that the VS2013 C# debugger can't debug C++ and that an error had occurred in C++</p>\n"}, {"tags": ["python", "c++", "swig", "cython", "topaz-signatures"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4738670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb8fa20c8e7d21bf02d67676246796e?s=128&d=identicon&r=PG&f=1", "display_name": "kjlaw89", "link": "https://stackoverflow.com/users/4738670/kjlaw89"}, "edited": false, "score": 0, "creation_date": 1429639221, "post_id": 29741498, "comment_id": 47689639, "body": "Thanks, that got me going in what I think is a better direction. Now when it tries to compile into a Python modules I&#39;m getting a bunch of linking errors. I  need to link against a few .Lib files, but I can&#39;t find a conclusive answer on if that&#39;s even possible..."}], "owner": {"reputation": 10112, "user_id": 442433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2945509ecdd9a935121b4d9b1267bd69?s=128&d=identicon&r=PG", "display_name": "Giorgos Dimtsas", "link": "https://stackoverflow.com/users/442433/giorgos-dimtsas"}, "is_accepted": false, "score": 1, "last_activity_date": 1429514322, "creation_date": 1429514322, "answer_id": 29741498, "question_id": 29394563, "link": "https://stackoverflow.com/questions/29394563/wrapping-c-c-library-with-swig/29741498#29741498", "title": "Wrapping C/C++ Library with SWIG", "body": "<p>From paragraph 3.4 of the SWIG documentation:</p>\n\n<blockquote>\n  <p>A common problem when using SWIG on Windows are the Microsoft function\n  calling conventions which are not in the C++ standard. SWIG parses ISO\n  C/C++ so cannot deal with proprietary conventions such as\n  __declspec(dllimport), __stdcall etc. There is a Windows interface file, windows.i, to deal with these calling conventions though. The\n  file also contains typemaps for handling commonly used Windows\n  specific types such as __int64, BOOL, DWORD etc. Include it like you\n  would any other interface file, for example:</p>\n\n<pre><code>%include &lt;windows.i&gt;\n\n__declspec(dllexport) ULONG __stdcall foo(DWORD, __int32);\n</code></pre>\n</blockquote>\n\n<p>Adding <code>%include &lt;windows.i&gt;</code> before any windows specific declarations will probably sovle your problem.</p>\n"}], "owner": {"reputation": 61, "user_id": 4738670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb8fa20c8e7d21bf02d67676246796e?s=128&d=identicon&r=PG&f=1", "display_name": "kjlaw89", "link": "https://stackoverflow.com/users/4738670/kjlaw89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429639007, "creation_date": 1427901301, "last_edit_date": 1429639007, "question_id": 29394563, "link": "https://stackoverflow.com/questions/29394563/wrapping-c-c-library-with-swig", "title": "Wrapping C/C++ Library with SWIG", "body": "<p>I've got a project that I'm working on that requires the use of a Topaz Signature Capture pad. Our product currently uses the ActiveX control provided by Topaz for collecting signatures on a website, but we're trying to move to a desktop application powered by Python. Python will allow us to branch out into multiple OS's without too much extra work.</p>\n\n<p>Topaz provides a 'C' library (<a href=\"http://www.topazsystems.com/sigpluslibrary.html\" rel=\"nofollow\">http://www.topazsystems.com/sigpluslibrary.html</a>) for interfacing with their devices. I believe I've determined that it is actually C++ (uses classes and other C++ constructs). I've attempted to create a wrapper for Python using SWIG and Cython, but I have not had a whole lot of luck.</p>\n\n<p>My directory structure for SWIG is this:</p>\n\n<ul>\n<li>SigSwig\n<ul>\n<li>Includes (contains all of the headers from Topaz Shared C Library)</li>\n<li>setup.py</li>\n<li>SigLib.i</li>\n<li>Signature.i</li>\n<li>etc...</li>\n</ul></li>\n</ul>\n\n<h1>Setup.py</h1>\n\n<pre class=\"lang-python prettyprint-override\"><code># setup.py\nimport distutils\nfrom distutils.core import setup, Extension\n\nmodule = Extension(\n                        \"_SigLib\", \n                        [\"SigLib.i\"],\n                        swig_opts=['-c++'],\n                        language='c++',\n                        library_dirs=['c:\\Python27'],\n                        libraries=[\"SigLib\", \"hid\", \"LibJpeg\", \"libtiff\", \"WINTAB32\", \"WNTAB32X\", \"zlib\"],\n                        extra_options=[\"SigLib.lib\", \"hid.lib\", \"LibJpeg.lib\", \"libtiff.lib\", \"WINTAB32.LIB\", \"WNTAB32X.LIB\", \"zlib.lib\"]\n                    )\n\nsetup(\n      name = \"Signature Capture\",\n      version = \"1.0\",\n      ext_modules = [module]\n)\n</code></pre>\n\n<h1>SigLib.i</h1>\n\n<pre class=\"lang-c prettyprint-override\"><code>%module SigLib\n%{\n#define SIGAPI \n#include \"Include\\SigLib.h\"\n%}\n\n%include TabletParameters.i\n%include TabletInterface.i\n%include LCDInterface.i\n%include Signature.i\n</code></pre>\n\n<h1>Signature.i</h1>\n\n<pre class=\"lang-c prettyprint-override\"><code>%module Signature\n%include \"Include\\Signature.h\"\n</code></pre>\n\n<p>I'm having a hard time following the SWIG examples, but from what I can tell this should be okay. SigLib.i loads in the main header (SigLib.h), which includes the declarations for SIGAPI and all of the main include files. It doesn't include Signature.h (or any of the other headers in the other interface files) since it doesn't follow all headers. Then it loads in additional interface files. Signature.i, and all of the other interface files just include a reference to the header to parse.</p>\n\n<p>I've tried a few different ways and this seems to have been the best so far. However, when I execute setup.py, I get these errors:</p>\n\n<pre><code>SigLib_wrap.cpp(3417) : error C2065: 'temp' : undeclared identifier\nSigLib_wrap.cpp(3418) : error C2065: 'temp' : undeclared identifier\nSigLib_wrap.cpp(3418) : error C2059: syntax error : '*'\nSigLib_wrap.cpp(3419) : error C2513: 'TabletParameters' : no variable declared before '='\nSigLib_wrap.cpp(3419) : error C2065: 'temp' : undeclared identifier\nSigLib_wrap.cpp(3420) : error C2065: 'temp' : undeclared identifier\nSigLib_wrap.cpp(3420) : error C2541: 'delete' : cannot delete objects that are not pointers\nSigLib_wrap.cpp(3432) : error C2275: 'TabletParameters' : illegal use of this type as an expression c:\\users\\kevin\\downloads\\sigpython\\include\\TabletParameters.h(18) : see declaration of 'TabletParameters'\n</code></pre>\n\n<p>Looking at the generated code, most of the errors contain SIGAPI, like this:</p>\n\n<pre><code>SIGAPI * temp;\n</code></pre>\n\n<p>SIGAPI appears to be a <code>#define</code> the occurs in the SigLib.h file and is used in class definitions like:</p>\n\n<pre><code>class SIGAPI Signature\n</code></pre>\n\n<p>SigLib.h definition:</p>\n\n<pre><code>#ifdef  SIGLIBDLL\n#define SIGAPI  __declspec( dllexport ) \n#else\n#define SIGAPI\n#endif\n</code></pre>\n\n<p>I've tried hours of Googling trying to find a solution to this, but I haven't had any luck. I haven't been able to find anything in the SWIG documentation on it, but I'm honestly not really sure what to look for.</p>\n\n<p>Edit:</p>\n\n<p>Made the change Giorgos suggested in addition to loading in extra headers. It appears to generate the entire wrap file now with everything needed, but gets errors linking to libraries.</p>\n\n<h1>SigLib.i</h1>\n\n<pre class=\"lang-c prettyprint-override\"><code>%module SigLib\n%{\n    #include \"Include\\SigLib.h\"\n%}\n\n\n%include &lt;windows.i&gt;\n%include \"Include\\SigLib.h\"\n%include \"Include\\SigPoint.h\"\n%include \"Include\\SigStroke.h\"\n%include \"Include\\TabletParameters.h\"\n%include \"Include\\CircularBuffer.h\"\n%include \"Include\\SerialIoIF.h\"\n%include \"Include\\HidIoIF.h\"\n%include \"Include\\UsbIoIF.h\"\n%include \"Include\\SocketIoIF.h\"\n%include \"Include\\NewSocketIoIF.h\"\n%include \"Include\\SimIoIF.h\"\n%include \"Include\\ProcessSerialData.h\"\n%include \"Include\\CaptureSig.h\"\n%include \"Include\\TabletPoint.h\"\n%include \"Include\\PointBuffer.h\"\n%include \"Include\\TabletInterface.h\"\n%include \"Include\\TabletSampleList.h\"\n%include \"Include\\SigWindowType.h\"\n%include \"Include\\SigFile.h\"\n%include \"Include\\md5.h\"\n%include \"Include\\Utilities.h\"\n%include \"Include\\HotSpot.h\"\n%include \"Include\\HotSpotList.h\"\n%include \"Include\\BitmapCharacter.h\"\n%include \"Include\\CharacterMap.h\"\n%include \"Include\\TiffImage.h\"\n%include \"Include\\LCDGraphicBitmap.h\"\n%include \"Include\\LCDInterface.h\"\n</code></pre>\n\n<p>I did that and changed up how I loaded everything in. Now it appears to be compiling, but I'm getting many linking errors like these:</p>\n\n<pre><code>SigLib_wrap.obj : error LNK2019: unresolved external symbol \"public: int __thiscall TabletInterface::PointsInPointBuffer(void)\" (?PointsInPointBuffer@TabletInterface@@QAEHXZ) referenced in function __wrap_TabletInterface_PointsInPointBuffer\n\nSigLib_wrap.obj : error LNK2019: unresolved external symbol \"public: void __thiscall TabletInterface::InitProcessInputData(void)\" (?InitProcessInputData@TabletInterface@@QAEXXZ) referenced in function __wrap_TabletInterface_InitProcessInputData\n\nSigLib_wrap.obj : error LNK2019: unresolved external symbol \"public: void __thiscall TabletInterface::CloseProcessInputData(void)\" (?CloseProcessInputData@TabletInterface@@QAEXXZ) referenced in function __wrap_TabletInterface_CloseProcessInputData\n</code></pre>\n\n<p>I need to link against SigLib.lib and a few other lib files, but I'm not sure how to do that from the setup.py file I have and if that will even work for Python.</p>\n"}, {"tags": ["python", "c++", "list", "vector"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427901524, "post_id": 29394562, "comment_id": 46965701, "body": "You can do it with a <a href=\"http://en.cppreference.com/w/cpp/container/list\" rel=\"nofollow noreferrer\"><code>std::list</code></a>, using the <a href=\"http://en.cppreference.com/w/cpp/container/list/splice\" rel=\"nofollow noreferrer\"><code>splice</code></a> function."}], "answers": [{"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "is_accepted": true, "score": 3, "last_activity_date": 1427902268, "last_edit_date": 1427902268, "creation_date": 1427901637, "answer_id": 29394694, "question_id": 29394562, "link": "https://stackoverflow.com/questions/29394562/what-is-the-equivalent-of-pythons-listx-in-c/29394694#29394694", "title": "What is the equivalent of Python&#39;s list[:x] in C++?", "body": "<p>There are several ways:</p>\n\n<p>1) Create a vector <code>v</code> consisting of first <code>x</code> elements as:</p>\n\n<pre><code> std::vector&lt;T&gt;  v { begin(L), begin(L) + x };\n</code></pre>\n\n<p>2) Pass first <code>x</code> elements to a function, as pair of iterators:</p>\n\n<pre><code> f(begin(L), begin(L) + x);\n</code></pre>\n\n<p>where <code>f</code> accepts two iterators as arguments &mdash; explore the <a href=\"http://en.cppreference.com/w/cpp/algorithm\" rel=\"nofollow\">standard algorithms</a> from <code>&lt;algorithm&gt;</code>, as almost all of them work on pair of iterators.</p>\n\n<p>Depending on your use case, you could use any of them.</p>\n"}, {"owner": {"reputation": 3864, "user_id": 103054, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/85c80d04f1fc401aa57b617340da5a36?s=128&d=identicon&r=PG", "display_name": "csiz", "link": "https://stackoverflow.com/users/103054/csiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1497892681, "last_edit_date": 1497892681, "creation_date": 1497891944, "answer_id": 44636209, "question_id": 29394562, "link": "https://stackoverflow.com/questions/29394562/what-is-the-equivalent-of-pythons-listx-in-c/44636209#44636209", "title": "What is the equivalent of Python&#39;s list[:x] in C++?", "body": "<p>If you're willing to use boost then boost range has <a href=\"http://www.boost.org/doc/libs/1_60_0/libs/range/doc/html/range/reference/adaptors/reference/sliced.html\" rel=\"nofollow noreferrer\">boost::slice</a>; which is quite similar to python:</p>\n\n<pre><code>auto first_x = L | sliced(0, x);\n</code></pre>\n\n<p>Also see the full example on their documentation page:</p>\n\n<pre><code>#include &lt;boost/range/adaptor/sliced.hpp&gt;\n#include &lt;boost/range/algorithm/copy.hpp&gt;\n#include &lt;boost/assign.hpp&gt;\n#include &lt;iterator&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main(int argc, const char* argv[])\n{\n    using namespace boost::adaptors;\n    using namespace boost::assign;\n\n    std::vector&lt;int&gt; input;\n    input += 1,2,3,4,5,6,7,8,9;\n\n    boost::copy(\n        input | sliced(2, 5),\n        std::ostream_iterator&lt;int&gt;(std::cout, \",\"));\n\n    return 0;\n}\n\n// 3,4,5,\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 3745322, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/01df857ca4db61a7774ac3d1f2d477a8?s=128&d=identicon&r=PG", "display_name": "user51819", "link": "https://stackoverflow.com/users/3745322/user51819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 29394694, "answer_count": 2, "score": 0, "last_activity_date": 1497892681, "creation_date": 1427901300, "question_id": 29394562, "link": "https://stackoverflow.com/questions/29394562/what-is-the-equivalent-of-pythons-listx-in-c", "title": "What is the equivalent of Python&#39;s list[:x] in C++?", "body": "<p>In Python, if I have some list L and I want the first x elements of it, I call L[:x].</p>\n\n<p>In C++, I use vectors instead, but I don't know of any easy way to invoke the first x elements of the vector.</p>\n"}, {"tags": ["c++", "xcode", "swift", "iostream"], "comments": [{"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 1, "creation_date": 1427902937, "post_id": 29394545, "comment_id": 46966581, "body": "Those files are Objective C++, not Objective C. I don&#39;t think swift bridging works with Objective C++ headers."}, {"owner": {"reputation": 185, "user_id": 4207272, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/41UAd.jpg?s=128&g=1", "display_name": "Hannes Van den Berghe", "link": "https://stackoverflow.com/users/4207272/hannes-van-den-berghe"}, "reply_to_user": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 1, "creation_date": 1427920554, "post_id": 29394545, "comment_id": 46976418, "body": "Is there any chance that i could import those objective C++ files?"}], "answers": [{"comments": [{"owner": {"reputation": 3717, "user_id": 98497, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/62cc44f1f1c0bdcb82cf69c22be21671?s=128&d=identicon&r=PG", "display_name": "juhan_h", "link": "https://stackoverflow.com/users/98497/juhan-h"}, "edited": false, "score": 0, "creation_date": 1471329762, "post_id": 29401182, "comment_id": 65290354, "body": "Thanks, after a lot of cursing and DuckDuckGoing your answer was the one that actually made me understand why I couldn&#39;t use Objective-C++ headers (because they imported C++ headers) in my case."}], "owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "is_accepted": true, "score": 4, "last_activity_date": 1427923761, "creation_date": 1427923761, "answer_id": 29401182, "question_id": 29394545, "link": "https://stackoverflow.com/questions/29394545/swift-compiler-error-iostream-not-found/29401182#29401182", "title": "Swift Compiler Error &#39;iostream&#39; not found", "body": "<p>Swift bridging does not support Objective C++ files. This means that any headers that consume or expose C++ entites (like <code>std::vector</code>; <code>std::iostream</code>) cannot be added to the bridging header.</p>\n\n<p>The POP bridging header contains:</p>\n\n<pre><code>#import \"POP.h\"\n</code></pre>\n\n<p>You should really only <code>#import</code> that file in your own bridging header, rather than trying to <code>#import</code> all the <code>.h</code> files.</p>\n\n<p>If you need to consume some of the API that's defined in <code>.mm</code> files that isn't exposed with an Objective C or plain C header, then you'll have to make your own header file that exposes it (and probably a back-end that implements what you've exposed).</p>\n\n<p>The reason why you can use <code>.mm</code> files in a library that's being used by Swift is because all swift uses is the interface to those files - i.e. the <code>.h</code> files, and as long as those files are in plain C or Objective C, then you can make use of the code that is implemented in the <code>.mm</code> file. The <code>.mm</code> files are compiled by Objective C++ compiler (<code>clang++</code>)</p>\n"}], "owner": {"reputation": 185, "user_id": 4207272, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/41UAd.jpg?s=128&g=1", "display_name": "Hannes Van den Berghe", "link": "https://stackoverflow.com/users/4207272/hannes-van-den-berghe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2003, "favorite_count": 0, "accepted_answer_id": 29401182, "answer_count": 1, "score": 5, "last_activity_date": 1427923761, "creation_date": 1427901267, "last_edit_date": 1427902845, "question_id": 29394545, "link": "https://stackoverflow.com/questions/29394545/swift-compiler-error-iostream-not-found", "title": "Swift Compiler Error &#39;iostream&#39; not found", "body": "<p>I've tried to implement a project which I've found on github.</p>\n\n<p><a href=\"https://github.com/hossamghareeb/Facebook-POP-Tutorial\" rel=\"noreferrer\">https://github.com/hossamghareeb/Facebook-POP-Tutorial</a></p>\n\n<p>While I was implementing the .h and .m files I've got an error which was saying XCode could not find my 'iostream' file.</p>\n\n<p>I'm working in SWIFT, using bridging-headers to use the framework. When I try to build the original project it works, but mine always fails.</p>\n\n<p><img src=\"https://i.stack.imgur.com/f6t1j.png\" alt=\"enter image description here\"></p>\n\n<p>How can I add my iostream file?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "language-lawyer", "bitwise-operators"], "comments": [{"owner": {"reputation": 208848, "user_id": 46642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wjb79.jpg?s=128&g=1", "display_name": "R. Martinho Fernandes", "link": "https://stackoverflow.com/users/46642/r-martinho-fernandes"}, "reply_to_user": {"reputation": 3297, "user_id": 1436796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a4b86c1c90bc06112c2c069b58bf995?s=128&d=identicon&r=PG", "display_name": "Marc van Leeuwen", "link": "https://stackoverflow.com/users/1436796/marc-van-leeuwen"}, "edited": false, "score": 0, "creation_date": 1427906874, "post_id": 29394518, "comment_id": 46969049, "body": "Keep reading. There are more paragraphs in the question."}, {"owner": {"reputation": 44714, "user_id": 581994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2ae9ac6fb51918297a0ce5dada0eb22?s=128&d=identicon&r=PG", "display_name": "Hot Licks", "link": "https://stackoverflow.com/users/581994/hot-licks"}, "edited": false, "score": 4, "creation_date": 1427909553, "post_id": 29394518, "comment_id": 46970390, "body": "@R.MartinhoFernandes  - Well, it first depends on the relative precedence of <code>-</code> and <code>&amp;</code>, and the coercion rules, which I always have to double-check for a given language.  But if <code>-1</code> is interpreted as being calculated first, in 2s complement, and coercion leaves the value unchanged then it would be <code>0xFFFFFFFF &amp; 0x00000002</code>, or simply 2."}, {"owner": {"reputation": 208848, "user_id": 46642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wjb79.jpg?s=128&g=1", "display_name": "R. Martinho Fernandes", "link": "https://stackoverflow.com/users/46642/r-martinho-fernandes"}, "edited": false, "score": 3, "creation_date": 1427909608, "post_id": 29394518, "comment_id": 46970421, "body": "So you thought it was ok to make all those assumptions that C++ doesn&#39;t specify? Well, in fact, you actually ignored the parts that C++ does specify: unary minus has higher precedence than bitwise and."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 44714, "user_id": 581994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2ae9ac6fb51918297a0ce5dada0eb22?s=128&d=identicon&r=PG", "display_name": "Hot Licks", "link": "https://stackoverflow.com/users/581994/hot-licks"}, "edited": false, "score": 2, "creation_date": 1427909663, "post_id": 29394518, "comment_id": 46970452, "body": "@HotLicks: C does not specify twos complement, nor does C++ IIRC."}, {"owner": {"reputation": 44714, "user_id": 581994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2ae9ac6fb51918297a0ce5dada0eb22?s=128&d=identicon&r=PG", "display_name": "Hot Licks", "link": "https://stackoverflow.com/users/581994/hot-licks"}, "edited": false, "score": 1, "creation_date": 1427909705, "post_id": 29394518, "comment_id": 46970473, "body": "@R.MartinhoFernandes - I said I haven&#39;t checked.  And there are many things that are not officially documented in C++ which if you changed would break thousands if not millions of programs."}, {"owner": {"reputation": 44714, "user_id": 581994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2ae9ac6fb51918297a0ce5dada0eb22?s=128&d=identicon&r=PG", "display_name": "Hot Licks", "link": "https://stackoverflow.com/users/581994/hot-licks"}, "edited": false, "score": 0, "creation_date": 1427909750, "post_id": 29394518, "comment_id": 46970500, "body": "I said I hadn&#39;t checked."}, {"owner": {"reputation": 208848, "user_id": 46642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wjb79.jpg?s=128&g=1", "display_name": "R. Martinho Fernandes", "link": "https://stackoverflow.com/users/46642/r-martinho-fernandes"}, "edited": false, "score": 3, "creation_date": 1427909793, "post_id": 29394518, "comment_id": 46970521, "body": "The point is that whether a comp sci student has a general idea of what &quot;bitwise AND&quot; means is not relevant. Actually, if they are aware of what &quot;bitwise AND&quot; means, I expect them tp be able to spot the underspecified parts, or at least realise that they are making unspecified assumptions."}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 3, "creation_date": 1427931712, "post_id": 29394518, "comment_id": 46980873, "body": "No, the standard does not specify twos-compliment for negatives. But it DOES specify binary representation for positives. That is, 9 will always be 1001, and 3 will always be 11, so 9 &amp; 3 will always be 11. No gray code, BCD need apply."}, {"owner": {"reputation": 32626, "user_id": 691884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1f68638c765096502abb3e56274386?s=128&d=identicon&r=PG", "display_name": "Random832", "link": "https://stackoverflow.com/users/691884/random832"}, "edited": false, "score": 0, "creation_date": 1430251089, "post_id": 29394518, "comment_id": 47979421, "body": "Does C++ permit padding bits or extraordinary values (most negative for twos complement, negative zero for sign magnitude or ones complement)? C explicitly permits bitwise operators, and only bitwise operators, to return a negative zero for ones complement and sign magnitude implementations, but I can&#39;t find any relevant language in the C++ standard."}], "answers": [{"comments": [{"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 6, "creation_date": 1427901656, "post_id": 29394559, "comment_id": 46965804, "body": "Sorry for the bad formatting... In 3.9.1 we find this: <b>A synonym for integral type is integer type. The representations of integral types shall define values by use of a pure binary numeration system.</b> and the pure binary numeration is defined in footnote as: <b>positional representation for integers that uses the binary digits 0 and 1, in which the values represented by successive bits are additive, begin with 1, and are multiplied by successive integral power of 2, except perhaps for the bit with the highest position.</b>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 1, "creation_date": 1427901704, "post_id": 29394559, "comment_id": 46965834, "body": "@fjardon: That final clause is rather important, no?"}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 2, "creation_date": 1427901859, "post_id": 29394559, "comment_id": 46965925, "body": "Yes it is, but I cannot see how it allows <code>(0 | 5)</code> to be something else than 5 knowing that int as more than 4 bits. I&#39;m not saying you&#39;re wrong. I just want to understand."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 0, "creation_date": 1427901885, "post_id": 29394559, "comment_id": 46965940, "body": "@fjardon: Well that might not have been the best example, in hindsight"}], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 3, "last_activity_date": 1427901804, "last_edit_date": 1427901804, "creation_date": 1427901293, "answer_id": 29394559, "question_id": 29394518, "link": "https://stackoverflow.com/questions/29394518/whats-the-result-of-a-b/29394559#29394559", "title": "What&#39;s the result of a &amp; b?", "body": "<p>Legally, we could consider all bitwise operations to have undefined behaviour as they are not actually defined.</p>\n\n<p>More reasonably, we are expected to apply common sense and refer to the common meanings of these operations, applying them to the <em>bits</em> of the operands (hence the term \"bitwise\").</p>\n\n<p>But nothing actually states that. Shame my answer can't be considered normative wording.</p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427901733, "post_id": 29394674, "comment_id": 46965848, "body": "Seems reasonable yes but is not actually stated. That&#39;s the problem."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1427902556, "post_id": 29394674, "comment_id": 46966374, "body": "Why the downvote? Considering that this is underspecified this is a reasonable and informative approach to thinking about the issue ++1."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1427903615, "post_id": 29394674, "comment_id": 46966966, "body": "@ShafikYaghmour: See my comment. This does not answer the question."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1428091676, "post_id": 29394674, "comment_id": 47046600, "body": "I missed this before: <code>being underspecified should similarly defer to C, in this case 6.5.10&#47;4</code> ...  the C++ standard can not defer to C standard unless done so explicitly see <a href=\"http://stackoverflow.com/q/23020323/1708801\">this</a>. Although I am comfortable with saying that it was probably the intent."}], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": false, "score": 9, "last_activity_date": 1427901594, "creation_date": 1427901594, "answer_id": 29394674, "question_id": 29394518, "link": "https://stackoverflow.com/questions/29394518/whats-the-result-of-a-b/29394674#29394674", "title": "What&#39;s the result of a &amp; b?", "body": "<p><strong>[basic.fundamental]</strong>/3 defers to C  5.2.4.2.1. It seems reasonable that the bitwise operators in C++ being underspecified should similarly defer to C, in this case 6.5.10/4:</p>\n\n<blockquote>\n  <p>The result of the binary &amp; operator is the bitwise AND of the operands (that is, each bit in\n  the result is set if and only if each of the corresponding bits in the converted operands is\n  set).</p>\n</blockquote>\n\n<p>Note that C 6.5/4 has:</p>\n\n<blockquote>\n  <p>Some operators (the unary operator <code>~</code>, and the binary operators <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>&amp;</code>, <code>^</code>, and <code>|</code>,\n  collectively described as <em>bitwise operators</em>) are required to have operands that have\n  integer type. These operators yield values that depend on the internal representations of\n  integers, and have implementation-defined and undefined aspects for signed types.</p>\n</blockquote>\n\n<p>The internal representations of the integers are of course described in 6.2.6.2/1, /2.</p>\n"}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "is_accepted": false, "score": 6, "last_activity_date": 1427902243, "last_edit_date": 1592644375, "creation_date": 1427901708, "answer_id": 29394720, "question_id": 29394518, "link": "https://stackoverflow.com/questions/29394518/whats-the-result-of-a-b/29394720#29394720", "title": "What&#39;s the result of a &amp; b?", "body": "<p>C++ Standard defines <em>storage</em> as a certain amount of bits. The implementation might decide what meaning to attribute to a particular bit; that being said, binary AND is supposed to work on conceptual 0s and 1s forming a particular type's representation.</p>\n<blockquote>\n<p><strong>3.9.1.7.</strong> (...) The representations of integral types shall define values by use of a pure binary numeration system.<sup>49</sup> (...)</p>\n<p><strong>3.9.1, footnote 49)</strong>  A positional representation for integers that uses the binary digits 0 and 1, in which the values represented by successive\nbits are additive, begin with 1, and are multiplied by successive integral power of 2, except perhaps for the bit with the highest\nposition</p>\n</blockquote>\n<p>That means that for whatever physical representation used, binary AND acts according to the truth table for the AND function (for each bit number i, take bits A<sub>i</sub> and B<sub>i</sub> from appropriate operands and produce a value of 1 only if both are 1, otherwise produce a 0 for the bit R<sub>i</sub>).. Resulting value is left to interpret by the implementation, but whatever is chosen, it has to be in line with other expectations with regard to other binary operations like OR and XOR.</p>\n"}, {"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1428030244, "post_id": 29394804, "comment_id": 47022433, "body": "Can you comment on [basic.fundamental]/7 as mentioned by others? It seems to me that that nails down the behaviour. A value or sign bit in the value representation must correspond to a bit in the object representation, so it doesn&#39;t matter which representation you consider the operation to apply to."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1428091494, "post_id": 29394804, "comment_id": 47046529, "body": "@MattMcNabb I think the other two answers said about as much as can be said. I don&#39;t think it answers the question for negative numbers, except to say perhaps it should be implementation defined. Note that we can not refer to <code>6.5&#47;4</code> from C99 since it is not explicitly referenced in the C++ standard see <a href=\"http://stackoverflow.com/q/23020323/1708801\">Can we apply content not explicitly cited from the normative references to the C++ standard?</a>"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 1, "creation_date": 1428092419, "post_id": 29394804, "comment_id": 47046923, "body": "If the standard made a stronger guarantee then the defect reports would not make much sense."}, {"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1428611771, "post_id": 29394804, "comment_id": 47248485, "body": "With regard to the defect report related to null characters, I think the standard specifies clearing all the bits of an integer type must yield a legitimate representation of the value zero, though not necessarily the only one.  As such, I would think the improvement of the standard loosens it, but not in a way that I can imagine compiler authors finding useful.  How would the extra latitude benefit compilers?"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1428666559, "post_id": 29394804, "comment_id": 47271177, "body": "@supercat as far as I can tell this was a way to avoid dealing with the fact that <code>bit</code> is not properly defined and the resolution to <code>df 1943</code> should fix that."}, {"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1428672769, "post_id": 29394804, "comment_id": 47275193, "body": "@ShafikYaghmour: If the problem is that &quot;bit&quot; isn&#39;t really defined in this context, changing &quot;all bits zero&quot; to &quot;all bytes zero&quot; should fix that.  Otherwise one could legitimately have a representation in which the end of a string literal wasn&#39;t marked with any zero <code>char</code> values [e.g. because wchar_t has padding bits which get set by the compiler]"}], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 40, "last_activity_date": 1446822635, "last_edit_date": 1495541436, "creation_date": 1427901942, "answer_id": 29394804, "question_id": 29394518, "link": "https://stackoverflow.com/questions/29394518/whats-the-result-of-a-b/29394804#29394804", "title": "What&#39;s the result of a &amp; b?", "body": "<p>This is underspecified. The issue of what the standard means when it refers to bit-wise operations is the subject of a few defect reports.</p>\n\n<p>For example <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1857\" rel=\"nofollow noreferrer\">defect report 1857:  Additional questions about bits</a>:</p>\n\n<blockquote>\n  <p>The specification of the bitwise operations in 5.11 [expr.bit.and],\n  5.12 [expr.xor], and 5.13 [expr.or] uses the undefined term \u201cbitwise\u201d in describing the operations, without specifying whether it is the\n  value or object representation that is in view.</p>\n  \n  <p>Part of the resolution of this might be to define \u201cbit\u201d (which is\n  otherwise currently undefined in C++) as a value of a given power of\n  2.</p>\n</blockquote>\n\n<p>and the response was:</p>\n\n<blockquote>\n  <p>CWG decided to reformulate the description of the operations\n  themselves to avoid references to bits, splitting off the larger\n  questions of defining \u201cbit\u201d and the like to issue 1943 for further\n  consideration.</p>\n</blockquote>\n\n<p>and <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1943\" rel=\"nofollow noreferrer\">defect report 1943</a> says:</p>\n\n<blockquote>\n  <p>CWG decided at the 2014-06 (Rapperswil) meeting to address only a\n  limited subset of the questions raised by issues 1857 and 1861. This\n  issue is a placeholder for the remaining questions, such as defining a\n  \u201cbit\u201d in terms of a value of 2<sup>n</sup>, specifying whether a bit-field has a\n  sign bit, etc.</p>\n</blockquote>\n\n<p>We can see from this <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1796\" rel=\"nofollow noreferrer\">defect report 1796: Is all-bits-zero for null characters a meaningful requirement?</a>, that this issue of what the standard means when it refers to bits affected/affects other sections as well:</p>\n\n<blockquote>\n  <p>According to 2.3 [lex.charset] paragraph 3,</p>\n  \n  <blockquote>\n    <p>The basic execution character set and the basic execution wide-character set shall each contain all the members of the basic\n    source character set, plus control characters representing alert,\n    backspace, and carriage return, plus a null character (respectively,\n    null wide character), whose representation has all zero bits. </p>\n  </blockquote>\n  \n  <p>It is not clear that a portable program can examine the bits of the\n  representation; instead, it would appear to be limited to examining\n  the bits of the numbers corresponding to the value representation\n  (3.9.1 [basic.fundamental] paragraph 1). It might be more appropriate\n  to require that the null character value compare equal to 0 or '\\0'\n  rather than specifying the bit pattern of the representation.</p>\n  \n  <p>There is a similar issue for the definition of shift, bitwise and, and\n  bitwise or operators: are those specifications constraints on the bit\n  pattern of the representation or on the values resulting from the\n  interpretation of those patterns as numbers?</p>\n</blockquote>\n\n<p>In this case the resolution was to change:</p>\n\n<blockquote>\n  <p>representation has all zero bits</p>\n</blockquote>\n\n<p>to:</p>\n\n<blockquote>\n  <p>value is 0.</p>\n</blockquote>\n\n<p>Note that <a href=\"https://stackoverflow.com/a/29394674/1708801\">as mentioned in ecatmur's answer</a> the draft C++ standard does defer to C standard section <code>5.2.4.2.1</code> in section <code>3.9.1</code> <em>[basic.fundamental]</em> in paragraph <code>3</code> it does not refer to section <code>6.5/4</code> from the C standard which would at least tell us that the results are implementation defined. I explain in my comment below that C++ standard can only incorporate text from normative references explicitly. </p>\n"}], "owner": {"reputation": 208848, "user_id": 46642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wjb79.jpg?s=128&g=1", "display_name": "R. Martinho Fernandes", "link": "https://stackoverflow.com/users/46642/r-martinho-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8324, "favorite_count": 7, "accepted_answer_id": 29394804, "answer_count": 4, "score": 39, "last_activity_date": 1449589417, "creation_date": 1427901215, "last_edit_date": 1427928184, "question_id": 29394518, "link": "https://stackoverflow.com/questions/29394518/whats-the-result-of-a-b", "title": "What&#39;s the result of a &amp; b?", "body": "<p>This is awkward, but the bitwise AND operator is defined in the C++ standard as follows (emphasis mine).</p>\n\n<blockquote>\n  <p>The usual arithmetic conversions are performed; <strong>the result is the bitwise AND function of its operands</strong>. The operator applies only to integral or unscoped enumeration operands.</p>\n</blockquote>\n\n<p>This looks kind of meaningless to me. The \"bitwise AND function\" is not defined anywhere in the standard, as far as I can see.</p>\n\n<p>I get that the AND function is well-understood and thus may not require explanation. The meaning of the word \"bitwise\" should also be rather clear: the function is applied to corresponding bits of its operands. However, what constitute the bits of the operands is not clear.</p>\n\n<p>What gives?</p>\n"}, {"tags": ["c++", "interface", "g++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427901348, "post_id": 29394513, "comment_id": 46965579, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/static_assert\" rel=\"nofollow noreferrer\"><code>static_assert</code></a>?"}, {"owner": {"reputation": 4211, "user_id": 309334, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ccb6132ce896551124c59844c306c632?s=128&d=identicon&r=PG", "display_name": "Eponymous", "link": "https://stackoverflow.com/users/309334/eponymous"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427901631, "post_id": 29394513, "comment_id": 46965790, "body": "@JoachimPileborg That (with templates) is what is used in the <a href=\"http://stackoverflow.com/a/18814056/309334\">forbid using</a> answer I mention above. <a href=\"http://stackoverflow.com/a/5246686/309334\">This answer</a> tells why the templates are necessary."}], "answers": [{"comments": [{"owner": {"reputation": 4211, "user_id": 309334, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ccb6132ce896551124c59844c306c632?s=128&d=identicon&r=PG", "display_name": "Eponymous", "link": "https://stackoverflow.com/users/309334/eponymous"}, "edited": false, "score": 0, "creation_date": 1427902852, "post_id": 29394681, "comment_id": 46966523, "body": "By including the <code>not_yet_implemented</code> library, it would effectively make the function callable everywhere - removing the check for not-implemented-ness. The situation where I can conceive of wanting to do this is something like <code>int foo(){ do_stuff_needed_in_all_phases(); if(condition_only_true_in_phase2){ unimplemented_function(); } }</code> which would save us from having to reimplement <code>foo()</code> in phase 2. However, I&#39;d like <code>int bar(){ unimplemented_function(); }</code> to still fail."}, {"owner": {"reputation": 4211, "user_id": 309334, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ccb6132ce896551124c59844c306c632?s=128&d=identicon&r=PG", "display_name": "Eponymous", "link": "https://stackoverflow.com/users/309334/eponymous"}, "edited": false, "score": 1, "creation_date": 1428004218, "post_id": 29394681, "comment_id": 47014255, "body": "Because of the above, I like my &quot;deprecated&quot; solution better. However, this is the only answer, so I&#39;ll accept it. Thank you for taking time out to work on someone else&#39;s problem and making the Internet a better place."}], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1427901617, "creation_date": 1427901617, "answer_id": 29394681, "question_id": 29394513, "link": "https://stackoverflow.com/questions/29394513/c-compile-time-un-implemented-check/29394681#29394681", "title": "C++ compile-time un-implemented check", "body": "<p>As alternative:</p>\n\n<p>You can just declare them without definition, so you get link error.<br>\nYou may then provide a library <code>not_yet_implemented</code> with empty definition to allow the premature usage of these functions.</p>\n\n<p>or</p>\n\n<p>Mark you method deleted: <code>= delete</code>, eventually by wrapping that in a macro</p>\n\n<pre><code>#define NOT_YET_IMPLEMENTED = delete\n</code></pre>\n"}], "owner": {"reputation": 4211, "user_id": 309334, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ccb6132ce896551124c59844c306c632?s=128&d=identicon&r=PG", "display_name": "Eponymous", "link": "https://stackoverflow.com/users/309334/eponymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 29394681, "answer_count": 1, "score": 3, "last_activity_date": 1513484086, "creation_date": 1427901207, "last_edit_date": 1513484086, "question_id": 29394513, "link": "https://stackoverflow.com/questions/29394513/c-compile-time-un-implemented-check", "title": "C++ compile-time un-implemented check", "body": "<p>We have several C++ functions that will be implemented in phase 2 of our project that are part of the public interface or their respective classes and modules. Because they are part of the public interface, we think they should be present, at least in the headers, during phase 1 so that we are still thinking about them as we implement the rest of the classes. However, since they are unimplemented, we want no one to call them. We would like this check to occur at compile time, to ensure correctness.</p>\n\n<p>My desires are:</p>\n\n<ul>\n<li><p>Compile time (could be an error or warning; warnings are better because they are more flexible - we can selectively turn them off)</p></li>\n<li><p>Works on G++4.8.1 and doesn't kill the build under Visual Studio 2013 (we use Visual Studio/VisualAssistX only as an editor but the refactoring tools don't work without building)</p></li>\n<li><p>Not too hard to understand what was done and why</p></li>\n<li><p>Functions are present in class documentation (we can include some <code>\\warning not implemented in phase 1</code> notation for doxygen to pick up)</p></li>\n</ul>\n\n<p>I am considering three options:</p>\n\n<ul>\n<li><p>A belt and suspenders approach of <a href=\"https://stackoverflow.com/a/21265197/309334\">marking them as deprecated</a> (which will generate a warning) and throwing a custom exception - this is almost what I want except the compiler warning that it is \"deprecated\" is opposite of the real situation: a deprecated method works now but won't work later; this method will work later but does not work now</p></li>\n<li><p>Another answer tells <a href=\"https://stackoverflow.com/a/18814056/309334\">how to forbid using a function while still having it exist</a> - this is good but unreadable and hard to search for. Plus, it is a compile-time error - we can't just let some functions call it if we change our minds - it is all or nothing. And making every unimplemented function a template makes me wonder if the trick will always work. For example, virtual functions can't be templates.</p></li>\n<li><p>Just putting them in as a comment - Keeps people from calling them, but they also don't show up in auto-generated documentation (and we can't decide later to have selective calling)</p></li>\n</ul>\n\n<p>Is there a better way? And if not is there a reason to prefer the template or comment options over the deprecated option?</p>\n"}]