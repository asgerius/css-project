[{"tags": ["c++", "arrays", "static", "initialization"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444866201, "post_id": 33137464, "comment_id": 54086403, "body": "you can just return a <code>char*</code> pointing to the first element of the array, that&#39;s how you would normally return arrays in C++. Check out <a href=\"http://stackoverflow.com/questions/5660527/how-do-i-return-a-char-array-from-a-function\" title=\"how do i return a char array from a function\">stackoverflow.com/questions/5660527/&hellip;</a> or <a href=\"http://stackoverflow.com/questions/3473438/return-array-in-a-function\" title=\"return array in a function\">stackoverflow.com/questions/3473438/return-array-in-a-functi&zwnj;&#8203;on</a>"}, {"owner": {"reputation": 18825, "user_id": 1073386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dedaa598e511ee85ead4ed0bc25ea3d3?s=128&d=identicon&r=PG", "display_name": "Adam Stelmaszczyk", "link": "https://stackoverflow.com/users/1073386/adam-stelmaszczyk"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444866420, "post_id": 33137464, "comment_id": 54086451, "body": "@RNar You are missing the point of the question. I&#39;m not asking how to return an array from a function, I&#39;m asking how to initialize static member array with anything I would like."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1444866524, "post_id": 33137464, "comment_id": 54086477, "body": "my bad, i thought you were just using char as an example."}], "answers": [{"comments": [{"owner": {"reputation": 18825, "user_id": 1073386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dedaa598e511ee85ead4ed0bc25ea3d3?s=128&d=identicon&r=PG", "display_name": "Adam Stelmaszczyk", "link": "https://stackoverflow.com/users/1073386/adam-stelmaszczyk"}, "edited": false, "score": 0, "creation_date": 1444866647, "post_id": 33137540, "comment_id": 54086500, "body": "There is a bigger problem - I can&#39;t initialize it with { } array initializer and constant values given in it. As you can see in Python code I need to dynamically calculate the coordinates based on <code>SIDE</code> value."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1444867281, "post_id": 33137540, "comment_id": 54086664, "body": "Why didn&#39;t you use a <code>vector</code>?"}, {"owner": {"reputation": 18825, "user_id": 1073386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dedaa598e511ee85ead4ed0bc25ea3d3?s=128&d=identicon&r=PG", "display_name": "Adam Stelmaszczyk", "link": "https://stackoverflow.com/users/1073386/adam-stelmaszczyk"}, "edited": false, "score": 0, "creation_date": 1444867352, "post_id": 33137540, "comment_id": 54086683, "body": "@m.antkowicz I quite like that, cheers... I also updated the question - we know the size of the array, it&#39;s always <code>2 * SIDE + 2</code>."}, {"owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1444868195, "post_id": 33137540, "comment_id": 54086912, "body": "see the code updated; @5gon12eder - I&#39;m not sure but as far as I know C++ I guess that arrays provides better performance due to shorter time of accessing elements and (if you know the size at first) this would be the argument not to use STL Vector collection. Please correct me if I&#39;m wrong cause I can be"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 1, "creation_date": 1444868370, "post_id": 33137540, "comment_id": 54086962, "body": "Accessing elements of a <code>vector</code> is just as fast as accessing elements of an array, if you use <code>v[i]</code> syntax.  The difference will be when allocating and deallocating, but if the size isn&#39;t known at compile time you can&#39;t avoid that."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1444868372, "post_id": 33137540, "comment_id": 54086963, "body": "@m.antkowicz <i>Stack-based</i> (or <i>static</i>) arrays are faster than a <code>std::vector</code> because you don&#39;t have to allocate memory for them. (Note you can use <code>std::array</code> which has equal performance in this case, though.) Once you reach for <code>new</code>, you can \u2013 at the same cost but without all the trouble \u2013 use a <code>std::vector</code>."}, {"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 1, "creation_date": 1444868400, "post_id": 33137540, "comment_id": 54086972, "body": "@m.antkowicz They should be comparable in performance for accessing/writing. Under the hood, a vector is implemented as a dynamically allocated array after all. It&#39;s only slower when you resize it above what it had already reserved in memory. But then again, you don&#39;t actually have that functionality natively with arrays."}, {"owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "reply_to_user": {"reputation": 18825, "user_id": 1073386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dedaa598e511ee85ead4ed0bc25ea3d3?s=128&d=identicon&r=PG", "display_name": "Adam Stelmaszczyk", "link": "https://stackoverflow.com/users/1073386/adam-stelmaszczyk"}, "edited": false, "score": 0, "creation_date": 1444868589, "post_id": 33137540, "comment_id": 54087039, "body": "Ok I see - that you all very much for explanation! @AdamStelmaszczyk - as you see you can create the factory function version with Vector class as it seems to be more convenient in using"}], "tags": [], "owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "is_accepted": false, "score": 2, "last_activity_date": 1444868050, "last_edit_date": 1444868050, "creation_date": 1444866327, "answer_id": 33137540, "question_id": 33137464, "link": "https://stackoverflow.com/questions/33137464/how-to-initialize-static-member-array-with-a-result-of-a-function/33137540#33137540", "title": "How to initialize static member array with a result of a function?", "body": "<p>In C++ you can initialize static array members using group initialization</p>\n\n<pre><code>    static int a[10] = {5}; //this will initialize first position item with 5 and rest with 0s\n    static char b[2] = {'b', 'b'};\n    static int c[2][2] = { {1,1}, {1,2} };\n\n    int main()\n    {\n        cout&lt;&lt; a[0] &lt;&lt; endl; //output: 5\n        cout&lt;&lt; a[1] &lt;&lt; endl; //output: 0\n\n        cout&lt;&lt; b[0] &lt;&lt; endl; //output: b\n\n        cout&lt;&lt; c[0][1] &lt;&lt; endl; //output: 1\n    }\n</code></pre>\n\n<p>Although the fact is you need to know size of the array not like in Python's list that are dynamically</p>\n\n<hr>\n\n<p>If you need to insert to the table values calculated dynamically the best way to do this is to create factory method</p>\n\n<pre><code>    static int** fact(int width, int height)\n    {\n        int** a;\n\n        a = new int*[width]; //we can do it when it is DYNAMIC array! \n\n        a[0] = new int[height];\n        a[1] = new int[height];\n\n        for(int i = 0; i &lt; width; i++)\n            for(int k = 0; k &lt; height; k++)\n                a[i][k] = i*k;\n\n        return a;\n    }\n\n    static int** c = fact(2, 2); //you can call it with your SIDE var\n\n    int main()\n    {\n        cout&lt;&lt; c[1][1] &lt;&lt; endl; //output: 1\n    }\n</code></pre>\n\n<p>Of course you can process it in loops</p>\n\n<p>The same approach will be proper when you will decide to use std Vector class which is equvalent of Python's dynamic list</p>\n"}, {"tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": true, "score": 1, "last_activity_date": 1444871435, "creation_date": 1444871435, "answer_id": 33138175, "question_id": 33137464, "link": "https://stackoverflow.com/questions/33137464/how-to-initialize-static-member-array-with-a-result-of-a-function/33138175#33138175", "title": "How to initialize static member array with a result of a function?", "body": "<p>I suppose you could do this using a <em>lambda function</em> like this:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nconst auto SIDE = 3U;\n\nstruct coord\n{\n    unsigned x;\n    unsigned y;\n    coord(unsigned x, unsigned y): x(x), y(y) {}\n};\n\nstatic const auto lines = [] // lambda function\n{\n    // returned data structure\n    std::vector&lt;std::vector&lt;coord&gt;&gt; lines;\n\n    for(auto y = 0U; y &lt; SIDE; ++y)\n    {\n        lines.emplace_back(); // add a new line to back()\n        for(auto x = 0U; x &lt; SIDE; ++x)\n            lines.back().emplace_back(x, y); // add a new coord to that line\n    }\n\n    for(auto x = 0U; x &lt; SIDE; ++x)\n    {\n        lines.emplace_back();\n        for(auto y = 0U; y &lt; SIDE; ++y)\n            lines.back().emplace_back(x, y);\n    }\n\n    lines.emplace_back();\n    for(auto i = 0U; i &lt; SIDE; ++i)\n        lines.back().emplace_back(i, i);\n\n    lines.emplace_back();\n    for(auto i = 0U; i &lt; SIDE; ++i)\n        lines.back().emplace_back(SIDE - i - 1, i);\n\n    return lines;\n}(); // NOTE: () is important to run the lambda function\n\nint main()\n{\n    for(auto const&amp; line: lines)\n    {\n        std::cout &lt;&lt; \"(\";\n        for(auto const&amp; coord: line)\n            std::cout &lt;&lt; \"(\" &lt;&lt; coord.x &lt;&lt; \", \" &lt;&lt; coord.y &lt;&lt; \")\";\n        std::cout &lt;&lt; \")\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>((0, 0)(1, 0)(2, 0))\n((0, 1)(1, 1)(2, 1))\n((0, 2)(1, 2)(2, 2))\n((0, 0)(0, 1)(0, 2))\n((1, 0)(1, 1)(1, 2))\n((2, 0)(2, 1)(2, 2))\n((0, 0)(1, 1)(2, 2))\n((2, 0)(1, 1)(0, 2))\n</code></pre>\n"}], "owner": {"reputation": 18825, "user_id": 1073386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dedaa598e511ee85ead4ed0bc25ea3d3?s=128&d=identicon&r=PG", "display_name": "Adam Stelmaszczyk", "link": "https://stackoverflow.com/users/1073386/adam-stelmaszczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 33138175, "answer_count": 2, "score": 3, "last_activity_date": 1444871435, "creation_date": 1444865859, "last_edit_date": 1444866925, "question_id": 33137464, "link": "https://stackoverflow.com/questions/33137464/how-to-initialize-static-member-array-with-a-result-of-a-function", "title": "How to initialize static member array with a result of a function?", "body": "<p>I'm translating such fragment of <a href=\"https://github.com/AdamStelmaszczyk/gtsa/blob/master/python/examples/tic_tac_toe.py\" rel=\"nofollow\">this</a> Python file to C++:</p>\n\n<pre><code>SIDE = 3\nLINES = []\nfor y in range(SIDE):\n    row = tuple((x, y) for x in range(SIDE))\n    LINES.append(row)\nfor x in range(SIDE):\n    col = tuple((x, y) for y in range(SIDE))\n    LINES.append(col)\nLINES.append(tuple((x, x) for x in range(SIDE)))\nLINES.append(tuple((SIDE - x - 1, x) for x in range(SIDE)))\n</code></pre>\n\n<p><code>LINES</code> holds (x, y) coordinates of possible lines in Tic Tac Toe game. So for <code>SIDE = 3</code> it holds:</p>\n\n<pre><code>[((0, 0), (1, 0), (2, 0)), \n ((0, 1), (1, 1), (2, 1)), \n ((0, 2), (1, 2), (2, 2)), \n ((0, 0), (0, 1), (0, 2)), \n ((1, 0), (1, 1), (1, 2)), \n ((2, 0), (2, 1), (2, 2)), \n ((0, 0), (1, 1), (2, 2)), \n ((2, 0), (1, 1), (0, 2))]\n</code></pre>\n\n<p><code>SIDE</code> value can change.</p>\n\n<h2>What I've tried</h2>\n\n<p>Performance is crucial (that's why I reached for C++), so I would like to calculate <code>LINES</code> only once. Thus, I've chosen to implement <code>LINES</code> as a static member of the class <code>TicTacToeState</code>.</p>\n\n<p>I started with such code:</p>\n\n<pre><code>static char init_lines() {\n    return 'a';\n}\n\nclass TicTacToeState {\n    static char LINES;\n};\n\nchar TicTacToeState::LINES = init_lines();\n</code></pre>\n\n<p>It works. How to change <code>LINES</code> to an array? Maybe vector will be better? With pairs? </p>\n\n<p>Maybe static member is not the best choice, maybe there is an easier way?</p>\n\n<p>How would you translate it to C++?</p>\n\n<p>We know the size of <code>LINES</code>, it's always <code>2 * SIDE + 2.</code></p>\n\n<h2>Special requirement</h2>\n\n<p>All C++ code must be in one <code>.cpp</code> file, no headers. Why? Because this is fragment of a library for bot competitions and it's typical that you can submit only one file.</p>\n"}, {"tags": ["c++", "qt", "dll"], "comments": [{"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1444867863, "post_id": 33137441, "comment_id": 54086837, "body": "<code>-static</code> should be enough, if it still depends on the libgcc dll then use dependency walker to see where the issue is, either the static libgcc lib can&#39;t be found when linking so the linker is falling back on the dll, or some other component depends on it instead (which will need to be recompiled with the static lib)."}, {"owner": {"reputation": 707, "user_id": 1153097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeb19ad4acff26fd3561972d494f1e05?s=128&d=identicon&r=PG", "display_name": "RazrFalcon", "link": "https://stackoverflow.com/users/1153097/razrfalcon"}, "edited": false, "score": 0, "creation_date": 1444889389, "post_id": 33137441, "comment_id": 54092605, "body": "qmake links libgcc by default, no matter how big your application, because this lib contains C++ runtime."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6296382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ad81a7050479316af66a593065d958?s=128&d=identicon&r=PG&f=1", "display_name": "Snorre O.", "link": "https://stackoverflow.com/users/6296382/snorre-o"}, "is_accepted": false, "score": 2, "last_activity_date": 1501588397, "creation_date": 1501588397, "answer_id": 45437095, "question_id": 33137441, "link": "https://stackoverflow.com/questions/33137441/qt-the-program-cant-start-because-libgcc-s-dw2-1-dll-is-missing/45437095#45437095", "title": "QT The program can&#39;t start because libgcc_s_dw2-1.dll is missing", "body": "<p>I know this is an old question, and you probably found a solution that worked for you, but I stumbled upon this after a day spent trying to build a statically linked (standalone) application with Qt 5.9.1/MinGW32-5.3.0-32bit.</p>\n\n<p>After building a static version of Qt, it was finally these dynamically linked libraries that MinGW / GCC pulled in that was still holding me back:</p>\n\n<pre><code>libgcc_s_dw2-1.dll\nlibwinpthread-1.dll\nlibstdc++-6.dll\nlibwinpthread-1.dll\n</code></pre>\n\n<p>After trying countless combinations of: </p>\n\n<pre><code>QMAKE_CXXFLAGS += [-static-libgcc | -static-libstdc++ | -static -lstdc++ -lpthread] \n</code></pre>\n\n<p>and other compiler parameters found in threads similar to this one, what finally worked for me was:</p>\n\n<pre><code>QMAKE_LFLAGS += -static\n</code></pre>\n\n<p>That is, <code>QMAKE_LFLAGS</code> instead of <code>QMAKE_CXXFLAGS</code> and now my program only relies on a bunch of Windows DLL's. :)</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 13525303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06d525755501cf4d53722b5f6063ea2d?s=128&d=identicon&r=PG&f=1", "display_name": "Ulhas", "link": "https://stackoverflow.com/users/13525303/ulhas"}, "is_accepted": false, "score": 0, "last_activity_date": 1599823780, "creation_date": 1599823780, "answer_id": 63846198, "question_id": 33137441, "link": "https://stackoverflow.com/questions/33137441/qt-the-program-cant-start-because-libgcc-s-dw2-1-dll-is-missing/63846198#63846198", "title": "QT The program can&#39;t start because libgcc_s_dw2-1.dll is missing", "body": "<p>You need to do the below settings in QT Editor\nGo to the <strong>project tab</strong> (on the left) to edit the project's setting.</p>\n<p>In the section <strong>Run Settings</strong>,\nUnder <strong>Working directory</strong> click on the checkbox the <strong>Run in Terminal</strong>.</p>\n"}], "owner": {"reputation": 1069, "user_id": 1563796, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e6ae6e635f5ff6c057878a123a9b0d6a?s=128&d=identicon&r=PG", "display_name": "gghuffer", "link": "https://stackoverflow.com/users/1563796/gghuffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6657, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1599823780, "creation_date": 1444865707, "question_id": 33137441, "link": "https://stackoverflow.com/questions/33137441/qt-the-program-cant-start-because-libgcc-s-dw2-1-dll-is-missing", "title": "QT The program can&#39;t start because libgcc_s_dw2-1.dll is missing", "body": "<p>I know this has been asked before but I can't seem to find an answer.</p>\n\n<p>I just have a little hello world console program basically I wrote in c++ with qt creator.  When I try to run the executable I get  \"The program can't start because libgcc_s_dw2-1.dll is missing from your computer. Try reinstalling to fix this problem.\"</p>\n\n<p>I don't understand why this dll is even necessary for a little program like this.  I tried adding these flags as suggested elsewhere:</p>\n\n<p>QMAKE_CXXFLAGS += -static -static-libgcc -static-libstdc++</p>\n\n<p>and it still happens.  Other people have suggested adding the directory whee the dll is located to my path but I'd like to actually give this program to someone else without them needing the dll.</p>\n"}, {"tags": ["c++", "cmake", "visual-studio-2015", "static-libraries"], "comments": [{"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1444865348, "post_id": 33137313, "comment_id": 54086201, "body": "When you build the library does it output a <code>.pdb</code> file?  That is your symbols.  If it doesn&#39;t, then that is your problem.  If it does, then Visual Studio doesn&#39;t know where to look.  You can add a symbol search path, or put in a custom build step to copy the pdb file to your output directory."}, {"owner": {"reputation": 6325, "user_id": 210634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e3c5893c5116967f2dfb4a6b03778f1?s=128&d=identicon&r=PG", "display_name": "Vite Falcon", "link": "https://stackoverflow.com/users/210634/vite-falcon"}, "reply_to_user": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1444870042, "post_id": 33137313, "comment_id": 54087345, "body": "Since it&#39;s a static library, I believe there wouldn&#39;t be a <code>.pdb</code> file for the library? The <code>.pdb</code> file that gets generated is for the entire executable, which I believe should include debug symbols for the static library."}], "answers": [{"comments": [{"owner": {"reputation": 6325, "user_id": 210634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e3c5893c5116967f2dfb4a6b03778f1?s=128&d=identicon&r=PG", "display_name": "Vite Falcon", "link": "https://stackoverflow.com/users/210634/vite-falcon"}, "edited": false, "score": 0, "creation_date": 1444918454, "post_id": 33141562, "comment_id": 54111193, "body": "I forgot to mention this part, the class from that file was being referred by another class in the executable: <a href=\"https://github.com/ViteFalcon/RokLegend/blob/master/source/application/services/RoCharacterServerInterface.cpp#L170-L182\" rel=\"nofollow noreferrer\">github.com/ViteFalcon/RokLegend/blob/master/source/applicati&zwnj;&#8203;on/&hellip;</a> and there were no linking issues and I could not put break points. In fact it was because of this part of code failing that spawned this whole issue. I&#39;ll update the question to include this info."}, {"owner": {"reputation": 6325, "user_id": 210634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e3c5893c5116967f2dfb4a6b03778f1?s=128&d=identicon&r=PG", "display_name": "Vite Falcon", "link": "https://stackoverflow.com/users/210634/vite-falcon"}, "edited": false, "score": 0, "creation_date": 1444919420, "post_id": 33141562, "comment_id": 54111918, "body": "That said I think I now understand what&#39;s going on. I&#39;ll verify it and let you know."}, {"owner": {"reputation": 6325, "user_id": 210634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e3c5893c5116967f2dfb4a6b03778f1?s=128&d=identicon&r=PG", "display_name": "Vite Falcon", "link": "https://stackoverflow.com/users/210634/vite-falcon"}, "edited": false, "score": 1, "creation_date": 1444925880, "post_id": 33141562, "comment_id": 54116493, "body": "Thanks @user1, i was able to figure what was going on. You were right about not linking to the part of the static library which defined <code>RoCreateCharacterSuccess</code> because it wasn&#39;t directly referring to any symbols defined in there. But what caught me off-guard was that there was a method I was using from that class and it wasn&#39;t obvious as to why that interaction with the class didn&#39;t result in linking to the class definition. I updated my question with the solution. Can you pls update yours to indicate the same so that I can mark this as the answer."}], "tags": [], "owner": {"reputation": 3753, "user_id": 3924882, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2lHZv.jpg?s=128&g=1", "display_name": "user1", "link": "https://stackoverflow.com/users/3924882/user1"}, "is_accepted": true, "score": 2, "last_activity_date": 1444927526, "last_edit_date": 1444927526, "creation_date": 1444891236, "answer_id": 33141562, "question_id": 33137313, "link": "https://stackoverflow.com/questions/33137313/vs-2015-the-breakpoint-will-not-currently-be-hit-no-symbols-have-been-loaded-f/33141562#33141562", "title": "VS 2015: The breakpoint will not currently be hit. No symbols have been loaded for this document", "body": "<p>First of all, I don't see any <strong><em>issue</em></strong> here. This is not a problem with C++ compiler or linker.</p>\n\n<blockquote>\n  <p>I can put breakpoints in any other C++ file in that same project and\n  it will be hit during debugging. There's nothing special about this\n  C++ file. I use CMake to generate the projects and I also refer to the\n  class in the executable project. There are no linking errors, just\n  that debugger says that no debug symbols have been loaded for that\n  source file.</p>\n</blockquote>\n\n<p><strong><em>What going on here really is, When your executable program doesn't see explicit call to module - <code>RoCreateCharacterSuccess.cpp</code> in your static library, It will not link to the module.</em></strong> </p>\n\n<p><strong><em>If the program required a symbol defined in the module, that module would get linked; if not, it would be skipped. Thus any functions, symbols in <code>RoCreateCharacterSuccess.cpp</code> module will never exist.</em></strong> </p>\n\n<p><strong><em><code>RoCreateCharacterSuccess.cpp</code> is considered an unused module.</em></strong> </p>\n\n<p><strong><em>Since symbols have not been loaded for the module, Visual Studio ends up reporting that the breakpoints will not be hit. Which is obvious.</em></strong></p>\n\n<hr>\n\n<blockquote>\n  <p>To make this file be able to have active breakpoints, I have to\n  manually register the packet with the translator in the application.</p>\n</blockquote>\n\n<p><strong><em>When you manually registered the packet with the translator module in application, <code>RoCreateCharacterSuccess.cpp</code> module got linked and the breakpoint was available. You were able to hit the breakpoints in that module.</em></strong></p>\n\n<hr>\n\n<blockquote>\n  <p>It's like RoCreateCharacterSuccess.cpp is never part of the static\n  library it's supposed to be in. But if I purposefully change the file\n  to introduce a syntax error, the library fails to build.</p>\n</blockquote>\n\n<p><strong><em>BTW, This is true for any program, any syntax errors will result in compilation failure. I understand you did that to check if your program was loading correct module, but that really is not the problem.</em></strong> </p>\n\n<p><strong>Update</strong> @Vite Falcon I'm glad my answer gave you hint to find out why the breakpoint wasn't active. Evidently, It was compiler who was optimising inline function calls and breaking the connection between the module and program.</p>\n"}], "owner": {"reputation": 6325, "user_id": 210634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e3c5893c5116967f2dfb4a6b03778f1?s=128&d=identicon&r=PG", "display_name": "Vite Falcon", "link": "https://stackoverflow.com/users/210634/vite-falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2057, "favorite_count": 0, "accepted_answer_id": 33141562, "answer_count": 1, "score": 1, "last_activity_date": 1444927526, "creation_date": 1444864960, "last_edit_date": 1444925612, "question_id": 33137313, "link": "https://stackoverflow.com/questions/33137313/vs-2015-the-breakpoint-will-not-currently-be-hit-no-symbols-have-been-loaded-f", "title": "VS 2015: The breakpoint will not currently be hit. No symbols have been loaded for this document", "body": "<h2>The problem</h2>\n\n<p>I have a C++ (*.cpp) file, which is part of a static library project that I can't put an active breakpoint. When I do, it gives me the notification seen in the title of this post. <strong><em>I can put breakpoints in any other C++ file in that same project and it will be hit during debugging</em></strong>. There's nothing special about this C++ file. I use CMake to generate the projects and I also refer to the class in the executable project. There are no linking errors, just that debugger says that no debug symbols have been loaded for that source file. I have tried several ways to try and diagnose what's wrong and I don't have a good answer as to what's going on in my case.</p>\n\n<h2>What I have tried</h2>\n\n<ol>\n<li><strong>Compare this file with other *.cpp files in the same project</strong>: I cross-check the compiler flags between this and other files that I tested to verify are able to put a valid breakpoint. There's nothing different.</li>\n<li><strong>Rebuild the entire solution</strong>: As you might've guess, this didn't help</li>\n<li><strong>Recreate the entire solution using CMake</strong>: This didn't make any difference either.</li>\n<li><strong>Included the file in the source file that had main() and referred to the class in that file</strong>: This made the difference. I was able to put breakpoint in the class and its code was getting executed, while previously, it wasn't.</li>\n</ol>\n\n<h2>More Information about code</h2>\n\n<ul>\n<li>The C++ file I'm referring to is <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoCreateCharacterSuccess.cpp#L4\" rel=\"nofollow\"><code>RoCreateCharacterSuccess.cpp</code></a></li>\n<li>The job of <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoPacket.h#L163-L166\" rel=\"nofollow\"><code>roREGISTER_PACKET</code></a> is to register this packet class with another class (<a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoPacketTranslator.h#L17-L18\" rel=\"nofollow\"><code>RoPacketTranslator</code></a>) when the application initializes.</li>\n<li>The <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoCreateCharacterSuccess.cpp#L6-L9\" rel=\"nofollow\">constructor of <code>RoCreateCharacterSuccess</code></a> gets invoked when registering the packet class.</li>\n<li>When the breakpoint isn't active, this constructor doesn't get invoked. I know this because this packet class doesn't exist in the class that it's supposed to be registered with. It's like <code>RoCreateCharacterSuccess.cpp</code> is never part of the static library it's supposed to be in. But if I purposefully change the file to introduce a syntax error, the library fails to build.</li>\n<li>To make this file be able to have active breakpoints, I have to manually register the packet with the translator in the application.</li>\n</ul>\n\n<p>Has anyone else seen such an issues? I'm stumped at this point trying to understand what's happening. Any help in shedding light into what's happening here would be great! Thanks for your time reading this question.</p>\n\n<p><strong>EDIT</strong>: I forgot to mention that this problem was diagnosed because I was trying to diagnose why the character creation packet didn't get translated into <code>RoCreateCharacterSuccess</code> object when <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/application/services/RoCharacterServerInterface.cpp#L170-L182\" rel=\"nofollow\">the character gets successfully created</a>. I later found that <code>RoCreateCharacterSuccess</code> class was not getting registered with <code>RoPacketTranslator</code> class. Trying to put a breakpoint to check if the constructor was called lead to this question.</p>\n\n<hr>\n\n<h3>Solution</h3>\n\n<p>Thanks to @user1, I figured out what was happening. So, in my executable, <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/application/services/RoCharacterServerInterface.cpp#L170-L182\" rel=\"nofollow\">where I refer to this class (or an instance of it)</a>, I was only accessing <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoCreateCharacterSuccess.h#L12-L15\" rel=\"nofollow\"><code>RoCreateCharacterSuccess::getCharacter()</code></a>, which is in the header-file and probably got inline'd by the compiler into the executable. As far as the compiler could see, that was my only interaction with that class. I wasn't invoking its <a href=\"https://github.com/ViteFalcon/RokLegend/blob/8644d99322f5d0a8ebb80dc8a052ac69d831d423/source/network/packets/RoCreateCharacterSuccess.cpp#L6-L9\" rel=\"nofollow\">constructor, which was defined in the <code>cpp</code> file</a>. This means that the compiler has the opportunity to optimize that part of the code away (I did have that option turned on).</p>\n\n<p><strong>The solution</strong>: I moved the definition of the only method I interact with, <code>RoCreateCharacterSuccess::getCharacter()</code>, into the cpp file, therefore avoiding inline'ing and forcing the compiler to link to that part of the static library that defined <code>RoCreateCharacterSuccess</code> class, thereby triggering the act of registering <code>RoCreateCharacterSuccess</code> class with the translator class.</p>\n"}, {"tags": ["c++", "operator-overloading", "new-operator"], "comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1444864061, "post_id": 33137115, "comment_id": 54085848, "body": "The extra bytes are used to store information about the array you are allocating. That&#39;s how <code>operator delete[]</code> knows how to perform the cleanup. See Andrei Alexandrescu&#39;s CppCon 2015 talk about the issues with such a design, and why it is considered bad: <a href=\"https://www.youtube.com/watch?v=LIb3L4vKZ7U\" rel=\"nofollow noreferrer\">youtube.com/watch?v=LIb3L4vKZ7U</a>"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1444864187, "post_id": 33137115, "comment_id": 54085875, "body": "See <a href=\"http://stackoverflow.com/q/8720425/241631\">stackoverflow.com/q/8720425/241631</a> (possible duplicate even though that question asks about array placement new)"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 3, "creation_date": 1444864488, "post_id": 33137115, "comment_id": 54085953, "body": "The usual answer to &quot;X does Y unexpectedly&quot; is that your expectations were wrong... And think about destructors."}], "answers": [{"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1444864260, "post_id": 33137151, "comment_id": 54085903, "body": "<code>y</code> is kind of missing here... :)"}, {"owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1444864426, "post_id": 33137151, "comment_id": 54085941, "body": "@vsoftco Yeah, I was not sure if I should use ellipsis instead, because it makes the sentence less readable :)."}, {"owner": {"reputation": 4915, "user_id": 181783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1fb6e1466afe620716fcdd839fe54bba?s=128&d=identicon&r=PG", "display_name": "Olumide", "link": "https://stackoverflow.com/users/181783/olumide"}, "edited": false, "score": 0, "creation_date": 1444865580, "post_id": 33137151, "comment_id": 54086266, "body": "@AlexD : if the extra bytes are possibly used to store the number of allocated elements, why is it that zero extra bytes are sometimes allocated?? And should this decision be taken by the runtime on my behalf when I am completely managing memory?"}, {"owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "edited": false, "score": 1, "creation_date": 1444866033, "post_id": 33137151, "comment_id": 54086363, "body": "In which context do you see zero overhead? (In practice I&#39;d expect to see it for every <code>new T[n]</code>. Regading your second question, there is a footnote in the standard: <i>&quot;It is not the direct responsibility of operator <code>new[](std::size_t)</code> or operator <code>delete[](void*)</code> to note the repetition count or element size of the array. Those operations are performed elsewhere in the array <code>new</code> and <code>delete</code> expressions. The array new expression, may, however, increase the size argument to operator <code>new[](std::size_t)</code> to obtain space to store supplemental information.&quot;</i>"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1444871279, "post_id": 33137151, "comment_id": 54087610, "body": "@AlexD you should put that last comment as part of the answer, it&#39;s really useful"}], "tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": true, "score": 5, "last_activity_date": 1444896698, "last_edit_date": 1444896698, "creation_date": 1444863946, "answer_id": 33137151, "question_id": 33137115, "link": "https://stackoverflow.com/questions/33137115/custom-operator-new-requests-for-larger-than-expected-memory/33137151#33137151", "title": "Custom operator new[] requests for larger than expected memory", "body": "<p>According to the standard (<strong>5.3.4 New</strong>):</p>\n\n<blockquote>\n  <p><code>new T[5]</code> results in a call of <code>operator new[](sizeof(T)*5+x)</code></p>\n  \n  <p>Here, <code>x</code> ... are non-negative unspecified values representing array allocation overhead; the result of the\n  new-expression will be offset by this amount from the value returned by operator <code>new[]</code>. ...</p>\n  \n  <p>The amount of overhead may vary from one invocation of <code>new</code> to another.</p>\n</blockquote>\n\n<p>In practice it can be used to represent the number of allocated elements. As <strong>@vsoftco</strong> commented, \"<em>That's how operator <code>delete[]</code> knows how to perform the cleanup</em>\".</p>\n\n<p>See a footnote in <strong>18.6.1.2 Array forms</strong>:</p>\n\n<blockquote>\n  <p>It is not the direct responsibility of <code>operator new[](std::size_t)</code> or <code>operator delete[](void*)</code> to note the repetition count or element size of the array. Those operations are performed elsewhere in the array <code>new</code> and <code>delete</code> expressions. The array <code>new</code> expression, may, however, increase the <code>size</code> argument to <code>operator new[](std::size_t)</code> to obtain space to store supplemental information.</p>\n</blockquote>\n"}], "owner": {"reputation": 4915, "user_id": 181783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1fb6e1466afe620716fcdd839fe54bba?s=128&d=identicon&r=PG", "display_name": "Olumide", "link": "https://stackoverflow.com/users/181783/olumide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 33137151, "answer_count": 1, "score": 3, "last_activity_date": 1444896698, "creation_date": 1444863707, "question_id": 33137115, "link": "https://stackoverflow.com/questions/33137115/custom-operator-new-requests-for-larger-than-expected-memory", "title": "Custom operator new[] requests for larger than expected memory", "body": "<p>I am at a loss as to explain why, in the sample code, the call <code>new Foo [4]</code> to the custom <code>operator new[]</code> requests 68 bytes -- 4 more bytes than it ought to (<code>sizeof(Foo) == 16</code>), whereas the more arcane call <code>Foo::operator new[]( 4 * sizeof( Foo ) )</code> correctly requests 64 bytes. Note that when the member <code>std::vector&lt;long&gt; m_dummy</code> is removed from <code>Foo</code> both calls correctly request 16 bytes (code on <a href=\"http://ideone.com/0gHdo9\" rel=\"nofollow\">ideone</a>).</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nstruct MemoryManager\n{\n    static void* allocate( unsigned size )\n    {\n        static char block[256];\n        return block;\n    }\n};\n\nclass Foo\n{\npublic:\n    void* operator new[]( size_t size )\n    {\n        std::cout &lt;&lt; \"operator new[] : data size -- \" &lt;&lt; size &lt;&lt; std::endl;\n        return MemoryManager::allocate( size );\n    }  \n\nprivate:\n    std::vector&lt;long&gt; m_dummy;  // Huh?\n    unsigned m_num;\n};\n\nint main( int argc, char * argv[] )\n{\n    std::cout &lt;&lt; \"Foo size: \" &lt;&lt; sizeof( Foo ) &lt;&lt; std::endl;\n    new Foo [4];\n    Foo::operator new[]( 4 * sizeof( Foo ) );\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "edited": false, "score": 6, "creation_date": 1444863213, "post_id": 33136995, "comment_id": 54085546, "body": "google <code>std::function</code> and <code>c++ lambda</code>"}, {"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 1, "creation_date": 1444863240, "post_id": 33136995, "comment_id": 54085559, "body": "Function pointers are very handy..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1444863486, "post_id": 33136995, "comment_id": 54085641, "body": "Function objects are useful too.  Search the internet for <code>operator()</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444863919, "post_id": 33136995, "comment_id": 54085797, "body": "Take a look at <a href=\"https://isocpp.org/wiki/faq/pointers-to-members#functionoids\" rel=\"nofollow noreferrer\">The Astonishing Functionoid!</a>"}], "answers": [{"comments": [{"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 4, "creation_date": 1444863747, "post_id": 33137095, "comment_id": 54085742, "body": "Accepting a function pointer is extremely limiting, it means you can just pass only non-capturing lambdas or plain function pointers (=&gt; no bound method calls, just to make an example). You should accept an <code>std::function</code> instead."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 4, "last_activity_date": 1444866252, "last_edit_date": 1444866252, "creation_date": 1444863575, "answer_id": 33137095, "question_id": 33136995, "link": "https://stackoverflow.com/questions/33136995/passing-code-as-an-argument-c/33137095#33137095", "title": "Passing code as an argument (C++)", "body": "<p>Here is a simple example to get started with...</p>\n\n<pre><code>void Example(void (*x)(void))\n{\n    x();\n}\n</code></pre>\n\n<p>and the call would be...</p>\n\n<pre><code>Example([] { cout &lt;&lt; \"do something\\n\"; });\n</code></pre>\n\n<p>This is very similar to your C# example.  And there are better, more versatile ways of doing this as the comments suggest.  If you had wanted to return a value and take a parameter you could do something like this...</p>\n\n<pre><code>int Example2(int (*y)(int i), int p)\n{\n    return y(p);\n}\n// ...\nauto ret = Example2([](int p) -&gt; int { cout &lt;&lt; p &lt;&lt; \"\\n\"; return p; }, 2);\n</code></pre>\n\n<p>This would be similar to the C# version as follows</p>\n\n<pre><code>int Example2(Func&lt;int,int&gt; y, int p)\n{\n    return y(p);\n}\n// ...\nvar ret = Example2((p) =&gt; { /*etc*/ return p; }, 2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "is_accepted": false, "score": 1, "last_activity_date": 1444864246, "creation_date": 1444864246, "answer_id": 33137199, "question_id": 33136995, "link": "https://stackoverflow.com/questions/33136995/passing-code-as-an-argument-c/33137199#33137199", "title": "Passing code as an argument (C++)", "body": "<p>Use <code>std::function&lt;void()&gt;</code> instead of <code>Action</code> and the C++ syntax for lambda functions:</p>\n\n<pre><code>void Example(std::function&lt;void()&gt; action)\n{\n    action();\n}\n\nExample([]() {\n    //do something\n});\n</code></pre>\n\n<p><code>std::function</code>, in comparison to @Les's solution with function pointers, allows you to pass lambdas which capture context and in general any other kind of callable objects.</p>\n"}, {"tags": [], "owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "is_accepted": false, "score": 3, "last_activity_date": 1444864354, "creation_date": 1444864354, "answer_id": 33137218, "question_id": 33136995, "link": "https://stackoverflow.com/questions/33136995/passing-code-as-an-argument-c/33137218#33137218", "title": "Passing code as an argument (C++)", "body": "<p>C++11 equivalent would be:</p>\n\n<pre><code>void Example(const std::function&lt;void()&gt;&amp; action)\n{\n    // always good to make sure that action has a valid target\n    if(action != nullptr)\n        action();\n}\n\nExample([] {\n    //do something\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48938, "user_id": 246886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd1ebaade6623fc538fb8af3338e730d?s=128&d=identicon&r=PG", "display_name": "Jon Purdy", "link": "https://stackoverflow.com/users/246886/jon-purdy"}, "is_accepted": false, "score": 3, "last_activity_date": 1444866356, "last_edit_date": 1444866356, "creation_date": 1444865789, "answer_id": 33137452, "question_id": 33136995, "link": "https://stackoverflow.com/questions/33136995/passing-code-as-an-argument-c/33137452#33137452", "title": "Passing code as an argument (C++)", "body": "<p><code>std::function&lt;Result(Param1, Param2, ...)&gt;</code> is a decent default, but you have a few options:</p>\n\n<ol>\n<li><p>Declare an auxiliary function and pass a pointer to it. This was the only way to go about things in C, and a conventional way to do it in C++98.</p>\n\n<pre><code>void example(void (*action)()) {\n    action();\n}\n\nvoid example_action() {\n    std::cout &lt;&lt; \"action\\n\";\n}\n\nexample(example_action);\n</code></pre></li>\n<li><p>Accept a function pointer, and pass a lambda that captures no variables. Lambdas are available in C++11 and later.</p>\n\n<pre><code>void example(void (*action)()) {\n    action();\n}\n\nexample([]() {\n    std::cout &lt;&lt; \"action\\n\";\n});\n</code></pre></li>\n<li><p>Accept a callable template type parameter (one with <code>operator()</code> defined), and pass a lambda that may capture variables, or any other callable object (\u201cfunctor\u201d).</p>\n\n<pre><code>template&lt;class F&gt;\nvoid example(F action) {\n    action();\n}\n\nint x = 4;\nexample([x]() {\n    std::cout &lt;&lt; \"action (\" &lt;&lt; x &lt;&lt; \")\\n\";\n});\n\nstruct example_action {\n    void operator()() {\n        std::cout &lt;&lt; \"action\\n\";\n    }\n};\n\nexample(example_action());\n</code></pre></li>\n<li><p>Accept a <a href=\"http://en.cppreference.com/w/cpp/utility/functional/function\" rel=\"nofollow\"><code>std::function</code></a> object, and pass a lambda that may capture variables.</p>\n\n<pre><code>void example(std::function&lt;void()&gt; action) {\n    action();\n}\n\nint x = 4;\nexample([x]() {\n    std::cout &lt;&lt; \"action (\" &lt;&lt; x &lt;&lt; \")\\n\";\n});\n</code></pre></li>\n<li><p>Declare an auxiliary function and take pointer to it at compile time.</p>\n\n<pre><code>template&lt;void (*action)()&gt;\nvoid example() {\n    action();\n}\n\nexample&lt;example_action&gt;();\n</code></pre></li>\n</ol>\n\n<p>Like any template, #3 will generate a specialisation of <code>example</code> for every action type with which you call it, so it may increase your binary size, but it has no runtime overhead. #4 will allocate space for the closure at runtime, but will only generate one definition of <code>example</code> in the binary. #5 is rarer, but it allows the passed-in function to benefit from optimisations such as inlining.</p>\n"}], "owner": {"reputation": 61, "user_id": 3289547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c970b33554ce9430467626fe84d5cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3289547", "link": "https://stackoverflow.com/users/3289547/user3289547"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 2, "answer_count": 4, "score": 4, "last_activity_date": 1444866356, "creation_date": 1444863083, "last_edit_date": 1444863636, "question_id": 33136995, "link": "https://stackoverflow.com/questions/33136995/passing-code-as-an-argument-c", "title": "Passing code as an argument (C++)", "body": "<p>How would I go about passing a code block to a function in C++. In C# I can do something like this:</p>\n\n<pre><code>void Example(Action action)\n{\n    action();\n}\n\nExample(() =&gt; {\n    //do something\n});\n</code></pre>\n\n<p>All help and tips are greatly appreciated.</p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 620, "user_id": 1824143, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c03128747ba8f3c3e6323614c2273b04?s=128&d=identicon&r=PG", "display_name": "grimgrom", "link": "https://stackoverflow.com/users/1824143/grimgrom"}, "edited": false, "score": 0, "creation_date": 1444868560, "post_id": 33136977, "comment_id": 54087022, "body": "Oh god damn, I managed to fix it. Here&#39;s the error: #define glClearBufferfv __glClearBufferfv; #define glDrawBuffers __glDrawBuffers;  The &quot;;&quot; made the compiled ignore the function call."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1444904568, "post_id": 33136977, "comment_id": 54101451, "body": "The error seems to be those underscores, if I&#39;m being honest. Are you battling with some incorrect calling convention / name mangling problems?"}, {"owner": {"reputation": 620, "user_id": 1824143, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c03128747ba8f3c3e6323614c2273b04?s=128&d=identicon&r=PG", "display_name": "grimgrom", "link": "https://stackoverflow.com/users/1824143/grimgrom"}, "reply_to_user": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1444962828, "post_id": 33136977, "comment_id": 54131976, "body": "Underscores at the beginning of variabler is ok. It were the ; after the define that messed up the code."}], "owner": {"reputation": 620, "user_id": 1824143, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c03128747ba8f3c3e6323614c2273b04?s=128&d=identicon&r=PG", "display_name": "grimgrom", "link": "https://stackoverflow.com/users/1824143/grimgrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444863001, "creation_date": 1444863001, "question_id": 33136977, "link": "https://stackoverflow.com/questions/33136977/opengl-can-not-write-to-framebuffer", "title": "OpenGL: Can not write to framebuffer", "body": "<p>I've been struggling with this for a while, without any positive result. I've also implemented framebuffers with multiple render targets before, without any issues, but right now it wont work for some reason.</p>\n\n<p>Here's the code for initialization:</p>\n\n<pre><code>   // LOAD TEXTURE 1\n        glGenTextures(1, &amp;m_Texture1);\n        glBindTexture(GL_TEXTURE_2D, m_Texture1);\n        glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, size.x, size.y, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);\n\n        // LOAD TEXTURE 2\n        glGenTextures(1, &amp;m_Texture2);\n        glBindTexture(GL_TEXTURE_2D, m_Texture2);\n        glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB16F, size.x, size.y, 0, GL_RGB, GL_FLOAT, NULL);\n\n\n        // LOAD TEXTURE 3\n        glGenTextures(1, &amp;m_Texture3);\n        glBindTexture(GL_TEXTURE_2D, m_Texture3);\n        glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB32F_ARB, size.x, size.y, 0, GL_RGB, GL_FLOAT, NULL);\n\n\n\n        // Load FBO\n        glGenFramebuffers(1, &amp;m_fbo);\n        glBindFramebuffer(GL_FRAMEBUFFER_EXT, m_fbo);\n        glFramebufferTexture2D(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, GL_TEXTURE_2D, m_Texture1, 0);\n        glFramebufferTexture2D(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT1_EXT, GL_TEXTURE_2D, m_Texture2, 0);\n        glFramebufferTexture2D(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT2_EXT, GL_TEXTURE_2D, m_Texture3, 0);\n\n        glBindFramebuffer(GL_FRAMEBUFFER_EXT, 0);\n</code></pre>\n\n<p>And for drawing:</p>\n\n<pre><code>glBindFramebuffer(GL_FRAMEBUFFER_EXT, m_fbo);\n\n        /// Draw the buffers, 3 color textures\n        GLenum buffers[] = { GL_COLOR_ATTACHMENT0_EXT, GL_COLOR_ATTACHMENT1_EXT, GL_COLOR_ATTACHMENT2_EXT };\n        glDrawBuffers(3, buffers);\n\n        /// Clear all the buffers\n        GLfloat color1[] = { 1.0f, 1.0, 0.0, 1.0 };\n        GLfloat color2[] = { 0.0f, 1.0, 0.0, 1.0 };\n        GLfloat color3[] = { 0.0f, 0.0, 1.0, 1.0 };\n        glClearBufferfv(GL_COLOR, 0, color1);\n        glClearBufferfv(GL_COLOR, 1, color2);\n        glClearBufferfv(GL_COLOR, 2, color3);\n\n        glBindFramebuffer(GL_FRAMEBUFFER_EXT, 0);\n</code></pre>\n\n<p>I'm using gDEBugger for debugging buffers etc, and the 3 textures should be yellow, green and blue if i'm not right? But they are black for some reason...</p>\n"}, {"tags": ["c++", "syntax-error"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1444863186, "post_id": 33136969, "comment_id": 54085531, "body": "The compiler is right. <code>GuessNum</code> is not initialized. Also, <code>while (intSecretNum != 47, GuessNum &lt;= 5)</code> is incorrect. Use <code>&amp;&amp;</code> in place of the comma."}], "answers": [{"comments": [{"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 1, "creation_date": 1444873480, "post_id": 33137017, "comment_id": 54088105, "body": "And <code>cout &lt;&lt; &quot;program terminated.&quot; &lt;&lt;endl;</code> is not within the conditional."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 1, "creation_date": 1444874018, "post_id": 33137017, "comment_id": 54088235, "body": "@BillLynch Gotta leave some of the fun to OP. :)"}], "tags": [], "owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": false, "score": 4, "last_activity_date": 1444863172, "creation_date": 1444863172, "answer_id": 33137017, "question_id": 33136969, "link": "https://stackoverflow.com/questions/33136969/indentifier-was-not-being-initialized/33137017#33137017", "title": "indentifier was not being initialized", "body": "<p>You forgot to initialize <code>GuessNum</code>:</p>\n\n<pre><code>int GuessNum = 0;\n             ^^^\n</code></pre>\n\n<p>Additionally, the comma in the <code>while</code> condition does not do what you think it does, you mean <code>&amp;&amp;</code> which is \"and\" in C++.</p>\n"}], "owner": {"reputation": 35, "user_id": 5366145, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1213109995381546/picture?type=large", "display_name": "Thomas Zhu", "link": "https://stackoverflow.com/users/5366145/thomas-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444869609, "creation_date": 1444862947, "last_edit_date": 1444869609, "question_id": 33136969, "link": "https://stackoverflow.com/questions/33136969/indentifier-was-not-being-initialized", "title": "indentifier was not being initialized", "body": "<p>was doing school project here and run into a problem\nMy program was support to be user guessing a number which is 47 and if they got it wrong they have 5 total of 5 tries. if still didnt get it the program will exit. If they got it there will be a message saying that how many tries it took for then to get the answer.\nTherefore, i have to have a identifier for the number of tries it took. But C++ says that i didnt initialized the identifier. Please help</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n  int intSecretNum = 47;\n  int intGuess;\n  int GuessNum;\n  cout&lt;&lt; \"Guess the secret number (between 0 and 100 inclusively): \";\n  cin&gt;&gt; intGuess;\nwhile(intSecretNum != 47, GuessNum&lt;= 5)\n{\n        if( intGuess &lt; intSecretNum)\n            cout &lt;&lt; \"Your Number is smaller than the secret number\";\n        else if (intGuess &gt; intSecretNum)\n            cout &lt;&lt; \"Your Number is bigger than the secret number\";\n        GuessNum++;\n        if(GuessNum&gt;5)\n            cout &lt;&lt; \"Sorry, you have used up all your quota (5 times)! The secret number is \"&lt;&lt;intSecretNum;\n            cout &lt;&lt; \"program terminated.\" &lt;&lt;endl;\n}\ncout&lt;&lt; \"You have used \"&lt;&lt;GuessNum &lt;&lt;\" to guess te secret number which is \" &lt;&lt;intSecretNum&lt;&lt;\".\";\ncout&lt;&lt;\"program terminated.\"&lt;&lt;endl;\nreturn 0;\n}\n</code></pre>\n\n<p>Please help =D</p>\n"}, {"tags": ["c++", "c++11", "smart-pointers", "eclipse-cdt"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1444862982, "post_id": 33136819, "comment_id": 54085443, "body": "That&#39;s a CODAN error, not a compiler error."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444863052, "post_id": 33136819, "comment_id": 54085480, "body": "Here&#39;s another that may be easier to follow step by step: <a href=\"http://stackoverflow.com/questions/17457069/enabling-c11-in-eclipse-juno-kepler-luna-cdt\" title=\"enabling c11 in eclipse juno kepler luna cdt\">stackoverflow.com/questions/17457069/&hellip;</a>"}, {"owner": {"reputation": 1769, "user_id": 398502, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0ad41bf624e895bbc2e53b087dd0b0b?s=128&d=identicon&r=PG", "display_name": "Govan", "link": "https://stackoverflow.com/users/398502/govan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444863447, "post_id": 33136819, "comment_id": 54085627, "body": "@user4581301 I tested the first link. It is not solving my problem"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444864233, "post_id": 33136819, "comment_id": 54085895, "body": "Another option is upgrade to Eclipse Mars. It makes this problem go away, but adopts a slew of new problems. Mind you the last update seems to have fixed most of those. And at the end of the day CODAN isn&#39;t perfect. I&#39;ve got some totally nonsensical errors that I just can&#39;t clear out no matter what I do, short of turning CODAN off."}, {"owner": {"reputation": 1769, "user_id": 398502, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0ad41bf624e895bbc2e53b087dd0b0b?s=128&d=identicon&r=PG", "display_name": "Govan", "link": "https://stackoverflow.com/users/398502/govan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444864422, "post_id": 33136819, "comment_id": 54085937, "body": "Thanks the link in third comment helped. I missed the step 7.  ove the &quot;GCC Built in Compiler Settings&quot; provider at the top of the list using the &#39;Move Up&#39; button on the right."}], "owner": {"reputation": 1769, "user_id": 398502, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0ad41bf624e895bbc2e53b087dd0b0b?s=128&d=identicon&r=PG", "display_name": "Govan", "link": "https://stackoverflow.com/users/398502/govan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1444864008, "answer_count": 0, "score": 0, "last_activity_date": 1444862243, "creation_date": 1444862243, "question_id": 33136819, "link": "https://stackoverflow.com/questions/33136819/defining-shared-ptr-in-eclipse-luna-cdt", "closed_reason": "Duplicate", "title": "defining shared_ptr in eclipse luna CDT", "body": "<p>I am trying to define a vector of shared_ptr in my code inside Eclipse Luna CDT. But I am getting compiling error. Any Idea why?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include \"Object.h\"\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n\nusing namespace std;\n\nnamespace daemonWorld {\n\nclass Holder: public Object {\n    int holdWeight = 0;\n    int holdValume = 0;\n    shared_ptr&lt;Object&gt; test;\n    std::vector&lt;shared_ptr&lt;Object&gt;&gt; objects;\n</code></pre>\n\n<p>In this line I am getting Symbol 'shared_ptr' could not be resolved. Should I include anything more beside memory? \ng++ options are </p>\n\n<pre><code>D_GXX_EXPERIMENTAL_CXX0X__ -D__Test=1 -D__GXX_EXPERIMENTAL_CXX0X__=1 -I/usr/include/cppunit -O0 -g3 -Wall -c -fmessage-length=0 -std=c++11\n</code></pre>\n\n<p>The code is running but the eclipse compiler is showing an error.</p>\n"}, {"tags": ["c++", "templates", "c++11", "constexpr", "enable-if"], "comments": [{"owner": {"reputation": 1261, "user_id": 2303378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ff8bb3b43552420897498876c08527d?s=128&d=identicon&r=PG", "display_name": "Denis Blank", "link": "https://stackoverflow.com/users/2303378/denis-blank"}, "edited": false, "score": 1, "creation_date": 1444863712, "post_id": 33136815, "comment_id": 54085726, "body": "There is also the possibility to use tag dispatching which would be much more elegant for your usage example. <code>defaultSizeHelper(std::integral_constant&lt;std::size_t, sizeof(std::size_t)&gt;{})</code>"}, {"owner": {"reputation": 1261, "user_id": 2303378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ff8bb3b43552420897498876c08527d?s=128&d=identicon&r=PG", "display_name": "Denis Blank", "link": "https://stackoverflow.com/users/2303378/denis-blank"}, "edited": false, "score": 0, "creation_date": 1444864570, "post_id": 33136815, "comment_id": 54085976, "body": "Just a small addition to my previous comment, your code would look like: <a href=\"http://coliru.stacked-crooked.com/a/ee0738c2369e03ec\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/ee0738c2369e03ec</a> when using tag dispatching."}], "answers": [{"comments": [{"owner": {"reputation": 1101, "user_id": 4254425, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232cb0401b3c3e7b28959cf0606742c5?s=128&d=identicon&r=PG", "display_name": "Viacheslav Kroilov", "link": "https://stackoverflow.com/users/4254425/viacheslav-kroilov"}, "edited": false, "score": 0, "creation_date": 1444863222, "post_id": 33136965, "comment_id": 54085549, "body": "Oh, I&#39;ve forgot that I can mix up meta-programming and normal code! Thank you for a nice solution!"}], "tags": [], "owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "is_accepted": false, "score": 5, "last_activity_date": 1444862900, "creation_date": 1444862900, "answer_id": 33136965, "question_id": 33136815, "link": "https://stackoverflow.com/questions/33136815/sfinae-doesnt-work-on-a-constexpr-function/33136965#33136965", "title": "SFINAE doesn&#39;t work on a constexpr function?", "body": "<p>The principle behind <a href=\"http://en.cppreference.com/w/cpp/language/sfinae\" rel=\"noreferrer\">SFINAE</a> is that if the substitution of a deduced template argument results in ill-formed code, then that function template is dropped from the overload resolution set, instead of causing a hard error.</p>\n\n<p>In your case there is no deduced template argument or substitution of one, hence you end up with compilation errors. All you need is</p>\n\n<pre><code>constexpr static size_t defaultSize = is_same&lt;size_t, uint32_t&gt;::value \n                                        ? (( (size_t) 1 &lt;&lt; 30 ) / 2 * 5)\n                                        : numeric_limits&lt;size_t&gt;::max() / 2;\n</code></pre>\n\n<hr>\n\n<p>For curiosity's sake, if you wanted to use SFINAE, you could do something like this</p>\n\n<pre><code>namespace detail {\n    template&lt;typename T, typename enable_if&lt;is_same&lt;T, uint32_t&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr static const T defaultSizeHelper(T) {\n        return ( (size_t) 1 &lt;&lt; 30 ) / 2 * 5; //2,5 Gb\n    }\n    template&lt;typename T, typename enable_if&lt;is_same&lt;T, uint64_t&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr T defaultSizeHelper(T) {\n        return numeric_limits&lt;size_t&gt;::max() / 2;\n    }\n}\n\nconstexpr static size_t defaultSize = detail::defaultSizeHelper(size_t{});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1101, "user_id": 4254425, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232cb0401b3c3e7b28959cf0606742c5?s=128&d=identicon&r=PG", "display_name": "Viacheslav Kroilov", "link": "https://stackoverflow.com/users/4254425/viacheslav-kroilov"}, "edited": false, "score": 1, "creation_date": 1444863404, "post_id": 33136971, "comment_id": 54085613, "body": "This solution is better (generally, not in this particular case) because it doesn&#39;t introduce an additional dummy (well, not at all) argument."}], "tags": [], "owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "is_accepted": true, "score": 3, "last_activity_date": 1444863289, "last_edit_date": 1495542215, "creation_date": 1444862956, "answer_id": 33136971, "question_id": 33136815, "link": "https://stackoverflow.com/questions/33136815/sfinae-doesnt-work-on-a-constexpr-function/33136971#33136971", "title": "SFINAE doesn&#39;t work on a constexpr function?", "body": "<h3>The Problem</h3>\n\n<p><em>SFINAE</em> stands for <em>Substitution Failure Is Not An Error</em>.</p>\n\n<p>Neither of your two templates fail during instantiation, instead one of them will fail the second the compiler takes a look at it (because it will see that the <em>enable_if</em>s does not depend on a template parameter, and try to expand them directly).</p>\n\n<hr>\n\n<h3>Solution</h3>\n\n<p>The solution is to make the check depend on some <em>template-parameter</em>, so that the compiler can only check the condition upon a potential instantiation.</p>\n\n<p>In your case the easiest solution will be to simply provide a <em>default template-argument</em> that is the type that you would like to check against (<code>T</code> in the below).</p>\n\n<pre><code>using namespace std;\n\nnamespace detail {\n    template&lt;class T = uint32_t, typename enable_if&lt;is_same&lt;size_t, T&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr static const size_t defaultSizeHelper() {\n        return ( (size_t) 1 &lt;&lt; 30 ) / 2 * 5; //2,5 Gb\n    }\n\n    template&lt;class T = uint64_t, typename enable_if&lt;is_same&lt;size_t, T&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr size_t defaultSizeHelper() {\n        return numeric_limits&lt;size_t&gt;::max() / 2;\n    }\n}\n\nconstexpr static size_t defaultSize = detail::defaultSizeHelper();\n</code></pre>\n\n<blockquote>\n  <p><sub><strong>Note</strong>: An alternative solution would be to combine the two functions into one, and use the <a href=\"https://stackoverflow.com/q/392932/1090079\"><em>ternary-operator</em></a> to either return the result of one expression, or another.</sub>.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><sub><strong>Note</strong>: Now that the check is dependent on a template-parameter, make sure you understand why you need to use <code>typename</code> to disambiguate the enable if. See <a href=\"https://stackoverflow.com/a/24101297/1090079\">this answer</a> for more information.</sub></p>\n</blockquote>\n"}], "owner": {"reputation": 1101, "user_id": 4254425, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/232cb0401b3c3e7b28959cf0606742c5?s=128&d=identicon&r=PG", "display_name": "Viacheslav Kroilov", "link": "https://stackoverflow.com/users/4254425/viacheslav-kroilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1625, "favorite_count": 0, "accepted_answer_id": 33136971, "answer_count": 2, "score": 5, "last_activity_date": 1444863289, "creation_date": 1444862227, "last_edit_date": 1444863242, "question_id": 33136815, "link": "https://stackoverflow.com/questions/33136815/sfinae-doesnt-work-on-a-constexpr-function", "title": "SFINAE doesn&#39;t work on a constexpr function?", "body": "<p>To support portability I want to choose a constant based on the fact whether <code>size_t</code> is 32 bit or 64 bit.\nThe code:</p>\n\n<pre><code>using namespace std;\n\nnamespace detail {\n    template&lt;enable_if&lt;is_same&lt;size_t, uint32_t&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr static const size_t defaultSizeHelper() {\n        return ( (size_t) 1 &lt;&lt; 30 ) / 2 * 5; //2,5 Gb\n    }\n    template&lt;enable_if&lt;is_same&lt;size_t, uint64_t&gt;::value,void*&gt;::type = nullptr&gt;\n    constexpr size_t defaultSizeHelper() {\n        return numeric_limits&lt;size_t&gt;::max() / 2;\n    }\n}\n\nconstexpr static size_t defaultSize = detail::defaultSizeHelper();\n</code></pre>\n\n<p>This code doesn't compile because of the <code>error: 'std::enable_if&lt;false, void*&gt;::type' has not been declared. template&lt;enable_if&lt;is_same&lt;size_t, uint64_t&gt;::value,void*&gt;::type = nullptr&gt;</code></p>\n\n<p>Compiler - <code>GCC 4.9</code></p>\n\n<p>It seems to me that the compiler doesn't apply a SFINAE principle to a <code>constexpr</code>. What should I do then?</p>\n"}, {"tags": ["c++", "opengl", "3d", "textures", "glfw"], "answers": [{"comments": [{"owner": {"reputation": 4177, "user_id": 3806122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cKU37.png?s=128&g=1", "display_name": "Jerfov2", "link": "https://stackoverflow.com/users/3806122/jerfov2"}, "edited": false, "score": 0, "creation_date": 1444867426, "post_id": 33137632, "comment_id": 54086709, "body": "Wow. I cannot believe I made that mistake! I&#39;ve done that for all of my other programs in OpenGL, I don&#39;t know why my brain slipped there. Thanks so much!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3692497"}, "is_accepted": true, "score": 1, "last_activity_date": 1569936716, "last_edit_date": 1569936716, "creation_date": 1444866970, "answer_id": 33137632, "question_id": 33136810, "link": "https://stackoverflow.com/questions/33136810/c-opengl-textured-cube-missing-triangles/33137632#33137632", "title": "C++ OpenGL Textured Cube Missing Triangles", "body": "<p>The problem is the call to <code>glBufferData()</code>. You set the size in floats but you have to specify it in bytes using <code>sizeof(GLfloat)</code>. That's why OpenGL isn't receiving all of your data.</p>\n\n<pre><code>void glBufferData\n    (\n    GLenum target,\n    GLsizeiptr size,\n    const GLvoid* data,\n    GLenum usage\n    );\n</code></pre>\n\n<p>So you need to replace:</p>\n\n<pre><code>glBufferData(GL_ARRAY_BUFFER, vertices * 3, points, GL_STATIC_DRAW);\nglBufferData(GL_ARRAY_BUFFER, vertices * 2, textureCoords, GL_STATIC_DRAW);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>glBufferData(GL_ARRAY_BUFFER, vertices * 3 * sizeof(GLfloat), points, GL_STATIC_DRAW);\nglBufferData(GL_ARRAY_BUFFER, vertices * 2 * sizeof(GLfloat), textureCoords, GL_STATIC_DRAW);\n</code></pre>\n"}], "owner": {"reputation": 4177, "user_id": 3806122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cKU37.png?s=128&g=1", "display_name": "Jerfov2", "link": "https://stackoverflow.com/users/3806122/jerfov2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 33137632, "answer_count": 1, "score": 2, "last_activity_date": 1569936716, "creation_date": 1444862170, "last_edit_date": 1569899946, "question_id": 33136810, "link": "https://stackoverflow.com/questions/33136810/c-opengl-textured-cube-missing-triangles", "title": "C++ OpenGL Textured Cube Missing Triangles", "body": "<p>On my journey towards being competent at OpenGL, I was trying to make a textured cube when I came upon this problem:\n<a href=\"https://i.stack.imgur.com/7SP5B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7SP5B.jpg\" alt=\"\"></a>\n\nOnly part of my cube is being rendered. There should be 12 triangles but only 3 of them are being rendered. I've looked at many tutorials, but I can't seem to find the problem/main difference between our code. Here's mine:</p>\n\n<pre><code>...\n\nint main(int argc, char* argv[]) {\n    if (!setupGLFW()) return 1;\n    setupApple();\n\n    glfwWindowHint(GLFW_SAMPLES, 4);\n\n    GLFWwindow* window = glfwCreateWindow(WIN_WIDTH, WIN_HEIGHT, \"Textured Cube\", NULL, NULL);\n    if (!window) {\n        log_msg(LOG_ERROR, \"Could not open a GLFW3 window!\\n\");\n\n        return 1;\n    }\n\n    glfwMakeContextCurrent(window);\n\n    if (!setupGLEW()) return 1;\n\n    glClearColor(0.5, 0.5, 0.5, 1.0);\n    glEnable(GL_DEPTH_TEST);\n    glDepthFunc(GL_LESS);\n\n    static const int vertices = 12 * 3;\n    static const GLfloat points[] = {\n        -1.0, -1.0, -1.0,\n        -1.0, -1.0,  1.0,\n        -1.0,  1.0,  1.0,\n         1.0,  1.0, -1.0,\n        -1.0, -1.0, -1.0,\n        -1.0,  1.0, -1.0,\n         1.0, -1.0,  1.0,\n        -1.0, -1.0, -1.0,\n         1.0, -1.0, -1.0,\n         1.0,  1.0, -1.0,\n         1.0, -1.0, -1.0,\n        -1.0, -1.0, -1.0,\n        -1.0, -1.0, -1.0,\n        -1.0,  1.0,  1.0,\n        -1.0,  1.0, -1.0,\n         1.0, -1.0,  1.0,\n        -1.0, -1.0,  1.0,\n        -1.0, -1.0, -1.0,\n        -1.0,  1.0,  1.0,\n        -1.0, -1.0,  1.0,\n         1.0, -1.0,  1.0,\n         1.0,  1.0,  1.0,\n         1.0, -1.0, -1.0,\n         1.0,  1.0, -1.0,\n         1.0, -1.0, -1.0,\n         1.0,  1.0,  1.0,\n         1.0, -1.0,  1.0,\n         1.0,  1.0,  1.0,\n         1.0,  1.0, -1.0,\n        -1.0,  1.0, -1.0,\n         1.0,  1.0,  1.0,\n        -1.0,  1.0, -1.0,\n        -1.0,  1.0,  1.0,\n         1.0,  1.0,  1.0,\n        -1.0,  1.0,  1.0,\n         1.0, -1.0,  1.0\n    };\n\n\n    static const GLfloat textureCoords[] = {\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n        0, 0,\n        1, 0,\n        0, 1,\n        0, 1,\n        1, 0,\n        1, 1,\n    };\n\n    GLuint pointBuffer;\n    glGenBuffers(1, &amp;pointBuffer);\n    glBindBuffer(GL_ARRAY_BUFFER, pointBuffer);\n    glBufferData(GL_ARRAY_BUFFER, vertices * 3, points, GL_STATIC_DRAW);\n\n    GLuint textureBuffer;\n    glGenBuffers(1, &amp;textureBuffer);\n    glBindBuffer(GL_ARRAY_BUFFER, textureBuffer);\n    glBufferData(GL_ARRAY_BUFFER, vertices * 2, textureCoords, GL_STATIC_DRAW);\n\n    GLuint vao;\n    glGenVertexArrays(1, &amp;vao);\n    glBindVertexArray(vao);\n    glBindBuffer(GL_ARRAY_BUFFER, pointBuffer);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, NULL);\n    glBindBuffer(GL_ARRAY_BUFFER, textureBuffer);\n    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 0, NULL);\n\n    glEnableVertexAttribArray(0);\n    glEnableVertexAttribArray(1);\n\n    GLuint program = getProgramFromFiles(\"text_cube.vs.glsl\", \"text_cube.fs.glsl\");\n    glm::mat4 MVP = calculateMVP();\n    GLuint texture = loadBMP(\"uvtemplate.bmp\");\n\n    if (!program) {\n        log_msg(LOG_ERROR, \"There was a problem opening shader.\\n\");\n\n        // clean up\n        return 1;\n    }\n\n    if (!texture) {\n        log_msg(LOG_ERROR, \"There was a problem opening shader.\\n\");\n\n        // clean up\n        return 1;\n    }\n\n    glUseProgram(program);\n\n    GLuint MVPID = glGetUniformLocation(program, \"MVP\");\n    GLuint textureID = glGetUniformLocation(program, \"cube_texture\");\n\n    glUniformMatrix4fv(MVPID, 1, GL_FALSE, &amp;MVP[0][0]);\n\n    glActiveTexture(GL_TEXTURE0);\n    glBindTexture(GL_TEXTURE_2D, texture);\n    glUniform1i(textureID, 0);\n\n    while (!glfwWindowShouldClose(window) &amp;&amp; glfwGetKey(window, GLFW_KEY_ESCAPE) != GLFW_PRESS) {\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n        glDrawArrays(GL_TRIANGLES, 0, vertices);\n\n        glfwPollEvents();\n        glfwSwapBuffers(window);\n    }\n\n    // clean up\n    return 0;\n} \n</code></pre>\n\n<p>Just so you know, the error is not with <code>setupGLFW()</code>, <code>setupApple()</code>, <code>setupGLEW()</code>, <code>getProgramFromFiles()</code>, <code>calculateMVP()</code>, <code>loadBMP()</code>, or my vertex and fragment shaders, which are in different files. This compiles fine because I include <code>GLFW</code> and <code>GLEW</code> from <code>myglutils.h</code> This is <code>uvtemplate.bmp</code>, its a 512x512 image:<br>\n<a href=\"https://i.stack.imgur.com/CLOqX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CLOqX.png\" width=\"256\" height=\"256\"/></a>\n<br>\nIf you guys could help me, it would be greatly appreciated. Thanks!</p>\n"}, {"tags": ["c++", "templates", "c++11", "variadic"], "comments": [{"owner": {"reputation": 25650, "user_id": 369872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b4534ace0008370742fe0c8bb942361?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/369872/david"}, "edited": false, "score": 0, "creation_date": 1444863379, "post_id": 33136799, "comment_id": 54085606, "body": "Eek. I&#39;m skeptical there&#39;s a way to do this, but the template metaprogramming extremists may prove me wrong. Also, what&#39;s the point?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1444863968, "post_id": 33136799, "comment_id": 54085816, "body": "If it were possible, then the type of <code>magic_get_linked_from&lt;A&gt;</code> would depend on the class definitions seen before it. That means a stateful metaprogram, which C++ isn&#39;t intended to support. Compare <a href=\"http://wg21.link/cwg2118\" rel=\"nofollow noreferrer\">CWG 2118</a>. If you know the full list of types to be considered - e.g., <code>get_linked_from&lt;A, std::tuple&lt;A,B,C&gt;&gt;</code> - this can be done."}, {"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "edited": false, "score": 0, "creation_date": 1444867920, "post_id": 33136799, "comment_id": 54086854, "body": "Ok, solved using T.C.&#39;s method.  But if there is a method that does not call for using <code>std::tuple&lt;Every darn class&gt;</code>, I would be very interested in seeing it."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1444911603, "post_id": 33136799, "comment_id": 54105991, "body": "How could you possibly know about the other classes? You have to &quot;store&quot; it somewhere. Create a wrapper if you don&#39;t want to hardcode it everywhere."}], "owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444864083, "creation_date": 1444862097, "last_edit_date": 1444864083, "question_id": 33136799, "link": "https://stackoverflow.com/questions/33136799/linking-classes-with-metafunctions", "title": "Linking classes with metafunctions", "body": "<p>Consider</p>\n\n<pre><code>class B;  class C;\n\nclass A {\n    using linked_from = std::tuple&lt;B,C&gt;;  // i.e. A is \"linked from\" B and C.\n};\n\nclass B {\n    using linked_to = std::tuple&lt;A,C&gt;;  // i.e. B is \"linked to\" A and C.\n};\n\nclass C {\n    using linked_to = std::tuple&lt;A&gt;;\n    using linked_from = std::tuple&lt;B&gt;;\n};\n</code></pre>\n\n<p>What I want to do is redesign the above so that there is no maintenance responsibilities whenever the <code>linked_to</code> member types are changed.  Perhaps something along the lines of </p>\n\n<pre><code>template &lt;typename To, typename From&gt;\nstruct LinkFromMap {\n    using linked_from = From;\n};\n\ntemplate &lt;typename From, typename To&gt;\nstruct LinkPair : LinkFromMap&lt;To, From&gt; {};\n\ntemplate &lt;typename T, typename... Ts&gt;\nstruct Link : LinkPair&lt;Ts, T&gt;... {\n    using linked_to = std::tuple&lt;Ts...&gt;;\n};\n\nclass B;  class C;\n\nclass A {};\n\nclass B : public Link&lt;B, A,C&gt; {};\n\nclass C : public Link&lt;C, A&gt; {};\n\nint main() {\n    static_assert(std::is_same&lt;B::linked_to, std::tuple&lt;A,C&gt;&gt;::value, \"\");\n    // Still need to obtain std::tuple&lt;B,C&gt; from A,  std::tuple&lt;B&gt; from C, etc...\n}\n</code></pre>\n\n<p><code>A</code> and <code>C</code> do not need to keep their <code>linked_from</code> member types, as long as <code>std::tuple&lt;B,C&gt;</code> can be obtained from <code>A</code> and <code>std::tuple&lt;B&gt;</code> can be obtained from C.  That is why I've defined <code>LinkFromMap</code> above, but I can't figure out how to use <code>LinkFromMap</code> to achieve that.  Can it be used at the end somehow to form the packs <code>&lt;A, B,C&gt;</code> and <code>&lt;C,B&gt;</code> or something like that?  Or is there a better way to automate type retrievals that <code>linked_from</code> was designed for?</p>\n"}, {"tags": ["c++", "class", "vector", "function-pointers", "class-method"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444862659, "post_id": 33136672, "comment_id": 54085306, "body": "Worth your time to read: <a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/pointers-to-members</a> . Lots of hints and good advice in there."}], "answers": [{"tags": [], "owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "is_accepted": false, "score": 2, "last_activity_date": 1444862715, "last_edit_date": 1495535278, "creation_date": 1444861972, "answer_id": 33136775, "question_id": 33136672, "link": "https://stackoverflow.com/questions/33136672/list-vector-of-class-methods-in-a-class-variable/33136775#33136775", "title": "list/vector of class methods in a class variable", "body": "<h3>Introduction</h3>\n\n<p>You have currently declared <code>funcType</code> as an alias for <code>void(*)()</code>, which is a pointer to some function that takes no argument and returns void. What you should be using is a <em>pointer-to-member-function</em>, since this will fit the entities which you are trying to invoke.</p>\n\n<pre><code>class Sample;\ntypedef void (Sample::*funcType)(); \n</code></pre>\n\n<p>You will also have to <em>qualify</em> your member-functions when you are to take their address:</p>\n\n<pre><code>void Sample::formList() {\n    func_list.push_back(&amp;Sample::method1);\n    func_list.push_back(&amp;Sample::method2);\n    func_list.push_back(&amp;Sample::method3);\n}\n</code></pre>\n\n<p>When invoking a member-function you will need an object on which you would like to call it, this means that you&mdash;in order to invoke a member-function throug ha <em>pointer-to-member-function</em>&mdash;must supply an object at the call site.</p>\n\n<pre><code>for (it = sample.func_list.begin(); it != sample.func_list.end(); ++it) {\n     (sample.*(*it)) (); // invoke the member-function referred to by `it`\n}                        // on the object named `sample`\n</code></pre>\n\n<hr>\n\n<p><strong>Further Reading</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12189057/calling-member-function-pointer-c\"><strong>stackoverflow.com - Calling member-function pointer</strong></a></li>\n<li><a href=\"http://en.cppreference.com/w/cpp/language/pointer#Pointers_to_member_functions\" rel=\"nofollow noreferrer\"><strong>cppreference.com - Pointers to member functions</strong></a></li>\n</ul>\n\n<hr>\n\n<hr>\n\n<h3>Sample Implementation</h3>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass Sample;\ntypedef void (Sample::*funcType)();\n\nclass Sample {\n  public:\n    vector&lt;funcType&gt; func_list;\n\n    void formList();\n    void method1();\n    void method2();\n    void method3();    \n};\n\nvoid Sample::formList() {\n  func_list.push_back(&amp;Sample::method1);\n  func_list.push_back(&amp;Sample::method2);\n  func_list.push_back(&amp;Sample::method3);\n}\n\nvoid Sample::method1 () {\n  cout &lt;&lt; \"method1\" &lt;&lt; endl;\n}\n\nvoid Sample::method2 () {\n  cout &lt;&lt; \"method2\" &lt;&lt; endl;\n}\n\nvoid Sample::method3 () {\n  cout &lt;&lt; \"method3\" &lt;&lt; endl;\n}\n\nint main()\n{\n  Sample sample; //* = new Sample();\n  sample.formList();\n  vector&lt;funcType&gt;::iterator it;\n  for (it = sample.func_list.begin(); it != sample.func_list.end(); ++it) {\n    (sample.*(*it)) ();\n  }\n}\n</code></pre>\n\n\n\n<pre><code>method1\nmethod2\nmethod3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1444863241, "post_id": 33136782, "comment_id": 54085561, "body": "So much for promises :)"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1444863683, "post_id": 33136782, "comment_id": 54085719, "body": "I hope you do read up on the <code>std::function&lt;&gt;</code> - it will even allow you to mix methods called on different objects (just use <code>std::function&lt;void()&gt;</code> and bind everything or use capturing lambdas). I&#39;ve included the relevant code from the linked live demo now."}, {"owner": {"reputation": 1385, "user_id": 471384, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b95b1ed8ce8fe7a78b46101c989db07c?s=128&d=identicon&r=PG", "display_name": "bicepjai", "link": "https://stackoverflow.com/users/471384/bicepjai"}, "edited": false, "score": 0, "creation_date": 1444863948, "post_id": 33136782, "comment_id": 54085811, "body": "i waited and then moved on ! i will accept urs, it looks better"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1444863313, "last_edit_date": 1444863313, "creation_date": 1444862005, "answer_id": 33136782, "question_id": 33136672, "link": "https://stackoverflow.com/questions/33136672/list-vector-of-class-methods-in-a-class-variable/33136782#33136782", "title": "list/vector of class methods in a class variable", "body": "<p>You could use the dreaded pointer-to-member-function syntax:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/6b634f043e2fb324\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass Sample;\n\ntypedef void (Sample::*funcType)();\n\nclass Sample {\n  public:\n    vector&lt;funcType&gt; func_list;\n\n    Sample(){}\n\n    void formList();\n    void method1();\n    void method2();\n    void method3();\n};\n\nvoid Sample::formList() {\n    func_list.push_back(&amp;Sample::method1);\n    func_list.push_back(&amp;Sample::method2);\n    func_list.push_back(&amp;Sample::method3);\n}\n\nvoid Sample::method1() { cout &lt;&lt; \"method1\" &lt;&lt; endl; }\n\nvoid Sample::method2() { cout &lt;&lt; \"method2\" &lt;&lt; endl; }\n\nvoid Sample::method3() { cout &lt;&lt; \"method3\" &lt;&lt; endl; }\n\nint main() {\n    Sample sample; //* = new Sample();\n    sample.formList();\n    vector&lt;funcType&gt;::iterator it;\n    for (it = sample.func_list.begin(); it != sample.func_list.end(); ++it) {\n        (sample.*(*it))(); // HORRIFIC, INNIT? SEE BELOW FOR BETTER\n    }\n}\n</code></pre>\n\n<h2>MUCH BETTER:</h2>\n\n<p>However, you could be much more versatile using C++11/TR1 <code>std::function&lt;&gt;</code> or <code>boost::function&lt;&gt;</code>:</p>\n\n<pre><code>typedef function&lt;void(Sample*)&gt; funcType;\n\n// ...\nfunc_list.push_back(mem_fn(&amp;Sample::method1));\nfunc_list.push_back(mem_fn(&amp;Sample::method2));\nfunc_list.push_back(mem_fn(&amp;Sample::method3));\n</code></pre>\n\n<p>See it <strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/accd8eacc7b2f214\" rel=\"nofollow\">Live On Coliru</a></kbd></strong> too</p>\n\n<pre><code>for (it = sample.func_list.begin(); it != sample.func_list.end(); ++it) {\n    (*it)(&amp;sample); // much better\n}\n</code></pre>\n\n<blockquote>\n  <p>The added versatility is mainly in that you can cater for different signatures: <strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/36317dfefd46de7f\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>class Sample {\n  public:\n    vector&lt;funcType&gt; func_list;\n\n    Sample(){}\n\n    void formList();\n    void method1(int);\n    void method2(std::string);\n    void method3(double, double, double);\n};\n\nvoid Sample::formList() {\n    using std::placeholders::_1;\n    func_list.push_back(bind(&amp;Sample::method1, _1, 42));\n    func_list.push_back(bind(&amp;Sample::method2, _1, \"Hello world\"));\n    func_list.push_back(bind(&amp;Sample::method3, _1, 1, 2, 3));\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1385, "user_id": 471384, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b95b1ed8ce8fe7a78b46101c989db07c?s=128&d=identicon&r=PG", "display_name": "bicepjai", "link": "https://stackoverflow.com/users/471384/bicepjai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 33136782, "answer_count": 2, "score": 2, "last_activity_date": 1444863313, "creation_date": 1444861549, "last_edit_date": 1444863008, "question_id": 33136672, "link": "https://stackoverflow.com/questions/33136672/list-vector-of-class-methods-in-a-class-variable", "title": "list/vector of class methods in a class variable", "body": "<p>I need to maintain a list of methods that will be executed in different orders for testing. We are moving away from C to C++ to use google framework. Is it possible to maintain a list of functions pointers to some of the class methods to be used for execution inside the class, so that they can be used after instantiation ? please refer <a href=\"http://cpp.sh/265y\" rel=\"nofollow\">http://cpp.sh/265y</a></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\ntypedef void (*funcType)();\n\nclass Sample {\n    public:\n    vector&lt;funcType&gt; func_list;\n\n    Sample();\n\n    void formList();\n    void method1();\n    void method2();\n    void method3();    \n};\n\nvoid Sample::formList() {\n    func_list.push_back(&amp;method1);\n    func_list.push_back(&amp;method2);\n    func_list.push_back(&amp;method3);\n}\n\nvoid Sample::method1 () {\n    cout &lt;&lt; \"method1\" &lt;&lt; endl;\n}\n\nvoid Sample::method2 () {\n    cout &lt;&lt; \"method2\" &lt;&lt; endl;\n}\n\nvoid Sample::method3 () {\n    cout &lt;&lt; \"method3\" &lt;&lt; endl;\n}\n\nint main()\n{\n    Sample sample; //* = new Sample();\n    sample.formList();\n    vector&lt;funcType&gt;::iterator it;\n    for (it = sample.func_list.begin(); it != sample.func_list.end(); ++it) {\n         ((*it));\n    }\n\n}\n</code></pre>\n\n<p>Answer: <a href=\"http://cpp.sh/8rr2\" rel=\"nofollow\">http://cpp.sh/8rr2</a></p>\n"}, {"tags": ["c++", "c", "static", "parallel-processing", "mpi"], "comments": [{"owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 1, "creation_date": 1444893793, "post_id": 33136595, "comment_id": 54094661, "body": "<i>I just have no clue what my professor means</i>  Best ask your professor, surely ?"}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 3495690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/efc58a00064855e8f5dc5861cd16b21b?s=128&d=identicon&r=PG&f=1", "display_name": "user3495690", "link": "https://stackoverflow.com/users/3495690/user3495690"}, "edited": false, "score": 0, "creation_date": 1446732988, "post_id": 33142244, "comment_id": 54873313, "body": "This may not be <i>precisely</i> the right answer, but it is about as close as you could get with the amount of info I offered (I wasn&#39;t very familiar with MPI at the time I posted the question). Thanks for your help!"}], "tags": [], "owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "is_accepted": true, "score": 1, "last_activity_date": 1444893580, "last_edit_date": 1495541030, "creation_date": 1444893580, "answer_id": 33142244, "question_id": 33136595, "link": "https://stackoverflow.com/questions/33136595/what-is-the-difference-between-static-computation-and-dynamic-computation-in-mpi/33142244#33142244", "title": "What is the difference between static computation and dynamic computation in MPI?", "body": "<p>I'm not 100% sure of what this \"static\" versus \"dynamic\" computation means in the context of MPI. But since it has been asked to use some master/slave approach, I guess that the \"static\" version might be <em>business as usual</em>, while the \"dynamic\" one might imply the use of <code>MPI_Comm_spawn()</code> as described in the <a href=\"http://www.mpi-forum.org/docs/mpi-3.1/mpi31-report.pdf#section.10.2\" rel=\"nofollow noreferrer\">dynamic process model</a> chapter of the MPI standard.</p>\n\n<p>That said, I find appalling that Master/Slave approaches, which are quite a niche for actual effective MPI parallelisations, are put forward so strongly in many MPI learning curricula. Indeed, I refer you to <a href=\"https://stackoverflow.com/a/32558591/5239503\">my thoughts about that</a> which I wrote a while ago after having answered to too many Master/Slave oriented SO questions.  </p>\n"}], "owner": {"reputation": 566, "user_id": 3495690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/efc58a00064855e8f5dc5861cd16b21b?s=128&d=identicon&r=PG&f=1", "display_name": "user3495690", "link": "https://stackoverflow.com/users/3495690/user3495690"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 33142244, "answer_count": 1, "score": -1, "last_activity_date": 1444893580, "creation_date": 1444861195, "question_id": 33136595, "link": "https://stackoverflow.com/questions/33136595/what-is-the-difference-between-static-computation-and-dynamic-computation-in-mpi", "title": "What is the difference between static computation and dynamic computation in MPI?", "body": "<p>I have been asked to write two <em>MPI</em> programs in c: one that computes <strong>statically</strong> and one that computes <strong>dynamically</strong>. </p>\n\n<p>The objective is to find the integral of an equation (let's say f(x) = x for simplicity) over a given interval using the box method. The problem is simple enough, I just have no clue what my professor means by static computation and dynamic computation. </p>\n\n<p>I should probably add that it has been requested that I use the Master-Worker (otherwise known as Master/Slave) model.</p>\n"}, {"tags": ["c++", "struct", "base64", "unions"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444862085, "post_id": 33136594, "comment_id": 54085075, "body": "Could have something to do with type punning with unions being undefined behaviour. This probably works, but isn&#39;t guaranteed by the C++ standard."}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 4981739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d967d0a52a707c6ff430da856f956315?s=128&d=identicon&r=PG&f=1", "display_name": "BufferOverflow", "link": "https://stackoverflow.com/users/4981739/bufferoverflow"}, "edited": false, "score": 0, "creation_date": 1444862802, "post_id": 33136853, "comment_id": 54085368, "body": "So technically it is a bad idea to use struct with bitfields inside a union in all cases?"}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "reply_to_user": {"reputation": 523, "user_id": 4981739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d967d0a52a707c6ff430da856f956315?s=128&d=identicon&r=PG&f=1", "display_name": "BufferOverflow", "link": "https://stackoverflow.com/users/4981739/bufferoverflow"}, "edited": false, "score": 2, "creation_date": 1444862957, "post_id": 33136853, "comment_id": 54085437, "body": "There&#39;s some limited uses (e.g. saving memory with many small objects, which can be critical on embedded hardware), but in general I would avoid their use. (I have definitely seen some truly crazy C code which uses bitfields to parse external input, but that&#39;s incredibly fragile and nonportable!)"}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "reply_to_user": {"reputation": 523, "user_id": 4981739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d967d0a52a707c6ff430da856f956315?s=128&d=identicon&r=PG&f=1", "display_name": "BufferOverflow", "link": "https://stackoverflow.com/users/4981739/bufferoverflow"}, "edited": false, "score": 2, "creation_date": 1444863064, "post_id": 33136853, "comment_id": 54085488, "body": "You&#39;ll also see bitfield hacks come up often with memory-mapped or register-mapped I/O in very low-level systems programming; often the registers or memory layouts are specific to that hardware anyway so there isn&#39;t the same portability concern. (However, I personally still try to avoid those hacks and just go with bit-shift operators anyway - the compiler generates the same code in either case)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444863662, "post_id": 33136853, "comment_id": 54085705, "body": "Sits in the last resort pool. If you need (and get) that extra few microseconds and there is nothing else to cut, you may find yourself doing some pretty off-the-wall, unsafe things and praying it doesn&#39;t bite you later. Measure and prove, then test the stuffing out of it, then leave comments that are pornographically explicit of what you&#39;ve done and why and why saner solutions didn&#39;t work."}, {"owner": {"reputation": 523, "user_id": 4981739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d967d0a52a707c6ff430da856f956315?s=128&d=identicon&r=PG&f=1", "display_name": "BufferOverflow", "link": "https://stackoverflow.com/users/4981739/bufferoverflow"}, "edited": false, "score": 0, "creation_date": 1444864280, "post_id": 33136853, "comment_id": 54085911, "body": "user4581301: No I am not hunting microseconds. I thought about this idea for long time since, but I have never used it. And yesterday I got a cryptography challenge/contest that is split in four parts, where first part is to implement base64 (de/en)coder in C++. So I just had to ask why I never have seen something like this. But I understand now that i should not use this method."}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 0, "creation_date": 1444864955, "post_id": 33136853, "comment_id": 54086078, "body": "...this challenge wouldn&#39;t happen to be the NSA codebreaker challenge, would it?"}], "tags": [], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": true, "score": 2, "last_activity_date": 1444862378, "last_edit_date": 1495541808, "creation_date": 1444862378, "answer_id": 33136853, "question_id": 33136594, "link": "https://stackoverflow.com/questions/33136594/use-structs-inside-union-to-encode-base64/33136853#33136853", "title": "Use structs inside union to encode base64", "body": "<p>The order in which bitfields are packed within a struct is <em>implementation-defined</em>. Therefore, although you get the correct base64 result on <em>your</em> machine, you may get a totally different (wrong!) answer when you port this code to a different architecture or compiler (e.g. big-endian PowerPC). To borrow from <a href=\"https://stackoverflow.com/a/6044223/1204143\">this answer</a>:</p>\n\n<blockquote>\n  <p>Unspecified behavior</p>\n  \n  <ul>\n  <li>The alignment of the addressable storage unit allocated to hold a bit-field (6.7.2.1).</li>\n  </ul>\n  \n  <p>Implementation-defined behavior</p>\n  \n  <ul>\n  <li>Whether a bit-field can straddle a storage-unit boundary (6.7.2.1).</li>\n  <li>The order of allocation of bit-fields within a unit (6.7.2.1).</li>\n  </ul>\n</blockquote>\n\n<p>You are therefore better off using bit-shifting code (which is what basically every base64 implementation uses), since that will be guaranteed to be the same across platforms.</p>\n"}], "owner": {"reputation": 523, "user_id": 4981739, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d967d0a52a707c6ff430da856f956315?s=128&d=identicon&r=PG&f=1", "display_name": "BufferOverflow", "link": "https://stackoverflow.com/users/4981739/bufferoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 33136853, "answer_count": 1, "score": 1, "last_activity_date": 1486313906, "creation_date": 1444861192, "last_edit_date": 1486313906, "question_id": 33136594, "link": "https://stackoverflow.com/questions/33136594/use-structs-inside-union-to-encode-base64", "title": "Use structs inside union to encode base64", "body": "<p>I have seen many examples of how to implement Base64 encoders. But none of them are using <code>struct</code> inside of a union to accomplish the translation from three 8-bit blocks to four 6-bit blocks. And I have wondered why no one uses this method, because for me it looks like a easy and fast method. </p>\n\n<p>I wrote an example in of the union-struct.</p>\n\n<pre><code>namespace Base64\n{\n    typedef union\n    {\n        struct\n        {\n            uint32_t b2     : 0x08;\n            uint32_t b1     : 0x08;\n            uint32_t b0     : 0x08;\n            uint32_t pad    : 0x08;\n        } decoded;\n        struct\n        {\n            uint32_t b3     : 0x06;\n            uint32_t b2     : 0x06;\n            uint32_t b1     : 0x06;\n            uint32_t b0     : 0x06;\n            uint32_t pad    : 0x08;\n        } encoded;\n        uint32_t raw;\n    } base64c_t;\n}\n</code></pre>\n\n<p>I have tested to translate <code>0xFC0FC0</code> or in binary <code>111111000000111111000000</code> into four 6-bits block with this method, and it seems to work.</p>\n\n<pre><code>Base64::base64c_t b64;\n\nb64.decoded.b0  = 0xFC;\nb64.decoded.b1  = 0x0F;\nb64.decoded.b2  = 0xC0;\n\nstd::cout.fill ( '0' );\n\nstd::cout &lt;&lt; \"0x\" &lt;&lt; std::hex &lt;&lt; std::setw ( 2 ) &lt;&lt; b64.encoded.b0 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"0x\" &lt;&lt; std::hex &lt;&lt; std::setw ( 2 ) &lt;&lt; b64.encoded.b1 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"0x\" &lt;&lt; std::hex &lt;&lt; std::setw ( 2 ) &lt;&lt; b64.encoded.b2 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"0x\" &lt;&lt; std::hex &lt;&lt; std::setw ( 2 ) &lt;&lt; b64.encoded.b3 &lt;&lt; std::endl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x3f\n0x00\n0x3f\n0x00\n</code></pre>\n\n<p>Is there a downside with this way to translate 8-bit blocks to 6-bit blocks? Or haven't anyone thought about this way earlier? </p>\n"}, {"tags": ["c++", "g++", "sublimetext2"], "comments": [{"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 0, "creation_date": 1444861377, "post_id": 33136583, "comment_id": 54084773, "body": "<code>| more</code> or <code>&gt; logfile</code> ?"}, {"owner": {"reputation": 63, "user_id": 4976029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29f28be58fb87a2c391013f95119f74d?s=128&d=identicon&r=PG&f=1", "display_name": "Herio Sousa", "link": "https://stackoverflow.com/users/4976029/herio-sousa"}, "reply_to_user": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 0, "creation_date": 1444863608, "post_id": 33136583, "comment_id": 54085688, "body": "It&#39;s just does not work at all, or [Decode error - output not utf-8] appears on console even though I save the file as utf-8 encoding."}], "owner": {"reputation": 63, "user_id": 4976029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29f28be58fb87a2c391013f95119f74d?s=128&d=identicon&r=PG&f=1", "display_name": "Herio Sousa", "link": "https://stackoverflow.com/users/4976029/herio-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444861158, "creation_date": 1444861158, "question_id": 33136583, "link": "https://stackoverflow.com/questions/33136583/cant-pause-screen-on-c-using-sublime-text-2", "title": "Can&#39;t pause screen on C++ using Sublime Text 2", "body": "<p>I have the following .sublime-build file to run C++ code on Sublime Text 2:</p>\n\n<pre><code>{\n\"windows\":\n{\n\"cmd\": [\"g++\", \"$file_name\",\"-o\", \"${file_base_name}.exe\", \"-lm\", \"-Wall\", \"&amp;\", \"start\", \"${file_base_name}.exe\"]\n},\n\"selector\": \"source.c++\",\n\"shell\": true,\n\"working_dir\": \"${file_path}\"\n}\n</code></pre>\n\n<p>The problem is, I can't pause the screen after building the code. There are plenty of files out there, but that is the only one which worked on my computer. I've tried manually adding \"/c\", \"/k\", \"&amp; pause\" but none of them worked. Any ideas?</p>\n"}, {"tags": ["c++", "multithreading", "vector", "io"], "comments": [{"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 1, "creation_date": 1444861340, "post_id": 33136517, "comment_id": 54084758, "body": "You should try locking and unlocking to check if it really is a bottleneck in your application. It may not be. Otherwise, consider lock-free data structures such as <a href=\"http://www.boost.org/doc/libs/1_59_0/doc/html/boost/lockfree/queue.html\" rel=\"nofollow noreferrer\">boost::lockfree::queue</a> or <a href=\"http://www.boost.org/doc/libs/1_59_0/doc/html/boost/lockfree/spsc_queue.html\" rel=\"nofollow noreferrer\">boost::lockfree::spsc_queue</a>."}, {"owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "reply_to_user": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 0, "creation_date": 1444861951, "post_id": 33136517, "comment_id": 54085008, "body": "These lock-free data structures look promising. I didn&#39;t know boost had such queue data structures. I will implement those tomorrow! Thanks for your support so far."}], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "edited": false, "score": 0, "creation_date": 1444864132, "post_id": 33136844, "comment_id": 54085862, "body": "Great idea to minimize the amount of times something has to be locked. Will use this post as a last resort in case none of the other solutions work out for me."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 1, "last_activity_date": 1444862336, "creation_date": 1444862336, "answer_id": 33136844, "question_id": 33136517, "link": "https://stackoverflow.com/questions/33136517/cout-on-extra-thread-thread-safety/33136844#33136844", "title": "cout on extra thread - thread safety", "body": "<p>Depending on how time-sensitive the task is, I'd probably build up a vector of outputs in the producer thread, then pass the whole vector to the consumer thread (and repeat as needed).</p>\n\n<p>The queue between the two will need to be thread safe, but you can keep the overhead minuscule by passing a vector every, say, 50-100 ms or so. This is still short enough to look like real-time to most observers, but is long enough to keep the overhead of locking far too low to care about in most cases.</p>\n"}, {"comments": [{"owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "edited": false, "score": 0, "creation_date": 1444864416, "post_id": 33137028, "comment_id": 54085936, "body": "Seems like a great idea. I will try thoroughly tested solutions like the lockfree queues in the boost library first though. +1 nevertheless, thanks for your help! :)"}], "tags": [], "owner": {"reputation": 2240, "user_id": 3499640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff85dddff0538584dfeb0dfc0946a341?s=128&d=identicon&r=PG&f=1", "display_name": "srdjan.veljkovic", "link": "https://stackoverflow.com/users/3499640/srdjan-veljkovic"}, "is_accepted": false, "score": 1, "last_activity_date": 1444863227, "last_edit_date": 1495535227, "creation_date": 1444863227, "answer_id": 33137028, "question_id": 33136517, "link": "https://stackoverflow.com/questions/33136517/cout-on-extra-thread-thread-safety/33137028#33137028", "title": "cout on extra thread - thread safety", "body": "<p>You could use the idea one often sees in \"interrupt\" programming - send data from the thread to a ring buffer. Then, in another thread, print from the ring buffer. Actually, in the \"good old days\", one could write a ring buffer without any \"atomics\" (and can still do on some embedded systems).</p>\n\n<p>But, even with atomics, ring buffers are not hard to write. There is one implementation here: <a href=\"https://stackoverflow.com/questions/19059336/c-threadsafe-ringbuffer-implementation\">c++ threadsafe ringbuffer implementation</a> (untested, but on the first look seems OK).</p>\n"}], "owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444863227, "creation_date": 1444860875, "question_id": 33136517, "link": "https://stackoverflow.com/questions/33136517/cout-on-extra-thread-thread-safety", "title": "cout on extra thread - thread safety", "body": "<p>I have a very time sensitive task in my main thread. However, I would also like to simultaneously print some information about this task.</p>\n\n<p><strong>Problem</strong>: <code>cout</code> takes some time to execute and therefore slows down the time sensitive task in the main thread.</p>\n\n<p><strong>Idea</strong>: I thought about creating an extra thread which handles the output. To communicate between the main thread and the newly created thread, I thought about a vector which includes the strings that should be printed. In the newly created thread an infinite while loop would print these strings one after another.</p>\n\n<p><strong>Problem with the idea</strong>: Vectors are not thread safe. Therefore, I'm worried that locking and unlocking the vector will take nearly as much time as it would take when calling <code>cout</code> directly in the main thread.</p>\n\n<p><strong>Question</strong>: Is there an alternative to locking/unlocking the vector? Are my worries regarding the locking of the vector misguided? Would you take a whole different approach to solve the problem?</p>\n"}, {"tags": ["java", "c++", "java-native-interface", "native"], "comments": [{"owner": {"reputation": 3447, "user_id": 5244653, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9412ec207649931753eb77f7afca2599?s=128&d=identicon&r=PG&f=1", "display_name": "Brick", "link": "https://stackoverflow.com/users/5244653/brick"}, "edited": false, "score": 0, "creation_date": 1444861269, "post_id": 33136443, "comment_id": 54084729, "body": "Would be good if you also posted the code for your <code>HelloWorld</code> java class."}, {"owner": {"reputation": 3447, "user_id": 5244653, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9412ec207649931753eb77f7afca2599?s=128&d=identicon&r=PG&f=1", "display_name": "Brick", "link": "https://stackoverflow.com/users/5244653/brick"}, "edited": false, "score": 0, "creation_date": 1444861599, "post_id": 33136443, "comment_id": 54084851, "body": "I think there&#39;s not enough information here to answer your question.  Could be the way you specified the path to <code>HelloWorld</code> in the <code>FindClass</code>, but we don&#39;t know the package that it is in.  Could be that it does not locate the class file, could be that the Java class does not have the method that you specified...  You should in any case be checking for exceptions after essentially all calls to JNI (especially if you know that you are crashing). An exception thrown at <code>FindClass</code> will not crash you until you make the <i>next</i> JNI call without first having cleared the exception on the JVM."}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 5447078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/959778734096094/picture?type=large", "display_name": "Victor Silva Do Nascimento", "link": "https://stackoverflow.com/users/5447078/victor-silva-do-nascimento"}, "edited": false, "score": 0, "creation_date": 1444927945, "post_id": 33137536, "comment_id": 54117702, "body": "Hi! Thanks for your answer, I am now doing the check on wheter the hello_world_class and  throwing an exception using: if(env-&gt;ExceptionOccurred()){ \t\t\tenv-&gt;ExceptionDescribe(); \t\t}  It is throwing java.lang.NoClassDefFoundError. But I have HelloWorld.class and HelloWorld.jar at the same location of my .exe."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 0, "last_activity_date": 1444866303, "creation_date": 1444866303, "answer_id": 33137536, "question_id": 33136443, "link": "https://stackoverflow.com/questions/33136443/calling-java-methods-in-c-using-jni/33137536#33137536", "title": "Calling java methods in C++ using JNI", "body": "<p>I suggest that the class <code>HelloWorld</code> wasn't found, the <code>hello_world_class = env-&gt;FindClass(\"HelloWorld\")</code> call returned null, so hello_world_class` is null, so the next call using it crashes.</p>\n\n<p>You need to check the result of every JNI call, without exception.  You can assume exactly nothing with JNI.</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 5447078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/959778734096094/picture?type=large", "display_name": "Victor Silva Do Nascimento", "link": "https://stackoverflow.com/users/5447078/victor-silva-do-nascimento"}, "is_accepted": false, "score": 0, "last_activity_date": 1444931807, "creation_date": 1444931807, "answer_id": 33155349, "question_id": 33136443, "link": "https://stackoverflow.com/questions/33136443/calling-java-methods-in-c-using-jni/33155349#33155349", "title": "Calling java methods in C++ using JNI", "body": "<p>Ok guys i got it.</p>\n\n<p>I had to do two changes:</p>\n\n<p>first i set the path to the .jar file including its name: </p>\n\n<pre><code>char * classPath = (char *) \"-Djava.class.path=HelloWorld.jar\";\n</code></pre>\n\n<p>Second in the findClass method,I had to specify its package name:</p>\n\n<pre><code>hello_world_class = env-&gt;FindClass(\"helloWorld/HelloWorld\");\n</code></pre>\n\n<p>Thank you very much for the answers.</p>\n"}], "owner": {"reputation": 211, "user_id": 5447078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/959778734096094/picture?type=large", "display_name": "Victor Silva Do Nascimento", "link": "https://stackoverflow.com/users/5447078/victor-silva-do-nascimento"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444931807, "creation_date": 1444860444, "last_edit_date": 1444928360, "question_id": 33136443, "link": "https://stackoverflow.com/questions/33136443/calling-java-methods-in-c-using-jni", "title": "Calling java methods in C++ using JNI", "body": "<p>I need to call java methods from a c++ application. I've followed the instructions in these tutorials: <a href=\"http://hildstrom.com/projects/jni/index.html\" rel=\"nofollow\">http://hildstrom.com/projects/jni/index.html</a> <a href=\"http://www.codeproject.com/Articles/22881/How-to-Call-Java-Functions-from-C-Using-JNI\" rel=\"nofollow\">http://www.codeproject.com/Articles/22881/How-to-Call-Java-Functions-from-C-Using-JNI</a>. here is my code: </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include \"../Header/jni.h\"\n\nJNIEnv* create_vm(JavaVM **jvm)\n{\n    JNIEnv* env;\n    JavaVMInitArgs args;\n    JavaVMOption options;\n    args.version = JNI_VERSION_1_6;\n    args.nOptions = 1;\n    options.optionString = \"-Djava.class.path= C:\\\\Users\\\\vhsn\\\\workspace-SP\\\\helloWorld\\\\src\\\\helloWorld\";\n    args.options = &amp;options;\n    args.ignoreUnrecognized = 0;\n    int rv;\n    rv = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;args);\n    if (rv &lt; 0 || !env)\n        printf(\"Unable to Launch JVM %d\\n\",rv);\n    else\n        printf(\"Launched JVM! :)\\n\");\n    return env;\n}\n\nvoid invoke_class(JNIEnv* env)\n{\n    jclass hello_world_class;\n    jmethodID main_method;\n    jmethodID square_method;\n    jmethodID power_method;\n    jint number=20;\n    jint exponent=3;\n    hello_world_class = env-&gt;FindClass(\"HelloWorld\");\n    main_method = env-&gt;GetStaticMethodID(hello_world_class, \"main\", \"([Ljava/lang/String;)V\");\n    square_method = env-&gt;GetStaticMethodID(hello_world_class, \"square\", \"(I)I\");\n    power_method = env-&gt;GetStaticMethodID(hello_world_class, \"power\", \"(II)I\");\n    printf(\"carregou metodos\");\n    env-&gt;CallStaticVoidMethod(hello_world_class, main_method, NULL);\n    printf(\"%d squared is %d\\n\", number,\n        env-&gt;CallStaticIntMethod(hello_world_class, square_method, number));\n    printf(\"%d raised to the %d power is %d\\n\", number, exponent,\n        env-&gt;CallStaticIntMethod(hello_world_class, power_method, number, exponent));\n}\n\nint main(int argc, char **argv)\n{\n    JavaVM *jvm;\n    JNIEnv *env;\n    env = create_vm(&amp;jvm);\n    if(env == NULL)\n        return 1;\n    invoke_class(env);\n    return 0;\n}\n</code></pre>\n\n<p>Im compilling it with minGW, linking with jvm.lib located at \"C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\lib\".</p>\n\n<p>It compiles successfuly, but when I execute it only prints \"Launched JVM! :)\" and then crashes.\n When I try to debug, it crashes in the first GetStaticMethodID call. Im thinking it is not loading the HelloWorld.class properly but I have no clue why.</p>\n\n<p>Does anyone ever faced a similar problem or have an idea what the problem might be?</p>\n\n<p>I am on a windows machine 64bits, I am using java 32 bits because it didnt compile with jvm.lib from java 64 bits.</p>\n\n<p>EDIT:</p>\n\n<p>I have added a </p>\n\n<pre><code>if(env-&gt;ExceptionOccurred()){\n            env-&gt;ExceptionDescribe();\n        }\n</code></pre>\n\n<p>and it throws a java.lang.NoClassDefFoundError. I think im not clearly understanding what to put in</p>\n\n<pre><code>options.optionString =  \"-Djava.class.path=C:\\\\Users\\\\vhsn\\\\workspace\\\\AAPlugin\\\\Debug\"; \n</code></pre>\n\n<p>Is it the path for the .class file or the .jar file?</p>\n\n<p>Thank You Very Much!   </p>\n"}, {"tags": ["c++", "c++11", "coding-style"], "answers": [{"comments": [{"owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444861277, "post_id": 33136600, "comment_id": 54084732, "body": "If so, why standard library or boost, which generally are considered as very advanced and cool uses templates only?"}, {"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "reply_to_user": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444862033, "post_id": 33136600, "comment_id": 54085046, "body": "Can you give a more specific example? Where you see a potential need for an interface but it was not used."}, {"owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444862231, "post_id": 33136600, "comment_id": 54085126, "body": "Iterators for example does not inherit from common interface, but they could. Containers also do not inherit from a common interface."}, {"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "reply_to_user": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444862516, "post_id": 33136600, "comment_id": 54085246, "body": "I imagine with iterators because of pointer arithmetic being available unlike Java, .Net."}, {"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "reply_to_user": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444863264, "post_id": 33136600, "comment_id": 54085572, "body": "Regarding Java. Java&#39;s AbstractCollection&lt;T&gt; implements Iterable&lt;T&gt;, which has one method interator() returning Iterator&lt;T&gt;."}], "tags": [], "owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "is_accepted": false, "score": 0, "last_activity_date": 1444861209, "creation_date": 1444861209, "answer_id": 33136600, "question_id": 33136422, "link": "https://stackoverflow.com/questions/33136422/abstract-classes-vs-templates-good-practices/33136600#33136600", "title": "Abstract classes vs. templates - good practices", "body": "<p>It seems to be an opinion based question. The best way to force a client to fulfill it's obligations is to make him sign a contract, that contact being an interface.</p>\n"}, {"comments": [{"owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444886233, "post_id": 33137228, "comment_id": 54091427, "body": "great answer. Thanks a lot :)"}], "tags": [], "owner": {"reputation": 2240, "user_id": 3499640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff85dddff0538584dfeb0dfc0946a341?s=128&d=identicon&r=PG&f=1", "display_name": "srdjan.veljkovic", "link": "https://stackoverflow.com/users/3499640/srdjan-veljkovic"}, "is_accepted": true, "score": 1, "last_activity_date": 1444864405, "creation_date": 1444864405, "answer_id": 33137228, "question_id": 33136422, "link": "https://stackoverflow.com/questions/33136422/abstract-classes-vs-templates-good-practices/33137228#33137228", "title": "Abstract classes vs. templates - good practices", "body": "<p>You actually have more than one question, so, let's answer them one by one:</p>\n\n<blockquote>\n  <p>Which approach is better?</p>\n</blockquote>\n\n<p>Neither is better in general. Each has is strengths and weaknesses. But you do come to an interesting point: on a more abstract level, those two are pretty much the same.</p>\n\n<blockquote>\n  <p>When having the choice should we implement things in a template way or abstract way in a library?</p>\n</blockquote>\n\n<p>With templates you get:</p>\n\n<ol>\n<li><p>In general, faster execution. It can be <em>much</em> faster, 'cause a lot of inlining, and then optimization, can be done. OTOH, with an advanced de-virtualization compiler/linker and functions that can't be much inlined/optimized, you might get pretty much the same speed.</p></li>\n<li><p>Slower compile times. It can be <em>much</em> slower, especially if you go the \"fancy template-meta-programming\" way.</p></li>\n<li><p>Worse compiler errors. They can be <em>much</em> worse, especially if you go the \"fancy template-meta-programming\" way. When C++ gets support for concepts, one should be able to avoid this.</p></li>\n<li><p>If you design it carefully, improved type-safety. OTOH, if you're not careful, you'll end up in worse duck-typing than Smalltalk. Concepts would be a tool that could help here, too.</p></li>\n</ol>\n\n<p>With virtual functions / interfaces, you get:</p>\n\n<ol>\n<li>De-coupled design, where, if you're careful, changes from one file won't require a re-compilation of others, and compile times can be much faster.</li>\n<li>Run-time polymorphism, meaning you can dynamically load code (it ain't as easy as it sounds, but, it's possible)</li>\n<li>Something that looks more familiar to someone who's experienced in OO.</li>\n</ol>\n\n<blockquote>\n  <p>Is there a reason for standard not to define some standard \"Interfaces\" like std::container or std::factory (just examples)?</p>\n</blockquote>\n\n<p>One could find a lot of \"low-level\" reasons, I guess, but the fundamental reason is performance. That is, STL was designed to be \"as fast as can be\", and putting some (useful) interfaces \"on top if it\" now is pretty-much impossible.</p>\n"}], "owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1153, "favorite_count": 0, "accepted_answer_id": 33137228, "answer_count": 2, "score": 1, "last_activity_date": 1444864405, "creation_date": 1444860359, "last_edit_date": 1444861002, "question_id": 33136422, "link": "https://stackoverflow.com/questions/33136422/abstract-classes-vs-templates-good-practices", "title": "Abstract classes vs. templates - good practices", "body": "<p>Let's say I have got some kind of class, that represents algorithm and this algorithm requires something special from the data (eg. some member function).</p>\n\n<p>In example we can do:</p>\n\n<pre><code>                                          &lt;&lt;interface&gt;&gt;\n+------------------------+               +------------+\n|       Algorithm        |    &lt;&lt;uses&gt;&gt;   |    Data    |\n+------------------------+--------------&gt;+------------+\n| + doJob(inData : Data) |               | +getPixel()|\n+------------------------+               +------------+\n</code></pre>\n\n<p>And we can force user of Algorithm to inherit from Data every time he wants to use class algorithm. We can also do a template:</p>\n\n<pre><code>template&lt;typename T&gt;\ndoJob(T&amp;&amp; inputData){\n   //implementation\n}\n</code></pre>\n\n<p>(function without class to simplify things)</p>\n\n<p>And we force our client to create classes, that have methods of proper name, but we do not make him implement our abstract class (interface in different languages) (a little bit better performace maybe?)</p>\n\n<p>And my question is:</p>\n\n<p>Which approach is better? </p>\n\n<ul>\n<li><p>When having the choice should we implement things in a template way or abstract way in a library?</p></li>\n<li><p>Is there a reason for standard not to define some standard \"Interfaces\" like std::container or std::factory (just examples)?</p></li>\n</ul>\n"}, {"tags": ["c++", "qt", "opengl"], "answers": [{"tags": [], "owner": {"reputation": 10317, "user_id": 666785, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/NIzSh.jpg?s=128&g=1", "display_name": "sbabbi", "link": "https://stackoverflow.com/users/666785/sbabbi"}, "is_accepted": false, "score": 2, "last_activity_date": 1444950875, "creation_date": 1444950875, "answer_id": 33160047, "question_id": 33136373, "link": "https://stackoverflow.com/questions/33136373/qopenglwidget-in-qt5-5-rendering-qimage-file/33160047#33160047", "title": "QOpenGLWidget in Qt5.5 rendering QImage file", "body": "<p><code>glDrawPixels</code> last parameter expect a pointer to the image data, you are passing a pointer to a <code>QOpenGLTexture</code> that is a completely unrelated object (it probably does not even contain the image data).</p>\n\n<p>What you want is something like this:</p>\n\n<pre><code>QImage m_img;\n\nvoid initializeGL() \n{\n  m_img = QImage::fromData(image).convertToFormat(QImage::Format_RGBA8888);\n}\n\nvoid paintGL()\n{\n  glPixelStorei(GL_UNPACK_ROW_LENGTH, m_img.bytesPerLine() / 4);\n  glDrawPixels(m_img.width(), m_img.height(), QOpenGLTexture::RGBA, GL_UNSIGNED_BYTE, m_img.bits());\n}\n</code></pre>\n\n<p>Notice that <code>glDrawPixels</code> is not the right tool to do that anyway (it transfers the entire image from client to host memory every time you call it). \nThe best way is probably to create the texture like you did and then render a full screen quad with proper texture coordinates</p>\n\n<p>.</p>\n"}], "owner": {"reputation": 85, "user_id": 5447060, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/36314e1e0b4c002065f32d3396df7d73?s=128&d=identicon&r=PG&f=1", "display_name": "adapto", "link": "https://stackoverflow.com/users/5447060/adapto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1596, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444950875, "creation_date": 1444860121, "last_edit_date": 1444865244, "question_id": 33136373, "link": "https://stackoverflow.com/questions/33136373/qopenglwidget-in-qt5-5-rendering-qimage-file", "title": "QOpenGLWidget in Qt5.5 rendering QImage file", "body": "<p>I have a problem to render a <code>QImage</code> with a derived <code>QOpenGLWidget</code> class. If I create my own raw graphic everything works fine but I can't create a proper <code>QOpenGLTexture</code>. I see only some random pixel from memory. I tried a lot but it doesn't work. Here is my test code:</p>\n\n<pre><code>initializeGL()\n\n    initializeOpenGLFunctions();\n\n    glClearColor(0.0, 0.0, 0.0, 0.0);\n\n    glLoadIdentity();\n    glMatrixMode(GL_PROJECTION);\n    glOrtho(0, this-&gt;width(), 0, this-&gt;height(), 0, 1);\n    glMatrixMode(GL_MODELVIEW);\n\n    glShadeModel(GL_FLAT);\n\n\npaintGL()\n\n    mTexture-&gt;bind();\n    glDrawPixels(mTexture-&gt;width(), mTexture-&gt;height(), QOpenGLTexture::RGBA, GL_UNSIGNED_BYTE, mTexture);\n\nloadImage()\n\n    mTexture = new QOpenGLTexture(QImage::fromData(image).convertToFormat(QImage::Format_RGBA8888));\n</code></pre>\n\n<p>\"image\" is a <code>QByteArray</code> and works fine in a <code>QGraphicsView</code>. So it seems that I am missing something.</p>\n"}, {"tags": ["c++", "for-loop"], "comments": [{"owner": {"reputation": 2479, "user_id": 3178426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786493b0364f7e8106e9695cdad88f9d?s=128&d=identicon&r=PG&f=1", "display_name": "zzevannn", "link": "https://stackoverflow.com/users/3178426/zzevannn"}, "edited": false, "score": 0, "creation_date": 1444861244, "post_id": 33136340, "comment_id": 54084721, "body": "What doesn&#39;t work about it?  Let us know what you&#39;re getting thats incorrect and what would be considered correct or we can&#39;t help you.  No one will just debug your code for you, but they&#39;ll certainly help you do it."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1444860384, "creation_date": 1444860384, "answer_id": 33136427, "question_id": 33136340, "link": "https://stackoverflow.com/questions/33136340/creation-program-which-calculate-exponets-with-the-use-of-for-command-in-c/33136427#33136427", "title": "Creation program which calculate exponets with the use of &quot;for&quot; command in C++", "body": "<ol>\n<li>Initialize <code>result</code> to <code>1</code>.</li>\n<li>In each iteration, multiply <code>result</code> by <code>base</code>.</li>\n<li>Make sure <code>result</code> is the running result.</li>\n</ol>\n\n\n\n<pre><code>int result = 1;\n// for (int i=1; i &lt;= exp ; i++) // This will work too.\nfor (int i=0; i &lt; exp ; i++)\n{\n   result *= base;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 5403162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MAWq1.jpg?s=128&g=1", "display_name": "Enthused Binary", "link": "https://stackoverflow.com/users/5403162/enthused-binary"}, "is_accepted": false, "score": 0, "last_activity_date": 1444861604, "creation_date": 1444861604, "answer_id": 33136685, "question_id": 33136340, "link": "https://stackoverflow.com/questions/33136340/creation-program-which-calculate-exponets-with-the-use-of-for-command-in-c/33136685#33136685", "title": "Creation program which calculate exponets with the use of &quot;for&quot; command in C++", "body": "<p>You never really explained what you wanted to happen or for the matter why, but hopefully this solves your problem.</p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n\nint base = 2;\nint exp = 2;\nint result = base*base;\n\nfor(int i = 0; i &lt;= exp; i++) //Unsure why you use the variable exp in the condition\n{\n   cout &lt;&lt; result &lt;&lt; endl;\n   base++ \n}\n\nsystem(\"PAUSE\"); //Non portable code; used just for an example\n\nreturn 0;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5447009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd7cb6749d84dc8ffb3b67869195088?s=128&d=identicon&r=PG&f=1", "display_name": "ronin512", "link": "https://stackoverflow.com/users/5447009/ronin512"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444862431, "creation_date": 1444859992, "last_edit_date": 1444862431, "question_id": 33136340, "link": "https://stackoverflow.com/questions/33136340/creation-program-which-calculate-exponets-with-the-use-of-for-command-in-c", "title": "Creation program which calculate exponets with the use of &quot;for&quot; command in C++", "body": "<p>I tried to write a program to do the exponential calculation with the use of <code>for</code> command. I wrote the code which appears in the lines below but it's not working.</p>\n\n<pre><code>include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    int base=2;\n    int exp=2;\n    int result;\n    for (int i=1; i&lt;e ;i++) {\n        result=base*base;\n    }\n    cout &lt;&lt; result &lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "arduino"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 8, "creation_date": 1444859863, "post_id": 33136279, "comment_id": 54084163, "body": "C++ has <b>nothing</b> to do with graphics. You can just as easily build graphical applications in C (see Win32&#39;s GDI+, GTK, etc. etc.)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1444860173, "post_id": 33136279, "comment_id": 54084291, "body": "The majority of the Win32 API, portions of which are used for creating GUIs on Windows, is designed primarily for C, but can also be used in other languages that are compatible with C, including C++.  So, more generically, the ability to create GUIs depends on the platform API used by your code, not the language that your code is written in."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1444860350, "post_id": 33136279, "comment_id": 54084365, "body": "And yes, you can use C++ to program an Arduino."}, {"owner": {"reputation": 5541, "user_id": 4367864, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mIepQ.png?s=128&g=1", "display_name": "PC Luddite", "link": "https://stackoverflow.com/users/4367864/pc-luddite"}, "edited": false, "score": 0, "creation_date": 1444860663, "post_id": 33136279, "comment_id": 54084487, "body": "C++ doesn&#39;t have any &quot;graphic&quot; capabilities in the standard library either."}, {"owner": {"reputation": 748, "user_id": 5381184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da66272a60130c5f545312f67e16d9a3?s=128&d=identicon&r=PG&f=1", "display_name": "BobRun", "link": "https://stackoverflow.com/users/5381184/bobrun"}, "edited": false, "score": 0, "creation_date": 1444866132, "post_id": 33136279, "comment_id": 54086385, "body": "You can do it in C and it is simpler, lots of good people give up on programming when they try to learn C++ . If you are having problems with C then C++ is not your solution."}], "answers": [{"tags": [], "owner": {"reputation": 989, "user_id": 1733383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c4562803b7c0d405c57d309aa5252a?s=128&d=identicon&r=PG", "display_name": "BigTailWolf", "link": "https://stackoverflow.com/users/1733383/bigtailwolf"}, "is_accepted": false, "score": 2, "last_activity_date": 1444860390, "creation_date": 1444860390, "answer_id": 33136429, "question_id": 33136279, "link": "https://stackoverflow.com/questions/33136279/do-i-need-to-learn-c-before-learning-c/33136429#33136429", "title": "Do i need to learn c before learning c++?", "body": "<p>All the \"graphic\" things are supported by libraries, no matter in C(e.g. GTK, SDL) or C++ (e.g. QT).</p>\n\n<p>And for hardware drive programming, no matter what language it is. You have to compile it into binaries so that the hardware will knows how to run. You can even create your own language if you can write your own compiler.</p>\n"}], "owner": {"reputation": 5, "user_id": 5297689, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d427fe752cfb616c010c9da70382736e?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Serra", "link": "https://stackoverflow.com/users/5297689/eduardo-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "closed_date": 1444860572, "answer_count": 1, "score": -8, "last_activity_date": 1444860390, "creation_date": 1444859769, "question_id": 33136279, "link": "https://stackoverflow.com/questions/33136279/do-i-need-to-learn-c-before-learning-c", "closed_reason": "Opinion-based", "title": "Do i need to learn c before learning c++?", "body": "<p>I started to learn C, but I realized that all i could do was to build thse console programs (correct me if i'm wrong). So, i've seen that c++ is much more \"graphic\", like, you can build apps and windows, and is also OOP, what makes everything easier. So, do I need to finish learning c before c++?</p>\n\n<p>Also, what interested me about C was that I could program an Arduino. Can I program an Arduino with C++?</p>\n"}, {"tags": ["c++", "c", "matlab", "image-processing", "mex"], "answers": [{"tags": [], "owner": {"reputation": 36978, "user_id": 13313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a3d31b0487b4ae6de51cbbb23016440?s=128&d=identicon&r=PG", "display_name": "Dima", "link": "https://stackoverflow.com/users/13313/dima"}, "is_accepted": false, "score": 4, "last_activity_date": 1444860503, "creation_date": 1444860503, "answer_id": 33136454, "question_id": 33136224, "link": "https://stackoverflow.com/questions/33136224/matlab-crashes-while-executing-halftone-mex-wrapper-function/33136454#33136454", "title": "MATLAB crashes while executing halftone mex wrapper function?", "body": "<p>Sounds like a segmentation fault in your mex code. Check the input datatypes. Make sure that the data type of the parameters passed from matlab match those that are expected by the C function. Also, keep in mind that matlab arrays are column-major, and the sizes are [rows, cols], not [width height].</p>\n\n<p>If you can't spot the problem easily, then you would need to attach a debugger to the matlab process, or add a lot of <code>mexPrintf</code>'s into your code to see where exactly it fails.</p>\n"}], "owner": {"reputation": 167, "user_id": 5131819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-f7KhjW0UfOk/AAAAAAAAAAI/AAAAAAAAAQM/w42vdA6nkdw/photo.jpg?sz=128", "display_name": "Deependra Mishra", "link": "https://stackoverflow.com/users/5131819/deependra-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444860503, "creation_date": 1444859562, "question_id": 33136224, "link": "https://stackoverflow.com/questions/33136224/matlab-crashes-while-executing-halftone-mex-wrapper-function", "title": "MATLAB crashes while executing halftone mex wrapper function?", "body": "<p>Below screen shot is the result of the execution of the function in MATLAB.</p>\n\n<pre><code>a=imread('C:\\CVIPtools\\images\\car.bmp');\nad=im2double(a);\nht = halftoneCVIP(ad,4,255, 0.5, 0, 0);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vAy9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vAy9g.png\" alt=\"enter image description here\"></a></p>\n\n<p>Halftoning: it's a methods for reducing the number of gray levels by creating dot patterns or dither patterns to represent various gray levels, reduces effective  spatial resolution also.</p>\n\n<p>There are 6 methods in halftoning.\n1. Floyd Stienberg\n2. Dither\n3. Threshold\n4. Cluster 3\n5. Cluster 4\n6. Cluster 8</p>\n\n<p><strong>*Image *CVIPhalftone(Image  <em>cvip_Image,  int  halftone,  int\n     maxval,   float   fthreshval,   CVIP_BOOLEAN   retain_image,\n     CVIP_BOOLEAN verbose)</em></strong></p>\n\n<pre><code>  &lt;cvip_Image&gt; - pointer to input image\n  &lt;halftone&gt; - indicates method used to convert  from  grays-\n cale  to  binary.  (one  of  QT_FS,  QT_THRESH,  QT_DITHER8,\n QT_CLUSTER3, QT_CLUSTER4, QT_CLUSTER8)\n  &lt;maxval&gt; - specifies maximum range of input image  (usually\n 255)\n  &lt;fthreshval&gt; - threshold value (for QT_THRESH) between [0.0\n ... 1.0].\n  &lt;retain_image&gt; - retain image after  writing  (CVIP_YES  or\n CVIP_NO)?\n  &lt;verbose&gt; - shall I be verbose (CVIP_YES or CVIP_NO)?**\n</code></pre>\n\n<p>I am trying to reuse a halftone function origianlly written in C. My objective is to make this function executable in MATLAB by writing a wrapper function using MEX.</p>\n\n<p>Below are the code I have written and I am able to compile successfully without any errors. However, while executing the function MATLAB crashes. Does anyone know the reason behind this?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n#include &lt;stdlib.h&gt;\n#include \"mex.h\"\n#include \"CVIPtools.h\"\n#include \"CVIPimage.h\"\n#include \"CVIPdef.h\"\n#include \"CVIPmap.h\"\n#include \"limits.h\"\n#include \"threshold.h\"\n#include &lt;float.h&gt;\n#include \"CVIPmatrix.h\"\n\n#include \"dithers.h\"\n#include \"CVIPhalftone.h\"\n\n#define CVIP_WHITE 1\n#define CVIP_BLACK 0\n\n#define FS_SCALE 1024\n#define HALF_FS_SCALE 512\n\n\nImage *CVIPhalftone(Image *cvip_Image, int halftone, int maxval, float fthreshval, CVIP_BOOLEAN retain_image, CVIP_BOOLEAN verbose)\n{\n    byte* grayrow;\n    register byte* gP;\n    byte* bitrow;\n    register byte* bP;\n    int rows, cols, row;\n    int col, limitcol, format;\n    char function_name[] = {\"CVIPhalftone\"};\n    long threshval, sum;\n    long* thiserr;\n    long* nexterr;\n    long* temperr;\n    int fs_direction;\n    Image *bit_Image;\n\n    cols = cvip_Image-&gt;image_ptr[0]-&gt;cols;\n    rows = cvip_Image-&gt;image_ptr[0]-&gt;rows;\n\n    bit_Image = (Image *) image_allocate(cvip_Image-&gt;image_format, BINARY, 1, rows, cols, CVIP_BYTE, REAL);\n\n    format = cvip_Image-&gt;image_format;\n    if( !(format==PBM || format==PGM || format==TIF || format==RAS || format==BIN || format==ITX) ) {\n       if(verbose)\n          fprintf(stderr, \"\\n%s: casting image to format that supports binary images - (PBM).\\n\",function_name);\n       bit_Image-&gt;image_format = PBM;\n    }\n    mexPrintf(\"Till here 1\\n\");\n    /* Initialize. */\n    switch ( halftone )\n    {\n    case QT_FS:         // QT_FS=1 defined in CVIPhalftone.h\n\n    if(verbose)\n       fprintf(stderr, \"%s: performing boustrophedonic Floyd-Steinberg error diffusion.\\n\\n\",function_name);\n    /* Initialize Floyd-Steinberg error vectors. */\n    thiserr = (long*) calloc( cols + 2, sizeof(long) );\n    nexterr = (long*) calloc( cols + 2, sizeof(long) );\n    srand( (int) ( time( 0 ) ^ getpid( ) ) );\n    for ( col = 0; col &lt; cols + 2; ++col )\n        thiserr[col] = ( rand( ) % FS_SCALE - HALF_FS_SCALE ) / 4;\n        /* (random errors in [-FS_SCALE/8 .. FS_SCALE/8]) */\n    fs_direction = 1;\n    threshval = fthreshval * FS_SCALE;\n    break;\n\n    case QT_THRESH:         // QT_THRESH=2 defined in CVIPhalftone.h\n\n    threshval = fthreshval * maxval + 0.999999;\n    if(verbose) {\n       fprintf(stderr, \"%s: performing simple thresholding operation.\\n\",function_name);\n       fprintf(stderr, \"%s: threshold level - %ld.\\n\\n\",function_name, threshval);\n    }\n    break;\n\n\n    case QT_DITHER8:        // QT_DITHER8=3 defined in CVIPhalftone.h\n    break;\n\n\n    case QT_CLUSTER3:       // QT_CLUSTER3=4 defined in CVIPhalftone.h\n    break;\n\n    case QT_CLUSTER4:       // QT_CLUSTER4=5 defined in CVIPhalftone.h\n\n    break;\n\n    case QT_CLUSTER8:       // QT_CLUSTER8=6 defined in CVIPhalftone.h\n\n    break;\n\n    default:\n    fprintf(stderr, \"%s: can't happen... but apparently something did?!?\\n\" , function_name); break;\n    }\n    mexPrintf(\"Till here 2\\n\");\n    for ( row = 0; row &lt; rows; ++row )\n    {\n    grayrow = (byte *) ((byte **) cvip_Image-&gt;image_ptr[0]-&gt;rptr)[row];\n    bitrow  = (byte *) ((byte **) bit_Image-&gt;image_ptr[0]-&gt;rptr)[row];\n\n    switch ( halftone )\n        {\n        case QT_FS:\n\n        for ( col = 0; col &lt; cols + 2; ++col )\n        nexterr[col] = 0;\n        if ( fs_direction )\n        {\n        col = 0;\n        limitcol = cols;\n        gP = grayrow;\n        bP = bitrow;\n        }\n        else\n        {\n        col = cols - 1;\n        limitcol = -1;\n        gP = &amp;(grayrow[col]);\n        bP = &amp;(bitrow[col]);\n        }\n        do\n        {\n        sum = ( (long) *gP * FS_SCALE ) / maxval + thiserr[col + 1];\n        if ( sum &gt;= threshval )\n            {\n            *bP = CVIP_WHITE;\n            sum = sum - threshval - HALF_FS_SCALE;\n            }\n        else\n            *bP = CVIP_BLACK;\n\n        if ( fs_direction )\n            {\n            thiserr[col + 2] += ( sum * 7 ) / 16;\n            nexterr[col    ] += ( sum * 3 ) / 16;\n            nexterr[col + 1] += ( sum * 5 ) / 16;\n            nexterr[col + 2] += ( sum     ) / 16;\n\n            ++col;\n            ++gP;\n            ++bP;\n            }\n        else\n            {\n            thiserr[col    ] += ( sum * 7 ) / 16;\n            nexterr[col + 2] += ( sum * 3 ) / 16;\n            nexterr[col + 1] += ( sum * 5 ) / 16;\n            nexterr[col    ] += ( sum     ) / 16;\n\n            --col;\n            --gP;\n            --bP;\n            }\n        }\n        while ( col != limitcol );\n        temperr = thiserr;\n        thiserr = nexterr;\n        nexterr = temperr;\n        fs_direction = ! fs_direction;\n        break;\n\n        case QT_THRESH:\n\n        for ( col = 0, gP = grayrow, bP = bitrow; col &lt; cols; ++col, ++gP, ++bP )\n        if ( *gP &gt;= threshval )\n            *bP = CVIP_WHITE;\n        else\n            *bP = CVIP_BLACK;\n        break;\n\n        case QT_DITHER8:\n\n        for ( col = 0, gP = grayrow, bP = bitrow; col &lt; cols; ++col, ++gP, ++bP )\n        if ( *gP &gt;= dither8[row % 16][col % 16] * ( maxval + 1 ) / 256 )\n            *bP = CVIP_WHITE;\n        else\n            *bP = CVIP_BLACK;\n        break;\n\n        case QT_CLUSTER3:\n\n        for ( col = 0, gP = grayrow, bP = bitrow; col &lt; cols; ++col, ++gP, ++bP )\n        if ( *gP &gt;= cluster3[row %6][col %6 ] * ( maxval + 1 ) / 18 )\n            *bP = CVIP_WHITE;\n        else\n            *bP = CVIP_BLACK;\n        break;\n\n        case QT_CLUSTER4:\n\n        for ( col = 0, gP = grayrow, bP = bitrow; col &lt; cols; ++col, ++gP, ++bP )\n        if ( *gP &gt;= cluster4[row %8][col%8] * ( maxval + 1 ) / 32 )\n            *bP = CVIP_WHITE;\n        else\n            *bP = CVIP_BLACK;\n        break;\n\n        case QT_CLUSTER8:\n\n        for ( col = 0, gP = grayrow, bP = bitrow; col &lt; cols; ++col, ++gP, ++bP )\n        if ( *gP &gt;= cluster8[row %16][col %16] * ( maxval + 1 ) / 128 )\n            *bP = CVIP_WHITE;\n        else\n            *bP = CVIP_BLACK;\n        break;\n\n        default:\n        fprintf(stderr, \"%s: can't happen... but apparently something did?!?\\n\" , function_name); break;\n        }\n    }\n    mexPrintf(\"Till here 1\\n\");\nif(!retain_image)\n   image_free(cvip_Image);\nreturn bit_Image;\nmexPrintf(\"Till here 2\\n\");\n}\n\n\n\nvoid midd( int choice, double *indata, double *outdata, int n, int row, int col, int bands)\n{\n    Image *inputImage;\n    byte        **image;    \n    unsigned int        r,  c;      \n    int i;\n    unsigned int    no_of_rows, \n            no_of_cols, \n            no_of_bands;    \n    COLOR_FORMAT color_space;\n    int check=0;\n     no_of_bands = bands;\n\n    no_of_rows =  row;\n\n    no_of_cols =  col;\n\n    for (i=0;i&lt;n;i++)\n    { if (check&lt;indata[i])\n          check=indata[i];\n    }\n\n\n    if (check&lt;=1){\n\n      for (i=0;i&lt;n;i++){\n      //outdata[i]=  floor(255*indata[i]);    //By Krishna Regmi\n      indata[i]=  floor(255*indata[i]);\n   }}\n    else\n    {for (i=0;i&lt;n;i++)\n      //outdata[i]=  floor(indata[i]);      //By Krishna Regmi\n      indata[i]=  floor(indata[i]);\n     }\n\n    // mexPrintf(\"\\ first value after scaling to 0-255 %f\\n\", outdata[0]);\n\n    // typedef enum {PBM, PGM, PPM, EPS, TIF, GIF, RAS, ITX, IRIS, CCC, BIN, VIP, GLR, BTC, BRC, HUF, ZVL, ARITH, BTC2, BTC3, DPC, ZON, ZON2, SAFVR, JPG, WVQ, FRA, VQ, XVQ} IMAGE_FORMAT;\n\n    //typedef enum {BINARY, GRAY_SCALE, RGB, HSL, HSV, SCT, CCT, LUV, LAB, XYZ}\n\n    inputImage=new_Image (BMP, RGB, no_of_bands, row,  col, CVIP_BYTE, REAL ); \n\n    for(bands=0; bands &lt; no_of_bands; bands++) {\n    image = getData_Image(inputImage, bands);\n    for(r=0; r &lt; no_of_rows; r++) {\n            for(c=0; c &lt; no_of_cols; c++)\n            {\n                image[r][c]=outdata[r+row*c+row*col*bands];        /* passing data from MATLAB variable to CVIPtools variable   */\n             }\n         }\n    }\n\n\n    //Image *CVIPhalftone(Image *cvip_Image, int halftone, int maxval, float fthreshval, CVIP_BOOLEAN retain_image, CVIP_BOOLEAN verbose)\n\n   //inputImage= CVIPhalftone(cvipImage,QT_THRESH,255,0.5,CVIP_NO,CVIP_NO);\n\n    inputImage  =   CVIPhalftone(inputImage, choice, 255, 0.5, CVIP_NO, CVIP_NO);\n\n for(bands=0; bands &lt; no_of_bands; bands++) {\n        image = getData_Image(inputImage, bands);\n    for(r=0; r &lt; no_of_rows; r++) {\n            for(c=0; c &lt; no_of_cols; c++)\n            {\n                outdata[r+row*c+row*col*bands] = floor(image[r][c]);     /* passing data back to MATLAB variable from CVIPtools variable */\n\n            }\n         }\n      }\n\n    }       /* end of wrapper function*/\n\n\n/* main gateway function*/\n\nvoid mexFunction(int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[])\n{\n    double *outdata, *indata;\n    int    r,c,bands;\n    const mwSize *dim_array;\n    int choice,n;\n    //char color_type;\n    // COLOR_FORMAT color_space;\n    //int choice;\n    //int n = mxGetNumberOfElements(prhs[0]);\n    n = mxGetNumberOfElements(prhs[0]);\n    indata = mxGetData(prhs[0]);\n    //double *indata = (double *)mxGetData(prhs[0]);\n    dim_array = mxGetDimensions(prhs[0]);\n    //color_type = mxGetChars(prhs[1]);\n\n    choice = mxGetScalar(prhs[1]);\n    r         = dim_array[0];\n     c         = dim_array[1];\n      bands         = dim_array[2];\n\n      // mexPrintf(\"total elements %d\\n\", n);\n\n    if(bands==3){\n\n        plhs[0] = mxCreateNumericArray(3, dim_array, mxDOUBLE_CLASS, mxREAL);\n\n    }\n    else\n    { plhs[0] = mxCreateDoubleMatrix(r,c,mxREAL);\n      bands=1;\n       }\n      outdata = mxGetData(plhs[0]);\n    midd(choice, indata, outdata, n, r, c, bands);\n }\n</code></pre>\n"}, {"tags": ["c++", "xml", "file", "storage", "c++-cx"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3209230, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nNjIJ.jpg?s=128&g=1", "display_name": "Napokue", "link": "https://stackoverflow.com/users/3209230/napokue"}, "edited": false, "score": 0, "creation_date": 1444906194, "post_id": 33136512, "comment_id": 54102465, "body": "Thank you that worked. It loads up the data but when I launch the method multiple times, I get an error thrown. And it says the following: <b>The operation attempted to access data outside the valid range.</b> This is triggered at the place: <code>String^ strXml = reader-&gt;ReadString(stream-&gt;Size);</code>"}], "tags": [], "owner": {"reputation": 1932, "user_id": 1539184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a986e98ec9a069d3c2ae00c0c14d26c7?s=128&d=identicon&r=PG", "display_name": "Andy Rich", "link": "https://stackoverflow.com/users/1539184/andy-rich"}, "is_accepted": true, "score": 1, "last_activity_date": 1444860840, "creation_date": 1444860840, "answer_id": 33136512, "question_id": 33135996, "link": "https://stackoverflow.com/questions/33135996/c-cx-getfileasync-throws-breakpoint-error/33136512#33136512", "title": "C++/CX - GetFileAsync throws breakpoint error", "body": "<p>Your code worked for me with one modification: the <code>xmlFile</code> string contains a backslash that needs to be escaped:</p>\n\n<pre><code>String^ xmlFile = \"Assets\\\\MyXmlFile.xml\";\n</code></pre>\n\n<p>Note also that if you just right-clicked \"Assets\" in your project and chose \"Add new item\", that item may have ended up in your root project folder (which is the default). If you want it to be deployed to the Assets subfolder it will need to physically live there on disk in the assets subdirectory, not just be in the Assets filter. (Unlike in C#, the C++ project \"folders\" are actually filters and do not reflect physical directory location.)</p>\n"}], "owner": {"reputation": 125, "user_id": 3209230, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nNjIJ.jpg?s=128&g=1", "display_name": "Napokue", "link": "https://stackoverflow.com/users/3209230/napokue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 33136512, "answer_count": 1, "score": 0, "last_activity_date": 1444860840, "creation_date": 1444858531, "last_edit_date": 1444859710, "question_id": 33135996, "link": "https://stackoverflow.com/questions/33135996/c-cx-getfileasync-throws-breakpoint-error", "title": "C++/CX - GetFileAsync throws breakpoint error", "body": "<p>I am trying to open a xml file from my Assets folder, but unfortunately I am only able to open my xml file by using a FileOpenPicker which is not the most ideal situation when I have to constantly fetch my xml file, without disturbing the user of course.</p>\n\n<pre><code>FileOpenPicker^ openPicker = ref new FileOpenPicker();\nopenPicker-&gt;ViewMode = PickerViewMode::List;\nopenPicker-&gt;SuggestedStartLocation = PickerLocationId::Desktop;\nopenPicker-&gt;FileTypeFilter-&gt;Append(\".xml\"); \n\ntask&lt;StorageFile^&gt;(\n    openPicker-&gt;PickSingleFileAsync()).then([this](StorageFile^ file) {\n    if (nullptr != file) {\n        task&lt;Streams::IRandomAccessStream^&gt;(file-&gt;OpenAsync(FileAccessMode::Read)).then([this](Streams::IRandomAccessStream^ stream) \n        {\n            IInputStream^ deInputStream = stream-&gt;GetInputStreamAt(0);\n            DataReader^ reader = ref new DataReader(deInputStream);\n            reader-&gt;LoadAsync(stream-&gt;Size);\n            String^ strXml = reader-&gt;ReadString(stream-&gt;Size);\n        });\n    }\n});\n</code></pre>\n\n<p>I am now trying to reconstruct this code into a code which loads up my xml file without letting the user choose. I tried the following approach:</p>\n\n<pre><code>String^ xmlFile = \"Assets\\MyXmlFile.xml\";\nStorageFolder^ InstallationFolder = Windows::ApplicationModel::Package::Current-&gt;InstalledLocation;\ntask&lt;StorageFile^&gt;(\nInstallationFolder-&gt;GetFileAsync(xmlFile)).then([this](StorageFile^ file) {\n    if (nullptr != file) {\n        task&lt;Streams::IRandomAccessStream^&gt;(file-&gt;OpenAsync(FileAccessMode::Read)).then([this](Streams::IRandomAccessStream^ stream) \n        {\n            IInputStream^ deInputStream = stream-&gt;GetInputStreamAt(0);\n            DataReader^ reader = ref new DataReader(deInputStream);\n            reader-&gt;LoadAsync(stream-&gt;Size);\n            String^ strXml = reader-&gt;ReadString(stream-&gt;Size);\n            stream-&gt;FlushAsync();\n\n        });\n    }\n});\n</code></pre>\n\n<p>I think I get errors at the GetFileAsync which I am not able to solve and I am asking you, the community to try and help me.</p>\n"}, {"tags": ["c++", "class", "c++11", "vector"], "comments": [{"owner": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 2, "creation_date": 1444858351, "post_id": 33135939, "comment_id": 54083474, "body": "Check this SO thread which reports the same issue (<a href=\"http://stackoverflow.com/questions/11919836/unresolved-external\">stackoverflow.com/questions/11919836/unresolved-external</a>)."}, {"owner": {"reputation": 45, "user_id": 5380126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2f437c5ae3e6ffaee7784630fdcffa?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5380126/mark"}, "reply_to_user": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 0, "creation_date": 1444859578, "post_id": 33135939, "comment_id": 54084037, "body": "I did not see this article. And sure enough it was the same issue causing my woes. Thanks!"}], "owner": {"reputation": 45, "user_id": 5380126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2f437c5ae3e6ffaee7784630fdcffa?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5380126/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1444858591, "answer_count": 0, "score": 0, "last_activity_date": 1444858243, "creation_date": 1444858243, "question_id": 33135939, "link": "https://stackoverflow.com/questions/33135939/declaring-and-accessing-a-vector-of-objects-in-a-class-giving-linker-errors", "closed_reason": "Duplicate", "title": "Declaring and accessing a vector of objects in a class. Giving linker errors", "body": "<p>Background: I have a larger program where I decided to practice vectors by creating a particle emitter. So i created a class called <code>Particle</code> that did the Particle stuff, then a class called <code>ParticleEmitter</code> to handle the particles. The plan being that at it's core ParticleEmitter would have a vector of <code>Particels</code>, since this was an excercise to learn how to use vectors.\nProblem: It does not compile. I get a Linking error.</p>\n\n<blockquote>\n  <p>Error  1   error LNK2019: unresolved external symbol __imp___CrtDbgReportW referenced in function \"public: class Particle &amp; __thiscall std::vectorParticle,class std::allocator >::operator[](unsigned int)\" (??A?$vector@VParticle@@V?$allocator@VParticle@@@std@@@std@@QAEAAVParticle@@I@Z)  ...\\projects\\MyExperiment\\Main.obj  MyExperiment</p>\n</blockquote>\n\n<p>The original error made me try to just strip down to some dummy classes declared and defined in before Main.</p>\n\n<pre><code>#include &lt;vector&gt;\n\nclass Particle {\nprivate:\n    double xPos_;\n    double yPos_;\n\npublic:\n    Particle();\n    void setMe(double a, double b);\n};\n\nParticle::Particle() {\n    xPos_ = 0;\n    yPos_ = 0;\n}\n\nvoid Particle::setMe(double a, double b) {\n    xPos_ = a;\n    yPos_ = b;\n}\n\nclass ParticleEmitter {\nprivate:\n    ParticleEmitter();\n    std::vector&lt;Particle&gt; particleArray_;\n\npublic:\n    void Populate();\n    void Update();\n};\n\nParticleEmitter::ParticleEmitter() {\n    particleArray_.reserve(5);\n}\n\nvoid ParticleEmitter::Populate()  {\n    Particle newParticle;\n    newParticle.setMe(23, 45);\n    particleArray_.push_back(newParticle);\n    particleArray_.push_back(newParticle);\n}\n\nvoid ParticleEmitter::Update()  {\n    for (std::vector&lt;Particle&gt;::size_type i = 0; i &lt; particleArray_.size(); i++)\n    {\n        particleArray_[i].setMe(i, i + 1);\n    }\n}\n</code></pre>\n\n<p>The trigger for the error is the last line: <code>particleArray_[i].setMe(i, i + 1);</code>\nIf I comment out this it compiles fine.\nThe rub is that if I copy only this barebones code to a new project, it compiles fine.</p>\n\n<p>In my main project,I have no #includes that should interfere with this, only <code>&lt;iostream&gt;</code> and <code>\"SDL.h\"</code>. There are also no other variables etc with similar names.</p>\n\n<p>Solutions tried: 3 different ways of accessing the vector:</p>\n\n<pre><code>    for (std::vector&lt;Particle&gt;::size_type i = 0; i != particleArray_.size(); i++)\n        {\n            particleArray_[i].SetxVel(particleArray_[i].GetxVel() + (GRAVITY_CONSTANT * timeSlice) / 1000);\n            // Other stuff\n        }\n\n    for (std::vector&lt;Particle&gt;::size_type i = 0; i != particleArray_.size(); i++)\n    {\n        Particle&amp; pA = particleArray_[i];\n        pA.SetxVel(pA.GetxVel() + (GRAVITY_CONSTANT * timeSlice) / 1000);\n             // Other stuff\n\n    }\n\n    for (std::vector&lt;Particle&gt;::iterator it = particleArray_.begin(); it != particleArray_.end(); ++it)\n    {\n        it-&gt;SetxVel(it-&gt;GetxVel() + (GRAVITY_CONSTANT * timeSlice) / 1000);\n        // Other stuff\n    }\n</code></pre>\n\n<p>This is from original code where GetxVel and SetxVel are public functions from the Particle class. Common to all three ways to access the vector is that it fails to compile due to linking error.\nIn the original code, the destructor is also defined/declared (empty).</p>\n\n<p>So the real question is: Am I doing something wrong? And why does it give linking errors?\nAny insights or further reading are most welcome. I have banged my head and Google against this for many days now...</p>\n"}, {"tags": ["c++", "macos", "cmake", "sdl-2", "clion"], "comments": [{"owner": {"reputation": 233, "user_id": 2827670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5df7ab562b9b4384f54b6ee129b685c?s=128&d=identicon&r=PG&f=1", "display_name": "MinaKamel", "link": "https://stackoverflow.com/users/2827670/minakamel"}, "edited": false, "score": 0, "creation_date": 1444858368, "post_id": 33135856, "comment_id": 54083482, "body": "Try to remove include_directories(${SDL2_INCLUDE_DIR}) include_directories(${SDL2_IMAGE_INCLUDE_DIR}) because it is redundant. find_package will do it for you."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444858618, "post_id": 33135856, "comment_id": 54083595, "body": "As an aside, you should include <code>SDL.h</code>, not <code>SDL&#47;SDL.h</code>. <a href=\"https://wiki.libsdl.org/FAQDevelopment#Do_I_.23include_.3CSDL.h.3E_or_.3CSDL.2FSDL.h.3E.3F\" rel=\"nofollow noreferrer\">Source</a>."}, {"owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "reply_to_user": {"reputation": 233, "user_id": 2827670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5df7ab562b9b4384f54b6ee129b685c?s=128&d=identicon&r=PG&f=1", "display_name": "MinaKamel", "link": "https://stackoverflow.com/users/2827670/minakamel"}, "edited": false, "score": 0, "creation_date": 1444858961, "post_id": 33135856, "comment_id": 54083753, "body": "@MinaKamel - Removed those lines, the compiler cannot find sdl.h nor SDL2/sdl.h - based on what i&#39;ve read FindSDL.cmake sets those variables but does not call include_directories with them."}, {"owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444859051, "post_id": 33135856, "comment_id": 54083806, "body": "@zenith - that is what i&#39;m doing and it works in <i>my code</i> but does not work for the SDL_image.h (which is not mine, and includes &lt;SDL2/sdl.h&gt; as I tried to state above."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1444859813, "post_id": 33135856, "comment_id": 54084141, "body": "It seems that current <code>SDL2_image</code> is incompatible with newest <code>SDL2</code>. Set <code>SDL2DIR</code> <i>environment</i> variable (note <code>$ENV{SDL2DIR}</code> in the <code>findSDL2.cmake</code>) to old SDL2 installation and make fresh configuration."}, {"owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1444871252, "post_id": 33135856, "comment_id": 54087606, "body": "@Tsyvarev - Could you provide a source to where you got that? I did not change SDL2 versions between yesterday and today. Nor have I changed anything EXCEPT the OSX version... I cant figure out why that would affect this though. Furthermore, on my windows machine under cygwin i have this same version of SDL and SDL_image working together."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1444892167, "post_id": 33135856, "comment_id": 54093831, "body": "As for setting <code>SDL2DIR</code>, I have been found this from <code>findSDL2.cmake</code> file you provide: when it search <code>SDL2_INCLUDE_DIR</code>, it uses <code>find_path</code> with <code>HINTS</code> option contained <code>$ENV{SDL2DIR}</code>. That means if given variable is set, it will be tested for being include directory. As for incompatibility, I deduce that from your post."}], "answers": [{"comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1444892389, "post_id": 33139045, "comment_id": 54093914, "body": "Changing <code>target_link_libraries</code> cannot affect on include directories(linking comes <i>after</i> compiling sources). Probably, problem was in something else. In any case it is good that you have resolved it."}, {"owner": {"reputation": 653, "user_id": 967599, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/234de821e002054fc8b99606b8dc6906?s=128&d=identicon&r=PG", "display_name": "JoshBramlett", "link": "https://stackoverflow.com/users/967599/joshbramlett"}, "edited": false, "score": 0, "creation_date": 1445063456, "post_id": 33139045, "comment_id": 54173711, "body": "@Rob  Is there anything else you&#39;ve tried that&#39;s outside this thread?  I saw the same behavior after upgrading to El Capitan, and followed this thread with no success."}, {"owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "edited": false, "score": 0, "creation_date": 1445264936, "post_id": 33139045, "comment_id": 54238150, "body": "I did not. I am including SDL in my code via <code>#include &quot;SDL.h&quot;</code> instead of <code>#include &quot;SDL&#47;SDL.h&quot;</code> not sure why it changed between OSX versions, which is weird to me."}], "tags": [], "owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "is_accepted": true, "score": 2, "last_activity_date": 1445265344, "last_edit_date": 1445265344, "creation_date": 1444877674, "answer_id": 33139045, "question_id": 33135856, "link": "https://stackoverflow.com/questions/33135856/using-sdl2-with-sdl2-image-on-osx-10-11-cmake-3-3-within-clion-1-1/33139045#33139045", "title": "Using SDL2 with SDL2_image on OSX 10.11 (CMake 3.3 within CLion 1.1)", "body": "<p>I feel stupid... My CMakeLists.txt file is correct except i needed to add the following</p>\n\n<pre><code>target_link_libraries(Cavestory ${SDL2_LIBRARY} ${SDL2_IMAGE_LIBRARY})\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>target_link_libraries(Cavestory SDL2 SDL2_image)\n</code></pre>\n\n<p>This fixes the SDL linking issue from SDL_image.h; However, after updating to El Capitan, I can no longer reference SDL via <code>#include \"SDL2/SDL.h\"</code> and must use <code>#include \"SDL.h\"</code> -- while this is preferred, I'd like to know why/how this changed between OSX 10.10 and OSX 10.11.</p>\n"}], "owner": {"reputation": 1044, "user_id": 430231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nIhhr.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/430231/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4111, "favorite_count": 2, "accepted_answer_id": 33139045, "answer_count": 1, "score": 6, "last_activity_date": 1445265344, "creation_date": 1444857898, "question_id": 33135856, "link": "https://stackoverflow.com/questions/33135856/using-sdl2-with-sdl2-image-on-osx-10-11-cmake-3-3-within-clion-1-1", "title": "Using SDL2 with SDL2_image on OSX 10.11 (CMake 3.3 within CLion 1.1)", "body": "<p>I'm following a couple of tutorials from reddit.com/r/limeoats to learn some game development in c++. I'm not experienced with CMake or CLion and have managed to google my way this far.</p>\n\n<p>I had everything working up until I updated OSX to El Capitan (10.11). It seems that I can no longer use <code>#include \"SDL2/SDL.h\"</code> but instead need to use <code>#include \"SDL.h\"</code> Then it can find the SDL headers. The problem comes in when I also use <code>#include \"SDL_image.h\"</code> I get the following compiler error:</p>\n\n<pre><code>/Library/Frameworks/SDL2_image.framework/Headers/SDL_image.h:27:10:\nfatal error: 'SDL2/SDL.h' file not found\n#include &lt;SDL2/SDL.h&gt;\n         ^\n</code></pre>\n\n<p>Looking into the header file in my Frameworks folder, it has <code>#include &lt;SDL2/SDL.h&gt;</code> but CMake is providing it as SDL.h for some reason after upgrading OSX to 10.11.</p>\n\n<p>How do I get the SDL extensions to play nice with the updated header path? Or how do I get CMake to give me the old SDL2/SDL.h header path back?</p>\n\n<p>Below is my CMakeLists.txt and I got the <a href=\"https://github.com/brendanwhitfield/collector/blob/master/cmake/FindSDL2.cmake#L50\" rel=\"noreferrer\">FindSDL2.cmake</a> (note the comment on line 50) and FindSDL2_image.cmake from <a href=\"https://github.com/brendanwhitfield/collector/tree/master/cmake\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.3)\nproject(Cavestory)\n\nset(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} \"${PROJECT_SOURCE_DIR}/cmake\")\n\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\nset(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/bin)\n\ninclude_directories(${PROJECT_SOURCE_DIR}/source/headers)\n\nfind_package(SDL2 REQUIRED)\nfind_package(SDL2_image REQUIRED &gt;=2.0.0)\n\ninclude_directories(${SDL2_INCLUDE_DIR})\ninclude_directories(${SDL2_IMAGE_INCLUDE_DIR})\n\nfile(GLOB SOURCE_FILES \"source/src/*.cpp\")\n\nadd_executable(Cavestory ${SOURCE_FILES})\n\n# One thread said this is all I should need to link SDL2\n# but cannot get this to work at all\n#target_link_libraries(Cavestory SDL2 SDL2_image)\n\n#add_custom_command(TARGET Cavestory POST_BUILD\n#        COMMAND ${CMAKE_COMMAND} -E copy_directory\n#        ${CMAKE_SOURCE_DIR}/content $&lt;TARGET_FILE_DIR:Cavestory&gt;)\n</code></pre>\n\n<p>And my directory structure (if it helps)...</p>\n\n<pre><code>/Cavestory (root)\n    CMakeLists.txt\n    /bin\n    /cmake\n        FindSDL2.cmake\n        FindSDL2_image.cmake\n    /content\n        /sprites\n            **images**\n    /docs\n    /source\n        /headers\n           **header files**\n        /src\n           **code files**\n</code></pre>\n"}, {"tags": ["c++", "windows", "rpc", "dce"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 3886586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/76Cit.png?s=128&g=1", "display_name": "ars1614", "link": "https://stackoverflow.com/users/3886586/ars1614"}, "is_accepted": true, "score": 0, "last_activity_date": 1445521742, "creation_date": 1445521742, "answer_id": 33282652, "question_id": 33135732, "link": "https://stackoverflow.com/questions/33135732/dce-rpc-windows-7/33282652#33282652", "title": "DCE RPC - Windows 7", "body": "<p>Solution: make your own packets and send them via sockets. Wireshark can help.</p>\n"}], "owner": {"reputation": 69, "user_id": 3886586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/76Cit.png?s=128&g=1", "display_name": "ars1614", "link": "https://stackoverflow.com/users/3886586/ars1614"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 33282652, "answer_count": 1, "score": 0, "last_activity_date": 1445521742, "creation_date": 1444857471, "question_id": 33135732, "link": "https://stackoverflow.com/questions/33135732/dce-rpc-windows-7", "title": "DCE RPC - Windows 7", "body": "<p>I have to check a Profinet Network in order to get all the components. I could ask them via NSMP, or DCP, but I need the UUID to after that executing functions via RPC.</p>\n\n<p>The problem is that, there was a function named LookUpBegin(next and stop) that did the work for Windows NT, but is unsupported after Vista OS. Now I have seen that there has to be something <a href=\"https://msdn.microsoft.com/en-us/library/cc244264.aspx\" rel=\"nofollow\">here</a> but I have not been able to find what it is, where it is located...</p>\n\n<p>Have you had any experience with DCE-RPC in C++?\nBest way? Any sample? whatever.</p>\n\n<p>Another question is: I have to execute functions in a device server that I do not know. Is there any function of RPC that allows to execute a function giving an id or similar and a string? A kind of socket that you send to the server and if it was well coded the server would execute something. Because I have been able to sniff the traces via Wireshark. So I could know some part of them. </p>\n"}, {"tags": ["c++", "syntax-error"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 5, "creation_date": 1444857009, "post_id": 33135593, "comment_id": 54082868, "body": "<code>else (intGuess &gt; intSecretNum)</code> --&gt; <code>else</code> does not take a condition <code>else if</code> does"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1444857244, "post_id": 33135593, "comment_id": 54082976, "body": "There are other things as well, what is the point of <code>intSecretNum != 47</code> in the while loop? What do you do if your <code>intguess == intSecretNum</code> ?"}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1444857463, "post_id": 33135593, "comment_id": 54083053, "body": "What do you want to happen when guess matches secret number?"}, {"owner": {"reputation": 2801, "user_id": 2877058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMUyx.jpg?s=128&g=1", "display_name": "WhiteViking", "link": "https://stackoverflow.com/users/2877058/whiteviking"}, "edited": false, "score": 1, "creation_date": 1444859527, "post_id": 33135593, "comment_id": 54084008, "body": "Also: (1) You need to use <code>cin</code> inside the loop to ask for a new guess. (2) You seem to use <code>intGuess</code> for both the number of guesses so far <i>and</i> the number guessed. You need two variables instead of one. (3) Unless your teacher asked you to (bad idea) you may want to avoid prefixing the variable name with its type. This tends to make variable names more verbose and cryptic."}], "answers": [{"tags": [], "owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857262, "creation_date": 1444857262, "answer_id": 33135684, "question_id": 33135593, "link": "https://stackoverflow.com/questions/33135593/missing-before-identifier-cout/33135684#33135684", "title": "Missing ; before identifier cout", "body": "<p>Simply change this line:</p>\n\n<pre><code>else (intGuess &gt; intSecretNum)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>else if( intGuess &gt; intSecretNum)\n</code></pre>\n\n<p>The problem is that you cannot give a special condition with just the keyword <code>else</code>. Else is used to describe the \"in any other case do ...\". So in your case since it's a simple test you can simply try to get rid of the condition after else and go from:</p>\n\n<p>else (intGuess > intSecretNum)\nto:</p>\n\n<pre><code>else\n</code></pre>\n\n<p>For the sake of readability I would also advice to always surround your instructions with <code>{}</code> \nThis would therefore give you:</p>\n\n<pre><code>while(intSecretNum != 47, intGuess&lt;= 5)\n    {\n            if( intGuess &lt; intSecretNum){\n                cout &lt;&lt; \"Your Number is smaller than the secret number\";\n            }\n            else {\n                cout &lt;&lt; \"Your Number is bigger than the secret number\";\n            }\n            intGuess++;\n            if(intGuess&gt;5)\n                cout &lt;&lt; \"Sorry, you have used up all your quota (5 times)! The secret number is \"&lt;&lt;intSecretNum;\n                cout &lt;&lt; \"program terminated.\" &lt;&lt;endl;\n    }\n</code></pre>\n\n<p>NB: There are also some things that do not make sense in your while loop. But that may be the topic for an other question</p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 5439214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f248962bfc33327628f26c5f193a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "cowdrool", "link": "https://stackoverflow.com/users/5439214/cowdrool"}, "is_accepted": false, "score": 3, "last_activity_date": 1444857269, "creation_date": 1444857269, "answer_id": 33135688, "question_id": 33135593, "link": "https://stackoverflow.com/questions/33135593/missing-before-identifier-cout/33135688#33135688", "title": "Missing ; before identifier cout", "body": "<p>Your problem is here</p>\n\n<pre><code>else (intGuess &gt; intSecretNum)\n            cout &lt;&lt; \"Your Number is bigger than the secret number\";\n</code></pre>\n\n<p>This assumes that <code>(intGuess &gt; intSecretNum)</code> is a statement which would be executed under the <code>else</code> condition, which is why you get an error warning you of a missing semicolon.</p>\n\n<p>Instead you should have </p>\n\n<pre><code>else if(intGuess &gt; intSecretNum)\n            cout &lt;&lt; \"Your Number is bigger than the secret number\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "is_accepted": false, "score": 0, "last_activity_date": 1444857577, "creation_date": 1444857577, "answer_id": 33135765, "question_id": 33135593, "link": "https://stackoverflow.com/questions/33135593/missing-before-identifier-cout/33135765#33135765", "title": "Missing ; before identifier cout", "body": "<p>What you probably mean is:</p>\n\n<pre><code>while(intSecretNum != 47, intGuess&lt;= 5)\n{\n    if( intGuess &lt; intSecretNum)\n        cout &lt;&lt; \"Your Number is smaller than the secret number\";\n    else if(intGuess &gt; intSecretNum)\n        cout &lt;&lt; \"Your Number is bigger than the secret number\";\n    intGuess++;\n    if(intGuess&gt;5) {\n        cout &lt;&lt; \"Sorry, you have used up all your quota (5 times)! The secret number is \"&lt;&lt;intSecretNum;\n        cout &lt;&lt; \"program terminated.\" &lt;&lt;endl;\n    }\n }\n</code></pre>\n\n<p>Note the <code>if</code> after <code>else</code>. <code>else</code> does not have a condition like <code>if</code>. Also note the brackets around the last <code>if</code>-block. Without brackets only one statement makes the whole <code>if</code>-block. If you need more, you'll have to enclose the block in brackets.</p>\n"}], "owner": {"reputation": 35, "user_id": 5366145, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1213109995381546/picture?type=large", "display_name": "Thomas Zhu", "link": "https://stackoverflow.com/users/5366145/thomas-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1444857577, "creation_date": 1444856860, "last_edit_date": 1444857184, "question_id": 33135593, "link": "https://stackoverflow.com/questions/33135593/missing-before-identifier-cout", "title": "Missing ; before identifier cout", "body": "<p>I am completing my school project. I wrote everything but there seems to be a error:</p>\n\n<blockquote>\n  <p>missing \";\" before cout at line 15 before \" your number is bigger\n  than...\"</p>\n</blockquote>\n\n<p>I can not understand this error or fix it. Please help. The code for the whole program as follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int intSecretNum = 47;\n    int intGuess;\n    cout&lt;&lt; \"Guess the secret number (between 0 and 100 inclusively): \";\n    cin&gt;&gt; intGuess;\n    while(intSecretNum != 47, intGuess&lt;= 5)\n    {\n            if( intGuess &lt; intSecretNum)\n                cout &lt;&lt; \"Your Number is smaller than the secret number\";\n            else (intGuess &gt; intSecretNum)\n                cout &lt;&lt; \"Your Number is bigger than the secret number\";\n            intGuess++;\n            if(intGuess&gt;5)\n                cout &lt;&lt; \"Sorry, you have used up all your quota (5 times)! The secret number is \"&lt;&lt;intSecretNum;\n                cout &lt;&lt; \"program terminated.\" &lt;&lt;endl;\n    }\n    cout&lt;&lt; \"You have used \"&lt;&lt;intGuess &lt;&lt;\"to guess te secret number which is \" &lt;&lt;intSecretNum&lt;&lt;\".\";\n    cout&lt;&lt;\"program terminated.\"&lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n\n<p>I am pretty new to this C++ please help</p>\n"}, {"tags": ["c++", "encryption", "file-io"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5344604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NTNlJ1uFtX0/AAAAAAAAAAI/AAAAAAAAAjc/ZzGGrL1_wiw/photo.jpg?sz=128", "display_name": "Nat Goodhue", "link": "https://stackoverflow.com/users/5344604/nat-goodhue"}, "edited": false, "score": 0, "creation_date": 1444858024, "post_id": 33135544, "comment_id": 54083311, "body": "Fantastic, thank you for that, solved the issue of memory. If you have any advice for the encryption itself, that would be extremely appreciated. What i have now just gave me a blank output file for some reason"}], "tags": [], "owner": {"reputation": 5938, "user_id": 509303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TxsuZ.png?s=128&g=1", "display_name": "buc", "link": "https://stackoverflow.com/users/509303/buc"}, "is_accepted": false, "score": 0, "last_activity_date": 1444856638, "creation_date": 1444856638, "answer_id": 33135544, "question_id": 33135346, "link": "https://stackoverflow.com/questions/33135346/caesar-cipher-with-a-twist-mysterious-error/33135544#33135544", "title": "Caesar Cipher with a twist (Mysterious Error)", "body": "<p>Your program never stops reading the input files. If your input file does not contain a space character then this cycle will run forever, and this is what causes the very large output.</p>\n\n<pre><code>while(ch != ' ')\n</code></pre>\n\n<p>Change these two lines to</p>\n\n<pre><code>while(fin1.good())\n</code></pre>\n\n<p>to make it stop at file end (EOF).</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5344604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NTNlJ1uFtX0/AAAAAAAAAAI/AAAAAAAAAjc/ZzGGrL1_wiw/photo.jpg?sz=128", "display_name": "Nat Goodhue", "link": "https://stackoverflow.com/users/5344604/nat-goodhue"}, "edited": false, "score": 0, "creation_date": 1444859642, "post_id": 33135953, "comment_id": 54084067, "body": "Awesome! Thank you! that certainly solved the loop error, but now im getting a blank output file, even with that exact code. my input is just five lines of the alphabet in uppercase and lowercase"}, {"owner": {"reputation": 759, "user_id": 5166781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e08a3f056e0b36aa3a0375697dfeac6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris H", "link": "https://stackoverflow.com/users/5166781/chris-h"}, "reply_to_user": {"reputation": 11, "user_id": 5344604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NTNlJ1uFtX0/AAAAAAAAAAI/AAAAAAAAAjc/ZzGGrL1_wiw/photo.jpg?sz=128", "display_name": "Nat Goodhue", "link": "https://stackoverflow.com/users/5344604/nat-goodhue"}, "edited": false, "score": 0, "creation_date": 1444859932, "post_id": 33135953, "comment_id": 54084198, "body": "sorry, I misremembered something about how ifstreams work, I think I was getting confused with some external library I used once. Try with the edit I just made."}, {"owner": {"reputation": 759, "user_id": 5166781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e08a3f056e0b36aa3a0375697dfeac6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris H", "link": "https://stackoverflow.com/users/5166781/chris-h"}, "reply_to_user": {"reputation": 11, "user_id": 5344604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NTNlJ1uFtX0/AAAAAAAAAAI/AAAAAAAAAjc/ZzGGrL1_wiw/photo.jpg?sz=128", "display_name": "Nat Goodhue", "link": "https://stackoverflow.com/users/5344604/nat-goodhue"}, "edited": false, "score": 0, "creation_date": 1444860924, "post_id": 33135953, "comment_id": 54084591, "body": "@NatGoodhue oh, wait, I just spotted something. Firstly: you&#39;ll have to rework how you open the file streams. Currently you open all of them at the start of the program and close them all at the end, which means you&#39;re reading the encrypted message before it&#39;s been written. You need to close <code>fout1</code> before reading the encrypted message, otherwise the input stream won&#39;t see the message. Also you have a typo in your <code>fin2</code> filename (&#39;encripted&#39; vs &#39;encrypted&#39;)"}], "tags": [], "owner": {"reputation": 759, "user_id": 5166781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e08a3f056e0b36aa3a0375697dfeac6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris H", "link": "https://stackoverflow.com/users/5166781/chris-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1444895627, "last_edit_date": 1444895627, "creation_date": 1444858316, "answer_id": 33135953, "question_id": 33135346, "link": "https://stackoverflow.com/questions/33135346/caesar-cipher-with-a-twist-mysterious-error/33135953#33135953", "title": "Caesar Cipher with a twist (Mysterious Error)", "body": "<p>Your problem is in the encrypt function. Specifically this bit:</p>\n\n<pre><code>  fin1.get(ch);\n  while(ch != ' ')\n  {\n     fout1&lt;&lt;static_cast &lt;char&gt; (static_cast &lt;int&gt;(ch)+keyValue);\n  }\n</code></pre>\n\n<p>On the first run through the loop, <code>fin1.get(ch)</code> sets <code>ch</code> to the first character of the input file. Then you enter a <code>while</code> loop which puts the (cyphered) first character into the file, over and over until <code>ch</code> is a space. But you read the next character <em>outside</em> this loop, so the condition to end the loop is never reached.</p>\n\n<p>A simple <code>if</code> statement is all you need to avoid cyphering the spaces. In addition to that, your current code would always pick up (and cypher) the EOF, as the EOF bit doesn't get set until you try to read the end of the file (which is done in the loop, so doesn't get checked until after you cypher and append to file). You can use the ifstream's <code>good()</code> to check if there's any issue (either EOF or an error) within the loop and <code>break</code> if so, to avoid the EOF causing an extra character at the end:</p>\n\n<pre><code>void encrypt(int &amp;keyValue, ifstream &amp;fin1, ofstream &amp;fout1)\n{\n   char ch;\n   while(fin1.get(ch))\n   {\n      if(!fin1.good()) break;\n      if (ch != ' ') fout1&lt;&lt;static_cast &lt;char&gt; (static_cast &lt;int&gt;(ch)+keyValue);\n      else fout1&lt;&lt;' ';\n   }\n}\n</code></pre>\n\n<p>You'll need to make similar changes to your decryption, too. Also, to be picky, I'd suggest that</p>\n\n<pre><code>cout&lt;&lt;\"Message successfully encrypted with \"&lt;&lt;keyValue&lt;&lt;\" as its key value\"&lt;&lt;endl;\n</code></pre>\n\n<p>and the corresponding decryption line should come <em>after</em> successfully encrypting/decrypting, not before. </p>\n\n<p>An extra problem is the way the file streams are all opened at the start of the program and closed at the end. This will fail if you try to encrypt and decrypt a message in the same run of the program, because <code>fin2</code> opens <code>encryptedMsg.txt</code> before the message is actually written to it. <code>fout1</code> (which writes the encrypted message to that file) needs to be closed first.</p>\n\n<p>I'd actually suggest just in general that you only open the streams when you need them. Rather than opening all streams at the beginning and closing all streams at the end, just open <code>fin1</code> (the input message) and <code>fout1</code> (the encrypted output) before encrypting the message, and close them immediately afterwards. Similarly, open <code>fin2</code> (the encrypted message as input) and <code>fout2</code> (the decrypted version) immediately before decrypting, and close them immediately afterwards. Or, even better, you can reuse the streams - just have one <code>ifstream</code> object and one <code>ofstream</code> object, which each open and close the appropriate files before and after encryption/decryption.</p>\n"}, {"tags": [], "owner": {"reputation": 14257, "user_id": 820127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f8fffeec4f2ba3e75aebe941e4e5dd?s=128&d=identicon&r=PG", "display_name": "rossum", "link": "https://stackoverflow.com/users/820127/rossum"}, "is_accepted": false, "score": 0, "last_activity_date": 1444925984, "creation_date": 1444925984, "answer_id": 33153627, "question_id": 33135346, "link": "https://stackoverflow.com/questions/33135346/caesar-cipher-with-a-twist-mysterious-error/33153627#33153627", "title": "Caesar Cipher with a twist (Mysterious Error)", "body": "<p>Don't try to do everything at once.  Start with a simple program to read a file and do a standard Caesar shift on it.  When, and only when, you have that working correctly proceed to the second stage with the stepping key every end-of-line.</p>\n\n<p>Doing it that way you can deal with a few errors at a time, rather then having them all lumped together.  It is also easier to work out which part of your code is causing your error.</p>\n"}], "owner": {"reputation": 11, "user_id": 5344604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NTNlJ1uFtX0/AAAAAAAAAAI/AAAAAAAAAjc/ZzGGrL1_wiw/photo.jpg?sz=128", "display_name": "Nat Goodhue", "link": "https://stackoverflow.com/users/5344604/nat-goodhue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1444925984, "creation_date": 1444855842, "last_edit_date": 1444856694, "question_id": 33135346, "link": "https://stackoverflow.com/questions/33135346/caesar-cipher-with-a-twist-mysterious-error", "title": "Caesar Cipher with a twist (Mysterious Error)", "body": "<p>I am assigned to write a cipher that takes in a file with characters on it, and change all the characters by a number (1-10). The hard part is what is needed in the encryption. \"The key value with be incremented by one every time a new line is processed. However, the key is reset every five (rotation value) lines and returned to its original value\"</p>\n\n<p>e.g.: if a user enters 3 for a key, then lines 1,2,3,4, and 5 are encrypted with 3,4,5,6, and 7 respectively. Line 6 is then encrypted with 3, and so on.</p>\n\n<p>At the moment, I can not even get a simple shift to work properly. Without any syntax errors, it compiles with no error. However, when I go to open the output file, my text editor crashes because I somehow have created a 510mb text file..... I know :/</p>\n\n<p>So I am looking for any assistance you are willing to give. Been working on this for more than a few hours now and figured it was about time to ask for some help. Thank you all in advance for any advice/solutions you are willing to take the time to give. :) </p>\n\n<pre><code>/*\n*File: Lab5\n*Author: Nathaniel Goodhue\n*Created on: 10/14/15\n*Description: Encrypts an input message by\n*shifting characters by a given number        \n*/\n\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;cmath&gt;\n#include &lt;cstring&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\n/*\n*Displays a menu that allows the user to set a shift key value,\n*encrypt or decrypt a message, or quit\n*/\nvoid displayMenu()\n{\n   cout&lt;&lt;\"1. Set the shift key value\"&lt;&lt;endl;\n   cout&lt;&lt;\"2. Encrypt\"&lt;&lt;endl;\n   cout&lt;&lt;\"3. Decrypt\"&lt;&lt;endl;\n   cout&lt;&lt;\"4. Quit\"&lt;&lt;endl;\n}\n\n/*\n*gets the value that characters will be shifted by\n*/\nint getKeyValue(int &amp;keyValue)\n{\n   keyValue = 0;\n   do\n   {\n      cout&lt;&lt;\"Enter the shift key value between 1 and 10: \";\n      cin &gt;&gt;keyValue;\n      if(keyValue &gt;10 ||keyValue &lt;1)\n         cout&lt;&lt;\"Key value must be between 1 and 10.\"&lt;&lt;endl;\n   }\n   while(keyValue &gt;10 || keyValue &lt;1);\n   return keyValue;\n}\n\n/*\n*gets the input and output file names\n*/\nvoid getFileNames(ifstream &amp;fin1, ofstream &amp;fout1, ifstream  &amp;fin2, ofstream &amp;fout2)\n{\n   fin1.open(\"inputMsg.txt\");\n   fout1.open(\"encryptedMsg.txt\");\n   fin2.open(\"encriptedMsg.txt\");\n   fout2.open(\"revertedMsg.txt\");\n}\n\n/*\n*shifts characters in input file by (int keyValue)\n*/\nvoid encrypt(int &amp;keyValue, ifstream &amp;fin1, ofstream &amp;fout1)\n{\n   char ch;\n   while(!fin1.eof())\n   { \n      fin1.get(ch);\n      while(ch != ' ')\n      {\n         fout1&lt;&lt;static_cast &lt;char&gt; (static_cast &lt;int&gt;(ch)+keyValue);\n      }\n   }\n}\n\n/*\n*shifts characters back to original \n*/\nvoid decrypt(int &amp;keyValue, ifstream &amp;fin2, ofstream &amp;fout2)\n{\n\n   char ch;\n   while(!fin2.eof())\n   {\n      fin2.get(ch);\n      while(ch != ' ')\n      {\n         fout2&lt;&lt;static_cast &lt;char&gt; (static_cast &lt;int&gt;(ch)-keyValue);\n      }\n   }\n}\n\nint main()\n{\n   int menuChoice, keyValue;\n   ifstream fin1;\n   ofstream fout1;\n   ifstream fin2;\n   ofstream fout2;\n\n   getFileNames(fin1, fout1, fin2, fout2);\n   do{   \n      displayMenu();\n      cin &gt;&gt; menuChoice;\n      if (menuChoice == 1)\n      {\n         getKeyValue(keyValue);\n      }  \n      else if (menuChoice == 2)\n      {\n     cout&lt;&lt;\"Message successfully encrypted with \"&lt;&lt;keyValue&lt;&lt;\" as its key value\"&lt;&lt;endl;\n         encrypt(keyValue, fin1, fout1);\n      }\n      else if (menuChoice == 3)\n      {\n         cout&lt;&lt;\"Message successfully decrypted with \"&lt;&lt;keyValue&lt;&lt;\" as its key value\"&lt;&lt;endl;\n         decrypt(keyValue, fin2, fout2);\n      }\n      else if(menuChoice &gt; 4 || menuChoice &lt; 1)\n         cout&lt;&lt;\"Invalid menu choice. Must be between 1 and 4\";\n   }\n   while(menuChoice != 4);\n   fin1.close();\n   fout1.close();\n   fin2.close();\n   fout2.close();\n   return 0;\n}\n</code></pre>\n\n<p>Also the reason I have 4 files is because of the need for the decypher function.  </p>\n"}, {"tags": ["c++", "output", "fstream"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1444856758, "post_id": 33135337, "comment_id": 54082753, "body": "You are mistaken. It flushes everything when you close the file. Not when  you exit."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5446899"}, "edited": false, "score": 0, "creation_date": 1444856455, "post_id": 33135421, "comment_id": 54082604, "body": "Thank you very much, it works. I didn&#39;t use <code>flush();</code> before and had no problems though."}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 1, "creation_date": 1444856483, "post_id": 33135421, "comment_id": 54082618, "body": "Your old code might have been very different. I can&#39;t comment on code I haven&#39;t seen."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5446899"}, "edited": false, "score": 0, "creation_date": 1444856690, "post_id": 33135421, "comment_id": 54082720, "body": "It was basically the same :) Nevermind, good that it works now."}], "tags": [], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": false, "score": 1, "last_activity_date": 1444856130, "creation_date": 1444856130, "answer_id": 33135421, "question_id": 33135337, "link": "https://stackoverflow.com/questions/33135337/fstream-outputs-after-exit/33135421#33135421", "title": "Fstream outputs after exit", "body": "<p>If you want data to appear instantly, you need to <code>flush</code> the file:</p>\n\n<pre><code>file &lt;&lt; \"X\"; \nfile.flush();\n</code></pre>\n\n<p><code>ofstream</code> internally maintains a buffer of written data which is written out to the actual file when you call <code>flush</code> or <code>close</code>. This buffer exists to reduce the amount of disk I/O incurred when writing repeatedly to a file. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5446899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444856130, "creation_date": 1444855818, "question_id": 33135337, "link": "https://stackoverflow.com/questions/33135337/fstream-outputs-after-exit", "title": "Fstream outputs after exit", "body": "<p>I have a problem. I use fstream to print to a file, but it's not printing in real-time, it outputs everything after I close the program (like it stores all data while the program is running and prints everything at once after exit). And if I hide the console <code>FreeConsole();</code> it won't output anything even after exit. I didn't have that problem before (like a half year ago).</p>\n\n<p>Anyways here is the code:</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;windows.h&gt;\n\nstd::fstream file(\"xx.txt\", std::ios::out);\n\nint main()\n{\n    FreeConsole();\n    while(true)\n    {\n        file &lt;&lt; \"X\";\n        Sleep(500);\n    }\n\n    file.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "c++14", "generic-programming"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1444856015, "post_id": 33135304, "comment_id": 54082372, "body": "How is <code>func</code> supposed to be called? And what is it supposed to return, if any?"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1444856037, "post_id": 33135304, "comment_id": 54082387, "body": "<code>auto</code> is not allowed in a parameter declaration."}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444856495, "post_id": 33135304, "comment_id": 54082625, "body": "The problem is that it doesn&#39;t compile"}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444856685, "post_id": 33135304, "comment_id": 54082715, "body": "T.C, it should return anything, depending of the std::bind"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1444858579, "post_id": 33135304, "comment_id": 54083579, "body": "I see a bunch of problems in your code almost completely unrelated to your problem.  Your use of <code>auto</code> is not compliant to C++11.  Your use of <code>decltype</code> indicates to me that you do not know what it does.  I&#39;m not sure how &quot;in theory this should work&quot; means to you.  You have also not understood T.C.s question: the <code>func</code> passed in, how would you expect it to be called?  Do you expect to pass it an integer?  Nothing?  A string?  Three chickens and a goat?  The result of <code>std::bind</code> doesn&#39;t answer the question."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444858795, "post_id": 33135304, "comment_id": 54083678, "body": "Provide your best attempt.  Have it actually compile, as best you can.  Fix any errors you understand.  Once you have fixed all the errors you understand, remove anything that is not relevant to the errors you do not understand how to fix.  Ask about <i>that</i> error and how to fix it.  Include context (what you are trying to do).  -- Or, alternatively, ask how to do something.  Don&#39;t get hung up on syntax.  Say what you are trying to do, give an example of how you want to use it, and list what is <i>required</i>."}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444858915, "post_id": 33135304, "comment_id": 54083734, "body": "Alright, I&#39;ll try to give you a better insight"}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444859483, "post_id": 33135304, "comment_id": 54083984, "body": "For information, I&#39;m using C++14 and auto is allowed as a parameter"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444935308, "post_id": 33135304, "comment_id": 54121508, "body": "auto as a parameter is not in C++14 either (outside of lambdas).  It is proposed in something that will probably make it into C++1z.  Note that if you want to reply to someone, type @their_user_name, otherwise your comments will not notify them.  (You get notified because this is your question, even if I don&#39;t &quot;@&quot; ping you)."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444859972, "post_id": 33136085, "comment_id": 54084221, "body": "I&#39;m afraid but this doesn&#39;t compile,  main.cpp:10:36: error: &#39;std::packaged_task&lt;std::_Bind&lt;main()::&lt;lambda(int)&gt;(int)&gt; &gt; task&#39; has incomplete typestd::packaged_task&lt;T&gt; task(func);"}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444861274, "post_id": 33136085, "comment_id": 54084730, "body": "But that&#39;s exactly the idea and where the problem is coming from."}, {"owner": {"reputation": 118, "user_id": 2381988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def842d7b143f9143e29174ff107b764?s=128&d=identicon&r=PG", "display_name": "Florian Tischler", "link": "https://stackoverflow.com/users/2381988/florian-tischler"}, "reply_to_user": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444861734, "post_id": 33136085, "comment_id": 54084905, "body": "Oh I&#39;m sry of course you have to include the &lt;future&gt; header. Edited my Post"}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444861836, "post_id": 33136085, "comment_id": 54084957, "body": "I&#39;ve modified my original post, that&#39;s not the &lt;future&gt; header causing the troubles"}, {"owner": {"reputation": 118, "user_id": 2381988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def842d7b143f9143e29174ff107b764?s=128&d=identicon&r=PG", "display_name": "Florian Tischler", "link": "https://stackoverflow.com/users/2381988/florian-tischler"}, "reply_to_user": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 2, "creation_date": 1444862341, "post_id": 33136085, "comment_id": 54085173, "body": "Yep you are right. I got it now. It seems that <code>std::packaged_task</code> expects a template parameter of the form  <code>ReturnType(Args...)</code>. See my modified answer."}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444902727, "post_id": 33136085, "comment_id": 54100262, "body": "It&#39;s working for me either, but there is another problem now, how to deduct the type of this std::function?"}, {"owner": {"reputation": 118, "user_id": 2381988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def842d7b143f9143e29174ff107b764?s=128&d=identicon&r=PG", "display_name": "Florian Tischler", "link": "https://stackoverflow.com/users/2381988/florian-tischler"}, "reply_to_user": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 1, "creation_date": 1444926288, "post_id": 33136085, "comment_id": 54116718, "body": "I&#39;m afraid thats not possible as the standard does not define the return type of <code>std::bind</code>. Instead it just specifies requirements for the returned type which include, amongst others, that it must be convertible to <code>std::function</code>"}, {"owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "edited": false, "score": 0, "creation_date": 1444926614, "post_id": 33136085, "comment_id": 54116917, "body": "Hum and let&#39;s say we have the type of the method like A::doSomething, how could we manage to assign it to a std::function by making it deduce?"}], "tags": [], "owner": {"reputation": 118, "user_id": 2381988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def842d7b143f9143e29174ff107b764?s=128&d=identicon&r=PG", "display_name": "Florian Tischler", "link": "https://stackoverflow.com/users/2381988/florian-tischler"}, "is_accepted": true, "score": 4, "last_activity_date": 1445107417, "last_edit_date": 1445107417, "creation_date": 1444858898, "answer_id": 33136085, "question_id": 33135304, "link": "https://stackoverflow.com/questions/33135304/c-create-an-stdpackaged-task-of-a-generic-stdbind/33136085#33136085", "title": "C++ create an std::packaged_task of a generic std::bind", "body": "<p>As of c++11 it is not possible to declare function arguments as auto (I believe its part of c++17). Unfortunately I don't have a compiler which supports that feature and I'm not quite sure of its semantics but a workaround would be to use templates:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;future&gt;\n#include &lt;functional&gt;\n\ntemplate&lt;class T&gt;\nvoid execute(std::function&lt;T&gt; func) // is a std::bind\n{\n    std::packaged_task&lt;T&gt; task(func);\n    //...\n}\n</code></pre>\n\n<p>which you can use like this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>std::function&lt;int()&gt; func = std::bind([](int x) { return x*x; }, 5);\nexecute(func);\n</code></pre>\n\n<p>The problem why you get this error is that <code>std::packaged_task</code> is only specialized for template arguments of the form <code>ReturnType(Args...)</code>. So if you pass something different like the <code>std::_Binder</code> returned from <code>std::bind</code> or a <code>std::function</code> it appears as undefined.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Concerning your comment about deducing the type of the std::function:</p>\n\n<p>Instead of using <code>std::bind()</code> you could use lambdas. </p>\n\n<p>If you have a class <code>A</code> with the function <code>doSomething(int x)</code> like in your comment:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class A\n{\npublic:\n    int doSomething(int x)\n    {\n        return x *x;\n    }\n};\n</code></pre>\n\n<p>We need to change the execute function to the following (see Yakk's answer):</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;class F, class...Args&gt;\nvoid execute(F&amp;&amp; func, Args&amp;&amp;...args)\n{\n    using zF = std::decay_t&lt;F&gt;&amp;&amp;;\n    using R = std::result_of_t&lt; zF(Args...) &gt;;\n    std::packaged_task&lt;R()&gt; task(\n        std::bind([func = std::forward&lt;F&gt;(func)](auto&amp;&amp;...args)mutable-&gt;R{\n        return std::move(func)(decltype(args)(args)...);\n    }, std::forward&lt;Args&gt;(args)...)\n        );\n}\n</code></pre>\n\n<p>Now you can use it like that:</p>\n\n<pre><code>A a;\n\nauto f = [](A&amp; inst, int x) {  return inst.doSomething(x); };\nexecute(f, a, 5);\n\n// or\n\nauto g = [&amp;]() { return a.doSomething(5); };\nexecute(g);\n</code></pre>\n\n<p><strong>Note</strong> </p>\n\n<p>Be aware of the life time of <code>a</code> as the packaged_task may run asynchronously.</p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 9532216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96afd099f3ec5c1b6861230810ca3f5d?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed allam", "link": "https://stackoverflow.com/users/9532216/ahmed-allam"}, "edited": false, "score": 0, "creation_date": 1586106777, "post_id": 33156507, "comment_id": 107998665, "body": "std::move(func)(decltype(args)(args)...); i can not understand what and how this statement is formed and used????can you just explain why twi (args) and where would have been 2 bind used???"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 357, "user_id": 9532216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96afd099f3ec5c1b6861230810ca3f5d?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed allam", "link": "https://stackoverflow.com/users/9532216/ahmed-allam"}, "edited": false, "score": 1, "creation_date": 1586129593, "post_id": 33156507, "comment_id": 108006714, "body": "@ahmedallam <code>decltype(x)</code> is the type of <code>x</code> is declared as.  <code>decltype(x)(x)</code> is <code>x</code> cast to the type it was declared as.  <code>std::move(func)</code> casts <code>func</code> to an rvalue reference.  <code>std::move(func)( decltype(x)(x) )</code> calls <code>func</code> as an rvalue on <code>x</code>, where <code>x</code> is cast to the type it is declared as.  <code>decltype(args)(args)...</code> expands a parameter pack <code>args</code>.  <code>std::move(func)( decltype(args)(args)... )</code> expands <code>args</code> as the types it is declared as and calls <code>func</code> with that, where <code>func</code> is cast to an rvalue reference."}, {"owner": {"reputation": 357, "user_id": 9532216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96afd099f3ec5c1b6861230810ca3f5d?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed allam", "link": "https://stackoverflow.com/users/9532216/ahmed-allam"}, "edited": false, "score": 0, "creation_date": 1586131552, "post_id": 33156507, "comment_id": 108007128, "body": "thanks a lot.i understand the syntax now but i wonder how did you think of the solution???the problem solving technique to reach this complex syntax is what i hope to understand.i will reread the answer.thanks again+1"}, {"owner": {"reputation": 357, "user_id": 9532216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96afd099f3ec5c1b6861230810ca3f5d?s=128&d=identicon&r=PG&f=1", "display_name": "ahmed allam", "link": "https://stackoverflow.com/users/9532216/ahmed-allam"}, "edited": false, "score": 0, "creation_date": 1586247345, "post_id": 33156507, "comment_id": 108051081, "body": "how to return task from inside the function to be used to get future and post to io_service??"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1444935945, "creation_date": 1444935945, "answer_id": 33156507, "question_id": 33135304, "link": "https://stackoverflow.com/questions/33135304/c-create-an-stdpackaged-task-of-a-generic-stdbind/33156507#33156507", "title": "C++ create an std::packaged_task of a generic std::bind", "body": "<p>Here is a simple solution:</p>\n\n<pre><code>template&lt;class...Args, class F&gt;\nvoid execute(F&amp;&amp; func)\n{\n  using R = std::result_of_t&lt; std::decay_t&lt;F&gt;(Args...) &gt;;\n  std::packaged_task&lt;R(Args...)&gt; task(std::forward&lt;F&gt;(func));\n}\n</code></pre>\n\n<p>I added perfect forwarding, and the option to pass in arguments.  If you don't pass in arguments, it assumes the passed in callable takes 0 arguments.</p>\n\n<p>Example use:</p>\n\n<pre><code>auto func = std::bind([](int x) { return x*x; }, 5);\nA name;\nname.execute(func);\n</code></pre>\n\n<p>if <code>func</code> requires arguments, you have to pass them explicitly.  Which is only fair, as it is hard to use a <code>std::packaged_task</code> without knowing what arguments it will expect.  ;)</p>\n\n<p>This also compiles:</p>\n\n<pre><code>auto func = [](int x) { return x*x; };\nA name;\nname.execute&lt;int&gt;(func);\n</code></pre>\n\n<p>but how you are going to use that packaged task is tricky.</p>\n\n<p>If you want to mimic the interfaces of <code>std::async</code> and the like, we can do:</p>\n\n<pre><code>template&lt;class F, class...Args&gt;\nvoid execute(F&amp;&amp; func, Args&amp;&amp;...args)\n{\n  using zF = std::decay_t&lt;F&gt;&amp;&amp;;\n  using R = std::result_of_t&lt; zF(Args...) &gt;;\n  std::packaged_task&lt;R()&gt; task(\n    std::bind( [func=std::forward&lt;F&gt;(func)](auto&amp;&amp;...args)mutable-&gt;R{\n      return std::move(func)(decltype(args)(args)...);\n    }, std::forward&lt;Args&gt;(args)... )\n  );\n}\n</code></pre>\n\n<p>which carefully wraps the passed in <code>func</code> in a lambda in order to avoid calling <code>bind</code> on <code>bind</code>, and then binds the arguments passed in.</p>\n\n<p>Now you can:</p>\n\n<pre><code>name.execute([](int x){ return x*x; }, 5);\n</code></pre>\n\n<p>without using <code>bind</code> at all.</p>\n\n<p>The code above has not been compiled, and probably contains tpyos.</p>\n"}], "owner": {"reputation": 185, "user_id": 5301531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bae811ef7fb17c4d4114ae86ede95208?s=128&d=identicon&r=PG&f=1", "display_name": "M. Christopher", "link": "https://stackoverflow.com/users/5301531/m-christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1490, "favorite_count": 2, "accepted_answer_id": 33136085, "answer_count": 2, "score": 2, "last_activity_date": 1445107417, "creation_date": 1444855724, "last_edit_date": 1444860793, "question_id": 33135304, "link": "https://stackoverflow.com/questions/33135304/c-create-an-stdpackaged-task-of-a-generic-stdbind", "title": "C++ create an std::packaged_task of a generic std::bind", "body": "<p>I simply try to create a <code>std::packaged_task</code> for a given <code>std::bind</code>.</p>\n\n<pre><code>#include &lt;functional&gt;\n#include &lt;future&gt;\n\nclass A\n{\npublic:\n  template&lt;class T&gt;\n  void execute(T func)\n  {\n    std::packaged_task&lt;T&gt; task(func);\n  }\n};\n\nint main()\n{\n  auto func = std::bind([](int x) { return x*x; }, 5);\n\n  A name;\n\n  name.execute(func);\n}\n</code></pre>\n\n<blockquote>\n  <p>main.cpp: In instantiation of 'void A::execute(T) [with T =\n  std::_Bind(int)>]': main.cpp:20:20:   required\n  from here main.cpp:10:36: error:\n  'std::packaged_task(int)> > task' has\n  incomplete type\n       std::packaged_task task(func);</p>\n</blockquote>\n\n<p>I'm using G++ 5.2.0, and C++14.</p>\n\n<p>Does someone have an idea?</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["c++", "c", "gcc"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1444855336, "post_id": 33135142, "comment_id": 54082014, "body": "Relocation costs extra indirection and increases code size, and you may wish to take that into account. But best to measure and compare!"}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 1, "creation_date": 1444858420, "post_id": 33135142, "comment_id": 54083505, "body": "Related: <a href=\"http://stackoverflow.com/questions/14990461/why-does-arm-linux-androideabi-gcc-enforce-fpic\">Why does arm-linux-androideabi-gcc enforce -fpic?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1444858584, "post_id": 33135223, "comment_id": 54083581, "body": "It worth mention that there are not only x86 and x86_64 out there (their current share maybe even less than everything else)"}], "tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": false, "score": 2, "last_activity_date": 1444855396, "creation_date": 1444855396, "answer_id": 33135223, "question_id": 33135142, "link": "https://stackoverflow.com/questions/33135142/is-fpic-always-on-a-bad-idea/33135223#33135223", "title": "Is -fPIC always on a bad idea?", "body": "<p>Well, always compiling with -fPIC will produce a bit more bloated and a bit slower code.</p>\n\n<p>Difference would be less visible on x64 target, I believe</p>\n\n<p>You shall measure and decide if those differences are relevant for you app, you might be ok with it</p>\n"}], "owner": {"reputation": 51929, "user_id": 1084774, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/13403db744d8aa130bb317576cc1df30?s=128&d=identicon&r=PG", "display_name": "PSkocik", "link": "https://stackoverflow.com/users/1084774/pskocik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444855396, "creation_date": 1444855089, "question_id": 33135142, "link": "https://stackoverflow.com/questions/33135142/is-fpic-always-on-a-bad-idea", "title": "Is -fPIC always on a bad idea?", "body": "<p>Is there any harm in always compiling with <code>-fPIC</code> even if I might not intend to link the resulting relocatable object files into a shared library?</p>\n"}, {"tags": ["c++", "makefile", "subdirectory"], "answers": [{"tags": [], "owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "is_accepted": true, "score": 2, "last_activity_date": 1444855349, "creation_date": 1444855349, "answer_id": 33135208, "question_id": 33135093, "link": "https://stackoverflow.com/questions/33135093/makefile-directories-error/33135208#33135208", "title": "Makefile directories error", "body": "<p><code>$(notdir)</code> operates on strings.</p>\n\n<p><code>$(X:Y=Z)</code> operates on the <strong>value</strong> of the <code>X</code> variable.</p>\n\n<p>So follow your expansions when <code>$&lt;</code> is <code>src/mysrc.cpp</code></p>\n\n<pre><code>$($(notdir  $&lt;):.cpp=.o)\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>$(mysrc.cpp:.cpp=.o)\n</code></pre>\n\n<p>Is that how you would write that?</p>\n\n<p>No, you would write <code>$(&lt;:.cpp=.o)</code>.</p>\n\n<p>So invert your operations.</p>\n\n<pre><code> $(notdir  $(&lt;:.cpp=.o))\n</code></pre>\n\n<p>Or, even better and simpler than that just use <code>$@</code> since that's the target you are building and what you want to create.</p>\n\n<pre><code>$(CC) $(CCFLAGS)  $(LFLAGS) -c $&lt; -o $@\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 4230336, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/132f17aa2d18474ae116fd1ae63761ea?s=128&d=identicon&r=PG&f=1", "display_name": "Ediolot", "link": "https://stackoverflow.com/users/4230336/ediolot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 33135208, "answer_count": 1, "score": 0, "last_activity_date": 1444855349, "creation_date": 1444854909, "question_id": 33135093, "link": "https://stackoverflow.com/questions/33135093/makefile-directories-error", "title": "Makefile directories error", "body": "<p>Im using this code in the makefile, all is going good but the last line.\nMy code folder looks like this:</p>\n\n<p>Project/bin     -> For executable files</p>\n\n<p>Project/build   -> For .o files</p>\n\n<p>Project/include -> For .hpp files</p>\n\n<p>Project/src     -> For .cpp files</p>\n\n<p>Makefile path: Project/Makefile</p>\n\n<pre><code># Compiler #\nCC       = g++\nDEBUG    = -g\nLFLAGS   =\nCFLAGS   = -Wall\n\n# Directories #\nSRCDIR   = src/\nINCDIR   = include/\nBUILDDIR = build/\nBINDIR   = bin/\n\n# Objects #\nOBJ_NAMES = main.o dfa.o dfaException.o state.o\nOBJS       = $(addprefix $(BUILDDIR), $(OBJ_NAMES))\n\n# Output #\nTARGET = $(BINDIR)pract3\n\n$(TARGET): $(OBJS)\n    $(CC) $(CCFLAGS) $(LFLAGS) $(OBJS) -o $(TARGET)\n\n$(BUILDDIR)%.o: $(SRCDIR)%.cpp\n    $(CC) $(CCFLAGS)  $(LFLAGS) -c $&lt; -o $(BUILDDIR)$($(notdir  $&lt;):.cpp=.o)\n</code></pre>\n\n<p>The problem is in \"<code>$(BUILDDIR)$($(notdir  $&lt;):.cpp=.o)</code>\". What Im trying to do here is: </p>\n\n<ol>\n<li>$&lt; contains \"<code>src/mysrc.cpp</code>\" so with <code>$(notdir $&lt;)</code> I get\n\"<code>mysrc.cpp</code>\"  </li>\n<li><p>Now, I want to change the file extension to <code>.o</code>, so I use  <code>$($(notdir $&lt;):.cpp=.o)</code> And I should get \"<code>mysrc.o</code>\". But this part is not working:</p>\n\n<p>g++    -c src/main.cpp -o build/</p>\n\n<p>Assembler messages:</p>\n\n<p>Fatal error: can't create build/: Permission denied</p>\n\n<p>Makefile:25: recipe for target 'build/main.o' failed</p>\n\n<p>make: *** [build/main.o] Error 1</p></li>\n<li><p>I use <code>$(BUILDDIR)</code> To get \"<code>build/mysrc.o</code>\"</p></li>\n</ol>\n\n<p>Why does <code>$($(notdir $&lt;):.cpp=.o)</code> somehow delete the file name ?</p>\n\n<p>And now that Im here. I've learned to use make some days ago. Is there something that I should improve here ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1444855067, "post_id": 33135077, "comment_id": 54081873, "body": "<a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4634316"}, "edited": false, "score": 0, "creation_date": 1444856326, "post_id": 33135254, "comment_id": 54082532, "body": "if i do that it makes errors it says i is undeclared at int size=i;"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1444856389, "post_id": 33135254, "comment_id": 54082568, "body": "@PolBol, what&#39;s the error you are seeing?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4634316"}, "edited": false, "score": 0, "creation_date": 1444856653, "post_id": 33135254, "comment_id": 54082701, "body": "@R Sahu, nevermind, it looks like it was problem with the compiler, it&#39;s sorted now. thanks"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1444855537, "creation_date": 1444855537, "answer_id": 33135254, "question_id": 33135077, "link": "https://stackoverflow.com/questions/33135077/reading-from-file-adds-extra-space/33135254#33135254", "title": "Reading from file adds extra space", "body": "<p>By using:</p>\n\n<pre><code>readfile.get(a[i]);\ni++;\n</code></pre>\n\n<p>You are assuming that <code>readfile.get(a[i])</code> was successful. That is not true after you have read the last character of the file.</p>\n\n<p>Change your loop to:</p>\n\n<pre><code>char c;\nwhile (readfile.get(c))\n{\n   a[i] = c;\n   ++i;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4634316"}, "edited": false, "score": 0, "creation_date": 1444856432, "post_id": 33135308, "comment_id": 54082597, "body": "so simply cutting the last element from the read array would tehnically get rid of the extra space?"}], "tags": [], "owner": {"reputation": 304, "user_id": 5439214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f248962bfc33327628f26c5f193a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "cowdrool", "link": "https://stackoverflow.com/users/5439214/cowdrool"}, "is_accepted": false, "score": 0, "last_activity_date": 1444856863, "last_edit_date": 1444856863, "creation_date": 1444855736, "answer_id": 33135308, "question_id": 33135077, "link": "https://stackoverflow.com/questions/33135077/reading-from-file-adds-extra-space/33135308#33135308", "title": "Reading from file adds extra space", "body": "<p>This may be a perfect example of why using <code>readfile.eof ()</code> in a while condition is almost always wrong: the <code>eof</code> flag is only set once the end of the file is actually read. So in this case, the end of the file is read and assigned to <code>a[i]</code> then <code>iostream::eof</code> is set, and only then does program execution continue beyond the <code>while</code> loop.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4634316"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "closed_date": 1444855772, "answer_count": 2, "score": -1, "last_activity_date": 1444856863, "creation_date": 1444854855, "question_id": 33135077, "link": "https://stackoverflow.com/questions/33135077/reading-from-file-adds-extra-space", "closed_reason": "Duplicate", "title": "Reading from file adds extra space", "body": "<p>When I'm reading from a file it adds one space at the end.\nSo after, when I need to sort the string, it sorts the extra space too. And is added to the output file.</p>\n\n<pre><code>int main()\n{\n    int siz=1000000;\n    char a[siz];\n\n    ifstream readfile(\"AllAlpha.txt\");\n    ofstream outfile(\"sorted.txt\");\n\n    if(!readfile)\n    {\n        cout &lt;&lt; \"An error occurred while opening the input data stream file \\\"AllAlpha.txt\\\"!\" &lt;&lt; endl;\n        return 1;\n    }\n    // read file\n    int i=0;\n    while (!readfile.eof())\n    {\n        readfile.get(a[i]);\n        i++;\n    }\n    int size=i;\n\n    // sort the array\n    //quicksort(a, 0, size-1);\n\n    // output sorted array to file\n    for (int num=0;num&lt;size;num++)\n    {\n        outfile&lt;&lt;a[num];\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "xcode", "g++", "llvm", "openmp"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 1814846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd74c0e9bc67f04d427ed63ae314a686?s=128&d=identicon&r=PG", "display_name": "Louis-Philippe", "link": "https://stackoverflow.com/users/1814846/louis-philippe"}, "edited": false, "score": 0, "creation_date": 1444886446, "post_id": 33135141, "comment_id": 54091492, "body": "This was indeed what was happening... The site where I read the information on the compiler flags had a font with little discrimination between O and o so I assumed it to be the latter... Thank you ever so much for pointing this out since I would never have thought this to be the problem!"}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 11, "last_activity_date": 1444886540, "last_edit_date": 1444886540, "creation_date": 1444855089, "answer_id": 33135141, "question_id": 33135051, "link": "https://stackoverflow.com/questions/33135051/significantly-slower-code-when-compiling-with-g-instead-of-llvm/33135141#33135141", "title": "Significantly slower code when compiling with G++ instead of LLVM", "body": "<p>I can bet that what happens is the following: you pass <code>-o3</code> to the compiler, instead of <code>-O3</code> (i.e. with CAPITAL O) and for this reason <code>-o3</code> just instructs the compiler to output the executable to a file called <code>\"3\"</code>. However you use <code>-o RROTprog</code> later in the same command line, and the last <code>-o</code> is the one that's considered by the compiler when outputting the executable.</p>\n\n<p>The net effect: the <code>-O3</code> is not present, hence no optimization is being done.</p>\n"}], "owner": {"reputation": 139, "user_id": 1814846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd74c0e9bc67f04d427ed63ae314a686?s=128&d=identicon&r=PG", "display_name": "Louis-Philippe", "link": "https://stackoverflow.com/users/1814846/louis-philippe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 33135141, "answer_count": 1, "score": 4, "last_activity_date": 1444886540, "creation_date": 1444854755, "question_id": 33135051, "link": "https://stackoverflow.com/questions/33135051/significantly-slower-code-when-compiling-with-g-instead-of-llvm", "title": "Significantly slower code when compiling with G++ instead of LLVM", "body": "<p>I am experimenting with an algorithm I programmed in C++ using XCode 7.0. When I compare the performance of the standard LLVM compiler in XCode to the binary created when compiling using G++ (5.2.0) the binary created using LLVM is an order of magnitude (>10x) faster than the code created using the g++ compiler. </p>\n\n<p>I am using the -o3 code optimisation flag for the g++ compiler as follows: </p>\n\n<pre><code>/usr/local/Cellar/gcc/5.2.0/bin/g++-5 -o3 -fopenmp -DNDEBUG main.cpp \\\nPattersonInstance.cpp \\\n... \\\n-o RROTprog\n</code></pre>\n\n<p>The g++ compilation is needed because the algorithm has to be compiled and run on a high performance computer where I cannot use the LLVM compiler. Plus I would like to use Open MP to make the code faster. </p>\n\n<p>All ideas on the reason what is causing these speed differences and how they could be resolved is more than welcome. </p>\n\n<p>Thanks in advance for the help! </p>\n\n<p>L</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 1, "creation_date": 1444854889, "post_id": 33135036, "comment_id": 54081770, "body": "If you had a flat tire, would you like to replace it, or drive around town with an air pump attached? <b>don&#39;t do heavy processing in your main/gui thread</b>."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1444854958, "post_id": 33135036, "comment_id": 54081814, "body": "If you have long-running operations that block the message pump, the best solution is to have a worker thread that allows the main thread to keep working and not wait."}, {"owner": {"reputation": 8952, "user_id": 1007353, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/c3db4337a39ff8bdb97316015c074493?s=128&d=identicon&r=PG", "display_name": "JDiMatteo", "link": "https://stackoverflow.com/users/1007353/jdimatteo"}, "reply_to_user": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1444855023, "post_id": 33135036, "comment_id": 54081844, "body": "@Amit, yes, I agree, but suppose you have an old truck that has dozens of flat tires and you can only afford one new tire a week.  Please let me know if there is a pump somewhere to use as a crutch while I try to overcome the technical debt."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1444855723, "post_id": 33135036, "comment_id": 54082208, "body": "If you can&#39;t spawn a new thread for some reason, but you can break the long-running task down into smaller parts, you can do the processing in <a href=\"https://msdn.microsoft.com/en-us/library/3e077sxt.aspx\" rel=\"nofollow noreferrer\"><code>CWinApp::OnIdle</code></a>. This function gets called from within the message pump loop whenever there are no Windows messages waiting, which means the messages are handled at a higher priority. This keeps your window from going unresponsive, as long as the processing you do in <code>OnIdle</code> takes a reasonably short time per call."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444858573, "post_id": 33135036, "comment_id": 54083574, "body": "That answer you mention is downvoted to the bottom because it&#39;s very bad advice - it solves the immediate problem of showing an error message but leaves you with a window that acts completely dead."}, {"owner": {"reputation": 8952, "user_id": 1007353, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/c3db4337a39ff8bdb97316015c074493?s=128&d=identicon&r=PG", "display_name": "JDiMatteo", "link": "https://stackoverflow.com/users/1007353/jdimatteo"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444862014, "post_id": 33135036, "comment_id": 54085034, "body": "@MarkRansom I agree with you, and I thought this was clear by my labeling it as a &quot;Quick Hack Fix For A Terrible UX&quot;.  I find it odd that someone went through the trouble of editing my question to hide this information as if Stack Overflow users can&#39;t handle the truth."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444862400, "post_id": 33135036, "comment_id": 54085191, "body": "That edit wasn&#39;t a lot of trouble - there&#39;s a &quot;revert&quot; button on each version of the question that makes it automatic. If you want to play edit wars, you can hit that button too."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 2, "creation_date": 1444881216, "post_id": 33135036, "comment_id": 54090052, "body": "It sounds like you are doing something in sequence, and you just want the user to be able to move the window during that few seconds. You are probably prepared to handle cancel/close, while other controls are disabled. So in this case <code>PeekMessage</code> is fine. You can use <code>while(PeekMessage(... PM_NOREMOVE)) AfxGetThread()-&gt;PumpMessage();</code> It&#39;s not a cheat or hack."}], "answers": [{"tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 1, "last_activity_date": 1444855096, "creation_date": 1444855096, "answer_id": 33135144, "question_id": 33135036, "link": "https://stackoverflow.com/questions/33135036/how-to-program-to-prevent-the-windows-not-responding-dialog/33135144#33135144", "title": "How to program to prevent the Windows &quot;Not Responding&quot; dialog", "body": "<p>No, there's no quick hack, because your app is indeed not responding if you use the main thread like that.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "is_accepted": false, "score": 4, "last_activity_date": 1444855225, "creation_date": 1444855225, "answer_id": 33135177, "question_id": 33135036, "link": "https://stackoverflow.com/questions/33135036/how-to-program-to-prevent-the-windows-not-responding-dialog/33135177#33135177", "title": "How to program to prevent the Windows &quot;Not Responding&quot; dialog", "body": "<p>In Windows 3.1 world all those eons ago, the answer was to divide your work into short-duration chunks, run the chunks in your window's message procedure and go from chunk to chunk by calling <code>PostMessage</code>.</p>\n\n<p>Nowadays you update the window to show that the work is in progress, spawn a thread and call some PostMessage equivalent at the end of the thread so that your window can update itself back and show the results.</p>\n"}, {"tags": [], "owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "is_accepted": true, "score": 4, "last_activity_date": 1444855243, "creation_date": 1444855243, "answer_id": 33135180, "question_id": 33135036, "link": "https://stackoverflow.com/questions/33135036/how-to-program-to-prevent-the-windows-not-responding-dialog/33135180#33135180", "title": "How to program to prevent the Windows &quot;Not Responding&quot; dialog", "body": "<p>There really are no hacks to solve this. Any monkeying about with the message pump can lead to all manner of disaster, especially with COM and other system message processing.</p>\n\n<p>Don't hold up the main thread.</p>\n\n<p>Move the longer running tasks to a background or worker thread and either poll a future for completion or have the thread post a message back to the GUI to signal it is complete and then retrieve the result required. </p>\n"}], "owner": {"reputation": 8952, "user_id": 1007353, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/c3db4337a39ff8bdb97316015c074493?s=128&d=identicon&r=PG", "display_name": "JDiMatteo", "link": "https://stackoverflow.com/users/1007353/jdimatteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2646, "favorite_count": 0, "closed_date": 1444855695, "accepted_answer_id": 33135180, "answer_count": 3, "score": 2, "last_activity_date": 1444860941, "creation_date": 1444854691, "last_edit_date": 1490005101, "question_id": 33135036, "link": "https://stackoverflow.com/questions/33135036/how-to-program-to-prevent-the-windows-not-responding-dialog", "closed_reason": "Duplicate", "title": "How to program to prevent the Windows &quot;Not Responding&quot; dialog", "body": "<p>When an application fails to be responsive for 5 seconds (<a href=\"https://superuser.com/a/961910/138951\" title=\"source\">source</a>), Windows can display \"(Not Responding)\" in the title bar and in some cases show a \"not responding\" dialog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gn3ub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gn3ub.png\" alt=\"Not Responding dialog\"></a></p>\n\n<p>Ideally, the 5+ second execution should not block the main/event-processing thread, but is there a simple (e.g. 1 liner for MFC C++) way to communicate to Windows that the main thread is busy and shouldn't be treated as a \"Not Responding\" application to be closed?  Is the quickest hack to simply periodically call peak <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644943%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">PeekMessage</a> with <code>PM_NOREMOVE</code>?</p>\n"}, {"tags": ["c++", "function", "inheritance", "overloading"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 3, "creation_date": 1444855014, "post_id": 33135034, "comment_id": 54081841, "body": "Say hello to <a href=\"http://en.cppreference.com/w/cpp/language/virtual\" rel=\"nofollow noreferrer\">virtual functions</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3273, "user_id": 1428839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/2oKLx.jpg?s=128&g=1", "display_name": "JorenHeit", "link": "https://stackoverflow.com/users/1428839/jorenheit"}, "edited": false, "score": 0, "creation_date": 1444859034, "post_id": 33135187, "comment_id": 54083794, "body": "He might still want a constructable base class. This code assumes an abstract base."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 3273, "user_id": 1428839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/2oKLx.jpg?s=128&g=1", "display_name": "JorenHeit", "link": "https://stackoverflow.com/users/1428839/jorenheit"}, "edited": false, "score": 0, "creation_date": 1444861481, "post_id": 33135187, "comment_id": 54084812, "body": "@JorenHeit It doesn&#39;t assume anything. It clearly states that <code>= 0</code> is available and <i>optional</i>, since the OP wasn&#39;t aware of virtual functions it&#39;s pretty safe to assume they aren&#39;t aware of <code>= 0</code> either (it was provided in code so that the OP could see exactly where it is used versus just commenting that it can be used)."}, {"owner": {"reputation": 3273, "user_id": 1428839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/2oKLx.jpg?s=128&g=1", "display_name": "JorenHeit", "link": "https://stackoverflow.com/users/1428839/jorenheit"}, "edited": false, "score": 0, "creation_date": 1444883657, "post_id": 33135187, "comment_id": 54090689, "body": "Sorry, missed that comment."}, {"owner": {"reputation": 478, "user_id": 5446815, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a57abf3b2d1ba10b18f2557afe339a2?s=128&d=identicon&r=PG&f=1", "display_name": "Matrefeytontias", "link": "https://stackoverflow.com/users/5446815/matrefeytontias"}, "edited": false, "score": 0, "creation_date": 1444944652, "post_id": 33135187, "comment_id": 54126595, "body": "Those two functions getx() and gety() are actually implemented in Entity. There are classes derivating from Entity that don&#39;t implement them, thus Entity&#39;s ones should be called. Would that still work with your implementation ?  EDIT : never mind, I actually read the doc, of course it works."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 478, "user_id": 5446815, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a57abf3b2d1ba10b18f2557afe339a2?s=128&d=identicon&r=PG&f=1", "display_name": "Matrefeytontias", "link": "https://stackoverflow.com/users/5446815/matrefeytontias"}, "edited": false, "score": 0, "creation_date": 1444947948, "post_id": 33135187, "comment_id": 54128020, "body": "@Matrefeytontias If the base class provides an implementation and you don&#39;t want to have to do anything in the derived classes then do not use <code>= 0</code> in the base class. Furthermore, even if you use <code>= 0</code> you may still provide an implementation in the base class but derived classes will be forced to declare and implement the virtual function, even if all they do is call the base implementation (I&#39;m guessing this is not what you&#39;re going for)."}], "tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": false, "score": 0, "last_activity_date": 1444855644, "last_edit_date": 1444855644, "creation_date": 1444855270, "answer_id": 33135187, "question_id": 33135034, "link": "https://stackoverflow.com/questions/33135034/force-call-to-highest-overloaded-function-instead-of-base-function/33135187#33135187", "title": "Force call to &quot;highest&quot; overloaded function instead of base function", "body": "<p>As @Amit states in the comments you're looking for virtual functions. You can update your <code>Entity</code> class as follows:</p>\n\n<pre><code>class Entity\n{\npublic:\n    // Add a virtual destructor to allow deletion through base pointer to work correctly\n    // (e.g., E* e = new Player(); delete e;)\n    virtual ~Entity();\n\n    virtual int getx() const = 0; // 'const' isn't related to your question but\n    virtual int gety() const = 0; // good to have, '= 0' is optional but helpful if\n                                  // the base class isn't providing an implementation\n};\n</code></pre>\n\n<p>Assuming C++11, it's also good to use <code>override</code> in the derived classes.</p>\n\n<pre><code>class Enemy : public Entity\n{\npublic:\n    // 'const' only necessary if specified in the base class\n    // 'virtual' is more documentation it would still be virtual if omitted\n    // 'override' enforces that the signature matches a virtual function\n    virtual int getx() const override;\n    virtual int gety() const override;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "is_accepted": true, "score": 1, "last_activity_date": 1444855818, "last_edit_date": 1444855818, "creation_date": 1444855506, "answer_id": 33135242, "question_id": 33135034, "link": "https://stackoverflow.com/questions/33135034/force-call-to-highest-overloaded-function-instead-of-base-function/33135242#33135242", "title": "Force call to &quot;highest&quot; overloaded function instead of base function", "body": "<p>What you're trying to do is actually one of the basic concepts in <em>OOP</em>: <strong>Virtual Functions</strong>.</p>\n\n<p>The idea is exactly as you described it:</p>\n\n<blockquote>\n  <p>A virtual function is a function that's being replaced by subclasses implementation when accessed via a base class pointer.</p>\n</blockquote>\n\n<p>The syntax is pretty straight forward, simply add the keyword <code>virtual</code> to your base class function declaration. It is good practice (although not a requirement) to also mark overriding functions (those of the subclasses) with the <code>override</code> keyword.</p>\n\n<p>Here's a <a href=\"http://en.cppreference.com/w/cpp/language/virtual\" rel=\"nofollow\">reference of virtual functions</a>.</p>\n\n<p>You can change your code to:</p>\n\n<pre><code>class Entity\n{\npublic:\n    virtual int getx();\n    virtual int gety();\n};\n\nclass Enemy : public Entity\n{\npublic:\n    int getx() override;\n    int gety() override;\n};\n\nclass Player : public Entity\n{\npublic:\n    int getx() override;\n    int gety() override;\n};\n\n// all of the implementations actually differ\n\nint distance(Entity *e1, Entity *e2)\n{\n    return e2-&gt;getx() + e2-&gt;gety() - e1-&gt;getx() - e2-&gt;gety();\n    // Now, the proper getx &amp; gety are being called\n}\n</code></pre>\n"}], "owner": {"reputation": 478, "user_id": 5446815, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2a57abf3b2d1ba10b18f2557afe339a2?s=128&d=identicon&r=PG&f=1", "display_name": "Matrefeytontias", "link": "https://stackoverflow.com/users/5446815/matrefeytontias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 33135242, "answer_count": 2, "score": 1, "last_activity_date": 1444855818, "creation_date": 1444854684, "last_edit_date": 1495540718, "question_id": 33135034, "link": "https://stackoverflow.com/questions/33135034/force-call-to-highest-overloaded-function-instead-of-base-function", "title": "Force call to &quot;highest&quot; overloaded function instead of base function", "body": "<p>I have a base class and many other classes (all derivating from the base class) which all implement the same function with the same parameters. My problem is as follows :</p>\n\n<pre><code>class Entity\n{\npublic:\n    int getx();\n    int gety();\n};\n\nclass Enemy : public Entity\n{\npublic:\n    int getx();\n    int gety();\n};\n\nclass Player : public Entity\n{\npublic:\n    int getx();\n    int gety();\n};\n\n// all of the implementations actually differ\n\nint distance(Entity *e1, Entity *e2)\n{\n    return e2-&gt;getx() + e2-&gt;gety() - e1-&gt;getx() - e2-&gt;gety();\n    // here, it is always Entity::getx and Entity::gety that are called\n}\n</code></pre>\n\n<p>What I want is that if I call, say, <code>distance(e, p)</code> with <code>e</code> an <code>Enemy</code> and <code>p</code> a <code>Player</code>, the respective function overloads are called, and not Entity's implementation.</p>\n\n<p>How would I achieve this, if it is actually possible ? I searched quite a bit on here, and the closest question I found was making use of templates in quite a different context, so it didn't really help me : <a href=\"https://stackoverflow.com/questions/24290678/template-function-overload-for-base-class\">Template function overload for base class</a></p>\n\n<p>Thanks by advance.</p>\n"}, {"tags": ["c++", "string-comparison", "version-numbering"], "comments": [{"owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1444854766, "post_id": 33135019, "comment_id": 54081710, "body": "Please use edit to add additional information about your problem :)"}, {"owner": {"reputation": 725, "user_id": 1135237, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/22b63d609b1cbbefc2720bf906697157?s=128&d=identicon&r=PG", "display_name": "qqqqq", "link": "https://stackoverflow.com/users/1135237/qqqqq"}, "edited": false, "score": 0, "creation_date": 1444855113, "post_id": 33135019, "comment_id": 54081898, "body": "Please  write down the (1)signature of the method the method you need. (2)Sample input (3) sample output."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 3, "creation_date": 1444855461, "post_id": 33135019, "comment_id": 54082082, "body": "No you can&#39;t remove dots because you have things like 1.11.2.22 and 11.1.22.2"}, {"owner": {"reputation": 1165, "user_id": 3264871, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4XRV0.jpg?s=128&g=1", "display_name": "rahpuser", "link": "https://stackoverflow.com/users/3264871/rahpuser"}, "edited": false, "score": 0, "creation_date": 1444855528, "post_id": 33135019, "comment_id": 54082114, "body": "what about split and count the numbers of dots ? if same then compare the first, and so on ?"}, {"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444856057, "post_id": 33135019, "comment_id": 54082396, "body": "I think I can remove the dots except the first one. And I thought about split the string by dots,and compare each part of them, but what if their don&#39;t have same dots?"}, {"owner": {"reputation": 13606, "user_id": 527702, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LrH0d.jpg?s=128&g=1", "display_name": "hippietrail", "link": "https://stackoverflow.com/users/527702/hippietrail"}, "edited": false, "score": 0, "creation_date": 1453166103, "post_id": 33135019, "comment_id": 57473117, "body": "C version of this question for those interested: <a href=\"http://stackoverflow.com/questions/15057010\">comparing version numbers in c</a>"}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1444856628, "post_id": 33135255, "comment_id": 54082690, "body": "Probably it would be easier to split using <code>std::istringstream</code> rather than <code>strtok</code>"}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1444857015, "post_id": 33135255, "comment_id": 54082869, "body": "@Slava: good call, I missed that it was tagged <code>C++</code>. <code>getline</code> is a much better idea."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444857553, "post_id": 33135255, "comment_id": 54083088, "body": "The boost stringsplit is very suitable here. see my answer."}], "tags": [], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": false, "score": 5, "last_activity_date": 1444856973, "last_edit_date": 1444856973, "creation_date": 1444855538, "answer_id": 33135255, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c/33135255#33135255", "title": "How to compare version numbers in C++", "body": "<p>Here's one approach that should work for numerical version numbers:</p>\n\n<ul>\n<li>Split the input strings into pieces using <code>getline(strstream, token, \".\")</code></li>\n<li>Convert corresponding pieces to numbers using <code>atoi</code> or <code>stol</code> and compare numerically</li>\n</ul>\n\n<p>Basically, treat the version numbers as sequences of numbers separated by <code>.</code> and compare those sequences lexicographically.</p>\n\n<hr>\n\n<p>Note that a practical, general version number comparison algorithm probably needs to handle extra trickiness such as letter suffixes (e.g. <code>1.1e</code>, <code>2.4b24</code>, <code>3.5rc1</code>), etc. I'm assuming that this is outside the scope of a class exercise, but the approach is similar: split these parts into sequences of numeric and non-numeric parts and compare each part (e.g. <code>2.4b7 &lt; 2.4b24</code> because <code>4, \"b\", 7 &lt; 4, \"b\", 24</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1444855669, "post_id": 33135262, "comment_id": 54082181, "body": "Removing dots is indeed what the OP asked for, but I&#39;d say it&#39;s the wrong approach. Please check n.m.&#39;s comment."}, {"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 1, "creation_date": 1444855795, "post_id": 33135262, "comment_id": 54082247, "body": "but some inputs may like 000.1, than numb[1]would not equal to &#39;.&#39;."}, {"owner": {"reputation": 12769, "user_id": 2149111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jci02.jpg?s=128&g=1", "display_name": "sasha.sochka", "link": "https://stackoverflow.com/users/2149111/sasha-sochka"}, "edited": false, "score": 0, "creation_date": 1444855841, "post_id": 33135262, "comment_id": 54082270, "body": "Sure, I totally agree about that, I just answered OP&#39;s specific question."}], "tags": [], "owner": {"reputation": 12769, "user_id": 2149111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jci02.jpg?s=128&g=1", "display_name": "sasha.sochka", "link": "https://stackoverflow.com/users/2149111/sasha-sochka"}, "is_accepted": false, "score": 0, "last_activity_date": 1444855560, "creation_date": 1444855560, "answer_id": 33135262, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c/33135262#33135262", "title": "How to compare version numbers in C++", "body": "<p>Since you know <code>numb[1]</code> would equal to '.' you can just use </p>\n\n<pre><code> numb1.erase(std::remove(numb1.begin() + 2, numb1.end(), '.'), numb1.end());\n</code></pre>\n\n<p>Which would remove all dots in <code>numb1</code> after the second character.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 1, "creation_date": 1444857686, "post_id": 33135679, "comment_id": 54083155, "body": "I think you can&#39;t just ignore dots. you have to keep the first dot. otherwise, 2.1.1 will be the same as .2.1.1"}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444857843, "post_id": 33135679, "comment_id": 54083230, "body": "Your idea basically is to compare versions as if they were digits of a base-10 number. But your algorithm fails with any number that is higher than 9 (and thus can&#39;t be treated correctly as a digit of a base-10 number). For example, I&#39;m using Chrome 45.0.2454.101 right now. This version, with your algorithm, would be considered higher than 45.1.0.0, or even 46.0.0.0. To fix the algorithm you&#39;d have to work in base 2455 (one more than the highest number), that is, you&#39;d have to replace <code>n1 = n1 * 10;</code> with <code>n1 = n1 * 2455;</code> but to find out this number you&#39;d have to parse both versions first."}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444857954, "post_id": 33135679, "comment_id": 54083275, "body": "And then again, even with my change, how would you compare versions if they had a different number of dots, that is, something like 45.3 vs 46? You&#39;d have to convert 46 to 46.0 first. All in all, it&#39;s a lot of work, and not worth it."}], "tags": [], "owner": {"reputation": 11, "user_id": 5445773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a58423d05e452e8b3814fbab3c5797?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/5445773/tyler"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857244, "creation_date": 1444857244, "answer_id": 33135679, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c/33135679#33135679", "title": "How to compare version numbers in C++", "body": "<p>What you need to do is iterate through the string, ignoring '.' and converting the char representations of numbers into ints. Then compare the two end results.</p>\n\n<pre><code>string numb1 = \"4.3.2\";\nstring numb2 = \"3.4.5\";\nint n1 = 0;\nint n2 = 0; \n\nfor (int i = 0; i &lt; numb1.length(); i++)\n{\n    if (numb1[i] != '.')\n    {   \n        n1 = n1 * 10;\n        n2 = n2 * 10;\n        n1 += (int(numb1[i]) - '0');\n        n2 += (int(numb2[i]) - '0');                \n    }\n\n}\n</code></pre>\n\n<p>That will give you 432 and 345, comparing those would give you which is the higher version.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444858057, "post_id": 33135699, "comment_id": 54083324, "body": "I am reading it! thank you very much!"}, {"owner": {"reputation": 733, "user_id": 101039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/88oCA.png?s=128&g=1", "display_name": "JPhi1618", "link": "https://stackoverflow.com/users/101039/jphi1618"}, "edited": false, "score": 0, "creation_date": 1444858745, "post_id": 33135699, "comment_id": 54083654, "body": "Using boost seems a little off topic for homework help from a basic C++ class."}, {"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444858781, "post_id": 33135699, "comment_id": 54083667, "body": "I can&#39;t use boost/algorithm/string.hpp library in my compiler. Any way to fix this?"}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "reply_to_user": {"reputation": 733, "user_id": 101039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/88oCA.png?s=128&g=1", "display_name": "JPhi1618", "link": "https://stackoverflow.com/users/101039/jphi1618"}, "edited": false, "score": 0, "creation_date": 1444858883, "post_id": 33135699, "comment_id": 54083717, "body": "@JPhi1618. SO is for better coding, not for solving homework. Therefore, I chose to use boost."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "reply_to_user": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444858993, "post_id": 33135699, "comment_id": 54083772, "body": "@HuangXu, you need to install boost."}, {"owner": {"reputation": 733, "user_id": 101039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/88oCA.png?s=128&g=1", "display_name": "JPhi1618", "link": "https://stackoverflow.com/users/101039/jphi1618"}, "reply_to_user": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444859017, "post_id": 33135699, "comment_id": 54083784, "body": "@HuangXu Boost is not a standard library, and must be downloaded, compiled, and correctly installed to be used.  This is a good answer for a more advanced C++ user, but probably will not help in your class.  Your professor probably wouldn&#39;t even let you use Boost."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "reply_to_user": {"reputation": 733, "user_id": 101039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/88oCA.png?s=128&g=1", "display_name": "JPhi1618", "link": "https://stackoverflow.com/users/101039/jphi1618"}, "edited": false, "score": 0, "creation_date": 1444859137, "post_id": 33135699, "comment_id": 54083838, "body": "@JPhi1618. I agree. My algorithm would require then a handwritten string splitter."}, {"owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444861281, "post_id": 33135699, "comment_id": 54084736, "body": "thanks both of you! At least you give me some ideas."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "reply_to_user": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "edited": false, "score": 0, "creation_date": 1444896130, "post_id": 33135699, "comment_id": 54096008, "body": "@HuangXu Then don&#39;t forget to give us some upvotes ;)"}], "tags": [], "owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "is_accepted": false, "score": 1, "last_activity_date": 1444858777, "last_edit_date": 1444858777, "creation_date": 1444857308, "answer_id": 33135699, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c/33135699#33135699", "title": "How to compare version numbers in C++", "body": "<p>Something like this would work to do the checking and is fairly minimal. It makes use of boost to split the string and then compares the version step by step. It automatically deals with missing leading zeros.</p>\n\n<pre><code>#include &lt;boost/algorithm/string.hpp&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nint version_a_newer_than_b(const std::string&amp; a, const std::string&amp; b)\n{\n    // First, split the string.\n    std::vector&lt;std::string&gt; va, vb;\n    boost::split(va, a, boost::is_any_of(\".\"));\n    boost::split(vb, b, boost::is_any_of(\".\"));\n\n    // Compare the numbers step by step, but only as deep as the version\n    // with the least elements allows.\n    const int depth = std::min(va.size(), vb.size());\n    int ia,ib;\n    for (int i=0; i&lt;depth; ++i)\n    {\n        ia = atoi(va[i].c_str());\n        ib = atoi(vb[i].c_str());\n        if (ia != ib)\n            break;\n    }\n\n    // Return the required number.\n    if (ia &gt; ib)\n        return 1;\n    else if (ia &lt; ib)\n        return -1;\n    else\n    {\n        // In case of equal versions, assumes that the version\n        // with the most elements is the highest version.\n        if (va.size() &gt; vb.size())\n            return 1;\n        else if (va.size() &lt; vb.size())\n            return -1;\n    }\n\n    // Everything is equal, return 0.\n    return 0;\n}\n\nint main()\n{\n    std::string a = \"0.1.32.8\";\n    std::string b = \"0.1\";\n\n    std::cout &lt;&lt; \"Is a newer than b: \" &lt;&lt; version_a_newer_than_b(a, b) &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5569, "user_id": 201787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vgB9F.jpg?s=128&g=1", "display_name": "metal", "link": "https://stackoverflow.com/users/201787/metal"}, "edited": false, "score": 0, "creation_date": 1472835536, "post_id": 34484221, "comment_id": 65928679, "body": "This is buggy. Consider <code>CompareVersion(&quot;2.3&quot;) &lt;= CompareVersion(&quot;2.2&quot;)</code> and <code>CompareVersion(&quot;2.3&quot;) &lt;= CompareVersion(&quot;1.4&quot;)</code>. Both expressions are true but should be false."}], "tags": [], "owner": {"reputation": 2846, "user_id": 1318830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NKMrG.jpg?s=128&g=1", "display_name": "mkungla", "link": "https://stackoverflow.com/users/1318830/mkungla"}, "is_accepted": false, "score": -1, "last_activity_date": 1451245947, "creation_date": 1451245947, "answer_id": 34484221, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c/34484221#34484221", "title": "How to compare version numbers in C++", "body": "<p><strong>Following example will demonstrates comparison between following version format:</strong>\n<code>major.minor.revision.build</code> or any shorter version, like only <code>major</code> while it allows you to extend it to fit your needs as of, </p>\n\n<blockquote>\n  <p><code>\"some of the version numbers may be very long like 2.3.2.2.3.1.1.5.3.5.6.2\"</code></p>\n</blockquote>\n\n<p>Using example bellow, dots in the beginning and end of the version string are taken care of as far <code>.0.4</code> is considered to be equal to <code>0.0.4</code> and <code>.1.</code> is considered to be equal to <code>0.1.0</code>.</p>\n\n<p><strong>CompareVersion.h</strong>\n</p>\n\n<pre><code>#ifndef COMPAREVERSION_H_\n#define COMPAREVERSION_H_\n#include &lt;cstdio&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nstruct CompareVersion {\npublic:\n    int maj;\n    int min;\n    int rev;\n    int build;\n    CompareVersion(std::string);\n    bool operator &lt; (const CompareVersion&amp;);\n    bool operator &lt;= (const CompareVersion&amp;);\n    bool operator == (const CompareVersion&amp;);\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; stream, const CompareVersion&amp; ver) {\n        stream &lt;&lt; ver.maj;\n        stream &lt;&lt; '.';\n        stream &lt;&lt; ver.min;\n        stream &lt;&lt; '.';\n        stream &lt;&lt; ver.rev;\n        stream &lt;&lt; '.';\n        stream &lt;&lt; ver.build;\n        return stream;\n    };\n    void reset();\n};\n#endif /* COMPAREVERSION_H_ */\n</code></pre>\n\n<p><strong>CompareVersion.cpp</strong>\n</p>\n\n<pre><code>#include \"CompareVersion.h\"\nCompareVersion::CompareVersion(std::string version) \n{\n    reset();\n    if (version.compare(0,1,\".\") == 0)\n        version = \"0\"+version;\n    if (version.compare(version.size()-1,1,\".\") == 0)\n        version.append(\"0\");\n    sscanf(version.c_str(), \"%d.%d.%d.%d\", &amp;maj, &amp;min, &amp;rev, &amp;build);\n    if (maj &lt;= 0) maj = 0;\n    if (min &lt;= 0) min = 0;\n    if (rev &lt;= 0) rev = 0;\n    if (build &lt;= 0) build = 0;\n}\nbool CompareVersion::operator &lt; (const CompareVersion&amp; other)\n{\n    if (maj &lt; other.maj) return true;\n    if (min &lt; other.min) return true;\n    if (rev &lt; other.rev) return true;\n    if (build &lt; other.build) return true;\n\n    return false;\n}\nbool CompareVersion::operator &lt;= (const CompareVersion&amp; other)\n{\n    if (maj &gt;= other.maj) return true;\n    if (min &gt;= other.min) return true;\n    if (rev &gt;= other.rev) return true;\n    if (build &gt;= other.build) return true;\n\n    return false;\n}\nbool CompareVersion::operator == (const CompareVersion&amp; other)\n{\n    return maj == other.maj\n    &amp;&amp; min == other.min\n    &amp;&amp; rev == other.rev\n    &amp;&amp; build == other.build;\n}\nvoid CompareVersion::reset()\n{\n    maj = 0;\n    min = 0;\n    rev = 0;\n    build = 0;\n}\n</code></pre>\n\n<p><strong>main.cpp</strong>\n</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"CompareVersion.h\"\nusing namespace std;\nint main() \n{\n    if((CompareVersion(\"1.2.3.4\") == CompareVersion(\"1.2.3.4\")) == true)\n    cout &lt;&lt; \"Version 1.2.3.4 and version 1.2.3.4 are equal\" &lt;&lt; endl;\n\n    if((CompareVersion(\"1.2.3.3\") &lt; CompareVersion(\"1.2.3.4\")) == true)\n    cout &lt;&lt; \"Version 1.2.3.3 is smaller than 1.2.3.4. \" &lt;&lt; endl;\n\n    if((CompareVersion(\"1.2.3.4\") &lt; CompareVersion(\"1.2.3.4\")) == true)\n    cout &lt;&lt; \"You won't see that. \" &lt;&lt; endl;\n\n    if((CompareVersion(\"1.2.3.4\") &lt;= CompareVersion(\"1.2.3.4\")) == true)\n    cout &lt;&lt; \"Version 1.2.3.4 is smaller or equal to 1.2.3.4\" &lt;&lt; endl;\n    if((CompareVersion(\"1\") &lt;= CompareVersion(\"1.0.0.1\")) == true)\n    cout &lt;&lt; \"Version 1 is smaller or equal to 1.0.0.1\" &lt;&lt; endl;\n    /* THE DOTS */\n    if((CompareVersion(\".0.4\") == CompareVersion(\"0.0.4\")) == true)\n    cout &lt;&lt; \"Version .0.4 and version 0.0.4 are equal\" &lt;&lt; endl;\n    if((CompareVersion(\".1.\") == CompareVersion(\"0.1.0\")) == true)\n    cout &lt;&lt; \"Version .1. and version 0.1.0 are equal\" &lt;&lt; endl;\n    if((CompareVersion(\"1\") == CompareVersion(\"1.0.0.0\")) == true)\n    cout &lt;&lt; \"Version 1 and version 1.0.0.0 are equal\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Version 1.2.3.4 and version 1.2.3.4 are equal\nVersion 1.2.3.3 is smaller than 1.2.3.4. \nVersion 1.2.3.4 is smaller or equal to 1.2.3.4\nVersion 1 is smaller or equal to 1.0.0.1\nVersion .0.4 and version 0.0.4 are equal\nVersion .1. and version 0.1.0 are equal\nVersion 1 and version 1.0.0.0 are equal\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4989505, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yp03k-wfJ6c/AAAAAAAAAAI/AAAAAAAAAP0/T8tN8fe-vTA/photo.jpg?sz=128", "display_name": "Huang Xu", "link": "https://stackoverflow.com/users/4989505/huang-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4786, "favorite_count": 1, "closed_date": 1462303362, "answer_count": 5, "score": 6, "last_activity_date": 1453166269, "creation_date": 1444854630, "last_edit_date": 1453166269, "question_id": 33135019, "link": "https://stackoverflow.com/questions/33135019/how-to-compare-version-numbers-in-c", "closed_reason": "Duplicate", "title": "How to compare version numbers in C++", "body": "<p>Our professor want us to write a program to compare two version numbers, like 0.1 &lt; 0.2 or 1 &lt; 1.1. Also there are some trick ones like .0.4 &lt; .1. \nSo, my idea is first judge if the number start as a dot, if it does, I add a 0 to it. After that I remove other dots except the first one. Then I convert string to number and compare them. Here's what I do in the first step.</p>\n\n<pre><code>string numb1,numb2;\nif(numb1[0]=='.')\n{\n    numb1 =\"0\"+ numb1;\n}\n</code></pre>\n\n<p>I do the same thing to the second number. And now I need help to show me how to remove the dots except the first one.\nOur professor want us to use this specific function: \nint compareVersions(string ver1, string ver2).\nIf ver1 > ver2: return 1\nif ver1 &lt; ver2: return -1\notherwise return 0. </p>\n\n<p>By the way, some of the vision number may very long like 2.3.2.2.3.1.1.5.3.5.6.2 or 1.1.1.1.1.1.1.</p>\n"}, {"tags": ["c++", "fstream"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444919684, "post_id": 33134811, "comment_id": 54112108, "body": "<i>&quot;The header needs to be written in the ascii mode&quot;</i> noo"}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1444854143, "post_id": 33134855, "comment_id": 54081340, "body": "That is why using <code>sizeof(variable_name)</code> is the suggested method"}, {"owner": {"reputation": 268, "user_id": 5279773, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-IPGjAzi45hE/AAAAAAAAAAI/AAAAAAAAAIo/FsWgM8XiWFY/photo.jpg?sz=128", "display_name": "Rea", "link": "https://stackoverflow.com/users/5279773/rea"}, "edited": false, "score": 0, "creation_date": 1444854998, "post_id": 33134855, "comment_id": 54081832, "body": "thanks! i see ... actually I did not use size of, because I expect the size to be smaller than the actual space that needs to be filled for writing. If I do not use the exact bytes, the file cannot be read properly afterwards."}], "tags": [], "owner": {"reputation": 12663, "user_id": 139091, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/221d62beca0a3b687dad11376bc51c11?s=128&d=identicon&r=PG", "display_name": "mattnewport", "link": "https://stackoverflow.com/users/139091/mattnewport"}, "is_accepted": false, "score": 6, "last_activity_date": 1444854073, "creation_date": 1444854073, "answer_id": 33134855, "question_id": 33134811, "link": "https://stackoverflow.com/questions/33134811/writing-binary-stl-files-in-c/33134855#33134855", "title": "Writing binary .stl files in C++", "body": "<p>The size argument to <code>write()</code> is the size in bytes, not in bits. You are passing 32 for a <code>float</code> when you should be passing 4.</p>\n"}], "owner": {"reputation": 268, "user_id": 5279773, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-IPGjAzi45hE/AAAAAAAAAAI/AAAAAAAAAIo/FsWgM8XiWFY/photo.jpg?sz=128", "display_name": "Rea", "link": "https://stackoverflow.com/users/5279773/rea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4960, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444921045, "creation_date": 1444853910, "last_edit_date": 1444921045, "question_id": 33134811, "link": "https://stackoverflow.com/questions/33134811/writing-binary-stl-files-in-c", "title": "Writing binary .stl files in C++", "body": "<p>I want to write data from an vector of coordinates into a binary .stl 3d geometry file.</p>\n\n<p>I need to have a 80 bit header, 24bit number of triangles.\nEach triangle is supposed to be defined by 3 points and one normal, each of which coordinate values is 32 bit.In addition, each triangle may have an attribute, which I wanted to leave empty. (See <a href=\"https://en.wikipedia.org/wiki/STL_%28file_format%29\" rel=\"nofollow noreferrer\">wiki</a> )</p>\n\n<p>I guess I am still having misunderstanding about char and binary mode.</p>\n\n<p>The file that is produced in the end has the same size as my original file but cannot be read by the graphics programme, so there needs to be a logical mistake still...</p>\n\n<p>My point coordinates are  double valued before casting to char*, is this ok to do so??</p>\n\n<p><a href=\"https://i.stack.imgur.com/FrK2d.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FrK2d.gif\" alt=\"line out of the binary file\"></a></p>\n\n<p>My code:</p>\n\n<pre><code>void write_stl(std::string filename, std::vector&lt;tri&gt; triangles){\n\n//binary file\nstd::string header_info = \"solid \" + filename + \"-output\";\nchar head[80];\nstd::strncpy(head,header_info.c_str(),sizeof(head)-1);\nchar attribute[2] = \"0\";\nunsigned long nTriLong = triangles.size() ;\n\nstd::ofstream myfile;\n\nmyfile.open((Filename + \"-out.stl\").c_str(),  std::ios::out | std::ios::binary);\nmyfile.write(head,sizeof(head));\nmyfile.write((char*)&amp;nTriLong,4);\n\n    //write down every triangle\nfor (std::vector&lt;tri&gt;::iterator it = triangles.begin(); it!=triangles.end(); it++){\n    //normal vector coordinates\n\n    myfile.write((char*)&amp;it-&gt;m_n.m_x, 4);\n    myfile.write((char*)&amp;it-&gt;m_n.m_y, 4);\n    myfile.write((char*)&amp;it-&gt;m_n.m_z, 4);\n\n    //p1 coordinates\n    myfile.write((char*)&amp;it-&gt;m_p1.m_x, 4);\n    myfile.write((char*)&amp;it-&gt;m_p1.m_y, 4);\n    myfile.write((char*)&amp;it-&gt;m_p1.m_z, 4);\n\n    //p2 coordinates\n    myfile.write((char*)&amp;it-&gt;m_p2.m_x, 4);\n    myfile.write((char*)&amp;it-&gt;m_p2.m_y, 4);\n    myfile.write((char*)&amp;it-&gt;m_p2.m_z, 4);\n\n    //p3 coordinates\n    myfile.write((char*)&amp;it-&gt;m_p3.m_x, 4);\n    myfile.write((char*)&amp;it-&gt;m_p3.m_y, 4);\n    myfile.write((char*)&amp;it-&gt;m_p3.m_z, 4);\n\n    myfile.write(attribute,2);\n}\n\nmyfile.close();\n</code></pre>\n\n<p>}</p>\n\n<p>Where <code>tri</code> is just a structure for a triangle containing the 3 points and the normal as \"3D vectors\" (i.e. Structures with x,y,z, value) ...</p>\n"}, {"tags": ["c++", "performance", "file"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 2, "creation_date": 1444853802, "post_id": 33134765, "comment_id": 54081132, "body": "If you have a method, have you tried both and tested the time it takes?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 5, "creation_date": 1444853814, "post_id": 33134765, "comment_id": 54081141, "body": "First rule of optimizing C++ code: Measure everything."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444853874, "post_id": 33134765, "comment_id": 54081181, "body": "If you are not using the file you should probably close it so you are not tying it up."}, {"owner": {"reputation": 3570, "user_id": 487305, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5f67a305a9a722a3e75cfdb379a31ff2?s=128&d=identicon&r=PG", "display_name": "sara", "link": "https://stackoverflow.com/users/487305/sara"}, "edited": false, "score": 3, "creation_date": 1444853886, "post_id": 33134765, "comment_id": 54081189, "body": "Why do you read it twice in the first place? if you keep it open - then you&#39;re not expecting a change in content..."}, {"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 1, "creation_date": 1444853908, "post_id": 33134765, "comment_id": 54081202, "body": "In general, it&#39;s faster to leave it open, as a &quot;rewind&quot; usually just resets the file offset.  But specifics matter.  For what it&#39;s worth, since in most cases all the file metadata will be cached, the difference might not even be measurable."}, {"owner": {"reputation": 1712, "user_id": 369446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zO6tb.jpg?s=128&g=1", "display_name": "Michael Shopsin", "link": "https://stackoverflow.com/users/369446/michael-shopsin"}, "edited": false, "score": 0, "creation_date": 1444854556, "post_id": 33134765, "comment_id": 54081593, "body": "Unfortunately rewinding a file efficiently often involves OS specific methods so the best generic C++ code can do is often to close the file. The way caches interact with the file is implementation specific and rewind versus reopen may vary in performance by OS, YMMV."}], "answers": [{"comments": [{"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1444854383, "post_id": 33134838, "comment_id": 54081492, "body": "Indeed.  If ultimate speed is the goal and the file is small, just keep the contents in memory.  If the file is too large to keep in memory, the performance difference between keeping the file open compared to reopening the file will almost certainly be smaller than the random fluctuations in how fast the file is read."}, {"owner": {"reputation": 3805, "user_id": 247643, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8e9927c1955a6b0497cf6c13d9a7b403?s=128&d=identicon&r=PG", "display_name": "doynax", "link": "https://stackoverflow.com/users/247643/doynax"}, "edited": false, "score": 1, "creation_date": 1444854530, "post_id": 33134838, "comment_id": 54081576, "body": "It may well be worth holding on to a file to reduce the risk of errors during the second pass however, depending on the circumstances. Also as a Windows developer who has recently been doing I/O optimizations I fear that &quot;a few nanoseconds&quot; may be a more than generous estimate (for the record I&#39;ve been seeing best-case access times on the order of 30&#181;s)."}], "tags": [], "owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "is_accepted": false, "score": 3, "last_activity_date": 1444857890, "last_edit_date": 1444857890, "creation_date": 1444854009, "answer_id": 33134838, "question_id": 33134765, "link": "https://stackoverflow.com/questions/33134765/is-it-more-efficient-to-rewind-a-file-than-closing-it-and-opening-it-up-again/33134838#33134838", "title": "Is it more efficient to rewind a file than closing it and opening it up again?", "body": "<p>You might be able to measure a fraction of gained efficiency in the range of a few nanoseconds if you <code>fseek</code> to the beginning of the file but I don't think this is worth it when you are only dealing with a single file.</p>\n\n<p>Like others said: try to find other areas of code which you can optimize.</p>\n"}, {"tags": [], "owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "is_accepted": false, "score": 0, "last_activity_date": 1444854812, "last_edit_date": 1444854812, "creation_date": 1444854273, "answer_id": 33134920, "question_id": 33134765, "link": "https://stackoverflow.com/questions/33134765/is-it-more-efficient-to-rewind-a-file-than-closing-it-and-opening-it-up-again/33134920#33134920", "title": "Is it more efficient to rewind a file than closing it and opening it up again?", "body": "<p>As with all performance issues, the final optimizations vary widely. Measure both implementations against a reasonable data set and take it from there. </p>\n\n<p>As a design choice it may be simpler to cache the contents of the file in memory once it has been read the first time and then there is no need to re-read the contents. If the modified content is required then again, cache the modified data to forgo the second read.</p>\n"}, {"tags": [], "owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "is_accepted": true, "score": 3, "last_activity_date": 1445000052, "last_edit_date": 1495542218, "creation_date": 1444855969, "answer_id": 33135387, "question_id": 33134765, "link": "https://stackoverflow.com/questions/33134765/is-it-more-efficient-to-rewind-a-file-than-closing-it-and-opening-it-up-again/33135387#33135387", "title": "Is it more efficient to rewind a file than closing it and opening it up again?", "body": "<p>If you close and open the file, the OS definitely need to update system lock for the file and list of resources (opened files) of your process. Furthermore close and open operation are two <a href=\"https://stackoverflow.com/questions/2668747/system-call-vs-function-call\">systems calls (kernel calls)</a> and system call is not cheap. Every system call require translating of virtual address.</p>\n\n<p>Closing the file can (if there is any change) force writing the cache to the hard-disk, this means seek time about 15ms (physical move of the platter). It can be even worse in the case of network drive.</p>\n\n<p>After closing the file, some properties need to be updated. FileSystem watcher may be launched.</p>\n\n<p>An antivirus scanning may be triggered after closing the file, it depends on filename, path, antivirus brand.</p>\n\n<p>Furthermore closing the file is a risk, that you are not able to open it again because of another process. For example Dropbox read every file in Dropbox folder after change. So closing and opening file does not generally work in Dropbox folder (Dropbox may be faster). And who knows how users use your application. Users are inventive and they share files you didn't think of.</p>\n"}], "owner": {"reputation": 450, "user_id": 4530890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xJOSs.png?s=128&g=1", "display_name": "Ocab19", "link": "https://stackoverflow.com/users/4530890/ocab19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "accepted_answer_id": 33135387, "answer_count": 3, "score": 4, "last_activity_date": 1445000052, "creation_date": 1444853681, "last_edit_date": 1444997232, "question_id": 33134765, "link": "https://stackoverflow.com/questions/33134765/is-it-more-efficient-to-rewind-a-file-than-closing-it-and-opening-it-up-again", "title": "Is it more efficient to rewind a file than closing it and opening it up again?", "body": "<p>I'm writing a little C++ program for myself. At the begining of it, I read a file all the way to the bottom, and later on, right before the program ends, I need to read that file again from the begining. <br><br>\nMy question is, is it more efficient to have the file open during the execution (even thought I won't be using it) and just rewind it when I need it again, or should I close it the first time and then open it again when I need it?<br><br>\nEdit: Just to clarify, my question is not only related to the specific project that I'm working on. It is really small (less than 300 lines of code), so there won't be any noticeable performance difference. I'm asking about opening, closing and \"rewinding\" files in general, so it's aplicable to other big projects were performance and memory may actually matter</p>\n"}, {"tags": ["c++", "doubly-linked-list"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1444853616, "post_id": 33134701, "comment_id": 54081023, "body": "You can&#39;t do much better than just comparing the first character that is different."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853637, "post_id": 33134701, "comment_id": 54081030, "body": "It doesn&#39;t matter from which end you start. Isn&#39;t that all of the purpose of a double linked list?"}, {"owner": {"reputation": 143, "user_id": 3198487, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a90d6e08ec8a473cb90954b79c7d7ad?s=128&d=identicon&r=PG", "display_name": "Sythe", "link": "https://stackoverflow.com/users/3198487/sythe"}, "edited": false, "score": 0, "creation_date": 1444853761, "post_id": 33134701, "comment_id": 54081110, "body": "It does matter if there is less Nodes I have to iterate through by going through the tail vs the head and vice versa."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444854164, "post_id": 33134701, "comment_id": 54081352, "body": "@Sythe Anyways you&#39;ll need to inspect the list items, to know that. Don&#39;t you?"}, {"owner": {"reputation": 143, "user_id": 3198487, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a90d6e08ec8a473cb90954b79c7d7ad?s=128&d=identicon&r=PG", "display_name": "Sythe", "link": "https://stackoverflow.com/users/3198487/sythe"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444854470, "post_id": 33134701, "comment_id": 54081544, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 that&#39;s why I&#39;m &quot;guessing&quot; what end to start on, I don&#39;t actually know where it will be in the list."}, {"owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "edited": false, "score": 0, "creation_date": 1444857816, "post_id": 33134701, "comment_id": 54083218, "body": "The motivation, I&#39;m assuming, is that the doubly linked list is very large and you want to optimize average case to be better than O(n), right?"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 3, "creation_date": 1444857943, "post_id": 33134701, "comment_id": 54083269, "body": "If search time is important to you, a linked list is the wrong structure.  Look into trees or hash tables instead."}], "answers": [{"comments": [{"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 1, "creation_date": 1444869191, "post_id": 33135815, "comment_id": 54087176, "body": "Shouldn&#39;t that be if (word_to_search_for[index] - list[0][index]) &gt; spread/2?"}, {"owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "reply_to_user": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1446156118, "post_id": 33135815, "comment_id": 54639859, "body": "Yeah, I think so looking at it now. Nice catch"}], "tags": [], "owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "is_accepted": false, "score": 2, "last_activity_date": 1446156106, "last_edit_date": 1446156106, "creation_date": 1444857732, "answer_id": 33135815, "question_id": 33134701, "link": "https://stackoverflow.com/questions/33134701/guessing-what-side-of-a-doubly-linked-list-to-start-on/33135815#33135815", "title": "&quot;Guessing&quot; what side of a doubly linked list to start on", "body": "<p>Alf's comment is realistically what you want. In order to decide which end to be on, you are getting maximum resolution by simply finding the first different character and then picking based on the midpoint.</p>\n\n<p>Algorithm idea</p>\n\n<pre><code>list = [\"apple\", \"banana\", \"orange\"]\nword_to_search_for = [\"banana\"]\n\nindex = 0\nwhile list[0][index] == list[last][index]:\n    if word_to_search_for[index] != list[0][index]:\n        return \"word not in list\"\n    ++index\n\nspread = list[last][index] - list[0][index]\nif (word_to_search_for[index] - list[0][index])&gt; spread/2:\n    start at last\nelse:\n    start at 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "is_accepted": false, "score": 0, "last_activity_date": 1444869805, "creation_date": 1444869805, "answer_id": 33137994, "question_id": 33134701, "link": "https://stackoverflow.com/questions/33134701/guessing-what-side-of-a-doubly-linked-list-to-start-on/33137994#33137994", "title": "&quot;Guessing&quot; what side of a doubly linked list to start on", "body": "<p>You could create an array of pointers to some sub-set of nodes in the list, like pointers to the first, middle, and last node of a list. You could use more pointers to reduce the search time, perhaps 4 to 16 pointers. Sort of a hierarchical overall structure. The array would need to be updated as nodes are deleted (at least the pointers to deleted nodes, pick the node before or after if this happens, or shrink the array). At some point, a tree like structure would be better.</p>\n"}, {"tags": [], "owner": {"reputation": 556, "user_id": 5151179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c456ede2ec0870b537b7f1eae61897be?s=128&d=identicon&r=PG", "display_name": "user5151179", "link": "https://stackoverflow.com/users/5151179/user5151179"}, "is_accepted": false, "score": 1, "last_activity_date": 1444870433, "creation_date": 1444870433, "answer_id": 33138062, "question_id": 33134701, "link": "https://stackoverflow.com/questions/33134701/guessing-what-side-of-a-doubly-linked-list-to-start-on/33138062#33138062", "title": "&quot;Guessing&quot; what side of a doubly linked list to start on", "body": "<p>As others have already alluded, your main problem is that you're using the wrong data structure.  Your question shouldn't be \"How do I make a double linked list operate in a manner that is distinctly unlike a double linked list?\", it should be \"What is the best data structure for {insert your specific use case}?\".</p>\n\n<p>Reading between the lines, it appears that you're after something that allows for insertions, removals and relatively high speed scans.  This leads me to suggest a Left Leaning Red Black Tree: see <a href=\"https://en.wikipedia.org/wiki/Left-leaning_red%E2%80%93black_tree\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Left-leaning_red%E2%80%93black_tree</a></p>\n"}], "owner": {"reputation": 143, "user_id": 3198487, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a90d6e08ec8a473cb90954b79c7d7ad?s=128&d=identicon&r=PG", "display_name": "Sythe", "link": "https://stackoverflow.com/users/3198487/sythe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1446156106, "creation_date": 1444853441, "question_id": 33134701, "link": "https://stackoverflow.com/questions/33134701/guessing-what-side-of-a-doubly-linked-list-to-start-on", "title": "&quot;Guessing&quot; what side of a doubly linked list to start on", "body": "<p>A bit hard to explain what I'm planning, but here it goes. I have a doubly linked list of objects which are ordered alphabetically by a member attribute called <code>name</code>. I wish to remove a Node with a specific name, but I would like to remove it in such a way that it is more likely to start looking for it on the side of the list closer to it. </p>\n\n<p>So I was thinking that I would have to find the 'midpoint' between the first Node's <code>name</code> and the last Node's <code>name</code>. Then I will check to see if that midpoint is less than the name of the Node. If it is less, I will start from the tail, otherwise I will start from the head.</p>\n\n<p>The problem I am having is that I am unable to convert a string directly into an int. My potential solution is this:</p>\n\n<ol>\n<li>Convert each individual character in the head and tail to an int</li>\n<li>Put each conversion into an int array, one array for the head, one for the tail</li>\n<li>Convert each int into a string again and put them into a new array</li>\n<li>Make each converted string have a length of 3 by inserting 0s into them if they have less than a length of 3</li>\n<li>Add the strings in each array together</li>\n<li>Convert the strings to int again and find the difference between the two ints and divide that by 2</li>\n<li>Add the new value to the first Node's converted name</li>\n<li>Find if this 'midpoint' is less than the name of the Node I want to remove</li>\n<li>If it is, start searching from the tail</li>\n<li>Else, search from the head</li>\n</ol>\n\n<p>Is there any easier way to go about doing this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444853364, "post_id": 33134646, "comment_id": 54080887, "body": "Is this being done in a loop \\ multiple function call by chance?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444853547, "post_id": 33134646, "comment_id": 54080982, "body": "@NathanOliver Suggesting that the seed is at the same time always because <code>time(...</code> has second resolution?"}, {"owner": {"reputation": 141, "user_id": 5334523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/WrPOA.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/5334523/marco"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444853550, "post_id": 33134646, "comment_id": 54080987, "body": "no, it&#39;s not. @NathanOliver"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444853761, "post_id": 33134646, "comment_id": 54081108, "body": "Then please <b><a href=\"https://stackoverflow.com/posts/33134646/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3670, "user_id": 2078908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aebe36cee92d87d6192bd09774c0f536?s=128&d=identicon&r=PG", "display_name": "ursa", "link": "https://stackoverflow.com/users/2078908/ursa"}, "is_accepted": false, "score": 0, "last_activity_date": 1444854914, "creation_date": 1444854914, "answer_id": 33135096, "question_id": 33134646, "link": "https://stackoverflow.com/questions/33134646/generate-random-number-in-multiple-text-files/33135096#33135096", "title": "Generate random number in multiple text files", "body": "<p>Call to time(NULL) will return seconds, so your code re-initializes PRNG multiple times during the same second with the same seed. Just an example:</p>\n\n<pre><code>srand (33); // initialize with a fixed seed = 33.\nprintf (\"random number: %d, %d, %d\\n\", rand()%100, rand()%100, rand()%100);\n// &gt; random number: 41, 15, 22\n\nsrand (33); // re-initialize with the same seed = 33.\nprintf (\"random number: %d, %d, %d\\n\", rand()%100, rand()%100, rand()%100);\n// &gt; random number: 41, 15, 22\n</code></pre>\n\n<p>You have to initialize PRNG only once, on the application start:</p>\n\n<pre><code>int main () {\n    srand(time(NULL));\n    ... // other code\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5334523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/WrPOA.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/5334523/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444854914, "creation_date": 1444853261, "question_id": 33134646, "link": "https://stackoverflow.com/questions/33134646/generate-random-number-in-multiple-text-files", "title": "Generate random number in multiple text files", "body": "<p>what I'm trying to do is generate random numbers in multiple text files, here's my current code: </p>\n\n<pre><code>// Write files\n        string file_name_write = \"2016\\\\Sem2\\\\Timetable_list\\\\Timetable\" + s-&gt;Get_subid() + \".txt\";\n        ofstream fo (file_name_write.c_str()); // E.g: Timetable_list\\TimetableICT1.1.txt\n        fo &lt;&lt; \"Subject ID: \" &lt;&lt; s-&gt;Get_subid() &lt;&lt; endl;\n        fo &lt;&lt; \"Subject name: \" &lt;&lt; s-&gt;Get_name() &lt;&lt; endl;\n        fo &lt;&lt; \"Lecturer: \" &lt;&lt; s-&gt;lecturer &lt;&lt; endl;\n        fo &lt;&lt; \"Venue: \" &lt;&lt; s-&gt;venue &lt;&lt; endl;\n        fo &lt;&lt; \"Time: \" &lt;&lt; s-&gt;time &lt;&lt; endl &lt;&lt; endl; \n        fo &lt;&lt; \"List of students for this subject:\" &lt;&lt; endl;\n        fo &lt;&lt; \"Order    ID  Name        DOB     Address     E.Year  Major   Midterm Final   Total\" &lt;&lt; endl;\n        int n = s-&gt;number_of_students; \n        Student *temp_stu;\n        srand(time(NULL));\n        for (int i=0; i&lt;n; i++) \n        {\n            int random_mid;\n            int random_final;\n            random_mid = (rand() % 20) + 1;\n            random_final = (rand() % 20) + 1;\n            temp_stu = lstu.Find_Student (s-&gt;stu_id[i]);\n            fo &lt;&lt; i+1 &lt;&lt; \"  \" &lt;&lt; temp_stu-&gt;Get_pid() &lt;&lt; \"   \" &lt;&lt; temp_stu-&gt;Get_fname() &lt;&lt; \" \"\n               &lt;&lt; temp_stu-&gt;Get_dob() &lt;&lt; \"  \" &lt;&lt; temp_stu-&gt;Get_addr() &lt;&lt; \"      \"\n               &lt;&lt; temp_stu-&gt;Get_ent_year() &lt;&lt; \" \" &lt;&lt; temp_stu-&gt;Get_major() &lt;&lt; \" \" &lt;&lt; random_mid \n               &lt;&lt; \" \" &lt;&lt; random_final &lt;&lt; endl;\n        }\n        fo.close();\n        s = s -&gt; next;\n</code></pre>\n\n<p>The problem I'm having is the lists of random numbers in my text files are exactly the same. For example, every single one of my files generate these same numbers:</p>\n\n<pre><code>Midterm Final\n  14     16\n  12     5\n  5      1\n  12     15\n  19     18\n</code></pre>\n\n<p>I want my program to generate different lists of numbers in each of my text files, any idea how can I do this? Thanks. </p>\n"}, {"tags": ["c#", "c++", "generics"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853213, "post_id": 33134583, "comment_id": 54080804, "body": "<i>&quot;<b>vector</b> is from the STL&quot;</i> It&#39;s not <i>the STL</i> from the last century 90ies! We have the c++ standard library meanwhile."}, {"owner": {"reputation": 7239, "user_id": 316117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2be862ebbdf915bd9734ab3e770fceeb?s=128&d=identicon&r=PG", "display_name": "user316117", "link": "https://stackoverflow.com/users/316117/user316117"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853314, "post_id": 33134583, "comment_id": 54080871, "body": "...I said it was old."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853439, "post_id": 33134583, "comment_id": 54080926, "body": "I still don&#39;t believe you really mean that specific implementation mentioned here: <a href=\"https://stackoverflow.com/questions/tagged/stl\">stl</a>. It&#39;s a commonly misused term."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 2, "creation_date": 1444853609, "post_id": 33134583, "comment_id": 54081016, "body": "<i>&quot;C# will get a generic vector class soon&quot;</i> --&gt; oh, it&#39;s already <a href=\"https://msdn.microsoft.com/en-us/library/dn858385.aspx\" rel=\"nofollow noreferrer\">there</a>, but it doesn&#39;t mean the same thing <i>at all</i>. It&#39;s used for SIMD. <code>List&lt;T&gt;</code> is the direct equivalent of <code>std::vector&lt;T&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": true, "score": 3, "last_activity_date": 1444853106, "creation_date": 1444853106, "answer_id": 33134606, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program/33134606#33134606", "title": "Using C# generics when converting from C++ program", "body": "<p>Use <code>List&lt;T&gt;</code> or at least implement <code>IList&lt;T&gt;</code> if you use your own. Those both have the indexer defined.</p>\n\n<p>You could just accept <code>IList&lt;T&gt;</code> and that will even work with arrays out of the box!</p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, IList&lt;Point&gt; basePoints)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "is_accepted": false, "score": 2, "last_activity_date": 1444853610, "last_edit_date": 1444853610, "creation_date": 1444853307, "answer_id": 33134657, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program/33134657#33134657", "title": "Using C# generics when converting from C++ program", "body": "<blockquote>\n  <p>I've also read that C# will get a generic vector class soon, but in\n  the meantime a list is kind of like a vector, so can I use the\n  System.Drawing Point structure and make a generic list such that I can\n  code something like this? ...</p>\n</blockquote>\n\n<p>You can use</p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, List&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>And indeed you can access members using similar say [] syntax. Make sure the point class in C# is similar to the one you use in C++ though. </p>\n\n<p>You can keep in mind also in C# terms the list object will be reference type while the vector (as used in C++) is value type.</p>\n"}], "owner": {"reputation": 7239, "user_id": 316117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2be862ebbdf915bd9734ab3e770fceeb?s=128&d=identicon&r=PG", "display_name": "user316117", "link": "https://stackoverflow.com/users/316117/user316117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 33134606, "answer_count": 2, "score": 0, "last_activity_date": 1444853610, "creation_date": 1444853026, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program", "title": "Using C# generics when converting from C++ program", "body": "<p>I'm converting an old C++ program to C#.   There's a function in the C++ program that looks like this: </p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, vector&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>later on it uses it like this . . . </p>\n\n<pre><code>int x1 = basePoints[0].x;\nint y1 = basePoints[0].y;\nint x2 = basePoints[1].x;\nint y2 = basePoints[1].y;\n</code></pre>\n\n<p><strong>vector</strong> is from the STL.\nI understand that C# generics are sort of like templates but I've never used generics before.   </p>\n\n<p>I've also read that C# will get a generic vector class soon, but in the meantime a list is kind of like a vector, so can I use the System.Drawing Point structure and make a generic list such that I can code something like this? ... </p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, MyGenericList&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>...if so, can I access it with array syntax like in the C++ code, or would I have to use an ArrayList for that?</p>\n"}, {"tags": ["c++", "r", "precision", "rcpp"], "comments": [{"owner": {"reputation": 5507, "user_id": 1601756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b24fe438f491242fcc48fded4e52b633?s=128&d=identicon&r=PG", "display_name": "Jealie", "link": "https://stackoverflow.com/users/1601756/jealie"}, "edited": false, "score": 1, "creation_date": 1444857679, "post_id": 33134318, "comment_id": 54083153, "body": "This is strange behavior indeed, as we would expect the result to be exactly similar. But don&#39;t forget that both R and the <code>double</code> type of Armadillo rely on double-point precision, which is about <code>1e-16</code>: with differences around the &quot;15 or so digits past the decimal point&quot;, you are already flirting with the maximal precision possible with <code>double</code>..."}, {"owner": {"reputation": 61, "user_id": 5334808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnEfs.jpg?s=128&g=1", "display_name": "S Lourens", "link": "https://stackoverflow.com/users/5334808/s-lourens"}, "reply_to_user": {"reputation": 5507, "user_id": 1601756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b24fe438f491242fcc48fded4e52b633?s=128&d=identicon&r=PG", "display_name": "Jealie", "link": "https://stackoverflow.com/users/1601756/jealie"}, "edited": false, "score": 0, "creation_date": 1444866243, "post_id": 33134318, "comment_id": 54086414, "body": "Thank you, Jealie! That is a really good point, I should expect around 16 decimal points in a double, correct? From my reading since your comment, it seems that the rest of the decimals are called &quot;noise&quot;. Is that correct? I am going to just have to keep reading, because I don&#39;t understand what noise means and why this would happen."}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 1, "creation_date": 1444910895, "post_id": 33134318, "comment_id": 54105547, "body": "Please see <a href=\"http://www.hep.by/gnu/r-patched/r-faq/R-FAQ_82.html\" rel=\"nofollow noreferrer\">R FAQ 7.31</a> and the references therein for a start on the issues regarding floating point precision."}, {"owner": {"reputation": 61, "user_id": 5334808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnEfs.jpg?s=128&g=1", "display_name": "S Lourens", "link": "https://stackoverflow.com/users/5334808/s-lourens"}, "edited": false, "score": 0, "creation_date": 1444942635, "post_id": 33134318, "comment_id": 54125630, "body": "Thank you, Dirk! That is definitely very helpful. So my friend Grant Brown gave me some insight here. It turns out that the Matrix Exponential in the Eigen library is what I was calling, and this routine does not exactly match R (or the std::exp()) results. The code in my above edit illustrates this. As a sidenote to you and the other informed, Dirk, I have not yet used ~/.R/Makevars to change the compiler to use -std=c++0x, but I am headed that direction :) I hope I&#39;m even saying that correctly!"}, {"owner": {"reputation": 170794, "user_id": 190277, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dcf9672c1893e4b7c5d86ca1bc2bf88f?s=128&d=identicon&r=PG", "display_name": "Ben Bolker", "link": "https://stackoverflow.com/users/190277/ben-bolker"}, "edited": false, "score": 1, "creation_date": 1444943365, "post_id": 33134318, "comment_id": 54126004, "body": "Just to clarify: were you confusing element-wise exponentation (<code>exp(M)</code> in R) with matrix exponentiation (<code>Matrix::expm(M)</code> in R) ?"}, {"owner": {"reputation": 61, "user_id": 5334808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnEfs.jpg?s=128&g=1", "display_name": "S Lourens", "link": "https://stackoverflow.com/users/5334808/s-lourens"}, "edited": false, "score": 0, "creation_date": 1444951883, "post_id": 33134318, "comment_id": 54129292, "body": "Hi Ben! I actually thought I was able to apply Rcppsugar via using .array() on a MatrixXd or VectorXd object. I still don&#39;t know if there is a way to use Rcppsugar on a MatrixXd or VectorXd, similar to how I might do this for a NumericVector. But either way, unaryExpr seems to get the job done."}], "owner": {"reputation": 61, "user_id": 5334808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnEfs.jpg?s=128&g=1", "display_name": "S Lourens", "link": "https://stackoverflow.com/users/5334808/s-lourens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1092, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1444952401, "creation_date": 1444852094, "last_edit_date": 1444952401, "question_id": 33134318, "link": "https://stackoverflow.com/questions/33134318/reconciling-exponential-function-results-in-c-rcpp-and-r", "title": "Reconciling exponential function results in C++ (Rcpp) and R", "body": "<p>I am working on speeding up software from my dissertation by utilizing Rcpp and RcppEigen. I have been very impressed with Rcpp and RcppEigen as the speed of my software has increased by upwards of 100 times. This is quite exciting to me because my R code had been parallelized using snow/doSNOW and the foreach package, so the actual speed gain is probably somewhere around 400x. However, the last time I attempeted to run my program in entirety to assess overall speed gains after translating some gradient/hessian calculations into Cpp, I see that the new Hessian matrix calculated using my C++ code differs from the old, much slower version which was calculated strictly in R. I had been very careful to check my results line by line, slowly increasing the complexity of my calculations while assuring the results were identical in R and C++. I realize now that I was only checking the first 11 or so digits.</p>\n\n<p>The code for optimization has been very robust in R, but was dreadfully slow. All of the calculations in C++ have been checked and were virtually identical to previous versions in R (this was checked to 11 digits via specifying options(digits = 11) at the beginning of each session). However, deviations in long vectors or matrices representing particular quantities begin at 15 or so digits past the decimal point in some cells/elements. These differences become problematic when using matrix multiplication and summing over risk sets, as a small difference can lead to a large error (is it an error?) in the overall precision of the final estimate.</p>\n\n<p>After looking back over my code and finding the first point of deviation in results between R and C++, I observed that this first occurs after taking the exponential of a matrix or vector in my Rcpp code. This led me to work out the examples below, which I hope illustrates the issue I am seeing. Has anyone observed this before, and is there a way to utilize the R exponential function within C++ or change the routine used within C++?</p>\n\n<pre><code>## A small example to illustrate issues with Rcppsugar exponentiate function\n\nlibrary(RcppEigen)\nlibrary(inline) \n\nRcppsugarexpC &lt;-\n\"\nusing Eigen::MatrixXd;\ntypedef Eigen::Map&lt;Eigen::MatrixXd&gt; MapMatd;\nMapMatd A(as&lt;MapMatd&gt;(AA));\nMatrixXd B = exp(A.array());\nreturn wrap(B);\n\"\n\nRcppexpC &lt;-\n\"\nusing Eigen::MatrixXd;\nusing Eigen::VectorXd;\ntypedef Eigen::Map&lt;Eigen::MatrixXd&gt; MapMatd;\nMapMatd A(as&lt;MapMatd&gt;(AA));\nMatrixXd B = A.array().exp().matrix();\nreturn wrap(B);\n\"\n\nRcppsugarexp &lt;- cxxfunction(signature(AA = \"NumericMatrix\"), RcppsugarexpC,     plugin = \"RcppEigen\")\nRcppexp &lt;- cxxfunction(signature(AA = \"NumericMatrix\"), RcppexpC, plugin =   \"RcppEigen\")\n\nmat &lt;- matrix(seq(-5.25, 10.25, by = 1), ncol = 4, nrow = 4)\n\nRcppsugarC &lt;- Rcppsugarexp(mat)\nRcppexpC &lt;- Rcppexp(mat)\nexp &lt;- exp(mat)\n</code></pre>\n\n<p>I then tested whether these exponentiated matrices were actually equal beyond the print standard (default is 7) that R uses via:</p>\n\n<pre><code>exp == RcppexpC   ## inequalities in 3 cells\nexp == RcppsugarC ## inequalities in 3 cells\nRcppsugarC == RcppexpC ## these are equal!\nsprintf(\"%.22f\", exp)\n</code></pre>\n\n<p>Please forgive me if this is a dense question - my computer science skills are not as strong as they should be, but I am eager to learn how to do better. I appreciate any and all help or advice that can be given me. Special thanks to the creators of Rcpp, and all of the wonderful moderators/contributors at this site - your previous answers have saved me from posting questions on here well over a hundred times!</p>\n\n<p>Edit:\nIt turns out that I didn't know what I was doing. I wanted to apply Rcppsugar to the MatrixXd or VectorXd, which I was attempting by using the .array() method, however calling exp(A.array()) or A.exp() computes what is referred to as the matrix exponential, rather than computing exp(A_ij) element by element.  My friend pointed this out to me when he worked out a simple example using std::exp() on each element in a nested for loop and found that this result was identical to what was reported in R. I thus needed to use the .unaryExpr functionality of eigen, which meant changing the compiler settings to -std=c++0x. I was able to do this by specifying the following in R:</p>\n\n<pre><code>settings$env$PKG_CXXFLAGS='-std=c++0x'\n</code></pre>\n\n<p>I then made a file called Rcpptesting.cpp which is below:</p>\n\n<pre><code>#include &lt;RcppEigen.h&gt;\n\n// [[Rcpp::depends(RcppEigen)]]\n\nusing Eigen::Map;                   // 'maps' rather than copies \nusing Eigen::MatrixXd;                  // variable size matrix, double precision\nusing Eigen::VectorXd;                  // variable size vector, double precision\n\n// [[Rcpp::export]]\nMatrixXd expCorrect(Map&lt;MatrixXd&gt; M) {\n  MatrixXd M2 = M.unaryExpr([](double e){return(std::exp(e));});\n  return M2;\n}\n</code></pre>\n\n<p>After this, I was able to call this function in with sourceCpp() in R as follows: (note that I used the option verbose = TRUE and rebuild = TRUE because this seems to give me info regarding what the settings are - I was trying to make sure that -std=c++0x was actually being used)</p>\n\n<pre><code>sourceCpp(\"~/testingRcpp.cpp\", verbose = TRUE, rebuild = TRUE)\n</code></pre>\n\n<p>Then the following R code worked like a charm:</p>\n\n<pre><code>mat &lt;- matrix(seq(-5.25, 10.25, by = 1), ncol = 4, nrow = 4)\nexp(mat) == expCorrect(mat)\n</code></pre>\n\n<p>Pretty cool!</p>\n"}, {"tags": ["python", "c++", "python-3.x", "windows-7-x64", "python-module"], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 2979783, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/61d97aac0e55b673773b91562a4f00b2?s=128&d=identicon&r=PG&f=1", "display_name": "RFlack", "link": "https://stackoverflow.com/users/2979783/rflack"}, "edited": false, "score": 0, "creation_date": 1444852538, "post_id": 33134186, "comment_id": 54080375, "body": "Yes those are what I tried to install, well the 1st 2.  After getting the identical error on the 1st two (see the Qu) I gave up."}, {"owner": {"reputation": 376, "user_id": 2979783, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/61d97aac0e55b673773b91562a4f00b2?s=128&d=identicon&r=PG&f=1", "display_name": "RFlack", "link": "https://stackoverflow.com/users/2979783/rflack"}, "edited": false, "score": 0, "creation_date": 1444898979, "post_id": 33134186, "comment_id": 54097616, "body": "ok so now i must confess my ignorance, i thought thats what whl files were , some form of packaged object file (and other info probably )."}], "tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1444851675, "creation_date": 1444851675, "answer_id": 33134186, "question_id": 33134014, "link": "https://stackoverflow.com/questions/33134014/how-to-install-python-levenshtein-or-other-c-c-packages-on-win-7-64-bit/33134186#33134186", "title": "How to install python-Levenshtein or other C/C++ packages on Win 7 64 bit", "body": "<p>I have win10 64 bit python 3.5 I have installed python-Levenshtein (0.12.0) using Visual studio 14. But there are compiled binaries already.</p>\n\n<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein\" rel=\"nofollow\">python-levensthtein</a></p>\n"}, {"tags": [], "owner": {"reputation": 376, "user_id": 2979783, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/61d97aac0e55b673773b91562a4f00b2?s=128&d=identicon&r=PG&f=1", "display_name": "RFlack", "link": "https://stackoverflow.com/users/2979783/rflack"}, "is_accepted": false, "score": 0, "last_activity_date": 1444976212, "creation_date": 1444976212, "answer_id": 33163704, "question_id": 33134014, "link": "https://stackoverflow.com/questions/33134014/how-to-install-python-levenshtein-or-other-c-c-packages-on-win-7-64-bit/33163704#33163704", "title": "How to install python-Levenshtein or other C/C++ packages on Win 7 64 bit", "body": "<p>(This answer is for those who like me need basic step-by-step. While I found a number of bits of the puzzle in other answers and pip / wheel documentation, I didn't find a complete step-by-step.  It uses 'wheels' which based on this experience seems to be simpler or more robust than the other methods.).</p>\n\n<p>While I still don't know how to fix the C++ issue raised by simple pip install, I was able to do it using wheel. \nWhat I eventually figured out is how to parse the file names in <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs\" rel=\"nofollow\">Python wheel object libs</a>.   (The Fine Manual glossed over this).   The -cp<em>nn</em>- part of the name is the Python version number - cp33 for Python 3.3.   <em>win32</em> was pretty clear so I had figured out <em>win amd64</em> was for 64 bit systems though I've no idea what <em>amd</em> means.</p>\n\n<p>So for Python 3.3 on a Windows 64 bit system the file I needed was<br> <em>python Levenshtein-0.12.0-cp33-none-win amd64.whl</em><br>  [I still don't know the significance of <em>none</em>, the Fine Manual is silent on that too.  Perhaps it means nothing...]</p>\n\n<p>Step by step the process was:</p>\n\n<ul>\n<li>From <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein\" rel=\"nofollow\">python Levenshtein wheels</a> download the relevant .whl <br>(<em>python_Levenshtein-0.12.0-cp33-none-win_amd64.whl</em> in my case)</li>\n<li>Create a <em>wheels</em> directory (or whatever name you like) under the Python33 directory (<em>Python33/wheels</em>) </li>\n<li>copy or move the .whl file from download folder to the wheels folder.</li>\n<li>Create a .bat file in Python33 directory, eg ...<em>Python33/piplev.bat</em> with the following lines (assuming <em>\\Python33</em> is the root dir for Python) </li>\n</ul>\n\n<blockquote>\n  <p>cd \\Python33  <br></p>\n  \n  <p>pip install --use-wheel --no-index --find-links=wheels\n  wheels/python_Levenshtein-0.12.0-cp33-none-win_amd64.whl</p>\n</blockquote>\n\n<ul>\n<li><p>double click on the .bat file.</p></li>\n<li><p>You should get output like this in the cmd window:</p></li>\n</ul>\n\n<blockquote>\n  <p>C:\\Python33><br><br> C:\\Python33>pip install --use-wheel --no-index\n  --find-wheels wheels/python_Levenshtein-0.12.0-cp33-none-win_amd64.whl<br><br>Ignoring\n  indexes: <a href=\"https://pypi.python.org/simple\" rel=\"nofollow\">https://pypi.python.org/simple</a><br><br>Processing\n  c:\\python33\\wheels\\python_levenshtein-0.12.0-cp33-none-win_amd64.\n  whl<br><br>Installing collected packages: python-Levenshtein<br><br>\n  Successfully installed python-Levenshtein-0.12.0</p>\n</blockquote>\n\n<p>Actually since I will likely want to install other packages with C++ I components, I made a generalised bat file <em>pipwheel.bat</em>:</p>\n\n<blockquote>\n  <p>cd \\Python33<br></p>\n  \n  <p>pip install --use-wheel --no-index --find-links=wheels wheels/%1.whl</p>\n</blockquote>\n\n<p>and then instead of double clicking the bat file I just open a cmd: window and type</p>\n\n<blockquote>\n  <p>pipwheel package-name</p>\n</blockquote>\n\n<p>(The root directory for Python - Python33 should by in the windows path, if it isnt you should first navigate to the Python33 directory)</p>\n"}], "owner": {"reputation": 376, "user_id": 2979783, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/61d97aac0e55b673773b91562a4f00b2?s=128&d=identicon&r=PG&f=1", "display_name": "RFlack", "link": "https://stackoverflow.com/users/2979783/rflack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2295, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1444992030, "creation_date": 1444851070, "last_edit_date": 1444992030, "question_id": 33134014, "link": "https://stackoverflow.com/questions/33134014/how-to-install-python-levenshtein-or-other-c-c-packages-on-win-7-64-bit", "title": "How to install python-Levenshtein or other C/C++ packages on Win 7 64 bit", "body": "<p>This is driving me completely nuts. I have looked at several answers to questions relating to this, but when I try the solutions non works.<br>\nFirst I tried a simple\n<em>pip install python-Levenshtein</em>.   This \nthis produced a lot of spam ending with <em>Unable to find vcvarsall.bat</em>Searching on that suggested I need to install Visual C++ 10.0; but when I tried that it errored out as apparently I already have a newer version installed. \nThen I found answers based on something called 'wheel'. This page <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#python-levenshtein\" rel=\"nofollow\">python libs</a> lists 8 .whl files for this module with NO explanation as to what each one is for.  I tried the first two and got the same response on each: <em>...whl  is not a supported wheel on this platform</em></p>\n\n<p>What I need is simple directions, that the proverbial small child could understand, as to how to install this module.</p>\n\n<p>I am running Python 3.3, on a Win 7 64 bit machine. (I also have Python 2.7 and 2.4 installed but those are for other projects).  I do not use C++ directly for anything so have no knowledge of how its installed on my machine, I imagine it was either part of the OS or came with Python or some other package.  It seems to me that a Python module that relies on a C++ runtime would require the user to have any knowledge of C++ and would be completely 'self-contained'.  So, what am I missing?</p>\n"}, {"tags": ["c#", "c++", "windows", "named-pipes"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "edited": false, "score": 0, "creation_date": 1444852296, "post_id": 33134292, "comment_id": 54080242, "body": "Ok you solved the connection problem but I get this now, prolly not interpreting it correctly I think :S <a href=\"https://i.gyazo.com/77ec6b69d14aec6ad7a0cc3f5168f8fe.png\" rel=\"nofollow noreferrer\">i.gyazo.com/77ec6b69d14aec6ad7a0cc3f5168f8fe.png</a> where the 0xA0 is the value of the HANDLE hPipe"}, {"owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "edited": false, "score": 0, "creation_date": 1444852422, "post_id": 33134292, "comment_id": 54080314, "body": "@HyunMi I noticed you use <code>TCHAR</code> in your C++ logic. Does your application target Unicode characters?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "edited": false, "score": 0, "creation_date": 1444852494, "post_id": 33134292, "comment_id": 54080346, "body": "Yes, I just forgot to change it in my test server, :S sorry"}, {"owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "edited": false, "score": 1, "creation_date": 1444852613, "post_id": 33134292, "comment_id": 54080424, "body": "@HyunMi If you&#39;re sending Unicode characters across the pipe, you may need to change your font in Command Prompt&#39;s settings in order to view them. Check this out for more details: <a href=\"http://stackoverflow.com/questions/22578567/passing-a-stringstream-to-console-output-in-unicode-project\" title=\"passing a stringstream to console output in unicode project\">stackoverflow.com/questions/22578567/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "is_accepted": true, "score": 2, "last_activity_date": 1444872890, "last_edit_date": 1495535249, "creation_date": 1444852013, "answer_id": 33134292, "question_id": 33133993, "link": "https://stackoverflow.com/questions/33133993/named-pipe-client-c-with-c-server/33134292#33134292", "title": "Named pipe client (c++) with c# server", "body": "<p>I know why.</p>\n\n<ol>\n<li><p>When creating your pipe in C#, use just <code>\"TestPipe\"</code> as the name of the pipe, don't include <code>\\\\.\\pipe\\</code> as a prefix for this pipe's name.</p></li>\n<li><p>From C++, use the full path to the pipe: <code>\"\\\\.\\pipe\\TestPipe\"</code>. Your C++ logic doesn't need a change for this, as you have defined it just fine: <code>L\"\\\\\\\\.\\\\pipe\\\\TestPipe\"</code></p></li>\n</ol>\n\n<p><a href=\"https://stackoverflow.com/questions/4961164/how-do-i-make-named-pipes-work-between-c-and-net\">This may help, as well</a>. Funny enough, I ran into this three years ago or more, and now its all coming back to me.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4902, "favorite_count": 2, "accepted_answer_id": 33134292, "answer_count": 1, "score": 1, "last_activity_date": 1444872890, "creation_date": 1444850999, "last_edit_date": 1444851246, "question_id": 33133993, "link": "https://stackoverflow.com/questions/33133993/named-pipe-client-c-with-c-server", "title": "Named pipe client (c++) with c# server", "body": "<p>What I want to do is have a named pipe client written in c++ to be able to communicate with a named pipe server written in C#. I have been unable to accomplish this so far.</p>\n\n<p>CreateFile gives me an invalid handle value, GetLastError returns 2.</p>\n\n<p>Here is the c++ part (client)</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;windows.h&gt; \n#include &lt;stdio.h&gt;\n#include &lt;conio.h&gt;\n#include &lt;tchar.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n#define PIPE_NAME L\"\\\\\\\\.\\\\pipe\\\\TestPipe\"\n#define BUFF_SIZE 512\n\nint main()\n{\n    HANDLE hPipe;\n\n    hPipe = CreateFile(PIPE_NAME, GENERIC_READ, 0, nullptr, OPEN_EXISTING, 0, nullptr);\n\n    if (hPipe == INVALID_HANDLE_VALUE)\n    {\n        cout &lt;&lt; \"INVALID_HANDLE_VALUE\" &lt;&lt; GetLastError() &lt;&lt; endl;\n        cin.get();\n        return -1;\n    }\n\n    cout &lt;&lt; hPipe &lt;&lt; endl;\n\n    DWORD mode = PIPE_READMODE_MESSAGE;\n\n    SetNamedPipeHandleState(hPipe, &amp;mode, nullptr, nullptr);\n\n    bool success = false;\n    DWORD read;\n\n    while(true)\n    {\n        TCHAR chBuff[BUFF_SIZE];\n        do\n        {\n            success = ReadFile(hPipe, chBuff, BUFF_SIZE*sizeof(TCHAR), &amp;read, nullptr);\n        } while (!success);\n\n        _tprintf(TEXT(\"\\\"%s\\\"\\n\"), chBuff);\n    }\n}\n</code></pre>\n\n<p>And here is the server</p>\n\n<pre><code>using System;\nusing System.IO.Pipes;\nusing System.Text;\n\nnamespace BasicServer\n{\n\n    public static class Program\n    {\n        private static NamedPipeServerStream _server;\n\n        static void Main(string[] args)\n        {\n            _server = new NamedPipeServerStream(@\"\\\\.\\pipe\\TestPipe\", PipeDirection.Out, 1, PipeTransmissionMode.Message);\n            _server.WaitForConnection();\n            Console.WriteLine(_server.IsConnected);\n            Console.WriteLine(\"Client connected\\n Sending message\");\n            byte[] buff = Encoding.UTF8.GetBytes(\"Test message\");\n            _server.Write(buff, 0, buff.Length);\n            while (true)\n            {\n                Console.ReadKey();\n                Console.Write(\"\\b \\b\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have been able to connect with a client written in C# but the c++ -> C# communication should be possible as far as I know.</p>\n\n<p>Here was my test client I wrote in c#, which works</p>\n\n<pre><code>using System;\nusing System.IO.Pipes;\nusing System.Text;\n\nnamespace BasicClientC\n{\n\n    public class Program\n    {\n        private static NamedPipeClientStream client;\n\n        static void Main(string[] args)\n        {\n            client = new NamedPipeClientStream(@\".\", @\"\\\\.\\pipe\\TestPipe\", PipeDirection.In);\n            client.Connect();\n            byte[] buffer = new byte[512];\n            client.Read(buffer, 0, 512);\n            Console.WriteLine(Encoding.UTF8.GetString(buffer));\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n\n<p>So where is my mistake?</p>\n"}, {"tags": ["c++", "opencv", "video"], "comments": [{"owner": {"reputation": 535, "user_id": 3046305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/871d3515369f20235a480b90f5c5e153?s=128&d=identicon&r=PG&f=1", "display_name": "rhcpfan", "link": "https://stackoverflow.com/users/3046305/rhcpfan"}, "edited": false, "score": 0, "creation_date": 1444925554, "post_id": 33133982, "comment_id": 54116302, "body": "Try calling stream1.release() if the stream is successfully opened (make sure you call it appropriately for every case in your use-case statement)"}, {"owner": {"reputation": 11, "user_id": 5446534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gCDdAALNiCY/AAAAAAAAAAI/AAAAAAAACoU/H2t2Vfbvaaw/photo.jpg?sz=128", "display_name": "Agnieszka Job", "link": "https://stackoverflow.com/users/5446534/agnieszka-job"}, "reply_to_user": {"reputation": 535, "user_id": 3046305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/871d3515369f20235a480b90f5c5e153?s=128&d=identicon&r=PG&f=1", "display_name": "rhcpfan", "link": "https://stackoverflow.com/users/3046305/rhcpfan"}, "edited": false, "score": 0, "creation_date": 1445175048, "post_id": 33133982, "comment_id": 54201879, "body": "I think, the problem would be, because streaming isn&#39;t close and I can&#39;t open new streaming on the same camera. So, how can I close streaming without stop main program?"}, {"owner": {"reputation": 535, "user_id": 3046305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/871d3515369f20235a480b90f5c5e153?s=128&d=identicon&r=PG&f=1", "display_name": "rhcpfan", "link": "https://stackoverflow.com/users/3046305/rhcpfan"}, "edited": false, "score": 0, "creation_date": 1445202072, "post_id": 33133982, "comment_id": 54211082, "body": "Just call the release method of your stream object (stream1.release())"}, {"owner": {"reputation": 11, "user_id": 5446534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gCDdAALNiCY/AAAAAAAAAAI/AAAAAAAACoU/H2t2Vfbvaaw/photo.jpg?sz=128", "display_name": "Agnieszka Job", "link": "https://stackoverflow.com/users/5446534/agnieszka-job"}, "reply_to_user": {"reputation": 535, "user_id": 3046305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/871d3515369f20235a480b90f5c5e153?s=128&d=identicon&r=PG&f=1", "display_name": "rhcpfan", "link": "https://stackoverflow.com/users/3046305/rhcpfan"}, "edited": false, "score": 0, "creation_date": 1445977095, "post_id": 33133982, "comment_id": 54549207, "body": "It doesn&#39;t work, but I change program to not open videocapture second time."}], "owner": {"reputation": 11, "user_id": 5446534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gCDdAALNiCY/AAAAAAAAAAI/AAAAAAAACoU/H2t2Vfbvaaw/photo.jpg?sz=128", "display_name": "Agnieszka Job", "link": "https://stackoverflow.com/users/5446534/agnieszka-job"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444862087, "creation_date": 1444850968, "last_edit_date": 1444862087, "question_id": 33133982, "link": "https://stackoverflow.com/questions/33133982/how-to-open-second-video-streaming-on-the-same-program-opencv", "title": "How to open second video streaming on the same program opencv", "body": "<p>How can I open second video streaming on the same program with the same camera.\nI want record a video, stop these and do some think with movie, after these I want record new video on the same camera without stopping the program. Is it possible? When I use function to streaming and stop this, all works correct if I want use this function second time I have error:</p>\n\n<blockquote>\n  <p>VIDEOIO ERROR: V4L2: Pixel format of incoming image is unsupported by\n  OpenCV</p>\n  \n  <p>VIDIOC_G_FMT: Invalid file descriptor</p>\n  \n  <p>VIDIOC_G_FMT: Invalid file descriptor</p>\n  \n  <p>VIDIOC_STREAMON: Invalid file descriptor</p>\n</blockquote>\n\n<p>I write on Ubuntu 14.04 LTS in c++ and use OpenCV 3.0.0</p>\n\n<p>This is function to video streaming</p>\n\n<pre><code>bool videoStream(){\n\n    VideoCapture stream1(0);\n\n    if (!stream1.isOpened()) { \n        cout &lt;&lt; \"cannot open camera\";\n        exit(-1);\n        return false;\n    }\n\n    double dWidth = stream1.get(CV_CAP_PROP_FRAME_WIDTH);\n    double dHeight = stream1.get(CV_CAP_PROP_FRAME_HEIGHT);\n    cout &lt;&lt; \"Frame size : \" &lt;&lt; dWidth &lt;&lt; \" x \" &lt;&lt; dHeight &lt;&lt; endl;\n\n    namedWindow(\"cam\", CV_WINDOW_AUTOSIZE);\n\n    cvStartWindowThread();\n    signal(SIGINT, signalHandler); //catch Ctrl+C\n    int n = 0;\n    char filename[200];\n\n    //unconditional loop\n    while (true) {\n        Mat frame;\n        bool bSuccess = stream1.read(frame);\n\n        if (!bSuccess) {\n            cout &lt;&lt; \"Cannot read a frame from video stream\" &lt;&lt; endl;\n            break;\n            destroyWindow(\"cam\");\n            return false;\n        }\n\n\n        if(!frame.empty()){\n            imshow(\"cam\", frame);\n        }\n\n        char key = (char)waitKey(30); \n        switch (key) {\n            case 'q':\n            case 'Q':\n            case 27: return false;\n            case ' ': //Save an image\n                sprintf(filename,\"filename%.3d.jpg\",n++);\n                imwrite(filename,frame);\n                cout &lt;&lt; \"Saved \" &lt;&lt; filename &lt;&lt; endl;\n                if(n==10){\n                    destroyWindow(\"cam\");\n                    return true;\n                }\n                break;\n            default: break;\n        }\n        if(flag==1){\n            flag=0;\n            destroyWindow(\"cam\");\n            return false;\n        }\n    }\n    destroyWindow(\"cam\");\n    return true;\n}\n</code></pre>\n"}, {"tags": ["c++", "static-members"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1444850473, "post_id": 33133776, "comment_id": 54079200, "body": "Some guidance: use <code>std::vector</code> instead of raw arrays and pointers; use <code>std::string</code> instead of arrays of <code>char</code>; consider changing the naming conventions so that client code reads nicely (using just <code>day()</code>) instead of implementation code that reads nicely."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1444850502, "post_id": 33133776, "comment_id": 54079224, "body": "For Code That Does Not Work, do present a complete but minimal example that readers can try out."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 1, "creation_date": 1444850545, "post_id": 33133776, "comment_id": 54079255, "body": "@Noman Have you tried working with multiple instances of <code>cDate</code> at once?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1444850729, "post_id": 33133776, "comment_id": 54079364, "body": "Helpful reading material: <a href=\"http://en.cppreference.com/w/cpp/language/static\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/static</a>."}, {"owner": {"reputation": 1, "user_id": 5433968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZSnn.jpg?s=128&g=1", "display_name": "Noman", "link": "https://stackoverflow.com/users/5433968/noman"}, "edited": false, "score": 0, "creation_date": 1444850824, "post_id": 33133776, "comment_id": 54079412, "body": "I have implementation file which contain the implementation of all the functions but my question is just about static data members that if i declared them as public or may be private there is no effect on my output. it remains same why?"}, {"owner": {"reputation": 2918, "user_id": 448327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23886b970c2990ecf6e7dc93bec84b1?s=128&d=identicon&r=PG", "display_name": "mnencia", "link": "https://stackoverflow.com/users/448327/mnencia"}, "edited": false, "score": 0, "creation_date": 1444857493, "post_id": 33133776, "comment_id": 54083067, "body": "You didn&#39;t show any code that does any output. Please show that code or rewrite the question without referring to it."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5433968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZSnn.jpg?s=128&g=1", "display_name": "Noman", "link": "https://stackoverflow.com/users/5433968/noman"}, "edited": false, "score": 0, "creation_date": 1444851606, "post_id": 33133988, "comment_id": 54079855, "body": "means if i declare them as public or may be private there is no effect. because static data are class variables so all members of class access them or there is same copy for all of object."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "reply_to_user": {"reputation": 1, "user_id": 5433968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZSnn.jpg?s=128&g=1", "display_name": "Noman", "link": "https://stackoverflow.com/users/5433968/noman"}, "edited": false, "score": 0, "creation_date": 1444858758, "post_id": 33133988, "comment_id": 54083658, "body": "@Noman - There is still an &#39;effect&#39; of declaring public or private ... to any code which is not part of an ABC object."}], "tags": [], "owner": {"reputation": 39, "user_id": 2110899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de6285d6754b5670b9618ec8c6566d0?s=128&d=identicon&r=PG", "display_name": "animesh suman", "link": "https://stackoverflow.com/users/2110899/animesh-suman"}, "is_accepted": false, "score": 0, "last_activity_date": 1444850981, "creation_date": 1444850981, "answer_id": 33133988, "question_id": 33133776, "link": "https://stackoverflow.com/questions/33133776/about-static-data-members/33133988#33133988", "title": "About static data members.", "body": "<p>static data are class variable not instance variable;it has nothing to do with modifier</p>\n\n<p>For example </p>\n\n<pre><code>class ABC {\nstatic int a;\nint b;\n}\n</code></pre>\n\n<p>now create two object of class A and assign value </p>\n\n<p>ABC a1= new ABC();\n ABC b1 = new ABC();</p>\n\n<p>so in this case both a1 and b1 have same copy of 'a' because it belongs to class and sharable , so any change by a1 to 'a' variable will reflect change in b1 object also and vice verse.</p>\n"}, {"tags": [], "owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": false, "score": 0, "last_activity_date": 1444851111, "creation_date": 1444851111, "answer_id": 33134027, "question_id": 33133776, "link": "https://stackoverflow.com/questions/33133776/about-static-data-members/33134027#33134027", "title": "About static data members.", "body": "<p>When you declare a data member of a class as static it means that no matter how many objects of the class are created, there is only one copy of the static member. It will be shared by all the objects of the class.</p>\n"}], "owner": {"reputation": 1, "user_id": 5433968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZSnn.jpg?s=128&g=1", "display_name": "Noman", "link": "https://stackoverflow.com/users/5433968/noman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1444851111, "creation_date": 1444850191, "question_id": 33133776, "link": "https://stackoverflow.com/questions/33133776/about-static-data-members", "title": "About static data members.", "body": "<p>This is my header file but I don't understand the functionality of static data members if I declared them private or public the output remains same. How static data members work.  </p>\n\n<pre><code>class cDate        \n\n{\n\nprivate:\n\nint day;       \nint month;  \nint year;   \nbool valid;   \nbool validate();   \nbool IsLeapYear() const;   \n**static char strMON[12][4];   \nstatic char strMONTH[12][10];**\n\npublic:   \n\ncDate(int d = 1, int m = 1, int y = 2000);\ncDate(cDate &amp; src);\n~cDate();\nvoid print(int option) const;\nvoid ReadFromKB();\n\n\nvoid setDay(int d);\nvoid setMonth(int m);\nvoid setYear(int y);\nvoid setDate(int d, int m, int y);\n\n\nint getDay() const;\nint getMonth() const;\nint getYear() const;\n};\n</code></pre>\n"}, {"tags": ["c++", "winapi", "button", "popup"], "answers": [{"comments": [{"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1444850935, "post_id": 33133938, "comment_id": 54079475, "body": "To expand on this answer: this is because the default behavior of <code>WM_CLOSE</code>, which is sent when you click the window&#39;s close button, is to destroy the window."}, {"owner": {"reputation": 45, "user_id": 5446594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/832938410158455/picture?type=large", "display_name": "Trevin Corkery", "link": "https://stackoverflow.com/users/5446594/trevin-corkery"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1444850987, "post_id": 33133938, "comment_id": 54079502, "body": "@andlabs That would make sense, is there a way I can make it so it hides instead of being destroyed? (Changing the default behavior)"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1444851133, "post_id": 33133938, "comment_id": 54079586, "body": "<code>CloseWindow()</code> minimizes a window (confusingly). You want <code>ShowWindow(hwnd2, SW_HIDE)</code>. Do this in <code>WM_CLOSE</code>, and <b>don&#39;t call DefWindowProc() there</b>."}, {"owner": {"reputation": 45, "user_id": 5446594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/832938410158455/picture?type=large", "display_name": "Trevin Corkery", "link": "https://stackoverflow.com/users/5446594/trevin-corkery"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1444851436, "post_id": 33133938, "comment_id": 54079756, "body": "@andlabs, Cheers and hth. - Alf   I want to thank you both to take your time in helping me with this problem. I have gotten it fixed, I appreciate all the feedback immensely."}], "tags": [], "owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": true, "score": 0, "last_activity_date": 1444851088, "last_edit_date": 1444851088, "creation_date": 1444850809, "answer_id": 33133938, "question_id": 33133775, "link": "https://stackoverflow.com/questions/33133775/c-winapi-popup-window-will-open-once-but-wont-re-open/33133938#33133938", "title": "C++ Winapi, Popup window will open once but won&#39;t re-open", "body": "<p>When you close the popup it's not just hidden. It's destroyed. You can handle <code>WM_CLOSE</code> if you want a different behavior (<code>DefWindowProc</code> just calls <code>DestroyWindow</code>).</p>\n"}], "owner": {"reputation": 45, "user_id": 5446594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/832938410158455/picture?type=large", "display_name": "Trevin Corkery", "link": "https://stackoverflow.com/users/5446594/trevin-corkery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 33133938, "answer_count": 1, "score": 0, "last_activity_date": 1444851088, "creation_date": 1444850181, "question_id": 33133775, "link": "https://stackoverflow.com/questions/33133775/c-winapi-popup-window-will-open-once-but-wont-re-open", "title": "C++ Winapi, Popup window will open once but won&#39;t re-open", "body": "<p>I am using Windows, Visual Studio 2015. The problem I am having is I have a button that will open a child pop-up window, it does it fine the first time but once you close the popup window and click the button again it doesn't re-open.</p>\n\n<p>I have hwnd2 a global variable because currently I don't know how to access the variable in another function unless it's global. Just letting you know before you guys are like \"eww, global variables\"</p>\n\n<p>There may be something completely wrong but searching the internet constantly got me this far and no one was really specific/in depth.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"Win32Project1.h\"\n#include &lt;Windows.h&gt;\n\n#define IDB_CLICK_ME 200\nHWND hwnd2;\nLRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM);\nLRESULT CALLBACK WndProc2(HWND hwnd, UINT message, WPARAM wparam, LPARAM lparam);\n\nint WINAPI WinMain (HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR szCmdLine , int iCmdShow)\n{\n    wchar_t wzAppName[] = L\"GameLauncher\";\n    wchar_t wzAppName2[] = L\"GameTest\";\n    MSG msg;\n    HWND hwnd;\n    WNDCLASS wndclass, wndclass2;\n    wndclass.lpfnWndProc = WndProc;\n    wndclass.cbClsExtra = 0;\n    wndclass.cbWndExtra = 0;\n    wndclass.hbrBackground = (HBRUSH)GetStockObject(WHITE_BRUSH);\n    wndclass.hCursor = LoadCursor(NULL, IDC_ARROW);\n    wndclass.hIcon = LoadIcon(NULL, IDI_APPLICATION);\n    wndclass.hInstance = hInstance;\n    wndclass.lpszClassName = wzAppName;\n    wndclass.lpszMenuName = NULL;\n    wndclass.style = CS_HREDRAW | CS_VREDRAW;\n\n    wndclass2.lpfnWndProc = WndProc2;\n    wndclass2.cbClsExtra = 0;\n    wndclass2.cbWndExtra = 0;\n    wndclass2.hbrBackground = (HBRUSH)GetStockObject(WHITE_BRUSH);\n    wndclass2.hCursor = LoadCursor(NULL, IDC_ARROW);\n    wndclass2.hIcon = LoadIcon(NULL, IDI_APPLICATION);\n    wndclass2.hInstance = hInstance;\n    wndclass2.lpszClassName = wzAppName2;\n    wndclass2.lpszMenuName = NULL;\n    wndclass2.style = CS_HREDRAW | CS_VREDRAW;\n\n\n    RegisterClass(&amp;wndclass);\n    RegisterClass(&amp;wndclass2);\n\n    hwnd = CreateWindow(wzAppName, L\"Tutorial\", WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, hInstance, NULL);\n\n    hwnd2 = CreateWindow(wzAppName2, L\"Options\", WS_POPUPWINDOW | WS_CAPTION, 100, 100, 500, 300, hwnd, NULL, NULL, NULL);\n\n    ShowWindow(hwnd, iCmdShow);\n    UpdateWindow(hwnd);\n\n    while (GetMessage(&amp;msg, NULL, 0, 0))\n    {\n        TranslateMessage(&amp;msg);\n        DispatchMessage(&amp;msg);\n    }\n\n}\n\nLRESULT CALLBACK WndProc(HWND hwnd, UINT message, WPARAM wparam, LPARAM lparam)\n{\n    HDC hdc;\n    PAINTSTRUCT ps;\n    RECT rect;\n\n    switch (message)\n    {\n        case WM_CREATE:\n            CreateWindow(L\"button\", L\"CLICK ME\", WS_CHILD | WS_VISIBLE, 5, 5, 200, 25, hwnd, (HMENU) IDB_CLICK_ME, NULL, NULL);\n            break;\n\n        case WM_PAINT:\n            hdc = BeginPaint(hwnd, &amp;ps);\n            GetClientRect(hwnd, &amp;rect);\n            DrawText(hdc, L\"Hello\", -1, &amp;rect, DT_SINGLELINE | DT_CENTER | DT_VCENTER);\n            EndPaint(hwnd, &amp;ps);\n            break;\n\n        case WM_COMMAND:\n            switch (LOWORD(wparam));\n            {\n                case IDB_CLICK_ME:\n                    ShowWindow(hwnd2, 1);\n                    UpdateWindow(hwnd2);\n                    break;\n\n            }\n\n        break;\n\n        case WM_DESTROY:\n            PostQuitMessage(0);\n            break;\n\n        default:\n            return DefWindowProc(hwnd, message, wparam, lparam);\n    }\n\n    return 0;\n}\n\nLRESULT CALLBACK WndProc2(HWND hwnd, UINT message, WPARAM wparam, LPARAM lparam)\n{\n    switch (message)\n    {\n        case WM_CREATE:\n            break;\n\n        case WM_DESTROY:\n            return 0;\n\n        default:\n            return DefWindowProc(hwnd, message, wparam, lparam);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "casablanca"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1444862656, "post_id": 33133725, "comment_id": 54085304, "body": "Ooops. I didn&#39;t actually read that too well. If it&#39;s those warnings, don&#39;t build boost with -Werror. It won&#39;t work."}, {"owner": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1444877375, "post_id": 33133725, "comment_id": 54089069, "body": "The <code>-Werror</code> is in the Casablanca <code>CMakeLists.txt</code> file..  It must be in there for a reason - or rather, it would be odd for everyone to have to remove it manually. :S"}], "answers": [{"comments": [{"owner": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 0, "creation_date": 1475855314, "post_id": 39908441, "comment_id": 67126074, "body": "Nice, I wasn&#39;t aware of this option.  I&#39;ll see if I can try rebuilding it sometime today, and hopefully mark this question as the answer.  Thanks!"}, {"owner": {"reputation": 101, "user_id": 4466679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69781056270907a028668e7b95fb1def?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Pelykh", "link": "https://stackoverflow.com/users/4466679/yuriy-pelykh"}, "reply_to_user": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 1, "creation_date": 1475858658, "post_id": 39908441, "comment_id": 67127952, "body": "This option was added on 2016-02-02 according to the git history, so this answer is useless if you use earlier version of the repository. You can see this option at the top of Release/CMakeLists.txt"}, {"owner": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 1, "creation_date": 1476799199, "post_id": 39908441, "comment_id": 67491911, "body": "Ahh, I see it.  It&#39;s not in the master branch (as of today), but in the <code>prerelease-3.0.0</code> branch.  Good to know, I&#39;ll modify my build script to set it once I&#39;m using version 3, but until then I&#39;m stuck with running <code>sed -i &#39;s&#47;-Werror&#47;&#47;&#39; Release&#47;src&#47;CMakeLists.txt</code>  Thanks"}, {"owner": {"reputation": 101, "user_id": 4466679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69781056270907a028668e7b95fb1def?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Pelykh", "link": "https://stackoverflow.com/users/4466679/yuriy-pelykh"}, "reply_to_user": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 1, "creation_date": 1476953846, "post_id": 39908441, "comment_id": 67568749, "body": "Hi Matt,  yes, unfortunately this fix isn&#39;t in master. Sorry for this.  However if your aim is to prevent editing casablanca&#39;s cmake files, you still have an option:  run cmake with this parameter: <code>-DCMAKE_CXX_FLAGS=&quot;-isystem &lt;boost include dir&gt;&quot;</code>  in my case it looks like this: <code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS=&quot;-isystem &#47;home&#47;user&#47;proj&#47;boost&#47;include</code>  Boost headers will be treated as system headers (they are system headers in fact) and thus boost warnings will be suppressed. It&#39;s rather a hack but it works for me:) If it&#39;s ok for you, I can update the answer"}, {"owner": {"reputation": 101, "user_id": 4466679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69781056270907a028668e7b95fb1def?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Pelykh", "link": "https://stackoverflow.com/users/4466679/yuriy-pelykh"}, "reply_to_user": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 1, "creation_date": 1476954092, "post_id": 39908441, "comment_id": 67568911, "body": "note: it works because -isystem include stays later then -I include, and thus overwrite it"}, {"owner": {"reputation": 101, "user_id": 4466679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69781056270907a028668e7b95fb1def?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Pelykh", "link": "https://stackoverflow.com/users/4466679/yuriy-pelykh"}, "reply_to_user": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 0, "creation_date": 1476955003, "post_id": 39908441, "comment_id": 67569545, "body": "another note: it was tested with gcc compiler"}, {"owner": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "edited": false, "score": 0, "creation_date": 1476979935, "post_id": 39908441, "comment_id": 67587827, "body": "I always wondered what <code>-isystem</code> actually did.  I mightn&#39;t apply it to my Casablanca build, but I think this could be a good addition to my build scripts for our main product.  Right now I&#39;ve spent a lot of time putting platform agnostic warning suppression pragmas around my boost includes, this could solve that issue in a much cleaner way."}], "tags": [], "owner": {"reputation": 101, "user_id": 4466679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69781056270907a028668e7b95fb1def?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Pelykh", "link": "https://stackoverflow.com/users/4466679/yuriy-pelykh"}, "is_accepted": false, "score": 2, "last_activity_date": 1475807299, "creation_date": 1475807299, "answer_id": 39908441, "question_id": 33133725, "link": "https://stackoverflow.com/questions/33133725/casablanca-with-boost-1-56-fails-due-to-werror/39908441#39908441", "title": "Casablanca with boost 1.56 fails due to -Werror", "body": "<p>To prevent editing Casablanca's CMakeLists.txt, you can add -DWERROR=OFF parameter when running cmake command, e.g:</p>\n\n<pre><code>cmake -DCMAKE_BUILD_TYPE=Release -DWERROR=OFF &lt;path to src&gt;\n</code></pre>\n\n<p>Please note, that cmake can cache options values, so it's better to re-run cmake in a clean build directory</p>\n"}], "owner": {"reputation": 1556, "user_id": 1861346, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/AQaJK.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1861346/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1475807299, "creation_date": 1444850013, "question_id": 33133725, "link": "https://stackoverflow.com/questions/33133725/casablanca-with-boost-1-56-fails-due-to-werror", "title": "Casablanca with boost 1.56 fails due to -Werror", "body": "<p>I'm trying to build <a href=\"https://casablanca.codeplex.com/wikipage?title=Setup%20and%20Build%20on%20Linux&amp;referringTitle=Documentation\" rel=\"nofollow\">Casablanca</a> with boost 1.56, but my build keeps failing due to boost warnings turned error by Casablanca's <code>-Werror</code> flag</p>\n\n<p>For example:</p>\n\n<pre><code>CXX=g++ BOOST_ROOT=${boost} cmake .. -DCMAKE_BUILD_TYPE=Release\n</code></pre>\n\n<p>Yields errors like (far too many to show)</p>\n\n<pre><code>/home/matt/workspace/opal2/o2linux64/Libs/boost/1.56/include/boost/system/error_code.hpp:222:36: error: \u2018boost::system::errno_ecat\u2019 defined but not used [-Werror=unused-variable]\n static const error_category &amp;  errno_ecat     = generic_category();\n                                ^\n/home/matt/workspace/opal2/o2linux64/Libs/boost/1.56/include/boost/system/error_code.hpp:223:36: error: \u2018boost::system::native_ecat\u2019 defined but not used [-Werror=unused-variable]\n static const error_category &amp;  native_ecat    = system_category();\n                                ^\ncc1plus: all warnings being treated as errors\nmake[2]: *** [src/CMakeFiles/cpprest.dir/http/client/http_client_msg.cpp.o] Error 1\n</code></pre>\n\n<p>I can't seem to find any remedy on google, though I have found posts where people have built with 1.56 and don't mention disabling <code>Werror</code> in  <code>src/CMakeList.txt</code> (which incendentally seems to allow the code to build)</p>\n"}, {"tags": ["c++", "loops", "while-loop"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1444850177, "post_id": 33133723, "comment_id": 54079041, "body": "<code>not</code> and <code>and</code> are more commonly written in C++ as <code>!</code> and <code>&amp;&amp;</code>, respectively."}], "answers": [{"comments": [{"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1444850218, "post_id": 33133758, "comment_id": 54079068, "body": "<code>AND</code> and <code>OR</code> aren&#39;t C++ keywords. <code>and</code> and <code>or</code> are."}, {"owner": {"reputation": 65, "user_id": 4309119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xulPi.png?s=128&g=1", "display_name": "KooPad", "link": "https://stackoverflow.com/users/4309119/koopad"}, "edited": false, "score": 0, "creation_date": 1444850238, "post_id": 33133758, "comment_id": 54079079, "body": "Perfect! Thank you, i was breaking my head with that"}, {"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1444850418, "post_id": 33133758, "comment_id": 54079173, "body": "@Steve : Well pointed out. Personally I never use <code>and</code> and <code>or</code>. I prefer <code>&amp;&amp;</code> and <code>||</code>. I wrote them in caps just to point out that they are boolean operators."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1444850460, "post_id": 33133758, "comment_id": 54079197, "body": "I agree - and the only reason I know <code>and</code> and <code>or</code> exist is because of this question! (I probably knew it at one time, but never use it, so ...)"}, {"owner": {"reputation": 96, "user_id": 1848553, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UaJ5j.jpg?s=128&g=1", "display_name": "Pingwin Tux", "link": "https://stackoverflow.com/users/1848553/pingwin-tux"}, "edited": false, "score": 0, "creation_date": 1444850872, "post_id": 33133758, "comment_id": 54079437, "body": "I can give some interesting example of conditions evaluation:  int a = 0; (++a == 1) &amp;&amp; (cout &lt;&lt; &quot;a == 1&quot; &lt;&lt; endl);"}, {"owner": {"reputation": 3273, "user_id": 1428839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/2oKLx.jpg?s=128&g=1", "display_name": "JorenHeit", "link": "https://stackoverflow.com/users/1428839/jorenheit"}, "reply_to_user": {"reputation": 96, "user_id": 1848553, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UaJ5j.jpg?s=128&g=1", "display_name": "Pingwin Tux", "link": "https://stackoverflow.com/users/1848553/pingwin-tux"}, "edited": false, "score": 0, "creation_date": 1444859586, "post_id": 33133758, "comment_id": 54084042, "body": "@PingwinTux What&#39;s so interesting about that? It ran exactly as I expected."}, {"owner": {"reputation": 96, "user_id": 1848553, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UaJ5j.jpg?s=128&g=1", "display_name": "Pingwin Tux", "link": "https://stackoverflow.com/users/1848553/pingwin-tux"}, "reply_to_user": {"reputation": 3273, "user_id": 1428839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/2oKLx.jpg?s=128&g=1", "display_name": "JorenHeit", "link": "https://stackoverflow.com/users/1428839/jorenheit"}, "edited": false, "score": 0, "creation_date": 1444924204, "post_id": 33133758, "comment_id": 54115387, "body": "@JorenHeit: Maybe I should give more complex explanation. Short evaluation sometimes may replace simple if statement.It is easy way to use lambda expressions in C++ 0x."}], "tags": [], "owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "is_accepted": true, "score": 7, "last_activity_date": 1444850593, "last_edit_date": 1444850593, "creation_date": 1444850106, "answer_id": 33133758, "question_id": 33133723, "link": "https://stackoverflow.com/questions/33133723/is-the-order-of-boolean-expressions-important-in-while-loop/33133758#33133758", "title": "Is the order of boolean expressions important in while loop?", "body": "<p>The difference is that in C++, a shortcut is followed while evaluating boolean conditions.</p>\n\n<p>In case of an <code>and</code>, you know that if the first statement is false, the whole output is false. In this case, the second condition won't be evaluated at all. Similarly, if the first statement in an <code>or</code> statement evaluates to true, then the second isn't evaluated.</p>\n\n<p>So why is this useful, except the small effort saved in evaluating the second statement. One of the cases is <code>AND</code> is wherein you may not want the second expression to be evaluated if the first one is false. A reason for this is that the second expression may be ill defined if the first statement is false.</p>\n\n<p>For example, when accessing vector elements in a <code>while</code> loop, you may have a situation where you are checking some condition. Along with that you'd have to take care to ensure that the index is within the limits of the vector. So you can just write</p>\n\n<pre><code>while (i &lt; vector.size() &amp;&amp; condition(vector[i]))\n</code></pre>\n\n<p>You can see that if the first part evaluates to <code>false</code>, then the program would crash upon accessing <code>vector[i]</code> in the condition. However, it doesn't reach that point. This is just one of the many uses of short-circuiting operators.</p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 2, "last_activity_date": 1444850230, "creation_date": 1444850230, "answer_id": 33133788, "question_id": 33133723, "link": "https://stackoverflow.com/questions/33133723/is-the-order-of-boolean-expressions-important-in-while-loop/33133788#33133788", "title": "Is the order of boolean expressions important in while loop?", "body": "<p>Yes the order is important because of <a href=\"https://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow\">short circuit evaluation</a>.</p>\n\n<pre><code>while (cin &gt;&gt; a &gt;&gt; b and not p) \n</code></pre>\n\n<p>will take in the input and if that operation succeeds then it will evaluate <code>p</code>.  If the input fails then we end the loop and never check <code>p</code>.  On the other hand:</p>\n\n<pre><code>while (not p and cin &gt;&gt; a &gt;&gt; b)\n</code></pre>\n\n<p>Will evaluate <code>p</code> and if <code>not p</code> is <code>false</code> then the rest of the condition will not be executed.</p>\n"}], "owner": {"reputation": 65, "user_id": 4309119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xulPi.png?s=128&g=1", "display_name": "KooPad", "link": "https://stackoverflow.com/users/4309119/koopad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 33133758, "answer_count": 2, "score": 3, "last_activity_date": 1444850695, "creation_date": 1444850006, "last_edit_date": 1444850695, "question_id": 33133723, "link": "https://stackoverflow.com/questions/33133723/is-the-order-of-boolean-expressions-important-in-while-loop", "title": "Is the order of boolean expressions important in while loop?", "body": "<p>what's the different between an expresion like:</p>\n\n<pre><code>int a, b;\nbool p = false;\nwhile (cin &gt;&gt; a &gt;&gt; b and not p) { // code }\n\n// and:\n\nint a, b;\nbool p = false;\nwhile (not p and cin &gt;&gt; a &gt;&gt; b) { // code }\n</code></pre>\n"}, {"tags": ["c++", "cryptography", "hashcode", "sha"], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 2931220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MHW6g.png?s=128&g=1", "display_name": "Zyend", "link": "https://stackoverflow.com/users/2931220/zyend"}, "edited": false, "score": 0, "creation_date": 1444850745, "post_id": 33133671, "comment_id": 54079374, "body": "I tried so. But I didn&#39;t get the expected result. Would you please give a detailed hexa-representation of the padding block ?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 542, "user_id": 2931220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MHW6g.png?s=128&g=1", "display_name": "Zyend", "link": "https://stackoverflow.com/users/2931220/zyend"}, "edited": false, "score": 0, "creation_date": 1444853169, "post_id": 33133671, "comment_id": 54080776, "body": "How about an implementation that passes all the tests I&#39;ve thrown at it? <a href=\"http://codereview.stackexchange.com/q/13288/489\">codereview.stackexchange.com/q/13288/489</a>"}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 3, "last_activity_date": 1444849812, "creation_date": 1444849812, "answer_id": 33133671, "question_id": 33133530, "link": "https://stackoverflow.com/questions/33133530/sha256-padding-a-512-bits-length-message/33133671#33133671", "title": "SHA256: Padding a 512 bits length message", "body": "<p>Even though it starts out as exactly 512 bits, you still need to pad the message.</p>\n\n<p><a href=\"http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf\" rel=\"nofollow\">FIPS 180-4</a>, \u00a75.1.1 explains it as follows:</p>\n\n<blockquote>\n  <p>Suppose that the length of the message, M, is L bits. Append the bit \u201c1\u201d to the end of the message, followed by k zero bits, where k is the smallest, non-negative solution to the equation L + 1+ k \u2261 448 mod 512 . Then append the 64-bit block that is equal to the number L expressed using a binary representation.</p>\n</blockquote>\n\n<p>[I substituted <code>L</code> for a character that wasn't displaying correctly]</p>\n"}, {"tags": [], "owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "is_accepted": false, "score": 0, "last_activity_date": 1444872542, "last_edit_date": 1444872542, "creation_date": 1444872207, "answer_id": 33138295, "question_id": 33133530, "link": "https://stackoverflow.com/questions/33133530/sha256-padding-a-512-bits-length-message/33138295#33138295", "title": "SHA256: Padding a 512 bits length message", "body": "<p>For data that is an exact multiple of the block size PKCS#7 padding says you must add a block of padding with each byte set to the number of padding bytes. In the case of AES the block size is 16 bytes so add 16-bytes each with the value 0x10.</p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Padding_(cryptography)#PKCS7\" rel=\"nofollow\">PKCS#7 padding</a></p>\n\n<p>Note: PHP mcrypt does not do PKCS#7 padding, it must be done by user code.</p>\n"}], "owner": {"reputation": 542, "user_id": 2931220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MHW6g.png?s=128&g=1", "display_name": "Zyend", "link": "https://stackoverflow.com/users/2931220/zyend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1919, "favorite_count": 0, "accepted_answer_id": 33133671, "answer_count": 2, "score": 0, "last_activity_date": 1444872542, "creation_date": 1444849345, "question_id": 33133530, "link": "https://stackoverflow.com/questions/33133530/sha256-padding-a-512-bits-length-message", "title": "SHA256: Padding a 512 bits length message", "body": "<p>I am currently implementing the SHA256 hash-algorithm for a \"custom-built\" embeded-device.\nObviously I have a problem with message padding. \nThe routine I wrote does not work with message whose size <strong>equals exactly 512 bits</strong>.</p>\n\n<p>In that case, how should the message be padded ?\ni.e.</p>\n\n<pre><code>M = \"AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPP\"\n</code></pre>\n\n<p>Z.</p>\n"}, {"tags": ["java", "c++", "rcpp", "jri"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1444861249, "post_id": 33133505, "comment_id": 54084723, "body": "For C++, see <a href=\"http://dirk.eddelbuettel.com/code/rinside.html\" rel=\"nofollow noreferrer\">RInside</a>"}, {"owner": {"reputation": 2035, "user_id": 3386991, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/77UcO.jpg?s=128&g=1", "display_name": "Yehoshaphat Schellekens", "link": "https://stackoverflow.com/users/3386991/yehoshaphat-schellekens"}, "edited": false, "score": 0, "creation_date": 1447584359, "post_id": 33133505, "comment_id": 55207738, "body": "Can you show us the R code, ill show you how to embed it in java, using JRI :)"}], "owner": {"reputation": 243, "user_id": 4031919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28e8bf4e84b9b198ebef87797677118?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4031919/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1444861214, "answer_count": 0, "score": 0, "last_activity_date": 1444849274, "creation_date": 1444849274, "question_id": 33133505, "link": "https://stackoverflow.com/questions/33133505/what-is-the-best-practical-way-to-use-a-complex-r-package-from-inside-c-or-jav", "closed_reason": "Duplicate", "title": "What is the best practical way to use a complex R package from inside C++ or Java?", "body": "<p>I am working with this R package that is non-trivial in its dependencies. For instance, it depends on splines::ns() (natural splines) library which has its own dependency on a C module. The input data for the package can be as large as a table of floating point numbers with 100,000 rows and 500 columns.</p>\n\n<p>I would like to use that package from inside C++ or Java code (Java is preferable). I hear there are tools like Rcpp for C++ and JRI for Java, but I have no experience with them. In the end I need to create a very dependable application as opposed to a toy example. If these tools are not very adequate (because of how many dependencies the R package has, or because the amount of input is too large, etc) I will have to rewrite the entire package in C++. What is the best way to go?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "unit-testing", "visual-studio-2015"], "comments": [{"owner": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 0, "creation_date": 1444849282, "post_id": 33133424, "comment_id": 54078519, "body": "And defining static members in header this way may violate One Definition Rule (i.e., if header is included in multiple source files)."}], "answers": [{"tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 2, "last_activity_date": 1444850739, "last_edit_date": 1444850739, "creation_date": 1444849173, "answer_id": 33133473, "question_id": 33133424, "link": "https://stackoverflow.com/questions/33133424/why-have-i-to-create-the-definition-of-the-class-variables-out-of-the-class-if/33133473#33133473", "title": "Why have I to create the definition of the class variables out of the class, if I use them only inside?", "body": "<p>You are not <em>declaring</em> them out of class. You are <em>defining</em> them out of class. In C++ an object used as lvalue needs a <em>definition</em>, which essentially reserves storage (memory) for that object. For static class members, you reserve that memory by <em>defining</em> such objects out of class.</p>\n\n<p>What you have inside your class are mere non-defining <em>declarations</em> of these static members. Providing definitions for these declarations is your responsibility. When you forget to define something you declared, you get that \"unresolved external symbol ...\" error from the linker, which is exactly what happened in your case.</p>\n\n<p>Note that in order to satisfy the One Definition Rule these definitions should typically go to a single implementation file (<code>.cpp</code> file). You should not place such definitions into header files.</p>\n\n<p>The only exception from the above in C++ are static members of certain types that are not used as lvalues anywhere in the code, thus eliminating the need to allocate memory for such members.</p>\n"}], "owner": {"reputation": 21989, "user_id": 715269, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/81265cf97af6195bd098512acbf47d03?s=128&d=identicon&r=PG", "display_name": "Gangnus", "link": "https://stackoverflow.com/users/715269/gangnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "closed_date": 1444851479, "answer_count": 1, "score": 0, "last_activity_date": 1444850739, "creation_date": 1444848995, "last_edit_date": 1444850682, "question_id": 33133424, "link": "https://stackoverflow.com/questions/33133424/why-have-i-to-create-the-definition-of-the-class-variables-out-of-the-class-if", "closed_reason": "Duplicate", "title": "Why have I to create the definition of the class variables out of the class, if I use them only inside?", "body": "<p>Trying to create a small test, I had met a problem</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"CppUnitTest.h\"\n#include \"CppUnitTestAssert.h\"\n\nusing namespace Microsoft::VisualStudio::CppUnitTestFramework;\n\nnamespace SprintfTestNamespace\n{       \n    TEST_CLASS(SprintfTest)\n    {\n    public:\n        static char output[100];\n        static const char * expected;\n\n        TEST_METHOD_INITIALIZE(SprintfTestInit)\n        {\n            memset(output, 0xaa, sizeof output);\n            SprintfTest::expected = \"\";\n        }\n        static void expect(const char * s)\n        {\n            expected = s;\n        }\n        static void given(int charsWritten)\n        {\n            Assert::AreEqual((int)strlen(expected), charsWritten,\n                L\"result string length \");\n            Assert::AreEqual(expected, output, false,\n                L\"result string content \");\n            Assert::AreEqual((char)0xaa, output[strlen(expected) + 1],\n                L\"meaning of the first outer char after string\");\n\n        }\n\n        TEST_METHOD(NoFormatOperations)\n        {\n            expect(\"hey\");\n            given(sprintf(output, \"hey\"));\n        }\n        TEST_METHOD(InsertString)\n        {\n            expect(\"Hello World\\n\");\n            given(sprintf(output, \"Hello %s\\n\", \"World\"));\n        }\n    };\n    char SprintfTest::output[100];      // notice these two lines!\n    const char* SprintfTest::expected;\n}\n</code></pre>\n\n<p>If I remove the two marked lines at the end, I am getting the errors LNK2001:</p>\n\n<blockquote>\n  <p>unresolved external symbol \"public: static char * SprintfTestNamespace::SprintfTest::output\" (?output@SprintfTest@SprintfTestNamespace@@2PADA)</p>\n</blockquote>\n\n<p>If I have them in place, everything works OK, it builds and links and tests.  But why have I to define the class variables out of the class if I use them only inside it? </p>\n"}, {"tags": ["c++", "visual-studio", "class", "visual-studio-2013", "classloader"], "comments": [{"owner": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 0, "creation_date": 1444849065, "post_id": 33133396, "comment_id": 54078385, "body": "What is <code>Implementation of Node</code> ? You don&#39;t need that. Just include the header and write definitions in the source file."}, {"owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "edited": false, "score": 1, "creation_date": 1444849461, "post_id": 33133396, "comment_id": 54078620, "body": "Visual Studio may or may not be &quot;dumb&quot;, but that&#39;s a bit rich coming from someone who thinks <code>Implementation of</code> is c++"}, {"owner": {"reputation": 53, "user_id": 5424662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5946192a55e53f2046f4c8da4fcbd898?s=128&d=identicon&r=PG&f=1", "display_name": "littledinosaur", "link": "https://stackoverflow.com/users/5424662/littledinosaur"}, "edited": false, "score": 0, "creation_date": 1444849485, "post_id": 33133396, "comment_id": 54078638, "body": "Visual generate mi this files when I do &quot;Add -&gt; Class...&quot;"}, {"owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "edited": false, "score": 0, "creation_date": 1444849600, "post_id": 33133396, "comment_id": 54078705, "body": "In <i>that</i> case I am speechless <i>i.e.</i> &quot;dumb&quot;"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1444849765, "post_id": 33133396, "comment_id": 54078796, "body": "Better Visual Studio than Turbo C++. Why not just add files and manually type in the code?"}, {"owner": {"reputation": 53, "user_id": 5424662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5946192a55e53f2046f4c8da4fcbd898?s=128&d=identicon&r=PG&f=1", "display_name": "littledinosaur", "link": "https://stackoverflow.com/users/5424662/littledinosaur"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444850961, "post_id": 33133396, "comment_id": 54079489, "body": "@crashmstr I prefer assembly but my teacher prefer C++. I don&#39;t know why we can&#39;t write object programs in ASM16 :&lt; (it&#39;s joke)"}], "answers": [{"comments": [{"owner": {"reputation": 3278, "user_id": 1223297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/663526923/picture?type=large", "display_name": "Mahmoud Fayez", "link": "https://stackoverflow.com/users/1223297/mahmoud-fayez"}, "edited": false, "score": 0, "creation_date": 1444849853, "post_id": 33133648, "comment_id": 54078854, "body": "I have been working on linux/mac/windows for 5 years now. I think Xcode is the best (forget the last couple of months&#39; crashes and bugs), then Visual Studio, last one would be my favourite (vi and cmake)"}], "tags": [], "owner": {"reputation": 3278, "user_id": 1223297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/663526923/picture?type=large", "display_name": "Mahmoud Fayez", "link": "https://stackoverflow.com/users/1223297/mahmoud-fayez"}, "is_accepted": true, "score": 3, "last_activity_date": 1444849754, "creation_date": 1444849754, "answer_id": 33133648, "question_id": 33133396, "link": "https://stackoverflow.com/questions/33133396/how-to-load-class-from-another-file-visual-studio-c/33133648#33133648", "title": "How to load Class from another file - Visual Studio C++", "body": "<p>Can you try to edit your .h and .cpp to look like below:</p>\n\n<p>My <code>Node.h</code> file</p>\n\n<pre><code>#pragma once\nclass Node {\npublic:\n    Node();\n    virtual ~Node();\n};\n</code></pre>\n\n<p>And <code>Node.cpp</code> file</p>\n\n<pre><code>#include \"Node.h\"\n\nNode::Node(){\n}\n\n\nNode::~Node(){\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 5424662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5946192a55e53f2046f4c8da4fcbd898?s=128&d=identicon&r=PG&f=1", "display_name": "littledinosaur", "link": "https://stackoverflow.com/users/5424662/littledinosaur"}, "edited": false, "score": 0, "creation_date": 1444850887, "post_id": 33133875, "comment_id": 54079445, "body": "Thanks, I know how it works now. I&#39;m newby and I start now with Studio :&lt;"}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1444850559, "creation_date": 1444850559, "answer_id": 33133875, "question_id": 33133396, "link": "https://stackoverflow.com/questions/33133396/how-to-load-class-from-another-file-visual-studio-c/33133875#33133875", "title": "How to load Class from another file - Visual Studio C++", "body": "<p>Visual Studio is providing a <em>stencil</em> and some code so you don't have to type <em>as much</em>.  The code is not compilable and needs modification by you.  </p>\n\n<p>The \"Implementation of Node\" should be treated as a comment.</p>\n\n<p>There are better code generating tools, search the internet.</p>\n\n<p>Visual Studio can't write all the <code>Node</code> class because it can't read your mind.  </p>\n\n<p>At some point, you will have to type.</p>\n\n<p>I highly recommend developing your own <em>stencils</em> so that you can use an editor and perform a \"global replace\".  Again, don't expect the replace to be 100% perfect; the objective is to save some typing time.  </p>\n\n<p><strong>Edit 1:</strong><br>\nRemember, Visual Studio created a file using a Microsoft coding style which may not agree to your style.  </p>\n"}], "owner": {"reputation": 53, "user_id": 5424662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5946192a55e53f2046f4c8da4fcbd898?s=128&d=identicon&r=PG&f=1", "display_name": "littledinosaur", "link": "https://stackoverflow.com/users/5424662/littledinosaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 33133648, "answer_count": 2, "score": 0, "last_activity_date": 1444850559, "creation_date": 1444848894, "question_id": 33133396, "link": "https://stackoverflow.com/questions/33133396/how-to-load-class-from-another-file-visual-studio-c", "title": "How to load Class from another file - Visual Studio C++", "body": "<p>I must use Visual Studio - in my university :&lt; It's dumb program, I generate Class with in-build creator but studio throw me errors. I want to load Class to <code>main.cpp</code> from another file.</p>\n\n<p>My <code>Node.h</code> file</p>\n\n<pre><code>class Node {\npublic:\n    Node();\n    virtual ~Node();\n};\nDefine Node\n</code></pre>\n\n<p>And <code>Node.cpp</code> file</p>\n\n<pre><code>#include \"Node.h\"\n\nImplementation of Node {\n\n}\n\nNode::Node(){\n}\n\n\nNode::~Node(){\n}\n</code></pre>\n\n<p>Next we have errors:</p>\n\n<blockquote>\n  <p>1>  Node.cpp</p>\n  \n  <p>1>c:\\users\\konrad\\documents\\visual studio\n  2013\\projects\\lists\\lists\\node.cpp(3): error C2146: syntax error :\n  missing ';' before identifier 'Node'</p>\n  \n  <p>1>c:\\users\\konrad\\documents\\visual studio\n  2013\\projects\\lists\\lists\\node.cpp(3): error C4430: missing type\n  specifier - int assumed. Note: C++ does not support default-int</p>\n  \n  <p>1>c:\\users\\konrad\\documents\\visual studio\n  2013\\projects\\lists\\lists\\node.cpp(3): error C2146: syntax error :\n  missing ';' before identifier 'of'</p>\n  \n  <p>1>c:\\users\\konrad\\documents\\visual studio\n  2013\\projects\\lists\\lists\\node.cpp(3): error C2143: syntax error :\n  missing ';' before '{'</p>\n  \n  <p>1>c:\\users\\konrad\\documents\\visual studio\n  2013\\projects\\lists\\lists\\node.cpp(3): error C2447: '{' : missing\n  function header (old-style formal list?)</p>\n</blockquote>\n\n<p>What I do wrong? And how after this load Node class to <code>main.cpp</code>? Dumb Visual.</p>\n"}, {"tags": ["c++", "arrays", "segmentation-fault", "g++"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 2, "creation_date": 1444848899, "post_id": 33133384, "comment_id": 54078288, "body": "1) It&#39;s not C. 2) You have a stack overflow. 3) You don&#39;t have a <code>return</code> statement."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1444848948, "post_id": 33133384, "comment_id": 54078320, "body": "There&#39;s a limit on the size of local variables in a function, you&#39;re going beyond it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 1, "creation_date": 1444849048, "post_id": 33133384, "comment_id": 54078376, "body": "To state the maybe obvious: local variables are allocated on the stack. Perfect fit to the name of this site ..."}], "owner": {"reputation": 92, "user_id": 2835249, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77af6f8fdca11aa5548a690f482f79e5?s=128&d=identicon&r=PG&f=1", "display_name": "Chumanista", "link": "https://stackoverflow.com/users/2835249/chumanista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1444848947, "answer_count": 0, "score": 0, "last_activity_date": 1444848947, "creation_date": 1444848814, "last_edit_date": 1444848947, "question_id": 33133384, "link": "https://stackoverflow.com/questions/33133384/why-does-this-array-initialisation-cause-a-segmentation-fault", "closed_reason": "Duplicate", "title": "Why does this array initialisation cause a segmentation fault?", "body": "<p>I'm declaring an array of uint8_t with 10 milion elements. It should fit in memory and under all indexing limits. I'm compiling using g++ (Ubuntu 4.8.4-2ubuntu1~14.04) 4.8.4 via Geany.</p>\n\n<pre><code>#include&lt;cstdio&gt;\n#include&lt;stdint.h&gt;\nusing namespace std;\n\nint main() {\n    uint8_t in[10000000];\n    printf(\"%li\", sizeof(in));\n}\n</code></pre>\n"}, {"tags": ["c++", "image", "opencv", "image-processing", "computer-vision"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1444850995, "post_id": 33133372, "comment_id": 54079512, "body": "You&#39;re splitting a 3-channel image into 3 1-channel images. 1-channel images are grayscale, and will be displayed as gray-sh. The fact that their pixel values is actually a color information is irrelevant, they are still grayscale images. So, your code is OK, just your interpretation is incorrect."}, {"owner": {"reputation": 129, "user_id": 3510233, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0dec222fd855f188d2573480082f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Blu", "link": "https://stackoverflow.com/users/3510233/blu"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444852176, "post_id": 33133372, "comment_id": 54080166, "body": "What should I add to my code in order to make them colorful? @Miki"}, {"owner": {"reputation": 3225, "user_id": 5294258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5270296f9c4ec3fae89195328e9bc7?s=128&d=identicon&r=PG&f=1", "display_name": "sturkmen", "link": "https://stackoverflow.com/users/5294258/sturkmen"}, "edited": false, "score": 1, "creation_date": 1444852312, "post_id": 33133372, "comment_id": 54080253, "body": "<code>cvtColor(RGBImage, YCrCb, CV_BGR2YCrCb);</code> maybe better"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444852772, "post_id": 33133372, "comment_id": 54080526, "body": "Oh, maybe I get it... you mean something like <a href=\"https://en.wikipedia.org/wiki/File:Barns_grand_tetons_YCbCr_separation.jpg\" rel=\"nofollow noreferrer\">this</a>? This is just a colormap, a visual effect."}, {"owner": {"reputation": 129, "user_id": 3510233, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0dec222fd855f188d2573480082f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Blu", "link": "https://stackoverflow.com/users/3510233/blu"}, "edited": false, "score": 0, "creation_date": 1444853099, "post_id": 33133372, "comment_id": 54080723, "body": "Yes, and actually I apply mean filter to image&#39;s Y component and I need to change it back to RGB with merging other components (Cr and Cb) . Finally I am going to get a blurry version of original RGB image. However my mean filter returns always grey blurry image. I though it may so because of my Cr, Cb components are grey. That&#39;s why I asked this question."}, {"owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1444853144, "post_id": 33133372, "comment_id": 54080755, "body": "Maybe you want <a href=\"http://bit.ly/112eh4q\" rel=\"nofollow noreferrer\">this</a>, right? Check <a href=\"https://www.youtube.com/watch?list=PL6tlz3Oc-zFi9cMVoT9Q2RsM_xvQmCrJM&amp;v=hEFXUytWTEQ\" rel=\"nofollow noreferrer\">this video</a> at 3:41"}, {"owner": {"reputation": 129, "user_id": 3510233, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0dec222fd855f188d2573480082f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Blu", "link": "https://stackoverflow.com/users/3510233/blu"}, "reply_to_user": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1444853752, "post_id": 33133372, "comment_id": 54081102, "body": "Thank you @Berriel nice video! =)"}, {"owner": {"reputation": 3225, "user_id": 5294258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5270296f9c4ec3fae89195328e9bc7?s=128&d=identicon&r=PG&f=1", "display_name": "sturkmen", "link": "https://stackoverflow.com/users/5294258/sturkmen"}, "edited": false, "score": 0, "creation_date": 1444854143, "post_id": 33133372, "comment_id": 54081341, "body": "OpenCV images are stored as BGR"}], "answers": [{"comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1444855098, "post_id": 33135078, "comment_id": 54081892, "body": "Nice blog btw, now I know what to link when SO users have problems installing OpenCV :D"}], "tags": [], "owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "is_accepted": false, "score": 3, "last_activity_date": 1444854857, "last_edit_date": 1495540897, "creation_date": 1444854857, "answer_id": 33135078, "question_id": 33133372, "link": "https://stackoverflow.com/questions/33133372/splitting-ycrcb-image-to-its-intensity-channels/33135078#33135078", "title": "Splitting YCrCb image to its intensity channels", "body": "<p>As @<a href=\"https://stackoverflow.com/users/5008845\">Miki</a> said in the comments, splitting a 3-channel image will give you 3 1-channel images, and 1-channel images are grayscale! Also, @<a href=\"https://stackoverflow.com/users/5294258/sturkmen\">sturkmen</a> pointed out an important thing: OpenCV images are stored as BGR, so you need to use <code>CV_BGR2YCrCb</code> instead of <code>CV_RGB2YCrCb</code> in the <code>cvtColor</code>.</p>\n\n<p>However, I see a lot of materials showing them (the individual channels) in a colorful manner, like <a href=\"http://cs.brown.edu/courses/cs143/lectures/03.pdf\" rel=\"nofollow noreferrer\">this</a> from Professor Hays.</p>\n\n<p>If you want to see them that way, you need to set a fixed value to the other channels and merge them back. This way you can achieve the first row of the image below. The second row are the individual channels. For more info you can read this <a href=\"http://bit.ly/112eh4q\" rel=\"nofollow noreferrer\">post</a> or watch this <a href=\"https://www.youtube.com/watch?list=PL6tlz3Oc-zFi9cMVoT9Q2RsM_xvQmCrJM&amp;v=hEFXUytWTEQ\" rel=\"nofollow noreferrer\">video</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EqzDv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqzDv.png\" alt=\"YCrCb sample\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 3510233, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0dec222fd855f188d2573480082f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Blu", "link": "https://stackoverflow.com/users/3510233/blu"}, "edited": false, "score": 0, "creation_date": 1444855486, "post_id": 33135082, "comment_id": 54082093, "body": "Wow!! Thank you so much for the answer I&#39;ve learned a lot asking this question!  =)) @Miki"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 8, "last_activity_date": 1444854867, "creation_date": 1444854867, "answer_id": 33135082, "question_id": 33133372, "link": "https://stackoverflow.com/questions/33133372/splitting-ycrcb-image-to-its-intensity-channels/33135082#33135082", "title": "Splitting YCrCb image to its intensity channels", "body": "<p>When you split a 3 channel image into 3 single channel image, each image is grayscale. The fact that they represent color information is irrelevant. </p>\n\n<p>Original image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gnfXj.jpg\"><img src=\"https://i.stack.imgur.com/gnfXj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>YCrCb channels:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5JC99.jpg\"><img src=\"https://i.stack.imgur.com/5JC99.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can, however, apply a color effect:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qyp0m.jpg\"><img src=\"https://i.stack.imgur.com/Qyp0m.jpg\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>You can blur the Y channel, and then merge the 3 single channels, and convert back to BGR:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hwj9I.png\"><img src=\"https://i.stack.imgur.com/Hwj9I.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here the full code for reference:</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\n#include &lt;vector&gt;\nusing namespace std;\nusing namespace cv;\n\nint main()\n{\n    Mat3b bgr = imread(\"path_to_image\");\n\n    Mat3b ycrcb;\n    cvtColor(bgr, ycrcb, COLOR_BGR2YCrCb);\n\n    vector&lt;Mat1b&gt; planes;\n    split(ycrcb, planes);\n\n    // Collage planes\n    Mat1b collagePlanes(bgr.rows, bgr.cols*3);\n    for (int i = 0; i &lt; 3; ++i)\n    {\n        planes[i].copyTo(collagePlanes(Rect(i*bgr.cols, 0, bgr.cols, bgr.rows)));\n    }\n\n    Mat1b gray(bgr.rows, bgr.cols, uchar(128));\n\n    // Y\n    vector&lt;Mat1b&gt; vy(3);\n    vy[0] = planes[0];\n    vy[1] = gray.clone();\n    vy[2] = gray.clone();\n    Mat3b my;\n    merge(vy, my);\n\n    // Cr\n    vector&lt;Mat1b&gt; vcr(3);\n    vcr[0] = gray.clone();\n    vcr[1] = planes[1];\n    vcr[2] = gray.clone();\n    Mat3b mcr;\n    merge(vcr, mcr);\n\n    // Cb\n    vector&lt;Mat1b&gt; vcb(3);\n    vcb[0] = gray.clone();\n    vcb[1] = gray.clone();\n    vcb[2] = planes[2];\n    Mat3b mcb;\n    merge(vcb, mcb);\n\n\n\n    // Collage planes\n    Mat3b collageColor(bgr.rows, bgr.cols * 3);\n    my.copyTo(collageColor(Rect(0, 0, bgr.cols, bgr.rows)));\n    mcr.copyTo(collageColor(Rect(bgr.cols, 0, bgr.cols, bgr.rows)));\n    mcb.copyTo(collageColor(Rect(2 * bgr.cols, 0, bgr.cols, bgr.rows)));\n\n    cvtColor(collageColor, collageColor, COLOR_YCrCb2BGR);\n\n\n    ////////////////////////////\n\n    // Blur Y\n    boxFilter(planes[0], planes[0], CV_8U, Size(7,7));\n\n    Mat3b blurred;\n    merge(planes, blurred);\n    cvtColor(blurred, blurred, COLOR_YCrCb2BGR);\n\n\n    imshow(\"Original\", bgr);\n    imshow(\"YCrCb planes\", collagePlanes);\n    imshow(\"YCrCb planes colored\", collageColor);\n    imshow(\"Blurred\", blurred);\n    waitKey();\n\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 3510233, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b0dec222fd855f188d2573480082f5b?s=128&d=identicon&r=PG&f=1", "display_name": "Blu", "link": "https://stackoverflow.com/users/3510233/blu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1947, "favorite_count": 1, "accepted_answer_id": 33135082, "answer_count": 2, "score": 5, "last_activity_date": 1444859759, "creation_date": 1444848759, "last_edit_date": 1444857237, "question_id": 33133372, "link": "https://stackoverflow.com/questions/33133372/splitting-ycrcb-image-to-its-intensity-channels", "title": "Splitting YCrCb image to its intensity channels", "body": "<p>I want to split <strong>YCrCb</strong> to Y, Cr, and Cb channels. </p>\n\n<p>Code works well but when I show the channels with <code>imshow(\"Y\", y)</code> for each Y, Cr, Cb, all channels look grey. </p>\n\n<p>Only Y channel must be grey the others are supposed to be colorful. Am I right? Or what is the problem with code? </p>\n\n<pre><code>    Mat RGBImage;\n    RGBImage = imread(\"xx.jpg\");    \n    cvtColor(RGBImage, YCrCb, CV_RGB2YCrCb);\n\n    vector&lt;Mat&gt; ycc_planes;\n    split(YCrCb, ycc_planes);\n\n    Mat y = ycc_planes[0];\n    Mat Cr = ycc_planes[1];\n    Mat Cb = ycc_planes[2];\n</code></pre>\n\n<p>My final goal is to apply mean filter to image's Y component and then to change it back to RGB with merging other components (Cr and Cb) . Finally I am going to get a blurry version of original RGB image. However my mean filter returns always grey blurry image. I though it may be so because of my Cr, Cb components are grey. </p>\n"}, {"tags": ["c++", "json", "http", "boost-asio"], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1444858953, "post_id": 33136051, "comment_id": 54083748, "body": "Spent entirely too much time on this. Review it at leisure later: <a href=\"http://tinyurl.com/ok7p8qr\" rel=\"nofollow noreferrer\">part #1</a> and <a href=\"http://tinyurl.com/ok7p8qr\" rel=\"nofollow noreferrer\">part #2</a> (<a href=\"http://chat.stackoverflow.com/transcript/10?m=24182469#24182469\">experiment</a>)"}, {"owner": {"reputation": 201, "user_id": 4010025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/74d6cbca069d213d21207f79c2347839?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Johns", "link": "https://stackoverflow.com/users/4010025/ed-johns"}, "edited": false, "score": 0, "creation_date": 1445006367, "post_id": 33136051, "comment_id": 54153793, "body": "yes, I see the issues very clear now. I appreciate the assistance."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 4, "last_activity_date": 1444869776, "last_edit_date": 1444869776, "creation_date": 1444858788, "answer_id": 33136051, "question_id": 33133316, "link": "https://stackoverflow.com/questions/33133316/boost-asio-unable-to-read-url-body-json/33136051#33136051", "title": "Boost asio: Unable to read URL Body (JSON)", "body": "<p>The essence of the problem is twofold:</p>\n\n<ul>\n<li><p>firstly, there is <a href=\"http://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">Undefined Behaviour</a> because you fail to capture <code>bufptr</code> in the completion handler, meaning that the vector is already freed by the time that the syscall is writing to it...</p></li>\n<li><p>Secondly, you're \"junking\" the first part of the body, as you have already received it when reading the headers. You should add code to preserve the part that was already received in <code>read_next_line</code>.</p></li>\n</ul>\n\n<p>The real \"misguidance\" is probably in the use of </p>\n\n<pre><code>asio::async_read_until(pThis-&gt;socket, pThis-&gt;buff, '\\r', ...\n</code></pre>\n\n<p>as if it will somehow receive exactly a single line. Sockets do not work that way. You'll receive a packet. The TCP stack(s) decide what constitutes a packet. Asio just <em>promises</em> to read <em>\"until\" the packet >contains&lt; the delimiter</em>. It doesn't say it won't receive more, it just doesn't schedule another receive operation.</p>\n\n<p>So, to really fix it, you might simply read all headers at once:</p>\n\n<pre><code>asio::async_read_until(pThis-&gt;socket, pThis-&gt;buff, \"\\r\\n\\r\\n\", \n    [pThis](const error_code &amp;e, std::size_t s) {\n        if (e) { std::cerr &lt;&lt; \"Error:\" &lt;&lt; __LINE__ &lt;&lt; \" \" &lt;&lt; e.message() &lt;&lt; \"\\n\"; return; }\n        std::cout &lt;&lt; __FILE__ &lt;&lt; \":\" &lt;&lt; __LINE__ &lt;&lt; \" received:\" &lt;&lt; s &lt;&lt; \"\\n\";\n        std::istream is(&amp;pThis-&gt;buff);\n\n        std::string line, ignore;\n\n        if (getline(is, line, '\\r') &amp;&amp; is.ignore(1, '\\n'))\n            pThis-&gt;headers.on_read_request_line(line);\n\n        while (getline(is, line, '\\r') &amp;&amp; is.ignore(1, '\\n') &amp;&amp; !line.empty())\n            pThis-&gt;headers.on_read_header(line);\n</code></pre>\n\n<p><strong>NOTE</strong> Again, it's important not to assume that the end-of-headers coincides with the packet boundary. Therefore, start <code>read_body()</code> with draining the available input already received:</p>\n\n<pre><code>    std::shared_ptr&lt;std::vector&lt;char&gt; &gt; bufptr = std::make_shared&lt;std::vector&lt;char&gt; &gt;(nbuffer);\n\n    auto partial = std::copy(\n            std::istreambuf_iterator&lt;char&gt;(&amp;pThis-&gt;buff), {}, \n            bufptr-&gt;begin());\n\n    std::size_t already_received = std::distance(bufptr-&gt;begin(), partial);\n\n    assert(nbuffer &gt;= already_received);\n    nbuffer -= already_received;\n</code></pre>\n\n<h2>FIXED UP DEMO</h2>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/0a92424648e3f061\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/asio.hpp&gt;\n#include &lt;boost/algorithm/string/trim.hpp&gt;\n#include &lt;string&gt;\n#include &lt;memory&gt;\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace boost;\nusing namespace boost::system;\nusing namespace boost::asio;\n\nunsigned char *get_icon(int *pOutSize);\n\nclass session;\n\nclass http_headers {\n    std::string method;\n    std::string url;\n    std::string version;\n\n    std::map&lt;std::string, std::string&gt; headers;\n\npublic:\n    std::string get_response() {\n        std::stringstream ssOut;\n        if (url == \"/favicon.ico\") {\n            int nSize = 0;\n            unsigned char *data = get_icon(&amp;nSize);\n\n            ssOut &lt;&lt; \"HTTP/1.1 200 OK\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"content-type: image/vnd.microsoft.icon\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"Content-Length: \" &lt;&lt; nSize &lt;&lt; std::endl;\n            ssOut &lt;&lt; std::endl;\n\n            ssOut.write((char *)data, nSize);\n        } else if (url == \"/\") {\n            std::string sHTML = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World&lt;/h1&gt;&lt;p&gt;This is a test web server in c++&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n            ssOut &lt;&lt; \"HTTP/1.1 200 OK\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"Content-Type: text/html\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"Content-Length: \" &lt;&lt; sHTML.length() &lt;&lt; std::endl;\n            ssOut &lt;&lt; std::endl;\n            ssOut &lt;&lt; sHTML;\n        } else {\n            std::string sHTML = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;p&gt;There's nothing here.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n            ssOut &lt;&lt; \"HTTP/1.1 404 Not Found\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"Content-Type: text/html\" &lt;&lt; std::endl;\n            ssOut &lt;&lt; \"Content-Length: \" &lt;&lt; sHTML.length() &lt;&lt; std::endl;\n            ssOut &lt;&lt; std::endl;\n            ssOut &lt;&lt; sHTML;\n        }\n        return ssOut.str();\n    }\n\n    size_t content_length() {\n        auto request = headers.find(\"Content-Length\");\n        if (request != headers.end()) {\n            std::stringstream ssLength(request-&gt;second);\n            size_t content_length;\n            ssLength &gt;&gt; content_length;\n            return content_length;\n        }\n        return 0;\n    }\n\n    void on_read_header(std::string line) {\n        std::cout &lt;&lt; \"header: '\" &lt;&lt; line &lt;&lt; \"'\\n\";\n\n        std::stringstream ssHeader(line);\n        std::string headerName;\n        std::getline(ssHeader, headerName, ':');\n\n        std::string value;\n        std::getline(ssHeader, value);\n        headers[headerName] = value;\n    }\n\n    void on_read_request_line(std::string line) {\n        std::stringstream ssRequestLine(line);\n        ssRequestLine &gt;&gt; method;\n        ssRequestLine &gt;&gt; url;\n        ssRequestLine &gt;&gt; version;\n\n        std::cout &lt;&lt; \"request for resource: \" &lt;&lt; url &lt;&lt; std::endl;\n    }\n};\n\nnamespace {\n    static void info(std::string s) { std::cout &lt;&lt; \"INFO:\" &lt;&lt; s &lt;&lt; \"\\n\"; }\n}\n\nclass session {\n    asio::streambuf buff;\n    http_headers headers;\n\n    static void read_body(std::shared_ptr&lt;session&gt; pThis) {\n\n        info(\"read_body\");\n\n        size_t nbuffer = pThis-&gt;headers.content_length();\n        std::cout &lt;&lt; __FILE__ &lt;&lt; \":\" &lt;&lt; __LINE__ &lt;&lt; \" nbuffer:\" &lt;&lt; nbuffer &lt;&lt; \"\\n\";\n\n        std::shared_ptr&lt;std::vector&lt;char&gt; &gt; bufptr = std::make_shared&lt;std::vector&lt;char&gt; &gt;(nbuffer);\n\n        auto partial = std::copy(\n                std::istreambuf_iterator&lt;char&gt;(&amp;pThis-&gt;buff), {}, \n                bufptr-&gt;begin());\n\n        std::size_t already_received = std::distance(bufptr-&gt;begin(), partial);\n\n        assert(nbuffer &gt;= already_received);\n        nbuffer -= already_received;\n\n        asio::async_read(pThis-&gt;socket, boost::asio::buffer(&amp;*bufptr-&gt;begin() + already_received, nbuffer),\n            [=](const error_code &amp;e, std::size_t s) {\n                info(\"read body complete\"); \n                // EOF is to be expected on client disconnect\n                if (e &amp;&amp; e != boost::asio::error::eof) { \n                    std::cerr &lt;&lt; \"Error:\" &lt;&lt; __LINE__ &lt;&lt; \" \" &lt;&lt; e.message() &lt;&lt; \"\\n\"; return; \n                }\n\n                std::cout &lt;&lt; __FILE__ &lt;&lt; \":\" &lt;&lt; __LINE__ &lt;&lt; \" received:\" &lt;&lt; s &lt;&lt; \"/\" &lt;&lt; nbuffer &lt;&lt; \"\\n\";\n\n                std::string body(&amp;*bufptr-&gt;begin(), already_received + s);\n\n                std::string::size_type p = 0;\n                for (int i = 0; i&lt;2; ++i)\n                    p = body.find_last_of(\"\\r\\n\", p-1);\n\n                std::cout &lt;&lt; \"Tail: '\" &lt;&lt; body.substr(p+1) &lt;&lt; \"'\\n\";\n\n                {\n                    std::ofstream ofs(\"debug.txt\", std::ios::binary);\n                    ofs &lt;&lt; body;\n                    ofs &lt;&lt; \"\\n\" &lt;&lt; __FILE__ &lt;&lt; \":\" &lt;&lt; __LINE__ &lt;&lt; \" received:\" &lt;&lt; s &lt;&lt; \"/\" &lt;&lt; nbuffer &lt;&lt; \"\\n\";\n                }\n            });\n    }\n\n    static void read_headers(std::shared_ptr&lt;session&gt; pThis) {\n        asio::async_read_until(pThis-&gt;socket, pThis-&gt;buff, \"\\r\\n\\r\\n\", \n            [pThis](const error_code &amp;e, std::size_t s) {\n                if (e) { std::cerr &lt;&lt; \"Error:\" &lt;&lt; __LINE__ &lt;&lt; \" \" &lt;&lt; e.message() &lt;&lt; \"\\n\"; return; }\n                std::cout &lt;&lt; __FILE__ &lt;&lt; \":\" &lt;&lt; __LINE__ &lt;&lt; \" received:\" &lt;&lt; s &lt;&lt; \"\\n\";\n                std::istream is(&amp;pThis-&gt;buff);\n\n                std::string line, ignore;\n\n                if (getline(is, line, '\\r') &amp;&amp; is.ignore(1, '\\n'))\n                    pThis-&gt;headers.on_read_request_line(line);\n\n                while (getline(is, line, '\\r') &amp;&amp; is.ignore(1, '\\n') &amp;&amp; !line.empty())\n                    pThis-&gt;headers.on_read_header(line);\n\n                if (pThis-&gt;headers.content_length()) {\n                    pThis-&gt;read_body(pThis);\n\n                    auto str = std::make_shared&lt;std::string&gt;(\"HTTP/1.1 200 OK\\r\\nContent-Length: 0\\r\\n\\r\\n\");\n                    asio::async_write(\n                        pThis-&gt;socket, boost::asio::buffer(*str),\n                        [pThis, str](const error_code &amp;e, std::size_t s) {\n                            std::cout &lt;&lt; \"done\" &lt;&lt; std::endl; \n                        });\n                } else {\n                    std::shared_ptr&lt;std::string&gt; str = std::make_shared&lt;std::string&gt;(pThis-&gt;headers.get_response());\n                    asio::async_write(\n                        pThis-&gt;socket, boost::asio::buffer(*str),\n                        [pThis, str](const error_code &amp;e, std::size_t s) {\n                            std::cout &lt;&lt; \"done\" &lt;&lt; std::endl; \n                        });\n                }\n            });\n    }\n\npublic:\n    ip::tcp::socket socket;\n\n    session(io_service &amp;io_service) : socket(io_service) {}\n\n    static void interact(std::shared_ptr&lt;session&gt; pThis) { read_headers(pThis); }\n};\n\nvoid accept_and_run(ip::tcp::acceptor &amp;acceptor, io_service &amp;io_service) {\n    std::shared_ptr&lt;session&gt; sesh = std::make_shared&lt;session&gt;(io_service);\n    acceptor.async_accept(sesh-&gt;socket, [sesh, &amp;acceptor, &amp;io_service](const error_code &amp;accept_error) {\n        accept_and_run(acceptor, io_service);\n        if (accept_error) {\n            std::cerr &lt;&lt; \"Accept error: \" &lt;&lt; accept_error.message() &lt;&lt; \"\\n\";\n        } else {\n            session::interact(sesh);\n        }\n    });\n}\n\nint main() {\n    io_service io_service;\n    ip::tcp::endpoint endpoint{ ip::tcp::v4(), 8181 };\n    ip::tcp::acceptor acceptor{ io_service, endpoint };\n\n    acceptor.listen();\n    accept_and_run(acceptor, io_service);\n\n    io_service.run();\n}\n\nunsigned char icon_data[] = {\n    // reserved\n    0x00, 0x00,\n    // icon type (1 = icon)\n    0x01, 0x00,\n    // number of images (1)\n    0x01, 0x00,\n    // width, height (16x16)\n    0x10, 0x10,\n    // size of colour palette\n    0x00,\n    // reserved\n    0x00,\n    // colour planes (1)\n    0x01, 0x00,\n    // bits per pixel (32)\n    0x20, 0x00,\n\n    // size of data in bytes\n    0x28, 0x04, 0x00, 0x00,\n\n    // offset of bitmap data\n    0x16, 0x00, 0x00, 0x00,\n\n    // BEGIN BITMAPINFOHEADER\n    // bcsize\n    0x28, 0x00, 0x00, 0x00, // biSize\n    0x10, 0x00, 0x00, 0x00, // biWidth\n    0x20, 0x00, 0x00, 0x00, // biHeight (with both AND and XOR mask? wtf?)\n\n    0x01, 0x00, // biPlanes\n    0x20, 0x00, // biBitCount (32)\n\n    0x00, 0x00, 0x00, 0x00, // biCompression\n    0x00, 0x00, 0x00, 0x00, // biSizeImage\n    0x00, 0x00, 0x00, 0x00, // biXPelsPerMeter\n    0x00, 0x00, 0x00, 0x00, // biYPelsPerMeter\n    0x00, 0x00, 0x00, 0x00, // biClrUsed\n    0x00, 0x00, 0x00, 0x00, // biClrImportant\n    // END BITMAPINFOHEADER\n\n    // BITMAP DATA (4 bytes per pixel)\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF,\n    0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,\n    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF\n};\n\nunsigned char *get_icon(int *pOut) {\n    *pOut = sizeof(icon_data);\n    return icon_data;\n}\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 4010025, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/74d6cbca069d213d21207f79c2347839?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Johns", "link": "https://stackoverflow.com/users/4010025/ed-johns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444869776, "creation_date": 1444848597, "question_id": 33133316, "link": "https://stackoverflow.com/questions/33133316/boost-asio-unable-to-read-url-body-json", "title": "Boost asio: Unable to read URL Body (JSON)", "body": "<p>I have test the following Boost::Asio minimal HTTP server example: \n(<a href=\"http://www.codeproject.com/Articles/1007262/A-minimal-http-web-server-using-boost-asio\" rel=\"nofollow\">Minimal HTTP Server based on Boost:Asio</a>)</p>\n\n<p>I'm able to successfully collect the Header information such as Content-Length but the example hangs when I try to read the Body information. Here is the function that attempts to read the Body information:  </p>\n\n<pre><code>static void read_body(std::shared_ptr&lt;session&gt; pThis) {\n            info(\"read_body\");\n\n            int nbuffer = pThis-&gt;headers.content_length();\n            std::shared_ptr&lt;std::vector&lt;char&gt;&gt; bufptr = std::make_shared&lt;std::vector&lt;char&gt;&gt;(nbuffer);\n            asio::async_read(pThis-&gt;socket, boost::asio::buffer(*bufptr, nbuffer),\n                    [pThis](const error_code&amp; e, std::size_t s)\n                    {\n                        info(\"read body complete\");\n                    });\n        }\n</code></pre>\n\n<p>I have successfully read the same Body information utilizing a solution with <strong>libmicrohttpd</strong>. </p>\n\n<p>Is there a more correct means to read the Body (JSON) information with Boost:ASIO?</p>\n"}, {"tags": ["c++", "object", "vector"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1444848674, "post_id": 33133304, "comment_id": 54078159, "body": "You don&#39;t have an implementation of the default constructor of <code>Animal</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444848704, "post_id": 33133304, "comment_id": 54078177, "body": "You forgot to define <code>Animal();</code>.  You need to since you declared it."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1444849056, "post_id": 33133304, "comment_id": 54078380, "body": "And it has nothing to do with vectors."}, {"owner": {"reputation": 52, "user_id": 4175674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b2d5380a74244484d538f6e55c61f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4175674/daniel"}, "edited": false, "score": 0, "creation_date": 1444850491, "post_id": 33133304, "comment_id": 54079219, "body": "Thanks for the suggestion. Made it work"}, {"owner": {"reputation": 11978, "user_id": 774651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d174682a9c2469488ac0cd91f0253215?s=128&d=identicon&r=PG&f=1", "display_name": "Lol4t0", "link": "https://stackoverflow.com/users/774651/lol4t0"}, "edited": false, "score": 0, "creation_date": 1444853882, "post_id": 33133304, "comment_id": 54081186, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1444849953, "post_id": 33133490, "comment_id": 54078913, "body": "When I compile mine, I get no linker errors, and get the right output which is 20 and 111."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1444850144, "post_id": 33133490, "comment_id": 54079022, "body": "But the question is about OP&#39;s code, not yours. OP&#39;s code has a linker error, and your suggestion doesn&#39;t address that."}, {"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1444850572, "post_id": 33133490, "comment_id": 54079271, "body": "My bad. I got the linker error too and fixed it but forgot about it when noticed the bug."}], "tags": [], "owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "is_accepted": true, "score": 0, "last_activity_date": 1444850422, "last_edit_date": 1444850422, "creation_date": 1444849222, "answer_id": 33133490, "question_id": 33133304, "link": "https://stackoverflow.com/questions/33133304/put-vector-inside-of-a-vector/33133490#33133490", "title": "Put vector inside of a vector", "body": "<p>The linker error will likely go away by placing curly braces next to your default constructor...</p>\n\n<pre><code>Animal() {}\n</code></pre>\n\n<p>In addition, I noticed a bug in your code. To fix it, change this...</p>\n\n<pre><code>while (d++ != 5)\n{\n\n    D.push_back(test);\n\n    D[i].setLength(111);\n    D[i].setLocation(\"test2\");\n    D[i].setWeight(222);\n}\n</code></pre>\n\n<p>to this...</p>\n\n<pre><code>while (d++ != 5)\n{\n\n    D.push_back(test);\n\n    D[d].setLength(111);\n    D[d].setLocation(\"test2\");\n    D[d].setWeight(222);\n}\n</code></pre>\n\n<p>and it will work fine.</p>\n"}], "owner": {"reputation": 52, "user_id": 4175674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b2d5380a74244484d538f6e55c61f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4175674/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 33133490, "answer_count": 1, "score": -1, "last_activity_date": 1444850422, "creation_date": 1444848564, "last_edit_date": 1444848946, "question_id": 33133304, "link": "https://stackoverflow.com/questions/33133304/put-vector-inside-of-a-vector", "title": "Put vector inside of a vector", "body": "<p>i've been trying to make a function that can store vectors inside a vector and im having problems. I have made it work for vectors of int, but now im trying to use objects to fill it up and im having problems.</p>\n\n<p>this is my header file: </p>\n\n<pre><code>class Animal\n{\npublic:\n    Animal();\n    ~Animal();\n\n    Animal(int , int, std::string);\n\n    void setLength(int);\n    void setWeight(int);\n    void setLocation(std::string);\n\n    int getLength();\n    int getWeight();\n    std::string getLocation();\nprivate:\n    int length_;\n    int weight_;\n    std::string location_;\n};\n</code></pre>\n\n<p>this is my cpp file:</p>\n\n<pre><code>Animal::Animal(int length, int weight, std::string location) : length_(length), weight_(weight), location_(location)\n{} \n\nvoid Animal::setLength(int length){\n    length_ = length;\n}\nvoid Animal::setWeight(int weight){\n    weight_ = weight;\n}\nvoid Animal::setLocation(std::string location){\n    location_ = location;\n}\n\nint Animal::getLength(){\n    return length_;\n}\nint Animal::getWeight(){\n    return weight_;\n}\nstd::string Animal::getLocation(){\n    return location_;\n}\n\nAnimal::~Animal()\n{\n}\n</code></pre>\n\n<p>and here is my main: </p>\n\n<pre><code>int _tmain(int argc, _TCHAR* argv[])\n{\n    Animal test;\n\n    int i = -1;\n    int d = -1;\n    std::vector&lt;std::vector&lt;Animal&gt; &gt;N;\n    std::vector&lt;Animal&gt;M;\n    std::vector&lt;Animal&gt;D;\n\n    while (i++ != 5)\n    {\n        M.push_back(test);\n        M[i].setLength(20);\n        M[i].setLocation(\"test\");\n        M[i].setWeight(30);\n    }\n\n    N.push_back(M);\n\n    while (d++ != 5)\n    {\n        D.push_back(test);\n        D[i].setLength(111);\n        D[i].setLocation(\"test2\");\n        D[i].setWeight(222);\n    }\n\n    N.push_back(D);\n\n    std::cout &lt;&lt; N[0][4].getLength() &lt;&lt; std::endl;\n    std::cout &lt;&lt; N[1][4].getLength();\n\n    return 0;\n}\n</code></pre>\n\n<p>When i try to build i get two errors: </p>\n\n<blockquote>\n  <p>error LNK2019: unresolved external symbol \"public: __thiscall Animal::Animal(void)\" (??0Animal@@QAE@XZ) referenced in function _wmain </p>\n</blockquote>\n\n<p>And </p>\n\n<blockquote>\n  <p>error LNK1120: 1 unresolved externals</p>\n</blockquote>\n\n<p>Can anyone of you see what I have done wrong? And maybe some of you have a better solution to my problem.</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "edited": false, "score": 0, "creation_date": 1444848641, "post_id": 33133289, "comment_id": 54078144, "body": "Can you post the code you&#39;ve tried?"}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "edited": false, "score": 1, "creation_date": 1444848784, "post_id": 33133289, "comment_id": 54078231, "body": "I tried to send a <code>ID_FILE_OPEN</code> message to my MainFrame, did not work. Tried calling <code>CWinAppEx::OnFileOpen</code> but it is protected."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1444850411, "post_id": 33133289, "comment_id": 54079165, "body": "I believe the message you need to send is <code>WM_COMMAND</code>, with <code>ID_FILE_OPEN</code> as a parameter. The details may be a bit off, but that might get you in the right direction."}], "answers": [{"comments": [{"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 1, "creation_date": 1444850494, "post_id": 33133549, "comment_id": 54079221, "body": "You can add this to <code>MainFrame</code> message map: <code>ON_COMMAND(ID_FILE_OPEN, onfileopen)</code> then define <code>onfileopen()</code> <code>CFileDialog dlg(TRUE, ...); if (dlg.DoModal() == IDOK) MessageBox(dlg.GetFileName());</code>"}], "tags": [], "owner": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "is_accepted": false, "score": 2, "last_activity_date": 1444849413, "creation_date": 1444849413, "answer_id": 33133549, "question_id": 33133289, "link": "https://stackoverflow.com/questions/33133289/mfc-trigger-id-file-open-command/33133549#33133549", "title": "MFC trigger ID_FILE_OPEN command", "body": "<p>You\u2019ll need to design your button handler code to create an instance of the <a href=\"https://msdn.microsoft.com/en-us/library/wh5hz49d(v=vs.120).aspx\" rel=\"nofollow\">CFileDialog</a> class.  Make sure to set the appropriate flags when you construct the object.  Then call its DoModal method.  If you need more control, you can derive your own class from CFileDialog.  You should be able to search and find plenty of examples.</p>\n"}, {"tags": [], "owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "is_accepted": true, "score": 2, "last_activity_date": 1444851033, "creation_date": 1444851033, "answer_id": 33134004, "question_id": 33133289, "link": "https://stackoverflow.com/questions/33133289/mfc-trigger-id-file-open-command/33134004#33134004", "title": "MFC trigger ID_FILE_OPEN command", "body": "<p>If you only want to invoke the predefined File->Open action, post this message:</p>\n\n<pre><code>AfxGetMainWnd()-&gt;PostMessage(WM_COMMAND, ID_FILE_OPEN, 0);\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "accepted_answer_id": 33134004, "answer_count": 2, "score": 1, "last_activity_date": 1444851033, "creation_date": 1444848515, "question_id": 33133289, "link": "https://stackoverflow.com/questions/33133289/mfc-trigger-id-file-open-command", "title": "MFC trigger ID_FILE_OPEN command", "body": "<p>I have a standard SDI app in MFC and I would like to trigger the standard File->Open for opening a document from a user button. </p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["c++", "sql", "transactions"], "comments": [{"owner": {"reputation": 3045, "user_id": 956880, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8wevB.png?s=128&g=1", "display_name": "Anonymous Coward", "link": "https://stackoverflow.com/users/956880/anonymous-coward"}, "edited": false, "score": 0, "creation_date": 1444851307, "post_id": 33133243, "comment_id": 54079677, "body": "Why don&#39;t you update memory after updating the database?"}, {"owner": {"reputation": 555, "user_id": 5071598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-32mDN1SXPKI/AAAAAAAAAAI/AAAAAAAAAAA/FQIq7RpsTQk/photo.jpg?sz=128", "display_name": "Gary Jackson", "link": "https://stackoverflow.com/users/5071598/gary-jackson"}, "reply_to_user": {"reputation": 3045, "user_id": 956880, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8wevB.png?s=128&g=1", "display_name": "Anonymous Coward", "link": "https://stackoverflow.com/users/956880/anonymous-coward"}, "edited": false, "score": 0, "creation_date": 1444852448, "post_id": 33133243, "comment_id": 54080326, "body": "I have to interleave updating memory and the database, and memory updates could fail. Basically, I think what I need to do is test to see if the memory update would fail and batch it up if it won&#39;t, then make the fail-proof memory updates after the transaction has been committed. I don&#39;t like that since it makes the code harder to read, but <i>c&#39;est la vie</i>."}], "owner": {"reputation": 555, "user_id": 5071598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-32mDN1SXPKI/AAAAAAAAAAI/AAAAAAAAAAA/FQIq7RpsTQk/photo.jpg?sz=128", "display_name": "Gary Jackson", "link": "https://stackoverflow.com/users/5071598/gary-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444848384, "creation_date": 1444848384, "question_id": 33133243, "link": "https://stackoverflow.com/questions/33133243/transactions-across-permanent-and-ephemeral-in-memory-data", "title": "Transactions across permanent and ephemeral (in-memory) data", "body": "<p>I'd like to have transactions that span across both persistent data and in-memory data. Basically, I'd like to do something like this (in pseudocode form):</p>\n\n<pre><code> 1: try\n 2:     begin transaction;\n 3:     query the database;\n 4:     update memory;\n 5:     update the database;\n 6:     commit transaction;\n 7: catch (exception E)\n 8:     rollback transaction;\n 9:     throw E;\n10: end try\n</code></pre>\n\n<p>Where, when we roll back the transaction in line 8, the updates in line 4 are <em>also</em> rolled back. I understand that a general solution to rolling back the line 4 updates may be impractical. However, are there techniques, data structures, or libraries that will help me do what I want?</p>\n"}, {"tags": ["c++", "windows", "fsync"], "comments": [{"owner": {"reputation": 42799, "user_id": 720999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04ee78e90161fa1c4dce14d615315160?s=128&d=identicon&r=PG", "display_name": "kostix", "link": "https://stackoverflow.com/users/720999/kostix"}, "edited": false, "score": 3, "creation_date": 1444848515, "post_id": 33133222, "comment_id": 54078059, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364439\" rel=\"nofollow noreferrer\"><code>FlushFileBuffers</code></a>?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 687459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/944d05e1be222ac3fcda881cd61d5a77?s=128&d=identicon&r=PG", "display_name": "user687459", "link": "https://stackoverflow.com/users/687459/user687459"}, "edited": false, "score": 0, "creation_date": 1444850384, "post_id": 33133341, "comment_id": 54079153, "body": "What do you mean by &quot;it only applies to file handles&quot; ? If I used by file* and fopen so fflush will be enough?"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "reply_to_user": {"reputation": 123, "user_id": 687459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/944d05e1be222ac3fcda881cd61d5a77?s=128&d=identicon&r=PG", "display_name": "user687459", "link": "https://stackoverflow.com/users/687459/user687459"}, "edited": false, "score": 0, "creation_date": 1444851260, "post_id": 33133341, "comment_id": 54079642, "body": "@user687459 - Correct, <code>fflush</code> is meant to work on <code>FILE *</code> types, so you should be good to go."}, {"owner": {"reputation": 123, "user_id": 687459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/944d05e1be222ac3fcda881cd61d5a77?s=128&d=identicon&r=PG", "display_name": "user687459", "link": "https://stackoverflow.com/users/687459/user687459"}, "edited": false, "score": 0, "creation_date": 1444853960, "post_id": 33133341, "comment_id": 54081238, "body": "It doesn&#39;t work! The full story is that I write file of ~50MB and old file is also exists . After I write it, then I copy it to other location on PC but when I do the copy the new file is still doesn&#39;t updating so it copy the old file or corrupted file of the new version... Any ideas?"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "reply_to_user": {"reputation": 123, "user_id": 687459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/944d05e1be222ac3fcda881cd61d5a77?s=128&d=identicon&r=PG", "display_name": "user687459", "link": "https://stackoverflow.com/users/687459/user687459"}, "edited": false, "score": 1, "creation_date": 1444854531, "post_id": 33133341, "comment_id": 54081578, "body": "So you&#39;re trying to keep two different files in sync across computers?  That&#39;s not what <code>fsync</code> or <code>fflush</code> does at all.  You might want to open a new question and include that specific information."}, {"owner": {"reputation": 63488, "user_id": 729881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdfaf0aad74fef442e2ffc9999ef9c1?s=128&d=identicon&r=PG", "display_name": "Edward Thomson", "link": "https://stackoverflow.com/users/729881/edward-thomson"}, "edited": false, "score": 0, "creation_date": 1512648932, "post_id": 33133341, "comment_id": 82349171, "body": "<code>fflush</code> flushes the program&#39;s I/O buffers to the kernel syscalls.  It does <i>not</i> emulate or call <code>fsync</code> or <code>FlushFileBuffers</code>, both of which make sure that the <i>kernel</i> has written its buffers to disk.  This is an important distinction."}], "tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": false, "score": 1, "last_activity_date": 1444848666, "creation_date": 1444848666, "answer_id": 33133341, "question_id": 33133222, "link": "https://stackoverflow.com/questions/33133222/alternative-to-fsync-for-windows-c/33133341#33133341", "title": "Alternative to Fsync for windows c++", "body": "<p>The <a href=\"http://man7.org/linux/man-pages/man3/fflush.3.html\" rel=\"nofollow\"><code>fflush</code></a> function may do what you need, but it only applies to file handles.</p>\n\n<p>Alternately, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364439%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\"><code>FlushFileBuffers</code></a> may work for you, but it's Windows specific.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 2029438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416161b4824ef98a3d51e185c784cbd9?s=128&d=identicon&r=PG", "display_name": "Ruud Althuizen", "link": "https://stackoverflow.com/users/2029438/ruud-althuizen"}, "is_accepted": false, "score": 3, "last_activity_date": 1510754904, "creation_date": 1510754904, "answer_id": 47309543, "question_id": 33133222, "link": "https://stackoverflow.com/questions/33133222/alternative-to-fsync-for-windows-c/47309543#47309543", "title": "Alternative to Fsync for windows c++", "body": "<p>From the man-page:</p>\n\n<blockquote>\n  <p><strong>fflush()</strong> forces a write of all user-space\n         buffered data for the given output or update stream via the stream's\n         underlying write function.</p>\n</blockquote>\n\n<p>The mentioned write function tells the operating system what the contents of the file should be. At this point all changes will be held in filesystem caches before actually being committed to disk.</p>\n\n<p>The POSIX function <code>fsync()</code> tells the operating system to sync all changes from its caches to disk. As others have said you can use <code>FlushFileBuffers</code> on the Windows platform.</p>\n"}], "owner": {"reputation": 123, "user_id": 687459, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/944d05e1be222ac3fcda881cd61d5a77?s=128&d=identicon&r=PG", "display_name": "user687459", "link": "https://stackoverflow.com/users/687459/user687459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6265, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1518018886, "creation_date": 1444848302, "question_id": 33133222, "link": "https://stackoverflow.com/questions/33133222/alternative-to-fsync-for-windows-c", "title": "Alternative to Fsync for windows c++", "body": "<p>Is there an alternative to fsync for windows? (C++ builder)</p>\n\n<p>Fsync required to include unistd.h and it's only for unix systems </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "memory", "linker"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1444848466, "post_id": 33133217, "comment_id": 54078029, "body": "The linker outputs relative addresses, the OS turns them into absolute ones when it loads the program."}, {"owner": {"reputation": 475, "user_id": 640303, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54db3bce395ecbba2d776f29582b18e0?s=128&d=identicon&r=PG", "display_name": "StaticBug", "link": "https://stackoverflow.com/users/640303/staticbug"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1444848747, "post_id": 33133217, "comment_id": 54078206, "body": "So addresses of all variables and objects used and defined inside a program have a fixed relationship to the starting address of the program when it is executed? Implying that if I the OS loading the program have enough Memory but not exactly there at the relative addresses the program won&#39;t run?"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1444849078, "post_id": 33133217, "comment_id": 54078390, "body": "&quot;not exactly there at the relative addresses&quot; doesn&#39;t make sense. The program doesn&#39;t load at a relative address. The OS finds room in its address space for the program, loads it there and then fixes up the addresses. Bear in mind that modern operating systems use a virtualised address space so every process has more or less all of memory to be loaded into."}, {"owner": {"reputation": 475, "user_id": 640303, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54db3bce395ecbba2d776f29582b18e0?s=128&d=identicon&r=PG", "display_name": "StaticBug", "link": "https://stackoverflow.com/users/640303/staticbug"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1444849231, "post_id": 33133217, "comment_id": 54078484, "body": "A contigious space in the Memory then? so either the whole program fits in a conitigous space or no space at all?Sorry about ignorance, but I work on it every now and then."}], "answers": [{"comments": [{"owner": {"reputation": 475, "user_id": 640303, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54db3bce395ecbba2d776f29582b18e0?s=128&d=identicon&r=PG", "display_name": "StaticBug", "link": "https://stackoverflow.com/users/640303/staticbug"}, "edited": false, "score": 0, "creation_date": 1444848852, "post_id": 33133290, "comment_id": 54078265, "body": "I got that part, but my question remains. Please refer to my comment on the question itself"}, {"owner": {"reputation": 304, "user_id": 5439214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f248962bfc33327628f26c5f193a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "cowdrool", "link": "https://stackoverflow.com/users/5439214/cowdrool"}, "reply_to_user": {"reputation": 475, "user_id": 640303, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54db3bce395ecbba2d776f29582b18e0?s=128&d=identicon&r=PG", "display_name": "StaticBug", "link": "https://stackoverflow.com/users/640303/staticbug"}, "edited": false, "score": 0, "creation_date": 1444849242, "post_id": 33133290, "comment_id": 54078494, "body": "Edited,  although I&#39;m not quite sure what youre asking exactly. The operating system determines the addresses which it includes in the memory space it provides to the program, and it uses that range of addresses to determine where to resolve each relative address to."}], "tags": [], "owner": {"reputation": 304, "user_id": 5439214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f248962bfc33327628f26c5f193a0ab?s=128&d=identicon&r=PG&f=1", "display_name": "cowdrool", "link": "https://stackoverflow.com/users/5439214/cowdrool"}, "is_accepted": true, "score": 2, "last_activity_date": 1444848913, "last_edit_date": 1444848913, "creation_date": 1444848519, "answer_id": 33133290, "question_id": 33133217, "link": "https://stackoverflow.com/questions/33133217/linker-replacing-symbolic-references-with-memory-addresses/33133290#33133290", "title": "Linker replacing symbolic references with memory addresses?", "body": "<p>The  memory addresses are <em>relative to the final executable</em> -- they are not absolute, that would be impossible to determine during linking.</p>\n\n<p>When an executable is run in Windows, it is granted by the operating system a <em>virtual memory space</em> or <em>virtual address space</em> of fixed size, usually 4GB on 32-bit OSs. Each process has its own virtual space where it can read and write data to/from memory. Then, the executable and any dependencies are  written to this space, so their location is now known and within the VAS. Now, upon execution, the operating system will take the relative addresses provided by the linker and translate them to absolute addresses. These are determined by the location of the executable in the virtual memory space.</p>\n"}], "owner": {"reputation": 475, "user_id": 640303, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54db3bce395ecbba2d776f29582b18e0?s=128&d=identicon&r=PG", "display_name": "StaticBug", "link": "https://stackoverflow.com/users/640303/staticbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 1, "accepted_answer_id": 33133290, "answer_count": 1, "score": 2, "last_activity_date": 1444848913, "creation_date": 1444848285, "question_id": 33133217, "link": "https://stackoverflow.com/questions/33133217/linker-replacing-symbolic-references-with-memory-addresses", "title": "Linker replacing symbolic references with memory addresses?", "body": "<p>From <a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"nofollow\">http://blog.jamesdbloom.com/JVMInternals.html</a> I found this</p>\n\n<blockquote>\n  <p>C/C++ code is typically compiled to an object file then multiple object files are linked together to product a usable artifact such as an executable or dll. During the linking phase symbolic references in each object file are replaced with an actual memory address relative to the final executable.</p>\n</blockquote>\n\n<p>How is it possible to determine the relative Memory addresses during linking, if the OS running the executable is the one who is responsible for allocating Memory during Runtime and this Memory gets allocated whereever there is free Memory space (My understanding of how things work).</p>\n"}, {"tags": ["c++", "arrays", "struct", "initialization"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444848519, "post_id": 33133187, "comment_id": 54078062, "body": "If you have compilation errors, make sure you include the exact text of the messages."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1444849198, "post_id": 33133187, "comment_id": 54078467, "body": "Important bit to know about the array-pointer shuffle. Once that array is decayed to a pointer, it&#39;s a pointer. You&#39;ve lost a piece of essential information: size."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444849520, "post_id": 33133187, "comment_id": 54078660, "body": "To me it seems odd that you specify the size in the main loop, as you use this size in the test function."}, {"owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444849843, "post_id": 33133187, "comment_id": 54078845, "body": "Chiel, without specifying size, we cannot declare an array."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444849934, "post_id": 33133187, "comment_id": 54078906, "body": "@sachin My point is that your test function also assumes that the array is of size two, even though it cannot know that. The function is therefore dangerous. Passing an ABC array of size 1 would trigger a segfault."}, {"owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "reply_to_user": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444850091, "post_id": 33133187, "comment_id": 54078990, "body": "@Chiel, I agree to your point. I just posted this sample to see how the syntax works. Exception handling is a concern that I will tackle separately."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444851025, "post_id": 33133187, "comment_id": 54079528, "body": "@sachin11 In my example you don&#39;t have to worry about it."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444851218, "post_id": 33133187, "comment_id": 54079628, "body": "Non-trivial, I&#39;m afraid. An iniitializer list is intended to be used at initialization. You could initialize a temp array inside the function and then memcpy the temp into a, but that&#39;s ugly and dumb. Plus it&#39;s an almost certain fubar if you try it on a non-trivial object."}], "answers": [{"tags": [], "owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "is_accepted": false, "score": 0, "last_activity_date": 1444848889, "last_edit_date": 1444848889, "creation_date": 1444848539, "answer_id": 33133300, "question_id": 33133187, "link": "https://stackoverflow.com/questions/33133187/c-array-of-struct-initialization/33133300#33133300", "title": "C++ Array of struct initialization", "body": "<p>Initialize each struct accessing its index in <code>a</code> array.</p>\n\n<pre><code>void test(ABC * a)\n{\n    a[0] = {2,3};\n    a[1] = {4,5};\n    ...\n</code></pre>\n\n<p>This way <code>{{2,3},{4,5}};</code> will work on initialization, i.e</p>\n\n<pre><code>ABC arr[2] = {\n    {2,3},\n    {4,5}\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444849312, "post_id": 33133498, "comment_id": 54078539, "body": "Why are you giving such an anti-advice?"}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444849735, "post_id": 33133498, "comment_id": 54078783, "body": "Sergey, some are trying to help instead of posting snarky comments."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444849775, "post_id": 33133498, "comment_id": 54078801, "body": "Help someone by drowning him?"}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444849783, "post_id": 33133498, "comment_id": 54078810, "body": "If you absolutely need to &#39;discover&#39; the size of the array and you don&#39;t want to pass it as a parameter like in my example above, look into this: <a href=\"http://www.cplusplus.com/faq/sequences/arrays/sizeof-array/\" rel=\"nofollow noreferrer\">cplusplus.com/faq/sequences/arrays/sizeof-array</a>"}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1444849843, "post_id": 33133498, "comment_id": 54078846, "body": "If you are using C++ and you need the size of the array, it makes a lot more sense to use a std container."}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 0, "creation_date": 1444849873, "post_id": 33133498, "comment_id": 54078867, "body": "Sergey, if you have an actual REASON why my solution is wrong post it, otherwise stop trolling."}, {"owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444850022, "post_id": 33133498, "comment_id": 54078950, "body": "SunKnight0, without the size info passed, there is a chance of indexoutofbound exception. But if we ensure like in this simple code that we don&#39;t go out of bound, I guess size info should not be required for initialization."}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 0, "creation_date": 1444850541, "post_id": 33133498, "comment_id": 54079250, "body": "sachin11 I agree. If you notice my example I pass it as a parameter (elements) and use it to limit the initialization loop. It would be nice to be able to just derive it from the pointer (like in my first non-working piece of code) but given how complicated that can get (see the article I linked above) it is much simpler to just pass it as a parameter."}], "tags": [], "owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "is_accepted": false, "score": -1, "last_activity_date": 1444850340, "last_edit_date": 1444850340, "creation_date": 1444849243, "answer_id": 33133498, "question_id": 33133187, "link": "https://stackoverflow.com/questions/33133187/c-array-of-struct-initialization/33133498#33133498", "title": "C++ Array of struct initialization", "body": "<p>You have to first find out the actual size of the array and then iterate to initialize it. </p>\n\n<p><strong>Will not work, see below</strong></p>\n\n<pre><code>void test(ABC* a) {        \n    int value=2;\n    for (int i=0;i++;i&lt;sizeof(a)/sizeof(ABC)) {\n        a[i].a=value;\n        a[i].b=value+1;\n        value+=2; } }\n</code></pre>\n\n<p>I am not 100% sure the sizeof(a) will work in giving you the size of the array. If that does not work you will have to pass the size of the array as a parameter:</p>\n\n<pre><code>void test(ABC* a, int elements) {        \n    int value=2;\n    for (int i=0;i++;i&lt;elements) {\n        a[i].a=value;\n        a[i].b=value+1;\n        value+=2; } }\n\nint main() {\n    ABC arr[2];\n    test(arr,2); }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444851734, "post_id": 33133816, "comment_id": 54079916, "body": "Though this isn&#39;t using arrays as what my question asked, I actually like the simplicity of this answer :)"}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "reply_to_user": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444851934, "post_id": 33133816, "comment_id": 54080026, "body": "The way you use the array size discomforted me. You could also create a function that passed back an array if that is important to you?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444853835, "post_id": 33133816, "comment_id": 54081157, "body": "@sachin11 about as often as not you will find that it&#39;s <code>vector</code> for the win in comparisons to arrays."}, {"owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 0, "creation_date": 1444854021, "post_id": 33133816, "comment_id": 54081274, "body": "Agree to both of you on this. Haven&#39;t used vectors a great deal. Read about it now and really impressed by the power and flexibility it provides :) Will mark this as correct solution!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "edited": false, "score": 1, "creation_date": 1444855173, "post_id": 33133816, "comment_id": 54081926, "body": "@sachin11 One small tweak: <code>a.insert(a.end(), {{2,3},{4,5}});</code>  Now you&#39;re back to your one-line solution."}], "tags": [], "owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "is_accepted": true, "score": 2, "last_activity_date": 1444851236, "last_edit_date": 1444851236, "creation_date": 1444850345, "answer_id": 33133816, "question_id": 33133187, "link": "https://stackoverflow.com/questions/33133187/c-array-of-struct-initialization/33133816#33133816", "title": "C++ Array of struct initialization", "body": "<p>You could use a setup like this, making use of the C++ standard library. Compile it with the <code>-std=c++11</code> flag to allow for the initialization I did in the <code>push_back</code>:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nstruct ABC\n{\n    int a;\n    int b;\n};\n\nvoid test(std::vector&lt;ABC&gt;&amp; a)\n{\n\n    a.push_back({2,3});\n    a.push_back({4,5});\n}\n\nint main()\n{\n    std::vector&lt;ABC&gt; arr;\n    test(arr);\n\n    // Test the outcome...\n    std::cout &lt;&lt; \"The size is: \" &lt;&lt; arr.size() &lt;&lt; std::endl;\n    for (ABC&amp; a : arr)\n        std::cout &lt;&lt; \"Element (\" &lt;&lt; a.a &lt;&lt; \",\" &lt;&lt; a.b &lt;&lt; \")\" &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 657303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b897cca8d5f0fb180f87c9f57b43720?s=128&d=identicon&r=PG", "display_name": "sachin11", "link": "https://stackoverflow.com/users/657303/sachin11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 33133816, "answer_count": 3, "score": 0, "last_activity_date": 1444851236, "creation_date": 1444848187, "last_edit_date": 1444850461, "question_id": 33133187, "link": "https://stackoverflow.com/questions/33133187/c-array-of-struct-initialization", "title": "C++ Array of struct initialization", "body": "<p>I am not really used to coding in C++ and this probably is a simple issue that I am not able to get the correct syntax of.  </p>\n\n<p>What I am basically trying to achieve is that, from one method where I declare an array of a struct (size not specified), I call a method where I pass this array. The method should initialize the values of the array. I tried to get a simple code working but getting errors. The following piece of code gives me a compilation error. Can someone point out how to achieve this?  </p>\n\n<pre><code>struct ABC\n{\nint a;\nint b;\n};\n\nvoid test(ABC * a)\n{\na[] = {{2,3},{4,5}};\n}\n\nint main() {\n    ABC arr[2];\n    test(arr);\n}     \n</code></pre>\n\n<p><strong>EDIT:</strong><br>\nThe following works, but I would like the initialization to work in one line.</p>\n\n<pre><code>struct ABC\n{\nint a;\nint b;\n};\n\nvoid test(ABC *a)\n{\na[0].a = 2;\na[0].b = 3;\na[1].a = 4;\na[1].b = 5;\n}\n\nint main() {\n    ABC arr[2];\n    test(arr);\n}\n</code></pre>\n"}, {"tags": ["php", "c++", "visual-studio", "swig"], "answers": [{"comments": [{"owner": {"reputation": 1438, "user_id": 3449811, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/fc547f81ed58be06d2f08450ee68cca6?s=128&d=identicon&r=PG&f=1", "display_name": "Androidicus", "link": "https://stackoverflow.com/users/3449811/androidicus"}, "edited": false, "score": 0, "creation_date": 1444900777, "post_id": 33136194, "comment_id": 54098878, "body": "Thanks for your response. I tried that but the command php-config is not found from within the VS command prompt."}], "tags": [], "owner": {"reputation": 759, "user_id": 5166781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e08a3f056e0b36aa3a0375697dfeac6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris H", "link": "https://stackoverflow.com/users/5166781/chris-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1444859429, "creation_date": 1444859429, "answer_id": 33136194, "question_id": 33133034, "link": "https://stackoverflow.com/questions/33133034/compile-php-extension-using-swig-on-windows/33136194#33136194", "title": "Compile PHP extension using SWIG on Windows", "body": "<p>The section of that command enclosed in backticks isn't a gcc argument, per se. The expression in the backticks is evaluated by the shell, and then that expression (including the backticks) is replaced by its result before actually being executed.</p>\n\n<p>In this case, <code>php-config --includes</code> gives the arguments gcc needs to include all the appropriate php-related headers. On my install, the result is:</p>\n\n<pre><code>I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib\n</code></pre>\n\n<p>That won't necessarily be valid for your computer. Just run <code>php-config --includes</code> to get what you what you need, take that output, and put it in the place of the <code>'php-config --includes'</code> in the example you found. </p>\n"}], "owner": {"reputation": 1438, "user_id": 3449811, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/fc547f81ed58be06d2f08450ee68cca6?s=128&d=identicon&r=PG&f=1", "display_name": "Androidicus", "link": "https://stackoverflow.com/users/3449811/androidicus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1444859429, "creation_date": 1444847692, "question_id": 33133034, "link": "https://stackoverflow.com/questions/33133034/compile-php-extension-using-swig-on-windows", "title": "Compile PHP extension using SWIG on Windows", "body": "<p>I'd like to create a PHP wrapper for an existing C++ library. I found a tutorial online that uses gcc but I'd like to do the same thing using the Visual Studio command line on windows. \nI started doing this: </p>\n\n<pre><code>swig -php example.i\n</code></pre>\n\n<p>Which worked well. Then I have to build the created wrappers as an extension. The SWIG tutorial suggests the following: </p>\n\n<pre><code>gcc `php-config --includes` -fpic -c example_wrap.c\ngcc -shared example_wrap.o -o example.so\n</code></pre>\n\n<p>What is the VS equivalent to those two calls? I'd use <em>cl</em> and <em>link</em> instead of <em>gcc</em> obviously but what to put instead of 'php-config --includes'? The VS command prompt does not recognize the php-config command as well as the '--'. </p>\n\n<p>Thanks for you help.</p>\n"}, {"tags": ["c++", "unix", "filesystems", "popen"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1444847762, "post_id": 33132871, "comment_id": 54077620, "body": "Have you considered using <code>zlib</code>?"}, {"owner": {"reputation": 1130, "user_id": 2043876, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49492119d7a66e43e549f0ff04d55598?s=128&d=identicon&r=PG", "display_name": "Tony Ruth", "link": "https://stackoverflow.com/users/2043876/tony-ruth"}, "edited": false, "score": 0, "creation_date": 1444848495, "post_id": 33132871, "comment_id": 54078047, "body": "Does the segfault occur during popen or during a later command? Have you tried running the code through valgrind? It can often tell you what the segfault was."}, {"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1444848878, "post_id": 33132871, "comment_id": 54078280, "body": "Also, post the entire stack trace from a segfault.  It could provide clues as to the root cause."}, {"owner": {"reputation": 555, "user_id": 5071598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-32mDN1SXPKI/AAAAAAAAAAI/AAAAAAAAAAA/FQIq7RpsTQk/photo.jpg?sz=128", "display_name": "Gary Jackson", "link": "https://stackoverflow.com/users/5071598/gary-jackson"}, "edited": false, "score": 0, "creation_date": 1444849506, "post_id": 33132871, "comment_id": 54078652, "body": "I haven&#39;t been able to replicate your problem. In addition to the suggestions about the stack trace, you may consider providing a listing for a minimal program that produces the error."}, {"owner": {"reputation": 21, "user_id": 4322930, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1306389229/picture?type=large", "display_name": "Sam Appleton", "link": "https://stackoverflow.com/users/4322930/sam-appleton"}, "edited": false, "score": 0, "creation_date": 1444849951, "post_id": 33132871, "comment_id": 54078912, "body": "We&#39;ll try using &quot;zlib&quot; directly - by opening the file descriptor and then passing to zlib. The latency is quite long because we have to try at a customer site, since obviously we can&#39;t replicate internally."}, {"owner": {"reputation": 21, "user_id": 4322930, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1306389229/picture?type=large", "display_name": "Sam Appleton", "link": "https://stackoverflow.com/users/4322930/sam-appleton"}, "edited": false, "score": 0, "creation_date": 1444849972, "post_id": 33132871, "comment_id": 54078926, "body": "We do extensive valgrind --leak_check=full regressions and this has never come up"}, {"owner": {"reputation": 21, "user_id": 4322930, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1306389229/picture?type=large", "display_name": "Sam Appleton", "link": "https://stackoverflow.com/users/4322930/sam-appleton"}, "edited": false, "score": 0, "creation_date": 1445449695, "post_id": 33132871, "comment_id": 54333069, "body": "Barmar - thanks so much. I tried switching directly to a istream-derived class that uses zlib/bzlib directly (rather than POPEN) and it appears these problems are resolved."}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 5071598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-32mDN1SXPKI/AAAAAAAAAAI/AAAAAAAAAAA/FQIq7RpsTQk/photo.jpg?sz=128", "display_name": "Gary Jackson", "link": "https://stackoverflow.com/users/5071598/gary-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1444858438, "last_edit_date": 1444858438, "creation_date": 1444854615, "answer_id": 33135011, "question_id": 33132871, "link": "https://stackoverflow.com/questions/33132871/crash-when-using-file-descriptor-with-popen-across-unix-file-system/33135011#33135011", "title": "crash when using FILE descriptor with popen across unix file system", "body": "<p>When you test it, SIGPIPE has its default action (kill the gzip process). When the process runs on your client's side, SIGPIPE is masked. Here's a minimal program that reproduces the error:</p>\n\n<pre><code>#include &lt;signal.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\n#define SZ 4096\n\nvoid mask()\n{\n    struct sigaction sa;\n    sa.sa_handler = SIG_IGN;\n    sa.sa_flags = 0;\n    if (-1 == sigaction(SIGPIPE, &amp;sa, 0))\n    {\n        perror(\"sigaction\");\n        exit(1);\n    }\n}\n\nint main(int argc, char ** argv)\n{\n    char buf[SZ];\n\n#ifdef MASK\n    mask();\n#endif\n\n    FILE * f = popen(\"gzip -dc foo.gz\", \"r\");\n    if (0 != fread(buf, SZ, 1, f))\n    {\n        fwrite(buf, SZ, 1, stdout);\n    }\n\n    fprintf(stderr, \"%d\\n\", pclose(f));\n}\n</code></pre>\n\n<p>And here's the output with and without MASK:</p>\n\n<pre><code>$ gcc -o foo foo.c\n$ gcc -DMASK -o foomask foo.c\n$ /foo &gt; /dev/null\n13\n$ /foomask &gt; /dev/null \n\ngzip: stdout: Broken pipe\n256\n$\n</code></pre>\n\n<p>In short, it has nothing to do with NFS. That's a red herring.</p>\n"}], "owner": {"reputation": 21, "user_id": 4322930, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1306389229/picture?type=large", "display_name": "Sam Appleton", "link": "https://stackoverflow.com/users/4322930/sam-appleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444858438, "creation_date": 1444847104, "last_edit_date": 1444847678, "question_id": 33132871, "link": "https://stackoverflow.com/questions/33132871/crash-when-using-file-descriptor-with-popen-across-unix-file-system", "title": "crash when using FILE descriptor with popen across unix file system", "body": "<p>We have a piece of legacy code that uses Flex with C-style FILE* descriptors. To support reading compressed files into Flex, we extended the \"open\" semantics to open gzip'ed files using</p>\n\n<pre><code>FILE* file = popen(\"gzip -cd &lt;filename&gt;\");\n</code></pre>\n\n<p>rather than <code>fopen</code>.</p>\n\n<p>We've encountered some problems recently where attempting this across a unix filesystem (probably another filesystem mounted using NFS on a NetApp) causes this entire code stream to crash (segfault), the first message we see is</p>\n\n<blockquote>\n  <p>gzip: stdout: Broken Pipe</p>\n</blockquote>\n\n<p>and our own crash frame. \nIf we take the file and move it to the local filesystem where the process is running, there is no segfault and everything works as normal.</p>\n\n<p>What have we tried to replicate or fix?</p>\n\n<ul>\n<li>read files compressed using gzip/ bzip2 etc from internal test NFS filesystems</li>\n<li>verify that the target file can be opened</li>\n<li>\"open\" the file and read a few bytes to make sure it can be opened by this process</li>\n</ul>\n\n<p>All of this succeeds and yet we still encounter the crash. </p>\n\n<p>We are out of ideas and could use some suggestions.</p>\n\n<p>Sam Appleton</p>\n"}, {"tags": ["c++", "sdl"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1444847372, "post_id": 33132787, "comment_id": 54077386, "body": "@PaulR that dupe target does not have an answer"}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444847496, "post_id": 33132787, "comment_id": 54077455, "body": "@NathanOliver: true, but it&#39;s the same question from the same poster, so the preferred course of action is to go back and improve the original question rather than just re-posting it."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1444847543, "post_id": 33132787, "comment_id": 54077479, "body": "@PaulR Didn&#39;t notice it was the same user.  nvm."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1444847637, "post_id": 33132787, "comment_id": 54077543, "body": "Note that there are tons of other duplicates and near duplicates for this question too - it would have been quicker and easier to just search for the solution than post another question."}], "answers": [{"tags": [], "owner": {"reputation": 1480, "user_id": 3242671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Z8eR8.jpg?s=128&g=1", "display_name": "blakelead", "link": "https://stackoverflow.com/users/3242671/blakelead"}, "is_accepted": false, "score": 2, "last_activity_date": 1444886613, "last_edit_date": 1444886613, "creation_date": 1444847148, "answer_id": 33132886, "question_id": 33132787, "link": "https://stackoverflow.com/questions/33132787/undefined-reference-to-sdl-main-in-dev-c/33132886#33132886", "title": "Undefined reference to &#39;SDL_main&#39; in Dev c++", "body": "<p>This error is common when using <code>int main()</code> instead of :</p>\n\n<pre><code>int main(int argc, char **argv)\n//or\nint main(int argc, char *argv[])\n</code></pre>\n\n<p>Try replacing it with either of these.</p>\n\n<p><strong>Edit:</strong> After seeing the question you asked two days ago about he same issue, I will add some clarification :</p>\n\n<ul>\n<li><p>When you create your project, make sure you choose a <code>Win32 GUI</code> or <code>Win32 Console</code> application.</p></li>\n<li><p>After creating your project, I assume you added the following command line to your project parameters under linker : <code>-lmingw32 - -lSD2main -lSDL2</code></p></li>\n<li><p>Then put <code>SDL2.dll</code> in your project directory where your executable will be.</p></li>\n<li><p>Include <code>SDL2.h</code> before <code>main(int argc, char **argv)</code> begins in your source code.</p></li>\n</ul>\n"}], "owner": {"reputation": 391, "user_id": 2891869, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b5bc19b6c3b574dafaf27154080cb315?s=128&d=identicon&r=PG&f=1", "display_name": "user2891869", "link": "https://stackoverflow.com/users/2891869/user2891869"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "closed_date": 1444847197, "answer_count": 1, "score": 0, "last_activity_date": 1444886613, "creation_date": 1444846817, "question_id": 33132787, "link": "https://stackoverflow.com/questions/33132787/undefined-reference-to-sdl-main-in-dev-c", "closed_reason": "Duplicate", "title": "Undefined reference to &#39;SDL_main&#39; in Dev c++", "body": "<p>i am currently having problem compiling my project in dev c++, what i did was i accidently pressed 'Rebuild all' instead of compile and run and now it is showing this error.</p>\n\n<p><code>Undefined Reference to 'SDL_main'</code> , what can i do in order to fix this error?</p>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 3, "creation_date": 1444846597, "post_id": 33132673, "comment_id": 54076947, "body": "what precisely did you try? Are you sure it&#39;s not <code>if(x &gt; 0)</code>?"}, {"owner": {"reputation": 2607, "user_id": 2592962, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6vDLz.jpg?s=128&g=1", "display_name": "Will Beason", "link": "https://stackoverflow.com/users/2592962/will-beason"}, "edited": false, "score": 0, "creation_date": 1444846921, "post_id": 33132673, "comment_id": 54077135, "body": "Consider: <code>f(0)=1</code> and <code>f(n)=(n-1) + 2*f(n-1)</code>. If we know the value of <code>n-1</code>, we know the value of <code>n</code>. Could this be written as a for loop?"}], "answers": [{"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1444847363, "post_id": 33132912, "comment_id": 54077380, "body": "There was a related question yesterday: <a href=\"http://stackoverflow.com/questions/33096018/how-should-i-go-about-solving-this-recursion-without-trial-and-error\" title=\"how should i go about solving this recursion without trial and error\">stackoverflow.com/questions/33096018/&hellip;</a>. It appears that <code>if ( x &gt;= 0 )</code> is right. <code>foo(-1) = 1</code>. It so happens that <code>foo(0) = 1</code> too."}, {"owner": {"reputation": 83, "user_id": 5446368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/596bfc2859b50ab98d1002dc820d7e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alan1", "link": "https://stackoverflow.com/users/5446368/alan1"}, "edited": false, "score": 0, "creation_date": 1444870460, "post_id": 33132912, "comment_id": 54087442, "body": "@Walter Thanks for your help. In the question, its <code>if ( x &gt;= 0)</code> Is there any way to make it adapt to it? Yes @Sahu, it is a related question as per the link you posted."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 83, "user_id": 5446368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/596bfc2859b50ab98d1002dc820d7e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alan1", "link": "https://stackoverflow.com/users/5446368/alan1"}, "edited": false, "score": 0, "creation_date": 1444894211, "post_id": 33132912, "comment_id": 54094923, "body": "@Alan1 I think you received a lot of help and hints and you should be able to work that out for yourself. Think of what the result for <code>x=-1</code> will be and start the loop from there. Always check that your recursive and non-recursive functions obtain the same answers."}, {"owner": {"reputation": 83, "user_id": 5446368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/596bfc2859b50ab98d1002dc820d7e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alan1", "link": "https://stackoverflow.com/users/5446368/alan1"}, "edited": false, "score": 0, "creation_date": 1444976720, "post_id": 33132912, "comment_id": 54136274, "body": "@Walter, thanks I have managed to work that out myself. Thank you so much for you help!"}], "tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": true, "score": 3, "last_activity_date": 1444847544, "last_edit_date": 1444847544, "creation_date": 1444847228, "answer_id": 33132912, "question_id": 33132673, "link": "https://stackoverflow.com/questions/33132673/rewriting-a-recursive-function-to-a-non-recursive-function/33132912#33132912", "title": "Rewriting a recursive function to a non-recursive function", "body": "<p>I assume that it really should be <code>if(x&gt;0)</code> in your question.</p>\n\n<p>Then examining your function, we see that <code>foo(0)=1</code> and otherwise that <code>foo(x)=(x-1)+2*foo(x-1)</code>. Thus <code>foo(x)</code> only depends on <code>foo(x-1)</code>. So, you can simply use an iteration to progress the result</p>\n\n<pre><code>int foo(int x)\n{\n  auto result=1;           // result if x=0\n  for(int n=0; n!=x; ++n)  // increment result to desired x\n    result=n+2*result;     // corresponds to (x-1)+2*foo(x-1) in original\n  return result;\n}\n</code></pre>\n\n<p>If it really was <code>if(x&gt;=0)</code> instead, I leave it as an exercise to you to adapt the code.</p>\n"}], "owner": {"reputation": 83, "user_id": 5446368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/596bfc2859b50ab98d1002dc820d7e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alan1", "link": "https://stackoverflow.com/users/5446368/alan1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 33132912, "answer_count": 1, "score": 3, "last_activity_date": 1444847544, "creation_date": 1444846470, "question_id": 33132673, "link": "https://stackoverflow.com/questions/33132673/rewriting-a-recursive-function-to-a-non-recursive-function", "title": "Rewriting a recursive function to a non-recursive function", "body": "<pre><code>int foo(int x)\n{   \n    if (x &gt;= 0)\n    {\n        return (x - 1) + 2 * foo(x - 1);\n    }\n    else\n    {\n        return 1;\n    }\n\n}\n</code></pre>\n\n<p>Hi, I need to rewrite this function such that it will be free of recursion. I tried solving this mathematically, but to no avail. I am new to programming, so any help will be much appreciated. Thanks in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3174, "user_id": 4639336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GvbJg.png?s=128&g=1", "display_name": "reticentroot", "link": "https://stackoverflow.com/users/4639336/reticentroot"}, "edited": false, "score": 0, "creation_date": 1444845961, "post_id": 33132436, "comment_id": 54076547, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1842941/translating-python-dictionary-to-c\">Translating python dictionary to C++</a>"}, {"owner": {"reputation": 83, "user_id": 1545098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b5b9ce35086107c811312a25145be0?s=128&d=identicon&r=PG", "display_name": "Roland Spatzenegger", "link": "https://stackoverflow.com/users/1545098/roland-spatzenegger"}, "edited": false, "score": 1, "creation_date": 1444845975, "post_id": 33132436, "comment_id": 54076557, "body": "Have you read <a href=\"http://stackoverflow.com/questions/22274705/c-nested-map\">stackoverflow.com/questions/22274705/c-nested-map</a> ?"}, {"owner": {"reputation": 23682, "user_id": 18196, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/nTnqA.jpg?s=128&g=1", "display_name": "Frank V", "link": "https://stackoverflow.com/users/18196/frank-v"}, "edited": false, "score": 0, "creation_date": 1444845978, "post_id": 33132436, "comment_id": 54076560, "body": "Are you talking a specific standard library data structure, broad &quot;implement your own&quot; equivalent or are meaning the data structure behind Python&#39;s implementation? (Although note that CPython is implemented in C, not C++...)"}, {"owner": {"reputation": 25650, "user_id": 369872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b4534ace0008370742fe0c8bb942361?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/369872/david"}, "reply_to_user": {"reputation": 3174, "user_id": 4639336, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GvbJg.png?s=128&g=1", "display_name": "reticentroot", "link": "https://stackoverflow.com/users/4639336/reticentroot"}, "edited": false, "score": 0, "creation_date": 1444846307, "post_id": 33132436, "comment_id": 54076755, "body": "@msanti That doesn&#39;t really answer the Q IMO"}, {"owner": {"reputation": 25650, "user_id": 369872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b4534ace0008370742fe0c8bb942361?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/369872/david"}, "edited": false, "score": 1, "creation_date": 1444846394, "post_id": 33132436, "comment_id": 54076818, "body": "There&#39;s no way to do this simply without the use of <code>boost::variant</code> or a similar 3rd party variant-esque class. There&#39;s a library called Json11 which has a variant-esque class for representing json which would be perfect here."}, {"owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "edited": false, "score": 0, "creation_date": 1444846947, "post_id": 33132436, "comment_id": 54077147, "body": "Is the structure dynamic, or known at compile time? In Python it is common to do stuff with (dynamic) nested dictionaries, that you would use (static) structs or classes for in C++. If it really has to be dynamic, <code>boost::property_tree</code> might be an option for you. It comes with a JSON parser."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "reply_to_user": {"reputation": 23682, "user_id": 18196, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/nTnqA.jpg?s=128&g=1", "display_name": "Frank V", "link": "https://stackoverflow.com/users/18196/frank-v"}, "edited": false, "score": 0, "creation_date": 1444874202, "post_id": 33132436, "comment_id": 54088279, "body": "@FrankV i am looking for any data-structure that has similar properties in terms of accessing and inserting data. Thanks David that is a good hint. cdonat: the Type is known in before."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1507499191, "post_id": 33132436, "comment_id": 80221875, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22274705/c-nested-map\">C++: Nested map</a>"}], "owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1069, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1444846258, "creation_date": 1444845660, "last_edit_date": 1495542176, "question_id": 33132436, "link": "https://stackoverflow.com/questions/33132436/equivalent-python-nested-dictionary-in-c", "title": "Equivalent Python Nested Dictionary in C++", "body": "<p>What is the equivalent way of storing Python <strong>nested</strong> Dictionaries in C++</p>\n\n<p><strong>In Python i have:</strong></p>\n\n<pre><code>{\n    'Cloth': {\n        'Tissue':None,\n        'Leather': {\n            'Bandage': None\n        }\n        },\n\n    'Smoke': {\n        'White':{\n            'Smallscale': None,\n            'Largescale':None\n        }\n    }\n}\n</code></pre>\n\n<p>This SO Article\n<a href=\"https://stackoverflow.com/questions/1842941/translating-python-dictionary-to-c\">Translating python dictionary to C++</a> describes it for flat dictionaries.</p>\n"}, {"tags": ["c++", "string", "vector"], "comments": [{"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 2, "creation_date": 1444845457, "post_id": 33132363, "comment_id": 54076235, "body": "When handling binary data?"}, {"owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 6, "creation_date": 1444845645, "post_id": 33132363, "comment_id": 54076362, "body": "not at all @NathanOliver"}, {"owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "reply_to_user": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1444845693, "post_id": 33132363, "comment_id": 54076397, "body": "could you please elaborate @AlejandroD&#237;az"}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 1, "creation_date": 1444845774, "post_id": 33132363, "comment_id": 54076439, "body": "@CppNITR If you&#39;re reading a binary file you&#39;d want to store that in a <code>std::vector&lt;char&gt;</code>, think of any file that isn&#39;t text(an executable file for example)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1444845844, "post_id": 33132363, "comment_id": 54076478, "body": "These are interchangeable, std::string just offers additional functionality."}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 1, "creation_date": 1444845858, "post_id": 33132363, "comment_id": 54076488, "body": "I want to see <code>byte</code> and not <code>char</code> for the vector personally and let the defines handle signed or unsigned behind the scenes."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 5, "creation_date": 1444845915, "post_id": 33132363, "comment_id": 54076524, "body": "<code>vector</code> is a container, <code>string</code> is a string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "reply_to_user": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1444846089, "post_id": 33132363, "comment_id": 54076633, "body": "@MichaelDorgan Then it is a vector&lt;unsigned char&gt;, signed char, unsigned char and char are three distinct types"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 1, "creation_date": 1444846160, "post_id": 33132363, "comment_id": 54076677, "body": "Well aware - but what char type should we be storing binary data in when it is &quot;bytes&quot;?  I prefer byte :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5387678"}, "reply_to_user": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1444846524, "post_id": 33132363, "comment_id": 54076900, "body": "@AlejandroD&#237;az: if it is a byte array would not you use unsigned char instead of char?"}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1444846659, "post_id": 33132363, "comment_id": 54076990, "body": "@quser I don&#39;t have a reason to use one over the other(I was actually just googling it)"}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1444846815, "post_id": 33132363, "comment_id": 54077080, "body": "@quser According to this answer there should be no practical difference if you&#39;re transporting raw bytes <a href=\"http://stackoverflow.com/questions/22629728/what-is-the-difference-between-char-and-unsigned-char\" title=\"what is the difference between char and unsigned char\">stackoverflow.com/questions/22629728/&hellip;</a>"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1444848730, "post_id": 33132363, "comment_id": 54078199, "body": "@AlejandroD&#237;az That&#39;s a C answer, and doesn&#39;t necessarily apply to C++."}, {"owner": {"reputation": 1998, "user_id": 2283078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008b29961534cf4b1e499eb430231c3c?s=128&d=identicon&r=PG", "display_name": "Alejandro D&#237;az", "link": "https://stackoverflow.com/users/2283078/alejandro-d%c3%adaz"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1444848849, "post_id": 33132363, "comment_id": 54078263, "body": "@zenith I can&#39;t find anything else though, and I&#39;m afraid of asking as it could be a duplicate"}], "answers": [{"comments": [{"owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "edited": false, "score": 1, "creation_date": 1444845756, "post_id": 33132411, "comment_id": 54076431, "body": "Would you mind elaborating with a good example"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5387678"}, "edited": false, "score": 0, "creation_date": 1444846508, "post_id": 33132411, "comment_id": 54076885, "body": "if it is a byte array would not you use unsigned char instead of char?"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1444846680, "post_id": 33132411, "comment_id": 54077006, "body": "@quser In that case I would prefer a <code>vector&lt;byte&gt;</code> with <code>using byte = char;</code> to make it clear it&#39;s storing raw binary data and not characters. See <a href=\"http://stackoverflow.com/a/8386615/3425536\">this answer</a> why <code>char</code> instead of <code>unsigned char</code>."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444847127, "post_id": 33132411, "comment_id": 54077265, "body": "Also the C++ standard library itself uses <code>char</code>, not <code>unsigned char</code>, for binary I/O, e.g. <a href=\"http://www.cplusplus.com/reference/ostream/ostream/write/\" rel=\"nofollow noreferrer\"><code>ostream::write</code></a>. So you avoid a lot of nasty casts with <code>using byte = char</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5387678"}, "edited": false, "score": 0, "creation_date": 1444848123, "post_id": 33132411, "comment_id": 54077829, "body": "@zenith: you mean there is issue if I used unsigned char instead?"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444848619, "post_id": 33132411, "comment_id": 54078134, "body": "@quser Yes, the issue that you need to do the casting when doing binary I/O with the C++ standard library."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5387678"}, "edited": false, "score": 0, "creation_date": 1444849051, "post_id": 33132411, "comment_id": 54078377, "body": "@zenith: Why? does C++ I/O require char pointers as arguments? honestly I didn&#39;t really get the answer you linked to"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444849522, "post_id": 33132411, "comment_id": 54078663, "body": "Yes. See the documentation on e.g. the <code>istream</code>/<code>ostream</code> binary read/write functions. They accept char pointers."}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 1, "last_activity_date": 1444845560, "creation_date": 1444845560, "answer_id": 33132411, "question_id": 33132363, "link": "https://stackoverflow.com/questions/33132363/c-strings-vs-vectorchar/33132411#33132411", "title": "C++ strings vs vector&lt;char&gt;", "body": "<p>To put it briefly: if you're storing text, then <code>string</code>, otherwise <code>vector&lt;char&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "edited": false, "score": 0, "creation_date": 1444846350, "post_id": 33132625, "comment_id": 54076787, "body": "To be clear: it is about expressing intent."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1444846484, "post_id": 33132625, "comment_id": 54076871, "body": "Good comment. Belongs in the answer. I recommend an edit to the answer to beat that point home."}, {"owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "edited": false, "score": 0, "creation_date": 1444846492, "post_id": 33132625, "comment_id": 54076876, "body": "You can do the same things with string too coz string too has push_back, pop_back, etc type functions which vector uses"}, {"owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "edited": false, "score": 1, "creation_date": 1444846851, "post_id": 33132625, "comment_id": 54077104, "body": "@cdonat, i guess the doubt raised by CppNITR is valid, provide a better justification atleast"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "edited": false, "score": 1, "creation_date": 1444847367, "post_id": 33132625, "comment_id": 54077382, "body": "@CppNITR Yes, but this is a readability issue as much as anything else. A reader of your code sees <code>string</code>, they are going to expect certain things to be true, not the least of which is the string variable contains readable, and probably printable, text. A <code>vector</code> contains. What it contains varies based on the template argument and the interpretation of the content is wider in scope."}, {"owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444847387, "post_id": 33132625, "comment_id": 54077398, "body": "Sure a string can be used for that as well. Basically everything could ever be done with std::string as well as with std::vector&lt;char&gt;. I have edited my answer, as suggested by @user4581301, to make clear, that it is about the intent. Is the data used as something text-like, or as a collection of otherwise not connected char-objects?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5387678"}, "edited": false, "score": 0, "creation_date": 1444849131, "post_id": 33132625, "comment_id": 54078419, "body": "yeah but for byte more natural for me is unsigned char e.g. range 0-255"}, {"owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "edited": false, "score": 0, "creation_date": 1444849507, "post_id": 33132625, "comment_id": 54078654, "body": "@quser In my example I do store independent character values in the vector, not just bytes. Since I said, it is about expressing the intent, we here have an ordered collection of otherwise unrelated characters. It is not anything text-like, and therefore no <code>std::string</code>, and it is actually characters, not just bytes, and therefore no <code>std::vector&lt;unsigned char&gt;</code> or the like."}], "tags": [], "owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "is_accepted": true, "score": 6, "last_activity_date": 1444847033, "last_edit_date": 1444847033, "creation_date": 1444846323, "answer_id": 33132625, "question_id": 33132363, "link": "https://stackoverflow.com/questions/33132363/c-strings-vs-vectorchar/33132625#33132625", "title": "C++ strings vs vector&lt;char&gt;", "body": "<p>I'd use <code>vector&lt;char&gt;</code> only if I explicitly intent to store an array of char values, which is not a string. E.g. if for some reason I'd collect all the characters used somewhere in a specific text, the result might be a <code>vector&lt;char&gt;</code>.</p>\n\n<p>To be clear: it is all about expressing the intent.</p>\n"}], "owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5744, "favorite_count": 3, "closed_date": 1444846423, "accepted_answer_id": 33132625, "answer_count": 2, "score": 3, "last_activity_date": 1444847033, "creation_date": 1444845389, "question_id": 33132363, "link": "https://stackoverflow.com/questions/33132363/c-strings-vs-vectorchar", "closed_reason": "Duplicate", "title": "C++ strings vs vector&lt;char&gt;", "body": "<p>It's known to everyone of us that we should prefer <code>string</code> class in <code>C++</code> for all string applications due to the many special functions they perform &amp; their ability to grow &amp; reduce dynamically. What <code>string</code> is for <code>characters</code>, <code>vector</code> is for other data types &amp; classes because it shows great performance.</p>\n\n<p>However is there any situation where we would need to prefer <code>vector&lt;char&gt;</code> (which I see seldom) over <code>string</code> ? </p>\n"}, {"tags": ["c++", "cmake", "clion", "allegro5"], "answers": [{"comments": [{"owner": {"reputation": 12250, "user_id": 70930, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8e7e117b5fb845cfe93ae42f43b244a?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/70930/paul"}, "edited": false, "score": 0, "creation_date": 1444850131, "post_id": 33133691, "comment_id": 54079014, "body": "This is actually explicitly described in Getting Started Guide for Allegro: <a href=\"http://liballeg.org/a5docs/5.0.10/getting_started.html#the-main-function\" rel=\"nofollow noreferrer\">liballeg.org/a5docs/5.0.10/&hellip;</a>"}, {"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "reply_to_user": {"reputation": 12250, "user_id": 70930, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8e7e117b5fb845cfe93ae42f43b244a?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/70930/paul"}, "edited": false, "score": 0, "creation_date": 1444859811, "post_id": 33133691, "comment_id": 54084140, "body": "Yeah, I really don&#39;t know how did I miss it. Really stupid mistake."}], "tags": [], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "is_accepted": true, "score": 3, "last_activity_date": 1444849886, "creation_date": 1444849886, "answer_id": 33133691, "question_id": 33132312, "link": "https://stackoverflow.com/questions/33132312/making-allegro5-project-with-clion/33133691#33133691", "title": "Making allegro5 project with CLion", "body": "<p>Ok this one blew my mind. I don't know why I found solution only after asking on stackoverflow but I'm posting it for someone who might encounter simillar problem to mine. Change your main declaration from </p>\n\n<pre><code>int main() \n</code></pre>\n\n<p>to</p>\n\n<pre><code>int main(int argc, char **argv) \n</code></pre>\n\n<p>and that's it. Really.</p>\n"}], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 1, "accepted_answer_id": 33133691, "answer_count": 1, "score": 2, "last_activity_date": 1444849886, "creation_date": 1444845211, "question_id": 33132312, "link": "https://stackoverflow.com/questions/33132312/making-allegro5-project-with-clion", "title": "Making allegro5 project with CLion", "body": "<p>Few days ago I downloaded clion to make a school project in C++ and Allegro5. First I used allegro installed with homebrew but it wasn't working so I compiled it by myself. Since I've never worked with CMake before it took me some time to include the libs and compile the project but I managed to do it. The problem is that when I try to run it it throws an error:</p>\n\n<pre><code>dyld: Symbol not found: __al_mangled_main\nReferenced from: /usr/local/lib/liballegro_main.5.0.dylib\nExpected in: flat namespace\nin /usr/local/lib/liballegro_main.5.0.dylib\n</code></pre>\n\n<p>My CMakeLists.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.3)\nproject(arkanoid)\n\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\n\nset(SOURCE_FILES classes/main.cpp classes/ball.cpp classes/ball.h classes/block.cpp classes/block.h)\n\nadd_executable(arkanoid ${SOURCE_FILES})\n\nINCLUDE_DIRECTORIES( allegro/5.0.11/include )\n\nLINK_DIRECTORIES( allegro/5.0.11/lib )\n\n\nTARGET_LINK_LIBRARIES(arkanoid  allegro_acodec\n                            allegro_audio\n                            allegro_color\n                            allegro_dialog\n                            allegro_image\n                            allegro_main\n                            allegro_memfile\n                            allegro_physfs\n                            allegro_primitives\n                            allegro_ttf\n                            allegro_font\n                            allegro)\n</code></pre>\n\n<p>And for now my main.cpp looks like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;allegro5/allegro.h&gt;\n\nusing namespace std;\n\nint main() {\n\n    al_init();\n\n    return 0;\n\n}\n</code></pre>\n\n<p>I'm trying to build this project on OSX. I've searched for 2 days for the solution to my problem but with no results. Not many people are using CLion and even less use it with allegro5. Could anyone have a clue what this error even mean?</p>\n"}, {"tags": ["c++", "pointers", "reference"], "comments": [{"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "edited": false, "score": 0, "creation_date": 1444845195, "post_id": 33132219, "comment_id": 54076070, "body": "Is the ampersand sign in &#39;void mem(int*&amp; a, int* b)&#39; intentional?"}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1444845109, "creation_date": 1444845109, "answer_id": 33132276, "question_id": 33132219, "link": "https://stackoverflow.com/questions/33132219/pointers-and-referencing/33132276#33132276", "title": "Pointers and Referencing", "body": "<p><code>b++;</code> is incrementing the address that <code>b</code> holds to be one <code>int</code> after the <code>int</code> address it had.  </p>\n\n<p>After this any use of the variable is undefined as we now point to some unspecified memory.</p>\n"}, {"tags": [], "owner": {"reputation": 2640, "user_id": 5195699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f85291bb71f55981b1d412f1efcb7603?s=128&d=identicon&r=PG&f=1", "display_name": "R_Kapp", "link": "https://stackoverflow.com/users/5195699/r-kapp"}, "is_accepted": false, "score": 1, "last_activity_date": 1444845199, "creation_date": 1444845199, "answer_id": 33132308, "question_id": 33132219, "link": "https://stackoverflow.com/questions/33132219/pointers-and-referencing/33132308#33132308", "title": "Pointers and Referencing", "body": "<p>In your example, <code>b</code> is a pointer to an integer, and <code>b++</code> asks the pointer to increment (i.e., point to the next available integer) in the same manner as <code>ptrA++</code>. The difference, however, is that <code>ptrA</code> points to the beginning of an array; we still own the memory for the next available integer, so everything is okay. For <code>b</code>, it points to a single integer; incrementing it and trying to use it afterwards leads to undefined behavior.</p>\n"}], "owner": {"reputation": 1, "user_id": 5209410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d44e560e9d756218264fb6e2e907662?s=128&d=identicon&r=PG&f=1", "display_name": "nate otoole", "link": "https://stackoverflow.com/users/5209410/nate-otoole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444847800, "creation_date": 1444844890, "last_edit_date": 1444847800, "question_id": 33132219, "link": "https://stackoverflow.com/questions/33132219/pointers-and-referencing", "title": "Pointers and Referencing", "body": "<p>Here is the problem. i am trying to create a memory diagram and i understand everything up until b++ because when that code is executed it changes the value of val from 10 to 4. What is the reason for that?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nvoid mem(int*&amp; a, int* b){\n    a --;\n    b++;\n    a = new int[3];\n    a[0] = 3;\n    a[1] = *b;\n    a[2] = ++(*b);\n}\nint main()\n{\n    int data[] = {2, 4, 6, 8};\n    int *ptrA = data;\n    for (int i = 0; i &lt; 4; i ++){\n        (*ptrA)++;\n        ptrA++;\n    }\n    int val = 10;\n    mem(ptrA, &amp;val);\n}\n</code></pre>\n"}, {"tags": ["c++", "image"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1444844340, "post_id": 33132036, "comment_id": 54075589, "body": "Have you looked at <code>opencv</code>?"}, {"owner": {"reputation": 7498, "user_id": 3783770, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/8FsfL.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/3783770/kris"}, "reply_to_user": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444844441, "post_id": 33132036, "comment_id": 54075645, "body": "Okay so, I actually &#39;need&#39; to iterate through it on my own. I know opencv is an option, but I&#39;m trying to benchmark a <code>native c++</code> app against one written in CUDA. So, I&#39;m actually just wondering how to open it up in a readable format.  @JasonMc92 Every single answer on this entire website can be found in a Google search with enough time. This is a website <code>dedicated</code> to programming help..."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845175, "post_id": 33132036, "comment_id": 54076057, "body": "@Kris, I know. I&#39;ve been here a while. :) My information is just the typical rules of good StackOverflow questions, in my own words. I prefer it to close-voting everything, as is the style of some."}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1444868584, "post_id": 33132036, "comment_id": 54087034, "body": "Is your image colour or greyscale? What OS are you using?"}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1444902410, "post_id": 33132036, "comment_id": 54100056, "body": "If you want to make life easy for yourself, I would suggest <a href=\"http://stackoverflow.com/a/24599122/2836621\">stackoverflow.com/a/24599122/2836621</a> ... or ... <a href=\"http://stackoverflow.com/a/22374310/2836621\">stackoverflow.com/a/22374310/2836621</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 3, "creation_date": 1444844448, "post_id": 33132066, "comment_id": 54075650, "body": "<i>Have to</i>? what is the library made of? Fairy dust?"}, {"owner": {"reputation": 8938, "user_id": 1221660, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a36c2a6d308a878faba903e217014094?s=128&d=identicon&r=PG", "display_name": "Emanuele Paolini", "link": "https://stackoverflow.com/users/1221660/emanuele-paolini"}, "edited": false, "score": 0, "creation_date": 1444844775, "post_id": 33132066, "comment_id": 54075825, "body": "It&#39;s a good programming rule: &quot;don&#39;t reinvent the wheel&quot;. Writing a compliant PNG reader is not something you do in a couple of work days. Anyway: I replaced &quot;have to&quot; with &quot;should&quot;, if you prefer."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845014, "post_id": 33132066, "comment_id": 54075973, "body": "Heh, I&#39;m being a little pedantic, but for the benefit of the OP...the rule is more realistically &quot;don&#39;t reinvent an identical wheel&quot;. Get a bike wheel design from someone else, but if you&#39;re going to make a flying car, you&#39;ll probably need to reinvent the wheel to handle the landings. ^,^ That said, I&#39;d agree that this is one of those bike wheel scenarios."}, {"owner": {"reputation": 8938, "user_id": 1221660, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a36c2a6d308a878faba903e217014094?s=128&d=identicon&r=PG", "display_name": "Emanuele Paolini", "link": "https://stackoverflow.com/users/1221660/emanuele-paolini"}, "reply_to_user": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845399, "post_id": 33132066, "comment_id": 54076202, "body": "@JasonMc92 I totally disagree with you suggestion to the OP. I cannot imagine what a &quot;flying car&quot; could be in this scenario."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845777, "post_id": 33132066, "comment_id": 54076443, "body": "It&#39;s a general rule about the &quot;don&#39;t reinvent&quot; logic, not specific to parsing a PNG. An example of what I&#39;m talking about would be one of my company&#39;s projects, where we need specific behavior and performance out of an SVG parser. None of the existing libraries have it, so we&#39;re writing our own (though we ARE using Xerces for the XML). If a library fully meets one&#39;s needs, use it. If it mostly meets one&#39;s needs, contribute to it and use it. If it doesn&#39;t, write your own (an action often mislabeled as &quot;reinventing&quot;). That&#39;s what I&#39;m talking about."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444845860, "post_id": 33132066, "comment_id": 54076489, "body": "@EmanuelePaolini A streaming PNG reader implemented in hybrid software-firmware-FPGA that expects and corrects common encoding errors in the incoming stream, and implements extensions on top of PNG for proprietary purposes, delivering the pixels (and partial pixels) in a real-time manner over a proprietary protocol?  ... the answer remains &quot;why in the world would you solve that problem&quot;, but there can be crazy situations where the wheels out there really don&#39;t solve your problems."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845918, "post_id": 33132066, "comment_id": 54076526, "body": "I might add, very few people can imagine the flying car scenario until they walk headlong into it. See also, Eric Raymond&#39;s &quot;sendmail&quot;."}, {"owner": {"reputation": 8938, "user_id": 1221660, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a36c2a6d308a878faba903e217014094?s=128&d=identicon&r=PG", "display_name": "Emanuele Paolini", "link": "https://stackoverflow.com/users/1221660/emanuele-paolini"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444846104, "post_id": 33132066, "comment_id": 54076642, "body": "@Yakk I don&#39;t think it is possible to correct &quot;common encoding errors&quot; in a PNG format because it can contain compressed data hence a single bit error could be impossible to recover. Anyway an ipotetic &quot;common encoding error recovery&quot; could be implemented on the raw data before using libpng functionality. The rest of your scenario can be implemented by libpng: both the streaming and the extensions are covered by the library."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444846344, "post_id": 33132066, "comment_id": 54076783, "body": "@EmanuelePaolini As an example, suppose you had PNGs with the wrong magic values at the front.  Maybe the IHDR chunk has a &#39;0&#39; set on height (which means 256), or maybe you have to calculate height from width and total pixels.  Maybe color types are encoded wrong, or bit depths are encoded wrong, by some other program.  Maybe they are missing the IEND chunk, but you can determine that from external data.  Maybe the PLTE is wrong.  Maybe the wrong values are used for some of the chunk names.  Like most formats, errors that the tested reader doesn&#39;t die on can be distressingly common."}, {"owner": {"reputation": 8938, "user_id": 1221660, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a36c2a6d308a878faba903e217014094?s=128&d=identicon&r=PG", "display_name": "Emanuele Paolini", "link": "https://stackoverflow.com/users/1221660/emanuele-paolini"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444846685, "post_id": 33132066, "comment_id": 54077009, "body": "@Yakk and in such cases do you really (really?) would implement a new png library? I would correct the errors and use libpng. In your example: you first correct the magic bytes then read the chunk (using libpng functionality) and correct the height, color types and bit depths. You can use libpng to read chunks and you can add your own chunks if necessary."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444848176, "post_id": 33132066, "comment_id": 54077864, "body": "@EmanuelePaolini sure -- because I&#39;m also decoding those chunks using a FPGA (which I mentioned above).  So now I&#39;m parsing the file&#39;s large-scale structure and correcting errors in it (no point in using libpng for that part), and doing the low-level parsing within chunks (decompression, etc) in hardware.  I didn&#39;t say any <i>one</i> of that myriad of mess was sufficient to reimplement png -- I listed all of them for a reason.  You asked what a &#39;flying car&#39; would look like in this context: it isn&#39;t realistic, but there are always extreme cases."}], "tags": [], "owner": {"reputation": 8938, "user_id": 1221660, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a36c2a6d308a878faba903e217014094?s=128&d=identicon&r=PG", "display_name": "Emanuele Paolini", "link": "https://stackoverflow.com/users/1221660/emanuele-paolini"}, "is_accepted": true, "score": 1, "last_activity_date": 1444844522, "last_edit_date": 1444844522, "creation_date": 1444844363, "answer_id": 33132066, "question_id": 33132036, "link": "https://stackoverflow.com/questions/33132036/how-can-i-open-and-parse-a-png-pixel-by-pixel/33132066#33132066", "title": "How can I open and parse a png pixel by pixel?", "body": "<p>You should use a library to achieve what you want. In this case the library is <code>libpng</code>. See the \"reading\" section of the manual: <a href=\"http://www.libpng.org/pub/png/libpng-manual.txt\" rel=\"nofollow\">http://www.libpng.org/pub/png/libpng-manual.txt</a></p>\n\n<p>As noted by @Ben in the comments there is also a C++ wrapper: <a href=\"http://www.nongnu.org/pngpp/doc/0.2.7/\" rel=\"nofollow\">http://www.nongnu.org/pngpp/doc/0.2.7/</a></p>\n"}], "owner": {"reputation": 7498, "user_id": 3783770, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/8FsfL.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/3783770/kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 33132066, "answer_count": 1, "score": 0, "last_activity_date": 1493643370, "creation_date": 1444844265, "question_id": 33132036, "link": "https://stackoverflow.com/questions/33132036/how-can-i-open-and-parse-a-png-pixel-by-pixel", "title": "How can I open and parse a png pixel by pixel?", "body": "<p>I'm just wondering how I could go about iterating through each pixel of an image? I know I can open the file as I could any other, but it's not in a 'readable' format.</p>\n\n<p>For example, let's say I have: <code>world.png (1920/1080)</code></p>\n\n<p>How do I go about parsing it within two for loops?</p>\n"}, {"tags": ["c++", "qt", "qtquick2", "qtquickcontrols"], "answers": [{"tags": [], "owner": {"reputation": 962, "user_id": 5104307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc560c087a7fce25a002e156dcbc0af1?s=128&d=identicon&r=PG&f=1", "display_name": "Mido", "link": "https://stackoverflow.com/users/5104307/mido"}, "is_accepted": true, "score": 0, "last_activity_date": 1444858582, "creation_date": 1444858582, "answer_id": 33136008, "question_id": 33132010, "link": "https://stackoverflow.com/questions/33132010/how-update-bottom-control-based-on-loader-in-qml/33136008#33136008", "title": "How update bottom control based on loader in QML", "body": "<p>you have 2 problems in your code:</p>\n\n<ol>\n<li>you should give a height and width to the belowrect</li>\n<li>you should give a height and width to your new.qml object</li>\n</ol>\n\n<p>try this:</p>\n\n<h2>main.qml</h2>\n\n<pre><code>import QtQuick 2.3\nimport QtQuick.Controls 1.2\n\nApplicationWindow {\n    visible: true\n    width: 640\n    height: 480\n    title: qsTr(\"Hello World\")\n\n    Rectangle{\n        anchors.fill: parent\n        Rectangle{\n            id: toprect\n            width: 100\n            height: 100\n            color: \"green\"\n            anchors.horizontalCenter: parent.horizontalCenter\n        }\n\n\n        Loader{\n            id: middlerect\n            anchors.top: toprect.bottom\n            source: \"qrc:/new.qml\"\n        }\n        Rectangle{\n            id: belowrect\n            color:\"yellow\"\n\n            width: childrenRect.width\n            height: childrenRect.height\n            anchors.top: middlerect.bottom\n            Text{\n                id:text\n                text: \"Bottom\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>new.qml</h2>\n\n<pre><code>import QtQuick 2.0\nimport QtQuick.Controls 1.2\n\nItem {\n    id: newid\n    width: childrenRect.width\n    height: childrenRect.height\n    Column{\n        spacing: 10\n        Rectangle{\n            width: 100\n            height: 50\n            color: \"lightblue\"\n        }\n        Rectangle{\n            width: 100\n            height: 50\n            color: \"lightgreen\"\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 1868951, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c6e0d1018c149d3a6739056c88a5b83?s=128&d=identicon&r=PG", "display_name": "Jeggu", "link": "https://stackoverflow.com/users/1868951/jeggu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 33136008, "answer_count": 1, "score": 1, "last_activity_date": 1444858582, "creation_date": 1444844160, "question_id": 33132010, "link": "https://stackoverflow.com/questions/33132010/how-update-bottom-control-based-on-loader-in-qml", "title": "How update bottom control based on loader in QML", "body": "<p>I have a main qml file which contains top item is a rectangle, middle item is a loader which loads different qml files and bottom item is some text.</p>\n\n<p>Based on loader item i want bottom item should adjust, i tried to use anchors but some how it's not working could some one explain me how to  do this.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>main.qml</strong></p>\n\n<pre><code>import QtQuick 2.3\nimport QtQuick.Controls 1.2\n\nApplicationWindow {\n    visible: true\n    width: 640\n    height: 480\n    title: qsTr(\"Hello World\")\n\n    Rectangle{\n        anchors.fill: parent\n        Rectangle{\n            id: toprect\n            width: 100\n            height: 100\n            color: \"green\"\n            anchors.horizontalCenter: parent.horizontalCenter\n        }\n        Loader{\n            id: middlerect\n            anchors.top: toprect.bottom\n            source: \"qrc:/new.qml\"\n        }\n        Rectangle{\n            id: belowrect\n            anchors.top: middlerect.bottom\n            Text{\n                text: \"Bottom\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>new.qml</strong></p>\n\n<pre><code>import QtQuick 2.0\nimport QtQuick.Controls 1.2\n\nItem {\n    id: newid\n    Column{\n        spacing: 10\n        Rectangle{\n            width: 100\n            height: 50\n            color: \"lightblue\"\n        }\n        Rectangle{\n            width: 100\n            height: 50\n            color: \"lightgreen\"\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Issue:</strong></p>\n\n<p><strong>Bottom item is overlapping on middle item</strong></p>\n"}, {"tags": ["c++", "dictionary", "stl", "segmentation-fault", "electric-fence"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1444844476, "post_id": 33131966, "comment_id": 54075662, "body": "See also <a href=\"http://stackoverflow.com/a/4183735\">stackoverflow.com/a/4183735</a>."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1444844622, "post_id": 33131966, "comment_id": 54075752, "body": "Look into sequencing and sequence points. It&#39;s undefined whether <code>bar[0]</code> will be evaluated before <code>foo(0)</code> if it is (and it looks like it is for you) then you&#39;re in big trouble."}, {"owner": {"reputation": 1542, "user_id": 897728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e672e0d8de180128eed1b101ad8b955?s=128&d=identicon&r=PG", "display_name": "Happy Green Kid Naps", "link": "https://stackoverflow.com/users/897728/happy-green-kid-naps"}, "reply_to_user": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1444845998, "post_id": 33131966, "comment_id": 54076569, "body": "@JasonMc92 - There isn&#39;t a single occurrence of either <code>new</code> or <code>delete</code> in OP!"}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "reply_to_user": {"reputation": 1542, "user_id": 897728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e672e0d8de180128eed1b101ad8b955?s=128&d=identicon&r=PG", "display_name": "Happy Green Kid Naps", "link": "https://stackoverflow.com/users/897728/happy-green-kid-naps"}, "edited": false, "score": 0, "creation_date": 1444846082, "post_id": 33131966, "comment_id": 54076629, "body": "@HappyGreenKidNaps, argh, I misread &quot;erase&quot; as &quot;delete&quot;, Darned dyslexia. Sorry about that. <i>Slumps down and takes a long drink of coffee.</i>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1444846352, "post_id": 33131966, "comment_id": 54076790, "body": "You know, I have to agree with @KerrekSB here. Curiosity&#39;s great and it&#39;s nice to know why doing something that looks iffy and did not work won&#39;t work, but sometimes the simple solution&#39;s the best."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1444845630, "post_id": 33132074, "comment_id": 54076352, "body": "&quot;and in fact, it is undefined behavior to depend on the order of the operations&quot; -- It&#39;s not, generally. The order of the two function calls is unspecified, but that only means you can&#39;t reliably tell which function will be called first. It just so happens that in the OP&#39;s case, depending on the order, a dangling reference will be accessed. <i>That</i> renders the behaviour undefined, not the mere fact of depending on a specific order of operations. Even if I want <code>printf(&quot;Hello, &quot;) + printf(&quot;world!&quot;)</code> to print <code>Hello, world!</code>, I am guaranteed to either the intended output or <code>world!Hello, </code>."}, {"owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "edited": false, "score": 0, "creation_date": 1444845782, "post_id": 33132074, "comment_id": 54076445, "body": "@hvd, yes, I meant that it&#39;s UB to depend on the order of unsequenced operations."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1444846075, "post_id": 33132074, "comment_id": 54076620, "body": "Oh, oops, terminology mix-up. That&#39;s &quot;indeterminately sequenced&quot;, not &quot;unsequenced&quot;, both in my example and in the OP&#39;s code, because of the function calls. Do you still think it&#39;s UB then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1444846476, "post_id": 33132074, "comment_id": 54076866, "body": "Yes, it says &quot;Except where noted&quot;, and also contains &quot;Every evaluation in the calling function (including other function calls) that is not otherwise specifically sequenced before or after the execution of the body of the called function is indeterminately sequenced with respect to the execution of the called function.&quot; later in that same p15."}], "tags": [], "owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "is_accepted": true, "score": 5, "last_activity_date": 1444845797, "last_edit_date": 1444845797, "creation_date": 1444844397, "answer_id": 33132074, "question_id": 33131966, "link": "https://stackoverflow.com/questions/33131966/c-stl-mapoperator-done-on-an-entry-being-deleted/33132074#33132074", "title": "c++ STL map::operator[] done on an entry being deleted", "body": "<p>The standard (\u00a71.9 15) specifies that the evaluation of the two operands to a binary operator is unsequenced (unless in some specific cases):</p>\n\n<blockquote>\n  <p>Except where noted, evaluations of operands of individual operators\n  and of subexpressions of individual expressions are unsequenced.</p>\n</blockquote>\n\n<p>This means that it does not mandate that one side of the assignment operation is evaluated before the other, and in fact, it is undefined behavior to depend on the order of these unsequenced operations.</p>\n\n<p>This is also generally true for the order of evaluation of function arguments.</p>\n\n<p>You need to break your assignment in two:</p>\n\n<pre><code>int result = foo(0);\nbar[0] = result;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3835040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36298c5b7089e62f5785a373776cf971?s=128&d=identicon&r=PG&f=1", "display_name": "Slek", "link": "https://stackoverflow.com/users/3835040/slek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 33132074, "answer_count": 1, "score": 4, "last_activity_date": 1518826901, "creation_date": 1444843988, "last_edit_date": 1518826901, "question_id": 33131966, "link": "https://stackoverflow.com/questions/33131966/c-stl-mapoperator-done-on-an-entry-being-deleted", "title": "c++ STL map::operator[] done on an entry being deleted", "body": "<pre><code>std::map&lt;int,int&gt; bar;\n\nint foo(int key)\n{\n  bar.erase(key);\n  return 1;\n}    \n\nint main()\n{\n  bar[0] = foo(0);\n  return 0;\n}\n</code></pre>\n\n<p>This code compiled with GCC 4.8 segs fault when checking memory usage with electric fence.</p>\n\n<pre><code>LD_PRELOAD=libefence.so.0.0 ./a.out\n</code></pre>\n\n<p>The problem comes from the fact that the compiler generates a code that starts to allocate a new entry in the map, then executes <code>foo()</code> to get the value to put into <code>bar[0]</code>. While running <code>foo()</code>, the entry gets destroyed and the code finally ends by writing in non-allocated memory.</p>\n\n<p>Does the way the operations are ordered depend on the compiler implementation, or is it specified by the C++ current standard?</p>\n"}, {"tags": ["c++", "xaml", "windows-10"], "answers": [{"tags": [], "owner": {"reputation": 1024, "user_id": 5271974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e19f8640df3e654424a7fe52f2d8f4?s=128&d=identicon&r=PG&f=1", "display_name": "Fangfang Wu - MSFT", "link": "https://stackoverflow.com/users/5271974/fangfang-wu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1444893713, "creation_date": 1444893713, "answer_id": 33142290, "question_id": 33131888, "link": "https://stackoverflow.com/questions/33131888/add-a-button-to-titlebar-without-using-xaml/33142290#33142290", "title": "Add a button to titlebar without using XAML", "body": "<p>If you want to implement your application purely by DirectX, then you will need draw the buttons and text yourself, as well as to implement some basic \"collision detection\" to detect if the mouse was clicked inside your button when the user presses the mouse button.</p>\n\n<p>However, if you want to use XAML UI elements such as Titlebar and Button together with DirectX, you must interop between XAML and DirectX, which is better to start with template \"DirectX 11 and XAML App (Universal Windows)\". <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/hh825871.aspx\" rel=\"nofollow\">Here</a> you can find detailed instruction as how to implement application with both XAML and DirectX.</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 6622739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yitHN.jpg?s=128&g=1", "display_name": "up2pixy", "link": "https://stackoverflow.com/users/6622739/up2pixy"}, "is_accepted": false, "score": 0, "last_activity_date": 1501108198, "creation_date": 1501108198, "answer_id": 45338481, "question_id": 33131888, "link": "https://stackoverflow.com/questions/33131888/add-a-button-to-titlebar-without-using-xaml/45338481#45338481", "title": "Add a button to titlebar without using XAML", "body": "<p>myTitleBar in defined in your xaml file.\nYou will have a grid named myTitleBar like this:</p>\n\n<pre><code>&lt;Grid Grid.Row=\"0\" x:Name=\"myTitleBar\" Height=\"32\"&gt;\n    &lt;!--you can customize whatever you want else in this grid--&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}], "owner": {"reputation": 2462, "user_id": 674548, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1b37edc3e30503536841845e969aac40?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/674548/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501108198, "creation_date": 1444843707, "last_edit_date": 1495535228, "question_id": 33131888, "link": "https://stackoverflow.com/questions/33131888/add-a-button-to-titlebar-without-using-xaml", "title": "Add a button to titlebar without using XAML", "body": "<p>I have a C++ Windows 10 app created from the MSVC template <em>\"DirectX 11 App (Universal Windows)\"</em>. At now, my app dos not have any .xaml files. I want to add a button to the titlebar. Corresponding to <a href=\"https://stackoverflow.com/questions/31773257/windows-universal-app-fullscreen-button\">Windows Universal App Fullscreen Button</a>, I have to add something like</p>\n\n<pre><code>CoreApplication::GetCurrentView()-&gt;TitleBar-&gt;ExtendViewIntoTitleBar = true;\nWindow::Current-&gt;SetTitleBar(myTitleBar);\n</code></pre>\n\n<p>where <code>myTitleBar</code> is of class <code>Windows::UI::Xaml::UIElement</code>.</p>\n\n<p>The question is how to create that <code>myTitleBar</code>. Do I have to create a xaml that defines title bar with \"Fullscreen\" button (and how to integrate it)? Or maybe it is possible to do it purely in C++? Or I have to recreate my app using another template <em>\"DirectX 11 and XAML App (Universal Windows)\"</em>?</p>\n"}, {"tags": ["c++", "memory"], "comments": [{"owner": {"reputation": 7489, "user_id": 2183287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f994c77448da7979a598ef76d270de67?s=128&d=identicon&r=PG&f=1", "display_name": "fatihk", "link": "https://stackoverflow.com/users/2183287/fatihk"}, "edited": false, "score": 0, "creation_date": 1444843952, "post_id": 33131860, "comment_id": 54075384, "body": "<a href=\"http://stackoverflow.com/questions/1986966/does-s0-point-to-contiguous-characters-in-a-stdstring\" title=\"does s0 point to contiguous characters in a stdstring\">stackoverflow.com/questions/1986966/&hellip;</a>"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1444844150, "post_id": 33131860, "comment_id": 54075483, "body": "<code>std::string</code> behaves like a pointer in your example. There is small string optimization where small strings (small means ~20-40 characters) are inside the <code>std::string</code> itself. If you require all characters to be in contiguous memory you will have to use a <code>vector&lt;char&gt;</code> and do it manually."}, {"owner": {"reputation": 238, "user_id": 5095750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc5088699c5fe07937dff47606d21200?s=128&d=identicon&r=PG", "display_name": "FreeYourSoul", "link": "https://stackoverflow.com/users/5095750/freeyoursoul"}, "edited": false, "score": 0, "creation_date": 1444844274, "post_id": 33131860, "comment_id": 54075551, "body": "thank you, that kind of information are precious, because string could do background thing, that&#39;s why I asked this. And what you say is that it does some optimization that could make it not contiguous ?"}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 2, "creation_date": 1444844328, "post_id": 33131860, "comment_id": 54075584, "body": "A <code>std::string</code> is dynamically allocated, and is guaranteed to have <i>local</i> contiguous memory at all times (meaning the individual string will have contiguous memory). However, this says nothing about it&#39;s contiguity within your <code>vect</code> of <code>string</code>s. I&#39;m not aware of a way to guarantee contiguity in this way."}, {"owner": {"reputation": 18827, "user_id": 1413133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqUmk.jpg?s=128&g=1", "display_name": "Manos Nikolaidis", "link": "https://stackoverflow.com/users/1413133/manos-nikolaidis"}, "reply_to_user": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 1, "creation_date": 1444844453, "post_id": 33131860, "comment_id": 54075652, "body": "@cmbasnett the constructor of <code>std::string</code> has an optional template argument for an <code>std::allocator</code>. You can define a memory pool and each time you create a <code>string</code> it will be allocated in there. You can make sure that all string are in a contiguous memory block."}], "answers": [{"comments": [{"owner": {"reputation": 238, "user_id": 5095750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc5088699c5fe07937dff47606d21200?s=128&d=identicon&r=PG", "display_name": "FreeYourSoul", "link": "https://stackoverflow.com/users/5095750/freeyoursoul"}, "edited": false, "score": 0, "creation_date": 1444844140, "post_id": 33131964, "comment_id": 54075478, "body": "So a string is actually just an encapsulation of a char*"}, {"owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "edited": false, "score": 0, "creation_date": 1444844170, "post_id": 33131964, "comment_id": 54075492, "body": "It&#39;s templated but if you are using just default std::string then yes."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "reply_to_user": {"reputation": 238, "user_id": 5095750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc5088699c5fe07937dff47606d21200?s=128&d=identicon&r=PG", "display_name": "FreeYourSoul", "link": "https://stackoverflow.com/users/5095750/freeyoursoul"}, "edited": false, "score": 1, "creation_date": 1444844234, "post_id": 33131964, "comment_id": 54075527, "body": "@FreeYourSoul It has more stuff like capacity and size, not just the <code>char *</code>."}], "tags": [], "owner": {"reputation": 18827, "user_id": 1413133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqUmk.jpg?s=128&g=1", "display_name": "Manos Nikolaidis", "link": "https://stackoverflow.com/users/1413133/manos-nikolaidis"}, "is_accepted": true, "score": 8, "last_activity_date": 1444845010, "last_edit_date": 1444845010, "creation_date": 1444843981, "answer_id": 33131964, "question_id": 33131860, "link": "https://stackoverflow.com/questions/33131860/how-is-stored-a-vectorstring-in-memory/33131964#33131964", "title": "How is stored a vector&lt;string&gt; in memory", "body": "<ol>\n<li>Each <code>string</code> will be an instance of class <code>string</code> and that instance will contain a <code>char*</code>.</li>\n<li>The <code>string</code> objects in the vector will be in contiguous memory.</li>\n<li>The chars of each <code>string</code> will be in contiguous memory</li>\n<li>All The chars of all the strings will not be in contiguous memory, unless you define a custom <code>std::allocator</code> for the strings</li>\n<li>The location in memory of the strings may change when you increase the size of the <code>vector</code> or call <code>shrink_to_fit</code></li>\n<li>The location in memory of the chars of each <code>string</code> may change when you increase the size of the <code>string</code></li>\n<li>The <code>vector</code> will not be reallocated if you modify or remove one of the strings</li>\n<li>There is something called <em>Small String Optimization</em>. If that comes into play the chars of each <code>string</code> will be stored within the <code>string</code> instead of another location pointed to by <code>char*</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "is_accepted": false, "score": 2, "last_activity_date": 1444844128, "creation_date": 1444844128, "answer_id": 33132004, "question_id": 33131860, "link": "https://stackoverflow.com/questions/33131860/how-is-stored-a-vectorstring-in-memory/33132004#33132004", "title": "How is stored a vector&lt;string&gt; in memory", "body": "<p>The data in <code>std::vector</code> is laid out contiguosly. However <code>std::string</code>s implementation does not guarantee that the memory holding the character array is stored locally to the class itself. How could it? Like you said you don't know how large the string will be.</p>\n\n<p>A lot of array like structures have a layout like follows:</p>\n\n<pre><code>class string\n{\n    T * begin; \n    T * end;\n    T * capacity;\n}\n</code></pre>\n\n<p>Which means that your vector of 100 strings will have 100 instances of a class layout that POINTS to the memory where the string is stored.</p>\n\n<p>Now if you need to pack memory allocations as tightly as possible and still want to use <code>std::string</code> you can write a custom <a href=\"http://en.cppreference.com/w/cpp/memory/allocator\" rel=\"nofollow\">allocator</a>.</p>\n\n<p>Maybe you can write the string data into a char array and have a second container that stores the lengths of each individual string + NULL terminator.</p>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 2, "last_activity_date": 1444846526, "creation_date": 1444846526, "answer_id": 33132691, "question_id": 33131860, "link": "https://stackoverflow.com/questions/33131860/how-is-stored-a-vectorstring-in-memory/33132691#33132691", "title": "How is stored a vector&lt;string&gt; in memory", "body": "<p>The implementation of <code>string</code> is implementation defined and has actually changed between different versions of certain compilers (for example from gcc 4.9 to 5.0). The is absolutely no guarantee that the <code>char</code>s in consecutive <code>string</code>s are contiguous in memory, <strong>even if you use a custom allocator</strong>. </p>\n\n<p>So if you really need the <code>char</code>s to be contiguous in memory, you must use just a <code>vector&lt;char&gt;</code>.</p>\n"}], "owner": {"reputation": 238, "user_id": 5095750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc5088699c5fe07937dff47606d21200?s=128&d=identicon&r=PG", "display_name": "FreeYourSoul", "link": "https://stackoverflow.com/users/5095750/freeyoursoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1967, "favorite_count": 0, "accepted_answer_id": 33131964, "answer_count": 3, "score": 5, "last_activity_date": 1444846526, "creation_date": 1444843613, "question_id": 33131860, "link": "https://stackoverflow.com/questions/33131860/how-is-stored-a-vectorstring-in-memory", "title": "How is stored a vector&lt;string&gt; in memory", "body": "<p>I am working on a project where I absolutly need to have data contiguous in memory.\nI want to store some (maximum 100) string (I don't know the actual size of each string). So I will create a vector of string of 100 elements.</p>\n\n<pre><code>std::vector&lt;std::string&gt; vect;\nvect.reserve(100)\n</code></pre>\n\n<p>But a String can be of any size. So how does it work? Is my vector reallocated everytime I change a string? Or is a std::string simply like a pointer to the first character of the string like a char* would be for a C string?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 4, "creation_date": 1444843750, "post_id": 33131851, "comment_id": 54075277, "body": "&quot;But if this is the only reason, wouldn&#39;t it be possible to change the template argument to default to <code>void</code>?&quot; -- Er... isn&#39;t that already the case?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1444844240, "post_id": 33131851, "comment_id": 54075536, "body": "In recent standards it <b>is</b> defaulted to <code>void</code>. In C++98, without <code>auto</code> and <code>decltype</code>, the specialization was almost impossible to write. So it wasn&#39;t included."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1444847623, "post_id": 33131851, "comment_id": 54077530, "body": "@BoPersson But even in C++98, a generalisation that did the same as <code>std::plus&lt;T&gt;</code> could have been implemented. So why wasn&#39;t it?"}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "edited": false, "score": 0, "creation_date": 1444848548, "post_id": 33131851, "comment_id": 54078079, "body": "@Walter. Untrue. Consider what happens if you call it with int and long int arguments (mixed types)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1444848180, "post_id": 33133149, "comment_id": 54077867, "body": "Given that <code>std::less</code> does in fact not have the same behaviour as <code>&lt;</code> (for pointer types), this seems like a reasonable guess, though to be honest I&#39;d be surprised if this is the complete reason."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1444894060, "post_id": 33133149, "comment_id": 54094810, "body": "AFAIK, <code>std::plus</code> is not used explicitly in any <code>std</code> algorithm, but can be used as argument. So, if you want something else, you can provide your own functor."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 2, "last_activity_date": 1444848071, "creation_date": 1444848071, "answer_id": 33133149, "question_id": 33131851, "link": "https://stackoverflow.com/questions/33131851/why-is-stdplus-a-class-template/33133149#33133149", "title": "why is std::plus a class template?", "body": "<p>While I have already been penalized for second-guessing the reasons today, I will still dare to coin my view :)</p>\n\n<p>I would assume, <code>std::plus</code> was made a template so that it could be speciailized and something else other than <code>+</code> be used for types which do not have <code>+</code> defined on them. </p>\n"}, {"tags": [], "owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "is_accepted": true, "score": 4, "last_activity_date": 1444848290, "creation_date": 1444848290, "answer_id": 33133218, "question_id": 33131851, "link": "https://stackoverflow.com/questions/33131851/why-is-stdplus-a-class-template/33133218#33133218", "title": "why is std::plus a class template?", "body": "<p>Templated member functions were not allowed in early versions of C++ (even those which allowed templated classes and free functions). That meant that functors like <code>std::plus</code> had to be fully specialized, rather than deferring specialization to the operator.</p>\n"}], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 33133218, "answer_count": 2, "score": 4, "last_activity_date": 1444848290, "creation_date": 1444843587, "last_edit_date": 1444847785, "question_id": 33131851, "link": "https://stackoverflow.com/questions/33131851/why-is-stdplus-a-class-template", "title": "why is std::plus a class template?", "body": "<p>The C++ functor <code>std::plus</code> is implemented like</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct plus\n{\n  constexpr T operator+(const T&amp; lhs, const T&amp; rhs) const\n  { return lhs+rhs; }\n};\n</code></pre>\n\n<p>but there is also the specialisation</p>\n\n<pre><code>template&lt;&gt;\nstruct plus&lt;void&gt;\n{\n  template&lt; class T, class U&gt;\n  constexpr auto operator()(T&amp;&amp; lhs, U&amp;&amp; rhs) const\n  -&gt; decltype(std::forward&lt;T&gt;(lhs) + std::forward&lt;U&gt;(rhs))\n  { return    std::forward&lt;T&gt;(lhs) + std::forward&lt;U&gt;(rhs); }\n};\n</code></pre>\n\n<p>which has the advantage that it can operate on any types, even differnt ones, as long as <code>T+U</code> is defined (for example <code>std::string</code> and <code>const char*</code>).</p>\n\n<p>I was wondering why <code>struct std::plus</code> is not defined as a non-template with the functionality of the existing <code>std::plus&lt;void&gt;</code>? Are there any possible applications which could not be served by such an implementation?</p>\n\n<p>Of course, this could have historical reasons (so that it cannot be changed). But if this is the only reason, wouldn't it be possible to change the template argument to default to <code>void</code>?</p>\n\n<pre><code>template&lt;typename T=void&gt; struct plus;\n</code></pre>\n\n<hr>\n\n<p>edit. I just realised that according to <a href=\"http://en.cppreference.com/w/cpp/utility/functional/plus\" rel=\"nofollow\">cppreference</a> <code>plus&lt;T&gt;</code> defaults to <code>plus&lt;void&gt;</code> since C++14.</p>\n\n<hr>\n\n<p>Arguably, <code>plus&lt;void&gt;::operator+</code> could not have been implemented in C98++, but the following could</p>\n\n<pre><code>struct plus\n{\n  template&lt;class T&gt;\n  T operator()(const T&amp;lhs, const T&amp;rhs) const\n  { return lhs + rhs; }\n};\n</code></pre>\n\n<p>which has exactly the same functionality as <code>plus&lt;T&gt;</code>, but avoids the template. So why was this not chosen instead? What was the logic/motivation behind the class template? (it violates the rule \"do it simple if possible\")</p>\n"}, {"tags": ["c++", "random"], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "edited": false, "score": 0, "creation_date": 1444843736, "post_id": 33131850, "comment_id": 54075264, "body": "how does calling it once help anyway, afterall i m calling the loop again &amp; again, you logic works for the first case but why does the STATIC case work well"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1444843781, "post_id": 33131850, "comment_id": 54075300, "body": "&quot;Very close seed&quot; shouldn&#39;t result in the same output, the problem here is repeated seeding with the same seed value. The OP would probably get better results by switching to <code>high_resolution_clock</code> instead of <code>steady_clock</code>. A better fix, of course, is to not keep reseeding as you suggest."}, {"owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1444844194, "post_id": 33131850, "comment_id": 54075508, "body": "@Praetorian &quot;high_resolution_clock&quot; is also not working well"}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "reply_to_user": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "edited": false, "score": 3, "creation_date": 1444844417, "post_id": 33131850, "comment_id": 54075632, "body": "@Anwesha: probably it&#39;s not high resolution enough, after all you are calling it in a tight loop, there are maybe 100 instructions between each call, so either it&#39;s using rdtsc or it&#39;s going to reseed each time with the same value. But the point is as already explained: you have to seed just <i>once</i> and then keep using the same random engine object."}, {"owner": {"reputation": 79438, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1446575410, "post_id": 33131850, "comment_id": 54796399, "body": "I want to echo that &#39;very close seeds&#39; are not a problem. Seeds incremented by one should produce sequences that appear completely independent. (Though of course that doesn&#39;t mean time is a good sole source of seed data.)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 79438, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "edited": false, "score": 0, "creation_date": 1446575745, "post_id": 33131850, "comment_id": 54796590, "body": "@bames53 Agree but generally the starting number of the sequence will be close.  Since the OP was only ever getting the first number from the sequence I included that."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 6, "last_activity_date": 1444844211, "last_edit_date": 1444844211, "creation_date": 1444843586, "answer_id": 33131850, "question_id": 33131800, "link": "https://stackoverflow.com/questions/33131800/c-generating-random-numbers-in-a-loop-using-default-random-engine/33131850#33131850", "title": "C++ generating random numbers in a loop using default_random_engine", "body": "<p>Every time you run <code>random</code> you reseed the generator with the same or very close to the same seed so you get the same output each iteration or if it does change it will not be by much.  </p>\n\n<p>To fix this you only seed the generator once and then keep calling it.  By making it static it works as expected as the generator is only created and seeded once you so keep going on its random sequence instead of getting the first random number it would create.</p>\n\n<p>Typically random number generators have an internal value that they put through an algorithm and what the algorithm spits out is what they return for a random number.  That number is then retained for the next iteration of the algorithm.  This is how we get an random sequence.  </p>\n\n<p>If we use the same seed we will get the same output sequence as we start from the same number.  In your case your seed will only change each time  <code>chrono::steady_clock::now()</code> advances and your loop is running faster than that so you are getting the same time(seed) each call.</p>\n"}, {"tags": [], "owner": {"reputation": 79438, "user_id": 365496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1397eae94e7fe715f040459c988c40b1?s=128&d=identicon&r=PG", "display_name": "bames53", "link": "https://stackoverflow.com/users/365496/bames53"}, "is_accepted": false, "score": 1, "last_activity_date": 1453399216, "last_edit_date": 1453399216, "creation_date": 1446582087, "answer_id": 33508332, "question_id": 33131800, "link": "https://stackoverflow.com/questions/33131800/c-generating-random-numbers-in-a-loop-using-default-random-engine/33508332#33508332", "title": "C++ generating random numbers in a loop using default_random_engine", "body": "<p>One important thing to know about pseudo random number generators is that they produce a sequence of numbers, and 'randomness' is a quality that the <em>sequence</em> is tested for. That is, you can't say that a particular number is random or not (<a href=\"https://xkcd.com/221/\" rel=\"nofollow\">is '4' a random number?</a>). You instead say whether the sequence of numbers is random or not.</p>\n\n<p>When you \"seed\" a pRNG you are generally selecting one of the sequences it can generate, and those numbers are random with respect to the rest of the sequence. So in general if you want 'randomness' you want to first select a particular sequence and then to use successive numbers from that particular random sequence.</p>\n\n<p>In your code without <code>static</code>, you're selecting a sequence on each iteration of the loop, and then using one number from that sequence. Since you're not using many values from the same sequence it's not really much surprise that the result doesn't look random.</p>\n\n<p>When you add <code>static</code> the engine is no longer being seeded on each iteration of the loop. Instead it's seeded once and each iteration of the loop uses successive values from that sequence, just like you're supposed to do. And this is what <code>static</code> means on block scoped variables: it means that the variable lives externally to the block it's declared in and that it will only be initialized the first time.</p>\n\n<p><code>static</code> does fix your problem, however I would argue that it's not a good solution. <code>static</code> variables have some similarities to global variables and cause some of the same problems. Instead what I would recommend is for you to explicitly move the engine outside the loop. For example:</p>\n\n<pre><code>int random (int lim, default_random_engine &amp;dre)\n{\n    uniform_int_distribution&lt;&gt; uid(1,lim);\n    return uid(dre);\n}\n\nint main()\n{\n    default_random_engine dre (chrono::steady_clock::now().time_since_epoch().count());\n\n    for (int i = 0; i &lt; 10; ++i)\n    {\n        cout &lt;&lt; random(100, dre) &lt;&lt; \" \";\n    }\n}\n</code></pre>\n\n<p>Now the state is being explicitly managed and passed into the <code>random()</code> function, which is better than relying on the hidden and implicit behavior of a block scoped <code>static</code> variable.</p>\n\n<hr>\n\n<p>Also in general I would not recommend using time as a sole source of seed data. A low resolution clock might not provide new seeds frequently enough, and the program being run in different places at the same time can use the same seed.</p>\n\n<p>My recommendation for seeding is:</p>\n\n<pre><code>std::random_device r;\nstd::seed_seq seed{r(), r(), r(), r(), r(), r(), r(), r()};\nstd::mt19937 eng(seed);\n</code></pre>\n\n<p>(There's no need for beginners to know what mt19937 or any of the other bits are about. They just need to know to paste this at the appropriate location and how to use <code>eng</code>. In your code you'd need to replace each use of <code>default_random_engine</code> with <code>mt19937</code>.)</p>\n"}], "owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1958, "favorite_count": 0, "accepted_answer_id": 33131850, "answer_count": 2, "score": 0, "last_activity_date": 1453399216, "creation_date": 1444843420, "question_id": 33131800, "link": "https://stackoverflow.com/questions/33131800/c-generating-random-numbers-in-a-loop-using-default-random-engine", "title": "C++ generating random numbers in a loop using default_random_engine", "body": "<p>Recently I was trying out a program on generating random numbers in C++ using the <code>random engines</code> defined in <code>#include&lt;random&gt;</code>. My program goes as follows :-</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;chrono&gt;\nusing namespace std;\nint random (int lim)\n{\n    default_random_engine dre (chrono::steady_clock::now().time_since_epoch().count());\n    uniform_int_distribution&lt;&gt; uid(1,lim);\n    return uid(dre);\n}\nint main()\n{\n    for (int i=0;i&lt;10;++i)\n    cout&lt;&lt;random(100)&lt;&lt;\" \";\n    return 0;\n}\n</code></pre>\n\n<p>Simple, definitely ! But when I tried the output the numbers were less random like these :-</p>\n\n<pre><code>66 95 95 96 96 96 96 96 97 97\n</code></pre>\n\n<p>When I changed my program slightly &amp; declared the <code>default_random_engine</code> as <code>static</code> or made it <code>global</code> then my output was proper such as this :-</p>\n\n<pre><code>62 53 21 38 7 51 46 40 86 12\n</code></pre>\n\n<p>Could anyone point out what actually was going wrong in my program initially &amp; how did the small change help me get a better output ?</p>\n"}, {"tags": ["c++", "node.js"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "edited": false, "score": 0, "creation_date": 1445003397, "post_id": 33131832, "comment_id": 54151733, "body": "Actually I found that before, but I ignored it. Because I didn&#39;t know exactly that is what I found. But if you tell that, then I will try it. Thank you."}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "edited": false, "score": 0, "creation_date": 1445004215, "post_id": 33131832, "comment_id": 54152297, "body": "You are welcome. Do not forget to accept a response once you find one that fits your needs. It will help future users and their searches."}, {"owner": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "edited": false, "score": 0, "creation_date": 1445181019, "post_id": 33131832, "comment_id": 54203871, "body": "Hey, I tried it, and I succeed to communicate nodejs and cpp. But what I want to exchange is image buffer data and I don&#39;t know how to convert the v8 object to Mat type in cpp after I send the data. If you know that, please give me more advice. Thank you."}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "edited": false, "score": 0, "creation_date": 1445181954, "post_id": 33131832, "comment_id": 54204168, "body": "I guess you should accept the response and close this question, then open a new one, for what you are asking now is pretty unrelated with this issue."}, {"owner": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "edited": false, "score": 0, "creation_date": 1445183884, "post_id": 33131832, "comment_id": 54204804, "body": "Got it. Thank you for your advice."}, {"owner": {"reputation": 3887, "user_id": 3001704, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4eT8C.png?s=128&g=1", "display_name": "chetan92", "link": "https://stackoverflow.com/users/3001704/chetan92"}, "edited": false, "score": 0, "creation_date": 1539307421, "post_id": 33131832, "comment_id": 92464231, "body": "As of today, even the most basic example mentioned in the repo fail to compile. Disappointing."}], "tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": true, "score": 3, "last_activity_date": 1444843540, "creation_date": 1444843540, "answer_id": 33131832, "question_id": 33131745, "link": "https://stackoverflow.com/questions/33131745/communicate-between-nodejs-and-c/33131832#33131832", "title": "Communicate between NodeJS and C++", "body": "<p>Start from <a href=\"https://nodejs.org/api/addons.html\" rel=\"nofollow\">here</a>.\nWrite your plugin, bind it to whatever you want and send back and forth the data form C++ to the js environment.</p>\n"}], "owner": {"reputation": 23, "user_id": 5446189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b4ff4dff62f4d74078a2796f777bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jinwoo Lee", "link": "https://stackoverflow.com/users/5446189/jinwoo-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4094, "favorite_count": 0, "accepted_answer_id": 33131832, "answer_count": 1, "score": 2, "last_activity_date": 1475802936, "creation_date": 1444843173, "last_edit_date": 1475802936, "question_id": 33131745, "link": "https://stackoverflow.com/questions/33131745/communicate-between-nodejs-and-c", "title": "Communicate between NodeJS and C++", "body": "<p>I'm doing a project that tracks objects with AR.Drone 2.0 using NodeJS.\nI get a video from drone through NodeJS server.\nAnd I want to use CMT (Main website: <a href=\"http://www.gnebehay.com/cmt/\" rel=\"nofollow\">http://www.gnebehay.com/cmt/</a>) (GitHub Repository: <a href=\"https://github.com/gnebehay/CppMT\" rel=\"nofollow\">https://github.com/gnebehay/CppMT</a>).</p>\n\n<p>But I don't know how to do that.</p>\n\n<p>I want to send a video from NodeJS to CMT(c++) and after processing, send back the point of object center and rectangle coordinate from CMT to NodeJS.\nEverything should do in real time.</p>\n\n<p>Would someone have an idea?</p>\n"}, {"tags": ["c++", "fltk"], "answers": [{"comments": [{"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1527821789, "post_id": 33132615, "comment_id": 88280930, "body": "Lifesaving tip!"}], "tags": [], "owner": {"reputation": 5566, "user_id": 1771479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5m0gd.jpg?s=128&g=1", "display_name": "agold", "link": "https://stackoverflow.com/users/1771479/agold"}, "is_accepted": true, "score": 16, "last_activity_date": 1444846273, "creation_date": 1444846273, "answer_id": 33132615, "question_id": 33131740, "link": "https://stackoverflow.com/questions/33131740/compile-fltk-with-g/33132615#33132615", "title": "Compile FLTK with g++", "body": "<p>You have to link it with the libraries:</p>\n\n<pre><code>g++ -std=c++11 trial.cpp -lfltk -o trial\n</code></pre>\n\n<p>For your code this library is enough, but depending on what classes you use you might need to add: <code>-lfltk_forms -lfltk_gl -lfltk_images</code> also.</p>\n\n<p>You can also use <code>fltk-config</code> as mentioned <a href=\"http://ubuntuforums.org/showthread.php?t=1766614\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>g++ -std=c++11 `fltk-config --cxxflags` trial.cpp  `fltk-config --ldflags` -o trial\n</code></pre>\n\n<p>Note: it is important to have the linking parameters (-l) after your code files (cpp and includes), otherwise you get compile errors.</p>\n"}], "owner": {"reputation": 942, "user_id": 3620605, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/de7654c478778116210561da3c9f1c19?s=128&d=identicon&r=PG&f=1", "display_name": "Effective_cellist", "link": "https://stackoverflow.com/users/3620605/effective-cellist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5058, "favorite_count": 6, "accepted_answer_id": 33132615, "answer_count": 1, "score": 9, "last_activity_date": 1444846273, "creation_date": 1444843152, "question_id": 33131740, "link": "https://stackoverflow.com/questions/33131740/compile-fltk-with-g", "title": "Compile FLTK with g++", "body": "<p>I am working through Stroustrup's Principles and Practices using C++. I am trying to get the following program to compile.</p>\n\n<pre><code>#include &lt;FL/Fl.H&gt;\n#include &lt;FL/Fl_Box.H&gt;\n#include &lt;Fl/Fl_Window.H&gt;\n\nint main()\n{\n    Fl_Window window(200, 200, \"Window title\");\n    Fl_Box box(0,0,200,200,\"Hey, I mean, Hello, World!\");\n    window.show();\n    return Fl::run();\n}\n</code></pre>\n\n<p>I tried compiling it with <code>g++ -std=c++11 trial.cpp -o trial</code> but then it threw the following error</p>\n\n<pre><code>    /tmp/ccaLRS7L.o: In function `main':\ntrial.cpp:(.text+0x26): undefined reference to `Fl_Window::Fl_Window(int, int, char const*)'\ntrial.cpp:(.text+0x50): undefined reference to `Fl_Box::Fl_Box(int, int, int, int, char const*)'\ntrial.cpp:(.text+0x5f): undefined reference to `Fl_Window::show()'\ntrial.cpp:(.text+0x64): undefined reference to `Fl::run()'\ntrial.cpp:(.text+0x84): undefined reference to `Fl_Window::~Fl_Window()'\ntrial.cpp:(.text+0xae): undefined reference to `Fl_Window::~Fl_Window()'\n/tmp/ccaLRS7L.o: In function `Fl_Box::~Fl_Box()':\ntrial.cpp:(.text._ZN6Fl_BoxD2Ev[_ZN6Fl_BoxD5Ev]+0x13): undefined reference to `vtable for Fl_Box'\ntrial.cpp:(.text._ZN6Fl_BoxD2Ev[_ZN6Fl_BoxD5Ev]+0x1f): undefined reference to `Fl_Widget::~Fl_Widget()'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>I installed FLTK version 1.3 from terminal. I am running Linux mint 17 on my computer. How do I compile this code?</p>\n"}, {"tags": ["c++", "output", "ascii"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1444843219, "post_id": 33131718, "comment_id": 54074977, "body": "Without the <code>Contact</code> class definition, we really can&#39;t help. That&#39;s obviously where the problem is."}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444843220, "post_id": 33131718, "comment_id": 54074978, "body": "You need to show the <code>Contact</code> constructor - the problem is very likely there (and likely a missing null-terminator for a string)."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444843345, "post_id": 33131718, "comment_id": 54075054, "body": "Looks like a non-terminated string."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1444843376, "post_id": 33131718, "comment_id": 54075074, "body": "Seems like your professor has explicitly used a name that is longer than 40 characters."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1444845997, "post_id": 33131718, "comment_id": 54076568, "body": "Fiendish! Seeing as the point of the assignment is copy constructors, I assume using std::string is off the table? Two other notes: I see 40 and 41 in the code. You probably want to enforce the buffer size more tightly. If <code>_name</code>&#39;s size is changed, 40 will not change, but <code>sizeof(_name)</code> will. Give <a href=\"http://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">What is The Rule of Three?</a> a read while on the subject of copy constructors. It&#39;ll probably save you some future problems."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5393391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24711276dfde13c89aec38ec99d66ae?s=128&d=identicon&r=PG&f=1", "display_name": "andirew", "link": "https://stackoverflow.com/users/5393391/andirew"}, "edited": false, "score": 0, "creation_date": 1444843455, "post_id": 33131781, "comment_id": 54075114, "body": "This fixed it! Thank you!"}], "tags": [], "owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "is_accepted": false, "score": 1, "last_activity_date": 1444843475, "last_edit_date": 1444843475, "creation_date": 1444843327, "answer_id": 33131781, "question_id": 33131718, "link": "https://stackoverflow.com/questions/33131718/c-odd-asci-output-with-my-program/33131781#33131781", "title": "C++, Odd Asci output with my Program", "body": "<p><code>strncpy(_name, name,40);</code> doesn't add a null-terminator at the end of string. To fix it, just add a line <code>_name[40] = '\\0'</code>. For short strings it just happens to copy it. For longer strings - it stops at 40'th symbol.</p>\n\n<p>From <a href=\"http://en.cppreference.com/w/cpp/string/byte/strncpy\" rel=\"nofollow\">cppreference</a></p>\n\n<blockquote>\n  <p>If count is reached before the entire array src was copied, the resulting character array is not null-terminated.</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 5393391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24711276dfde13c89aec38ec99d66ae?s=128&d=identicon&r=PG&f=1", "display_name": "andirew", "link": "https://stackoverflow.com/users/5393391/andirew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444843475, "creation_date": 1444843088, "last_edit_date": 1444843224, "question_id": 33131718, "link": "https://stackoverflow.com/questions/33131718/c-odd-asci-output-with-my-program", "title": "C++, Odd Asci output with my Program", "body": "<p>learning in my c++ the use of copy constructors etc. we were given a template of a program we were to complete, however my output is throwing funky asci characters in my output stream.</p>\n\n<p>Heres my main class:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#include \"Contact.h\"\nusing namespace sict;\n\n    int main(){\n      Contact c(\"Empty Contact\", 3);\n      c.display();\n      cout &lt;&lt; \"Enter Contact information: \" &lt;&lt; endl;\n      c.read();\n      c.display();\n      cout &lt;&lt; endl;\n      for (int i = 0; i &lt; 1000000; i++){\n        Contact temp(\"Testing the contact with a looooong \"\n                     \"name that should be taken care of\", 20);\n        if (!(i % 100000)){\n          cout &lt;&lt; i &lt;&lt; \":\" &lt;&lt; endl;\n          temp.display();\n        }\n      }\n      return 0;\n    }\n</code></pre>\n\n<p>Contact.cpp:</p>\n\n<pre><code>#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n#include \"Contact.h\"\nusing namespace std;\n\nnamespace sict{\n\n\n  void Contact::display()const{\n    //display the name and go to new line\n      cout&lt;&lt; _name &lt;&lt; endl;\n    // loop through elements of _pn up to _noPN and display them one by one\n      for(int i = 0; i &lt; _noPN ; i++){\n      _pn[i].display();\n      }\n    // draw a 40 char line using '-' and go to new line\n   cout&lt;&lt;\"----------------------------------------\"&lt;&lt;endl;\n\n\n  }\n    Contact::Contact(){\n        _pn = nullptr;\n    }\n    Contact::Contact(const char* name, int number){\n        strncpy(_name, name,40);\n        _pn = new PhoneNumber[number];\n        _noPN = number;\n\n    }\n    Contact::~Contact(){\n         delete[] _pn;\n\n    }\n\n\n  void Contact::read(){\n    cout &lt;&lt; \"Contact Name: \";\n    cin.getline(_name, 41, '\\n');\n    cout &lt;&lt; \"Please enter \" &lt;&lt; _noPN &lt;&lt; \" phone numbers: \" &lt;&lt; endl;\n    for (int i = 0; i &lt; _noPN; i++){\n      cout &lt;&lt; i + 1 &lt;&lt; \": \";\n      _pn[i].read();\n    }\n  }\n\n\n\n  bool Contact::isEmpty()const{\n    return _pn == (PhoneNumber*)0;\n  }\n  void Contact::setEmpty(){\n    _name[0] = 0;\n    _noPN = 0;\n    _pn = (PhoneNumber*)0;// same as _pn = nullptr;\n  }\n}\n</code></pre>\n\n<p>Output malfunction:</p>\n\n<pre><code>Empty Contact\n----------------------------------------\nEnter Contact information:\nContact Name: John Doe\nPlease enter 3 phone numbers:\n1: Home, 123 1234567\n2: Cell, 234 2345678\n3: Work, 345 3456789\nJohn Doe\nHome..........., 123 123-4567\nCell..........., 234 234-5678\nWork..........., 345 345-6789\n----------------------------------------\n    0:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    100000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    200000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    300000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    400000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    500000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    600000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    700000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    800000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n    900000:\n    Testing the contact with a looooong name\u00f4oc\u00b7l\u00d0\n    ----------------------------------------\n</code></pre>\n\n<p>What it is suppose to look like:</p>\n\n<pre><code>Empty Contact\n----------------------------------------\nEnter Contact information:\nContact Name: John Doe\nPlease enter 3 phone numbers:\n1: Home, 123 1234567\n2: Cell, 234 2345678\n3: Work, 345 3456789\nJohn Doe\nHome..........., 123 123-4567\nCell..........., 234 234-5678\nWork..........., 345 345-6789\n----------------------------------------\n\n0:\nTesting the contact with a looooong name\n----------------------------------------\n100000:\nTesting the contact with a looooong name\n----------------------------------------\n200000:\nTesting the contact with a looooong name\n----------------------------------------\n300000:\nTesting the contact with a looooong name\n----------------------------------------\n400000:\nTesting the contact with a looooong name\n----------------------------------------\n500000:\nTesting the contact with a looooong name\n----------------------------------------\n600000:\nTesting the contact with a looooong name\n----------------------------------------\n700000:\nTesting the contact with a looooong name\n----------------------------------------\n800000:\nTesting the contact with a looooong name\n----------------------------------------\n900000:\nTesting the contact with a looooong name\n----------------------------------------\n</code></pre>\n\n<p>As you can see, theres a few ascii characters being added at the end of name</p>\n\n<p>I can add the rest of the program however it is quiet lengthy, if it is requested i will edit this post and add them.</p>\n"}, {"tags": ["c++", "messaging", "rpc", "apache-kafka", "capnproto"], "answers": [{"comments": [{"owner": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "edited": false, "score": 0, "creation_date": 1444887283, "post_id": 33139148, "comment_id": 54091803, "body": "thanks Kenton. I looked at the node implementation but was a bit cautious because it adds libuv into the mix and it was considered slow and a bit kludgy.  I&#39;m tempted to move the Kafka bits into a new lib which links with KJ&#39;s interfaces. It would be nice if the RPC pipeline could access the new functionality with zero-copy, too, but i&#39;m not sure how hard this is. Does this sound viable to you?  I&#39;m in an early-stage startup so we may not be able to open-source until we get some investors :)."}, {"owner": {"reputation": 2288, "user_id": 1821055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4031acff2994243c56d92f9fd4a8e3bb?s=128&d=identicon&r=PG", "display_name": "Edenhill", "link": "https://stackoverflow.com/users/1821055/edenhill"}, "edited": false, "score": 0, "creation_date": 1444906791, "post_id": 33139148, "comment_id": 54102858, "body": "librdkafka provides a non-blocking asynchronous interface, all IO operations are performed in background threads, so you should be fine simply relying on Cap&#39;n&#39;s event dispatcher as your main loop."}, {"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "reply_to_user": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "edited": false, "score": 0, "creation_date": 1444946291, "post_id": 33139148, "comment_id": 54127342, "body": "@JamesFremen I pointed out the libuv implementation as an example of how to integrate KJ with an external event loop. I&#39;m not aware of any performance issues or other major problems in the KJ-UV glue code. It&#39;s fully zero-copy. Unless Kafka&#39;s low-level event interface is very bad, you should be able to integrate with it in this way just fine."}, {"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "reply_to_user": {"reputation": 2288, "user_id": 1821055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4031acff2994243c56d92f9fd4a8e3bb?s=128&d=identicon&r=PG", "display_name": "Edenhill", "link": "https://stackoverflow.com/users/1821055/edenhill"}, "edited": false, "score": 0, "creation_date": 1444946374, "post_id": 33139148, "comment_id": 54127381, "body": "@Edenhill Even if there is a background thread doing the I/O (which sounds surprising), it would presumably need some way to deliver events to the main thread, which requires some sort of event loop integration."}, {"owner": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "reply_to_user": {"reputation": 2288, "user_id": 1821055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4031acff2994243c56d92f9fd4a8e3bb?s=128&d=identicon&r=PG", "display_name": "Edenhill", "link": "https://stackoverflow.com/users/1821055/edenhill"}, "edited": false, "score": 0, "creation_date": 1444965525, "post_id": 33139148, "comment_id": 54132665, "body": "@Edenhill thanks for responding. I&#39;m looking for a single-threaded implementation since i think it may provide finer-grained resource allocation with sufficient performance for my workload."}, {"owner": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "edited": false, "score": 0, "creation_date": 1444966119, "post_id": 33139148, "comment_id": 54132830, "body": "@KentVarda yes, i judged it based on my initial pass of the top-level project comments which state that it is slow and a short-term hack, words that i would never normally use :). I will probably have more questions as i climb the learning curve but so far so good."}, {"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "reply_to_user": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "edited": false, "score": 0, "creation_date": 1444974129, "post_id": 33139148, "comment_id": 54135235, "body": "@JamesFremen - Yeah, those comments are about the node capnp bindings as a whole, <i>not</i> the libuv glue specifically. (And they may be too harsh; the performance has not been any kind of problem for Sandstorm.)"}, {"owner": {"reputation": 2288, "user_id": 1821055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4031acff2994243c56d92f9fd4a8e3bb?s=128&d=identicon&r=PG", "display_name": "Edenhill", "link": "https://stackoverflow.com/users/1821055/edenhill"}, "edited": false, "score": 0, "creation_date": 1444983299, "post_id": 33139148, "comment_id": 54139530, "body": "@KentonVarda Producing Kafka messages is an async operation that returns immediately (rd_kafka_produce*()). Consuming messages is using a pull based mechanism (msg = rd_kafka_consume*(.., timeout_ms)) that you need to call from your application code. Additionally there is error reporting and delivery reports provided by rd_kafka_poll() that typically goes in your main loop."}, {"owner": {"reputation": 2288, "user_id": 1821055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4031acff2994243c56d92f9fd4a8e3bb?s=128&d=identicon&r=PG", "display_name": "Edenhill", "link": "https://stackoverflow.com/users/1821055/edenhill"}, "edited": false, "score": 0, "creation_date": 1444983397, "post_id": 33139148, "comment_id": 54139573, "body": "@KentonVarda Internal IO threads are used for performance reasons and to provide a non-blocking interface to the application."}], "tags": [], "owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "is_accepted": true, "score": 2, "last_activity_date": 1444878347, "creation_date": 1444878347, "answer_id": 33139148, "question_id": 33131595, "link": "https://stackoverflow.com/questions/33131595/what-is-a-good-way-to-integrate-3rd-party-asynchronous-apis-with-capn-proto-rpc/33139148#33139148", "title": "what is a good way to integrate 3rd party asynchronous APIs with Cap&#39;n Proto RPC?", "body": "<p>Unfortunately, this is not so simple. Yes, they both use poll(), but the problem is, only one library will be calling poll() at a time, and only that library will actually receive any events -- the other is stuck. This is a classic challenge with event loop libraries -- by default they cannot be used together.</p>\n\n<p>One option is to try to use the libraries in separate threads. But, often event-driven libraries design around the assumption that you're doing everything in a single thread because otherwise why would you need an event loop?</p>\n\n<p>But \"The Right Thing\" is to integrate the event loops. KJ's event loop is capable of being integrated with other event libraries. For example, I integrated it with libuv for node-capnp; see the first part of this file:</p>\n\n<p><a href=\"https://github.com/kentonv/node-capnp/blob/master/src/node-capnp/capnp.cc\" rel=\"nofollow\">https://github.com/kentonv/node-capnp/blob/master/src/node-capnp/capnp.cc</a></p>\n\n<p>(At some point I plan to separate out the libuv-related code here into a separate library shipped with Cap'n Proto.)</p>\n\n<p>For another example, here's a pull request by Nathan Hourt to add integration with Qt's event loop -- but note that this one doesn't include I/O integration, I think because Nathan is using an implementation of <code>AsyncIoStream</code> into which he manually pushes data when it's available:</p>\n\n<p><a href=\"https://github.com/sandstorm-io/capnproto/pull/253\" rel=\"nofollow\">https://github.com/sandstorm-io/capnproto/pull/253</a></p>\n\n<p>In any case, you'll need to do something similar with whatever Kafka uses. Hopefully you'll then contribute your code back to Cap'n Proto! :)</p>\n"}], "owner": {"reputation": 1772, "user_id": 2904939, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pEOFP.png?s=128&g=1", "display_name": "James Fremen", "link": "https://stackoverflow.com/users/2904939/james-fremen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 33139148, "answer_count": 1, "score": 0, "last_activity_date": 1444878347, "creation_date": 1444842678, "last_edit_date": 1444847511, "question_id": 33131595, "link": "https://stackoverflow.com/questions/33131595/what-is-a-good-way-to-integrate-3rd-party-asynchronous-apis-with-capn-proto-rpc", "title": "what is a good way to integrate 3rd party asynchronous APIs with Cap&#39;n Proto RPC?", "body": "<p>I have a Linux server which processes Cap'n Proto RPC requests. Some of those requests need to forward data in the request to another server running, in this case, a Kafka broker. The librdkafka and Cap'n Proto KJ libraries can both use poll() so i think the OS will ensure they can both run asynchronously but I'm not sure if further integration is required or beneficial. Does anyone have experience with this?</p>\n\n<p>The question is a bit broader than the specifics i've listed.. there are other APIs which i may call in future from Cap'n Proto RPC so any broad guidelines would be appreciated.</p>\n"}, {"tags": ["c++", "windows", "dll"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444844032, "post_id": 33131571, "comment_id": 54075421, "body": "Where does C# come into this?"}, {"owner": {"reputation": 119, "user_id": 5244179, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1696554550572700/picture?type=large", "display_name": "Roy Bean", "link": "https://stackoverflow.com/users/5244179/roy-bean"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444897873, "post_id": 33131571, "comment_id": 54096993, "body": "Sorry for using the wrong flag, this is all in C++ environment"}, {"owner": {"reputation": 119, "user_id": 5244179, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1696554550572700/picture?type=large", "display_name": "Roy Bean", "link": "https://stackoverflow.com/users/5244179/roy-bean"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444930911, "post_id": 33131571, "comment_id": 54119262, "body": "@crashmsrt do you have some constructive idea?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444931625, "post_id": 33131571, "comment_id": 54119601, "body": "Do you have these both in a single solution, and have them outputting to the same folder? If not, are you copying the debug DLL and pdb files into the output folder of the other project?"}, {"owner": {"reputation": 119, "user_id": 5244179, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1696554550572700/picture?type=large", "display_name": "Roy Bean", "link": "https://stackoverflow.com/users/5244179/roy-bean"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1445004313, "post_id": 33131571, "comment_id": 54152362, "body": "yes I have the dll and the &quot;Test DLL project&quot; in separated solutions, In Test DLL project I made the following configurations C++ -&gt; add path to DLL headers. Linker path to .lib and the lib include  then I put the dll and the pdb in the folder."}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 5244179, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1696554550572700/picture?type=large", "display_name": "Roy Bean", "link": "https://stackoverflow.com/users/5244179/roy-bean"}, "is_accepted": false, "score": 0, "last_activity_date": 1446466694, "creation_date": 1446466694, "answer_id": 33477410, "question_id": 33131571, "link": "https://stackoverflow.com/questions/33131571/testing-dll-in-vc-cannot-step-into-a-function/33477410#33477410", "title": "Testing DLL in VC++ cannot step into a function", "body": "<p>I managed to fix my problem:\nI changed the \"Debugger Type\" to \"Mixed\" in configuration properties>>debugging of my test solution</p>\n\n<p>Anyhow, I don't understand the why I need to do that, if someone was an explanation please post.</p>\n"}], "owner": {"reputation": 119, "user_id": 5244179, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1696554550572700/picture?type=large", "display_name": "Roy Bean", "link": "https://stackoverflow.com/users/5244179/roy-bean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446466694, "creation_date": 1444842607, "last_edit_date": 1444897830, "question_id": 33131571, "link": "https://stackoverflow.com/questions/33131571/testing-dll-in-vc-cannot-step-into-a-function", "title": "Testing DLL in VC++ cannot step into a function", "body": "<p>I made a DLL in VC++ using Visual Studio 2008 professional and I'm trying to test(debug) it!\nSo I made another project but when I try to make a step into a class I made it just steps forward.</p>\n\n<p>I also try click on the class and go to the definition (where it appear Cannot Load Symbol)</p>\n\n<p>I try in tool>>options>>Debuging>>symbols to add the path to the .pdb file</p>\n\n<p>My code as the dll declaration</p>\n\n<pre><code> #pragma once\n\n __declspec(dllexport) long sdk_init();\n //__declspec(dllexport) long sdk_release();\n\n __declspec(dllexport) long sdk_connect(long handle);\n __declspec(dllexport) long sdk_getObjectList(long handle);\n //__declspec(dllexport) long sdk_disconnect(long handle);\n\n __declspec(dllexport) long sdk_playStream(long handle, int idx);\n __declspec(dllexport) long sdk_stopStream(long handle, int idx);\n</code></pre>\n\n<p>and then the implemantetion for instance ~</p>\n\n<pre><code>long sdk_init(){\n    CDataManager* m_DataManager = new CDataManager();\n    int i = m_DataManager-&gt;InitXns();\n    if(i == 0){\n        return 0;\n    }\n    return (long) m_DataManager;\n}\n</code></pre>\n\n<p>The class I can't step into is the CDataManager, that is a class created by me.\n    #include </p>\n\n<pre><code>using namespace std;\n#include &lt;list&gt;\n\nclass CDataManager : \n    public IDeviceSink, \n    public IMediaSink  \n{\n    public:\n        int InitXns(void);\n        int Connect(int nDeviceId);\n        int GetObjectList(void);\n        int RequestLiveStream(int videoSource);\n        int StopLiveStream(int videoSource);\n    private:\n        int  m_bInitXns;\n        int login;\n        //store in list?\n        XNS_DEVICE2 m_sDevice;\n        //safe store?\n        XNS_OBJECT *m_pObject;\n        XNS_OBJECT *m_pVideoSource;\n    public:\n        CDataManager();\n        virtual ~CDataManager();\n        int SetWnd(HWND hWnd);\n        long OnResponse(XNS_REQUEST* pReq);\n        long OnEvent(XNS_EVENT* pEvent);\n        long OnVideo(UINT nMID, XNS_VIDEO_HEADER* pVideo);\n        long OnAudio(UINT nMID, XNS_AUDIO_HEADER* pAudio);\n</code></pre>\n"}, {"tags": ["c++", "class", "templates", "accumulator"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444843025, "post_id": 33131547, "comment_id": 54074880, "body": "This seems like weird way of going about this.  What are you r requirements?"}, {"owner": {"reputation": 21, "user_id": 3483662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000472791954/picture?type=large", "display_name": "Scymantic", "link": "https://stackoverflow.com/users/3483662/scymantic"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444843272, "post_id": 33131547, "comment_id": 54075015, "body": "&quot;Your first task is to write a template for an accumulator, InOrder, that accepts a sequence of items via a .put(item) method and returns true or false via a .get() method indicating whether the sequence is in order.&quot;"}, {"owner": {"reputation": 21, "user_id": 3483662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000472791954/picture?type=large", "display_name": "Scymantic", "link": "https://stackoverflow.com/users/3483662/scymantic"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444843322, "post_id": 33131547, "comment_id": 54075040, "body": "This is the direction there are no restrictions or requirements besides the fact that I cannot have more than 1 put function or get function it is a very weird way of doing things not my first choice"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3483662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000472791954/picture?type=large", "display_name": "Scymantic", "link": "https://stackoverflow.com/users/3483662/scymantic"}, "edited": false, "score": 0, "creation_date": 1444843714, "post_id": 33131766, "comment_id": 54075255, "body": "Thank You for responding to my question. You were absolutely right"}], "tags": [], "owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "is_accepted": false, "score": 0, "last_activity_date": 1444843232, "creation_date": 1444843232, "answer_id": 33131766, "question_id": 33131547, "link": "https://stackoverflow.com/questions/33131547/applying-greater-than-or-less-than-checks-to-both-strings-and-primitive-data-typ/33131766#33131766", "title": "Applying Greater than or Less than Checks to both Strings and Primitive Data Types?", "body": "<p>This won't work:</p>\n\n<pre><code>if(_count!=0 &amp;&amp; _count!=1 &amp;&amp; item&lt;_lowbound)\n{\n    _order = false;\n}\nif(_count!=0 &amp;&amp; _count!=1 &amp;&amp; item&gt;_lowbound)\n{\n   _order = true;\n}\n</code></pre>\n\n<p>because should be:</p>\n\n<pre><code>if(_count!=0 &amp;&amp; _count!=1 &amp;&amp; item&lt;_lowbound)\n{\n    _order = false;\n}\n</code></pre>\n\n<p>Delete the second part, and add:</p>\n\n<pre><code>InOrder() : _order(true) {}\n</code></pre>\n\n<p>To your constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 3483662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000472791954/picture?type=large", "display_name": "Scymantic", "link": "https://stackoverflow.com/users/3483662/scymantic"}, "edited": false, "score": 0, "creation_date": 1444843681, "post_id": 33131767, "comment_id": 54075237, "body": "Wonderful Thank you I knew it was something simple I had not been thinking about straight!"}], "tags": [], "owner": {"reputation": 4113, "user_id": 2126582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVrzW.png?s=128&g=1", "display_name": "AnatolyS", "link": "https://stackoverflow.com/users/2126582/anatolys"}, "is_accepted": true, "score": 0, "last_activity_date": 1444843236, "creation_date": 1444843236, "answer_id": 33131767, "question_id": 33131547, "link": "https://stackoverflow.com/questions/33131547/applying-greater-than-or-less-than-checks-to-both-strings-and-primitive-data-typ/33131767#33131767", "title": "Applying Greater than or Less than Checks to both Strings and Primitive Data Types?", "body": "<p>Your mistake is that you do not stop when you detect that order is wrong:</p>\n\n<pre><code> _order = false; // here is you have to stop and skip all other items\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3483662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000472791954/picture?type=large", "display_name": "Scymantic", "link": "https://stackoverflow.com/users/3483662/scymantic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 33131767, "answer_count": 2, "score": 0, "last_activity_date": 1444843236, "creation_date": 1444842553, "last_edit_date": 1444843229, "question_id": 33131547, "link": "https://stackoverflow.com/questions/33131547/applying-greater-than-or-less-than-checks-to-both-strings-and-primitive-data-typ", "title": "Applying Greater than or Less than Checks to both Strings and Primitive Data Types?", "body": "<p>I'm working on a project which requires that I create a template class for an Accumulator which returns weather or not the list passed to it is in order.  The order is ascending.  </p>\n\n<p>I am probably overthinking the problem but I cannot seem to figure out how to do a greater than/ less than check on both primitive data types and strings.  I'll clarify:\nThe process goes like this:\nA list/vector is declared and stuff is stored in it.\nThen a secondary Accumulator called apply is called.\nThis Accumulator(apply) iterates through the list calling the .put() method of the InOrder Accumulator on every value in the list.  The values could be of type double, long, short, etc or string.</p>\n\n<p>I have tried setting an arbitrary lower bound, setting it equal to the first element in the list and then doing checks based on that start point but this offers mixed results because it does not work on the strings.</p>\n\n<p>I was thinking of checking typeid or something so that for strings I could then call the .size() method and compare that way. Were as for primitives I would simply use the > or &lt; operator.  But that would defeat the point of the template function.  Any help would be greatly appreciated.  </p>\n\n<p>I'll post the Code were the function is called, the code for the Apply Accumulator, and my Code for InOrder.  Let me know if anything else is required.</p>\n\n<p>My InOrder:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass InOrder\n{\npublic:\n\nInOrder(){}\n~InOrder(){}\n\nvoid put(T item)\n{\n    _count++;\n    if(_count == 1)\n    {\n        _lowbound = item;\n    }\n    if(_count!=0 &amp;&amp; _count!=1 &amp;&amp; item&lt;_lowbound)\n    {\n        _order = false;\n    }\n   if(_count!=0 &amp;&amp; _count!=1 &amp;&amp; item&gt;_lowbound)\n   {\n       _order = true;\n   }\n    _count++;\n}\nbool get()\n{\n    return _order;\n}\n\nprivate:\nT _lowbound;\nint _count = 0;\nbool _order;\n};\n</code></pre>\n\n<p>Apply Accumulator:</p>\n\n<pre><code>template&lt;typename A, typename I&gt;\nvoid apply(A &amp; anAccumulator, I begin, I end)\n{\nfor (I iter = begin; iter != end; ++iter)\n{\n    anAccumulator.put( *iter);\n}\n}\n</code></pre>\n\n<p>Code where InOrder is Called:</p>\n\n<pre><code>{\n    // Read a list of doubles into a List and check their order\n    cout &lt;&lt; \"apply InOrder to a List of doubles\\n\";\n    double sentinel = -1.23;\n    List&lt;double&gt; dList;\n    fillList(sentinel, dList);\n    InOrder&lt;double&gt; dblInOrder;\n    apply(dblInOrder, begin(dList), end(dList));\n    cout &lt;&lt; \"The doubles in dList are \";\n    if (!dblInOrder.get())\n        cout &lt;&lt; \"NOT \";\n    cout &lt;&lt; \"in order\\n\\n\";\n}\n{\n    // Read a list of strings into a List and check their order\n    cout &lt;&lt; \"apply InOrder to a List of strings\\n\";\n    string strSent = \"end\";\n    List&lt;string&gt; sList;\n    fillList(strSent, sList);\n    InOrder&lt;string&gt; strInOrder;\n    apply(strInOrder, begin(sList), end(sList));\n    cout &lt;&lt; \"The strings in sList are \";\n    if (!strInOrder.get())\n        cout &lt;&lt; \"NOT \";\n    cout &lt;&lt; \"in order\\n\\n\";\n}\n</code></pre>\n\n<p>I should note that the the items put into the list are processed in the reverse order.<br>\nEg:  if I type my list in as [a,b,c] or [1,2,3]  the first value/string to be processed will be c/3 and then so on for there to b/2 and a,1</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1444843626, "post_id": 33131533, "comment_id": 54075212, "body": "You can add overloads for <code>operator new</code> and <code>operator delete</code>. Not that doing so is a very good idea."}, {"owner": {"reputation": 692, "user_id": 1251815, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/03d1c9e582cbbbecbf20de4d6171b5d2?s=128&d=identicon&r=PG", "display_name": "koloman", "link": "https://stackoverflow.com/users/1251815/koloman"}, "edited": false, "score": 1, "creation_date": 1476353002, "post_id": 33131533, "comment_id": 67312729, "body": "Why is this question voted down that often? A lot of people are not aware one can overload new/delete."}], "answers": [{"comments": [{"owner": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "edited": false, "score": 0, "creation_date": 1577297003, "post_id": 33136044, "comment_id": 105138223, "body": "I don&#39;t know if I will get any answer after 4 years, but I try. Does this answer mean that the new/delete overloading has not to be done for all the classes but only once (globally)? And after this is done is it possible to use the non-overloaded new? The purpose is tracing allocations to prevent memory leaks in a system in which Valgrind-like tools cannot be used. tools"}, {"owner": {"reputation": 1724, "user_id": 3241687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d947e2e67319fa6adcf088098adf3079?s=128&d=identicon&r=PG&f=1", "display_name": "horns", "link": "https://stackoverflow.com/users/3241687/horns"}, "reply_to_user": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "edited": false, "score": 0, "creation_date": 1577334248, "post_id": 33136044, "comment_id": 105143417, "body": "@Cubo78 The overloading cannot be done globally, but I believe you could put it in one class with any classes you need inheriting from it."}], "tags": [], "owner": {"reputation": 1724, "user_id": 3241687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d947e2e67319fa6adcf088098adf3079?s=128&d=identicon&r=PG&f=1", "display_name": "horns", "link": "https://stackoverflow.com/users/3241687/horns"}, "is_accepted": false, "score": 2, "last_activity_date": 1444858732, "creation_date": 1444858732, "answer_id": 33136044, "question_id": 33131533, "link": "https://stackoverflow.com/questions/33131533/hooking-new-delete-c/33136044#33136044", "title": "Hooking new/delete C++", "body": "<p>It is just as simple, just overload the new/new[]/delete/delete[] functions:</p>\n\n<pre><code>void* operator new(size_t size)\nvoid* operator new[](size_t size)\nvoid  operator delete(void* ptr)\nvoid  operator delete[](void* ptr)\n</code></pre>\n\n<p>See <a href=\"http://oroboro.com/overloading-operator-new/\" rel=\"nofollow\">Overloading Global operator new and delete</a>\nAlso see <a href=\"http://www.cplusplus.com/reference/new/\" rel=\"nofollow\">here</a> for more information about the default new/delete functions</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 5957495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI54a.jpg?s=128&g=1", "display_name": "Ramanand Yadav", "link": "https://stackoverflow.com/users/5957495/ramanand-yadav"}, "is_accepted": false, "score": 1, "last_activity_date": 1600252726, "creation_date": 1600252726, "answer_id": 63918245, "question_id": 33131533, "link": "https://stackoverflow.com/questions/33131533/hooking-new-delete-c/63918245#63918245", "title": "Hooking new/delete C++", "body": "<p>Just globally overload the new and delete operator. Simple example i have written below.</p>\n<pre><code>void * operator new(size_t size){\n    int *p=(int*)malloc(size);\n    cout&lt;&lt;*p&lt;&lt;&quot; &quot;&lt;&lt;p&lt;&lt;endl;\n    return p;\n}\nvoid operator delete(void *p)\n{   free(p);\n}\nvoid * operator new[](size_t size){\n    void *p=malloc(size);\n    return p;\n}\nvoid operator delete[](void *p){\n     free(p);\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5446177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0f6fc776be57e81e741b3dfed33bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user5446177", "link": "https://stackoverflow.com/users/5446177/user5446177"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1600252726, "creation_date": 1444842507, "question_id": 33131533, "link": "https://stackoverflow.com/questions/33131533/hooking-new-delete-c", "title": "Hooking new/delete C++", "body": "<p>I am trying to hook on new/delete in C++\nWhen it comes to malloc/free it is simple: just read it:\n<a href=\"http://www.gnu.org/software/libc/manual/html_node/Hooks-for-Malloc.html\" rel=\"nofollow\">http://www.gnu.org/software/libc/manual/html_node/Hooks-for-Malloc.html</a></p>\n\n<p>But, what about allocation in C++ with new/delete?</p>\n\n<p>P.S. I mean G++/GCC</p>\n"}, {"tags": ["c++", "server", "ip", "client", "libssh"], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 577774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2f1e3c638391229f288e9449c387f3?s=128&d=identicon&r=PG", "display_name": "asn", "link": "https://stackoverflow.com/users/577774/asn"}, "is_accepted": false, "score": -1, "last_activity_date": 1444925226, "last_edit_date": 1444925226, "creation_date": 1444907261, "answer_id": 33146904, "question_id": 33131501, "link": "https://stackoverflow.com/questions/33131501/how-to-get-client-ip-adress-using-libssh/33146904#33146904", "title": "How to get client ip adress using libssh", "body": "<pre><code>s = ssh_get_fd(session);\ngetpeername(s, ...);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5562119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655fc1eea4e4f22318bf7469c63ef56a?s=128&d=identicon&r=PG&f=1", "display_name": "vojtamicka", "link": "https://stackoverflow.com/users/5562119/vojtamicka"}, "is_accepted": false, "score": 1, "last_activity_date": 1447515060, "creation_date": 1447515060, "answer_id": 33710013, "question_id": 33131501, "link": "https://stackoverflow.com/questions/33131501/how-to-get-client-ip-adress-using-libssh/33710013#33710013", "title": "How to get client ip adress using libssh", "body": "<p>Here is little function I'm using.</p>\n\n<pre><code>string getClientIp(ssh_session session) {\n\n    struct sockaddr_storage tmp;\n    struct sockaddr_in *sock;\n    unsigned int len = 100;\n    char ip[100] = \"\\0\";\n\n    getpeername(ssh_get_fd(session), (struct sockaddr*)&amp;tmp, &amp;len);\n    sock = (struct sockaddr_in *)&amp;tmp;\n    inet_ntop(AF_INET, &amp;sock-&gt;sin_addr, ip, len);\n\n    string ip_str = ip;\n\n    return ip_str;\n}\n</code></pre>\n\n<p>It is based on function \"get_client_ip\" from<a href=\"https://github.com/PeteMo/sshpot/blob/master/auth.c\" rel=\"nofollow\">https://github.com/PeteMo/sshpot/blob/master/auth.c</a> where is complete SSH honeypot implementation.</p>\n"}], "owner": {"reputation": 3, "user_id": 4823233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d10fe292e5fe68ade8c8ffe3537247?s=128&d=identicon&r=PG&f=1", "display_name": "Casio", "link": "https://stackoverflow.com/users/4823233/casio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447515060, "creation_date": 1444842399, "question_id": 33131501, "link": "https://stackoverflow.com/questions/33131501/how-to-get-client-ip-adress-using-libssh", "title": "How to get client ip adress using libssh", "body": "<p>I am using libssh to make my own ssh server (some kind of honeypot). I would like to save the ip address of connected client into my logfile. How to get this IP address? Programming in c++. Thanks in advance guys! </p>\n"}, {"tags": ["c++", "templates", "type-conversion", "c-preprocessor", "compile-time"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1444843042, "post_id": 33131374, "comment_id": 54074895, "body": "Please google &quot;c++ enum string representation&quot;"}, {"owner": {"reputation": 501, "user_id": 5349798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eea4b944c489813694d8ce3da3720e2?s=128&d=identicon&r=PG&f=1", "display_name": "renonsz", "link": "https://stackoverflow.com/users/5349798/renonsz"}, "edited": false, "score": 0, "creation_date": 1444843559, "post_id": 33131374, "comment_id": 54075171, "body": "I can define strings and enums at once, but the int representation is still there."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1444844167, "creation_date": 1444844167, "answer_id": 33132014, "question_id": 33131374, "link": "https://stackoverflow.com/questions/33131374/how-to-consistently-define-list-of-options-to-use-as-enum-int-and-string-at-the/33132014#33132014", "title": "How to consistently define list of options to use as enum, int and string at the same time?", "body": "<p>If you are not married to using an <code>enum</code>, you can use something along the lines of:</p>\n\n<pre><code>#define CONCAT2(A, B) A ## B\n#define CONCAT(A, B) CONCAT2(A, B)\n\n#define STR2(A) #A\n#define STR(A) STR2(A)\n\n#define DEFINE_RESOLUTION(ResClass, X, Y) \\\n   struct ResClass { \\\n      static const int val = CONCAT(0x, CONCAT(X, Y)); \\\n      static char const* toString() \\\n      { \\\n         return STR(CONCAT(X, CONCAT(x, Y))); \\\n      } \\\n      static int getX() { return (X); } \\\n      static int getY() { return (Y); } \\\n   };\n</code></pre>\n\n\n\n<pre><code>DEFINE_RESOLUTION(Res1, 640, 480);\nDEFINE_RESOLUTION(Res2, 1024, 768);\n\n// Test the code\n#include &lt;iostream&gt;    \n\nint getint()\n{\n   return Res1::val;\n   // return Res2::val;\n}\n\nint main()\n{\n   int v = getint();\n   switch (v)\n   {\n      case Res1::val:\n         std::cout &lt;&lt; Res1::getX() &lt;&lt; \"\\n\";\n         std::cout &lt;&lt; Res1::getY() &lt;&lt; \"\\n\";\n         std::cout &lt;&lt; Res1::toString() &lt;&lt; \"\\n\";\n         break;\n\n      case Res2::val:\n         std::cout &lt;&lt; Res2::getX() &lt;&lt; \"\\n\";\n         std::cout &lt;&lt; Res2::getY() &lt;&lt; \"\\n\";\n         std::cout &lt;&lt; Res2::toString() &lt;&lt; \"\\n\";\n         break;\n\n      default:\n         std::cout &lt;&lt; \"Got default\\n\";\n\n   }\n   return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>640\n480\n640x480\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 2, "creation_date": 1444865935, "post_id": 33137418, "comment_id": 54086341, "body": "For the string, I&#39;d suggest the simpler <code>#define STRING_RESOLUTION(X, Y) #X &quot;x&quot; #Y</code>. It is not, in general, possible to ##-concat string pieces together, and it is useful to remember that it is almost never necessary either."}, {"owner": {"reputation": 501, "user_id": 5349798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eea4b944c489813694d8ce3da3720e2?s=128&d=identicon&r=PG&f=1", "display_name": "renonsz", "link": "https://stackoverflow.com/users/5349798/renonsz"}, "edited": false, "score": 0, "creation_date": 1444889366, "post_id": 33137418, "comment_id": 54092599, "body": "It seems the trick I was lacking was the <code>undef</code> so that macro <code>RESOLUTION</code> is used for multiple purposes. Very cunning and thank you for giving the broader C++03- answer!"}], "tags": [], "owner": {"reputation": 6883, "user_id": 3043539, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9b4da211d51b30b90ac532d6f0b07884?s=128&d=identicon&r=PG&f=1", "display_name": "Constructor", "link": "https://stackoverflow.com/users/3043539/constructor"}, "is_accepted": true, "score": 2, "last_activity_date": 1444867185, "last_edit_date": 1495540768, "creation_date": 1444865580, "answer_id": 33137418, "question_id": 33131374, "link": "https://stackoverflow.com/questions/33131374/how-to-consistently-define-list-of-options-to-use-as-enum-int-and-string-at-the/33137418#33137418", "title": "How to consistently define list of options to use as enum, int and string at the same time?", "body": "<p>There are two different approaches to solve problems of the such kind using only C++ tools (both of them use preprocessor's macros):</p>\n\n<ol>\n<li>The approach based on <a href=\"https://en.wikipedia.org/wiki/Variadic_macro\" rel=\"nofollow noreferrer\">variadic macro</a> (you can write your own code or use <a href=\"http://www.boost.org/doc/libs/1_59_0/libs/preprocessor/doc/index.html\" rel=\"nofollow noreferrer\">Boost.Preprocessor</a> library macros).</li>\n<li>The approach based on <a href=\"https://en.wikipedia.org/wiki/X_Macro\" rel=\"nofollow noreferrer\">X-macro technique</a>.</li>\n</ol>\n\n<p>Second approach is good for you if you use C++03 or lower (first one is available if you use C++11 or higher or if your C++ compiler supports C99). Here is its description:</p>\n\n<ul>\n<li><p>Create an include file <strong>without include guards</strong> (you may give it an extension different from your usual header file extension, e.g. <code>inc</code>) with the name <code>Resolution</code> and the following contents:</p>\n\n<pre><code>RESOLUTION(  640, 480 )\nRESOLUTION( 1024, 768 )\nRESOLUTION( 1600, 900 )\n</code></pre></li>\n<li><p>Define your arrays as follows:</p>\n\n<pre><code>#define TO_STRING_LITERAL_(S) #S\n#define TO_STRING_LITERAL(S) TO_STRING_LITERAL_(S)\n#define STRING_RESOLUTION_(X, Y) X ## x ## Y\n#define STRING_RESOLUTION(X, Y) TO_STRING_LITERAL(STRING_RESOLUTION_(X, Y)),\n#define ENUM_RESOLUTION(X, Y) _ ## X ## x ## Y,\n#define INT_RESOLUTION(X, Y) { X , Y },\n\n#define RESOLUTION(X, Y) STRING_RESOLUTION(X, Y)\nstd::string RESTR[] =\n{\n#    include \"Resolution.inc\"\n};\n#undef RESOLUTION\n\n#define RESOLUTION(X, Y) ENUM_RESOLUTION(X, Y)\nstruct Enum\n{\n     enum ERes\n     {\n#        include \"Resolution.inc\"\n     };\n};\n#undef\n\n#define RESOLUTION(X, Y) INT_RESOLUTION(X, Y)\nuint RES[][2] =\n{\n#   include \"Resolution.inc\"\n};\n#undef\n</code></pre></li>\n</ul>\n\n<p><strong>Update:</strong> <a href=\"https://stackoverflow.com/users/1566221/rici\"><strong>@rici</strong></a> suggests in comments an interesting simplification of the <code>STRING_RESOLUTION</code> macro:</p>\n\n<pre><code>#define STRING_RESOLUTION(X, Y) #X \"x\" #Y\n</code></pre>\n\n<p>It is possible because a series of string literals is recognized as a one literal by a C++ compiler: <code>\"string1\" \"string2\" \"string3\" == \"string1string2string3\"</code>.</p>\n"}], "owner": {"reputation": 501, "user_id": 5349798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eea4b944c489813694d8ce3da3720e2?s=128&d=identicon&r=PG&f=1", "display_name": "renonsz", "link": "https://stackoverflow.com/users/5349798/renonsz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33137418, "answer_count": 2, "score": 0, "last_activity_date": 1444867185, "creation_date": 1444841996, "question_id": 33131374, "link": "https://stackoverflow.com/questions/33131374/how-to-consistently-define-list-of-options-to-use-as-enum-int-and-string-at-the", "title": "How to consistently define list of options to use as enum, int and string at the same time?", "body": "<p>I am providing an example with display resolutions but the question is more general.</p>\n\n<p>Let say we have following configurations: 640x480; 1024x768; 1600x900. If they are defined separately it would look something like:</p>\n\n<pre><code>std::string RESTR[] = { \"640x480\", \"1024x768\", \"1600x900\" };\nstruct Enum { enum ERes { _640x480, _1024x768, _1600x900 }; };\nuint RES[][2] = { { 640, 480 }, { 1024, 768 }, { 1600, 900 } };\n</code></pre>\n\n<p>It is too error prone to maintain all of the lists. It should be given the following way (or at least something very similar):</p>\n\n<pre><code>Res(  640, 480 )\nRes( 1024, 768 )\nRes( 1600, 900 )\n</code></pre>\n\n<p>A Resolution class would seem to be a fine solution, it behaves as a string when needed and returns a value in other use cases. But it does not have the enums before running the application. In order to utilize resolution enums in development a compile time magic, preprocessor or template definition is required. How could it be resolved?</p>\n\n<p>Is there a standard state-of-art approach for this kind of problem?</p>\n"}, {"tags": ["c++", "sorting", "boost", "graph", "lambda"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1444841614, "post_id": 33131111, "comment_id": 54074056, "body": "The <a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\"><code>std::sort</code></a> documentation gives examples which do not involve lambda."}], "answers": [{"comments": [{"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1444844961, "post_id": 33131349, "comment_id": 54075940, "body": "Thank you, but where does your function object get its <code>g</code> from? Because that&#39;s the reason I&#39;m using lambda functions in the first place. Can I just store a reference to the graph in the struct, or..?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 1, "creation_date": 1444846687, "post_id": 33131349, "comment_id": 54077013, "body": "@User1291 yes. That&#39;s the idea of a stateful functor"}], "tags": [], "owner": {"reputation": 7489, "user_id": 2183287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f994c77448da7979a598ef76d270de67?s=128&d=identicon&r=PG&f=1", "display_name": "fatihk", "link": "https://stackoverflow.com/users/2183287/fatihk"}, "is_accepted": true, "score": 1, "last_activity_date": 1444886117, "last_edit_date": 1495535227, "creation_date": 1444841917, "answer_id": 33131349, "question_id": 33131111, "link": "https://stackoverflow.com/questions/33131111/c-bgl-sort-edges/33131349#33131349", "title": "C++ - BGL: sort edges", "body": "<p>You can use operators and functors:</p>\n\n<pre><code> // sort using a custom function object\n    class customLess{\n        Graph &amp;_g;\n    public:\n        customLess(Graph g)\n        {\n            _g = g;\n        }\n\n        bool operator()(const Edge&amp; e1, const Edge&amp; e2)\n        {   \n           return _g[e1].source &lt; _g[e2].source || (_g[e1].source ==  _g[e2].source &amp;&amp; _g[e1].target &lt; _g[e2].target);\n        }   \n     } ;\n\n    std::sort(edgs.begin(), edgs.end(), customLess(g));\n</code></pre>\n\n<p>So that you dont have to write down same operator content in every sort operation in your code.</p>\n\n<p>with reference:\n<a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/algorithm/sort</a>\nand\n<a href=\"https://stackoverflow.com/questions/356950/c-functors-and-their-uses\">C++ Functors - and their uses</a></p>\n"}, {"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 1, "last_activity_date": 1444847239, "creation_date": 1444847239, "answer_id": 33132915, "question_id": 33131111, "link": "https://stackoverflow.com/questions/33131111/c-bgl-sort-edges/33132915#33132915", "title": "C++ - BGL: sort edges", "body": "<p>Alternatively, use the default sorting comparison: <code>std::less&lt;Edge&gt;</code></p>\n\n<p>E.g.:</p>\n\n<pre><code>#include &lt;boost/tuple/tuple_comparison.hpp&gt;\n\nusing namespace boost;\n\nstruct EdgeProperties{\n    int weight;\n    int source;\n    int target;\n\nprivate:\n    auto key() const { return tie(weight, source, target); }\npublic:\n\n    bool operator&lt;(EdgeProperties const&amp; other) const {\n        return key() &lt; other.key();\n    }\n};\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>std::edge&lt;EdgeProperties&gt; selfsorting;\n</code></pre>\n\n<p>is already sorted</p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 33131349, "answer_count": 2, "score": 1, "last_activity_date": 1444886117, "creation_date": 1444841121, "question_id": 33131111, "link": "https://stackoverflow.com/questions/33131111/c-bgl-sort-edges", "title": "C++ - BGL: sort edges", "body": "<p>I was wondering if there was a way to get a sorted vector of a boost graph's edges without the use of lambda functions.</p>\n\n<p>I.e. I am currently sorting like this:</p>\n\n<pre><code>std::vector&lt;Edge&gt; edgs = ...;\nstd::sort(edgs.begin(),edgs.end(),\n        [&amp;](const Edge&amp; e1, const Edge&amp; e2){\n            return g[e1].source &lt; g[e2].source || (g[e1].source == g[e2].source &amp;&amp; g[e1].target &lt; g[e2].target);\n    });\n</code></pre>\n\n<p>Where <code>g</code> is the graph we have taken the edges from and </p>\n\n<pre><code>struct EdgeProperties{\n    int weight;\n    int source;\n    int target;\n};\ntypedef boost::adjacency_list&lt;vecS,vecS,undirectedS,no_property,EdgeProperties&gt; Graph;\ntypedef boost::graph_traits&lt;Graph&gt; Traits;\ntypedef Traits::vertex_descriptor Vertex;\ntypedef Traits::edge_descriptor Edge;\n</code></pre>\n\n<p>Works, but I'd prefer not having to use lambda functions. Is there a way to avoid them (still using the std::sort) or am I stuck with them?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 798, "user_id": 3692170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bIBMZ.gif?s=128&g=1", "display_name": "TomazStoiljkovic", "link": "https://stackoverflow.com/users/3692170/tomazstoiljkovic"}, "reply_to_user": {"reputation": 1891, "user_id": 995218, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZKQoe.jpg?s=128&g=1", "display_name": "atkins", "link": "https://stackoverflow.com/users/995218/atkins"}, "edited": false, "score": 0, "creation_date": 1444841441, "post_id": 33131086, "comment_id": 54073957, "body": "Yes sorry, i was trying that and I forget to change it back, when posting on stackoverflow"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1444841523, "post_id": 33131086, "comment_id": 54074005, "body": "It seems, you do not map the range [1, L] to the range [0, size-1] properly."}, {"owner": {"reputation": 798, "user_id": 3692170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bIBMZ.gif?s=128&g=1", "display_name": "TomazStoiljkovic", "link": "https://stackoverflow.com/users/3692170/tomazstoiljkovic"}, "edited": false, "score": 0, "creation_date": 1444841804, "post_id": 33131086, "comment_id": 54074163, "body": "Yes L is size, in our case that is 305."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1444842186, "post_id": 33131086, "comment_id": 54074404, "body": "You have several issues with switching from 1-based to 0-based indexing. For example, <code>field[i] * field[i + k]</code> can multiply the same element by itself in your code, but not in the formula."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1444842596, "post_id": 33131086, "comment_id": 54074626, "body": "Is this the minimal data set that reproduces the problem? You never use the 0th element, is this intentional?"}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 2, "last_activity_date": 1444843147, "last_edit_date": 1444843147, "creation_date": 1444842688, "answer_id": 33131600, "question_id": 33131086, "link": "https://stackoverflow.com/questions/33131086/from-mathematic-function-to-c-code/33131600#33131600", "title": "From mathematic function to c++ code", "body": "<p>You are mapping variables into different ranges using the same names, which is always going to be confusing. Better is to keep ranges and names the same as in the math, and only subtract one for 0-base indexes at indexing time. Also might as well use L explicitly:</p>\n\n<pre><code>int L = field.size();\nfor (int k = 1; k &lt;= L-1; k++){\n    ...\n    for (int i = 1; i &lt;= L-k; i++) {\n        c += field[i -1] * field[i+k -1];\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1444845798, "post_id": 33131874, "comment_id": 54076453, "body": "Getting refactoring right is hard, as you are finding out :-). I&#39;d recommend doing the refactoring in the math itself first, then do a direct copy into code."}], "tags": [], "owner": {"reputation": 3819, "user_id": 4095476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9255e07a865a8af3777fd16a6d1b2f00?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Gatnar", "link": "https://stackoverflow.com/users/4095476/pavel-gatnar"}, "is_accepted": true, "score": 2, "last_activity_date": 1444846403, "last_edit_date": 1444846403, "creation_date": 1444843676, "answer_id": 33131874, "question_id": 33131086, "link": "https://stackoverflow.com/questions/33131086/from-mathematic-function-to-c-code/33131874#33131874", "title": "From mathematic function to c++ code", "body": "<p>after refactoring:  </p>\n\n<pre><code>double EnergyFunction::evaluate(vector&lt;short&gt; field) {\n  double e = 0.0;\n  int l = field.size()\n  for (int k = 1; k &lt; l; k++){\n    double c = 0.0;\n    for (int i = 0, j = k; j &lt; l; i++, j++) {\n        c += field[i] * field[j];\n    }\n    e += c*c;\n  }\n  return l*l / ( e+e );\n}\n</code></pre>\n\n<p>explanation:<br>\n1. we need to iterate (L-1) times<br>\n2. we need to shift the base and offset indexes until we reach the last one<br>\n3. c*c and e+e are quicker and easier to read</p>\n"}], "owner": {"reputation": 798, "user_id": 3692170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bIBMZ.gif?s=128&g=1", "display_name": "TomazStoiljkovic", "link": "https://stackoverflow.com/users/3692170/tomazstoiljkovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 33131874, "answer_count": 2, "score": 3, "last_activity_date": 1444854725, "creation_date": 1444841055, "last_edit_date": 1444842057, "question_id": 33131086, "link": "https://stackoverflow.com/questions/33131086/from-mathematic-function-to-c-code", "title": "From mathematic function to c++ code", "body": "<p>I am trying to implement this F(S) function:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wUdtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUdtd.png\" alt=\"enter image description here\"></a></p>\n\n<p>bellow is my code but is not working:</p>\n\n<pre><code>double EnergyFunction::evaluate(vector&lt;short&gt; field) {\n    double e = 0.0;\n    for (int k = 1; k &lt; field.size() - 1; k++){\n        double c = 0.0;\n        for (int i = 1; i &lt; field.size() - k; i++) {\n            c += field[i] * field[i + k];\n        }\n        e += pow(c, 2);\n    }\n    double f = pow(field.size(), 2) / ( 2 * e );\n    return f;\n}\n</code></pre>\n\n<p>For example F(S) function should return value 8644 for vector:</p>\n\n<pre><code>1,1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,1,-1,1,-1,-1,1,1,1,1,-1,-1,-1,1,1,1,1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,-1,1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,1,-1,1,-1,1,-1,1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,1,-1,1,1,-1,1,-1,1,1,1,-1,-1,1,1,-1,-1,1,1,1,1,1,1,1,1,-1,1,-1,1,-1,1,-1,-1,1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,1,1,1,1,1,-1,-1,-1,1,-1,-1,1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,1,1,1,1,-1,1,-1,1,-1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,1,1,1,-1,-1,-1,-1,1,1,1,-1,1,-1,-1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,-1,1,-1,1,1,1,1,-1,1,1,1,1,1,-1,-1,-1,1,-1,-1,1,1,1,-1,1,1,1,-1,1,1   \n</code></pre>\n\n<p>I need another par of eyes to look at my code because I am a bit lost here. :)</p>\n"}, {"tags": ["c++", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1445802993, "post_id": 33131089, "comment_id": 54465421, "body": "Are you sure <code>int a[][3] = {0, 2};</code> declares <code>a</code> to be <code>int a[2][3]</code>?"}], "tags": [], "owner": {"reputation": 2008, "user_id": 3483291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PAosg.jpg?s=128&g=1", "display_name": "vishal", "link": "https://stackoverflow.com/users/3483291/vishal"}, "is_accepted": true, "score": 5, "last_activity_date": 1445802731, "last_edit_date": 1445802731, "creation_date": 1444841066, "answer_id": 33131089, "question_id": 33131007, "link": "https://stackoverflow.com/questions/33131007/2-dimensional-array-definition/33131089#33131089", "title": "2-dimensional array definition", "body": "<p>when you define array as</p>\n\n<pre><code>int a[][3]={0};\n</code></pre>\n\n<p>the compiler assigns the value to the the above declared array as:</p>\n\n<pre><code>int a[1][3]\n</code></pre>\n\n<p>so it did not complained</p>\n\n<p>similarly if you do like this:</p>\n\n<pre><code>int a[][3]={0,2};\n</code></pre>\n\n<p>it will take:</p>\n\n<p>int a[2][3]</p>\n"}], "owner": {"reputation": 994, "user_id": 5348990, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/bf9b29188c0f8f2318a5e14dc1ca7319?s=128&d=identicon&r=PG&f=1", "display_name": "jackycflau", "link": "https://stackoverflow.com/users/5348990/jackycflau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 33131089, "answer_count": 1, "score": 0, "last_activity_date": 1522014680, "creation_date": 1444840822, "question_id": 33131007, "link": "https://stackoverflow.com/questions/33131007/2-dimensional-array-definition", "title": "2-dimensional array definition", "body": "<p>From my understanding, when we define an array, we need to specific its size </p>\n\n<p>explicitly so the compiler will know required memory to be occupied by the array.</p>\n\n<p>Therefore,</p>\n\n<p>Case 1: </p>\n\n<pre><code>int a[][3]; //illegal as we will not know the size of the int array\na[0][1]=2;\na[1][3]=4;\n</code></pre>\n\n<p>However when I add something like this:</p>\n\n<p>Case 2:</p>\n\n<pre><code>int a[][3]={0}; //the compiler didn't complain at all\na[0][1]=2;\na[1][3]=4;\n</code></pre>\n\n<p>Why wont the compiler show any error message in this case? The definition in case 2 only tells compiler how many columns are there but the number of rows are still unknown? Shouldn't the compiler act in the same way as case 1?? Any reasons to explain this? Thank you so much</p>\n"}, {"tags": ["c++", "arrays", "class", "vector"], "comments": [{"owner": {"reputation": 2402, "user_id": 1761023, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/69f533644458d8e841a154e6b6ee585c?s=128&d=identicon&r=PG", "display_name": "ZZPLKF", "link": "https://stackoverflow.com/users/1761023/zzplkf"}, "edited": false, "score": 0, "creation_date": 1444840871, "post_id": 33130951, "comment_id": 54073622, "body": "Where are you getting the &quot;elements&quot; array?"}, {"owner": {"reputation": 368, "user_id": 3021277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d75990362a6e7dbf4fcc71a6b0fb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "robal", "link": "https://stackoverflow.com/users/3021277/robal"}, "edited": false, "score": 1, "creation_date": 1444841451, "post_id": 33130951, "comment_id": 54073964, "body": "First of all you are using python like &#39;for else&#39; loop in your code. In c++ it won&#39;t work like in python. &quot;Else&quot; is part of &quot;if else&quot; control flow construct so your for loop will end on 0&#39;th element. Except that your code should work."}, {"owner": {"reputation": 2809, "user_id": 4345926, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/78b3827bc3fc1884126c6851058c4fac?s=128&d=identicon&r=PG", "display_name": "g24l", "link": "https://stackoverflow.com/users/4345926/g24l"}, "edited": false, "score": 0, "creation_date": 1444842061, "post_id": 33130951, "comment_id": 54074335, "body": "also forgot to set size in the function arguments."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4655413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1540662652865904/picture?type=large", "display_name": "Saiful Islam", "link": "https://stackoverflow.com/users/4655413/saiful-islam"}, "edited": false, "score": 0, "creation_date": 1444843091, "post_id": 33131052, "comment_id": 54074922, "body": "yes i did and it compiled,just wanted to know if it was all right to do so"}, {"owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "reply_to_user": {"reputation": 87, "user_id": 4655413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1540662652865904/picture?type=large", "display_name": "Saiful Islam", "link": "https://stackoverflow.com/users/4655413/saiful-islam"}, "edited": false, "score": 0, "creation_date": 1444862373, "post_id": 33131052, "comment_id": 54085181, "body": "@SaifulIslam Your if logic is wrong. The return false statement should be outside the for loop without the else. Otherwise if you don&#39;t find what you&#39;re looking for in your first item then you will just return false when the item might exist somewhere in your array."}], "tags": [], "owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "is_accepted": false, "score": 0, "last_activity_date": 1444841268, "last_edit_date": 1444841268, "creation_date": 1444840958, "answer_id": 33131052, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects/33131052#33131052", "title": "c++: check for an object of a class in an array of objects", "body": "<p>I would suggest using a C++ container like <a href=\"http://www.cplusplus.com/reference/array/array/\" rel=\"nofollow\">stds::array</a> or <a href=\"http://www.cplusplus.com/reference/vector/vector/\" rel=\"nofollow\">std::vector</a> to hold your elements and using <a href=\"http://www.cplusplus.com/reference/algorithm/find_if/\" rel=\"nofollow\">std::find_if</a> to search through it.</p>\n\n<p>If you are using a compiler that supports C++11 syntax then you can use std::find_if like this:</p>\n\n<pre><code>int main () \n{\n    std::vector&lt;Element&gt; myvector;\n\n    // fill vector\n\n   int valueToCompare = 1234;\n\n   auto it = std::find_if(begin(myvector), end(myvector), [=](const Element&amp; e) {return e.getValue() == valueToCompare;});\n\n   return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1444841259, "post_id": 33131126, "comment_id": 54073839, "body": "FYI, the <code>value</code> member is private. Did you intend to use <code>getValue()</code> or implement it as a member function? The const-correctness will need to be fixed to use the <code>getValue()</code> member function."}], "tags": [], "owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "is_accepted": false, "score": 2, "last_activity_date": 1444841636, "last_edit_date": 1444841636, "creation_date": 1444841163, "answer_id": 33131126, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects/33131126#33131126", "title": "c++: check for an object of a class in an array of objects", "body": "<p>You could use a C++ container like std::array and then use std::find_if.</p>\n\n<p>If you prefer to extend your code, you could overload the <code>operator==</code> using </p>\n\n<pre><code>bool operator==(const Element&amp; lhs, const Element&amp; rhs) {\n    return lhs.value == rhs.value\n}\n</code></pre>\n\n<p>then you can use</p>\n\n<pre><code>for(i=0;i&lt;size;i++)\n    if(elements[i]==e) return true;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>since <code>Element.value</code> is private you may want to make this a method of <code>Element</code></p>\n\n<pre><code>bool Element::operator==(const Element&amp; other) {\n    return value == other.value\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "is_accepted": false, "score": 0, "last_activity_date": 1444841520, "creation_date": 1444841520, "answer_id": 33131224, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects/33131224#33131224", "title": "c++: check for an object of a class in an array of objects", "body": "<p>You can add comparison operators to your element class and then use stl algorithms or stl like algorithms to determine if an element is in the container.</p>\n\n<pre><code>class Element {\nprivate:\n    int value;\npublic:\n    Element(int v) : value(v) {}\n    Element(Element const&amp; e) : value(e.value) {}\n\n    Element &amp; operator=(Element const&amp; e) {\n        value = e.value;\n    }\n\n    bool operator==(Element const&amp; e) const {\n        return value == e.value;\n    }\n\n    bool operator!=(Element const&amp; e) const {\n        return value != e.value;\n    }\n\n    void setValue(int v) {\n        value = v;\n    }\n    int getValue() {\n        return value;\n    }\n};\n</code></pre>\n\n<p>Now you can do something like this.</p>\n\n<pre><code>std::vector&lt;Element&gt; elements;\n\nfor(int i = 0; i &lt; 10; ++i) {\n    elements.push_back(Element(i));\n}\n\n // Find the element with the value 4\nauto found = std::find(elements.begin(), elements.end(), Element(4));\nif(found != elements.end()) {\n    // Do something\n}\n</code></pre>\n\n<p>Or use a loop like what you described.</p>\n\n<pre><code>Element toFind(4);\n\nfor(auto it = elements.begin(); it != elements.end(); ++it) {\n     if(*it == toFind) {\n       // Do something\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2630, "user_id": 5053331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9a0047e09056279f06b7fb3b0c101e?s=128&d=identicon&r=PG&f=1", "display_name": "cdonat", "link": "https://stackoverflow.com/users/5053331/cdonat"}, "is_accepted": false, "score": 0, "last_activity_date": 1444842010, "creation_date": 1444842010, "answer_id": 33131378, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects/33131378#33131378", "title": "c++: check for an object of a class in an array of objects", "body": "<p>First you can implement the equal-comparison operator</p>\n\n<pre><code>class Element {\nprivate:\n    int value;\npublic:\n    // btw. These setters and getters are Java style, not C++ style.\n    void setValue(int v) {\n        value = v;\n    }\n    // note that a getter should be const. It doesn't change the object.\n    auto getValue() const -&gt; int {\n        return value;\n    }\n    auto operator == (const Element&amp; other) const -&gt; bool {\n        return value == other.value;\n    }\n    auto operator != (const Element&amp; other) const -&gt; bool {\n        return !(*this == other);\n    }\n};\n</code></pre>\n\n<p>Now you can use std::find():</p>\n\n<pre><code>auto contains(const Element&amp; e) -&gt; bool\n{\n    auto end = elements + size; // pointers can be used as iterators as well.\n    return std::find(elements, end, e) != end;\n}\n</code></pre>\n\n<p>You should prefer <code>std::vector</code> or <code>std::array</code> over raw arrays. <code>std::array</code> does not add any overhead but makes the interface more consistent with other <code>std::</code>-containers. <code>std::vector</code> is used for dynamically sized arrays. It handles all the allocation, initialization, destruction, deallocation, etc. for you.</p>\n"}, {"tags": [], "owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "is_accepted": false, "score": 0, "last_activity_date": 1444855683, "creation_date": 1444855683, "answer_id": 33135289, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects/33135289#33135289", "title": "c++: check for an object of a class in an array of objects", "body": "<p>Although the above answers may be good for expert programmers, I believe at your level, Adkison, you would like a simpler response.</p>\n\n<pre><code>bool contains(Element e)\n{\n    int i;\n\n    for(i=0;i&lt;size;i++)\n        if(elements[i].getValue()==e.getValue()) return true;\n    else return false;\n}\n</code></pre>\n\n<p>OK, so one problem is that elements doesn't have a value, and neither does size.  It should be passed in as a parameter.  We'll also use const-&amp; on e, so that it need not be copied (although that's not a big cost here).</p>\n\n<pre><code>bool contains  (const Element elements[], int size, const Element&amp; e) ...\n</code></pre>\n\n<p>(Yes, we could pass in elements as a vector, but let's keep it simple for now.)</p>\n\n<p>I believe the problem you're noting is that it never gets past looking at the 0th element.  Trace through and you'll see why.  Suppose that element #0 is equal to <code>e</code>; your function returns true, and is done.  Suppose that it isn't equal:  your function returns false, and is done.  What about all the other elements?  Shouldn't we check them too, at least if element #0 isn't what we wanted?</p>\n\n<p>So:  when <em>should</em> we return false?  When when we've gone thru the <em>whole list</em> and not found <code>e</code>.</p>\n\n<pre><code>    for(i=0;i&lt;size;i++)\n        if(elements[i].getValue()==e.getValue()) return true;\n\n    return false;\n</code></pre>\n\n<p>This version doesn't return false until it's looked through the whole array, and failed to find e.</p>\n"}], "owner": {"reputation": 87, "user_id": 4655413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1540662652865904/picture?type=large", "display_name": "Saiful Islam", "link": "https://stackoverflow.com/users/4655413/saiful-islam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3341, "favorite_count": 2, "answer_count": 5, "score": 2, "last_activity_date": 1444855683, "creation_date": 1444840643, "last_edit_date": 1444840703, "question_id": 33130951, "link": "https://stackoverflow.com/questions/33130951/c-check-for-an-object-of-a-class-in-an-array-of-objects", "title": "c++: check for an object of a class in an array of objects", "body": "<p>suppose i have a class Element which is,</p>\n\n<pre><code>class Element {\nprivate:\n    int value;\npublic:\n    void setValue(int v) {\n        value = v;\n    }\n    int getValue() {\n        return value;\n    }\n};\n</code></pre>\n\n<p>and i store the objects of this class in an array.\nNow how can i check if my array of object contains a certain object of class Element.I have tried matching the values of the object using this function...is there any better ways?</p>\n\n<pre><code>bool contains(Element e)\n{\n    int i;\n\n    for(i=0;i&lt;size;i++)\n        if(elements[i].getValue()==e.getValue()) return true;\n    else return false;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444840860, "post_id": 33130895, "comment_id": 54073613, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 that answers an underlying issue with the code but does not answer how to pass X*[][] to a function where it is not a copy"}, {"owner": {"reputation": 33, "user_id": 5446002, "user_type": "registered", "profile_image": "https://graph.facebook.com/1510289822616019/picture?type=large", "display_name": "Yuri Suzumiya", "link": "https://stackoverflow.com/users/5446002/yuri-suzumiya"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444845080, "post_id": 33130895, "comment_id": 54076004, "body": "Thanks for the information, however as i was unaware at the time of posting this that it was the pointers going out of scope causing the problems, the information given on this other question just made me more confused."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444845233, "post_id": 33130895, "comment_id": 54076095, "body": "@YuriSuzumiya <i>Don&#39;t</i> update questions with &quot;Solved&quot; or to contain an answer. That is what answers are for (and if no answer is complete, you are free to write your own)."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5446002, "user_type": "registered", "profile_image": "https://graph.facebook.com/1510289822616019/picture?type=large", "display_name": "Yuri Suzumiya", "link": "https://stackoverflow.com/users/5446002/yuri-suzumiya"}, "edited": false, "score": 0, "creation_date": 1444840957, "post_id": 33130967, "comment_id": 54073667, "body": "Thanks, that helps me understand what was going on. I will try this now"}], "tags": [], "owner": {"reputation": 7489, "user_id": 2183287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f994c77448da7979a598ef76d270de67?s=128&d=identicon&r=PG&f=1", "display_name": "fatihk", "link": "https://stackoverflow.com/users/2183287/fatihk"}, "is_accepted": true, "score": 0, "last_activity_date": 1444840698, "creation_date": 1444840698, "answer_id": 33130967, "question_id": 33130895, "link": "https://stackoverflow.com/questions/33130895/c-having-trouble-passing-a-2d-array-of-pointers-into-a-function/33130967#33130967", "title": "C++.Having trouble passing a 2D array of pointers into a function", "body": "<pre><code>JumpScareRoom JSRoom1;\n</code></pre>\n\n<p>is a local object and when you go out of the function scope, it is invalidated. Instead, you can use:</p>\n\n<pre><code>JumpScareRoom *pJSRoom1 = new JumpScareRoom();\nRoom *room1 = JSRoom1;\nJSRoom1-&gt;SetExits(\"se\");\nJSRoom1-&gt;SetDescriptions(\"I am a jumpscare room.\", \"I am a boring room 1\");\nJSRoom1-&gt;SetSouthMessages(\"There is a door to the SOUTH\", \"You exit through the SOUTH door.\");\nJSRoom1-&gt;SetEastMessages(\"There is a door to the EAST\", \"You exit through the EAST door.\");\n...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5446002, "user_type": "registered", "profile_image": "https://graph.facebook.com/1510289822616019/picture?type=large", "display_name": "Yuri Suzumiya", "link": "https://stackoverflow.com/users/5446002/yuri-suzumiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1444840721, "accepted_answer_id": 33130967, "answer_count": 1, "score": -1, "last_activity_date": 1444845265, "creation_date": 1444840461, "last_edit_date": 1444845265, "question_id": 33130895, "link": "https://stackoverflow.com/questions/33130895/c-having-trouble-passing-a-2d-array-of-pointers-into-a-function", "closed_reason": "Duplicate", "title": "C++.Having trouble passing a 2D array of pointers into a function", "body": "<p>I am making a small text based game.\nmy code works if i have it in the main function, but when trying to put it into it's own function it fills my strings with garbage data which eventually causes the program to crash when it tries to read the data.</p>\n\n<p>So here is my question, how should i be passing my 2D array of Room pointers into my function so i can get the same result that i would if i just kept the code in my main function.</p>\n\n<p>The Following is the code currently in my function which will work fine when not in a function.</p>\n\n<pre><code>void InitialiseLevel(int CurrentLevel, Room *Level[2][2]){\nif (CurrentLevel == 1){\n\n    JumpScareRoom JSRoom1;\n    Room *room1 = &amp;JSRoom1;\n    JSRoom1.SetExits(\"se\");\n    JSRoom1.SetDescriptions(\"I am a jumpscare room.\", \"I am a boring room 1\");\n    JSRoom1.SetSouthMessages(\"There is a door to the SOUTH\", \"You exit through the SOUTH door.\");\n    JSRoom1.SetEastMessages(\"There is a door to the EAST\", \"You exit through the EAST door.\");\n    Room room2;\n    room2.SetExits(\"ws\");\n    room2.SetDescriptions(\"I am a cool room 2\", \"I am a boring room 2\");\n    Room room3;\n    room3.SetExits(\"ne\");\n    room3.SetDescriptions(\"I am a cool room 3\", \"I am a boring room 3\");\n    Room room4;\n    room4.SetExits(\"wn\");\n    room4.SetDescriptions(\"I am a cool room 4\", \"I am a boring room 4\");\n\n    Level[0][0] = room1;\n    Level[0][1] = &amp;room2;\n    Level[1][0] = &amp;room3;\n    Level[1][1] = &amp;room4;\n}\n}\n</code></pre>\n\n<p>my main initializes the array as</p>\n\n<pre><code>Room *Rooms[2][2] = {};\n</code></pre>\n\n<p>it then calls the function using</p>\n\n<pre><code>InitialiseLevel(1, Rooms); // set up level 1.\n</code></pre>\n\n<p>I have tried many different methods such as using </p>\n\n<pre><code>void InitialiseLevel(int CurrentLevel, Room **Level[2][2])\n</code></pre>\n\n<p>and</p>\n\n<pre><code>void InitialiseLevel(int CurrentLevel, Room *(&amp;Level)[2][2])\n</code></pre>\n\n<p>however i seem to be missing something important.</p>\n"}, {"tags": ["c++", "multithreading", "qt", "openmp", "qimage"], "comments": [{"owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 1, "creation_date": 1444846048, "post_id": 33130691, "comment_id": 54076597, "body": "Try adding <code>private(cred, cgreen, cblue)</code> to your OpenMP pragma. Not sure it will suffice, but it is definitely needed."}, {"owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1444847980, "post_id": 33130691, "comment_id": 54077757, "body": "The more I read this, the more I feel confident that <code>#pragma omp parallel for private(cred, cgreen, cblue)</code>should just be enough for your code to work in parallel. Not sure it will be any faster though, since your code is mostly memory bound."}, {"owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "reply_to_user": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1444848939, "post_id": 33130691, "comment_id": 54078312, "body": "@gilles Ok, i just tried it with <code>#pragma omp parallel for private(cred, cgreen, cblue)</code>, and i got a compilation error:  <code>error: expected variable name #pragma omp parallel for private(cred, cgreen, cblue)</code> i&#39;m totally ignorant with these directives. Any idea?"}, {"owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "reply_to_user": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1444849432, "post_id": 33130691, "comment_id": 54078607, "body": "@gilles Got it working! The cred, cgreen, cblue were private to the class. So the directive needed this: <code>int cred2, cgreen2, cblue2; #pragma omp parallel for private(cred2, cgreen2, cblue2)</code> I&#39;m posting the corrected code. Thanks for your help! That was quick!!"}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "is_accepted": true, "score": 1, "last_activity_date": 1444893500, "last_edit_date": 1444893500, "creation_date": 1444849778, "answer_id": 33133653, "question_id": 33130691, "link": "https://stackoverflow.com/questions/33130691/qimage-and-openmp-when-updating-image-display/33133653#33133653", "title": "QImage and openmp when updating image display", "body": "<p>Thanks to the suggestion in the comment, I fixed it. The pragma clause <code>private</code> was needed to define private variables to work with.</p>\n\n<pre><code>int cred2, cgreen2, cblue2   \n#pragma omp parallel for private(cred2, cgreen2, cblue2)\nfor ( int ii = 0; ii &lt; nPixels; ++ii )\n{\n    cred2 = (int) 255 * red16[ii] / range;\n    cgreen2 = (int) 255 * green16[ii] / range;\n    cblue2 = (int) 255 * blue16[ii] / range;\n    QRgb argb = qRgba( cred2, cgreen2, cblue2, 255);\n    QRgb* rowData = (QRgb*) newPaintImage-&gt;scanLine(ii/naxis1);\n    rowData[ii%naxis1] = argb;\n}\nnewPaintWidget = new PaintWidget(newPaintImage, naxis1, naxis2);\n</code></pre>\n\n<p>And yes, it is considerably faster! This is used with some QSlider signal/slots, which perform contrast stretching. I simplified the code here. In fact, <code>range</code> is changing and not fixed and e.g. <code>red16[ii]</code> is <code>(red16[ii] - minValue)</code> where <code>minValue</code> changes with some QSliders. </p>\n"}], "owner": {"reputation": 481, "user_id": 2875917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9VM5O.jpg?s=128&g=1", "display_name": "Wall-E", "link": "https://stackoverflow.com/users/2875917/wall-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 33133653, "answer_count": 1, "score": 1, "last_activity_date": 1444893719, "creation_date": 1444839823, "last_edit_date": 1444893719, "question_id": 33130691, "link": "https://stackoverflow.com/questions/33130691/qimage-and-openmp-when-updating-image-display", "title": "QImage and openmp when updating image display", "body": "<p>In Qt 5.5 for mac, I am trying to speed up the computation the image buffer and its display with QImage. I was using openMP directives but I realised this was messing with the QImage display. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>int = 65535    \nnewPaintImage = new QImage(naxis1, naxis2, QImage::Format_ARGB32 );\n#pragma omp parallel for\nfor ( int ii = 0; ii &lt; nPixels; ++ii )\n{\n    cred = (int) 255 * red16[ii] / range;\n    cgreen = (int) 255 * green16[ii] / range;\n    cblue = (int) 255 * blue16[ii] / range;     \n\n    QRgb argb = qRgba( cred, cgreen, cblue, 255);\n    QRgb* rowData = (QRgb*) newPaintImage-&gt;scanLine(ii/naxis1);\n    rowData[ii%naxis1] = argb;\n}\nnewPaintWidget = new PaintWidget(newPaintImage, naxis1, naxis2);\n</code></pre>\n\n<p>In the code above, <code>nPixels</code> is the total number of pixels in the image and <code>red16</code>, <code>green16</code>, and <code>blue16</code> are the 3 color channel of my images. They have a size equal to <code>nPixels</code>. The values <code>naxis1</code> and <code>naxis2</code> are the width and height (in pixels).</p>\n\n<p>Note the pragma directive to parallelise the for loop. When I use it, I get scrambled lines in my image, and any update to the image is changing the results.\nWhen I do not use the pragma directive, so that only one thread is used, my image is fine, as expected. \nI change and update the buffer with such parallelisation, and that mess with the display. </p>\n\n<p>Is there a better way? Like making sure that my threads finished the job and then update the display in my Qt object's paintEvent? Or something related to how the QImage is shared across the threads?...</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "h.264", "rtsp", "live555"], "comments": [{"owner": {"reputation": 1198, "user_id": 6155818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aadb928db1f5bb9bd08e0a19ac800d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/6155818/ram"}, "edited": false, "score": 0, "creation_date": 1574242360, "post_id": 33130619, "comment_id": 104158265, "body": "Were you able to solve the problem? I know, it&#39;s been too long since you raised this question, I&#39;m too stuck with the same, I have not yet found a solution for this."}, {"owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "reply_to_user": {"reputation": 1198, "user_id": 6155818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aadb928db1f5bb9bd08e0a19ac800d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/6155818/ram"}, "edited": false, "score": 0, "creation_date": 1574334098, "post_id": 33130619, "comment_id": 104200187, "body": "Posted a solution for you."}], "answers": [{"comments": [{"owner": {"reputation": 1198, "user_id": 6155818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aadb928db1f5bb9bd08e0a19ac800d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/6155818/ram"}, "edited": false, "score": 0, "creation_date": 1574155646, "post_id": 33170920, "comment_id": 104120870, "body": "Instantiating the encoder prior to the event loop is quite impossible and may lead to issues with my design. Is there a better approach to feed SPS dynamically from within the event loop?"}], "tags": [], "owner": {"reputation": 9062, "user_id": 413251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65d06daa053c7bcbd5090ec75cbb1fa9?s=128&d=identicon&r=PG", "display_name": "Ralf", "link": "https://stackoverflow.com/users/413251/ralf"}, "is_accepted": false, "score": 3, "last_activity_date": 1444999723, "creation_date": 1444999723, "answer_id": 33170920, "question_id": 33130619, "link": "https://stackoverflow.com/questions/33130619/live555-set-sps-and-pps-after-receiving-first-frame/33170920#33170920", "title": "LIVE555 - Set SPS and PPS after receiving first frame", "body": "<p>You haven't provided enough information about the application design/architecture to provide a better answer:</p>\n\n<p>Not sure if I understand your problem correctly, but it sounds like you are only instantiating the encoder <em>after</em> an RTSP client request. However the DESCRIBE request passes the SPS, PPS and at the time of DESCRIBE, you haven't encoded any data and hence don't have the SPS and PPS.</p>\n\n<p>If the encoder is being instantiated in the live555 event loop <em>after</em> a client request, then one solution would be to </p>\n\n<ul>\n<li>instantiate an encoder with the desired configuration (or with all possible configurations) <em>on application start-up</em></li>\n<li>encode a frame</li>\n<li>retrieve and save the SPS and PPS</li>\n<li>close the encoder </li>\n<li>proceed with \"normal\" event loop and await RTSP client connections. </li>\n</ul>\n\n<p>In my experience the SPS and PPS don't usually change (often), and you must be getting your encoder configuration from somewhere (config file?).</p>\n\n<p>If this does not answer your question, provide more detail about e.g. application threads, what event loops are running, encoder lifetimes, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "is_accepted": true, "score": 2, "last_activity_date": 1574334084, "creation_date": 1574334084, "answer_id": 58973384, "question_id": 33130619, "link": "https://stackoverflow.com/questions/33130619/live555-set-sps-and-pps-after-receiving-first-frame/58973384#58973384", "title": "LIVE555 - Set SPS and PPS after receiving first frame", "body": "<p>It has been quite some time. But as it has been requested, a general overview of what my solution was. I have no idea whether it was or is a good solution. For that it has been too long:</p>\n\n<ol>\n<li>I encoded one frame at the very start and used the mentioned function to grab the SPS and PPS NAL units</li>\n<li>... then immediately destroyed the encoder</li>\n<li>... removed the start code from the result</li>\n<li>... base64-encoded the SPS and PPS NAL units separately and concatenated them in the format SPS + \",\" + PPS</li>\n<li>... created a ServerMediaSession</li>\n<li>... created a custom MediaSubsession which extends OnDemandServerMediaSubsession with the methods createNewStreamSource and createNewRTPSink</li>\n<li>... created a new instance of the encoder and passed it to a H264VideoStreamDiscreteFramer in the createNewStreamSource method</li>\n<li>... used a H264VideoRTPSink in the createNewRTPSink method to which I passed the above mentioned concatenated SPS and PPS NAL units</li>\n</ol>\n"}], "owner": {"reputation": 449, "user_id": 3857641, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/4aeb93f6a8ce38dac3eed21b82fd3906?s=128&d=identicon&r=PG&f=1", "display_name": "chrisp", "link": "https://stackoverflow.com/users/3857641/chrisp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 1, "accepted_answer_id": 58973384, "answer_count": 2, "score": 1, "last_activity_date": 1574334084, "creation_date": 1444839614, "question_id": 33130619, "link": "https://stackoverflow.com/questions/33130619/live555-set-sps-and-pps-after-receiving-first-frame", "title": "LIVE555 - Set SPS and PPS after receiving first frame", "body": "<p>I have a device which delivers H264 encoded frames. Those I would like to transmit over the network using LIVE555.</p>\n\n<p><strong>Problem</strong>: These frames do not include the SPS and PPS NAL units. However, I have access to a function which delivers me the SPS and PPS NAL units after the device encoded the first frame.</p>\n\n<p><strong>Question</strong>: How can I set the SPS and PPS NAL units after the event loop of LIVE555 has already started? I've read numerous posts about similar issues but all these posts suggested the following solutions:</p>\n\n<ul>\n<li>LIVE555 sends the SPS and PPS NAL units when the DESCRIBE command is called</li>\n<li>Set the NAL units when calling createNewStreamSource()</li>\n<li>Set the NAL units when calling createNewRTPSink()</li>\n</ul>\n\n<p>All these solutions aren't useful in my case because I haven't got the SPS and PPS NAL units at these moments. Is there some sort of way to update these NAL units after the event loop has already started?</p>\n"}, {"tags": ["c++", "openssl"], "comments": [{"owner": {"reputation": 141, "user_id": 4762451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hH9Q2CnqhDI/AAAAAAAAAAI/AAAAAAAAABk/9xSoRnzFJus/photo.jpg?sz=128", "display_name": "Michael Popovich", "link": "https://stackoverflow.com/users/4762451/michael-popovich"}, "edited": false, "score": 0, "creation_date": 1444839096, "post_id": 33130366, "comment_id": 54072591, "body": "I&#39;m using latest version Openssl from git repository."}, {"owner": {"reputation": 141, "user_id": 4762451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hH9Q2CnqhDI/AAAAAAAAAAI/AAAAAAAAABk/9xSoRnzFJus/photo.jpg?sz=128", "display_name": "Michael Popovich", "link": "https://stackoverflow.com/users/4762451/michael-popovich"}, "edited": false, "score": 0, "creation_date": 1444840289, "post_id": 33130366, "comment_id": 54073309, "body": "g++ (Ubuntu 4.8.4-2ubuntu1~14.04) 4.8.4"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 4762451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hH9Q2CnqhDI/AAAAAAAAAAI/AAAAAAAAABk/9xSoRnzFJus/photo.jpg?sz=128", "display_name": "Michael Popovich", "link": "https://stackoverflow.com/users/4762451/michael-popovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1499704528, "last_edit_date": 1499704528, "creation_date": 1444841853, "answer_id": 33131333, "question_id": 33130366, "link": "https://stackoverflow.com/questions/33130366/error-compile-openssl-demo-ssl-serv-cpp-openssl/33131333#33131333", "title": "error compile openssl/demo/ssl/serv.cpp openssl", "body": "<p><a href=\"https://www.openssl.org/docs/man1.0.2/ssl/TLSv1_server_method.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/man1.0.2/ssl/TLSv1_server_method.html</a></p>\n\n<p>TLSv1_server_method(), TLSv1_1_server_method(), TLSv1_2_server_method().</p>\n"}], "owner": {"reputation": 141, "user_id": 4762451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hH9Q2CnqhDI/AAAAAAAAAAI/AAAAAAAAABk/9xSoRnzFJus/photo.jpg?sz=128", "display_name": "Michael Popovich", "link": "https://stackoverflow.com/users/4762451/michael-popovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499704528, "creation_date": 1444838976, "last_edit_date": 1444839042, "question_id": 33130366, "link": "https://stackoverflow.com/questions/33130366/error-compile-openssl-demo-ssl-serv-cpp-openssl", "title": "error compile openssl/demo/ssl/serv.cpp openssl", "body": "<p>When I try compile serv.cpp from openssl/demo/ssl : </p>\n\n<pre><code>g++ serv.cpp -L/usr/lib/x86_64-linux-gnu -L/usr/lib/ipsec -o -lssl -lcrypto -ltls\n</code></pre>\n\n<p>I get next error:</p>\n\n<pre><code>serv.cpp:58:53: error: \u2018TLS_server_method\u2019 was not declared in this scope\n   meth = const_cast&lt;SSL_METHOD *&gt;(TLS_server_method());\n</code></pre>\n"}, {"tags": ["c++", "xml", "xpath", "xerces"], "comments": [{"owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 0, "creation_date": 1444842168, "post_id": 33130360, "comment_id": 54074398, "body": "Are you sure the fault lies in Xerces rather than in your code where you neglect to check <code>result</code> before dereferencing it?"}, {"owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "reply_to_user": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 0, "creation_date": 1444842199, "post_id": 33130360, "comment_id": 54074413, "body": "@kjhughes I am not sure at all. Let me find out."}, {"owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "reply_to_user": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 0, "creation_date": 1444844380, "post_id": 33130360, "comment_id": 54075614, "body": "@kjhughes Okay <code>result</code> is not <code>NULL</code> and contains the same <code>ResultType</code> regardless of whether the XPath exists, so that part is okay. However, I think investigating that has lead me to a solution. Thanks for the suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1444847492, "creation_date": 1444847492, "answer_id": 33132978, "question_id": 33130360, "link": "https://stackoverflow.com/questions/33130360/xerces-xpath-causes-seg-fault-when-path-doesnt-exist/33132978#33132978", "title": "Xerces XPath causes seg fault when path doesn&#39;t exist", "body": "<p>The seg fault is occurring in this line</p>\n\n<pre><code> std::cout&lt;&lt;TranscodeToStr(result-&gt;getNodeValue()-&gt;getFirstChild()-&gt;getNodeValue(),\"ascii\").str()&lt;&lt;std::endl;\n</code></pre>\n\n<p>specifically in get <code>getFirstChild()</code> call because the result of <code>getNodeValue()</code> is <code>NULL</code>.</p>\n\n<p>This is my quick and dirty solution. It's not really ideal but it works. I would prefer a more sophisticated evaluation and response.</p>\n\n<pre><code>if (result-&gt;getNodeValue() == NULL)\n{\n  cout &lt;&lt; \"There is no result for the provided XPath \" &lt;&lt; endl;\n}\nelse\n{\n  cout&lt;&lt;TranscodeToStr(result-&gt;getNodeValue()-&gt;getFirstChild()-&gt;getNodeValue(),\"ascii\").str()&lt;&lt;endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 33132978, "answer_count": 1, "score": 0, "last_activity_date": 1444847492, "creation_date": 1444838958, "question_id": 33130360, "link": "https://stackoverflow.com/questions/33130360/xerces-xpath-causes-seg-fault-when-path-doesnt-exist", "title": "Xerces XPath causes seg fault when path doesn&#39;t exist", "body": "<p>I can successfully use Xerces XPath feature to query for information from an XML with the following XML and C++ code.</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;root&gt;\n    &lt;ApplicationSettings&gt;\n        hello universe\n    &lt;/ApplicationSettings&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>C++</strong></p>\n\n<pre><code>int main()\n{\n  XMLPlatformUtils::Initialize();\n  // create the DOM parser\n  XercesDOMParser *parser = new XercesDOMParser;\n  parser-&gt;setValidationScheme(XercesDOMParser::Val_Never);\n  parser-&gt;parse(\"fake_cmf.xml\");\n  // get the DOM representation\n  DOMDocument *doc = parser-&gt;getDocument();\n  // get the root element\n  DOMElement* root = doc-&gt;getDocumentElement();\n\n  // evaluate the xpath\n  DOMXPathResult* result=doc-&gt;evaluate(\n      XMLString::transcode(\"/root/ApplicationSettings\"), // &lt;-- HERE IS THE XPATH\n      root,\n      NULL,\n      DOMXPathResult::ORDERED_NODE_SNAPSHOT_TYPE, //DOMXPathResult::ANY_UNORDERED_NODE_TYPE, //DOMXPathResult::STRING_TYPE,\n      NULL);\n\n  // look into the xpart evaluate result\n  result-&gt;snapshotItem(0);\n  std::cout&lt;&lt;TranscodeToStr(result-&gt;getNodeValue()-&gt;getFirstChild()-&gt;getNodeValue(),\"ascii\").str()&lt;&lt;std::endl;;\n\n  XMLPlatformUtils::Terminate();\n return 0;\n}\n</code></pre>\n\n<p>The problem is that sometimes my XML will only have certain fields. But if I remove the <code>ApplicationSettings</code> entry from the XML it will seg fault. How can I properly handle these optional fields? I know that trying to correct from seg faults is risky business.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 6, "creation_date": 1444838664, "post_id": 33130220, "comment_id": 54072320, "body": "The array parameter doesn&#39;t have information about the length. <code>sizeof()</code> gives you the size of a pointer."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 3, "creation_date": 1444838822, "post_id": 33130220, "comment_id": 54072419, "body": "Can an someone tell me why the behaviour is not obvious with even the most trivial debugging effort?"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1444838963, "creation_date": 1444838963, "answer_id": 33130361, "question_id": 33130220, "link": "https://stackoverflow.com/questions/33130220/please-can-someone-tell-me-while-the-code-when-run-prints-1-instead-of-3-5-as/33130361#33130361", "title": "please can someone tell me while the code, when run, prints 1 instead of 3.5 as solution", "body": "<pre><code>double avg(int iArray[])\n{\n    int y{}, z = sizeof(iArray) / sizeof(int);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>double avg(int* iArray)\n{\n    int y{}, z = sizeof(int*) / sizeof(int);\n</code></pre>\n\n<p>You need to pass the size of the array from <code>main</code>.</p>\n\n<pre><code>double avg(int iArray[], int z)\n{\n    // initialize variable y to calculate sum\n    int y{};\n\n    // loop over array elements\n    for (int i{}; i &lt; z; i++)\n    {\n        y += iArray[i];\n    }\n\n    // return average to caller\n    return ((double)y) / z;\n}\n</code></pre>\n\n<p>and  in <code>main</code>:</p>\n\n<pre><code>double z = avg(iArray, sizeof(iArray)/sizeof(iArray[0]);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3856947, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OpcYu.jpg?s=128&g=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/3856947/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1444842549, "answer_count": 1, "score": -5, "last_activity_date": 1444838963, "creation_date": 1444838550, "last_edit_date": 1444838637, "question_id": 33130220, "link": "https://stackoverflow.com/questions/33130220/please-can-someone-tell-me-while-the-code-when-run-prints-1-instead-of-3-5-as", "closed_reason": "Duplicate", "title": "please can someone tell me while the code, when run, prints 1 instead of 3.5 as solution", "body": "<p>please can someone tell me why these code, when run prints 1 instead of 3.5 to the console. it implemnts passing an array to a function, to calculate average of the array elements. i used the sizeof(array)/sizeof(int) as array length </p>\n\n<pre><code>#include \"stdafx.h\"\n\n#include &lt;iostream&gt;\n\n// function avg, to calculate average of an integer array.\ndouble avg(int iArray[])\n{\n    // initialize variable y to calculate sum\n    // initialize variable to calculate length of array    \n    int y{}, z = sizeof(iArray) / sizeof(int);\n\n    // loop over array elements\n    for (int i{}; i &lt; z; i++)\n    {\n        y += iArray[i];\n    }\n\n    // return average to caller\n    return ((double)y) / z;\n}\n\nint main()\n{\n    using namespace std;\n\n    // initialize array.\n    int iArray[] = { 1, 2, 3, 4, 5, 6 };\n\n    // call avg function, and assign return value to variable z.\n    double z = avg(iArray);\n\n    // print average to console\n    cout &lt;&lt; z &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "c++"], "comments": [{"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1444838860, "post_id": 33130219, "comment_id": 54072445, "body": "This is different for each browser. There may be a way to do it, but it will be difficult and may need different solution for different browsers. How important is it?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1444838871, "post_id": 33130219, "comment_id": 54072452, "body": "By &quot;whole address of the file&quot; you mean the local path?"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 3, "creation_date": 1444838894, "post_id": 33130219, "comment_id": 54072464, "body": "Also a security issue: <a href=\"http://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\" title=\"how to get full path of selected file on change of input type file using jav\">stackoverflow.com/questions/15201071/&hellip;</a>"}, {"owner": {"reputation": 693, "user_id": 4734119, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a0a32c356e99c74b4d0fbeed5cba42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/4734119/jack"}, "edited": false, "score": 0, "creation_date": 1444839062, "post_id": 33130219, "comment_id": 54072567, "body": "yes local path, and the browser is firefox."}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 1, "creation_date": 1445538457, "post_id": 33130219, "comment_id": 54376143, "body": "It doesn&#39;t show because of a security issue. Moreover, Chrome displays <code>C:\\fakepath\\filename.ext</code>."}, {"owner": {"reputation": 19602, "user_id": 1291428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/85d9cc8609ffd73e99a31a1120ccfdaa?s=128&d=identicon&r=PG", "display_name": "Sebas", "link": "https://stackoverflow.com/users/1291428/sebas"}, "edited": false, "score": 0, "creation_date": 1445538495, "post_id": 33130219, "comment_id": 54376161, "body": "I believe a way to do it would be using extensions. They usually give you more permissions"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1445539462, "post_id": 33130219, "comment_id": 54376684, "body": "Did you see this: <a href=\"http://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\" title=\"how to get full path of selected file on change of input type file using jav\">stackoverflow.com/questions/15201071/&hellip;</a>"}, {"owner": {"reputation": 4398, "user_id": 1635676, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ec00bb96ecea595284a762f08d0ef20b?s=128&d=identicon&r=PG", "display_name": "Touqeer Shafi", "link": "https://stackoverflow.com/users/1635676/touqeer-shafi"}, "edited": false, "score": 0, "creation_date": 1445539499, "post_id": 33130219, "comment_id": 54376707, "body": "already answered here <a href=\"http://stackoverflow.com/a/15201258/3000068\">stackoverflow.com/a/15201258/3000068</a>"}], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 4734119, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a0a32c356e99c74b4d0fbeed5cba42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/4734119/jack"}, "edited": false, "score": 0, "creation_date": 1444840044, "post_id": 33130323, "comment_id": 54073183, "body": "Although I think it doesn&#39;t show the file path either."}], "tags": [], "owner": {"reputation": 1716, "user_id": 4499987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZK4Zw.png?s=128&g=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/4499987/adrien"}, "is_accepted": false, "score": 1, "last_activity_date": 1444838862, "creation_date": 1444838862, "answer_id": 33130323, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33130323#33130323", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>There is no way to do it, as the display is controlled by browsers. Some browsers will display the whole path while others will only display the name of the file.</p>\n"}, {"tags": [], "owner": {"reputation": 6326, "user_id": 1846814, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1Sedf.jpg?s=128&g=1", "display_name": "fico7489", "link": "https://stackoverflow.com/users/1846814/fico7489"}, "is_accepted": false, "score": 0, "last_activity_date": 1445539646, "last_edit_date": 1495541674, "creation_date": 1445539646, "answer_id": 33288466, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33288466#33288466", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>You can do this because of security reasons. Javascript don't have permission to acces to the File System, look at this answer: <a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\">How to get full path of selected file on change of &lt;input type=\u2018file\u2019&gt; using javascript, jquery-ajax?</a></p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 5347436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/37a8ac846838c8b39e8b1b8ea49301bc?s=128&d=identicon&r=PG&f=1", "display_name": "MacGruber", "link": "https://stackoverflow.com/users/5347436/macgruber"}, "is_accepted": false, "score": 0, "last_activity_date": 1445970440, "creation_date": 1445970440, "answer_id": 33375799, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33375799#33375799", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>I did hit the same issue but not in the same circumstances. Only IE10 gave me the full path while firefox (and probably all others) doesn't. In my case, i use a server with php, so i ask the user to select the file and i upload it on the server to use it how i need. I hope it helped.</p>\n"}, {"comments": [{"owner": {"reputation": 2628, "user_id": 2328185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4tZVD.png?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2328185/jesse"}, "edited": false, "score": 0, "creation_date": 1446076924, "post_id": 33394811, "comment_id": 54598871, "body": "This should have been a comment. Since you do not have enough reputation, please try to earn more by providing valid answers or asking relevant questions."}], "tags": [], "owner": {"reputation": 13, "user_id": 1593340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd1b4377d3389662664b194079e43b7?s=128&d=identicon&r=PG", "display_name": "Bhuvnesh Pratap", "link": "https://stackoverflow.com/users/1593340/bhuvnesh-pratap"}, "is_accepted": false, "score": 0, "last_activity_date": 1446045263, "creation_date": 1446045263, "answer_id": 33394811, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33394811#33394811", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>This seems you wanting full path of your file.\nKindly try to use :<code>__FILE__</code></p>\n"}, {"tags": [], "owner": {"reputation": 733, "user_id": 2668477, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000130262320/picture?type=large", "display_name": "Andrei C", "link": "https://stackoverflow.com/users/2668477/andrei-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1446111125, "creation_date": 1446111125, "answer_id": 33410428, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33410428#33410428", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>Using JavaScript and a hidden field you can do this:</p>\n\n<pre><code>$('#someHiddenField').val( $('#myFileField').val() );\n</code></pre>\n\n<p>but keep in mind that not all browsers return the full path (specifically FF only returns the file name).</p>\n"}, {"tags": [], "owner": {"reputation": 690, "user_id": 1049633, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/33ba3035e412d6602ac6ef66d3120434?s=128&d=identicon&r=PG", "display_name": "Avinash", "link": "https://stackoverflow.com/users/1049633/avinash"}, "is_accepted": false, "score": 0, "last_activity_date": 1446120180, "creation_date": 1446120180, "answer_id": 33413710, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33413710#33413710", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>Getting full path of client-side file to serverside is something exposing file system access of client-side. This is not allowed because there are several security reasons.</p>\n"}, {"comments": [{"owner": {"reputation": 569, "user_id": 4258926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hh5Rl.jpg?s=128&g=1", "display_name": "Matthijs van Hest", "link": "https://stackoverflow.com/users/4258926/matthijs-van-hest"}, "edited": false, "score": 0, "creation_date": 1446133782, "post_id": 33414416, "comment_id": 54627217, "body": "Paint has shapes as well.. a pencil is just out there &gt;&lt;"}], "tags": [], "owner": {"reputation": 4299, "user_id": 466314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wZArg.png?s=128&g=1", "display_name": "Ultimater", "link": "https://stackoverflow.com/users/466314/ultimater"}, "is_accepted": true, "score": 1, "last_activity_date": 1446122607, "last_edit_date": 1495542642, "creation_date": 1446122107, "answer_id": 33414416, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33414416#33414416", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>Older browsers used to allow unrestricted access to the full path, so it's not impossible, but due to security concerns, your best answer will be a workaround.\n<hr></p>\n\n<h2>Internet Explorer</h2>\n\n<p><hr>\n<strong>HTA Application</strong></p>\n\n<p>If you're working locally, one option is that you can run your page as an HTML Application. Sadly this uses Internet Explorer as the engine. But if you can get away with an HTA, this does what you want:</p>\n\n<pre><code>&lt;!--test.hta--&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;HTA:APPLICATION ID=\"testFile\" BORDER=\"thick\" BORDERSTYLE=\"complex\"/&gt;\n&lt;TITLE&gt;HTA - Test file&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;input type=\"file\" onchange=\"alert(this.value)\"&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p><strong>Trusted Site</strong>  </p>\n\n<p>A much better option, is simply to use Internet Explorer and then add your page to Internet Explorer's trusted sites. Then your solution is as simply as:</p>\n\n<p><code>&lt;input type=\"file\" id=\"fileUpload\" onchange=\"alert(this.value)\"&gt;</code></p>\n\n<p>Here's how to add a site to your trusted sites:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/iJlQX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iJlQX.png\" alt=\"step 1\"></a>\n<a href=\"https://i.stack.imgur.com/n5aOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n5aOj.png\" alt=\"step 2\"></a></p>\n\n<p><strong>Custom Security Level</strong></p>\n\n<p>You can also enable this behavior globally for Internet Explorer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z96u1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z96u1.png\" alt=\"method 2\"></a></p>\n\n<p><hr></p>\n\n<h2>Firefox</h2>\n\n<p><hr>\nFirefox does not appear to have support for grabbing the full URL. But as mentioned <a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav/15201258#15201258\">here</a> there does seem to exist a \"mozFullPath\" property:<br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File/mozFullPath\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/File/mozFullPath</a>  </p>\n\n<p>I tried it in my browser and it seems to be a non-existent property. I cannot find any documentation anywhere regarding how to take advantage of this property. But it's a property to keep an eye out for in case it ever becomes useful.</p>\n\n<p><hr></p>\n\n<h2>HTML5</h2>\n\n<p><hr>\nIn HTML5, you can write <code>this.files[0]</code> to refer to the File object. Properties include \"name\" and \"lastModifiedDate\", \"size\", and \"type\" as mentioned here:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/File</a></p>\n\n<p>In HTML5 you can actually work with blobs and create an object url from the selected file and show a preview. This can be done with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\" rel=\"nofollow noreferrer\">URL.createObjectURL(...)</a> then creating an image and settings its <code>src</code> to the resulting temporary url. See <a href=\"http://jsfiddle.net/dwebexperts/4FGg8/1/\" rel=\"nofollow noreferrer\">this fiddle</a>.(<a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav/24818245#24818245\">credit goes to this post</a>)  </p>\n\n<p>Finally, you might greatly enjoy:  </p>\n\n<p><a href=\"https://blueimp.github.io/jQuery-File-Upload/\" rel=\"nofollow noreferrer\">https://blueimp.github.io/jQuery-File-Upload/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3543, "user_id": 2497387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pjleW.jpg?s=128&g=1", "display_name": "Mitul", "link": "https://stackoverflow.com/users/2497387/mitul"}, "is_accepted": false, "score": 0, "last_activity_date": 1446124733, "last_edit_date": 1592644375, "creation_date": 1446124733, "answer_id": 33415365, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php/33415365#33415365", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>You need to change the settings of your browser and then you can access the relative path of your file.</p>\n<blockquote>\n<p>Chrome you will get real path using <strong>this.files[0].webkitRelativePath</strong></p>\n<p>FirFox you will get using <strong>this.files[0].mozFullPath</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 693, "user_id": 4734119, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a0a32c356e99c74b4d0fbeed5cba42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/4734119/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2420, "favorite_count": 0, "accepted_answer_id": 33414416, "answer_count": 8, "score": 10, "last_activity_date": 1446124733, "creation_date": 1444838546, "last_edit_date": 1495540716, "question_id": 33130219, "link": "https://stackoverflow.com/questions/33130219/writing-the-full-path-of-the-file-when-it-is-browsed-using-php", "title": "Writing the full path of the file when it is browsed using php", "body": "<p>So far I wrote a script so that I can browse for a file and see the printed  name of the file. Here is the script:</p>\n\n<pre><code> &lt;form action=\"upload.php\" method=\"post\" enctype=\"multipart/form-  data\"&gt;\n Select: \n &lt;input type=\"file\" name=\"fileToUpload\" id=\"fileToUpload\"&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>When I hit the browse button and choose a file, only the name of the file gets printed on my web page (My web-browser is Firefox and I am using a local server). Is there a way to print the whole address of the file? What I have found on the web so far were mostly suggesting ways when we know in advance \"/path/to/file\". But how can it be done if I randomly choose a file? If there is no way to do it with PHP because of security issues according to: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav/15201258#15201258\">How to get full path of selected file on change of &lt;input type=\u2018file\u2019&gt; using javascript, jquery-ajax?</a>, </p>\n\n<p>Is it possible t do it with C, C++, html, etc?</p>\n\n<p>I really need to show the local path of the directory. What are the alternatives? The answer is it can't be done? I found this website <a href=\"http://www.htaccesstools.com/articles/full-path-to-file-using-php/\" rel=\"nofollow noreferrer\">http://www.htaccesstools.com/articles/full-path-to-file-using-php/</a></p>\n\n<p>Don't know how it works though.</p>\n\n<p>The other alternative would be to define a fixed path and let the user only choose that directory and since it is known I can print it out. Does it make sense?</p>\n"}, {"tags": ["c++", "vim", "cscope", "exuberant-ctags"], "comments": [{"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 1, "creation_date": 1444838917, "post_id": 33130117, "comment_id": 54072473, "body": "You can&#39;t change anything to make it work better. <a href=\"https://www.google.fr/search?q=vim%20clang\" rel=\"nofollow noreferrer\">Try something smarter</a> instead."}], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 14341860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0544505733bfd0f480b08ed8d39260d6?s=128&d=identicon&r=PG&f=1", "display_name": "smekkley", "link": "https://stackoverflow.com/users/14341860/smekkley"}, "is_accepted": true, "score": 1, "last_activity_date": 1601059945, "creation_date": 1601059945, "answer_id": 64069895, "question_id": 33130117, "link": "https://stackoverflow.com/questions/33130117/why-combination-of-cscope-and-ctags-in-vim-are-showing-results-for-a-function-de/64069895#64069895", "title": "Why combination of cscope and ctags in vim are showing results for a function definition that is not related to a class?", "body": "<p>Because it uses cstags instead of ctags.<br />\nHere is the config I use. I don't install cscope_maps.vim because I don't need keyboard shortcuts for cscope.\n<code>set nocscopetag</code> disables cstags. Other stuff make it load cscope.out in a git project automatically without environment variable.</p>\n<pre><code>set nocscopetag\nif filereadable(&quot;cscope.out&quot;)\n    cscope add cscope.out  \nelse\n    let git_path = finddir('.git', '.;')\n    let cscope_path = git_path . &quot;/../cscope.out&quot;\n    let proj_dir = git_path . &quot;/../&quot;\n    if filereadable(cscope_path)\n        execute &quot;cscope add &quot; . cscope_path . ' ' . proj_dir\n    endif\nendif\n</code></pre>\n"}], "owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 64069895, "answer_count": 1, "score": 1, "last_activity_date": 1601059945, "creation_date": 1444838239, "question_id": 33130117, "link": "https://stackoverflow.com/questions/33130117/why-combination-of-cscope-and-ctags-in-vim-are-showing-results-for-a-function-de", "title": "Why combination of cscope and ctags in vim are showing results for a function definition that is not related to a class?", "body": "<p>I am using cscope and ctags in vim editor for a c++ project. I have generated ctags and cscope files as below from the root of the project.</p>\n\n<pre><code>ctags -R --c++-kinds=+p --fields=+iaS --extra=+q\nfind . -name \"*.c\" -o -name \"*.cpp\" -o -name \"*.h\" -o -name \"*.hpp\" &gt; cscope.files\ncscope -q -R -b -i cscope.files\n</code></pre>\n\n<p>my ~/.vimrc file contents are as below.</p>\n\n<pre><code>set tags+=./tags;/\nfiletype plugin on\n\ncs add $CSCOPE_DB\n</code></pre>\n\n<p>I have added below line in .bashrc</p>\n\n<pre><code>export CSCOPE_DB=/home/kadina/build/platform/component/platform/stb/cscope.out\n</code></pre>\n\n<p>And I have downloaded cscope_maps.vim from internet and place it in ~/.vim/plugin/</p>\n\n<p>But when I tried to find the definition of a function by ctrl + }, it is listing down all the function definitions with the same name instead of navigating to the correct function.</p>\n\n<p>For example, when I tried to find the definition of VZ_DIAGNOSTICS::getInstance(), it is not navigating to the definition of VZ_DIAGNOSTICS::getInstance(), instead it is listing all the function definitions with the name as getInstance().</p>\n\n<p>I am facing same problem, when I tried to find who is calling this function by ctrl + \\ + c. It is listing down the functions which are calling getInstance() instead of listing down the functions which are calling VZ_DIAGNOSTICS::getInstance().</p>\n\n<p>Can anyone please let me know what changes I need to make to work these things correctly?</p>\n"}, {"tags": ["c++", "multithreading", "parallel-processing", "openmp"], "answers": [{"comments": [{"owner": {"reputation": 2799, "user_id": 1747493, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Ro2p4.jpg?s=128&g=1", "display_name": "Harald", "link": "https://stackoverflow.com/users/1747493/harald"}, "edited": false, "score": 1, "creation_date": 1444982631, "post_id": 33130059, "comment_id": 54139192, "body": "You can also use OpenMP tasks to achieve the same goal (#pragma omp task). There is a nice discussion on the differences between tasks and sections in  <a href=\"http://stackoverflow.com/questions/13788638/difference-between-section-and-task-openmp\" title=\"difference between section and task openmp\">stackoverflow.com/questions/13788638/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1031, "user_id": 3933895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3eff8d3f5166ea0f7974afbfcdd5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Samidamaru", "link": "https://stackoverflow.com/users/3933895/samidamaru"}, "is_accepted": true, "score": 4, "last_activity_date": 1444838105, "creation_date": 1444838105, "answer_id": 33130059, "question_id": 33130001, "link": "https://stackoverflow.com/questions/33130001/openmp-parallelization-of-non-for-loop/33130059#33130059", "title": "OpenMP parallelization of non-for loop", "body": "<p>This is what OMP Sections is used for :)</p>\n\n<pre><code>int main() {\n    #pragma omp parallel sections\n    {\n        #pragma omp section\n        { \n            minimization(a,b);\n        }\n\n        #pragma omp section\n        { \n            checkForNaN(x);\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1031, "user_id": 3933895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3eff8d3f5166ea0f7974afbfcdd5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Samidamaru", "link": "https://stackoverflow.com/users/3933895/samidamaru"}, "edited": false, "score": 0, "creation_date": 1444838279, "post_id": 33130119, "comment_id": 54072050, "body": "I have no idea why you keep posting the exact same answer as me about 1 minute later on posts today :p..."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "reply_to_user": {"reputation": 1031, "user_id": 3933895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3eff8d3f5166ea0f7974afbfcdd5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Samidamaru", "link": "https://stackoverflow.com/users/3933895/samidamaru"}, "edited": false, "score": 0, "creation_date": 1444838325, "post_id": 33130119, "comment_id": 54072089, "body": "This answer is not exact same. What @kcc__ &#39;s code does is added."}], "tags": [], "owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "is_accepted": false, "score": 1, "last_activity_date": 1444838242, "creation_date": 1444838242, "answer_id": 33130119, "question_id": 33130001, "link": "https://stackoverflow.com/questions/33130001/openmp-parallelization-of-non-for-loop/33130119#33130119", "title": "OpenMP parallelization of non-for loop", "body": "<p>No, it doesn't look correct. it will execute <code>minimization(a,b);</code> and <code>checkForNaN(x);</code> in all threads you have.</p>\n\n<p>Instead, this will do the parallelization:</p>\n\n<pre><code>int main() {\n  // read data\n  #pragma omp parallel sections\n  {\n    #pragma omp section\n    {\n      minimization (a,b);\n    }\n    #pragma omp section\n    {\n      checkForNaN(x);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1514, "user_id": 1965914, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e0867f407d40c62b905fa849ad95a47c?s=128&d=identicon&r=PG", "display_name": "kcc__", "link": "https://stackoverflow.com/users/1965914/kcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 33130059, "answer_count": 2, "score": 0, "last_activity_date": 1444838242, "creation_date": 1444837936, "question_id": 33130001, "link": "https://stackoverflow.com/questions/33130001/openmp-parallelization-of-non-for-loop", "title": "OpenMP parallelization of non-for loop", "body": "<p>So far I have only used OpenMP to parallelize for loop in C++. However I wonder if I can execute other lines of codes which are not for loops in Parallel. </p>\n\n<pre><code>void minimization(int *a, int *x) {\n // this part of the code is dependent of other library.\n}\n\nvoid checkForNaN(int *a){\n // check nan points\n}\n\nint main() {\n  // read data\n  minimization (a,b);\n  checkForNaN(x);\n}\n</code></pre>\n\n<p>Consider the sample snippet above, whereby <code>minimization(,)</code> and <code>checkForNaN()</code> are independent that is results of either one does not affect the other once. Is it possible to parallelize it?</p>\n\n<p>I am thinking something like this:</p>\n\n<pre><code>  int main() {\n      // read data\n#pragma omp parallel\n    {\n      minimization (a,b);\n      checkForNaN(x);\n     }\n}\n</code></pre>\n\n<p>Does it looks correct?</p>\n"}]