[{"tags": ["c++", "data-structures", "binary-search-tree"], "comments": [{"owner": {"reputation": 655, "user_id": 3440575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a39e2f61465b9973099fd03d380493a?s=128&d=identicon&r=PG&f=1", "display_name": "jamesjaya", "link": "https://stackoverflow.com/users/3440575/jamesjaya"}, "edited": false, "score": 0, "creation_date": 1478736554, "post_id": 40517933, "comment_id": 68277807, "body": "please elaborate what you mean by bug. provide some test case or scenario."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 2, "creation_date": 1478736766, "post_id": 40517933, "comment_id": 68277869, "body": "It is because no update of non-local data will occur when <code>head != 0 &amp;&amp; head-&gt;child &lt;= 2</code>. I guess you should use loops or something."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1478737302, "post_id": 40517933, "comment_id": 68278012, "body": "What is <code>node</code>? Please post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1478758137, "post_id": 40517933, "comment_id": 68282811, "body": "because in your method of insertion using <b>loop</b> there is no loop. It doesn&#39;t iterates through the tree."}, {"owner": {"reputation": 1, "user_id": 6815352, "user_type": "registered", "profile_image": "https://graph.facebook.com/1382769335084594/picture?type=large", "display_name": "Noureldin Tarek", "link": "https://stackoverflow.com/users/6815352/noureldin-tarek"}, "reply_to_user": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1478772951, "post_id": 40517933, "comment_id": 68290336, "body": "sorry i posted the wrog code now i fixed it @Optimus1072"}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1478776411, "post_id": 40517933, "comment_id": 68292643, "body": "again the problem is with positioning of loop if <code>ptr -&gt;childs &gt; 2</code> it will not go down in the tree. @NoureldinTarek"}, {"owner": {"reputation": 1, "user_id": 6815352, "user_type": "registered", "profile_image": "https://graph.facebook.com/1382769335084594/picture?type=large", "display_name": "Noureldin Tarek", "link": "https://stackoverflow.com/users/6815352/noureldin-tarek"}, "reply_to_user": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1478779155, "post_id": 40517933, "comment_id": 68294354, "body": "@Optimus1072 sorry mate but if i know where to put the loop i wouldn&#39;t post anything here so please if you know where i can put it to work tell me because i must send this to my TA in 2 hours"}], "owner": {"reputation": 1, "user_id": 6815352, "user_type": "registered", "profile_image": "https://graph.facebook.com/1382769335084594/picture?type=large", "display_name": "Noureldin Tarek", "link": "https://stackoverflow.com/users/6815352/noureldin-tarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478772858, "creation_date": 1478735459, "last_edit_date": 1478772858, "question_id": 40517933, "link": "https://stackoverflow.com/questions/40517933/bug-in-binary-search-tree-insertion-code", "title": "Bug in binary search tree insertion code", "body": "<p>I was trying to use to insert into a binary tree using while loop. However it seems to have a bug: it only takes the first number and doesn't take the rest. I don't know where I made the mistake.</p>\n\n<p>I've created the following code:</p>\n\n<pre><code>void BTC::Insert(int Data)\n\n{Node *newNode = new Node;\n\n\n\nif (head == 0)\n{\n    head = node;\n}\nelse\n{\n    Node* ptr = head;\n\n    if(ptr-&gt;childs&gt;2)\n    {   \n        if (Data &gt; ptr-&gt;data)\n        {\n            ptr-&gt;right = node;\n        }\n        else if (Data &lt;= ptr-&gt;data)\n        {\n            ptr-&gt;left = node;\n        }\n        ptr-&gt;childs++;\n    }\n    else\n    {\n       While(ptr-&gt;childs==2)\n        {\n        if (Data &gt; ptr-&gt;data)\n           {\n             ptr = ptr-&gt;right;\n           }\n        else if (Data &lt;= ptr-&gt;data)\n           {\n             ptr = ptr-&gt;left;\n           }\n        }\n    }\n}\n\nclass Node\n{\npublic:\n    int data;\n    Node* right;\n    Node* left;\n    int childs;\n    Node() : right(0), left(0)\n    {}\n\n    Node(int data) : data(data), right(0), left(0),childs(0)\n    {}\n\n\n}\n}\n</code></pre>\n"}, {"tags": ["c++", "dictionary", "binary-tree"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735728, "post_id": 40517892, "comment_id": 68277595, "body": "So, what&#39;s the difference between your binary tree and a Binary Search Tree?  My understanding is that in a binary tree, each node may have two subtrees that are not necessarily ordered."}, {"owner": {"reputation": 1, "user_id": 7138505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75aa4db7d6993d9ea661fdb093794b5?s=128&d=identicon&r=PG&f=1", "display_name": "P.T", "link": "https://stackoverflow.com/users/7138505/p-t"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478736198, "post_id": 40517892, "comment_id": 68277720, "body": "Yea this is just a binary tree. It isn&#39;t ordered at all, but it does follow the two nodes max ."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 1, "creation_date": 1478736566, "post_id": 40517892, "comment_id": 68277811, "body": "<code>root - &gt; Left</code> doesn&#39;t seem valid. Do you mean <code>root -&gt; Left</code> (use <code>-&gt;</code> operator instead of <code>-</code> operator and <code>&gt;</code> operator)? Why not post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>?"}, {"owner": {"reputation": 1, "user_id": 7138505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75aa4db7d6993d9ea661fdb093794b5?s=128&d=identicon&r=PG&f=1", "display_name": "P.T", "link": "https://stackoverflow.com/users/7138505/p-t"}, "edited": false, "score": 0, "creation_date": 1478760072, "post_id": 40517892, "comment_id": 68283498, "body": "Ok well the code has changed a lot so I have updated the code. I asked someone for help. I am now stuck as to how to fix a node not being created if its parent node hasn&#39;t been initialized yet."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7138505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75aa4db7d6993d9ea661fdb093794b5?s=128&d=identicon&r=PG&f=1", "display_name": "P.T", "link": "https://stackoverflow.com/users/7138505/p-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1478818953, "creation_date": 1478818953, "answer_id": 40538535, "question_id": 40517892, "link": "https://stackoverflow.com/questions/40517892/creating-outputing-a-binary-treenot-bst/40538535#40538535", "title": "Creating/outputing a binary tree(not BST)", "body": "<p>Actually, I just used a vector of nodes and it worked perfectly. Sorry for all the confusion!</p>\n"}], "owner": {"reputation": 1, "user_id": 7138505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75aa4db7d6993d9ea661fdb093794b5?s=128&d=identicon&r=PG&f=1", "display_name": "P.T", "link": "https://stackoverflow.com/users/7138505/p-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478825996, "creation_date": 1478735199, "last_edit_date": 1478825996, "question_id": 40517892, "link": "https://stackoverflow.com/questions/40517892/creating-outputing-a-binary-treenot-bst", "title": "Creating/outputing a binary tree(not BST)", "body": "<p>My code (below) works unless the required key isn't in the list yet (so if a node doesn't have a reference to its parent). It ignores the nodes and just makes a tree without them. How can I fix it? I'm thinking about just re-looping once all the keys are in and just keep adding and removing accordingly.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;memory&gt;\n#include &lt;map&gt;\n\nstruct Foo {\n  int data{0};\n  int left{-1};\n  int right{-1};\n};\n\nstd::istream&amp; operator&gt;&gt;(std::istream&amp; in, Foo&amp; ff) {\n  in &gt;&gt; ff.data &gt;&gt; ff.left &gt;&gt; ff.right;\n  return in;\n}\n\nstruct Del {\n  template &lt;class T&gt;\n  void operator()(T* p) {\n    std::cout &lt;&lt; \"[deleted #\" &lt;&lt; (p ? p-&gt;data : 0) &lt;&lt; \"]\\n\";\n    delete p;\n  }\n};\n\nstruct Bar {\n  int data{0};\n  std::unique_ptr&lt;Bar, Del&gt; lef;\n  std::unique_ptr&lt;Bar, Del&gt; rig;\n};\n\nvoid print(const std::unique_ptr&lt;Bar, Del&gt;&amp; node) {\n  if (node) {\n    std::cout &lt;&lt; ' ' &lt;&lt; node-&gt;data;\n    print(node-&gt;lef);\n\n    print(node-&gt;rig);\n  }\n}\n\nint main() {\n  std::string input =\n      \"101 1 3 102 2 8 104 6 7 103 -1 5 109 -1 -1 106 4 -1 107 -1   -1 108 -1 \"\n      \"-1 105 -1 -1\";\n\n  std::istringstream IN(input);\n\n  std::map&lt;int, std::pair&lt;Bar*, bool&gt;&gt; mlist;\n  std::unique_ptr&lt;Bar, Del&gt; root;\n  int row = 0;\n  Foo entry;\n  while (IN &gt;&gt; entry) {\n    if (0 == row) {\n      root.reset(new Bar);\n      Bar* node = root.get();\n      node-&gt;data = entry.data;\n      std::cout &lt;&lt; row &lt;&lt; \" [created #\" &lt;&lt; entry.data &lt;&lt; ']';\n      if (0 &lt;= entry.left)\n        mlist.emplace(entry.left, std::make_pair(node, true));\n      if (0 &lt;= entry.right)\n        mlist.emplace(entry.right, std::make_pair(node, false));\n\n    } else {\n      auto it = mlist.find(row);\n      if (mlist.end() != it) {\n        if (it-&gt;second.second) {\n          it-&gt;second.first-&gt;lef.reset(new Bar);\n          Bar* node = it-&gt;second.first-&gt;lef.get();\n          node-&gt;data = entry.data;\n          std::cout &lt;&lt; row &lt;&lt; \" [created #\" &lt;&lt; entry.data &lt;&lt; ']';\n          if (0 &lt;= entry.left)\n            mlist.emplace(entry.left, std::make_pair(node, true));\n          if (0 &lt;= entry.right)\n            mlist.emplace(entry.right, std::make_pair(node, false));\n\n          mlist.erase(it);\n        } else {\n          it-&gt;second.first-&gt;rig.reset(new Bar);\n          Bar* node = it-&gt;second.first-&gt;rig.get();\n          node-&gt;data = entry.data;\n          std::cout &lt;&lt; row &lt;&lt; \" [created #\" &lt;&lt; entry.data &lt;&lt; ']';\n          if (0 &lt;= entry.left)\n            mlist.emplace(entry.left, std::make_pair(node, true));\n          if (0 &lt;= entry.right)\n            mlist.emplace(entry.right, std::make_pair(node, false));\n\n          mlist.erase(it);\n        }\n        // mlist.erase( it );\n      }\n    }\n    std::cout &lt;&lt; \" list size \" &lt;&lt; mlist.size() &lt;&lt; '\\n';\n    ++row;\n  }\n  std::cout &lt;&lt; \"final list size \" &lt;&lt; mlist.size() &lt;&lt; \"\\n\\n\";\n  print(root);\n  std::cout &lt;&lt; \"\\n\\n\";\n  std::cout &lt;&lt; \"Lets see whats left in the list:\";\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "printf", "scanf"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1478735294, "post_id": 40517857, "comment_id": 68277443, "body": "Any reason you need to use <code>scanf</code>?  Please search the internet for &quot;scanf not safe&quot;."}, {"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735352, "post_id": 40517857, "comment_id": 68277465, "body": "@ThomasMatthews it&#39;s from hackerrank.com... just running through some tests to get back in a rhythm."}, {"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735387, "post_id": 40517857, "comment_id": 68277478, "body": "@ThomasMatthews I guess I can also use <code>cin</code>..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735408, "post_id": 40517857, "comment_id": 68277487, "body": "Is the <i>requirement</i> to use <code>scanf</code> or to read data from the standard input?  You could use <code>cin &gt;&gt; inum;</code> for example."}, {"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735490, "post_id": 40517857, "comment_id": 68277514, "body": "It&#39;s not a requirement, but it says to use <code>scanf</code> reading over a million values from stdin because it&#39;s faster.  So I figured I&#39;d just use it by default."}, {"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735510, "post_id": 40517857, "comment_id": 68277527, "body": "@ThomasMatthews can you tell me why it&#39;s not working?  I don&#39;t understand"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1478735616, "post_id": 40517857, "comment_id": 68277559, "body": "@hax0r_n_code: the code you showed is C, not C++.  C uses things like <code>scanf()</code> and <code>printf()</code>, C++ uses things like <code>std::cin &gt;&gt;</code> and <code>std::cout &lt;&lt;</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478735633, "post_id": 40517857, "comment_id": 68277564, "body": "Use a debugger and find out the value read in for <code>ch</code>."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1478736086, "post_id": 40517857, "comment_id": 68277693, "body": "@RemyLebeau No, the code is C++ because <code>iostream</code> and <code>cstdio</code> is used."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1478736271, "post_id": 40517857, "comment_id": 68277738, "body": "@MikeCAT: So, the code is actually using the C++ <code>std::scanf()</code> and <code>std::printf()</code> wrappers, not the C <code>scanf()</code> and <code>printf()</code> functions. This is how <code>using namespace std</code> can confuse people and get them into trouble."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478738242, "post_id": 40517857, "comment_id": 68278233, "body": "@RemyLebeau If the code is being compiled by a <code>C++</code> compiler then it&#39;s <code>C++</code>."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478738346, "post_id": 40517857, "comment_id": 68278266, "body": "@RemyLebeau The language of the functions that the program calls is irrelevant, they could have been written in <code>Pascal</code> or <code>Fortran</code>, doesn&#39;t make it a <code>Pascal</code> program."}], "answers": [{"tags": [], "owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "is_accepted": false, "score": 4, "last_activity_date": 1478735862, "creation_date": 1478735862, "answer_id": 40517986, "question_id": 40517857, "link": "https://stackoverflow.com/questions/40517857/new-to-c-and-scanf-is-not-properly-reading-printing-input/40517986#40517986", "title": "New to C++ and scanf is not properly reading/printing input", "body": "<ol>\n<li>Don't use <code>using namespace std</code>.</li>\n<li>Check the return value of <code>scanf</code>.</li>\n<li>Read the <code>fscanf</code> man page, especially for the <code>%c</code> modifier.</li>\n<li>Read the <code>fprintf</code> man page, since its modifiers are different from the <code>fscanf</code> modifiers.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "edited": false, "score": 0, "creation_date": 1478735992, "post_id": 40517991, "comment_id": 68277672, "body": "The exercise seemed to focus on format specifiers, are they unnecessary when using <code>cout</code>?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "edited": false, "score": 1, "creation_date": 1478736165, "post_id": 40517991, "comment_id": 68277714, "body": "@hax0r_n_code: yes, because there is no format string involved.  The <code>&gt;&gt;</code> and <code>&lt;&lt;</code> operators are overloaded for individual data types so they implicitly know WHAT they are reading/writing and HOW to read/write them."}, {"owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "edited": false, "score": 0, "creation_date": 1478736676, "post_id": 40517991, "comment_id": 68277845, "body": "This code only passed one of four test cases..  If you are curious and feel like giving it a try let me know what the solution is.  I&#39;m very curious.  <a href=\"https://www.hackerrank.com/challenges/c-tutorial-basic-data-types?h_r=next-challenge&amp;h_v=zen\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/&hellip;</a>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "edited": false, "score": 0, "creation_date": 1478738185, "post_id": 40517991, "comment_id": 68278220, "body": "@hax0r_n_code: There are no additional test cases at that link, only an explanation of how to read values in general.  If you are having specific problems, please edit your question with details."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1478738575, "post_id": 40517991, "comment_id": 68278308, "body": "Both <code>scanf</code> and <code>printf</code> are guaranteed to be in the <code>std</code> namespace because the header <code>&lt;cstdio&gt;</code> was included (it can optionally put them in the global namespace but not required)."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 3, "last_activity_date": 1478736046, "last_edit_date": 1478736046, "creation_date": 1478735902, "answer_id": 40517991, "question_id": 40517857, "link": "https://stackoverflow.com/questions/40517857/new-to-c-and-scanf-is-not-properly-reading-printing-input/40517991#40517991", "title": "New to C++ and scanf is not properly reading/printing input", "body": "<p>Try including spaces in your <code>scanf()</code> format string to help <code>scanf()</code>:</p>\n\n<pre><code>scanf(\"%d %ld %lld %c %f %lf\", &amp;inum, &amp;lnum, &amp;llnum, &amp;ch, &amp;fnum, &amp;dfnum);\n</code></pre>\n\n<p><code>scanf()</code> returns the number of value it actually read, eg:</p>\n\n<pre><code>if (scanf(\"%d %ld %lld %c %f %lf\", &amp;inum, &amp;lnum, &amp;llnum, &amp;ch, &amp;fnum, &amp;dfnum) == 6)\n    printf(\"%d\\n%ld\\n%lld\\n%c\\n%f\\n%lf\", inum, lnum, llnum, ch, fnum, dfnum);\n</code></pre>\n\n<p>That being said, you tagged your question as C++, but the code you showed is mostly C and not using any C++ functionality (your <code>using</code> statement doesn't count since you are not actually using anything from the <code>std</code> namespace).  What you are attempting would look more like this in C++:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int inum;\n    long lnum;\n    long long llnum;\n    char ch;\n    float fnum;\n    double dfnum;\n\n    if (cin &gt;&gt; inum &gt;&gt; lnum &gt;&gt; llnum &gt;&gt; ch &gt;&gt; fnum &gt;&gt; dfnum)\n        cout &lt;&lt; inum &lt;&lt; \"\\n\" &lt;&lt; lnum &lt;&lt; \"\\n\" &lt;&lt; llnum &lt;&lt; \"\\n\" &lt;&lt; ch &lt;&lt; \"\\n\" &lt;&lt; fnum &lt;&lt; \"\\n\" &lt;&lt; dfnum;\n\n    return 0;\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\nusing namespace std;\n\nint main() {\n    string line;\n\n    int inum;\n    long lnum;\n    long long llnum;\n    char ch;\n    float fnum;\n    double dfnum;\n\n    if (getline(cin, line))\n    {\n        istringstream iss(line);\n        if (iss &gt;&gt; inum &gt;&gt; lnum &gt;&gt; llnum &gt;&gt; ch &gt;&gt; fnum &gt;&gt; dfnum)\n            cout &lt;&lt; inum &lt;&lt; \"\\n\" &lt;&lt; lnum &lt;&lt; \"\\n\" &lt;&lt; llnum &lt;&lt; \"\\n\" &lt;&lt; ch &lt;&lt; \"\\n\" &lt;&lt; fnum &lt;&lt; \"\\n\" &lt;&lt; dfnum;\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 5322, "user_id": 1492471, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/42d6fb74208dc859b1f128268d6229cd?s=128&d=identicon&r=PG", "display_name": "hax0r_n_code", "link": "https://stackoverflow.com/users/1492471/hax0r-n-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 40517991, "answer_count": 2, "score": 0, "last_activity_date": 1478736046, "creation_date": 1478735030, "question_id": 40517857, "link": "https://stackoverflow.com/questions/40517857/new-to-c-and-scanf-is-not-properly-reading-printing-input", "title": "New to C++ and scanf is not properly reading/printing input", "body": "<p>I'm trying to refresh my memory in writing code using C++ and can't figure out why the follow isn't working:</p>\n\n<p>I'm supposed to read in from scanf the following values:</p>\n\n<p><code>3 444 12345678912345 a 334.23 14049.30493</code></p>\n\n<p>And then print them each to their own line.  Like so:</p>\n\n<pre><code>3\n444\n12345678912345\na\n334.23\n14049.30493\n</code></pre>\n\n<p>The code I'm using is this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\nusing namespace std;\n\nint main() {\n    // Complete the code.\n    int inum;\n    long lnum;\n    long long llnum;\n    char ch;\n    float fnum;\n    double dfnum;\n\n    scanf(\"%d%ld%lld%c%f%lf\", &amp;inum, &amp;lnum, &amp;llnum, &amp;ch, &amp;fnum, &amp;dfnum);\n    printf(\"%d\\n%ld\\n%lld\\n%c\\n%f\\n%lf\", inum, lnum, llnum, ch, fnum, dfnum);\n    return 0;\n}\n</code></pre>\n\n<p>But the output produced by this is:</p>\n\n<pre><code>3\n444\n12345678912345\n\n0.000000\n0.000000\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c++", "visual-studio", "visual-studio-2015"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1478734400, "post_id": 40517680, "comment_id": 68277175, "body": "Happens when you open a project that was created to work on an older version of VS but you don&#39;t have that version installed.  And, usually, it wasn&#39;t property uninstalled so you don&#39;t get a decent error message, a very common issue with programmers that kick the tires on beta and trial versions.  Project &gt; Properties &gt; General &gt; Platform Toolset setting, needs to be v140.  Fixing the registry damage, well, not so easy.  Either just keep in mind that it is going to happen again or consider a good lazy day to wipe the machine."}, {"owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1478735444, "post_id": 40517680, "comment_id": 68277499, "body": "yep that changed the directories, will probs do a reformat if I get the chance, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7489141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PAG3KEo7vL4/AAAAAAAAAAI/AAAAAAAAAGA/3pA6tTQJFsk/photo.jpg?sz=128", "display_name": "Gurjeet Singh", "link": "https://stackoverflow.com/users/7489141/gurjeet-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1485770846, "creation_date": 1485770846, "answer_id": 41933239, "question_id": 40517680, "link": "https://stackoverflow.com/questions/40517680/visual-studio-2015-vc-librarypath-x64-pointing-at-non-existent-directory/41933239#41933239", "title": "Visual Studio 2015 $(VC_LibraryPath_x64) pointing at non-existent directory", "body": "<p>Open the project properties and update the Platform Toolset as Visual studio 2015(v140). Apply the settings. \nNow check again. The macro VC_LibraryPath_x64 should now point to 14.0 directories.</p>\n"}], "owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485770846, "creation_date": 1478733856, "question_id": 40517680, "link": "https://stackoverflow.com/questions/40517680/visual-studio-2015-vc-librarypath-x64-pointing-at-non-existent-directory", "title": "Visual Studio 2015 $(VC_LibraryPath_x64) pointing at non-existent directory", "body": "<p>I have a fresh install of Visual Studio 2015, my $(VC_LibraryPath_x64) is pointing at xxx\\Microsoft Visual Studio 12.0\\xxx for folders which don't exist (Microsoft Visual Studio 12.0 does exist though).</p>\n\n<p>The correct folders it should be pointing at (which contains lib files the compiler complains are missing) is xxx\\Microsfot Visual Studio 14.0\\xxx</p>\n\n<p>I'm not sure why it's pointing at the wrong dirs, any ideas how I can fix the directory macros?</p>\n"}, {"tags": ["c++", "inheritance"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1478734439, "post_id": 40517677, "comment_id": 68277184, "body": "Btw., shouldn&#39;t you either use pt instead of this, or remove the parameter pt?"}, {"owner": {"reputation": 229, "user_id": 5761402, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f3a531c29d31ce4583924a979a3b3940?s=128&d=identicon&r=PG&f=1", "display_name": "J. Lin", "link": "https://stackoverflow.com/users/5761402/j-lin"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1478735411, "post_id": 40517677, "comment_id": 68277489, "body": "@deviantfan oh forget about the input parameter pt."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5761402, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f3a531c29d31ce4583924a979a3b3940?s=128&d=identicon&r=PG&f=1", "display_name": "J. Lin", "link": "https://stackoverflow.com/users/5761402/j-lin"}, "edited": false, "score": 1, "creation_date": 1478735635, "post_id": 40517714, "comment_id": 68277565, "body": "I think if you change the type of base from Point to Point3D, the code will work fine."}], "tags": [], "owner": {"reputation": 39, "user_id": 5868796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65205381ddc451fca8092b3c6ac6763a?s=128&d=identicon&r=PG&f=1", "display_name": "Sesh Sadasivam", "link": "https://stackoverflow.com/users/5868796/sesh-sadasivam"}, "is_accepted": false, "score": 1, "last_activity_date": 1478737857, "last_edit_date": 1478737857, "creation_date": 1478734132, "answer_id": 40517714, "question_id": 40517677, "link": "https://stackoverflow.com/questions/40517677/c-class-access-level/40517714#40517714", "title": "C++ class access level", "body": "<p>The public inheritance mode simply means that the object can access protected members of its base class. In this example, every Point3D object can access the <code>x_</code> and <code>y_</code> members of Point3D objects only.</p>\n\n<p>However, this does not allow the object to access another Point's protected members from it's base class.</p>\n\n<p>EDIT: As pointed out by J. Lin, simply changing the type of base from Point to Point3D allows the member function to access <code>x_</code> and <code>y_</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 229, "user_id": 5761402, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f3a531c29d31ce4583924a979a3b3940?s=128&d=identicon&r=PG&f=1", "display_name": "J. Lin", "link": "https://stackoverflow.com/users/5761402/j-lin"}, "edited": false, "score": 1, "creation_date": 1478736781, "post_id": 40517739, "comment_id": 68277874, "body": "Thx for the reply. But if you change base.x and base.y to pt.x and pt.y, the code works fine. And the derived class instance pt are accessing the protected base class members without using point/reference, which may contradict your argument. Am I misunderstanding your idea?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 229, "user_id": 5761402, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f3a531c29d31ce4583924a979a3b3940?s=128&d=identicon&r=PG&f=1", "display_name": "J. Lin", "link": "https://stackoverflow.com/users/5761402/j-lin"}, "edited": false, "score": 0, "creation_date": 1478750853, "post_id": 40517739, "comment_id": 68280952, "body": "@J.Lin, <code>pt.x</code> is ok since <code>pt</code> is object of type <code>Point3D</code>. That amounts to accessing a <code>protected</code> member of the base class using a reference to an object of the derived class type."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 6, "last_activity_date": 1478735076, "last_edit_date": 1478735076, "creation_date": 1478734283, "answer_id": 40517739, "question_id": 40517677, "link": "https://stackoverflow.com/questions/40517677/c-class-access-level/40517739#40517739", "title": "C++ class access level", "body": "<blockquote>\n  <p>But the access level of <code>Point3D</code> to <code>Point</code> is <code>public</code></p>\n</blockquote>\n\n<p>That is not entirely true. The protected members of a base class are accessible to a derived class only if they are accessed through a derived class pointer/reference.</p>\n\n<pre><code>double Point3D::distance(Point3D pt, Point base) const\n{\n    int dist_x, dist_y;\n    dist_x = base.x_ - x_; // x_ is same as this-&gt;x_. Hence it is OK.\n                           // base is not a Point3D. Hence base.x_ is not OK.\n    dist_y = base.y_ - y_;\n\n    return sqrt(dist_x * dist_x +\n                dist_y * dist_y);\n}\n</code></pre>\n\n<hr>\n\n<p>Allowing access to <code>protected</code> members of a base class through a base class pointer/reference will allow you to change objects in ways that will lead to unintended consequences.</p>\n\n<p>Say you have:</p>\n\n<pre><code>class Base\n{\n   protected:\n     int data;\n};\n\nclass Derived1 : public Base\n{\n    void foo(Base&amp; b)\n    {\n       b.data = 10; // Not OK. If this were OK ... what would happen?\n    }\n};\n\nclass Derived2 : public Base\n{\n};\n\nint main()\n{\n    Derived1 d1;\n    Derived2 d2;\n    d1.foo(d2); \n}\n</code></pre>\n\n<p>If </p>\n\n<pre><code>       b.data = 10;\n</code></pre>\n\n<p>were to be allowed in <code>Derived1::foo</code>, you are able to modify the state of <code>d2</code>, an instance of <code>Derived2</code> by <code>Derived1</code>. That sort of backdoor modification is not a desirable behavior.</p>\n"}], "owner": {"reputation": 229, "user_id": 5761402, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f3a531c29d31ce4583924a979a3b3940?s=128&d=identicon&r=PG&f=1", "display_name": "J. Lin", "link": "https://stackoverflow.com/users/5761402/j-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 40517739, "answer_count": 2, "score": 9, "last_activity_date": 1478737857, "creation_date": 1478733843, "question_id": 40517677, "link": "https://stackoverflow.com/questions/40517677/c-class-access-level", "title": "C++ class access level", "body": "<p>Suppose I have two classes. One called Point:    </p>\n\n<pre><code>class Point{\n    public:\n        Point(): x_(0), y_(0) {}\n    protected: \n        int x_, y_;\n    };\n</code></pre>\n\n<p>Then I have another class, which derives from Point:</p>\n\n<pre><code>class Point3D : public Point {\npublic:\n    Point3D(): Point(), z_(0){}\n    double distance(Point3D pt, Point base) const;\nprotected:\n    int z_;\n};\n\ndouble Point3D::distance(Point3D pt, Point base) const\n{\n    int dist_x, dist_y;\n    dist_x = base.x_ - x_;\n    dist_y = base.y_ - y_;\n\n    return sqrt(dist_x * dist_x +\n                dist_y * dist_y);\n}\n</code></pre>\n\n<p>Then I got error like: base.x_ is protected within this context. But the access level of Point3D to Point is public, plus the x_ data member in Point is protected. So it is supposed to be error-free, right? Can someone please help me clear this out?</p>\n"}, {"tags": ["c++", "c", "arrays"], "comments": [{"owner": {"reputation": 92, "user_id": 3065863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/94N6G.jpg?s=128&g=1", "display_name": "bgeschka", "link": "https://stackoverflow.com/users/3065863/bgeschka"}, "edited": false, "score": 1, "creation_date": 1478733187, "post_id": 40517544, "comment_id": 68276779, "body": "you&#39;re missing the 2nd index to the assentosP array, try to compare like: if (assentosP[selecao][0] == &#39;O&#39;) and you should get it"}, {"owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "edited": false, "score": 0, "creation_date": 1478735123, "post_id": 40517544, "comment_id": 68277401, "body": "Not related to your problem, but quite important. It&#39;s better to use english names for variables/methods/classes names, especially when you decide to share your code globally. In this simple example it&#39;s not a big deal but in general non-english code is harder to understand for most of SO users."}, {"owner": {"reputation": 7332, "user_id": 1641198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/815c90f5e93c176813333043e3d3d880?s=128&d=identicon&r=PG", "display_name": "DrC", "link": "https://stackoverflow.com/users/1641198/drc"}, "edited": false, "score": 1, "creation_date": 1478736431, "post_id": 40517544, "comment_id": 68277785, "body": "You probably want your range check to be &#39;selecao &gt;= 0 &amp;&amp; selecao &lt; 4&#39; as well."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478733555, "post_id": 40517616, "comment_id": 68276917, "body": "That&#39;s interesting. Do you have any idea of what I should use? assentosP[selecao][] also doesn&#39;t work. I&#39;m new to C"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478733590, "post_id": 40517616, "comment_id": 68276932, "body": "@JoViktor You should select a row of the array using it as the first index."}, {"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478733795, "post_id": 40517616, "comment_id": 68276997, "body": "I see. I&#39;m using a scanf(&quot;%d&quot;, selecao) that would filter by number. for instance, if the guy picks &quot;5&quot;, then it would go to position 5 of the array. Should I use 1 scanf for the row and then 1 scanf for the column?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478733808, "post_id": 40517616, "comment_id": 68277002, "body": "@JoViktor as the array has only three rows and only two of them have actual values then you can write either assentosP[0][selecao] or assentosP[1][selecao][ Of course you can also write assentosP[2][selecao]  but all elements of the row are equal to &#39;\\0&#39;"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478733924, "post_id": 40517616, "comment_id": 68277035, "body": "@JoViktor You can use it like assentosP[selecao / 4][selecao % 4]]"}, {"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478734147, "post_id": 40517616, "comment_id": 68277095, "body": "I see, thanks! What about &quot;the array is declared as having 3 elements&quot;? Doesn&#39;t that array have 8 elements?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478734269, "post_id": 40517616, "comment_id": 68277128, "body": "@JoViktor It is a typo.:)"}, {"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478734553, "post_id": 40517616, "comment_id": 68277224, "body": "Now I remember. I must declare the array as [1] for it to have 2 rows, right? because it counts from 0"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478734606, "post_id": 40517616, "comment_id": 68277241, "body": "@JoViktor You can declared as many rows as you like. It has nothing common with the comment to your question."}, {"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478735158, "post_id": 40517616, "comment_id": 68277410, "body": "I mean, I want it to have 2 rows. So I should declare as [1], right?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478735304, "post_id": 40517616, "comment_id": 68277449, "body": "@JoViktor If an declaration of an array you gave to specify the number of elements if ithere are no initializers or the number of initializers less then the number of elements of array. So if you want to have 2 rows then you have to specify 2 in the array definition. What is unclear? Reread my answer."}, {"owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "edited": false, "score": 0, "creation_date": 1478735575, "post_id": 40517616, "comment_id": 68277544, "body": "Sorry, my english is really bad. I think I have everything set up, thanks!"}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 1, "last_activity_date": 1478734252, "last_edit_date": 1478734252, "creation_date": 1478733423, "answer_id": 40517616, "question_id": 40517544, "link": "https://stackoverflow.com/questions/40517544/check-if-something-at-position-x-of-array-is-a-char/40517616#40517616", "title": "Check if something at position X of array is a char", "body": "<p>You defined a two dimensional array</p>\n\n<pre><code>char assentosP[2][4] = {\n     {'D', 'D', 'D', 'D'}, // [0][0], [0][1], [0][2]...\n     {'D', 'D', 'D', 'D'} // [1][0], [1][1], [1][2]...\n     };\n</code></pre>\n\n<p>Thus expression <code>assentosP[selecao]</code> has type <code>char[4]</code>. You may not compare such an array with a character (or an integer after the integer promotion) like this</p>\n\n<pre><code>if (assentosP[selecao] == 'O') {\n</code></pre>\n\n<p>Take into account that if an array declared as having 4 elements then the valid range of indices is [0, 3]. Thus this statement</p>\n\n<pre><code>if (selecao &gt; 0 &amp;&amp; selecao &lt; 5) {\n</code></pre>\n\n<p>looks incorrectly.</p>\n"}], "owner": {"reputation": 13, "user_id": 7138732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3a7808aef5847c81c2484dc23d6716?s=128&d=identicon&r=PG&f=1", "display_name": "Jo Viktor", "link": "https://stackoverflow.com/users/7138732/jo-viktor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 40517616, "answer_count": 1, "score": 1, "last_activity_date": 1478735634, "creation_date": 1478733032, "last_edit_date": 1478735634, "question_id": 40517544, "link": "https://stackoverflow.com/questions/40517544/check-if-something-at-position-x-of-array-is-a-char", "title": "Check if something at position X of array is a char", "body": "<pre><code>if (selecao &gt; 0 &amp;&amp; selecao &lt; 5) {\n if (assentosP[selecao] == 'O') {\n     printf(\"Test\");\n</code></pre>\n\n<p><code>assentosP</code> is a <code>char</code> array, that has a bunch of either <code>D</code> or <code>O</code> letters (<code>D</code> by default)</p>\n\n<pre><code>char assentosP[2][4] = {\n    {'D', 'D', 'D', 'D'}, // [0][0], [0][1], [0][2]...\n    {'D', 'D', 'D', 'D'} // [1][0], [1][1], [1][2]...\n};\n</code></pre>\n\n<p>What I need to know is a way to make <code>AssentosP</code> find out if the char in position <code>selecao</code> of the array is either <code>D</code> or <code>O</code>.</p>\n\n<p>When I try it, it gives me a error</p>\n\n<blockquote>\n  <p>iso c++ forbids comparison between pointer and integer c</p>\n</blockquote>\n"}, {"tags": ["c++", "c", "while-loop", "decrement"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1478732830, "post_id": 40517498, "comment_id": 68276654, "body": "When <code>count</code> is zero, <code>while (count--)</code> evaluates to zero, or false, so the loop stops because the condition is no longer true (non-zero).  It could be written more verbosely as <code>while (count-- != 0)</code>. Remember that <code>count--</code> evaluates to the value of <code>count</code> before the decrement; if you want the decrement first, write <code>--count</code> (which returns the decremented value)."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 2, "creation_date": 1478733522, "post_id": 40517498, "comment_id": 68276902, "body": "What do you mean &quot;no reason&quot; ? The loop condition of <code>0</code> is not a good enough reason?"}, {"owner": {"reputation": 19, "user_id": 1256053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a42989cecf5c96c39cdd166fdb70fe0?s=128&d=identicon&r=PG", "display_name": "user1256053", "link": "https://stackoverflow.com/users/1256053/user1256053"}, "edited": false, "score": 0, "creation_date": 1478734419, "post_id": 40517498, "comment_id": 68277181, "body": "I was not thinking about while thinking of count-- as false when it reaches 0."}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1478733497, "creation_date": 1478733497, "answer_id": 40517626, "question_id": 40517498, "link": "https://stackoverflow.com/questions/40517498/why-does-the-while-loop-stop-at-0-in-this-code/40517626#40517626", "title": "Why does the while loop stop at 0 in this code?", "body": "<blockquote>\n  <p>however when count reaches 0, it stops</p>\n</blockquote>\n\n<p>This is wrong conclusion, it stops when <code>count</code> reaches -1 and you can check it if you put print statement right after the loop. It does not execute loop body in that case, but that is how loop works.</p>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 7065110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j7huq.jpg?s=128&g=1", "display_name": "Ludonope", "link": "https://stackoverflow.com/users/7065110/ludonope"}, "is_accepted": false, "score": 0, "last_activity_date": 1478735127, "creation_date": 1478735127, "answer_id": 40517879, "question_id": 40517498, "link": "https://stackoverflow.com/questions/40517498/why-does-the-while-loop-stop-at-0-in-this-code/40517879#40517879", "title": "Why does the while loop stop at 0 in this code?", "body": "<p>The <code>--</code> operator used after a variable applies last. When count is zero (evaluated as false), the condition is false, then it applies <code>count--</code> (so count is -1) and then exit the loop.</p>\n\n<p>For your culture, you can do <code>--count</code>, it will decrement <code>count</code> before checking the condition.</p>\n"}], "owner": {"reputation": 19, "user_id": 1256053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a42989cecf5c96c39cdd166fdb70fe0?s=128&d=identicon&r=PG", "display_name": "user1256053", "link": "https://stackoverflow.com/users/1256053/user1256053"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1676, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1478735127, "creation_date": 1478732728, "question_id": 40517498, "link": "https://stackoverflow.com/questions/40517498/why-does-the-while-loop-stop-at-0-in-this-code", "title": "Why does the while loop stop at 0 in this code?", "body": "<pre><code>#include &lt;stdio.h&gt;\n\n/* function declaration */\nvoid func(void);\n\nstatic int count = 5; /* global variable */\n\nmain() {\n\n   while(count--) {\n  func();\n}\n\nreturn 0;\n}\n\n/* function definition */\nvoid func( void ) {\n\nstatic int i = 5; /* local static variable */\ni++;\n\nprintf(\"i is %d and count is %d\\n\", i, count);\n}\n</code></pre>\n\n<p>I am looking at the while loop and there is no reason as to why it should stop at 0 however when count reaches 0, it stops. I try to set count as 0, and use -- and it went to -1 so there's no reason why this should stop at 0 from what I can see.</p>\n"}, {"tags": ["c++", "vector"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6935434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b847b3cc6f792bbac4a7888294728dbf?s=128&d=identicon&r=PG&f=1", "display_name": "Magnahawk", "link": "https://stackoverflow.com/users/6935434/magnahawk"}, "edited": false, "score": 0, "creation_date": 1478735592, "post_id": 40517478, "comment_id": 68277549, "body": "I tried this but got the same result.  Would my problem be inside my class file then?"}, {"owner": {"reputation": 9, "user_id": 6935434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b847b3cc6f792bbac4a7888294728dbf?s=128&d=identicon&r=PG&f=1", "display_name": "Magnahawk", "link": "https://stackoverflow.com/users/6935434/magnahawk"}, "edited": false, "score": 0, "creation_date": 1478740832, "post_id": 40517478, "comment_id": 68278836, "body": "Nevermind, it was in my class file. The balance was accidentally a static member. Thank you for your help anyways, I learned something from it!"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 0, "last_activity_date": 1478732635, "creation_date": 1478732635, "answer_id": 40517478, "question_id": 40517428, "link": "https://stackoverflow.com/questions/40517428/c-last-object-of-my-vector-is-overwriting-every-object/40517478#40517478", "title": "C++ Last object of my vector is overwriting every object", "body": "<p>you already set the size of your vector with <code>NUM_OF_ACCOUNTS</code> elements:</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts(NUM_OF_ACCOUNTS);\n</code></pre>\n\n<p>So when you later <code>push_back</code> further elements in your <code>initialize</code> method, it adds to the already existing (empty elements)</p>\n\n<p>BTW you pass the size of the vector whereas it is self-contained. But that's another story.</p>\n\n<p>Simple fix: declare vector as empty at the start:</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1478732658, "creation_date": 1478732658, "answer_id": 40517484, "question_id": 40517428, "link": "https://stackoverflow.com/questions/40517428/c-last-object-of-my-vector-is-overwriting-every-object/40517484#40517484", "title": "C++ Last object of my vector is overwriting every object", "body": "<p><code>vector &lt;SavingsAccount&gt; accounts(NUM_OF_ACCOUNTS);</code> default constructs <code>NUM_OF_ACCOUNTS</code>. Then you push back some more, so you end up with <code>2 * NUM_OF_ACCOUNTS</code> items in your vector.</p>\n\n<p>You then iterate over the first constructed elements. Which are of course not the ones you pushed back.</p>\n\n<p>If you want to reserve memory, do this instead:</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts;\naccounts.reserve(NUM_OF_ACCOUNTS);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1478733077, "creation_date": 1478733077, "answer_id": 40517551, "question_id": 40517428, "link": "https://stackoverflow.com/questions/40517428/c-last-object-of-my-vector-is-overwriting-every-object/40517551#40517551", "title": "C++ Last object of my vector is overwriting every object", "body": "<p>There are several approaches.</p>\n\n<p>Either yoy define an empty vector and the function <code>initializeAccounts</code> appends new elements to the vector like</p>\n\n<pre><code>accounts.push_back(SavingsAccount(balance));\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts;\n\n//Initialize all 5 vectors with input from user\ninitializeAccounts(accounts, NUM_OF_ACCOUNTS);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts;\naccounts.reserve( NUM_OF_ACCOUNTS );\n\n//Initialize all 5 vectors with input from user\ninitializeAccounts(accounts, NUM_OF_ACCOUNTS);\n</code></pre>\n\n<p>Or you define a vector with a given number as for example</p>\n\n<pre><code>vector &lt;SavingsAccount&gt; accounts( NUM_OF_ACCOUNTS );\n\n//Initialize all 5 vectors with input from user\ninitializeAccounts(accounts, NUM_OF_ACCOUNTS);\n</code></pre>\n\n<p>and inside the function you use</p>\n\n<pre><code>accounts[I].balance = balance;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6935434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b847b3cc6f792bbac4a7888294728dbf?s=128&d=identicon&r=PG&f=1", "display_name": "Magnahawk", "link": "https://stackoverflow.com/users/6935434/magnahawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 40517478, "answer_count": 3, "score": -2, "last_activity_date": 1478733162, "creation_date": 1478732388, "last_edit_date": 1478733162, "question_id": 40517428, "link": "https://stackoverflow.com/questions/40517428/c-last-object-of-my-vector-is-overwriting-every-object", "title": "C++ Last object of my vector is overwriting every object", "body": "<p>Here I am trying to create a vector of 5 SavingsAccount objects. Each SavingsAccount has a balance, which the user inputs. My problem is that when I print out the balance, the value of each balance equals whatever was entered last. For example, user inputs 100, 200, 300, etc, my program outputs all 500s instead of each entered balance.</p>\n\n<p>I know there's probably a really simple explanation for this, but I seem to be running out of gas today. My guess is that when I call accounts.push_back, I'm assigning the same object to each element of the vector so that on the last run of the for loop, I'm assigning 5 objects with a balance of 500 into the vector.</p>\n\n<p>If that's the case, I'm not entirely sure how to fix that. Any suggestions, or do I have another problem somewhere?  Thanks in advance.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;vector&gt;\n#include \"SavingsAccount.h\" // SavingsAccount class definition\nusing namespace std;\n\nvoid initializeAccounts(vector&lt;SavingsAccount&gt; &amp;, int);\n\nint main()\n{\n    //Number of accounts\n    const int NUM_OF_ACCOUNTS = 5;\n    //Create vector\n    vector &lt;SavingsAccount&gt; accounts(NUM_OF_ACCOUNTS);\n\n    //Initialize all 5 vectors with input from user\n    initializeAccounts(accounts, NUM_OF_ACCOUNTS);\n\n    //Print out the balances\n    for(int i = 0; i &lt; NUM_OF_ACCOUNTS; i++)\n    {\n        accounts[i].printBalance();\n    }\n\nvoid initializeAccounts(vector&lt;SavingsAccount&gt; &amp;accounts, int accountSize)\n{\n    double balance = 0;\n\n    for(int i = 0; i &lt; accountSize; i++)\n    {\n        cout &lt;&lt; \"Please enter the balance for account \" &lt;&lt; i+1 &lt;&lt; endl;\n        cin &gt;&gt; balance;\n\n        accounts.push_back(SavingsAccount(balance));\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "c++", "apache"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1478732268, "post_id": 40517371, "comment_id": 68276448, "body": "<code>C++ script</code> - never seen one of those - you sure you know your way around C++?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478733821, "post_id": 40517371, "comment_id": 68277008, "body": "In general, server admins are very cautious about executing C++ executables from unknown people on their server.  Have you though about other alternatives such as PHP?"}, {"owner": {"reputation": 9, "user_id": 7058650, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208605661673863/picture?type=large", "display_name": "Pedro Gagliardi", "link": "https://stackoverflow.com/users/7058650/pedro-gagliardi"}, "edited": false, "score": 0, "creation_date": 1478735230, "post_id": 40517371, "comment_id": 68277433, "body": "Sorry!! english is not my first language, and never coded in an interpreted language... Always thought script was a synonym of code! I will look at a PHP alternative! thanks"}], "owner": {"reputation": 9, "user_id": 7058650, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208605661673863/picture?type=large", "display_name": "Pedro Gagliardi", "link": "https://stackoverflow.com/users/7058650/pedro-gagliardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478732081, "creation_date": 1478732081, "question_id": 40517371, "link": "https://stackoverflow.com/questions/40517371/how-to-use-a-forms-input-coded-in-js-to-process-it-with-a-cgi-script", "title": "How to use a form&#39;s input, coded in JS, to process it with a CGI Script?", "body": "<p>A friend of mine is developing a website and ask me for help. I know really little of web development but i do know my ways around c++. Thing is, the web has a form that can be filled by people that want to be contacted. We wanted that the input user provided in the form  is written into a .csv file  which could be open in excel. Also i was trying to do it on an apache server, running on my machine(not sure if apache will be the actual webserver for the finished website). Im afraid i could be asking the wrong question, or overseeing something really simple. I need to know whats the easiest way to take that input and process it with a C++ script. Maybe even avoid the cgi script and doing it on JS ? Sorry for the vague question, need to solve this by monday! </p>\n"}, {"tags": ["c++", "windows", "opencv", "cmake"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1478763969, "post_id": 40517354, "comment_id": 68285212, "body": "So, what root directory for your <i>OpenCV installation</i> is? Root directory is a common prefix for libraries (<code>.dll</code>) and header files (<code>.h</code>) which comes with the package. Check that file <code>OpenCVConfig.cmake</code> exists under that prefix. Also, what do you mean by <code>but it seems cmd doesnt know DCMAKE at all</code>?"}, {"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1478769293, "post_id": 40517354, "comment_id": 68287940, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/39126648/cmake-does-not-find-includes-libraries\">CMake does not find includes / libraries</a>"}], "owner": {"reputation": 1, "user_id": 7138682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e260631155b501307a27d55c94058f?s=128&d=identicon&r=PG&f=1", "display_name": "navia1991", "link": "https://stackoverflow.com/users/7138682/navia1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478763678, "creation_date": 1478732007, "last_edit_date": 1478763678, "question_id": 40517354, "link": "https://stackoverflow.com/questions/40517354/cmake-error-by-not-providing-findopencv-cmake-in-cmake-moudle-path", "title": "Cmake error: by not providing &quot;FindOpenCV.cmake&quot; in CMAKE_MOUDLE_PATH", "body": "<p>When I try to use <code>cmake ..</code>, the Windows cmd points out an error:</p>\n\n<pre><code>CMake Error at CMakeLists.txt:15(find_package):\n  By not providing \"FindOpenCV.cmake\" in CMAKE_MOUDLE_PATH this project has \n  asked CMake to find a package configuration file provided by \"OpenCV\", but\n  CMake did not find one.\n\n  Could not find a package configuration file provided by \"OpenCV\" with any of \n  the following names:\n\n    OpenCVConfig.cmake\n    opencv-config.cmake\n\n  Add the installation prefix of \"OpenCV\" to CMAKE_PREFIX_PATH or set \n  \"OpenCV_DIR\" to a directory containing one of the above files. If \"OpenCV\" \n  provides a separate development package or SDK, be sure it has been installed.\n</code></pre>\n\n<p>And I have searched many possible solutions online but it doesnt work...\nFor example:</p>\n\n<ul>\n<li><p>write in command line <code>cmake -DCMAKE_PREFIX_PATH=\"C:\\OpenCV\" ..</code>\nbut it seems cmd doesnt know DCMAKE at all...</p></li>\n<li><p>or <code>cmake -DOpenCV_DIR=\"C:\\OpenCV\\build\\x86\\vc10\\lib\" ..</code> also doesnt work.</p></li>\n</ul>\n\n<p>I am not sure if those solutions are in Linux or Windows, because my computer is windows7 system... I think the error has explained how to fix it, which is </p>\n\n<blockquote>\n  <p>Add the installation prefix of \"OpenCV\" to CAMKE_PREFIX_PATH or set \"OpenCV_DIR\" to a directory containing one of the above files.</p>\n</blockquote>\n\n<p>but I don't know exactly how to write the command code...\nPlease give me some hint...</p>\n"}, {"tags": ["c++", "qt", "qwidget", "qt-designer"], "comments": [{"owner": {"reputation": 1096, "user_id": 4477125, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JYZmH.jpg?s=128&g=1", "display_name": "Lorence Hernandez", "link": "https://stackoverflow.com/users/4477125/lorence-hernandez"}, "edited": false, "score": 1, "creation_date": 1478741668, "post_id": 40517339, "comment_id": 68279036, "body": "can you show a code that manipulates the vehicle depends on the index?"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1478757846, "post_id": 40517339, "comment_id": 68282729, "body": "Do you need all you dialogs to be non modal? Would you like to be able to show several of them at once?"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1478757901, "post_id": 40517339, "comment_id": 68282745, "body": "Now it doesn&#39;t work because in OnOpenDialog2 vehicle is not NULL, this is why you get never constructed dialogs with other indexes"}], "owner": {"reputation": 1, "user_id": 5310323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7112221f9a639591f5954cde5fcbac41?s=128&d=identicon&r=PG&f=1", "display_name": "Przemys\u0142aw Wojcik", "link": "https://stackoverflow.com/users/5310323/przemys%c5%82aw-wojcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478757439, "creation_date": 1478731927, "last_edit_date": 1478757439, "question_id": 40517339, "link": "https://stackoverflow.com/questions/40517339/a-few-object-of-qt-designer-form-class-is-few-object-few-dialog-window", "title": "A few object of Qt Designer Form Class. Is few object = few dialog window?", "body": "<p>I have a designer form class of some vehicles where constructor holds a index of vehicle:</p>\n\n<pre><code>Vehicle::Vehicle(QWidget *parent, int _index) :\n  QDialog(parent),\n  ui(new Ui::Vehicle)\n{\n  this-&gt;_index = _index;\n}\n</code></pre>\n\n<p>In main class, I create an object of class:</p>\n\n<pre><code>Vehicle* vehicle = NULL;\n</code></pre>\n\n<p>and I have a 10 buttons to open a 10 different dialog class of Vehicles:</p>\n\n<pre><code>void MainWindow::OnOpenDialog1()\n{\n  if(vehicle==NULL)\n    vehicle = new vehicle(this, 0);\n\n  if(vehicle-&gt;isHidden()) {\n    vehicle-&gt;show();\n  }\n  else\n    vehicle-&gt;hide();\n}\n\nvoid MainWindow::OnOpenDialog2()\n{\n  if(vehicle==NULL)\n    vehicle = new vehicle(this, 1);\n\n  if(vehicle-&gt;isHidden()) {\n    vehicle-&gt;show();\n  }\n  else\n    vehicle-&gt;hide();\n}\n.....\n</code></pre>\n\n<p>but in this way I open only one dialog, and other buttons opened the same dialog.</p>\n\n<p>Shuld I create a 10 object of class?</p>\n\n<pre><code>Vehicle* vehicle1 = NULL;\nVehicle* vehicle2 = NULL;\nVehicle* vehicle3 = NULL;\n....\n</code></pre>\n\n<p>I thought I could use a single object class and insert only index in the constructor and the data displayed on one changing form depends on index?</p>\n"}, {"tags": ["c++", "function", "class", "member-functions"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1478731686, "post_id": 40517269, "comment_id": 68276215, "body": "Where is the array? <code>f1</code> is a pointer, not an array."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1478731744, "post_id": 40517269, "comment_id": 68276237, "body": "<code>f1-&gt;function()</code> if it&#39;s a pointer to a single object, or <code>f1[index].function()</code> if it&#39;s a pointer to an array of objects."}, {"owner": {"reputation": 1125, "user_id": 5672740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c16baffcdc08015ed0b3f9dcfd424751?s=128&d=identicon&r=PG&f=1", "display_name": "SenselessCoder", "link": "https://stackoverflow.com/users/5672740/senselesscoder"}, "edited": false, "score": 0, "creation_date": 1478731772, "post_id": 40517269, "comment_id": 68276253, "body": "Nothing different than what you would normally do. Just say Foo *f1 = new Foo[15]; and call their methods."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7138649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed7429da8a7fde1be560a94c0a58fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Rqw9 Pl8gDm", "link": "https://stackoverflow.com/users/7138649/rqw9-pl8gdm"}, "edited": false, "score": 0, "creation_date": 1478732396, "post_id": 40517334, "comment_id": 68276502, "body": "Yeah, Thanks, that&#39;s what I meant. And what if I have a pointer to pointer (A **a) instead of just a pointer?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 27, "user_id": 7138649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed7429da8a7fde1be560a94c0a58fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Rqw9 Pl8gDm", "link": "https://stackoverflow.com/users/7138649/rqw9-pl8gdm"}, "edited": false, "score": 0, "creation_date": 1478732520, "post_id": 40517334, "comment_id": 68276550, "body": "@Rqw9Pl8gDm, you de-reference once more. I suggest you get back to basics. This is material covered in any good c++ book."}, {"owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "edited": false, "score": 0, "creation_date": 1478732671, "post_id": 40517334, "comment_id": 68276610, "body": "for example <code>(*a)-&gt;foo()</code>. But also other ways depending on situation. e.g. <code>a[0][0].foo()</code>. You really have to do some c++ curse before going deeper. :)"}], "tags": [], "owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "is_accepted": false, "score": 0, "last_activity_date": 1478731903, "creation_date": 1478731903, "answer_id": 40517334, "question_id": 40517269, "link": "https://stackoverflow.com/questions/40517269/c-member-function-and-array-of-objects/40517334#40517334", "title": "C++ - member function and array of objects", "body": "<p>Object:</p>\n\n<pre><code>A a;\na.foo()\n</code></pre>\n\n<p>Pointer:</p>\n\n<pre><code>A *a;\na-&gt;foo();\n</code></pre>\n\n<p>Table/\"Array\":</p>\n\n<pre><code>A a[10];\na[0].foo()\n</code></pre>\n\n<p>Those are really basics available in every free c++ course.</p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "is_accepted": false, "score": 0, "last_activity_date": 1478731930, "creation_date": 1478731930, "answer_id": 40517340, "question_id": 40517269, "link": "https://stackoverflow.com/questions/40517269/c-member-function-and-array-of-objects/40517340#40517340", "title": "C++ - member function and array of objects", "body": "<p>try this</p>\n\n<pre><code>int main()\n{\n    Foo arrayOfFoo[5];\n    arrayOfFoo[0].function();\n}\n</code></pre>\n\n<p>This creates 5 objects of type <em>Foo</em> in an array called <em>arrayOfFoo</em>\nThen it performs the method <em>function()</em> on the object at array index 0 in the array <em>arrayOfFoo</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7123138, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158175740943008/picture?type=large", "display_name": "Alokit Jindal", "link": "https://stackoverflow.com/users/7123138/alokit-jindal"}, "is_accepted": false, "score": 0, "last_activity_date": 1478732097, "last_edit_date": 1478732097, "creation_date": 1478731932, "answer_id": 40517341, "question_id": 40517269, "link": "https://stackoverflow.com/questions/40517269/c-member-function-and-array-of-objects/40517341#40517341", "title": "C++ - member function and array of objects", "body": "<p>First you have to create an array of objects . You can do so by <code>Foo f1[100];</code> statement in <code>main</code>. </p>\n\n<p>I chose the random number 100, you can choose any. Also , to access the member function you have to use the dot operator. For e.g. </p>\n\n<pre><code>f1[1].function()\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7138649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed7429da8a7fde1be560a94c0a58fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Rqw9 Pl8gDm", "link": "https://stackoverflow.com/users/7138649/rqw9-pl8gdm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1111, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478732097, "creation_date": 1478731607, "last_edit_date": 1478731691, "question_id": 40517269, "link": "https://stackoverflow.com/questions/40517269/c-member-function-and-array-of-objects", "title": "C++ - member function and array of objects", "body": "<p>When I have a class and create one object, it's simple to call a member function. It's something like this:</p>\n\n<pre><code>class Foo\n{\n    ...\npublic:\n    void function();\n}\n\nvoid Foo::function()\n{\n    ...\n}\n\nint main()\n{\n    Foo f1;\n    f1.function();\n}\n</code></pre>\n\n<p>But how should I call a member function when I'm going to create an array of objects?</p>\n\n<pre><code>class Foo\n{\n    ...\npublic:\n    void function();\n}\n\nvoid Foo::function()\n{\n    ...\n}\n\nint main()\n{\n    Foo *f1;\n    ???\n}\n</code></pre>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 5189, "user_id": 4049658, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc923cb7c9b2d8add8f2f373a8ffe0f5?s=128&d=identicon&r=PG&f=1", "display_name": "user81993", "link": "https://stackoverflow.com/users/4049658/user81993"}, "edited": false, "score": 0, "creation_date": 1478732071, "post_id": 40517284, "comment_id": 68276371, "body": "as to the why - all the members of pineapple are a subgroup of my_struct members that I had to stick in a nested struct because pineapple needs to inherit and implement a 3rd party ui class. Since I couldn&#39;t find a decent synonym for a pineapple, my other option was to add underscores or something to one of the names.. but I didn&#39;t like how it looked  &#175;\\_(\u30c4)_/&#175;"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 5189, "user_id": 4049658, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc923cb7c9b2d8add8f2f373a8ffe0f5?s=128&d=identicon&r=PG&f=1", "display_name": "user81993", "link": "https://stackoverflow.com/users/4049658/user81993"}, "edited": false, "score": 2, "creation_date": 1478732130, "post_id": 40517284, "comment_id": 68276392, "body": "use ananas, please. Or pineapple_t (or _v). Naming things is hard, I know, but not to the point where you have to reuse names in the same scope :P"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 3, "last_activity_date": 1478731656, "creation_date": 1478731656, "answer_id": 40517284, "question_id": 40517242, "link": "https://stackoverflow.com/questions/40517242/if-there-is-a-class-and-a-variable-by-the-same-name-in-the-same-scope-how-to-sp/40517284#40517284", "title": "If there is a class and a variable by the same name in the same scope, how to specify the class?", "body": "<p>Why would you do that to yourself?</p>\n\n<p>Anyhow, you can use the <a href=\"http://en.cppreference.com/w/cpp/language/elaborated_type_specifier\" rel=\"nofollow noreferrer\">elaborated type specifier</a> to disambiguate:</p>\n\n<pre><code>struct my_struct {\n    struct pineapple {};\n    pineapple pineapple;\n\n    my_struct(struct pineapple pineapple) {\n              ^^^^^^\n        this-&gt;pineapple = pineapple;\n    }\n};\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/QuCaMeAzGPP6znpL\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<p>That being said, this is really weird design, I'd avoid it.</p>\n"}], "owner": {"reputation": 5189, "user_id": 4049658, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/cc923cb7c9b2d8add8f2f373a8ffe0f5?s=128&d=identicon&r=PG&f=1", "display_name": "user81993", "link": "https://stackoverflow.com/users/4049658/user81993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40517284, "answer_count": 1, "score": 1, "last_activity_date": 1478731656, "creation_date": 1478731437, "question_id": 40517242, "link": "https://stackoverflow.com/questions/40517242/if-there-is-a-class-and-a-variable-by-the-same-name-in-the-same-scope-how-to-sp", "title": "If there is a class and a variable by the same name in the same scope, how to specify the class?", "body": "<p>picture time!</p>\n\n<pre><code>struct my_struct {\n                ___________ class name (A)\n               \u2193\n    struct pineapple {};\n    pineapple pineapple;\n                 \u2191______________ variable name (B)\n\n                   ____________ seems to be referring to B instead of A\n                  \u2193\n    my_struct(pineapple pineapple) {\n        this-&gt;pineapple = pineapple;\n    }\n};\n</code></pre>\n\n<p>So there is a class and a variable sharing the same name. While this normally doesn't bother c++, in case of function parameters(such as the constructor there), it seems to prefer the name of the local variable over the class. </p>\n\n<p>Is there a way to specify that I mean the class and not the variable?</p>\n"}, {"tags": ["c++", "date", "weekday"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 3, "creation_date": 1478731365, "post_id": 40517192, "comment_id": 68276083, "body": "What happens when you step through it in your debugger?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1478731565, "post_id": 40517192, "comment_id": 68276161, "body": "There is no such thing as a simple program when it comes to dates (go ask jon skeet). That functionality already exists why reinvent it."}, {"owner": {"reputation": 2586, "user_id": 2202018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBVK8.jpg?s=128&g=1", "display_name": "Dan Nagle", "link": "https://stackoverflow.com/users/2202018/dan-nagle"}, "edited": false, "score": 1, "creation_date": 1478731678, "post_id": 40517192, "comment_id": 68276212, "body": "There&#39;s a simple formula for performing the calculation. See <a href=\"https://en.wikipedia.org/wiki/Determination_of_the_day_of_the_week\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Determination_of_the_day_of_the_week</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478731947, "post_id": 40517192, "comment_id": 68276326, "body": "Search the internet for &quot;c++ calculate day of week&quot; to find a plethora of examples."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478731966, "post_id": 40517192, "comment_id": 68276331, "body": "<code>y</code> is already an int. Consequently the cast <code>(int) y&#47; 4</code> is redundant, and <code>(int)y&#47;4 == y&#47;4</code> is always true"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1478796714, "post_id": 40517192, "comment_id": 68305744, "body": "Here is a good collection of low-level date algorithms: <a href=\"http://howardhinnant.github.io/date_algorithms.html\" rel=\"nofollow noreferrer\">howardhinnant.github.io/date_algorithms.html</a>"}, {"owner": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "edited": false, "score": 0, "creation_date": 1478820734, "post_id": 40517192, "comment_id": 68317058, "body": "Thanks for all the comments, they are very much appreciated."}, {"owner": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1478821104, "post_id": 40517192, "comment_id": 68317175, "body": "@Paul Rooney: I am not trying to reinvent a function that already exists, all I did was trying to solve a common problem that did not seem very difficult by myself.   @Dan Nagle: I have seen the formula for the calculation, but as I have already mentioned, I wanted to be inventive rather than just copy something that has already been done. @StoryTeller: Thank you! What I meant to write was: <code>(int) (y&#47;4) == y&#47;4</code>"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "edited": false, "score": 1, "creation_date": 1478732957, "post_id": 40517479, "comment_id": 68276692, "body": "Don&#39;t listen to people that say not to use your own function."}, {"owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "edited": false, "score": 0, "creation_date": 1478732978, "post_id": 40517479, "comment_id": 68276701, "body": "For all we know you area doing this for fun, or for a learning experience."}, {"owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "edited": false, "score": 0, "creation_date": 1478733262, "post_id": 40517479, "comment_id": 68276813, "body": "Also, please bear in mind, that your eventual program will be incorrect as to the day of the week. That is because leap years are tricky things that don&#39;t ALWAYS happen every 4 years. Example leap years don&#39;t happen on year 100 but they do happen on year 400. So yeah, calendars can get tricky really fast. My answer is primarily to help you finds the cause as to why your program is crashing."}, {"owner": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "edited": false, "score": 0, "creation_date": 1478820702, "post_id": 40517479, "comment_id": 68317048, "body": "Thank you, I never even considered that <i>a</i> could be a multiple of seven, I will make sure to look into that."}], "tags": [], "owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "is_accepted": false, "score": 0, "last_activity_date": 1478733372, "last_edit_date": 1478733372, "creation_date": 1478732636, "answer_id": 40517479, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/40517479#40517479", "title": "c++ day of week for given date", "body": "<p>What happens when a number is perfectly divisible by 7?</p>\n\n<p>14 / 7 = 2\n14 % 7 = 0</p>\n\n<p>The modulo operator (% n) will return a number from 0 to n -1</p>\n\n<p>if n is divided by 7 the remainder can never be 7\nso</p>\n\n<pre><code>int b = (a - 2)  % 7;\n    switch (b){\n    case 1:\n        return \"Monday\";\n    case 2:\n        return \"Tuesday\";\n    case 3:\n        return \"Wednesday\";\n    case 4:\n        return \"Thursday\";\n    case 5:\n        return \"Friday\";\n    case 6:\n        return \"Saturday\";\n    case 7:\n        return \"Sunday\";\n    }\n}\n</code></pre>\n\n<p>In this case it can never be Sunday</p>\n\n<p>Try this</p>\n\n<pre><code>int b = (a - 2)  % 7;\n        switch (b){\n        case 0:\n            return \"Sunday\";\n        case 1:\n            return \"Monday\";\n        case 2:\n            return \"Tuesday\";\n        case 3:\n            return \"Wednesday\";\n        case 4:\n            return \"Thursday\";\n        case 5:\n            return \"Friday\";\n        case 6:\n            return \"Saturday\";\n        default:\n            return \"Error\";\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "edited": false, "score": 3, "creation_date": 1478820520, "post_id": 40517482, "comment_id": 68316988, "body": "Thank you for your suggestion, however the whole point of writing this program is to practice programming and try to get a grasp of the syntax of c++. I cannot blame you for suggesting a completely different approach though, since I did not mention this in my post. But if I ever need something like this when writing a more complex program with more experience, I will make sure to consider this method!"}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "reply_to_user": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "edited": false, "score": 0, "creation_date": 1507709712, "post_id": 40517482, "comment_id": 80313986, "body": "One year, ~1800 views, and not a single upvote oO. Just fixed it. @OerllydSaethwr please accept this (or another) answer by clicking the green checkmark near its score."}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 1, "creation_date": 1507709846, "post_id": 40517482, "comment_id": 80314071, "body": "A solution about <code>std::localtime</code> is to make a copy of its return as soon as possible: <code>const std::tm time_out = *std::localtime(&amp;time_temp);</code>."}, {"owner": {"reputation": 663, "user_id": 9868445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBHGw.jpg?s=128&g=1", "display_name": "aderchox", "link": "https://stackoverflow.com/users/9868445/aderchox"}, "edited": false, "score": 0, "creation_date": 1576076194, "post_id": 40517482, "comment_id": 104781981, "body": "@Striezel why are you using mktime? Why not use strftime directly?"}, {"owner": {"reputation": 663, "user_id": 9868445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBHGw.jpg?s=128&g=1", "display_name": "aderchox", "link": "https://stackoverflow.com/users/9868445/aderchox"}, "edited": false, "score": 0, "creation_date": 1576083091, "post_id": 40517482, "comment_id": 104785934, "body": "@Striezel You have also not provided tm_wday, tm_yday, tm_isdst."}, {"owner": {"reputation": 1551, "user_id": 2200999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/81c8fcb039a2f19327cf17581afc17fc?s=128&d=identicon&r=PG", "display_name": "edwinc", "link": "https://stackoverflow.com/users/2200999/edwinc"}, "edited": false, "score": 0, "creation_date": 1597612780, "post_id": 40517482, "comment_id": 112183012, "body": "YSC: while that helps one can still get a corrupted tm"}, {"owner": {"reputation": 1551, "user_id": 2200999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/81c8fcb039a2f19327cf17581afc17fc?s=128&d=identicon&r=PG", "display_name": "edwinc", "link": "https://stackoverflow.com/users/2200999/edwinc"}, "edited": false, "score": 0, "creation_date": 1597613126, "post_id": 40517482, "comment_id": 112183099, "body": "aderchox: tm_wday and tm_yday are ignored by mktime.  tm_isdst is irrelevant when it comes to dates."}], "tags": [], "owner": {"reputation": 3184, "user_id": 6710751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmR1W.jpg?s=128&g=1", "display_name": "Striezel", "link": "https://stackoverflow.com/users/6710751/striezel"}, "is_accepted": false, "score": 20, "last_activity_date": 1478733023, "last_edit_date": 1478733023, "creation_date": 1478732649, "answer_id": 40517482, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/40517482#40517482", "title": "c++ day of week for given date", "body": "<p>First: <strong>Do not write your own function, if there already are standardized functions that can handle the same problem.</strong> Point is that you might easily make a mistake (and I can already see one in the first line of your <code>weekday()</code> function as it is now), whereas implementations of standardized functions have been tested thoroughly and you can be confident that they deliver the result you are expected to get.</p>\n\n<p>That being said, here is a possible approach using <a href=\"http://en.cppreference.com/w/cpp/chrono/c/localtime\" rel=\"noreferrer\">std::localtime</a> and <a href=\"http://en.cppreference.com/w/cpp/chrono/c/mktime\" rel=\"noreferrer\">std::mktime</a>:</p>\n\n<pre><code>#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n  std::tm time_in = { 0, 0, 0, // second, minute, hour\n      9, 10, 2016 - 1900 }; // 1-based day, 0-based month, year since 1900\n\n  std::time_t time_temp = std::mktime(&amp;time_in);\n\n  //Note: Return value of localtime is not threadsafe, because it might be\n  // (and will be) reused in subsequent calls to std::localtime!\n  const std::tm * time_out = std::localtime(&amp;time_temp);\n\n  //Sunday == 0, Monday == 1, and so on ...\n  std::cout &lt;&lt; \"Today is this day of the week: \" &lt;&lt; time_out-&gt;tm_wday &lt;&lt; \"\\n\";\n  std::cout &lt;&lt; \"(Sunday is 0, Monday is 1, and so on...)\\n\";\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 1462891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91f9cbca8215c250ff927841eeef86e?s=128&d=identicon&r=PG", "display_name": "Andy Turfer", "link": "https://stackoverflow.com/users/1462891/andy-turfer"}, "is_accepted": false, "score": 6, "last_activity_date": 1504044309, "creation_date": 1504044309, "answer_id": 45948985, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/45948985#45948985", "title": "c++ day of week for given date", "body": "<p>Your understanding of what constitutes a leap year is incorrect:</p>\n\n<p><em>A leap year is every 4 years <strong>EXCEPT</strong> if it's divisible by 100, <strong>BUT</strong> even then it's still a leap year if it's divisible by 400.</em></p>\n\n<p>A clear and concise explanation of how to calculate the \"day number\" (dn) can be found <a href=\"https://alcor.concordia.ca/~gpkatch/gdate-method.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Once you have the day number (dn), just perform a modulus 7. The result will be the day of week (dow).</p>\n\n<p>Here's an example implementation (doesn't check if date is valid input):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\ntypedef unsigned long ul;\ntypedef unsigned int ui;\n\n// ----------------------------------------------------------------------\n// Given the year, month and day, return the day number.\n// (see: https://alcor.concordia.ca/~gpkatch/gdate-method.html)\n// ----------------------------------------------------------------------\nul CalcDayNumFromDate(ui y, ui m, ui d)\n{\n  m = (m + 9) % 12;\n  y -= m / 10;\n  ul dn = 365*y + y/4 - y/100 + y/400 + (m*306 + 5)/10 + (d - 1);\n\n  return dn;\n}\n\n// ----------------------------------------------------------------------\n// Given year, month, day, return the day of week (string).\n// ----------------------------------------------------------------------\nstd::string CalcDayOfWeek(int y, ul m, ul d)\n{\n  std::string day[] = {\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\"\n  };\n\n  ul dn = CalcDayNumFromDate(y, m, d);\n\n  return day[dn % 7];\n}\n\n// ----------------------------------------------------------------------\n// Program entry point.\n// ----------------------------------------------------------------------\nint main(int argc, char **argv)\n{\n  ui y = 2017, m = 8, d = 29; // 29th August, 2017.\n  std::string dow = CalcDayOfWeek(y, m, d);\n\n  std::cout &lt;&lt; std::setfill('0') &lt;&lt; std::setw(4) &lt;&lt; y &lt;&lt; \"/\";\n  std::cout &lt;&lt; std::setfill('0') &lt;&lt; std::setw(2) &lt;&lt; m &lt;&lt; \"/\";\n  std::cout &lt;&lt; std::setfill('0') &lt;&lt; std::setw(2) &lt;&lt; d &lt;&lt; \": \";\n  std::cout &lt;&lt; dow &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 9245302, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G3lkv4HauyQ/AAAAAAAAAAI/AAAAAAAAARk/a8-mpGNqs5Q/photo.jpg?sz=128", "display_name": "Vivek Mutha", "link": "https://stackoverflow.com/users/9245302/vivek-mutha"}, "is_accepted": false, "score": -2, "last_activity_date": 1517448523, "creation_date": 1517448523, "answer_id": 48554022, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/48554022#48554022", "title": "c++ day of week for given date", "body": "<pre><code>int dayofweek(int day,int month,int year)\n{\n    int arr[] = {0,3,2,5,3,5,1,4,6,2,4};\n    if(month&lt;3)\n        year--;\n    return ((year+year/4-year/100+year/400+arr[month-1]+day)%7);\n}\n\nint main()\n{\n    int day,month,year;\n    cout&lt;&lt;\"Enter the Date for which day of the week need to be find (DD/MM/YYYY).\"&lt;&lt;endl;\n    cin&gt;&gt;day&gt;&gt;month&gt;&gt;year;\n    int x = dayofweek(day,month,year);\n    if(x==0)\n        cout&lt;&lt;\"Sunday\"&lt;&lt;endl;\n    else if(x==1)\n        cout&lt;&lt;\"Monday\"&lt;&lt;endl;\n    else if(x==2)\n        cout&lt;&lt;\"Tuesday\"&lt;&lt;endl;\n    else if(x==3)\n        cout&lt;&lt;\"Wednesday\"&lt;&lt;endl;\n    else if(x==4)\n        cout&lt;&lt;\"Thursday\"&lt;&lt;endl;\n    else if(x==5)\n        cout&lt;&lt;\"Friday\"&lt;&lt;endl;\n    else if(x==6)\n        cout&lt;&lt;\"Saturday\"&lt;&lt;endl;\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3819, "user_id": 4289700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GGKsgSVN_n4/AAAAAAAAAAI/AAAAAAAAAvQ/_IAucbb8ss8/photo.jpg?sz=128", "display_name": "HugoTeixeira", "link": "https://stackoverflow.com/users/4289700/hugoteixeira"}, "is_accepted": false, "score": 5, "last_activity_date": 1532919856, "creation_date": 1532919856, "answer_id": 51586481, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/51586481#51586481", "title": "c++ day of week for given date", "body": "<p>You can use the <a href=\"https://www.boost.org/doc/libs/1_39_0/doc/html/date_time/gregorian.html\" rel=\"noreferrer\">Gregorian Date System</a> from the <a href=\"https://www.boost.org/\" rel=\"noreferrer\">Boost C++ library</a> to find the day of week of a given date. Here is a simple example:</p>\n\n<pre><code>#include &lt;boost/date_time.hpp&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nconst static std::string daysOfWeek[] = {\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n};\n\nint getDayOfWeekIndex(int day, int month, int year) {\n    boost::gregorian::date d(year, month, day);\n    return d.day_of_week();\n}\n\nint main()\n{\n    const int index = getDayOfWeekIndex(30, 07, 2018);\n    std::cout &lt;&lt; daysOfWeek[index] &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>This code prints <code>Monday</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": false, "score": 3, "last_activity_date": 1583640460, "last_edit_date": 1583640460, "creation_date": 1560653390, "answer_id": 56615700, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/56615700#56615700", "title": "c++ day of week for given date", "body": "<p>New answer for old question because the tools they are a changing...</p>\n\n<p>The C++20 spec says the following will have identical functionality to the intention of the code in the question:</p>\n\n<pre><code>#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n    using namespace std;\n    using namespace std::chrono;\n    year_month_day dmy;\n    cin &gt;&gt; parse(\"%d %m %Y\", dmy);\n    cout &lt;&lt; format(\"{:%A}\", weekday{dmy}) &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>One can experiment today with this syntax by using this <a href=\"https://github.com/HowardHinnant/date\" rel=\"nofollow noreferrer\">free, open-source date/time library</a>, except that the date objects are in <code>namespace date</code> instead of <code>namespace std::chrono</code>, and the syntax of the format string is slightly altered.</p>\n\n<pre><code>#include \"date/date.h\"\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n    using namespace std;\n    using namespace date;\n    year_month_day dmy;\n    cin &gt;&gt; parse(\"%d %m %Y\", dmy);\n    cout &lt;&lt; format(\"%A\", weekday{dmy}) &lt;&lt; '\\n';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9281362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abfb076748bcbae540bd7f102cee2fb?s=128&d=identicon&r=PG&f=1", "display_name": "NProg", "link": "https://stackoverflow.com/users/9281362/nprog"}, "is_accepted": false, "score": 1, "last_activity_date": 1612740948, "creation_date": 1612740948, "answer_id": 66094245, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date/66094245#66094245", "title": "c++ day of week for given date", "body": "<p>I had the same problem, and I was able to find a simple solution.</p>\n<p>According to <a href=\"https://www.geeksforgeeks.org/find-day-of-the-week-for-a-given-date/\" rel=\"nofollow noreferrer\">this</a> post:<br>\n&quot;Following is a simple function suggested by <a href=\"https://www.tondering.dk/claus/cal/chrweek.php#calcdow\" rel=\"nofollow noreferrer\">Sakamoto, Lachman, Keith and Craver</a> to calculate day. The following function returns 0 for Sunday, 1 for Monday, etc.&quot;</p>\n<pre><code>int dayofweek(int d, int m, int y)  \n{  \n    static int t[] = { 0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4 };  \n    y -= m &lt; 3;  \n    return ( y + y / 4 - y / 100 + y / 400 + t[m - 1] + d) % 7;  \n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4742207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedf0d5fa00fa2aa2b289d8b6c595f43?s=128&d=identicon&r=PG&f=1", "display_name": "OerllydSaethwr", "link": "https://stackoverflow.com/users/4742207/oerllydsaethwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50774, "favorite_count": 0, "answer_count": 7, "score": 13, "last_activity_date": 1612740948, "creation_date": 1478731196, "last_edit_date": 1478731686, "question_id": 40517192, "link": "https://stackoverflow.com/questions/40517192/c-day-of-week-for-given-date", "title": "c++ day of week for given date", "body": "<p>I am trying to write a simple program in c++ that returns the day of the week for a given date. </p>\n\n<p>The input format is day, month, year. I cannot get it to work with leap years. I tried subtracting one from the <code>a</code> variable when the input year is a leap year, but the program just ends up crashing without an error message. </p>\n\n<p>I would appreciate any suggestions, but please try to remain simple, I am still a beginner. Apologies for the stupid question, and please excuse my mistakes, this is the first time I post on this site.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;cmath&gt;\nusing namespace std;\n\n\nint d;\nint m;\nint y;\n\n\nstring weekday(int d, int m, int y){\n    int LeapYears = (int) y/ 4;\n    long a = (y - LeapYears)*365 + LeapYears * 366;\n    if(m &gt;= 2) a += 31;\n    if(m &gt;= 3 &amp;&amp; (int)y/4 == y/4) a += 29;\n    else if(m &gt;= 3) a += 28;\n    if(m &gt;= 4) a += 31;\n    if(m &gt;= 5) a += 30;\n    if(m &gt;= 6) a += 31;\n    if(m &gt;= 7) a += 30;\n    if(m &gt;= 8) a += 31;\n    if(m &gt;= 9) a += 31;\n    if(m &gt;= 10) a += 30;\n    if(m &gt;= 11) a += 31;\n    if(m == 12) a += 30;\n    a += d;\n    int b = (a - 2)  % 7;\n    switch (b){\n    case 1:\n        return \"Monday\";\n    case 2:\n        return \"Tuesday\";\n    case 3:\n        return \"Wednesday\";\n    case 4:\n        return \"Thursday\";\n    case 5:\n        return \"Friday\";\n    case 6:\n        return \"Saturday\";\n    case 7:\n        return \"Sunday\";\n    }\n}\n\nint main(){\n    cin &gt;&gt; d &gt;&gt; m &gt;&gt; y;\n    cout &lt;&lt; weekday(d, m, y);\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "c", "python-embedding"], "comments": [{"owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "edited": false, "score": 0, "creation_date": 1478731480, "post_id": 40517154, "comment_id": 68276128, "body": "Okay, so if anyone runs into this. Don&#39;t replace your PythonPath with your libs. I think the location of the modules are automagically figured out."}, {"owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "edited": false, "score": 0, "creation_date": 1478735267, "post_id": 40517154, "comment_id": 68277435, "body": "New problem is that I have to use WinPython&#39;s python interpreter located in the root directory for my code to run. How do I use that interpreter rather than the interpreter found one level deeper in the Python directory?"}], "owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478730968, "creation_date": 1478730968, "question_id": 40517154, "link": "https://stackoverflow.com/questions/40517154/python-3-4-c-api-embedding-import-errors-for-modules-that-should-exist", "title": "Python 3.4 C API embedding Import errors for modules that should exist", "body": "<p>I am using <a href=\"http://winpython.sourceforge.net/\" rel=\"nofollow noreferrer\">WinPython's</a> python distribution as my interpreter. It should be able to import all the modules that I need in order to run some example code. I have verified this by running the module using the python.exe included with the distribution.</p>\n\n<p>The problem is that when I set the PythonHome of my variable to be where the python.exe is located and also my PythonPath to the libs folder, then run the module, I am unable to import the modules necessary for the module to run.. My code is shown below..</p>\n\n<pre><code>#include \"Python.h\"\n#include &lt;cwchar&gt;\n#include &lt;string&gt;\n\nint main() {\n\n    wchar_t PythonHome[1024];\n    std::wcsncpy(PythonHome, L\"C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\", 1024);\n\n    wchar_t PythonPath[1024];\n    std::wcsncpy(PythonPath, L\"C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\\\\Lib;C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\\\\Lib\\\\site-packages\", 1024);\n\n    std::string ScriptPath = \"C:\\\\users\\\\jchen114\\\\Lasagne\\\\mnist\\\\mnist.py\";\n\n    Py_SetPythonHome(PythonHome);\n    Py_SetPath(PythonPath);\n\n    Py_Initialize();\n\n    PyObject *pName, *pModule, *pFunc = NULL;\n\n    const char *s = Py_GetVersion();\n    printf(\"v: %s \\n\", s);\n\n    pName = PyUnicode_DecodeFSDefault(\"importlib.machinery\");\n    pModule = PyImport_Import(pName);\n\n\n    if (pModule != NULL) {\n        printf(\"Found module importlib.machinery \\n\");\n        PyObject *f1 = PyObject_GetAttrString(pModule, \"SourceFileLoader\");\n        if (f1) {\n            printf(\"Found SourceFileLoader. \\n\");\n            if (f1 &amp;&amp; PyCallable_Check(f1)) {\n                printf(\"SourceFileLoader  is callable. \\n\");\n\n                PyObject *args = Py_BuildValue(\"ss\", \"mnist\", ScriptPath.c_str());\n                PyObject *SFL = PyObject_CallObject(f1, args);\n\n                if (SFL) {\n                    printf(\"SourceFileLoader called. \\n\");\n                    PyObject *f2 = PyObject_GetAttrString(SFL, \"load_module\");\n                    if (f2) {\n                        printf(\"Load function found \\n\");\n                        if (f2 &amp;&amp; PyCallable_Check(f2)) {\n                            printf(\"Load function callable. \\n\");\n                            PyObject *mnist = PyObject_CallObject(f2, NULL);\n                            if (mnist) {\n                                printf(\"mnist module loaded. \\n\");\n                            }\n                            else {\n                                printf(\"mnist module not loaded. \\n\");\n                                PyErr_Print();\n                            }\n                            Py_XDECREF(mnist);\n                        }\n                    }\n                    else {\n                        printf(\"load function not found. \\n\");\n                    }\n                    Py_XDECREF(f2);\n                }\n                Py_XDECREF(args);\n                Py_XDECREF(SFL);\n            }\n        }\n        else {\n            printf(\"Did not find SourceFileLoader. \\n\");\n        }\n        /*pFunc = PyObject_GetAttrString(pModule, \"main\");\n        if (pFunc &amp;&amp; PyCallable_Check(pFunc)) {\n            printf(\"Found function. \\n\");\n        }*/\n        Py_XDECREF(f1);\n    }\n    else {\n        printf(\"Did not find module. \\n\");\n    }\n\n\n    Py_XDECREF(pName);\n    Py_XDECREF(pModule);\n    Py_XDECREF(pFunc);\n\n    Py_Finalize();\n\n    return 0;\n\n}\n</code></pre>\n\n<p>The module mnist can't be loaded because of this import error:\n<a href=\"https://i.stack.imgur.com/SzrL8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzrL8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not sure if it is because I haven't included all the modules in my python path. Please advise.</p>\n"}, {"tags": ["c++", "data-structures", "struct", "binary-search-tree"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1478731164, "post_id": 40517151, "comment_id": 68275998, "body": "You never initialized <code>t-&gt;entry</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1478731330, "post_id": 40517151, "comment_id": 68276071, "body": "Don&#39;t put spaces around <code>-&gt;</code>, it&#39;s not idiomatic."}, {"owner": {"reputation": 7254, "user_id": 633684, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FILa8kQG7TI/AAAAAAAAAAI/AAAAAAAAABE/W39twkD272Q/photo.jpg?sz=128", "display_name": "xiaofeng.li", "link": "https://stackoverflow.com/users/633684/xiaofeng-li"}, "edited": false, "score": 0, "creation_date": 1478732906, "post_id": 40517151, "comment_id": 68276680, "body": "Especially don&#39;t mix it with <code>&gt;</code> operator. Looks like a train of arrows."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1478731312, "creation_date": 1478731312, "answer_id": 40517215, "question_id": 40517151, "link": "https://stackoverflow.com/questions/40517151/memory-access-violation-insert-struct-within-tree-struct-c/40517215#40517215", "title": "Memory Access Violation Insert Struct Within Tree Struct C++", "body": "<p>you need to initialize <code>t-&gt;entry</code></p>\n\n<pre><code>tree_node *t = new tree_node;\nt-&gt;entry = new IndexEntry;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": true, "score": 0, "last_activity_date": 1478731411, "creation_date": 1478731411, "answer_id": 40517232, "question_id": 40517151, "link": "https://stackoverflow.com/questions/40517151/memory-access-violation-insert-struct-within-tree-struct-c/40517232#40517232", "title": "Memory Access Violation Insert Struct Within Tree Struct C++", "body": "<p>You are dereferencing not initialized pointer. When you do this:</p>\n\n<pre><code>tree_node* t = new tree_node;\n</code></pre>\n\n<p>then compiler will execute default constructor which actually does nothing. <code>t-&gt;entry</code> is not assigned any value and contains garbage.</p>\n\n<p>So later on when you dereference it with:</p>\n\n<pre><code>t -&gt; entry -&gt; recNum = rNum; //right here I get a violation\n</code></pre>\n\n<p>(<code>t -&gt; entry -&gt;</code> is dereference operation), you are getting Undefined Behaviour which in your case results in crash.</p>\n\n<p>The solution is to initialize <code>t -&gt; entry</code> before dereferencing it.</p>\n"}, {"tags": [], "owner": {"reputation": 7254, "user_id": 633684, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FILa8kQG7TI/AAAAAAAAAAI/AAAAAAAAABE/W39twkD272Q/photo.jpg?sz=128", "display_name": "xiaofeng.li", "link": "https://stackoverflow.com/users/633684/xiaofeng-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1478734007, "creation_date": 1478734007, "answer_id": 40517696, "question_id": 40517151, "link": "https://stackoverflow.com/questions/40517151/memory-access-violation-insert-struct-within-tree-struct-c/40517696#40517696", "title": "Memory Access Violation Insert Struct Within Tree Struct C++", "body": "<p>The <code>entry</code> pointer in <code>tree_node</code> is not initialized properly, it's a pointer and it isn't pointing to a valid object. You can initialize it in the constructor, and don't forget to delete it in the destructor.</p>\n\n<pre><code>struct tree_node \n{\n    IndexEntry *entry;\n    tree_node *left;\n    tree_node *right;\n\n    tree_node() :\n        entry(new IndexEntry), // create a new entry object\n        left(NULL), right(NULL)\n    {}\n\n    ~tree_node() \n    {\n        delete entry; // release the memory when we're done\n    }\n};\n</code></pre>\n\n<p>In fact, I don't see why you need to create <code>IndexEntry</code> in the heap in the first place. It seems <code>entry</code> is part of <code>tree_node</code>, so you can simply \"embed\" it in <code>tree_node</code>:</p>\n\n<pre><code>struct tree_node\n{\n    IndexEntry entry; // not a pointer, but an object\n    tree_node *left;\n    tree_node *right;\n};\n</code></pre>\n\n<p>Of course you need to use <code>.</code> when accessing the members of <code>entry</code>:</p>\n\n<pre><code>tree_node *t = new tree_node;\nt-&gt;entry.recNum = rNum;\nt-&gt;entry.acctID = aNum;\nt-&gt;left = NULL;\nt-&gt;right = NULL;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3408267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab9759ba4ca6dcac09f562689882c97e?s=128&d=identicon&r=PG&f=1", "display_name": "user3408267", "link": "https://stackoverflow.com/users/3408267/user3408267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40517232, "answer_count": 3, "score": 0, "last_activity_date": 1478734007, "creation_date": 1478730946, "question_id": 40517151, "link": "https://stackoverflow.com/questions/40517151/memory-access-violation-insert-struct-within-tree-struct-c", "title": "Memory Access Violation Insert Struct Within Tree Struct C++", "body": "<p>I am trying to create a tree of structures and insert my data for the tree nodes into the structure which contains two data holders. My tree/data structures look as such:</p>\n\n<pre><code>class BinarySearchTree\n{\nprivate:\n\nstruct IndexEntry\n{\n    int acctID;   // (key) Account identifier\n    long recNum;  // Record number\n};\n\nstruct tree_node\n{\n    IndexEntry* entry;\n    tree_node* left;\n    tree_node* right;\n};\ntree_node* root;\n\npublic:\nBinarySearchTree()\n{\n    root = NULL;\n}\n\nbool isEmpty() const { return root == NULL; }\nvoid insert(int, int);\nint search(int);\nint treeSearch(tree_node*, int);\n};\n</code></pre>\n\n<p>I am getting a memory access violation at this point in my insert function, and to be honest, this is the first time I'm attempting a tree of structures so I have no clue whether or not it is even a correct insert function to begin with. But here it is:</p>\n\n<pre><code>void BinarySearchTree::insert(int rNum, int aNum)\n{\ntree_node* t = new tree_node;\ntree_node* parent;\nt -&gt; entry -&gt; recNum = rNum; //right here I get a violation\nt -&gt; entry -&gt; acctID = aNum; //but if I remove the assignments\nt -&gt; left = NULL;            //it gives me a violation further down\nt -&gt; right = NULL;\nparent = NULL;\n\nif (isEmpty())\n    root = t;\nelse\n{\n    tree_node* current;\n    current = root;\n    // Find the Node's parent\n    while (current)\n    {\n        parent = current; //This whole block will give me a memory violation\n        if (t -&gt; entry -&gt; recNum &gt; current -&gt; entry -&gt; recNum) \n            current = current -&gt; right;\n        else current = current -&gt; left;\n    }\n\n    if (t -&gt; entry -&gt; recNum &lt; parent -&gt; entry -&gt; recNum)\n        parent -&gt; left = t;\n    else\n        parent -&gt; right = t;\n}\n}\n</code></pre>\n\n<p>Please refer to my comments in the second block of code for the locations of the memory access violations. I'm thinking there is something uninitialized within the code, but I don't really know where it would be or how to initialize it.</p>\n\n<p>Any help or direction would be appreciated!</p>\n"}, {"tags": ["c++", "c++11", "ubuntu", "gcc", "virtualbox"], "comments": [{"owner": {"reputation": 1067, "user_id": 3903983, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45541d803c2a60ad714430e4a4bd0d6?s=128&d=identicon&r=PG&f=1", "display_name": "Fytch", "link": "https://stackoverflow.com/users/3903983/fytch"}, "edited": false, "score": 3, "creation_date": 1478730676, "post_id": 40517065, "comment_id": 68275835, "body": "Is it literally <code>g++--std=c++0x</code>? Then you&#39;d have to insert a space between <code>g++</code> and <code>--std=c++0x</code>."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "reply_to_user": {"reputation": 1067, "user_id": 3903983, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f45541d803c2a60ad714430e4a4bd0d6?s=128&d=identicon&r=PG&f=1", "display_name": "Fytch", "link": "https://stackoverflow.com/users/3903983/fytch"}, "edited": false, "score": 2, "creation_date": 1478730737, "post_id": 40517065, "comment_id": 68275855, "body": "@Fytch: make that an answer."}, {"owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "edited": false, "score": 0, "creation_date": 1478730786, "post_id": 40517065, "comment_id": 68275874, "body": "That is what it is reporting back. I do have a space inbetween. It gives that same error when I do the command g++  --version. So that space is not the issue."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1478730886, "post_id": 40517065, "comment_id": 68275908, "body": "It sounds like you&#39;ve redefined <code>g++</code> with an alias or function, and the alias is missing the space."}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1478731126, "post_id": 40517065, "comment_id": 68275984, "body": "What is the output of <code>which g++</code>?"}, {"owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "reply_to_user": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1478731227, "post_id": 40517065, "comment_id": 68276023, "body": "@paddy /usr/bin/g++"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478731317, "post_id": 40517065, "comment_id": 68276064, "body": "Well, stick to the command that works. The one that doesn&#39;t isn&#39;t too useful."}, {"owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478731410, "post_id": 40517065, "comment_id": 68276098, "body": "@juanchopanza there isn&#39;t a command that works?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1478731433, "post_id": 40517065, "comment_id": 68276105, "body": "What&#39;s the output of <code>type g++</code>"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478731436, "post_id": 40517065, "comment_id": 68276107, "body": "&quot;This worked fine and compiled with no errors&quot; That one. Type it again. Exactly the same."}, {"owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "edited": false, "score": 0, "creation_date": 1478732372, "post_id": 40517065, "comment_id": 68276493, "body": "@juanchopanaza &quot;When I restarted my virtual machine today.....it doesn&#39;t work&quot;"}, {"owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1478732466, "post_id": 40517065, "comment_id": 68276525, "body": "@barmar was correct. My bash alias was incorrect. I am not sure how that happened as I had updated it and it was working fine until today. I didn&#39;t change it inbetween it. It was having trouble loading &quot;metadata&quot; as it was throwing error like crazy when I was re-doing my alias in bashrc."}], "owner": {"reputation": 29, "user_id": 6828718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24fac425eb5a69d7978575c106900f2?s=128&d=identicon&r=PG&f=1", "display_name": "user366839", "link": "https://stackoverflow.com/users/6828718/user366839"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478730829, "creation_date": 1478730497, "last_edit_date": 1478730829, "question_id": 40517065, "link": "https://stackoverflow.com/questions/40517065/ubuntu-terminal-g-std-c0x-command-not-found", "title": "Ubuntu terminal, g++--std=c++0x: command not found", "body": "<p>For school I have to program an Operating systems assignment on an Ubuntu virtual machine. I had the program written and got it to compile correctly yesterday. The program used c++11 librarys and my compiling instruction was:</p>\n\n<pre><code>g++ -std=c++11 O2.cpp -lpthread\n</code></pre>\n\n<p>This worked fine and compiled with no errors. When I restarted my virtual machine today any time I use g++ it gives me the error</p>\n\n<pre><code>g++--std=c++0x: command not found.\n</code></pre>\n\n<p>It does this error even when I do <code>g++ --version</code></p>\n\n<p>I am not real savvy with linux yet but am wondering what I have screwed up/corrupted. I have reinstalled packages but it gives the same error. Even with programs not requiring c++11. Any idea whats going on? Or how to delete the whole compiler and packages and do a fresh install?</p>\n"}, {"tags": ["c++", "random"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1478729533, "post_id": 40516841, "comment_id": 68275415, "body": "When you say they are all the same, do you mean all the numbers are the same in one run or that you get the same set of numbers each time?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1478729670, "post_id": 40516841, "comment_id": 68275467, "body": "Don&#39;t seed with <code>time(0)</code>, seed with <code>operator()</code> off a single instance of <code>std::random_device</code>, Either way, ideally seed only once for your entire process."}, {"owner": {"reputation": 47, "user_id": 7086120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1146647872035502/picture?type=large", "display_name": "Jovi Zhihao Zhou", "link": "https://stackoverflow.com/users/7086120/jovi-zhihao-zhou"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1478729807, "post_id": 40516841, "comment_id": 68275515, "body": "@PaulRooney Every time I generate a different array of random numbers. In this array, there happen to have same numbers(elements). I wonder how can I make every element in this array unique?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1478730021, "post_id": 40516841, "comment_id": 68275600, "body": "@JoviZhihaoZhou is <i>all</i> of this in some function you repeatedly call? If so, see the last sentence of my prior comment (stress the &quot;once&quot;)."}, {"owner": {"reputation": 47, "user_id": 7086120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1146647872035502/picture?type=large", "display_name": "Jovi Zhihao Zhou", "link": "https://stackoverflow.com/users/7086120/jovi-zhihao-zhou"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1478730033, "post_id": 40516841, "comment_id": 68275609, "body": "@WhozCraig do you mean &quot;seed with operator() or a single instance&quot;?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1478730266, "post_id": 40516841, "comment_id": 68275703, "body": "@JoviZhihaoZhou <a href=\"http://ideone.com/nW0gT2\" rel=\"nofollow noreferrer\">I mean <b>both</b></a>. The example linked only seeds the prng <i>once</i> for the entire process, using <code>operator()</code> from a single instance of <code>std::random_device</code>."}, {"owner": {"reputation": 47, "user_id": 7086120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1146647872035502/picture?type=large", "display_name": "Jovi Zhihao Zhou", "link": "https://stackoverflow.com/users/7086120/jovi-zhihao-zhou"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1478730496, "post_id": 40516841, "comment_id": 68275779, "body": "@WhozCraig got you thanks !"}], "answers": [{"tags": [], "owner": {"reputation": 12454, "user_id": 79737, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GaA88.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/79737/jay"}, "is_accepted": true, "score": 2, "last_activity_date": 1478729961, "creation_date": 1478729961, "answer_id": 40516969, "question_id": 40516841, "link": "https://stackoverflow.com/questions/40516841/how-to-use-uniform-real-distribution-to-generate-different-numbers/40516969#40516969", "title": "How to use uniform_real_distribution to generate different numbers?", "body": "<p>That behavior is by design for random number generators. You need to set the 'seed' for the random generator when you start your program.</p>\n\n<p>If you have the C++ extensions @WhozGraig recommends they're best. It's very sloppy but many people use the time() function to get a different number each time the program runs.</p>\n"}], "owner": {"reputation": 47, "user_id": 7086120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1146647872035502/picture?type=large", "display_name": "Jovi Zhihao Zhou", "link": "https://stackoverflow.com/users/7086120/jovi-zhihao-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 40516969, "answer_count": 1, "score": 1, "last_activity_date": 1478729961, "creation_date": 1478729323, "question_id": 40516841, "link": "https://stackoverflow.com/questions/40516841/how-to-use-uniform-real-distribution-to-generate-different-numbers", "title": "How to use uniform_real_distribution to generate different numbers?", "body": "<p>I used default_random_engine to generate a list of different numbers, but they happen to be the same. I wonder to generate different numbers? I know srand() does. But can I use this default engine?</p>\n\n<pre><code>default_random_engine engine{ static_cast&lt;unsigned int&gt;(time(0)) };\nuniform_real_distribution&lt;double&gt;randomNumber{ 50,100 };\nfor(int i=0; i&lt;10;i++){\n  a[i]= randomNumber(engine);\n  }\n</code></pre>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1478729483, "post_id": 40516831, "comment_id": 68275388, "body": "<a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20050530-11/?p=35513\" rel=\"nofollow noreferrer\">You can\u2019t simulate keyboard input with PostMessage</a>.  Even if you could, your code is not accounting for the possibility of the target process having multiple windows, or switching between windows while you are sending keystrokes. More importantly, you are only sending <code>WM_KEYDOWN</code> messages, not any <code>WM_KEYUP</code> messages, you are not sending virtual keycodes, or taking lowercase vs uppercase into account (which requires sending additional keystrokes to handle the shift key)."}, {"owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478729728, "post_id": 40516831, "comment_id": 68275481, "body": "It does work with the hard coded string (just no caps which I need)."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 3, "creation_date": 1478730010, "post_id": 40516831, "comment_id": 68275591, "body": "To simulate uppercase chars, you need to simulate shift key presses.  You really should rethink your approach, though. Don&#39;t use <code>PostMessage()</code> at all, use <code>SendInput()</code> instead. However, it doesn&#39;t allow you to target specific windows, so use <code>WM_SETTEXT</code> or <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee684009.aspx\" rel=\"nofollow noreferrer\">UI Automation</a> instead.  Find the specific target window, and then send your text directly to it, not through simulated keystrokes."}, {"owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478731048, "post_id": 40516831, "comment_id": 68275961, "body": "I&#39;ll include a WM_KEYUP in the function that is a good point, and the shift key as well.  Still would like to understand why it sends letters when hard coded and junk when taking input from argv[]"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478731608, "post_id": 40516831, "comment_id": 68276177, "body": "Well, since you have not bothered showing what your actual input is, or what the &quot;junk&quot; looks like, nobody can tell you why you are seeing what you are seeing."}, {"owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478732165, "post_id": 40516831, "comment_id": 68276415, "body": "Just found something out!  When I execute the program with &quot;regtsm 2256 asdf&quot;  the cmd.exe that I&#39;m targeting shows up with &quot;16&quot; but if I use &quot;regtsm 2256 ASDF&quot; I get &quot;asdf&quot; in the cmd.exe.  I think that will clue me in on what to do."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1478738900, "post_id": 40516831, "comment_id": 68278366, "body": "<code>WM_KEYDOWN</code>/<code>UP</code> sends <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731.aspx\" rel=\"nofollow noreferrer\">virtual key codes</a>, NOT characters (<code>WM_CHAR</code> sends characters instead). ASCII <code>&#39;A&#39;</code> (0x41) is the same value as virtual key <code>VK_A</code>, whereas <code>&#39;a&#39;</code> (0x61) is the same value as <code>VK_NUMPAD1</code>. Likewise, <code>&#39;S&#39;</code> (0x53) = <code>VK_S</code> whereas <code>&#39;s&#39;</code> (0x73) = <code>VK_F4</code>, <code>&#39;D&#39;</code> (0x44) = <code>VK_D</code> whereas <code>&#39;d&#39;</code> (0x64) = <code>VK_NUMPAD4</code>, and <code>&#39;F&#39;</code> (0x46) = <code>VK_F</code> whereas <code>&#39;f&#39;</code> (0x66) = <code>VK_NUMPAD6</code>."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478739023, "post_id": 40516831, "comment_id": 68278396, "body": "The same applies to <code>&quot;WN403A\\r&quot;</code>, where <code>&#39;W&#39;</code> (0x57) = <code>VK_W</code>, <code>&#39;N&#39;</code> (0x4E) = <code>VK_N</code>, <code>&#39;4&#39;</code> (0x34) = <code>VK_4</code>, <code>&#39;0&#39;</code> (0x30) = <code>VK_0</code>, <code>&#39;3&#39;</code> (0x33) = <code>VK_3</code>, <code>&#39;A&#39;</code> (0x41) = <code>VK_A</code>, and <code>&#39;\\r&#39;</code> (0x0D) = <code>VK_RETURN</code>.  Since you are not sending down/up messages for the <code>VK_SHIFT</code> key, you end up with lowercase letters instead of uppercase letters."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "edited": false, "score": 0, "creation_date": 1478735026, "post_id": 40517726, "comment_id": 68277368, "body": "Thanks!  I&#39;ll try that tomorrow."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1478734814, "last_edit_date": 1478734814, "creation_date": 1478734186, "answer_id": 40517726, "question_id": 40516831, "link": "https://stackoverflow.com/questions/40516831/char-wm-keydown-showing-up-as-number-and-no-capitol-letters-when-hard-coded/40517726#40517726", "title": "char WM_KEYDOWN showing up as number and no capitol letters when hard coded", "body": "<p>As Raymond Chen blogged:</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20050530-11/?p=35513\" rel=\"nofollow noreferrer\">You can't simulate keyboard input with PostMessage</a>.</p>\n\n<p>Even if you could do it reliably, your code is NOT:</p>\n\n<ol>\n<li><p>accounting for the possibility of the target process having multiple windows.  Or even that it might switch between windows while you are in the middle of sending keystrokes.  You are sending your key messages to random windows within the process, and even then only to top-level windows, not to any particular child control windows that have keyboard input at the time of the send.</p></li>\n<li><p>sending any <code>WM_KEYUP</code> messages, only <code>WM_KEYDOWN</code> messages.</p></li>\n<li><p>sending virtual key codes.  <code>WM_KEYDOWN</code>/<code>UP</code> do not operate on characters, they operate on key codes and scan codes instead.  <code>WM_CHAR</code>, on the other hand, operates on characters.</p></li>\n<li><p>taking lowercase vs uppercase into account, which requires simulating the <kbd>Shift</kbd> key being held down while sending an uppercase character.</p></li>\n</ol>\n\n<p>You really should rethink your approach.  Don't use <code>PostMessage()</code> at all, you should be using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms646310.aspx\" rel=\"nofollow noreferrer\"><code>SendInput()</code></a> instead.  However, it doesn't allow you to target a specific window, so you would have to use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms632644.aspx\" rel=\"nofollow noreferrer\"><code>WM_SETTEXT</code></a> or even <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee684009.aspx\" rel=\"nofollow noreferrer\">UI Automation</a> to send your text directly to the target window.</p>\n\n<p>That being said, if you insist on using <code>PostMessage()</code>, then try something more like this instead:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;windows.h&gt;\n#include &lt;psapi.h&gt;\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstdio&gt;\n#include &lt;cctype&gt;\n\nstruct MyEnumInfo\n{\n    DWORD dwProcessID;\n    HWND hwndFocus;\n};\n\nBOOL CALLBACK FindFocusedWindow(HWND hwnd, LPARAM lParam)\n{\n    MyEnumInfo *mei = (MyEnumInfo*)lParam;\n\n    DWORD dwPID = 0;\n    DWORD dwThreadID = GetWindowThreadProcessId(hwnd, &amp;dwPID);\n    if (dwPID == mei-&gt;dwProcessID)\n    {\n        GUITHREADINFO gti = {0};\n        gti.cbSize = sizeof(gti);\n        if (GetGUIThreadInfo(dwThreadID, &amp;gti))\n        {\n            mei-&gt;hwndFocus = gti.hwndFocus;\n            if (mei-&gt;hwndFocus)\n                return FALSE;\n        }\n    }\n\n    return TRUE;\n}\n\nHWND SendIt(DWORD dwProcessID, const std::string &amp;text)\n{\n    if (text.empty())\n        return NULL;\n\n    MyEnumInfo mei;\n    mei.dwProcessID = dwProcessID;\n    mei.hwndFocus = NULL;\n\n    EnumWindows(&amp;FindFocusedWindow, (LPARAM)&amp;mei);\n\n    if (!mei.hwndFocus)\n        return NULL;\n\n    LPARAM lParamShift = MapVirtualKey(VK_SHIFT, MAPVK_VK_TO_VSC) &lt;&lt; 16;\n    LPARAM lParamCtrl = MapVirtualKey(VK_CONTROL, MAPVK_VK_TO_VSC) &lt;&lt; 16;\n    LPARAM lParamAlt = MapVirtualKey(VK_MENU, MAPVK_VK_TO_VSC) &lt;&lt; 16;\n\n    for (const char&amp; key : text)\n    {\n        SHORT code = VkKeyScanA(key);\n        BYTE vk = LOBYTE(code);\n        BYTE shift = HIBYTE(code);\n\n        if ((vk != -1) &amp;&amp; (shift != -1))\n        {\n            if (shift &amp; 1) PostMessage(mei.hwndFocus, WM_KEYDOWN, VK_SHIFT, lParamShift);\n            if (shift &amp; 2) PostMessage(mei.hwndFocus, WM_KEYDOWN, VK_CONTROL, lParamCtrl);\n            if (shift &amp; 4) PostMessage(mei.hwndFocus, WM_KEYDOWN, VK_MENU, lParamAlt);\n\n            LPARAM lParamKey = MapVirtualKey(vk, MAPVK_VK_TO_VSC) &lt;&lt; 16;\n            PostMessage(mei.hwndFocus, WM_KEYDOWN, vk, lParamKey);\n            PostMessage(mei.hwndFocus, WM_KEYUP, vk, lParamKey | 0xC0000001);\n\n            if (shift &amp; 1) PostMessage(mei.hwndFocus, WM_KEYUP, VK_SHIFT, lParamShift | 0xC0000001);\n            if (shift &amp; 2) PostMessage(mei.hwndFocus, WM_KEYUP, VK_CONTROL, lParamCtrl | 0xC0000001);\n            if (shift &amp; 4) PostMessage(mei.hwndFocus, WM_KEYUP, VK_MENU, lParamAlt | 0xC0000001);\n        }\n    }\n\n    return mei.hwndFocus;\n}\n\nvoid usage()\n{\n    std::cout &lt;&lt; \"Please provide a PID# and a String of Characters to send to the PID#.\\n\";\n    std::cout &lt;&lt; \"Examples:\\n\";\n    std::cout &lt;&lt; \"RegTSM.exe 16855 WP3C94\\n\";\n    std::cout &lt;&lt; \"RegTSM.exe 16855 \\\"type this into the PID Handle\\\"\\n\";\n    exit(1);\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 3) {\n        usage();\n        return 1;\n    }\n\n    DWORD PID;\n    if (std::sscanf(argv[1], \"%u\", &amp;PID) != 0) {\n        usage();\n        return 1;\n    }\n\n    std::string text = std::string(argv[2]) + \"\\r\";\n    //std::string text = \"WN403A\\r\";\n\n    SendIt(PID, text);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "is_accepted": false, "score": 1, "last_activity_date": 1487182386, "creation_date": 1487182386, "answer_id": 42257076, "question_id": 40516831, "link": "https://stackoverflow.com/questions/40516831/char-wm-keydown-showing-up-as-number-and-no-capitol-letters-when-hard-coded/42257076#42257076", "title": "char WM_KEYDOWN showing up as number and no capitol letters when hard coded", "body": "<p>It's been a while since I visited this project but I wanted to post the code that ended up working.  Thanks to all for comments and education!!</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n#include &lt;psapi.h&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nHWND SendIt (DWORD dwProcessID, const char key)\n{\n    HWND hwnd = NULL;\n    do {\n        hwnd = FindWindowEx(NULL, hwnd, NULL, NULL);\n        DWORD dwPID = 0;\n        DWORD threadId = GetWindowThreadProcessId(hwnd, &amp;dwPID);\n        if (dwPID == dwProcessID) {\n            PostMessage(hwnd, WM_CHAR, (WPARAM)key, 0);\n        }\n    } while (hwnd != 0);\n    return hwnd;\n\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 3) {\n        cout &lt;&lt; \"Please provide a PID# and a String of Charaters to pass to the PID#.\\n\";\n        cout &lt;&lt; \"Examples:\\n\";\n        cout &lt;&lt; \"RegTSM.exe 16855 WP3C94\\n\";\n        cout &lt;&lt; \"RegTSM.exe 16855 \\\"type this into the PID Handle\\\" \\n\";\n        exit(1);\n    }\n    else {\n        DWORD PID;\n        std::string sPID;\n        std::string text;\n        sPID = argv[1];\n        PID = atof(sPID.c_str());\n        text = argv[2];\n        text += \"\\r\";\n\n        for (char &amp; key : text) {\n            SendIt(PID, key);\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6386115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b40547201a42de5187ee4c22626c16?s=128&d=identicon&r=PG&f=1", "display_name": "Jockser", "link": "https://stackoverflow.com/users/6386115/jockser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487182386, "creation_date": 1478729289, "last_edit_date": 1478730265, "question_id": 40516831, "link": "https://stackoverflow.com/questions/40516831/char-wm-keydown-showing-up-as-number-and-no-capitol-letters-when-hard-coded", "title": "char WM_KEYDOWN showing up as number and no capitol letters when hard coded", "body": "<p>I'm writing an app that can send keystrokes to another application.  I have some of it sort of working when I hard code the text that I want to send.  However when I use <code>argv[]</code> to get the text from the arguments list it no longer sends the text and instead numbers or nothing shows up.  I think the problem lies in taking the text from <code>char*</code> and putting it into the <code>std::string</code> before parsing that and sending each char to the function that sends the keystroke to the awaiting application.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n#include &lt;psapi.h&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nHWND SendIt (DWORD dwProcessID, const char key)\n{\n    HWND hwnd = NULL;\n    do {\n        hwnd = FindWindowEx(NULL, hwnd, NULL, NULL);\n        DWORD dwPID = 0;\n        GetWindowThreadProcessId(hwnd, &amp;dwPID);\n        if (dwPID == dwProcessID) {\n            PostMessage(hwnd, WM_KEYDOWN,key, 1);\n        }\n    } while (hwnd != 0);\n    return hwnd;\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 3) {\n        cout &lt;&lt; \"Please provide a PID# and a String of Charaters to pass to the PID#.\\n\";\n        cout &lt;&lt; \"Examples:\\n\";\n        cout &lt;&lt; \"RegTSM.exe 16855 WP3C94\\n\";\n        cout &lt;&lt; \"RegTSM.exe 16855 \\\"type this into the PID Handle\\\" \\n\";\n        exit(1);\n    }\n    else {\n        DWORD PID;\n        std::string sPID;\n        std::string text;\n        sPID = argv[1];\n        PID = atof(sPID.c_str());\n        text = argv[2];\n        text += \"\\r\";\n        //std::string text = \"WN403A\\r\";\n\n        for (char &amp; key : text) {\n            SendIt(PID, key);\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p>If I run the code above and provide the PID of a cmd.exe process and some text like the letter 'a' it will print 1 in the cmd.exe process I targeted.</p>\n\n<p>If I use the commented section <code>std::string text = \"WN403A\\r\";</code> instead as the input to the <code>for (char &amp; key : text)</code> then it will work fine (except for not producing capitol letters, which I need) and type out <code>wn403a</code>.</p>\n\n<ol>\n<li>command line arguments not producing the actual characters provided.</li>\n<li>even when string is hard coded the output to the other cmd.exe window is not in capital letters.</li>\n</ol>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["c++", "integer", "push-back", "2d-vector"], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478730247, "post_id": 40516868, "comment_id": 68275694, "body": "that&#39;s not the problem. <code>nodes[i]</code> is a vector of <i>integers</i>. You cannot insert a vector in it. That&#39;s why <code>push_back</code> fails (and <code>insert</code> compiles but god knows what it does. Segfault here)"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478730373, "post_id": 40516868, "comment_id": 68275739, "body": "@Jean-Fran&#231;oisFabre \u041d\u0449\u0433 You are wrong. It is not a vector that is inserted . It is values of the initializer list that are inserted."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732330, "post_id": 40516868, "comment_id": 68276478, "body": "I still have a doubt, and you obviously did not test that because that <code>nodes[i].insert( nodes[I].end(), {i&#47;c, i%c, -1, -1, 0});</code> does not compile (<code>I</code> is undeclared). Also <code>nodes.insert( nodes.end(), {i&#47;c, i%c, -1, -1, 0});</code> compiles!"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732717, "post_id": 40516868, "comment_id": 68276622, "body": "@Jean-Fran&#231;oisFabre I do not know what you compiled. It is a valid code. Maybe your old compiler does not support C++ 11."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732902, "post_id": 40516868, "comment_id": 68276678, "body": "<code>I</code> is uppercase. It is <i>not</i> valid code. And my compiler supports C++11, and your code compiles (after fixing the <code>I</code> stuff) but doesn&#39;t work. Try printing <code>nodes[0][2]</code> after your insertion you&#39;ll get <code>0</code>. I get <code>-1</code> as expected."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478733174, "post_id": 40516868, "comment_id": 68276771, "body": "@Jean-Fran&#231;oisFabre One again I do not know what you are compiling. This program is valid  #include &lt;iostream&gt; #include &lt;vector&gt;  int main()  { \tstd::vector&lt;std::vector&lt;int&gt;&gt; v( 1 ); \t \tv[0].insert( v[0].end(), { 1, 2, 3, 4, 5 } );  \tfor ( int x : v[0] ) std::cout &lt;&lt; x &lt;&lt; &#39; &#39;; \tstd::cout &lt;&lt; std::endl; \t \treturn 0; }"}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1478729446, "creation_date": 1478729446, "answer_id": 40516868, "question_id": 40516823, "link": "https://stackoverflow.com/questions/40516823/why-cant-i-push-a-vector-of-integers-to-a-2-d-vector-of-integers-in-c/40516868#40516868", "title": "Why can&#39;t I push a vector of integers to a 2-D vector of integers in C++?", "body": "<p>Use method <code>insert</code> instead of <code>push_back</code></p>\n\n<pre><code>nodes[i].insert( nodes[I].end(), {i/c, i%c, -1, -1, 0});\n</code></pre>\n\n<p>But before this you should declare the vector like</p>\n\n<pre><code>vector&lt;vector&lt;int&gt;&gt; nodes (r*c );\n</code></pre>\n\n<p>Otherwise first 5 elements of each subvector will contain zeroes.</p>\n\n<p>Also you can use method <code>assign</code></p>\n\n<pre><code>nodes[i].assign(  {i/c, i%c, -1, -1, 0});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 0, "last_activity_date": 1478730129, "last_edit_date": 1478730129, "creation_date": 1478729644, "answer_id": 40516910, "question_id": 40516823, "link": "https://stackoverflow.com/questions/40516823/why-cant-i-push-a-vector-of-integers-to-a-2-d-vector-of-integers-in-c/40516910#40516910", "title": "Why can&#39;t I push a vector of integers to a 2-D vector of integers in C++?", "body": "<p><code>nodes[i]</code> is a vector of <em>integers</em>. You're trying to append a <em>vector</em> to a vector of integers.</p>\n\n<p>Either do:</p>\n\n<pre><code>nodes.push_back({i/c, i%c, -1, -1, 0});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>nodes[i] = {i/c, i%c, -1, -1, 0};\n</code></pre>\n\n<p>The second solution being the best since you already gave the proper dimension to your vector. No need to add <code>r*c</code> more elements...</p>\n\n<p>in your code, either create empty, and populate with <code>push_back</code>:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;int&gt;&gt; nodes;\nfor(i = 0; i &lt; r*c; i++)\n{        \n   nodes.push_back({i/c, i%c, -1, -1, 0});\n}\n</code></pre>\n\n<p>or create with proper dimension and assign items:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;int&gt;&gt; nodes (r*c, std::vector&lt;int&gt; (5));\nfor(i = 0; i &lt; r*c; i++)\n{        \n   nodes[i] = {i/c, i%c, -1, -1, 0};\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7138551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c34af6ba8268b1aa2ef9b5cb15758e5?s=128&d=identicon&r=PG&f=1", "display_name": "Ishrat", "link": "https://stackoverflow.com/users/7138551/ishrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40516910, "answer_count": 2, "score": 0, "last_activity_date": 1478730129, "creation_date": 1478729229, "last_edit_date": 1478729305, "question_id": 40516823, "link": "https://stackoverflow.com/questions/40516823/why-cant-i-push-a-vector-of-integers-to-a-2-d-vector-of-integers-in-c", "title": "Why can&#39;t I push a vector of integers to a 2-D vector of integers in C++?", "body": "<p>Here is my 2D vector of integers.</p>\n\n<pre><code>vector&lt;vector&lt;int&gt;&gt; nodes (r*c, vector&lt;int&gt; (5));\n</code></pre>\n\n<p>using a for loop I am trying to push_back values in this vector. r and c are passed integers to this function.</p>\n\n<pre><code>for(i = 0; i &lt; r*c; i++)\n\n{        \n       nodes[i].push_back({i/c, i%c, -1, -1, 0});\n\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "linux", "visual-studio", "cross-compiling"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1478730736, "post_id": 40516757, "comment_id": 68275854, "body": "vmware is not a compiler! So you compiled the source code of Visual-Studio?"}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1478731117, "post_id": 40516757, "comment_id": 68275979, "body": "Of course not. As you have read my question I have set up a virtual machine running Linux. Visual studio remotely compiles the files via gcc..."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1478731715, "post_id": 40516757, "comment_id": 68276223, "body": "You should read your headline: &quot;Visual Studio cross compiling with ...&quot;. And pick the language you use. C and C++ are different languages!"}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1478732482, "post_id": 40516757, "comment_id": 68276532, "body": "Thanks for this hint. Didn&#39;t knew that. I have tried both languages and they both produce this error."}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478733270, "post_id": 40517433, "comment_id": 68276816, "body": "Oh okay ^^ I think I mixed it with the &quot;cross platform&quot; tab within vs. Yes, for testing purposes I have created a &quot;hello world&quot; program and when I click on Remote GDB Debugger it builds throws the error but I can run it on my Linux machine."}, {"owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "reply_to_user": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 1, "creation_date": 1478734586, "post_id": 40517433, "comment_id": 68277233, "body": "In the project properties page, Debugging tab, would you try changing the <code>Debugging Mode</code> from <code>gdbserver</code> to <code>gdb</code>, start the application and capture the contents of the Output/Debug window then post them here."}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478776030, "post_id": 40517433, "comment_id": 68292395, "body": "Oh very weird, now it&#39;s working with gdb. c++ and c code. C code also with gcc. I can also set breakpoints.Is there something I am missing like starting the gdbserver or something else?"}, {"owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "reply_to_user": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478779631, "post_id": 40517433, "comment_id": 68294638, "body": "gdbserver uses port 4444"}, {"owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "reply_to_user": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478779933, "post_id": 40517433, "comment_id": 68294809, "body": "finger trouble ... does your Linux system have a firewall of other reason why a network port might be blocked? gdd goes over the ssh connection and therefore uses port 22 which is also used for building and you clearly have open and working. gdbserver uses another free port, usually 4444 but VCLinux could pick another. Try setting the <code>Debugger Port Number</code> in the project properties/Debugging page to a port on the Linux target you know to be open and running with gdbserver again."}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478790461, "post_id": 40517433, "comment_id": 68301568, "body": "I have edit the debugging settings with port = 4444. Then I have written a new entry into iptables to open port 4444 but it still doesn&#39;t work. I have also manual disabled my host (windows) firewall."}, {"owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "reply_to_user": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 1, "creation_date": 1478813586, "post_id": 40517433, "comment_id": 68314251, "body": "Then you&#39;ve got me stumped. But at least you can debug in gdb mode. If you like, you can write up exactly what your system configuration looks like and raise it as an issue on the VCLinux project GitHub site: [<a href=\"https://github.com/Microsoft/VSLinux]\" rel=\"nofollow noreferrer\">github.com/Microsoft/VSLinux]</a>"}, {"owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "edited": false, "score": 0, "creation_date": 1478830807, "post_id": 40517433, "comment_id": 68319616, "body": "Thanks for your help! ... Yea maybe I will do. I tested it with a bananapi running Debian and it works. Even with gdbserver, so maybe it&#39;s because of using VMware. Might be a bug or so."}], "tags": [], "owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1478732400, "creation_date": 1478732400, "answer_id": 40517433, "question_id": 40516757, "link": "https://stackoverflow.com/questions/40516757/visual-studio-cross-compiling-with-gcc-gdb-within-vmware-memory-access-error/40517433#40517433", "title": "Visual Studio cross compiling with gcc/gdb within vmware -&gt; memory access error", "body": "<p>To clarify, VCLinux is not a cross-compiler, it simply builds and executes an application on a target Linux system under the control of Visual Studio. There is no need to run as administrator on the Windows host or root on the Linux target (unless your application needs root permissions and even then it's something to to avoid).</p>\n\n<p>Is there a difference between the \"hosting Linux system\" and the \"virtual machine\" you created. I would expect them to be one and the same but the order in which you refer to them is unusual.</p>\n\n<p>You say that your Visual Studio project is building under VCLinux. So, on the Linux target, was a directory for the project created with a sub-directory <code>bin/x32/Debug</code> (or <code>bin/x64/Debug</code>) with an executable <code>&lt;project name&gt;.out</code> (or similar)? In which case all the basic connecting and communication is working fine.\nWhat happens when you log on to the Linux system and run that executable 1)directly from the command line and 2)under gdb ?</p>\n\n<p>Did you set the project as the VS <code>Startup Project</code> (right-click on project)? Does the \"debug\" button on the VS toolbar show <code>Remote GDB Debugger</code>?</p>\n"}], "owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478732400, "creation_date": 1478728948, "last_edit_date": 1478730970, "question_id": 40516757, "link": "https://stackoverflow.com/questions/40516757/visual-studio-cross-compiling-with-gcc-gdb-within-vmware-memory-access-error", "title": "Visual Studio cross compiling with gcc/gdb within vmware -&gt; memory access error", "body": "<p>I have configured visual studio to compile my files via GCC within Linux over the new Linux compiler feature (cross compiling).</p>\n\n<p>Everything works: VS compiles and also creates the correct files on my hosting Linux system. So I have created a virtual machine. I am now facing the problem that I don't have access to the virtual machines memory I guess.</p>\n\n<p>This message pops up every time I try to run my program:</p>\n\n<h2>Programm</h2>\n\n<pre><code>int main()\n{\n    return 0;\n}\n</code></pre>\n\n<h2>Message</h2>\n\n<pre><code>Warning:\nCannot insert breakpoint -1.\nCannot access memory at address 0x530\n</code></pre>\n\n<p>I thought oh well I just need to run visual studio as admin but did not work.</p>\n"}, {"tags": ["c++", "qt", "tableview", "tablemodel", "qicon"], "comments": [{"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478729495, "post_id": 40516711, "comment_id": 68275394, "body": "Are you sure, that <code>iconProvider.icon(fileInfo);</code> returns valid icon?"}, {"owner": {"reputation": 9, "user_id": 5770889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBOkc57Er-w/AAAAAAAAAAI/AAAAAAAAAEw/hhpcqPeSy_A/photo.jpg?sz=128", "display_name": "Elmy", "link": "https://stackoverflow.com/users/5770889/elmy"}, "reply_to_user": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478729976, "post_id": 40516711, "comment_id": 68275572, "body": "I&#39;ve added <code>icon.isNull()</code> check, but nothing changed. The icon is valid because in this example you could see it - Until window is unwinded to fullscreen."}, {"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478781076, "post_id": 40516711, "comment_id": 68295481, "body": "Are there other problems with fullscreen applications on this machine? If problem is not reproducible on other PC, then it&#39;s not a problem of your code/qt."}, {"owner": {"reputation": 9, "user_id": 5770889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBOkc57Er-w/AAAAAAAAAAI/AAAAAAAAAEw/hhpcqPeSy_A/photo.jpg?sz=128", "display_name": "Elmy", "link": "https://stackoverflow.com/users/5770889/elmy"}, "reply_to_user": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478782845, "post_id": 40516711, "comment_id": 68296591, "body": "@DmitrySazonov No problems until this. I&#39;ve been developing this app on this machine for a year, nothing suspicious happened. I would try to test not only app on other machines, but app with qt dlls from this machine. All of this is rather strange, I&#39;ll be glad if someone pointer out how to debug this. Maybe there is a way to link with qt source and and debug it indepth?"}, {"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478783809, "post_id": 40516711, "comment_id": 68297191, "body": "First - be sure that your application uses same version of Qt on all computers. You need to do this check in runtime, to be sure that correct one is loaded."}, {"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1478784097, "post_id": 40516711, "comment_id": 68297353, "body": "Second - you have a Qt source, so you may use debugger."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 5770889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBOkc57Er-w/AAAAAAAAAAI/AAAAAAAAAEw/hhpcqPeSy_A/photo.jpg?sz=128", "display_name": "Elmy", "link": "https://stackoverflow.com/users/5770889/elmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1479809812, "creation_date": 1479809812, "answer_id": 40739180, "question_id": 40516711, "link": "https://stackoverflow.com/questions/40516711/icon-in-qtdecorationrole-causes-a-crash/40739180#40739180", "title": "Icon in Qt::DecorationRole - causes a crash", "body": "<p>The problem disappeared on a target machine when compiling in newer Qt versions, like 5.6 and 5.7 in both bedug or release and using the same 32 or 64 bit MS VS 2013 compiler.</p>\n"}], "owner": {"reputation": 9, "user_id": 5770889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBOkc57Er-w/AAAAAAAAAAI/AAAAAAAAAEw/hhpcqPeSy_A/photo.jpg?sz=128", "display_name": "Elmy", "link": "https://stackoverflow.com/users/5770889/elmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 731, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479809812, "creation_date": 1478728747, "last_edit_date": 1478729370, "question_id": 40516711, "link": "https://stackoverflow.com/questions/40516711/icon-in-qtdecorationrole-causes-a-crash", "title": "Icon in Qt::DecorationRole - causes a crash", "body": "<p>I'm writing an application with TableView, custom model (QAbstractTableModel descendant) and icons in cells. Firstly i've tried to make an icons cache, but fall into Access Violation (at address 0x0) while expanding main window with table to fullscreen.</p>\n\n<p>Qt version is 5.5.1</p>\n\n<p>Windows 8.1</p>\n\n<p>On another two machines problem is <b>not</b> reproducable.\nThe same .exe file can cause an AV on a target machine and run ok on another two.</p>\n\n<p>What am I doing wrong? How to debug to the source of a problem?</p>\n\n<p>Then i've tried to reproduce the problem and made a simplest application:</p>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QAbstractTableModel&gt;\n#include &lt;QFileIconProvider&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass SimpleTableModel : public QAbstractTableModel\n{\npublic:\n    QFileIconProvider iconProvider;\n\n    int rowCount(const QModelIndex &amp;parent) const;\n    int columnCount(const QModelIndex &amp;parent) const;\n    QVariant data(const QModelIndex &amp;index, int role) const;\n};\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_pushButton_clicked();\n\nprivate:\n    Ui::MainWindow *ui;\n    SimpleTableModel model;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n#include \"filetypeiconprovider.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    ui-&gt;tableView-&gt;setModel(&amp;model);\n}\n\nint SimpleTableModel::rowCount(const QModelIndex &amp;parent) const\n{\n    return 100;\n}\n\nint SimpleTableModel::columnCount(const QModelIndex &amp;parent) const\n{\n    return 5;\n}\n\nQVariant SimpleTableModel::data(const QModelIndex &amp;index, int role) const\n{\n    if (!index.isValid())\n        return QVariant();\n\n\n    switch(role){\n        case Qt::DisplayRole:\n            return QString(\"qwe\");\n            break;\n\n        case Qt::BackgroundRole:\n            if (index.row() % 2)\n                return QBrush(QColor(0xfcf2fb));\n            else\n                return QBrush(0xfcfcf2);\n\n            break;\n\n        case Qt::DecorationRole:\n            //if (index.column() == 0)\n                {\n                    QIcon icon;\n                    QFileInfo fileInfo(\"e:\\\\ss_source\\\\youcam-tutorial.exe\");\n                    icon = iconProvider.icon(fileInfo);\n\n                    return icon;\n\n                }\n            break;\n\n        }\n\n    return QVariant();\n}\n</code></pre>\n\n<p>And This code results in Access Violation while triying to expand the program window to fullscreen:</p>\n\n<pre><code>c:\\work\\build\\qt5_workdir\\w\\s\\qtbase\\src\\gui\\painting\\qtransform.cpp:2047: \u043e\u0448\u0438\u0431\u043a\u0430: Exception at 0x5dd991fc, code: 0xc0000005: read access violation at: 0x0, flags=0x0 (first chance)\n</code></pre>\n\n<p>The stack trace is:</p>\n\n<pre><code>1   QTransform::type    qtransform.cpp  2047    0x5dd991fc  \n2   QRasterPaintEngine::drawImage   qpaintengine_raster.cpp 2202    0x5dd1206b  \n3   QRasterPaintEngine::drawPixmap  qpaintengine_raster.cpp 2052    0x5dd119bb  \n4   QPainter::drawPixmap    qpainter.cpp    5196    0x5dd2dfe2  \n5   QPainter::drawPixmap    qpainter.h  774 0x5da1ee2d  \n6   QPixmapIconEngine::paint    qicon.cpp   178 0x5db21bfd  \n7   QIcon::paint    qicon.cpp   902 0x5db20a7c  \n8   QCommonStyle::drawControl   qcommonstyle.cpp    2186    0x5e46555b  \n9   QWindowsStyle::drawControl  qwindowsstyle.cpp   1864    0x5e4f1648  \n10  QWindowsXPStyle::drawControl    qwindowsxpstyle.cpp 2533    0x5e4da053  \n11  QWindowsVistaStyle::drawControl qwindowsvistastyle.cpp  1470    0x5e4cb7e6  \n12  QStyledItemDelegate::paint  qstyleditemdelegate.cpp 414 0x5e79028e  \n13  QTableViewPrivate::drawCell qtableview.cpp  923 0x5e7224ec  \n14  QTableView::paintEvent  qtableview.cpp  1480    0x5e71c983  \n15  QWidget::event  qwidget.cpp 8831    0x5e41004c  \n16  QFrame::event   qframe.cpp  540 0x5e5767e2  \n17  QAbstractScrollArea::viewportEvent  qabstractscrollarea.cpp 1200    0x5e617ef3  \n18  QAbstractItemView::viewportEvent    qabstractitemview.cpp   1686    0x5e6e73f2  \n19  QAbstractScrollAreaPrivate::viewportEvent   qabstractscrollarea_p.h 102 0x5e3bc678  \n20  QAbstractScrollAreaFilter::eventFilter  qabstractscrollarea_p.h 118 0x5e61b9d9  \n21  QCoreApplicationPrivate::sendThroughObjectEventFilters  qcoreapplication.cpp    1072    0x642d8b03  \n22  QApplicationPrivate::notify_helper  qapplication.cpp    3712    0x5e3c53f2  \n23  QApplication::notify    qapplication.cpp    3681    0x5e3c3575  \n24  QCoreApplication::notifyInternal    qcoreapplication.cpp    965 0x642d8247  \n25  QCoreApplication::sendSpontaneousEvent  qcoreapplication.h  227 0x643f7b08  \n26  QWidgetPrivate::sendPaintEvent  qwidget.cpp 5625    0x5e41713f  \n27  QWidgetPrivate::drawWidget  qwidget.cpp 5569    0x5e416dea  \n28  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5761    0x5e4174ca  \n29  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n30  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n31  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n32  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n33  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n34  QWidgetPrivate::drawWidget  qwidget.cpp 5619    0x5e4170e7  \n35  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5761    0x5e4174ca  \n36  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n37  QWidgetPrivate::drawWidget  qwidget.cpp 5619    0x5e4170e7  \n38  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5761    0x5e4174ca  \n39  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n40  QWidgetPrivate::paintSiblingsRecursive  qwidget.cpp 5748    0x5e4173f5  \n41  QWidgetPrivate::drawWidget  qwidget.cpp 5619    0x5e4170e7  \n42  QWidgetBackingStore::doSync qwidgetbackingstore.cpp 1229    0x5e3d8359  \n43  QWidgetBackingStore::sync   qwidgetbackingstore.cpp 1033    0x5e3d6500  \n44  QWidgetPrivate::syncBackingStore    qwidget.cpp 1904    0x5e418e01  \n45  QWidgetWindow::handleResizeEvent    qwidgetwindow.cpp   705 0x5e444686  \n46  QWidgetWindow::event    qwidgetwindow.cpp   233 0x5e4434a4  \n47  QApplicationPrivate::notify_helper  qapplication.cpp    3716    0x5e3c540e  \n48  QApplication::notify    qapplication.cpp    3160    0x5e3c182e  \n49  QCoreApplication::notifyInternal    qcoreapplication.cpp    965 0x642d8247  \n50  QCoreApplication::sendSpontaneousEvent  qcoreapplication.h  227 0x643f7b08  \n51  QGuiApplicationPrivate::processGeometryChangeEvent  qguiapplication.cpp 2067    0x5da648f7  \n52  QGuiApplicationPrivate::processWindowSystemEvent    qguiapplication.cpp 1593    0x5da64fbd  \n53  QWindowSystemInterface::sendWindowSystemEvents  qwindowsysteminterface.cpp  625 0x5da399d1  \n54  QWindowsGuiEventDispatcher::sendPostedEvents    qwindowsguieventdispatcher.cpp  84  0x63cc4d4d  \n55  qt_internal_proc    qeventdispatcher_win.cpp    416 0x64368a1b  \n56  _InternalCallWinProc    USER32      0x76458e71  \n57  UserCallWinProcCheckWow USER32      0x764590d1  \n58  DispatchMessageWorker   USER32      0x7645a66f  \n59  DispatchMessageW    USER32      0x7645a6e0  \n60  QEventDispatcherWin32::processEvents    qeventdispatcher_win.cpp    818 0x6436946d  \n61  QWindowsGuiEventDispatcher::processEvents   qwindowsguieventdispatcher.cpp  74  0x63cc4c65  \n62  QEventLoop::processEvents   qeventloop.cpp  129 0x642d3fac  \n63  QEventLoop::exec    qeventloop.cpp  204 0x642d41b2  \n64  QCoreApplication::exec  qcoreapplication.cpp    1229    0x642d6872  \n65  QGuiApplication::exec   qguiapplication.cpp 1528    0x5da61848  \n66  QApplication::exec  qapplication.cpp    2977    0x5e3c1489  \n67  main    main.cpp    10  0x138435f   \n68  WinMain qtmain_win.cpp  113 0x13a30ed   \n69  __tmainCRTStartup   crtexe.c    618 0x13a24cf   \n70  WinMainCRTStartup   crtexe.c    466 0x13a228d   \n71  BaseThreadInitThunk KERNEL32        0x74c97c04  \n72  __RtlUserThreadStart    ntdll       0x773ead1f  \n73  _RtlUserThreadStart ntdll       0x773eacea  \n</code></pre>\n"}, {"tags": ["c++", "recursion", "warnings", "binary-search-tree"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1478726934, "post_id": 40516274, "comment_id": 68274334, "body": "Not all pathes in <code>Tree::findNodeByKeyHelper()</code> return a value obviously."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1478726943, "post_id": 40516274, "comment_id": 68274340, "body": "&quot;<i>not all control paths return a value</i>&quot;. Search for a path that doesn&#39;t end in a <code>return</code> statement."}, {"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 0, "creation_date": 1478727656, "post_id": 40516274, "comment_id": 68274674, "body": "I just don&#39;t understand where I don&#39;t return the value. That&#39;s the problem, otherwise I wouldn&#39;t ask this question."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1478727755, "post_id": 40516274, "comment_id": 68274710, "body": "@kekyc The statement <code>findNodeByKeyHelper(node-&gt;left, str);</code> doesn&#39;t return a value, unless you explicitly say it: <code>return findNodeByKeyHelper(node-&gt;left, str);</code>"}, {"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478728992, "post_id": 40516274, "comment_id": 68275193, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Just added <code>return</code> to 2 <code>findNodeByKeyHelper()</code> calls. Got the same situation. Compiler still tells me &quot;not all control paths return a value&quot;."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1478729243, "post_id": 40516274, "comment_id": 68275297, "body": "I rolled back your last edit, because it removed the problem from the code. Solutions should be in answers, not edited into the question. Readers need to be able to see what the original problem was and how the answer fixed it."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1478729249, "post_id": 40516274, "comment_id": 68275299, "body": "@kekyc though it may not seem logical to you, there is <i>still</i> a path that doesn&#39;t return a value. if <code>str</code> answers false to all three comparison operators (they&#39;re overloads), you wind up at the bottom of the function with no return result. See if you can lose the last comparison and just make it an <code>else {</code>"}, {"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1478729313, "post_id": 40516274, "comment_id": 68275327, "body": "@WhozCraig you&#39;re certainly right. Thank you for your answer:)"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 0, "creation_date": 1478728117, "post_id": 40516550, "comment_id": 68274856, "body": "Oh. You&#39;re certainly right, thank you very much! But as I thought, my recursion should anyway end in case of &quot;element was not found&quot; or &quot;node was found&quot;. Am I right?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 1, "creation_date": 1478728221, "post_id": 40516550, "comment_id": 68274896, "body": "@kekyc In some level of the seach the function indeed will return either a node or nullpt to the preceding levelr. But on the preceding level the function will return nothing."}, {"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 0, "creation_date": 1478728338, "post_id": 40516550, "comment_id": 68274943, "body": "Indeed... Thanks for your explanation!:)"}, {"owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 0, "creation_date": 1478728662, "post_id": 40516550, "comment_id": 68275079, "body": "Hrm. Just added <code>return</code> to 2 <code>findNodeByKeyHelper()</code> calls as you adviced. But I got the same situation. Compiler still tells me &quot;not all control paths return a value&quot;."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "edited": false, "score": 1, "creation_date": 1478729032, "post_id": 40516550, "comment_id": 68275207, "body": "@kekyc Substitute the last else-if to else."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 2, "last_activity_date": 1478729256, "last_edit_date": 1478729256, "creation_date": 1478727955, "answer_id": 40516550, "question_id": 40516274, "link": "https://stackoverflow.com/questions/40516274/what-path-doesnt-return-the-value/40516550#40516550", "title": "What path doesn&#39;t return the value?", "body": "<p>These paths</p>\n\n<pre><code>else if (str &lt; node-&gt;data) {\n    if (node-&gt;left == nullptr) {\n        cout &lt;&lt; \"element was not found\" &lt;&lt; endl;\n        return nullptr;\n    }\n    else {\n        findNodeByKeyHelper(node-&gt;left, str);\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    }\n}\n else if (str &gt; node-&gt;data) {\n    if (node-&gt;right == nullptr) {\n        cout &lt;&lt; \"element was not found\" &lt;&lt; endl;\n        return nullptr;\n    }\n    else {\n        findNodeByKeyHelper(node-&gt;right, str);\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    }\n}\n</code></pre>\n\n<p>return nothing.</p>\n\n<p>You should insert the return keyword. For example</p>\n\n<pre><code>        return findNodeByKeyHelper(node-&gt;right, str);\n</code></pre>\n\n<p>And substitute the last <code>else-if</code> for <code>else</code>. For example</p>\n\n<pre><code>if (node-&gt;data == str) {\n    //...\n}\n else if (str &lt; node-&gt;data) {\n    //...\n}\n else  {\n ^^^^^^^\n    //...\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 5477731, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ce47ab58fd759c27ca0f72ccc85a8c5?s=128&d=identicon&r=PG&f=1", "display_name": "kekyc", "link": "https://stackoverflow.com/users/5477731/kekyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 40516550, "answer_count": 1, "score": -2, "last_activity_date": 1478729256, "creation_date": 1478726722, "last_edit_date": 1478729194, "question_id": 40516274, "link": "https://stackoverflow.com/questions/40516274/what-path-doesnt-return-the-value", "title": "What path doesn&#39;t return the value?", "body": "<p>I have a function to find the node in BST by its string key, using recursion.\nI'm getting the warning for second function : c4715 \"not all control paths return a value\". I can't understand what exactly path doesn't return the value..</p>\n\n<p>Here's my functions:</p>\n\n<pre><code>TreeNode* Tree::findNodeByKey(const string &amp;str) {\n    if (root == NULL) {\n        cout &lt;&lt; \"Tree is empty, nothing found\" &lt;&lt; endl;\n        return nullptr;\n    }\n\n    else {\n        return findNodeByKeyHelper(root, str);\n    }\n}\n\nTreeNode* Tree::findNodeByKeyHelper(TreeNode *node, const string &amp;str) {\n    if (node-&gt;data == str) {\n        cout &lt;&lt; \"node is found\" &lt;&lt; endl;\n        return node;\n    }\n     else if (str &lt; node-&gt;data) {\n        if (node-&gt;left == nullptr) {\n            cout &lt;&lt; \"element was not found\" &lt;&lt; endl;\n            return nullptr;\n        }\n        else {\n            findNodeByKeyHelper(node-&gt;left, str);\n        }\n    }\n     else if (str &gt; node-&gt;data) {\n        if (node-&gt;right == nullptr) {\n            cout &lt;&lt; \"element was not found\" &lt;&lt; endl;\n            return nullptr;\n        }\n        else {\n            findNodeByKeyHelper(node-&gt;right, str);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-c++", "console"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 4067248, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e1e23b48af42b6148b21d5d5a5cf84ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Ganichev", "link": "https://stackoverflow.com/users/4067248/dimitar-ganichev"}, "edited": false, "score": 0, "creation_date": 1478729771, "post_id": 40516569, "comment_id": 68275500, "body": "Thank you! I got the logic  partially but that symbol &#39;**&#39; and &#39;&lt;&#39; here <code>in_small_circle_upper_y = x**2+(y-mediumCircleRadius)**2 &lt; smallCircleRadius**2</code> for example what means because I do not know Python at all?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 77, "user_id": 4067248, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e1e23b48af42b6148b21d5d5a5cf84ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Ganichev", "link": "https://stackoverflow.com/users/4067248/dimitar-ganichev"}, "edited": false, "score": 0, "creation_date": 1478729914, "post_id": 40516569, "comment_id": 68275555, "body": "<code>**2</code> is square. I don&#39;t use square root, I compare the squared distance."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1478728052, "creation_date": 1478728052, "answer_id": 40516569, "question_id": 40516222, "link": "https://stackoverflow.com/questions/40516222/determining-a-point-on-the-yin-yang/40516569#40516569", "title": "Determining a point on the Yin Yang", "body": "<p>I think I got the logic figured out, in python, so you'll have to port it, but you'll get the idea:</p>\n\n<pre><code>smallCircleRadius = 1\nmediumCircleRadius = 3\nbigCircleRadius = 6\n\ndef yytest(x,y):\n    print(x,y,)\n\n    in_big_circle = ((x**2)+(y**2)) &lt; bigCircleRadius**2\n\n    in_small_circle_upper_y = x**2+(y-mediumCircleRadius)**2 &lt; smallCircleRadius**2\n    in_small_circle_lower_y = x**2+(y+mediumCircleRadius)**2 &lt; smallCircleRadius**2\n\n    in_medium_circle_upper_y = x**2+(y-mediumCircleRadius)**2 &lt; mediumCircleRadius**2\n    in_medium_circle_lower_y = x**2+(y+mediumCircleRadius)**2 &lt; mediumCircleRadius**2\n\n    in_left_quadrant = x &lt; 0\n\n    if in_big_circle:\n        if in_left_quadrant:\n            if (not in_medium_circle_lower_y or in_small_circle_lower_y) and not in_small_circle_upper_y:\n                return(\"good\")\n            else:\n                return(\"evil\")\n        else:\n            # right quadrant\n            if (not in_medium_circle_upper_y or in_small_circle_upper_y) and not in_small_circle_lower_y:\n                return(\"evil\")\n            else:\n                return(\"good\")\n\n    else:\n        return(\"neutral\")\n\nprint(yytest(1,1))     # good\nprint(yytest(10,10))   # neutral\nprint(yytest(-0.5,3))  # evil\nprint(yytest(2,-2))  # evil\n</code></pre>\n\n<p>basically you have to compute flags about point in or not in the circles, then the quadrant (left or right) and combine the flags. The drawing helps a lot here :)</p>\n"}, {"tags": [], "owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "is_accepted": false, "score": 2, "last_activity_date": 1478744796, "creation_date": 1478744796, "answer_id": 40519070, "question_id": 40516222, "link": "https://stackoverflow.com/questions/40516222/determining-a-point-on-the-yin-yang/40519070#40519070", "title": "Determining a point on the Yin Yang", "body": "<p>Here's how you would do it in C++.  That is, if your assignment called for dumping ASCII art instead of this \"good\" and \"evil\" thing.  But it will be trivial to adapt <code>GetYyZone</code> to your needs.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n\n// GetYyZone returns the color corresponding to a point:\n// +1 for one color, -1 for its opposite and 0 for points outside the figure\nint GetYyZone(double x, double y, double radius=6) {\n    // Calculate sub-radii\n    const double med_radius = radius / 2;     // always half the major radius\n    const double sm_radius  = med_radius / 3; // anything smaller than the medium radius\n\n    // check for points outside the main disk, returing 0 if so.\n    if(x*x + y*y &gt; radius*radius) return 0;\n\n    // d_xl_sq is the squared distance from the point to its sub-center\n    const double d_xl_sq = x*x + y*y - std::fabs(y)*med_radius*2 + med_radius*med_radius;\n    if(d_xl_sq &lt; sm_radius*sm_radius)   return y &gt; 0 ? -1 :  1;\n    if(d_xl_sq &lt; med_radius*med_radius) return y &gt; 0 ?  1 : -1;\n    return x &gt; 0 ? -1 : 1;\n}\n\nint main() {\n    // This calls GetYyZone to select characters for ASCII art\n    const int cols = 75;\n    const int rows = 36;\n    for(int j=0; j&lt;rows; ++j) {\n        for(int i=0; i&lt;cols; ++i) {\n            const double x = (2.0/(cols - 1) * i - 1) * 6.5;\n            const double y = (2.0/(rows - 1) * j - 1) * -6.5;\n            const int zone = GetYyZone(x, y);\n            std::cout &lt;&lt; (zone == 0 ? '+' : zone == -1 ? '#' : ' ');\n        }\n        std::cout &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n++++++++++++++++++++++++++++                ###++++++++++++++++++++++++++++\n++++++++++++++++++++++                          #####++++++++++++++++++++++\n+++++++++++++++++++                               ######+++++++++++++++++++\n++++++++++++++++                                    #######++++++++++++++++\n++++++++++++++                                       ########++++++++++++++\n++++++++++++                       #####              #########++++++++++++\n++++++++++                       #########            ###########++++++++++\n++++++++                        ###########            ############++++++++\n+++++++                         ###########            #############+++++++\n++++++                           #########            ###############++++++\n+++++                               ###               ################+++++\n+++++                                                #################+++++\n++++                                                ###################++++\n++++                                              #####################++++\n+++                                            #########################+++\n+++                                        #############################+++\n+++                             ########################################+++\n+++                         ############################################+++\n++++                     ##############################################++++\n++++                   ################################################++++\n+++++                 ################################################+++++\n+++++                ###############   ###############################+++++\n++++++               ############         ###########################++++++\n+++++++             ############           #########################+++++++\n++++++++            ############           ########################++++++++\n++++++++++           ############         #######################++++++++++\n++++++++++++         ##############     #######################++++++++++++\n++++++++++++++        #######################################++++++++++++++\n++++++++++++++++       ####################################++++++++++++++++\n+++++++++++++++++++      ###############################+++++++++++++++++++\n++++++++++++++++++++++     ##########################++++++++++++++++++++++\n++++++++++++++++++++++++++++   ################++++++++++++++++++++++++++++\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4067248, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e1e23b48af42b6148b21d5d5a5cf84ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Ganichev", "link": "https://stackoverflow.com/users/4067248/dimitar-ganichev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 40516569, "answer_count": 2, "score": 0, "last_activity_date": 1478744796, "creation_date": 1478726450, "question_id": 40516222, "link": "https://stackoverflow.com/questions/40516222/determining-a-point-on-the-yin-yang", "title": "Determining a point on the Yin Yang", "body": "<p>I have to invent an algorithm which when we enter two coordinates (x,y) in the console the result to be if the point with that coordinates lay in the black part of picture either white or on the border. If you can help me would be great.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MeZIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MeZIz.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I started with the smallest circles and do that but I have no idea how to continue.</p>\n\n<pre><code>     double x;\n     double y;\n\n     const int smallCircleRadius = 1;\n     const int mediumCircleRadius = 3;\n     const int bigCircleRadius = 6;\n\n     cin &gt;&gt; x &gt;&gt; y;\n\n    double d1 = sqrt(pow(abs(x - 0),2) + pow(abs(y - 3),2));\n    double d2 = sqrt(pow(abs(x - 0),2) + pow(abs(y + 3),2));\n    if(d1 &lt; smallCircleRadius)\n    {\n        cout&lt;&lt;\"Evil\";\n    }\n    else if(d2 &lt; smallCircleRadius)\n    {\n        cout&lt;&lt;\"Good\";\n    }\n    if(d1 == smallCircleRadius || d2 == smallCircleRadius)\n    {\n        cout&lt;&lt;\"Neutral\";\n    }\n</code></pre>\n"}, {"tags": ["c++", "function", "call", "header-files"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478725593, "post_id": 40515989, "comment_id": 68273691, "body": "Do you really need classes for this?"}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478725674, "post_id": 40515989, "comment_id": 68273723, "body": "No, I wanted to make them into classes in case I needed/wanted to use them again"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1478725702, "post_id": 40515989, "comment_id": 68273739, "body": "but you can use functions again."}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478725739, "post_id": 40515989, "comment_id": 68273758, "body": "Yes, but I dont want to have a single class with all the sorting methods"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1478725766, "post_id": 40515989, "comment_id": 68273768, "body": "Why would you even need a single class?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1478725827, "post_id": 40515989, "comment_id": 68273802, "body": "Sounds like you should use a <code>namespace</code> instead of a <code>class</code>."}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478725842, "post_id": 40515989, "comment_id": 68273813, "body": "While I agree with @juanchopanza that classes aren&#39;t really needed here, we also can&#39;t really help you make the class you do have work without some code to figure out what you&#39;ve done.  Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "edited": false, "score": 0, "creation_date": 1478725860, "post_id": 40515989, "comment_id": 68273823, "body": "Because Im a student and may not know of better methods"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478725907, "post_id": 40515989, "comment_id": 68273848, "body": "It is easy. Simply don&#39;t write any classes if you don&#39;t need them (and it looks like you don&#39;t.)"}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "edited": false, "score": 0, "creation_date": 1478725987, "post_id": 40515989, "comment_id": 68273881, "body": "If I do not use classes, then how do I include them in this and other projects?"}, {"owner": {"reputation": 947, "user_id": 2498017, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1126f45702ed17516dde090229f9de74?s=128&d=identicon&r=PG", "display_name": "Richard Barker", "link": "https://stackoverflow.com/users/2498017/richard-barker"}, "edited": false, "score": 0, "creation_date": 1478726020, "post_id": 40515989, "comment_id": 68273891, "body": "Use an interface! Implement the interface in each of your classes and use them by their interface type. No overloading, and its a single method within each of the sorting classes."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478726037, "post_id": 40515989, "comment_id": 68273899, "body": "You don&#39;t include classes. You include header files. And header files can contain any legal c++ code, not just classes."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478726041, "post_id": 40515989, "comment_id": 68273906, "body": "Using classes makes no difference re. including code in projects. Maybe best to read an introductory C++ book."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 947, "user_id": 2498017, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1126f45702ed17516dde090229f9de74?s=128&d=identicon&r=PG", "display_name": "Richard Barker", "link": "https://stackoverflow.com/users/2498017/richard-barker"}, "edited": false, "score": 1, "creation_date": 1478726162, "post_id": 40515989, "comment_id": 68273954, "body": "@RichardBarker, If you refer to virtual functions and inheritance, that&#39;s unnecessary overhead. A templated solution will allow for more optimization venues by the compiler."}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "edited": false, "score": 0, "creation_date": 1478727716, "post_id": 40515989, "comment_id": 68274697, "body": "Ok, I have updated my question to address and correct some mistakes I made in writing it down."}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1478728012, "post_id": 40515989, "comment_id": 68274810, "body": "And why can&#39;t you just call one function <code>insertion_sort()</code> and another <code>bubble_sort()</code> and so forth?"}, {"owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "edited": false, "score": 0, "creation_date": 1478728320, "post_id": 40515989, "comment_id": 68274933, "body": "yes by having the functions have different names this no longer becomes an issue, but I have gone this far and would like to try and solve it using this route. It should be something simple that I need to add to the function call, but I cant seem to figure out what it is."}], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 2498017, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1126f45702ed17516dde090229f9de74?s=128&d=identicon&r=PG", "display_name": "Richard Barker", "link": "https://stackoverflow.com/users/2498017/richard-barker"}, "is_accepted": false, "score": 0, "last_activity_date": 1478725683, "creation_date": 1478725683, "answer_id": 40516049, "question_id": 40515989, "link": "https://stackoverflow.com/questions/40515989/when-including-classes-and-they-have-same-name-functions-no-overloading/40516049#40516049", "title": "When including classes and they have same name functions (no overloading)", "body": "<p>Since your classes all use the same method signature you should use an interface for that method. Then you can easily use the sorting object (that is, your concrete classes) with the interface type and call the method. This is why interfaces exist in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "is_accepted": false, "score": -1, "last_activity_date": 1478728885, "creation_date": 1478728885, "answer_id": 40516746, "question_id": 40515989, "link": "https://stackoverflow.com/questions/40515989/when-including-classes-and-they-have-same-name-functions-no-overloading/40516746#40516746", "title": "When including classes and they have same name functions (no overloading)", "body": "<p>Ok so before your edit. I came up with this as a way to have them all in different classes. Which from the comments to your question, you can see is pretty wasteful and not a best practice.</p>\n\n<pre><code>#include &lt;vector&gt;\n\nusing namespace std;\n\nclass InsertionSort1\n{\n    public:\n        void sort(vector&lt;int&gt; &amp;theVector)\n        {\n            //sort implementation 1\n        }\n};\n\nclass InsertionSort2 \n{\n    public:\n        void sort(vector&lt;int&gt; &amp;theVector)\n        {\n            //sort implementation 2\n        }\n};\n\nclass InsertionSort3\n{\n    public:\n        void sort(vector&lt;int&gt; &amp;theVector)\n        {\n            //sort implementation 3\n        }\n};\n\nclass InsertionSort4\n{\n    public:\n        void sort(vector&lt;int&gt; &amp;theVector)\n        {\n            //sort implementation 4\n        }\n};\n\nint main()\n{\n    vector&lt;int&gt; vector1 = {/*elements*/};\n    vector&lt;int&gt; vector2 = {/*elements*/};\n    vector&lt;int&gt; vector3 = {/*elements*/};\n    vector&lt;int&gt; vector4 = {/*elements*/};\n\n    InsertionSort1 algorithm1;\n    InsertionSort2 algorithm2;\n    InsertionSort3 algorithm3;\n    InsertionSort4 algorithm4;\n\n    algorithm1.sort(vector1);\n    algorithm2.sort(vector2);\n    algorithm3.sort(vector3);\n    algorithm4.sort(vector4);\n\n    //examine vectors to see differences\n}\n</code></pre>\n\n<p>If you can post your code into your question perhaps I can update my answer to better help you.</p>\n"}], "owner": {"reputation": 312, "user_id": 6891471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152816624450894/picture?type=large", "display_name": "Fering", "link": "https://stackoverflow.com/users/6891471/fering"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1478728885, "creation_date": 1478725445, "last_edit_date": 1478727668, "question_id": 40515989, "link": "https://stackoverflow.com/questions/40515989/when-including-classes-and-they-have-same-name-functions-no-overloading", "title": "When including classes and they have same name functions (no overloading)", "body": "<p>I am working on an assignment. The goal of the assignment is to have 4 different sorting algorithms and compare them to determine when one is better than another.  I have decided to create each sorting method as its own class and pass into the class the vector that is to be sorted. </p>\n\n<p>Since each of these classes will be included and have identical parameters (so no overloading), how can I specify which sort function I wish to call? I have tried doing </p>\n\n<ul>\n<li><p>insertionsort.sort(insertvec);       //error: insertionsort not declared</p></li>\n<li><p>insertionsort::sort(insertvec);      //error: insertionsort not declared</p></li>\n<li><p>sort(insertvec);             //works</p></li>\n<li><p>insertionsort->sort(insertvec);  //error: insertionsort not declared</p></li>\n</ul>\n\n<p>All the classes are using namespace std as I do not see how changing the namespace would help. Yes I have a weak working knowledge of namespace.</p>\n\n<p>UPDATE:</p>\n\n<p>Ok, bad choice of terms. I am not using classes. I was thinking of classes as being cpp and h files, which is not accurate. I have not written the sorting algorithms as classes, only as functions written in a cpp but accessed by the header file, which are included and are called. </p>\n\n<p>So how do I tell the compiler that I want the merge.sort() instead of the insertion.sort()?</p>\n"}, {"tags": ["c++", "pointers", "copy-constructor", "deep-copy"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 4, "creation_date": 1478724595, "post_id": 40515741, "comment_id": 68273168, "body": "are you forced to use manual dynamic allocation? If not you should use a <code>std::vector&lt;string&gt;</code> instead of <code>string*</code>"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1478724759, "post_id": 40515741, "comment_id": 68273247, "body": "<code>namespace std</code> can interfere with the one defining string and iostream..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "edited": false, "score": 0, "creation_date": 1478724819, "post_id": 40515741, "comment_id": 68273281, "body": "Yes, sadly we are =/"}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1478724835, "post_id": 40515741, "comment_id": 68273291, "body": "<code>Students = Course.Students;</code> is a shallow copy; it will copy the pointer to the array, but all Courses will share the same data in that array.  (Assuming the memory is still valid!  If your first Course goes out of scope you will be left with a dangling pointer.)  You probably want a deep copy instead."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "edited": false, "score": 0, "creation_date": 1478725371, "post_id": 40515741, "comment_id": 68273585, "body": "my book does say to do this with something like Students = new string[Capacity]. but that was giving me a blank array 0_o"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478729580, "post_id": 40515741, "comment_id": 68275431, "body": "<code>Students = new string[Capacity]</code> will provide storage, but it won&#39;t copy the contents of the pre-existing array into the new array. You can use a <code>for</code> loop or <a href=\"http://en.cppreference.com/w/cpp/algorithm/copy\" rel=\"nofollow noreferrer\"><code>std::copy</code> for that.</a> It looks like your instructor, book, or whatever is trying to teach <a href=\"http://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">The Rule of Three</a>. Know it. Live by it. It will save you tonnes of debugging."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478745686, "post_id": 40515741, "comment_id": 68279911, "body": "@user4581301 So judging from that rule of three link I should add a copy assignment operator as well?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478751157, "post_id": 40515741, "comment_id": 68281009, "body": "Yes. A missing copy constructor is typically more dangerous due to the threat of an accidental pass by value, but without <code>operator=</code> making sure the deep copy takes place, you are one assignment away from ruining your whole day."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "edited": false, "score": 0, "creation_date": 1478749924, "post_id": 40519673, "comment_id": 68280767, "body": "the two cout lines are just for checking the two are pointing to separate locations"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478751490, "post_id": 40519673, "comment_id": 68281087, "body": "Another useful and under taught (in my opinion) C++-ism is the <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">Member Initializer List</a>. An absolute must when you have objects inheriting a base class without a default constructor or your object contains a member variable with expensive construction logic that will be reassigned inside the constructor&#39;s body. Doesn&#39;t help much here, but you could replace constructing empty <code>strings</code> and then assigning with a call of the <code>string</code> copy constructor."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "is_accepted": true, "score": 1, "last_activity_date": 1478756411, "last_edit_date": 1478756411, "creation_date": 1478749872, "answer_id": 40519673, "question_id": 40515741, "link": "https://stackoverflow.com/questions/40515741/pointers-and-copy-constructors-c/40519673#40519673", "title": "Pointers and Copy Constructors c++", "body": "<p>Changed the copy constructor to: </p>\n\n<pre><code>Course::Course(const Course&amp; Course)\n{\n    CourseName = Course.CourseName;\n    Capacity = Course.Capacity;\n    NumberOfStudents = Course.NumberOfStudents;\n    cout &lt;&lt; &amp;Students &lt;&lt; endl;\n    cout&lt;&lt; Course.Students;\n\n    //allocate the new memory\n    Students = new string[Capacity];\n\n    //actually copy over the data, which was apparently the problem\n    for(int i = 0; i &lt; NumberOfStudents; i ++)\n    {\n        Students[i] = Course.Students[i];\n    }\n\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3412695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 40519673, "answer_count": 1, "score": 0, "last_activity_date": 1478756411, "creation_date": 1478724370, "question_id": 40515741, "link": "https://stackoverflow.com/questions/40515741/pointers-and-copy-constructors-c", "title": "Pointers and Copy Constructors c++", "body": "<p>I'm having a problem when I'm printing these arrays of students for an assignment. I think the problem lies in the copy constructor in Course.cpp.\nIn the main class \"TestCourse.cpp\" I fill course objects with class and student information w/ course objects course1, course2, and course3. course3 copies the attributes of course1 using the copy constructor and that's displayed in the output. </p>\n\n<p>The Issue: If you look at the course1 output it adds the first new student(\"New Student 1\") I add to course3 after I copy it, but only in the first course1 output. It does this if I copy course2 as well. How can I fix this/ what am I doing wrong? assignments already turned in but it never hurts to know.code below:</p>\n\n<p>Header File</p>\n\n<pre><code> /*\n * Course.h\n *\n  *HEADER FILE\n */\n\n#ifndef COURSE_H_\n#define COURSE_H_\n#include &lt;string&gt;\n\nnamespace std {\n\nclass Course {\npublic:\nCourse(const string&amp; CourseName, int Capacity);\nCourse(const Course&amp;);\n ~Course();\n //declaration for copy constructor goes here\n string getCourseName() const;\n void addStudent(const string&amp; Name);\n void dropStudent(const string&amp; Name);\n string* getStudents() const;\n int getNumberOfStudents() const;\n int getCapacity();\n void Clear();\n //declaration for clear function goes here\n\n private:\n string CourseName;\n string* Students;\n int NumberOfStudents;\n int Capacity;\n};\n\n} /* namespace std */\n\n#endif /* COURSE_H_ */`\n</code></pre>\n\n<p>** Course.cpp containing the functions**</p>\n\n<pre><code>    /*\n     * Course.cpp\n     *\n     *  Created on: Nov 4, 2016\n     *      Author: diez\n     */\n\n    #include \"Course.h\"\n    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;iterator&gt;\n\n    namespace std {\n\n    //Course Constuctor\n    Course::Course(const string&amp; CourseName, int Capacity) {\n\n    NumberOfStudents = 0;\n    this-&gt; CourseName = CourseName;\n    this-&gt; Capacity = Capacity;\n    Students = new string[Capacity];\n       }//end constructor\n\n    //Destructor\n    Course::~Course() \n    {\n     delete [] Students;\n    }//END Destructor\n\n    //Getter for Course Name\n    string Course::getCourseName() const\n    {\n    return CourseName;\n       }//END get\n\n    // Code to add Student to Course Object\n    void Course::addStudent(const string&amp; Name)\n    {\n\n\n\n    //new array w/ doubly capacity\n                string* newArr;\n                newArr= new string[Capacity * 2];\n        if(NumberOfStudents &gt;= Capacity)\n        {\n\n            Capacity *= 2;\n\n        //Loop setting new array equal to old array\n        for ( int i = 0; i &lt; getNumberOfStudents(); i++)\n        {\n            newArr[i] = Students[i];\n        }\n        //Sets old array to new array's capacity and information\n        Students = newArr;\n    }//endif\n\n        //adds students to array\n        Students[NumberOfStudents] = Name;\n        NumberOfStudents++;\n    }//END ADD STUDENT\n\n/*******************************\n * DROP STUDENT FUNCTION\n *****************************/\nvoid Course::dropStudent(const string&amp; Name){\n\n    /* For Loops looks through array elements*/\n    for(int i=0; i&lt; getNumberOfStudents(); i++)\n        {\n        /* If element is the specified student */\n            if(Students[i]==Name)\n            {\n                /*Set element equal to the next */\n                for(int j=i; j&lt;(getNumberOfStudents()); j++)\n                {\n                    Students[j]=Students[j+1];\n\n                }\n            }\n        }\n    NumberOfStudents--;\n\n}// DROP STUDENT\n\nstring* Course::getStudents() const{\n    return Students;\n}\nint Course::getNumberOfStudents() const{\n    return NumberOfStudents;\n}\nint Course::getCapacity() {\n    return Capacity;\n}\n\n/********************************\n * CLEAR FUNCTION\n ************************************/\nvoid Course::Clear(){\n    for (int i = 0; i &lt; NumberOfStudents; i++){\n        Students[i] = \" \";\n    }\n    NumberOfStudents = 0;\n\n}//CLEAR\n\n/******************\n*COPY CONSTRUCTOR\n*****************/\nCourse::Course(const Course&amp; Course){\n    CourseName = Course.CourseName;\n    Capacity = Course.Capacity;\n    NumberOfStudents = Course.NumberOfStudents;\n    Students = Course.Students;\n    }\n    } /* namespace std */\n</code></pre>\n\n<p>** Driver Class **</p>\n\n<pre><code>//============================================================================\n// Name        :\n// Author      : \n// Date        : 11/04/16\n// Copyright   : Your copyright notice\n// Description :\n/*             :Program does not include double capacity function rather, doubles the capacity in the addStudent function\n :Program implements the dropStudent function\n :Program includes a new function named clear() that removes all of the students from the course\n :Program implements the destructor and copy constructor to perform a deep copy in the class\n :A third course is created that adds five students, removes one and displays the students in the course.*/\n//             :\n//============================================================================\n#include &lt;iostream&gt;\n#include \"Course.h\"\nusing namespace std;\n\nint main() {\n\n    //instances of Course w/ name and capacity\n    Course course1(\"Data Structures\", 10);\n    Course course2(\"Database Systems\", 15);\n\n    course1.addStudent(\"Peter Jones\");\n    course1.addStudent(\"Lisa Walker\");\n    course1.addStudent(\"Kevin Medara\");\n\n    course1.addStudent(\"Joe Sansone\");\n    course1.addStudent(\"Shari Bemis\");\n    course1.addStudent(\"Vishnu\");\n    course1.addStudent(\"Kieth Naeck\");\n\n\n    //course 2 adding\n    course2.addStudent(\"Jacob Fraser\");\n    course2.addStudent(\"Bob Walker\");\n    course2.addStudent(\"Kevin Medara\");\n    course2.addStudent(\"Joe Sansone\");\n    course2.addStudent(\"Shari Bemis\");\n    course2.addStudent(\"Melissa Johnson\");\n\n    // USES COPY CONSTRUCTOR in 'Course.cpp'\n    Course course3(course1);\n    /*\n     * ADD 5 STUDENTS TO COURSE 3\n     * and force array expansion\n     */\n\n    course3.addStudent(\"NEW STUDENT 1\");\n    course3.addStudent(\"NEW STUDENT 2\");\n    course3.addStudent(\"NEW STUDENT 3\");\n    course3.addStudent(\"NEW STUDENT 4\");\n    course3.addStudent(\"NEW STUDENT 5\");\n\n    /**************************************************\n     * COURSE 1 CONSOLE OUTPUT\n     ***************************************************/\n\n    /*               **NOTE**\n     * each course output has the same properties, course3 copies the properties\n     * of course1\n     */\n    cout &lt;&lt; \"Class: \" &lt;&lt; course1.getCourseName() &lt;&lt; \" | Number Of Students: \"\n            &lt;&lt; course1.getNumberOfStudents() &lt;&lt; \"\\nStudents In Course One \"\n            &lt;&lt; \" Capacity: \" &lt;&lt; course1.getCapacity() &lt;&lt; endl; // prints !!!Hello World!!!\n\n    /*pointer string array to iterate through course Students*/\n    string* students = course1.getStudents();\n\n    for (int i = 0; i &lt;= course1.getNumberOfStudents(); i++) {\n\n        cout &lt;&lt; i &lt;&lt; \" \" &lt;&lt; students[i] &lt;&lt; endl;\n\n    }\n\n    cout &lt;&lt; \"_____________________________________\" &lt;&lt; endl;\n\n    /*************************************************\n     * COURSE 2 CONSOLE OUTPUT\n     *************************************************/\n    cout &lt;&lt; \"Class: \" &lt;&lt; course2.getCourseName() &lt;&lt; \" | Number Of Students: \"\n            &lt;&lt; course2.getNumberOfStudents() &lt;&lt; \"\\nStudents In Course Two \"\n            &lt;&lt; \" Capacity: \" &lt;&lt; course2.getCapacity() &lt;&lt; endl;\n    students = course2.getStudents();\n    for (int i = 0; i &lt;= course2.getNumberOfStudents(); i++) {\n        cout &lt;&lt; i &lt;&lt; \" \" &lt;&lt; students[i] &lt;&lt; \"\\n\";\n    }\n    cout &lt;&lt; \"______________________________________\" &lt;&lt; endl;\n\n    /*********************\n     * COURSE 3 CONSOLE OUTPUT\n     *deep copies console 1\n     *************************************/\n\n    cout &lt;&lt; \"Class: \" &lt;&lt; course3.getCourseName() &lt;&lt; \" | Number Of Students: \"\n            &lt;&lt; course3.getNumberOfStudents() &lt;&lt; \"\\nStudents In Course Three \"\n            &lt;&lt; \" Capacity: \" &lt;&lt; course3.getCapacity() &lt;&lt; endl;\n    students = course3.getStudents();\n\n    for (int i = 0; i &lt;= course3.getNumberOfStudents(); i++) {\n        cout &lt;&lt; i &lt;&lt; \" \" &lt;&lt; students[i] &lt;&lt; \"\\n\";\n    }\n\n    cout &lt;&lt; \"_____________________________________\" &lt;&lt; endl;\n\n    /***********************************************************************************\n     * CALL DROP STUDENT FUNCTION on course1\n     * w/ print out\n     *******************************************/\n    course1.dropStudent(\"Kevin Medara\");\n\n    cout &lt;&lt; \"Course One after dropping myself\\n\" &lt;&lt; \"Class: \"\n            &lt;&lt; course1.getCourseName() &lt;&lt; \" | Number Of Students: \"\n            &lt;&lt; course1.getNumberOfStudents() &lt;&lt; \"\\nStudents In Course One \"\n            &lt;&lt; \" Capacity: \" &lt;&lt; course1.getCapacity() &lt;&lt; endl;\n    students = course1.getStudents();\n\n    for (int i = 0; i &lt; course1.getNumberOfStudents(); i++) {\n        cout &lt;&lt; i &lt;&lt; \" \" &lt;&lt; students[i] &lt;&lt; endl;\n    }\n\n    cout &lt;&lt; \"_____________________________________\" &lt;&lt; endl;\n\n    /**********************\n     * CALL CLEAR FUNCTION OF COURSE 1\n     * w/ print out\n     ****************************/\n    course1.Clear();\n\n    cout &lt;&lt; \"Cleared Course One\\n\" &lt;&lt; \"Class: \" &lt;&lt; course1.getCourseName()\n            &lt;&lt; \" | Number Of Students: \" &lt;&lt; course1.getNumberOfStudents()\n            &lt;&lt; \"\\nStudents In Course One \" &lt;&lt; \" Capacity: \"\n            &lt;&lt; course1.getCapacity() &lt;&lt; endl;\n\n    students = course1.getStudents();\n\n    for (int i = 0; i &lt;= course1.getNumberOfStudents(); i++) {\n\n        cout &lt;&lt; i &lt;&lt;\" \" &lt;&lt; students[i] &lt;&lt; endl;\n\n    }\n\n    cout &lt;&lt; \"_____________________________________\" &lt;&lt; endl;\n\n    /**********************************\n     * DROP STUDENT FROM COURSE 3\n     * w/ print\n     ************************************/\n\n    course3.dropStudent(\"Shari Bemis\");\n\n    cout &lt;&lt; \"Course 3 After Dropping Shari Bemis\\n\" &lt;&lt; \"Class: \"\n            &lt;&lt; course3.getCourseName() &lt;&lt; \" | Number Of Students: \"\n            &lt;&lt; course3.getNumberOfStudents() &lt;&lt; \"\\nStudents In Course Three \"\n            &lt;&lt; \" Capacity: \" &lt;&lt; course3.getCapacity() &lt;&lt; endl;\n    students = course3.getStudents();\n\n    for (int i = 0; i &lt;= course3.getNumberOfStudents(); i++) {\n\n        cout &lt;&lt; i &lt;&lt;\" \"&lt;&lt; students[i] &lt;&lt; \"\\n\";\n\n    }\n\n    cout &lt;&lt; \"_____________________________________\" &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>EDIT:: Here is the output</p>\n\n<pre><code>Class: Data Structures | Number Of Students: 7\nStudents In Course One  Capacity: 10\n0 Peter Jones\n1 Lisa Walker\n2 Kevin Medara\n3 Joe Sansone\n4 Shari Bemis\n5 Vishnu\n6 Kieth Naeck\n7 NEW STUDENT 1\n_____________________________________\nClass: Database Systems | Number Of Students: 6\nStudents In Course Two  Capacity: 15\n0 Jacob Fraser\n1 Bob Walker\n2 Kevin Medara\n3 Joe Sansone\n4 Shari Bemis\n5 Melissa Johnson\n6 \n______________________________________\nClass: Data Structures | Number Of Students: 12\nStudents In Course Three  Capacity: 20\n0 Peter Jones\n1 Lisa Walker\n2 Kevin Medara\n3 Joe Sansone\n4 Shari Bemis\n5 Vishnu\n6 Kieth Naeck\n7 NEW STUDENT 1\n8 NEW STUDENT 2\n9 NEW STUDENT 3\n10 NEW STUDENT 4\n11 NEW STUDENT 5\n12 \n_____________________________________\nCourse One after dropping myself\nClass: Data Structures | Number Of Students: 6\nStudents In Course One  Capacity: 10\n0 Peter Jones\n1 Lisa Walker\n2 Joe Sansone\n3 Shari Bemis\n4 Vishnu\n5 Kieth Naeck\n_____________________________________\nCleared Course One\nClass: Data Structures | Number Of Students: 0\nStudents In Course One  Capacity: 10\n0  \n_____________________________________\nCourse 3 After Dropping Shari Bemis\nClass: Data Structures | Number Of Students: 11\nStudents In Course Three  Capacity: 20\n0 Peter Jones\n1 Lisa Walker\n2 Kevin Medara\n3 Joe Sansone\n4 Vishnu\n5 Kieth Naeck\n6 NEW STUDENT 1\n7 NEW STUDENT 2\n8 NEW STUDENT 3\n9 NEW STUDENT 4\n10 NEW STUDENT 5\n11 \n_____________________________________\n</code></pre>\n"}, {"tags": ["c++", "char", "fstream", "end-of-line"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723780, "post_id": 40515567, "comment_id": 68272761, "body": "<code>char</code> is not a two dimensional array"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723892, "post_id": 40515567, "comment_id": 68272838, "body": "does each line have the same number of characters?"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723912, "post_id": 40515567, "comment_id": 68272844, "body": "@tobi303 i fixed it"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723951, "post_id": 40515567, "comment_id": 68272861, "body": "yes each line has the same number of characters"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1478724010, "post_id": 40515567, "comment_id": 68272895, "body": "why do you use a <code>char[20][20]</code> when each line contains only 6 characters?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478724135, "post_id": 40515567, "comment_id": 68272949, "body": "if your question is how to know if you reached the end of the line, then the answer is a) you dont have to care, just continue reading, or b) when you read 6 numbers you reached the end of the line :P"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478724136, "post_id": 40515567, "comment_id": 68272950, "body": "@tobi303 that&#39;s the max number, it isn&#39;t important"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478724184, "post_id": 40515567, "comment_id": 68272974, "body": "what if there is more than 6 characters in the line, i gave an example"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1478724215, "post_id": 40515567, "comment_id": 68272990, "body": "you just said that the number of characters per line is always the same...."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478724325, "post_id": 40515567, "comment_id": 68273047, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 the question is about end of line, not about end of file. So even if OPs code has wrong usage of <code>eof</code> it is not a duplicate"}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1478724755, "post_id": 40515567, "comment_id": 68273245, "body": "why not getline(file, variable), that goes one line at a time, and have that variable be a string, then parse it out and store into the array  you want."}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "edited": false, "score": 0, "creation_date": 1478724833, "post_id": 40515567, "comment_id": 68273289, "body": "Each line has the same number of characters, which is not always 6, the file i included was an example"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "reply_to_user": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1478724885, "post_id": 40515567, "comment_id": 68273318, "body": "@Omid CompSCI how do I parse it out..."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478724950, "post_id": 40515567, "comment_id": 68273351, "body": "you dont need any parsing, just read whatever number of characters you have per line and then continue with the next line. For <code>cin</code> it doesnt matter if the characters are seperated by a space or a new line"}, {"owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "edited": false, "score": 0, "creation_date": 1478725138, "post_id": 40515567, "comment_id": 68273463, "body": "that would be easy, the question is how to find the number of characters in a line"}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1478725406, "post_id": 40515567, "comment_id": 68273603, "body": "@jeff Like I said, when you use getline and store into a string, before you read the new line again, do stringVariable.length(), and you will know how many characters were on that line."}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 0, "last_activity_date": 1478781562, "last_edit_date": 1478781562, "creation_date": 1478736852, "answer_id": 40518098, "question_id": 40515567, "link": "https://stackoverflow.com/questions/40515567/c-ifstream-end-of-line/40518098#40518098", "title": "c++ ifstream end of line", "body": "<p>You can't use <code>eof()</code> like you do.  You have to perform an I/O read operation before you can then use <code>eof()</code>.</p>\n\n<p>For what you are attempting, you should use <code>std::getline()</code> instead, eg:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    std::ifstream file(\"file.txt\");\n    std::string line;\n    char c[20][20] = {};\n\n    for (int i = 0; i &lt; 20; ++i)\n    {\n        if (!std::getline(file, line))\n            break;\n\n        std::istringstream iss(line);\n        for(j = 0; j &lt; 20; ++j)\n        {\n            if (!(iss &gt;&gt; c[i][j]))\n                break;\n        }\n    }\n\n    ...\n\n    return 0;\n}\n</code></pre>\n\n<p>That being said, you should consider using <code>std::vector</code> instead of fixed-sized arrays (unless you know for a fact that your file will <em>never</em> exceed 20 lines and/or 20 characters per line):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n    std::ifstream file(\"file.txt\");\n    std::vector&lt;std::vector&lt;char&gt; &gt; c;\n    std::string line;\n\n    while (std::getline(file, line))\n    {\n        std::istringstream iss(line);\n        std::vector&lt;char&gt; tmp;\n\n        std::copy(\n            std::istream_iterator&lt;char&gt;(iss),\n            std::istream_iterator&lt;char&gt;(),\n            std::back_inserter(tmp)\n        );\n\n        /* which is equivalent to:\n        char ch;\n        while (iss &gt;&gt; ch) {\n            tmp.push_back(ch);\n        }\n        */\n\n        c.push_back(tmp);\n    }\n\n    ...\n\n    return 0;\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\ntypedef std::vector&lt;char&gt; CharVector;\n\nstd::istream&amp; operator&gt;&gt;(std::istream &amp;in, CharVector &amp;out)\n{\n    out.clear();\n\n    std::string line;\n    if (std::getline(in, line))\n    {\n        std::istringstream iss(line);\n\n        std::copy(\n            std::istream_iterator&lt;char&gt;(iss),\n            std::istream_iterator&lt;char&gt;(),\n            std::back_inserter(out)\n        );\n\n        /* which is equivalent to:\n        char ch;\n        while (iss &gt;&gt; ch) {\n            out.push_back(ch);\n        }\n        */\n    }\n\n    return in;\n}\n\nint main()\n{\n    std::ifstream file(\"file.txt\");\n    std::vector&lt;CharVector&gt; c;\n\n    std::copy(\n        std::istream_iterator&lt;CharVector&gt;(file),\n        std::istream_iterator&lt;CharVector&gt;(),\n        std::back_inserter(c)\n    );\n\n    /* which is equivalent to:\n    CharVector cv;\n    while (file &gt;&gt; cv) {\n        c.push_back(cv);\n    }\n    */\n\n    ...\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7049899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3090c78e9a82406abfe47e8134386a86?s=128&d=identicon&r=PG&f=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/7049899/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6636, "favorite_count": 1, "accepted_answer_id": 40518098, "answer_count": 1, "score": -2, "last_activity_date": 1478781562, "creation_date": 1478723732, "last_edit_date": 1478725286, "question_id": 40515567, "link": "https://stackoverflow.com/questions/40515567/c-ifstream-end-of-line", "title": "c++ ifstream end of line", "body": "<p>I have a file that looks like this:</p>\n\n<pre><code>e r g d g d\nf h d r h f\n..........\n</code></pre>\n\n<p>And I want to store these characters in a two-dimensional array</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    ifstream file(\"file.txt\");\n    char c[20][20];\n    int i = 0, j = 0;\n    while(!file.eof())\n    {\n        while(!end of line?)\n        {\n            file &gt;&gt; c[i][j];\n            j++;\n        }\n        i++;\n    }\n.....\n}        \n</code></pre>\n\n<p>how do i do this? <br>\nor how to find number of characters in a line?</p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 4, "creation_date": 1478723568, "post_id": 40515491, "comment_id": 68272650, "body": "when I <a href=\"http://ideone.com/cHdlit\" rel=\"nofollow noreferrer\">run it</a> it just does what you want"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723681, "post_id": 40515491, "comment_id": 68272706, "body": "btw you should include the output you get and the output you expect in the question"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478723753, "post_id": 40515491, "comment_id": 68272742, "body": "You make a null character by using &#39;\\0&#39;, or 0x00 or 0."}, {"owner": {"reputation": 213, "user_id": 4195517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd806b16e4455184a05b833494e3dc00?s=128&d=identicon&r=PG&f=1", "display_name": "Dart Feld", "link": "https://stackoverflow.com/users/4195517/dart-feld"}, "edited": false, "score": 0, "creation_date": 1478723789, "post_id": 40515491, "comment_id": 68272770, "body": "What version of C++ are you using ?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478723853, "post_id": 40515491, "comment_id": 68272815, "body": "BTW, if your string has multiple punctuation symbols, you will be placing a nul at each punctuation.  Try this string &quot;Now the election, is over, I will leave.  Next I will eat.&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1478723798, "creation_date": 1478723798, "answer_id": 40515583, "question_id": 40515491, "link": "https://stackoverflow.com/questions/40515491/how-to-make-a-null-char/40515583#40515583", "title": "How to make a null char?", "body": "<p>The null character is not a printable character. Hence, you don't see anything in the console for the null characters that are written to <code>cin</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 7138270, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8e3ba8f371a00b9bae425a480fda3c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Blue", "link": "https://stackoverflow.com/users/7138270/kyle-blue"}, "edited": false, "score": 0, "creation_date": 1478724660, "post_id": 40515592, "comment_id": 68273205, "body": "Thanks, had no knowledge that NUL characters can be rendered differently, varying depending on the machine. Thanks for the info!"}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 5, "last_activity_date": 1478723818, "creation_date": 1478723818, "answer_id": 40515592, "question_id": 40515491, "link": "https://stackoverflow.com/questions/40515491/how-to-make-a-null-char/40515592#40515592", "title": "How to make a null char?", "body": "<p>A NUL character is, first and foremost, a <em>character</em>. It isn't nothing; it's a NUL character. That is, the string \"some\\0thing\" is <em>not</em> the same thing as \"something\". Your particular console renders the \"\\0\" character as a space, but a different console can render it as nothing. But that doesn't change the fact that a NUL character is not nothing.</p>\n\n<p>If you want to <em>remove</em> a character, then what you have to do is shift all of the following characters down.</p>\n"}], "owner": {"reputation": 151, "user_id": 7138270, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8e3ba8f371a00b9bae425a480fda3c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Blue", "link": "https://stackoverflow.com/users/7138270/kyle-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40515592, "answer_count": 2, "score": 0, "last_activity_date": 1478724154, "creation_date": 1478723440, "last_edit_date": 1478724154, "question_id": 40515491, "link": "https://stackoverflow.com/questions/40515491/how-to-make-a-null-char", "title": "How to make a null char?", "body": "<p>Just working through c++ primer book. Things are going smoothy, however, when using a range for in order to replace all punctuation with null char's, they are replaced with a space (' ') instead.\nI cant understand why :/\nHow do I change this so that punctuation is replace with no character, rather than a space?</p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cctype&gt;\n\nusing std::cout;\nusing std::endl;\nusing std::string;\n\nint main()\n{\n    string s1(\"Hi I'm Greg.\");\n\n    cout &lt;&lt; s1 &lt;&lt; endl;\n\n    for(char &amp;c : s1){\n        if(ispunct(c)){\n            c = '\\0';\n        }\n    }\n\n    cout &lt;&lt; s1 &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Sorry if its a dumb question...\nCheers!</p>\n\n<p>edit:\nCompiled in c++14\nHere is my output:</p>\n\n<blockquote>\n  <p>Hi I m Greg </p>\n</blockquote>\n"}, {"tags": ["c++", "visual-studio", "recursion"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 3, "creation_date": 1478723263, "post_id": 40515416, "comment_id": 68272500, "body": "Yeah, if it&#39;s less than 1.0, you never print it. Maybe you want the <code>cout</code> statement before the <code>if</code>."}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1478723308, "post_id": 40515416, "comment_id": 68272523, "body": "is there no way to achieve what I am attempting?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478723329, "post_id": 40515416, "comment_id": 68272531, "body": "add a cout after the if statement.  That will be the last function call."}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "edited": false, "score": 0, "creation_date": 1478723365, "post_id": 40515416, "comment_id": 68272544, "body": "that fixed it... thanks..."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1478723386, "creation_date": 1478723386, "answer_id": 40515480, "question_id": 40515416, "link": "https://stackoverflow.com/questions/40515416/unable-to-get-a-result-less-than-1-using-division-c/40515480#40515480", "title": "Unable to get a result less than 1 using division c++", "body": "<p>If you want to print <code>count</code> when it becomes less than <code>1</code>, you need to add a line for that.</p>\n\n<pre><code>void counter(float count) \n{\n    if (count &gt;= 1)\n    {\n        cout  &lt;&lt; count &lt;&lt; endl;\n        counter(count / 2);\n    }\n    else\n    {\n       cout  &lt;&lt; count &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>You can simplify that by using:</p>\n\n<pre><code>void counter(float count) \n{\n    cout  &lt;&lt; count &lt;&lt; endl;\n    if (count &gt;= 1)\n    {\n        counter(count / 2);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "is_accepted": false, "score": 1, "last_activity_date": 1478723456, "creation_date": 1478723456, "answer_id": 40515498, "question_id": 40515416, "link": "https://stackoverflow.com/questions/40515416/unable-to-get-a-result-less-than-1-using-division-c/40515498#40515498", "title": "Unable to get a result less than 1 using division c++", "body": "<p>you are almost there... </p>\n\n<p>add an else to check what is going to happen if the value is less than 1.0</p>\n\n<pre><code>void counter(float count) \n{\n    if (count &gt;= 1)\n    {\n        cout  &lt;&lt; count &lt;&lt; endl;\n        counter(count / 2);\n    } else\n    {\n        cout  &lt;&lt; count &lt;&lt; endl;\n    }  \n}\n</code></pre>\n"}], "owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 40515480, "answer_count": 2, "score": 0, "last_activity_date": 1478723456, "creation_date": 1478723146, "last_edit_date": 1478723264, "question_id": 40515416, "link": "https://stackoverflow.com/questions/40515416/unable-to-get-a-result-less-than-1-using-division-c", "title": "Unable to get a result less than 1 using division c++", "body": "<p>I'm attempting to use a recursive function to halve a user input until it reaches &lt;1.0..  No matter what I try it always ends with a result > 1.  Any guidance would be greatly appreciated.   </p>\n\n<pre><code>void counter(float count) \n{\n    if (count &gt;= 1)\n    {\n        cout  &lt;&lt; count &lt;&lt; endl;\n        counter(count / 2);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "fstream", "ifstream", "ofstream"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1478722389, "post_id": 40515135, "comment_id": 68272063, "body": "You should check if your file operations completed successfully (both the creation of the streams and the read/write). My guess is the ifstream fails because the ofstream holds the file resource"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478722402, "post_id": 40515135, "comment_id": 68272066, "body": "Sounds like an XY problem.  What are you actually trying to solve?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478723678, "post_id": 40515135, "comment_id": 68272704, "body": "@Borgleader I thought that too and with Remy insisting on the contrary, I figured out that I was sooo wrong about that (but not about the buffering, fortunately!). Even on Windows, it is possible to do that (it&#39;s not like python or C). So I learned something today."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478723090, "post_id": 40515242, "comment_id": 68272409, "body": "<code>std::ofstream</code> and <code>std::ifstream</code> can open the same file at the same time.  I tried it on Windows and it works fine.  The real issue is the lack of buffer flushing after writing and before reading. You do not need to close the <code>std::ofstream</code>, you can just call <code>fd1.flush()</code> or <code>fd1 &lt;&lt; std::flush</code> instead."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478723133, "post_id": 40515242, "comment_id": 68272437, "body": "@RemyLebeau It&#39;s covered in my answer. You&#39;re running Linux so you can do it. On Windows you just cannot."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478723257, "post_id": 40515242, "comment_id": 68272497, "body": "damn you&#39;re right! I made the wrong test. editing!!! (I tested without passing any argument so no file was open. Trapped by the OP code)."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1478723311, "last_edit_date": 1478723311, "creation_date": 1478722511, "answer_id": 40515242, "question_id": 40515135, "link": "https://stackoverflow.com/questions/40515135/reading-from-file-right-after-writing-in-it/40515242#40515242", "title": "Reading from file right after Writing in it", "body": "<p>Even if you can open both in read &amp; write, this write operation is <em>buffered</em>, which means that it may not be written to disk unless you flush the stream (or you close the file).</p>\n\n<p>Of course the code below works perfectly:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\nusing namespace std;\nint main(int argc,char* argv[]){\n\nint x,y;\nofstream fd1(argv[1]);\n\ncin&gt;&gt;x;\nfd1&lt;&lt;x;\n\n\nfd1.close();\n\nifstream fd2(argv[1]);\nif (fd2.good())\n{\n   cout &lt;&lt; \"read OK\" &lt;&lt; endl;\n}\nfd2&gt;&gt;y;\ncout&lt;&lt;\"just read \"&lt;&lt;y&lt;&lt;endl;\nfd2.close();\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1478723999, "last_edit_date": 1478723999, "creation_date": 1478723036, "answer_id": 40515389, "question_id": 40515135, "link": "https://stackoverflow.com/questions/40515135/reading-from-file-right-after-writing-in-it/40515389#40515389", "title": "Reading from file right after Writing in it", "body": "<p>The <code>fd2&gt;&gt;y</code> statement is failing because there is nothing to read from the file yet.  <code>std::ofstream</code> buffers its output, and you haven't flushed the buffer to the file on disk before trying to then read from the file.</p>\n\n<p><code>std::ofstream</code> flushes its buffer when:</p>\n\n<ol>\n<li><p>a new line is written.</p></li>\n<li><p>its <code>flush()</code> method is called, either directly or when <code>std::flush()</code> or <code>std::endl</code> is streamed to it.</p></li>\n</ol>\n\n<p>Try this:</p>\n\n<pre><code>fd1 &lt;&lt; x &lt;&lt; flush;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>fd1 &lt;&lt; x;\nfd1.flush();\n</code></pre>\n\n<p>On a side note, you really should be checking for errors along the way.  The <code>std::ofstream</code> and <code>std::ifstream</code> constructors could fail to create/open the file.  The <code>&lt;&lt;</code> and <code>&gt;&gt;</code> operators could fail to write/read values.  All of those operations can report errors that you can check for.  For example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nint main(int argc, char* argv[])\n{\n    int x, y;\n    std::ofstream fd1(argv[1]);\n    std::ifstream fd2(argv[1]);\n\n    if (!fd1.is_open())\n    {\n        std::cout &lt;&lt; \"cannot create output file\" &lt;&lt; std::endl;\n    }\n    else if (!fd2.is_open())\n    {\n        std::cout &lt;&lt; \"cannot open input file\" &lt;&lt; std::endl;\n    }\n    else if (!(std::cin &gt;&gt; x))\n    {\n        std::cout &lt;&lt; \"invalid input\" &lt;&lt; std::endl;\n    }\n    else if (!(fd1 &lt;&lt; x &lt;&lt; std::flush))\n    {\n        std::cout &lt;&lt; \"cannot write to output file\" &lt;&lt; std::endl;\n    }\n    else if (!(fd2 &gt;&gt; y))\n    {\n        std::cout &lt;&lt; \"cannot read from input file\" &lt;&lt; std::endl;\n    }\n    else\n    {\n        std::cout &lt;&lt; \"just read \" &lt;&lt; y &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nint main(int argc, char* argv[])\n{\n    int x, y;\n\n    std::ofstream fd1;\n    std::ifstream fd2;\n\n    fd1.exceptions(std::ofstream::failbit);\n    fd2.exceptions(std::ifstream::failbit);\n    std::cin.exceptions(std::ifstream::failbit);\n\n    try\n    {\n        fd1.open(argv[1]);\n        fd2.open(argv[1]);\n\n        std::cin &gt;&gt; x;\n\n        fd1 &lt;&lt; x &lt;&lt; std::flush;\n        fd2 &gt;&gt; y;\n\n        std::cout &lt;&lt; \"just read \" &lt;&lt; y &lt;&lt; std::endl;\n    }\n    catch (const std::ios_base::failure &amp;e)\n    {\n        std::cout &lt;&lt; \"error! \" &lt;&lt; e.what() &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 6128840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f51086a600de3c19ab3557c3b4c35a8?s=128&d=identicon&r=PG&f=1", "display_name": "programmer0", "link": "https://stackoverflow.com/users/6128840/programmer0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "accepted_answer_id": 40515242, "answer_count": 2, "score": 2, "last_activity_date": 1478723999, "creation_date": 1478722095, "question_id": 40515135, "link": "https://stackoverflow.com/questions/40515135/reading-from-file-right-after-writing-in-it", "title": "Reading from file right after Writing in it", "body": "<p>I wanna write in file and then read from it and print the result</p>\n\n<p>Here is my code</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\nusing namespace std;\nint main(int argc,char* argv[]){\n\nint x,y;\nofstream fd1(argv[1]);\nifstream fd2(argv[1]);\ncin&gt;&gt;x;\nfd1&lt;&lt;x;\nfd2&gt;&gt;y;\ncout&lt;&lt;\"just read \"&lt;&lt;y&lt;&lt;endl;\nfd1.close();\nfd2.close();\nreturn 0;\n}\n</code></pre>\n\n<p>What's wrong with it? I input 123 it outputs \"just read -1078463800\"</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478721928, "post_id": 40515069, "comment_id": 68271834, "body": "Missing a closing semicolon after <code>Filter</code> declaration?"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1478721982, "post_id": 40515069, "comment_id": 68271867, "body": "Try <code>using IteratorType = typename ImageType::template iterator&lt;PixelType&gt;;</code>"}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1478722126, "post_id": 40515069, "comment_id": 68271940, "body": "@Oktalist that&#39;s it, thanks :)"}], "owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1478721972, "answer_count": 0, "score": 0, "last_activity_date": 1478722003, "creation_date": 1478721816, "last_edit_date": 1478722003, "question_id": 40515069, "link": "https://stackoverflow.com/questions/40515069/c-template-arguments-not-working", "closed_reason": "Duplicate", "title": "C++ Template Arguments not working", "body": "<p>I have something similar to this,</p>\n\n<pre><code>class Image {\n  template &lt;typename T&gt; using iterator = ImageIteratorBase&lt;Image, T&gt;;\n};\n\ntemplate &lt;typename ImageType&gt;\nclass Filter {\n  template &lt;typename PixelType&gt; apply();\n};\n</code></pre>\n\n<p>In my <code>Filter::apply()</code> function, I need to do this:</p>\n\n<pre><code>template &lt;typename ImageType&gt;\ntemplate &lt;typename PixelType&gt;\nvoid Filter&lt;ImageType&gt;::apply() {\n    using IteratorType = typename ImageType::iterator&lt;PixelType&gt;;\n}\n</code></pre>\n\n<p>But this does not work and yields the error</p>\n\n<pre><code> error: expected \u2018;\u2019 before \u2018&lt;\u2019 token\n</code></pre>\n\n<p>What is wrong in here?\nThanks in advance</p>\n"}, {"tags": ["c++", "constants"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 2, "creation_date": 1478721851, "post_id": 40515052, "comment_id": 68271795, "body": "You have an extra <code>const</code> for the overload returning <code>char&amp;</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1478721863, "post_id": 40515052, "comment_id": 68271800, "body": "hmm.  looks like it is a typo in the book.  <code>char&amp; operator[](const std::size_t position) const</code> should not be <code>const</code>."}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 3198502, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f95027be78a4d31434781d305bbc0bb?s=128&d=identicon&r=PG&f=1", "display_name": "mkiesner", "link": "https://stackoverflow.com/users/3198502/mkiesner"}, "edited": false, "score": 0, "creation_date": 1478721915, "post_id": 40515076, "comment_id": 68271828, "body": "because it says so in the book :) so it&#39;s just a mistake there?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 405, "user_id": 3198502, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f95027be78a4d31434781d305bbc0bb?s=128&d=identicon&r=PG&f=1", "display_name": "mkiesner", "link": "https://stackoverflow.com/users/3198502/mkiesner"}, "edited": false, "score": 1, "creation_date": 1478721989, "post_id": 40515076, "comment_id": 68271872, "body": "@gunnar.s Yes, a typo on Scott Meyers&#39; part. Still an excellent book though."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1478721946, "last_edit_date": 1478721946, "creation_date": 1478721846, "answer_id": 40515076, "question_id": 40515052, "link": "https://stackoverflow.com/questions/40515052/effective-c-third-edition-overloading-const-function/40515076#40515076", "title": "Effective C++, Third edition: Overloading const function", "body": "<p>You specified <em>both</em> overloads as <code>const</code></p>\n\n<pre><code>    const char&amp; operator[](const std::size_t position) const;\n    char&amp; operator[](const std::size_t position) const;\n</code></pre>\n\n<p>Just remove the <code>const</code> specifier from the one that shouldn't be <code>const</code>.</p>\n\n<pre><code>    const char&amp; operator[](const std::size_t position) const;\n    char&amp; operator[](const std::size_t position);\n</code></pre>\n\n<p>You get an error, because both overloads have matching parameters (for the purpose of overload resolution). Therefore it's considered a redefinition.</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1478722016, "creation_date": 1478722016, "answer_id": 40515121, "question_id": 40515052, "link": "https://stackoverflow.com/questions/40515052/effective-c-third-edition-overloading-const-function/40515121#40515121", "title": "Effective C++, Third edition: Overloading const function", "body": "<p>Remove the <code>const</code> qualifier from the operator definition</p>\n\n<pre><code>char&amp; text_block::operator[](const std::size_t position) const\n                                                         ^^^^^\n{\n    return s[position];\n}\n</code></pre>\n\n<p>and write</p>\n\n<pre><code>char&amp; text_block::operator[](const std::size_t position)\n{\n    return s[position];\n}\n</code></pre>\n\n<p>Also there is no need to specify the const qualifier for the parameter. It is just simpler to write</p>\n\n<pre><code>char&amp; text_block::operator[](std::size_t position)\n{\n    return s[position];\n}\n</code></pre>\n\n<p>Otherwise there are two operators that differ only by the return type</p>\n\n<pre><code>const char&amp; text_block::operator[](const std::size_t position) const\n^^^^^^^^^^^\n{\n    return s[position];\n}\n\nchar&amp; text_block::operator[](const std::size_t position) const\n^^^^^\n{\n    return s[position];\n}\n</code></pre>\n\n<p>You may not overload functions by their return type.</p>\n"}, {"tags": [], "owner": {"reputation": 3451, "user_id": 484307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e9dc069de2952af4cd0f1720e499d47?s=128&d=identicon&r=PG", "display_name": "Andrew Durward", "link": "https://stackoverflow.com/users/484307/andrew-durward"}, "is_accepted": false, "score": 2, "last_activity_date": 1478786211, "creation_date": 1478786211, "answer_id": 40529370, "question_id": 40515052, "link": "https://stackoverflow.com/questions/40515052/effective-c-third-edition-overloading-const-function/40529370#40529370", "title": "Effective C++, Third edition: Overloading const function", "body": "<p>This is an error in the 14th printing of the 3rd edition of Effective C++.  See Scott Meyers' <a href=\"http://www.aristeia.com/BookErrata/ec++3e-errata.html\" rel=\"nofollow noreferrer\">errata page</a>.</p>\n\n<pre><code>    DATE                                                                  DATE\n  REPORTED WHO PAGES  WHAT                                                FIXED\n  -------- --- -----  ------------------------------------------------  --------\n   6/17/14 tsc    20  Near top of page, second operator[] should not    8/17/15\n                      be declared const. (This error originated in\n                      the 14th printing.)\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 3198502, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f95027be78a4d31434781d305bbc0bb?s=128&d=identicon&r=PG&f=1", "display_name": "mkiesner", "link": "https://stackoverflow.com/users/3198502/mkiesner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 40515076, "answer_count": 3, "score": 0, "last_activity_date": 1478786211, "creation_date": 1478721760, "last_edit_date": 1478721861, "question_id": 40515052, "link": "https://stackoverflow.com/questions/40515052/effective-c-third-edition-overloading-const-function", "title": "Effective C++, Third edition: Overloading const function", "body": "<p>i'm trying to learn some best practices for C++ coding with the book \"Effective C++, Third edition\".</p>\n\n<p>In item 3, the authors talk about <code>const</code> in member functions.\nThey give an example class for which they overload the <code>[]</code> operator twice - once for non-const and once for const objects.\nThe following code is given:</p>\n\n<pre><code>class TextBlock {\npublic:\n ...\n const char&amp;                                       // operator[] for\n operator[](const std::size_t position) const      // const objects\n { return text[position]; }\n char&amp;                                             // operator[] for\n operator[](const std::size_t position) const      // non-const objects\n { return text[position]; }\nprivate:\n   std::string text;\n};\n</code></pre>\n\n<hr>\n\n<pre><code>TextBlock tb(\"Hello\");\nstd::cout &lt;&lt; tb[0];                   // calls non-const\n                                      // TextBlock::operator[]\nconst TextBlock ctb(\"World\");\nstd::cout &lt;&lt; ctb[0];                  // calls const TextBlock::operator[]\n</code></pre>\n\n<p>So i tried to implement this snippet just to get some practice.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass text_block\n{\n    public:\n        text_block(const std::string&amp; s);\n        const char&amp; operator[](const std::size_t position) const;\n        char&amp; operator[](const std::size_t position) const;\n    private:\n        std::string s;\n};\n\ntext_block::text_block(const std::string&amp; s) : s(s) {}\n\nconst char&amp; text_block::operator[](const std::size_t position) const\n{\n    return s[position];\n}\n\nchar&amp; text_block::operator[](const std::size_t position) const\n{\n    return s[position];\n}\n\nint main()\n{\n    text_block tb(\"non-const\");\n    const text_block ctb(\"const\");\n\n    std::cout &lt;&lt; tb[0] &lt;&lt; std::endl &lt;&lt; ctb[0] &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>However, <code>g++ 6.1.1</code> gives me several errors, e.g., <code>error: \u2018char&amp; text_block::operator[](std::size_t) const\u2019 cannot be overloaded</code>.</p>\n\n<p>As I understood the explanations from the book, both implementations of the <code>[]</code> operator should distinguish the behavior between <code>const</code> and non-<code>const</code> objects of <code>text_block</code>. Therefore, shouldn't the <code>const</code> modifier be omitted at the end of the signature for the non-<code>const</code> version? Is this a mistake in the book or am I missing something?</p>\n\n<p>Kind regards,\nGunnar</p>\n"}, {"tags": ["c++", "winapi", "com"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478721868, "post_id": 40514976, "comment_id": 68271804, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683200.aspx\" rel=\"nofollow noreferrer\">GetModuleHandleEx</a>, passing the address of an interface method."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478721973, "post_id": 40514976, "comment_id": 68271864, "body": "@IInspectable: that will only work for in-process COM objects, and even then only if you actually have an instance of the COM object.  The OP says he only has a GUID, not an object."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478770398, "post_id": 40514976, "comment_id": 68288637, "body": "@RemyLebeau: <i>&quot;that will only work for in-process COM objects&quot;</i> - Since <code>HMODULE</code>s are only meaningful in-process, I don&#39;t think this limits the scope of applicability. And you don&#39;t need an instance of an object to get the address of a member function either. The type information is enough, and a GUID uniquely identifies a type."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478794602, "post_id": 40514976, "comment_id": 68304348, "body": "@IInspectable A GUID is just an ID number, it does not directly point to any type, so you need to perform a lookup to find the actual type. And yes, you do need an object instance in this case. The COM interface type is an abstract class, it has no memory addresses of its own. You would need direct access to the class type that implements the COM interface in order to get a memory address of any of the class methods. COM hides that access, so you won&#39;t be able to get any implementation memory address without an actual object instance so you can analyze the addresses in its vtable."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1478796924, "post_id": 40514976, "comment_id": 68305876, "body": "@RemyLebeau: I took <i>&quot;I only know COM GUID of class that reside in dll&quot;</i> to mean, that the GUID identifies a COM <b>object</b> in this case, not an interface. In that case there is a direct mapping between a GUID and a type (or v-table if you wish). No instance required for the lookup."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478797906, "post_id": 40514976, "comment_id": 68306451, "body": "@IInspectable: Types are only known at compile-time. A GUID known at runtime must be manually resolved to a type. So yes, a lookup is required. And COM does not provide that lookup, you have to implement it yourself. And again, an instance is required if you intend to lookup memory addresses of implemented interface methods."}, {"owner": {"reputation": 6288, "user_id": 1455631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9b8e88a8dbed8a574ed79d075c3f924?s=128&d=identicon&r=PG", "display_name": "Medinoc", "link": "https://stackoverflow.com/users/1455631/medinoc"}, "edited": false, "score": 0, "creation_date": 1479306165, "post_id": 40514976, "comment_id": 68501301, "body": "Plus, even from an interface pointer I&#39;m not sure you <i>can</i> get the address of one of the methods, other than by manually hacking into the vtable (such as by using the <code>CINTERFACE</code> declaration): Last time I tested in Visual Studio, taking the address of a virtual function as a pointer-to-member seemed to return the address of a static wrapper that called the function virtually..."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478769939, "post_id": 40515159, "comment_id": 68288350, "body": "That won&#39;t work for <a href=\"https://msdn.microsoft.com/en-us/library/ms973913.aspx\" rel=\"nofollow noreferrer\">registration-free COM</a>."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478794187, "post_id": 40515159, "comment_id": 68304111, "body": "Registration-Free COM uses a manifest, so you could just lookup the GUID in the manifest instead of the Registry.  The manifest will have the path to the COM object&#39;s EXE/DLL file."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478797007, "post_id": 40515159, "comment_id": 68305933, "body": "I perfectly understand, how registration-free COM is implemented. I was pointing out, that your answer isn&#39;t applicable for this common scenario."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1478801029, "post_id": 40515159, "comment_id": 68308184, "body": "Won&#39;t work for a surrogate or an out-of-process server or DCOM either.  It is forbidden knowledge."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1478798005, "last_edit_date": 1478798005, "creation_date": 1478722185, "answer_id": 40515159, "question_id": 40514976, "link": "https://stackoverflow.com/questions/40514976/how-to-get-hmodule-from-com-guid/40515159#40515159", "title": "How to get HMODULE from COM GUID", "body": "<p>If the GUID is a CLSID for a COM object, you can lookup the object's implementing EXE/DLL filename in the Windows Registry (in the <code>HKEY_CLASSES_ROOT\\CLSID\\{guid}</code> subkey), or if your app is using Registration-Free COM, in the app's SxS manifest instead.</p>\n\n<p>If the object is in a DLL, you can then use <code>GetModuleHandle/Ex()</code> if that DLL has already been loaded in your process's memory, or <code>LoadLibrary()</code> to load it into memory.</p>\n"}], "owner": {"reputation": 68, "user_id": 5968046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13d1516ae765e1ab304a89deec54e1a?s=128&d=identicon&r=PG", "display_name": "Mr.M.", "link": "https://stackoverflow.com/users/5968046/mr-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478798005, "creation_date": 1478721467, "last_edit_date": 1478721811, "question_id": 40514976, "link": "https://stackoverflow.com/questions/40514976/how-to-get-hmodule-from-com-guid", "title": "How to get HMODULE from COM GUID", "body": "<p>I need HMODULE to call GetModuleInformation but I only know COM GUID of class that reside in dll. Is there winapi function to determine HMODULE (or dll name) knowing only GUID?</p>\n\n<p>EDIT: Application running as normal user (not elevated)</p>\n"}, {"tags": ["c++", "static-libraries", "main"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 2, "creation_date": 1478721499, "post_id": 40514935, "comment_id": 68271624, "body": "It gets executed like any main? (There can only be one anyway) As for its purpose why not ask the author of the library?"}], "answers": [{"comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1478722106, "post_id": 40515104, "comment_id": 68271927, "body": "SDL does this--its <code>main</code> provides cross-platform setup and teardown code. When the user types <code>main</code> after <code>#include</code>ing SDL it&#39;s actually a macro that expands to <code>SDL_main</code>, which is called from <code>main</code> when everything is properly initialized. That provides another use case, though I&#39;ve seen a fair amount of criticism for this approach."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1478722257, "post_id": 40515104, "comment_id": 68272006, "body": "@jaggedSpire, didn&#39;t know about this, but yes, this is a reason as well. However, macro to redefine <code>main</code> is a pure evil in my view."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1478722643, "post_id": 40515104, "comment_id": 68272171, "body": "yep, that was the main criticism I saw (no pun intended), and it&#39;s bit me before as well. Fortunately, they let you force the use of your own entry point, but it comes with the downside of less coherent error messages when things go wrong. Fun stuff all around, really."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 13, "last_activity_date": 1478721949, "creation_date": 1478721949, "answer_id": 40515104, "question_id": 40514935, "link": "https://stackoverflow.com/questions/40514935/why-does-static-library-contain-a-main-function/40515104#40515104", "title": "Why does static library contain a main function?", "body": "<p>From the linker perspective, it doesn't matter where the <code>main</code> function is - it can be in a static library as well as in standalone object file, linker couldn't care less. It produces the executable from object files, no matter where they come from, and in the final executable all the distinction between library/non library symbols is lost.</p>\n\n<p>As for the purposes, i can imagine that some sort of specialized application framework could have main in the library, with you providing callbacks to it in form of defined functions.</p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 8, "last_activity_date": 1478722989, "last_edit_date": 1478722989, "creation_date": 1478722364, "answer_id": 40515200, "question_id": 40514935, "link": "https://stackoverflow.com/questions/40514935/why-does-static-library-contain-a-main-function/40515200#40515200", "title": "Why does static library contain a main function?", "body": "<blockquote>\n  <p>I just wonder what the purpose it is. </p>\n</blockquote>\n\n<p>It's a common technique with unit testing or graphics/game engine frameworks to define the <code>main()</code> entry point of the executable program, and binding the custom class definitions from certain factory pattern templates.</p>\n\n<blockquote>\n  <p>how does the <code>main()</code> execute?</p>\n</blockquote>\n\n<p>It is the main entry point of any c++ program by definition, so the execution is triggered by the program start up linker script.</p>\n\n<hr>\n\n<p>Using such stuff means you write your client classes in an executable project, bind them with the framework, and omit to define a <code>main()</code> function.</p>\n"}], "owner": {"reputation": 83, "user_id": 3662384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97e4fea220b8573c98ddc918ada8a7d3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffery Wang", "link": "https://stackoverflow.com/users/3662384/jeffery-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5404, "favorite_count": 3, "accepted_answer_id": 40515104, "answer_count": 2, "score": 8, "last_activity_date": 1478737588, "creation_date": 1478721303, "last_edit_date": 1478737588, "question_id": 40514935, "link": "https://stackoverflow.com/questions/40514935/why-does-static-library-contain-a-main-function", "title": "Why does static library contain a main function?", "body": "<p>I came across a weird static library which contains a <strong><code>main()</code></strong> function (C++).<br>\nI just wonder what the purpose it is. </p>\n\n<p>How does the <code>main()</code> execute?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1478721511, "post_id": 40514928, "comment_id": 68271635, "body": "The compiler issues an error if the namespace is included twice in the same compilation unit. Otherwise the constants have static linkage."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1478721520, "post_id": 40514928, "comment_id": 68271637, "body": "Silly question. Do you have include guards in the header?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1478722062, "post_id": 40514928, "comment_id": 68271902, "body": "Need full code. The note about <code>in-class initialization</code> tells me there is more than you show us."}, {"owner": {"reputation": 614, "user_id": 5416685, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5fa61151adb9af527d80a514ae314520?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin217", "link": "https://stackoverflow.com/users/5416685/kevin217"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478724390, "post_id": 40514928, "comment_id": 68273076, "body": "@StoryTeller xD. Silly question."}], "answers": [{"tags": [], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1478723934, "last_edit_date": 1495542637, "creation_date": 1478723934, "answer_id": 40515623, "question_id": 40514928, "link": "https://stackoverflow.com/questions/40514928/multiple-definition-when-using-namespace-in-header-file/40515623#40515623", "title": "Multiple definition when using namespace in header file", "body": "<p>If all of your globals are <code>const</code>, you most likely merely need include guards.</p>\n\n<pre><code>#ifndef   GLOBAL_H\n#define   GLOBAL_H\n\n...\nnamespace g {\n   const int g_0 = 0;\n   const int g_1 = 1;\n}\n...\n\n#endif // GLOBAL_H\n</code></pre>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/language/storage_duration\" rel=\"nofollow noreferrer\"><code>const</code> global variables have internal linkage unless explicitly declared <code>extern</code></a>, so they won't cause linking errors as long as they're only defined once per translation unit.  Each translation unit will have its own copy of each global constant, which the compiler may or may not optimise out if possible.</p>\n\n<hr>\n\n<p>If some of your globals aren't <code>const</code>, however, it gets a bit more complex.</p>\n\n<pre><code>#ifndef   GLOBAL_H\n#define   GLOBAL_H\n\n...\nnamespace g {\n   const int g_0 = 0;\n   const int g_1 = 1;\n\n   int g_2 = 2; // Oh, boy.\n}\n...\n\n#endif // GLOBAL_H\n</code></pre>\n\n<p>As this variable has external linkage by default, it will cause a linking error due to multiple translation units containing different variables named <code>g_2</code>.  The solution here is to declare the variables <code>extern</code> in the header, and place their actual definitions in a source file.</p>\n\n<pre><code>// global.h\n#ifndef   GLOBAL_H\n#define   GLOBAL_H\n\n...\nnamespace g {\n   const int g_0 = 0;\n   const int g_1 = 1;\n\n   extern int g_2; // Oh, boy.\n}\n...\n\n#endif // GLOBAL_H\n\n// ---\n\n// global.cpp\nnamespace g {\n   int g_2 = 2;\n}\n</code></pre>\n\n<hr>\n\n<p>That said, as <a href=\"https://stackoverflow.com/users/5245033/sergeya\">SergeyA</a> pointed out <a href=\"https://stackoverflow.com/questions/40514928/multiple-definition-when-using-namespace-in-header-file#comment68271902_40514928\">in the comments</a>, the error message you got indicates that there's more to this:</p>\n\n<pre><code>ISO C++ forbids in-class initialization of non-const static member...\n</code></pre>\n\n<p>I can't say anything about this, without knowing what code is causing it.</p>\n"}], "owner": {"reputation": 614, "user_id": 5416685, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5fa61151adb9af527d80a514ae314520?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin217", "link": "https://stackoverflow.com/users/5416685/kevin217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2534, "favorite_count": 1, "accepted_answer_id": 40515623, "answer_count": 1, "score": 2, "last_activity_date": 1478723934, "creation_date": 1478721282, "last_edit_date": 1478721341, "question_id": 40514928, "link": "https://stackoverflow.com/questions/40514928/multiple-definition-when-using-namespace-in-header-file", "title": "Multiple definition when using namespace in header file", "body": "<p>I'm trying to define a global namespace in a header file <code>global.h</code>.</p>\n\n<pre><code>...\nnamespace g {\n   const int g_0 = 0;\n   const int g_1 = 1;\n}\n...\n</code></pre>\n\n<p>When JUST <code>#include \"global.h\"</code> in other .cpp file, compiler gives an error</p>\n\n<pre><code>multiple definition of g::g_0\nmultiple definition of g::g_1\n</code></pre>\n\n<p>If I try to use <code>g_0</code> and <code>g_1</code> in other .cpp files, for example.</p>\n\n<pre><code>int g_0_copy = g::g_0;\nint g_1_copy = g::g_1;\n</code></pre>\n\n<p>It throws an error saying:</p>\n\n<pre><code>ISO C++ forbids in-class initialization of non-const static member...\n</code></pre>\n\n<p>Is there something special when using namespace to declare global variable?\n(I have to use c++98 in this case)</p>\n"}, {"tags": ["c++", "cilk-plus", "cilk"], "owner": {"reputation": 289, "user_id": 5299327, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4e00a8f927d808e0e17901f40e3a612b?s=128&d=identicon&r=PG&f=1", "display_name": "John Elaine", "link": "https://stackoverflow.com/users/5299327/john-elaine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478818675, "creation_date": 1478720688, "question_id": 40514782, "link": "https://stackoverflow.com/questions/40514782/cilkplus-vector-of-reducers-that-are-not-cache-aligned", "title": "CilkPlus: Vector of reducers that are not cache aligned", "body": "<p>I am using Cilk and a custom reducer as described here: <a href=\"https://software.intel.com/en-us/node/522608\" rel=\"nofollow noreferrer\">https://software.intel.com/en-us/node/522608</a>. In their example, they use the reducer for append operation in a linked list.</p>\n\n<p>Now, I want to create a vector of reducers (using <code>std::vector</code>); however, I get the following runtime error: </p>\n\n<pre><code>Reducer should be cache aligned. Please see comments following this assertion for explanation and fixes.\n</code></pre>\n\n<p>After looking at the comments (line 948 here: <a href=\"https://github.com/Nyks45/Toolchain/blob/master/lib/gcc/x86_64-unknown-linux-gnu/5.3.1/include/cilk/reducer.h\" rel=\"nofollow noreferrer\">https://github.com/Nyks45/Toolchain/blob/master/lib/gcc/x86_64-unknown-linux-gnu/5.3.1/include/cilk/reducer.h</a>) I realized that I need to use \"new-style\" reducers to work around this so that they are not necessarily cache-aligned. However, I cannot find any documentation/example of how I can create a \"new-style\" reducer.</p>\n\n<p>How do I create a custom \"new-style\" reducer for the above linked-list example?</p>\n"}, {"tags": ["c++", "io-redirection"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1478720888, "post_id": 40514776, "comment_id": 68271347, "body": "You&#39;re not supposed to see the input."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1478722110, "post_id": 40514776, "comment_id": 68271929, "body": "Yes, that&#39;s entirely normal.  When you type at a terminal, the data from the keyboard is echoed back to the output \u2014 it&#39;s actually quite complex when you think about it (the keyboard and the screen are not closely associated with each other electrically, for example).  When the data comes from a file (or down a pipe), the terminal driver isn&#39;t involved so there&#39;s nothing to send the information to the screen."}], "owner": {"reputation": 1885, "user_id": 5424731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4bf3b6355750186d1dcef4fbed296d49?s=128&d=identicon&r=PG&f=1", "display_name": "joe_04_04", "link": "https://stackoverflow.com/users/5424731/joe-04-04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478721021, "creation_date": 1478720665, "last_edit_date": 1478721021, "question_id": 40514776, "link": "https://stackoverflow.com/questions/40514776/viewing-i-o-redirection-in-c", "title": "Viewing I/O Redirection in C++", "body": "<p>I just had a quick question.  Its been a long time since I've used redirection to feed a program large amounts of data (I'm currently using redirection to feed a few hundred thousand numbers into a program that deals with data structures).  When I run the program, I can't see the numbers being input at all.  I have a cin >> statement, but I can't see the numbers being entered.  Is this typical for redirection?  Obviously I'm not typing it in from the keyboard, but I can't recall if we should or shouldn't see it displayed on the screen.</p>\n"}, {"tags": ["c++", "boost", "process"], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 1147830, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f5e6472c69efd2a272696543f478480?s=128&d=identicon&r=PG", "display_name": "veio", "link": "https://stackoverflow.com/users/1147830/veio"}, "is_accepted": false, "score": 1, "last_activity_date": 1479074796, "last_edit_date": 1495535430, "creation_date": 1479072568, "answer_id": 40579028, "question_id": 40514736, "link": "https://stackoverflow.com/questions/40514736/boost-process-captured-stdout-is-buffered-until-size-x/40579028#40579028", "title": "Boost.Process: captured stdout is buffered until size X", "body": "<p>As I found out in the thread <a href=\"https://stackoverflow.com/questions/26433513/how-to-capture-standard-out-and-print-to-both-the-console-and-a-file-during-proc\">How to capture standard out and print to both the console and a file during process runtime (C++/Boost.Process)</a> the python script I ran was the culprit.\nDeactivating the buffering for the python script with <code>export PYTHONUNBUFFERED=1</code> solved it.\nThe env var can be passed in to the application with set_env:</p>\n\n<pre><code>    childProcess.reset(new child(execute(\n                                     set_args(args),\n                                     start_in_dir(workingDir),\n                                     bind_stdout(stdout_sink),\n                                     bind_stderr(stderr_sink),\n                                     inherit_env(),\n                                     set_env(std::vector&lt;std::string&gt; {\"PYTHONUNBUFFERED=1\"}))));\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 1147830, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f5e6472c69efd2a272696543f478480?s=128&d=identicon&r=PG", "display_name": "veio", "link": "https://stackoverflow.com/users/1147830/veio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479074796, "creation_date": 1478720505, "question_id": 40514736, "link": "https://stackoverflow.com/questions/40514736/boost-process-captured-stdout-is-buffered-until-size-x", "title": "Boost.Process: captured stdout is buffered until size X", "body": "<p>I am using boost.process to start another process.\nI want to capture the stdout and print it myself.\nThe problem is, that the output is only printed in chunks or when stopping the subprocess.\nThe test subprocess is a python script which calls <code>echo \"test\"</code> 20 times per second.</p>\n\n<pre><code>void ExternalAppLauncher::setup()\n{\n    boost::process::pipe stdout_p = boost::process::create_pipe();\n    boost::process::pipe stderr_p = boost::process::create_pipe();\n\n    {\n        file_descriptor_sink stdout_sink(stdout_p.sink, close_handle);\n        file_descriptor_sink stderr_sink(stderr_p.sink, close_handle);\n        file_descriptor_source stdout_source(stdout_p.source,  close_handle);\n        file_descriptor_source stderr_source(stderr_p.source,  close_handle);\n\n        out_stream.open(stdout_source);\n        err_stream.open(stderr_source);\n\n        childProcess.reset(new child(execute(\n                                         set_args(args),\n                                         bind_stdout(stdout_sink),\n                                         bind_stderr(stderr_sink),\n                                         inherit_env(),\n                                         // Guarantees that the child process gets killed, even when this process recieves SIGKILL(9) instead of SIGINT(2)\n                                         on_exec_setup([](executor&amp;)\n        {\n            ::prctl(PR_SET_PDEATHSIG, SIGKILL);\n        })\n                                     )));\n    }\n}\n\n// runs in another thread\nvoid ExternalAppLauncher::run()\n{\n    std::string s;\n    while (std::getline(err_stream, s))\n    {\n        std::cout &lt;&lt; s;\n    }\n}\n</code></pre>\n\n<p>This prints the output only every 10 seconds, probably because the buffer needs to be full before it is forwared?\nWhen I dont call <code>bind_stdout()</code> the output appears immediately on the console.\nWhat could solve this problem?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "visual-c++", "stdvector", "icc"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 5, "creation_date": 1478720256, "post_id": 40514660, "comment_id": 68271012, "body": "You have an array of vectors. It looks like you want a single vector."}, {"owner": {"reputation": 2315, "user_id": 2036103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q78o6.png?s=128&g=1", "display_name": "Zen Of Kursat", "link": "https://stackoverflow.com/users/2036103/zen-of-kursat"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1478720299, "post_id": 40514660, "comment_id": 68271032, "body": "vector seems modern way of using dynamic array in C++. and I want it to use. so you have an solution instead of unrate question ?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 5, "creation_date": 1478720404, "post_id": 40514660, "comment_id": 68271086, "body": "Using <code>[]</code> you have created an array of 51 vectors. To have a vector with 51  elements you use <code>std::vector &lt;Bird&gt; B(51);</code>"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1478720488, "post_id": 40514660, "comment_id": 68271134, "body": "I&#39;ll just point out that <code>std::vector</code> was around for about 15 years, even longer if you count the original STL implementation... So &quot;modern&quot; is maybe not the word I&#39;d choose."}, {"owner": {"reputation": 2315, "user_id": 2036103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q78o6.png?s=128&g=1", "display_name": "Zen Of Kursat", "link": "https://stackoverflow.com/users/2036103/zen-of-kursat"}, "edited": false, "score": 0, "creation_date": 1478720584, "post_id": 40514660, "comment_id": 68271193, "body": "Thanks Mr Bo. I saw my bad. I didnt know to use ( instead of [. that solves problem"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1478720815, "post_id": 40514660, "comment_id": 68271308, "body": "@N.Ramos See <a href=\"http://en.cppreference.com/w/cpp/container/vector/vector\" rel=\"nofollow noreferrer\"><code>std::vector</code>s constructor reference</a> and <a href=\"http://i0.kym-cdn.com/entries/icons/facebook/000/000/554/facepalm.jpg\" rel=\"nofollow noreferrer\">facepalm</a> :P."}], "answers": [{"tags": [], "owner": {"reputation": 2315, "user_id": 2036103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q78o6.png?s=128&g=1", "display_name": "Zen Of Kursat", "link": "https://stackoverflow.com/users/2036103/zen-of-kursat"}, "is_accepted": true, "score": 1, "last_activity_date": 1478720745, "creation_date": 1478720745, "answer_id": 40514794, "question_id": 40514660, "link": "https://stackoverflow.com/questions/40514660/how-to-access-vector-class-array-methods-in-c/40514794#40514794", "title": "How to access vector class array methods in c++", "body": "<p>as mr Boo response exactly.</p>\n\n<pre><code>class Bird{\n\npublic:\n    void init();\n    Bird();//constructor\n    void foo();//its defined somewhere\n};\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    std::vector &lt;Bird&gt; B(51); // fixed line\n\n    for (int i = 0; i &lt; 51; i++)\n       B[i].foo();\n}\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2036103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q78o6.png?s=128&g=1", "display_name": "Zen Of Kursat", "link": "https://stackoverflow.com/users/2036103/zen-of-kursat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "closed_date": 1478750526, "accepted_answer_id": 40514794, "answer_count": 1, "score": -2, "last_activity_date": 1478720745, "creation_date": 1478720214, "question_id": 40514660, "link": "https://stackoverflow.com/questions/40514660/how-to-access-vector-class-array-methods-in-c", "closed_reason": "Not suitable for this site", "title": "How to access vector class array methods in c++", "body": "<pre><code>class Bird{\n\npublic:\n    void init();\n    Bird();//constructor\n    void foo();//its defined somewhere\n};\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    std::vector &lt;Bird&gt; B[51];\n\n    for (int i = 0; i &lt; 51; i++)\n       B[i].foo();\n}\n</code></pre>\n\n<p>it seems vector is a safe and modern way to generate 51 object safely.</p>\n\n<p>assume Im creating an Object Array from class Bird. and want to use each objects method. (I cant use static object array because I have to swap the array members later.)</p>\n\n<p><br/><br/></p>\n\n<p>(and I didnt use C++ since 2000. Now I have to)</p>\n"}, {"tags": ["c++", "opencv", "image-processing"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "edited": false, "score": 0, "creation_date": 1478722372, "post_id": 40515094, "comment_id": 68272052, "body": "Is this still true if I want to discriminate terrain? I have a class for grass texture and a class for asphalt texture, the thing is: I&#39;m trying to classify these types of textures and my classification algorithm is missing a lot when I use another dataset that wasn&#39;t generated by my LBP the classification algorithm can discriminate with a good percentage of hits so I can only assume my LBP is not doing what it should and I&#39;m not slicing the image and concatenating the feature vectors, I thought that since I want to classify the whole thing as texture A or B I could do it like that."}, {"owner": {"reputation": 71, "user_id": 2308201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUxiQ.jpg?s=128&g=1", "display_name": "sebesbal", "link": "https://stackoverflow.com/users/2308201/sebesbal"}, "reply_to_user": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "edited": false, "score": 0, "creation_date": 1478724191, "post_id": 40515094, "comment_id": 68272976, "body": "If the pictures are all homogenous you can skip the splitting. But if you train a classifier in this way, then give it a cat (what is not homogenous), it could be easily classified as asphalt based on the histogram, while with more resolution (splitting) the classifier would detect the inhomogeneity. Anyway, if your classifier performs differently during training and testing, then your training dataset is insufficient."}, {"owner": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "edited": false, "score": 0, "creation_date": 1478724566, "post_id": 40515094, "comment_id": 68273158, "body": "I see, I&#39;m just thinking about how long it will take to classify everything if I split my image on 4 sub-images I have a feature vector of 236 positions (237 if I count the label field), but if I split my image into 10 sub-images this feature vector grows to 590 positions and this is just for one image! That&#39;s why I thought I understood it wrong when the article says &quot;concatenate each histogram&quot;"}, {"owner": {"reputation": 71, "user_id": 2308201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUxiQ.jpg?s=128&g=1", "display_name": "sebesbal", "link": "https://stackoverflow.com/users/2308201/sebesbal"}, "reply_to_user": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "edited": false, "score": 0, "creation_date": 1478727867, "post_id": 40515094, "comment_id": 68274748, "body": "You can use other features. Eg. if you want to recognize only homogeneous images, you don&#39;t need the 4 sub-images, only the information that they are similar or not. So, besides the whole image histogram, the dispersion of the sub-image histograms can be sufficient."}, {"owner": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "edited": false, "score": 0, "creation_date": 1478729000, "post_id": 40515094, "comment_id": 68275198, "body": "I see, well, thank you very much for your patience , you helped me a lot!"}], "tags": [], "owner": {"reputation": 71, "user_id": 2308201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUxiQ.jpg?s=128&g=1", "display_name": "sebesbal", "link": "https://stackoverflow.com/users/2308201/sebesbal"}, "is_accepted": true, "score": 0, "last_activity_date": 1478721915, "creation_date": 1478721915, "answer_id": 40515094, "question_id": 40514586, "link": "https://stackoverflow.com/questions/40514586/local-binary-pattern-logic/40515094#40515094", "title": "Local Binary Pattern Logic", "body": "<p>With more splitting you get more information about the image: what are the textures on different parts of the image. Without splitting, you get only an average texture. Just imagine you want to recognize a cat from a histogram, or from an image with 100*100 pixels.</p>\n"}], "owner": {"reputation": 37, "user_id": 3533910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8533591ed2582e278b40dba76bfbfcf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3533910", "link": "https://stackoverflow.com/users/3533910/user3533910"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 40515094, "answer_count": 1, "score": 0, "last_activity_date": 1478721915, "creation_date": 1478719857, "question_id": 40514586, "link": "https://stackoverflow.com/questions/40514586/local-binary-pattern-logic", "title": "Local Binary Pattern Logic", "body": "<p>I have a doubt regarding the histogram on the LBP algorithm.\nLet's say I have an image that is 1000x1000 and I split this image into 4 sub-images of 250x250 each so as far as I know I should compute each sub-image histogram generating a histogram vector of 59 positions (Uniform LBP version).</p>\n\n<p>My doubt is, the Wikipedia article says I have to concatenate each histogram vector to generate the feature vector so the feature vector of my image is a vector with 236 positions ? 59 positions * 4 sub-images.</p>\n\n<p>Is it wrong to compute the whole image and generate just one 59 position histogram vector as my feature vector? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "arrays", "go", "reference"], "comments": [{"owner": {"reputation": 86274, "user_id": 32880, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35b00dd652b316f6cd6bb5c12c5be999?s=128&d=identicon&r=PG", "display_name": "JimB", "link": "https://stackoverflow.com/users/32880/jimb"}, "edited": false, "score": 3, "creation_date": 1478720652, "post_id": 40514555, "comment_id": 68271221, "body": "Have you gone through any of the documentation, like the <a href=\"https://golang.org/doc/effective_go.html#slices\" rel=\"nofollow noreferrer\">Slices section in &quot;Effective Go&quot;</a>, the <a href=\"https://tour.golang.org/moretypes/7\" rel=\"nofollow noreferrer\">&quot;Tour of Go&quot; section on slices</a>, the <a href=\"https://golang.org/ref/spec#Slice_types\" rel=\"nofollow noreferrer\">Slice specification</a>, or even the <a href=\"https://blog.golang.org/go-slices-usage-and-internals\" rel=\"nofollow noreferrer\">Go blog post about slices</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": false, "score": 1, "last_activity_date": 1478720575, "creation_date": 1478720575, "answer_id": 40514752, "question_id": 40514555, "link": "https://stackoverflow.com/questions/40514555/golang-passing-arrays-to-the-function-and-modifying-it/40514752#40514752", "title": "Golang passing arrays to the function and modifying it", "body": "<p>What you are defining is not <code>array</code> but a <code>slice</code> of an array which is passed by reference as specified in golang documentation. Check <a href=\"https://tour.golang.org/moretypes/6\" rel=\"nofollow noreferrer\">this</a> link.</p>\n"}, {"tags": [], "owner": {"reputation": 284620, "user_id": 1705598, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/aTFoe.jpg?s=128&g=1", "display_name": "icza", "link": "https://stackoverflow.com/users/1705598/icza"}, "is_accepted": true, "score": 10, "last_activity_date": 1478796022, "last_edit_date": 1495540414, "creation_date": 1478720586, "answer_id": 40514753, "question_id": 40514555, "link": "https://stackoverflow.com/questions/40514555/golang-passing-arrays-to-the-function-and-modifying-it/40514753#40514753", "title": "Golang passing arrays to the function and modifying it", "body": "<p>The explanation is rather simple: <em>there isn't a single <a href=\"https://golang.org/ref/spec#Array_types\" rel=\"noreferrer\">array</a> declared or used explicitly in your code above</em>. Your <code>tab</code> local variable and the <code>tab</code> parameter are <a href=\"https://golang.org/ref/spec#Slice_types\" rel=\"noreferrer\"><em>slices</em></a>.</p>\n\n<p>In Go the length of an array is part of the type, e.g. <code>[3]int</code> (this is true to an extent that for example <code>[2]int</code> and <code>[3]int</code> are 2 different / distinct array types). If the length is not present (either explicit like <code>[2]int</code> or implicit like in the <a href=\"https://golang.org/ref/spec#Composite_literals\" rel=\"noreferrer\">composite literal</a> <code>[...]int{1, 2, 3}</code>), then that is not an array type but a slice type.</p>\n\n<p>Yes, as you read, an array value means all its elements, and when passed around (or assigned), all its elements are copied. Slices however are just small descriptors, headers, describing a contiguous section of an array; and when slices are passed around (or assigned), only this header is copied (the pointer included), which will point to the same underlying array. And so if you modify the elements of the slice-copy, the changes will be reflected in the original slice as there is only one backing array that holds the elements.</p>\n\n<p><sup>If you want to know what's in a slice header exactly, you may check out the <a href=\"https://golang.org/pkg/reflect/#SliceHeader\" rel=\"noreferrer\"><code>reflect.SliceHeader</code></a> type: it's a <code>struct</code> containing the pointer to the first element of the slice, the length and the capacity of the slice.</sup></p>\n\n<p><strong>Please read the following blog posts which explain this in great details:</strong></p>\n\n<p><a href=\"https://blog.golang.org/go-slices-usage-and-internals\" rel=\"noreferrer\">Go Slices: usage and internals</a></p>\n\n<p><a href=\"https://blog.golang.org/slices\" rel=\"noreferrer\">Arrays, slices (and strings): The mechanics of 'append'</a></p>\n\n<p><strong>Also see these related questions for more details:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38645175/why-have-arrays-in-go\">Why have arrays in Go?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39993688/are-golang-slices-pass-by-value\">Are golang slices pass by value?</a></p>\n"}], "owner": {"reputation": 560, "user_id": 5232293, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/gSyD1.jpg?s=128&g=1", "display_name": "Jakub Kopy\u015b", "link": "https://stackoverflow.com/users/5232293/jakub-kopy%c5%9b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4280, "favorite_count": 0, "accepted_answer_id": 40514753, "answer_count": 2, "score": 2, "last_activity_date": 1478796022, "creation_date": 1478719671, "last_edit_date": 1478720032, "question_id": 40514555, "link": "https://stackoverflow.com/questions/40514555/golang-passing-arrays-to-the-function-and-modifying-it", "title": "Golang passing arrays to the function and modifying it", "body": "<p>In most languages (like c++) passing arrays result in implicitly passing it by a reference, so any changes to the passed array in the function will result in changing the original one. I am learning Golang, and In the book \"The Go Programming Language\" by Alan A.A. Donovan and Brian W. Kernighan It is said, that its behaviour is different from other languages - It does not implicitly pass array by reference.</p>\n\n<p>It is confusing me a bit - doesn't that mean that passing an array without the reference should not modify the array itself? Let me illustrate that:</p>\n\n<pre><code>func main() {\n    tab := []int{1, 2, 3}\n    fmt.Println(tab)\n    // Results in [1 2 3]\n    reverse(tab)\n    fmt.Println(tab)\n    // Results in [3 2 1]\n}\n\nfunc reverse(tab []int) {\n    for i, j := 0, len(tab)-1; i &lt; j; i, j = i+1, j-1 {\n        tab[i], tab[j] = tab[j], tab[i]\n    }\n}\n</code></pre>\n\n<p>In code above array is not passed by the reference, but the reverse function modifies the original one, so It works somewhat like C++ program would do. Could anyone explain me the difference?</p>\n\n<p>PS: Sorry if it is a dummy question, I am totally new to the Golang and trying to understand the basics well.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478719913, "post_id": 40514481, "comment_id": 68270866, "body": "If it was a parent class, you wouldn&#39;t need a cast at all"}, {"owner": {"reputation": 10248, "user_id": 268396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4220afde4dd928ef33648797c7415ada?s=128&d=identicon&r=PG", "display_name": "user268396", "link": "https://stackoverflow.com/users/268396/user268396"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478721021, "post_id": 40514481, "comment_id": 68271404, "body": "@StoryTeller while correct, please note that the Qt pimpl idiom explicitly cannot assume anything about hiearchies, the macros are API which must work with arbitrary consuming code."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 10248, "user_id": 268396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4220afde4dd928ef33648797c7415ada?s=128&d=identicon&r=PG", "display_name": "user268396", "link": "https://stackoverflow.com/users/268396/user268396"}, "edited": false, "score": 0, "creation_date": 1478721224, "post_id": 40514481, "comment_id": 68271507, "body": "@user268396, how is my comment in conflict with what you said?"}], "answers": [{"comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1478721946, "post_id": 40514537, "comment_id": 68271841, "body": "The PIMPL classes typically must have a virtual destructor, since they will <i>always</i> be destroyed via the pointer to the base class. So that&#39;s not it. One big reason is that <code>dynamic_cast</code> is not supported in Qt source code.  The <code>dynamic_cast</code> appears in about a dozen locations in Qt 5.7.0 sources, and all of them are essentially bugs/omissions."}], "tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": false, "score": 1, "last_activity_date": 1478719598, "creation_date": 1478719598, "answer_id": 40514537, "question_id": 40514481, "link": "https://stackoverflow.com/questions/40514481/why-reinterpret-cast-is-used-in-the-implementation-d-fun-while-defining-q-decl/40514537#40514537", "title": "Why reinterpret_cast is used in the implementation d_fun() while defining Q_DECLARE_PRIVATE macro", "body": "<p>Because <code>dynamic_cast</code> requires the class to have at least one <code>virtual</code> method (it needs to be polymorphic). Just class inheritance isn't enough for <code>dynamic_cast</code> to succeed.</p>\n"}, {"comments": [{"owner": {"reputation": 1553, "user_id": 2181692, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50f1d97a462754152dbbec1f8a2b056d?s=128&d=identicon&r=PG", "display_name": "Sajal", "link": "https://stackoverflow.com/users/2181692/sajal"}, "edited": false, "score": 0, "creation_date": 1478721957, "post_id": 40514737, "comment_id": 68271848, "body": "@Kuba Ober: Thanks for explaining why <code>static_cast</code> wouldn&#39;t work as well."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1478722114, "last_edit_date": 1592644375, "creation_date": 1478720506, "answer_id": 40514737, "question_id": 40514481, "link": "https://stackoverflow.com/questions/40514481/why-reinterpret-cast-is-used-in-the-implementation-d-fun-while-defining-q-decl/40514737#40514737", "title": "Why reinterpret_cast is used in the implementation d_fun() while defining Q_DECLARE_PRIVATE macro", "body": "<p>The reasons are:</p>\n<ol>\n<li><p>A <code>dynamic_cast</code> is not supported in Qt source code, as Qt can be built with RTTI turned off.</p>\n<p>The <code>dynamic_cast&lt;</code> string appears in about a dozen locations in non-tests, non-3rdparty Qt 5.7.0 sources, and most of them are essentially bugs/omissions.</p>\n</li>\n<li><p>The macro is used in headers where <code>Class##Private</code> is forward-defined. A <code>static_cast</code> wouldn't work as the compiler doesn't know that <code>Class##Private</code> is derived from the pointed-to type of <code>d_ptr</code>.</p>\n</li>\n<li><p>If <code>Class##Private</code> wasn't forward-defined, then the correct cast to use would be <code>static_cast</code>. A <code>dynamic_cast</code> would be a premature pessimization, since the macro is used in a place where <code>d_ptr</code>'s pointed-to type is known at compile time, albeit not in the header.</p>\n</li>\n</ol>\n<p>For more details about <code>Q_DECLARE_PRIVATE</code>, see also <a href=\"https://stackoverflow.com/q/25250171/1329652\">How to use the Qt&#39;s PIMPL idiom?</a>.</p>\n"}], "owner": {"reputation": 1553, "user_id": 2181692, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50f1d97a462754152dbbec1f8a2b056d?s=128&d=identicon&r=PG", "display_name": "Sajal", "link": "https://stackoverflow.com/users/2181692/sajal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1478722114, "creation_date": 1478719358, "question_id": 40514481, "link": "https://stackoverflow.com/questions/40514481/why-reinterpret-cast-is-used-in-the-implementation-d-fun-while-defining-q-decl", "title": "Why reinterpret_cast is used in the implementation d_fun() while defining Q_DECLARE_PRIVATE macro", "body": "<p>Qt classes have a <code>Q_DECLARE_PRIVATE</code> macro in the public class. The macro reads:</p>\n\n<pre><code>#define Q_DECLARE_PRIVATE(Class)\\\n    inline Class##Private* d_func() {\\\n        return reinterpret_cast&lt;Class##Private*&gt;(qGetPtrHelper(d_ptr));\\\n    }\\\n    inline const Class##Private d_func() const {\\\n        return reinterpret_cast&lt;const Class##Private *&gt;(qGetPtrHelper(d_ptr));\\\n    }\\\n    friend class Class##Private;\n</code></pre>\n\n<p>Here, as per my understanding <code>Class##Private</code> will be parent of class of <code>d_ptr</code> then why <code>reinterpret_cast</code> is used and not <code>dynamic_cast</code>?</p>\n"}, {"tags": ["c++", "qt", "googletest"], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 7137867, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FvVfZyScV4Q/AAAAAAAAAAI/AAAAAAAAADA/5-libN4cCck/photo.jpg?sz=128", "display_name": "Paul T", "link": "https://stackoverflow.com/users/7137867/paul-t"}, "edited": false, "score": 0, "creation_date": 1478812020, "post_id": 40515361, "comment_id": 68313510, "body": "The sleep was there to give me time to connect with a client before the server was destroyed. This was not the production code, just a very simplified example of my problem. Marco.m answered this for me, thanks."}], "tags": [], "owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1478722931, "creation_date": 1478722931, "answer_id": 40515361, "question_id": 40514464, "link": "https://stackoverflow.com/questions/40514464/virtual-function-in-derived-class-not-getting-called-when-testing-with-googletes/40515361#40515361", "title": "virtual function in derived class not getting called when testing with GoogleTest", "body": "<p>the problem is that your <code>server</code> object is destroyed once <code>TEST</code> ends. \nmay be try </p>\n\n<pre><code>QTcpServer *server;\nTEST(MyServer, Successful_Connection)\n{\n server = new MyServer;\n server-&gt;listen(QHostAddress::AnyIPv4, 4444);\n QThread::sleep(30);\n}\n</code></pre>\n\n<p>and delete <code>server</code> after the <code>TEST</code> is finished.</p>\n"}, {"comments": [{"owner": {"reputation": 326, "user_id": 7137867, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FvVfZyScV4Q/AAAAAAAAAAI/AAAAAAAAADA/5-libN4cCck/photo.jpg?sz=128", "display_name": "Paul T", "link": "https://stackoverflow.com/users/7137867/paul-t"}, "edited": false, "score": 0, "creation_date": 1478799844, "post_id": 40515481, "comment_id": 68307521, "body": "Thanks for this answer. I switched to using <a href=\"http://doc.qt.io/qt-5/qttest-index.html\" rel=\"nofollow noreferrer\">Qt Test</a>. I will add, tests needing an event loop run qApp-&gt;processEvents() within their initTestCase function."}], "tags": [], "owner": {"reputation": 3889, "user_id": 561422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwFD0.jpg?s=128&g=1", "display_name": "marco.m", "link": "https://stackoverflow.com/users/561422/marco-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1478723390, "creation_date": 1478723390, "answer_id": 40515481, "question_id": 40514464, "link": "https://stackoverflow.com/questions/40514464/virtual-function-in-derived-class-not-getting-called-when-testing-with-googletes/40515481#40515481", "title": "virtual function in derived class not getting called when testing with GoogleTest", "body": "<p>The first observation is that these are not Unit Tests, are more integration tests, since they use the network and the Qt event loop.</p>\n\n<p>The problem is that you are testing Qt signals that need the Qt event loop (the <code>a.exec()</code> call) to be running. But in your <code>main</code>, you are actually running the tests before starting the event loop. I am not sure it is worthwhile to try to shoehorn the Qt event loop within gtest.</p>\n\n<p>I suggest another approach: use <a href=\"http://doc.qt.io/qt-5/qttest-index.html\" rel=\"nofollow noreferrer\">Qt Test</a>, which is perfectly adapted to the Qt event loop, and has, for example, a very handy signal spy to verify signal propagation.</p>\n"}], "owner": {"reputation": 326, "user_id": 7137867, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FvVfZyScV4Q/AAAAAAAAAAI/AAAAAAAAADA/5-libN4cCck/photo.jpg?sz=128", "display_name": "Paul T", "link": "https://stackoverflow.com/users/7137867/paul-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 40515481, "answer_count": 2, "score": 0, "last_activity_date": 1478723390, "creation_date": 1478719272, "question_id": 40514464, "link": "https://stackoverflow.com/questions/40514464/virtual-function-in-derived-class-not-getting-called-when-testing-with-googletes", "title": "virtual function in derived class not getting called when testing with GoogleTest", "body": "<p>I am having trouble with GoogleTest calling a virtual function that I have defined in my derived class.</p>\n\n<p>I have created a class MyServer using Qt that is derived from QTcpServer. When I run this code outside of GoogleTest the program behaves as expected. When I create a project with GoogleTest incomingConnection in my class never gets called. The socket is accepted as if QTcpServer::incomingConnection receives the call.</p>\n\n<p>MyThread will emit a signal ReadySocket() which is normally connected to whomever created MyServer. When testing I created a MyServerTester Class that would receive the signal and set a flag that I could assert on.</p>\n\n<p>I can simplify the problem down to the following code set a breakpoint in incomingConnection, start the server, connect to it with a client. The connection will be accepted, MyServer::incomingConnection will not be entered, therfore MyThread will never be created.</p>\n\n<p><strong>Project:Server File:MyServer.h</strong></p>\n\n<pre><code>class MyServer : public QTcpServer\n{\n    Q_OBJECT\n\npublic:\n    MyServer(QObject *parent = 0);\n\nprotected:\n    void incomingConnection(qintptr socketDescriptor) Q_DECL_OVERRIDE;\n}\n</code></pre>\n\n<p><strong>Project:Server File:MyServer.cpp</strong></p>\n\n<pre><code>#include \"MyServer.h\"\n\nMyServer::MyServer(QObject *parent) : QTcpServer(parent) { }\n\nvoid MyServer::incomingConnection(qintptr socketDescriptor)\n{\n    MyThread *thread = new MyThread(socketDescriptor, this);\n    connect( thread, SIGNAL(finished()), thread, SLOT(deleteLater()));\n}\n</code></pre>\n\n<p><strong>Project:Server_Test File:main.cpp</strong></p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include \"gtest\\gtest.h\"\n#include \"..\\Server\\MyServer.h\"\n\nTEST(MyServer, Successful_Connection)\n{\n    MyServer server;\n    server.listen(QHostAddress::AnyIPv4, 4444);\n    QThread::sleep(30);\n}\n\nint main(int argc, char*argv[])\n{\n    QCoreApplication a(argc, argv);\n    ::testing::InitGoogleTest(&amp;argc, argv);\n    RUN_ALL_TESTS();\n\n    return a.exec()\n}\n</code></pre>\n"}, {"tags": ["c++", "vector", "stl", "std", "allocator"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1478719038, "post_id": 40514362, "comment_id": 68270457, "body": "Why would it? If you think it should have such a thing, maybe lobby the C++ committee. Keep in mind they&#39;re usually opposed to adding pointless frills to the core containers. Why not just delete and recreate the <code>std::vector</code> object? I think you&#39;ll find implementing <code>release</code> for this is extremely non-trivial."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1478719130, "post_id": 40514362, "comment_id": 68270502, "body": "Your example is too simplistic. How would you know which destructors to call? How would you find the correct allocator?"}, {"owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1478719352, "post_id": 40514362, "comment_id": 68270625, "body": "@Kerrek SB Yes, I was thinking about this kind kind of problematics, but I can&#39;t see the point precisely. Does <code>std::vector</code> handle destruction in a way that a simple <code>delete []</code> would not be able to?"}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1478719359, "post_id": 40514362, "comment_id": 68270630, "body": "Gosh dang it. I hate having this C++ dupe hammer. <a href=\"http://stackoverflow.com/questions/10464992/c-delete-vector-objects-free-memory\">You can completely clear the contents of a vector if you want (and free the memory)</a>, and I suspect that may solve your underlying problem, but if not you might have to expand on your question so a better alternative can be suggested. <code>std::vector</code> doesn&#39;t allow you to steal ownership of the underlying data like <code>std::unique_ptr</code> does."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1478719432, "post_id": 40514362, "comment_id": 68270656, "body": "@EmeraldWeapon: Please contemplate the semantics of <code>capacity</code> and <code>reserve</code>. (And again, <code>int</code> is too simple.)"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1478720309, "post_id": 40514362, "comment_id": 68271035, "body": "c++11 allows <a href=\"http://en.cppreference.com/w/cpp/container/vector/shrink_to_fit\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/vector/shrink_to_fit</a> (although it is optional for the implementation)"}, {"owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 0, "creation_date": 1513158388, "post_id": 40514362, "comment_id": 82540823, "body": "I think it <i>should</i> have a <code>release</code> function. In this way, the data could be moved to classes unrelated to <code>std::vector</code>. I think the modifications to the STL related move semantics where too conservative. Some details have to be worked out, for example how to pass the information about the allocator. But I guess that can be passed if release returns a <code>unique_ptr</code> or a <code>shared_ptr</code> (<a href=\"https://stackoverflow.com/questions/33845132/using-stdunique-ptr-with-allocators\" title=\"using stdunique ptr with allocators\">stackoverflow.com/questions/33845132/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "edited": false, "score": 0, "creation_date": 1478719514, "post_id": 40514447, "comment_id": 68270686, "body": "Thanks, this is exactly what I was wondering. Allocation/deallocation is done in a non trivial way inside <code>std::vector</code>."}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 4, "last_activity_date": 1531059381, "last_edit_date": 1531059381, "creation_date": 1478719230, "answer_id": 40514447, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method/40514447#40514447", "title": "Why std::vector does not have a release method?", "body": "<blockquote>\n  <p>functionUsingAndInternallyDeletingRowPointer</p>\n</blockquote>\n\n<p>And what exactly would this function do? Because that memory was allocated by calling <code>std::allocator_traits&lt;std::allocator&lt;T&gt;&gt;::allocate</code>, which expects it to be deleted by calling <code>std::allocator_traits&lt;std::allocator&lt;T&gt;&gt;::deallocate</code>. Furthermore, each element of the <code>vector</code> was constructed with a call to <code>std::allocator_traits&lt;std::allocator&lt;T&gt;&gt;::construct</code>, and therefore must be destroyed by a call to <code>std::allocator_traits&lt;std::allocator&lt;T&gt;&gt;::destroy</code>.</p>\n\n<p>If that function tries to do <code>delete []</code> on that pointer, it won't work. Or at the very least, it isn't <em>required</em> to work.</p>\n\n<p>It might be reasonable to be able to extract a memory buffer from a <code>vector</code> and use it directly. But it could not be a mere pointer. It would have to have an allocator along with it.</p>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 2, "last_activity_date": 1478719322, "creation_date": 1478719322, "answer_id": 40514471, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method/40514471#40514471", "title": "Why std::vector does not have a release method?", "body": "<p>There are two reasons I can think of:</p>\n\n<ol>\n<li>originally (pre-C++11), <code>vector</code> was compatible with small object optimization. That is, it could've pointed into itself if its size was small enough. This was inadvertently disabled in C++11 (<code>vector</code>'s move semantics forbid invalidating of references/iterators), but it may be fixed in future standards. So, there was no reason to provide it historically, and hopefully there won't be in the future.</li>\n<li>allocators. Your function is likely to invoke undefined behaviour if passed a pointer to a vector with allocator it didn't expect</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "edited": false, "score": 0, "creation_date": 1478720884, "post_id": 40514614, "comment_id": 68271342, "body": "Thanks, especially for the first of your points. It now looks obvious."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1478820934, "post_id": 40514614, "comment_id": 68317116, "body": "&quot;<i>the allocation might come from a pool of small arrays</i>&quot; Which would break threading guarantees, unless the type locks mutexes very frequently."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1478822025, "post_id": 40514614, "comment_id": 68317442, "body": "@Nicol: Eh? I don&#39;t see what other than construction, destruction, and resizing could potentially require synchronization. If vector always deferred to the allocator... well, that&#39;s just passing the problem onto a different software component that still has to manage threading guarantees."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1478822531, "post_id": 40514614, "comment_id": 68317584, "body": "@Hurkyl: Every insertion operation is a potential resize operation. So that&#39;s a lot of things that <code>vector</code> does. If it were accessing a global pool of memory, then that pool would have to be mutex-locked. Also, I&#39;m not certain, but I&#39;m fairly sure that container implementations are required to use allocators, rather than static blocks of memory. If containers could take it on themselves as to where memory comes from, there would be no point in being able to replace their allocations."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1478822902, "post_id": 40514614, "comment_id": 68317689, "body": "@Nicol: But you don&#39;t have to lock on insert -- you would only have to lock when the insert triggers a resize and even then, only if it needs to interact with a shared cache rather than a thread local cache of small allocations). And even if <code>vector</code> didn&#39;t do it, this might be a thing the allocator is doing. I could have just appealed to the allocator directly in my answer, but I don&#39;t think &quot;you can&#39;t release and call <code>delete[]</code> because <code>vector</code> is mandated to use <code>allocator::deallocate</code> to do deallocations&quot; would have been a very informative answer to the OP."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1478823281, "post_id": 40514614, "comment_id": 68317804, "body": "@Nicol: I know that the container classes are supposed to use the allocator to do allocations and deallocations, but after some brief skimming, it&#39;s not obvious to me that the usage needs to be in one-to-one correspondence with &quot;apparent&quot; operations. (e.g. that the destructor could cache the internal allocation for use by a later constructor) I am curious now on this point, though!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "is_accepted": true, "score": 1, "last_activity_date": 1478719999, "creation_date": 1478719999, "answer_id": 40514614, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method/40514614#40514614", "title": "Why std::vector does not have a release method?", "body": "<blockquote>\n  <p>May that impose some constraint on std::vector's the internal implementation?</p>\n</blockquote>\n\n<p>Here are some examples of things that allowing this would conflict with:</p>\n\n<ul>\n<li>Barring special cases, the underlying memory allocation <em>cannot</em> be obtained by <code>new T[]</code>, nor destroyed by <code>delete[]</code>, since these would call constructors and destructors on memory that that is allocated but should not actually contain any objects of type <code>T</code>. </li>\n<li>The beginning of the array might not actually be the beginning of the memory allocation; e.g. the vector could store bookkeeping information just before the start of the array</li>\n<li><code>vector</code> might not actually free the memory when destroyed; e.g. instead the allocation might come from a pool of small arrays that the implementation uses for quickly creating and destroying small vectors. (furthermore, these arrays might all just be slices of a larger array)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 13902, "user_id": 162094, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9d63598e5173aef56d778b6208e45fb?s=128&d=identicon&r=PG", "display_name": "Stuart Berg", "link": "https://stackoverflow.com/users/162094/stuart-berg"}, "is_accepted": false, "score": 3, "last_activity_date": 1583775650, "last_edit_date": 1583775650, "creation_date": 1515605432, "answer_id": 48192998, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method/48192998#48192998", "title": "Why std::vector does not have a release method?", "body": "<p>This was proposed in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4359.pdf\" rel=\"nofollow noreferrer\">N4359</a>, but it turns out there are some subtle issues that place burdens on the caller to avoid incorrect behavior (mostly related to allocators, it seems).  A discussion of the difficulties and possible alternatives can be found <a href=\"https://groups.google.com/a/isocpp.org/d/msg/std-proposals/H2-dd8sFAKA/8gzJZbsSisoJ\" rel=\"nofollow noreferrer\">here</a>.  It was ultimately rejected by the C++ standards body.  Further discussion can be found in comments <a href=\"https://stackoverflow.com/questions/36643645/deny-stdvector-from-deleting-its-data/36644003\">this question</a> and its answers.</p>\n"}, {"tags": [], "owner": {"reputation": 13193, "user_id": 213871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c228b6e11e7b817fd504a144ffbd773?s=128&d=identicon&r=PG", "display_name": "ceztko", "link": "https://stackoverflow.com/users/213871/ceztko"}, "is_accepted": false, "score": 0, "last_activity_date": 1575230053, "last_edit_date": 1575230053, "creation_date": 1575216939, "answer_id": 59127415, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method/59127415#59127415", "title": "Why std::vector does not have a release method?", "body": "<p>I was able to implement the functionality to retrieve the current allocated array using a custom allocator. The following code show the concept:</p>\n\n<pre><code>#ifdef _MSC_VER \n#define _CRT_SECURE_NO_WARNINGS\n#endif\n\n#include &lt;cassert&gt;\n#include &lt;cstring&gt;\n#include &lt;memory&gt;\n#include &lt;stdexcept&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\n// The requirements for the allocator where taken from Howard Hinnant tutorial:\n// https://howardhinnant.github.io/allocator_boilerplate.html\n\ntemplate &lt;typename T&gt;\nstruct MyAllocation\n{\n    size_t Size = 0;\n    std::unique_ptr&lt;T&gt; Ptr;\n\n    MyAllocation() { }\n\n    MyAllocation(MyAllocation &amp;&amp; other) noexcept\n        : Ptr(std::move(other.Ptr)), Size(other.Size)\n    {\n        other.Size = 0;\n    }\n};\n\n// This allocator keep ownership of the last allocate(n)\ntemplate &lt;typename T&gt;\nclass MyAllocator\n{\npublic:\n    using value_type = T;\n\nprivate:\n    // This is the actual allocator class that will be shared\n    struct Allocator\n    {\n        [[nodiscard]] T* allocate(std::size_t n)\n        {\n            T *ret = new T[n];\n            if (!(Current.Ptr == nullptr || CurrentDeallocated))\n            {\n                // Actually release the ownership of the Current unique pointer\n                Current.Ptr.release();\n            }\n\n            Current.Ptr.reset(ret);\n            Current.Size = n;\n            CurrentDeallocated = false;\n            return ret;\n        }\n\n        void deallocate(T* p, std::size_t n)\n        {\n            (void)n;\n            if (Current.Ptr.get() == p)\n            {\n                CurrentDeallocated = true;\n                return;\n            }\n\n            delete[] p;\n        }\n\n        MyAllocation&lt;T&gt; Current;\n        bool CurrentDeallocated = false;\n    };\npublic:\n    MyAllocator()\n        : m_allocator(std::make_shared&lt;Allocator&gt;())\n    {\n        std::cout &lt;&lt; \"MyAllocator()\" &lt;&lt; std::endl;\n    }\n\n    template&lt;class U&gt;\n    MyAllocator(const MyAllocator&lt;U&gt; &amp;rhs) noexcept\n    {\n        std::cout &lt;&lt; \"MyAllocator(const MyAllocator&lt;U&gt; &amp;rhs)\" &lt;&lt; std::endl;\n        // Just assume it's a allocator of the same type. This is needed in\n        // MSVC STL library because of debug proxy allocators\n        // https://github.com/microsoft/STL/blob/master/stl/inc/vector\n        m_allocator = reinterpret_cast&lt;const MyAllocator&lt;T&gt; &amp;&gt;(rhs).m_allocator;\n    }\n\n    MyAllocator(const MyAllocator &amp;rhs) noexcept\n        : m_allocator(rhs.m_allocator)\n    {\n        std::cout &lt;&lt; \"MyAllocator(const MyAllocator &amp;rhs)\" &lt;&lt; std::endl;\n    }\n\npublic:\n    T* allocate(std::size_t n)\n    {\n        std::cout &lt;&lt; \"allocate(\" &lt;&lt; n &lt;&lt; \")\" &lt;&lt; std::endl;\n        return m_allocator-&gt;allocate(n);\n    }\n\n    void deallocate(T* p, std::size_t n)\n    {\n        std::cout &lt;&lt; \"deallocate(\\\"\" &lt;&lt; p &lt;&lt; \"\\\", \" &lt;&lt; n &lt;&lt; \")\" &lt;&lt; std::endl;\n        return m_allocator-&gt;deallocate(p, n);\n    }\n\n    MyAllocation&lt;T&gt; release()\n    {\n        if (!m_allocator-&gt;CurrentDeallocated)\n            throw std::runtime_error(\"Can't release the ownership if the current pointer has not been deallocated by the container\");\n\n        return std::move(m_allocator-&gt;Current);\n    }\n\npublic:\n    // This is the instance of the allocator that will be shared\n    std::shared_ptr&lt;Allocator&gt; m_allocator;\n};\n\n// We assume allocators of different types are never compatible\ntemplate &lt;class T, class U&gt;\nbool operator==(const MyAllocator&lt;T&gt;&amp;, const MyAllocator&lt;U&gt;&amp;) { return false; }\n\n// We assume allocators of different types are never compatible\ntemplate &lt;class T, class U&gt;\nbool operator!=(const MyAllocator&lt;T&gt;&amp;, const MyAllocator&lt;U&gt;&amp;) { return true; }\n\nint main()\n{\n    MyAllocator&lt;char&gt; allocator;\n    {\n        std::vector&lt;char, MyAllocator&lt;char&gt;&gt; test(allocator);\n        test.resize(5);\n        test.resize(std::strlen(\"Hello World\") + 1);\n        std::strcpy(test.data(), \"Hello World\");\n        std::cout &lt;&lt; \"Current buffer: \" &lt;&lt; test.data() &lt;&lt; std::endl;\n        test.pop_back();\n        test.push_back('!');\n        test.push_back('\\0');\n\n        try\n        {\n            (void)allocator.release();\n        }\n        catch (...)\n        {\n            std::cout &lt;&lt; \"Expected throw on release() while the container has still ownership\" &lt;&lt; std::endl;\n        }\n    }\n\n    auto allocation = allocator.release();\n    std::cout &lt;&lt; \"Final buffer: \" &lt;&lt; allocation.Ptr.get() &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>Tested with MSVC15 (VS2017), <a href=\"https://wandbox.org/permlink/OwnDVDiEZ7j5zYeA\" rel=\"nofollow noreferrer\">gcc</a> and <a href=\"https://wandbox.org/permlink/OwnDVDiEZ7j5zYeA\" rel=\"nofollow noreferrer\">clang</a>. The output is pretty much the following, depending also on small differences on STL implementation of <code>std::vector</code> and debug compilation enabled:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>MyAllocator()\nMyAllocator(const MyAllocator &amp;rhs)\nallocate(5)\nallocate(12)\ndeallocate(\"\", 5)\nCurrent buffer: Hello World\nallocate(18)\ndeallocate(\"Hello World!\", 12)\nExpected throw on release() while the container has still ownership\ndeallocate(\"Hello World!\", 18)\nFinal buffer: Hello World!\n</code></pre>\n"}], "owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2403, "favorite_count": 1, "accepted_answer_id": 40514614, "answer_count": 5, "score": 3, "last_activity_date": 1583775650, "creation_date": 1478718887, "last_edit_date": 1575214303, "question_id": 40514362, "link": "https://stackoverflow.com/questions/40514362/why-stdvector-does-not-have-a-release-method", "title": "Why std::vector does not have a release method?", "body": "<p>I found myself in a situation where I would have liked to have an analog of <code>unique_ptr</code>'s <code>release()</code> for <code>std::vector&lt;&gt;</code>. E.g.:</p>\n\n<pre><code>std::vector&lt;int&gt; v(SOME_SIZE);\n\n//.. performing operations on v\n\nint* data = v.release(); // v.size() is now 0 and the ownership of the internal array is released\nfunctionUsingAndInternallyDeletingRowPointer(data);\n</code></pre>\n\n<p>Is there a particular reason why this kind of possibility is not provided? May that impose some constraint on <code>std::vector</code>'s the internal implementation?</p>\n\n<p>Or there is a way to achieve this that I am embarrassingly missing?</p>\n"}, {"tags": ["c++", "qt", "com", "activex", "acrobat"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1478731864, "post_id": 40514345, "comment_id": 68276293, "body": "Yikes, whomever wrote that wiki entry does not understand beans about the way COM works.  The .NET Regasm.exe utility is a very dangerous gun in the wrong hands.  You can also tell that the safety switch was off when he lists Linux and Mac as possible platforms.  The proper ProgId is &quot;AcroPDF.PDF&quot;.  Do avoid taking a dependency on Acrobat, not the kind of program you want to have to support yourself.  Lots and lots of PDF viewers around."}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1478765334, "post_id": 40514345, "comment_id": 68285898, "body": "Possible reason is that ActiveX is 32-bit and your app is 64-bit so it can&#39;t find ActiveX"}], "answers": [{"tags": [], "owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1478719027, "creation_date": 1478719027, "answer_id": 40514399, "question_id": 40514345, "link": "https://stackoverflow.com/questions/40514345/qt-activex-cocreateinstance-failure-class-not-registered-adobe-reader/40514399#40514399", "title": "Qt ActiveX CoCreateInstance failure (Class not registered) Adobe Reader", "body": "<p>Likely the COM object is not found due to missing registration. Make sure that ActiveX DLL is registered. Use <a href=\"https://technet.microsoft.com/en-us/library/bb490985.aspx\" rel=\"nofollow noreferrer\">regsvr32</a>. You might need admin privileges to run it. The command line is:</p>\n\n<pre><code>regsvr32 AcroPDF.dll\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 5922752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/35dd08a2e02dcd588238ee1ab9a63f06?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5922752/mihai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478719027, "creation_date": 1478718824, "question_id": 40514345, "link": "https://stackoverflow.com/questions/40514345/qt-activex-cocreateinstance-failure-class-not-registered-adobe-reader", "title": "Qt ActiveX CoCreateInstance failure (Class not registered) Adobe Reader", "body": "<p>I have the following code from what I read from on the <a href=\"https://wiki.qt.io/Handling_PDF\" rel=\"nofollow noreferrer\">qt wiki</a>:</p>\n\n<pre><code>auto pdfObject = new QAxObject(\"AxAcroPDFLib.AxAcroPDF\");\nqDebug() &lt;&lt; pdfObject-&gt;dynamicCall(\"LoadFile(const QString)\", \"test.pdf\");\nqDebug() &lt;&lt; pdfObject-&gt;dynamicCall(\"Print()\");\n</code></pre>\n\n<p>But when I run it I got the message:</p>\n\n<pre><code>CoCreateInstance failure (Class not registered)\nQAxBase::setControl: requested control AxAcroPDFLib.AxAcroPDF could not be instantiated\n</code></pre>\n\n<p>I searched for the dll required <code>AcroPDF.dll</code> and found in <code>C:\\Program Files (x86)\\Common Files\\Adobe\\Acrobat\\ActiveX</code> and have Adobe Acrobat Reader DC installed. What can I do make this works?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1478718861, "post_id": 40514321, "comment_id": 68270359, "body": "a will be destructed right after the return of function"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478718890, "post_id": 40514321, "comment_id": 68270382, "body": "<code>a</code> exists only inside the function. It comes into existence every time the function is called, and goes out of existence every time it exits."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1478718945, "post_id": 40514321, "comment_id": 68270415, "body": "read about scope resolution: auto and static and global"}, {"owner": {"reputation": 591, "user_id": 3723088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/246c55ad0504b301c93fa563000b9683?s=128&d=identicon&r=PG&f=1", "display_name": "Sam W", "link": "https://stackoverflow.com/users/3723088/sam-w"}, "edited": false, "score": 0, "creation_date": 1478718972, "post_id": 40514321, "comment_id": 68270430, "body": "could be a <a href=\"http://stackoverflow.com/questions/1880984/when-are-variables-removed-from-memory-in-c\">duplicate</a> question"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478718993, "post_id": 40514321, "comment_id": 68270439, "body": "If you had a really good compiler all that would happen is it returns 0."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478719655, "post_id": 40514321, "comment_id": 68270742, "body": "@Nathan The whole program optimized to <code>int main() {}</code> most probably."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1478719095, "post_id": 40514357, "comment_id": 68270484, "body": "Please use automatic(stack) and dynamic(heap) when talking about storage duration.  stack and heap are just common implementations."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478719163, "post_id": 40514357, "comment_id": 68270526, "body": "Welcome to Automatic Overflow, I guess!"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1478719472, "post_id": 40514357, "comment_id": 68270667, "body": "@tadman, cute. But &quot;automatic storage duration&quot; will still be correct when co-routines are introduced into c++. &quot;stack&quot; will not necessarily be."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1478719192, "last_edit_date": 1478719192, "creation_date": 1478718871, "answer_id": 40514357, "question_id": 40514321, "link": "https://stackoverflow.com/questions/40514321/what-happens-to-the-variables-inside/40514357#40514357", "title": "What happens to the variables inside?", "body": "<p>It's <em>generally</em> stored on the stack, that is it's automatically allocated, and the memory for those automatica allocations gets recycled for each function call. Your compiler might decide that this variable is actually useless and ignore it completely since it's never used and doesn't impact any other parts of your code, so what might happen is: Nothing.</p>\n\n<p>In C and C++ it's important to remember there's a huge difference between local variables, which are considered to be automatically-allocated and only survive as long as the function is executing, and dynamically-allocated via pointers and <code>new</code> which survive until they're either removed with <code>delete</code> or the program terminates.</p>\n"}, {"tags": [], "owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "is_accepted": true, "score": 2, "last_activity_date": 1478719015, "creation_date": 1478719015, "answer_id": 40514395, "question_id": 40514321, "link": "https://stackoverflow.com/questions/40514321/what-happens-to-the-variables-inside/40514395#40514395", "title": "What happens to the variables inside?", "body": "<p>It's not really specified. I'll describe the naive case first, and then explain why it may not really apply.</p>\n\n<p>Naively, the memory <code>a</code> was stored in still exists, although the name <code>a</code> is no longer reachable outside <code>function</code>. The memory may or may not still contain <code>10</code> - the compiler is free to overwrite it or to not bother. Obviously it may also be reused as something else any time afterwards.</p>\n\n<p>If <code>a</code> <em>was</em> really allocated in memory, that might be in a region known as the <em>(call) stack</em>, but this is just a popular calling convention and not required by the language.</p>\n\n<p>Now, the compiler is also free to store <code>a</code> only in a register since it notices the address is never taken, in which case it was never <em>in</em> memory in the traditional sense.</p>\n\n<p>The compiler is further free to notice that <code>a</code> is never observably used at all, and not bother emitting any of the code inside <code>function</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 0, "last_activity_date": 1478719151, "creation_date": 1478719151, "answer_id": 40514427, "question_id": 40514321, "link": "https://stackoverflow.com/questions/40514321/what-happens-to-the-variables-inside/40514427#40514427", "title": "What happens to the variables inside?", "body": "<p>When function ends all its local variables essentially <em>disappear</em> (more precisely, they disappear when their block ends).</p>\n\n<p>Talking about their \"last value\" remaining \"in memory\" is a rather pointless exercise since there's a possibility that their value has never been in memory in the first place. And even if it has, there's no guarantee that it is still there, or that that memory is still accessible in any sense.</p>\n"}], "owner": {"reputation": 3, "user_id": 7137899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022962b51620af0f5bc82ea7e13afeac?s=128&d=identicon&r=PG&f=1", "display_name": "Genarto", "link": "https://stackoverflow.com/users/7137899/genarto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 40514395, "answer_count": 3, "score": 0, "last_activity_date": 1478719192, "creation_date": 1478718702, "question_id": 40514321, "link": "https://stackoverflow.com/questions/40514321/what-happens-to-the-variables-inside", "title": "What happens to the variables inside?", "body": "<p>What happens to the variables inside that function ?</p>\n\n<pre><code>void function()\n{\n   int a = 5;\n   a += a; //a contain 10\n}\n\nint main()\n{\n   function();\n   return 0;\n}\n</code></pre>\n\n<p>so what happened here after the function (function()) execution is done does this variable (a) is it still found in memory (uses memory) with its last value which is (10) or its destroyed completely and no longer in memory ?</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"comments": [{"owner": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "edited": false, "score": 0, "creation_date": 1478719080, "post_id": 40514376, "comment_id": 68270479, "body": "Why the <code>{}</code> in initialization?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "edited": false, "score": 0, "creation_date": 1478719671, "post_id": 40514376, "comment_id": 68270746, "body": "@shane: You may omit them in current situation (as variable is static), but I prefer <a href=\"http://en.cppreference.com/w/cpp/language/value_initialization\" rel=\"nofollow noreferrer\">value initialization</a> syntax over <a href=\"http://en.cppreference.com/w/cpp/language/default_initialization\" rel=\"nofollow noreferrer\">default initialization</a> syntax"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1478718945, "creation_date": 1478718945, "answer_id": 40514376, "question_id": 40514292, "link": "https://stackoverflow.com/questions/40514292/how-can-i-default-initialize-static-class-template-variables/40514376#40514376", "title": "How can I default initialize static class template variables", "body": "<p>Add</p>\n\n<pre><code>template&lt;class T, typename T2&gt; T E&lt;T, T2&gt;::var{};\n</code></pre>\n\n<p>after class definition.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/590994694f5d1a36\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 40514376, "answer_count": 1, "score": 1, "last_activity_date": 1478718945, "creation_date": 1478718616, "question_id": 40514292, "link": "https://stackoverflow.com/questions/40514292/how-can-i-default-initialize-static-class-template-variables", "title": "How can I default initialize static class template variables", "body": "<p>In the following code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;type_traits&gt;\n\ntemplate&lt;class T, typename =  std::enable_if&lt;std::is_default_constructible&lt;T&gt;::value&gt;&gt;\nstruct E {\n    static T var;   \n};\n\nint main() {\n    std::cout &lt;&lt; E&lt;std::string&gt;::var &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>How can I have <code>E&lt;T&gt;::var</code> default constructed for each template instantiation of <code>E</code>? Currently I receiev linker error</p>\n\n<pre><code>/home/tE1MjB/ccEXSZtn.o: In function `main':\nprog.cpp:(.text.startup+0x12): undefined reference to `E&lt;std::string, std::enable_if&lt;true, void&gt; &gt;::var'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n"}, {"tags": ["java", "android", "c++"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "edited": false, "score": 0, "creation_date": 1478720856, "post_id": 40514760, "comment_id": 68271323, "body": "I have just added extern &quot;C&quot;, it still says the error"}, {"owner": {"reputation": 3624, "user_id": 2657100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d998dcf9d454b9d9349b29f84947f2da?s=128&d=identicon&r=PG", "display_name": "nandsito", "link": "https://stackoverflow.com/users/2657100/nandsito"}, "reply_to_user": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "edited": false, "score": 0, "creation_date": 1478721464, "post_id": 40514760, "comment_id": 68271611, "body": "@TomDawn is the shared library being properly recompiled and is it accessible by the Java code in runtime? mind that the android sample suggests to comment out the native lib module after it&#39;s compiled once"}, {"owner": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "edited": false, "score": 0, "creation_date": 1478722194, "post_id": 40514760, "comment_id": 68271973, "body": "I simply add extern &quot;C&quot; and click run to start running in simulator. Could you tell me how to recompile it please? Sorry maybe this is a dumb question"}, {"owner": {"reputation": 3624, "user_id": 2657100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d998dcf9d454b9d9349b29f84947f2da?s=128&d=identicon&r=PG", "display_name": "nandsito", "link": "https://stackoverflow.com/users/2657100/nandsito"}, "reply_to_user": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "edited": false, "score": 0, "creation_date": 1478722719, "post_id": 40514760, "comment_id": 68272207, "body": "@TomDawn make sure that your lib module is uncommented in <code>build.gradle</code> and <code>settings.gradle</code>, and, as a good practice, do <code>Build &gt; Clean Project</code> before running it"}], "tags": [], "owner": {"reputation": 3624, "user_id": 2657100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d998dcf9d454b9d9349b29f84947f2da?s=128&d=identicon&r=PG", "display_name": "nandsito", "link": "https://stackoverflow.com/users/2657100/nandsito"}, "is_accepted": true, "score": 2, "last_activity_date": 1478720614, "creation_date": 1478720614, "answer_id": 40514760, "question_id": 40514194, "link": "https://stackoverflow.com/questions/40514194/android-calling-c-function-getting-unsatisfiedlinkerror/40514760#40514760", "title": "Android calling C++ function getting UnsatisfiedLinkError", "body": "<p>You need <code>extern \"C\"</code> for C++ JNI.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>extern \"C\" JNIEXPORT jlong JNICALL\nJava_com_example_z_myapplication_MainActivity_convert32to64(\n        JNIEnv *env, jobject instance, jlong l) {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 40514760, "answer_count": 1, "score": 0, "last_activity_date": 1478720614, "creation_date": 1478718247, "last_edit_date": 1478720088, "question_id": 40514194, "link": "https://stackoverflow.com/questions/40514194/android-calling-c-function-getting-unsatisfiedlinkerror", "title": "Android calling C++ function getting UnsatisfiedLinkError", "body": "<p>I have following function in my native-lib.cpp file:</p>\n\n<pre><code>JNIEXPORT jlong JNICALL\nJava_com_example_z_myapplication_MainActivity_convert32to64(JNIEnv *env, jobject instance,\n                                                             jlong l) {\n\n// TODO\nl = l + 76561197960265728L;\nreturn l;\n}\n</code></pre>\n\n<p>In my MainActivity.java:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    static {\n        System.loadLibrary(\"native-lib\");\n    }\n    public static native long convert32to64(long l);\n\n    ...\n}\n</code></pre>\n\n<p>I have a CMakeList.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.4.1)\n\n# Specifies a library name, specifies whether the library is STATIC or\n# SHARED, and provides relative paths to the source code. You can\n# define multiple libraries by adding multiple add.library() commands,\n# and CMake builds them for you. When you build your app, Gradle\n# automatically packages shared libraries with your APK.\n\nadd_library( # Specifies the name of the library.\n             native-lib\n\n             # Sets the library as a shared library.\n             SHARED\n\n             # Provides a relative path to your source file(s).\n             src/cpp/native-lib.cpp )        \n</code></pre>\n\n<p>However I am getting this error:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: No implementation found for long com.example.z.myapplication.MainActivity.convert32to64(long) (tried Java_com_example_z_myapplication_MainActivity_convert32to64 and Java_com_example_z_myapplication_MainActivity_convert32to64__J)\n</code></pre>\n\n<p>can anyone tell me whats wrong here?</p>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 2, "creation_date": 1478718063, "post_id": 40514104, "comment_id": 68269960, "body": "How would we know why you decided to init your pointer with 0?"}, {"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 0, "creation_date": 1478718105, "post_id": 40514104, "comment_id": 68269983, "body": "See: <a href=\"http://stackoverflow.com/questions/13816385/what-are-the-advantages-of-using-nullptr\" title=\"what are the advantages of using nullptr\">stackoverflow.com/questions/13816385/&hellip;</a>"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1478718710, "post_id": 40514104, "comment_id": 68270298, "body": "What do you know about pointers? What research have you done?"}], "answers": [{"tags": [], "owner": {"reputation": 13895, "user_id": 1162233, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/e3Eil.jpg?s=128&g=1", "display_name": "Kaidul", "link": "https://stackoverflow.com/users/1162233/kaidul"}, "is_accepted": false, "score": 1, "last_activity_date": 1478717943, "creation_date": 1478717943, "answer_id": 40514112, "question_id": 40514104, "link": "https://stackoverflow.com/questions/40514104/struct-init-with-0/40514112#40514112", "title": "Struct init with 0", "body": "<p>Here <code>0</code> means <code>NULL</code>. In prior C++11, <code>0</code> can be used as <code>NULL</code> which is pretty ambiguous sometimes. Currently C++ has <code>nullptr</code> which makes more sense.</p>\n\n<p>Read more about <em>difference between NULL and nullptr</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": true, "score": 2, "last_activity_date": 1478718398, "last_edit_date": 1478718398, "creation_date": 1478718066, "answer_id": 40514136, "question_id": 40514104, "link": "https://stackoverflow.com/questions/40514104/struct-init-with-0/40514136#40514136", "title": "Struct init with 0", "body": "<p><strong>tldr;</strong>\nBecause 0 is a valid memory address.</p>\n\n<hr>\n\n<p>Since pointers point to memory locations, the expression is valid and <code>p</code> points to memory address 0</p>\n"}], "owner": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 40514136, "answer_count": 2, "score": -2, "last_activity_date": 1478718398, "creation_date": 1478717894, "question_id": 40514104, "link": "https://stackoverflow.com/questions/40514104/struct-init-with-0", "title": "Struct init with 0", "body": "<p>I have struct:</p>\n\n<pre><code>struct stek\n{\nchar value;\nstruct stek *next; \n};\n</code></pre>\n\n<p>Why i can init this like this:</p>\n\n<pre><code>stek *p = 0;\n</code></pre>\n\n<p>What this mean? Why zero?</p>\n"}, {"tags": ["c++", "structure", "unions"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1478718013, "post_id": 40514086, "comment_id": 68269937, "body": "If you are getting errors you should share them.  You do not need to show all of the but at least the first few."}, {"owner": {"reputation": 213, "user_id": 4195517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd806b16e4455184a05b833494e3dc00?s=128&d=identicon&r=PG&f=1", "display_name": "Dart Feld", "link": "https://stackoverflow.com/users/4195517/dart-feld"}, "edited": false, "score": 0, "creation_date": 1478718072, "post_id": 40514086, "comment_id": 68269966, "body": "What kind of errors are you getting ? Where in the code? Have you tried debugging a bit ?"}, {"owner": {"reputation": 3, "user_id": 7096585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c31c9237388cc9a065e828a3c8a7901?s=128&d=identicon&r=PG&f=1", "display_name": "Geordon Martin", "link": "https://stackoverflow.com/users/7096585/geordon-martin"}, "edited": false, "score": 0, "creation_date": 1478718251, "post_id": 40514086, "comment_id": 68270068, "body": "It was showing me no errors in the code until I tried to run it, but nothing was underlined. One that I fixed already are adding a semicolon after the return. It is saying that MGR is an undeclared identifier and I&#39;m missing some parentheses somewhere."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478718385, "post_id": 40514086, "comment_id": 68270130, "body": "Please add the actual error text to the question.  paraphrasing a error does no one any good."}, {"owner": {"reputation": 3, "user_id": 7096585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c31c9237388cc9a065e828a3c8a7901?s=128&d=identicon&r=PG&f=1", "display_name": "Geordon Martin", "link": "https://stackoverflow.com/users/7096585/geordon-martin"}, "edited": false, "score": 0, "creation_date": 1478718413, "post_id": 40514086, "comment_id": 68270146, "body": "Could anyone who is downvoting me please explain what I am doing wrong? I am still new here."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1478719815, "post_id": 40514086, "comment_id": 68270816, "body": "You are being downvoted because the question cannot be answered in its existing state. You are asking about a large number of compiler errors and not providing all of the code that generates them. Do bnot write code this way. Write a little bit of code. Compile it, test it, and then write a little bit more. Don&#39;t let errors build up because they may play off each other making solving them harder for you. At stack overflow you want one problem, or a tight grouping of problems, per question. This question is about a dozen problems in one."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478719820, "post_id": 40514086, "comment_id": 68270821, "body": "The compiler wants to know, among other things, what is a <code>MGR</code>? I see <code>MGR</code> in the above code, but it is declared AFTER it is required by the header. By the way, it looks like you&#39;re learning C, not C++. the <code>typedef</code> in <code>typedef struct MGR</code> is unnecessary in C++ and is causing one of the later warnings."}, {"owner": {"reputation": 3, "user_id": 7096585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c31c9237388cc9a065e828a3c8a7901?s=128&d=identicon&r=PG&f=1", "display_name": "Geordon Martin", "link": "https://stackoverflow.com/users/7096585/geordon-martin"}, "edited": false, "score": 0, "creation_date": 1478727806, "post_id": 40514086, "comment_id": 68274727, "body": "Thanks. putting the structure in the header helped a lot. This is all the code in the section that is having issues, as the full program is quite a bit larger and this is only 1 program in it. I&#39;ll update with any other fixes in case anyone happens along a similar problem."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478720281, "post_id": 40514577, "comment_id": 68271021, "body": "Correct, but that just exposes OP to &quot;What is <code>mess_types</code>?&quot; so that needs to be moved as well. And don&#39;t get me started on how <a href=\"http://en.cppreference.com/w/cpp/io/c/fscanf\" rel=\"nofollow noreferrer\"><code>scanf</code></a> and <a href=\"http://en.cppreference.com/w/cpp/io/c/fprintf\" rel=\"nofollow noreferrer\"><code>printf</code></a> are being abused. By the time you&#39;ve sorted it all you you&#39;ll have rewritten half of OP&#39;s code. Steer away from these sorts of open-ended questions because you can never fully answer them."}, {"owner": {"reputation": 3, "user_id": 7096585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c31c9237388cc9a065e828a3c8a7901?s=128&d=identicon&r=PG&f=1", "display_name": "Geordon Martin", "link": "https://stackoverflow.com/users/7096585/geordon-martin"}, "edited": false, "score": 0, "creation_date": 1478728007, "post_id": 40514577, "comment_id": 68274809, "body": "Thanks:) that got rid of the errors. I had to put the enum ahead of the structure, which is now in the header."}], "tags": [], "owner": {"reputation": 66, "user_id": 7109545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9efd9c2675cf6c893d3f3d62c64d07d?s=128&d=identicon&r=PG&f=1", "display_name": "SVictor", "link": "https://stackoverflow.com/users/7109545/svictor"}, "is_accepted": true, "score": 0, "last_activity_date": 1478719802, "creation_date": 1478719802, "answer_id": 40514577, "question_id": 40514086, "link": "https://stackoverflow.com/questions/40514086/code-is-not-working-c-unions-and-structures/40514577#40514577", "title": "Code is not working (C++ unions and structures)", "body": "<p>I assume the header listed is \"messaging.h\"</p>\n\n<p>MGR is referenced in the header before it's definition in the code.\nMaybe move the definition to the header before the first reference.</p>\n"}], "owner": {"reputation": 3, "user_id": 7096585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c31c9237388cc9a065e828a3c8a7901?s=128&d=identicon&r=PG&f=1", "display_name": "Geordon Martin", "link": "https://stackoverflow.com/users/7096585/geordon-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 40514577, "answer_count": 1, "score": -4, "last_activity_date": 1486313660, "creation_date": 1478717842, "last_edit_date": 1486313660, "question_id": 40514086, "link": "https://stackoverflow.com/questions/40514086/code-is-not-working-c-unions-and-structures", "title": "Code is not working (C++ unions and structures)", "body": "<p>No matter how many times I reformat this, I keep getting all kinds of errors. The end result will be a program that can save functions targeting motors in a telescope and set coordinates. Any help in explaining what I am doing wrong with this setup would be greatly appreciated. here is the code:</p>\n\n<p><code>//IDENTIFY RECEIVER OF MESSAGE / TYPE OF MESSAGE / VIEW ALL TO 1 DEVICE / VIEW SPECIFIC MESSAGE</code></p>\n\n<pre><code> #include \"messaging.h\"\n #include &lt;string.h&gt;\n #include &lt;stdio.h&gt;\n\nusing namespace std;\n\ntypedef struct MGR{\nmess_types messagetype;\nint DeviceID;\nunion E{\n    //why arte these underlined? \n    char INST[STRSIZE];\n    int codes[NBRCODES];\n    float coords[NBRCOORDS];\n} message;\n};// info;\n\n\nvoid messager(){\nMGR my_data;\nmy_data.messagetype = INST;\nmy_data.DeviceID = TECH1;\nstrcpy(my_data.message.INST, \"GO HOME\");\n\nmy_data.messagetype = CODES;\nmy_data.DeviceID = MOTOR1;\nfor (int nbr = 0; nbr &lt; NBRCODES; nbr++){\n    my_data.message.codes[nbr] = nbr;\n    print_message(my_data);\n}\n}\nint print_message(MGR mydata){\nMGR noot;\nscanf(\"%s\", &amp;mydata);\nswitch (mydata.messagetype){\ncase INST:\n    printf(\"Message to Device %d\", noot.DeviceID);\n    break;\ncase CODES:\n    printf(\"The setup codes for device %d are: \\n\", noot.DeviceID);\n    for (int code = 0; code &lt; NBRCODES + OFFSET; code++){\n        printf(\"%4d\\t\", noot.message);\n    }\n        break;\ncase COORDS:\n    printf(\"The setup codes for device %d are: \\n\", noot.DeviceID);\n    for (int code = 0; code &lt; NBRCODES + OFFSET; code++){\n        printf(\"%4d\\t\", noot.message);\n    }\n        break;\n    }\n    printf(\"%c\", mydata.messagetype);\n    return(0)\n    }\n\n    void Sendmessage(){\n        printf(\"This program does not work... it is under construction...\");\n} \n</code></pre>\n\n<p>Just in case: here is the header file</p>\n\n<pre><code>#include \"sprint1.h\"\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#define STRSIZE 50\n#define NBRCODES 200\n#define NBRCOORDS 200\n#define OFFSET 100\n#define FACTOR 50\n#define TECH1 123\n#define MOTOR1 4556\nvoid messager();\nint print_message(MGR mydata);\nvoid Sendmessage();\nenum mess_types {INST, CODES, COORDS};\n</code></pre>\n\n<p>Error list: <a href=\"https://drive.google.com/file/d/0B0CXbbHDOrweQVVvOVU1M0VRaEE/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0B0CXbbHDOrweQVVvOVU1M0VRaEE/view?usp=sharing</a></p>\n"}, {"tags": ["c++", "polymorphism", "abstract-class", "return-by-value"], "comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1478717539, "post_id": 40513958, "comment_id": 68269713, "body": "@Galik Some Cameras are Animals."}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 1, "creation_date": 1478717606, "post_id": 40513958, "comment_id": 68269749, "body": "Virtual member functions works with pointers"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1478718020, "post_id": 40513958, "comment_id": 68269941, "body": "Are you sure you need run-time polymorphism here in the first place?"}, {"owner": {"reputation": 1152, "user_id": 5379399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uIKxp.jpg?s=128&g=1", "display_name": "Santiago Gil", "link": "https://stackoverflow.com/users/5379399/santiago-gil"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1478719170, "post_id": 40513958, "comment_id": 68270531, "body": "@SergeyA what do you suggest?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1478719968, "post_id": 40513958, "comment_id": 68270896, "body": "@SantiagoGil, what are you trying to do? :)"}, {"owner": {"reputation": 1152, "user_id": 5379399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uIKxp.jpg?s=128&g=1", "display_name": "Santiago Gil", "link": "https://stackoverflow.com/users/5379399/santiago-gil"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1478720457, "post_id": 40513958, "comment_id": 68271114, "body": "@SergeyA following the example, my system is called with an animal type (an integer is passed by parameter), and I must work only with this animal type in all the system lifelong."}], "answers": [{"tags": [], "owner": {"reputation": 558, "user_id": 2423283, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75057ee1361d4d3d169413ed4d8e88f5?s=128&d=identicon&r=PG", "display_name": "NateW", "link": "https://stackoverflow.com/users/2423283/natew"}, "is_accepted": false, "score": 1, "last_activity_date": 1480603795, "last_edit_date": 1480603795, "creation_date": 1478717717, "answer_id": 40514059, "question_id": 40513958, "link": "https://stackoverflow.com/questions/40513958/c-instantiating-childs-of-an-abstract-class-with-pure-virtual-functions/40514059#40514059", "title": "C++ Instantiating childs of an abstract class with pure virtual functions", "body": "<p>You want your return type of GetAnimal to be a pointer to an Animal rather than an Animal itself. In general, whenever you are trying to use polymorphism, pointers are the way to go.</p>\n\n<p>My best guess is that this is what is happening: You are instantiating a Cat. Then in your return statement, since you aren't returning a pointer, it must make a copy of your data. Since the return type is Animal, it attempts to invoke the default Animal copy constructor. Therefore, it is trying to instantiate an Animal class, which of course cannot be done.</p>\n"}, {"comments": [{"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1482963401, "post_id": 40514082, "comment_id": 69942634, "body": "@curiousguy dynamic inherintance, that is implemented with virtual functions works with pointer, exactly as OP ask"}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1482966166, "post_id": 40514082, "comment_id": 69943525, "body": "Virtual functions work normally on an automatic object; of course, the dynamic type is known at compiler, but they &quot;work&quot;. If you need to choose the type of an object at runtime, of course you need dynamic allocation."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1482978767, "post_id": 40514082, "comment_id": 69946494, "body": "I understand fully well the OP, and the answer. Virtual functions are <i>not</i> the problem here. When you return by value, you create another instance. This is the issue: that instance has different type. And here, it&#39;s an abstract class so you can&#39;t even create it. The problem is the creation of a distinct instance of a distinct type."}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1482980016, "post_id": 40514082, "comment_id": 69946791, "body": "@curiousguy What is the purpose of virtual function if not to access derived function from its base class? Virtual functions has runtime overhead, so you only declare a function virtual if you want to access it via its base class, and this access is done via pointers (runtime polymorphism). Can you declare all functions virtual? Yes, you can, but should you? So, what is wrong with the answer? It creates a derived object that can be accessed via base object. That the purpose of virtual functions. Thats how you use virtual functions. Via pointers."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1482980908, "post_id": 40514082, "comment_id": 69946992, "body": "A virtual call is dispatched based on the dynamic type; the purpose of virtual function is the support of virtual dispatch. Virtual function calls only have overhead when the dynamic type is not known at compile time; for automatic objects, there is no overhead. You probably should not declare all functions virtual; you should not declare any virtual function if you have no specified the requirements on the overrider, something which most people don&#39;t pay attention to."}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1483008189, "post_id": 40514082, "comment_id": 69957765, "body": "Congrats, you are saying <b>almost</b> what I&#39;ve said before, just in other words. But, you need to read more about <a href=\"http://stackoverflow.com/questions/667634/what-is-the-performance-cost-of-having-a-virtual-method-in-a-c-class\">virtual functions overhead</a>. To me, this is the end of this discussion."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1483071127, "post_id": 40514082, "comment_id": 69983150, "body": "&quot;<i>Congrats, you are saying almost what I&#39;ve said before</i>&quot; No &quot;<i>Can you declare all functions virtual? Yes, you can&quot;</i> No, you cannot. Non trivial program will fail to compile or compile but fail to work properly."}], "tags": [], "owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "is_accepted": false, "score": 0, "last_activity_date": 1483451732, "last_edit_date": 1483451732, "creation_date": 1478717821, "answer_id": 40514082, "question_id": 40513958, "link": "https://stackoverflow.com/questions/40513958/c-instantiating-childs-of-an-abstract-class-with-pure-virtual-functions/40514082#40514082", "title": "C++ Instantiating childs of an abstract class with pure virtual functions", "body": "<p>Virtual member functions works with pointers. Just change a bit your API, to something like that:</p>\n\n<pre><code>std::unique_ptr&lt;Animal&gt; Animal::GetAnimal(const int animal)\n{\n    switch(animal)\n    {\n    case CAT:\n        return std::make_unique&lt;Cat&gt;();\n    (...)\n    }\n}\n</code></pre>\n\n<p>Note that I'm assuming you are using, at least, C++14</p>\n"}, {"tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": true, "score": 5, "last_activity_date": 1478718177, "last_edit_date": 1495542255, "creation_date": 1478717830, "answer_id": 40514083, "question_id": 40513958, "link": "https://stackoverflow.com/questions/40513958/c-instantiating-childs-of-an-abstract-class-with-pure-virtual-functions/40514083#40514083", "title": "C++ Instantiating childs of an abstract class with pure virtual functions", "body": "<pre><code>Animal Animal::GetAnimal(const int animal)\n{\n    switch(animal)\n    {\n    case CAT:\n        return Cat();\n    case DOG:\n        return Dog();\n    case BIRD:\n        return Bird();\n    default:\n        cerr &lt;&lt; \"Animal not recognized.\" &lt;&lt; endl;\n        exit(-1);\n    }\n}\n</code></pre>\n\n<p>You say that <code>GetAnimal</code> should return an <code>Animal</code> <strong>object</strong>, this is not how inheritance works, inheritance works mainly through pointers. When you try to return an object of a type the compiler implicitly has to create an <code>Animal</code> object, but it's not allowed to because <code>Animal</code> is an abstract class. Even if you were to make <code>eat()</code> only <code>virtual</code> you'd still have the <a href=\"https://stackoverflow.com/questions/274626/what-is-object-slicing\">object slicing</a> problem.</p>\n\n<p>You can make it return a <code>Animal*</code> and free the result after you used it:</p>\n\n<pre><code>Animal* Animal::GetAnimal(const int animal)\n{\n    switch(animal)\n    {\n    case CAT:\n        return new Cat();\n    case DOG:\n        return new Dog();\n    case BIRD:\n        return new Bird();\n    default:\n        cerr &lt;&lt; \"Animal not recognized.\" &lt;&lt; endl;\n        exit(-1);\n    }\n}\n</code></pre>\n\n<p>Caller:</p>\n\n<pre><code>Dog* myDog = GetAnimal(DOG);\n\n//somewhere later when you dont need myDog anymore..(don't forget this!)\ndelete myDog;\n</code></pre>\n\n<p>But if you have access to C++11 or later I recommend using smart pointers instead of raw pointers to let the pointer free itself:</p>\n\n<pre><code>#include &lt;memory&gt;\nstd::unique_ptr&lt;Animal&gt; Animal::GetAnimal(const int animal)\n{\n    switch(animal)\n    {\n    case CAT:\n        return std::make_unique&lt;Cat&gt;();\n    case DOG:\n        return std::make_unique&lt;Dog&gt;();\n    case BIRD:\n        return std::make_unique&lt;Bird&gt;();\n    default:\n        cerr &lt;&lt; \"Animal not recognized.\" &lt;&lt; endl;\n        exit(-1);\n    }\n}\n</code></pre>\n\n<p>Caller:</p>\n\n<pre><code>auto dog = GetAnimal(DOG);\n//no explicit delete required.\n</code></pre>\n"}], "owner": {"reputation": 1152, "user_id": 5379399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uIKxp.jpg?s=128&g=1", "display_name": "Santiago Gil", "link": "https://stackoverflow.com/users/5379399/santiago-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "accepted_answer_id": 40514083, "answer_count": 3, "score": 1, "last_activity_date": 1483451732, "creation_date": 1478717274, "last_edit_date": 1482874175, "question_id": 40513958, "link": "https://stackoverflow.com/questions/40513958/c-instantiating-childs-of-an-abstract-class-with-pure-virtual-functions", "title": "C++ Instantiating childs of an abstract class with pure virtual functions", "body": "<p>I have an abstract class, let it be for example <strong>Animal</strong>. An Animal has a pure virtual function <em>eat</em>, which every animal must implement if they don't want to starve. I ensure that only a child of an Animal can be instantiated by this way:</p>\n\n<p>Animal.hpp</p>\n\n<pre><code>class Animal\n{\n\npublic:\n\n    enum eAnimal{\n        CAT=0,\n        DOG=1,\n        BIRD=2\n    };\n\n    // Instantiates the desired animal.\n    static Animal GetAnimal(const int animal);\n\n    virtual void Eat() const = 0;\n\nprotected:\n\n    Animal();\n};\n</code></pre>\n\n<p>Animal.cpp</p>\n\n<pre><code>Animal Animal::GetAnimal(const int animal)\n{\n    switch(animal)\n    {\n    case CAT:\n        return Cat();\n    case DOG:\n        return Dog();\n    case BIRD:\n        return Bird();\n    default:\n        cerr &lt;&lt; \"Animal not recognized.\" &lt;&lt; endl;\n        exit(-1);\n    }\n}\n\nAnimal::Animal()\n{}\n</code></pre>\n\n<p>With this, a <strong>Cat</strong> would be:</p>\n\n<p>Cat.hpp</p>\n\n<pre><code>class Cat : public Animal\n{\n\npublic:\n\n    Cat();\n\n    void Eat() const;\n};\n</code></pre>\n\n<p>Cat.cpp</p>\n\n<pre><code>Cat::Cat() : Animal()\n{}\n\nvoid Cat::Eat() const\n{\n    // The cat eats.\n}\n</code></pre>\n\n<p>However this code doesn't work, it gets an error <em>invalid abstract return type 'Animal'</em> in <em>GetAnimal</em>, because Animal is abstract and can't be instantiated, altough my API ensures it won't.</p>\n\n<p>Which smart solutions may this problem have? I can do the function <em>Eat</em> not pure and give it a default implementation, but I'd like not to do it.</p>\n"}, {"tags": ["c++", "oop", "pointers"], "comments": [{"owner": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 6, "creation_date": 1478717056, "post_id": 40513851, "comment_id": 68269497, "body": "The correct syntax would be <code>Room* Room::getLinked(std::string direction)</code>."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1478717100, "post_id": 40513851, "comment_id": 68269522, "body": "Can you try to trim your question down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that rproduces your problem please?"}, {"owner": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 0, "creation_date": 1478717159, "post_id": 40513851, "comment_id": 68269554, "body": "Consider using <code>const std::string&amp; direction</code> as your parameters to avoid unnecessary copying of the strings."}, {"owner": {"reputation": 2908, "user_id": 136087, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e416152346ae8c9229b87d9f004e656?s=128&d=identicon&r=PG&f=1", "display_name": "EdH", "link": "https://stackoverflow.com/users/136087/edh"}, "edited": false, "score": 0, "creation_date": 1478717189, "post_id": 40513851, "comment_id": 68269570, "body": "Good to use a reference, but the compiler will optimize it out anyway."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478717598, "post_id": 40513851, "comment_id": 68269745, "body": "Also consider using an enum for directions, to guarantee that someone can&#39;t try to pass, for example, <code>&quot;cheese&quot;</code> as a direction.  This would let you use a nice, clean <code>switch</code> for each function&#39;s body, making them easy to read and maintain."}, {"owner": {"reputation": 330, "user_id": 5559423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mRG8v.jpg?s=128&g=1", "display_name": "Hossam Houssien", "link": "https://stackoverflow.com/users/5559423/hossam-houssien"}, "reply_to_user": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 0, "creation_date": 1478717784, "post_id": 40513851, "comment_id": 68269833, "body": "@Steeve Thanks a lot it&#39;s now working, but can I ask what is the difference between <code>std::string direction</code> and <code>const std::string&amp; direction</code>"}, {"owner": {"reputation": 330, "user_id": 5559423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mRG8v.jpg?s=128&g=1", "display_name": "Hossam Houssien", "link": "https://stackoverflow.com/users/5559423/hossam-houssien"}, "reply_to_user": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478717921, "post_id": 40513851, "comment_id": 68269896, "body": "@JustinTime Awesome, that would be a great idea as well. Thanks for pointing this out"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478719397, "post_id": 40513851, "comment_id": 68270642, "body": "Also, in <code>Room::link()</code>, you should probably change <code>this-&gt;south = this-&gt;getName();</code> to <code>this-&gt;south = r;</code>.  The former tries to assign a <code>std::string</code> to a <code>Room*</code>, which won&#39;t compile."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478720179, "post_id": 40513851, "comment_id": 68270978, "body": "You&#39;re welcome.  And the difference between <code>std::string direction</code> and <code>const std::string&amp; direction</code> is that the former is a new string, while the latter is a <a href=\"https://en.wikipedia.org/wiki/Reference_(C%2B%2B)#Uses_of_references\" rel=\"nofollow noreferrer\">reference to a pre-existing string (that doesn&#39;t let you change the string)</a> (scroll down to the end of that section).  When you use the former as a function parameter, then whatever string you pass will be copied; when you use the latter, you&#39;ll just use the original string.  Semantically, it&#39;s just a new name for a variable that exists somewhere else."}, {"owner": {"reputation": 330, "user_id": 5559423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mRG8v.jpg?s=128&g=1", "display_name": "Hossam Houssien", "link": "https://stackoverflow.com/users/5559423/hossam-houssien"}, "reply_to_user": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478725799, "post_id": 40513851, "comment_id": 68273787, "body": "@JustinTime I got it now, thanks again for that reference"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478975521, "post_id": 40513851, "comment_id": 68369268, "body": "That&#39;s good.  You&#39;re welcome, again."}], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 5559423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mRG8v.jpg?s=128&g=1", "display_name": "Hossam Houssien", "link": "https://stackoverflow.com/users/5559423/hossam-houssien"}, "edited": false, "score": 0, "creation_date": 1478717653, "post_id": 40513960, "comment_id": 68269769, "body": "I was getting errors with my code, and I forgot totally to look at method syntax. Thanks your answer helped a lot"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 2, "last_activity_date": 1478717281, "creation_date": 1478717281, "answer_id": 40513960, "question_id": 40513851, "link": "https://stackoverflow.com/questions/40513851/how-to-return-a-pointer-of-a-class-member-from-a-function/40513960#40513960", "title": "How to return a pointer of a class member from a function", "body": "<p>Are you actually asking what's the correct definition syntax for the <code>Room::getLinked()</code> function is?</p>\n\n<p>Well, here you go:</p>\n\n<pre><code>Room* Room::getLinked(std::string direction) {\n    if(direction == \"south\") {\n        return south;\n    }\n    // ... the other directions\n    return nullptr;\n}\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 5559423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mRG8v.jpg?s=128&g=1", "display_name": "Hossam Houssien", "link": "https://stackoverflow.com/users/5559423/hossam-houssien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 40513960, "answer_count": 1, "score": 0, "last_activity_date": 1478717281, "creation_date": 1478716869, "question_id": 40513851, "link": "https://stackoverflow.com/questions/40513851/how-to-return-a-pointer-of-a-class-member-from-a-function", "title": "How to return a pointer of a class member from a function", "body": "<p>I have created class called <code>Room</code>as follows</p>\n\n<pre><code>#ifndef ROOM_H\n#define ROOM_H\n#include &lt;string&gt;\n\nclass Room\n{\nprivate:\n    std::string name;\n    std::string description;\n    Room* south;\n    Room* north;\n    Room* east;\n    Room* west;\npublic:\n\n    //CONSTRUCTOR\n    Room();\n    Room(std::string name, std::string desc);\n\n    //METHODS\n    std::string getName();\n    std::string getDescription();\n    void link(Room *r, std::string direction);\n    Room *getLinked(std::string direction);\n    void printLinked();\n\n    ~Room();\n\n\n};\n\n#endif // ROOM_H\n</code></pre>\n\n<p>/*************************************************************************/</p>\n\n<pre><code>void Room::link(Room *r, std::string direction)\n{\n\n    if (direction == \"south\")//THIS IS JUST FOR TEST\n    {\n        this-&gt;south = this-&gt;getName();\n    }\n}\n/*************************************************/\nRoom Room::*getLinked(std::string direction)\n{\n    return south;\n}\n</code></pre>\n\n<p>And here is my question in <code>getLinked</code> method how can I return the pointer (e.g. <code>south</code>,<code>north</code>,<code>east</code>,<code>west</code>)</p>\n"}, {"tags": ["c++", "animation", "javafx"], "comments": [{"owner": {"reputation": 762, "user_id": 3127141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hylYK.jpg?s=128&g=1", "display_name": "Paa K", "link": "https://stackoverflow.com/users/3127141/paa-k"}, "edited": false, "score": 1, "creation_date": 1478716690, "post_id": 40513762, "comment_id": 68269314, "body": "C++ GUI framework like Qt"}], "answers": [{"comments": [{"owner": {"reputation": 762, "user_id": 3127141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hylYK.jpg?s=128&g=1", "display_name": "Paa K", "link": "https://stackoverflow.com/users/3127141/paa-k"}, "edited": false, "score": 0, "creation_date": 1478717968, "post_id": 40513966, "comment_id": 68269915, "body": "Your bit about Qt and 3D is hazy"}], "tags": [], "owner": {"reputation": 1629, "user_id": 2927848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7e21a18807ebac8e078272cfdeb6b7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Chase R Lewis", "link": "https://stackoverflow.com/users/2927848/chase-r-lewis"}, "is_accepted": true, "score": 5, "last_activity_date": 1478717321, "creation_date": 1478717321, "answer_id": 40513966, "question_id": 40513762, "link": "https://stackoverflow.com/questions/40513762/what-is-a-c-equivalent-to-javafx-and-animationtimer-class/40513966#40513966", "title": "What is a C++ equivalent to JavaFx and AnimationTimer class?", "body": "<p>C++ really doesn't have any in-built compatibility for graphics. You need to learn an API. </p>\n\n<p>Looking at JavaFX it seems to be a 3D rendering library. So this really is determined by how deep you want to go.</p>\n\n<p>If you want to learn the baseline, engine design, etc. you could learn OpenGL directly which would teach you the nitty gritty of how all 3D graphics work and SDL2 <a href=\"http://wiki.libsdl.org/FrontPage\" rel=\"noreferrer\">http://wiki.libsdl.org/FrontPage</a> for the OS interop. Timing the game loop can be done easily with the std::chrono classes. </p>\n\n<p>If you want something slightly higher level where things like lights and such are already built for you I'd consider working with an existing framework that will give you practical experience towards game development. Most of these use scripting languages like C#, Lua, etc. Unity C# is great for something like this. Unreal Engine 4 has C++ bindings if C++ is the main consideration, but it is a bit heavy for such a small game but most game engines only use C++ for their optimized low level frameworks with scripting engines hooked on to them for ease of development while maintaining near optimal performance.</p>\n\n<p>Ogre is another option for C++ open source engine that has a lot of documentation. <a href=\"http://www.ogre3d.org/\" rel=\"noreferrer\">http://www.ogre3d.org/</a> Which could be a happy medium between the 2.</p>\n\n<p>If you don't care about 3D graphics and just want rectangles / images in your game something like QT could work well also, but that is a GUI framework more than it is a game engine which if all you are wanting is something like Tetris is fine.</p>\n"}], "owner": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 1, "accepted_answer_id": 40513966, "answer_count": 1, "score": 0, "last_activity_date": 1478717321, "creation_date": 1478716550, "question_id": 40513762, "link": "https://stackoverflow.com/questions/40513762/what-is-a-c-equivalent-to-javafx-and-animationtimer-class", "title": "What is a C++ equivalent to JavaFx and AnimationTimer class?", "body": "<p>I have a tetris game programmed in JavaFX. I want to translate it into C++ to learn C++. What can I use in C++ to display the graphics and time the game loop, the way I did with JavaFX and the AnimationTimer class?</p>\n"}, {"tags": ["c++", "multithreading", "malloc", "glibc"], "answers": [{"tags": [], "owner": {"reputation": 80313, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "is_accepted": true, "score": 3, "last_activity_date": 1487268846, "last_edit_date": 1487268846, "creation_date": 1487267993, "answer_id": 42281428, "question_id": 40513716, "link": "https://stackoverflow.com/questions/40513716/malloc-trim0-releases-fastbins-of-thread-arenas/42281428#42281428", "title": "malloc_trim(0) Releases Fastbins of Thread Arenas?", "body": "<blockquote>\n  <p>malloc_trim(0) states that it can only free memory from the top of the main arena heap, so what is going on here?</p>\n</blockquote>\n\n<p>It can be called \"outdated\" or \"incorrect\" documentation. Glibc have no <a href=\"http://code.metager.de/source/xref/gnu/glibc/manual/memory.texi\" rel=\"nofollow noreferrer\">documentation of <code>malloc_trim</code> function</a>; and Linux uses man pages from man-pages project. The man page of <code>malloc_trim</code> <a href=\"http://man7.org/linux/man-pages/man3/malloc_trim.3.html\" rel=\"nofollow noreferrer\">http://man7.org/linux/man-pages/man3/malloc_trim.3.html</a> <a href=\"https://github.com/mkerrisk/man-pages/commit/a15b0e60b297e29c825b7417582a33e6ca26bf65\" rel=\"nofollow noreferrer\">was written in 2012 by maintainer of man-pages</a> as new. Probably he used some comments from glibc malloc/malloc.c source code <a href=\"http://code.metager.de/source/xref/gnu/glibc/malloc/malloc.c#675\" rel=\"nofollow noreferrer\">http://code.metager.de/source/xref/gnu/glibc/malloc/malloc.c#675</a></p>\n\n<pre><code>676  malloc_trim(size_t pad);\n677\n678  If possible, gives memory back to the system (via negative\n679  arguments to sbrk) if there is unused memory at the `high' end of\n680  the malloc pool. You can call this after freeing large blocks of\n681  memory to potentially reduce the system-level memory requirements\n682  of a program. However, it cannot guarantee to reduce memory. Under\n683  some allocation patterns, some large free blocks of memory will be\n684  locked between two used chunks, so they cannot be given back to\n685  the system.\n686\n687  The `pad' argument to malloc_trim represents the amount of free\n688  trailing space to leave untrimmed. If this argument is zero,\n689  only the minimum amount of memory to maintain internal data\n690  structures will be left (one page or less). Non-zero arguments\n691  can be supplied to maintain enough trailing space to service\n692  future expected allocations without having to re-obtain memory\n693  from the system.\n694\n695  Malloc_trim returns 1 if it actually released any memory, else 0.\n696  On systems that do not support \"negative sbrks\", it will always\n697  return 0.\n</code></pre>\n\n<p>Actual implementation in glibc is <code>__malloc_trim</code> and it has code for iterating over arenas:</p>\n\n<p><a href=\"http://code.metager.de/source/xref/gnu/glibc/malloc/malloc.c#4552\" rel=\"nofollow noreferrer\">http://code.metager.de/source/xref/gnu/glibc/malloc/malloc.c#4552</a></p>\n\n<pre><code>4552 int\n4553 __malloc_trim (size_t s)\n\n4560  mstate ar_ptr = &amp;main_arena;\n4561  do\n4562    {\n4563      (void) mutex_lock (&amp;ar_ptr-&gt;mutex);\n4564      result |= mtrim (ar_ptr, s);\n4565      (void) mutex_unlock (&amp;ar_ptr-&gt;mutex);\n4566\n4567      ar_ptr = ar_ptr-&gt;next;\n4568    }\n4569  while (ar_ptr != &amp;main_arena);\n</code></pre>\n\n<p>Every arena is trimmed using <code>mtrim()</code> (<code>mTRIm()</code>) function, which calls <code>malloc_consolidate()</code> to convert all free segments from fastbins (they are not coalesced at free as they are fast) to normal free chunks (which are coalesced with adjacent chunks)</p>\n\n<pre><code>4498  /* Ensure initialization/consolidation */\n4499  malloc_consolidate (av);\n\n4111  malloc_consolidate is a specialized version of free() that tears\n4112  down chunks held in fastbins. \n\n1581   Fastbins\n1591    Chunks in fastbins keep their inuse bit set, so they cannot\n1592    be consolidated with other free chunks. malloc_consolidate\n1593    releases all chunks in fastbins and consolidates them with\n1594    other free chunks.\n</code></pre>\n\n<blockquote>\n  <p>The problem is, when the worker thread is recreated, it creates a new arena/heap instead of reusing the previous one, such that the fastbins from previous arenas/heaps are never reused.</p>\n</blockquote>\n\n<p>This is strange. By design, maximum number of arenas is limited in glibc malloc by cpu_core_count * 8 (for 64-bit platform); cpu_core_count * 2 (for 32-bit platform) or by environment variable <code>MALLOC_ARENA_MAX</code> / <code>mallopt</code> parameter <code>M_ARENA_MAX</code>.</p>\n\n<p>You can limit count of arenas for your application; call <code>malloc_trim()</code> periodically or call to <code>malloc()</code> with \"large\" size (it will call <code>malloc_consolidate</code>) and then <code>free()</code> for it from your threads just before destroying:</p>\n\n<pre><code>3319 _int_malloc (mstate av, size_t bytes)\n3368  if ((unsigned long) (nb) &lt;= (unsigned long) (get_max_fast ()))\n // fastbin allocation path\n3405  if (in_smallbin_range (nb))\n // smallbin path; malloc_consolidate may be called\n3437     If this is a large request, consolidate fastbins before continuing.\n3438     While it might look excessive to kill all fastbins before\n3439     even seeing if there is space available, this avoids\n3440     fragmentation problems normally associated with fastbins.\n3441     Also, in practice, programs tend to have runs of either small or\n3442     large requests, but less often mixtures, so consolidation is not\n3443     invoked all that often in most programs. And the programs that\n3444     it is called frequently in otherwise tend to fragment.\n3445   */\n3446\n3447  else\n3448    {\n3449      idx = largebin_index (nb);\n3450      if (have_fastchunks (av))\n3451        malloc_consolidate (av);\n3452    }\n</code></pre>\n\n<p>PS: there is comment in man page of <code>malloc_trim</code> <a href=\"https://github.com/mkerrisk/man-pages/commit/a15b0e60b297e29c825b7417582a33e6ca26bf65\" rel=\"nofollow noreferrer\">https://github.com/mkerrisk/man-pages/commit/a15b0e60b297e29c825b7417582a33e6ca26bf65</a>: </p>\n\n<pre><code>+.SH NOTES\n+This function only releases memory in the main arena.\n+.\\\" malloc/malloc.c::mTRIm():\n+.\\\" return result | (av == &amp;main_arena ? sYSTRIm (pad, av) : 0);\n</code></pre>\n\n<p>Yes, there is check for main_arena, but it is at very end of <code>malloc_trim</code> implementation <code>mTRIm()</code> and it is just for calling <code>sbrk()</code> with negative offset. <a href=\"https://sourceware.org/git/?p=glibc.git;a=commit;f=malloc/malloc.c;h=68631c8eb92ff38d9da1ae34f6aa048539b199cc\" rel=\"nofollow noreferrer\">Since 2007 (glibc 2.9 and newer) there is another method</a> to return memory back to the OS: <code>madvise(MADV_DONTNEED)</code> which is used in all arenas (and is not documented by author of glibc patch or author of man page). Consolidate is called for every arena. There is also code for trimming (munmapping) top chunk of mmap-ed heaps (<code>heap_trim</code>/<code>shrink_heap</code> called from slow path free()), but it is not called from <code>malloc_trim</code>.</p>\n"}], "owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 1, "accepted_answer_id": 42281428, "answer_count": 1, "score": 5, "last_activity_date": 1487268846, "creation_date": 1478716374, "last_edit_date": 1487268032, "question_id": 40513716, "link": "https://stackoverflow.com/questions/40513716/malloc-trim0-releases-fastbins-of-thread-arenas", "title": "malloc_trim(0) Releases Fastbins of Thread Arenas?", "body": "<p>For the last week or so I've been investigating a problem in an application where the memory usage accumulates over time. I narrowed it down to a line that copies a</p>\n\n<p><code>std::vector&lt; std::vector&lt; std::vector&lt; std::map&lt; uint, map&lt; uint, std::bitset&lt; N&gt; &gt; &gt; &gt; &gt; &gt;</code> </p>\n\n<p>in a worker thread (I realize this is a ridiculous way to organize memory). On a regular basis, the worker thread is destroyed, recreated, and that memory structure copied by the thread when it starts. The original data that gets copied is passed to the worker thread by reference from the main thread.</p>\n\n<p>Using malloc_stat and malloc_info, I can see that when the worker thread is destroyed, the arena/heap it was using retains the memory used for that structure in its free list of fastbins. This make sense, since there are many individual allocations less than 64 bytes.</p>\n\n<p>The problem is, when the worker thread is recreated, it creates a new arena/heap instead of reusing the previous one, such that the fastbins from previous arenas/heaps are never reused. Eventually the system runs out of memory before reusing a previous heap/arena to reuse the fastbins they're holding onto.</p>\n\n<p>Somewhat by accident, I discovered that calling malloc_trim(0) in my main thread, after joining the worker thread, causes the fastbins in the thread arenas/heaps to be released. This behavior is undocumented as far as I can see. Does anyone have an explanation? </p>\n\n<p>Here is some test code I'm using to see this behavior:</p>\n\n<pre><code>// includes\n#include &lt;stdio.h&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string&gt;\n#include &lt;mcheck.h&gt;\n#include &lt;malloc.h&gt;\n#include &lt;map&gt;\n#include &lt;bitset&gt;\n#include &lt;boost/thread.hpp&gt;\n#include &lt;boost/shared_ptr.hpp&gt;\n\n// Number of bits per bitset.\nconst int sizeOfBitsets = 40;\n\n// Executes a system command. Used to get output of \"free -m\".\nstd::string ExecuteSystemCommand(const char* cmd) {\n    char buffer[128];\n    std::string result = \"\";\n    FILE* pipe = popen(cmd, \"r\");\n    if (!pipe) throw std::runtime_error(\"popen() failed!\");\n    try {\n        while (!feof(pipe)) {\n            if (fgets(buffer, 128, pipe) != NULL)\n                result += buffer;\n        }\n    } catch (...) {\n        pclose(pipe);\n        throw;\n    }\n    pclose(pipe);\n    return result;\n}\n\n// Prints output of \"free -m\" and output of malloc_stat().\nvoid PrintMemoryStats()\n{\n    try\n    {\n        char *buf;\n        size_t size;\n        FILE *fp;\n\n        std::string myCommand(\"free -m\");\n        std::string result = ExecuteSystemCommand(myCommand.c_str());\n        printf(\"Free memory is \\n%s\\n\", result.c_str());\n\n        malloc_stats();\n\n        fp = open_memstream(&amp;buf, &amp;size);\n        malloc_info(0, fp);\n        fclose(fp);\n        printf(\"# Memory Allocation Stats\\n%s\\n#&gt; \", buf);\n        free(buf);\n\n    }\n    catch(...)\n    {\n        printf(\"Unable to print memory stats.\\n\");\n        throw;\n    }\n}\n\nvoid MakeCopies(std::vector&lt;std::vector&lt;std::map&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt; &gt; &gt;&amp; data)\n{\n    try\n    {\n        // Create copies.\n        std::vector&lt;std::vector&lt;std::map&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt; &gt; &gt; dataCopyA(data);\n        std::vector&lt;std::vector&lt;std::map&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt; &gt; &gt; dataCopyB(data);\n        std::vector&lt;std::vector&lt;std::map&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt; &gt; &gt; dataCopyC(data);\n\n        // Print memory info.\n        printf(\"Memory after creating data copies:\\n\");\n        PrintMemoryStats();\n    }\n    catch(...)\n    {\n        printf(\"Unable to make copies.\");\n        throw;\n    }\n}\n\nint main(int argc, char** argv)\n{\n    try\n    {\n          // When uncommented, disables the use of fastbins.\n//        mallopt(M_MXFAST, 0);\n\n        // Print memory info.\n        printf(\"Memory to start is:\\n\");\n        PrintMemoryStats();\n\n        // Sizes of original data.\n        int sizeOfDataA = 2048;\n        int sizeOfDataB = 4;\n        int sizeOfDataC = 128;\n        int sizeOfDataD = 20;\n        std::vector&lt;std::vector&lt;std::map&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt; &gt; &gt; testData;\n\n        // Populate data.\n        testData.resize(sizeOfDataA);\n        for(int a = 0; a &lt; sizeOfDataA; ++a)\n        {\n            testData.at(a).resize(sizeOfDataB);\n            for(int b = 0; b &lt; sizeOfDataB; ++b)\n            {\n                for(int c = 0; c &lt; sizeOfDataC; ++c)\n                {\n                    std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; dataMap;\n                    testData.at(a).at(b).insert(std::pair&lt;uint, std::map&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt; &gt;(c, dataMap));\n                    for(int d = 0; d &lt; sizeOfDataD; ++d)\n                    {\n                        std::bitset&lt;sizeOfBitsets&gt; testBitset;\n                        testData.at(a).at(b).at(c).insert(std::pair&lt;uint, std::bitset&lt;sizeOfBitsets&gt; &gt;(d, testBitset));\n                    }\n                }\n            }\n        }\n\n        // Print memory info.\n        printf(\"Memory to after creating original data is:\\n\");\n        PrintMemoryStats();\n\n        // Start thread to make copies and wait to join.\n        {\n            boost::shared_ptr&lt;boost::thread&gt; makeCopiesThread = boost::shared_ptr&lt;boost::thread&gt;(new boost::thread(&amp;MakeCopies, boost::ref(testData)));\n            makeCopiesThread-&gt;join();\n        }\n\n        // Print memory info.\n        printf(\"Memory to after joining thread is:\\n\");\n        PrintMemoryStats();\n\n        malloc_trim(0);\n\n        // Print memory info.\n        printf(\"Memory to after malloc_trim(0) is:\\n\");\n        PrintMemoryStats();\n\n        return 0;\n\n    }\n    catch(...)\n    {\n        // Log warning.\n        printf(\"Unable to run application.\");\n\n        // Return failure.\n        return 1;\n    }\n\n    // Return success.\n    return 0;\n}\n</code></pre>\n\n<p>The interesting output from before and after the malloc trim call is (look for \"LOOK HERE!\"):</p>\n\n<pre><code>#&gt; Memory to after joining thread is:\nFree memory is\n              total        used        free      shared  buff/cache   available\nMem:         257676        7361      246396          25        3918      249757\nSwap:          1023           0        1023\n\nArena 0:\nsystem bytes     = 1443450880\nin use bytes     = 1443316976\nArena 1:\nsystem bytes     =   35000320\nin use bytes     =       6608\nTotal (incl. mmap):\nsystem bytes     = 1478451200\nin use bytes     = 1443323584\nmax mmap regions =          0\nmax mmap bytes   =          0\n# Memory Allocation Stats\n&lt;malloc version=\"1\"&gt;\n&lt;heap nr=\"0\"&gt;\n&lt;sizes&gt;\n&lt;size from=\"241\" to=\"241\" total=\"241\" count=\"1\"/&gt;\n&lt;size from=\"529\" to=\"529\" total=\"529\" count=\"1\"/&gt;\n&lt;/sizes&gt;\n&lt;total type=\"fast\" count=\"0\" size=\"0\"/&gt;\n&lt;total type=\"rest\" count=\"2\" size=\"770\"/&gt;\n&lt;system type=\"current\" size=\"1443450880\"/&gt;\n&lt;system type=\"max\" size=\"1443459072\"/&gt;\n&lt;aspace type=\"total\" size=\"1443450880\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"1443450880\"/&gt;\n&lt;/heap&gt;\n&lt;heap nr=\"1\"&gt;\n&lt;sizes&gt;\n&lt;size from=\"33\" to=\"48\" total=\"48\" count=\"1\"/&gt;\n&lt;size from=\"49\" to=\"64\" total=\"4026531712\" count=\"62914558\"/&gt; &lt;-- LOOK HERE!\n&lt;size from=\"65\" to=\"80\" total=\"160\" count=\"2\"/&gt;\n&lt;size from=\"81\" to=\"96\" total=\"301989888\" count=\"3145728\"/&gt; &lt;-- LOOK HERE!\n&lt;size from=\"33\" to=\"33\" total=\"231\" count=\"7\"/&gt;\n&lt;size from=\"49\" to=\"49\" total=\"1274\" count=\"26\"/&gt;\n&lt;unsorted from=\"0\" to=\"49377\" total=\"1431600\" count=\"6144\"/&gt;\n&lt;/sizes&gt;\n&lt;total type=\"fast\" count=\"66060289\" size=\"4328521808\"/&gt;\n&lt;total type=\"rest\" count=\"6177\" size=\"1433105\"/&gt;\n&lt;system type=\"current\" size=\"4329967616\"/&gt;\n&lt;system type=\"max\" size=\"4329967616\"/&gt;\n&lt;aspace type=\"total\" size=\"35000320\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"35000320\"/&gt;\n&lt;/heap&gt;\n&lt;total type=\"fast\" count=\"66060289\" size=\"4328521808\"/&gt;\n&lt;total type=\"rest\" count=\"6179\" size=\"1433875\"/&gt;\n&lt;total type=\"mmap\" count=\"0\" size=\"0\"/&gt;\n&lt;system type=\"current\" size=\"5773418496\"/&gt;\n&lt;system type=\"max\" size=\"5773426688\"/&gt;\n&lt;aspace type=\"total\" size=\"1478451200\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"1478451200\"/&gt;\n&lt;/malloc&gt;\n\n#&gt; Memory to after malloc_trim(0) is:\nFree memory is\n              total        used        free      shared  buff/cache   available\nMem:         257676        3269      250488          25        3918      253850\nSwap:          1023           0        1023\n\nArena 0:\nsystem bytes     = 1443319808\nin use bytes     = 1443316976\nArena 1:\nsystem bytes     =   35000320\nin use bytes     =       6608\nTotal (incl. mmap):\nsystem bytes     = 1478320128\nin use bytes     = 1443323584\nmax mmap regions =          0\nmax mmap bytes   =          0\n# Memory Allocation Stats\n&lt;malloc version=\"1\"&gt;\n&lt;heap nr=\"0\"&gt;\n&lt;sizes&gt;\n&lt;size from=\"209\" to=\"209\" total=\"209\" count=\"1\"/&gt;\n&lt;size from=\"529\" to=\"529\" total=\"529\" count=\"1\"/&gt;\n&lt;unsorted from=\"0\" to=\"49377\" total=\"1431600\" count=\"6144\"/&gt;\n&lt;/sizes&gt;\n&lt;total type=\"fast\" count=\"0\" size=\"0\"/&gt;\n&lt;total type=\"rest\" count=\"6146\" size=\"1432338\"/&gt;\n&lt;system type=\"current\" size=\"1443459072\"/&gt;\n&lt;system type=\"max\" size=\"1443459072\"/&gt;\n&lt;aspace type=\"total\" size=\"1443459072\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"1443459072\"/&gt;\n&lt;/heap&gt;\n&lt;heap nr=\"1\"&gt; &lt;---------------------------------------- LOOK HERE!\n&lt;sizes&gt; &lt;-- HERE!\n&lt;unsorted from=\"0\" to=\"67108801\" total=\"4296392384\" count=\"6208\"/&gt;\n&lt;/sizes&gt;\n&lt;total type=\"fast\" count=\"0\" size=\"0\"/&gt;\n&lt;total type=\"rest\" count=\"6208\" size=\"4296392384\"/&gt;\n&lt;system type=\"current\" size=\"4329967616\"/&gt;\n&lt;system type=\"max\" size=\"4329967616\"/&gt;\n&lt;aspace type=\"total\" size=\"35000320\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"35000320\"/&gt;\n&lt;/heap&gt;\n&lt;total type=\"fast\" count=\"0\" size=\"0\"/&gt;\n&lt;total type=\"rest\" count=\"12354\" size=\"4297824722\"/&gt;\n&lt;total type=\"mmap\" count=\"0\" size=\"0\"/&gt;\n&lt;system type=\"current\" size=\"5773426688\"/&gt;\n&lt;system type=\"max\" size=\"5773426688\"/&gt;\n&lt;aspace type=\"total\" size=\"1478459392\"/&gt;\n&lt;aspace type=\"mprotect\" size=\"1478459392\"/&gt;\n&lt;/malloc&gt;\n\n#&gt;\n</code></pre>\n\n<p>There is little to no documentation on the output of malloc_info, so I wasn't sure if those outputs I pointed out were really fast bins. To verify that they are indeed fastbins, I uncomment the code line</p>\n\n<pre><code>mallopt(M_MXFAST, 0);\n</code></pre>\n\n<p>to disable the use of fastbins and the memory usage for heap 1 after joining the thread, before calling malloc_trim(0), looks like it does in with fastbins enabled, after calling malloc_trim(0). Most importantly, disabling the use of fastbins returns the memory to the system immediately after the thread is joined. Calling malloc_trim(0), after joining the thread with fastbins enabled, also returns memory to the system.</p>\n\n<p>The documentation for malloc_trim(0) states that it can only free memory from the top of the main arena heap, so what is going on here? I'm running on CentOS 7 with glibc version 2.17.</p>\n"}, {"tags": ["c++", "c++11", "templates"], "comments": [{"owner": {"reputation": 352, "user_id": 2565746, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/EZssQ.jpg?s=128&g=1", "display_name": "dragonxlwang", "link": "https://stackoverflow.com/users/2565746/dragonxlwang"}, "edited": false, "score": 0, "creation_date": 1610055876, "post_id": 40513553, "comment_id": 116019611, "body": "i think that the error of 1st case is that it&#39;s actually not a template specialization of value: <code>A function with the same name and the same argument list as a specialization is not a specialization</code> <a href=\"https://en.cppreference.com/w/cpp/language/template_specialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/template_specialization</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1410, "user_id": 2191065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a43374b6b5d30b4295771eb0d521ea5?s=128&d=identicon&r=PG", "display_name": "mxmlnkn", "link": "https://stackoverflow.com/users/2191065/mxmlnkn"}, "edited": false, "score": 0, "creation_date": 1478719512, "post_id": 40513728, "comment_id": 68270684, "body": "As I understand, this solution makes it necessary to redefine the whole struct with many other functions, though. <code>I don&#39;t want to trade one copy-paste code for another.</code>. Or could you make me see how I could apply this to: <code>struct Value { &#47;* many functions *&#47; void print(); }</code>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 1410, "user_id": 2191065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a43374b6b5d30b4295771eb0d521ea5?s=128&d=identicon&r=PG", "display_name": "mxmlnkn", "link": "https://stackoverflow.com/users/2191065/mxmlnkn"}, "edited": false, "score": 0, "creation_date": 1478719893, "post_id": 40513728, "comment_id": 68270858, "body": "@mxmlnkn: Indeed you have to redefine the whole struct, but if you have common code, you might use inheritance to avoid the duplication."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 2, "last_activity_date": 1478716439, "creation_date": 1478716439, "answer_id": 40513728, "question_id": 40513553, "link": "https://stackoverflow.com/questions/40513553/how-to-specialize-methods-for-multiple-types-at-once/40513728#40513728", "title": "How to specialize methods for multiple types at once", "body": "<p>To allow SFINAE for your struct, you have to add extra parameter:</p>\n\n<pre><code>template&lt;class T, typename AlwaysVoid = void&gt;\nstruct Value;\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>template&lt;class T&gt;\nstruct Value&lt;T, std::enable_if_t&lt;std::is_integral&lt;T&gt;::value&gt;&gt;\n{\n    void print()\n    {\n        std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;;\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1410, "user_id": 2191065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a43374b6b5d30b4295771eb0d521ea5?s=128&d=identicon&r=PG", "display_name": "mxmlnkn", "link": "https://stackoverflow.com/users/2191065/mxmlnkn"}, "edited": false, "score": 0, "creation_date": 1478717723, "post_id": 40513826, "comment_id": 68269804, "body": "Is it possible to also make this solution work for non-static member functions? I mean, I&#39;d have to define <code>print(tag:....)</code> as (private) members for all types, which may lead to problems if argument and member-variable types do not match."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 1410, "user_id": 2191065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a43374b6b5d30b4295771eb0d521ea5?s=128&d=identicon&r=PG", "display_name": "mxmlnkn", "link": "https://stackoverflow.com/users/2191065/mxmlnkn"}, "edited": false, "score": 0, "creation_date": 1478718233, "post_id": 40513826, "comment_id": 68270062, "body": "@mxmlnkn check the edit, I&#39;ll edit with a C++1z solution in a sec"}, {"owner": {"reputation": 352, "user_id": 2565746, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/EZssQ.jpg?s=128&g=1", "display_name": "dragonxlwang", "link": "https://stackoverflow.com/users/2565746/dragonxlwang"}, "edited": false, "score": 0, "creation_date": 1610056435, "post_id": 40513826, "comment_id": 116019811, "body": "just a nitch: since c++14, you could define  ``` template&lt;typename T, typename... Others&gt; constexpr bool is_any_v= std::disjunction&lt;std::is_same&lt;T, Others&gt;...&gt;::value; ```"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 3, "last_activity_date": 1478718204, "last_edit_date": 1495540412, "creation_date": 1478716791, "answer_id": 40513826, "question_id": 40513553, "link": "https://stackoverflow.com/questions/40513553/how-to-specialize-methods-for-multiple-types-at-once/40513826#40513826", "title": "How to specialize methods for multiple types at once", "body": "<p>You could use tag dispatch. Define your tags:</p>\n\n<pre><code>namespace tag {\n\nstruct integral{};\nstruct floating{};\nstruct error{};\n\n}\n</code></pre>\n\n<p>Define their mapping from various types:</p>\n\n<pre><code>namespace detail\n{\n\ntemplate&lt;typename T, typename = void&gt;\nstruct get_tag : tag::error{};\n\ntemplate&lt;typename T&gt;\nstruct get_tag&lt;T, std::enable_if_t&lt;std::is_integral&lt;T&gt;::value&gt;&gt; : tag::integral{};\n\ntemplate&lt;typename T&gt;\nstruct get_tag&lt;T, std::enable_if_t&lt;std::is_floating_point&lt;T&gt;::value&gt;&gt; : tag::floating{};\n\n}\n</code></pre>\n\n<p>And define your function for each supported tag:</p>\n\n<pre><code>void print(tag::error){\n    std::cout &lt;&lt; \"unsupported type\" &lt;&lt; std::endl;\n}\nvoid print(tag::integral){\n    std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;\n}\nvoid print(tag::floating){\n    std::cout &lt;&lt; \"is floating\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>While forwarding to it from your static method:</p>\n\n<pre><code>template&lt; class T &gt;\nstruct Value\n{\n    static void print( void ){\n        ::print(detail::get_tag&lt;T&gt;{});\n    }\n};\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/AslD9iZ7QQMS9zhR\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<p>This will work, but you want <code>char</code> not to be treated as an integral, so you may want to define your own trait, that only one of the listed traits (explained in more detail + C++11 version <a href=\"https://stackoverflow.com/a/40496746/2456565\">here</a>):</p>\n\n<pre><code>template&lt;typename T, typename... Others&gt;\nstruct is_any : std::disjunction&lt;std::is_same&lt;T, Others&gt;...&gt;\n{\n};\n</code></pre>\n\n<p>Now you can write the following for your integral tag</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct get_tag&lt;T, std::enable_if_t&lt;\n        is_any&lt;T, short, int, long, unsigned short, unsigned, unsigned long&gt;::value&gt;&gt; : tag::integral{};\n</code></pre>\n\n<p>and the result will be exactly as you wanted.</p>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/6AG4KAxYNg5yK3GH\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<hr>\n\n<p>If your want to make your <code>print</code>s member functions, you can make them templates to avoid compile errors for unsupported types:</p>\n\n<pre><code>template&lt; class T &gt;\nstruct Value\n{\n    static void print( void ){\n        Value obj;\n        obj.print(detail::get_tag&lt;T&gt;{});\n    }\nprivate:\n    template&lt;typename U = T&gt;\n    void print(tag::error){\n        std::cout &lt;&lt; \"unsupported type\" &lt;&lt; std::endl;\n    }\n    template&lt;typename U = T&gt;\n    void print(tag::integral){\n        std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;\n    }\n    template&lt;typename U = T&gt;\n    void print(tag::floating){\n        std::cout &lt;&lt; \"is floating\" &lt;&lt; std::endl;\n    }\n\n};\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/yRIqXspjennEgC2S\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<hr>\n\n<p>Alternatively, in C++1z you can use <code>constexpr if</code>:</p>\n\n<pre><code>static void print( void ){\n    using this_tag = detail::get_tag&lt;T&gt;;\n    if constexpr(std::is_base_of&lt;tag::floating, this_tag&gt;::value) {\n        std::cout &lt;&lt; \"is floating\" &lt;&lt; std::endl;\n    } else if constexpr(std::is_base_of&lt;tag::integral, this_tag&gt;::value) {\n        std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;\n    } else {\n        std::cout &lt;&lt; \"unsupported type\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/JOJnx6ZZfgMFHcyi\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 1410, "user_id": 2191065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a43374b6b5d30b4295771eb0d521ea5?s=128&d=identicon&r=PG", "display_name": "mxmlnkn", "link": "https://stackoverflow.com/users/2191065/mxmlnkn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1478719719, "creation_date": 1478715682, "last_edit_date": 1495542633, "question_id": 40513553, "link": "https://stackoverflow.com/questions/40513553/how-to-specialize-methods-for-multiple-types-at-once", "title": "How to specialize methods for multiple types at once", "body": "<p>I have code like this:</p>\n\n<pre><code>template&lt; class T &gt;\nstruct Value\n{\n    /* quite a lot of other functions which I do not want to specialize, too */\n    void print( void );\n};\n\ntemplate&lt;&gt; void Value&lt;          short int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt;                int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt;           long int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt; unsigned short int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt; unsigned       int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt; unsigned  long int &gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\n\ntemplate&lt;&gt; void Value&lt;       float &gt;::print() { std::cout &lt;&lt; \"is floating point\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt;      double &gt;::print() { std::cout &lt;&lt; \"is floating point\" &lt;&lt; std::endl; }\ntemplate&lt;&gt; void Value&lt; long double &gt;::print() { std::cout &lt;&lt; \"is floating point\" &lt;&lt; std::endl; }\n\ntemplate&lt; class T &gt; void Value&lt;T&gt;::print() { std::cout &lt;&lt; \"unsupported type\" &lt;&lt; std::endl; }\n\nint main( void )\n{\n    Value&lt; float  &gt;().print();\n    Value&lt; double &gt;().print();\n    Value&lt; short  &gt;().print();\n    Value&lt;   char &gt;().print();\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>is floating point\nis floating point\nis integral\nunsupported type\n</code></pre>\n\n<p>I want to change this in order to reduce code duplication, especially, because the code body is much longer than a simple <code>std::cout</code>. To illustrate the direction I want to go, the simplest idea coming to mind would be to use macros:</p>\n\n<pre><code>#define TMP(T) \\\ntemplate&lt;&gt; void Value&lt;T&gt;::print() { std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl; }\nTMP(          short int )\nTMP(                int )\nTMP(           long int )\nTMP( unsigned short int )\nTMP( unsigned       int )\nTMP( unsigned  long int )\n#undef TMP\n#define TMP(T) \\\ntemplate&lt;&gt; void Value&lt;T&gt;::print() { std::cout &lt;&lt; \"is floating point\" &lt;&lt; std::endl; }\nTMP(       float )\nTMP(      double )\nTMP( long double )\n#undef TMP\n</code></pre>\n\n<p>But I want to get it to work using C++11 template magic. I already tried using <code>std::enable_if</code>, but I just can't get it to work. E.g. this</p>\n\n<pre><code>template&lt; class T &gt;\nvoid Value&lt;\n    typename std::enable_if&lt; std::is_integral&lt;T&gt;::value, T &gt;::type\n&gt;::print( void )\n{\n    std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;;\n}\n</code></pre>\n\n<p>gives me</p>\n\n<pre><code>test.cpp:26:24: error: invalid use of incomplete type \u2018struct Value&lt;typename std::enable_if&lt;std::is_integral&lt;_Tp&gt;::value, T&gt;::type&gt;\u2019\n &gt;::type &gt;::print( void )\n                        ^\ntest.cpp:14:8: error: declaration of \u2018struct Value&lt;typename std::enable_if&lt;std::is_integral&lt;_Tp&gt;::value, T&gt;::type&gt;\u2019\n struct Value\n</code></pre>\n\n<p>and using <code>std::enable_if</code> on the return type:</p>\n\n<pre><code>template&lt; class T &gt;\ntypename std::enable_if&lt; std::is_integral&lt;T&gt;::value, void &gt;::type\nValue&lt;T&gt;::print( void )\n{\n    std::cout &lt;&lt; \"is integral\" &lt;&lt; std::endl;;\n}\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code>test.cpp:41:1: error: prototype for \u2018typename std::enable_if&lt;std::is_integral&lt;_Tp&gt;::value, void&gt;::type Value&lt;T&gt;::print()\u2019 does not match any in class \u2018Value&lt;T&gt;\u2019\n Value&lt;T&gt;::print( void )\n ^\ntest.cpp:16:17: error: candidate is: static void Value&lt;T&gt;::print()\n     static void print( void );\n</code></pre>\n\n<p>Of course there are many similar questions already:</p>\n\n<ul>\n<li><a href=\"http://www.cplusplus.com/forum/beginner/151879/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/forum/beginner/151879/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7285975/match-multiple-types-for-template-specialization-resolution\">match multiple types for template specialization resolution</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17627331/template-specialization-for-multiple-types\">Template specialization for multiple types</a><br></li>\n<li><a href=\"https://stackoverflow.com/questions/4280070/how-to-do-one-explicit-specialization-for-multiple-types\">How to do one explicit specialization for multiple types?</a></li>\n</ul>\n\n<p>But they often are about simple functions, not methods of templated classes. Also they often don't strictly separate declaration and definition as I want to.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38098372/template-partial-specialization-for-multiple-types-overriding-member-function\">This</a> questions sounds very similar, but it specializes the method not in respect to the struct/class template argument, but in respect to another template argument.</p>\n\n<p>I just can't seem to apply the answers to my specific problem, because of the aforementioned errors. Also I don't want to specialize the whole class, because the class itself shares many methods which are identical for all types T. I don't want to trade one copy-paste code for another.</p>\n\n<p>Bonus for explaining why the two error messages happen. What rule am I breaking. To me it seems that <code>...::type</code> isn't substituted at all with <code>T</code> or <code>void</code>.</p>\n"}, {"tags": ["c++", "c++11", "templates", "user-defined-literals"], "answers": [{"comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1478716055, "post_id": 40513552, "comment_id": 68269031, "body": "Ah, I see -- integer literals and floating-point literals are explicitly said to be treated as a function call <code>operator &quot;&quot; X&lt;&#39;c1&#39;, &#39;c2&#39;, &#39;c3&#39;..., &#39;ck&#39;&gt;()</code> if the other possible literal operators aren&#39;t available. Thanks."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1478715681, "creation_date": 1478715681, "answer_id": 40513552, "question_id": 40513487, "link": "https://stackoverflow.com/questions/40513487/why-doesnt-this-template-signature-work-as-a-string-literal-using-quotes/40513552#40513552", "title": "Why doesn&#39;t this template signature work as a string-literal using quotes?", "body": "<p>You cannot declare user-defined string literals that accepts a variadic char pack. This may change in the future, but as of now, that's all there is to it.</p>\n\n<p>From the same cppreference:</p>\n\n<blockquote>\n  <p>For user-defined string literals, the user-defined literal expression\n  is treated as a function call <code>operator \"\" X (str, len)</code>, where str is\n  the literal without <em>ud-suffix</em> and len is its length excluding the\n  terminating null character</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1478724569, "post_id": 40514264, "comment_id": 68273160, "body": "Since I did try this with GCC 5, I guess this must be new in GCC 6?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1478725705, "post_id": 40514264, "comment_id": 68273741, "body": "According to <a href=\"https://godbolt.org/g/036ejP\" rel=\"nofollow noreferrer\">that</a>, since gcc 4.9 (but with c++14)."}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 1, "creation_date": 1478727726, "post_id": 40514264, "comment_id": 68274704, "body": "Oh, right, I used <code>&lt;char...&gt;</code> instead of <code>&lt;typename Char, Char...&gt;</code>."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1478718511, "creation_date": 1478718511, "answer_id": 40514264, "question_id": 40513487, "link": "https://stackoverflow.com/questions/40513487/why-doesnt-this-template-signature-work-as-a-string-literal-using-quotes/40514264#40514264", "title": "Why doesn&#39;t this template signature work as a string-literal using quotes?", "body": "<p>Gcc has <strong>extension</strong> to allow</p>\n\n<pre><code>template &lt;typename Char, Char...Cs&gt;\nstd::string operator \"\"_r()\n{\n    // ... construct some sort of string and return it\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/227730f6406af9dc\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 40513552, "answer_count": 2, "score": 1, "last_activity_date": 1478718511, "creation_date": 1478715426, "question_id": 40513487, "link": "https://stackoverflow.com/questions/40513487/why-doesnt-this-template-signature-work-as-a-string-literal-using-quotes", "title": "Why doesn&#39;t this template signature work as a string-literal using quotes?", "body": "<p>C++11 permits user-defined template string-literal operators, with the following template signature (<a href=\"http://en.cppreference.com/w/cpp/language/user_literal\" rel=\"nofollow noreferrer\">taken from CppReference</a>; the return type does not need to be <code>double</code>):</p>\n\n<pre><code>template &lt;char...&gt; double operator \"\" _x();\n</code></pre>\n\n<p>However, it appears that this only works in the numeric form, not the quoted form:</p>\n\n<pre><code>template &lt;char... chs&gt;\nstd::string operator \"\"_r()\n{\n    // ... construct some sort of string and return it\n}\n\n// ... \n\nauto my_str = \"abc\"_r;  // ERROR (compiler messages copied below)\nauto my_num = 123_r;    // NO ERROR\n</code></pre>\n\n<p>Neither GCC (5.1) nor Clang (3.7) give a useful error message. GCC says:</p>\n\n<pre><code>error: no matching function for call to \u2018operator\"\"_r()\u2019\n// printed source elided\nnote: candidate: template&lt;char ...chs&gt; std::__cxx11::string operator\"\"_r()\n// printed source elided\nnote:   template argument deduction/substitution failed:\n// ERROR OUTPUT ENDS HERE\n// (nothing is printed here, despite the ':' in the previous line)\n</code></pre>\n\n<p>Clang simply says:</p>\n\n<pre><code>error: no matching literal operator for call to 'operator \"\" _r' with arguments of types 'const char *' and 'unsigned long', and no matching literal operator template\n</code></pre>\n\n<p>So why does template argument deduction fail? Why does the literal operator template not match?</p>\n\n<p>And, in general, is it possible to fix the usage so that <code>template &lt;char...&gt;</code> literal-operators can be used with non-numeric strings?</p>\n"}, {"tags": ["c++", "performance", "compilation", "compiler-optimization"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1478715542, "post_id": 40513476, "comment_id": 68268777, "body": "Consider swapping the order of the two, and see what you get."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1478715583, "post_id": 40513476, "comment_id": 68268801, "body": "Also, one <code>int i;</code> is probably not an optimization (or whatever you thought)."}, {"owner": {"reputation": 14929, "user_id": 2051137, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1sIMq.jpg?s=128&g=1", "display_name": "Remi.b", "link": "https://stackoverflow.com/users/2051137/remi-b"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1478716017, "post_id": 40513476, "comment_id": 68269015, "body": "@LogicStuff I would have thought (wrongly apparently) that allocating memory for an <code>int</code> only once rather than 4 times would be strategic indeed. Isn&#39;t it? Is it because when initialized more often the computer ensured the memory slot for <code>1</code> is closer to the vector it loops over or something like that?  I don&#39;t fully understand what swapping you are referring to. I naively tried to swap the order of what technic is being used first but the &#39;two complete loops&#39; remained the slowest of the two."}, {"owner": {"reputation": 50347, "user_id": 1763356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zGWG9.png?s=128&g=1", "display_name": "Veedrac", "link": "https://stackoverflow.com/users/1763356/veedrac"}, "edited": false, "score": 0, "creation_date": 1478722635, "post_id": 40513476, "comment_id": 68272169, "body": "You didn&#39;t compile with optimizations, so your results are meaningless."}, {"owner": {"reputation": 15557, "user_id": 390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f64fce01ffa86130c3fae06b1fcadef?s=128&d=identicon&r=PG", "display_name": "chill", "link": "https://stackoverflow.com/users/390807/chill"}, "edited": false, "score": 0, "creation_date": 1478868248, "post_id": 40513476, "comment_id": 68334820, "body": "The loop just don&#39;t have <i>that</i> much overhead: for one, the branch prediction works perfectly and, perhaps, the loops are quite small as to be &quot;optimised&quot; by the Intel&#39;s Loop Stream Detector."}], "answers": [{"comments": [{"owner": {"reputation": 15557, "user_id": 390807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f64fce01ffa86130c3fae06b1fcadef?s=128&d=identicon&r=PG", "display_name": "chill", "link": "https://stackoverflow.com/users/390807/chill"}, "edited": false, "score": 0, "creation_date": 1478868032, "post_id": 40513663, "comment_id": 68334709, "body": "The cache utilization is good in both cases: when a cache line (for the vectors data) is loaded, the whole of it is used in the computation. The variant with one fused loop uses two cache lines, but neither of them causes the eviction of the other, so it&#39;s essentially the same."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1478716473, "last_edit_date": 1478716473, "creation_date": 1478716148, "answer_id": 40513663, "question_id": 40513476, "link": "https://stackoverflow.com/questions/40513476/optimization-when-looping-through-two-vectors-of-different-lengths/40513663#40513663", "title": "Optimization when looping through two vectors of different lengths", "body": "<p>A try to explain the similarities in the execution times:</p>\n\n<p>When you do this:</p>\n\n<pre><code>for (i=0; i &lt; n1 ; i++)\n{\n  sum1 += v1[i];\n}\nfor (i=0; i &lt; n2 ; i++)\n{\n  sum2 += v2[i];\n}\n</code></pre>\n\n<p>you perform 2 loops so more instructions, but you read contiguous memory in both cases: caches work in an optimal way (What takes most time in \"modern\" computers is more memory access/cache misses than executing code)</p>\n\n<p>BTW I doubt that the compiler could group those 2 loops.</p>\n\n<p>The second case takes less control instruction count, but the memory isn't read contiguously.</p>\n\n<p>Also: optimizer use to \"unroll\" loops, thus reducing the negative effect of control instruction.</p>\n\n<p>So what you gain on one side, you lose on the other side. Those optimizations need to be benched, and you could have greater variations depending on the processor architecture.</p>\n"}], "owner": {"reputation": 14929, "user_id": 2051137, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1sIMq.jpg?s=128&g=1", "display_name": "Remi.b", "link": "https://stackoverflow.com/users/2051137/remi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 40513663, "answer_count": 1, "score": 0, "last_activity_date": 1478722572, "creation_date": 1478715364, "last_edit_date": 1478722572, "question_id": 40513476, "link": "https://stackoverflow.com/questions/40513476/optimization-when-looping-through-two-vectors-of-different-lengths", "title": "Optimization when looping through two vectors of different lengths", "body": "<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;iomanip&gt;\n#include &lt;sys/time.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    struct timeval timeStart,\n                    timeEnd;\n</code></pre>\n\n<p>Create vectors of random 0 and 1. We will benchmark the time to sum them up.</p>\n\n<pre><code>    int n1 = 450000000;  // size of vector v1\n    int n2 = 500000000;  // size of vector v2\n    int i;\n    vector&lt;bool&gt; v1(n1);\n    vector&lt;bool&gt; v2(n2);\n\n    for (i=0; i &lt; n1 ; i++)\n    {\n    v1[i] = rand() % 2;\n    }\n    for (i=0; i &lt; n2 ; i++)\n    {\n    v2[i] = rand() % 2;\n    }\n</code></pre>\n\n<p>First technique to sum. Sum these vectors with two complete (independent) loops</p>\n\n<pre><code>    int sum1 = 0;\n    int sum2 = 0;\n    gettimeofday(&amp;timeStart, NULL);\n    for (i=0; i &lt; n1 ; i++)\n    {\n      sum1 += v1[i];\n    }\n    for (i=0; i &lt; n2 ; i++)\n    {\n      sum2 += v2[i];\n    }\n    gettimeofday(&amp;timeEnd, NULL);\n    cout &lt;&lt; \"Two complete loops took \" &lt;&lt; ((timeEnd.tv_sec - timeStart.tv_sec) * 1000000 + timeEnd.tv_usec - timeStart.tv_usec) &lt;&lt; \" us\"  &lt;&lt; endl;\n</code></pre>\n\n<p>Second technique. Sum these vectors with a complete loop and a partial loop</p>\n\n<pre><code>    sum1 = 0;\n    sum2 = 0;\n    gettimeofday(&amp;timeStart, NULL);\n    for (i=0; i &lt; n1 ; i++)\n    {\n      sum1 += v1[i];\n      sum2 += v2[i];\n    }\n    for (i=n1; i &lt; n2 ; i++)\n    {\n      sum2 += v2[i];\n    }\n    gettimeofday(&amp;timeEnd, NULL);\n    cout &lt;&lt; \"With a reduced second loop, it took \" &lt;&lt; ((timeEnd.tv_sec - timeStart.tv_sec) * 1000000 + timeEnd.tv_usec - timeStart.tv_usec) &lt;&lt; \" us\"  &lt;&lt; endl;\n\nreturn 0;\n}\n</code></pre>\n\n<p>I systematically get an output of the kind</p>\n\n<pre><code>Two complete loops took 13291126 us\nWith a reduced second loop, it took 12758827 us\n</code></pre>\n\n<p>I would have expected either the same time (if the compiler optimized the first solution as I excepted it to) or I expected the complete two loops to take considerably more time (and not just 5%-10% longer) than the partial second loop.</p>\n\n<p>What is the compiler most likely doing here? Should I consider using partial loops in the future when looping through two vectors of different lengths?</p>\n\n<hr>\n\n<p>FYI, I compiled with <code>g++ -std=c++11 -o test test.cpp</code>, with version</p>\n\n<pre><code>g++ --version\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 7.0.2 (clang-700.1.81)\nTarget: x86_64-apple-darwin15.3.0\nThread model: posix\n</code></pre>\n"}, {"tags": ["c++", "cuda", "gpu", "cublas"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1478715502, "post_id": 40513446, "comment_id": 68268759, "body": "do the cuda sample codes that use cublas also show this large initialization time?  what platform (windows/linux) are you running this on?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1478715817, "post_id": 40513446, "comment_id": 68268920, "body": "To be clear, this code outputs time in milliseconds.  Are you seeing 10.000000 or 10000.000000?"}, {"owner": {"reputation": 29, "user_id": 7130070, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kP1t8n9DAFI/AAAAAAAAAAI/AAAAAAAAB9s/ZSqKe5CgbUs/photo.jpg?sz=128", "display_name": "Ruxi", "link": "https://stackoverflow.com/users/7130070/ruxi"}, "edited": false, "score": 0, "creation_date": 1478715847, "post_id": 40513446, "comment_id": 68268935, "body": "Hi Robert, I am using CUDA-7.5 on GTX 980 Ti. The cuda sample from cuda-7.5 library also shows same ~10 seconds cost of cublasCreate(). Thank you!"}, {"owner": {"reputation": 29, "user_id": 7130070, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kP1t8n9DAFI/AAAAAAAAAAI/AAAAAAAAB9s/ZSqKe5CgbUs/photo.jpg?sz=128", "display_name": "Ruxi", "link": "https://stackoverflow.com/users/7130070/ruxi"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1478716053, "post_id": 40513446, "comment_id": 68269028, "body": "@chux Hi chux, yes the actual output is always close to 9945.0 ms. Thanks!"}, {"owner": {"reputation": 29, "user_id": 7130070, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kP1t8n9DAFI/AAAAAAAAAAI/AAAAAAAAB9s/ZSqKe5CgbUs/photo.jpg?sz=128", "display_name": "Ruxi", "link": "https://stackoverflow.com/users/7130070/ruxi"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1478716271, "post_id": 40513446, "comment_id": 68269125, "body": "@RobertCrovella I am running my code on CentOS 6.6."}], "answers": [{"comments": [{"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1479366369, "post_id": 40539996, "comment_id": 68528606, "body": "It would beer good if you could accept this answer at some point to get the question of the unanswered list for the CUDA tag"}], "tags": [], "owner": {"reputation": 29, "user_id": 7130070, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kP1t8n9DAFI/AAAAAAAAAAI/AAAAAAAAB9s/ZSqKe5CgbUs/photo.jpg?sz=128", "display_name": "Ruxi", "link": "https://stackoverflow.com/users/7130070/ruxi"}, "is_accepted": true, "score": 2, "last_activity_date": 1478829185, "creation_date": 1478829185, "answer_id": 40539996, "question_id": 40513446, "link": "https://stackoverflow.com/questions/40513446/how-to-reduce-the-huge-time-cost-10-seconds-by-cublascreate/40539996#40539996", "title": "How to reduce the huge time cost (10 seconds) by cublasCreate()?", "body": "<p>I finally found the cause - our main server node didn't function well and couldn't communicate with GPU nodes normally, which somehow caused the dynamic linking of cuBLAS library hindered. A reboot recovered all. </p>\n\n<p>So there is no problem with cublasCreate() at this point. I post it here as an answer in case anyone encounters a similar situation (though low probability). </p>\n"}], "owner": {"reputation": 29, "user_id": 7130070, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kP1t8n9DAFI/AAAAAAAAAAI/AAAAAAAAB9s/ZSqKe5CgbUs/photo.jpg?sz=128", "display_name": "Ruxi", "link": "https://stackoverflow.com/users/7130070/ruxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 40539996, "answer_count": 1, "score": 0, "last_activity_date": 1501155836, "creation_date": 1478715232, "last_edit_date": 1501155836, "question_id": 40513446, "link": "https://stackoverflow.com/questions/40513446/how-to-reduce-the-huge-time-cost-10-seconds-by-cublascreate", "title": "How to reduce the huge time cost (10 seconds) by cublasCreate()?", "body": "<p>I am implementing a conjugate gradient (CG) solver using the cuSPARSE_v2/cuBLAS_v2 libraries to cope with a large sparse matrix in my research. The weird thing I observed is the huge time cost by cublasCreate() function, ~ 10 seconds. I am aware that the library initialization cost is usually large, but by searching forums I found the usual time cost of cublasCreate is of ~100 ms scale, not as much as 10s. While the whole CG iteration part only cost 0.6 ~ 1 second. I also implemented CG solvers using CUSP library, which performed quite well - with the total code time of ~ 0.5 second.</p>\n\n<p>So how to reduce the time cost by cublasCreate()? Also, if large as 10s a must-have for cuda library initialization, why CUSP library performs much better, with a nearly neglectable initialization cost?</p>\n\n<p>I am using CUDA-7.5 on GTX 980 Ti. Here is my code snippet with timing:</p>\n\n<pre><code>// Timing begin\nstruct timeval begin, end;\ngettimeofday(&amp;begin, 0); \n\ncublasStatus = cublasCreate(&amp;cublasHandle);\n\n// Timing end\ngettimeofday(&amp;end, 0); \nfloat cgtime = (end.tv_sec - begin.tv_sec) * 1000.0 + (end.tv_usec - begin.tv_usec) / 1000.0;\nprintf(\"\\nTime elapse: %f ms.\\n\", cgtime);\n</code></pre>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["c++", "image-processing", "image-morphology"], "answers": [{"tags": [], "owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "is_accepted": false, "score": 0, "last_activity_date": 1480700252, "creation_date": 1480700252, "answer_id": 40937987, "question_id": 40513348, "link": "https://stackoverflow.com/questions/40513348/binary-erosion-coming-up-black/40937987#40937987", "title": "Binary Erosion coming up black", "body": "<p>You make two the error in this loop: <code>for (int x = radius; x &lt;= -radius; x--)</code>. You initialize <code>x</code> at 1, and then the condition is <code>x &lt;= -1</code>, so you never enter the loop.</p>\n\n<p>Annex:</p>\n\n<ol>\n<li>Why your two loops on <code>i</code> and <code>j</code>do not go in the same direction?</li>\n<li>I don't understand what you want to do in the test <code>if (element[(x + radius)*radius + y + radius] == 1 &amp;&amp; copy[(i + x)*Wp + (j + y) * 3] == 0)</code>. The principle of an erosion is to keep the minimum value within a given neighborhood (defined by the structuring element).</li>\n<li>Except if you DO want to implement the methods by yourself in order to understand how the basic algorithm works, else you will find highly optimized mathematical morphology methods in the <a href=\"https://smil.cmm.mines-paristech.fr/doc/index.html\" rel=\"nofollow noreferrer\">SMIL</a> library. There is also OpenCV.</li>\n</ol>\n"}], "owner": {"reputation": 39, "user_id": 5936313, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/959574577429243/picture?type=large", "display_name": "Oliver Hall", "link": "https://stackoverflow.com/users/5936313/oliver-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480700252, "creation_date": 1478714867, "question_id": 40513348, "link": "https://stackoverflow.com/questions/40513348/binary-erosion-coming-up-black", "title": "Binary Erosion coming up black", "body": "<p>I'm trying to implement the morphological erosion operation for a binary image. Everything is black after I run it though. I've set my structuring element (int array element) to a 3x3 square.</p>\n\n<pre><code>const int radius = 1;\nint element[(radius * 2 + 1)*(radius * 2 + 1)] = { 1,1,1,1,1,1,1,1,1 };\nint iBitPerPixel = pDoc-&gt;_bmp-&gt;bitsperpixel;\nint iWidth = pDoc-&gt;_bmp-&gt;width;\nint iHeight = pDoc-&gt;_bmp-&gt;height;\nBYTE *pImg = pDoc-&gt;_bmp-&gt;point;\nint Wp = iWidth;\n\nBYTE copy[319*240*10];\n\nint r = (3 * iWidth) % 6;\nint p = (6 - r) % 6;\nWp = 3 * iWidth + p;\n\n\n\nfor (int i = iHeight - 1; i &gt;= 0; i--)\n    for (int j = 0; j &lt; iWidth; j++)\n    {\n        copy[i*Wp + j * 3] = pImg[i*Wp + j * 3];\n        pImg[i*Wp + j * 3] = 0;\n        pImg[i*Wp + j * 3 + 1] = 0;\n        pImg[i*Wp + j * 3 + 2] = 0;\n    }\n\nbool fit = true;\nfor (int i = iHeight - 1; i &gt;= 0; i--)\n    for (int j = 0; j &lt; iWidth; j++)\n    {\n        for (int x = radius; x &lt;= -radius; x--)\n            for (int y = -radius; y &lt;= radius; y++)\n            {\n                if (i + x &lt; 0 || i + x &gt;= iHeight|| j + y &lt; 0) continue;\n                if (element[(x + radius)*radius + y + radius] == 1 &amp;&amp; copy[(i + x)*Wp + (j + y) * 3] == 0)\n                {\n                    fit = false;\n                    break;\n                }\n            }\n\n        if (fit)\n            for (int x = radius; x &lt;= -radius; x--)\n                for (int y = -radius; y &lt;= radius; y++)\n                    pImg[(i + x)*Wp + (j + y) * 3] = 255;\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "struct", "queue"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478715938, "post_id": 40513278, "comment_id": 68268980, "body": "Search the internet for &quot;StackOverflow c++ read file struct&quot; for some examples."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1478716056, "post_id": 40513278, "comment_id": 68269032, "body": "Why are you pushing <i>pointers</i> to objects and not the object instances?  Pointers to objects may lead to a memory leak nightmare.  Also, if you insist on pointers, use smart pointers."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 7109545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9efd9c2675cf6c893d3f3d62c64d07d?s=128&d=identicon&r=PG&f=1", "display_name": "SVictor", "link": "https://stackoverflow.com/users/7109545/svictor"}, "is_accepted": false, "score": 0, "last_activity_date": 1478721915, "creation_date": 1478721915, "answer_id": 40515093, "question_id": 40513278, "link": "https://stackoverflow.com/questions/40513278/pushing-items-from-a-text-file-into-queue-of-struct-types/40515093#40515093", "title": "Pushing items from a text file into queue of struct types", "body": "<p>Only addressing the problem marked \"//ERROR\".\nAt this point the init_q is empty and front() is undefined. \nLook at the documentation for deque, the default container for queue. \n<a href=\"http://en.cppreference.com/w/cpp/container/deque/front\" rel=\"nofollow noreferrer\">cppreference</a></p>\n"}], "owner": {"reputation": 13, "user_id": 6120461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf2e61a6ff3c6b3461658ddba9ff89a4?s=128&d=identicon&r=PG&f=1", "display_name": "jenthu", "link": "https://stackoverflow.com/users/6120461/jenthu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478721915, "creation_date": 1478714572, "question_id": 40513278, "link": "https://stackoverflow.com/questions/40513278/pushing-items-from-a-text-file-into-queue-of-struct-types", "title": "Pushing items from a text file into queue of struct types", "body": "<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;queue&gt;\n\nusing namespace std;\n\nconst int process_cnt=22;\n\n\nstruct process{\n\n  int at;\n  float bt;\n  float rt;\n  int tat;\n  int wt;};\n\nqueue&lt;process*&gt; ready_q;\nqueue&lt;process*&gt; init_q;\n\nint main(){\n\n  ifstream inData;\n\n   inData.open(\"input.txt\");\n   while(inData){\n</code></pre>\n\n<p>I think this is causing the error since the Entry from the file should not be made into the current front.BTW,the file has two values separated by a space in each line.The entry pointer points to the front element.I thought pointing entry to back() might work but that is not working as well.</p>\n\n<pre><code>   process *entry = init_q.front();//ERROR\n\n\n   inData &gt;&gt;entry-&gt;at&gt;&gt;entry-&gt;bt;\n   init_q.push(entry);\n   }\n  cout&lt;&lt;\"Read Successful in read_file\"&lt;&lt;endl;\n\n  inData.close();\n return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "eclipse", "opengl", "computer-science"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1478714867, "post_id": 40513273, "comment_id": 68268454, "body": "You are not specifying any colors, textures, etc. and after you draw you immediately exit.   Look at this example <a href=\"https://www.badprog.com/c-opengl-hello-world\" rel=\"nofollow noreferrer\">badprog.com/c-opengl-hello-world</a>"}, {"owner": {"reputation": 681, "user_id": 3645859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c63b3e50cbe65d9a7c5735da468c0a04?s=128&d=identicon&r=PG&f=1", "display_name": "Addi", "link": "https://stackoverflow.com/users/3645859/addi"}, "edited": false, "score": 1, "creation_date": 1478715166, "post_id": 40513273, "comment_id": 68268603, "body": "You need a context and a window to draw something in OpenGL. you can&#39;t just draw it without."}], "owner": {"reputation": 1, "user_id": 7116247, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205811503246082/picture?type=large", "display_name": "Roberto Chiaiese", "link": "https://stackoverflow.com/users/7116247/roberto-chiaiese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1478717107, "answer_count": 0, "score": 0, "last_activity_date": 1478716958, "creation_date": 1478714557, "last_edit_date": 1478716958, "question_id": 40513273, "link": "https://stackoverflow.com/questions/40513273/i-cant-run-the-black-square-program-in-opengl", "closed_reason": "Duplicate", "title": "I can&#39;t run the black square program in OpenGL", "body": "<p>I wrote this code in C++:</p>\n\n<pre><code>#include &lt;windows.h&gt; \n#include &lt;GL/glut.h&gt;\n\nvoid drawPoint() {\n\n   glBegin(GL_POLYGON);\n   glVertex3f(20, 20, 0);\n   glVertex3f(80, 20, 0);\n   glVertex3f(80, 80, 0);\n   glVertex3f(20, 80, 0);\n\n  glEnd();\n\n}\n\n\nint main(){\n\n    drawPoint();\n\n}\n</code></pre>\n\n<p>The compiler should run the program, by showing a window with a black square. </p>\n\n<p>But when I run, it doesn't execute anything. I use Eclipse, but I don't think the latter is the problem because I executed an example program this morning and it worked well. Can you help me? :)</p>\n"}, {"tags": ["c++", "linux", "ubuntu", "g++"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1478714297, "post_id": 40513189, "comment_id": 68268157, "body": "Any particular reason you are not using <code>std::osftream</code>?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478714311, "post_id": 40513189, "comment_id": 68268169, "body": "Looks like plain c code."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478714350, "post_id": 40513189, "comment_id": 68268192, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 nope, there is <code>cin</code> involved"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1478714387, "post_id": 40513189, "comment_id": 68268209, "body": "where is <code>y</code> declared?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1478714419, "post_id": 40513189, "comment_id": 68268224, "body": "@Slava Eeek, I didn&#39;t spot that within all that shouting file opening options."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478714511, "post_id": 40513189, "comment_id": 68268267, "body": "you&#39;re writing the value as <i>binary</i> not text, which explains that your text editor complains. But what do you want to do exactly? write as binary or as text?"}, {"owner": {"reputation": 139, "user_id": 6128840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f51086a600de3c19ab3557c3b4c35a8?s=128&d=identicon&r=PG&f=1", "display_name": "programmer0", "link": "https://stackoverflow.com/users/6128840/programmer0"}, "edited": false, "score": 0, "creation_date": 1478714706, "post_id": 40513189, "comment_id": 68268365, "body": "I am trying to write the integer that i input into the file"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478714774, "post_id": 40513189, "comment_id": 68268403, "body": "<code>y</code> is a pointer that is dereferenced while uninitialized. Very Bad Things will come of this."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1478715044, "post_id": 40513189, "comment_id": 68268550, "body": "You have to assign <code>y</code> a value <i>before</i> you attempt to use its value! Also, why write a pointer to a file?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1478715144, "post_id": 40513189, "comment_id": 68268590, "body": "@DavidSchwartz looks like he does not know how to get a pointer from <code>int</code> variable, this is convoluted way to write <code>&amp;x</code>"}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1478714907, "creation_date": 1478714907, "answer_id": 40513361, "question_id": 40513189, "link": "https://stackoverflow.com/questions/40513189/write-in-the-file-with-linux/40513361#40513361", "title": "write in the file with Linux", "body": "<p>According to file name and the fact you are opening result file in a text editor, you suppose to write into text file. On C++ you should use <code>std::ofstream</code> instead of <code>open/write</code>:</p>\n\n<pre><code>    cin&gt;&gt;x;\n    std::ofstream fd( argv[1] );\n    fd &lt;&lt; x &lt;&lt; std::endl;\n</code></pre>\n\n<p>that would write number as a text. What you are currently doing is dumping <code>int</code> as binary blob, which text editor does not expect to get.</p>\n\n<p>Note: you have to check that <code>argc&gt;1</code> so <code>argv[1]</code> does have value, otherwise you would get UB. You may check that file opened properly, though in simple app you can ignore that, as writing in such case would not have bad effects (I mean crash or etc).</p>\n"}], "owner": {"reputation": 139, "user_id": 6128840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f51086a600de3c19ab3557c3b4c35a8?s=128&d=identicon&r=PG&f=1", "display_name": "programmer0", "link": "https://stackoverflow.com/users/6128840/programmer0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 40513361, "answer_count": 1, "score": -2, "last_activity_date": 1478715659, "creation_date": 1478714166, "last_edit_date": 1478714658, "question_id": 40513189, "link": "https://stackoverflow.com/questions/40513189/write-in-the-file-with-linux", "title": "write in the file with Linux", "body": "<p>How do I write my input in the file?\nHere is my code</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;fcntl.h&gt;\n    #include &lt;sys/stat.h&gt;\n    #include &lt;sys/types.h&gt;\n    #include &lt;unistd.h&gt;\n    using namespace std;\n    int main(int argc,char *argv[]){\n        int fd;\n        int x;\n        int *y;\n        fd=open(argv[1], O_WRONLY|O_CREAT , S_IREAD|S_IWRITE);\n        cin&gt;&gt;x;\n        *y=x;\n        write(fd,y, 4);\n    }    \n\n    return 0;\n    }\n</code></pre>\n\n<p>Maybe there is something wrong with permissions that i give to the file because when i try to open the file from directory it gives this</p>\n\n<p>\"There was a problem opening the file \u201c/home/ubuntu/Desktop/file.txt\u201d. The file you opened has some invalid characters. If you continue editing this file you could corrupt this document.\nYou can also choose another character encoding and try again.\"</p>\n"}, {"tags": ["c++", "class", "root-framework"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1478724514, "post_id": 40513188, "comment_id": 68273137, "body": "What debugger are you using?"}, {"owner": {"reputation": 243, "user_id": 6942327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46fd10915e1ae221c8135885a9e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "2good4this", "link": "https://stackoverflow.com/users/6942327/2good4this"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1478725563, "post_id": 40513188, "comment_id": 68273679, "body": "I&#39;m using a CINT compiler, I believe, if that answers your question."}, {"owner": {"reputation": 2363, "user_id": 4588453, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/51da95e02741a304f3620d3b9697eda9?s=128&d=identicon&r=PG&f=1", "display_name": "pseyfert", "link": "https://stackoverflow.com/users/4588453/pseyfert"}, "edited": false, "score": 1, "creation_date": 1478761543, "post_id": 40513188, "comment_id": 68284079, "body": "It is in my experience unusual to load macros or even run them from <code>rootlogon.C</code>. That is: every time you&#39;ll start root - regardless for what, it will load and after the fix by plexoos also run your program (until you remove it from <code>rootlogon.C</code> again). Most would probably start root and then call <code>project()</code> by hand - or start root with <code>root project.cpp+</code> or compile to an executable an avoid calling cint/cling."}], "answers": [{"comments": [{"owner": {"reputation": 2363, "user_id": 4588453, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/51da95e02741a304f3620d3b9697eda9?s=128&d=identicon&r=PG&f=1", "display_name": "pseyfert", "link": "https://stackoverflow.com/users/4588453/pseyfert"}, "edited": false, "score": 1, "creation_date": 1478761118, "post_id": 40515924, "comment_id": 68283903, "body": "Alternatively <code>.x</code> loads and executes. (starting root with <code>root macro.C</code> should do about the same as <code>gROOT-&gt;ProcessLine(&quot;.x macro.C&quot;)</code> from within root)."}], "tags": [], "owner": {"reputation": 1235, "user_id": 3203137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a688bd0747afad81e5942981c57f80d9?s=128&d=identicon&r=PG", "display_name": "plx", "link": "https://stackoverflow.com/users/3203137/plx"}, "is_accepted": false, "score": 1, "last_activity_date": 1478728473, "last_edit_date": 1478728473, "creation_date": 1478725138, "answer_id": 40515924, "question_id": 40513188, "link": "https://stackoverflow.com/questions/40513188/why-does-this-code-compile-in-root-but-does-not-do-any-of-what-its-meant-to-do/40515924#40515924", "title": "Why does this code compile in ROOT, but does not do any of what it&#39;s meant to do?", "body": "<p>For the <code>rootlogon.C</code> script to actually do something you need to call a function. I believe you want to execute your \"main\" function named <code>project()</code>. If this is the case then you need to modify your <code>rootlogon.C</code> as such:</p>\n\n<pre><code>void rootlogon() {\n\n// ...\n\ngROOT-&gt;ProcessLine(\".L sketch.cpp+\"); //Load the classes that we want to use automatically - Convenient!\ngROOT-&gt;ProcessLine(\".L project.cpp+\"); //The + means to recompile only if it changed since last time\n\nproject(); // &lt;- Add this line\n}\n</code></pre>\n\n<p>The <code>gROOT-&gt;ProcessLine(\".L ...\")</code> directives just compile the code and load the libraries in ROOT but you still need to call the function.</p>\n"}], "owner": {"reputation": 243, "user_id": 6942327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b46fd10915e1ae221c8135885a9e8bb?s=128&d=identicon&r=PG&f=1", "display_name": "2good4this", "link": "https://stackoverflow.com/users/6942327/2good4this"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478728473, "creation_date": 1478714165, "last_edit_date": 1478714819, "question_id": 40513188, "link": "https://stackoverflow.com/questions/40513188/why-does-this-code-compile-in-root-but-does-not-do-any-of-what-its-meant-to-do", "title": "Why does this code compile in ROOT, but does not do any of what it&#39;s meant to do?", "body": "<p>I am trying to write a piece of code to perform the following tasks:</p>\n\n<ol>\n<li>Read in a data file consisting of average daily temperatures over several years (1722 to 2013)</li>\n<li>Find the yearly average temperatures</li>\n<li>Make a histogram of these yearly average temperatures</li>\n<li>Make a fit through this data such that, given a particular year (eg 2060), you can extrapolate to determine the average temperature for that year.</li>\n</ol>\n\n<p>The code I've written so far, which I include below, should be able to perform tasks 1 to 3. It is divided into four parts: a header file \"sketch.h\", a C++ script \"sketch.cpp\", another C++ script \"project.cpp\" and some ROOT drawing file \"rootlogon.C\".</p>\n\n<p>The files \"sketch.h\" and \"sketch.cpp\" contain the definition of a class and implementation of its members.\"project.cpp\" is the file in which the analysis objects are instantiated. \"rootlogon.C\" has some predefined preferences for the appearance of the histograms and graphs.</p>\n\n<p>The idea is that, if ROOT is run in the same folder as contains these 4 pieces of code, it will automatically load them all. </p>\n\n<h3>sketch.h</h3>\n\n<pre><code>#ifndef TEMPTRENDER_H\n#define TEMPTRENDER_H\n\n#include &lt;string&gt;\n\nclass tempTrender \n{\npublic:\ntempTrender(std::string filePath); //Construct using the specified filePath\n\n\n//void tempPerYear(int yearToExtrapolate); //Make a histogram of average temperature per year, then fit and extrapolate to the given year\n\nvoid read_datFile();  //will be used to read in the data file\n\nprivate:\nstd::string pathToFile;   //my uppsala .dat file\n\nint Year;\nint Month;\nint Day;\ndouble Temp_exp;\ndouble Temp_corr;\nint dat_ID;\n\nstd::string helpString;\nstd::string filePath;\n\nint numEntries; //total number of measurements done (entries in the data set)\n\nint totTemp; //sum of daily temperatures in a given year\nint counter;\nint first_Year; //the year in which the measurements began\ndouble AvgTemp; //average annual temperature\n\n};\n\n#endif\n</code></pre>\n\n<h2>sketch.cpp</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"sketch.h\"\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\n//ROOT library objects\n#include &lt;TF1.h&gt; // 1d function class\n#include &lt;TH1.h&gt; // 1d histogram classes\n#include &lt;TH2.h&gt; // 2d histogram classes\n#include &lt;TRandom.h&gt; // random generators\n#include &lt;TStyle.h&gt;  // style object\n#include &lt;TMath.h&gt;   // math functions\n#include &lt;TCanvas.h&gt; // canvas object\n#include &lt;TGraph.h&gt;  //For the graphs part\n#include &lt;TLegend.h&gt;  //for the legends\n\nusing namespace std;\n\n\ntempTrender::tempTrender(string filePath)\n{\nstd::cout &lt;&lt; \"The user supplied \" &lt;&lt; filePath &lt;&lt; \" as the path to the data file.\" &lt;&lt; endl;\nstring pathToFile = filePath;\n}\n\n//reading in data file\nvoid tempTrender::read_datFile()\n{\nifstream datFile(filePath.c_str());   //opening data file, as a C-string for later manipulation\n\nif(!datFile) cout&lt;&lt;\"Error: the file could not be read\"&lt;&lt;endl; //just checking if the file was read in successfully ;-)\n\nint n = 0; //initialise a counter\nwhile(getline(datFile, helpString)) n++; //counting the number of lines in the data set;\nnumEntries = n;\n\n//returning to the beginning of .dat file\ndatFile.clear();\ndatFile.seekg(0, ios::beg);\n\n\nfor(int i=0; i&lt;numEntries; i++)\n{\ndatFile &gt;&gt; Year &gt;&gt; Month &gt;&gt; Day &gt;&gt; Temp_exp &gt;&gt; Temp_corr &gt;&gt; dat_ID; //putting input data into categories\n    std::cout&lt;&lt;Year&lt;&lt;endl; //checking that the categories contain the right data\n    std::cout&lt;&lt;\"I'm alive\"&lt;&lt;endl;\n}\n\n//calculating average temperature and creating a histogram of the values\n\nTH1F* hAvgTemp = new TH1F(\"hAvgTemp\", \"Average Annual Temperature: 1722-2013\" , 600, 1722, 2013);\n\n    while(datFile&gt;&gt; Year &gt;&gt; Month &gt;&gt; Day &gt;&gt; Temp_exp &gt;&gt; Temp_corr &gt;&gt; dat_ID)\n    {\n        while(first_Year == 1722 &amp;&amp; Year == first_Year)\n        {\n            for(int Month=0; Month &lt; 13; Month++) //loop over every month\n            {\n                for(int Day =0; Day &lt; 32; Day++) //loop over every day\n                {\n                    counter++; //count the number of measurements\n                    totTemp += Temp_corr;  //sum up the daily temperatures over all months of first_Year\n                    AvgTemp = (totTemp/counter); //average temperature for first_Year. One number.\n                }\n            }\n            hAvgTemp-&gt;Fill(AvgTemp); //start filling a histogram with the average temperatures\n            cout &lt;&lt; AvgTemp &lt;&lt; endl; //show that the calculation worked\n        }\n        first_Year = first_Year + 1; //go to the next year and run the loop again\n    }\n\n    //creating canvas for hAvgTemp histogram\n    TCanvas* c2 = new TCanvas(\"c1\", \"hAvgTemp Canvas\", 900, 600);\n    hAvgTemp-&gt;SetMinimum(0);\n    hAvgTemp-&gt;Draw();\n    c2-&gt;SaveAs(\"AvgTemp.png\");\n   }\n</code></pre>\n\n<h2>project.cpp</h2>\n\n<pre><code>#include \"sketch.h\"\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid project()\n{\nstring pathToFile = \"path_to_datFile.dat\"; //path to data file\ntempTrender t(pathToFile); //Instantiate analysis object\n//t.tempPerYear(2050);\n}\n</code></pre>\n\n<h2>rootlogon.C</h2>\n\n<pre><code>void rootlogon() {\ngStyle-&gt;SetOptStat(0); //Let's make our plots look a bit better. Get rid of the stat box\ngStyle-&gt;SetOptTitle(0); //Get rid of the title (good plots use legends instead)\ngStyle-&gt;SetTitleSize(0.05, \"x\"); //Use bigger text on the axes\ngStyle-&gt;SetTitleSize(0.05, \"y\");\ngStyle-&gt;SetLabelSize(0.05, \"x\"); //Use bigger labels too\ngStyle-&gt;SetLabelSize(0.05, \"y\");\ngStyle-&gt;SetPadTopMargin(0.05); //Change the margins to fit our new sizes\ngStyle-&gt;SetPadRightMargin(0.05);\ngStyle-&gt;SetPadBottomMargin(0.16);\ngStyle-&gt;SetPadLeftMargin(0.16);\n\ngROOT-&gt;ProcessLine(\".L sketch.cpp+\"); //Load the classes that we want to use automatically - Convenient!\ngROOT-&gt;ProcessLine(\".L project.cpp+\"); //The + means to recompile only if it changed since last time\n}\n</code></pre>\n\n<h2>Data file extract</h2>\n\n<p>I have included below an extract from the data file I am analysing. The columns are: Year, Month, Day, Measured temperature, Corrected temperature and Data ID, respectively.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1722  1 12   1.9   1.8 1\n1722  1 13   2.3   2.2 1\n1722  1 14   1.8   1.7 1\n1722  1 15    .9    .8 1\n1722  1 16  -1.8  -1.9 1\n.      .     .      .\n2013 12 29   3.8   3.6 1\n2013 12 30   1.6   1.4 1\n2013 12 31   3.3   3.1 1\n</code></pre>\n\n<p>The code compiles in ROOT but does nothing else. I have tried for a long time, and without success, to figure out what is wrong with it. Any help would be highly appreciated. In addition, a hint towards how to approach task 4 would also be appreciated. I am rather new to C++, so criticism is welcome.</p>\n"}, {"tags": ["c++", "parameters", "language-lawyer", "default-parameters"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478714256, "post_id": 40513156, "comment_id": 68268138, "body": "Looks like <a href=\"http://stackoverflow.com/questions/1880866/c-c-default-argument-set-as-a-previous-argument\">this</a> is the answer but I am not 100% sure.  Leaving it to others to decide if it should be closed as a dupe."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478714427, "post_id": 40513156, "comment_id": 68268232, "body": "@NathanOliver That question is about accessing the parameter&#39;s value, which is not possible for a good reason (order of evaluation), but I&#39;d expect that its name and type be subject to different rules since that reason does not affect them."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1478714520, "post_id": 40513156, "comment_id": 68268269, "body": "@Quentin That is why I did not vote to close.  The quote from the standard has <i>Consequently, parameters of a function shall not be used in default argument expressions, even if they are not evaluated.</i> and I am not sure if that applies here or not."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478714657, "post_id": 40513156, "comment_id": 68268334, "body": "@NathanOliver <code>int h(int a, int b = sizeof(a));</code> is used in an example as an error, so I&#39;d say this isn&#39;t allowed, after all."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1478714694, "post_id": 40513156, "comment_id": 68268354, "body": "@krzaq No, that&#39;s commented with &quot;Ok&quot;"}, {"owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478714705, "post_id": 40513156, "comment_id": 68268364, "body": "@NathanOliver That is not the same. The Standard forbids use of values in potentially evaluated expression, but <code>decltype(value)</code> is not a potentially evaluated expression."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1478714762, "post_id": 40513156, "comment_id": 68268397, "body": "@Columbo interesting, it is commented with Ok in N4606, but error in 4140."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478714886, "post_id": 40513156, "comment_id": 68268467, "body": "I wonder if this is a language change from C++14 to C++17 then.  Maybe it was a DR.  In C++14 it N3797 it shows using <code>sizeof(a)</code> as being illegal."}], "answers": [{"comments": [{"owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "edited": false, "score": 1, "creation_date": 1478714852, "post_id": 40513319, "comment_id": 68268447, "body": "This was introduced only in draft, but not in C++14. <a href=\"http://wg21.cmeerw.net/cwg/issue2082\" rel=\"nofollow noreferrer\">wg21.cmeerw.net/cwg/issue2082</a>"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "edited": false, "score": 0, "creation_date": 1478714957, "post_id": 40513319, "comment_id": 68268508, "body": "@vladon Yeah, I found that, too, after krzaq&#39;s comment."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478715395, "post_id": 40513319, "comment_id": 68268702, "body": "Is GCC really wrong or does it just need to update how it compiles on c++17/1z?  Looks like was forbidden in C++14 so you really cannot fault GCC for that."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478727210, "post_id": 40513319, "comment_id": 68274451, "body": "@NathanOliver Yes, you can; core defect resolutions must be implemented promptly, because they concern actual inconsistencies in the language. Also, what point is there in simply postponing all defect resolutions until release of the new standard?"}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 8, "last_activity_date": 1478714935, "last_edit_date": 1478714935, "creation_date": 1478714730, "answer_id": 40513319, "question_id": 40513156, "link": "https://stackoverflow.com/questions/40513156/using-a-parameters-name-inside-its-own-default-value-is-it-legal/40513319#40513319", "title": "Using a parameter&#39;s name inside its own default value - is it legal?", "body": "<p>According to <a href=\"http://eel.is/c++draft/basic.scope.pdecl#1\" rel=\"nofollow noreferrer\">[basic.scope.pdecl]/1</a>:</p>\n\n<blockquote>\n  <p>The point of declaration for a name is immediately after its complete\n  <em>declarator</em> (Clause 8) and <strong>before its <em>initializer</em></strong> (if any), except as\n  noted below.</p>\n</blockquote>\n\n<p>So the parameter is definitely declared at that point. How about using it in <code>decltype</code>? Wording was outdated and inadvertently disallowed it. See <a href=\"http://wg21.link/cwg2082\" rel=\"nofollow noreferrer\">core issue 2082</a>:</p>\n\n<blockquote>\n  <p>According to 8.3.6 [dcl.fct.default] paragraph 9,</p>\n  \n  <blockquote>\n    <p>A default argument is evaluated each time the function is called with\n    no argument for the corresponding parameter. The order of evaluation\n    of function arguments is unspecified. Consequently, parameters of a\n    function shall not be used in a default argument, even if they are not\n    evaluated. This prohibits use of parameters in unevaluated operands,\n    e.g.,</p>\n  </blockquote>\n\n<pre><code>void foo(int a = decltype(a){});\n</code></pre>\n  \n  <p>This wording predates the concept\n  of \u201cunevaluated operands\u201d (the phrase \u201cnot evaluated\u201d refers to calls\n  to the function where an actual argument is supplied and thus the\n  default argument is not used, not to unevaluated operands) and should\n  not apply to such cases.</p>\n</blockquote>\n\n<p>So the <a href=\"http://eel.is/c++draft/dcl.fct.default#9\" rel=\"nofollow noreferrer\">quoted paragraph</a> was amended to read</p>\n\n<blockquote>\n  <p>A parameter shall not appear as a potentially-evaluated expression in a default argument.</p>\n</blockquote>\n\n<p>Since operands of <code>decltype</code> are unevaluated, this is fine now, and GCC is wrong.</p>\n"}], "owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1478714935, "creation_date": 1478714037, "last_edit_date": 1478714294, "question_id": 40513156, "link": "https://stackoverflow.com/questions/40513156/using-a-parameters-name-inside-its-own-default-value-is-it-legal", "title": "Using a parameter&#39;s name inside its own default value - is it legal?", "body": "<pre><code>enum class E {\n    One,\n    Two\n};\n\nvoid foo(E value = decltype(value)::One) {\n}\n</code></pre>\n\n<p>It can be compiled with Clang (3.9), but cannot be compiled with GCC 6.1: <code>value was not declared in this scope</code>.</p>\n\n<p>What compiler is right?</p>\n"}, {"tags": ["c++", "sql-server", "linux", "qt", "azure"], "comments": [{"owner": {"reputation": 3037, "user_id": 4761806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgo7z.png?s=128&g=1", "display_name": "Noam M", "link": "https://stackoverflow.com/users/4761806/noam-m"}, "edited": false, "score": 0, "creation_date": 1492500278, "post_id": 40512966, "comment_id": 73987288, "body": "did you find anything?"}, {"owner": {"reputation": 588, "user_id": 1030070, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5c2d258fdd35bc83f113ebc6067a0e6c?s=128&d=identicon&r=PG", "display_name": "N&#233;stor", "link": "https://stackoverflow.com/users/1030070/n%c3%a9stor"}, "reply_to_user": {"reputation": 3037, "user_id": 4761806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kgo7z.png?s=128&g=1", "display_name": "Noam M", "link": "https://stackoverflow.com/users/4761806/noam-m"}, "edited": false, "score": 0, "creation_date": 1493170729, "post_id": 40512966, "comment_id": 74296054, "body": "Nope, not yet :("}], "answers": [{"comments": [{"owner": {"reputation": 748, "user_id": 3392261, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6fo6p.jpg?s=128&g=1", "display_name": "SourabhKus", "link": "https://stackoverflow.com/users/3392261/sourabhkus"}, "edited": false, "score": 0, "creation_date": 1542907047, "post_id": 45289473, "comment_id": 93745190, "body": "how i can get connName for my Application"}, {"owner": {"reputation": 341, "user_id": 3512722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9517d46eb4e82872cfa218013169776?s=128&d=identicon&r=PG&f=1", "display_name": "medasumanth", "link": "https://stackoverflow.com/users/3512722/medasumanth"}, "reply_to_user": {"reputation": 748, "user_id": 3392261, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6fo6p.jpg?s=128&g=1", "display_name": "SourabhKus", "link": "https://stackoverflow.com/users/3392261/sourabhkus"}, "edited": false, "score": 0, "creation_date": 1543008309, "post_id": 45289473, "comment_id": 93778696, "body": "connName is the connection name that you provide when opening the database. Refer to the QSqlDatabase::addDatabase() function in Qt documentation."}, {"owner": {"reputation": 748, "user_id": 3392261, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6fo6p.jpg?s=128&g=1", "display_name": "SourabhKus", "link": "https://stackoverflow.com/users/3392261/sourabhkus"}, "edited": false, "score": 0, "creation_date": 1543052998, "post_id": 45289473, "comment_id": 93785925, "body": "i tried QSqlDatabase db = QSqlDatabase::addDatabase(&quot;QODBC3&quot;); and its working fine."}], "tags": [], "owner": {"reputation": 341, "user_id": 3512722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9517d46eb4e82872cfa218013169776?s=128&d=identicon&r=PG&f=1", "display_name": "medasumanth", "link": "https://stackoverflow.com/users/3512722/medasumanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1500928072, "creation_date": 1500928072, "answer_id": 45289473, "question_id": 40512966, "link": "https://stackoverflow.com/questions/40512966/connecting-to-azure-sql-server-with-qt-on-linux/45289473#45289473", "title": "Connecting to Azure SQL Server with Qt on Linux", "body": "<p>This is what I am doing and it works perfect for me: <br>\nNote: connName is the connection name on which I am opening the database.</p>\n\n<pre><code>QString connectionString = \"Driver={ODBC Driver 13 for SQL Server};\"\n                           \"Server=tcp:xxx.database.windows.net,1433;\"\n                           \"Database=ABC;\"\n                           \"Uid=aaa@xxx;\"\n                           \"Pwd=***;\"\n                           \"Encrypt=yes;\"\n                           \"TrustServerCertificate=no;\"\n                           \"Connection Timeout=30;\";\n\nQSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\", connName);\ndb.setDatabaseName(connectionString);\n\nif (db.open())\n{\n    return true;\n}\nelse\n{\n    QString error = db.lastError().text();\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 588, "user_id": 1030070, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5c2d258fdd35bc83f113ebc6067a0e6c?s=128&d=identicon&r=PG", "display_name": "N&#233;stor", "link": "https://stackoverflow.com/users/1030070/n%c3%a9stor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500928072, "creation_date": 1478713307, "last_edit_date": 1495542352, "question_id": 40512966, "link": "https://stackoverflow.com/questions/40512966/connecting-to-azure-sql-server-with-qt-on-linux", "title": "Connecting to Azure SQL Server with Qt on Linux", "body": "<p>I am trying to connect to a Azure SQL Server database with Qt on Linux but I have  not could make it. I tried some like this: <a href=\"https://stackoverflow.com/questions/3060916/connection-to-sql-server-with-qt\">Connection to SQL Server with qt</a> but the connection is never opened. </p>\n\n<p>My code is so simple:</p>\n\n<pre><code>QString connectionTemplate = \"DRIVER={SQL SERVER};SERVER=%1;DATABASE=%2;\";\n\nQString connectionString = connectionTemplate.arg(\"tcp:my-database.database.windows.net,1433\").arg(\"my-database\");\nfor(int i = 0; i &lt; QSqlDatabase::drivers().size(); i++) {\n    qDebug() &lt;&lt; QSqlDatabase::drivers().at(i);\n}\n\nQSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\n\ndb.setDatabaseName(connectionString);\ndb.setUserName(\"user@my-database\");\ndb.setPassword(\"My password\");\n//db.setConnectOptions(\"Encrypt=yes;TrustServerCertificate=no;Connection Timeout=30;\");\nbool ok = false;\ntry {\n    ok = db.open();\n} catch(QException ex) {\n    qDebug() &lt;&lt; ex.what();\n}\n\nqDebug(\"%s=%d\", \"conexi\u00f3n abierta\", ok);\n\n QSqlQueryModel *model = new QSqlQueryModel;\n\n QString query = \"SELECT 1 AS test_col\";\n model-&gt;setQuery(query, db);\n\n db.close();\n</code></pre>\n\n<p>I already have the QODB and QODBC3 drivers so I don't know why I am unable to make the connection.</p>\n\n<p>Is some related to driver, Qt, Azure or similar?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1478713280, "post_id": 40512920, "comment_id": 68267653, "body": "We don&#39;t need the whole code. We need <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, since issue is not in the code, that you posted."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1478713284, "post_id": 40512920, "comment_id": 68267656, "body": "The problem you&#39;re describing is not in the code you showed us. So yeah, more code would be nice."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1478713348, "post_id": 40512920, "comment_id": 68267689, "body": "Also, &quot; <i>definition.c</i> &quot; I hope you meant .cpp?"}, {"owner": {"reputation": 9, "user_id": 6887833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdca8384f29405c5efaa071b824ccc3?s=128&d=identicon&r=PG&f=1", "display_name": "niyz", "link": "https://stackoverflow.com/users/6887833/niyz"}, "edited": false, "score": 0, "creation_date": 1478713392, "post_id": 40512920, "comment_id": 68267709, "body": "yes! .cpp Just moved from c to c++"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1478713673, "post_id": 40512920, "comment_id": 68267854, "body": "If you are reading a menu selection first, it could be this one <a href=\"http://stackoverflow.com/questions/21567291/why-does-stdgetline-skip-input-after-a-formatted-extraction\">Why does std::getline skip input after a formatted extraction?</a>"}, {"owner": {"reputation": 9, "user_id": 6887833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdca8384f29405c5efaa071b824ccc3?s=128&d=identicon&r=PG&f=1", "display_name": "niyz", "link": "https://stackoverflow.com/users/6887833/niyz"}, "edited": false, "score": 0, "creation_date": 1478713792, "post_id": 40512920, "comment_id": 68267910, "body": "Yes, that was indeed the problem! Thanks"}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1478719823, "post_id": 40512920, "comment_id": 68270823, "body": "before getline() put cin.ignore()"}], "owner": {"reputation": 9, "user_id": 6887833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdca8384f29405c5efaa071b824ccc3?s=128&d=identicon&r=PG&f=1", "display_name": "niyz", "link": "https://stackoverflow.com/users/6887833/niyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478714483, "creation_date": 1478713136, "last_edit_date": 1478714483, "question_id": 40512920, "link": "https://stackoverflow.com/questions/40512920/getline-and-classes", "title": "Getline and classes", "body": "<p>I'm working on this program where I am supposed to use classes to store information like name, education and phonenumber for students and I'm almost there. </p>\n\n<p>When im trying to set a string to the variable utbildning the whole thing starts printing out \"Education\" in what seems like an eternity.</p>\n\n<p>Is there some problems between getline and objects im missing?</p>\n\n<p>This is inside a switchcase in my main.</p>\n\n<pre><code>case 5:\n std::cout &lt;&lt; \"Education: \";\n getline(std::cin, utbildning);\n stud1.setEducation(utbildning);\nbreak;\n</code></pre>\n\n<p>And this is inside my .h file:</p>\n\n<pre><code>void setEducation(std::string education);\nstd::string Student::getEducation();\n</code></pre>\n\n<p>And this inside my definition.c file:</p>\n\n<pre><code>void Student::setEducation(std::string education)\n{\n    this-&gt;education = education;\n}\nstd::string Student::getEducation()\n{\n   return this-&gt;education;\n}\n</code></pre>\n\n<p>If needed I could post the whole code, but I'd figure that be alot of unnecessary info.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "html", "c++"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1478713058, "post_id": 40512869, "comment_id": 68267544, "body": "Google &quot;CGI C++&quot; Starter page: <a href=\"https://www.tutorialspoint.com/cplusplus/cpp_web_programming.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cplusplus/cpp_web_programming.htm</a>"}, {"owner": {"reputation": 93, "user_id": 7137566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/1251813004859954/picture?type=large", "display_name": "Lukas Knudsen", "link": "https://stackoverflow.com/users/7137566/lukas-knudsen"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1478714339, "post_id": 40512869, "comment_id": 68268186, "body": "But i want it like this. You press the login button, then i you&#39;re prompted with the EXE file as you can see above. Then the EXE file sends back to the server, if the login was successful and the info. The EXE file has to be on the server, so the client doesn&#39;t have to download it."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1478714882, "post_id": 40512869, "comment_id": 68268462, "body": "CGI programs run server side. A C++ program can be a CGI program.  See the 1st example on the page I linked."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 7137566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/1251813004859954/picture?type=large", "display_name": "Lukas Knudsen", "link": "https://stackoverflow.com/users/7137566/lukas-knudsen"}, "edited": false, "score": 1, "creation_date": 1478714444, "post_id": 40513114, "comment_id": 68268242, "body": "But this will require a mysql database, because i want the server to remember the accounts once they have been registered. So even if i close the server, it still has the accounts that are created."}], "tags": [], "owner": {"reputation": 324, "user_id": 2652540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mfE4t.jpg?s=128&g=1", "display_name": "viktarpunko", "link": "https://stackoverflow.com/users/2652540/viktarpunko"}, "is_accepted": false, "score": 0, "last_activity_date": 1478713888, "creation_date": 1478713888, "answer_id": 40513114, "question_id": 40512869, "link": "https://stackoverflow.com/questions/40512869/executing-exe-c-in-html-or-converting-to-javascript/40513114#40513114", "title": "Executing .exe (c++) in html or converting to javascript", "body": "<p>You can't write in File System from Javascript in a browser. I think that you should do your application using client-server architecture. For example, the client will be a simple HTML page with inputs for username and passwords, the server will save and check user's credentials. In this case, you can use Javascript for sending data from your page to the server.</p>\n"}], "owner": {"reputation": 93, "user_id": 7137566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/1251813004859954/picture?type=large", "display_name": "Lukas Knudsen", "link": "https://stackoverflow.com/users/7137566/lukas-knudsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478714546, "creation_date": 1478712950, "last_edit_date": 1478714546, "question_id": 40512869, "link": "https://stackoverflow.com/questions/40512869/executing-exe-c-in-html-or-converting-to-javascript", "title": "Executing .exe (c++) in html or converting to javascript", "body": "<p>Is it possible to run an EXE (c++) on a server/webpage and make the EXE return a respons, or do i have to convert this EXE (c++) to javascript?</p>\n\n<p>If i have to convert the code to javascript, how would i do that? I know the basics of javascript, but i don't know how to read and write to .txt files.</p>\n\n<p>Basically my code is a login system that i want to use for my website, so i don't have to use mysql or a database. I know this is a slow and probably a dumb way of doing it, but it's for a project. Any help is appreciated!</p>\n\n<p>EDIT:    You press the login button, then i you're prompted with the EXE file as you can see above. Then the EXE file sends back to the server, if the login was successful and the info. The EXE file has to be on the server, so the client doesn't have to download it.</p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;time.h&gt;\n\nusing namespace std;\nvoid cls() { system(\"cls\"); }\n\nbool mainPage(string &amp;username, string &amp;password) {\n    cls();\n    cout &lt;&lt; \"Username: \"; getline(cin, username);\n    cout &lt;&lt; \"Password: \"; getline(cin, password);\n    if(username != \"\" &amp;&amp; password != \"\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\nbool checkLogin(string &amp;username, string &amp;password, string &amp;email, string &amp;firstName, string &amp;lastName) {\n    string pw = \"\";\n\n    ifstream ifile(username + \".txt\");\n    if(ifile.is_open()) {\n        ifile &gt;&gt; pw &gt;&gt; email &gt;&gt; firstName &gt;&gt; lastName;\n        if(pw == password) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        return false;\n    }\n}\n\nbool loginFail() {\n    string fail = \"\";\n    string undef = \"\";\n\n    cls();\n    cout &lt;&lt; \"'reg'\" &lt;&lt; endl;\n    cout &lt;&lt; \"'main'\" &lt;&lt; endl;\n    getline(cin, fail);\n    if(fail == \"reg\") {\n        return true;\n    }\n    else if(fail == \"main\") {\n        return false;\n    }\n    else {\n        cout &lt;&lt; \"\\nCould not understand you.\" &lt;&lt; endl;\n        getline(cin, undef);\n        return loginFail();\n    }\n}\n\nbool regist() {\n    string un;\n    string pw;\n    string em;\n    string fn;\n    string ln;\n    string undef = \"\";\n\n    cls();\n    cout &lt;&lt; \"'main'\" &lt;&lt; endl;\n    cout &lt;&lt; \"\\nNew username: \"; getline(cin, un);\n    cout &lt;&lt; \"New password: \"; getline(cin, pw);\n    if((un != \"\" &amp;&amp; pw != \"\") &amp;&amp; (un != \"main\" &amp;&amp; pw != \"main\")) {\n        ifstream ifile(un + \".txt\");\n        if (ifile.is_open()) {\n            cout &lt;&lt; \"\\nThis username is already taken.\" &lt;&lt; endl;\n            getline(cin, undef);\n            return regist();\n        }\n        else {\n            cout &lt;&lt; \"\\nEmail: \"; getline(cin, em);\n            cout &lt;&lt; \"\\nFirst name: \"; getline(cin, fn);\n            cout &lt;&lt; \"Last name: \"; getline(cin, ln);\n            if(em != \"\" &amp;&amp; fn != \"\" &amp;&amp; ln != \"\") {\n                ofstream ofile;\n                ofile.open(un + \".txt\");\n                if (ofile.is_open()) {\n                    ofile &lt;&lt; pw &lt;&lt; endl;\n                    ofile &lt;&lt; em &lt;&lt; endl;\n                    ofile &lt;&lt; fn &lt;&lt; endl;\n                    ofile &lt;&lt; ln &lt;&lt; endl;\n                    ofile.close();\n                    cout &lt;&lt; \"\\nFile was successfully written to.\" &lt;&lt; endl;\n                    getline(cin, undef);\n                    return true;\n                }\n                else {\n                    cout &lt;&lt; \"\\nFile could not open.\" &lt;&lt; endl;\n                    getline(cin, undef);\n                    return regist();\n                }\n            }\n            else {\n                cout &lt;&lt; \"\\nYou didn't enter one of the above.\" &lt;&lt; endl;\n                getline(cin, undef);\n                return regist();\n            }\n        }\n    }\n    else if(un == \"main\" || pw == \"main\") {\n        return false;\n    }\n    else {\n        cout &lt;&lt; \"\\nYou didn't do it correct.\" &lt;&lt; endl;\n        getline(cin, undef);\n        return regist();\n    }\n}\n\nvoid loginSuccess(string username, string password, string email, string firstName, string lastName) {\n    string undef = \"\";\n\n    cls();\n    cout &lt;&lt; \"You have successfully logged in.\" &lt;&lt; endl;\n    cout &lt;&lt; \"\\nUsername: \" &lt;&lt; username &lt;&lt; endl;\n    cout &lt;&lt; \"Password: \" &lt;&lt; password &lt;&lt; endl;\n    cout &lt;&lt; \"\\nEmail: \" &lt;&lt; email &lt;&lt; endl;\n    cout &lt;&lt; \"\\nFrist name: \" &lt;&lt; firstName &lt;&lt; endl;\n    cout &lt;&lt; \"Last name: \" &lt;&lt; lastName &lt;&lt; endl;\n    getline(cin, undef);\n}\n\nint main(void) {\n    system(\"color a\");\n    string username = \"\";\n    string password = \"\";\n    string email = \"\";\n    string firstName = \"\";\n    string lastName = \"\";\n\n    if(!mainPage(username, password)) {\n        return main();\n    }\n    else {\n        if(!checkLogin(username, password, email, firstName, lastName)) {\n            if(!loginFail()) {\n                return main();\n            }\n            else {\n                if (!regist()) {\n                    return main();\n                }\n                else {\n                    return main();\n                }\n            }\n        }\n        else {\n            loginSuccess(username, password, email, firstName, lastName);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478712962, "post_id": 40512857, "comment_id": 68267505, "body": "Just to add : Recursion is not my favorite method and maybe it is wrong"}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "edited": false, "score": 0, "creation_date": 1478713438, "post_id": 40512857, "comment_id": 68267732, "body": "Do you actually want to list all the sequences for some reason? Or just determine how many there are?"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478713449, "post_id": 40512857, "comment_id": 68267738, "body": "Determine how many there are"}, {"owner": {"reputation": 480, "user_id": 6168802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jG8Kj.jpg?s=128&g=1", "display_name": "Real73", "link": "https://stackoverflow.com/users/6168802/real73"}, "edited": false, "score": 1, "creation_date": 1478713588, "post_id": 40512857, "comment_id": 68267811, "body": "so you want 6 as output?"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478713680, "post_id": 40512857, "comment_id": 68267857, "body": "The output has to be 6 because there are 6 sequences, not 3"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478714326, "post_id": 40512857, "comment_id": 68268181, "body": "I wonder what could be the problem"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1478714342, "post_id": 40512857, "comment_id": 68268187, "body": "If I understand the problem correctly, the answer would simply be equal to <code>(n+k-1)!&#47;(k!*(n-k)!)</code>, which is equal to binomial coefficient with repetitions allowed. But, you need to be wary of how quickly factorials can grow."}, {"owner": {"reputation": 480, "user_id": 6168802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jG8Kj.jpg?s=128&g=1", "display_name": "Real73", "link": "https://stackoverflow.com/users/6168802/real73"}, "edited": false, "score": 0, "creation_date": 1478714634, "post_id": 40512857, "comment_id": 68268324, "body": "<code>(1,1 - 1,2 - 1,3 - 2,2 - 2,3 - 3,3)</code> here i see 7 item comma separated"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478714732, "post_id": 40512857, "comment_id": 68268381, "body": "1,1 is just one of the sequences. The other ones are 1,2 -&gt; 1,3 -&gt; 2,2 -&gt; 2,3 -&gt; 3,3"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1478715116, "post_id": 40512857, "comment_id": 68268579, "body": "Oops, I messed up the formula (due to trying to simplify it), in fact it is: <code>(n+k-1)!&#47;(k!*(n-1)!)</code>, but that still, doesn&#39;t change the fact that it is the value of binomial coefficient with repetitions allowed."}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478715240, "post_id": 40512857, "comment_id": 68268642, "body": "That will output 4, not 6. And output 15 instead of 20 when n is 3 and k is 4"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1478715628, "post_id": 40512857, "comment_id": 68268825, "body": "@Nson Let&#39;s take the example that you posted (n=3; k=2). That makes the formula, that I posted, to look like: <code>(3+2-1)!&#47;(2!*(3-1)!)=4!&#47;(2!*2!)=4*3*2*1&#47;(2*1*2*1)=24&#47;4=6</code>. How did you get <code>4</code>?"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478715691, "post_id": 40512857, "comment_id": 68268857, "body": "No, no. N is 2 and K is 3"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1478715890, "post_id": 40512857, "comment_id": 68268956, "body": "@Nson Labels are irrelevant. I can relabel the parameters, but that wouldn&#39;t change the meaning of it (for your context, I can define k=N;n=K, and everything works). To be fair, I didn&#39;t even look at your notation, but, rather was going for the notation that is standard in combinatorics."}], "answers": [{"comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1478716567, "post_id": 40513746, "comment_id": 68269266, "body": "<i>This kind of debugging can be made a lot easier by adding cout statements</i> Well.. This kind of debugging can be made a lot easier by using a debugger."}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478716692, "post_id": 40513746, "comment_id": 68269315, "body": "What about N &gt; 2 ?  You didn&#39;t use n anywhere in the modified function"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478717109, "post_id": 40513746, "comment_id": 68269527, "body": "When N = 3 and K = 3 , there are combinations such as 1 1 1 -&gt; 1 1 2 -&gt; 1 1 3 -&gt; 1 2 2 , etc"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478717398, "post_id": 40513746, "comment_id": 68269654, "body": "Why using a recursion for just N = 2? That can be done with two loops."}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478719376, "post_id": 40513746, "comment_id": 68270639, "body": "Sorry, forgot to tag you @Some Guy"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478724907, "post_id": 40513746, "comment_id": 68273326, "body": "Thanks! One last question. Is that the most effective solution?"}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478791797, "post_id": 40513746, "comment_id": 68302499, "body": "Bump. still need to know"}, {"owner": {"reputation": 1757, "user_id": 2831867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de10f124d2cfc473327e8ba971ce3e0a?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/2831867/some-guy"}, "edited": false, "score": 0, "creation_date": 1478792343, "post_id": 40513746, "comment_id": 68302855, "body": "No, this is still not the most efficient solution. This algorithm has some repeating subproblems and dynamic programming would give much better results in the case."}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478795240, "post_id": 40513746, "comment_id": 68304767, "body": "Oh so now I know why it takes 1.5 seconds instead of &lt; 1."}, {"owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "edited": false, "score": 0, "creation_date": 1478795360, "post_id": 40513746, "comment_id": 68304850, "body": "All this for nothing. damn"}], "tags": [], "owner": {"reputation": 1757, "user_id": 2831867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de10f124d2cfc473327e8ba971ce3e0a?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/2831867/some-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1478723957, "last_edit_date": 1478723957, "creation_date": 1478716499, "answer_id": 40513746, "question_id": 40512857, "link": "https://stackoverflow.com/questions/40512857/how-to-effectively-make-ascending-sequences/40513746#40513746", "title": "How to effectively make ascending sequences?", "body": "<p>This function should do it for a given n and k</p>\n\n<pre><code>long long seq(long long n, long long k,long long first,long long depth){\n   if(depth &gt; n){\n       cnt = cnt + 1; // A leaf node is hit in the recursion tree\n       return cnt;\n   }\n   else {\n       for(long long i= first;i&lt;=k;i++){    \n            seq(n,k,i,depth+1); // Continue recursion\n       }\n   }\n   return cnt;\n}\nint main()\n{\n    long long n,k;\n    cin&gt;&gt;n&gt;&gt;k;\n    cout&lt;&lt;seq(n,k,1,1);\n    return 0;\n}\n</code></pre>\n\n<p>Running code here : <a href=\"http://cpp.sh/4xr7a\" rel=\"nofollow noreferrer\">http://cpp.sh/4xr7a</a></p>\n"}], "owner": {"reputation": 119, "user_id": 7118674, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c927688e479ec2d4d1306183f02fb48?s=128&d=identicon&r=PG&f=1", "display_name": "Nson", "link": "https://stackoverflow.com/users/7118674/nson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478723957, "creation_date": 1478712906, "last_edit_date": 1478715875, "question_id": 40512857, "link": "https://stackoverflow.com/questions/40512857/how-to-effectively-make-ascending-sequences", "title": "How to effectively make ascending sequences?", "body": "<p>I am currently trying to make a program which involves ascending sequences. N is for the size of the sequence and K is the maximum number, for example</p>\n\n<p>Input: <code>2,3</code></p>\n\n<p>Output: <code>6 (1,1 - 1,2 - 1,3 - 2,2 - 2,3 - 3,3)</code></p>\n\n<p>My current code doesn't output 6 but 3. I know this is probably not the way to find the amount of sequences. From what I see, something is wrong in the recursion. Can you please help me find the problem and fix it?</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\nlong long n,k,cnt=0;\nlong long seq(long long n, long long k, long long first){\n   if(n==first){\n       return cnt;\n   }\n   for(long long i=first;i&lt;=k;i++){\n        cnt = cnt + 1;\n   }\n   return seq(n,k,first+1);\n}\nint main()\n{\n    long long n,k;\n    cin&gt;&gt;n&gt;&gt;k;\n    cout&lt;&lt;seq(n,k,1);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c-preprocessor"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478712294, "post_id": 40512639, "comment_id": 68267169, "body": "Just reconsider that macros do plain text processing and check what that would expand to."}], "answers": [{"comments": [{"owner": {"reputation": 61429, "user_id": 572743, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9941673f566f229bc536c1c2b558884e?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/572743/damon"}, "edited": false, "score": 0, "creation_date": 1478712662, "post_id": 40512712, "comment_id": 68267370, "body": "That explains, thank you. Variadic macros indeed work."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": true, "score": 6, "last_activity_date": 1478712385, "creation_date": 1478712385, "answer_id": 40512712, "question_id": 40512639, "link": "https://stackoverflow.com/questions/40512639/is-it-legal-for-a-function-like-macro-to-steal-commas-from-a-parenthesized-tem/40512712#40512712", "title": "Is it legal for a function-like macro to &quot;steal&quot; commas from a parenthesized template argument list?", "body": "<p><code>p((bar&lt;int,int&gt;))</code> is a valid invocation of the <code>p</code> macro with a single macro argument, which is <code>(bar&lt;int,int&gt;)</code>. Your understanding so far is correct.</p>\n\n<p>Unfortunately, its expansion includes <code>sizeof((bar&lt;int,int&gt;))</code>, and <code>sizeof</code> does not accept doubly-parenthesised types.</p>\n\n<p>Variadic macros (C++11) work well here as an alternative.</p>\n\n<pre><code>#define p(...) printf(\"sizeof(\" #__VA_ARGS__ \") = %u\\n\", sizeof(__VA_ARGS__));\n</code></pre>\n"}], "owner": {"reputation": 61429, "user_id": 572743, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9941673f566f229bc536c1c2b558884e?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/572743/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 40512712, "answer_count": 1, "score": 4, "last_activity_date": 1501098486, "creation_date": 1478712085, "last_edit_date": 1501098486, "question_id": 40512639, "link": "https://stackoverflow.com/questions/40512639/is-it-legal-for-a-function-like-macro-to-steal-commas-from-a-parenthesized-tem", "title": "Is it legal for a function-like macro to &quot;steal&quot; commas from a parenthesized template argument list?", "body": "<p>I was just surprised that providing a type with two template arguments to a function-like macro resulted in the compiler complaining.</p>\n\n<p>This (conceptually similar) example code:</p>\n\n<pre><code>template&lt;typename T&gt;    struct foo{};\ntemplate&lt;typename T, U&gt; struct bar{};\n#define p(x) printf(\"sizeof(\" #x \") = %u\\n\", sizeof(x));\n\nint main()\n{\n   p(foo&lt;int&gt;);        // works, of course\n   p(bar&lt;int,int&gt;);    // does not work\n   p((bar&lt;int,int&gt;));  // does not work either\n   return 0;\n}\n</code></pre>\n\n<p>makes GCC (6.2.0) complain <code>macro \"p\" passed 2 arguments, but takes just 1</code>.</p>\n\n<p>Well, of course, the preprocessor is <em>a preprocessor</em> doing text replacement, it's not a real C++ compiler which understands templates or all other rules of the language.</p>\n\n<p>Maybe I'm asking too much by expecting that the preprocessor recognizes the angle brackets, granted... but at least parentheses are explicitly mentioned in the specification.</p>\n\n<p>16.3 (paragraphs 10 to 12) states outermost parentheses delimiting the bounded sequence of tokens. The word <em>\"outermost\"</em> suggests that there may possibly also be further (not-outermost) parentheses which the preprocessor recognizes.<br>\nAlso, it explicitly states <em>\"skipping intervening matched pairs of left and right parenthesis\"</em> as well as <em>\"comma preprocessing tokens between matching inner parentheses <strong>do not</strong> separate arguments\"</em> -- which means that if I am reading correctly, then at least the last line <em>should</em> in my understanding pass.</p>\n\n<p>What am I understanding wrong?</p>\n"}, {"tags": ["c++", "pointers", "memory", "linked-list", "insert"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478712011, "post_id": 40512619, "comment_id": 68267024, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1478714424, "post_id": 40512619, "comment_id": 68268229, "body": "@Bloggs  Why is one function is named using an upper case letter like setNext and other is named using a lower case letter as getnext?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478714451, "post_id": 40512619, "comment_id": 68268249, "body": "<code>while (curr != NULL)</code> is going to be very,very hard without something being set to <code>NULL</code> somewhere in insert."}, {"owner": {"reputation": 3, "user_id": 7131742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1cbb228819ee183ccd93bc28cd5737?s=128&d=identicon&r=PG&f=1", "display_name": "Bloggs", "link": "https://stackoverflow.com/users/7131742/bloggs"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478714794, "post_id": 40512619, "comment_id": 68268420, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I have stepped through my code by line, believe me, I am trying to use stack overflow as a last resort. My debugger is not working atm on vc++"}, {"owner": {"reputation": 3, "user_id": 7131742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1cbb228819ee183ccd93bc28cd5737?s=128&d=identicon&r=PG&f=1", "display_name": "Bloggs", "link": "https://stackoverflow.com/users/7131742/bloggs"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1478714848, "post_id": 40512619, "comment_id": 68268446, "body": "@VladfromMoscow I just named them that way out of personal preference helps me see them better :)"}, {"owner": {"reputation": 5901, "user_id": 6082645, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Cgm7x.jpg?s=128&g=1", "display_name": "jafarbtech", "link": "https://stackoverflow.com/users/6082645/jafarbtech"}, "edited": false, "score": 0, "creation_date": 1478847683, "post_id": 40512619, "comment_id": 68324142, "body": "@Bloggs didn&#39;t the solution work which I gave you? then why did u unaccept it?"}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1478719093, "last_edit_date": 1478719093, "creation_date": 1478715196, "answer_id": 40513433, "question_id": 40512619, "link": "https://stackoverflow.com/questions/40512619/attempted-insert-node-leads-to-infinite-linked-list/40513433#40513433", "title": "Attempted insert node leads to infinite linked list", "body": "<p>Your function is too complicated. The more complicated function the more bugs it contains and it is more difficult to read it.:)</p>\n\n<p>The function can be written the following way. I assume that there are defined the following functions</p>\n\n<pre><code>getNext, setNext, getPrev, setPrev\n   ^^^^\n</code></pre>\n\n<p>Here you are. </p>\n\n<pre><code>bool StudentLinkedList::insertStudentAfter( StudentNode *student, \n                                            const std::string &amp;name )\n{\n    StudentNode *current = headP;\n\n    while ( current != nullptr &amp;&amp; current-&gt;getName() != name ) \n    {\n        current = current-&gt;getNext();\n    }\n\n    bool success = current != nullptr;\n\n    if ( success )\n    {\n        student-&gt;setPrev( current );\n        student-&gt;setNext( current-&gt;getNext() );\n\n        if ( current-&gt;getNext() != nullptr ) \n        {\n            current-&gt;getNext()-&gt;setPrev( student );\n        }\n\n        current-&gt;setNext( student );\n    }\n\n    return success;\n}\n</code></pre>\n\n<p>Take into account that if the list also has a data member called something like tail then the function also has to change the tail variable if <code>current-&gt;getNext</code> is equal to <code>nullptr</code>.</p>\n\n<p>For example</p>\n\n<pre><code>        if ( current-&gt;getNext() != nullptr ) \n        {\n            current-&gt;getNext()-&gt;setPrev( student );\n        }\n        else\n        {\n            tailP = student;\n           //^^^^\n        }\n</code></pre>\n\n<p>Here is a demonstrative program that shows how the class could be defined using your approach</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass StudentLinkedList\n{\nprivate:    \n    class StudentNode\n    {\n    private:\n        StudentNode *next;\n        StudentNode *prev;\n        std::string name;\n\n    public:\n        StudentNode( const std::string &amp;name ) \n            : next( nullptr ), prev( nullptr ), name( name ) {}\n\n        StudentNode * getNext() const { return next; }\n        StudentNode * getPrev() const { return prev; }\n        const std::string &amp; getName() const { return name; }\n\n        void setNext( StudentNode *student ) { next = student; }\n        void setPrev( StudentNode *student ) { prev = student; }\n    } *head = nullptr, *tail = nullptr;\n\npublic:\n    StudentLinkedList() = default;\n    StudentLinkedList( const StudentLinkedList &amp; ) = delete;\n    StudentLinkedList &amp; operator =( const StudentLinkedList &amp; ) = delete;\n    ~StudentLinkedList()\n    {\n        while ( head != nullptr)\n        {\n            StudentNode *tmp = head;\n            head = head-&gt;getNext();\n            delete tmp;\n        }\n\n        tail = head;\n    }\n\n    void appendStudent( const std::string &amp;name )\n    {\n        StudentNode *student = new StudentNode( name );\n        appendStudent( student );\n    }\n\n    void insertStudentAfter( const std::string &amp;current_name, \n                             const std::string &amp;new_name )\n    {\n        StudentNode *student = new StudentNode( new_name );\n        insertStudentAfter( student, current_name );\n    }\n\n    friend std::ostream &amp; operator &lt;&lt;( std::ostream &amp;os, const StudentLinkedList &amp;lsdt );   \n\nprivate:\n    void appendStudent( StudentNode *student )\n    {\n        if ( tail == nullptr )\n        {\n            head = tail = student;\n        }\n        else\n        {\n            tail-&gt;setNext( student );\n            tail = tail-&gt;getNext();\n        }\n    }\n\n    bool insertStudentAfter( StudentNode *student, const std::string &amp;name )\n    {\n        StudentNode *current = head;\n\n        while ( current != nullptr &amp;&amp; current-&gt;getName() != name ) \n        {\n            current = current-&gt;getNext();\n        }\n\n        bool success = current != nullptr;\n\n        if ( success )\n        {\n            student-&gt;setPrev( current );\n            student-&gt;setNext( current-&gt;getNext() );\n\n            if ( current-&gt;getNext() != nullptr ) \n            {\n                current-&gt;getNext()-&gt;setPrev( student );\n            }\n            else\n            {\n                tail = student;\n            }\n\n             current-&gt;setNext( student );\n        }\n\n        return success;\n    }\n};\n\nstd::ostream &amp; operator &lt;&lt;( std::ostream &amp;os, const StudentLinkedList &amp;lst )\n{\n    for ( StudentLinkedList::StudentNode *current = lst.head; \n         current != nullptr; \n         current = current-&gt;getNext() )\n    {\n        os &lt;&lt; current-&gt;getName() &lt;&lt; ' ';\n    }\n\n    return os;\n}\n\nint main() \n{\n    const size_t N = ( 'Z' - 'A' + 1 ) / 2;\n\n    StudentLinkedList students;\n\n    for ( size_t i = 0; i &lt; N; i++ ) \n    {\n        char name[2] = { char( 'A' + 2 * i ) };\n\n        students.appendStudent( name );\n    }       \n\n    std::cout &lt;&lt; students &lt;&lt; std::endl;\n\n    for ( size_t i = 0; i &lt; N; i++ ) \n    {\n        char new_name[2] = { char( 'A' + 2 * i + 1 ) };\n        char current_name[2] = { char( 'A' + 2 * i ) };\n\n        students.insertStudentAfter( current_name, new_name );\n    }       \n\n    std::cout &lt;&lt; students &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>A C E G I K M O Q S U W Y \nA B C D E F G H I J K L M N O P Q R S T U V W X Y Z \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5901, "user_id": 6082645, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Cgm7x.jpg?s=128&g=1", "display_name": "jafarbtech", "link": "https://stackoverflow.com/users/6082645/jafarbtech"}, "is_accepted": true, "score": 0, "last_activity_date": 1478718332, "creation_date": 1478718332, "answer_id": 40514213, "question_id": 40512619, "link": "https://stackoverflow.com/questions/40512619/attempted-insert-node-leads-to-infinite-linked-list/40514213#40514213", "title": "Attempted insert node leads to infinite linked list", "body": "<p>You have to simply insert your new node between curr &amp; prev</p>\n\n<p>If you really want to appreciate accept and upvote the answer</p>\n\n<pre><code>bool StudentLinkedList::insertStudentAfter(StudentNode* student, string _name) \n{ \nStudentNode* curr = headP;\nStudentNode* prev = headP; \nwhile (curr != NULL) \n{ \nif (curr-&gt;getName() == _name)\n{ \nstudent-&gt;setNext(curr-&gt;getnext()); \ncurr-&gt;setNext(student); \nlength++; \nreturn true;\n} \nprev = curr; \ncurr = curr-&gt;getnext(); \n} \nreturn false;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7131742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1cbb228819ee183ccd93bc28cd5737?s=128&d=identicon&r=PG&f=1", "display_name": "Bloggs", "link": "https://stackoverflow.com/users/7131742/bloggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "closed_date": 1478775254, "accepted_answer_id": 40514213, "answer_count": 2, "score": -3, "last_activity_date": 1478719093, "creation_date": 1478711987, "question_id": 40512619, "link": "https://stackoverflow.com/questions/40512619/attempted-insert-node-leads-to-infinite-linked-list", "closed_reason": "Not suitable for this site", "title": "Attempted insert node leads to infinite linked list", "body": "<p>I am trying to insert a node into a linked list after it finds a name in the list.\nMy problem is that when i print out the linked list it prints the nodes up to and including the node containing the name but then outputs infinitely the node I inserted. Any help would be greatly appreciated. Thanks!</p>\n\n<p>(some extra information),(the pointer student is pointing to a dynamically created node already). :)</p>\n\n<pre><code>bool StudentLinkedList::insertStudentAfter(StudentNode* student, string _name)\n{\nStudentNode* curr = headP;\nStudentNode* prev = headP;\nwhile (curr != NULL)\n{\n    if (curr-&gt;getName() == _name)\n    {\n\n\n        StudentNode* dummy = curr -&gt; getnext();\n\n        curr-&gt;setNext(student);\n        prev = prev-&gt;getnext();\n\n        curr=curr -&gt;getnext();\n        curr-&gt;setNext(dummy);\n\n        prev = curr;\n        curr = curr-&gt;getnext();\n\n\n       length++;\n        return true;\n    }\n    prev = curr;\n    curr = curr-&gt;getnext();\n}\nreturn false;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "linux", "gcc", "makefile", "g++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478712542, "post_id": 40512596, "comment_id": 68267301, "body": "Cannot be found in the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html#Option-Summary\" rel=\"nofollow noreferrer\">GNU GCC options summary</a>. May be it was meant for a different compiler?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1478714317, "post_id": 40512596, "comment_id": 68268174, "body": "First thing that pops into my mind is the MS Visual Studio /MT multithreaded, static linking compiler option. Spinning up an openSUSE 12.2, closest I have easily at hand, I can find nothing in gcc."}, {"owner": {"reputation": 33, "user_id": 7137547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c7d5cb860437c1113470b4fd96362d?s=128&d=identicon&r=PG&f=1", "display_name": "pydumm", "link": "https://stackoverflow.com/users/7137547/pydumm"}, "edited": false, "score": 0, "creation_date": 1478715210, "post_id": 40512596, "comment_id": 68268627, "body": "It seems like it&#39;s an old option, see: <a href=\"https://gcc.gnu.org/onlinedocs/gcc-4.0.2/gcc/IA_002d64-Options.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/onlinedocs/gcc-4.0.2/gcc/IA_002d64-Options.html</a>. Can it safely be replaced by the pthread flag? That one still works."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": true, "score": 3, "last_activity_date": 1478715410, "creation_date": 1478715410, "answer_id": 40513482, "question_id": 40512596, "link": "https://stackoverflow.com/questions/40512596/g-error-unrecognized-command-line-option-mt/40513482#40513482", "title": "g++: error: unrecognized command line option &#39;-mt&#39;", "body": "<p>This flag is used to compile and link multi-threaded applications.</p>\n\n<p>With <code>gcc</code> you should use <code>-pthread</code> for both compiling and linking, no <code>-lpthread</code> is necessary.</p>\n\n<p>When compiling <code>-pthread</code> sets the necessary macros, when linking it links in the required libraries.</p>\n"}], "owner": {"reputation": 33, "user_id": 7137547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c7d5cb860437c1113470b4fd96362d?s=128&d=identicon&r=PG&f=1", "display_name": "pydumm", "link": "https://stackoverflow.com/users/7137547/pydumm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3042, "favorite_count": 0, "accepted_answer_id": 40513482, "answer_count": 1, "score": 3, "last_activity_date": 1478715410, "creation_date": 1478711933, "question_id": 40512596, "link": "https://stackoverflow.com/questions/40512596/g-error-unrecognized-command-line-option-mt", "title": "g++: error: unrecognized command line option &#39;-mt&#39;", "body": "<p>I'm trying to compile a program from source. In an OpenSuse 12.1 chroot the program compiles fines, but in an OpenSuse leap 42.1 chroot I get the following error:</p>\n\n<pre><code>g++: error: unrecognized command line option '-mt'\n</code></pre>\n\n<p>I've searched (both on here and on google) but couldn't find much information on the -mt flag. What is this '-mt' flag? </p>\n"}, {"tags": ["c++", "qt", "qt5"], "answers": [{"tags": [], "owner": {"reputation": 11210, "user_id": 725937, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/32cba7500e49d4c491289f9e101c693b?s=128&d=identicon&r=PG", "display_name": "abergmeier", "link": "https://stackoverflow.com/users/725937/abergmeier"}, "is_accepted": true, "score": 0, "last_activity_date": 1478788824, "creation_date": 1478788824, "answer_id": 40530257, "question_id": 40512436, "link": "https://stackoverflow.com/questions/40512436/changeevent-never-called-with-windowstatechange/40530257#40530257", "title": "changeEvent never called with WindowStateChange", "body": "<p>So seems like <code>WindowStateChangeEvent</code> is not propagated to children.</p>\n\n<p>So you can use the above code in a <code>QFooWindow</code>.\nSadly when then trying to <code>sendEvent</code> further to all children, it crashes.</p>\n"}], "owner": {"reputation": 11210, "user_id": 725937, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/32cba7500e49d4c491289f9e101c693b?s=128&d=identicon&r=PG", "display_name": "abergmeier", "link": "https://stackoverflow.com/users/725937/abergmeier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 40530257, "answer_count": 1, "score": 0, "last_activity_date": 1478788824, "creation_date": 1478711345, "last_edit_date": 1478722596, "question_id": 40512436, "link": "https://stackoverflow.com/questions/40512436/changeevent-never-called-with-windowstatechange", "title": "changeEvent never called with WindowStateChange", "body": "<p>I am trying to listen for <code>WindowStateChangeEvent</code>s in Qt. When I have the following implementation, it never reaches <code>state</code>.</p>\n\n<pre><code>void\nFooWidget::changeEvent(QEvent* e) {\n    BaseWidget::changeEvent(e);\n\n    if (e-&gt;type() != QEvent::WindowStateChange)\n        return;\n\n    auto state = static_cast&lt;QWindowStateChangeEvent*&gt;(e);\n</code></pre>\n\n<p>Setting a breakpoint on the <code>if</code> it only gets the following types of events:</p>\n\n<pre><code>QEvent::StyleChange\nQEvent::ParentChange\nQEvent::LocaleChange\n</code></pre>\n\n<p>Is there any additional step needed to get the Window events reported?</p>\n"}, {"tags": ["c++", "frameworks", "coding-style", "qa", "restriction"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1478711485, "post_id": 40512412, "comment_id": 68266755, "body": "Enfocing coding standards is more of a management problem than programming."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478711508, "post_id": 40512412, "comment_id": 68266770, "body": "Do your design for protecting from unintentional use in your API classes, not be restriction of includinng particular header files."}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 6416543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a292984e05607385df3611ddc10aca6?s=128&d=identicon&r=PG", "display_name": "Halny Hultaj", "link": "https://stackoverflow.com/users/6416543/halny-hultaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1478713234, "creation_date": 1478713234, "answer_id": 40512947, "question_id": 40512412, "link": "https://stackoverflow.com/questions/40512412/restricting-header-inclusions-in-c/40512947#40512947", "title": "Restricting header inclusions in C++", "body": "<p>I don't know how to do this by breaking compilation - the idea of compilation failure because of a valid code don't appeal to me. I've got some other ideas:<br></p>\n\n<ol>\n<li>Code review. If done right this should prevent such errors.</li>\n<li>I am pretty sure that some static code analysis tool can help detect\nthose things (they can check things like 'include what you use', so\na rule 'don't include 'XYZ' should be there)</li>\n<li>If you have this static analysis tool ready there is a problem with getting people to use it and fix errors shown by it. One option that you can use is git hook. If the new code don't pass the static analysis - reject the commit. If you cannot use hooks, or don't want to - make a separate CI job that will check for the violations of the static checking. Then you'll see who and when pushed some bad code.</li>\n</ol>\n"}], "owner": {"reputation": 17, "user_id": 5042926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SzSCc.jpg?s=128&g=1", "display_name": "Wi8shadow", "link": "https://stackoverflow.com/users/5042926/wi8shadow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478713234, "creation_date": 1478711271, "question_id": 40512412, "link": "https://stackoverflow.com/questions/40512412/restricting-header-inclusions-in-c", "title": "Restricting header inclusions in C++", "body": "<p>What is the best way to restrict use of certain headers(features of the library itself) in certain Cpp files. And if it fails to follow the set rules, compilation should halt.<br>\n   This is not about finding out superfluous includes. This is about restricting the developers to the applicaiton framework. <br>\nFor example if there exists a osUtils class as osUtils.h and if as per this, this application's development framework mandates use of osUtils.h for filesystem operation like to make a folder. but there are always a chance that individual module finds it convenience to break this rule by including sys/stat and use a mkdir() method. But if the intention of providing a framework here lets say for cross-platform abstraction or special path handling logic, the objective is lost by doing it out of framework. Is there a way to restrict this?  like restricting the usage of sys/stat.h in certain files (except for osUtils.h file in this case) can help solve the problem. but how to implement it so it will not compile if the rule is broken.</p>\n"}, {"tags": ["c++", "templates", "vector", "iterator"], "comments": [{"owner": {"reputation": 231, "user_id": 7028009, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/349b6027c9173c93af13079fbdc5238d?s=128&d=identicon&r=PG&f=1", "display_name": "dot dot dot", "link": "https://stackoverflow.com/users/7028009/dot-dot-dot"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1478711387, "post_id": 40512397, "comment_id": 68266697, "body": "@W.F. The <code>&lt;T&gt;</code> didn&#39;t show up before I add . Sorry for that. I was thinking about writing custom traits. Like <code>template &lt;template &lt;typename T&gt; std::vector&lt;T&gt; class&gt; struct is_vec_iterator { static const bool value = true; };</code>"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1478711461, "post_id": 40512397, "comment_id": 68266738, "body": "I don&#39;t believe you can, but you can check if the argument is a Random Access Iterator."}, {"owner": {"reputation": 1518, "user_id": 2717954, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f9aff1ddcc010a77fca4c1840c1d294d?s=128&d=identicon&r=PG&f=1", "display_name": "user2717954", "link": "https://stackoverflow.com/users/2717954/user2717954"}, "edited": false, "score": 4, "creation_date": 1478711469, "post_id": 40512397, "comment_id": 68266748, "body": "i think the whole point of templates is to not get specific. use template specialization if you need special implementation for a specific type"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1478711822, "post_id": 40512397, "comment_id": 68266922, "body": "@dotdotdot which standard of C++ are you aiming for?"}, {"owner": {"reputation": 231, "user_id": 7028009, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/349b6027c9173c93af13079fbdc5238d?s=128&d=identicon&r=PG&f=1", "display_name": "dot dot dot", "link": "https://stackoverflow.com/users/7028009/dot-dot-dot"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1478711862, "post_id": 40512397, "comment_id": 68266943, "body": "@krzaq C++11 or C++14."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1478711892, "post_id": 40512397, "comment_id": 68266962, "body": "Roughly you can take it as <code>VecIt</code> and then verify that <code>typename std::vector&lt;typename std::iterator_traits&lt;VecIt&gt;::value_type&gt;::iterator</code> and <code>VecIt</code> name the same type, but that doesn&#39;t guarantee that the thing you got is actually an iterator into a vector, so it&#39;s not that useful."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 3, "creation_date": 1478711959, "post_id": 40512397, "comment_id": 68266999, "body": "What&#39;s the problem you&#39;re actually trying to solve?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1478713429, "post_id": 40512397, "comment_id": 68267729, "body": "The standard allows for <code>std::vector&lt;T&gt;::iterator</code> to be <code>T*</code>. That could give you lots of false positives for any tests you design."}], "answers": [{"comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1478712650, "post_id": 40512463, "comment_id": 68267366, "body": "Gives true for <code>is_vector_iterator&lt;std::list&lt;int&gt;::iterator&gt;</code>."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1478713589, "post_id": 40512463, "comment_id": 68267812, "body": "Fails for <code>std::vector&lt;bool&gt;::iterator</code> ;)"}, {"owner": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 0, "creation_date": 1478803960, "post_id": 40512463, "comment_id": 68309592, "body": "@W.F. why are you using <code>std::decay_t&lt;decltype(*std::declval&lt;T&gt;())&gt;</code> instead of just <code>T::value_type</code>?"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 0, "creation_date": 1478805593, "post_id": 40512463, "comment_id": 68310425, "body": "@ComeRaczy as far as I know vector iterator is implementation dependent and as such it does not have to contain <code>value_type</code> included (as Bo Persson suggested it is even allowed it to be defined as pointer to contained type)..."}], "tags": [], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "is_accepted": false, "score": 7, "last_activity_date": 1478714734, "last_edit_date": 1478714734, "creation_date": 1478711477, "answer_id": 40512463, "question_id": 40512397, "link": "https://stackoverflow.com/questions/40512397/check-if-a-template-argument-is-a-stdvectortiterator/40512463#40512463", "title": "Check if a template argument is a std::vector&lt;T&gt;::iterator", "body": "<p>You could create a trait for that:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;list&gt;\n#include &lt;type_traits&gt;\n\n\ntemplate &lt;class T, class = void&gt;\nstruct is_vector_iterator: std::is_same&lt;T, std::vector&lt;bool&gt;::iterator&gt; { };\n\ntemplate &lt;class T&gt;\nstruct is_vector_iterator&lt;T, decltype(*std::declval&lt;T&gt;(), std::enable_if_t&lt;!std::is_same&lt;T, std::vector&lt;bool&gt;::iterator&gt;::value&gt;())&gt;: std::is_same&lt;T, typename std::vector&lt;std::decay_t&lt;decltype(*std::declval&lt;T&gt;())&gt;&gt;::iterator&gt; { };\n\nint main() {\n    static_assert(is_vector_iterator&lt;std::vector&lt;int&gt;::iterator&gt;::value, \"Is not a vector iterator\");\n    static_assert(is_vector_iterator&lt;std::vector&lt;bool&gt;::iterator&gt;::value, \"Is not a vector iterator\");\n    static_assert(!is_vector_iterator&lt;std::list&lt;int&gt;::iterator&gt;::value, \"Is a vector iterator\");\n    static_assert(!is_vector_iterator&lt;std::list&lt;int&gt;::iterator&gt;::value, \"Is a vector iterator\");\n}\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/5MT0vGDCP7magrKH\" rel=\"nofollow noreferrer\">[live demo]</a></p>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 2, "last_activity_date": 1478713183, "creation_date": 1478713183, "answer_id": 40512928, "question_id": 40512397, "link": "https://stackoverflow.com/questions/40512397/check-if-a-template-argument-is-a-stdvectortiterator/40512928#40512928", "title": "Check if a template argument is a std::vector&lt;T&gt;::iterator", "body": "<p>You can write a trait for this:</p>\n\n<pre><code>namespace detail\n{\n\ntemplate&lt;typename T&gt; constexpr std::false_type is_vector_iterator(T&amp;&amp;, ...)\n{\n    return {};\n}\n\ntemplate&lt;typename T&gt;\nconstexpr auto is_vector_iterator(T&amp;&amp; t, void* = nullptr) -&gt;\ndecltype(std::is_same&lt;typename std::vector&lt;std::decay_t&lt;decltype(*t)&gt;&gt;::iterator, std::decay_t&lt;T&gt;&gt;{})\n{\n    return {};\n}\n\n}\n\ntemplate&lt;typename T&gt;\nstruct is_vector_iterator : decltype(detail::is_vector_iterator(declval&lt;T&gt;(), 0)) {};\n</code></pre>\n\n<p>Here I'm getting the decayed type of  *t to make <code>vector&lt;type&gt;::iterator</code> and check that for equality with <code>T</code>. It works with the exception of <code>vector&lt;bool&gt;</code> which isn't really a vector anyway.</p>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/vqCvdYS8ItSZAbGA\" rel=\"nofollow noreferrer\">demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 0, "creation_date": 1478803730, "post_id": 40513486, "comment_id": 68309478, "body": "why use <code>std::iterator_traits&lt;It&gt;::value_type</code> instead of <code>It::value_type</code>?"}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "reply_to_user": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 1, "creation_date": 1478809290, "post_id": 40513486, "comment_id": 68312156, "body": "Because as said <b>Bo Persson</b> above: <i>The standard allows for <code>std::vector&lt;T&gt;::iterator</code> to be <code>T*</code></i> and a pointer doesn&#39;t have a <code>value_type</code> member."}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "reply_to_user": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 0, "creation_date": 1480903990, "post_id": 40513486, "comment_id": 69141887, "body": "@ComeRaczy Also, to handle the case with <code>bool</code> where <code>*std::declval&lt;It&gt;()</code> is not a <code>bool&amp;</code> but a proxy."}], "tags": [], "owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "is_accepted": false, "score": 3, "last_activity_date": 1478717531, "last_edit_date": 1478717531, "creation_date": 1478715426, "answer_id": 40513486, "question_id": 40512397, "link": "https://stackoverflow.com/questions/40512397/check-if-a-template-argument-is-a-stdvectortiterator/40513486#40513486", "title": "Check if a template argument is a std::vector&lt;T&gt;::iterator", "body": "<p>Better using <a href=\"http://en.cppreference.com/w/cpp/iterator/iterator_traits\" rel=\"nofollow noreferrer\">std::iterator_traits</a> I think:</p>\n\n<pre><code>#include &lt;list&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n\ntemplate &lt;class It, class = void&gt;\nstruct is_vector_iterator : std::false_type { };\n\ntemplate &lt;class It&gt;\nstruct is_vector_iterator&lt;It, std::enable_if_t&lt;\n                                  std::is_same&lt;\n                                      It,\n                                      typename std::vector&lt; \n                                          typename std::iterator_traits&lt;It&gt;::value_type\n                                      &gt;::iterator\n                                  &gt;::value\n                         &gt;&gt; : std::true_type { };\n\nint main() {\n    static_assert(is_vector_iterator&lt;std::vector&lt;int&gt;::iterator&gt;::value, \"Is not a vector iterator\");\n    static_assert(is_vector_iterator&lt;std::vector&lt;bool&gt;::iterator&gt;::value, \"Is not a vector iterator\");\n    static_assert(!is_vector_iterator&lt;std::list&lt;int&gt;::iterator&gt;::value, \"Is a vector iterator\");\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/e8f4d295ba900a41\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1478723306, "post_id": 40515088, "comment_id": 68272522, "body": "Unfortunately, it will also be true for <code>std::list&lt;int&gt;::iterator</code>. The purpose is to determine if it&#39;s a <code>std::vector&lt;T&gt;::iterator</code> or not. Not just an iterator."}, {"owner": {"reputation": 2049, "user_id": 1833963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47192a89d0942a618a8f0d6008fe48c1?s=128&d=identicon&r=PG", "display_name": "Pedro Boechat", "link": "https://stackoverflow.com/users/1833963/pedro-boechat"}, "reply_to_user": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1478767932, "post_id": 40515088, "comment_id": 68287173, "body": "I fixed it now!"}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1478785517, "post_id": 40515088, "comment_id": 68298290, "body": "So you think: <a href=\"http://coliru.stacked-crooked.com/a/5e5b2e165bd94081\" rel=\"nofollow noreferrer\">demo</a>"}, {"owner": {"reputation": 2049, "user_id": 1833963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47192a89d0942a618a8f0d6008fe48c1?s=128&d=identicon&r=PG", "display_name": "Pedro Boechat", "link": "https://stackoverflow.com/users/1833963/pedro-boechat"}, "reply_to_user": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1478787605, "post_id": 40515088, "comment_id": 68299628, "body": "I guess I finally fixed it now. I definitely learned something... and my example is quite similar to yours now anyway."}, {"owner": {"reputation": 2049, "user_id": 1833963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47192a89d0942a618a8f0d6008fe48c1?s=128&d=identicon&r=PG", "display_name": "Pedro Boechat", "link": "https://stackoverflow.com/users/1833963/pedro-boechat"}, "reply_to_user": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1478789153, "post_id": 40515088, "comment_id": 68300612, "body": "I didn&#39;t know that std::iterator_traits had a specialization for raw pointers!"}], "tags": [], "owner": {"reputation": 2049, "user_id": 1833963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47192a89d0942a618a8f0d6008fe48c1?s=128&d=identicon&r=PG", "display_name": "Pedro Boechat", "link": "https://stackoverflow.com/users/1833963/pedro-boechat"}, "is_accepted": false, "score": 4, "last_activity_date": 1478787534, "last_edit_date": 1478787534, "creation_date": 1478721899, "answer_id": 40515088, "question_id": 40512397, "link": "https://stackoverflow.com/questions/40512397/check-if-a-template-argument-is-a-stdvectortiterator/40515088#40515088", "title": "Check if a template argument is a std::vector&lt;T&gt;::iterator", "body": "<p>An alternative solution also using <em>std::iterator_traits</em>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;list&gt;\n\ntemplate &lt;typename T&gt;\nstruct is_vector_iterator \n{\n    typedef char yes[1];\n    typedef char no[2];\n\n    template &lt;typename C&gt;\n    static yes&amp; test(\n        typename std::enable_if&lt;\n            std::is_same&lt;T, typename std::vector&lt;typename C::value_type&gt;::iterator&gt;::value\n        &gt;::type*);\n\n    template &lt;typename&gt;\n    static no&amp; test(...);\n\n    static const bool value = sizeof(test&lt;T&gt;(nullptr)) == sizeof(yes);\n\n};\n\nint main() {\n    std::cout &lt;&lt; is_vector_iterator&lt;int&gt;::value &lt;&lt; std::endl;\n    std::cout &lt;&lt; is_vector_iterator&lt;int*&gt;::value &lt;&lt; std::endl;\n    std::cout &lt;&lt; is_vector_iterator&lt;std::list&lt;int&gt;::iterator&gt;::value &lt;&lt; std::endl;\n    std::cout &lt;&lt; is_vector_iterator&lt;std::vector&lt;int&gt;::iterator&gt;::value &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/c1710de9c311f080\" rel=\"nofollow noreferrer\">live demo</a></p>\n"}], "owner": {"reputation": 231, "user_id": 7028009, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/349b6027c9173c93af13079fbdc5238d?s=128&d=identicon&r=PG&f=1", "display_name": "dot dot dot", "link": "https://stackoverflow.com/users/7028009/dot-dot-dot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1478787534, "creation_date": 1478711222, "last_edit_date": 1478711365, "question_id": 40512397, "link": "https://stackoverflow.com/questions/40512397/check-if-a-template-argument-is-a-stdvectortiterator", "title": "Check if a template argument is a std::vector&lt;T&gt;::iterator", "body": "<p>How to check if a template argument is a <code>std::vector&lt;T&gt;::iterator</code>?</p>\n\n<p>For void type, we have std::is_void. Is there something like that for <code>std::vector&lt;T&gt;::iterator</code>?</p>\n"}, {"tags": ["c#", "c++", "wpf", "clips", "expert-system"], "answers": [{"tags": [], "owner": {"reputation": 8600, "user_id": 232642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANzkY.png?s=128&g=1", "display_name": "Gary Riley", "link": "https://stackoverflow.com/users/232642/gary-riley"}, "is_accepted": true, "score": 1, "last_activity_date": 1478799873, "creation_date": 1478799873, "answer_id": 40533915, "question_id": 40512353, "link": "https://stackoverflow.com/questions/40512353/how-can-i-redirect-clips-input-and-output-while-using-its-api-simulating-the-com/40533915#40533915", "title": "How can I redirect CLIPS input and output while using its API simulating the command line loop?", "body": "<p>Download clips_dotnet_010.zip from <a href=\"https://sourceforge.net/projects/clipsrules/files/CLIPS/6.30/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/clipsrules/files/CLIPS/6.30/</a>. The RouterWPFExample project contains an example of defining a CLIPS router to get input/output from a WPF control. You can set up a text box to grab a command, then use the eval method to execute the command with input/output from/to the WPF control set up for CLIPS I/O. The next version of clips_dotnet will have code demonstrating a WPF control for a full CLIPS command line.</p>\n"}], "owner": {"reputation": 9495, "user_id": 1395740, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/793c4377313587d742fad6f069d92d89?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1395740/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40533915, "answer_count": 1, "score": 1, "last_activity_date": 1478799873, "creation_date": 1478711116, "question_id": 40512353, "link": "https://stackoverflow.com/questions/40512353/how-can-i-redirect-clips-input-and-output-while-using-its-api-simulating-the-com", "title": "How can I redirect CLIPS input and output while using its API simulating the command line loop?", "body": "<p>I am developing a <code>WPF</code> application in <code>C#</code> which uses the <code>CLIPS</code> expert system engine in some of its parts. I developed a <code>C++/CLI</code> wrapper in order to get access to the main APIs of <code>CLIPS</code> I need.</p>\n\n<p>What I would like to implement now I the possibility to control the current <code>CLIPS</code> data structures as if I was using the command line loop, in order to write directly formatted commands and watch their outcomes.</p>\n\n<p>I was thinking about using a <code>WPF</code> <code>TextBox</code> control, but any other solution would be good to start with.</p>\n\n<p>Is there any way to do it?</p>\n"}, {"tags": ["c++", "multithreading", "boost"], "comments": [{"owner": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "edited": false, "score": 0, "creation_date": 1478711623, "post_id": 40512308, "comment_id": 68266825, "body": "can you use c++11?"}, {"owner": {"reputation": 1, "user_id": 6823411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e719315acf97f3176ee85e42a23762b1?s=128&d=identicon&r=PG&f=1", "display_name": "userNew", "link": "https://stackoverflow.com/users/6823411/usernew"}, "reply_to_user": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "edited": false, "score": 0, "creation_date": 1478712098, "post_id": 40512308, "comment_id": 68267074, "body": "@mkmostafa:yes we can use c++11,( above code is for just explaining the issue.)"}, {"owner": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "edited": false, "score": 0, "creation_date": 1478712142, "post_id": 40512308, "comment_id": 68267097, "body": "I&#39;ve already posted the answer using c++11."}], "answers": [{"tags": [], "owner": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1478712324, "last_edit_date": 1478712324, "creation_date": 1478711977, "answer_id": 40512610, "question_id": 40512308, "link": "https://stackoverflow.com/questions/40512308/returning-from-spawned-thread-after-a-particular-action-in-c/40512610#40512610", "title": "returning from spawned thread after a particular action in c++", "body": "<p>you can use something like that with c++11. Note that you need to use an atomic variable for the condition, you can't just use a boolean variable. You can also use a condition variable.</p>\n\n<pre><code>#include &lt;thread&gt;\n#include &lt;atomic&gt;\n#include &lt;memory&gt;\n\n\nstd::unique_ptr&lt;std::thread&gt; t;\nstd::atomic&lt;bool&gt; condition(false);\n\nvoid f() {\n    while(true) {\n        if(condition) {\n            return;\n        }\n    }\n}\n\nvoid a () {\n    t.reset(new std::thread(&amp;f));\n}\n\nvoid b() {\n    condition = true;\n    t-&gt;join();\n}\n\nint main() {\n\n    a();\n    b();\n\n\n}\n</code></pre>\n\n<p>update: you need to join the thread after setting the condition. which will block the main thread until the other thread returns.</p>\n"}], "owner": {"reputation": 1, "user_id": 6823411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e719315acf97f3176ee85e42a23762b1?s=128&d=identicon&r=PG&f=1", "display_name": "userNew", "link": "https://stackoverflow.com/users/6823411/usernew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1478716461, "creation_date": 1478710949, "last_edit_date": 1478716461, "question_id": 40512308, "link": "https://stackoverflow.com/questions/40512308/returning-from-spawned-thread-after-a-particular-action-in-c", "title": "returning from spawned thread after a particular action in c++", "body": "<p>I am new to thread related concepts.I have program with main function where I call function a() that spawns a thread(NewThread) using boost.now as part of thread i do some initialization of some variable and then start a while(1) loop.</p>\n\n<p>I want give the control to function b() when control reaches inside while(1),</p>\n\n<p>currently it is reaching to b() without starting while loop.</p>\n\n<p>Please guide me.</p>\n\n<pre><code>void NewThread()\n{\n    //initialization of some modules\n\n    //infinite while loop\n    while(1)\n    {\n    }\n\n}\n void a()\n{\n   this-&gt;libThread = new boost::thread(boost::bind(&amp;NewThread));\n}\n void b()\n{\n   cout&lt;&lt;\"function b\";\n}\nint main()\n{\n    a();\n    b();\n}\n</code></pre>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1478711053, "post_id": 40512302, "comment_id": 68266506, "body": "I would store the Sudoku grid just like a matrix in a single dimension vector."}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 5783306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oKrP2.jpg?s=128&g=1", "display_name": "WarNaX", "link": "https://stackoverflow.com/users/5783306/warnax"}, "is_accepted": false, "score": 0, "last_activity_date": 1478716303, "creation_date": 1478716303, "answer_id": 40513701, "question_id": 40512302, "link": "https://stackoverflow.com/questions/40512302/c-how-to-populate-and-print-a-vector-of-vector-sets/40513701#40513701", "title": "C++ How to populate and print a vector of vector sets", "body": "<p>Very important thing in programming is to simplify Your tasks. You must rethink what You want to do, how You want to do it and why use this very solution to solve Your problem. </p>\n\n<p>In Your case (basing on question) there is no need to use such complex, nested containers, just use for example 2 dimmensional array.</p>\n\n<p>About iterationg over collections, You can use for-each loop:</p>\n\n<pre><code>//declaring container with base size 10\nstd::vector&lt;std::vector&lt;int&gt;&gt; container(5);\n\n//for-each loop, nice way to iterate over collections\nfor(auto&amp; c: container) {\n    for(int i = 0; i &lt; 5; i ++) {\n        c.push_back(i);\n    }\n}\n\n//printing\nfor(auto&amp; c : container) {\n    for(auto&amp; v : c) {\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n    }\n    std::cout &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7137478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc28cbcef63969edbebd8da8a6edf810?s=128&d=identicon&r=PG&f=1", "display_name": "bob bradlety", "link": "https://stackoverflow.com/users/7137478/bob-bradlety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478716303, "creation_date": 1478710937, "question_id": 40512302, "link": "https://stackoverflow.com/questions/40512302/c-how-to-populate-and-print-a-vector-of-vector-sets", "title": "C++ How to populate and print a vector of vector sets", "body": "<p>Doing a representation of a sudoku grid, and using a vector of vectors where each grid is a set. Basically I want there to be vector of vectors to represent the grid. Each square would be a possibility of values from a set (1-9). How would I go about firstly setting the size of the vector? And then how would I print the values from the vector of vectors.</p>\n\n<p>My vector variable:</p>\n\n<pre><code>vector&lt;vector&lt;set&lt;int&gt;&gt;&gt; myVector;\n</code></pre>\n"}, {"tags": ["c++", "winapi", "dll-injection"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1478710370, "post_id": 40512079, "comment_id": 68266111, "body": "for increase the dll reference count - <code>LdrAddRefDll(0, &amp;__ImageBase);</code>"}, {"owner": {"reputation": 147, "user_id": 6054602, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7ab3917869ca058206a93acd2b0b94e7?s=128&d=identicon&r=PG", "display_name": "user118708", "link": "https://stackoverflow.com/users/6054602/user118708"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1478710904, "post_id": 40512079, "comment_id": 68266420, "body": "Thanks. I put your suggestion in Visual Studio, but these names are not known. Is there an include file I have to use ?"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1478711194, "post_id": 40512079, "comment_id": 68266580, "body": "declare it by self and use ntdll.lib"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 6054602, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7ab3917869ca058206a93acd2b0b94e7?s=128&d=identicon&r=PG", "display_name": "user118708", "link": "https://stackoverflow.com/users/6054602/user118708"}, "edited": false, "score": 0, "creation_date": 1478711353, "post_id": 40512356, "comment_id": 68266673, "body": "Thanks. I was in the middle of writing 2). Now I will just copy and paste :). As for 1), that looks complicated. I will use it if 2) doesn&#39;t work."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 147, "user_id": 6054602, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7ab3917869ca058206a93acd2b0b94e7?s=128&d=identicon&r=PG", "display_name": "user118708", "link": "https://stackoverflow.com/users/6054602/user118708"}, "edited": false, "score": 0, "creation_date": 1478711489, "post_id": 40512356, "comment_id": 68266758, "body": "both 1 and 2 work of course. both add reference to dll which hold it from unload - need extra FreeLibrary now. but 1 - do this direct. 2 first translate &amp;__ImageBase to name, then translate name to same __ImageBase and finally add reference"}, {"owner": {"reputation": 147, "user_id": 6054602, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7ab3917869ca058206a93acd2b0b94e7?s=128&d=identicon&r=PG", "display_name": "user118708", "link": "https://stackoverflow.com/users/6054602/user118708"}, "edited": false, "score": 0, "creation_date": 1478712338, "post_id": 40512356, "comment_id": 68267188, "body": "Success. I used 2 because I didn&#39;t have to change the linker settings - I don&#39;t even know where that is. DLL_PROCESS_ATTACH gave me the dll handle that I feed into GetModuleFileName. The module was loaded from a new thread in case of dead locks in DllMain."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478716279, "post_id": 40512356, "comment_id": 68269130, "body": "As always, when proposing to use undocumented function calls, make sure to add a disclaimer to that effect. The solution may not be available on all versions of Windows, and can stop working at any time, without prior notice."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478716581, "post_id": 40512356, "comment_id": 68269271, "body": "@IInspectable - about versions - in work on win2000 (may be and nt 4.0), xp, 2003, vista, win7, win 8.1, win 10, .. but may not be available.. in this sense all sometime can stop work"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1478716834, "post_id": 40512356, "comment_id": 68269382, "body": "There is no documented contract for functions internal to the OS. That makes them completely different from the documented API surface, that comes with guarantees. Those will not suddenly stop working, and in the rare case that they do, it is documented, so you know about it. What&#39;s so hard to understand about this?"}], "tags": [], "owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "is_accepted": true, "score": 2, "last_activity_date": 1478711124, "creation_date": 1478711124, "answer_id": 40512356, "question_id": 40512079, "link": "https://stackoverflow.com/questions/40512079/setwindowshookex-dll-unloading/40512356#40512356", "title": "SetWindowsHookEx DLL unloading", "body": "<p>exist 2 way\n1.) most effective - use <a href=\"https://doxygen.reactos.org/d7/d55/ldrapi_8c.html#ad0f51f578765130a71065cd878fb9643\" rel=\"nofollow noreferrer\">LdrAddRefDll</a> - this do exactly what you need in shortest way. you need use ntdll.lib (or ntdllp.lib) for linking.</p>\n\n<pre><code>LdrAddRefDll(0, (HMODULE)&amp;__ImageBase);\n</code></pre>\n\n<p>2)not nice and effective but work</p>\n\n<pre><code>WCHAR sz[MAX_PATH];\nif (GetModuleFileName((HMODULE)&amp;__ImageBase, sz, RTL_NUMBER_OF(sz)))\n{\n    LoadLibrary(sz);\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 6054602, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7ab3917869ca058206a93acd2b0b94e7?s=128&d=identicon&r=PG", "display_name": "user118708", "link": "https://stackoverflow.com/users/6054602/user118708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 1, "accepted_answer_id": 40512356, "answer_count": 1, "score": 0, "last_activity_date": 1478711124, "creation_date": 1478710149, "question_id": 40512079, "link": "https://stackoverflow.com/questions/40512079/setwindowshookex-dll-unloading", "title": "SetWindowsHookEx DLL unloading", "body": "<p>I am using SetWindowsHookEx to inject a dll into another process. However, when the injector program exits, the dll is unloaded from the other process. Is there anyway for me to stop the unloading ? Basically, I want the dll to persist permanently regardless of whether the injector program is still running. If I am able to increase the dll reference count from within the dll, that could work. But I haven't found a way.</p>\n"}, {"tags": ["c++", "qt", "c++11", "qt5", "using-declaration"], "answers": [{"comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 1, "creation_date": 1478710647, "post_id": 40512178, "comment_id": 68266275, "body": "Well, the actual problem is that the enum comes from a library, so I cannot do this. Thank you anyway. Also, the reference to the standard was to refer to the fact that probably <i>declaration</i> is missed in the Qt documentation. That&#39;s all."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1478710821, "post_id": 40512178, "comment_id": 68266376, "body": "@skypjack Okay, it&#39;s possible that Qt&#39;s docs could be improved. I&#39;ll leave this answer for posterity, even if it doesn&#39;t solve your problem."}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1478710917, "post_id": 40512178, "comment_id": 68266426, "body": "Absolutely, it is fine in the general case, if you have control both of the class and of the enum."}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1478876702, "post_id": 40512178, "comment_id": 68339826, "body": "If you&#39;ve got a .h from that library with just the enums defined in there, you could do <code>class Foo : public QObject { Q_OBJECT</code>, <code>#include &lt;stuff.h&gt;</code>, <code>Q_ENUM(MyEnum) };</code> ... not that I&#39;m suggesting it ..."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 1, "last_activity_date": 1478710489, "creation_date": 1478710489, "answer_id": 40512178, "question_id": 40511980, "link": "https://stackoverflow.com/questions/40511980/q-enums-and-using-declarations-do-not-work-together/40512178#40512178", "title": "Q_ENUMS and using declarations do not work together", "body": "<p>This has nothing to do with standard C++, at least not directly. Qt's <a href=\"http://doc.qt.io/qt-5/why-moc.html\" rel=\"nofollow noreferrer\">moc</a> is quite limited in its understanding of C++ syntax rules (and with good reason<sup>1</sup>). Apparently this way of importing enums into class scopes is outside of it's abilities. </p>\n\n<p>In my code, when I want moc to generate enum &lt;-> string conversions for me, I go with the alias, but in the opposite direction:</p>\n\n<pre><code>class Exported: public QObject {\n    Q_OBJECT\n\npublic:\n    using QObject::QObject;\n\n    enum class FOO { BAR };\n\n    Q_ENUM(FOO)\n};\n\nusing FOO = Exported::Foo;\n</code></pre>\n\n<p>This keeps moc happy and is valid C++. The downside is that you pull up the definition of <code>Exported</code> into every scope you use <code>FOO</code>'s definition in, and you can't forward-declare <code>FOO</code>.</p>\n\n<p><sup>1</sup> <sub>it was created before libclang was a thing and the implementation cost of a full C++ parser for a few corner cases would be extremely uneconomical.</sub></p>\n"}], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 1, "accepted_answer_id": 40512178, "answer_count": 1, "score": 3, "last_activity_date": 1481323444, "creation_date": 1478709831, "last_edit_date": 1481323444, "question_id": 40511980, "link": "https://stackoverflow.com/questions/40511980/q-enums-and-using-declarations-do-not-work-together", "title": "Q_ENUMS and using declarations do not work together", "body": "<p>Consider the following class definition:</p>\n\n<pre><code>// exported.hpp\n\n#include &lt;QObject&gt;\n\nclass Exported: public QObject {\n    Q_OBJECT\n\npublic:\n    using QObject::QObject;\n    enum class FOO { BAR };\n    Q_ENUM(FOO)\n};\n</code></pre>\n\n<p>And the following <code>main</code> file:</p>\n\n<pre><code>// main.cpp\n\n#include &lt;QApplication&gt;\n#include &lt;QQmlApplicationEngine&gt;\n#include \"exported.hpp\"\n\nint main(int argc, char *argv[]) {\n    QApplication app(argc, argv);\n    QQmlApplicationEngine engine;\n    qmlRegisterType&lt;Exported&gt;(\"Package\", 1, 0, \"Exported\");\n    engine.load(QUrl(QLatin1String(\"qrc:/main.qml\")));\n    return app.exec();\n}\n</code></pre>\n\n<p>By doing this, I can easily access the named constants of my enum in QML.<br>\nAs an example:</p>\n\n<pre><code>// main.qml\n\nimport QtQuick 2.7\nimport QtQuick.Controls 2.0\nimport Package 1.0\n\nApplicationWindow {\n    Rectangle {\n        Component.onCompleted: {\n            console.log(Exported.BAR)\n        }\n    }\n}\n</code></pre>\n\n<p>This works as long as the declaration of the enum is enclosed in the class.<br>\nAs an example, if I change the class definition as shown below, it doesn't work anymore:</p>\n\n<pre><code>// exported.hpp\n\n#include &lt;QObject&gt;\n\nenum class FOO { BAR };\n\nclass Exported: public QObject {\n    Q_OBJECT\n\npublic:\n    using QObject::QObject;\n    using FOO = ::FOO;\n    Q_ENUM(FOO)\n};\n</code></pre>\n\n<p>Now, <code>Exported.BAR</code> in the QML file is <code>undefined</code>.</p>\n\n<hr>\n\n<p>The most basic question is: why it doesn't work with <em>using declarations</em>?<br>\nNote that it works with forwarded declarations, as an example:</p>\n\n<pre><code>// exported.hpp\n\n#include &lt;QObject&gt;\n\nenum class FOO { BAR };\n\nclass Exported: public QObject {\n    Q_OBJECT\n\npublic:\n    using QObject::QObject;\n    enum class FOO;\n    Q_ENUM(FOO)\n    enum class FOO { BAR };\n};\n</code></pre>\n\n<p>This is true to the <a href=\"http://doc.qt.io/qt-5/qobject.html#Q_ENUM\" rel=\"nofollow noreferrer\">documentation</a> of <code>Q_ENUM</code> actually (emphasis mine):</p>\n\n<blockquote>\n  <p>This macro registers an enum type with the meta-object system. <strong>It must be placed after the enum declaration</strong> in a class that has the Q_OBJECT or the Q_GADGET macro.</p>\n</blockquote>\n\n<p>No mentions of a definition in the whole section.<br>\nOn the other side, we have this from the standard:</p>\n\n<blockquote>\n  <p>A using-declaration introduces a set of declarations into the declarative region in which the using-declaration appears.</p>\n</blockquote>\n\n<p>So, I was expecting it to work as well. Anyway, this was maybe a wrong expectation on my side.</p>\n\n<p>That said, any suggestion on how to deal with such an inconvenient?<br>\nThe only way I can see to work around it in case the <em>enum</em> is defined out of the class is to define another <em>enum</em> within the class and have a one-to-one mapping between them.<br>\nIt's far from being maintainable and a bit tedious indeed.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1478709773, "post_id": 40511868, "comment_id": 68265801, "body": "@tkausl - it very definitely should override the base&#39;s version.  The issue OP is having is not that they&#39;re hiding/overloading rather than overriding...but that the compiler sees the base&#39;s version of the function and its return type."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1478709815, "post_id": 40511868, "comment_id": 68265824, "body": "@tkausl Yes, it does override it. The demo, for you, is <a href=\"https://ideone.com/jSqb17\" rel=\"nofollow noreferrer\">here</a>. The real reason, is the function calls are resolved at compile time, and not at run-time. And <code>ptr2</code> is of type <code>base*</code>, and <code>base::downcast</code> returns <code>base&amp;</code>, so the <code>void foo(const base&amp; a)</code> is called."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478709956, "post_id": 40511868, "comment_id": 68265893, "body": "Won&#39;t work. You may want to make <code>foo</code> a virtual member function, or use the Visitor pattern."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1478710257, "post_id": 40511868, "comment_id": 68266047, "body": "Where do you think the polymorphism is here? You&#39;re not calling a <code>virtual</code> function."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1478710265, "post_id": 40511868, "comment_id": 68266053, "body": "Might be similar to <a href=\"https://en.wikipedia.org/wiki/Double_dispatch#Double_dispatch_in_C.2B.2B\" rel=\"nofollow noreferrer\">double dispatch</a>"}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478710359, "post_id": 40511868, "comment_id": 68266104, "body": "polymorphism occurs during the downcast call on ptr2."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478710474, "post_id": 40511868, "comment_id": 68266174, "body": "As for explanation: you do undersand what <code>foo(ptr2)</code> would print and why, right? Now <code>ptr2-&gt;downcast()</code> has <b>the same type and value</b> as <code>ptr2</code>."}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478710848, "post_id": 40511868, "comment_id": 68266396, "body": "@n.m. I understand that in terms of compile time knowledge, as the compiler must decide on which foo variant to use before it knows which downcast variant will be used. However, even when returning *dyanmaic_cast(this) in the derived downcast the above behavior is observed. At this stage I&#39;m surprised it&#39;s not a runtime error."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478711141, "post_id": 40511868, "comment_id": 68266557, "body": "Now this is fully unexpected. Why on earth should it be a runtime error? What exactly is invalid?"}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478711436, "post_id": 40511868, "comment_id": 68266724, "body": "From @AnT the overload for foo is determined at compile time to be void foo(const&amp; base) in both calls, but it ends up getting a derived type. I guess that&#39;s fine for inheritance, but how the compiler picks which foo overload to use puzzles me."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478712517, "post_id": 40511868, "comment_id": 68267288, "body": "It picks overloads based on <b>static types</b> of function arguments. What is the static type of <code>ptr2-&gt;downcast()</code>? Why?"}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478712717, "post_id": 40511868, "comment_id": 68267399, "body": "It must be base, why it&#39;s base I&#39;m not sure. When working with virtual functions, is the static type always the type returned by the base declaration?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478717014, "post_id": 40511868, "comment_id": 68269475, "body": "Let&#39;s analyse:: what&#39;s the static type of <code>ptr2</code>? (Look at its declaration). Write it down. Based on <i>that</i>, what static type does <code>downcast</code> return? (Look at <i>its</i> declaration in the class you just wrote down)."}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478717710, "post_id": 40511868, "comment_id": 68269794, "body": "I see, it&#39;s not about virtual, ptr2 is a base pointer so the static type of ptr2-&gt;downcast() is also base, regardless of the virtual attribute."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1478709820, "post_id": 40511937, "comment_id": 68265827, "body": "It actually could work with <code>boost::variant</code>, but that is another story"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478710009, "post_id": 40511937, "comment_id": 68265930, "body": "It isn&#39;t clear what &quot;you need dynamic_cast&quot; might mean. Got working code?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1478712265, "post_id": 40511937, "comment_id": 68267154, "body": "@n.m.  Something like <code>if (auto pD = dynamic_cast&lt;derived*&gt;(ptr2)) foo(pD); else foo(ptr2);</code>.  (but I wouldn&#39;t write it as a one-liner like that)"}], "tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 1, "last_activity_date": 1478709684, "creation_date": 1478709684, "answer_id": 40511937, "question_id": 40511868, "link": "https://stackoverflow.com/questions/40511868/trying-to-downcast-with-polymorphism-whats-going-wrong/40511937#40511937", "title": "Trying to downcast with polymorphism, what&#39;s going wrong?", "body": "<p>You need dynamic_cast.  What you're trying to do won't work.</p>\n\n<p>C++ allows covariant return values on <em>overridden</em> functions.  Since <code>derived</code> inherits from <code>base</code> it qualifies.  But if you call the base's version of the function you still get the type IT returns, not the derived class's version.  To get that return type you must have already casted so that the <em>compiler</em> knows what type the function returns.</p>\n"}, {"comments": [{"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478710054, "post_id": 40511974, "comment_id": 68265955, "body": "There is polymorphism as the derived downcast function is called, but i see what you&#39;re saying about the compile time overload resolution."}, {"owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478712119, "post_id": 40511974, "comment_id": 68267085, "body": "why is the static type of ptr2-&gt;downcast() base? Is it always the return type of the base function when virtual functions are used? I know it&#39;s not valid because it takes into account runtime knowledge, but the typeid from the type_info library tells me it returns a derived object."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "edited": false, "score": 0, "creation_date": 1478717764, "post_id": 40511974, "comment_id": 68269821, "body": "@roro: &quot;Static type&quot; is <i>declared</i> type. <code>ptr2</code> is declared as <code>base *</code> in your example. So <code>ptr2-&gt;downcast()</code> is <code>base::downcast()</code>. And  <code>base::downcast()</code> is declared with return type <code>base &amp;</code>. So, from static point of view, <code>ptr2-&gt;downcast()</code> is an lvalue of type <code>base</code>. And overload resolution is based entirely on static types. Meanwhile, <code>typeid</code> is a <i>run-time</i> feature - for polymorphic objects it returns their <i>dynamic</i> type. <code>typeid</code> tells you that <code>ptr2-&gt;downcast()</code> returns a <code>base &amp;</code> reference that happens to be bound to <code>derived</code> object."}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 4, "last_activity_date": 1478718102, "last_edit_date": 1478718102, "creation_date": 1478709812, "answer_id": 40511974, "question_id": 40511868, "link": "https://stackoverflow.com/questions/40511868/trying-to-downcast-with-polymorphism-whats-going-wrong/40511974#40511974", "title": "Trying to downcast with polymorphism, what&#39;s going wrong?", "body": "<p>You are basically trying to make run-time polymorphism to affect compile-time overload resolution. This is not possible for obvious reasons. Function overloading is a compile-time feature, meaning that overload resolution is performed at compile time based on <em>static</em> types of function arguments.</p>\n\n<p>In your case the choice of which <code>foo</code> to call is based on <em>static</em> typization: on <em>static</em> types of <code>ptr1</code> and <code>ptr2</code> and on <em>static</em> types of <code>ptr1-&gt;downcast()</code> and <code>ptr2-&gt;downcast()</code> return values. The latter are lvalues (references) of type <code>base</code> in both cases. There's no polymorphism involved in choosing <code>foo</code>. The compiler does not know (and does not care) that at run-time one of these <code>base &amp;</code> references will actually refer to a <code>derived</code> object.</p>\n\n<p>However, if you could call <code>a.downcast()</code> from <code>foo</code>, you would observe that rum-time polymorphism still works from inside <code>foo</code>. (At this time such call is not possible due to <code>downcast()</code> being non-const)</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1478720364, "last_edit_date": 1478720364, "creation_date": 1478718270, "answer_id": 40514199, "question_id": 40511868, "link": "https://stackoverflow.com/questions/40511868/trying-to-downcast-with-polymorphism-whats-going-wrong/40514199#40514199", "title": "Trying to downcast with polymorphism, what&#39;s going wrong?", "body": "<p>So we can do this in a somewhat generic way.</p>\n\n<pre><code>template&lt;class...&gt;struct types{};\n\ntemplate&lt;std::size_t I&gt;using index=std::integral_constant&lt;std::size_t, I&gt;;\n\ntemplate&lt;class T, class types&gt;\nstruct get_index_of_type;\ntemplate&lt;class T, class...Ts&gt;\nstruct get_index_of_type&lt;T, types&lt;T,Ts...&gt;&gt;:\n  index&lt;0&gt;\n{};\ntemplate&lt;class T, class U, class...Ts&gt;\nstruct get_index_of_type&lt;T, types&lt;U,Ts...&gt;&gt;:\n  index&lt;get_index_of_type&lt;T, types&lt;Ts...&gt;&gt;{}+1&gt;\n{};\n\ntemplate&lt;class R, class Types&gt;\nstruct dynamic_dispatch;\ntemplate&lt;class R, class...Ts&gt;\nstruct dynamic_dispatch&lt;R, types&lt;Ts...&gt;&gt;\n{\n  using fptr = R(*)(void const* pf, void* t);\n\n  template&lt;class F&gt;\n  std::array&lt;fptr, sizeof...(Ts)&gt;\n  make_table() const {\n    return {{\n      +[](void const* pf, void* t)-&gt;R{\n        auto* pt = static_cast&lt; std::remove_reference_t&lt;Ts&gt;* &gt;(t);\n        auto* f = static_cast&lt; std::remove_reference_t&lt;F&gt; const* &gt;(pf);\n        return (*f)(static_cast&lt;Ts&amp;&amp;&gt;(*pt));\n      }...\n    }};\n  }\n  void const* pf = nullptr; \n  std::array&lt;fptr, sizeof...(Ts)&gt; table;\n\n  dynamic_dispatch( dynamic_dispatch&amp;&amp; )=default;\n  dynamic_dispatch( dynamic_dispatch const&amp; )=default;\n  dynamic_dispatch&amp; operator=( dynamic_dispatch&amp;&amp; )=default;\n  dynamic_dispatch&amp; operator=( dynamic_dispatch const&amp; )=default;\n\n  template&lt;class F,\n    std::enable_if_t&lt; !std::is_same&lt;std::decay_t&lt;F&gt;, dynamic_dispatch&gt;{}, int&gt; =0\n  &gt;\n  dynamic_dispatch( F&amp;&amp; f ):\n    pf(std::addressof(f)),\n    table( make_table&lt;std::decay_t&lt;F&gt;&gt;() )\n  {}\n\n  template&lt;class T&gt;\n  R operator()( T&amp;&amp; t ) const {\n    return table[get_index_of_type&lt;T,types&lt;Ts...&gt;&gt;{}]( pf, std::addressof(t) );\n  }\n};\n</code></pre>\n\n<p><code>dynamic_dispatch&lt;R, types&lt;a,b,c&gt;&gt;</code> takes any callable that can be invoked with any of <code>a</code>, <code>b</code> or <code>c</code> (exactly type, including l/r value and const required, so make your list verbose.  No implicit casts are done; this can be fixed with more work).</p>\n\n<p>Now, add a method in <code>base</code> called <code>apply</code>:</p>\n\n<pre><code>virtual void apply( dynamic_dispatch&lt;void, types&lt;base*, derived*&gt;&gt; f ) {\n  return f(this);\n}\n</code></pre>\n\n<p>override it in derived:</p>\n\n<pre><code>virtual void apply( dynamic_dispatch&lt;void, types&lt;base*, derived*&gt;&gt; f ) override {\n  return f(this);\n}\n</code></pre>\n\n<p>with the same body.</p>\n\n<p>Now in main:</p>\n\n<pre><code>auto super_foo = [](auto* x) {\n  return foo(*x);\n};\n\nint main()\n{\n  base* ptr1 = new(base);\n  base* ptr2 = new(derived);\n\n  ptr1-&gt;apply(super_foo);\n  ptr2-&gt;apply(super_foo);\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/2f56e8aea74e8bb6\" rel=\"nofollow noreferrer\">live example</a>.</p>\n\n<p>For further reading, I type erased dynamic dispatch to a list of types on a function object.  I created a view to this dispatch.</p>\n\n<p><code>super_foo</code> is a single object representing the entire overload set of <code>foo</code>, permitting it to be passed as one parameter.</p>\n\n<p>This can also be done more conventionally with a visitor pattern:</p>\n\n<pre><code>struct visitor {\n  void invoke( base* ) const = 0;\n  void invoke( derived* ) const = 0;\n};\n</code></pre>\n\n<p>then you implement a <code>foo_visitor</code>:</p>\n\n<pre><code>struct foo_visitor:visitor {\n  void invoke( base* a ) const {return foo(*a);}\n  void invoke( derived* a ) const {return foo(*a);}\n};\n</code></pre>\n\n<p>and we write an <code>apply</code> that takes a <code>visitor&amp;</code> and does <code>.invoke(this)</code> on it.</p>\n\n<p>Note that this technique, especially if you make it smartly choose between the <code>Ts</code> instead of requiring exact match, allows multiple dispatch polymorphism through recursion (or, you could change the <code>dynamic_dispatch</code> to <code>dynamic_dispatch&lt; R, types... &gt;</code> with multiple type packs).</p>\n"}], "owner": {"reputation": 851, "user_id": 5522938, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d6785b3a7da3037bafcf7daa11061a44?s=128&d=identicon&r=PG&f=1", "display_name": "roro", "link": "https://stackoverflow.com/users/5522938/roro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478720364, "creation_date": 1478709462, "last_edit_date": 1478710309, "question_id": 40511868, "link": "https://stackoverflow.com/questions/40511868/trying-to-downcast-with-polymorphism-whats-going-wrong", "title": "Trying to downcast with polymorphism, what&#39;s going wrong?", "body": "<p>I have two pointers to a base class, one points to an actual base object and the other to a derived object. I also have a nonmember function that is overloaded for the base and derived classes. I'd like to use polymorphism to downcast the pointers so that the correct overload is called.</p>\n\n<p>The output of the code is </p>\n\n<pre><code>base downcast called\nbase\nderived downcast called\nbase\n</code></pre>\n\n<p>however the desired output is</p>\n\n<pre><code>base\nderived\n</code></pre>\n\n<p>Can someone explain the output, and what must be done to get the desired behavior?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass base\n{\npublic:\n  virtual base&amp; downcast()\n  {\n    cout &lt;&lt; \"base downcast called\" &lt;&lt; endl;\n    return *this;\n  }\n};\n\nclass derived: public base\n{\npublic:\n  virtual derived&amp; downcast()\n  {\n    cout &lt;&lt; \"derived downcast called\" &lt;&lt; endl;\n    return *this;\n  }\n};\n\nvoid foo(const base&amp; a)\n{\n  cout &lt;&lt; \"base\" &lt;&lt; endl;\n}\n\nvoid foo(const derived&amp; a)\n{\n  cout &lt;&lt; \"derived\" &lt;&lt; endl;\n}\n\n\nint main()\n{\n  base* ptr1 = new(base);\n  base* ptr2 = new(derived);\n\n  foo(ptr1-&gt;downcast());\n  foo(ptr2-&gt;downcast());\n\n  return 0;\n}\n</code></pre>\n\n<p>EDIT: added cout to the downcast functions to illustrate function override/polymorphism.</p>\n"}, {"tags": ["c++", "eclipse", "arduino"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7117046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2b3e9e91258d78eabc40370e75f226?s=128&d=identicon&r=PG&f=1", "display_name": "user7117046", "link": "https://stackoverflow.com/users/7117046/user7117046"}, "edited": false, "score": 0, "creation_date": 1478739496, "post_id": 40512025, "comment_id": 68278519, "body": "The #include &quot;WString.h&quot; is in the .h file where the variable is defined."}], "tags": [], "owner": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "is_accepted": true, "score": 1, "last_activity_date": 1478767376, "last_edit_date": 1478767376, "creation_date": 1478709972, "answer_id": 40512025, "question_id": 40511860, "link": "https://stackoverflow.com/questions/40511860/eclipse-ide-arduino-sloeber-c-string-in-class-error-does-not-name-a-type/40512025#40512025", "title": "Eclipse IDE Arduino (Sloeber) C++ String in class error does not name a type", "body": "<p>The String class for Arduino is held in the WString.h and WString.cpp files.</p>\n\n<p>You should just include WString.h in your .h file. The Arduino IDE automatically does this for your .ino files.</p>\n"}], "owner": {"reputation": 13, "user_id": 7117046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2b3e9e91258d78eabc40370e75f226?s=128&d=identicon&r=PG&f=1", "display_name": "user7117046", "link": "https://stackoverflow.com/users/7117046/user7117046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 40512025, "answer_count": 1, "score": 1, "last_activity_date": 1478767376, "creation_date": 1478709434, "last_edit_date": 1478713931, "question_id": 40511860, "link": "https://stackoverflow.com/questions/40511860/eclipse-ide-arduino-sloeber-c-string-in-class-error-does-not-name-a-type", "title": "Eclipse IDE Arduino (Sloeber) C++ String in class error does not name a type", "body": "<p>In the project <code>.ino</code> file this works:</p>\n\n<pre><code>void loop()\n{\n    String stringOne = \"Hello String\";\n}\n</code></pre>\n\n<p>However, in a class I get these errors:</p>\n\n<pre><code>// MenuItem.h\n//#include \"String.h\"   ====&gt; Makes no difference if not commented\nclass MenuItem {\npublic:\n    MenuItem();\nprivate:\n    String stringTwo;   ====&gt; 'String' does not name a type\n};\n\n\n// MenuItem.cpp\n//#include \"String.h\"    ====&gt; Makes no difference if not commented\nMenuItem::MenuItem() {\n    stringTwo = \"Goodbye String\"; ===&gt; 'stringTwo' was not declared in this scope\n}\n</code></pre>\n\n<p>I've tried different option for the <code>#include</code> with <code>&lt;&gt;</code> instead of quotes and with without the <code>.h.</code>  I'm totally confused. Thanks. </p>\n"}, {"tags": ["c++", "visual-c++", "boost", "dll"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1478710693, "post_id": 40511775, "comment_id": 68266300, "body": "It is a warning to remind you that, if the client of your DLL would ever use the <i>message</i> member, then it is going to fail to link.  Which could happen if you have inline functions in your class.  Or if the client creates or destroys an instance of this class, that requires the constructor and destructor to be exported as well.  The destructor is the likely failure mode, seems you expose this as an exception type that is thrown across the DLL boundary.  Always troublesome and not in the least because of the Boost version dependency.  Consider deriving from std::exception instead."}, {"owner": {"reputation": 135, "user_id": 3806823, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/274d7902b8eda45dab594bae1d551a07?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Frost", "link": "https://stackoverflow.com/users/3806823/zack-frost"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1478711181, "post_id": 40511775, "comment_id": 68266574, "body": "@Hans Passant Thanks for the info! That helped. Armed with that knowledge I was able to figure out how to work around it. I will post an answer with my solution momentarily."}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 3806823, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/274d7902b8eda45dab594bae1d551a07?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Frost", "link": "https://stackoverflow.com/users/3806823/zack-frost"}, "is_accepted": false, "score": 0, "last_activity_date": 1478711689, "last_edit_date": 1495535565, "creation_date": 1478711689, "answer_id": 40512521, "question_id": 40511775, "link": "https://stackoverflow.com/questions/40511775/compiling-dll-in-microsoft-visual-c-2015-warning-c4251-needs-to-have-dll-in/40512521#40512521", "title": "Compiling DLL in Microsoft Visual C++ 2015 -- warning C4251 needs to have dll-interface to be used by clients of class -- when using Boost?", "body": "<p>So, I seem to have found the solution to my own problem both by toying with my code and snooping around StackOverflow! I seems that I simply needed to do was remove the DLL export macro from the class declaration and add it to the member functions. It now seems to compile and work just fine!</p>\n\n<p>The solution is from this StackOverflow post (answer by  <strong>frast</strong>): <a href=\"https://stackoverflow.com/a/4145652/3806823\">std::vector needs to have dll-interface to be used by clients of class 'X warning</a></p>\n"}], "owner": {"reputation": 135, "user_id": 3806823, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/274d7902b8eda45dab594bae1d551a07?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Frost", "link": "https://stackoverflow.com/users/3806823/zack-frost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478711689, "creation_date": 1478709119, "question_id": 40511775, "link": "https://stackoverflow.com/questions/40511775/compiling-dll-in-microsoft-visual-c-2015-warning-c4251-needs-to-have-dll-in", "title": "Compiling DLL in Microsoft Visual C++ 2015 -- warning C4251 needs to have dll-interface to be used by clients of class -- when using Boost?", "body": "<p>So, I'm trying to compile a DLL for a large project of of mine. The idea is for it to have several parts. A library, of sorts, which gets compiled into a DLL, and an application that the DLL gets linked into. I keep getting the following warning: </p>\n\n<pre><code>warning C4251: 'plf::lfInvalidIndexExcpt::message': class 'boost::container::basic_string&lt;char,std::char_traits&lt;char&gt;,boost::container::new_allocator&lt;char&gt;&gt;' needs to have dll-interface to be used by clients of class 'plf::lfInvalidIndexExcpt'\n</code></pre>\n\n<p>Here is the code that has been giving me trouble.</p>\n\n<p>I have my DLL export/import macro defined as follows:</p>\n\n<pre><code>#ifdef LF_ENGINE_EXPORTS  \n#define LFE_API __declspec(dllexport)   \n#else  \n#define LFE_API __declspec(dllimport)   \n#endif  \n</code></pre>\n\n<p>Now, I'm using boost with my <em>library</em> and at one point I have the following:</p>\n\n<pre><code>typedef boost::container::string lfString;\n</code></pre>\n\n<p>The class lfInvalidIndexExcpt is defined like this:</p>\n\n<pre><code>namespace plf\n{\n    class LFE_API lfInvalidIndexExcpt\n    {\n    public:\n\n        explicit lfInvalidIndexExcpt(lfSize idx);\n\n        lfInvalidIndexExcpt(lfSize idx, const lfString&amp; descr);\n\n        const char* what() const throw();\n\n    private:\n\n        lfString message;\n\n        void makeMessage(lfSize idx, const lfString&amp; descr);\n\n    };\n};\n</code></pre>\n\n<p>I should probably mention that lfSize is just a typedef for std::size_t.</p>\n\n<p>All I'm wondering is what this warning actually means and if I can use Boost like this in my DLL, if at all. Also, if this is not the proper way to use Boost what is?</p>\n\n<p>Thanks,</p>\n\n<p>-Zack Frost</p>\n"}, {"tags": ["c++", "opengl", "heightmap"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478709152, "post_id": 40511711, "comment_id": 68265455, "body": "<i>but the array I&#39;m using seems to be wrong and the opengl vertex function cannot recognize it</i> What do you mean by that exactly? (P.S: unrelated but youre leaking that float array, consider using smart ptrs or containers)"}, {"owner": {"reputation": 1, "user_id": 7137331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c791c6622cb4d2e0d09b1b1e1dfe31ab?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Y", "link": "https://stackoverflow.com/users/7137331/leo-y"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478709196, "post_id": 40511711, "comment_id": 68265475, "body": "it was showed &quot;invalid arguments&#39; &quot;in eclipse"}, {"owner": {"reputation": 1, "user_id": 7137331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c791c6622cb4d2e0d09b1b1e1dfe31ab?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Y", "link": "https://stackoverflow.com/users/7137331/leo-y"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478709244, "post_id": 40511711, "comment_id": 68265499, "body": "What do you mean by &quot;leaking the float array&quot;?"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478709443, "post_id": 40511711, "comment_id": 68265623, "body": "1) Invalid arguments: you have a 1D ptr and youre &quot;indexing&quot; it twice, that wont work, 2) you newed the array, but never delete it, so your leaking memory."}, {"owner": {"reputation": 1, "user_id": 7137331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c791c6622cb4d2e0d09b1b1e1dfe31ab?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Y", "link": "https://stackoverflow.com/users/7137331/leo-y"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1478709726, "post_id": 40511711, "comment_id": 68265779, "body": "so I type another &quot;<i>&quot;after the float</i> it there is now error now, Should it be good now?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7129573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBgQX.jpg?s=128&g=1", "display_name": "rubics5", "link": "https://stackoverflow.com/users/7129573/rubics5"}, "is_accepted": false, "score": 0, "last_activity_date": 1478795503, "creation_date": 1478795503, "answer_id": 40532581, "question_id": 40511711, "link": "https://stackoverflow.com/questions/40511711/glvertex3f-take-array-as-an-argument/40532581#40532581", "title": "glVertex3f take array as an argument?", "body": "<p>I found a <a href=\"https://www.opengl.org/discussion_boards/showthread.php/137690-GL_POLYGON-and-colors\" rel=\"nofollow noreferrer\">similar problem</a> to yours.  Are you assigning a normal to the polygon with <a href=\"https://www.opengl.org/sdk/docs/man2/xhtml/glNormal.xml\" rel=\"nofollow noreferrer\">glNormal</a> anywhere?</p>\n\n<p>Another thing that will be an issue is that you are exceeding the bounds of your array <code>map</code> with the <code>i+1</code> and <code>j+1</code> indices in <code>drawterrian</code>.  Modify the bounds on your <code>for</code> loops to make sure this doesn't happen.</p>\n\n<p>As mentioned in the comments, be careful when creating variables with <code>new</code>.  Make sure to <code>delete</code> them afterwards.  You may need to adjust your <code>Createheightmap</code> function in a different way to do this.</p>\n"}], "owner": {"reputation": 1, "user_id": 7137331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c791c6622cb4d2e0d09b1b1e1dfe31ab?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Y", "link": "https://stackoverflow.com/users/7137331/leo-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1478795503, "creation_date": 1478708908, "question_id": 40511711, "link": "https://stackoverflow.com/questions/40511711/glvertex3f-take-array-as-an-argument", "title": "glVertex3f take array as an argument?", "body": "<p>I'm trying to implement a heightmap to my code, but the array I'm using seems to be wrong and the opengl vertex function cannot recognize it, can some one help me with it?</p>\n\n<pre><code>float* Createheightmap(int sizex, int sizez) {\nfloat map[][] = new float[sizex][sizez];\nfor (int i = 0; i &lt; sizex; i++) {\n    for (int j = 0; j &lt; sizez; j++) {\n        map[i][j] = float(0.0);\n    }\n}\nreturn map;\n\n}\n\nvoid drawterrian(void) {\n    float* map=Createheightmap(sizex,sizez);\n    for (int i = 0; i &lt; sizex; i++) {\n        for (int j = 0; j &lt; sizez; j++) {\n            glBegin(GL_POLYGON);\n                glVertex3f(float(i),map[i][j],float(j));\n                glVertex3f(float(i+1),map[i+1][j],float(j));\n                glVertex3f(float(i+1),map[i+1][j+1],float(j+1));\n                glVertex3f(float(i),map[i][j+1],float(j+1));\n\n            glEnd();\n        }\n    }\n}\n</code></pre>\n\n<p>The size of the array is declared in earlier functions</p>\n"}, {"tags": ["c++", "qt", "cimg"], "comments": [{"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 1, "creation_date": 1478709849, "post_id": 40511710, "comment_id": 68265840, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/718447/adding-external-library-into-qt-creator-project\">Adding external library into Qt Creator project</a>"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1478709900, "post_id": 40511710, "comment_id": 68265863, "body": "Please comment on wether that suggested duplicate solves your issue. If it doesn&#39;t, then please clarify, for example adding the exact error message you get, and showing your .pro file"}, {"owner": {"reputation": 351, "user_id": 6874134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/567f862b8ec9ed658245f6e813bd1a0d?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;. M&#225;rton", "link": "https://stackoverflow.com/users/6874134/%c3%81-m%c3%a1rton"}, "reply_to_user": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1478712394, "post_id": 40511710, "comment_id": 68267216, "body": "I don&#39;t really understand the notation in that referenced question. Even if it is a duplicate of mine I still don&#39;t understand it, so an answer is needed. My .pro file after trying to implement the stuff written in that question looks like this: <a href=\"http://pastebin.com/ZY7qwaK4\" rel=\"nofollow noreferrer\">pastebin.com/ZY7qwaK4</a>.  The error message I get when trying to type &quot;using namespace cimg_library&quot; is: error: C2871: &#39;cimg_library&#39;: a namespace with this name does not exist."}, {"owner": {"reputation": 6673, "user_id": 777689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19JOo.jpg?s=128&g=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/777689/petert"}, "edited": false, "score": 0, "creation_date": 1478726851, "post_id": 40511710, "comment_id": 68274294, "body": "@&#193;.M&#225;rton CImg is a header only library, you don&#39;t link against it. remove the  <code>LIBS += -C:&#47;Users&#47;Marci&#47;Desktop&#47; -CImg.h</code> and consider just using <code>INCLUDEPATH += C:&#47;Users&#47;Marci&#47;Desktop</code> with a regular <code>#include &lt;CImg.h&gt;</code>"}, {"owner": {"reputation": 351, "user_id": 6874134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/567f862b8ec9ed658245f6e813bd1a0d?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;. M&#225;rton", "link": "https://stackoverflow.com/users/6874134/%c3%81-m%c3%a1rton"}, "edited": false, "score": 0, "creation_date": 1478727301, "post_id": 40511710, "comment_id": 68274506, "body": "I did what you suggested, I removed the LIBS thing and and the header access path from the HEADERS section. Added <code>INCLUDEPATH += C:&#47;Users&#47;Marci&#47;Desktop</code>. I&#39;ve also rewritten the <code>#include &lt;CImg.h&gt;</code> as you suggested. Now it refuses to recognize the CImg related code again."}, {"owner": {"reputation": 6673, "user_id": 777689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19JOo.jpg?s=128&g=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/777689/petert"}, "edited": false, "score": 0, "creation_date": 1478754461, "post_id": 40511710, "comment_id": 68281811, "body": "@&#193;.M&#225;rton can you actually include a minimal version of the the source-code that doesn&#39;t compile and the first error messages you get in the question."}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1484946499, "post_id": 40511710, "comment_id": 70736153, "body": "You need to link with <code>gdi32</code> on Windows - in your <code>LIBS</code> section."}], "answers": [{"tags": [], "owner": {"reputation": 351, "user_id": 6874134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/567f862b8ec9ed658245f6e813bd1a0d?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;. M&#225;rton", "link": "https://stackoverflow.com/users/6874134/%c3%81-m%c3%a1rton"}, "is_accepted": true, "score": 2, "last_activity_date": 1489706847, "creation_date": 1489706847, "answer_id": 42846600, "question_id": 40511710, "link": "https://stackoverflow.com/questions/40511710/how-to-get-the-cimg-library-working-for-qt/42846600#42846600", "title": "How to get the CImg library working for Qt", "body": "<p>After I few months I figured it out. The problem lies in the fact, that CImg uses a windows .dll file for the visualizing functions of the class cimg_display. Since Qt is platform independent it doesnt like this. However you can make it work with an interesting trick. First you need to include the header file normally, in the project file. After that, whenever you actually #include it, you need to write the following macro:\n<code>#define cimg_display 0</code>\nIn my understanding this makes it work, because the C and C++ compilers simply copy the content of the included file into the source. And thanks to the macro the compiler will ignore the class thats causing trouble for us.</p>\n"}], "owner": {"reputation": 351, "user_id": 6874134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/567f862b8ec9ed658245f6e813bd1a0d?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;. M&#225;rton", "link": "https://stackoverflow.com/users/6874134/%c3%81-m%c3%a1rton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 0, "accepted_answer_id": 42846600, "answer_count": 1, "score": 0, "last_activity_date": 1489706847, "creation_date": 1478708906, "last_edit_date": 1478806942, "question_id": 40511710, "link": "https://stackoverflow.com/questions/40511710/how-to-get-the-cimg-library-working-for-qt", "title": "How to get the CImg library working for Qt", "body": "<p>I'm currently learning how to use Qt. I want to try out some simple image processing applications using Qt, and since I'm already familiar with CImg I want to use that. I guess it should be possible to do so, if not mark my question for deletion or something.</p>\n\n<p>My question is: how to get <em>CImg</em> working for Qt? <em>CImg</em> is a header file. Lets say its located on my desktop. I import it using Qt creator 4.1.0, by using the \"add existing file...\" in the rightclick menu on the header folder. Then my menu looks like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/zP8wK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zP8wK.png\" alt=\"my project folder in qt\"></a>.</p>\n\n<p>It compiles when I add <code>#include \"CImg.h\"</code>, but I can't use it, even when I'm trying to type <code>using namespace cimg_library</code> it will tell me that cimg_library doesn't exist. I also tried just creating a header file and copying the content of the <em>CImg.h</em> into it but then it simply fails to compile and the Qt Creator freezes.</p>\n\n<p>Edit: I managed to make the situation a bit better by adding the header location to the include code (like this: <code>#include \"C:/Users/Marci/Desktop/CImg.h\"</code> )I can now \"see\" CImg related stuff in the dev environment, and it won't bother me with not finding the constructor for CImg or anything like that. However when I try to compile while using anything CImg related it will give me around 20 linker errors. (Error code: LNK2019) My .pro file looks like this: </p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2016-11-08T17:08:58\n#\n#-------------------------------------------------\n\n QT       += core gui\n\n greaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\n TARGET = grayscale\n TEMPLATE = app\n\n\nSOURCES += main.cpp\\\n         mainwindow.cpp\n\nHEADERS  += mainwindow.h \\\n             C:/Users/Marci/Desktop/CImg.h\n\nLIBS += -C:/Users/Marci/Desktop/ -CImg.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>Edit2: after implementing the changes that PeterT suggested in his comment my .pro file looks like this:</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2016-11-08T17:08:58\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = grayscale\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n         mainwindow.cpp\n\nHEADERS  += mainwindow.h \\\n\n\nINCLUDEPATH += C:/Users/Marci/Desktop\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>And my mainwindow.cpp (in which i'm trying to create a CImg object) looks like this: </p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;CImg.h&gt;\n\nusing namespace cimg_library;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    CImg&lt;unsigned char&gt; myimage(100,200);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>The compiler errors i get are: error: C2871: 'cimg_library': a namespace with this name does not exist\nerror: C2065: 'CImg': undeclared identifier\nerror: C2062: type 'unsigned char' unexpected</p>\n\n<p>I hope this is specific enough.</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 2282, "user_id": 6646408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6BakX.png?s=128&g=1", "display_name": "besc", "link": "https://stackoverflow.com/users/6646408/besc"}, "edited": false, "score": 2, "creation_date": 1478710689, "post_id": 40511995, "comment_id": 68266295, "body": "<code>tempnumber1&gt;0 || tempnumber1 &lt; 0</code>, or as we sometimes write: <code>tempnumber1 != 0</code> ;)"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 1, "creation_date": 1478711006, "post_id": 40511995, "comment_id": 68266478, "body": "<code>halving[i] % 2 != 0</code>?"}], "tags": [], "owner": {"reputation": 762, "user_id": 3127141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hylYK.jpg?s=128&g=1", "display_name": "Paa K", "link": "https://stackoverflow.com/users/3127141/paa-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1478714830, "last_edit_date": 1478714830, "creation_date": 1478709869, "answer_id": 40511995, "question_id": 40511709, "link": "https://stackoverflow.com/questions/40511709/how-would-i-make-this-c-program-work-with-negative-numbers/40511995#40511995", "title": "How would i make this C++ Program work with negative Numbers?", "body": "<p>This;</p>\n\n<pre><code>while (tempnumber1&gt;0);\n</code></pre>\n\n<p>Should be changed to this;</p>\n\n<pre><code>while (tempnumber1&gt;0 || tempnumber1 &lt; 0);\n//Or\nwhile (tempnumber1 != 0); //Thanks @besc\n</code></pre>\n\n<p>And this;</p>\n\n<pre><code>if (halving [i] %2==1)\n</code></pre>\n\n<p>Should change to this;</p>\n\n<pre><code>if (halving [i] %2==1 || halving [i] %2==-1)\n//Or\nif(halving[i] % 2 != 0); //Thanks @stefaanv\n</code></pre>\n\n<p>To accommodate negative numbers</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 5528065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bzYvp.jpg?s=128&g=1", "display_name": "Shaikh Hafiz Ahamed", "link": "https://stackoverflow.com/users/5528065/shaikh-hafiz-ahamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1478710932, "last_edit_date": 1478710932, "creation_date": 1478710576, "answer_id": 40512199, "question_id": 40511709, "link": "https://stackoverflow.com/questions/40511709/how-would-i-make-this-c-program-work-with-negative-numbers/40512199#40512199", "title": "How would i make this C++ Program work with negative Numbers?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nint main()\n{\n\n    int value1; // these holds the original numbers inputted by the users\n    int value2;\n    int result;\n    // this holds the answer to be compared against the answer provided by using the algorithm\n\n    cout &lt;&lt; \"Please Enter the first number to be multiplied\"&lt;&lt; endl;\n    cin &gt;&gt; value1;\n    cout &lt;&lt; \"Please Enter the second number to be multiplied\"&lt;&lt; endl;\n    cin &gt;&gt; value2;\n    int tempnumber1 {value1};   //create a temp variable for halving while  keeping main numbers stored for later use.\n    vector &lt;int&gt; halving;       // this opens this vector halving which the algorithm uses\n    cout &lt;&lt; \"This is the Halving Step\" &lt;&lt; endl;\n    do\n    {\n        halving.push_back(tempnumber1);\n        cout &lt;&lt;tempnumber1 &lt;&lt; endl;\n        tempnumber1/=2;\n    }\n    while ((tempnumber1&gt;0 &amp;&amp; value1&gt;0) ||(tempnumber1&lt;0 &amp;&amp; value1&lt;0));\n    cout &lt;&lt; \" This is the Doubling stage\" &lt;&lt;endl;\n    int tempnumber2 {value2};\n    for (int i=0;   i&lt;halving.size(); i++)\n    {\n        cout &lt;&lt; tempnumber2 &lt;&lt; endl;\n        tempnumber2*=2;\n\n    }\n\n\n    int total{0};\n    int doubling = value2;\n    for (int i =0; i &lt; halving.size(); i++)\n    {\n        if (abs(halving [i]) % 2==1)\n        {\n            cout &lt;&lt; doubling &lt;&lt; \" Is Added to total\" &lt;&lt; endl;\n            total += doubling;\n\n        }\n        doubling *= 2;      // this is used to avoid having to use two vectors.\n    }\n    //total /= 2;\n    result = value1*value2; // this provides the check value\n    cout &lt;&lt; \"The result is:\" &lt;&lt; total;\n    cout &lt;&lt; \"[Check Value:\" &lt;&lt; result &lt;&lt; \"]\" &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 6416543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a292984e05607385df3611ddc10aca6?s=128&d=identicon&r=PG", "display_name": "Halny Hultaj", "link": "https://stackoverflow.com/users/6416543/halny-hultaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1478710971, "creation_date": 1478710971, "answer_id": 40512314, "question_id": 40511709, "link": "https://stackoverflow.com/questions/40511709/how-would-i-make-this-c-program-work-with-negative-numbers/40512314#40512314", "title": "How would i make this C++ Program work with negative Numbers?", "body": "<p>The most elegant I could think of:</p>\n\n<pre><code>cout &lt;&lt; \"This is the Halving Step\" &lt;&lt; endl;\n  do {\n    halving.push_back(tempnumber1);\n    cout &lt;&lt; tempnumber1 &lt;&lt; endl;\n    tempnumber1 /= 2;\n  } while (tempnumber1 != 0);\n\n  int total{0};\n  int doubling = value2;\n  int sign{0};\n  for (int i = 0; i &lt; halving.size(); i++) {\n    if ((sign = halving[i] % 2) != 0) {\n      cout &lt;&lt; doubling*sign &lt;&lt; \" Is Added to total\" &lt;&lt; endl;\n      total += doubling*sign;\n    }\n    doubling *= 2;  // this is used to avoid having to use two vectors.\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 762, "user_id": 3127141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hylYK.jpg?s=128&g=1", "display_name": "Paa K", "link": "https://stackoverflow.com/users/3127141/paa-k"}, "edited": false, "score": 0, "creation_date": 1478713346, "post_id": 40512360, "comment_id": 68267686, "body": "You&#39;re wrong! <code>isdigit(int)</code> checks if a character is a decimal digit. Returns non-zero if <code>true and </code>0` if <code>false</code>. So you&#39;re only making what&#39;s in the block execute while what the user entered isn&#39;t a decimal digit. That&#39;s not the aim of the program."}], "tags": [], "owner": {"reputation": 3, "user_id": 7137352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6373e982a4e515b16f372935d9212ba?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tamani", "link": "https://stackoverflow.com/users/7137352/a-tamani"}, "is_accepted": false, "score": -1, "last_activity_date": 1478711138, "creation_date": 1478711138, "answer_id": 40512360, "question_id": 40511709, "link": "https://stackoverflow.com/questions/40511709/how-would-i-make-this-c-program-work-with-negative-numbers/40512360#40512360", "title": "How would i make this C++ Program work with negative Numbers?", "body": "<p>i think you can use this(correct me if i'm wrong);</p>\n\n<pre><code>while (isdigit(tempnumber1)==0);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5111406, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4RUywVH4njM/AAAAAAAAAAI/AAAAAAAAACE/IO5f0DGhlcg/photo.jpg?sz=128", "display_name": "Edward Reid", "link": "https://stackoverflow.com/users/5111406/edward-reid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1478714830, "creation_date": 1478708903, "question_id": 40511709, "link": "https://stackoverflow.com/questions/40511709/how-would-i-make-this-c-program-work-with-negative-numbers", "title": "How would i make this C++ Program work with negative Numbers?", "body": "<pre><code>#include &lt;iostream&gt;\n\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{    \n\nint value1; // these holds the original numbers inputted by the users\nint value2;\nint result; \n// this holds the answer to be compared against the answer provided by using the algorithm\n\ncout &lt;&lt; \"Please Enter the first number to be multiplied\"&lt;&lt; endl;\ncin &gt;&gt; value1;\ncout &lt;&lt; \"Please Enter the second number to be multiplied\"&lt;&lt; endl;\ncin &gt;&gt; value2;\nint tempnumber1 {value1};   //create a temp variable for halving while  keeping main numbers stored for later use.\nvector &lt;int&gt; halving;       // this opens this vector halving which the algorithm uses\ncout &lt;&lt; \"This is the Halving Step\" &lt;&lt; endl;\ndo\n{\n    halving.push_back(tempnumber1);\n    cout &lt;&lt;tempnumber1 &lt;&lt; endl;\n    tempnumber1/=2;\n}\nwhile (tempnumber1&gt;0);\ncout &lt;&lt; \" This is the Doubling stage\" &lt;&lt;endl;\nint tempnumber2 {value2};\nfor (int i=0;   i&lt;halving.size(); i++)\n{\n    cout &lt;&lt; tempnumber2 &lt;&lt; endl;\n    tempnumber2*=2;\n\n}\n\n\nint total{0};\nint doubling = value2;\nfor (int i =0; i &lt; halving.size(); i++)\n{\n\n\nif (halving [i] %2==1)\n{\ncout &lt;&lt; doubling &lt;&lt; \" Is Added to total\" &lt;&lt; endl;\ntotal += doubling;\n\n}\ndoubling *= 2;      // this is used to avoid having to use two vectors.\n\n\n\n\n}\n//total /= 2;\nresult = value1*value2; // this provides the check value\ncout &lt;&lt; \"The result is:\" &lt;&lt; total;\ncout &lt;&lt; \"[Check Value:\" &lt;&lt; result &lt;&lt; \"]\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Hi, this was a university assignment from a few months ago which i passed.\nThe assignment was to use the russian peasant multiplication work in C++\nbut looking back at it, I realized that it wouldn't work with negative numbers, how would I make this program work with negative numbers?</p>\n"}, {"tags": ["c++", "c++11", "segmentation-fault", "libc++"], "comments": [{"owner": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 10, "creation_date": 1478708679, "post_id": 40511599, "comment_id": 68265181, "body": "Because you should <i>never</i> <code>free()</code> what you <code>new</code>. <code>new</code> -&gt; <code>delete</code>, <code>malloc</code> -&gt; <code>free</code>"}, {"owner": {"reputation": 11752, "user_id": 633318, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0a99209ed808fb839cc93fbbb3dcb43b?s=128&d=identicon&r=PG", "display_name": "jlconlin", "link": "https://stackoverflow.com/users/633318/jlconlin"}, "reply_to_user": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1478709144, "post_id": 40511599, "comment_id": 68265451, "body": "Thanks for the suggestion. When I change the <code>free</code> to <code>delete</code> I still get the same segmentation fault. :("}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1478710457, "post_id": 40511599, "comment_id": 68266165, "body": "The provided source code doesn&#39;t generate the described error, could you give more details ?"}, {"owner": {"reputation": 11752, "user_id": 633318, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0a99209ed808fb839cc93fbbb3dcb43b?s=128&d=identicon&r=PG", "display_name": "jlconlin", "link": "https://stackoverflow.com/users/633318/jlconlin"}, "reply_to_user": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1478710841, "post_id": 40511599, "comment_id": 68266389, "body": "@J.Piquard I ran this again and got this: <code>$ if clang++ -std=c++14 -stdlib=libc++ main2.cpp  -o tmpFile; then .&#47;tmpFile; fi tmpStream has filename: chicken ----------------------------------------- Segmentation fault: 11</code>"}, {"owner": {"reputation": 9720, "user_id": 6371123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f90991c1b06c79ae4c6e79fb616d608?s=128&d=identicon&r=PG", "display_name": "G.M.", "link": "https://stackoverflow.com/users/6371123/g-m"}, "edited": false, "score": 0, "creation_date": 1478710927, "post_id": 40511599, "comment_id": 68266431, "body": "You&#39;re certain <code>fopen</code> returns a non-null value?"}, {"owner": {"reputation": 11752, "user_id": 633318, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0a99209ed808fb839cc93fbbb3dcb43b?s=128&d=identicon&r=PG", "display_name": "jlconlin", "link": "https://stackoverflow.com/users/633318/jlconlin"}, "reply_to_user": {"reputation": 9720, "user_id": 6371123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f90991c1b06c79ae4c6e79fb616d608?s=128&d=identicon&r=PG", "display_name": "G.M.", "link": "https://stackoverflow.com/users/6371123/g-m"}, "edited": false, "score": 0, "creation_date": 1478711417, "post_id": 40511599, "comment_id": 68266716, "body": "@G.M. Yes, see <a href=\"http://en.cppreference.com/w/c/io/fopen\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 1, "creation_date": 1478711840, "post_id": 40511599, "comment_id": 68266928, "body": "Why are you calling <code>remove( filename_.c_str() );</code> in the <code>~tmp_ofstream()</code> ?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 2, "creation_date": 1478712789, "post_id": 40511599, "comment_id": 68267434, "body": "<code>std::basic_ostream</code> is not supposed to have a default constructor. It&#39;s not clear how  your program even compiles. Making it <code>tmp_ofstream() : filename_(&quot;&quot;), basic_ostream&lt;charT, traits&gt;(nullptr)</code> <a href=\"http://rextester.com/PPROA4705\" rel=\"nofollow noreferrer\">seems to work for me</a>"}, {"owner": {"reputation": 613, "user_id": 3112926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33809c5d0f78b110e8613c9e5972dd5?s=128&d=identicon&r=PG&f=1", "display_name": "JGroven", "link": "https://stackoverflow.com/users/3112926/jgroven"}, "edited": false, "score": 0, "creation_date": 1478712972, "post_id": 40511599, "comment_id": 68267512, "body": "In your tmp_ofstream constructor, you can call the ostream constructor (with your FILE_streambuf*) in an initialization list. rdbuf() shouldn&#39;t take any parameters."}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1478713454, "post_id": 40511599, "comment_id": 68267743, "body": "@IgorTandetnik &quot;<i>std::basic_ostream is not supposed to have a default constructor&quot;</i> <code>libc++</code> <a href=\"http://llvm.org/svn/llvm-project/libcxx/trunk/include/ostream\" rel=\"nofollow noreferrer\">does provide a protected default constructor</a> (see the bottom of the class declaration)."}, {"owner": {"reputation": 11752, "user_id": 633318, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0a99209ed808fb839cc93fbbb3dcb43b?s=128&d=identicon&r=PG", "display_name": "jlconlin", "link": "https://stackoverflow.com/users/633318/jlconlin"}, "reply_to_user": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1478713985, "post_id": 40511599, "comment_id": 68268019, "body": "@J.Piquard I want the file to be deleted from the file system when the object is deconstructed. That&#39;s why I need to write these classes."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1478715404, "post_id": 40511599, "comment_id": 68268706, "body": "@Leon Well, it&#39;s a non-standard extension. Apparently, it requires some special care (because it, and I quote, &quot;intentially[sic] does not initialize&quot;) when used - probably an explicit call to <code>init()</code> - care that the OP&#39;s code is not exercising."}], "answers": [{"tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": false, "score": 0, "last_activity_date": 1478721766, "last_edit_date": 1495541606, "creation_date": 1478721766, "answer_id": 40515054, "question_id": 40511599, "link": "https://stackoverflow.com/questions/40511599/segmentation-fault-when-destructing-a-derived-stdbasic-ostream/40515054#40515054", "title": "Segmentation fault when destructing a derived std::basic_ostream", "body": "<p>As <a href=\"https://stackoverflow.com/questions/40511599/segmentation-fault-when-destructing-a-derived-stdbasic-ostream?noredirect=1#comment68267434_40511599\">Igor Tandetnik has noted</a> the code implicitly calls the default constructor of <code>std::basic_ostream</code> which is not supposed to exist. The code compiles with libc++ because <a href=\"http://llvm.org/svn/llvm-project/libcxx/trunk/include/ostream\" rel=\"nofollow noreferrer\">the latter provides</a> such a (protected) default constructor as an extension:</p>\n\n<blockquote>\n<pre><code>basic_ostream() {}  // extension, intentially does not initialize\n</code></pre>\n</blockquote>\n\n<p>The problem disappears if the constructor of <code>tmp_ofstream</code> calls a standard-approved constructor of <code>std::basic_ostream</code>:</p>\n\n<pre><code>tmp_ofstream()\n: basic_ostream&lt;charT, traits&gt;(0) // Sic!\n, filename_(\"\")\n{\n    try{\n        this-&gt;rdbuf(new FILE_streambuf&lt;charT, traits&gt;(filename_));\n    } catch (const std::exception&amp; e){\n        throw e;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11752, "user_id": 633318, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0a99209ed808fb839cc93fbbb3dcb43b?s=128&d=identicon&r=PG", "display_name": "jlconlin", "link": "https://stackoverflow.com/users/633318/jlconlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478721766, "creation_date": 1478708545, "last_edit_date": 1478720517, "question_id": 40511599, "link": "https://stackoverflow.com/questions/40511599/segmentation-fault-when-destructing-a-derived-stdbasic-ostream", "title": "Segmentation fault when destructing a derived std::basic_ostream", "body": "<p>I am deriving from <code>std::basic_ostream</code> because I need to change the way underlying file buffer is created. (I need a unique filename that I can query so the file can be deleted when it is closed; i.e., can't use <code>std::tmpnam</code> or <code>std::tmpfile</code>.) I've made an attempt at this (see below), but I get a segmentation fault at destruction.</p>\n\n<p><strong>What is causing the segmentation fault?</strong> It seems that either I'm not allocating memory for the file buffer, or I'm deleting it twice. </p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// Compile with\n//      clang++ -std=c++14 -stdlib=libc++ main.cpp  -o tmpFile\n//\n\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;streambuf&gt;\n\nusing namespace std;\n\ntemplate&lt; class charT, class traits=char_traits&lt;charT&gt; &gt;\nclass FILE_streambuf : public std::basic_streambuf&lt;charT, traits&gt; {\npublic:\n    FILE_streambuf(std::string&amp; filename)\n    {\n      filename = \"chicken\";\n      buffer_ = fopen(filename.c_str(), \"wx\");\n\n    }\n\n    virtual ~FILE_streambuf(){\n        fclose(this-&gt;buffer_);\n    }\n    FILE* buffer_;\n};\n\ntemplate&lt; class charT, class traits=char_traits&lt;charT&gt; &gt;\nclass tmp_ofstream : public basic_ostream&lt;charT, traits&gt;{\npublic:\n    tmp_ofstream()\n    : filename_(\"\")\n    {\n        try{\n            this-&gt;rdbuf(new FILE_streambuf&lt;charT, traits&gt;(filename_));\n        } catch (const std::exception&amp; e){\n            throw e;\n        }\n    }\n\n    ~tmp_ofstream(){\n        delete this-&gt;rdbuf();\n        remove( filename_.c_str() );\n    }\n    std::string filename() { return this-&gt;filename_; };\n    std::string filename_;\n};\n\nint main(){\n\n    tmp_ofstream&lt;char&gt; tmpStream;\n    cout &lt;&lt; \"tmpStream has filename: \" &lt;&lt; tmpStream.filename();\n\n    cout &lt;&lt; \"\\n-----------------------------------------\\n\";\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 5, "creation_date": 1478708134, "post_id": 40511434, "comment_id": 68264839, "body": "C or C++? They are different languages. Don&#39;t tag both. Compiler?"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1478708283, "post_id": 40511434, "comment_id": 68264931, "body": "What&#39;s <code>paperFold</code>? Anyway, array code seems fine, what compiler are you using?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1478708644, "post_id": 40511434, "comment_id": 68265153, "body": "Are you absolutely sure that you&#39;re compiling that code and not something else in a file with the same name, and that you haven&#39;t forgotten to save? I&#39;ve lost count of how many times I&#39;ve made those mistakes."}, {"owner": {"reputation": 821, "user_id": 4048651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53a0ab1a48d5c6d6263c266cd23a3798?s=128&d=identicon&r=PG&f=1", "display_name": "mongolol", "link": "https://stackoverflow.com/users/4048651/mongolol"}, "edited": false, "score": 0, "creation_date": 1478708783, "post_id": 40511434, "comment_id": 68265240, "body": "C++, and I&#39;m compiling with g++."}, {"owner": {"reputation": 821, "user_id": 4048651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53a0ab1a48d5c6d6263c266cd23a3798?s=128&d=identicon&r=PG&f=1", "display_name": "mongolol", "link": "https://stackoverflow.com/users/4048651/mongolol"}, "edited": false, "score": 0, "creation_date": 1478709003, "post_id": 40511434, "comment_id": 68265381, "body": "Just a class - solving some problems on TopCoder to knock off some C++ rust. You can find more here : <a href=\"https://arena.topcoder.com/#/u/practiceCode/1285/1721/1846/1/1285\" rel=\"nofollow noreferrer\">arena.topcoder.com/#/u/practiceCode/1285/1721/1846/1/1285</a>"}], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 4048651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53a0ab1a48d5c6d6263c266cd23a3798?s=128&d=identicon&r=PG&f=1", "display_name": "mongolol", "link": "https://stackoverflow.com/users/4048651/mongolol"}, "edited": false, "score": 0, "creation_date": 1478708898, "post_id": 40511572, "comment_id": 68265312, "body": "Swapped over to using an IDE (eclipse) as I&#39;m running through a large amount of practice problems to knock off some rust - appears that is causing the error. Successfully compiled at the command line, however."}], "tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1478708469, "creation_date": 1478708469, "answer_id": 40511572, "question_id": 40511434, "link": "https://stackoverflow.com/questions/40511434/basic-array-initialization-returning-error/40511572#40511572", "title": "Basic Array Initialization Returning Error", "body": "<p>The error message complains that you are trying to initializing a <em>scalar</em> object <code>paper</code> with multiple initializers.\ni.e. something like this:</p>\n\n<pre><code>double paper = {8.0, 11.0};\n</code></pre>\n\n<p>But obviously <code>paper</code> is an <em>aggregate</em> type in the code you posted which shouldn't produce that error. So, it means you haven't posted\nthe code that produced the error or simply failed to <em>save</em> the source file?</p>\n"}, {"comments": [{"owner": {"reputation": 821, "user_id": 4048651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53a0ab1a48d5c6d6263c266cd23a3798?s=128&d=identicon&r=PG&f=1", "display_name": "mongolol", "link": "https://stackoverflow.com/users/4048651/mongolol"}, "edited": false, "score": 0, "creation_date": 1478709071, "post_id": 40511632, "comment_id": 68265419, "body": "Now sure how, but it appears it was being caused by eclipse (or more likely, my own dumb error because I&#39;m unfamiliar with the IDE). Deleted the project, recreated/pasted in exact code, and compiled fine."}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": true, "score": 2, "last_activity_date": 1478708649, "creation_date": 1478708649, "answer_id": 40511632, "question_id": 40511434, "link": "https://stackoverflow.com/questions/40511434/basic-array-initialization-returning-error/40511632#40511632", "title": "Basic Array Initialization Returning Error", "body": "<p>This line :</p>\n\n<pre><code>double paper [] = {8.0, 11.0};\n</code></pre>\n\n<p>is perfectly correct either in C or in C++, for any versions I can remember.</p>\n\n<p>But compilers can be disturbed by other errors in the stream.</p>\n\n<p>This code is fine in C++:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n    double paper [] = { 8.0, 11.0 }; //***\n\n    std::cout &lt;&lt; paper[0] &lt;&lt; \" - \" &lt;&lt; paper[1] &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>As is this one in C:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    double paper [] = { 8.0, 11.0 }; //***\n\n    printf(\"%f - %f\\n\", paper[0], paper[1]);\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 821, "user_id": 4048651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53a0ab1a48d5c6d6263c266cd23a3798?s=128&d=identicon&r=PG&f=1", "display_name": "mongolol", "link": "https://stackoverflow.com/users/4048651/mongolol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 40511632, "answer_count": 2, "score": 0, "last_activity_date": 1478708906, "creation_date": 1478708051, "last_edit_date": 1478708906, "question_id": 40511434, "link": "https://stackoverflow.com/questions/40511434/basic-array-initialization-returning-error", "title": "Basic Array Initialization Returning Error", "body": "<p>The starred lines below are throwing back the following error:</p>\n\n<p><code>error: scalar object 'paper' requires one element in initializer</code></p>\n\n<p>Any idea what might be causing this? This seems like a relatively straightforward initialization.</p>\n\n<pre><code>int main(){\n\n    double paper [] = {8.0, 11.0};//***\n    double box [] = {6.0, 10.0};//***\n\n    paperFold pf;\n    cout &lt;&lt; pf.numFolds(paper,box) &lt;&lt; endl;\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "double"], "comments": [{"owner": {"reputation": 230, "user_id": 1146127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4b392fb71921dc2c5c17938438d0190?s=128&d=identicon&r=PG", "display_name": "yman", "link": "https://stackoverflow.com/users/1146127/yman"}, "edited": false, "score": 3, "creation_date": 1478707702, "post_id": 40511246, "comment_id": 68264577, "body": "Why do you <i>think</i> the first option is problematic?"}, {"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "reply_to_user": {"reputation": 230, "user_id": 1146127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4b392fb71921dc2c5c17938438d0190?s=128&d=identicon&r=PG", "display_name": "yman", "link": "https://stackoverflow.com/users/1146127/yman"}, "edited": false, "score": 0, "creation_date": 1478707983, "post_id": 40511246, "comment_id": 68264757, "body": "@yman well, just a feeling. I think that the two options won&#39;t give the exact same result, but i could be wrong, that&#39;s why I ask."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "edited": false, "score": 0, "creation_date": 1478707816, "post_id": 40511313, "comment_id": 68264649, "body": "I edited the question, i forgot to say in text, that i need greater then or equal to 0."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 2, "creation_date": 1478707940, "post_id": 40511313, "comment_id": 68264729, "body": "<code>!(x &lt; 0)</code> and <code>x &gt;= 0</code> are different if <code>x</code> is not-a-number."}, {"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1478708839, "post_id": 40511313, "comment_id": 68265275, "body": "Thanks MartinNyolt and @aschepler this is helfup. And the literal 0.0 is not changing this somehow?"}, {"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "edited": false, "score": 0, "creation_date": 1478724705, "post_id": 40511313, "comment_id": 68273220, "body": "thank you very much, so the sign doesn&#39;t really matter here, i was worried about the -0 since i wanted only not negative (positive and zero) and -0 is not negative, its still just 0 so its ok."}], "tags": [], "owner": {"reputation": 3656, "user_id": 1314743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ab0a1aef58bcdbf40df9077f91a644?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Nyolt", "link": "https://stackoverflow.com/users/1314743/martin-nyolt"}, "is_accepted": true, "score": 3, "last_activity_date": 1478709455, "last_edit_date": 1495542640, "creation_date": 1478707689, "answer_id": 40511313, "question_id": 40511246, "link": "https://stackoverflow.com/questions/40511246/how-to-test-if-double-value-is-not-negative/40511313#40511313", "title": "How to test if double value is not negative", "body": "<p>The value \u00b10 only indicates if the value approached 0 from negative or positive values (but this is not a guarantee for every case, of course). However, it still <em>is</em> 0. </p>\n\n<p>Therefore, <code>x &gt;= 0</code> will include both +0 and -0 zero. You can test that for yourself in a simple program. :)</p>\n\n<p>In the <a href=\"http://ieeexplore.ieee.org/servlet/opac?punumber=4610933\" rel=\"nofollow noreferrer\">IEEE754 standard</a>, it explicitly says</p>\n\n<blockquote>\n  <p>Comparisons shall ignore the sign of zero (so +0 = -0).</p>\n</blockquote>\n\n<p>IEEE754 is used by most processors and implementations, so for all practical purposes <code>-0 &gt;= 0</code> is true.</p>\n\n<p>For any number x, <code>x &gt;= 0</code> and <code>!(x &lt; 0)</code> are the same. This is also true for +0 and -0.</p>\n\n<hr>\n\n<p>As pointed out by aschepler in a <a href=\"https://stackoverflow.com/questions/40511246/how-to-test-if-double-value-is-not-negative/40511313#comment68264729_40511313\">comment</a>, the two tests <code>x &gt;= 0</code> and <code>!(x &lt; 0)</code> differ when x is NaN (not-a-number). NaN is always different from any real number, thus <code>!(x &lt; 0)</code> will be true when x is NaN.\nIf NaN can occur in your calculations, you may want to handle that separately.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "edited": false, "score": 0, "creation_date": 1478708551, "post_id": 40511387, "comment_id": 68265086, "body": "Thx I&#39;ll try to read that, but I&#39;m not now in the mood to read any long articles."}, {"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1478708893, "post_id": 40511387, "comment_id": 68265306, "body": "Please include the relevant information of the link you posted in your question."}], "tags": [], "owner": {"reputation": 230, "user_id": 1146127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4b392fb71921dc2c5c17938438d0190?s=128&d=identicon&r=PG", "display_name": "yman", "link": "https://stackoverflow.com/users/1146127/yman"}, "is_accepted": false, "score": 0, "last_activity_date": 1478709437, "last_edit_date": 1478709437, "creation_date": 1478707912, "answer_id": 40511387, "question_id": 40511246, "link": "https://stackoverflow.com/questions/40511246/how-to-test-if-double-value-is-not-negative/40511387#40511387", "title": "How to test if double value is not negative", "body": "<p>I believe <a href=\"http://www.cprogramming.com/tutorial/floating_point/understanding_floating_point_representation.html\" rel=\"nofollow noreferrer\">this article</a> might answer your question. Zero has its own noninterchangeable representation. Whether the value is positive or negative is represented by the <em>sign</em> bit.</p>\n\n<p>Citing from the article:</p>\n\n<blockquote>\n  <p>if every bit is zero (the sign bit being irrelevant), then the number is considered zero.</p>\n</blockquote>\n\n<p>Hence the positive/negative zero must have no impact on the comparison operations - it is still a zero.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "edited": false, "score": 0, "creation_date": 1478708240, "post_id": 40511425, "comment_id": 68264910, "body": "I know i can test both, but will it give the exact same result for every possible double value? Especially around 0."}, {"owner": {"reputation": 95, "user_id": 5528065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bzYvp.jpg?s=128&g=1", "display_name": "Shaikh Hafiz Ahamed", "link": "https://stackoverflow.com/users/5528065/shaikh-hafiz-ahamed"}, "reply_to_user": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "edited": false, "score": 0, "creation_date": 1478708828, "post_id": 40511425, "comment_id": 68265273, "body": "Yes it will give the exact same result for every possible double value even for around zero in c and c++ programming language."}], "tags": [], "owner": {"reputation": 95, "user_id": 5528065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bzYvp.jpg?s=128&g=1", "display_name": "Shaikh Hafiz Ahamed", "link": "https://stackoverflow.com/users/5528065/shaikh-hafiz-ahamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1478708027, "creation_date": 1478708027, "answer_id": 40511425, "question_id": 40511246, "link": "https://stackoverflow.com/questions/40511246/how-to-test-if-double-value-is-not-negative/40511425#40511425", "title": "How to test if double value is not negative", "body": "<p>Yes you can test both<br>\nif(myDoubleValue >= 0.0)<br>\nand<br>\nif(!(myDoubleValue &lt; 0.0))</p>\n"}], "owner": {"reputation": 53, "user_id": 6345809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0875168b9fdc036c3564d4dc2f2b68?s=128&d=identicon&r=PG&f=1", "display_name": "Lukin", "link": "https://stackoverflow.com/users/6345809/lukin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3978, "favorite_count": 2, "accepted_answer_id": 40511313, "answer_count": 3, "score": 0, "last_activity_date": 1478709455, "creation_date": 1478707504, "last_edit_date": 1478708091, "question_id": 40511246, "link": "https://stackoverflow.com/questions/40511246/how-to-test-if-double-value-is-not-negative", "title": "How to test if double value is not negative", "body": "<p>I failed to google this so I'm asking how to properly and conclusively test double value to be greater then or equal to 0.</p>\n\n<p>I'm somehow aware of double problematic zero value (the \u00b1 0.0 and so on) and I need to check wheter my double variable is greater then or equal to 0. Or else and maybe better if is it not negative.</p>\n\n<p>The question is, can i test this like this:<br>\n<code>if(myDoubleValue &gt;= 0.0)</code> (i think this one could be problematic)<br>\nor will be better something like this:<br>\n<code>if(!(myDoubleValue &lt; 0.0))</code> </p>\n\n<p>Sorry for probably dumb question.</p>\n"}, {"tags": ["c++", "multithreading", "qt", "user-interface"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1478708930, "post_id": 40511181, "comment_id": 68265334, "body": "is your disk fast enough? have you profiled your code? what takes the longest time? constructing QPixmap or constructing QLabel, or setting the pixmap or adding the widget? Also how much performance are you willing to sacrifice to improve your UI response?"}, {"owner": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "edited": false, "score": 0, "creation_date": 1478716883, "post_id": 40511181, "comment_id": 68269409, "body": "Is your screen actually large enough to show 5000 images? This amount of data sounds more like a use case for a model/view approach"}, {"owner": {"reputation": 70, "user_id": 6316841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q1BIr.jpg?s=128&g=1", "display_name": "czimbortibor", "link": "https://stackoverflow.com/users/6316841/czimbortibor"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1478718951, "post_id": 40511181, "comment_id": 68270420, "body": "@user3528438 I did not profile my code, but clearly adding the widgets takes the longest time. My image loader uses all of the available CPU threads, running them at 100% but when it comes to the GUI&#39;s single thread I just don&#39;t know what else could be done. Maybe the Qt GUI is not really suited for this kind of task? It seems to me that JavaFX is much more responsive and well built (the displaying process is identical)."}, {"owner": {"reputation": 70, "user_id": 6316841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q1BIr.jpg?s=128&g=1", "display_name": "czimbortibor", "link": "https://stackoverflow.com/users/6316841/czimbortibor"}, "reply_to_user": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "edited": false, "score": 0, "creation_date": 1478719153, "post_id": 40511181, "comment_id": 68270517, "body": "@KevinKrammer Actually the screen size does not matter, because I calculate the available display&#39;s size and after I load an image from the hard drive, the image gets resized (and then stored in memory) so that everything will be visible"}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 2, "creation_date": 1478719297, "post_id": 40511181, "comment_id": 68270595, "body": "QWidgets are likely not the most efficient way to implement this.  You may want to look at using the QGraphicsScene/QGraphicsView API instead (in particular the qtbase/examples/widgets/graphicsview/chip example application)"}, {"owner": {"reputation": 70, "user_id": 6316841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q1BIr.jpg?s=128&g=1", "display_name": "czimbortibor", "link": "https://stackoverflow.com/users/6316841/czimbortibor"}, "reply_to_user": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1478719414, "post_id": 40511181, "comment_id": 68270649, "body": "Thanks @JeremyFriesner, I will look into that"}], "owner": {"reputation": 70, "user_id": 6316841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q1BIr.jpg?s=128&g=1", "display_name": "czimbortibor", "link": "https://stackoverflow.com/users/6316841/czimbortibor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478707310, "creation_date": 1478707310, "question_id": 40511181, "link": "https://stackoverflow.com/questions/40511181/qt-large-quantity-widget-display-without-ui-freeze", "title": "Qt - large quantity widget display without UI freeze", "body": "<p>I want to display a large amount of widgets (~10 thousand) as fast as possible without blocking the UI. The widgets are simple <code>QPixmap</code>s containing images loaded from the disk and stored inside a <code>QVector</code>.</p>\n\n<p>Here is the problematic code:</p>\n\n<pre><code>for (QPixmap image : images) {\n    QLabel* label = new QLabel();\n    label-&gt;setPixmap(image);\n    flowLayout-&gt;addWidget(label);\n}\n</code></pre>\n\n<p>At some point over 5000 thousand images the UI starts to freeze out but then comes back alive.</p>\n\n<p>I have a possible solution with the use of <code>QCoreApplication::processEvents()</code>, but that makes the process very slow (although visually elegant). </p>\n\n<pre><code>int k = 0;\nfor (QPixmap image : images) {\n    ++k;\n    QLabel* label = new QLabel();\n    label-&gt;setPixmap(image);\n    flowLayout-&gt;addWidget(label);\n    if (k &gt;= 100) {\n        QCoreApplication::processEvents();\n        k = 0;\n    }\n}\n</code></pre>\n\n<p>With <em>k</em> I am trying to calibrate the UI thread's refresh rate. </p>\n\n<p>So my question is to what is the best approach or is there a good middle ground? One which displays multiple widgets without overwhelming the main thread. </p>\n\n<p><strong>Side note:</strong> I am doing a kind of a benchmark test which involves large quantity image displaying. A <em>JavaFX</em> approach almost instantly spits out the images to the UI from the memory, but I have found it a bit slower in loading and displaying the images. What I mean is that the C++ approach up to some 5000 images works faster in every aspect but problems start occurring after that.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478708042, "post_id": 40511055, "comment_id": 68264787, "body": "it is not really clear what is the question. You want to know how to read numbers from a file? I would actually suggest that you abstract your problem a bit more. For sure your coding problem is not specific for atoms"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1478708105, "post_id": 40511055, "comment_id": 68264820, "body": "Search the internet for &quot;StackOverflow C++ read file struct&quot;.  Searching the internet first is always a good idea."}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478708543, "post_id": 40511055, "comment_id": 68265078, "body": "@tobi303: I have edited a bit my question. Please have a look at it. I know the algorithm a little bit but having problem in how to perform the vector difference for all the atoms syntactically."}, {"owner": {"reputation": 83, "user_id": 6416543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a292984e05607385df3611ddc10aca6?s=128&d=identicon&r=PG", "display_name": "Halny Hultaj", "link": "https://stackoverflow.com/users/6416543/halny-hultaj"}, "edited": false, "score": 0, "creation_date": 1478708798, "post_id": 40511055, "comment_id": 68265250, "body": "Your sample code won&#39;t compile - it has got many syntax problems - work on that first. Second, for starters - don&#39;t get the data from a file but hardcode some values so you can check easily, by hand, if your code calculate good values. Then if it works - start implementing reading data from file."}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "reply_to_user": {"reputation": 83, "user_id": 6416543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a292984e05607385df3611ddc10aca6?s=128&d=identicon&r=PG", "display_name": "Halny Hultaj", "link": "https://stackoverflow.com/users/6416543/halny-hultaj"}, "edited": false, "score": 0, "creation_date": 1478709108, "post_id": 40511055, "comment_id": 68265438, "body": "@HalnyHultaj: Yes, I know the sample code wont compile. It was just for the overview how the algorithm should work. Thanks for your suggestions :)"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478710244, "post_id": 40511055, "comment_id": 68266041, "body": "can you please try to ask the question without using the word &quot;atoms&quot;? I mean it doesnt really matter what the number in the vectors represent and imho that just adds confusion. I dont understand at all what you mean with &quot;how to read from the given file so that I can have the length of the vector difference for each atom stored in dr in the sample code.&quot; What is &quot;the length of the vector difference&quot; ?"}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "edited": false, "score": 0, "creation_date": 1478710678, "post_id": 40511055, "comment_id": 68266290, "body": "Well the &#39;atoms&#39; is just for representation. If a atom(or whatever) goes from a vector position (0,0,0) to (1,1,1) the &#39;the length of the vector difference&#39; is simply sqrt((0-1)^2+(0-1)^2+(0-1)^2). For details of MSD calculations you can see the definition here: <a href=\"https://en.wikipedia.org/wiki/Mean_squared_displacement\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Mean_squared_displacement</a>"}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478712573, "post_id": 40511055, "comment_id": 68267318, "body": "@tobi303: The following snippet does the vector length calculations but only for one point and one time step. I hope it&#39;s bit clear now. Sorry for making it difficult #include &lt;iostream&gt; #include &lt;cmath&gt;  double Distance(double dX0, double dY0, double dX1, double dY1) {     return sqrt((dX1 - dX0)*(dX1 - dX0) + (dY1 - dY0)*(dY1 - dY0)); }  int main() {     using namespace std;      // Calculate two distances     cout &lt;&lt; &quot;Distance = &quot; &lt;&lt; Distance(0.0, 0.0, 0.0, 1.0) &lt;&lt; endl;     cout &lt;&lt; &quot;Distance = &quot; &lt;&lt; Distance(2.0, 4.0, 3.0, 1.0) &lt;&lt; endl;      return 0; }"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478713359, "post_id": 40511055, "comment_id": 68267693, "body": "@baban code in comments is (almost) impossible to read."}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478721265, "post_id": 40511055, "comment_id": 68271529, "body": "@tobi303: Sorry. Have a look here: <a href=\"http://xoax.net/cpp/ref/cpp_examples/incl/distance_points_plane/\" rel=\"nofollow noreferrer\">xoax.net/cpp/ref/cpp_examples/incl/distance_points_plane</a>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478723107, "post_id": 40511055, "comment_id": 68272423, "body": "ok. you have to take care with terminology, because usually the &quot;length&quot; of a <code>std::vector</code> is its size, ie number of elements, while you mean the norm of a vector, ie lenght in a mathematical sense. However, I still dont understand what is the question, as it seems you know how to calculate the norm. Let me ask again: Do you want to know how to read the number from a file?"}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478775552, "post_id": 40511055, "comment_id": 68292090, "body": "@tobi303: Yes, you&#39;re right. I know, in principle, to calculate the norm. But how can I read the data form the file and store the norm of the vector for many particle/or atom in a vector or array or so? What could be the syntax for that in C++? I need to make a loop over timestep, no of atoms/particles and store respectively their norms which changes over time."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1478781456, "post_id": 40511055, "comment_id": 68295745, "body": "you still dont get my point. There is no syntax in C++ for atoms! You have to split your problem into smaller subtask, Instead of &quot;how can I read the data form the file and store the norm of the vector for many particle/or atom in a vector or array or so?&quot; you should ask 1) How can I read the numbers from a file? and only then 2) how can I calculate the norm and store it in a vector and only then move on to the next strep. Once you do this, you will (hopefully) realize that reading numbers from a file needs zero knowledge of atoms :P"}, {"owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "edited": false, "score": 0, "creation_date": 1478782609, "post_id": 40511055, "comment_id": 68296410, "body": "No No I completely understood your point. Forget about &#39;atoms&#39; as I told this is just for representation purpose. Since I have to calculate the norm of many (particle/object/atom) things that why I chose to call it with a particular name (say atom), that&#39;s it! Now let&#39;s focus what you asked in 1) and 2). How could I do that? 1) read the numbers from the given type of file format and then 2)store those values (after calculating norm)?"}], "owner": {"reputation": 129, "user_id": 5448983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5390d80465e1082d2db215ac777325b?s=128&d=identicon&r=PG&f=1", "display_name": "baban", "link": "https://stackoverflow.com/users/5448983/baban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478711156, "creation_date": 1478706900, "last_edit_date": 1478711156, "question_id": 40511055, "link": "https://stackoverflow.com/questions/40511055/how-to-calculate-mean-squared-displacement-from-a-file-in-c", "title": "How to calculate Mean-squared displacement from a file in C++?", "body": "<p>I want to calculate the mean-squared displacements of atoms from a file in C++. I have the file where the atoms positions in each time step is written like below where 1..5 column respectively represents timestep, atom, and x,y,z co-ordinates of that atom.</p>\n\n<pre><code>Timestep = 0000000\n\n0000000   Fe      0     0     0\n0000000   Fe      0     1     0\n......    ..      ..    ..    ..\n\nTimestep = 1000000\n\n1000000   Fe      0     0     1\n1000000   Fe      0     0     2\n.......   ..      ..    ..    ..\nAnd so on...\n</code></pre>\n\n<p>What I want is the length of the vector difference of the atoms and the time difference and then calculate MSD in a separate file (say 'msd.txt') where the 1st column would be in this particular case 1000000 and the 2nd column would be ([001 - 000]^2 + [002 - 010]^2)/2 i.e., squared of the displacement of the atoms. The displacement of individual atom is simply the length of the vector difference of individual atom. As in this case the 1st atom moves to [001] position from [000] position. A simple C++ code would be really helpful in this regard as I am really new in C++. I have written a sample code for this as shown below: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint Natoms = 16; //Number of atoms\n\n\ndouble length() const  // computes the length of the vector\n  {\n    return sqrt(x * x + y * y + z * z);\n  }\n\n\nint main ()\n{\n  ofstream oFile(\"msd.txt\");\n  oFile &lt;&lt; \"# time  msd\" &lt;&lt; endl;\n  vector&lt;vector&lt;double&gt; &gt; table;  // stores 'dr' for all the atoms and different time steps\n   for (int t = 0; t &lt; MaxSteps; t++)\n   {\n        timestep = 1000\n        ct = (t+1)*timestep;\n        vector&lt;double&gt; column;\n        vector&lt;double&gt; rt; vector&lt;double&gt; r0;\n        for (int i = 0; i &lt; Natoms; i++)\n        {\n                double dr = rt[iTarget] - r0[iOrigin];\n                double dr2 = dr * dr;\n                column.push_back(dr2);\n        }\n        double sum_of_dr2 = 0. ; double MSD = 0. ;\n        for(std::vector&lt;double&gt;::iterator it = column.begin(); it != column.end(); ++it)\n                sum_of_dr2 += *it;\n\n        MSD = sum_of_dr2 * (1./(double)Natoms);\n        table.push_back(column);\n        oFile &lt;&lt; ct &lt;&lt; \"\\t\" &lt;&lt; MSD &lt;&lt; endl;\n   }\n  oFile.close();\n\n  return 0;\n}\n</code></pre>\n\n<p>But I don't know how to read from the given file so that I can have the <code>length</code> of the vector difference for each atom stored in <code>dr</code> in the sample code. Here <code>length</code> of the vector of 1st and 2nd atom after a time step 1000000 would be sqrt((0-0)^2+(0-0)^2+(0-1)^2) and sqrt((0-0)^2+(0-0)^2+(0-2)^2) resp. These data should be stored in <code>dr[i]</code> (say) where <code>i</code> = 1,2,..N is the no of atom.</p>\n"}, {"tags": ["c++", "compilation"], "comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 3, "creation_date": 1478706827, "post_id": 40510960, "comment_id": 68263960, "body": "My feeling is that, occasionally, these types of questions are worth answering. It&#39;s a more subtle variant of the ++i + i++ sort of thing."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1478706852, "post_id": 40510960, "comment_id": 68263980, "body": "Since the dupe doesn&#39;t have a c++ tag you might also be interested in reading <a href=\"http://stackoverflow.com/questions/4176328/undefined-behavior-and-sequence-points\" title=\"undefined behavior and sequence points\">stackoverflow.com/questions/4176328/&hellip;</a>"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1478706941, "post_id": 40510960, "comment_id": 68264037, "body": "I don&#39;t really like that dupe since this one has overloaded operators."}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "edited": false, "score": 0, "creation_date": 1478707375, "post_id": 40510960, "comment_id": 68264353, "body": "The dupe is inappropriate. It talks about undefined behaviour examples, but there is no undefined behaviour in this question - only implementation defined order of evaluation. Had it been <code>x &lt;&lt; x++ &lt;&lt;endl</code> that would be undefined, but not with pre-increment used like here"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1478708561, "post_id": 40510960, "comment_id": 68265097, "body": "This isn&#39;t the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1478708319, "post_id": 40511418, "comment_id": 68264951, "body": "C++ becomes a really great language - nobody knows what is correct and what is not."}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1478708601, "post_id": 40511418, "comment_id": 68265120, "body": "Order of evaluation vs undefined behaviour is particularly notorious for this. I have seen questions again and again in which contradictory answers are given by really quite knowledgeable people"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1478708732, "post_id": 40511418, "comment_id": 68265211, "body": "If you required to be a language lawyer just to realize if expression is valid or not then language has bad problems. I am afraid language writers disconnect with reality more and more. :("}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1478710784, "post_id": 40511418, "comment_id": 68266350, "body": "But you&#39;re not required to be a language lawyer to know that this example <i>just looks suspicious</i>. It takes some experience, but you don&#39;t need to recall the details to know it smells bad."}], "tags": [], "owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "is_accepted": false, "score": 2, "last_activity_date": 1478708000, "creation_date": 1478708000, "answer_id": 40511418, "question_id": 40510960, "link": "https://stackoverflow.com/questions/40510960/why-the-compiler-in-c-execute-a-command-before-another/40511418#40511418", "title": "Why the compiler in C++ execute a command before another?", "body": "<p>In a c++ expression, evaluation order of sub-expressions is not specified by the standard and is left as implementation-defined. Thus in your expression your expectation that the <code>x</code> part is evaluated before the <code>++x</code> part is unfounded: the standard makes no such requirement. In your case the <code>++x</code> sub-expression is evaluated first, resulting in 7 being passed as the parameter value in both cases of the <code>operator&lt;&lt;</code> invocation. It could just as easily have been the other way round, leading to your expected output: both are correct from the standard's point of view.</p>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1478711246, "post_id": 40512207, "comment_id": 68266612, "body": "Upvoted. I <i>think</i> this answer is correct, unlike mine which I&#39;ve deleted."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1478713257, "post_id": 40512207, "comment_id": 68267642, "body": "Cheers! The fine details of what goes wrong and why can be tricky, but fortunately they&#39;re not required to see that the original code is just <i>nasty</i>."}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1478713459, "post_id": 40512207, "comment_id": 68267745, "body": "@Useless AFAIK, <code>cout &lt;&lt; x &lt;&lt; endl &lt;&lt; ++x &lt;&lt; endl;</code> is unspecified from C++17, it&#39;s not undefined anymore"}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1478713774, "post_id": 40512207, "comment_id": 68267904, "body": "I think that&#39;s what I said, isn&#39;t it?"}], "tags": [], "owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "is_accepted": true, "score": 3, "last_activity_date": 1478710596, "creation_date": 1478710596, "answer_id": 40512207, "question_id": 40510960, "link": "https://stackoverflow.com/questions/40510960/why-the-compiler-in-c-execute-a-command-before-another/40512207#40512207", "title": "Why the compiler in C++ execute a command before another?", "body": "<pre><code>cout &lt;&lt; x &lt;&lt; endl &lt;&lt; ++x &lt;&lt; endl;\n</code></pre>\n\n<p>translates to</p>\n\n<pre><code>cout.operator&lt;&lt;(x).operator&lt;&lt;(endl).operator&lt;&lt;(++x).operator&lt;&lt;(endl);\n</code></pre>\n\n<p>(where each <code>operator&lt;&lt;</code> call returns a reference to cout for precisely this call chaining), and this is essentially the same as</p>\n\n<pre><code>operator&lt;&lt;(operator&lt;&lt;(operator&lt;&lt;(cout, x), endl), ++x)\n</code></pre>\n\n<p>(with the last/outermost call discarded for clarity, and the member function call rewritten as an equivalent free function).</p>\n\n<p>Ignoring the <code>endl</code> (which doesn't touch <code>x</code>), the critical part is just a function call of the form</p>\n\n<pre><code>struct C;\nC&amp; f(C&amp;, int);\n...\nf(f(c, x), ++x)\n</code></pre>\n\n<p>and, like any other function call, the order in which its arguments are evaluated is not defined.  That is, the compiler can emit</p>\n\n<pre><code>int a = f(c, x);\nint b = ++x;\nf(a, b);\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>int b = ++x;\nint a = f(c, x);\nf(a, b);\n</code></pre>\n\n<p>There are good reasons for leaving this evaluation order <em>unspecified</em> (not undefined): different platforms have different calling conventions, and it gives the optimiser more room to manoeuvre.</p>\n\n<p>Still, if <em>you</em> care about the order in which they're evaluated, <em>you</em> have to make it explicit.</p>\n"}], "owner": {"reputation": 45, "user_id": 4735580, "user_type": "registered", "profile_image": "https://graph.facebook.com/1641934096039296/picture?type=large", "display_name": "Mahmoud Sami", "link": "https://stackoverflow.com/users/4735580/mahmoud-sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 40512207, "answer_count": 2, "score": 1, "last_activity_date": 1478710596, "creation_date": 1478706617, "question_id": 40510960, "link": "https://stackoverflow.com/questions/40510960/why-the-compiler-in-c-execute-a-command-before-another", "title": "Why the compiler in C++ execute a command before another?", "body": "<p>could anyone please explain why when i write this code</p>\n\n<pre><code>    int x = 6;\n    cout &lt;&lt; x &lt;&lt; endl &lt;&lt; ++x &lt;&lt; endl;\n</code></pre>\n\n<p>the output is \n7\n7</p>\n\n<p>instead of </p>\n\n<p>6\n7</p>\n\n<p>sorry i'm a beginner in this language , when i moved from VB.Net to C++ i feel it's more complicated ..</p>\n"}, {"tags": ["c++", "qt", "sqlite"], "comments": [{"owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "edited": false, "score": 0, "creation_date": 1478706483, "post_id": 40510818, "comment_id": 68263728, "body": "Do you want your query to select information on a specific date?"}, {"owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1478706536, "post_id": 40510818, "comment_id": 68263771, "body": "Can you write what you want to get and what you are getting?"}, {"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "reply_to_user": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1478706763, "post_id": 40510818, "comment_id": 68263912, "body": "@Marco select rows from db , where the date in rows is betwwen date i select ( fromdate - todate )"}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478717053, "post_id": 40511001, "comment_id": 68269495, "body": "i used:  <code>CartItems-&gt;setQuery(QString(&quot;SELECT * from main.sell_cash_log WHERE strftime(&#39;%Y-%m-%d %H:%M:%S&#39;,&#39;when&#39;) BETWEEN &#39;%1&#39; AND &#39;%2&#39;&quot;).arg(ui-&gt;fromdate-&gt;dateTime().toString(&quot;yyyy-MM-dd hh:mm:ss&quot;)).arg(ui-&gt;todate-&gt;dateTime().toString(&quot;yyyy-MM-dd hh:mm:ss&quot;)));</code> but it still not work , note I&#39;m using <code>QSqlQueryModel</code> for this query and QTableView to view the query"}, {"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478718455, "post_id": 40511001, "comment_id": 68270168, "body": "I&#39;ve also tried <code>CartItems-&gt;setQuery(QString(&quot;SELECT * from main.sell_cash_log WHERE date(&#39;when&#39;) BETWEEN date(&#39;%1&#39;) AND date(&#39;%2&#39;)&quot;).arg(ui-&gt;fromdate-&gt;dateTime().toString(&quot;yyyy-MM-&zwnj;&#8203;dd hh:mm:ss&quot;)).arg(ui-&gt;todate-&gt;dateTime().toString(&quot;yyyy-MM-dd hh:mm:ss&quot;)));</code>"}, {"owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "reply_to_user": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478722812, "post_id": 40511001, "comment_id": 68272252, "body": "can you verify that the string outputs from your dates look right?"}, {"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478723306, "post_id": 40511001, "comment_id": 68272521, "body": "<a href=\"http://image.prntscr.com/image/5d20d5ac26ac40b5bf6f7659bcd36a88.png\" rel=\"nofollow noreferrer\">img</a> that is my db data , and that is the qdebug for the query : <code>&quot;SELECT * from main.sell_cash_log WHERE strftime(&#39;%Y-%m-%d%H:%M:%S&#39;,&#39;when&#39;) BETWEEN &#39;2015-11-0900:00:00&#39; AND &#39;2016-11-0900:00:00&#39;&quot;</code>"}, {"owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "reply_to_user": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478725797, "post_id": 40511001, "comment_id": 68273785, "body": "You need a space between the hour and the day.   <code>&#39;2015-11-0900:00:00&#39;</code> should be <code>&#39;2015-11-09 00:00:00&#39;</code>"}, {"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478727413, "post_id": 40511001, "comment_id": 68274559, "body": "oh yes sry i only was testing it without space , this with space <code>&quot;SELECT * from main.sell_cash_log WHERE strftime(&#39;%Y-%m-%d %H:%M:%S&#39;,&#39;when&#39;) BETWEEN &#39;2015-11-09 00:00:00&#39; AND &#39;2016-11-09 00:00:00&#39;&quot;</code> and same problem"}, {"owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "reply_to_user": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478734738, "post_id": 40511001, "comment_id": 68277279, "body": "Ok, those two dates are the same,  there is nothing between &#39;2015-11-09 00:00:00&#39; AND &#39;2016-11-09 00:00:00&#39;     you&#39;d need to change one to be a different day like &#39;2015-11-09 00:00:00&#39; AND &#39;2016-11-10 00:00:00&#39;"}, {"owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "edited": false, "score": 0, "creation_date": 1478770910, "post_id": 40511001, "comment_id": 68288968, "body": "no not the same , one is on 2015 year and the other is on 2016 !"}], "tags": [], "owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1478706752, "last_edit_date": 1495535557, "creation_date": 1478706752, "answer_id": 40511001, "question_id": 40510818, "link": "https://stackoverflow.com/questions/40510818/qdatetime-with-sqlite3/40511001#40511001", "title": "QDateTime with sqlite3", "body": "<p>You're probably better off using one of the date operaterators to get info for a specific date </p>\n\n<p><a href=\"https://www.tutorialspoint.com/sqlite/sqlite_data_types.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/sqlite/sqlite_data_types.htm</a></p>\n\n<p>To select all in the month of November:  </p>\n\n<p><code>SELECT * FROM main.sell_cash_log WHERE strftime('%Y-%m-%d', when) BETWEEN \"11-01-2016\" AND \"11-31-2016\"</code></p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/8187288/sql-select-between-dates\">SQL Select between dates</a> which is where I copied that query q</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "is_accepted": true, "score": 0, "last_activity_date": 1478813158, "creation_date": 1478813158, "answer_id": 40537280, "question_id": 40510818, "link": "https://stackoverflow.com/questions/40510818/qdatetime-with-sqlite3/40537280#40537280", "title": "QDateTime with sqlite3", "body": "<p>The problem was by the field called when , in insert query i was useing escape string ('when') but with select not work (' ' ) so i used (<code>when</code>) and it's workd :\n:</p>\n\n<pre><code>CartItems-&gt;setQuery(QString(\"SELECT * from main.sell_cash_log WHERE datetime(`when`) BETWEEN datetime('%1') AND datetime('%2')\").arg(ui-&gt;fromdate-&gt;dateTime().toString(\"yyyy-MM-dd hh:mm:ss\")).arg(ui-&gt;todate-&gt;dateTime().toString(\"yyyy-MM-dd hh:mm:ss\")));\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 6875705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8dIkX.png?s=128&g=1", "display_name": "Ibrahim.Sluma", "link": "https://stackoverflow.com/users/6875705/ibrahim-sluma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 40537280, "answer_count": 2, "score": 0, "last_activity_date": 1478813158, "creation_date": 1478706191, "question_id": 40510818, "link": "https://stackoverflow.com/questions/40510818/qdatetime-with-sqlite3", "title": "QDateTime with sqlite3", "body": "<p>I'm using Sqlite3 with Qt , anyway to save the DateTime form in the db i used Text type , see this from my db :\n<a href=\"https://i.stack.imgur.com/Sf1ZC.jpg\" rel=\"nofollow noreferrer\">data</a></p>\n\n<p>so the INSERT and SELECT is work very , but how i could make specific SELECT !</p>\n\n<p>my code :</p>\n\n<pre><code>QString(\"SELECT * from main.sell_cash_log WHERE 'when' &gt;= '%1' AND 'when' &lt;= '%2'\").arg(ui-&gt;fromdate-&gt;dateTime().toString(\"dd-MM-yyyy:HH-mm-ss\")).arg(ui-&gt;todate-&gt;dateTime().toString(\"dd-MM-yyyy:HH-mm-ss\"))\n</code></pre>\n"}, {"tags": ["java", "android", "c++"], "answers": [{"tags": [], "owner": {"reputation": 3047, "user_id": 1167428, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6a8f86800ac12de3897d00d7b265eb93?s=128&d=identicon&r=PG", "display_name": "lupz", "link": "https://stackoverflow.com/users/1167428/lupz"}, "is_accepted": true, "score": 2, "last_activity_date": 1478706780, "creation_date": 1478706780, "answer_id": 40511013, "question_id": 40510796, "link": "https://stackoverflow.com/questions/40510796/android-project-change-part-of-java-code-into-c/40511013#40511013", "title": "Android project change part of Java code into C++", "body": "<p>There generally is support for native C/C++ in Android (and AndroidStudio IDE) through the <a href=\"https://developer.android.com/ndk/index.html\" rel=\"nofollow noreferrer\">Android NDK API</a>.</p>\n\n<p>But it requires more than just declaring a method to be written in native language. Basically you need to create a native library and link it to your Android Project.</p>\n"}], "owner": {"reputation": 165, "user_id": 5915300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3235753b7e5ce283062178c7df9a6d47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Dawn", "link": "https://stackoverflow.com/users/5915300/tom-dawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 40511013, "answer_count": 1, "score": 0, "last_activity_date": 1478706780, "creation_date": 1478706129, "question_id": 40510796, "link": "https://stackoverflow.com/questions/40510796/android-project-change-part-of-java-code-into-c", "title": "Android project change part of Java code into C++", "body": "<p>I have a complete Android project, its working well. However, I want to change part of the java code into C++, is that possible? For example, I have one particular function like </p>\n\n<pre><code>protected long convert64to32 (long long_id) {\n        return long_id - 76561197960265728L;\n}\n</code></pre>\n\n<p>While keeping the rest of my code the same as before, I only want to change convert64to32 into a C++ function, and keeping the connection with the rest Java code, is that possible?</p>\n"}, {"tags": ["c++", "arrays", "pointers", "memory"], "answers": [{"tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1478706767, "creation_date": 1478706767, "answer_id": 40511008, "question_id": 40510777, "link": "https://stackoverflow.com/questions/40510777/using-memcpy-to-widen-the-size-of-an-array-of-pointers/40511008#40511008", "title": "Using Memcpy to widen the size of an array of pointers", "body": "<p>You need to make <code>arr</code> be of type <code>Node**</code>.  Something like </p>\n\n<pre><code>size_t maxSize = 10;\nNode** arr = new Node*[maxSize];\n</code></pre>\n\n<p>in the class declaration should do.</p>\n\n<p>You now need a destructor (to free the memory), a copy constructor (to create a copy of the array), and a copy assignment operator (or you can delete the last two).  If efficiency is important, you'll want a move constructor and a move assignment operator too.</p>\n\n<p>Alternatively, rather than creating the initial arr on the heap, you could write:</p>\n\n<pre><code>static const initial_maxSize = 10;\nsize_t maxSize = initial_maxSize;\nNode* initialArr[initial_maxSize];\nNode** arr = &amp;initialArr;  // Initialize arr to point at the array.\n</code></pre>\n\n<p>When you come to delete <code>arr</code>, you will need:</p>\n\n<pre><code>    if (arr != initialArr)\n        delete [] arr;\n</code></pre>\n\n<p>... it's important not to delete something you didn't get from <code>new</code>.</p>\n\n<p>Finally, really please reconsider using vectors.  It makes a lot of this much simpler, and will have essentially no overhead over your own implementation (and is actually likely to be faster/more compact).</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 4, "last_activity_date": 1478707923, "last_edit_date": 1478707923, "creation_date": 1478706841, "answer_id": 40511034, "question_id": 40510777, "link": "https://stackoverflow.com/questions/40510777/using-memcpy-to-widen-the-size-of-an-array-of-pointers/40511034#40511034", "title": "Using Memcpy to widen the size of an array of pointers", "body": "<blockquote>\n<pre><code>Node* arr[10]\n</code></pre>\n</blockquote>\n\n<p><code>arr</code> is an array of 10 pointers to <code>Node</code>.</p>\n\n<p>What's more, it is an automatic member variable. It is stored as a sub-object of a \"Class\" instance.</p>\n\n<blockquote>\n<pre><code>delete[] arr;\n</code></pre>\n</blockquote>\n\n<p>You may not call <code>delete[]</code> on a member array. This has undefined behaviour. You may only call <code>delete[]</code> on a <strong>pointer</strong> (which <code>arr</code> is not) that was returned by a call to <code>new[]</code>.</p>\n\n<blockquote>\n  <p>It is set up with the size of ten <em>originally</em> ...</p>\n</blockquote>\n\n<p>The type of the member is \"array of 10 objects\". The type of a variable will never change during execution of the program. Therefore the size of the member will never change. If the size is 10 \"originally\", it is always 10.</p>\n\n<blockquote>\n<pre><code>Node** newArr\n</code></pre>\n</blockquote>\n\n<p><code>newArr</code> is a pointer to a pointer to a <code>Node</code>. This is fundamentally different from an array.</p>\n\n<blockquote>\n<pre><code>= new Node*[newSize];\n</code></pre>\n</blockquote>\n\n<p><code>newArr</code> is initialized to point to the first element of a dynamically allocated array of pointers.</p>\n\n<blockquote>\n<pre><code>arr = newArr;\n</code></pre>\n</blockquote>\n\n<p>This is wrong. You can not assign to an array.</p>\n\n<hr>\n\n<p>Instead of a member array that cannot be resized, you could use a member pointer that can point to a dynamically allocated array. This member pointer can be assigned to point another, bigger array (just remember to not leak the previous array).</p>\n\n<p>Manual memory management is easy to do wrong however, and it would be handy to wrap the member pointer that I described within a container that allocates the dynamic memory, and relases it on destruction. There already exists such container in the standard library: <code>std::vector</code>.</p>\n\n<pre><code>//Part Of Class\nprivate:                \nstd::vector&lt;Node*&gt; arr = std::vector&lt;Node*&gt;(10);\n\n\n//Part Of Method\narr.resize(arr.size() * 2);\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 2507223, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3150c36f7f63220b3b28fbe7e622305d?s=128&d=identicon&r=PG", "display_name": "connormcwood", "link": "https://stackoverflow.com/users/2507223/connormcwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478707923, "creation_date": 1478706062, "question_id": 40510777, "link": "https://stackoverflow.com/questions/40510777/using-memcpy-to-widen-the-size-of-an-array-of-pointers", "title": "Using Memcpy to widen the size of an array of pointers", "body": "<p>As the title suggests I am wanting to recreate an array which will have a different size than the original one. </p>\n\n<p>My original array is created when a class is initiated and it is in the private member of the class. The array is called Node* arr[10]. It is set up with the size of ten originally and once the application requires more space for the length I wish to create a a new array using memcpy which will be the same as original arr but the only difference would be its max size. </p>\n\n<p>Below is the code I have come up with however I am met with an error.</p>\n\n<pre><code>//Part Of Class\nprivate:                \nNode* arr[10];\n\n\n//Part Of Method\n\nsize_t newSize = size * 2;\n            Node** newArr = new Node*[newSize];\n            memcpy(newArr, arr, size * sizeof(Node*));\n            maxSize = newSize;\n            delete[] arr;\n            arr = newArr;\n</code></pre>\n\n<p>The error is shown at the last line, arr = newArr, and it states that it cannot convert from Node** to Node*[10]. Why exactly is this? Is it because Arr is initiated when the class first is?</p>\n\n<p>Hovering over newArr shows Node** while hovering arr shows Node* Map::arr[10]. Could someone please explain my options with this as I am wanting to stick with arrays and I do not want to change over to vectors. I understand the issue is with them not being classed as the same type however if I remove the second asterisk on the newArr = new Node* ect line it says it cannot convert too. </p>\n\n<p>Thank you for taking the type to read my issue and I hope the question is in the correct format, Regards</p>\n"}, {"tags": ["c++", "inheritance", "vector", "move-semantics", "unique-ptr"], "comments": [{"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 1, "creation_date": 1478705893, "post_id": 40510605, "comment_id": 68263360, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17473900/unique-ptr-to-a-base-class\">unique_ptr to a base class</a>"}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 1058673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3ef72ab3f23223342bbb26f53339bed?s=128&d=identicon&r=PG", "display_name": "Marcin Kolny", "link": "https://stackoverflow.com/users/1058673/marcin-kolny"}, "is_accepted": false, "score": 8, "last_activity_date": 1478706220, "last_edit_date": 1478706220, "creation_date": 1478705912, "answer_id": 40510728, "question_id": 40510605, "link": "https://stackoverflow.com/questions/40510605/add-unique-ptr-of-derived-class-to-vector-of-base-class-unique-ptr/40510728#40510728", "title": "Add unique_ptr of derived class to vector of base class unique_ptr", "body": "<p>unique_ptr guarantees that it's only one pointer that points to the memory, so you can't just copy it to the vector, you need to move it:</p>\n\n<pre><code>vec.push_back(std::move(derivedObject));\n</code></pre>\n\n<p>If you look at the unique_ptr constructors (<a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr/unique_ptr\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/memory/unique_ptr/unique_ptr</a>) you see, that this class doesn't implement the copy constructor, but implements move constructor (<a href=\"http://en.cppreference.com/w/cpp/language/move_constructor\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/move_constructor</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 3, "last_activity_date": 1478706085, "creation_date": 1478706085, "answer_id": 40510787, "question_id": 40510605, "link": "https://stackoverflow.com/questions/40510605/add-unique-ptr-of-derived-class-to-vector-of-base-class-unique-ptr/40510787#40510787", "title": "Add unique_ptr of derived class to vector of base class unique_ptr", "body": "<p>This is because you cannot copy a <code>std::unique_ptr</code>. The problem is solvable using <code>std::move()</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;vector&gt;\n\nstruct Base {\n};\n\nstruct Derived : public Base {\n};\n\nint main()\n{\n    std::unique_ptr&lt;Derived&gt; derivedObject;\n    std::vector&lt;std::unique_ptr&lt;Base&gt;&gt; vec;\n\n    vec.push_back(std::move(derivedObject));    \n               // ^^^^^^^^^^             ^\n}\n</code></pre>\n\n<p>Here's a <a href=\"http://coliru.stacked-crooked.com/a/7419e7e4d80c4056\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 603, "user_id": 1058673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3ef72ab3f23223342bbb26f53339bed?s=128&d=identicon&r=PG", "display_name": "Marcin Kolny", "link": "https://stackoverflow.com/users/1058673/marcin-kolny"}, "edited": false, "score": 0, "creation_date": 1478707112, "post_id": 40511044, "comment_id": 68264179, "body": "If you want to create object and push it to the vector at the same time, I&#39;d rather recommend to use emplace_back function: vec.emplace_back(new Derived());"}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "reply_to_user": {"reputation": 603, "user_id": 1058673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3ef72ab3f23223342bbb26f53339bed?s=128&d=identicon&r=PG", "display_name": "Marcin Kolny", "link": "https://stackoverflow.com/users/1058673/marcin-kolny"}, "edited": false, "score": 0, "creation_date": 1478765593, "post_id": 40511044, "comment_id": 68286034, "body": "@Marcin lose the <code>new</code>, and you&#39;re right."}], "tags": [], "owner": {"reputation": 9645, "user_id": 1465553, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5b559f395549789c041652429444dc0a?s=128&d=identicon&r=PG", "display_name": "Saurav Sahu", "link": "https://stackoverflow.com/users/1465553/saurav-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1478710590, "last_edit_date": 1478710590, "creation_date": 1478706876, "answer_id": 40511044, "question_id": 40510605, "link": "https://stackoverflow.com/questions/40510605/add-unique-ptr-of-derived-class-to-vector-of-base-class-unique-ptr/40511044#40511044", "title": "Add unique_ptr of derived class to vector of base class unique_ptr", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"nofollow noreferrer\">cppreference about unique_ptr</a></p>\n\n<blockquote>\n  <p>If T is a derived class of some base B, then std::unique_ptr &lt; T > is implicitly convertible to std::unique_ptr &lt; B >.</p>\n</blockquote>\n\n<p>So, the problem is not of conversion failure. </p>\n\n<blockquote>\n  <p>The class satisfies the requirements of MoveConstructible and MoveAssignable, but not the requirements of either CopyConstructible or CopyAssignable. </p>\n</blockquote>\n\n<p>This is what causes the failure.  <code>unique_ptr</code> can be <em>moved</em> but can't be <em>copied</em>, as that would break the single-ownership agreement. </p>\n\n<hr>\n\n<p>So either use <code>std::move</code>, or use <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique\" rel=\"nofollow noreferrer\"><strong>make_derived</strong></a> directly:</p>\n\n<pre><code>vec.push_back(std::move(derivedObject));  //Option 1. When unique_ptr is already created.\nOR,\nvec.push_back(make_unique&lt;Derived&gt;());    //Option 2. New unique_ptr\n</code></pre>\n\n<p>Using option #2, you can <strong>avoid</strong> having a local variable for no purpose. Anyway upon performing <code>move</code> on <code>unique_ptr</code>, the object owned by the <code>unique_ptr</code> is disposed. <a href=\"http://ideone.com/rpPfDJ\" rel=\"nofollow noreferrer\">Demo.</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6031489"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3727, "favorite_count": 0, "closed_date": 1478741481, "answer_count": 3, "score": 5, "last_activity_date": 1591044156, "creation_date": 1478705526, "last_edit_date": 1591044156, "question_id": 40510605, "link": "https://stackoverflow.com/questions/40510605/add-unique-ptr-of-derived-class-to-vector-of-base-class-unique-ptr", "closed_reason": "Needs details or clarity", "title": "Add unique_ptr of derived class to vector of base class unique_ptr", "body": "<p>I have a <code>std::unique_ptr&lt;Derived&gt;</code> that I want to add to a <code>std::vector&lt;std::unique_ptr&lt;Base&gt;&gt;</code>.</p>\n\n<pre><code>std::unique_ptr&lt;Derived&gt; derivedObject;\nstd::vector&lt;std::unique_ptr&lt;Base&gt;&gt; vec;\n\nvec.push_back(derivedObject) // Invalid arguments\n</code></pre>\n"}, {"tags": ["c++", "qt"], "answers": [{"comments": [{"owner": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 1, "creation_date": 1478763076, "post_id": 40515672, "comment_id": 68284772, "body": "You have to enable the <a href=\"http://doc.qt.io/qt-5/qgraphicsitem.html#GraphicsItemFlag-enum\" rel=\"nofollow noreferrer\"><code>QGraphicsItem::ItemIsFocusable</code></a> flag for your items, if you want your scene to emit <code>focusItemChanged</code> signal. However, if all you want to do is change the image when an item is selected, then it would be better to create a class that inherits from <code>QGrapihcsItem</code> and draw a specific pixmap based on what <a href=\"http://doc.qt.io/qt-5/qgraphicsitem.html#isSelected\" rel=\"nofollow noreferrer\"><code>isSelected</code></a> returns."}], "tags": [], "owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "is_accepted": true, "score": 0, "last_activity_date": 1478724109, "creation_date": 1478724109, "answer_id": 40515672, "question_id": 40510585, "link": "https://stackoverflow.com/questions/40510585/changing-pixmap-assigned-to-non-selected-qgraphicsitems/40515672#40515672", "title": "Changing Pixmap assigned to non-selected QGraphicsItems", "body": "<p>So the simple solution would have been to use the QgraphicsScene SIGNAL focusItemChanged(), but for whatever reason, it simply would not emit.</p>\n\n<p>However, I was able to add a new list to grab all of the items in the scene, set their values to the \"off state\" image, and then run through and assign the \"on state\" image only to the one selected.</p>\n\n<pre><code>void MainWindow::whatIsSelected()\n{\n    QList&lt;QGraphicsItem *&gt; allItems_list = scene-&gt;items();\n    QList&lt;QGraphicsItem *&gt; selItem_list = scene-&gt;selectedItems();\n\n    foreach(QGraphicsItem* item, allItems_list)\n    {\n         //assign off state images\n    }\n\n    foreach(QGraphicsItem* item, selItem_list)\n    {\n         //assign on state image\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 40515672, "answer_count": 1, "score": 0, "last_activity_date": 1478724109, "creation_date": 1478705468, "last_edit_date": 1495535558, "question_id": 40510585, "link": "https://stackoverflow.com/questions/40510585/changing-pixmap-assigned-to-non-selected-qgraphicsitems", "title": "Changing Pixmap assigned to non-selected QGraphicsItems", "body": "<p>In my QGraphicsScene, I am adding several pointers. See initial thread <a href=\"https://stackoverflow.com/questions/40469417/identify-which-qpixmapitem-has-been-selected/40473052?noredirect=1#comment68192273_40473052\">Identify which QPixmapItem has been selected</a> </p>\n\n<p>These pointers have QPixmaps assigned to them. When I select on these pointers, I can get all of the information I have associated with them, except the ability to change the pixmap assigned to it when the pointer is NOT selected.</p>\n\n<p>basically, I can change the pixmap when its selected because that state is easy to pull from, but I'm not sure how to reset the other items back to their original image when they are no longer selected.</p>\n"}, {"tags": ["c++", "dll", "uwp"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1478711753, "post_id": 40510575, "comment_id": 68266893, "body": "You are chasing the wrong problem, this error is caused by your appx manifest missing the class you are trying to use.  In UWP it plays the same role as the registry used to play back in the olden days.  You of course left no clue whatsoever to guess why the manifest isn&#39;t being built correctly."}, {"owner": {"reputation": 185, "user_id": 5770775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/04a245dc38c10d48e98cac44fbf12c33?s=128&d=identicon&r=PG&f=1", "display_name": "hereswilson", "link": "https://stackoverflow.com/users/5770775/hereswilson"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1478712392, "post_id": 40510575, "comment_id": 68267215, "body": "@HansPassant I was just following the breadcrumbs of what seemed to be giving me the problem. I don&#39;t have any clues to what would make the app manifest be missing that class. I am trying to port <a href=\"https://github.com/mmaitre314/IpCamera\" rel=\"nofollow noreferrer\">this sample</a> from 8.1 to UWP. I thought it would be simple since they are pretty closely related. What should I do to give more clues as to my actual issue. I appreciate the help."}, {"owner": {"reputation": 78, "user_id": 1167019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2c967c2328daa435756fc90ff66c86?s=128&d=identicon&r=PG", "display_name": "ricebus", "link": "https://stackoverflow.com/users/1167019/ricebus"}, "edited": false, "score": 0, "creation_date": 1494858014, "post_id": 40510575, "comment_id": 74992801, "body": "Did you manage to fix this?"}, {"owner": {"reputation": 185, "user_id": 5770775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/04a245dc38c10d48e98cac44fbf12c33?s=128&d=identicon&r=PG&f=1", "display_name": "hereswilson", "link": "https://stackoverflow.com/users/5770775/hereswilson"}, "edited": false, "score": 1, "creation_date": 1494858423, "post_id": 40510575, "comment_id": 74993096, "body": "I don&#39;t think so. Ended up going in a different direction for getting video off a hololens in near realtime. <a href=\"https://github.com/Microsoft/HoloLensCompanionKit/tree/master/MixedRemoteViewCompositor\" rel=\"nofollow noreferrer\">github.com/Microsoft/HoloLensCompanionKit/tree/master/&hellip;</a>"}], "owner": {"reputation": 185, "user_id": 5770775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/04a245dc38c10d48e98cac44fbf12c33?s=128&d=identicon&r=PG&f=1", "display_name": "hereswilson", "link": "https://stackoverflow.com/users/5770775/hereswilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2900, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1478708238, "creation_date": 1478705450, "last_edit_date": 1478708238, "question_id": 40510575, "link": "https://stackoverflow.com/questions/40510575/win-10-64-bit-dll-problems", "title": "Win 10, 64 bit, dll problems", "body": "<p>I have a UWP app with some c++ code that creates an Ip Camera and Server. I was getting the class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG) exception so I tried to use regsvr32.exe on the dll, but then I got that the module failed to load. So then I went to dependency walker and got errors that all of these were missing. I have all the redistributable c++ packages installed according to add/remove programs. How would I fix this?</p>\n\n<pre><code>Error: At least one required implicit or forwarded dependency was not found.\nError: At least one module has an unresolved import due to a missing export function in an implicitly dependent module.\nError: Modules with different CPU types were found.\nWarning: At least one delay-load dependency module was not found.\nWarning: At least one module has an unresolved import due to a missing export function in a delay-load dependent module.\n\n\n\nAPI-MS-WIN-CORE-APIQUERY-L1-1-0.DLL\nAPI-MS-WIN-CORE-APPCOMPAT-L1-1-1.DLL\nAPI-MS-WIN-CORE-COM-L1-1-1.DLL\nAPI-MS-WIN-CORE-COMM-L1-1-0.DLL\nAPI-MS-WIN-CORE-CONSOLE-L2-1-0.DLL\nAPI-MS-WIN-CORE-CRT-L1-1-0.DLL\nAPI-MS-WIN-CORE-DATETIME-L1-1-1.DLL\nAPI-MS-WIN-CORE-DATETIME-L1-1-2.DLL\nAPI-MS-WIN-CORE-DEBUG-L1-1-1.DLL\nAPI-MS-WIN-CORE-DELAYLOAD-L1-1-1.DLL\nAPI-MS-WIN-CORE-ENCLAVE-L1-1-0.DLL\nAPI-MS-WIN-CORE-ERRORHANDLING-L1-1-1.DLL\nAPI-MS-WIN-CORE-ERRORHANDLING-L1-1-3.DLL\nAPI-MS-WIN-CORE-FIBERS-L1-1-1.DLL\nAPI-MS-WIN-CORE-FIBERS-L2-1-1.DLL\nAPI-MS-WIN-CORE-FILE-L1-2-1.DLL\nAPI-MS-WIN-CORE-FILE-L1-2-2.DLL\nAPI-MS-WIN-CORE-FILE-L2-1-1.DLL\nAPI-MS-WIN-CORE-FILE-L2-1-2.DLL\nAPI-MS-WIN-CORE-HEAP-L1-2-0.DLL\nAPI-MS-WIN-CORE-HEAP-L2-1-0.DLL\nAPI-MS-WIN-CORE-HEAP-OBSOLETE-L1-1-0.DLL\nAPI-MS-WIN-CORE-INTERLOCKED-L1-2-0.DLL\nAPI-MS-WIN-CORE-IO-L1-1-1.DLL\nAPI-MS-WIN-CORE-JOB-L1-1-0.DLL\nAPI-MS-WIN-CORE-LIBRARYLOADER-L1-2-0.DLL\nAPI-MS-WIN-CORE-LIBRARYLOADER-L1-2-2.DLL\nAPI-MS-WIN-CORE-LIBRARYLOADER-L2-1-0.DLL\nAPI-MS-WIN-CORE-LOCALIZATION-L1-2-1.DLL\nAPI-MS-WIN-CORE-LOCALIZATION-L2-1-0.DLL\nAPI-MS-WIN-CORE-LOCALIZATION-PRIVATE-L1-1-0.DLL\nAPI-MS-WIN-CORE-MEMORY-L1-1-2.DLL\nAPI-MS-WIN-CORE-MISC-L1-1-0.DLL\nAPI-MS-WIN-CORE-NAMEDPIPE-L1-2-0.DLL\nAPI-MS-WIN-CORE-NAMEDPIPE-L1-2-2.DLL\nAPI-MS-WIN-CORE-NAMESPACE-L1-1-0.DLL\nAPI-MS-WIN-CORE-NORMALIZATION-L1-1-0.DLL\nAPI-MS-WIN-CORE-PERFCOUNTERS-L1-1-0.DLL\nAPI-MS-WIN-CORE-PROCESSENVIRONMENT-L1-2-0.DLL\nAPI-MS-WIN-CORE-PROCESSSNAPSHOT-L1-1-0.DLL\nAPI-MS-WIN-CORE-PROCESSTHREADS-L1-1-2.DLL\nAPI-MS-WIN-CORE-PROCESSTHREADS-L1-1-3.DLL\nAPI-MS-WIN-CORE-PROCESSTOPOLOGY-L1-2-0.DLL\nAPI-MS-WIN-CORE-PSAPI-ANSI-L1-1-0.DLL\nAPI-MS-WIN-CORE-PSAPI-L1-1-0.DLL\nAPI-MS-WIN-CORE-REALTIME-L1-1-0.DLL\nAPI-MS-WIN-CORE-REGISTRY-L1-1-0.DLL\nAPI-MS-WIN-CORE-REGISTRY-L1-1-1.DLL\nAPI-MS-WIN-CORE-RTLSUPPORT-L1-2-0.DLL\nAPI-MS-WIN-CORE-SIDEBYSIDE-L1-1-0.DLL\nAPI-MS-WIN-CORE-SYNCH-L1-2-1.DLL\nAPI-MS-WIN-CORE-SYSINFO-L1-2-1.DLL\nAPI-MS-WIN-CORE-SYSINFO-L1-2-3.DLL\nAPI-MS-WIN-CORE-THREADPOOL-L1-2-0.DLL\nAPI-MS-WIN-CORE-THREADPOOL-LEGACY-L1-1-0.DLL\nAPI-MS-WIN-CORE-THREADPOOL-PRIVATE-L1-1-0.DLL\nAPI-MS-WIN-CORE-WINDOWSERRORREPORTING-L1-1-0.DLL\nAPI-MS-WIN-CORE-WINRT-STRING-L1-1-0.DLL\nAPI-MS-WIN-CORE-WOW64-L1-1-0.DLL\nAPI-MS-WIN-CORE-WOW64-L1-1-1.DLL\nAPI-MS-WIN-CORE-XSTATE-L2-1-0.DLL\nAPI-MS-WIN-EVENTING-CONSUMER-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-APPCONTAINER-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-AUDIT-L1-1-1.DLL\nAPI-MS-WIN-SECURITY-BASE-L1-2-0.DLL\nAPI-MS-WIN-SECURITY-BASE-PRIVATE-L1-1-1.DLL\nAPI-MS-WIN-SERVICE-CORE-L1-1-1.DLL\nAPI-MS-WIN-SERVICE-CORE-L1-1-2.DLL\nAPI-MS-WIN-SERVICE-MANAGEMENT-L1-1-0.DLL\nAPI-MS-WIN-SERVICE-MANAGEMENT-L2-1-0.DLL\nAPI-MS-WIN-SERVICE-PRIVATE-L1-1-1.DLL\nAPI-MS-WIN-SERVICE-PRIVATE-L1-1-2.DLL\nAPI-MS-WIN-SERVICE-WINSVC-L1-2-0.DLL\nMSVCP140_APP.DLL\nVCCORLIB140_APP.DLL\nVCRUNTIME140_APP.DLL\nAPI-MS-WIN-CORE-APPINIT-L1-1-0.DLL\nAPI-MS-WIN-CORE-ATOMS-L1-1-0.DLL\nAPI-MS-WIN-CORE-CRT-L2-1-0.DLL\nAPI-MS-WIN-CORE-DELAYLOAD-L1-1-0.DLL\nAPI-MS-WIN-CORE-IO-L1-1-0.DLL\nAPI-MS-WIN-CORE-KERNEL32-LEGACY-L1-1-1.DLL\nAPI-MS-WIN-CORE-KERNEL32-PRIVATE-L1-1-1.DLL\nAPI-MS-WIN-CORE-LOCALIZATION-L1-1-0.DLL\nAPI-MS-WIN-CORE-LOCALIZATION-OBSOLETE-L1-3-0.DLL\nAPI-MS-WIN-CORE-LOCALREGISTRY-L1-1-0.DLL\nAPI-MS-WIN-CORE-PRIVATEPROFILE-L1-1-1.DLL\nAPI-MS-WIN-CORE-REGISTRY-PRIVATE-L1-1-0.DLL\nAPI-MS-WIN-CORE-STRING-L2-1-0.DLL\nAPI-MS-WIN-CORE-STRING-OBSOLETE-L1-1-0.DLL\nAPI-MS-WIN-CORE-STRINGANSI-L1-1-0.DLL\nAPI-MS-WIN-CORE-VERSION-L1-1-0.DLL\nAPI-MS-WIN-CORE-VERSION-PRIVATE-L1-1-0.DLL\nAPI-MS-WIN-DEVICES-CONFIG-L1-1-1.DLL\nAPI-MS-WIN-DEVICES-QUERY-L1-1-1.DLL\nAPI-MS-WIN-EVENTING-CLASSICPROVIDER-L1-1-0.DLL\nAPI-MS-WIN-EVENTING-OBSOLETE-L1-1-0.DLL\nAPI-MS-WIN-GDI-INTERNAL-UAP-L1-1-0.DLL\nAPI-MS-WIN-POWER-BASE-L1-1-0.DLL\nAPI-MS-WIN-POWER-SETTING-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-CREDENTIALS-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-CREDENTIALS-L2-1-0.DLL\nAPI-MS-WIN-SECURITY-GROUPPOLICY-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-LSALOOKUP-L1-1-1.DLL\nAPI-MS-WIN-SECURITY-LSALOOKUP-L2-1-1.DLL\nAPI-MS-WIN-SECURITY-LSAPOLICY-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-PROVIDER-L1-1-0.DLL\nAPI-MS-WIN-SECURITY-SDDL-L1-1-0.DLL\nEXT-MS-WIN-ADVAPI32-NPUSERNAME-L1-1-0.DLL\nEXT-MS-WIN-ADVAPI32-NTMARTA-L1-1-0.DLL\nEXT-MS-WIN-ADVAPI32-REGISTRY-L1-1-0.DLL\nEXT-MS-WIN-ADVAPI32-SAFER-L1-1-0.DLL\nEXT-MS-WIN-APPMODEL-DAXCORE-L1-1-0.DLL\nEXT-MS-WIN-APPXDEPLOYMENTCLIENT-APPXDEPLOY-L1-1-0.DLL\nEXT-MS-WIN-APPXDEPLOYMENTCLIENT-APPXDEPLOYONECORE-L1-1-0.DLL\nEXT-MS-WIN-AUTHZ-CONTEXT-L1-1-0.DLL\nEXT-MS-WIN-COM-PSMREGISTER-L1-2-1.DLL\nEXT-MS-WIN-CORE-WINRT-REMOTE-L1-1-0.DLL\nEXT-MS-WIN-EDPUTIL-POLICY-L1-1-0.DLL\nEXT-MS-WIN-EVENTING-RUNDOWN-L1-1-0.DLL\nEXT-MS-WIN-FECLIENT-ENCRYPTEDFILE-L1-1-0.DLL\nEXT-MS-WIN-GDI-CLIPPING-L1-1-0.DLL\nEXT-MS-WIN-GDI-DC-CREATE-L1-1-1.DLL\nEXT-MS-WIN-GDI-DC-L1-2-0.DLL\nEXT-MS-WIN-GDI-DC-L1-2-1.DLL\nEXT-MS-WIN-GDI-DRAW-L1-1-1.DLL\nEXT-MS-WIN-GDI-DRAW-L1-1-3.DLL\nEXT-MS-WIN-GDI-FONT-L1-1-1.DLL\nEXT-MS-WIN-GDI-FONT-L1-1-3.DLL\nEXT-MS-WIN-GDI-INTERNAL-DESKTOP-L1-1-0.DLL\nEXT-MS-WIN-GDI-METAFILE-L1-1-1.DLL\nEXT-MS-WIN-GDI-METAFILE-L1-1-2.DLL\nEXT-MS-WIN-GDI-PATH-L1-1-0.DLL\nEXT-MS-WIN-GDI-PRINT-L1-1-0.DLL\nEXT-MS-WIN-GDI-PRIVATE-L1-1-0.DLL\nEXT-MS-WIN-GDI-WCS-L1-1-0.DLL\nEXT-MS-WIN-GPAPI-GROUPPOLICY-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-APPCOMPAT-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-DATETIME-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-ERRORHANDLING-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-FILE-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-QUIRKS-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-QUIRKS-L1-1-1.DLL\nEXT-MS-WIN-KERNEL32-REGISTRY-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-SIDEBYSIDE-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-WINDOWSERRORREPORTING-L1-1-0.DLL\nEXT-MS-WIN-KERNEL32-WINDOWSERRORREPORTING-L1-1-1.DLL\nEXT-MS-WIN-KERNELBASE-PROCESSTHREAD-L1-1-0.DLL\nEXT-MS-WIN-MRMCORER-RESMANAGER-L1-1-0.DLL\nEXT-MS-WIN-NTDSAPI-ACTIVEDIRECTORYCLIENT-L1-1-0.DLL\nEXT-MS-WIN-NTDSAPI-ACTIVEDIRECTORYCLIENT-L1-1-1.DLL\nEXT-MS-WIN-NTUSER-MESSAGE-L1-1-1.DLL\nEXT-MS-WIN-NTUSER-STRING-L1-1-0.DLL\nEXT-MS-WIN-NTUSER-SYNCH-L1-1-0.DLL\nEXT-MS-WIN-NTUSER-WINDOW-L1-1-1.DLL\nEXT-MS-WIN-PROFILE-EXTENDER-L1-1-0.DLL\nEXT-MS-WIN-PROFILE-LOAD-L1-1-0.DLL\nEXT-MS-WIN-RPC-SSL-L1-1-0.DLL\nEXT-MS-WIN-RTCORE-NTUSER-SYSPARAMS-L1-1-0.DLL\nEXT-MS-WIN-RTCORE-NTUSER-WINDOW-EXT-L1-1-0.DLL\nEXT-MS-WIN-SECURITY-CAPAUTHZ-L1-1-0.DLL\nEXT-MS-WIN-SECURITY-CHAMBERS-L1-1-0.DLL\nEXT-MS-WIN-SECURITY-EFSWRT-L1-1-1.DLL\nEXT-MS-WIN-SHELL32-SHELLCOM-L1-1-0.DLL\n</code></pre>\n"}, {"tags": ["python", "c++", "numpy", "boost"], "comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1478705228, "post_id": 40510484, "comment_id": 68262870, "body": "Shouldn&#39;t <code>inline void* init()</code> return something?"}, {"owner": {"reputation": 2622, "user_id": 2305545, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0c3a74411bc5997af03461a7b0458069?s=128&d=identicon&r=PG", "display_name": "NOhs", "link": "https://stackoverflow.com/users/2305545/nohs"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1478705317, "post_id": 40510484, "comment_id": 68262931, "body": "<code>import_array()</code> is a macro somewhere in the numpy headers that includes a return statement."}], "owner": {"reputation": 2622, "user_id": 2305545, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0c3a74411bc5997af03461a7b0458069?s=128&d=identicon&r=PG", "display_name": "NOhs", "link": "https://stackoverflow.com/users/2305545/nohs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 580, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478794195, "creation_date": 1478705125, "last_edit_date": 1478794195, "question_id": 40510484, "link": "https://stackoverflow.com/questions/40510484/segmentation-fault-using-boost-python-and-numpy", "title": "Segmentation fault using boost python and numpy", "body": "<p>I have a <code>boost::python</code> library and am using numpy (<em>not</em> <code>boost::numpy</code>). My Python script uses my library and functions without any issue. However, when my script ends, numpy segfaults. I have tried to generate a MWE that shows the issue.</p>\n\n<p>The following python script will segfault sometimes <em>after</em> finishing:</p>\n\n<p><code>test.py</code></p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import arrayTest\n\narr = arrayTest.getTestArray()\n\nprint(arr)\n</code></pre>\n\n<p><code>pythonModule.cpp</code></p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;boost/python.hpp&gt;\n\n#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\n#include &lt;numpy/ndarrayobject.h&gt;\n\n#include &lt;vector&gt;\n\nnamespace detail\n{\n    #if PY_MAJOR_VERSION &gt;= 3\n    inline void* init() \n    {\n        import_array();\n    }\n    #else\n    inline void init()\n    {\n        import_array();\n    }\n    #endif\n}\n\n\nboost::python::object getNPArray()\n{\n    using namespace boost::python;\n\n    auto data = std::vector&lt;double&gt;(2*3*4);\n    data.at(6) = 12;\n\n    npy_intp shape[3] = { 2,3,4 };\n\n    PyObject* obj = PyArray_New(\n        &amp;PyArray_Type, \n        3, \n        shape, \n        NPY_DOUBLE, \n        nullptr, \n        data.data(), \n        0, \n        NPY_ARRAY_FARRAY, \n        nullptr);\n\n    handle&lt;&gt; handle( obj );\n\n    numeric::array arr( handle );\n\n    return arr.copy();\n}\n\nBOOST_PYTHON_MODULE(arrayTest)\n{\n    detail::init();\n\n    using namespace boost::python;\n\n    numeric::array::set_module_and_type(\n            \"numpy\", \n            \"ndarray\");   \n\n    def(\"getTestArray\", &amp;getNPArray);\n}\n</code></pre>\n\n<p>To make it easy for you to compile I have also prepared a cmake script:</p>\n\n<p><code>CMakeLists.txt</code></p>\n\n<pre class=\"lang-cmake prettyprint-override\"><code>cmake_minimum_required(VERSION 3.6 FATAL_ERROR)\n\nproject(\"testArray\")\n\nset(Boost_USE_STATIC_LIBS OFF)\nset(Boost_USE_MULTITHREADED ON)\nset(Boost_USE_STATIC_RUNTIME OFF)\nfind_package(Boost COMPONENTS python3 REQUIRED)\nfind_package(PythonLibs 3 REQUIRED)\n\n# If you have your own findNumpy you can remove this part\nfind_package(PythonInterp 3)\n\nif(PYTHON_EXECUTABLE)\n    execute_process(\n        COMMAND \"${PYTHON_EXECUTABLE}\" -c \"try:  import numpy; print(numpy.get_include(), end='')\\nexcept:pass\\n\" OUTPUT_VARIABLE path)\n\n    execute_process(\n        COMMAND \"${PYTHON_EXECUTABLE}\" -c \"try:  import numpy; print(numpy.__version__, end='')\\nexcept:pass\\n\" OUTPUT_VARIABLE version)\n\n    find_path(PYTHON_NUMPY_INCLUDE_DIRS numpy/ndarrayobject.h\n        HINTS \"${path}\" \"${PYTHON_INCLUDE_PATH}\" NO_DEFAULT_PATH)\n\n    if(PYTHON_NUMPY_INCLUDE_DIRS)\n        set(PYTHON_NUMPY_VERSION ${version})\n    endif()\n\nelse()\n    message(SEND_ERROR \"Python executable not found =&gt; Cannot determine numpy location.\")\nendif()\n\ninclude(FindPackageHandleStandardArgs)\nfind_package_handle_standard_args(NumPy REQUIRED_VARS PYTHON_NUMPY_INCLUDE_DIRS VERSION_VAR PYTHON_NUMPY_VERSION)\n# end of findNumpy part\n\ninclude_directories(${PYTHON_INCLUDE_DIRS} ${PYTHON_NUMPY_INCLUDE_DIRS})\n\nset(libs \n    ${Boost_LIBRARIES}\n    ${PYTHON_LIBRARIES})\n\nadd_library(arrayTest SHARED pythonModule.cpp)\ntarget_link_libraries(arrayTest ${libs})\nset_target_properties(arrayTest\n    PROPERTIES\n        PREFIX \"\")\n</code></pre>\n\n<p><strong>Edit:</strong>\nIn the python documentation I found the following:</p>\n\n<blockquote>\n  <p>If data is passed to PyArray_NewFromDescr or PyArray_New, this memory must not be deallocated until the new array is deleted.</p>\n</blockquote>\n\n<p>So maybe I need to manually delete the array? How do I do this?</p>\n"}, {"tags": ["c++", "loops", "scheduling"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 12, "creation_date": 1478704762, "post_id": 40510316, "comment_id": 68262553, "body": "For this kind of precision, you need <a href=\"https://en.wikipedia.org/wiki/Real-time_operating_system\" rel=\"nofollow noreferrer\">a real-time operating system</a>. General-purpose OS won&#39;t let you achieve this - your program may be interrupted at any time by a driver, say. Anyway - what kind of problem are you trying to solve that, you feel, requires performance on the order of 10,000 FPS?"}, {"owner": {"reputation": 1, "user_id": 7118370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6c2bf0f1a535e50e3e5fe3f70e90bd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Ma", "link": "https://stackoverflow.com/users/7118370/raymond-ma"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1478705528, "post_id": 40510316, "comment_id": 68263100, "body": "Thank you for answering. I must use linux for the program. I am writing a software switch that need to *0.08 for every 100 microsecond for the counter for computing some data for other purpose. (computing congestion data for every port)"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1478705836, "post_id": 40510316, "comment_id": 68263312, "body": "You&#39;ll have to find another way to compute that data, I&#39;m afraid. If you explain what actual problem you are trying to solve, rather than your attempted solution (that you can&#39;t get to work anyway), you might get some help. See also: <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1478705884, "post_id": 40510316, "comment_id": 68263354, "body": "@RaymondMa Do you need to do it every 100 ms?  If it is 200 ms, would *.08 * .08 not work?  Could you record all activity with timestamps and decay them continuously?"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1478706222, "post_id": 40510316, "comment_id": 68263582, "body": "@RaymondMa You might want to look into the real time linux options. Some of them claim to be suitable for hard real time."}, {"owner": {"reputation": 1, "user_id": 7118370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6c2bf0f1a535e50e3e5fe3f70e90bd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Ma", "link": "https://stackoverflow.com/users/7118370/raymond-ma"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1478706385, "post_id": 40510316, "comment_id": 68263679, "body": "@Yakk As I am writing software switch that consider the congestion in the ports. The simple but not complete concept is  1. There is a thread to count++ when packet goes out from port i. 2.I need to reduce the counter with a regular time quickly. It is studied that I should multiply a value in 100 microseconds to keep the congestion data fresh."}, {"owner": {"reputation": 1, "user_id": 7118370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6c2bf0f1a535e50e3e5fe3f70e90bd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Ma", "link": "https://stackoverflow.com/users/7118370/raymond-ma"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1478706664, "post_id": 40510316, "comment_id": 68263851, "body": "@Yakk eg. 5 packets goes out in first 100 \u03bcs, 2 packet goes out in second 100 \u03bcs. Now, I expect to get 5*.08 + 2*.08 , instead of 7*.08*.08"}, {"owner": {"reputation": 1, "user_id": 7118370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6c2bf0f1a535e50e3e5fe3f70e90bd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Ma", "link": "https://stackoverflow.com/users/7118370/raymond-ma"}, "edited": false, "score": 0, "creation_date": 1478707003, "post_id": 40510316, "comment_id": 68264091, "body": "I will try studying the real time OS/ options, thank you very much."}, {"owner": {"reputation": 1637, "user_id": 6909048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2db37ccd50ab0fb72ce3532577b50b?s=128&d=identicon&r=PG", "display_name": "Andrey Turkin", "link": "https://stackoverflow.com/users/6909048/andrey-turkin"}, "edited": false, "score": 0, "creation_date": 1478709705, "post_id": 40510316, "comment_id": 68265766, "body": "It might be possible to do this on Linux but it&#39;ll have to be very heavily tuned OS to make sure your thread doesn&#39;t get stopped longer than tolerable (probably with -rt patched kernel). Maybe also with DPDK or something similar to get kernel out of the way when working with network."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1478707173, "creation_date": 1478707173, "answer_id": 40511138, "question_id": 40510316, "link": "https://stackoverflow.com/questions/40510316/c-accurately-do-action-in-every-100-microsecond-without-pausing/40511138#40511138", "title": "C++ accurately do action in &quot;every&quot; 100 microsecond without pausing", "body": "<p>Have N buckets, where N is large enough that scheduling delay won't be a problem.</p>\n\n<p>Keep track of the last time your decay code ran.</p>\n\n<p>When a new packet \"goes out\", put it in a bucket based on the last time your decay code ran (if less than 100 ms, bucket 0, if 200 ms, bucket 1, etc).</p>\n\n<p>When your decay code runs, calculate the current value after decaying everything properly and update the timestamp.</p>\n\n<p>Note that contention (the thread updating and the thread decaying) will remain a problem.  You can fix this to some extent with double or triple buffering of the counters, atomic flags and pointers, and busy-loops in the non-performance-sensitive code (say, the decay code).</p>\n\n<p>Alternatively, instead of recording counts, record time stamps.  Consume the buffer of time stamps, doing decay at that point.  Similar issues involving size of buffer and multiple threads remain, with similar solutions.</p>\n\n<p>Alternatively, do the decay math in the code that is doing the counting.</p>\n"}], "owner": {"reputation": 1, "user_id": 7118370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6c2bf0f1a535e50e3e5fe3f70e90bd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Ma", "link": "https://stackoverflow.com/users/7118370/raymond-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478707173, "creation_date": 1478704633, "question_id": 40510316, "link": "https://stackoverflow.com/questions/40510316/c-accurately-do-action-in-every-100-microsecond-without-pausing", "title": "C++ accurately do action in &quot;every&quot; 100 microsecond without pausing", "body": "<p>I writing a program that needs to loop regularly 100 microsecond for one loop. I have found the to loop regularly in a fixed time. But I find a problem when the time for looping is set to be too small.</p>\n\n<p>The following demo code (not complete code) is to:</p>\n\n<ol>\n<li>Increment the <code>count</code> every 100 microsecond.</li>\n<li>Show the <code>count</code> every 1 second.</li>\n</ol>\n\n<p>The expected result is showing approximately 10000 every second.</p>\n\n<p>But the <strong>result shows about four thousand a second</strong>.</p>\n\n<pre><code>void f2(int input)\n{\n    auto start = std::chrono::system_clock::now();\n    auto displayStart = std::chrono::system_clock::now();\n    while(true){    //keep looping quickly\n      auto now = std::chrono::system_clock::now();\n      auto interval = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(now - start);\n      if ( interval.count() &gt; input){   //if 100 microsecond do\n            count++;\n            start = std::chrono::system_clock::now();\n      }\n\n      auto displayNow = std::chrono::system_clock::now();\n      auto displayInterval = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(displayNow - displayStart);\n      if ( displayInterval.count() &gt; 1000000){  //if 1 second do\n        std::cout&lt;&lt; \"1 second count: \"&lt;&lt;count&lt;&lt;std::endl;\n        count=0;\n        displayStart = std::chrono::system_clock::now();\n\n      }\n\n    }\n\n}\n</code></pre>\n\n<p>After that <strong>I think CPU scheduling may be the problem for this</strong>. I have checked the program works normally in every loop . Each iteration takes about 100 microseconds which is accurate. But problem may occur when program/thread is paused and wait for CPU rescheduling.</p>\n\n<p>For example, and lets magnify the value for clearer illustration. The thread paused for 1 second. Normally it will increment for 10000 times. But now, for next iteration it check for >100 microsecond, so count++ and counter is reset as 1 second is passed. For this case, the count incremented only for 1.</p>\n\n<p>With the following code I modified, I can finish 10000 <code>count++</code> in a second. <strong>But the problem is those 10000 count is not evenly distributed in one second.</strong> Because this is only the demo program for testing. <strong>The action I actually want is to accurately do action in every 100 microsecond</strong>. But due to the pausing of thread, I still not find the solution to solve this.</p>\n\n<pre><code>void f2(int input)\n{\n    auto start = std::chrono::system_clock::now();\n    auto displayStart = std::chrono::system_clock::now();\n    while(true){    //keep looping quickly\n      auto now = std::chrono::system_clock::now();\n      auto interval = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(now - start);\n      if ( interval.count() &gt; input){   //if 100 microsecond do\n            for(int i=0;i&lt;interval.count()/input;i++){    //modified part\n                count++;\n            }\n            start = std::chrono::system_clock::now();\n\n      }\n\n\n      auto displayNow = std::chrono::system_clock::now();\n      auto displayInterval = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(displayNow - displayStart);\n      if ( displayInterval.count() &gt; 1000000){  //if 1 second do\n        std::cout&lt;&lt; \"1 second count: \"&lt;&lt;count&lt;&lt;std::endl;\n        count=0;\n        displayStart = std::chrono::system_clock::now();\n\n\n      }\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>Is there any way like:\neg. make process non pause. Keep it in CPU (not so possible)\nto make the counting action in demo program works every 100 microseconds?</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["c++", "qt"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 6197148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0e02975ce2cc589261ecc9eb88d7795?s=128&d=identicon&r=PG&f=1", "display_name": "Dinendal", "link": "https://stackoverflow.com/users/6197148/dinendal"}, "edited": false, "score": 0, "creation_date": 1478705266, "post_id": 40510447, "comment_id": 68262903, "body": "My vertical layout is in a groupbox which is in the central layout. How should I do it ?"}, {"owner": {"reputation": 230, "user_id": 1146127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4b392fb71921dc2c5c17938438d0190?s=128&d=identicon&r=PG", "display_name": "yman", "link": "https://stackoverflow.com/users/1146127/yman"}, "reply_to_user": {"reputation": 207, "user_id": 6197148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0e02975ce2cc589261ecc9eb88d7795?s=128&d=identicon&r=PG&f=1", "display_name": "Dinendal", "link": "https://stackoverflow.com/users/6197148/dinendal"}, "edited": false, "score": 0, "creation_date": 1478705641, "post_id": 40510447, "comment_id": 68263170, "body": "The hierarchy is not fully clear from your question, can you add it there? E.g. a screenshot of Object Inspector (if you develop in a QtCreator/Designer) would say a lot. Or specify as text."}, {"owner": {"reputation": 207, "user_id": 6197148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0e02975ce2cc589261ecc9eb88d7795?s=128&d=identicon&r=PG&f=1", "display_name": "Dinendal", "link": "https://stackoverflow.com/users/6197148/dinendal"}, "edited": false, "score": 0, "creation_date": 1478705857, "post_id": 40510447, "comment_id": 68263337, "body": "I&#39;ve added a picture"}, {"owner": {"reputation": 207, "user_id": 6197148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0e02975ce2cc589261ecc9eb88d7795?s=128&d=identicon&r=PG&f=1", "display_name": "Dinendal", "link": "https://stackoverflow.com/users/6197148/dinendal"}, "edited": false, "score": 0, "creation_date": 1478706391, "post_id": 40510447, "comment_id": 68263683, "body": "Ok, I have selected my groupbox and just clicked on Vertical Layout, previously the groupbox was put in a widget and now it is put in a VLayout even though it doesnt appear in the inspector. It works, thanks for the help"}], "tags": [], "owner": {"reputation": 230, "user_id": 1146127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e4b392fb71921dc2c5c17938438d0190?s=128&d=identicon&r=PG", "display_name": "yman", "link": "https://stackoverflow.com/users/1146127/yman"}, "is_accepted": true, "score": 1, "last_activity_date": 1478706568, "last_edit_date": 1478706568, "creation_date": 1478705019, "answer_id": 40510447, "question_id": 40510311, "link": "https://stackoverflow.com/questions/40510311/qt-resize-layout-when-adding-items/40510447#40510447", "title": "Qt - Resize layout when adding items", "body": "<p>First, instead of adding the <code>QVBoxLayout</code> as a child widget to the <code>groupBox</code> widget, set the <code>groupBox</code>'s layout directly. Just right-click on the <code>groupBox</code> line in the Object Inspector and in the menu select <em>Lay out</em> - <em>[something]</em>. This option might not be available if the widget has no childs - as a workaround, just add a dummy widget, set the layout and delete the dummy widget.</p>\n\n<p>Second, you need some kind of automatic layout on the parent widget as well, so do the same with <code>centralWidget</code>. Than <code>groupBox</code> will expand automatically as needed.</p>\n\n<p>If you break the layout of the parent (<code>centralWidget</code>), the size of the child widgets is fixed and cannot update automatically.</p>\n"}], "owner": {"reputation": 207, "user_id": 6197148, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0e02975ce2cc589261ecc9eb88d7795?s=128&d=identicon&r=PG&f=1", "display_name": "Dinendal", "link": "https://stackoverflow.com/users/6197148/dinendal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 40510447, "answer_count": 1, "score": 0, "last_activity_date": 1478706568, "creation_date": 1478704623, "last_edit_date": 1478705841, "question_id": 40510311, "link": "https://stackoverflow.com/questions/40510311/qt-resize-layout-when-adding-items", "title": "Qt - Resize layout when adding items", "body": "<p>I have a vertical layout I'm filling with file names.\nI have a QFileDialog to select files, then the slot is adding names to the layout.</p>\n\n<pre><code>void convertInterface::on_browseButton_clicked()\n{\n    fileNames = QFileDialog::getOpenFileNames(this, tr(\"Open File\"), \"./FilesToConvert\", tr(\"Test Files (*.txt)\"));\n    for each (QString item in fileNames)\n    {\n        QLabel *name = new QLabel(this);\n        name-&gt;setText(QFileInfo(item).fileName());\n        ui.mainLayout-&gt;addWidget(name);\n     }\n }\n</code></pre>\n\n<p>The result with 3 files :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mkjje.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mkjje.png\" alt=\"enter image description here\"></a></p>\n\n<p>The result with 3 more files, so 6 total :</p>\n\n<p><a href=\"https://i.stack.imgur.com/5TM5A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TM5A.png\" alt=\"enter image description here\"></a></p>\n\n<p>Overall layout :</p>\n\n<p><a href=\"https://i.stack.imgur.com/aKPyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aKPyI.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to resize the layout automatically ?</p>\n"}]