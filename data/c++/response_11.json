[{"tags": ["c++", "function", "fibonacci"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1427328155, "post_id": 29268756, "comment_id": 46738917, "body": "The expression <code>int fib[] = {0}</code> either declares an array of 1 element or is undefined behavior.  The problem is that the compiler doesn&#39;t know how many elements to initialize."}, {"owner": {"reputation": 37, "user_id": 4581836, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-KR7PXQYynHI/AAAAAAAAAAI/AAAAAAAAACg/HjcbVmiNJQ8/photo.jpg?sz=128", "display_name": "Benjamin Dagg", "link": "https://stackoverflow.com/users/4581836/benjamin-dagg"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427328410, "post_id": 29268756, "comment_id": 46738986, "body": "What size do I make the array if I dont know what number the user is going   to input?"}, {"owner": {"reputation": 10718, "user_id": 19465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ifVxa.jpg?s=128&g=1", "display_name": "Niall C.", "link": "https://stackoverflow.com/users/19465/niall-c"}, "edited": false, "score": 0, "creation_date": 1427329768, "post_id": 29268756, "comment_id": 46739365, "body": "Added some punctuation and removed some blank lines from the code fragment so it takes less vertical space."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4581836, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-KR7PXQYynHI/AAAAAAAAAAI/AAAAAAAAACg/HjcbVmiNJQ8/photo.jpg?sz=128", "display_name": "Benjamin Dagg", "link": "https://stackoverflow.com/users/4581836/benjamin-dagg"}, "edited": false, "score": 0, "creation_date": 1427328682, "post_id": 29268867, "comment_id": 46739074, "body": "I tried int &#39;int fib[99999];&#39; but it still gave me the error. How can I declare the number of elements in the set if I dont know how many numbers the user is going to want?"}], "tags": [], "owner": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "is_accepted": false, "score": 0, "last_activity_date": 1427329054, "last_edit_date": 1427329054, "creation_date": 1427328460, "answer_id": 29268867, "question_id": 29268756, "link": "https://stackoverflow.com/questions/29268756/trying-to-make-a-function-that-finds-the-fibonacci-number-of-a-user-input-number/29268867#29268867", "title": "Trying to make a function that finds the Fibonacci number of a user input number", "body": "<p>You defined <code>fib</code> with only one element, so buffer overflow occurs, To fix it, you can use dynamic memory allocation. Define <code>fib</code> as <code>int*</code> (pointer to int) and allocate with <code>fib=malloc(sizeof(int)*num);</code>, and don't forget to release with <code>free(fib);</code>. Or, if your compiler supports C99, you can use a variable-length array.</p>\n\n<p>And there's a better algorithm that doesn't need arrays. Because Fib(n) only depends on Fib(n-1) and Fib(n-2), you can use two variables to store Fib(n-1) and Fib(n-2), without storing previous elements.</p>\n"}, {"comments": [{"owner": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "edited": false, "score": 0, "creation_date": 1427329326, "post_id": 29268884, "comment_id": 46739245, "body": "It can be implemented with recursion, but it would be slow with a large <code>var</code>."}, {"owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "reply_to_user": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "edited": false, "score": 0, "creation_date": 1427358880, "post_id": 29268884, "comment_id": 46747314, "body": "If your concern is speed you could implement with templates, then the work is done at compile time leaving just a static look up at runtime"}], "tags": [], "owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "is_accepted": false, "score": 0, "last_activity_date": 1427328598, "creation_date": 1427328598, "answer_id": 29268884, "question_id": 29268756, "link": "https://stackoverflow.com/questions/29268756/trying-to-make-a-function-that-finds-the-fibonacci-number-of-a-user-input-number/29268884#29268884", "title": "Trying to make a function that finds the Fibonacci number of a user input number", "body": "<p>1The stack corruption is most likely because of your array</p>\n\n<pre><code>int fib[] = { 0 }\n</code></pre>\n\n<p>You've declared an int array of size 1, then immediately after access data beyond the bounds of the array</p>\n\n<pre><code>fib[1] = fib[2] = 1;\n</code></pre>\n\n<hr>\n\n<p>As for the Fibonacci sequence, it is particularly easy to implement with recursion;</p>\n\n<pre><code>int Fib(int var)\n{\n  if (var &lt; 1)\n  {\n    return 0;\n  }\n  else if (var == 1 || var == 2)\n  {\n    return 1;\n  }\n  else\n  {\n    return Fib(var-2)+Fib(var-1);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 4665516, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205091752027993/picture?type=large", "display_name": "Niklas Tampier Holmgren", "link": "https://stackoverflow.com/users/4665516/niklas-tampier-holmgren"}, "is_accepted": false, "score": 0, "last_activity_date": 1427329364, "creation_date": 1427329364, "answer_id": 29268991, "question_id": 29268756, "link": "https://stackoverflow.com/questions/29268756/trying-to-make-a-function-that-finds-the-fibonacci-number-of-a-user-input-number/29268991#29268991", "title": "Trying to make a function that finds the Fibonacci number of a user input number", "body": "<p>You have a principal problem, doing the loop until num - 1, you have to change it to:</p>\n\n<pre><code>                            for (i = 3; i &lt;= num; i++)\n                            {\n                                fib[i] = fib[i - 2] + fib[i - 1];\n                            }\n</code></pre>\n\n<p>to do the complete secuence. and maybe you have a problem initializing your array, you are not bound to do it, just declare it:</p>\n\n<pre><code>                            int fib [num]; //the size is because num gonna be the last element of your array.\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4581836, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-KR7PXQYynHI/AAAAAAAAAAI/AAAAAAAAACg/HjcbVmiNJQ8/photo.jpg?sz=128", "display_name": "Benjamin Dagg", "link": "https://stackoverflow.com/users/4581836/benjamin-dagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427339928, "creation_date": 1427327887, "last_edit_date": 1427339928, "question_id": 29268756, "link": "https://stackoverflow.com/questions/29268756/trying-to-make-a-function-that-finds-the-fibonacci-number-of-a-user-input-number", "title": "Trying to make a function that finds the Fibonacci number of a user input number", "body": "<p>I am trying to make a program where the user enters a number, then that number is entered into a function and it outputs the element of the Fibonacci sequence that that number is.</p>\n\n<p>It's giving me an error that says </p>\n\n<blockquote>\n  <p>stack around the variable 'fib' was corrupted</p>\n</blockquote>\n\n<p>I don't know if this is a logic error or a program error. Also I don't know if my logic for finding the Fibonacci number is correct.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint Fibonacci(int num)\n{\n    int fib[] = { 0 }, answer, i = 3;\n    fib[1] = fib[2] = 1;\n    fib[0] = 0;\n    for (i = 3; i &lt; num; i++)\n    {\n        fib[i] = fib[i - 2] + fib[i - 1];\n    }\n\n    answer = fib[num];\n    return answer;\n}\n\nint main()\n{\n    int user_number, i = 0;\n    cin &gt;&gt; user_number;\n    cout &lt;&lt; Fibonacci(user_number) &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1427327807, "post_id": 29268742, "comment_id": 46738798, "body": "Are you aware that the posted code is c++ and no c?"}, {"owner": {"reputation": 2556, "user_id": 1112325, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9TQdH.png?s=128&g=1", "display_name": "briba", "link": "https://stackoverflow.com/users/1112325/briba"}, "reply_to_user": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1427327867, "post_id": 29268742, "comment_id": 46738821, "body": "Thanks @iharob.. fixed! =)"}], "answers": [{"comments": [{"owner": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 5, "creation_date": 1427327959, "post_id": 29268769, "comment_id": 46738853, "body": "No, he must remember to use <code>std::vector</code>."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "reply_to_user": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 0, "creation_date": 1427327989, "post_id": 29268769, "comment_id": 46738860, "body": "That is your opinion, but there are legitimate situations where the code above makes sense. If you for example need the data to persist after a function call. Pointers are still useful in the c++ language."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 1, "creation_date": 1427328054, "post_id": 29268769, "comment_id": 46738883, "body": "Are &quot;we&quot; actually down voting answers based on OP&#39;s data structure types? That&#39;s just stupid."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1427331209, "post_id": 29268769, "comment_id": 46739766, "body": "@iharob what happens if an exception is thrown after the <code>new</code> but before the <code>delete</code> ?"}], "tags": [], "owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1427327942, "creation_date": 1427327942, "answer_id": 29268769, "question_id": 29268742, "link": "https://stackoverflow.com/questions/29268742/array-of-a-struct/29268769#29268769", "title": "Array of a struct", "body": "<p>You can't do this</p>\n\n<pre><code>stage_t[] stages = new stage_t[len];\n</code></pre>\n\n<p>it's invalid, it's not Java, in c++ you need to declare a pointer instead, like this</p>\n\n<pre><code>stage_t *stages = new stage_t[len];\n</code></pre>\n\n<p>the other syntax works for array declaration, arrays can be converted to pointers, and they are without any extra code, but when you need a dynamically allocated array you need to use a pointer.</p>\n\n<p>Also, you need to remember to</p>\n\n<pre><code>delete[] stages;\n</code></pre>\n"}], "owner": {"reputation": 2556, "user_id": 1112325, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9TQdH.png?s=128&g=1", "display_name": "briba", "link": "https://stackoverflow.com/users/1112325/briba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 29268769, "answer_count": 1, "score": 0, "last_activity_date": 1427328137, "creation_date": 1427327760, "last_edit_date": 1427328137, "question_id": 29268742, "link": "https://stackoverflow.com/questions/29268742/array-of-a-struct", "title": "Array of a struct", "body": "<p>I'm changing my code to work with arrays instead of a linked list.</p>\n\n<p>The fact is I'm receiving this error:</p>\n\n<blockquote>\n  <p>error: expected identifier or \u2018(\u2019 before \u2018[\u2019 token</p>\n</blockquote>\n\n<p>And I'm doing this:</p>\n\n<pre><code>typedef struct MyStage * stage_t;\n\nstruct MyStage {\n    ...\n}\n\nstage_t[] stages = new stage_t[len];\n</code></pre>\n\n<p>If I declare like this:</p>\n\n<pre><code>struct stage_t stages[len];\n</code></pre>\n\n<p>I receive an error like this:</p>\n\n<blockquote>\n  <p>error: array type has incomplete element type</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "c", "multiprocessing", "ipc", "daemon"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1427327405, "post_id": 29268650, "comment_id": 46738692, "body": "which part is tricky?"}], "answers": [{"tags": [], "owner": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "is_accepted": true, "score": 2, "last_activity_date": 1427327580, "creation_date": 1427327580, "answer_id": 29268718, "question_id": 29268650, "link": "https://stackoverflow.com/questions/29268650/forking-children-in-c-and-re-forking-when-they-die/29268718#29268718", "title": "Forking children in C and re-forking when they die", "body": "<p>Assuming Unix-like system, you can use <code>wait</code> or <code>waitpid</code> in the parent to monitor subprocesses synchronously. Alternatively, you can use <code>SIGCHLD</code> to monitor them asynchronously, and call <code>wait</code> or <code>waitpid</code> in the signal handler. You will get notified whenever a subprocesses terminates(including crashing).</p>\n\n<p>To re-fork a child with the same parameters when it crashes, you would have to record the parameters for each child.</p>\n"}], "owner": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29268718, "answer_count": 1, "score": 0, "last_activity_date": 1427327580, "creation_date": 1427327141, "question_id": 29268650, "link": "https://stackoverflow.com/questions/29268650/forking-children-in-c-and-re-forking-when-they-die", "title": "Forking children in C and re-forking when they die", "body": "<p>I have some code that forks a number of child \"workers\".    Child labor :(</p>\n\n<p>This works pretty good til a child dies due to some unpredictable error and the system throughput decreases.</p>\n\n<p>What's a good pattern for monitoring for the children crashing,  then re-forking them with the same params I fired them up with?     I haven't written this type of code before and it looks like a little tricky.</p>\n"}, {"tags": ["python", "c++", "arrays", "numpy", "swig"], "comments": [{"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1428065906, "post_id": 29268630, "comment_id": 47034730, "body": "Does <code>b.fun(array([1.,2.])</code> work?"}, {"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "reply_to_user": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1428363452, "post_id": 29268630, "comment_id": 47123340, "body": "Yes it does. But when I pass <code>b</code> into <code>m</code> it doesn&#39;t."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "edited": false, "score": 1, "creation_date": 1428446641, "post_id": 29268630, "comment_id": 47163327, "body": "@kchow462 If you want any working solution not using swig, I have done things like that using boost.python from C++ to python and again to C++ and even fork and now again to python. It&#39;s very tedious to find documentation, but the results and productivity makes my choice of that way. In my recent work django launches zerorpc interfaces from C++ and works fine."}, {"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "edited": false, "score": 0, "creation_date": 1428545390, "post_id": 29268630, "comment_id": 47211153, "body": "Thanks Mel. I might have to do this since there doesn&#39;t seem to a way of doing this with SWIG, or at least, I don&#39;t know of a way."}], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "edited": false, "score": 0, "creation_date": 1428544950, "post_id": 29526489, "comment_id": 47211054, "body": "I tried this but it doesn&#39;t seem to work. I added the <code>%new...</code> statement to my SWIG interface file, but it still gives me the same error. Also, it cannot resolve the fact that the C++ function takes in 2 arguments and the python one takes in 1."}], "tags": [], "owner": {"reputation": 1936, "user_id": 2557056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6yzZ.jpg?s=128&g=1", "display_name": "cseder", "link": "https://stackoverflow.com/users/2557056/cseder"}, "is_accepted": false, "score": 0, "last_activity_date": 1428532301, "creation_date": 1428532301, "answer_id": 29526489, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors/29526489#29526489", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>It looks like an ownership issue from Python.</p>\n\n<p>Provide a hint to SWIG:</p>\n\n<pre><code>%new double *fun(double* IN_ARRAY1, int DIM1) {(double* x, int n)};\n</code></pre>\n\n<p>Notice the pointer to the function itself as well.\nThe Python module will assign proper ownership of the object(s) when %new is used. That's why you can use values but not variables in the call.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8247202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JFnim_dNQFY/AAAAAAAAAAI/AAAAAAAAHvY/CvGTIe4HZtY/photo.jpg?sz=128", "display_name": "Carlos Mastalli", "link": "https://stackoverflow.com/users/8247202/carlos-mastalli"}, "is_accepted": false, "score": 0, "last_activity_date": 1509540650, "creation_date": 1509540650, "answer_id": 47055301, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors/47055301#47055301", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>It seems that director isn't recognizing your Python implementation of <code>fun(double* x, int n)</code>; it's not doing the overloading of that function.</p>\n\n<p>I suspect that the reason is due to of the fact that your Python implementation uses numpy as argument. Please note that the director will call either the abstract function or the implemented one.</p>\n\n<p>On the other hand, <code>%apply (double* IN_ARRAY1, int DIM1) {(double* x, int n)}</code> only declares the typemap logic for wrapping the function in Python, not to the director. Note that this is the reason why <code>b.fun(array([1.,2.])</code> works! Said that, you should declare the typemap logic to the director.</p>\n\n<p>Here you can find how to do it:</p>\n\n<pre><code>%typemap(directorin,numinputs=1) (double *x, int n)\n{\n    npy_intp dim = $2;\n    $input = PyArray_SimpleNewFromData(1, &amp;dim, NPY_DOUBLE, (void *)$1);\n}\n</code></pre>\n\n<p>Hope that this solves your problem and other futures ones :). I got a similar issue and spent few days trying to figure out.</p>\n"}], "owner": {"reputation": 903, "user_id": 1589038, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/8bf61dc0ede44f6244b053b251eb8725?s=128&d=identicon&r=PG", "display_name": "Bluegreen17", "link": "https://stackoverflow.com/users/1589038/bluegreen17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 582, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1509540650, "creation_date": 1427327072, "question_id": 29268630, "link": "https://stackoverflow.com/questions/29268630/passing-a-numpy-function-in-python-to-c-using-swig-directors", "title": "Passing a numpy function in python to C++ using SWIG directors", "body": "<p>My code is mainly in C++, but I want to use the SWIG director option to redefine a C++ virtual function in python, and then pass that function back to C++. The following is a simplified example. </p>\n\n<p>Here is my base class in C++ with a virtual function <code>fun</code>. <code>fun</code> takes in <code>(double* x, int n)</code> which allows me to pass a numpy array into it. </p>\n\n<pre><code>class base{\npublic:\n    virtual double fun(double* x, int n){return 0.0;}\n};\n</code></pre>\n\n<p>I have another class which takes in this base class:</p>\n\n<pre><code>class main{\npublic:\n    base* b_;\n\n    main(base&amp; b){\n        b_ = &amp;b; \n    }\n};\n</code></pre>\n\n<p>This class has a constructor which takes in a base class and stores a pointer to it (<code>b_</code>). </p>\n\n<p>I can successfully compile the swig interface into a module named <code>mymodule</code> making sure to enable directors (see SWIG interface file below), and, as per the SWIG director documentation, I inherit the base class and redefine the virtual function <code>fun</code> as follows:</p>\n\n<pre><code>import mymodule\nclass base(mymodule.base):\n    def __init__(self):\n        super(base,self).__init__()\n    def fun(self,x):\n        return x[0]\n</code></pre>\n\n<p>Then I pass it into the <code>main</code> class: </p>\n\n<pre><code>b = base()\nm = mymodule.main(b)\n</code></pre>\n\n<p>However, when I try <code>m.b_.fun(array([1.,2.]))</code> I get a <code>TypeError</code>:</p>\n\n<pre><code>TypeError: 'SwigPyObject' object has no attribute '__getitem__'\n</code></pre>\n\n<p>Any ideas on how to get this to work? I think when I pass <code>b</code> into mymodule.main, C++ is seeing <code>x</code> as a double * pointer and doesn't know what to do with it. </p>\n\n<p>By the way, here is my swig interface file:</p>\n\n<pre><code>%module(directors=\"1\") mymodule\n\n%{\n#define SWIG_FILE_WITH_INIT\n/* Includes the header in the wrapper code */\n#include \"myclasses.h\"\n%}\n\n%feature(\"director\") base;\n\n%init %{\nimport_array();\n%}\n\n%apply (double* IN_ARRAY1, int DIM1) {(double* x, int n)};\n\n/* Parse the header file to generate wrappers */\n%include \"myclasses.h\"\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1427327036, "post_id": 29268603, "comment_id": 46738584, "body": "and the error message is...?"}, {"owner": {"reputation": 1683, "user_id": 1098041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3277172b7213117c165e42611c0749a?s=128&d=identicon&r=PG", "display_name": "F&#233;lix Cantournet", "link": "https://stackoverflow.com/users/1098041/f%c3%a9lix-cantournet"}, "edited": false, "score": 2, "creation_date": 1427327552, "post_id": 29268603, "comment_id": 46738731, "body": "5k rep. Doesn&#39;t think it is appropriate to give compiler error message on compiler error question... Something is broken on stackoverflow."}, {"owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "reply_to_user": {"reputation": 1683, "user_id": 1098041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3277172b7213117c165e42611c0749a?s=128&d=identicon&r=PG", "display_name": "F&#233;lix Cantournet", "link": "https://stackoverflow.com/users/1098041/f%c3%a9lix-cantournet"}, "edited": false, "score": 0, "creation_date": 1427328251, "post_id": 29268603, "comment_id": 46738943, "body": "@F&#233;lixCantournet or the compiler error is on on my work machine.... and I am not."}, {"owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "reply_to_user": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "edited": false, "score": 0, "creation_date": 1427328262, "post_id": 29268603, "comment_id": 46738947, "body": "@Snps thanks, edited."}, {"owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "edited": false, "score": 0, "creation_date": 1427328971, "post_id": 29268603, "comment_id": 46739152, "body": "Error on GCC 4.9.2 is <code>error: no match for &#39;operator+&#39; (operand types are &#39;int&#39; and &#39;std::pair&lt;const int, float&gt;&#39;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328015, "post_id": 29268709, "comment_id": 46738865, "body": "Are you inferring Jerry&#39;s answer is not feasible?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328105, "post_id": 29268709, "comment_id": 46738901, "body": "@user997112 Yes, it appears he did overlook this fact (which someone else has now pointed out in a comment). It&#39;s a natural mistake to make."}, {"owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328139, "post_id": 29268709, "comment_id": 46738914, "body": "Is there a way to do this in two lines? Perhaps a for_each, with accumulate?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328157, "post_id": 29268709, "comment_id": 46738919, "body": "@user997112 So do you have C++11 support or not?"}, {"owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328330, "post_id": 29268709, "comment_id": 46738964, "body": "yes, I just dont like using auto too much, as I sometimes like to see the type declaration."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "edited": false, "score": 0, "creation_date": 1427328693, "post_id": 29268709, "comment_id": 46739079, "body": "@user997112 See my edit."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 5, "last_activity_date": 1427328679, "last_edit_date": 1427328679, "creation_date": 1427327515, "answer_id": 29268709, "question_id": 29268603, "link": "https://stackoverflow.com/questions/29268603/summing-together-same-key-items-from-a-multimap/29268709#29268709", "title": "Summing together same-key items from a multimap?", "body": "<p>There are four problems with this code:</p>\n\n<ol>\n<li>You have too many closing angle brackets.</li>\n<li>Your multimap probably shouldn't be named <code>multimap</code>. (Although this <em>might</em> not cause a compile error, it's pretty obvious that you shouldn't do it.)</li>\n<li>Dereferencing a multimap iterator gives a key-value <em>pair</em>, rather than just the value. So of course you can't sum these with <code>std::accumulate</code> directly.</li>\n<li>Even if you did this with a multiset instead of a multimap, so #3 wouldn't apply, passing <code>0</code> as the initial value will cause all the floats to be truncated as it would deduce type <code>int</code> for the accumulator... so you would probably get the wrong answer.</li>\n</ol>\n\n<p>It looks like you're stuck in 2003, since you actually wrote out the return type of <code>equal_range</code>, so I guess no lambdas or range-for-loops for you.</p>\n\n<pre><code>pair&lt;multimap&lt;int32_t, float&gt;::iterator,\n     multimap&lt;int32_t, float&gt;::iterator&gt; range = M.equal_range(an_int);\nfloat total = 0;\nfor (multimap&lt;int32_t, float&gt;::iterator I = range.first; I != range.second; ++I) {\n    total += I-&gt;second;\n}\n</code></pre>\n\n<p>Or avoid <code>equal_range</code> and that nasty declaration altogether...</p>\n\n<pre><code>float total = 0;\nfor (multimap&lt;int32_t, float&gt;::iterator I = M.lower_bound(an_int);\n     I != M.end() &amp;&amp; I-&gt;first == an_int;\n     ++I) {\n    total += I-&gt;second;\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Okay, so you do have C++11 support. So you can do this:</p>\n\n<pre><code>auto range = M.equal_range(an_int);\nfloat total = accumulate(range.first, range.second, 0.0,\n                         [](float x, pair&lt;int32_t, float&gt; y) { return x + y.second; });\n</code></pre>\n\n<p>(Note: If you have C++14 support, you can even replace <code>pair&lt;int32_t, float&gt;</code> by <code>auto</code> in the lambda.)</p>\n"}, {"comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "edited": false, "score": 0, "creation_date": 1427329139, "post_id": 29268712, "comment_id": 46739189, "body": "@Snps: Oops--quite right. Corrected."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 3, "last_activity_date": 1427329121, "last_edit_date": 1427329121, "creation_date": 1427327531, "answer_id": 29268712, "question_id": 29268603, "link": "https://stackoverflow.com/questions/29268603/summing-together-same-key-items-from-a-multimap/29268712#29268712", "title": "Summing together same-key items from a multimap?", "body": "<p>I believe gcc 4.8 already supported the C++11 redefinition of <code>auto</code><sup>1</sup> and lambdas, so you should be able to use:</p>\n\n<pre><code>auto range = multimap.equal_range(an_int);\nstd::cout &lt;&lt; std::accumulate(range.first, range.second, 0, \n    [](int a, std::pair&lt;int32, float&gt; b) { return a + b.second; });\n</code></pre>\n\n<p>[of course, you need to specify the name of <em>your</em> <code>multimap</code> object, where this has <code>multimap</code>.]</p>\n\n<p>As an aside, since you're expecting the result as a <code>float</code>, you may want to change your initial value to a <code>float</code>, so the accumulation is done on <code>float</code>s, not <code>int</code>s:</p>\n\n<pre><code>std::cout &lt;&lt; std::accumulate(range.first, range.second, \n    0.0f,\n    [](float a, std::pair&lt;int32, float&gt; b) { return a + b.second; });\n</code></pre>\n\n<hr>\n\n<p><sup>\n1. with the <code>-std=C++0x</code> flag.\n</sup></p>\n"}], "owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 1, "closed_date": 1427361101, "accepted_answer_id": 29268709, "answer_count": 2, "score": -1, "last_activity_date": 1427329121, "creation_date": 1427326916, "last_edit_date": 1495539919, "question_id": 29268603, "link": "https://stackoverflow.com/questions/29268603/summing-together-same-key-items-from-a-multimap", "closed_reason": "Not suitable for this site", "title": "Summing together same-key items from a multimap?", "body": "<p>I'm aware this has been asked on here before:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/247818/stlmultimap-how-do-i-get-groups-of-data?rq=1\">stl::multimap - how do i get groups of data?</a></p>\n\n<p>but the answer:</p>\n\n<pre><code>pair&lt;Iter, Iter&gt; range = my_multimap.equal_range(\"Group1\");\nint total = accumulate(range.first, range.second, 0);\n</code></pre>\n\n<p>does not compile for me, when I do:</p>\n\n<pre><code>pair&lt;multimap&lt;int32_t, float&gt;::iterator, multimap&lt;int32_t, float&gt;::iterator&gt; range = multimap.equal_range(an_int);\nfloat total = accumulate(range.first, range.second, 0);\n</code></pre>\n\n<p>This was on GCC 4.8</p>\n\n<p>Could anyone confirm whether they can compile this/offer the correct answer?</p>\n"}, {"tags": ["c++", "opencv", "opticalflow"], "comments": [{"owner": {"reputation": 591, "user_id": 1620638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52508fb6a543826f1fab2bc1fc5f044c?s=128&d=identicon&r=PG", "display_name": "flix", "link": "https://stackoverflow.com/users/1620638/flix"}, "edited": false, "score": 0, "creation_date": 1427327366, "post_id": 29268572, "comment_id": 46738675, "body": "Could you elaborate what exactly you are trying to achieve, i.e. what you mean by moving &quot;forward or backward&quot; (towards the camera/away from the camera or left-&gt;right/right-&gt;left?) and how you are planning to detect this by using the optical flow?"}, {"owner": {"reputation": 314, "user_id": 3343130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/lBr2T.jpg?s=128&g=1", "display_name": "Ketcomp", "link": "https://stackoverflow.com/users/3343130/ketcomp"}, "reply_to_user": {"reputation": 591, "user_id": 1620638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52508fb6a543826f1fab2bc1fc5f044c?s=128&d=identicon&r=PG", "display_name": "flix", "link": "https://stackoverflow.com/users/1620638/flix"}, "edited": false, "score": 0, "creation_date": 1427382705, "post_id": 29268572, "comment_id": 46761942, "body": "@flix -   What I am trying to implement succinctly is <a href=\"http://en.wikipedia.org/wiki/Visual_odometry\" rel=\"nofollow noreferrer\">visual odometry</a>  Using optical flow, if majority of the corners detected on the left half move to the left <b>and</b> those on the right half move to the right, I will conclude that the camera is moving towards the subject - and vice versa. (<i>So in a sense, towards and away from the camera and not left-&gt;right</i>)"}], "owner": {"reputation": 314, "user_id": 3343130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/lBr2T.jpg?s=128&g=1", "display_name": "Ketcomp", "link": "https://stackoverflow.com/users/3343130/ketcomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427383112, "creation_date": 1427326746, "last_edit_date": 1427383112, "question_id": 29268572, "link": "https://stackoverflow.com/questions/29268572/how-do-i-code-the-optical-flow-calculations-for-the-left-half-and-the-right-half", "title": "How do I code the optical flow calculations for the left half and the right half of the image?", "body": "<p>I want to calculate optical flow on the left half and the right half of the captured video seperately. Using the results from the left and right half I want to eventually detect if the user(i.e. the camera) is moving forward or backward.</p>\n\n<p>Currently, I have this system going for the left half of the screen. The code looks like this:</p>\n\n<pre><code>#include \"opencv2/video/tracking.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;ctype.h&gt;\n\nusing namespace cv;\nusing namespace std;\n\nstatic void help()\n{\n    cout &lt;&lt; \"*** Using OpenCV version \" &lt;&lt; CV_VERSION &lt;&lt;\" ***\"&lt;&lt; endl;\n    cout &lt;&lt; \"\\n\\nUsage: \\n\"\n            \"\\tESC - quit the program\\n\"\n            \"\\tr - auto-initialize tracking\\n\"\n            \"\\tc - delete all the points\\n\"\n            \"\\tn - switch the \\\"night\\\" mode on/off\\n\"&lt;&lt; endl;\n}\n\nint main( int argc, char** argv )\n{\n    help();\n     //Termination of the algo after 20 iterations or accuracy going under 0.03 \n    TermCriteria termcrit(CV_TERMCRIT_ITER|CV_TERMCRIT_EPS, 20, 0.3);\n    Size subPixWinSize(10,10), winSize(31,31);\n    const int MAX_COUNT = 500;\n    bool needToInit = false;\n    bool nightMode = false;\n    //Video capture is from the default device i.e. the webcam\n    VideoCapture cap(0);\n    if( !cap.isOpened() )\n    {\n        cout &lt;&lt; \"Could not initialize capturing...\\n\";\n        return 0;\n    }\n\n    namedWindow( \"Half screen Optical flow Demo!\", 1 );\n    Mat gray, prevGray, image;\n    vector&lt;Point2f&gt; points[2];\n\n    for(;;)\n    {\n        Mat frame;\n\n        //Output from the Videocapture is piped to 'frame'\n        cap &gt;&gt; frame;\n        if( frame.empty() )\n            break;\n\n        frame.copyTo(image);\n        cvtColor(image, gray, COLOR_BGR2GRAY);\n\n        // Night mode not disabled\n        if( nightMode )\n            image = Scalar::all(0);\n\n\n        //This line saves into 'gray' only the left half of the original image. Thus making the detection of optical only on the left side possible.\n        gray = gray(Range(1,480), Range(1,320));\n\n\n\n        if( needToInit || points[0].size()&lt;=5)\n        {                  \n            goodFeaturesToTrack(gray, points[1], MAX_COUNT, 0.01, 10, Mat(), 3, 0, 0.4);\n            cornerSubPix(gray, points[1], subPixWinSize, Size(-1,-1), termcrit);\n\n        }\n        else if( !points[0].empty() )\n        {\n            vector&lt;uchar&gt; status;\n            vector&lt;float&gt; err;\n            if(prevGray.empty())\n                gray.copyTo(prevGray);\n            calcOpticalFlowPyrLK(prevGray, gray, points[0], points[1], status, err, winSize, 3, termcrit, 0, 0.001);\n            size_t i, k;\n\n            for( i = k = 0; i &lt; points[1].size(); i++ )\n            {\n                if( !status[i] )\n                    continue;\n\n                points[1][k++] = points[1][i];  \n                circle(image, points[1][i], 3, Scalar(0,255,0), -1, 8);\n            }\n            points[1].resize(k);\n        }      \n        needToInit = false;\n        imshow(\"Half screen Optical flow Demo!\", image);\n\n        char c = (char)waitKey(10);\n        if( c == 27 )\n            break;\n        switch( c )\n        {\n        case 'r':\n            needToInit = true;\n            break;\n        case 'c':\n            points[0].clear();\n            points[1].clear();\n            break;\n        case 'n':\n            nightMode = !nightMode;\n            break;\n        }\n        std::swap(points[1], points[0]);\n        cv::swap(prevGray, gray);\n    }\n    cap.release();\n    return 0;\n}\n</code></pre>\n\n<p>How do I do this for the right half of the screen as well?</p>\n\n<p>If I simply replicate the functions from above, say by modifying the image=image(Range(), Range()) values etc. I am not getting any output.</p>\n\n<p>EDIT: Should I write out the part where the optical flow is calculated to a separate function and call it twice - once for the left half of the image and then for the right half?</p>\n"}, {"tags": ["c++", "parsing", "error-handling", "boost-spirit", "boost-spirit-qi"], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1427357277, "post_id": 29273569, "comment_id": 46746619, "body": "(About the debug macros, I have numerous answers in <a href=\"http://stackoverflow.com/search?tab=votes&amp;q=user%3a85371%20boost_spirit_debug\">tag boost-spirit</a> that shows how to use it, in case you want samples)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427407109, "post_id": 29273569, "comment_id": 46776410, "body": "The debug macros were more helpful than the error handling.  I wish they would put the macros into the tutorial. :-)"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 3, "last_activity_date": 1427357130, "creation_date": 1427357130, "answer_id": 29273569, "question_id": 29268531, "link": "https://stackoverflow.com/questions/29268531/boostspirit-on-error-not-printing/29273569#29273569", "title": "Boost::Spirit - on_error not printing", "body": "<p>Error handling only relates to expectation points. You don't seem to have any of those.</p>\n\n<ul>\n<li><a href=\"http://www.boost.org/doc/libs/1_57_0/libs/spirit/doc/html/spirit/qi/reference/operator/expect.html\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_57_0/libs/spirit/doc/html/spirit/qi/reference/operator/expect.html</a></li>\n</ul>\n\n<p>To debug the grammar use</p>\n\n<ul>\n<li><code>#define BOOST_SPIRIT_DEBUG</code>  before any boost includes</li>\n<li><code>BOOST_SPIRIT_DEBUG_NODE(node)</code> or <code>BOOST_SPIRIT_DEBUG_NODES((node1)(node2)...)</code> to select nodes for debug</li>\n</ul>\n\n<p>This will show you the backtracking (if any) and attribute propagation in action. If you use them, locals and inherited attributes will also be shown.</p>\n\n<p>Note your rule's attributes need to be fusion-adapted/streamable for debug to work.</p>\n"}], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "accepted_answer_id": 29273569, "answer_count": 1, "score": 6, "last_activity_date": 1427357130, "creation_date": 1427326455, "last_edit_date": 1495539899, "question_id": 29268531, "link": "https://stackoverflow.com/questions/29268531/boostspirit-on-error-not-printing", "title": "Boost::Spirit - on_error not printing", "body": "<p>I'm trying to use the <code>on_error</code> mechanism of Boost::Spirit::qi to find out why the parsing failed.  </p>\n\n<p>I've set a breakpoint at the <code>on_error</code> function and the function is being called, but no output (nada, nothing, void, ...).  </p>\n\n<p>The simple <code>on_error</code>:  </p>\n\n<pre><code>on_error&lt;fail&gt;(level1,\n    boost::phoenix::ref(std::cout) &lt;&lt; \"I've failed.\\n\"\n    );\n</code></pre>\n\n<p>The complex <code>on_error</code> (from various sites):  </p>\n\n<pre><code>on_error&lt;fail&gt;\n(\n    start,\n    boost::phoenix::ref(std::cout)\n        &lt;&lt; val(\"Error! Expecting \")\n        &lt;&lt; _4\n        &lt;&lt; val(\" here: \\\"\")\n        &lt;&lt; construct&lt;std::string&gt;(qi::_3, qi::_2)\n        &lt;&lt; val(\"\\\"\")\n        &lt;&lt; std::endl\n    );\n</code></pre>\n\n<p>Here is my class containing the simple <code>on_error</code>:  </p>\n\n<pre><code>template &lt;typename Iterator, typename Skipper&gt;\nstruct Event_Compound\n    : qi::grammar&lt;Iterator, Skipper&gt;\n{\n    Event_Compound () \n        : Event_Compound::base_type(start, \"Compound-Event\")\n        {\n            using qi::lexeme;\n            using qi::lit;\n            using namespace qi;\n            using boost::spirit::ascii::char_;\n\n            relational_operator =\n                lit(\"&amp;&amp;\")[Matched_Relational_AND]\n                || lit(\"||\")[Matched_Relational_OR]\n                ;\n\n            compound =\n                level1[Matched_Nested_Level1_Begin] &gt;&gt; relational_operator[Matched_Relational_Operator] &gt;&gt; level1[Matched_Nested_Level1_End]\n                ;\n\n            compare_or_compound =\n                compound[Matched_Compound] | grammar_comparison_event[Matched_Comparison_Event]\n                ;\n\n            level1 =\n                grammar_boolean_event[Matched_Boolean_Event]\n                | ( char_('(')[Matched_Open_Paren] &gt;&gt; compare_or_compound[Matched_Compare_Or] &gt;&gt; char_(')')[Matched_Close_Paren]  )\n                ;\n\n            start =\n                level1[Matched_Level1_Begin] &gt;&gt; relational_operator[Matched_Relational_Operator] &gt;&gt; level1[Matched_Level1_End]\n                ;\n            on_error&lt;fail&gt;(level1,\n                boost::phoenix::ref(std::cout) &lt;&lt; \"I've failed.\\n\"\n                );\n        }\n\n    Event_Boolean&lt;Iterator, Skipper&gt;        grammar_boolean_event;\n    Event_Comparison&lt;Iterator, Skipper&gt;     grammar_comparison_event;\n    qi::rule&lt;Iterator, Skipper&gt;             level1;\n    qi::rule&lt;Iterator, Skipper&gt;             compound;\n    qi::rule&lt;Iterator, Skipper&gt;             compare_or_compound;\n    qi::rule&lt;Iterator, Skipper&gt;             relational_operator;\n    qi::rule&lt;Iterator, Skipper&gt;             start;\n};\n</code></pre>\n\n<p>Is there a <em>simple</em> method to trace the behavior or thinking pattern of the parser? (Such as setting a preprocessor macro or some flag variable)  </p>\n\n<p>Why isn't there any output from the <code>on_error</code>?  </p>\n\n<p>Also, what do <code>_1, _2, _3</code> and <code>_4</code> reference?  </p>\n\n<p>I'm trying to debug a grammar and I have output as to the rules that have been matched, but when a rule isn't matched, I want to know which rule and why.  </p>\n\n<p>I'm using:  </p>\n\n<ul>\n<li>Boost 1.57.0</li>\n<li>Visual Studio 2010</li>\n<li>Windows 7</li>\n</ul>\n\n<p>Researched:  </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/19375766/how-to-make-error-handling-work-for-boostspirit\">how to make error handling work for\nboost::spirit</a>  </li>\n<li><a href=\"http://boost-spirit.com/home/2011/02/28/dispatching-on-expectation-point-failures/comment-page-1/\" rel=\"nofollow noreferrer\">Dispatching on Expectation\nFailures</a></li>\n<li><a href=\"http://www.boost.org/doc/libs/1_41_0/libs/spirit/doc/html/spirit/qi/tutorials/mini_xml___error_handling.html\" rel=\"nofollow noreferrer\">Boost::Spirit documentation: Mini XML - Error\nHandling</a></li>\n</ul>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427326573, "post_id": 29268523, "comment_id": 46738450, "body": "You could make a getter in <code>Foo</code> to get <code>member</code>."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1427326742, "post_id": 29268523, "comment_id": 46738501, "body": "If you want to call this function from outside the Foo but not from inside, why put it inside a member class?"}, {"owner": {"reputation": 63, "user_id": 3851928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde6f23e2f225fd3d4a53cfb5814acde?s=128&d=identicon&r=PG&f=1", "display_name": "Modelowy", "link": "https://stackoverflow.com/users/3851928/modelowy"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427326855, "post_id": 29268523, "comment_id": 46738529, "body": "@zenith you mean like member_class &amp; {return &amp;member;}? I think it can solve the problem, is it the best way to do it?"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427327456, "post_id": 29268523, "comment_id": 46738709, "body": "@Modelowy Depends on whether it&#39;s a good design decision in your case. We can&#39;t know because you didn&#39;t tell us what you&#39;re <i>actually</i> trying to do, you only gave meaningless class and function names. If you want us to be able to help you with your actual problem you need to be <i>specific</i>. Right now we can&#39;t even know whether two separate classes is actually the best way to do what you want."}, {"owner": {"reputation": 63, "user_id": 3851928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde6f23e2f225fd3d4a53cfb5814acde?s=128&d=identicon&r=PG&f=1", "display_name": "Modelowy", "link": "https://stackoverflow.com/users/3851928/modelowy"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427328364, "post_id": 29268523, "comment_id": 46738970, "body": "@zenith i gave this general description because i thought i is more common problem. Thanks for your help, I think I should rethink classes in my project."}], "owner": {"reputation": 63, "user_id": 3851928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde6f23e2f225fd3d4a53cfb5814acde?s=128&d=identicon&r=PG&f=1", "display_name": "Modelowy", "link": "https://stackoverflow.com/users/3851928/modelowy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427326904, "creation_date": 1427326417, "last_edit_date": 1427326487, "question_id": 29268523, "link": "https://stackoverflow.com/questions/29268523/access-to-method-of-a-class-which-is-private-member-of-another-class", "title": "Access to method of a class which is private member of another class", "body": "<p>I found a topic with similar question but privacy whas not issue in that case and I still can't find a good answer.</p>\n\n<p>I've got 2 classes</p>\n\n<pre><code>class member_class{\n  string data\n  public:\n  void edit_data();\n};\nclass Foo{\n  member_Class member;\n};\n</code></pre>\n\n<p>How do i call function edit_data when I got objcect of class Foo? Should I make \"member\" public or is there another solution? I thought about it and the only solution i could invent is to make method in Foo class which only job is to call member.edit_data() function but it seems silly, because I should write such a function for every method of member_class.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "string", "while-loop", "char"], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1427326848, "creation_date": 1427326848, "answer_id": 29268587, "question_id": 29268305, "link": "https://stackoverflow.com/questions/29268305/check-white-space-in-char-and-check-digits-in-strings/29268587#29268587", "title": "Check white-space in Char and Check Digits in Strings", "body": "<p><code>cin &gt;&gt; text</code> ignores leading whitespace.</p>\n\n<p>When <code>text</code> is a single <code>char</code>, <code>&gt;&gt;</code> will then read the next character if available, otherwise fail.</p>\n\n<p>When <code>text</code> is a <code>char</code> array, <code>&gt;&gt;</code> will then read characters until it encounters whitespace, reaches its max width, or fails.</p>\n\n<p>Either way, <code>&gt;&gt;</code> does not return the whitespace that it skipped.  So <code>text</code> will never equal <code>' '</code>.  Besides, your counter should be counting the actual words read, not the spaces between them.</p>\n\n<p>Try something more like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt; \n#include &lt;string.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"Enter a group of words ending with a semicolon ; \";\n\n    char text[512];\n    int ctr = 0;\n\n    while (cin &gt;&gt; setw(512) &gt;&gt; text)\n    {\n        if (strcmp(text, \";\") == 0) break;\n        ++ctr;\n    }\n\n    cout &lt;&lt; ctr;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1427327078, "creation_date": 1427327078, "answer_id": 29268634, "question_id": 29268305, "link": "https://stackoverflow.com/questions/29268305/check-white-space-in-char-and-check-digits-in-strings/29268634#29268634", "title": "Check white-space in Char and Check Digits in Strings", "body": "<p>Maybe the easiest method is to read your input into a <code>std::string</code> then search for a character that is not in a set of valid characters.  </p>\n\n<p>For example:  </p>\n\n<pre><code>const std::string valid_characters = \"abcdefghijklmnopqrstuvwxyz\"\n                                     \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nstd::string text_from_input;\nstd::getline(std::cin, text_from_input);\nstd::string::size_type position_of_invalid_char =\n    text_from_input.find_first_not_of(valid_characters);\n</code></pre>\n"}], "owner": {"reputation": 852, "user_id": 1961688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H5P1d.jpg?s=128&g=1", "display_name": "thethiny", "link": "https://stackoverflow.com/users/1961688/thethiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 29268587, "answer_count": 2, "score": 0, "last_activity_date": 1427327078, "creation_date": 1427325389, "question_id": 29268305, "link": "https://stackoverflow.com/questions/29268305/check-white-space-in-char-and-check-digits-in-strings", "title": "Check white-space in Char and Check Digits in Strings", "body": "<p>So I'm faced with this problem:</p>\n\n<blockquote>\n  <p>Write a program that reads a text file and checks for correctness of\n  the word. A word is correct if it starts with a character only and\n  does not contain any number in it.   The input ends with a semi-colon\n  ;</p>\n</blockquote>\n\n<p>I tried to do this in two ways:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    char text;\n\n    cout&lt;&lt;\"Enter a group of words ending with a semicolon ; \";\n    cin&gt;&gt;text;\n    int ctr=0;\n    while(text !=';')\n    {\n     if (text  == ' ')   ctr++;\n        cin&gt;&gt;text;\n    }\n\n    cout&lt;&lt;ctr;\n\n\n\n    return 0;\n}\n</code></pre>\n\n<p>But this fails to increment at spaces.</p>\n\n<p>I tried the same using Strings instead of Chars, the word counters work but     <code>text == \"0\"</code> (for example) wouldn't work correctly too..</p>\n\n<p>Why wouldn't the Char read the white-space and why wouldn't the String read the digit?</p>\n"}, {"tags": ["c++", "string", "stringstream"], "comments": [{"owner": {"reputation": 1605, "user_id": 1339615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MHBM.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/1339615/julian"}, "edited": false, "score": 0, "creation_date": 1427324955, "post_id": 29268175, "comment_id": 46737855, "body": "Do you know how many integers are in the stringstream before creating the array? Are you able to use <code>std::vector</code>?"}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "reply_to_user": {"reputation": 1605, "user_id": 1339615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MHBM.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/1339615/julian"}, "edited": false, "score": 0, "creation_date": 1427325599, "post_id": 29268175, "comment_id": 46738121, "body": "I know how to use vector, and I know how many int there are."}], "answers": [{"tags": [], "owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "is_accepted": false, "score": 0, "last_activity_date": 1427326709, "last_edit_date": 1427326709, "creation_date": 1427325991, "answer_id": 29268432, "question_id": 29268175, "link": "https://stackoverflow.com/questions/29268175/how-can-i-get-the-integers-in-a-stringstream-and-add-them-into-an-array/29268432#29268432", "title": "How can I get the integers in a stringstream and add them into an array?", "body": "<p>Thats just simply using copy and iteratrs.</p>\n\n<pre><code>template&lt;std::size_t SIZE&gt;\nvoid func(std::istream&amp; stream, std::array&lt;int, SIZE&gt;&amp; arr)\n{\n    std::copy_n(std::istream_iterator&lt;int&gt;(stream), SIZE, std::begin(arr));\n}\n</code></pre>\n\n<p>But rater than thinking about arrays you should think about using iterator. That way you can use any container types.</p>\n\n<pre><code>template&lt;typename I&gt;\nvoid func(std::istream&amp; stream, I dst)\n{\n    std::copy(std::istream_iterator&lt;int&gt;(stream),\n              std::istream_iterator&lt;int&gt;(),\n              dst);\n}\n</code></pre>\n\n<p>You also mention vector in the comments:</p>\n\n<pre><code>void func(std::istream&amp; stream, std::vector&lt;int&gt;&amp; vec)\n{\n    std::copy(std::istream_iterator&lt;int&gt;(stream),\n              std::istream_iterator&lt;int&gt;(),\n              std::back_inserter(vector)\n             );\n}\n</code></pre>\n\n<p>Now you mention that your numbers are comma seporated. To cope with this you can defined a class that reads a number and a trailing comma;</p>\n\n<pre><code>struct NumberAndComma\n{\n    int   number;\n    operator int() {return number;}\n    friend std::istream&amp; operator&gt;&gt;(std::istream&amp; str, NumberAndComma&amp; data)\n    {\n        if (str &gt;&gt; number) {\n            char x;\n            stream &gt;&gt; x;\n            if (x != ',') {\n                stream.unget();\n            }\n            if (!stream) {\n                // It was good before we tried to read comma.\n                // so really it should still be good even if there is no comma\n                stream.clear();\n            }\n        }\n        return stream;\n    }\n};\n</code></pre>\n\n<p>Now you can use this inplace of int above:</p>\n\n<pre><code>void func(std::istream&amp; stream, std::vector&lt;int&gt;&amp; vec)\n{\n    std::copy(std::istream_iterator&lt;NumberAndComma&gt;(stream),\n              std::istream_iterator&lt;NumberAndComma&gt;(),\n              std::back_inserter(vector)\n             );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1427326325, "post_id": 29268436, "comment_id": 46738366, "body": "sorry, but that doesn&#39;t work. Also, I have them separated by semicolons in the stringstream."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "reply_to_user": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 1, "creation_date": 1427326364, "post_id": 29268436, "comment_id": 46738379, "body": "@JCoder: you really should have mentioned that."}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1427326557, "post_id": 29268436, "comment_id": 46738441, "body": "I didn&#39;t think it would make a difference since it&#39;s getting ints, not strings.... sorry about that"}], "tags": [], "owner": {"reputation": 1605, "user_id": 1339615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MHBM.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/1339615/julian"}, "is_accepted": false, "score": 1, "last_activity_date": 1427327073, "last_edit_date": 1427327073, "creation_date": 1427325998, "answer_id": 29268436, "question_id": 29268175, "link": "https://stackoverflow.com/questions/29268175/how-can-i-get-the-integers-in-a-stringstream-and-add-them-into-an-array/29268436#29268436", "title": "How can I get the integers in a stringstream and add them into an array?", "body": "<p>You can use <code>std::vector</code>, and, if you know the number of ints before-hand, you could use <code>reserve</code> to improve performance. Since you're using semi-colons as delimiters, one solution would be to use this delimiter with <code>std::getline</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    std::stringstream ss{\"1;2;3;4;5;6;7;8;9;10\"};\n    std::vector&lt;int&gt; ints;\n\n    // Reserve space for 10 integers:\n    ints.reserve(10);\n\n    std::string temp;\n    while (std::getline(ss, temp, ';'))\n        ints.push_back(std::stoi(temp));\n\n    for (int i : ints)\n        std::cout &lt;&lt; i &lt;&lt; ' ';\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1227, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1427327073, "creation_date": 1427324726, "last_edit_date": 1427326607, "question_id": 29268175, "link": "https://stackoverflow.com/questions/29268175/how-can-i-get-the-integers-in-a-stringstream-and-add-them-into-an-array", "title": "How can I get the integers in a stringstream and add them into an array?", "body": "<p>I don't want just the first one, I want them all. How can I do this? I always get either nothing or the first value only and I've been converting the stringstream into a string. Is there a way to get it directly from stringstream? The ints are separated by semicolons.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 1, "creation_date": 1427324620, "post_id": 29268147, "comment_id": 46737731, "body": "Wha? .. How does the crash look like? Can you also get your computer to emit smoke?"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427324666, "post_id": 29268147, "comment_id": 46737755, "body": "Both blue and black screen."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 3, "creation_date": 1427325096, "post_id": 29268147, "comment_id": 46737914, "body": "@CaptainGiraffe: If you see a bluescreen, then you encountered a Windows or driver bug.  That should <i>not</i> happen."}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 3, "creation_date": 1427325174, "post_id": 29268147, "comment_id": 46737951, "body": "@Captain, if you&#39;re not much of a photographer, then by all means write down the blue screen scriptures and copy them back into your question. Without them, we cannot possibly understand your problem."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427325189, "post_id": 29268147, "comment_id": 46737955, "body": "@MooingDuck So my surprise is. Can I crash 64-bit windows by asking for memory?"}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1427325221, "post_id": 29268147, "comment_id": 46737967, "body": "@Captain, you can if one of your memory chips is buggy."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1427325261, "post_id": 29268147, "comment_id": 46737980, "body": "@Fr&#233;d&#233;ricHamidi This should be reproducible.  I&#39;m not currently on a windows machine."}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1427325314, "post_id": 29268147, "comment_id": 46738005, "body": "@Captain, memory chips failing is usually not reproducible when one is not running on the very same chips."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1427325317, "post_id": 29268147, "comment_id": 46738006, "body": "@Fr&#233;d&#233;ricHamidi This is reproduced in a lab room with lots of different hardware."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1427325350, "post_id": 29268147, "comment_id": 46738022, "body": "It happens if either there&#39;s something not right with your hardware (e.g. bad memory, broken processor), but more likely is that some driver is not coping well with out of memory. Since machines nowadays often have &quot;enough&quot; memory nearly all the time, drivers developed by people that don&#39;t agressively TRY to break things sometimes don&#39;t cope with low memory conditions very well."}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 2, "creation_date": 1427325401, "post_id": 29268147, "comment_id": 46738041, "body": "@Captain, a lab room? You can definitely find photographers among the crew there I believe. <i>Please provide the information required to understand your problem.</i>"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 2, "creation_date": 1427325440, "post_id": 29268147, "comment_id": 46738053, "body": "I just rebooted, having totally lost control of the machine.   It seems that the system tries to allocate memory, get a lot of page faults (listening to my disk). Impossible to interrupt.   No blue screen, just a frozen PC."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1427325445, "post_id": 29268147, "comment_id": 46738055, "body": "@Fr&#233;d&#233;ricHamidi a computer lab at a uni."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 5, "creation_date": 1427325494, "post_id": 29268147, "comment_id": 46738072, "body": "I agree with Frederic: The exact details of what blue-screen content is very useful to identify what has gone wrong. It&#39;s not unusual that a large room with lots of different hardware has, for example, the same Antivirus software, which is a good candidate for this sort of driver problem (AV software usually has a driver component)"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1427325504, "post_id": 29268147, "comment_id": 46738080, "body": "@Christophe Sorry about that."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1427325648, "post_id": 29268147, "comment_id": 46738142, "body": "@MatsPetersson  would you mind provide your speculation as an answer?"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1427326149, "post_id": 29268147, "comment_id": 46738307, "body": "Isn&#39;t memory on Windows lazily allocated, so actually it performed on first memory write?"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1427326264, "post_id": 29268147, "comment_id": 46738344, "body": "To OP: You may enable saving <code>memory.dmp</code>: <a href=\"http://support.microsoft.com/en-us/kb/235496\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/kb/235496</a> So after blue screen crash may be analyzed (but it requires WinDbg and kernel symbols, it is quite complicated)"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 1, "creation_date": 1427327638, "post_id": 29268147, "comment_id": 46738754, "body": "@myaut: But if you compile in debug mode, the runtime will fill uninitialized memory with a &quot;poison&quot;, so the memory will be written to immediately after allocation."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1427328832, "post_id": 29268147, "comment_id": 46739110, "body": "I don&#39;t believe this. Compiler will optimize this line away because it&#39;s not doing anything. Also unix system doesn&#39;t actually allocate the memory unless you access it"}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1427355999, "post_id": 29268147, "comment_id": 46746123, "body": "@texasbruce, it has side effects of calling global <code>operator new()</code> (who knows what will it do)"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1427357651, "post_id": 29268147, "comment_id": 46746761, "body": "@texasbruce: If I were to run this on my Linux machine, it would &quot;hang&quot; - until either the program finishes on its own accord, fails to allocate more memory or gets killed by the OOM killer. Trust me, I have tried [by accident, not on purpose like this]."}], "answers": [{"comments": [{"owner": {"reputation": 3057, "user_id": 2369847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/X5mfe.jpg?s=128&g=1", "display_name": "TelKitty", "link": "https://stackoverflow.com/users/2369847/telkitty"}, "edited": false, "score": 0, "creation_date": 1427330223, "post_id": 29268582, "comment_id": 46739504, "body": "Excuse my ignorance, what&#39;s new char[x]; in the question anything to do with drivers?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 3057, "user_id": 2369847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/X5mfe.jpg?s=128&g=1", "display_name": "TelKitty", "link": "https://stackoverflow.com/users/2369847/telkitty"}, "edited": false, "score": 0, "creation_date": 1427357496, "post_id": 29268582, "comment_id": 46746691, "body": "Directly, it hasn&#39;t. But <code>new char[x]</code>, with a fairly large <code>x</code> and in a loop will fairly soon have taken up all the memory in the machine, and the machine starts swapping to disk (if there is a swapfile). At that point, a driver may well struggle to get the memory it needs (either because the swapping process has filled all the &quot;unswappable&quot; memory, or because things are swapped out that the driver hadn&#39;t expected to swap out)."}], "tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": true, "score": 10, "last_activity_date": 1427328648, "last_edit_date": 1427328648, "creation_date": 1427326825, "answer_id": 29268582, "question_id": 29268147, "link": "https://stackoverflow.com/questions/29268147/memory-allocation-crashes-the-os-whos-to-blame-beside-the-os/29268582#29268582", "title": "Memory allocation crashes the OS. Who&#39;s to blame beside the OS", "body": "<p>One quite plausible scenario for \"blue screen when an application is using a lot of memory\" is a driver that crashes. There are two common problems here:</p>\n\n<ol>\n<li><p>Driver that can't allocate memory and doesn't detect the <code>NULL</code> returned by allocation function when it couldn't allocate memory\", resulting in a NULL [or close to NULL] memory access.</p></li>\n<li><p>Driver doesn't properly \"lock\" it's memory buffers, leading to pages that the driver \"needs\" being swapped out when it comes to use the page - this leads to \"IRQL Not Less or Equal\" blue-screen, which is caused by OS detecting that a page-in request happens when the driver is in a mode where the scheduler is \"locked\". In other words, the driver asked for \"no other task must run until I finish this\", and then a page-fault happens that is a request to page in a page from the swap, which indeed requires a different task [the swapper process] to run - can't have the cake and eat it, so OS says \"No can do\" - can't continue at that point, since the driver is not able to access memory, can't switch to another task, so we can't do anything other than \"report error and stop\".</p></li>\n<li><p>A third alternative is that the driver detects that it can't allocate memory, but decides that it can not continue and then issues its own blue-screen by calling the \"I want to bluescreen now\" function in Windows. Drivers that are well written should not do this, but like some driver writers still decide that this is a \"good idea\". </p></li>\n</ol>\n\n<p>Sorry, it's been about 11 years since I wrote windows drivers, so the exact error codes one can expect here have gone missing. I think 7B for IRQLNotLessOrEqual, and 0xC00000005 for the access of unmapped memory (NULL access etc). </p>\n\n<p>The fact that several different machines behave the same can easily be explained by many machines having either similar hardware (e.g. same printer, USB [mouse or keyboard?] or CD-ROM drive that is flaky), or by having the same antivirus software - AV software always has a driver component to \"hook\" into other processes and such. </p>\n\n<p>Given that \"really running out of memory\" is not so common these days, not so skilled/experienced/conscientious developers may well not test properly with either fake out of memory or real out of memory situations, and thus not detect that their driver fails in this situation.</p>\n\n<p>To give more details, we'd need to know at least the blue-screen \"code\" (four to five hex-numbers at the top of the screen)</p>\n\n<p>Assuming there is some point to debugging this sort of failure, you can either set up windows to store a a dump (or mini-dump) when it crashes, or use a second PC to connect WinDBG as a remote debugger [or some other remote debugger] to the machine that is crashing - when a machine blue-screens, it will stop in the debugger before restarting, so you can see what the state of the system is, including looking at the callstack of the code that caused the crash - which typically will show what component is actually causing the problem. However, unless you actually have a good contact with the driver developers (at the very least an email address to the relevant support people), it's unlikely much can be achieved to solve this.</p>\n"}], "owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 7, "closed_date": 1427329550, "accepted_answer_id": 29268582, "answer_count": 1, "score": 5, "last_activity_date": 1427328648, "creation_date": 1427324560, "last_edit_date": 1427326720, "question_id": 29268147, "link": "https://stackoverflow.com/questions/29268147/memory-allocation-crashes-the-os-whos-to-blame-beside-the-os", "closed_reason": "Not suitable for this site", "title": "Memory allocation crashes the OS. Who&#39;s to blame beside the OS", "body": "<p>This short snippet</p>\n\n<pre><code>#include &lt;new&gt;\n\nint main(){\n  while(true){\n     try{\n        new char[0x10000000];\n     }catch(std::bad_alloc bac){\n     }\n  }\n}\n</code></pre>\n\n<p>apparently crashes the entire operating system when compiled as a 64 bit application and run on a 64 bit Windows system.</p>\n\n<p>This is a valid c++ program. How can this happen? Isn't the msvc compiler at fault here too?</p>\n\n<p>All other compiler/system combinations left the system sluggish at worst.</p>\n\n<p>Don't try this at home. user Christophe tried this on his system and it crashed.</p>\n\n<p>To commenters: I'm not interested in debugging. This is a valid c++ program. My code is not at fault. I'm curious what might induce this behaviour. </p>\n"}, {"tags": ["c++", "c", "visual-c++", "visual-studio-2013", "ntfs"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1427325377, "post_id": 29268145, "comment_id": 46738029, "body": "Are you running your process as an administrator user, and elevating the process? Manipulating symbolic links requires elevated privileges (beyond normal user) on Windows."}, {"owner": {"reputation": 1027, "user_id": 1099074, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f20e32678c68ec68ab4246d8904de875?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1099074/wes"}, "reply_to_user": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1427325517, "post_id": 29268145, "comment_id": 46738087, "body": "Visual Studio is run with admin permissions yes, but same error."}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "edited": false, "score": 0, "creation_date": 1429291368, "post_id": 29268145, "comment_id": 47546914, "body": "If you&#39;re opening with backup semantics, your process has to obtain the SE_BACKUP_NAME privilege and SE_RESTORE_NAME to write.  Have a look <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa387705%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">here</a>.  The article talks about Certificate Services, but its the same for editing a reparse point."}], "owner": {"reputation": 1027, "user_id": 1099074, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f20e32678c68ec68ab4246d8904de875?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1099074/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427324884, "creation_date": 1427324555, "last_edit_date": 1427324884, "question_id": 29268145, "link": "https://stackoverflow.com/questions/29268145/access-denied-modifying-existing-symbolic-link-target", "title": "Access denied modifying existing symbolic link target", "body": "<p>In a nutshell, I'm trying to modify an existing NTFS symbolic link's target programmatically using Visual C++. In this code snippet, I'm not actually doing anything to the link. I'm simply reading the structure into a buffer and then writing that buffer back to itself, for simplicity sake. I am getting <code>ERROR_ACCESS_DENIED</code> on the second <code>DeviceIoControl</code> call. It looks to me like the handle is opening the link with full permissions so I'm puzzled, there must be something else I'm doing wrong?  </p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;stdio.h&gt;\n#include &lt;ole2.h&gt;\n\ntypedef struct _REPARSE_DATA_BUFFER {\n    ULONG  ReparseTag;\n    USHORT  ReparseDataLength;\n    USHORT  Reserved;\n    union {\n        struct {\n            USHORT SubstituteNameOffset;\n            USHORT SubstituteNameLength;\n            USHORT PrintNameOffset;\n            USHORT PrintNameLength;\n            ULONG Flags;\n            WCHAR PathBuffer[1];\n        } SymbolicLinkReparseBuffer;\n        struct {\n            USHORT SubstituteNameOffset;\n            USHORT SubstituteNameLength;\n            USHORT PrintNameOffset;\n            USHORT PrintNameLength;\n            WCHAR PathBuffer[1];\n        } MountPointReparseBuffer;\n        struct {\n            UCHAR DataBuffer[1];\n        } GenericReparseBuffer;\n    };\n} REPARSE_DATA_BUFFER;\n\n#define REPARSE_MOUNTPOINT_HEADER_SIZE   8\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    HANDLE hFile;\n    LPCTSTR szMyFile = _T(\"C:\\\\Users\\\\Weston\\\\Desktop\\\\New folder\\\\SymbolicLink of test.txt\");\n\n    hFile = CreateFile(szMyFile, GENERIC_ALL, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS | FILE_FLAG_OPEN_REPARSE_POINT, NULL);\n    if (hFile == INVALID_HANDLE_VALUE)\n    {\n        _tprintf(_T(\"Could not open dir '%s'; error: %d\\n\"), szMyFile, GetLastError());\n        CloseHandle(hFile);\n        return 1;\n    }\n\n    REPARSE_DATA_BUFFER* rdata = (REPARSE_DATA_BUFFER*)malloc(MAXIMUM_REPARSE_DATA_BUFFER_SIZE);\n\n    DWORD dwRetLen = 0;\n    BOOL bRet = DeviceIoControl(hFile, FSCTL_GET_REPARSE_POINT, NULL, 0, rdata, MAXIMUM_REPARSE_DATA_BUFFER_SIZE, &amp;dwRetLen, NULL);\n    if (bRet == FALSE)\n    {\n        _tprintf(_T(\"DeviceIoControl1 failed with error: %d\\n\"), GetLastError());\n\n        CloseHandle(hFile);\n        return 1;\n    }\n\n    DWORD ioctl_return = 0xdeadbeef;\n    if (!DeviceIoControl(hFile,\n        FSCTL_SET_REPARSE_POINT,\n        rdata,\n        REPARSE_MOUNTPOINT_HEADER_SIZE + rdata-&gt;ReparseDataLength,\n        NULL,\n        0,\n        &amp;ioctl_return,\n        NULL)) {\n        _tprintf(_T(\"DeviceIoControl2 failed with error: %d\\n\"), GetLastError());\n        CloseHandle(hFile);\n        return 1;\n    }\n\n    CloseHandle(hFile);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "halting-problem", "as-if"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1427324431, "post_id": 29268092, "comment_id": 46737651, "body": "If you were waiting at an old abandoned bus stop (for kicks), would it be surprising if a bus pulled up?"}, {"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1427324508, "post_id": 29268092, "comment_id": 46737682, "body": "Is your question &quot;why isn&#39;t this done?&quot; or &quot;why can&#39;t this be done?&quot; (or neither?)"}], "answers": [{"comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1427325252, "post_id": 29268268, "comment_id": 46737977, "body": "It can but it is not required to."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1427325167, "creation_date": 1427325167, "answer_id": 29268268, "question_id": 29268092, "link": "https://stackoverflow.com/questions/29268092/why-cant-an-infinite-loop-be-eliminated/29268268#29268268", "title": "Why can&#39;t an infinite loop be eliminated?", "body": "<p>It can, because of [intro.multithread]/p27 (quoting N4140; this is p24 in N3337):</p>\n\n<blockquote>\n  <p>The implementation may assume that any thread will eventually do one\n  of the following:</p>\n  \n  <ul>\n  <li>terminate,</li>\n  <li>make a call to a library I/O function,</li>\n  <li>access or modify a volatile object, or</li>\n  <li>perform a synchronization operation or an atomic operation.</li>\n  </ul>\n</blockquote>\n\n<p>Empty infinite loops are UB in C++11 and later.</p>\n"}], "owner": {"reputation": 11, "user_id": 4714342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01e92573c6d295ee0be8258bbd28e6db?s=128&d=identicon&r=PG&f=1", "display_name": "user4714342", "link": "https://stackoverflow.com/users/4714342/user4714342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427325167, "creation_date": 1427324367, "last_edit_date": 1592644375, "question_id": 29268092, "link": "https://stackoverflow.com/questions/29268092/why-cant-an-infinite-loop-be-eliminated", "title": "Why can&#39;t an infinite loop be eliminated?", "body": "<p>The &quot;as-if&quot; rule is covered by these rules:</p>\n<blockquote>\n<p>The least requirements on a conforming implementation are:</p>\n<ul>\n<li><p>Access to volatile objects are evaluated strictly according to the rules of the abstract machine.</p>\n</li>\n<li><p>At program termination, all data written into files shall be identical to one of the possible results that execution of the program\naccording to the abstract semantics would have produced.</p>\n</li>\n<li><p>The input and output dynamics of interactive devices shall take place in such a fashion that prompting output is actually delivered\nbefore a program waits for input. What constitutes an interactive\ndevice is implementation-defined.</p>\n</li>\n</ul>\n<p>These collectively are referred to as the observable behavior of the program.</p>\n<p>... Accessing an object designated by a volatile glvalue (3.10),\nmodifying an object, calling a library I/O function, or calling a\nfunction that does any of those operations are all side effects, which\nare changes in the state of the execution environment. ...</p>\n</blockquote>\n<p>But let us take a program like the following:</p>\n<pre><code>while (1) { }\n// or\nfor (;;) { }\n</code></pre>\n<p>The fact is there are no objects or calls to functions and therefore no side effects and therefore no &quot;changes in state of the execution environment&quot;. What's preventing the compiler from compiling this code to</p>\n<pre><code>xorl    %eax, %eax\nretq\n</code></pre>\n<p>Is it all that non-deterministic? An infinite loop is essentially &quot;Here's a label, jump to it over and over&quot; and will continue until the computer is shut off. The code does nothing interesting, no calculations, no I/O output, etc.</p>\n<p>In kernel code, an infinite loop becomes interesting. But in userspace code, an infinite loop is generally a sign of a badly written program. So what's the flaw in my logic?</p>\n"}, {"tags": ["c++", "ide", "sublimetext", "google-style-guide"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1427323985, "post_id": 29268010, "comment_id": 46737493, "body": "clang-format has a Google option IIRC."}, {"owner": {"reputation": 1153, "user_id": 2147228, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/gkiOE.jpg?s=128&g=1", "display_name": "Kalyanaraman Santhanam", "link": "https://stackoverflow.com/users/2147228/kalyanaraman-santhanam"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1447805395, "post_id": 29268010, "comment_id": 55306647, "body": "revisiting after a long time .. thanks to @chris i have been using this - <a href=\"https://packagecontrol.io/packages/Clang%20Format\" rel=\"nofollow noreferrer\">packagecontrol.io/packages/Clang%20Format</a>"}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 1910759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bacbd5620a6e3c7da1b56c198c34a3d7?s=128&d=identicon&r=PG", "display_name": "Victor D.", "link": "https://stackoverflow.com/users/1910759/victor-d"}, "is_accepted": false, "score": 8, "last_activity_date": 1447800244, "creation_date": 1447800244, "answer_id": 33768527, "question_id": 29268010, "link": "https://stackoverflow.com/questions/29268010/sublime-text-support-for-google-style-guide/33768527#33768527", "title": "Sublime text support for Google style guide", "body": "<p>I just tried <a href=\"https://github.com/timonwong/SublimeAStyleFormatter\" rel=\"noreferrer\">https://github.com/timonwong/SublimeAStyleFormatter</a> and it seems to be working fine.</p>\n\n<p>You will have to edit the user settings (\"Sublime Text\" > \"Preferences\" > \"SublimeAStyleFormatter\" > \"Settings - User\") to the following:</p>\n\n<pre><code>// This is a simplified settings file that only defines the coding style of your project\n{\n    \"options_default\": {\n        // Default bracket style\n        // Can be either \"allman\", \"ansi\", \"bsd\", \"break\", \"java\", \"attach\", \"kr\", \"k&amp;r\",\n        // \"k/r\" \"stroustrup\", \"whitesmith\", \"banner\", \"gnu\", \"linux\", \"horstmann\", \n        // \"1tbs\", \"otbs \", \"pico\", \"lisp\", \"python\", or \"\"\n        \"style\": \"google\"\n    }\n}\n</code></pre>\n\n<p>You can have interesting options like \"autoformat_on_save\", indentation stuff, etc.</p>\n"}], "owner": {"reputation": 1153, "user_id": 2147228, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/gkiOE.jpg?s=128&g=1", "display_name": "Kalyanaraman Santhanam", "link": "https://stackoverflow.com/users/2147228/kalyanaraman-santhanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4336, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1447800244, "creation_date": 1427323945, "last_edit_date": 1427324217, "question_id": 29268010, "link": "https://stackoverflow.com/questions/29268010/sublime-text-support-for-google-style-guide", "title": "Sublime text support for Google style guide", "body": "<p>I am using sublime text 3 for writing C++ code. \nWe follow <a href=\"https://google-styleguide.googlecode.com/svn/trunk/cppguide.html\" rel=\"noreferrer\">Google style guide for CPP</a>. </p>\n\n<p>I am looking for any plugins which provide auto-reindent and linter support using the style guide as reference.</p>\n"}, {"tags": ["c++", "operator-overloading", "binary-tree"], "comments": [{"owner": {"reputation": 4556, "user_id": 1269661, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5f3a348bd307a1a2c6ecefb06519ab81?s=128&d=identicon&r=PG", "display_name": "Predelnik", "link": "https://stackoverflow.com/users/1269661/predelnik"}, "edited": false, "score": 2, "creation_date": 1427323964, "post_id": 29267969, "comment_id": 46737482, "body": "1) Your overloading is not inuitive becuase operator &quot;+&quot; does not normally mutates it&#39;s left hand-side. 2) Even if you think it modifies left hand-side - it actually copies it while passing to function and mutates the copy, so it probably doesn&#39;t act like you planned it to,"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1427323998, "post_id": 29267969, "comment_id": 46737499, "body": "<a href=\"http://stackoverflow.com/q/4421706/3425536\">This</a> might help."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1427324151, "post_id": 29267969, "comment_id": 46737547, "body": "Your operator+ takes its left argument by value, mutates it, and then throws it away. Did you intend to add a node to a temporary copy of your tree, which you can never access?"}, {"owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "edited": false, "score": 0, "creation_date": 1427324316, "post_id": 29267969, "comment_id": 46737606, "body": "Could you post your BST implementation? As the other comments say you&#39;ve got an &quot;interesting&quot; operator overload, but that in itself shouldn&#39;t cause segmentation faults. I wonder if there&#39;s something occuring as a result of deleting the left param of your operator"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427324338, "post_id": 29267969, "comment_id": 46737612, "body": "Looks like you want to overload <code>+=</code> instead."}, {"owner": {"reputation": 10457, "user_id": 3746428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9eaeee3f138fe326928b21edb6f0c86c?s=128&d=identicon&r=PG&f=1", "display_name": "user3746428", "link": "https://stackoverflow.com/users/3746428/user3746428"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1427324699, "post_id": 29267969, "comment_id": 46737768, "body": "@zenith Ideally, what I would like to do is to be able to do <code>tree = tree + 5</code>."}], "answers": [{"comments": [{"owner": {"reputation": 10457, "user_id": 3746428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9eaeee3f138fe326928b21edb6f0c86c?s=128&d=identicon&r=PG&f=1", "display_name": "user3746428", "link": "https://stackoverflow.com/users/3746428/user3746428"}, "edited": false, "score": 0, "creation_date": 1427326487, "post_id": 29268495, "comment_id": 46738420, "body": "That fixed the problem. Thanks! I realised afterwards that I meant to do <code>tree = tree + 5</code>, rather than <code>tree + 5</code>, but hopefully it won&#39;t be too difficult to change."}], "tags": [], "owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "is_accepted": true, "score": 1, "last_activity_date": 1427326275, "creation_date": 1427326275, "answer_id": 29268495, "question_id": 29267969, "link": "https://stackoverflow.com/questions/29267969/segmentation-fault-with-operator-overloading/29268495#29268495", "title": "Segmentation fault with operator overloading", "body": "<p>Most likely you need to take the BST as a reference. Also consider using <code>+=</code> instead of <code>+</code>.</p>\n"}], "owner": {"reputation": 10457, "user_id": 3746428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9eaeee3f138fe326928b21edb6f0c86c?s=128&d=identicon&r=PG&f=1", "display_name": "user3746428", "link": "https://stackoverflow.com/users/3746428/user3746428"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 29268495, "answer_count": 1, "score": 0, "last_activity_date": 1427326275, "creation_date": 1427323704, "question_id": 29267969, "link": "https://stackoverflow.com/questions/29267969/segmentation-fault-with-operator-overloading", "title": "Segmentation fault with operator overloading", "body": "<p>I am creating a binary tree program and I would like to overload a few operators. I have tried overloading the + operator so that when I write something like <code>myTree + 5</code>, it would add 5 as a node on the tree.</p>\n\n<p>This is my code:</p>\n\n<pre><code>BST myTree;\n\nvoid operator+(BST left, int right) {\n    myTree.addLeaf(right);  \n}\n\nint main() {    \n    vector&lt;int&gt; treeKeyList;\n    srand((unsigned)time(NULL));\n    int before = rand() % 20 + 1;  \n    for (int i = 0; i &lt; before; i++) {\n        int after = rand() % 20 + 1;\n        treeKeyList.push_back(after);\n        cout &lt;&lt; treeKeyList[i] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n\n    for (int i = 0; i &lt; treeKeyList.size(); i++) {\n        myTree + treeKeyList[i];\n    }\n}\n</code></pre>\n\n<p>At the moment, it seems to run fine through one loop, however it crashes when it tries to add the second value with a segmentation fault error. I think the issue must be in the code I have shown, as before I added the overloading it worked fine. If I did this instead:</p>\n\n<pre><code>for (int i = 0; i &lt; treeKeyList.size(); i++) {\n    myTree.addLeaf(treeKeyList[i]);\n}\n</code></pre>\n\n<p>It works absolutely fine. Any ideas?</p>\n"}, {"tags": ["c++", "openssl", "md5", "md5sum", "evp-cipher"], "comments": [{"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1427323557, "post_id": 29267897, "comment_id": 46737323, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/22886492/bash-md5sum-behaves-strange\">bash, md5sum behaves strange</a>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1427324173, "post_id": 29267897, "comment_id": 46737559, "body": "Try this: change <code>char data[1024]</code> to <code>std::string data</code>, remove the <code>memset()</code>, change <code>std::cin&gt;&gt;data</code> to <code>std::getline(std::cin, data)</code>, and change <code>getMd5Hash((unsigned char *)data, strlen(data), &amp;mdLen)</code> to <code>getMd5Hash((unsigned char *) data.c_str(), data.length(), &amp;mdLen)</code>."}, {"owner": {"reputation": 4288, "user_id": 4623526, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0e17eb1840f30ff4acc5b1556a39531?s=128&d=identicon&r=PG&f=1", "display_name": "ar2015", "link": "https://stackoverflow.com/users/4623526/ar2015"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1427325820, "post_id": 29267897, "comment_id": 46738197, "body": "@RemyLebeau I got it in C and made a nasty conversion to C++ very quickly. I agree with your points."}], "answers": [{"comments": [{"owner": {"reputation": 4288, "user_id": 4623526, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0e17eb1840f30ff4acc5b1556a39531?s=128&d=identicon&r=PG&f=1", "display_name": "ar2015", "link": "https://stackoverflow.com/users/4623526/ar2015"}, "edited": false, "score": 0, "creation_date": 1427323579, "post_id": 29267914, "comment_id": 46737335, "body": "Yes that&#39;s it. Now both are the same. But why didnt I see new line when I saved the data on file: <code>echo &quot;aaa&quot;&gt;data</code> and opening by gedit?"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1427323710, "post_id": 29267914, "comment_id": 46737378, "body": "By convention text files in UNIX are supposed to have a trailing newline. It doesn&#39;t cause an extra blank line to appear. Instead, an editor might indicate if the trailing newline is <i>missing</i> (e.g., vim&#39;s &quot;noeol&quot; status marker)."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 4288, "user_id": 4623526, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0e17eb1840f30ff4acc5b1556a39531?s=128&d=identicon&r=PG&f=1", "display_name": "ar2015", "link": "https://stackoverflow.com/users/4623526/ar2015"}, "edited": false, "score": 0, "creation_date": 1427325377, "post_id": 29267914, "comment_id": 46738030, "body": "@ar2015 What did <code>ls -l data</code> show? Was it three bytes or more?"}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 2, "last_activity_date": 1427323424, "creation_date": 1427323424, "answer_id": 29267914, "question_id": 29267897, "link": "https://stackoverflow.com/questions/29267897/md5-mismatch-between-openssl-and-linux-bash-calculation/29267914#29267914", "title": "MD5 mismatch between openssl and linux bash calculation", "body": "<p>Try <code>echo -n</code>. You're also hashing the end of line marker.</p>\n\n<pre><code>$ echo -e \"aaa\" | md5sum \n5c9597f3c8245907ea71a89d9d39d08e  -\n$ echo -n \"aaa\" | md5sum \n47bce5c74f589f4867dbd57e9ca9f808  -\n</code></pre>\n"}], "owner": {"reputation": 4288, "user_id": 4623526, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0e17eb1840f30ff4acc5b1556a39531?s=128&d=identicon&r=PG&f=1", "display_name": "ar2015", "link": "https://stackoverflow.com/users/4623526/ar2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 29267914, "answer_count": 1, "score": 0, "last_activity_date": 1427323456, "creation_date": 1427323322, "question_id": 29267897, "link": "https://stackoverflow.com/questions/29267897/md5-mismatch-between-openssl-and-linux-bash-calculation", "title": "MD5 mismatch between openssl and linux bash calculation", "body": "<p>I found this code online for calculating md5:</p>\n\n<pre><code>#include&lt;openssl/evp.h&gt;\n#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;string.h&gt;\n#include&lt;iostream&gt;\n\nunsigned char *getMd5Hash(unsigned char *data, size_t dataLen, int *mdLen)\n{\n    unsigned char *md = NULL;\n    EVP_MD_CTX *ctx = NULL;\n    const EVP_MD *mdType = EVP_md5();\n    *mdLen = EVP_MD_size(mdType);\n    md = (unsigned char *) malloc(*mdLen);\n    ctx = EVP_MD_CTX_create();\n    EVP_MD_CTX_init(ctx);\n    EVP_DigestInit_ex(ctx, mdType, NULL);\n    EVP_DigestUpdate(ctx, data, dataLen);\n    EVP_DigestFinal_ex(ctx, md, NULL);\n    EVP_MD_CTX_cleanup(ctx);\n    EVP_MD_CTX_destroy(ctx);\n    return md;\n}\n\n\nint main()\n{\n    char data[1024];\n    unsigned char *md;\n    int i = 0, mdLen = 0;\n    memset(&amp;data, 0, 1024);\n    std::cout&lt;&lt;\"Enter string: \";\n    std::cin&gt;&gt;data;\n    md = getMd5Hash((unsigned char *)data, strlen(data), &amp;mdLen);\n    for(i = 0; i &lt; mdLen; i++) {\n        printf(\"%02x\",md[i]);\n    } printf(\"\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>And I built it.</p>\n\n<pre><code>g++ aaa.cpp -lcrypto\n</code></pre>\n\n<p>However, the result of this code is different from the result of md5sum of Linux bash:</p>\n\n<pre><code>$ ./a.out\nEnter string: aaa\n47bce5c74f589f4867dbd57e9ca9f808\n\n$ echo -e \"aaa\"|md5sum\n5c9597f3c8245907ea71a89d9d39d08e  -\n</code></pre>\n\n<p>Where does this difference come from?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 1, "creation_date": 1427323376, "post_id": 29267887, "comment_id": 46737257, "body": "Instead of <code>base_foo&lt;t&gt;::</code>, you could use <code>this-&gt;</code> as well."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1427323380, "post_id": 29267887, "comment_id": 46737259, "body": "The better option is to fix all your broken code. Note you can also say <code>this-&gt;foo</code>."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1427325003, "post_id": 29267887, "comment_id": 46737872, "body": "Actually, <a href=\"http://stackoverflow.com/questions/4643074/why-do-i-have-to-access-template-base-class-members-through-the-this-pointer\">this</a> might be the better dupe."}], "owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1427325280, "answer_count": 0, "score": 0, "last_activity_date": 1427323284, "creation_date": 1427323284, "question_id": 29267887, "link": "https://stackoverflow.com/questions/29267887/specify-the-templated-base-class-as-the-source-of-derived-class-variable", "closed_reason": "Duplicate", "title": "Specify the templated base class as the source of derived class variable", "body": "<p>I am currently porting some code from Visual studio to mingw and their are instances in the code when variables in the base class are being used inside the methods in a derived class. For instance</p>\n\n<pre><code>template&lt;typename t&gt;\nstruct base_foo \n{\n  int foo;\n};\n\ntemplate&lt;typename t&gt;\nstruct derived_foo : public base_foo&lt;t&gt; \n{\n  void some_method();\n};\n\ntemplate&lt;typename t&gt;\nvoid derived_foo&lt;t&gt;::some_method()\n{\n  foo = 12 ; //Error variable not declared in this scope\n  base_foo&lt;t&gt;::foo = 12 ; //OK\n}\n</code></pre>\n\n<p>Now there are many instances like this in my code and wanted to know if there was a way for me to state that if there is a variable that isnt found locally look in the base class. In short\nif the following gives an error</p>\n\n<pre><code>   foo = 12 ; \n</code></pre>\n\n<p>then try</p>\n\n<pre><code>base_foo&lt;t&gt;::foo = 12;\n</code></pre>\n"}, {"tags": ["c++", "floating-point", "overflow", "addition"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1427322858, "post_id": 29267787, "comment_id": 46737046, "body": "The only value for which <code>a+b</code> is not <code>&gt;~0</code> is <code>~0</code> itself.  ;)  Unsigned arithmetic is defined mod 2^n for some n guaranteed in C++.  Signed arithmetic is ... far less guaranteed."}, {"owner": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "edited": false, "score": 1, "creation_date": 1427322911, "post_id": 29267787, "comment_id": 46737068, "body": "In floating-point, \u201c<code>a+ b</code> overflows\u201d is <b>defined</b> as \u201c<code>a + b == +inf</code>\u201d. I don&#39;t know what else you want. But your <code>~0</code> makes me think that you are not interested in floating-point, and then you should pick some tag you are interested in."}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427322947, "post_id": 29267787, "comment_id": 46737084, "body": "I don&#39;t know the answer to this, but I would explore <code>decltype</code>. It returns the type of an object. From the type of an object, you can infer the max value it may properly store. From the max value, you can infer if there will be overflow for a given operation."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1427323384, "post_id": 29267787, "comment_id": 46737261, "body": "<a href=\"http://stackoverflow.com/questions/199333/how-to-detect-integer-overflow-in-c-c\" title=\"how to detect integer overflow in c c\">stackoverflow.com/questions/199333/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1427324522, "last_edit_date": 1427324522, "creation_date": 1427323833, "answer_id": 29267985, "question_id": 29267787, "link": "https://stackoverflow.com/questions/29267787/is-it-possible-to-construct-a-general-procedure-for-determing-whether-a-binary-o/29267985#29267985", "title": "Is it possible to construct a general procedure for determing whether a binary operation causes overflow?", "body": "<p>Since you are asking about addition alone, you can do it for the types with <code>numeric_limits&lt;T&gt;::max()</code> defined along with an additional assumption that at least one of <code>a</code> and <code>b</code> is non-negative. (There is likely a way to work-around it but I don't see a succinct one.)</p>\n\n<pre><code>template &lt;typename T&gt; \nbool overflows(T a, T b)\n{\n  if(a &lt; b) return overflows(b,a);\n  //Since we assumed at least one is non-negative, this now makes sense.\n  return b &lt; std::numeric_limits&lt;T&gt;::max() - a;\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4683091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bb5c3894c00403bbbfb632cf5d3bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Bahlmer", "link": "https://stackoverflow.com/users/4683091/steve-bahlmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 29267985, "answer_count": 1, "score": 2, "last_activity_date": 1427324522, "creation_date": 1427322733, "question_id": 29267787, "link": "https://stackoverflow.com/questions/29267787/is-it-possible-to-construct-a-general-procedure-for-determing-whether-a-binary-o", "title": "Is it possible to construct a general procedure for determing whether a binary operation causes overflow?", "body": "<p>I'm curious, is it possible to write an all-encompassing implementation like</p>\n\n<pre><code>template &lt;typename T&gt; \nbool overflows(T a, T b)\n{\n  // ... Returns true or false depending on whether a+b overflows\n}\n</code></pre>\n\n<p>????</p>\n\n<p>If not, can someone at least show me how to write an implementation of </p>\n\n<pre><code>   bool overflows (unsigned int a, unsigned int b)\n   {\n       // ... returns true or false depending on whether a+b &gt; ~0\n   }\n</code></pre>\n\n<p>???</p>\n\n<p>Since I don't have a Computer Science degree, I don't have any formal education about how programs are supposed to handle overflow, although I understand the concept of overflow (If our range of numbers is, say, 0,1,...,127, then the + operation doesn't \"work\" on 64+64, 65+63, 66,62, etc.)</p>\n"}, {"tags": ["c++", "time"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "edited": false, "score": 1, "creation_date": 1427322485, "post_id": 29267657, "comment_id": 46736923, "body": "For starters, check out <a href=\"https://stackoverflow.com/questions/11213326/how-to-convert-a-string-variable-containing-time-to-time-t-type-in-c\">How to convert a string variable containing time to time_t type in c++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "is_accepted": false, "score": 1, "last_activity_date": 1427322254, "creation_date": 1427322254, "answer_id": 29267680, "question_id": 29267657, "link": "https://stackoverflow.com/questions/29267657/how-to-get-input-from-cin-which-are-seperated-by-colon/29267680#29267680", "title": "How to get input from cin, which are seperated by colon?", "body": "<p>you can store time in <code>String</code> and then divide it into hr,min,sec based on position of 2 colon and then store it in 3 integers.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1427322649, "last_edit_date": 1427322649, "creation_date": 1427322276, "answer_id": 29267686, "question_id": 29267657, "link": "https://stackoverflow.com/questions/29267657/how-to-get-input-from-cin-which-are-seperated-by-colon/29267686#29267686", "title": "How to get input from cin, which are seperated by colon?", "body": "<p>Use a place holder object to read the <code>':'</code> into. Read the numbers into the right objects.</p>\n\n<pre><code>char dummy;\ncout &lt;&lt; \"Please enter date as HH:MM:SS\";\ncin &gt;&gt; tm.hour &gt;&gt; dummy &gt;&gt; tm.minute &gt;&gt; dummy &gt;&gt; tm.second;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "is_accepted": false, "score": 2, "last_activity_date": 1427322618, "creation_date": 1427322618, "answer_id": 29267762, "question_id": 29267657, "link": "https://stackoverflow.com/questions/29267657/how-to-get-input-from-cin-which-are-seperated-by-colon/29267762#29267762", "title": "How to get input from cin, which are seperated by colon?", "body": "<p>Sometimes the old is better</p>\n\n<pre><code>scanf(\"%d:%d:%d\", &amp;tm.hour, &amp;tm.minute, &amp;tm.second);\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 4714277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ab589c042ac31791b170c4ae209cd5?s=128&d=identicon&r=PG&f=1", "display_name": "hbk", "link": "https://stackoverflow.com/users/4714277/hbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1694, "favorite_count": 0, "accepted_answer_id": 29267686, "answer_count": 3, "score": 0, "last_activity_date": 1427322853, "creation_date": 1427322069, "last_edit_date": 1427322853, "question_id": 29267657, "link": "https://stackoverflow.com/questions/29267657/how-to-get-input-from-cin-which-are-seperated-by-colon", "title": "How to get input from cin, which are seperated by colon?", "body": "<p>I am trying to get time input like 12:30:00 which is hour:minute:second and then put them in a struct. Im using cin but it only works when i use space instead of colon like 12 30 00. How can i make it work with colon instead of space? Please be as easy as possible im very newbie about this.</p>\n\n<p>An example could be like:</p>\n\n<pre><code>struct time{\n    int hour,minute,second;\n    long acc_seconds;\n}tm;\n\nint main(){\ncout &lt;&lt;\"Please enter date as HH:MM:SS\";\ncin &gt;&gt; tm.hour&gt;&gt;tm.minute&gt;&gt;tm.second;\n}\n</code></pre>\n"}, {"tags": ["c++", "eclipse", "oop", "menu"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427327382, "post_id": 29267602, "comment_id": 46738683, "body": "Please clarify.  You have a function that inserts into the library.  You have a function that searches for a DVD.  What do you mean by update and how is it different from searching and inserting?"}, {"owner": {"reputation": 35, "user_id": 3472448, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b31107c71014a3a4c01984841e812d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3472448", "link": "https://stackoverflow.com/users/3472448/user3472448"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427368164, "post_id": 29267602, "comment_id": 46752127, "body": "So basically when I add a new dvd for example say I add the dvd &quot;home alone&quot; and 5 copies are added, and then say I add more copies of the same dvd say I add another 3 dvds of the same film, so when I search for &quot;home alone&quot; it shows 5 copies instead of showing 8 copies."}, {"owner": {"reputation": 612, "user_id": 4704677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26589dcd531f803e43540ccf840e32e8?s=128&d=identicon&r=PG", "display_name": "MeshBoy", "link": "https://stackoverflow.com/users/4704677/meshboy"}, "edited": false, "score": 0, "creation_date": 1427384826, "post_id": 29267602, "comment_id": 46763562, "body": "what is your primary key in database&gt; is it set to unique?"}, {"owner": {"reputation": 35, "user_id": 3472448, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b31107c71014a3a4c01984841e812d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3472448", "link": "https://stackoverflow.com/users/3472448/user3472448"}, "edited": false, "score": 0, "creation_date": 1427397686, "post_id": 29267602, "comment_id": 46771450, "body": "Sorry Im not quite sure what you are asking? Im quite new to c++/oop"}], "owner": {"reputation": 35, "user_id": 3472448, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b31107c71014a3a4c01984841e812d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3472448", "link": "https://stackoverflow.com/users/3472448/user3472448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427457880, "creation_date": 1427321828, "question_id": 29267602, "link": "https://stackoverflow.com/questions/29267602/creating-a-dvd-menu-for-a-library-system", "title": "Creating a DVD menu for a library system", "body": "<p>I am in the process of creating a library system. I am creating a Dvd menu now and this how it looks right now:</p>\n\n<pre><code>switch (dvdOption){\n\n           case '1':\n              cout &lt;&lt; \"Enter Name of DVD: \";\n              cin.getline( name, 80);\n              DVD *item;\n              item = lib.searchDVD( name );\n              if( item != NULL){\n                cout &lt;&lt; \"DVD already exist, do you want to update the existing DVD?\" &lt;&lt; endl; \n                cout &lt;&lt; \"1 for Yes\" &lt;&lt; endl;\n                cout &lt;&lt; \"2 for No\"  &lt;&lt; endl;\n                cin &gt;&gt; response;\n                if (response == '1'){\n\n                }\n              }\n              cout &lt;&lt; \"Enter Director of DVD: \";\n              cin.getline(director, 80);\n              cout &lt;&lt; \"Enter no of copies: \";\n              cin.getline(copies, 80);\n              lib.insertDVD( name, director, atoi(copies));\n              break;\n           case '2':\n              cout &lt;&lt; \"Enter Name of DVD:\\n\";\n              cin.getline(name, 80);\n              lib.deleteDVD(name);\n              break;\n           case '3':\n              cout &lt;&lt; \"Enter Name of DVD:\\n\";\n              cin.getline(name, 80);\n              DVD *item;\n              item = lib.searchDVD( name );\n              if( item != NULL){\n                cout &lt;&lt; \"DVD found\\n\" &lt;&lt; item-&gt;name &lt;&lt; endl &lt;&lt; item-&gt;director &lt;&lt; endl &lt;&lt; item-&gt;copies &lt;&lt; endl;\n              }\n              else\n              cout &lt;&lt; \"DVD not found\\n\";\n              break;\n           case '4':\n              break;\n           case '5':\n              exit(0);\n              break;\n           case '6':\n              cout &lt;&lt; \"Invalid selection!\" &lt;&lt; endl;\n              system(\"pause\");\n              break;\n        }\n        }\n</code></pre>\n\n<p>Currently when I add a new dvd to the database and then add another dvd with the same name and author it doesn't get updated, so when I search for it I get the first dvd that was added. So what I would like to do is when I select the option of adding a new DVD it will ask for a name and then the system should search the library and see if it already exists if it does it should give another option asking whether you want update the existing DVD. I have done the searching part but need help updating the system with new details entered.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "windows", "parameters", "compiler-errors", "type-conversion"], "comments": [{"owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1427321754, "post_id": 29267507, "comment_id": 46736646, "body": "put the complete code!"}, {"owner": {"reputation": 46, "user_id": 4714228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb833681a8c6e15628485b87c3ea26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4714228/andrew"}, "reply_to_user": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1427322846, "post_id": 29267507, "comment_id": 46737042, "body": "@JerryGoyal for the program, or the function?"}, {"owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1427323009, "post_id": 29267507, "comment_id": 46737117, "body": "for complete program as your function seems to be correct."}, {"owner": {"reputation": 46, "user_id": 4714228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb833681a8c6e15628485b87c3ea26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4714228/andrew"}, "reply_to_user": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1427323082, "post_id": 29267507, "comment_id": 46737153, "body": "the program is 400 lines, but those are the only 2 errors"}, {"owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1427323243, "post_id": 29267507, "comment_id": 46737222, "body": "paste your code on ideone.com and share the link. there is something wrong with the arguments"}], "answers": [{"comments": [{"owner": {"reputation": 12672, "user_id": 1927206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/434140a485dca639d56237db0fbeef54?s=128&d=identicon&r=PG", "display_name": "Bill Woodger", "link": "https://stackoverflow.com/users/1927206/bill-woodger"}, "reply_to_user": {"reputation": 46, "user_id": 4714228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb833681a8c6e15628485b87c3ea26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4714228/andrew"}, "edited": false, "score": 0, "creation_date": 1427322212, "post_id": 29267562, "comment_id": 46736828, "body": "@Andrew Please don&#39;t type code or data/results. Copy/paste. No-one wants to chase typos before even getting to your problem."}], "tags": [], "owner": {"reputation": 2969, "user_id": 4683600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcf47e6c220e1d2bf49575565b46da5?s=128&d=identicon&r=PG&f=1", "display_name": "bku_drytt", "link": "https://stackoverflow.com/users/4683600/bku-drytt"}, "is_accepted": false, "score": 0, "last_activity_date": 1427322248, "last_edit_date": 1427322248, "creation_date": 1427321586, "answer_id": 29267562, "question_id": 29267507, "link": "https://stackoverflow.com/questions/29267507/c-compiler-error-with-string-and-int-parameters/29267562#29267562", "title": "C++ compiler error with string and int parameters", "body": "<p>The following code compiles properly on my machine:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid foo( string line, int lineno ); //declaration = LINE_B\nvoid foo( string line, int lineno )\n{\n    //function body\n    if ( lineno == 1 )\n    {\n        //actions\n    }\n    else if ( lineno == 2 )\n    {\n        //actions}\n        //etc\n    }\n}\n\nint main()\n{\n    string s{};\n    int i{};\n    foo( s, i );\n    char c; cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 4714228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb833681a8c6e15628485b87c3ea26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4714228/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427324646, "creation_date": 1427321380, "last_edit_date": 1427324646, "question_id": 29267507, "link": "https://stackoverflow.com/questions/29267507/c-compiler-error-with-string-and-int-parameters", "title": "C++ compiler error with string and int parameters", "body": "<p>I'm using codeblocks for c++ on windows (with MinGW's GCC compiler) with a simple function...  </p>\n\n<pre><code>void foo(string line, int lineno); //declaration = LINE_B\nvoid foo(string line, int lineno){ //function body\n    if(lineno==1){//actions}\n    elseif(lineno==2){//actions}\n    //etc\n}\n//call to function inside main = LINE_A\nfoo(str, i); //where str and i are initialized earlier\n</code></pre>\n\n<p>but the program won't compile with these two errors listed for that function...<br>\nLINE_A error: invalid conversion from 'int' to 'int* (*)()' [-fpermissive]<br>\nLINE_B error: initializing argument 2 of 'void foo(std::string, int* (*)())' [-fpermissive]<br>\nwhat's going on?<br>\nside note, the program compiles/runs without issue on mac os x with g++</p>\n"}, {"tags": ["c++", "inheritance", "multi-level"], "comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 1, "creation_date": 1427321291, "post_id": 29267454, "comment_id": 46736474, "body": "Can you be more specific about what you&#39;re trying to accomplish?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1427321316, "post_id": 29267454, "comment_id": 46736481, "body": "What happened when you tried it out?"}, {"owner": {"reputation": 1683, "user_id": 1098041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3277172b7213117c165e42611c0749a?s=128&d=identicon&r=PG", "display_name": "F&#233;lix Cantournet", "link": "https://stackoverflow.com/users/1098041/f%c3%a9lix-cantournet"}, "edited": false, "score": 0, "creation_date": 1427322253, "post_id": 29267454, "comment_id": 46736841, "body": "I&#39;m not sure why the downvote. The answer is obviously no, but... and the answer is appropriate in that regard."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1427325755, "post_id": 29267454, "comment_id": 46738177, "body": "<b>Books:</b> <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "is_accepted": false, "score": 5, "last_activity_date": 1427322002, "creation_date": 1427322002, "answer_id": 29267647, "question_id": 29267454, "link": "https://stackoverflow.com/questions/29267454/multi-level-inheritance-in-c/29267647#29267647", "title": "multi level inheritance in c++", "body": "<p>A parent class cannot access data from a child class without \"tricks\", e.g.</p>\n\n<pre><code>class A\n{\nprotected:\n  int m_a;\n};\n\nclass B : public A\n{\nprotected:\n  int m_b;\n};\n</code></pre>\n\n<p>B can access m_a, A cannot access m_b. To get this behaviour you can use polymorphism and an accessor function</p>\n\n<pre><code>class A\n{\nprotected:\n  virtual int GetVar() { return m_a; }\nprivate:\n  int m_a;\n}\n\nclass B : public A\n{\nprotected:\n  virtual int GetVar() { return m_b; }\nprivate:\n  int m_b;\n}\n</code></pre>\n\n<p>Now A can access m_b through calling <code>GetVar()</code> e.g.</p>\n\n<pre><code>void A::DoSomething()\n{\n  // I want to do something to the variable, \n  int myVar = GetVar();\n}\n</code></pre>\n\n<p>Now if the instance is type <code>A</code> then <code>A::GetVar()</code> is called, if the instance is type <code>B</code> then <code>B::GetVar()</code> will be called instead</p>\n"}], "owner": {"reputation": 15, "user_id": 4714261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d09eea99f17bb95468a52117229d75a?s=128&d=identicon&r=PG&f=1", "display_name": "enthusisisi", "link": "https://stackoverflow.com/users/4714261/enthusisisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1428032020, "creation_date": 1427321170, "last_edit_date": 1428032020, "question_id": 29267454, "link": "https://stackoverflow.com/questions/29267454/multi-level-inheritance-in-c", "title": "multi level inheritance in c++", "body": "<p>Suppose there is a 3 level inheritance.</p>\n\n<p>Classes A&lt;-B&lt;-C.</p>\n\n<p>Can methods of B class access members of C which is derived from it?</p>\n\n<p>Assume suitable mode of inheritance.</p>\n"}, {"tags": ["c#", "c++", "java-native-interface"], "comments": [{"owner": {"reputation": 483, "user_id": 2941910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffd724c00ec3008f50e3c6b222f0410?s=128&d=identicon&r=PG&f=1", "display_name": "Al.exe", "link": "https://stackoverflow.com/users/2941910/al-exe"}, "edited": false, "score": 0, "creation_date": 1427323051, "post_id": 29267426, "comment_id": 46737140, "body": "you might fin this <a href=\"http://stackoverflow.com/questions/13293888/how-to-call-a-c-sharp-library-from-native-c-using-c-cli-and-ijw\">this</a> discussion useful"}], "answers": [{"comments": [{"owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427323500, "post_id": 29267781, "comment_id": 46737300, "body": "Tried this already but error occurs that scanFile cannot be called with the given arguments"}, {"owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427325030, "post_id": 29267781, "comment_id": 46737881, "body": "translate from german:  &#205;ntelliSense: no custom convert from &quot; &quot;System::String ^&quot;&quot; in &quot;&quot;System::String&quot;&quot; exists"}, {"owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "reply_to_user": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427359572, "post_id": 29267781, "comment_id": 46747631, "body": "is this error from my code? if yes what error do you get from your own code?"}], "tags": [], "owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1427322706, "creation_date": 1427322706, "answer_id": 29267781, "question_id": 29267426, "link": "https://stackoverflow.com/questions/29267426/c-method-cannot-be-invoked-in-c-wrapper/29267781#29267781", "title": "C# Method cannot be invoked in c++ wrapper", "body": "<p>You should use <code>System::String^ path</code> in your c++ cli wrapper. You should remove the <code>const</code> too.</p>\n"}], "owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427322706, "creation_date": 1427321063, "question_id": 29267426, "link": "https://stackoverflow.com/questions/29267426/c-method-cannot-be-invoked-in-c-wrapper", "title": "C# Method cannot be invoked in c++ wrapper", "body": "<p>I want to use my c# dll in a java project. Now I need to create a wrapper library for my c# code.</p>\n\n<p>My C#-Method has this signature</p>\n\n<pre><code>    public static String scanFile(String path)\n</code></pre>\n\n<p>now how can I call this from my wrapper c++ class?</p>\n\n<pre><code>String scanFile(const System::String path){\n    return CardScan32::Scanner::scanFile(path);\n}\n</code></pre>\n\n<p>Currently I try this but its not working, because it cannot be called with this argument list</p>\n"}, {"tags": ["c++", "ofstream"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427321158, "post_id": 29267299, "comment_id": 46736434, "body": "You only need to check the file is open once. Not every time."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 3, "creation_date": 1427321420, "post_id": 29267299, "comment_id": 46736522, "body": "Does it work <i>at all</i>, then stop? Properly indented, it appears that you&#39;re closing the file at the end of your outer <code>for</code> loop, so  when <code>i == 1</code>, etc. the file will definitely be closed."}], "answers": [{"tags": [], "owner": {"reputation": 1296, "user_id": 1457647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47464ad66029678f76bbc5cab50b7aaf?s=128&d=identicon&r=PG", "display_name": "David Saxon", "link": "https://stackoverflow.com/users/1457647/david-saxon"}, "is_accepted": false, "score": 1, "last_activity_date": 1427321254, "creation_date": 1427321254, "answer_id": 29267472, "question_id": 29267299, "link": "https://stackoverflow.com/questions/29267299/file-wont-open-for-writing/29267472#29267472", "title": "File won&#39;t open for writing", "body": "<p>Do you have the correct permissions to write to the file path? Do the does the path to the file actually exist?</p>\n\n<p>You can check the errno to find out what went wrong.</p>\n\n<pre><code>#include &lt;cerrno&gt;\n\nstd::cout &lt;&lt; \"File error: \" &lt;&lt; strerror( errno ) &lt;&lt; std::endl;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 2933157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5f6626ea6f0c04f9bd39638b4ea15213?s=128&d=identicon&r=PG&f=1", "display_name": "user2933157", "link": "https://stackoverflow.com/users/2933157/user2933157"}, "edited": false, "score": 0, "creation_date": 1427322930, "post_id": 29267594, "comment_id": 46737076, "body": "Yea I moved the .close() out of the loop and it works now! I guess you become blind to your own code when u look at it for too long :D. Thanks!"}], "tags": [], "owner": {"reputation": 71, "user_id": 4714172, "user_type": "registered", "profile_image": "https://graph.facebook.com/463019390517482/picture?type=large", "display_name": "Sasha Krassovsky", "link": "https://stackoverflow.com/users/4714172/sasha-krassovsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1427321769, "creation_date": 1427321769, "answer_id": 29267594, "question_id": 29267299, "link": "https://stackoverflow.com/questions/29267299/file-wont-open-for-writing/29267594#29267594", "title": "File won&#39;t open for writing", "body": "<p>Could it be that your curly braces are mismatched?\nYou never close out of the scope of the first for loop, so you are closing the file on the first iteration of the loop. </p>\n"}], "owner": {"reputation": 173, "user_id": 2933157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5f6626ea6f0c04f9bd39638b4ea15213?s=128&d=identicon&r=PG&f=1", "display_name": "user2933157", "link": "https://stackoverflow.com/users/2933157/user2933157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 29267594, "answer_count": 2, "score": 0, "last_activity_date": 1427321769, "creation_date": 1427320579, "last_edit_date": 1427321365, "question_id": 29267299, "link": "https://stackoverflow.com/questions/29267299/file-wont-open-for-writing", "title": "File won&#39;t open for writing", "body": "<p>I'm trying to write contents of datastructure to a file but for some reason file.is_open() returns false. Am I missing something? Printing should work fine as I tested it with cout.</p>\n\n<pre><code>std::ofstream file;\n\nfile.open(filename, std::ofstream::out | std::ofstream::trunc);\n\nfor(int i = 0; i &lt; 1000; ++i) {\n\n    Candy* tmp = index[i];\n    for(; tmp; tmp = tmp-&gt;next){\n        if(file.is_open()){\n            file &lt;&lt; tmp-&gt;ID &lt;&lt; \";\" &lt;&lt; tmp-&gt;amount &lt;&lt; \";\" &lt;&lt; tmp-&gt;location &lt;&lt;\n        }\n        else{\n            std::cout &lt;&lt; \"error\" &lt;&lt; std::endl;\n        }\n    }\n    file.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "int"], "comments": [{"owner": {"reputation": 143, "user_id": 4256498, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/98c7a9ae55794b5be28941546f3c3052?s=128&d=identicon&r=PG&f=1", "display_name": "Shirley Feng", "link": "https://stackoverflow.com/users/4256498/shirley-feng"}, "edited": false, "score": 0, "creation_date": 1427320293, "post_id": 29267200, "comment_id": 46736058, "body": "And I am wishing for any solution that preserve the array as int type without converting to string..."}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1427320355, "post_id": 29267200, "comment_id": 46736097, "body": "Please clarify -- you question is related with <a href=\"https://stackoverflow.com/questions/tagged/c\">c</a> or with <a href=\"https://stackoverflow.com/questions/tagged/c%2b%2b\">c++</a>?"}, {"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1427320394, "post_id": 29267200, "comment_id": 46736121, "body": "hmm..., may be instead of using delimiter you can create second array with group lengths: {1,2,1,0} and use these instead?"}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 4, "creation_date": 1427320539, "post_id": 29267200, "comment_id": 46736185, "body": "You have declared a as an array of int, therefore it can only contain int.  If you wish to declare some particular int as your delimiter -- and enforce the fact that it can appear only as a delimiter, you are certainly welcome to do so.   However you are probably trying to solve the wrong problem."}], "answers": [{"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1427321498, "post_id": 29267327, "comment_id": 46736554, "body": "The rules of C++ perhaps? Did it compile for you?"}, {"owner": {"reputation": 16545, "user_id": 1305516, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "David says Reinstate Monica", "link": "https://stackoverflow.com/users/1305516/david-says-reinstate-monica"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1427321552, "post_id": 29267327, "comment_id": 46736581, "body": "@juanchopanza I haven&#39;t compiled it, but now that I look at it, you would be right. Was too lazy to put array sizes :)"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 1, "creation_date": 1427322601, "post_id": 29267327, "comment_id": 46736956, "body": "if you do <code>vector&lt;vector&lt;int&gt;&gt; a={{2},{4,5},{6}};</code>, it would work, and then you can introduce the OP to c++ stl as well!"}, {"owner": {"reputation": 143, "user_id": 4256498, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/98c7a9ae55794b5be28941546f3c3052?s=128&d=identicon&r=PG&f=1", "display_name": "Shirley Feng", "link": "https://stackoverflow.com/users/4256498/shirley-feng"}, "edited": false, "score": 0, "creation_date": 1427331180, "post_id": 29267327, "comment_id": 46739760, "body": "Hi Ben,what does OP mean?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1427350895, "post_id": 29267327, "comment_id": 46744483, "body": "You shouldn&#39;t really suggest code that isn&#39;t even C++."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 143, "user_id": 4256498, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/98c7a9ae55794b5be28941546f3c3052?s=128&d=identicon&r=PG&f=1", "display_name": "Shirley Feng", "link": "https://stackoverflow.com/users/4256498/shirley-feng"}, "edited": false, "score": 0, "creation_date": 1427350973, "post_id": 29267327, "comment_id": 46744505, "body": "@ShirleyFeng Note that none of this is really valid C++."}], "tags": [], "owner": {"reputation": 16545, "user_id": 1305516, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "David says Reinstate Monica", "link": "https://stackoverflow.com/users/1305516/david-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1427321270, "last_edit_date": 1427321270, "creation_date": 1427320695, "answer_id": 29267327, "question_id": 29267200, "link": "https://stackoverflow.com/questions/29267200/c-delimiter-in-int-array/29267327#29267327", "title": "C++ Delimiter in int array", "body": "<p>This is not possible in C++. There is no syntax for such logic, nor does it fit with the (generally) strongly typed nature of C++.</p>\n\n<p>As an alternative, you can declare several arrays</p>\n\n<pre><code>int[] a= {2},\n      b= {4,5},\n      c= {6};\n</code></pre>\n\n<p>Declare an array of arrays</p>\n\n<pre><code>int[][] a={{2},{4,5},{6}};\n</code></pre>\n\n<p>Or create a function that will transform an array into groups based on your business logic.</p>\n\n<pre><code>int a={2,4,5,6};\nint [][] groups = myMagicFunc(a);\n</code></pre>\n\n<p>Or just use a different data structure.</p>\n"}], "owner": {"reputation": 143, "user_id": 4256498, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/98c7a9ae55794b5be28941546f3c3052?s=128&d=identicon&r=PG&f=1", "display_name": "Shirley Feng", "link": "https://stackoverflow.com/users/4256498/shirley-feng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427321270, "creation_date": 1427320159, "last_edit_date": 1427320469, "question_id": 29267200, "link": "https://stackoverflow.com/questions/29267200/c-delimiter-in-int-array", "title": "C++ Delimiter in int array", "body": "<p>I have a question about picking a proper delimiter to split the int array. \nsay, given</p>\n\n<pre><code>int[] a={2,3,4,5,6}\n</code></pre>\n\n<p>I want manually add some certain delimiter into the array so that I could split the int array into different groups, for example,</p>\n\n<pre><code>int[] b={2,?,4,5,?,6} =&gt; {2},{4,5},{6}\n</code></pre>\n\n<p>As above, what can I pick for the delimiter? And I guess maybe I can use some macro such as <code>MAX</code> or <code>MIN</code>. However, what if there's real number that equals to the boundary value?</p>\n\n<p>I've been stuck at this problem for quite a while. Any suggestion would be appreciated! Thanks in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 6, "creation_date": 1427320075, "post_id": 29267156, "comment_id": 46735944, "body": "What steps are you taking to break out of the loop?"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1427320280, "post_id": 29267156, "comment_id": 46736049, "body": "as juanchopanza said you are not doing anything to change the condition. You must modify employee_number to not be 1 to get out of the loop as that is the condition you set. You may also call break; to exit the loop but it is not recommended."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1427321108, "post_id": 29267156, "comment_id": 46736416, "body": "Why is the read outside the loop? Why aren&#39;t you checking whether or not the input succeeded?"}, {"owner": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "edited": false, "score": 0, "creation_date": 1427329765, "post_id": 29267156, "comment_id": 46739364, "body": "That&#39;s where my question lies, how to break out of the loop by only checking the file that&#39;s being called."}, {"owner": {"reputation": 221, "user_id": 3385436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/313a2376f9135209f724dbb92bec2722?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3385436/sam"}, "edited": false, "score": 0, "creation_date": 1427472126, "post_id": 29267156, "comment_id": 46804476, "body": "Please include a simple example of typical file content that the code is supposed to deal with. Is there more content after the sequence to be read, or are you trying to detect the end-of-file with &quot;0&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "edited": false, "score": 0, "creation_date": 1427329579, "post_id": 29267883, "comment_id": 46739311, "body": "The issue is that I am taking it solely from a text file that has already been provided. I need it to break when the next line is a 0 instead of a 1, which is what is being checked. So I added: &quot; inFile &gt;&gt; employee_number; &quot; which broke the loop but didn&#39;t change anything in the sent out file."}, {"owner": {"reputation": 221, "user_id": 3385436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/313a2376f9135209f724dbb92bec2722?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3385436/sam"}, "reply_to_user": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "edited": false, "score": 0, "creation_date": 1427392209, "post_id": 29267883, "comment_id": 46768374, "body": "Please describe in the question what the loop does and on what occasion it should break exactly. I&#39;m suspecting you want to check for the condition at every line read, so why is the read not inside the loop? And why does it only read once? For the purpose of the given code, you can also just put an if statement (and then the infinite loop inside is what your problem is, I guess)."}, {"owner": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "edited": false, "score": 0, "creation_date": 1427430631, "post_id": 29267883, "comment_id": 46783047, "body": "Ah, sorry. Okay, what I want the loop to do is to read the line after &quot;full_time&quot; and determine if that is a 1 or a 0, if it&#39;s a 1, I want the loop to run again and output all of the output that it did last time, whilst counting how many times it does this. I want it to loop until the line after &quot;full_time&quot; is a 0."}, {"owner": {"reputation": 221, "user_id": 3385436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/313a2376f9135209f724dbb92bec2722?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3385436/sam"}, "reply_to_user": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "edited": false, "score": 0, "creation_date": 1427470920, "post_id": 29267883, "comment_id": 46803643, "body": "You do notice that when you read into several variables but the line only contains char &quot;0&quot;, you&#39;ll possibly get errors because of end-of-file or start reading things after the &quot;0&quot; line, moving the input iterator forward."}], "tags": [], "owner": {"reputation": 221, "user_id": 3385436, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/313a2376f9135209f724dbb92bec2722?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/3385436/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1427392943, "last_edit_date": 1427392943, "creation_date": 1427323240, "answer_id": 29267883, "question_id": 29267156, "link": "https://stackoverflow.com/questions/29267156/file-i-o-issue-with-while-loops/29267883#29267883", "title": "File I/O issue with while loops", "body": "<p>This is a simplified version of your code, only containing what matters for the loop's behaviour:</p>\n\n<pre><code>inFile &gt;&gt; employee_number &gt;&gt; hourly_rate &gt;&gt; hours_worked &gt;&gt; dependents &gt;&gt; full_time;\n\nwhile (employee_number == 1)\n{\n    count++;\n    number_of_employed = count;\n}\n\noutFile.close();\ninFile.close();\n</code></pre>\n\n<p>In the loop, you are repeatedly checking for a condition to change to a value that would indicate the time where the loop should be broken. The problem is that your condition is constant, as the variable used in the condition is not modified during every loop iteration. The condition evaluates to the same value over and over again, never giving the loop a chance to break by changing the condition.</p>\n\n<pre><code>while(employee_number == 1){...} // employee_number is untouched\n\nwhile(true){...} // equivalent, as condition never changes (is constant)\n</code></pre>\n\n<p>To make the loop break at some point, you need to modify the variable(s) used in the condition inside the loop.</p>\n\n<pre><code>while(employee_number == 1){... /* modifying emloyee_number */ ...}\n</code></pre>\n\n<p>If we assume you want to read every line until the next line reads employee_number as 0, this is what I think you should be using:</p>\n\n<pre><code>while (true)\n{\n    inFile &gt;&gt; employee_number &gt;&gt; hourly_rate &gt;&gt; hours_worked &gt;&gt; dependents &gt;&gt; full_time;\n    if (employee_number == 0) break;\n\n    number_of_employed++;\n\n    // Do your things with the line readings\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4714197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1dmVm9Gp1Y/AAAAAAAAAAI/AAAAAAAAAEg/O7TxiomZnUI/photo.jpg?sz=128", "display_name": "PainterCM", "link": "https://stackoverflow.com/users/4714197/paintercm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1427392943, "creation_date": 1427319989, "last_edit_date": 1427320815, "question_id": 29267156, "link": "https://stackoverflow.com/questions/29267156/file-i-o-issue-with-while-loops", "title": "File I/O issue with while loops", "body": "<p>The program must loop, read in the data, calculate the values for each employee and output the results to a text file.</p>\n\n<p>The problem is that the while loop in my code is looping infinitely and I am not sure how to make it stop (at the point where next line isn't what we are looking for). The compiler is not catching what is wrong and I cannot find a viable answer elsewhere on the Internet.</p>\n\n<pre><code>inFile &gt;&gt; employee_number &gt;&gt; hourly_rate &gt;&gt; hours_worked &gt;&gt; dependents &gt;&gt; full_time;\n\nwhile (employee_number == 1)\n{\n    count++;\n\n    PayrollMath(hours_worked, hourly_rate, base_pay, gross_pay, overtime_hours, overtime_pay, double_overtime_hours, double_overtime_pay);\n\n    IRA_Deduction = RetirementSavings(gross_pay);\n    mod_gross_pay = gross_pay - IRA_Deduction;\n\n    taxes_withheld = IncomeTaxWithholding(dependents, mod_gross_pay);\n    net_pay = mod_gross_pay - taxes_withheld;\n\n    MedicalDeductions(net_pay, full_time, medical_benefits);\n\n    number_of_employed = count;\n\n    ProgramOutput(number_of_employed, hours_worked, hourly_rate, base_pay, overtime_hours, overtime_pay, double_overtime_hours,\n                  double_overtime_pay, gross_pay, IRA_Deduction, mod_gross_pay, taxes_withheld, net_pay, medical_benefits);\n\n}\n\ncout &lt;&lt; \" Successful Completion!\" &lt;&lt; endl;\n\noutFile.close();\ninFile.close();\n</code></pre>\n"}, {"tags": ["c++", "listbox", "selecteditem"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 3306640, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1737072989/picture?type=large", "display_name": "Nicox", "link": "https://stackoverflow.com/users/3306640/nicox"}, "is_accepted": true, "score": 0, "last_activity_date": 1427702843, "creation_date": 1427702843, "answer_id": 29341223, "question_id": 29267104, "link": "https://stackoverflow.com/questions/29267104/get-selected-item-id-of-listbox-c/29341223#29341223", "title": "Get Selected Item ID of ListBox C++", "body": "<p>I found the answer myself :)</p>\n\n<p>Here is what i search, if someone come to this post:</p>\n\n<pre><code>int i = this-&gt;listBox1-&gt;SelectedIndex;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 3306640, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1737072989/picture?type=large", "display_name": "Nicox", "link": "https://stackoverflow.com/users/3306640/nicox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2825, "favorite_count": 0, "accepted_answer_id": 29341223, "answer_count": 1, "score": -1, "last_activity_date": 1427702843, "creation_date": 1427319765, "question_id": 29267104, "link": "https://stackoverflow.com/questions/29267104/get-selected-item-id-of-listbox-c", "title": "Get Selected Item ID of ListBox C++", "body": "<p>Im trying to make one simple program, that list few names in ListBox, and when selecting one of them, and clicking on one button should be load the data in few TextBoxes... All i need is the ID of the selected item of that ListBox because the data is in array and i can't get the info without that id.\nSo here is my code:</p>\n\n<pre><code>private: System::Void button1_Click(System::Object^  sender, System::EventArgs^  e) {\n             this-&gt;listBox1-&gt;Items-&gt;Clear();\n             if (sCount != 0) { \n                for (int i = 1; i &lt;= sCount; i++) { \n                    String^ entry = gcnew System::String(s[i].Show().c_str()); \n                    this-&gt;listBox1-&gt;Items-&gt;Add(entry); //Listing the items from the array: s\n                } \n             }\n         }\nprivate: System::Void button2_Click(System::Object^  sender, System::EventArgs^  e) {\n         s[++sCount].InsertStudent(\"Name\",270,50); //This is how i'm adding items in the array\n     }\nprivate: System::Void button3_Click(System::Object^  sender, System::EventArgs^  e) {\n         int i = this-&gt;listBox1-&gt;SelectedItem; //Trying to get the ListBox Item ID\n         String^ entry = gcnew System::String(s[i].Show().c_str()); //Getting the Item from the array\n         this-&gt;textBox1-&gt;Text = entry; //Placing the array item into the textBox1\n     }\n</code></pre>\n\n<p>P.S. I want to do it in that way, because the array have class and there i put more than one items in one ID, but in the ListBox is listed only one of them.\nCan someone help? Thanks in advance :-)</p>\n"}, {"tags": ["c++", "continue"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 3, "creation_date": 1427319862, "post_id": 29267087, "comment_id": 46735851, "body": "Are you sure you know what <code>continue</code> means?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1427319925, "post_id": 29267087, "comment_id": 46735888, "body": "<code>continue</code> immediately skips to the innermost <code>while</code> or <code>for</code> loop brace. So yes, if the first <code>if</code> hits, none else will be executed."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1427320107, "post_id": 29267087, "comment_id": 46735958, "body": "The logic is really flawed here.  When <code>word == &quot;animal&quot;</code> you then check if <code>word == &quot;pig&quot;</code>.  <b>It can&#39;t be both</b>."}, {"owner": {"reputation": 281, "user_id": 4348290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d709f4fb9c32c926571791ef8fa2bd?s=128&d=identicon&r=PG&f=1", "display_name": "bbakiu", "link": "https://stackoverflow.com/users/4348290/bbakiu"}, "edited": false, "score": 0, "creation_date": 1427320154, "post_id": 29267087, "comment_id": 46735981, "body": "In my opinion a better solution would be to use if - else for your if blocks. One if-else for checking the word and one if - else for checking the order. then you probably do not need continue at all. But depends on your case."}], "answers": [{"comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 3, "creation_date": 1427320249, "post_id": 29267139, "comment_id": 46736031, "body": "I wouldn&#39;t say &quot;Go immediately to the top of the loop, and start over again&quot;, because in the <code>for</code> loop, control variables wouldn&#39;t change - rather &quot;go to the end&quot;."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1427320261, "post_id": 29267139, "comment_id": 46736035, "body": "Strictly speaking, <code>continue</code> causes passes control to the end of the loop. If there is a <code>continue</code> statement in a <code>do {} while();</code> loop, the <code>while</code> statement will be executed after the <code>continue;</code> statement."}], "tags": [], "owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319907, "creation_date": 1427319907, "answer_id": 29267139, "question_id": 29267087, "link": "https://stackoverflow.com/questions/29267087/how-are-these-continue-statements-affecting-my-code/29267139#29267139", "title": "How are these continue statements affecting my code?", "body": "<p>Continue means \"Go immediately to the top of the loop, and start over again\".   You do not want that at all.</p>\n\n<pre><code>  //use while loop to move through individual words\n    while (iss &gt;&gt; word)\n    {\n        if (word == \"animal\") \n        {\n            order = 1;\n        }\n        else if (word == \"human\")\n        {\n            order = 2;\n        }\n\n        if (order == 1) \n        {\n            std::cout &lt;&lt; \"The if statement works\" &lt;&lt; std::endl;\n            ifAnimal(word);\n        }\n\n        if (order == 2) \n        {\n            std::cout &lt;&lt; \"This one too\" &lt;&lt; std::endl;\n            ifHuman(word);\n        }\n     }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4195877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3120208f088f59850c36babbd3118041?s=128&d=identicon&r=PG", "display_name": "Robin the Sprite", "link": "https://stackoverflow.com/users/4195877/robin-the-sprite"}, "edited": false, "score": 0, "creation_date": 1427483641, "post_id": 29267144, "comment_id": 46810881, "body": "I put <code>t</code> into a getline instead of a cin, and got the whole line of code into <code>t</code>. The while loop functioned correctly then, extracting the stream word by word. I did not even have to remove the <code>continue</code>."}], "tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1427319923, "creation_date": 1427319923, "answer_id": 29267144, "question_id": 29267087, "link": "https://stackoverflow.com/questions/29267087/how-are-these-continue-statements-affecting-my-code/29267144#29267144", "title": "How are these continue statements affecting my code?", "body": "<p>what <code>continue</code> means is skip the rest of the loop and go back to the top.  whatever is after the <code>continue</code> statement won't be executed if <code>continue</code> gets hit.</p>\n\n<p>It looks like you expect your <code>word</code> to be two words at the same time, so once you execute <code>ifAnimal()</code> none of the cases in <code>ifAnimal</code> will be met.  <code>word</code> will never be <code>\"pig\"</code> or <code>\"cow\"</code> when you call that method because you only ever call that method when <code>word</code> is equal to <code>\"animal\"</code>, and you don't change it after that.</p>\n"}], "owner": {"reputation": 13, "user_id": 4195877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3120208f088f59850c36babbd3118041?s=128&d=identicon&r=PG", "display_name": "Robin the Sprite", "link": "https://stackoverflow.com/users/4195877/robin-the-sprite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 29267144, "answer_count": 2, "score": -2, "last_activity_date": 1427319923, "creation_date": 1427319675, "question_id": 29267087, "link": "https://stackoverflow.com/questions/29267087/how-are-these-continue-statements-affecting-my-code", "title": "How are these continue statements affecting my code?", "body": "<p>I have been working on this little program in Visual Basic 2013 in an attempt to create a sort of tiered structure for user-input commands. Basically, I want the first of a two word input to direct the program to an area of code with a set of responses for the second word. In this program, the first word can either be \"human\" or \"animal.\" These words direct the program to functions that select the kind of animal or human. </p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nvoid ifAnimal(std::string b) //This is the set of responses for a first word of \"Animal\"\n{\n\n  if (b == \"pig\")\n   {\n    std::cout &lt;&lt; \"It is a pig.\" &lt;&lt; std::endl;\n   }\n\n  if (b == \"cow\")\n   {\n    std::cout &lt;&lt; \"It is a cow.\" &lt;&lt; std::endl;\n   }\n}\n\nvoid ifHuman(std::string b) //This is the set of responses for a first word of \"Human\"\n{\n  if (b == \"boy\")\n   {\n    std::cout &lt;&lt; \"You are a boy.\" &lt;&lt; std::endl;\n   }\n\n  if (b == \"girl\")\n   {\n    std::cout &lt;&lt; \"You are a girl.\" &lt;&lt; std::endl;\n   }\n\n}\n\nint main()\n  { \n\n\n\nwhile (1)\n{\n    std::string t;\n    std::string word;\n    std::cin &gt;&gt; t;\n    std::istringstream iss(t); // Set up the stream for processing\n    int order = 0; \n\n\n    //use while loop to move through individual words\n    while (iss &gt;&gt; word)\n    {\n\n        if (word == \"animal\") \n        {\n            order = 1;\n            continue; //something wrong with these continues\n        }\n\n        if (word == \"human\")\n        {\n            order = 2;\n            continue;\n        }\n\n        if (order == 1) \n        {\n            std::cout &lt;&lt; \"The if statement works\" &lt;&lt; std::endl;\n            ifAnimal(word);\n        }\n\n        if (order == 2) \n        {\n            std::cout &lt;&lt; \"This one too\" &lt;&lt; std::endl;\n            ifHuman(word);\n        }\n     }\n\n   }\n  return 0;\n\n}\n</code></pre>\n\n<p>The problem is that whenever the program reaches the continue statements, the if statements calling my functions are not triggered. No text is displayed at all. If the continue statements are removed, the if statements trigger, but then the corresponding function has the wrong word. Am I unaware of something that those continues are doing? Is there a better way to accomplish what I want to do? </p>\n"}, {"tags": ["c++", "multithreading", "c++11"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 3, "creation_date": 1427319883, "post_id": 29267049, "comment_id": 46735864, "body": "<i>I want to synchronize at instance-level, not across instances.</i> Then the mutex should be a non-static data member of the <code>Logger</code> class. The global mutex you have right now does exactly what you say you <b>don&#39;t</b> want done."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 2, "creation_date": 1427319974, "post_id": 29267049, "comment_id": 46735908, "body": "To ensure file-scope use <code>static</code> to declare your mutex. Problem: <i>file-scope</i> is antinomic with <i>instance-level</i>; what do you mean exactly ?"}, {"owner": {"reputation": 2522, "user_id": 366786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a8dfb0564cb2ddb606775f27a208af4?s=128&d=identicon&r=PG&f=1", "display_name": "Gareth", "link": "https://stackoverflow.com/users/366786/gareth"}, "edited": false, "score": 0, "creation_date": 1427320454, "post_id": 29267049, "comment_id": 46736145, "body": "Edited the question. I understand that my code will sync across instances. This is ok. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1427320292, "creation_date": 1427320292, "answer_id": 29267237, "question_id": 29267049, "link": "https://stackoverflow.com/questions/29267049/is-it-safe-to-declare-a-mutex-at-file-scope/29267237#29267237", "title": "Is it safe to declare a mutex at file-scope?", "body": "<p>To truly limit this to file scope in a modern C++ style:</p>\n\n<pre><code>namespace {\n   mutex my_mutex;\n   &lt;information to protect goes here&gt;\n}\n</code></pre>\n\n<p>Then the answer is, \"yes it is safe\".</p>\n\n<p>In your case, however, it appears that you are attempting to protect std::cout.   Since cout is not limited to your file scope, your mutex is not going to do much good unless you can guarantee that this is the only use of cout and/or cerr in the entire program.</p>\n"}], "owner": {"reputation": 2522, "user_id": 366786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a8dfb0564cb2ddb606775f27a208af4?s=128&d=identicon&r=PG&f=1", "display_name": "Gareth", "link": "https://stackoverflow.com/users/366786/gareth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 29267237, "answer_count": 1, "score": 0, "last_activity_date": 1427320292, "creation_date": 1427319554, "last_edit_date": 1495541179, "question_id": 29267049, "link": "https://stackoverflow.com/questions/29267049/is-it-safe-to-declare-a-mutex-at-file-scope", "title": "Is it safe to declare a mutex at file-scope?", "body": "<p>I realize <a href=\"https://stackoverflow.com/questions/6475588/is-it-safe-to-declare-a-mutex-as-a-static-file-scoped-variable\">this question</a> is similar, but mine is not specific to Windows.</p>\n\n<p>Is is safe and good form to declare a mutex at file-scope like so?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;mutex&gt;\n#include \"Logger.h\"\n\nmutex my_mutex;\n\nvoid Logger::log()\n{\n    lock_guard&lt;mutex&gt; lock(my_mutex);\n    for (int i = 0; i &lt; 29; ++i)\n    {\n        cout &lt;&lt; i &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 1, "creation_date": 1427319270, "post_id": 29266931, "comment_id": 46735573, "body": "yours is a <b>class member</b> function, expected is a global, static one."}, {"owner": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 1, "creation_date": 1427319362, "post_id": 29266931, "comment_id": 46735607, "body": "if you need to use <code>fingerTips</code> in your callback, you need to use <code>userData</code> to pass it, or better, to pass <code>this</code>."}, {"owner": {"reputation": 149, "user_id": 2878151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000480140987/picture?type=large", "display_name": "BAT", "link": "https://stackoverflow.com/users/2878151/bat"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1427353359, "post_id": 29266931, "comment_id": 46745233, "body": "Which means if I put it outside of <code>HandGesture</code> class and have it as a global function with <code>static</code>? Thanks @berak and @Wimmel"}, {"owner": {"reputation": 149, "user_id": 2878151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000480140987/picture?type=large", "display_name": "BAT", "link": "https://stackoverflow.com/users/2878151/bat"}, "edited": false, "score": 0, "creation_date": 1427393821, "post_id": 29266931, "comment_id": 46769335, "body": "Is it possible to use <code>GetAsyncStateKey</code> instead <code>setMouseCallback</code>. So whenever 2 fingers detected just press the left button of the mouse?"}, {"owner": {"reputation": 5810, "user_id": 2451683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8e45f8be209f750e636da3f43b6a6e?s=128&d=identicon&r=PG", "display_name": "jet47", "link": "https://stackoverflow.com/users/2451683/jet47"}, "edited": false, "score": 0, "creation_date": 1427396223, "post_id": 29266931, "comment_id": 46770672, "body": "Duplicate. See <a href=\"http://stackoverflow.com/questions/14280220/how-to-use-cvsetmousecallback\" title=\"how to use cvsetmousecallback\">stackoverflow.com/questions/14280220/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/25748404/how-to-use-cvsetmousecallback-in-class\" title=\"how to use cvsetmousecallback in class\">stackoverflow.com/questions/25748404/&hellip;</a>"}, {"owner": {"reputation": 149, "user_id": 2878151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000480140987/picture?type=large", "display_name": "BAT", "link": "https://stackoverflow.com/users/2878151/bat"}, "edited": false, "score": 0, "creation_date": 1427549582, "post_id": 29266931, "comment_id": 46827339, "body": "Thanks for the link, but I have a question how to reverse this functionality, I know that <code>setMouseCallback</code> is the function which listens to the events happening inside of the specific window. But what i want is - to trigger those events when my specific numbers of my fingers detected. Can I do it with <code>setMouseCallback</code>? Thank you."}], "owner": {"reputation": 149, "user_id": 2878151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000480140987/picture?type=large", "display_name": "BAT", "link": "https://stackoverflow.com/users/2878151/bat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 787, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427319373, "creation_date": 1427319125, "last_edit_date": 1427319373, "question_id": 29266931, "link": "https://stackoverflow.com/questions/29266931/setmousecallback-gives-an-error-when-being-called-in-opencv", "title": "setMouseCallback gives an error when being called in OpenCV", "body": "<p>I have a problem which I stumbled upon recently. I looked at many sources in here but couldn't find any useful solution. I want to implement setMouseCallback is class based methodology. I deefined the function publicly in <code>HandGesture.h</code> which looks like this:</p>\n\n<pre><code>void MouseEvents(int event, int x, int y, int flags, void* userData);\n</code></pre>\n\n<p>and declared it in <code>HandGesture.cpp</code> as follow</p>\n\n<pre><code>void HandGesture::MouseEvents(int event, int x, int y, int flags, void* userData){\n\nswitch (fingerTips.size()){\n    case 1:\n        event == EVENT_LBUTTONDOWN;\n        break;\n    case 2:\n        event == EVENT_RBUTTONDOWN;\n        break;\n    case 3:\n        event == EVENT_MBUTTONDOWN;\n        break;\n    default:\n        event == EVENT_MOUSEMOVE;\n\n}\n</code></pre>\n\n<p>Now if I want to call setMouseCallback function in neigbour function it gives me the following error:</p>\n\n<p><code>Error: argument of type \"void(HandGesture*)(int event,int x, int y, int flags, void* userData)\" is incompatible with parameter of type \"cv::MouseCallback\"</code></p>\n\n<p>I tried to use:\n<code>static void HandGesture::MouseEvents(int event, int x, int y, int flags, void* userData)</code> it didn't help. Since I am using vector <code>fingerTips</code> which is NOT static, it is not recognized in <code>MouseEvents</code> function.</p>\n\n<p>Any help is greatly appreciated. Thank you in advance!</p>\n"}, {"tags": ["c++", "gpu", "linear-algebra", "blas", "magma"], "answers": [{"tags": [], "owner": {"reputation": 2585, "user_id": 655885, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dd946b9538467776f9123ba72c71444f?s=128&d=identicon&r=PG", "display_name": "Wirawan Purwanto", "link": "https://stackoverflow.com/users/655885/wirawan-purwanto"}, "is_accepted": true, "score": 0, "last_activity_date": 1427831727, "creation_date": 1427831727, "answer_id": 29377406, "question_id": 29266716, "link": "https://stackoverflow.com/questions/29266716/magma-library-difference-between-magma-dgemm-and-magmablas-dgemm/29377406#29377406", "title": "MAGMA library: difference between magma_dgemm and magmablas_dgemm", "body": "<p>An inspection of the source code reveals that <code>magmablas_Xgemm</code> is actually a C function that launches an appropriate <code>gemm</code> kernel on the GPU. Thus <code>magmablas_Xgemm</code> <em>is</em> a GPU-specific routine. On the other hand, <code>magma_Xgemm</code> is intended to be accelerator-agnostic routine that (currently) can be used for either GPU (NVIDIA/AMD, ...) or MIC.</p>\n\n<p>Ref files, relative to MAGMA source directory (the CUDA edition):</p>\n\n<pre><code>./magmablas/dgemm_fermi.cu\n./interface_cuda/blas_d.cpp\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 498, "user_id": 7639609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/diCJz.jpg?s=128&g=1", "display_name": "Abhishek Nikam", "link": "https://stackoverflow.com/users/7639609/abhishek-nikam"}, "is_accepted": false, "score": 0, "last_activity_date": 1520448229, "creation_date": 1520448229, "answer_id": 49159148, "question_id": 29266716, "link": "https://stackoverflow.com/questions/29266716/magma-library-difference-between-magma-dgemm-and-magmablas-dgemm/49159148#49159148", "title": "MAGMA library: difference between magma_dgemm and magmablas_dgemm", "body": "<p>So, basically MAGMA includes gemm, both magma_<em>gemm that wraps cublas</em>gemm, and magmablas_*gemm that is Magma's open-source implementation.</p>\n"}], "owner": {"reputation": 2585, "user_id": 655885, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dd946b9538467776f9123ba72c71444f?s=128&d=identicon&r=PG", "display_name": "Wirawan Purwanto", "link": "https://stackoverflow.com/users/655885/wirawan-purwanto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 29377406, "answer_count": 2, "score": 0, "last_activity_date": 1520448229, "creation_date": 1427318272, "question_id": 29266716, "link": "https://stackoverflow.com/questions/29266716/magma-library-difference-between-magma-dgemm-and-magmablas-dgemm", "title": "MAGMA library: difference between magma_dgemm and magmablas_dgemm", "body": "<p>In the most recent magma linear algebra library (version 1.6.1), <a href=\"http://icl.cs.utk.edu/magma/software/\" rel=\"nofollow\">http://icl.cs.utk.edu/magma/software/</a>, in the testing code exercising dgemm functionality (source code: testing_dgemm.cpp), there was a call to functions <code>magma_dgemm</code> and <code>magmablas_dgemm</code>. Can someone clarify the difference between the two? Which one is more general (not tied to just GPU)?</p>\n\n<p>Wirawan</p>\n"}, {"tags": ["c++", "qt", "time"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 1, "creation_date": 1427318221, "post_id": 29266663, "comment_id": 46735071, "body": "a) You can&#180;t do modulo with doubles, b) time() returns an int (and no ms)"}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1427318396, "post_id": 29266733, "comment_id": 46735153, "body": "how do I perform a % on this then, ill get error because of types"}, {"owner": {"reputation": 1824, "user_id": 700390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9bc884e43cc60081c7beb05987f762?s=128&d=identicon&r=PG", "display_name": "user700390", "link": "https://stackoverflow.com/users/700390/user700390"}, "reply_to_user": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1427318824, "post_id": 29266733, "comment_id": 46735381, "body": "qint64 is a typedef for long long int (__int64 on Windows).  You cannot perform modulus on that?"}], "tags": [], "owner": {"reputation": 1824, "user_id": 700390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9bc884e43cc60081c7beb05987f762?s=128&d=identicon&r=PG", "display_name": "user700390", "link": "https://stackoverflow.com/users/700390/user700390"}, "is_accepted": false, "score": 1, "last_activity_date": 1427318715, "last_edit_date": 1427318715, "creation_date": 1427318327, "answer_id": 29266733, "question_id": 29266663, "link": "https://stackoverflow.com/questions/29266663/get-system-time-in-milliseconds-as-an-int-double/29266733#29266733", "title": "Get System Time In MilliSeconds as an int/double", "body": "<p>For QT, try using the function <code>QDateTime::toMSecsSinceEpoch()</code></p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qdatetime.html#toMSecsSinceEpoch\" rel=\"nofollow\">http://doc.qt.io/qt-5/qdatetime.html#toMSecsSinceEpoch</a></p>\n\n<p>This will return a qint64 <a href=\"http://doc.qt.io/qt-5/qtglobal.html#qint64-typedef\" rel=\"nofollow\">http://doc.qt.io/qt-5/qtglobal.html#qint64-typedef</a></p>\n"}, {"tags": [], "owner": {"reputation": 2297, "user_id": 439719, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e2fa7bbae749f4235a0abf3d57c56791?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/439719/sandman"}, "is_accepted": false, "score": 0, "last_activity_date": 1427544041, "last_edit_date": 1427544041, "creation_date": 1427540252, "answer_id": 29316314, "question_id": 29266663, "link": "https://stackoverflow.com/questions/29266663/get-system-time-in-milliseconds-as-an-int-double/29316314#29316314", "title": "Get System Time In MilliSeconds as an int/double", "body": "<p>If you're trying to <a href=\"http://www.currentmillis.com/#c\" rel=\"nofollow\">get the unix timestamp in milliseconds in C</a> you can try this code:</p>\n\n<pre><code>include \"time.h\"\n...\ntime_t seconds;\ntime(&amp;seconds);\nunsigned long long millis = (unsigned long long)seconds * 1000;\n</code></pre>\n\n<p>Though please note this is multiplied by 1000 - it looks like milliseconds but the accuracy is that of seconds - which judging by your <code>x % 5</code> code might be enough if you're trying to do something every 5 seconds, so the following should be enough:</p>\n\n<pre><code>time_t seconds; time(&amp;seconds);\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1648, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427544041, "creation_date": 1427318110, "question_id": 29266663, "link": "https://stackoverflow.com/questions/29266663/get-system-time-in-milliseconds-as-an-int-double", "title": "Get System Time In MilliSeconds as an int/double", "body": "<p>I am new to c++ but I just cant get this to work at all. I am trying to get the system current time in ms and do something with it but it wont work what I have tried.</p>\n\n<p>Qt</p>\n\n<pre><code> QDateTime qt = new QDateTime();\n  int x = qt.currentDateTimeUtc();\n    if(x%5 ==0){\n        //something\n\n     }\n</code></pre>\n\n<p>c++</p>\n\n<pre><code>     double sysTime = time(0);\nif(sysTime%5.00 ==0.00){\n\n\n}\n</code></pre>\n\n<p>I get invalid operands of type double to binary operator error. I have no idea why? Can anyone point in the right direction</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427317919, "post_id": 29266549, "comment_id": 46734897, "body": "Does openCV follow zero indexing? Try <code>(1,1)</code>"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427318476, "post_id": 29266549, "comment_id": 46735206, "body": "What is the exception?"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427318860, "post_id": 29266549, "comment_id": 46735396, "body": "Does it have a <code>push_back</code> like member function? Assuming your usage is correct, the only reason would that bwImage is NULL. Can you check is it&#39;s NULL/empty by the way?"}, {"owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "reply_to_user": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "edited": false, "score": 0, "creation_date": 1427318953, "post_id": 29266549, "comment_id": 46735432, "body": "@Golazo the type of my matrix is uint8 - however I can&#39;t do bwImage.at&lt;uint8_t&gt;(0,0)=0"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 1620638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52508fb6a543826f1fab2bc1fc5f044c?s=128&d=identicon&r=PG", "display_name": "flix", "link": "https://stackoverflow.com/users/1620638/flix"}, "is_accepted": true, "score": 3, "last_activity_date": 1427326832, "creation_date": 1427326832, "answer_id": 29268583, "question_id": 29266549, "link": "https://stackoverflow.com/questions/29266549/opencv-cvtcolor-set-get-matrix-element/29268583#29268583", "title": "opencv cvtColor set/get matrix element", "body": "<p>As you already found out, your black and white image does not hold floats, but 8-bit unsigned integers. Besides your workaround you could also do</p>\n\n<pre><code>bwImage.at&lt;uint8_t&gt;(0,0) = 0;\n</code></pre>\n\n<p>if you include <a href=\"http://www.nongnu.org/avr-libc/user-manual/group__avr__stdint.html\" rel=\"nofollow\">stdint.h</a>. As this is just a typedef for unsigned char, you can also not include the header and do this:</p>\n\n<pre><code>bwImage.at&lt;unsigned char&gt;(0,0) = 0;\n</code></pre>\n\n<p>On a side note: the default channel ordering of OpenCV is BGR, so using <a href=\"http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html#cvtcolor\" rel=\"nofollow\">CV_RGB2GRAY</a> here would be wrong, if you did not reorder the channels beforehand.</p>\n"}], "owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 29268583, "answer_count": 1, "score": 0, "last_activity_date": 1427326832, "creation_date": 1427317699, "last_edit_date": 1427318882, "question_id": 29266549, "link": "https://stackoverflow.com/questions/29266549/opencv-cvtcolor-set-get-matrix-element", "title": "opencv cvtColor set/get matrix element", "body": "<pre><code>cv::cvtColor(dst,bwImage, CV_RGB2GRAY);\n</code></pre>\n\n<p>how can I set a specific pixel for example 0,0 value it this bwImage after usign cvtColor?</p>\n\n<p>I usually use:</p>\n\n<pre><code>bwImage.at&lt;float&gt;(0,0) = 0;\n</code></pre>\n\n<p>but it now throws an exception.</p>\n\n<pre><code>OpenCV Error: Assertion failed (dims &lt;= 2 &amp;&amp; data &amp;&amp; (unsigned)i0 &lt; (unsigned)si\nze.p[0] &amp;&amp; (unsigned)(i1*DataType&lt;_Tp&gt;::channels) &lt; (unsigned)(size.p[1]*channel\ns()) &amp;&amp; ((((sizeof(size_t)&lt;&lt;28)|0x8442211) &gt;&gt; ((DataType&lt;_Tp&gt;::depth) &amp; ((1 &lt;&lt; 3\n) - 1))*4) &amp; 15) == elemSize1()) in cv::Mat::at, file C:\\Users\\gdarmon\\Downloads\n\\opencv\\build\\include\\opencv2/core/mat.hpp, line 538\n</code></pre>\n\n<p>Update I have found a work around</p>\n\n<pre><code>bwImage.convertTo(bwImage,CV_32F);\nbwImage.at&lt;float&gt;(0,0)=0;\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 4, "creation_date": 1427317277, "post_id": 29266318, "comment_id": 46734568, "body": "maybe <b>construct</b> that poor string object? <code>std::string aString(std::begin(uuidObj), std::end(uuidObj));</code>"}, {"owner": {"reputation": 471, "user_id": 602588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abe121cada34b52a2d7f2935ae1a3a6?s=128&d=identicon&r=PG", "display_name": "jackyalcine", "link": "https://stackoverflow.com/users/602588/jackyalcine"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1427317397, "post_id": 29266318, "comment_id": 46734634, "body": "I didn&#39;t think that that would work. It being a native array, I wasn&#39;t aware that <code>std::begin</code> and <code>std::end</code> worked on things of that nature. I&#39;ll try it!"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1427317475, "post_id": 29266318, "comment_id": 46734670, "body": "@jackalcine begin and end works perfectly fine on primitive arrays <i>while</i> they have not decayed into a pointer. A primitive array not being aware of its own length is a myth (or rather a result of poor/imprecise teaching)."}], "answers": [{"comments": [{"owner": {"reputation": 471, "user_id": 602588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abe121cada34b52a2d7f2935ae1a3a6?s=128&d=identicon&r=PG", "display_name": "jackyalcine", "link": "https://stackoverflow.com/users/602588/jackyalcine"}, "edited": false, "score": 0, "creation_date": 1427317438, "post_id": 29266436, "comment_id": 46734651, "body": "<i>headdesk</i> 4 years of this language and I&#39;m still making silly mistakes like this. Thanks!"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 3, "creation_date": 1427317507, "post_id": 29266436, "comment_id": 46734687, "body": "Drew, why not <code>std::begin()</code> and <code>std::end()</code>? that&#39;d be more robust than hard coding magic numbers\u2026"}, {"owner": {"reputation": 471, "user_id": 602588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abe121cada34b52a2d7f2935ae1a3a6?s=128&d=identicon&r=PG", "display_name": "jackyalcine", "link": "https://stackoverflow.com/users/602588/jackyalcine"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1427317590, "post_id": 29266436, "comment_id": 46734736, "body": "@TheParamagneticCroissant I&#39;m going to use <code>begin()</code> myself in lieu of it being more agnostic for whatever iteratable construct is available."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1427318910, "post_id": 29266436, "comment_id": 46735417, "body": "@TheParamagneticCroissant old habits die hard.  :)"}, {"owner": {"reputation": 471, "user_id": 602588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abe121cada34b52a2d7f2935ae1a3a6?s=128&d=identicon&r=PG", "display_name": "jackyalcine", "link": "https://stackoverflow.com/users/602588/jackyalcine"}, "edited": false, "score": 0, "creation_date": 1427924948, "post_id": 29266436, "comment_id": 46978485, "body": "I updated it to cover all 16 @DrewDormann, got too used to <code>begin()</code> and <code>end()</code>!"}], "tags": [], "owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 7, "last_activity_date": 1427317691, "last_edit_date": 1427317691, "creation_date": 1427317283, "answer_id": 29266436, "question_id": 29266318, "link": "https://stackoverflow.com/questions/29266318/using-libuuid-uuid-dev-with-c11/29266436#29266436", "title": "Using libuuid / uuid-dev with C++11", "body": "<p>You can initialize the string within the constructor itself, passing the begin and end pointers as iterators.</p>\n\n<pre><code>uuid_t uuidObj;\nuuid_generate(uuidObj);\nstd::string aString{ uuidObj, uuidObj + 16 };\n</code></pre>\n\n<p><em>The Pragmatic Croissant</em> is also correct that you may free yourself of worrying about the array size by using the more C++11 idiomatic:</p>\n\n<pre><code>std::string aString{ std::begin(uuidObj), std::end(uuidObj) };\n</code></pre>\n\n<p>Also, your code in the question only copies the first 15 characters.</p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 7845579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf92eb317149bdd748fafdf4976aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Rui", "link": "https://stackoverflow.com/users/7845579/rui"}, "is_accepted": false, "score": 0, "last_activity_date": 1602586387, "creation_date": 1602586387, "answer_id": 64333832, "question_id": 29266318, "link": "https://stackoverflow.com/questions/29266318/using-libuuid-uuid-dev-with-c11/64333832#64333832", "title": "Using libuuid / uuid-dev with C++11", "body": "<p>In uuid-dev 2.31.1, they provide a <code>uuid_unparse</code> function.</p>\n<pre><code>uuid_t uuidObj;\nchar str[100];\nuuid_generate(uuidObj);\nuuid_unparse(uuidObj, str);\nstd::string _uuid{str};\nstd::cout &lt;&lt; _uuid &lt;&lt; std::endl;\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 602588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abe121cada34b52a2d7f2935ae1a3a6?s=128&d=identicon&r=PG", "display_name": "jackyalcine", "link": "https://stackoverflow.com/users/602588/jackyalcine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 1, "accepted_answer_id": 29266436, "answer_count": 2, "score": 3, "last_activity_date": 1602586387, "creation_date": 1427316866, "last_edit_date": 1427924917, "question_id": 29266318, "link": "https://stackoverflow.com/questions/29266318/using-libuuid-uuid-dev-with-c11", "title": "Using libuuid / uuid-dev with C++11", "body": "<p>I'm looking to use <a href=\"http://linux.die.net/man/3/libuuid\" rel=\"nofollow\"><code>libuuid</code></a> with a C++11 program. However, I think I might be going about this incorrectly. According to <code>uuid.h</code>, the <code>uuid_t</code> is a unsigned char array of 16 items (expected). My approach to building a <code>std::string</code> with this was as follows:</p>\n\n<pre><code>uuid_t uuidObj;\nuuid_generate(uuidObj);\nstd::string aString;\n\nfor (auto i = 0; i &lt; 16; ++i)\n{\n   aString += uuidObj[i];\n}\n</code></pre>\n\n<p>I know that this can't be the most approriate solution (while avoiding a <code>malloc</code> in C++11, yikes!), any tips from y'all?</p>\n"}, {"tags": ["c++", "class", "vector"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1427316645, "post_id": 29266193, "comment_id": 46734211, "body": "Take it one step at a time. There are too many problems here to deal with in one question."}, {"owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "edited": false, "score": 0, "creation_date": 1427316688, "post_id": 29266193, "comment_id": 46734233, "body": "You can iterate through a vector easily these days with <code>for (auto &amp;footprint : list)</code>. Also, <code>list</code> should not be defined as a pointer."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427317458, "post_id": 29266325, "comment_id": 46734664, "body": "so I changed it to read vector &lt;CarbonFootPrint*&gt; list; but when I changed my code to have list.push_back(anotherBuilding); it says error: conversion to inaccessible base class &quot;CarbonFootPrint&quot; is not allowed?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427317513, "post_id": 29266325, "comment_id": 46734691, "body": "@JammarieClevette, and... what happened?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427317817, "post_id": 29266325, "comment_id": 46734843, "body": "@JammarieClevette Remember what I said about too many problems for one question?"}, {"owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427317838, "post_id": 29266325, "comment_id": 46734856, "body": "list.push_back(anotherBuilding); has an error. When I mouse over anotherBuilding it says conversion to inaccessible base class &quot;CarbonFootPrint&quot; is not allowed."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316883, "creation_date": 1427316883, "answer_id": 29266325, "question_id": 29266193, "link": "https://stackoverflow.com/questions/29266193/reiterating-through-class-vectors-c/29266325#29266325", "title": "Reiterating through class vectors C++", "body": "<p>You missed a crucial thing from:</p>\n\n<blockquote>\n  <p>Write an application that creates objects of each of the three classes, places pointers to those objects in a vector of CarbonFootprint pointers, then iterates through the vector, polymorphically invoking each object's getCarbonFootprint method.</p>\n</blockquote>\n\n<p>Instead of</p>\n\n<pre><code>vector &lt;CarbonFootPrint&gt; *list; // Pointer to a vector of CarbonFootPrint objects.\n</code></pre>\n\n<p>You need to use</p>\n\n<pre><code>vector &lt;CarbonFootPrint*&gt; list; // A vector of CarbonFootPrint pointers.\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>{\n    cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n    Building *anotherBuilding;\n    anotherBuilding = new Building;\n    anotherBuilding-&gt;setElectric();\n    cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n\n    break;\n}\n</code></pre>\n\n<p>Use</p>\n\n<pre><code>{\n    cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n    Building *anotherBuilding;\n    anotherBuilding = new Building;\n    anotherBuilding-&gt;setElectric();\n\n    // Add the pointer to the list of pointers.\n    list.push_back(anotherBuilding);\n    cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n\n    break;\n}\n</code></pre>\n\n<p>Make similar changes to the other object types.</p>\n\n<p>At the end, call <code>getCarbonFooPrint()</code> on the objects:</p>\n\n<pre><code>for (auto item : list )\n{\n   item-&gt;getCarbonFooPrint();\n}\n</code></pre>\n\n<p>and delete the objects:</p>\n\n<pre><code>for (auto item : list )\n{\n   delete item;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427318774, "post_id": 29266664, "comment_id": 46735354, "body": "Just to clarify. You are saying I should change my code for class CarbonFootPrint to have virtual double getCarbonFootPrint() = 0 and then where I implement it I should put all of the different getCarbonFootPrint functions from my child classes into the base class? Then in my child class all I need to do is put return CarbonFootPrint::getCarbonFootPrint();"}, {"owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "reply_to_user": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427318959, "post_id": 29266664, "comment_id": 46735437, "body": "Nono, I was trying to explain in full the power of an abstract function. At present you&#39;re almost correct, just because your function is not pure virtual (=0) the class is not abstract, so you&#39;re not quite fulfilling the requirement. So my suggested change is simply to add =0 to your function in <code>CarbonFootPrint</code> so that you get all the marks in your assignment :)"}, {"owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427319048, "post_id": 29266664, "comment_id": 46735468, "body": "Oh! I see. Thank You so much for your help!"}], "tags": [], "owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "is_accepted": false, "score": -1, "last_activity_date": 1427318112, "creation_date": 1427318112, "answer_id": 29266664, "question_id": 29266193, "link": "https://stackoverflow.com/questions/29266193/reiterating-through-class-vectors-c/29266664#29266664", "title": "Reiterating through class vectors C++", "body": "<p>R Sahu covered almost all of it, the only bit I see remaining is;</p>\n\n<blockquote>\n  <p>Write an abstract class CarbonFootprint with only a pure virtual getCarbonFootprint method.</p>\n</blockquote>\n\n<p>to which your class is not abstract as the function is not pure virtual, to do this simply add <code>= 0</code></p>\n\n<pre><code>virtual double getCarbonFootPrint() = 0;\n</code></pre>\n\n<p>Pure virtual functions are ones that don't count as implemented, any class containing a pure virtual function is called \"abstract\" and cannot be instantiated. In this case it would have helped you identify your vector of <code>CarbonFootPrint</code> rather than <code>CarbonFootPrint*</code> to them, as the instantiations would be picked up by the compiler, although knowing template compiler errors you'd have had a couple hundred lines of error message for this simple mistake. </p>\n\n<hr>\n\n<p>For full disclosure: a pure virtual function can actually be defined, e.g.;</p>\n\n<pre><code>virtual double getCarbonFootPrint() = 0;\n\ndouble CarbonFootPrint::getCarbonFootPrint()\n{\n    // some code\n    return 0;\n}\n</code></pre>\n\n<p>which can then be called from any derived class</p>\n\n<pre><code>double Building::getCarbonFootPrint()\n{\n    return CarbonFootPrint::getCarbonFootPrint();\n}\n</code></pre>\n\n<p>This is legal C++, allows you to define a default implementation, and still <code>CarbonFootprint</code> is an abstract class.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "edited": false, "score": 0, "creation_date": 1427318918, "post_id": 29266760, "comment_id": 46735420, "body": "Oh that makes sense. I remember seeing that somewhere and just forgot about it. Thank you!"}], "tags": [], "owner": {"reputation": 86, "user_id": 4714034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47500fa30c3e141a087f0cc7c90c7c9?s=128&d=identicon&r=PG&f=1", "display_name": "MrShiny608", "link": "https://stackoverflow.com/users/4714034/mrshiny608"}, "is_accepted": false, "score": 0, "last_activity_date": 1427318438, "creation_date": 1427318438, "answer_id": 29266760, "question_id": 29266193, "link": "https://stackoverflow.com/questions/29266193/reiterating-through-class-vectors-c/29266760#29266760", "title": "Reiterating through class vectors C++", "body": "<p>Re: your comments on R Sahu's post (I'm too new to be allowed to comment on other posts)</p>\n\n<p>You cannot access the base class because it has defaulted to <code>private</code>, </p>\n\n<pre><code>class Building : CarbonFootPrint\nclass Car : CarbonFootPrint\nclass Bicycle : CarbonFootPrint\n</code></pre>\n\n<p>are all inheriting from <code>CarbonFootPrint</code> privately, which represents a \"has-a\" relationship, in this case although semantically a car has-a carbon foot print you're actually trying to make an \"is-a\" relationship, as these are all objects that implement the base class, possibly a better name for <code>CarbonFootPrint</code> could be <code>CarbonFootPrintProducer</code>.</p>\n\n<p>The fix here is simply make them all publically inherited</p>\n\n<pre><code>class Name : public Base\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4696431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153108015244020/picture?type=large", "display_name": "Jammarie Clevette", "link": "https://stackoverflow.com/users/4696431/jammarie-clevette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1311, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427318438, "creation_date": 1427316440, "last_edit_date": 1427316533, "question_id": 29266193, "link": "https://stackoverflow.com/questions/29266193/reiterating-through-class-vectors-c", "title": "Reiterating through class vectors C++", "body": "<p>I am still wrapping my head around classes and am still new to C++. My assignment is:</p>\n\n<blockquote>\n  <p>Create three small classes unrelated by inheritance - classes\n  Building, Car and Bicycle.  Give each class some unique appropriate\n  attributes and behaviors that it does not  have in common with other\n  classes.</p>\n  \n  <p>Write an abstract class CarbonFootprint with only a pure virtual\n  getCarbonFootprint method.</p>\n  \n  <p>Have each of your classes inherit from that abstract class and\n  implement the getCarbonFootprint method to calculate an appropriate\n  carbon footprint for that class (check out a few websites that explain\n  how to calculate carbon footprints).</p>\n  \n  <p>Write an application that creates objects of each of the three\n  classes, places pointers to those objects in a vector of\n  CarbonFootprint pointers, then iterates through the vector,\n  polymorphically invoking each object's getCarbonFootprint method.</p>\n  \n  <p>For each object, print some identifying information and the object's\n  carbon footprint.</p>\n</blockquote>\n\n<p>I am having trouble trying to figure out how to iterate through my <code>vector &lt;CarbonFootPrint&gt;</code>. I also do not know if the objects being created are actually being put into this vector. My code so far is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass CarbonFootPrint\n{\n    //class declarations\npublic:\n    virtual double getCarbonFootPrint();\n};\n\n//class implementation\ndouble CarbonFootPrint::getCarbonFootPrint()\n{\n    return 0;\n}\n\nclass Building : CarbonFootPrint\n{\n    //class declarations\npublic:\n    Building(double e = 0, int m = 12); //constructor\n    ~Building(); //destructor\n    double setElectric();\n    virtual double getCarbonFootPrint();\n\nprivate:\n    double electric;\n    int months;\n};\n\n//class implementation\nBuilding::Building(double e, int m)\n{\n    electric = e;\n    months = m;\n}\n\nBuilding::~Building()\n{\n\n}\n\ndouble Building::setElectric()\n{\n    cout &lt;&lt; \"Enter your monthly electric in KWH: \" &lt;&lt; endl;\n    cin &gt;&gt; electric;\n    return electric;\n}\n\ndouble Building::getCarbonFootPrint()\n{\n     //I would like to print out the variable information for each object created\n    //and then \n    cout &lt;&lt; \"The carbon footprint for this house is \" &lt;&lt; endl;\n    //when it iterates through the vector.\n    return(electric * months);\n}\n\n\nclass Car : CarbonFootPrint\n{\npublic:\n    Car(double = 0, double = 0); //constructor\n    ~Car(); //destructor\n    double setYearlyMiles();\n    double setAverageMPG();\n    virtual double getCarbonFootPrint();\n\n private:\n    double yearlyMiles, averageMPG;\n    int co2 = 9;\n };\n\n//class implementation\nCar::Car(double ym, double mpg)\n{\n    yearlyMiles = ym;\n    averageMPG = mpg;\n}\n\nCar::~Car()\n{\n\n}\n\ndouble Car::setYearlyMiles()\n{\n    cout &lt;&lt; \"Enter in your yearly miles: \" &lt;&lt; endl;\n    cin &gt;&gt; yearlyMiles;\n    return yearlyMiles;\n}\n\ndouble Car::setAverageMPG()\n{\n    cout &lt;&lt; \"Enter in your average miles per gallon: \" &lt;&lt; endl;\n    cin &gt;&gt; averageMPG;\n    return averageMPG;\n}\n\ndouble Car::getCarbonFootPrint()\n{\n    //I would like to print out the variable information for each object created\n    //and then \n    cout &lt;&lt; \"The carbon footprint for this car is \" &lt;&lt; endl;\n    //when it iterates through the vector.\n    return((yearlyMiles * averageMPG) * co2);\n}\n\nclass Bicycle : CarbonFootPrint\n{\npublic:\n    Bicycle(double = 0, int = 34); //constructor\n    ~Bicycle(); //destructor\n    double setMiles(); \n    virtual double getCarbonFootPrint();\n\nprivate:\n    int calories;\n    double miles;\n};\n\n//class implementation\nBicycle::Bicycle(double m, int c)\n{\n    miles = m;\n    calories = c;\n}\n\nBicycle::~Bicycle()\n{\n\n}\n\ndouble Bicycle::setMiles()\n{\n    cout &lt;&lt; \"Enter in number of miles: \" &lt;&lt; endl; \n    cin &gt;&gt; miles;\n    return miles;\n}\n\ndouble Bicycle::getCarbonFootPrint()\n{\n    //I would like to print out the variable information for each object created\n    //and then \n    cout &lt;&lt; \"The carbon footprint for this bicycle is \" &lt;&lt; endl;\n    //when it iterates through the vector.\n    return (miles * calories);\n}\n</code></pre>\n\n<p>Here is my main program:</p>\n\n<pre><code>int main()\n{\n    vector &lt;CarbonFootPrint&gt; *list;\n    int answer, i;\n\n    cout &lt;&lt; \"Welcome to the Carbon Footprint Calculator!\\n\" &lt;&lt; endl;\n\n    do\n    {\n        cout &lt;&lt; \"Main Menu\\n\" &lt;&lt; endl;\n        cout &lt;&lt; \"1: Set house info.\\n\" &lt;&lt; endl;\n        cout &lt;&lt; \"2: Set car info.\\n\" &lt;&lt; endl;\n        cout &lt;&lt; \"3: Set bicycle info.\\n\" &lt;&lt; endl;\n        cout &lt;&lt; \"4: Get carbon footprint for all items set.\\n\" &lt;&lt; endl;\n        cin &gt;&gt; answer;\n\n        switch (answer)\n        {\n            case 1:\n            {\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n                Building *anotherBuilding;\n                anotherBuilding = new Building;\n                anotherBuilding-&gt;setElectric();\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n\n                break;\n            }\n\n            case 2:\n            {\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n                Car *anotherCar;\n                anotherCar = new Car;\n                anotherCar-&gt;setYearlyMiles();\n                anotherCar-&gt;setAverageMPG();\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n\n                break;\n            }\n\n            case 3:\n            {\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n                Bicycle *anotherbike;\n                anotherbike = new Bicycle;\n                anotherbike-&gt;setMiles();\n                cout &lt;&lt; \"\\n\" &lt;&lt; endl;\n\n                break;\n            }\n\n            case 4:\n            {\n\n                //have it iterate through the vector and print out each carbon footprint.\n                break;\n            }\n\n            default:\n            {\n                cout &lt;&lt; answer &lt;&lt; \" is not a valid option\" &lt;&lt; endl;\n\n                break;\n            }\n        }\n    }\n    while (answer != 4);\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>Any help or guidance is greatly appreciated! Thank you for your time!</p>\n"}, {"tags": ["c++", "qt", "qtimer"], "comments": [{"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 1, "creation_date": 1427316863, "post_id": 29266187, "comment_id": 46734327, "body": "You may try to do it and check results :)"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "reply_to_user": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1427316988, "post_id": 29266187, "comment_id": 46734405, "body": "@SaZ Seems to work. But I&#39;m not sure if the last shot follows the same interval."}, {"owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "edited": false, "score": 0, "creation_date": 1427325423, "post_id": 29266187, "comment_id": 46738047, "body": "You probably see between 0 and 2 shots due to the order that messages arrive in the message queue of the main thread loop."}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1529081239, "creation_date": 1529081239, "answer_id": 50879762, "question_id": 29266187, "link": "https://stackoverflow.com/questions/29266187/can-i-use-singleshottrue-to-make-a-running-qtimer-to-stop-after-next-shot/50879762#50879762", "title": "Can I use singleShot(true) to make a running QTimer to stop after next shot?", "body": "<p>Yes. Yes you can. In fact, there is no difference between \"regular\" and single-shot timers - other than this flag. Each time the timer times out, it check the single-shot flag. If it is set, the timer unregisters itself and thus doesn't fire again until you restart it.</p>\n"}], "owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "accepted_answer_id": 50879762, "answer_count": 1, "score": 1, "last_activity_date": 1529081239, "creation_date": 1427316420, "last_edit_date": 1427317308, "question_id": 29266187, "link": "https://stackoverflow.com/questions/29266187/can-i-use-singleshottrue-to-make-a-running-qtimer-to-stop-after-next-shot", "title": "Can I use singleShot(true) to make a running QTimer to stop after next shot?", "body": "<p>I have a <code>QTimer</code> triggering periodical events.</p>\n\n<p>I don't want to stop the timer directly because I want to sync some special signals to the last event.</p>\n\n<p>Can I achieve this by setting <code>setSingleShot(true)</code> on this <code>QTimer</code> so that its next shot will be a single shot, and the timer stops after the next shot?</p>\n\n<p><strong>Edit:</strong>\nIt seems to work. but <code>setSingleShot(true)</code> seems not atomic: I sometimes observe 2 shots before the timmer stops.</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 3695, "user_id": 4679661, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cfe9e5dd7661323595e25d592172b10?s=128&d=identicon&r=PG&f=1", "display_name": "juhist", "link": "https://stackoverflow.com/users/4679661/juhist"}, "edited": false, "score": 0, "creation_date": 1427316184, "post_id": 29266056, "comment_id": 46733966, "body": "In my opinion, you should tag only c because the code looks like pure C. C and C++ are distinct languages. What compiler are you using, C or C++ compiler? Anyway, your code seems to have many issues. Why the loop if you calculate the maximum inside the loop? And why do you output into <code>dst[25]</code> as the maximum is a single number, not a matrix."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1427316263, "post_id": 29266056, "comment_id": 46734003, "body": "Please pick a language. In C++ you&#39;d call <a href=\"http://en.cppreference.com/w/cpp/algorithm/max_element\" rel=\"nofollow noreferrer\"><code>std::max_element</code></a> and be done."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1427316311, "post_id": 29266056, "comment_id": 46734030, "body": "The loop unrolling will be close to optimum. The challenge will be to automate the code to accept different widths and unroll appropriately. I believe I have seen similar routines on the net. You might google <code>c find matrix max loop unroll</code> and see what comes back. Also, the compiler with optimize the ternary operator for you, so that should be fine."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 0, "creation_date": 1427316983, "post_id": 29266056, "comment_id": 46734401, "body": "The loop serves no purpose in this code and should be removed."}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1427317361, "post_id": 29266056, "comment_id": 46734613, "body": "&quot;Tagging c and cpp to get more coverage for this question.&quot; -- that&#39;s the true spirit of a spammer."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1427317478, "post_id": 29266056, "comment_id": 46734674, "body": "For one, the solutions might vary depending on whether you are programming in c++ or c. Second: have you actually tested whether the manual loop unrolling gives you any benefits compared to what the compiler would automatically generate?"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 4605661, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/27d5e8575c09aab6a2441230f544520f?s=128&d=identicon&r=PG&f=1", "display_name": "studinstru", "link": "https://stackoverflow.com/users/4605661/studinstru"}, "edited": false, "score": 0, "creation_date": 1429095632, "post_id": 29266698, "comment_id": 47436750, "body": "what about float variable ??"}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 111, "user_id": 4605661, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/27d5e8575c09aab6a2441230f544520f?s=128&d=identicon&r=PG&f=1", "display_name": "studinstru", "link": "https://stackoverflow.com/users/4605661/studinstru"}, "edited": false, "score": 1, "creation_date": 1429095853, "post_id": 29266698, "comment_id": 47436877, "body": "@studionstru: Can you be a bit more specific? If you are asking whether this code will work for and arrray of doubles, then yes (just replace <code>int max</code>with <code>double max</code> or just use <code>auto max</code>"}], "tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": false, "score": 3, "last_activity_date": 1427318221, "creation_date": 1427318221, "answer_id": 29266698, "question_id": 29266056, "link": "https://stackoverflow.com/questions/29266056/finding-maximum-from-matrix-optimise-way/29266698#29266698", "title": "Finding maximum from matrix : optimise way", "body": "<p>I don't know exactly what your code is supposed to do (especially as you are accessing memory locations outside of <code>src</code>), but I'd almost bet that </p>\n\n<pre><code>int max = *std::max_element(begin(src), end(src));\n</code></pre>\n\n<p>is actually faster than your construct.</p>\n"}], "owner": {"reputation": 111, "user_id": 4605661, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/27d5e8575c09aab6a2441230f544520f?s=128&d=identicon&r=PG&f=1", "display_name": "studinstru", "link": "https://stackoverflow.com/users/4605661/studinstru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1427336298, "answer_count": 1, "score": -3, "last_activity_date": 1427318221, "creation_date": 1427315943, "question_id": 29266056, "link": "https://stackoverflow.com/questions/29266056/finding-maximum-from-matrix-optimise-way", "closed_reason": "Not suitable for this site", "title": "Finding maximum from matrix : optimise way", "body": "<p>I want to find out maximum of number from this 5x5 matrix/array of size 25 .\nI am using below trick .But I want to know any other way I can optimize this logic or any other logic is also welcome .Tagging c and cpp to get more coverage for this question .</p>\n\n<pre><code>//Dummy code :\n#include &lt;stdio.h&gt;\ninline int max_val(int x, int y)\n{\n    return (x &gt; y)? x : y;\n}\nint main(){\nint src[25] =  {19,26, 34, 48, 50 , 24, 95, 91, 54, 28,47, 45, 48, 68, 24 ,27, 10, 20, 28, 65 ,98, 96, 94, 92, 20};\n/*  just showed as example\n19 26 34 48 50  \n24 95 91 54 28  \n47 45 48 68 24  \n27 10 20 28 65  \n98 96 94 92 20  */\n\nint dst[25]={0} ;//purposefully not initialised as it is dummy code\nint width = 5;\nint* pImage0 = src;\nint* pImage1 = pImage0 + width;\nint* pImage2 = pImage1 + width;\nint* pImage3 = pImage2 + width;\nint* pImage4 = pImage3 + width;\nint BoxMax0,BoxMax1,BoxMax2,BoxMax3,BoxMax4,BoxMax;\nfor(int loop =0; loop&lt;25;loop++){\n    BoxMax0 = max_val((pImage0[0]),max_val((pImage0[1]),max_val((pImage0[2]),max_val(pImage0[3],pImage0[4]))));\n    BoxMax1 = max_val((pImage1[0]),max_val((pImage1[1]),max_val((pImage1[2]),max_val(pImage1[3],pImage1[4]))));\n    BoxMax2 = max_val((pImage2[0]),max_val((pImage2[1]),max_val((pImage2[2]),max_val(pImage2[3],pImage2[4]))));\n    BoxMax3 = max_val((pImage3[0]),max_val((pImage3[1]),max_val((pImage3[2]),max_val(pImage3[3],pImage3[4]))));\n    BoxMax4 = max_val((pImage4[0]),max_val((pImage4[1]),max_val((pImage4[2]),max_val(pImage4[3],pImage4[4]))));\n    BoxMax  = max_val(BoxMax0,max_val(BoxMax1,max_val(BoxMax2,max_val(BoxMax3,BoxMax4)));\n    pImage0++;\n    pImage1++;\n    pImage2++;\n    pImage3++;\n    pImage4++;\n    dst[loop] = BoxMax;\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "recursion", "vector", "powerset"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 3, "creation_date": 1427315851, "post_id": 29265981, "comment_id": 46733780, "body": "Change the argument <code>allSubsets</code> to be passed by reference instead of by value. Use <code>vector&lt;string&gt;&amp; allSubsets</code>."}, {"owner": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 2, "creation_date": 1427316310, "post_id": 29265981, "comment_id": 46734029, "body": "That is not the problem, as he returns his changes to allSubsets and then pushes back into his local allSubsets. His value should be included."}, {"owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "edited": false, "score": 0, "creation_date": 1427317147, "post_id": 29265981, "comment_id": 46734500, "body": "There seem to be a number of different issues with this. The correct answer will need to deal with all of them. Be patient before answering! Frankly, I&#39;m a bit confused by the whole design; shouldn&#39;t getAllSubsets simply take one parameter, the string?"}], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 2881114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a211440af8757a04000950ccc457fa0c?s=128&d=identicon&r=PG&f=1", "display_name": "tourniquet_grab", "link": "https://stackoverflow.com/users/2881114/tourniquet-grab"}, "edited": false, "score": 0, "creation_date": 1427317052, "post_id": 29266208, "comment_id": 46734431, "body": "Upvoted your answer and deleted my answer. Good catch!"}], "tags": [], "owner": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "is_accepted": true, "score": 3, "last_activity_date": 1427316506, "creation_date": 1427316506, "answer_id": 29266208, "question_id": 29265981, "link": "https://stackoverflow.com/questions/29265981/vector-size-remaining-static-after-pushback-calls-for-powerset-function/29266208#29266208", "title": "vector size remaining static after pushback() calls for powerset function", "body": "<p>It's because you have an off-by-one error. Because this occurs in your next-to-base case, you are never inserting any entries.</p>\n\n<p>Since the first invalid index is <code>temp.size()</code>, <code>i &lt; temp.size()</code> means that you will always have a valid index. Subtracting 1 means that you are missing the last element of the vector.</p>\n\n<p>It's worth noting that passing <code>allSubsets</code> in as a parameter is kinda silly because <em>it's always empty</em>. This kind of algorithm simply doesn't require a second parameter. And secondly, you could be more efficient using hash sets that can perform deduplication for you simply and quickly.</p>\n"}], "owner": {"reputation": 15, "user_id": 3564783, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/77f255569ec2ee5daf354014a563770e?s=128&d=identicon&r=PG&f=1", "display_name": "user3564783", "link": "https://stackoverflow.com/users/3564783/user3564783"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 29266208, "answer_count": 1, "score": 0, "last_activity_date": 1427317087, "creation_date": 1427315668, "last_edit_date": 1495542495, "question_id": 29265981, "link": "https://stackoverflow.com/questions/29265981/vector-size-remaining-static-after-pushback-calls-for-powerset-function", "title": "vector size remaining static after pushback() calls for powerset function", "body": "<p>I wrote the following function, as an implementation of <a href=\"https://stackoverflow.com/a/729603/3564783\">this algorithm/approach</a>, to generate the power-set (set of all subsets) of a given string:</p>\n\n<pre><code>vector&lt;string&gt; getAllSubsets(string a, vector&lt;string&gt; allSubsets) \n{   \n    if(a.length() == 1)\n    {   \n    // Base case, \n    allSubsets.push_back(\"\");\n    allSubsets.push_back(a);\n    }\n\n    else {\n        vector&lt;string&gt; temp = getAllSubsets(a.substr(0,a.length()-1),allSubsets);\n        vector&lt;string&gt; with_n = temp;\n        vector&lt;string&gt; without_n = temp;\n        for(int i = 0;i &lt; temp.size()-1;i++) \n        {\n            allSubsets.push_back(with_n[i] + a[a.length()-1]);\n            allSubsets.push_back(without_n[i]);\n        }\n    }\n    return allSubsets;\n\n}\n</code></pre>\n\n<p>however, someone appears to be going wrong: the size of <code>temp</code> and <code>allSubsets</code> remains static from recursive call to recursive call, when they should be increasing due to the <code>push_back()</code> calls. is there any reason why this would take place?</p>\n"}, {"tags": ["c++", "opengl", "visual-studio-2012", "sdl", "glew"], "answers": [{"comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1427315882, "post_id": 29265963, "comment_id": 46733799, "body": "And make sure to use <code>delete[]</code> (not <code>delete</code>!) to free your array."}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1427315910, "post_id": 29265963, "comment_id": 46733808, "body": "Or just use <code>std::vector&lt;&gt;</code> and (mostly) not care :)"}], "tags": [], "owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 5, "last_activity_date": 1427315618, "creation_date": 1427315618, "answer_id": 29265963, "question_id": 29265936, "link": "https://stackoverflow.com/questions/29265936/unexplained-memory-error-using-c-sdl-opengl-and-glew/29265963#29265963", "title": "Unexplained memory error using C++, SDL, OpenGL and GLEW", "body": "<p>This allocates a single <code>GLfloat</code>, initialized with the value <code>108.0f</code>.</p>\n\n<pre><code>GLfloat *floatArray = new GLfloat(108);\n</code></pre>\n\n<p>You wanted to allocate an <strong>array</strong>:</p>\n\n<pre><code>GLfloat *floatArray = new GLfloat[108];\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 3656241, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/363adc9d9e07556b750648ecbe825b2b?s=128&d=identicon&r=PG&f=1", "display_name": "matt_rule", "link": "https://stackoverflow.com/users/3656241/matt-rule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 29265963, "answer_count": 1, "score": 1, "last_activity_date": 1427364193, "creation_date": 1427315516, "last_edit_date": 1427364193, "question_id": 29265936, "link": "https://stackoverflow.com/questions/29265936/unexplained-memory-error-using-c-sdl-opengl-and-glew", "title": "Unexplained memory error using C++, SDL, OpenGL and GLEW", "body": "<p>This is my entire application (stripped down to the essentials):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;GL/glew.h&gt;\n#include &lt;SDL.h&gt;\n#include &lt;SDL_opengl.h&gt;\n#include &lt;gl/glu.h&gt;\n\nint main( int argc, char* args[] )\n{\n    SDL_Init(SDL_INIT_VIDEO);\n    SDL_Window* gWindow = SDL_CreateWindow( \"title\", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, 640, 480, SDL_WINDOW_OPENGL | SDL_WINDOW_SHOWN );\n    SDL_GLContext gContext = SDL_GL_CreateContext( gWindow );\n    glewInit();\n\n    GLfloat *floatArray = new GLfloat(108);\n    floatArray[107] = 0.0f;\n\n    GLuint glBuffer;\n    glGenBuffers(1, &amp;glBuffer);\n\n    return 0;\n}\n</code></pre>\n\n<p>This and the required libraries are all compiled in Visual Studio 2012.</p>\n\n<p>This code initialises all the required systems for an OpenGL context, in the right order and nothing is missing as far as I can see (cleaning up is only needed after the point it breaks so I took that out).</p>\n\n<p>It breaks on the line <code>glGenBuffers(1, &amp;glBuffer);</code>, with the error \"SOFT323_vs11_2012.exe has triggered a breakpoint.\"</p>\n\n<p>Setting an element beyond <code>floatArray[9]</code> is required to break it.</p>\n\n<p>How do I approach this problem? Is it a glitch with one of the libraries or am I using them incorrectly?</p>\n"}, {"tags": ["c++", "assembly", "dll", "visual-c++-2012"], "comments": [{"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1427316197, "post_id": 29265736, "comment_id": 46733974, "body": "At least your second version should work. Examine the linker error and see what symbol it is looking for. Don&#39;t know about visual studio, but some toolchains like to prefix symbols with an underscore."}, {"owner": {"reputation": 66, "user_id": 1998698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9063d24e05754690330b934a0b11f9?s=128&d=identicon&r=PG", "display_name": "user1998698", "link": "https://stackoverflow.com/users/1998698/user1998698"}, "edited": false, "score": 0, "creation_date": 1427317844, "post_id": 29265736, "comment_id": 46734861, "body": "Why don&#39;t you just wrap your assembly code in a C function. If you are worried about performance you can do an inline C function."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 66, "user_id": 1998698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9063d24e05754690330b934a0b11f9?s=128&d=identicon&r=PG", "display_name": "user1998698", "link": "https://stackoverflow.com/users/1998698/user1998698"}, "edited": false, "score": 0, "creation_date": 1427318286, "post_id": 29265736, "comment_id": 46735095, "body": "@user1998698 This exactly what it looks like now. This is what we call an &#39;inline assembly&#39; - asm code wrapped inside a C/C++ function. However, this is not supported when compiling code for ARM or x64 processors: <a href=\"https://msdn.microsoft.com/en-us/library/4ks26t93.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/4ks26t93.aspx</a>."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1427319278, "post_id": 29265736, "comment_id": 46735576, "body": "Are you compiling all of that for x64? I&#39;m asking because for x64 <code>__stdcall</code> is ignored and there&#39;s no name mangling for <code>extern &quot;C&quot;</code> functions, as far as I know."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1427319673, "post_id": 29265736, "comment_id": 46735757, "body": "Yes, I am talking about x64. <code>__stdcall</code> is just an example. I tried <code>__cdecl</code> as well, with no result. And yes, I checked whether is not a problem with an underscore prepended to <code>__cdecl</code> functions&#39; names."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1427320309, "post_id": 29265736, "comment_id": 46736067, "body": "As I said, you shouldn&#39;t need any of those calling convention specifiers in x64 mode. Are you assembling with <code>ml64</code>?"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1427321270, "post_id": 29265736, "comment_id": 46736468, "body": "I have <code>.asm</code> file attached directly to project (<code>.vcxproj</code>, Visual Studio 2012) and enabled MASM project build customization. So I am certainly sure, that in x64 target, VS uses <code>ml64</code> to parse <code>.asm</code> files."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1427323685, "post_id": 29265736, "comment_id": 46737372, "body": "I&#39;ve just replicated your second setup locally and it built and ran fine, calling a simple assembly function taking two <code>long long</code>s and returning <code>long long</code> (by the way, your <code>sample_fun_impl</code> prototype lacks a return type). However, for some reason, the default target platform was &quot;Mixed Platforms&quot;, which actually called <code>ml</code>. I had to change it to <code>x64</code> to get a full 64-bit build, which used <code>ml64</code> and linked fine. Could this be your issue?"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1427324447, "post_id": 29265736, "comment_id": 46737660, "body": "@bogdan It wasn&#39;t my issue, my platform was set correctly. To make an additional quick check, I made a typo error inside <code>.asm</code> source and I got: <code>error MSB3721: The command &quot;ml64.exe [...] exited with code 1.</code> So this is fine. <b>But</b>: I also did a minimal replication of my code and found origin of all my problems. And it was your suggestion about calling conventions that helped me solve this. I will provide my solution as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": true, "score": 1, "last_activity_date": 1427326936, "creation_date": 1427326936, "answer_id": 29268607, "question_id": 29265736, "link": "https://stackoverflow.com/questions/29265736/is-it-possible-to-dllexport-and-then-dllimport-function-written-in-assembly/29268607#29268607", "title": "Is it possible to dllexport (and then dllimport) function written in assembly?", "body": "<p>So, the problem has been solved. Here is a minimal example of what I wanted with some explanations:</p>\n\n<p><strong>Asx.h</strong></p>\n\n<pre><code>namespace Asx\n{\n#if ASX_PLATFORM_IS64BIT //This is resolved using 'ifdef _M_X64'\n    extern ASX_DLL_API ULONGLONG roundup_pow2_64(ULONGLONG value);\n#else\n    extern ASX_DLL_API DWORD roundup_pow2_32(DWORD value);\n#endif\n}\n</code></pre>\n\n<p><strong>Asx.cpp</strong></p>\n\n<pre><code>#include \"Asx.h\"\n\n#if ASX_PLATFORM_IS64BIT\nextern \"C\" ULONGLONG __cdecl roundup_pow2_64_impl(ULONGLONG value);\n#else\nextern \"C\" DWORD __cdecl roundup_pow2_32_impl(DWORD value);\n#endif\n\nnamespace Asx\n{\n\n#if ASX_PLATFORM_IS64BIT\n    ULONGLONG roundup_pow2_64(ULONGLONG value)\n    {\n        return roundup_pow2_64_impl(value);\n    }\n#else\n    DWORD roundup_pow2_32(DWORD value)\n    {\n        return roundup_pow2_32_impl(value);\n    }\n#endif\n\n}\n</code></pre>\n\n<p><strong>Asx_asm_impl.asm</strong></p>\n\n<pre><code>IFNDEF ASX_PLATFORM_IS64BIT\n.686P\n.MODEL FLAT, C\n.XMM\nENDIF\n\n.CODE\n\nIFDEF ASX_PLATFORM_IS64BIT\n\nroundup_pow2_64_impl PROC public, value:QWORD\n//Implementation\nroundup_pow2_64_impl ENDP\n\nELSE\n\nroundup_pow2_32_impl PROC public, value:DWORD\n//Implementation\nroundup_pow2_32_impl ENDP\n\nENDIF\n\nEND\n</code></pre>\n\n<p>What was wrong?</p>\n\n<p>1) I did not take into account, that calling conventions are treated differently in x64, however accidentally this didn't cause any problems.</p>\n\n<p>2) At some point, I noticed, that functions marked <code>__cdecl</code> are searched by linker using their name prepended with an underscore. I made <code>dumpbin</code> of problematic DLL and it was there - but indeed with an underscore at the beginning! So I left its declaration as it was and changed its name from <code>roundup_pow2_32_impl</code> to <code>_roundup_pow2_32_impl</code> and at the same time, I added <code>MODEL FLAT, C</code>.</p>\n\n<p>3) I used IFDEF/IFNDEF inside <code>.asm</code> file. But I assumed, that all defines visible to <code>cl</code> will be also visible to <code>ml</code>/<code>ml64</code>. Wrong. Only after manually adding required constants everything started to work (<code>.asm</code> file properties -> Microsoft Macro Assembler -> General -> Preprocessor Definitions).</p>\n\n<p>I guess after trying and trying many different solutions, everything turned into one, big mess. Clean setup worked perfectly:</p>\n\n<p><strong>Main.cpp</strong></p>\n\n<pre><code>#include \"../Asx/Header.h\"\n\nint main(int argc, char** argv)\n{\n#if ASX_PLATFORM_IS64BIT\n    ULONGLONG v = Asx::roundup_pow2_64(4000);\n#else\n    DWORD v = Asx::roundup_pow2_32(4000);\n#endif\n\n    return 0;\n}\n</code></pre>\n\n<p>Result in both Win32 and x64: <code>4096</code>.</p>\n\n<p>And big thanks for <strong>bogdan</strong>! Without his hint about calling convention specifiers on x64, I wouldn't solve this.</p>\n"}], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 1, "accepted_answer_id": 29268607, "answer_count": 1, "score": 3, "last_activity_date": 1427326936, "creation_date": 1427314770, "last_edit_date": 1427315179, "question_id": 29265736, "link": "https://stackoverflow.com/questions/29265736/is-it-possible-to-dllexport-and-then-dllimport-function-written-in-assembly", "title": "Is it possible to dllexport (and then dllimport) function written in assembly?", "body": "<p>I have large C++ project, containing few modules - all of them are compiled to dynamic libraries. I target multiple platforms, including Windows, Linux and MacOSX.</p>\n\n<p>Profiling tests revealed some critical points, in which I was able to get huge performance gain, for example: hash computing, some vector operations etc. I implemented this functionality in assembly using SSE/MMX.</p>\n\n<p>Everything was fine, until I switched back to x64 target in Visual C++, where inline assembly is not permitted. And I'm stuck. Also, these functions are used in other modules as well.</p>\n\n<p>Basically, what I am trying to achieve, is to implement some functions, that reside inside DLL in assembly. I tried this:</p>\n\n<p><strong>Api.h</strong></p>\n\n<pre><code>extern \"C\" void DLL_API __stdcall sample_fun(/*args*/);\n</code></pre>\n\n<p><strong>Api.asm</strong></p>\n\n<pre><code>sample_fun PROC public ;args\n.....\nsample_fun ENDP\n</code></pre>\n\n<p>This obviously will not work, because of name mangling.</p>\n\n<p>I also tried this:</p>\n\n<p><strong>Api.h</strong></p>\n\n<pre><code>void DLL_API sample_fun(/*args*/);\n</code></pre>\n\n<p><strong>Api.cpp</strong></p>\n\n<pre><code>extern \"C\" __stdcall sample_fun_impl(/*args*/).\n\nvoid DLL_API sample_fun(/*args*/)\n{\n  return sample_fun_impl(/*args*/);\n}\n</code></pre>\n\n<p><strong>Api.asm</strong></p>\n\n<pre><code>sample_fun_impl PROC public ;args\n.....\nsample_fun_impl ENDP\n</code></pre>\n\n<p>In this case, I am still getting linker error about unresolved external symbol (sample_fun_impl), which is weird, because it is actually a private function, called only from within the DLL.</p>\n\n<p>Is it possible to do what I am trying to ?</p>\n"}, {"tags": ["c++", "linux", "sockets", "g++"], "comments": [{"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1427314425, "post_id": 29265561, "comment_id": 46732960, "body": "If you want your app to not terminate, it&#39;s a very smart idea.  It&#39;s much better than trying to add code onto the end of the program faster than the computer can execute it."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1427347496, "post_id": 29265561, "comment_id": 46743658, "body": "You throw away the return value of <code>recv</code>, so your code has no reliable way to know how many bytes it received. It seems you&#39;re expecting <code>reply = buffer;</code> to figure out the right size for the string by magic."}], "answers": [{"comments": [{"owner": {"reputation": 16373, "user_id": 1175327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1199adfcd4dd666a006dfedffbaf24a8?s=128&d=identicon&r=PG", "display_name": "Vivendi", "link": "https://stackoverflow.com/users/1175327/vivendi"}, "edited": false, "score": 0, "creation_date": 1427314707, "post_id": 29265632, "comment_id": 46733112, "body": "Ok, that&#39;s a good thing to know. But is it a good idea to put the <code>recv</code> in a while loop? Is that common? That&#39;s basically what I&#39;m worried about."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "reply_to_user": {"reputation": 16373, "user_id": 1175327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1199adfcd4dd666a006dfedffbaf24a8?s=128&d=identicon&r=PG", "display_name": "Vivendi", "link": "https://stackoverflow.com/users/1175327/vivendi"}, "edited": false, "score": 0, "creation_date": 1427315040, "post_id": 29265632, "comment_id": 46733315, "body": "It is not a problem if you build in the protection like above otherwise if the server closes you keep getting errors enlessly"}], "tags": [], "owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "is_accepted": true, "score": 1, "last_activity_date": 1427315308, "last_edit_date": 1427315308, "creation_date": 1427314420, "answer_id": 29265632, "question_id": 29265561, "link": "https://stackoverflow.com/questions/29265561/wait-for-incoming-data-in-a-c-client-socket-application/29265632#29265632", "title": "Wait for incoming data in a C++ client socket application", "body": "<p>You should check if you at a certain point you receive 0 bytes , which means that the other end has closed the connection and is not going to send anymore. That means that you can close your socket too and close the application.</p>\n\n<p>Under normal condition , when the server is also running, receive is a blocking call, it just hangs there until there is something received.</p>\n\n<p>Now if the server closes the connection you really must exit the endless loop or you will continuously call receive on a socket that is closed which will return immediately taking a lot of load on your cpu.</p>\n\n<p>All programs should generally take care of the error conditions or unexpected behavior can occur.</p>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 2210414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd09de64f1e91ea5a3c729ec33ac2ba?s=128&d=identicon&r=PG", "display_name": "Yasir Majeed", "link": "https://stackoverflow.com/users/2210414/yasir-majeed"}, "is_accepted": false, "score": 0, "last_activity_date": 1427347345, "creation_date": 1427347345, "answer_id": 29271598, "question_id": 29265561, "link": "https://stackoverflow.com/questions/29265561/wait-for-incoming-data-in-a-c-client-socket-application/29271598#29271598", "title": "Wait for incoming data in a C++ client socket application", "body": "<p>Yes you should put receive in a loop. But you should know that the receive call will block your program until it finds any data. That means if you are working with a GUI, your GUI will halt until the receive will unblock the program. For console application its ok..</p>\n"}], "owner": {"reputation": 16373, "user_id": 1175327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1199adfcd4dd666a006dfedffbaf24a8?s=128&d=identicon&r=PG", "display_name": "Vivendi", "link": "https://stackoverflow.com/users/1175327/vivendi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4186, "favorite_count": 0, "accepted_answer_id": 29265632, "answer_count": 2, "score": 0, "last_activity_date": 1427347345, "creation_date": 1427314163, "question_id": 29265561, "link": "https://stackoverflow.com/questions/29265561/wait-for-incoming-data-in-a-c-client-socket-application", "title": "Wait for incoming data in a C++ client socket application", "body": "<p>Through a tutorial I was able to built a C++ client application that connects to a server and is able to send and receive data.</p>\n\n<p>Currently the application ends after it receives a string from the server. What I want to do is to let the client keep listening for incoming data.</p>\n\n<p>Currently a part of my code looks like this:</p>\n\n<pre><code>string tcp_client::receive(int size=512)\n{\n    char buffer[size];\n    string reply;\n\n    //Receive a reply from the server\n    if( recv(sock , buffer , sizeof(buffer) , 0) &lt; 0)\n    {\n        puts(\"recv failed\");\n    }\n\n    reply = buffer;\n    return reply;\n}\n\nint main(int argc , char *argv[])\n{\n    tcp_client c;\n    string host;\n\n    cout&lt;&lt;\"Enter hostname : \";\n    cin&gt;&gt;host;\n\n    c.conn(host , 4004);\n\n    //send some data\n    c.send_data(\"TEST STRING \\n\\r\\n\");\n\n    //receive and echo reply\n    // (want to keep listening here for data)\n    cout&lt;&lt;c.receive(1024);\n\n\n    //done\n    return 0;\n}\n</code></pre>\n\n<p>I don't want the client to end but I want it to keep listening for data. I'm thinking about adding this code:</p>\n\n<pre><code>while(buffer = c.receive(1024))\n{\n    // do something with buffer ... switch/case construction\n    // After that, start listening again\n}\n</code></pre>\n\n<p>First of all I'm not sure if this works. But second, I'm also not sure if it's smart to put in a never ending while loop in there (never ending, until I terminate the application of course).</p>\n\n<p>Can I simply put in a while loop like that? Or are there other. better methods to make a client application keep listening for data?</p>\n"}, {"tags": ["c++", "debugging"], "comments": [{"owner": {"reputation": 15898, "user_id": 1155000, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8213d9cd920e864ce8ff1fdeefe4db5?s=128&d=identicon&r=PG", "display_name": "Daniel Kamil Kozar", "link": "https://stackoverflow.com/users/1155000/daniel-kamil-kozar"}, "edited": false, "score": 0, "creation_date": 1427314375, "post_id": 29265545, "comment_id": 46732916, "body": "Standard C++ does not define arithmetic exceptions for integer math."}, {"owner": {"reputation": 35, "user_id": 4685530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5bb22baf3cf748c5c497792b3788d4?s=128&d=identicon&r=PG&f=1", "display_name": "Vladyabra", "link": "https://stackoverflow.com/users/4685530/vladyabra"}, "reply_to_user": {"reputation": 15898, "user_id": 1155000, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8213d9cd920e864ce8ff1fdeefe4db5?s=128&d=identicon&r=PG", "display_name": "Daniel Kamil Kozar", "link": "https://stackoverflow.com/users/1155000/daniel-kamil-kozar"}, "edited": false, "score": 0, "creation_date": 1427325527, "post_id": 29265545, "comment_id": 46738093, "body": "@DanielKamilKozar but... why?"}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 4, "creation_date": 1427314499, "post_id": 29265611, "comment_id": 46733003, "body": "What are you getting at? <code>std::overflow_error</code> is meant to be thrown, and derives from <code>std::exception</code>. Regardless, it does not come into play at all in the OP&#39;s situation."}], "tags": [], "owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "is_accepted": false, "score": 0, "last_activity_date": 1427314347, "creation_date": 1427314347, "answer_id": 29265611, "question_id": 29265545, "link": "https://stackoverflow.com/questions/29265545/how-to-get-overflow-exception-in-c/29265611#29265611", "title": "How to get overflow exception in C++?", "body": "<p>It's not an exception, it's an error (if that pleases you). The reason is that arithmetic overflow cannot be determined before runtime. It is a runtime error subclassing from superclass <code>error</code>.</p>\n\n<p>What you are looking for is arithmetic overflow.</p>\n\n<p>Check out C++ documentation for <code>overflow_error</code> class <a href=\"http://www.cplusplus.com/reference/stdexcept/overflow_error/\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 3, "creation_date": 1427314501, "post_id": 29265615, "comment_id": 46733006, "body": "Note that unsigned integer overflow is well defined, however."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427314800, "post_id": 29265615, "comment_id": 46733172, "body": "Rather unsigned integers do not overflow in the first place, making this text valid when considering them."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1427314371, "creation_date": 1427314371, "answer_id": 29265615, "question_id": 29265545, "link": "https://stackoverflow.com/questions/29265545/how-to-get-overflow-exception-in-c/29265615#29265615", "title": "How to get overflow exception in C++?", "body": "<p>From the standard section 5 Expressions</p>\n\n<blockquote>\n  <p>If during the evaluation of an expression, the result is not mathematically defined or not in the range of representable values for its type, the behavior is undefined. [ Note: <strong>most existing implementations of C++ ignore integer overflows</strong>. Treatment of division by zero, forming a remainder using a zero divisor, and all floating point exceptions vary among machines, and is usually adjustable by a library function. \u2014end note ]</p>\n</blockquote>\n\n<p><strong>Emphasis mine.</strong></p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 4685530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5bb22baf3cf748c5c497792b3788d4?s=128&d=identicon&r=PG&f=1", "display_name": "Vladyabra", "link": "https://stackoverflow.com/users/4685530/vladyabra"}, "edited": false, "score": 0, "creation_date": 1427325452, "post_id": 29265624, "comment_id": 46738059, "body": "It&#39;s a good solution, but because I can&#39;t overload the <code>operator+</code> for standart types, it forces me to use own functions, like <code>add</code>, <code>mul</code>, etc.   But it is tiresome and it makes my code too complicated."}, {"owner": {"reputation": 3695, "user_id": 4679661, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cfe9e5dd7661323595e25d592172b10?s=128&d=identicon&r=PG&f=1", "display_name": "juhist", "link": "https://stackoverflow.com/users/4679661/juhist"}, "reply_to_user": {"reputation": 35, "user_id": 4685530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5bb22baf3cf748c5c497792b3788d4?s=128&d=identicon&r=PG&f=1", "display_name": "Vladyabra", "link": "https://stackoverflow.com/users/4685530/vladyabra"}, "edited": false, "score": 0, "creation_date": 1427357844, "post_id": 29265624, "comment_id": 46746839, "body": "An alternative would be to create your own type which holds a single <code>int</code> and then overload <code>operator+</code> for that type."}], "tags": [], "owner": {"reputation": 3695, "user_id": 4679661, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cfe9e5dd7661323595e25d592172b10?s=128&d=identicon&r=PG&f=1", "display_name": "juhist", "link": "https://stackoverflow.com/users/4679661/juhist"}, "is_accepted": false, "score": 2, "last_activity_date": 1427314396, "creation_date": 1427314396, "answer_id": 29265624, "question_id": 29265545, "link": "https://stackoverflow.com/questions/29265545/how-to-get-overflow-exception-in-c/29265624#29265624", "title": "How to get overflow exception in C++?", "body": "<p>You do the following:</p>\n\n<pre><code>if (b &gt; 0 &amp;&amp; a &gt; MAX_REPRESENTABLE_VALUE/b)\n{\n    throw your_exception(\"Message\");\n}\n</code></pre>\n\n<p>Note that <code>a &gt; MAX_REPRESENTABLE_VALUE/b</code> is equivalent to <code>a*b &gt; MAX_REPRESENTABLE_VALUE</code> mathematically but you have to use the former form if you are doing it with limited-precision arithmetic.</p>\n\n<p>See the header <code>climits</code> for constants for <code>MAX_REPRESENTABLE_VALUE</code>: <a href=\"http://www.cplusplus.com/reference/climits/\" rel=\"nofollow\">http://www.cplusplus.com/reference/climits/</a></p>\n"}], "owner": {"reputation": 35, "user_id": 4685530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5bb22baf3cf748c5c497792b3788d4?s=128&d=identicon&r=PG&f=1", "display_name": "Vladyabra", "link": "https://stackoverflow.com/users/4685530/vladyabra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4729, "favorite_count": 0, "closed_date": 1427314452, "answer_count": 3, "score": 3, "last_activity_date": 1427314396, "creation_date": 1427314113, "question_id": 29265545, "link": "https://stackoverflow.com/questions/29265545/how-to-get-overflow-exception-in-c", "closed_reason": "Duplicate", "title": "How to get overflow exception in C++?", "body": "<p>What's the easiest way to catch an overflow exception in C++?</p>\n\n<p>For example, when I'm writing something like</p>\n\n<pre><code>int a = 10000, b = 100000;\nint c = a * b;\n</code></pre>\n\n<p>or (optionally)</p>\n\n<pre><code>std::cout &lt;&lt; a * b;\n</code></pre>\n\n<p>I'd like to catch an exception (or notification). How to do so? Maybe there is any native solution for GNU C++, isn't there?</p>\n"}, {"tags": ["c++", "xcode"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427314178, "post_id": 29265495, "comment_id": 46732802, "body": "Are you using a plain text editor or a word processor?"}, {"owner": {"reputation": 43, "user_id": 4713855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ga3-pek_Z5E/AAAAAAAAAAI/AAAAAAAAAHE/q7VueSJMnYw/photo.jpg?sz=128", "display_name": "Alexis J.", "link": "https://stackoverflow.com/users/4713855/alexis-j"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427314237, "post_id": 29265495, "comment_id": 46732834, "body": "Why is that? How can I fix it?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427314311, "post_id": 29265495, "comment_id": 46732876, "body": "The error should actually have an arrow pointing to that quotation mark (<a href=\"http://coliru.stacked-crooked.com/a/e29176b4463e93ad\" rel=\"nofollow noreferrer\">Clang does for me</a>). Referencing any ASCII table, you&#39;ll see that the only quotation mark character is &quot;, which is the only one that should be on the keyboard."}, {"owner": {"reputation": 43, "user_id": 4713855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ga3-pek_Z5E/AAAAAAAAAAI/AAAAAAAAAHE/q7VueSJMnYw/photo.jpg?sz=128", "display_name": "Alexis J.", "link": "https://stackoverflow.com/users/4713855/alexis-j"}, "edited": false, "score": 0, "creation_date": 1427314966, "post_id": 29265495, "comment_id": 46733276, "body": "I&#39;m using Xcode. But I think the problem was that I directly copied and pasted from a textbook."}], "answers": [{"tags": [], "owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 5, "last_activity_date": 1427314841, "last_edit_date": 1427314841, "creation_date": 1427314175, "answer_id": 29265564, "question_id": 29265495, "link": "https://stackoverflow.com/questions/29265495/having-problems-compiling-my-first-c-program/29265564#29265564", "title": "Having problems compiling my first C++ program", "body": "<p>The \"pretty quotes\" copied from your textbook are not valid characters.</p>\n\n<p>Change:</p>\n\n<pre><code>cout &lt;&lt; \u201cHello there world!\u201d;\n//      ^                  ^ These characters are not correct.\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>cout &lt;&lt; \"Hello there world!\";\n</code></pre>\n\n<p>The editor you use to type code <strong>must not</strong> be one that replaces the characters you type with characters that might <em>look nicer</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 1, "last_activity_date": 1427314190, "creation_date": 1427314190, "answer_id": 29265569, "question_id": 29265495, "link": "https://stackoverflow.com/questions/29265495/having-problems-compiling-my-first-c-program/29265569#29265569", "title": "Having problems compiling my first C++ program", "body": "<p>It seems that you are using non-ASCII double quotes</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4713903, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/98d6944726b4ead97e2639d66103e143?s=128&d=identicon&r=PG", "display_name": "user4713903", "link": "https://stackoverflow.com/users/4713903/user4713903"}, "is_accepted": false, "score": 0, "last_activity_date": 1427314316, "creation_date": 1427314316, "answer_id": 29265600, "question_id": 29265495, "link": "https://stackoverflow.com/questions/29265495/having-problems-compiling-my-first-c-program/29265600#29265600", "title": "Having problems compiling my first C++ program", "body": "<p>try with this string (cut and paste) \"Hello there world\", note the different leading apostrophes.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4655345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/babcabf885ad2bea158f5463e742c597?s=128&d=identicon&r=PG&f=1", "display_name": "CodeCreeper", "link": "https://stackoverflow.com/users/4655345/codecreeper"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315691, "creation_date": 1427315691, "answer_id": 29265989, "question_id": 29265495, "link": "https://stackoverflow.com/questions/29265495/having-problems-compiling-my-first-c-program/29265989#29265989", "title": "Having problems compiling my first C++ program", "body": "<p>Try using the Code::Blocks compiler</p>\n\n<p><a href=\"http://www.codeblocks.org/\" rel=\"nofollow\">http://www.codeblocks.org/</a></p>\n"}], "owner": {"reputation": 43, "user_id": 4713855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ga3-pek_Z5E/AAAAAAAAAAI/AAAAAAAAAHE/q7VueSJMnYw/photo.jpg?sz=128", "display_name": "Alexis J.", "link": "https://stackoverflow.com/users/4713855/alexis-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 29265564, "answer_count": 4, "score": 2, "last_activity_date": 1479775111, "creation_date": 1427313976, "last_edit_date": 1479775111, "question_id": 29265495, "link": "https://stackoverflow.com/questions/29265495/having-problems-compiling-my-first-c-program", "title": "Having problems compiling my first C++ program", "body": "<p>I tried compiling the following program on XCode on my Mac, and I get these errors:</p>\n\n<p>*Non-ASCII charactes are not allowed outside of literals and identifiers. Fix it: Delete \"\"\n*Use of undeclared identifier 'Hello'</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \u201cHello there world!\u201d;\n    return 0;\n}\n</code></pre>\n\n<p>This program is literally verbatim from the textbook, \"A First Book of C++: An Introduction to Programming\" so I'm not sure why it would not work. Is this a Mac vs. PC issue?</p>\n"}, {"tags": ["c++", "templates", "function-pointers"], "comments": [{"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 1, "creation_date": 1427313954, "post_id": 29265451, "comment_id": 46732677, "body": "define it within the class using the template parameter."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 17, "last_activity_date": 1427317630, "last_edit_date": 1427317630, "creation_date": 1427314100, "answer_id": 29265533, "question_id": 29265451, "link": "https://stackoverflow.com/questions/29265451/how-to-typedef-a-function-pointer-with-template-arguments/29265533#29265533", "title": "How to typedef a function pointer with template arguments", "body": "<p>In C++11, you can use this:</p>\n\n<pre><code>template&lt;class X&gt;\nusing ExecFunc = void(*)(X);\n</code></pre>\n\n<p>defines <code>ExecFunc&lt;X&gt;</code>.</p>\n\n<p>In C++03, you have to use this instead:</p>\n\n<pre><code>template&lt;class X&gt;\nstruct ExecFunc {\n  typedef void(*type)(X);\n};\n</code></pre>\n\n<p>and use <code>typename ExecFunc&lt;X&gt;::type</code> within <code>Executor</code>.</p>\n"}], "owner": {"reputation": 10209, "user_id": 1412808, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NcNeL.jpg?s=128&g=1", "display_name": "Rafael Baptista", "link": "https://stackoverflow.com/users/1412808/rafael-baptista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5852, "favorite_count": 3, "accepted_answer_id": 29265533, "answer_count": 1, "score": 7, "last_activity_date": 1460476620, "creation_date": 1427313810, "last_edit_date": 1439242329, "question_id": 29265451, "link": "https://stackoverflow.com/questions/29265451/how-to-typedef-a-function-pointer-with-template-arguments", "title": "How to typedef a function pointer with template arguments", "body": "<p>Consider this:</p>\n\n<pre><code>typedef void (*ExecFunc)( int val );\n\nclass Executor\n{\n\n  void doStuff() { mFunc( mVal ); }\n  void setFunc( ExecFunc func ) { mFunc = func; }\n\n  int           mVal;\n  ExecFunc      mFunc;\n};\n\nvoid addOne( int val ) { val = val+1; } // this could be passed as an ExecFunc. \n</code></pre>\n\n<p>Very simple. Suppose now that I want to templatize this?</p>\n\n<pre><code>typedef void (*ExecFunc)( int val );    // what do I do with this?\n\ntemplate &lt; typename X &gt; class Executor\n{\n\n  void doStuff() { mFunc( mVal ); }\n  void setFunc( ExecFunc&lt;X&gt; func ) { mFunc = func; }\n\n  X                mVal;\n  ExecFunc&lt;X&gt;      mFunc; // err... trouble..\n};\n\ntemplate &lt; typename X &gt; addOne( X val ) { val += 1; }\n</code></pre>\n\n<p>So how to I create a templatized function pointer?</p>\n"}, {"tags": ["c++", "vector", "constructor", "compiler-errors"], "comments": [{"owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "edited": false, "score": 0, "creation_date": 1427314043, "post_id": 29265441, "comment_id": 46732721, "body": "You are going to the edge of what your compiler allows as &quot;valid&quot; code, however only one of those definitions is of a form you should be using."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 2, "creation_date": 1427314051, "post_id": 29265441, "comment_id": 46732726, "body": "Because <code>DummyClass(array);</code>, as the compiler says, is a declaration with syntax that came from C and no code I have come across uses intentionally."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1427314614, "post_id": 29265640, "comment_id": 46733061, "body": "or <code>DummyClass{array};</code>"}], "tags": [], "owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "is_accepted": true, "score": 5, "last_activity_date": 1427314449, "creation_date": 1427314449, "answer_id": 29265640, "question_id": 29265441, "link": "https://stackoverflow.com/questions/29265441/error-when-try-to-initiate-a-class-with-vectorint-in-a-constructor/29265640#29265640", "title": "Error when try to initiate a class with vector&lt;int&gt; in a constructor", "body": "<p>According to the grammar, the last example that fails to compile is the same as <code>DummyClass array;</code> which re-declares the variable <code>array</code>. I think you meant <code>DummyClass obj2(array);</code></p>\n"}], "owner": {"reputation": 159, "user_id": 2109257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/335312054248c6178d44ca73a236dfa4?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2109257/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29265640, "answer_count": 1, "score": 2, "last_activity_date": 1427314449, "creation_date": 1427313780, "question_id": 29265441, "link": "https://stackoverflow.com/questions/29265441/error-when-try-to-initiate-a-class-with-vectorint-in-a-constructor", "title": "Error when try to initiate a class with vector&lt;int&gt; in a constructor", "body": "<p>Consider a following code:    </p>\n\n<pre><code>#include &lt;vector&gt;\nusing namespace std;    \nclass DummyClass\n{\npublic:\n    DummyClass(){};\n    DummyClass( int x ){}\n    DummyClass (vector&lt;int&gt; array){}\n};\nint main()\n{\n    DummyClass(); // compiles\n    DummyClass(5); // compiles\n    vector&lt;int&gt; array;\n    DummyClass obj = DummyClass( array );//compiles\n    //DummyClass( array );// doesn't compile\n\n}\n</code></pre>\n\n<p>Why the last line can't be compiled? error: Redefinition of 'array' with a different type: 'DummyClass' vs 'vector'</p>\n"}, {"tags": ["c++", "macos", "ip", "ip-address", "winsock"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427314124, "post_id": 29265434, "comment_id": 46732772, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms738520(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>getaddrinfo()</code></a> doesn&#39;t work for you?"}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1427317396, "creation_date": 1427317396, "answer_id": 29266460, "question_id": 29265434, "link": "https://stackoverflow.com/questions/29265434/how-to-get-ip-adress-with-winsock-c/29266460#29266460", "title": "How to get IP adress with WINSOCK ? c++", "body": "<p>WinSock is a Windows-specific API.  Most socket APIs in general do not provide information about local IP/MAC addresses.  You <em>might</em> be able to use <code>getaddrinfo()</code> to query the IP addresses for <code>localhost</code>, but that would be implementation-specific whether it works or not, and it would not include MAC addresses anyway.</p>\n\n<p>On Windows, the correct way to get the IP and MAC addresses for the local machine is to use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365917.aspx\" rel=\"nofollow\"><code>GetAdaptersInfo()</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365915.aspx\" rel=\"nofollow\"><code>GetAdaptersAddresses()</code></a> to enumerate the local NICs.</p>\n\n<p>On POSIX-based platforms, including OSX, you can use <a href=\"https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man3/getifaddrs.3.html\" rel=\"nofollow\"><code>getifaddrs()</code></a> to get the local IP addresses (family <code>AF_INET/6</code>) and MAC addresses (family <code>AF_LINK</code>).</p>\n"}], "owner": {"reputation": 121, "user_id": 3540983, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c1ff729be7780043d066865a5725f24?s=128&d=identicon&r=PG&f=1", "display_name": "user3540983", "link": "https://stackoverflow.com/users/3540983/user3540983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1427317396, "creation_date": 1427313752, "question_id": 29265434, "link": "https://stackoverflow.com/questions/29265434/how-to-get-ip-adress-with-winsock-c", "title": "How to get IP adress with WINSOCK ? c++", "body": "<p>I'm not familiar with networks and etc so I dont  get how to use it, so if anyone can help me how to get ip adress of my  computer with it and I also have to get MAC adress too.</p>\n"}, {"tags": ["c++", "opencv", "nvidia", "tegra"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427313810, "post_id": 29265370, "comment_id": 46732599, "body": "Did you provide the libraries (<code>.a</code>) as <code>-l</code> options and the directories where to find them with the <code>-L</code> option in your linker command line?"}, {"owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427321058, "post_id": 29265370, "comment_id": 46736399, "body": "I don&#39;t know if we&#39;re speaking the same thing? and this is not a duplicate...  So, <code>pkg-config opencv --libs</code> will return the path to all the library shared objects (.so)   The <code>-L</code> I provided is for the <code>-lcudart</code> ect... provided by the pkg-config cmd... but to answer your question directly, adding <code>-L&#47;usr&#47;lib</code> additionally will not help. I&#39;ve already tried it."}, {"owner": {"reputation": 6135, "user_id": 894885, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/96b3d11d987edfac71b38328edf04b44?s=128&d=identicon&r=PG", "display_name": "Samuel Edwin Ward", "link": "https://stackoverflow.com/users/894885/samuel-edwin-ward"}, "edited": false, "score": 1, "creation_date": 1427326782, "post_id": 29265370, "comment_id": 46738510, "body": "You are linking.  These are linker errors.  I can only assume <code>pkg-config</code> is not returning the flags to include the library that contains the definitions of those symbols."}, {"owner": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 0, "creation_date": 1427336082, "post_id": 29265370, "comment_id": 46740897, "body": "<code>$LD_LIBRARY_PATH</code> has little to do here. It&#39;s an environment variable used by the <i>dynamic linker</i> when you <i>attempt</i> to <i>run</i> the program. It&#39;s GCC&#39;s <code>-L&#47;path&#47;to&#47;lib</code> flags that you use to tell it to find libraries in non-default paths. And for your information, those <b><i>are</i></b> linker errors. Don&#39;t take our word, it even says so itself in your error message: <code>collect2: error: ld returned 1 exit status</code>, though it&#39;s conceivable that the preprocessor header GCC finds misdeclares those functions. And lastly, OpenCV4Tegra is closed-source."}, {"owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "reply_to_user": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 0, "creation_date": 1427338886, "post_id": 29265370, "comment_id": 46741615, "body": "@IwillnotexistIdonotexist I did figure out that opencv4tegra is closed source, however, thanks for readdressing this. I also did see the <code>ld</code> error, but I&#39;m just confused as to why... When I run <code>ldd</code> on the opencv I compiled using <code>make</code> it is properly linked. I am about to give up and just use <code>make</code> in general."}, {"owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "reply_to_user": {"reputation": 6135, "user_id": 894885, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/96b3d11d987edfac71b38328edf04b44?s=128&d=identicon&r=PG", "display_name": "Samuel Edwin Ward", "link": "https://stackoverflow.com/users/894885/samuel-edwin-ward"}, "edited": false, "score": 0, "creation_date": 1427339083, "post_id": 29265370, "comment_id": 46741658, "body": "@SamuelEdwinWard I&#39;m not sure I know what you mean? When I run <code>pkg-config opencv --libs</code> I get what is inside <code>&#47;usr&#47;lib&#47;pkgconfig&#47;opencv.pc</code>. I did not create this file, either added by <code>apt</code> or was inside the <code>opencv4tegra-*.deb</code> package.   Is this not correct?  <code>&#47;usr&#47;lib&#47;libopencv_calib3d.so &#47;usr&#47;lib&#47;libopencv_contrib.so &#47;usr&#47;lib&#47;libopencv_core.so &#47;usr&#47;lib&#47;libopencv_features2d.so &#47;usr&#47;lib&#47;libopencv_flann.so &#47;usr&#47;lib&#47;libopencv_gpu.so &#47;usr&#47;lib&#47;libopencv_highgui.so ...more... -lcufft -lnpps -lnppi -lnppc -lcudart -lrt -lpthread -lm -ldl</code>"}, {"owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "reply_to_user": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 1, "creation_date": 1427403552, "post_id": 29265370, "comment_id": 46774698, "body": "Think I found my issue. Thanks for the clue @IwillnotexistIdonotexist. The macros inside the opencv cmake make references to opencv_nonfree... perhaps it was sobel or something. Hence, why the entire library builds it."}, {"owner": {"reputation": 12687, "user_id": 2809095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705cfb2d48f12159ebae7d0275355a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Iwillnotexist Idonotexist", "link": "https://stackoverflow.com/users/2809095/iwillnotexist-idonotexist"}, "edited": false, "score": 0, "creation_date": 1427404648, "post_id": 29265370, "comment_id": 46775279, "body": "@hhony If you found your own solution, you should consider self-answering your question; It&#39;s permitted, even encouraged."}, {"owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "edited": false, "score": 0, "creation_date": 1427408982, "post_id": 29265370, "comment_id": 46777179, "body": "I did already. It didn&#39;t seem to post for some reason. :)"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "is_accepted": false, "score": 2, "last_activity_date": 1427409180, "creation_date": 1427409180, "answer_id": 29290097, "question_id": 29265370, "link": "https://stackoverflow.com/questions/29265370/opencv4tegra-issues-compiling-sample-stereo-match-cpp/29290097#29290097", "title": "opencv4tegra: issues compiling sample stereo_match.cpp", "body": "<p>See the macros inside cmake instructions for packaging in opencv and stick to using make. Thanks again for the clue 'Iwillnotexist Idonotexist'.</p>\n\n<p>In my case, there were two dependencies I missed: \n/modules/gpu/src/nvidia &amp;&amp; /modules/gpu/src/nvidia/core\n...and there were references to 'nonfree' in other parts.</p>\n\n<p>Hidden dependency stuff... oh boy.</p>\n\n<p>Thanks for all the contributing responses - seems trivial now.</p>\n"}], "owner": {"reputation": 331, "user_id": 4709299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbffcdc485584b490cff5757e4acb55?s=128&d=identicon&r=PG", "display_name": "hhony", "link": "https://stackoverflow.com/users/4709299/hhony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1427409180, "creation_date": 1427313551, "last_edit_date": 1427396634, "question_id": 29265370, "link": "https://stackoverflow.com/questions/29265370/opencv4tegra-issues-compiling-sample-stereo-match-cpp", "title": "opencv4tegra: issues compiling sample stereo_match.cpp", "body": "<p>I am having considerable difficulty compiling a standard opencv sample with opencv4tegra - installed as instructed by the nvidia wiki for the Jetson TK1. </p>\n\n<p>Out of frustration I built opencv from the 2.4.10.1 source and I installed it directly into /usr/local... and it worked great! After I uninstalled it I had the same issue compiling against theirs, so clearly it is something that I am doing. Funny thing is, I can run the compiled sample app against their opencv4tegra lib just fine... but I cannot compile against their lib.</p>\n\n<p>Test environment:</p>\n\n<p>I did not change the sample file from 2.4.10.1 release of opencv - it is the same stereo_match.cpp file. I'm just trying to compile it. </p>\n\n<p>The functions are inside the gpu.hpp file - I have already looked. I have also run: </p>\n\n<p><code>nm /usr/lib/libopencv_gpu.so | grep StereoBM_GPU | c++filt</code> </p>\n\n<p>...just to ensure the symbols are in the library. </p>\n\n<p>What is going on?? So, it's clearly not linking - but I can't figure out what g++ wants...</p>\n\n<blockquote>\n  <p>$:~/opencv/samples/gpu$ <code>g++ -I/usr/include -L/usr/local/cuda/lib\n  `pkg-config opencv --libs` stereo_match.cpp -o stereo_m</code></p>\n  \n  <p>/tmp/ccvj1IgD.o: In function <code>App::App(Params const&amp;)':\n  stereo_match.cpp:(.text+0x8b0): undefined reference to\n  </code>cv::gpu::StereoBM_GPU::StereoBM_GPU()'\n  stereo_match.cpp:(.text+0x8c6): undefined reference to\n  <code>cv::gpu::StereoBeliefPropagation::StereoBeliefPropagation(int, int,\n  int, int)' stereo_match.cpp:(.text+0x8e0): undefined reference to\n  </code>cv::gpu::StereoConstantSpaceBP::StereoConstantSpaceBP(int, int, int,\n  int, int)' stereo_match.cpp:(.text+0x8e4): undefined reference to\n  <code>cv::gpu::getDevice()' stereo_match.cpp:(.text+0x8ec): undefined\n  reference to</code>cv::gpu::printShortCudaDeviceInfo(int)' /tmp/ccvj1IgD.o:\n  In function <code>App::run()': stereo_match.cpp:(.text+0xa42): undefined\n  reference to</code>cv::imread(std::string const&amp;, int)'\n  stereo_match.cpp:(.text+0xa70): undefined reference to\n  <code>cv::imread(std::string const&amp;, int)' stereo_match.cpp:(.text+0xb90):\n  undefined reference to</code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xba0): undefined reference to\n  <code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0xbb4): undefined reference to\n  </code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0xbc4): undefined reference to\n  <code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xbd4): undefined reference to\n  </code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0xbe8): undefined reference to\n  <code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0xbfa): undefined reference to\n  </code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xc0c): undefined reference to\n  <code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xc3e): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xc4e): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0xc94): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xca4): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0xdaa): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xdba): undefined reference to\n  <code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0xdce): undefined reference to\n  </code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0xdde): undefined reference to\n  <code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xdee): undefined reference to\n  </code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0xe02): undefined reference to\n  <code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0xe4e): undefined reference to\n  </code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xe60): undefined reference to\n  <code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xe92): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xea2): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0xee8): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0xef8): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0xf22): undefined reference to\n  </code>cv::gpu::Stream::Null()' stereo_match.cpp:(.text+0xf34): undefined\n  reference to <code>cv::gpu::StereoBM_GPU::operator()(cv::gpu::GpuMat\n  const&amp;, cv::gpu::GpuMat const&amp;, cv::gpu::GpuMat&amp;, cv::gpu::Stream&amp;)'\n  stereo_match.cpp:(.text+0xf4c): undefined reference to\n  </code>cv::gpu::Stream::Null()' stereo_match.cpp:(.text+0xf5e): undefined\n  reference to\n  <code>cv::gpu::StereoBeliefPropagation::operator()(cv::gpu::GpuMat const&amp;,\n  cv::gpu::GpuMat const&amp;, cv::gpu::GpuMat&amp;, cv::gpu::Stream&amp;)'\n  stereo_match.cpp:(.text+0xf76): undefined reference to\n  </code>cv::gpu::Stream::Null()' stereo_match.cpp:(.text+0xf88): undefined\n  reference to\n  <code>cv::gpu::StereoConstantSpaceBP::operator()(cv::gpu::GpuMat const&amp;,\n  cv::gpu::GpuMat const&amp;, cv::gpu::GpuMat&amp;, cv::gpu::Stream&amp;)'\n  stereo_match.cpp:(.text+0xfa0): undefined reference to\n  </code>cv::gpu::GpuMat::download(cv::Mat&amp;) const'\n  stereo_match.cpp:(.text+0xff6): undefined reference to\n  <code>cv::putText(cv::Mat&amp;, std::string const&amp;, cv::Point_&lt;int&gt;, int,\n  double, cv::Scalar_&lt;double&gt;, int, int, bool)'\n  stereo_match.cpp:(.text+0x1032): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x1042): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0x105c): undefined reference to\n  </code>cv::waitKey(int)' /tmp/ccvj1IgD.o: In function\n  <code>App::handleKey(char)': stereo_match.cpp:(.text+0x1630): undefined\n  reference to</code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x1640): undefined reference to\n  <code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0x1654): undefined reference to\n  </code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0x1664): undefined reference to\n  <code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x1674): undefined reference to\n  </code>cv::_OutputArray::_OutputArray(cv::Mat&amp;)'\n  stereo_match.cpp:(.text+0x1688): undefined reference to\n  <code>cv::cvtColor(cv::_InputArray const&amp;, cv::_OutputArray const&amp;, int,\n  int)' stereo_match.cpp:(.text+0x169a): undefined reference to\n  </code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x16ac): undefined reference to\n  <code>cv::gpu::GpuMat::upload(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x1718): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x1728): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  stereo_match.cpp:(.text+0x176e): undefined reference to\n  </code>cv::_InputArray::_InputArray(cv::Mat const&amp;)'\n  stereo_match.cpp:(.text+0x177e): undefined reference to\n  <code>cv::imshow(std::string const&amp;, cv::_InputArray const&amp;)'\n  /tmp/ccvj1IgD.o: In function</code>cv::Mat::~Mat()':\n  stereo_match.cpp:(.text._ZN2cv3MatD2Ev[_ZN2cv3MatD5Ev]+0x20):\n  undefined reference to <code>cv::fastFree(void*)' /tmp/ccvj1IgD.o: In\n  function</code>cv::Mat::operator=(cv::Mat const&amp;)':\n  stereo_match.cpp:(.text.<em>ZN2cv3MataSERKS0</em>[<em>ZN2cv3MataSERKS0</em>]+0xa2):\n  undefined reference to <code>cv::Mat::copySize(cv::Mat const&amp;)'\n  /tmp/ccvj1IgD.o: In function</code>cv::Mat::create(int, int, int)':\n  stereo_match.cpp:(.text._ZN2cv3Mat6createEiii[_ZN2cv3Mat6createEiii]+0x66):\n  undefined reference to <code>cv::Mat::create(int, int const*, int)'\n  /tmp/ccvj1IgD.o: In function</code>cv::Mat::release()':\n  stereo_match.cpp:(.text._ZN2cv3Mat7releaseEv[<em>ZN2cv3Mat7releaseEv]+0x30):\n  undefined reference to <code>cv::Mat::deallocate()' /tmp/ccvj1IgD.o: In\n  function</code>cv::gpu::GpuMat::GpuMat(cv::Size</em>, int)':\n  stereo_match.cpp:(.text._ZN2cv3gpu6GpuMatC2ENS_5Size_IiEEi[_ZN2cv3gpu6GpuMatC5ENS_5Size_IiEEi]+0x5c):\n  undefined reference to <code>cv::gpu::GpuMat::create(int, int, int)'\n  /tmp/ccvj1IgD.o: In function</code>cv::gpu::GpuMat::~GpuMat()':\n  stereo_match.cpp:(.text._ZN2cv3gpu6GpuMatD2Ev[_ZN2cv3gpu6GpuMatD5Ev]+0xa):\n  undefined reference to <code>cv::gpu::GpuMat::release()' /tmp/ccvj1IgD.o:\n  In function</code>App::workBegin()':\n  stereo_match.cpp:(.text._ZN3App9workBeginEv[_ZN3App9workBeginEv]+0x8):\n  undefined reference to <code>cv::getTickCount()' /tmp/ccvj1IgD.o: In\n  function</code>App::workEnd()':\n  stereo_match.cpp:(.text._ZN3App7workEndEv[_ZN3App7workEndEv]+0x8):\n  undefined reference to <code>cv::getTickCount()'\n  stereo_match.cpp:(.text._ZN3App7workEndEv[_ZN3App7workEndEv]+0x20):\n  undefined reference to</code>cv::getTickFrequency()' collect2: error: ld\n  returned 1 exit status</p>\n</blockquote>\n"}, {"tags": ["c++", "templates", "vector", "iterator", "quicksort"], "answers": [{"comments": [{"owner": {"reputation": 42, "user_id": 2504710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/42fc0d705ffb8d1e11adfab46ac735dc?s=128&d=identicon&r=PG", "display_name": "user2504710", "link": "https://stackoverflow.com/users/2504710/user2504710"}, "edited": false, "score": 0, "creation_date": 1427314018, "post_id": 29265349, "comment_id": 46732707, "body": "I made the changes but now it shows some other errors.   <code>QuickVector.cpp:32:5: error: no matching function for call to &#39;quicksort&#39;     quicksort(begin,middle);     ^~~~~~~~~ QuickVector.cpp:43:5: note: in instantiation of function template specialization       &#39;quicksort&lt;std::__1::__wrap_iter&lt;int *&gt; &gt;&#39; requested here     quicksort(begin,end);     ^ QuickVector.cpp:26:6: note: candidate template ignored: deduced conflicting       types for parameter &#39;T&#39; (&#39;__wrap_iter&lt;int *&gt;&#39; vs. &#39;__wrap_iter&lt;class       std::__1::__wrap_iter&lt;int *&gt; *&gt;&#39;) void quicksort(T begin, T end) {</code>      ^ Can you help?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 42, "user_id": 2504710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/42fc0d705ffb8d1e11adfab46ac735dc?s=128&d=identicon&r=PG", "display_name": "user2504710", "link": "https://stackoverflow.com/users/2504710/user2504710"}, "edited": false, "score": 0, "creation_date": 1427338780, "post_id": 29265349, "comment_id": 46741587, "body": "Without a testcase? No."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1427313457, "creation_date": 1427313457, "answer_id": 29265349, "question_id": 29265285, "link": "https://stackoverflow.com/questions/29265285/c-templates-involving-vectors/29265349#29265349", "title": "C++ templates involving vectors", "body": "<p>Is the error message not clear? Deduction fails here.</p>\n\n<p>Do <code>void quicksort(T begin, T end)</code> instead!</p>\n"}], "owner": {"reputation": 42, "user_id": 2504710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/42fc0d705ffb8d1e11adfab46ac735dc?s=128&d=identicon&r=PG", "display_name": "user2504710", "link": "https://stackoverflow.com/users/2504710/user2504710"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "closed_date": 1427313490, "answer_count": 1, "score": 0, "last_activity_date": 1427313457, "creation_date": 1427313265, "question_id": 29265285, "link": "https://stackoverflow.com/questions/29265285/c-templates-involving-vectors", "closed_reason": "Duplicate", "title": "C++ templates involving vectors", "body": "<p>I am working on a generic code for quick sort using vectors. I have written a code but on compiling it shows an error. The code is as follows :</p>\n\n<pre><code># include &lt;vector&gt;\n# include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\ntypename vector&lt;T&gt;::iterator partition(typename vector&lt;T&gt;::iterator begin,     typename vector&lt;T&gt;::iterator end) {\n    if(begin == end){\n        return end;\n    }\n    typedef typename vector&lt;T&gt;::iterator iter;\n    iter pivot = begin;\n    iter split = begin;\n    std::advance(begin,1);\n    for(iter I = begin; I != end; std::advance(I,1)){\n        if(*I &lt;= *pivot){\n            std::advance(split,1);\n            std::swap(*I,*split);\n        }\n    }\n    std::swap(*split, *pivot);\n    return split;\n    }\n\ntemplate &lt;typename T&gt;\nvoid quicksort(typename vector&lt;T&gt;::iterator begin, typename vector&lt;T&gt;::iterator end) {\n    if(2&gt;std::distance(begin,end)){\n        return;\n    }\n\n    typename vector&lt;T&gt;::iterator middle = partition(begin,end);\n    quicksort(begin,middle);\n    std::advance(middle,1);\n    quicksort(middle,end);\n    }\n\nint main(){\n    vector&lt;int&gt; v(100);\n    for (int i = 0; i &lt; 100; i++)\n        v[i] = rand();\n    vector&lt;int&gt;::iterator begin = v.begin();\n    vector&lt;int&gt;::iterator end = v.end();\n    quicksort(begin,end);\n    vector&lt;int&gt;::iterator itr = v.begin();\n    while (itr != v.end()) {\n        cout &lt;&lt; *itr &lt;&lt; \" \";\n        itr++;\n    }\n    cout&lt;&lt;\"\\n\";\n    return 0;\n}\n</code></pre>\n\n<p>The error shown is as follows :</p>\n\n<pre><code>QuickVector.cpp:43:5: error: no matching function for call to 'quicksort'\nquicksort(begin,end);\n^~~~~~~~~\nQuickVector.cpp:26:6: note: candidate template ignored: couldn't infer template\n  argument 'T'\nvoid quicksort(typename vector&lt;T&gt;::iterator begin, typename vector&lt;T&gt;::i...\n     ^\n1 error generated.\n</code></pre>\n\n<p>Can someone help me figure out where am I going wrong? Any help is much appreciated.</p>\n"}, {"tags": ["java", "c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1427313414, "post_id": 29265282, "comment_id": 46732402, "body": "The C++ language has capabilities for nested classes.  They would both be composition in either language.  They are treated the same in both languages."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427314205, "post_id": 29265282, "comment_id": 46732818, "body": "@ThomasMatthews Java &quot;nested classes&quot; come in &quot;inner class&quot; and &quot;static nested class&quot; flavors.  C++ has no (non-manual) equivalent to &quot;inner class&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 1, "last_activity_date": 1427314161, "last_edit_date": 1427314161, "creation_date": 1427313829, "answer_id": 29265460, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java/29265460#29265460", "title": "Analogy/Equivalence in C++ and Java", "body": "<ol>\n<li>Both Java and C++ support nested classes and composition, and as per <em>Thomas Matthews'</em> comment: <em>\"They are treated the same in both languages.\"</em></li>\n<li>In Java, <em>all</em> non-static methods are virtual by default (you can use <code>final</code> to make them non-virtual). In C++ you have to <em>explicitly</em> mark them <code>virtual</code> to be able to override them.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1531, "user_id": 4335488, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0c0f19b150060bf76c4709c44556d0e?s=128&d=identicon&r=PG&f=1", "display_name": "HSchmale", "link": "https://stackoverflow.com/users/4335488/hschmale"}, "is_accepted": false, "score": 0, "last_activity_date": 1427314238, "creation_date": 1427314238, "answer_id": 29265577, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java/29265577#29265577", "title": "Analogy/Equivalence in C++ and Java", "body": "<p>1.) Java and C++ support nested classes. After all, in java a class can have an instance in another class's member data.</p>\n\n<p>Composition is just having a wrapper class for other classes.</p>\n\n<p>Like this example from wikipedia</p>\n\n<pre><code>class Pond{\nprivate:\n    std::vector&lt;ducks*&gt; myDucks;\n}\n</code></pre>\n\n<p>2.) Virtual functions are functions that are defined in base classes in C++ for classes that inherit the parent class to define. <code>virtual</code> is required to overload the function in classes that inherit the parent class.</p>\n"}, {"tags": [], "owner": {"reputation": 866, "user_id": 1045538, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/gwQjw.png?s=128&g=1", "display_name": "AtomHeartFather", "link": "https://stackoverflow.com/users/1045538/atomheartfather"}, "is_accepted": false, "score": 1, "last_activity_date": 1427314243, "last_edit_date": 1495540263, "creation_date": 1427314243, "answer_id": 29265579, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java/29265579#29265579", "title": "Analogy/Equivalence in C++ and Java", "body": "<ol>\n<li><p>Composition is a design term, nesting classes is a language mechanism (which may be used to implement composition). As Thomas Matthews mentioned in his comment, both languages support nested classes. </p></li>\n<li><p>Non-static methods in Java behave polimorphically by default, i.e. unlike in C++ you don't use the <code>virtual</code> keyword to make a method virtual. This question has some good answers about how virtual methods work behind the scenes: <a href=\"https://stackoverflow.com/questions/2486160/java-virtual-methods\">Java - Virtual Methods</a></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1427323156, "post_id": 29265692, "comment_id": 46737187, "body": "C++ virtual is more close to Java&#39;s abstract class methods"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1427325039, "post_id": 29265692, "comment_id": 46737890, "body": "@texas <code>virtual</code> != pure virtual."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 2, "last_activity_date": 1427322801, "last_edit_date": 1427322801, "creation_date": 1427314631, "answer_id": 29265692, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java/29265692#29265692", "title": "Analogy/Equivalence in C++ and Java", "body": "<p>Nested classes in Java come in two flavors: Inner Classes and Static Nested Classes.</p>\n\n<p>There is no direct equivalent of an Inner Class in C++.  If you want it, you need to do it manually, giving the \"Inner Class\" a pointer back to the outer class (either in every method as an argument, or stored within the \"Inner Class\").</p>\n\n<p>A static nested class in Java is similar to declaring a class within a class in C++.</p>\n\n<p>Composition in C++ is when an actual value of the composed class is stored within another class.  There are no class-value-types in Java, all Java class types are references, so there is no direct equivalent in Java.  Java \"composition\" is going to store references to the \"sub-objects\": this can be done in C++ via references, pointers or smart pointers.</p>\n\n<p>C++ <code>virtual</code> methods are similar to non-<code>final</code> non-<code>static</code> methods in Java.  C++ non-virtual non-static methods have no real equivalent in Java (final methods are approximately equivalent, but more similar to <code>virtual</code> <code>final</code> methods in C++).  You can override a virtual function in C++ in ways somewhat similar to how you override a non-static non-final function in Java: for example, they both support covariant return types (they may disagree about what is covariant, however).  Some of the details are going to be different.</p>\n\n<p><code>static</code> methods in Java and C++ are similar.</p>\n\n<p>(I am a C++ programmer, my knowledge of Java is almost entirely a matter of contrast: trust my statements about C++ far more than my statements about Java.)</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 5642475, "user_type": "registered", "profile_image": "https://graph.facebook.com/1002855793110612/picture?type=large", "display_name": "Kamil Tomasz Jarmusik", "link": "https://stackoverflow.com/users/5642475/kamil-tomasz-jarmusik"}, "is_accepted": false, "score": 0, "last_activity_date": 1560710078, "creation_date": 1560710078, "answer_id": 56621598, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java/56621598#56621598", "title": "Analogy/Equivalence in C++ and Java", "body": "<p>Ad. 2. The method / virtual function in C ++ is:</p>\n\n<ol>\n<li>Method with the default implementation;</li>\n<li>It can be override in a derived class but it does not have to;</li>\n<li>It can not be static, it is used to obtain polymorphism;</li>\n<li>We can refer to the method by the base type for\npolymorphism;</li>\n</ol>\n\n<p>Looking at the above, an analogous method for Java would be a method with the modifier \"default\" in the interface, available from version 8.</p>\n\n<p>example:</p>\n\n<pre><code>public interface Foo {\n   default String bar() {\n      return \"Foo.bar\";\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 4713764, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5fd8bb526066a53df45a8d7fc1cf8dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Kane Williamson", "link": "https://stackoverflow.com/users/4713764/kane-williamson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1560710078, "creation_date": 1427313251, "last_edit_date": 1427313432, "question_id": 29265282, "link": "https://stackoverflow.com/questions/29265282/analogy-equivalence-in-c-and-java", "title": "Analogy/Equivalence in C++ and Java", "body": "<p>Two things:</p>\n\n<p>1.Are <strong>Nested Classes</strong> in Java like <strong>Composition</strong> in C++?</p>\n\n<p>2.Are <strong>Virtual functions</strong> in C++ equivalent to <strong>Function Overriding</strong> in Java? </p>\n"}, {"tags": ["c++", "cuda", "gpu", "arrayfire"], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 1615732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/58592e3186eee86dcfe53e5973442959?s=128&d=identicon&r=PG", "display_name": "cdeepakroy", "link": "https://stackoverflow.com/users/1615732/cdeepakroy"}, "edited": false, "score": 0, "creation_date": 1427400916, "post_id": 29268871, "comment_id": 46773191, "body": "depends on the specific problem. I would guess somewhere upto 40x40x40. But then for high kernel sizes, people would probably downsize image and run stuff through a gaussian image pyramid."}], "tags": [], "owner": {"reputation": 657, "user_id": 1985476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DyZNz.jpg?s=128&g=1", "display_name": "pradeep", "link": "https://stackoverflow.com/users/1985476/pradeep"}, "is_accepted": true, "score": 0, "last_activity_date": 1427354112, "last_edit_date": 1427354112, "creation_date": 1427328505, "answer_id": 29268871, "question_id": 29265238, "link": "https://stackoverflow.com/questions/29265238/does-convolution-in-arrayfire-use-fft/29268871#29268871", "title": "Does convolution in ArrayFire use FFT?", "body": "<p>Your observation is correct, we haven't implemented the fft fallback for larger kernel sizes yet. However, we are trying out best to add this functionality in the following couple of weeks. What kernel sizes are you using in your application ?</p>\n\n<p>We currently do not have 3D Gaussian kernel function implemented. But i believe it can be easily implemented using the JIT enabled element wise operations in ArrayFire. For an example on how to use element wise operations, please look <a href=\"https://github.com/arrayfire/arrayfire/blob/devel/examples/financial/black_scholes_options.cpp#L27\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 1893, "user_id": 1615732, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/58592e3186eee86dcfe53e5973442959?s=128&d=identicon&r=PG", "display_name": "cdeepakroy", "link": "https://stackoverflow.com/users/1615732/cdeepakroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 29268871, "answer_count": 1, "score": 0, "last_activity_date": 1427354112, "creation_date": 1427313146, "last_edit_date": 1495540253, "question_id": 29265238, "link": "https://stackoverflow.com/questions/29265238/does-convolution-in-arrayfire-use-fft", "title": "Does convolution in ArrayFire use FFT?", "body": "<p>I am looking forward to speed up convolution with derivative of gaussian kernels (upto order 2/3) on large medical images (512 x 512 x 1000 double) in one of our open-source toolkits. We currently do this convolution via FFT. </p>\n\n<p>After being suggested by a friend about ArrayFire and after reading this <a href=\"https://stackoverflow.com/questions/13559845/gpu-library-that-implements-image-convolution-using-cufftthis\">post</a>, I am trying to see if I could adopt this toolkit. Seems like a great effort and enables us to handle multiple backends though I am currently interested in CUDA alone as that's what I have in hand.</p>\n\n<p>I read this <a href=\"http://arrayfire.com/forums/viewtopic.php?f=17&amp;t=43225&amp;p=62026&amp;hilit=fft+convolution&amp;sid=a4407b43710d522802b4753f4e223c3a#p62027post\" rel=\"nofollow noreferrer\">post</a> on the forum that says that convolution in ArrayFire switches to frequency domain after a particular kernel size. I looked at the cuda file <a href=\"https://github.com/arrayfire/arrayfire/blob/devel/src/backend/cuda/kernel/convolve.cu\" rel=\"nofollow noreferrer\"> convolve.cu</a> but I didn't find any calls to fft within ArrayFire or any of cuFFT stuff. Am i missing something?</p>\n\n<p>Going forward, I would like to construct the derivative of Gaussian kernel directly in frequency domain, multiply with image FFT and bring it back. But I would like to compare the speed ups between creating the convolution kernel in space vs freq domain. Also, ArrayFire doesn't seem to have a Gaussian kernel in 3D.</p>\n"}, {"tags": ["c++", "c++11", "lambda", "factory"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1427313857, "post_id": 29265223, "comment_id": 46732635, "body": "Based on the code you&#39;ve posted I can see nothing that would cause the crash you describe. Can you create a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that reproduces the issue?"}, {"owner": {"reputation": 501, "user_id": 4562676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4499a73c0034783da2ab032cb054869c?s=128&d=identicon&r=PG", "display_name": "tomse", "link": "https://stackoverflow.com/users/4562676/tomse"}, "edited": false, "score": 0, "creation_date": 1427315113, "post_id": 29265223, "comment_id": 46733358, "body": "Seems to be not your original implementation because class <code>Interface</code> has a dtor with a wrong name, so this should not compile. So maybe the problem lies in the code you haven&#39;t shown?"}], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1427315966, "post_id": 29265768, "comment_id": 46733840, "body": "I already do something similar by having a static variable that is initialized by a call to a function which as a side effect constructs and sets the factory. I am about to finish MCVE (studio 2013 project) which I&#39;d be happy to upload if I new where."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427318395, "post_id": 29265768, "comment_id": 46735152, "body": "@dyp looks like you are right: I saw it in some CTPs for VS2013 and I guess I thought it made its way into an update.  I cannot find any evidence now, so is probably in error."}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1427318656, "post_id": 29265768, "comment_id": 46735293, "body": "In the process of making MCVE I observed that the code continued crushing for as long as interface and implementation resided in different files. But when I moved everything into a single file together with main things magically started working. It does sound like the order of static initialization vs. construction should not be relied upon."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1427320345, "post_id": 29265768, "comment_id": 46736091, "body": "@Yakk AFAIK, you can use <code>run_once</code> in VS2013 as a workaround, which should only be slightly harder."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1427322241, "post_id": 29265768, "comment_id": 46736838, "body": "@LRaiz in each compilation unit, earlier &quot;globals&quot; are constructed first.  Between compilation units, there is no guaranteed order."}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1427379524, "post_id": 29265768, "comment_id": 46759475, "body": "Thanks everyone for the insights and suggestions. I definitely learned something new. In the end I opted for a simple solution that is not specific to MSVC and does not depend on statics at all. However the solution is specific for my application because I have a point in my application where I know that everything is already running and thus I can set up my factory but before Interface class is ever instantiated."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1427318405, "last_edit_date": 1427318405, "creation_date": 1427314879, "answer_id": 29265768, "question_id": 29265223, "link": "https://stackoverflow.com/questions/29265223/proper-syntax-to-define-simple-object-factory-via-operator-new/29265768#29265768", "title": "Proper syntax to define simple object factory via operator new", "body": "<p>You may have a static initialization order problem.</p>\n\n<p>My theory is that your <code>factory</code> is assigned to <em>before</em> being constructed, then it is constructed (wiping its state), and then you call <code>create</code>.</p>\n\n<p>MSVC2015 supports magic static local variables, which mostly solves that problem.</p>\n\n<pre><code>namespace {\n  std::function&lt;Interface *()&gt;&amp; factory() {\n    static std::function&lt;Interface *()&gt; retval;\n    return retval;\n  }\n}\n</code></pre>\n\n<p>now <code>factory()</code> wraps a static local variable that is guaranteed to be constructed at or before the first time you call the function, and only constructed once.</p>\n\n<p>Doing something equivalent in MSVC2013 is harder.  If you know that there won't be multiple threads before <code>main</code> starts calling it, you can do the above plus:</p>\n\n<pre><code>static auto&amp;&amp; force_call = factory();\n</code></pre>\n\n<p>after it to force a call before <code>main</code> starts.</p>\n"}], "owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427319637, "creation_date": 1427313113, "last_edit_date": 1427319637, "question_id": 29265223, "link": "https://stackoverflow.com/questions/29265223/proper-syntax-to-define-simple-object-factory-via-operator-new", "title": "Proper syntax to define simple object factory via operator new", "body": "<p>Here is the basic outline of what I am trying to achieve</p>\n\n<pre><code>class Interface {\npublic:\n  virtual ~Interface () {}\n  virtual void work() = 0;\n  static Interface *create();\n  static void setFactory(std::function&lt;Interface *()&gt;);\n}\n</code></pre>\n\n<p>in Interface.cpp I have </p>\n\n<pre><code>static std::function&lt;Interface *()&gt;  factory = nullptr;\nInterface *Interface ::create() { return factory(); }\nvoid Interface::setFactory(std::function&lt;Interface *()&gt; someFactory) {\n   factory = someFactory;\n}\n</code></pre>\n\n<p>separately I have</p>\n\n<pre><code>class Implementation : public Interface {\n...\n}\n</code></pre>\n\n<p>And I made sure to call</p>\n\n<pre><code>Interface::setFactory([]() -&gt; Interface * { return new Implementation(); });\n</code></pre>\n\n<p>prior to making any calls to Interface::create(). What I am seeing is that static factory variable is set (no longer a nullptr), so the call to setFactory did work. However resulting factory is empty and calls to Interface::create() would crash. I could probably find a workaround by making a structure with operator() but I wonder if there is an error in my lambda expression.  </p>\n\n<p>It is probably worth mentioning that I am using MSVC2013</p>\n"}, {"tags": ["c++", "struct", "initializer-list", "valarray"], "answers": [{"tags": [], "owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "is_accepted": true, "score": 2, "last_activity_date": 1427312669, "creation_date": 1427312669, "answer_id": 29265073, "question_id": 29264977, "link": "https://stackoverflow.com/questions/29264977/initializing-struct-via-member-initialization-list/29265073#29265073", "title": "Initializing struct via member initialization list", "body": "<p>You can move the individual initialisations into the body of the constructor:</p>\n\n<pre><code>Wine::Wine(int yearNum, const int year[], const int bottlesNum[])\n    : m_yearNum(yearNum)\n{\n    m_numericData.valYear = std::valarray&lt;int&gt;(yearNum, year);\n    m_numericData.valBottlesNum = std::valarray&lt;int&gt;(yearNum, bottlesNum);\n}\n</code></pre>\n\n<p>Alternatively, give <code>Pair</code> its own constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1427314140, "post_id": 29265317, "comment_id": 46732778, "body": "<i>&quot;and you can use list-initialization&quot;</i> unless you&#39;re using VC++ :~("}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1427317991, "post_id": 29265317, "comment_id": 46734939, "body": "@JonathanPotter Yeah, but they do claim to have fixed it in VS2015, haven&#39;t tested it myself. Also, if you haven&#39;t installed the VS2013 update where they rolled it back, the code above would compile. But there would be no guarantee it actually did what you wanted :)"}, {"owner": {"reputation": 49, "user_id": 4561013, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6a21a1f02e310cef7ff169414d3ded2?s=128&d=identicon&r=PG&f=1", "display_name": "Makal", "link": "https://stackoverflow.com/users/4561013/makal"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1427395999, "post_id": 29265317, "comment_id": 46770547, "body": "@JonathanPotter and Preatorian Thanks for your answers! And yes, it seems like my Visual Studio doesn&#39;t implement this initialization method  via initializer list so I had to use assigning <code>std::valarray</code> constructor to a member as Jonathan Potter showed."}], "tags": [], "owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "is_accepted": false, "score": 1, "last_activity_date": 1427313351, "creation_date": 1427313351, "answer_id": 29265317, "question_id": 29264977, "link": "https://stackoverflow.com/questions/29264977/initializing-struct-via-member-initialization-list/29265317#29265317", "title": "Initializing struct via member initialization list", "body": "<p>The <a href=\"http://en.cppreference.com/w/cpp/numeric/valarray/valarray\" rel=\"nofollow\"><code>valarray</code> constructor</a> you're attempting to use takes a <code>T const*</code> to the data and an <code>std::size_t</code> argument indicating the number of array elements that the first argument points to. If you can use C++11, then change <code>yearNum</code> to <code>std::size_t</code> and you can use <em>list-initialization</em>, which in turn will aggregate initialize the <code>Pair</code>.</p>\n\n<pre><code>Wine::Wine(std::size_t yearNum, const int year[], const int bottlesNum[])\n    : m_yearNum(yearNum)\n    , m_numericData{{year, yearNum}, {bottlesNum, yearNum}}\n{}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/4233af93c62745d6\" rel=\"nofollow\">Live demo</a></p>\n"}], "owner": {"reputation": 49, "user_id": 4561013, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c6a21a1f02e310cef7ff169414d3ded2?s=128&d=identicon&r=PG&f=1", "display_name": "Makal", "link": "https://stackoverflow.com/users/4561013/makal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1553, "favorite_count": 0, "accepted_answer_id": 29265073, "answer_count": 2, "score": 1, "last_activity_date": 1492665447, "creation_date": 1427312312, "last_edit_date": 1492665447, "question_id": 29264977, "link": "https://stackoverflow.com/questions/29264977/initializing-struct-via-member-initialization-list", "title": "Initializing struct via member initialization list", "body": "<p>So I'm learning C++ from Stephen Prata book and I want to do one exercise... So the problem is this:</p>\n\n<p>I want to use a std::valarray inside a struct, inside a class like this:</p>\n\n<pre><code>class Wine\n{\nprivate:\n    struct Pair\n    {\n        std::valarray&lt;int&gt; valYear;\n        std::valarray&lt;int&gt; valBottlesNum;\n    };\n    int m_yearNum;\n    Pair m_numericData;\npublic:\n    Wine();\n    Wine(int, const int[], const int[]);\n};\n</code></pre>\n\n<p>And initialize this via member initialization list:</p>\n\n<pre><code>Wine::Wine(int yearNum, const int year[], const int bottlesNum[])\n    : m_yearNum(yearNum), \n    m_numericData.valYear(yearNum, year), \n    m_numericData.valBottlesNum(yearNum, bottlesNum)\n{}\n</code></pre>\n\n<p>But it just doesn't want to work. Somehow compiler does not like this \".\" to access members of a <em>m_numericData</em> struct in a initializer list. </p>\n\n<p>I could just abandon <em>Pair</em> struct and do <em>valYear</em> and <em>valBottlesNum</em> as a simple class member variables and initilize them like this...</p>\n\n<pre><code>Wine::Wine(, int yearNum, const int year[], const int bottlesNum[])\n    : m_yearNum(yearNum), m_valYear(yearNum, year), m_valBottlesNum(yearNum, bottlesNum)\n{}\n</code></pre>\n\n<p>but I really want to know how to solve this kinda stuff.</p>\n\n<p>Thanks in adavnce!</p>\n"}, {"tags": ["c++", "design-patterns"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 1, "creation_date": 1427312006, "post_id": 29264849, "comment_id": 46731644, "body": "Which programming language? Decide for one first. Also, what have you tried so far to solve the issue yourself?"}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1427312208, "post_id": 29264849, "comment_id": 46731749, "body": "Do I understand you correctly, that X is not supposed to be a singleton? Btw. This is not a C question."}, {"owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "edited": false, "score": 0, "creation_date": 1427312218, "post_id": 29264849, "comment_id": 46731755, "body": "I think you need some form of code to clarify what you are looking for. Do you want A,B,C,D,H,I,J to all perform their execute() on X? If so then you are going to have a hard time not passing around that X since it is needed everywhere."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1427312389, "post_id": 29264849, "comment_id": 46731856, "body": "Why is passing around X such a problem for you?"}, {"owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "edited": false, "score": 0, "creation_date": 1427313061, "post_id": 29264849, "comment_id": 46732233, "body": "If you can guarantee that X doesn&#39;t change while you are iterating over the nodes calling execute why don&#39;t you create a static variable somewhere that stores the current instance of X to act upon?"}], "answers": [{"tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": true, "score": 0, "last_activity_date": 1427313299, "creation_date": 1427313299, "answer_id": 29265296, "question_id": 29264849, "link": "https://stackoverflow.com/questions/29264849/handling-multiple-objects-types-for-same-command-with-different-parameters/29265296#29265296", "title": "Handling multiple objects/types for same command with different parameters", "body": "<p>I assume all the objects with an execute() method have a common base class. I would give the base class a static member which stores a reference or pointer to X, or X itself. You can then call base::SetX() or base::GetX().</p>\n\n<p>(this would also allow you to control access to it with a mutex in the base class, if this ever becomes a multithreaded application).</p>\n\n<p>X sounds like a singleton, so depending on how immutable X is, you may want to just make it global.</p>\n"}], "owner": {"reputation": 64, "user_id": 1064643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de36f42e2939746a2dc22af434c8cd2d?s=128&d=identicon&r=PG", "display_name": "Taha Khan", "link": "https://stackoverflow.com/users/1064643/taha-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 29265296, "answer_count": 1, "score": 0, "last_activity_date": 1427313299, "creation_date": 1427311877, "last_edit_date": 1427312530, "question_id": 29264849, "link": "https://stackoverflow.com/questions/29264849/handling-multiple-objects-types-for-same-command-with-different-parameters", "title": "Handling multiple objects/types for same command with different parameters", "body": "<p>Here is my problem statement:</p>\n\n<ol>\n<li>I have some objects that can be either a single object, or have a tree structure of N depth. So maybe I can have objects A,B,C,D.  Say A,B,C are single level objects while D have 3 children H,I,J. Among H,I,J, H and I are single objects where J again have children and so on.</li>\n<li>All Objects A,B,C,D,H,I,J have a behavior execute().</li>\n<li>I have a different class X and all these objects have to use different methods of the SAME INSTANCE OF CLASS X.</li>\n<li>How do I handle this scenario in a way that:\n<ul>\n<li>that one function call executes the execute() method for all the objects on the same level as well as down the hierarchy.</li>\n<li>I dont have to pass the INSTANCE OF X to all the objects.</li>\n<li>Each object does some different work in its execute() method.</li>\n</ul></li>\n</ol>\n\n<p>I could think nothing but the composite pattern but my concern was:\n      - I dont want to pass the INSTANCE OF X to all the objects in the execute() method parameters but the method needs SAME INSTANCE OF X .</p>\n"}, {"tags": ["c++", "inheritance", "constructor"], "comments": [{"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1427312014, "post_id": 29264803, "comment_id": 46731647, "body": "What exactly of the error message do you not understand ?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427312017, "post_id": 29264803, "comment_id": 46731652, "body": "Please consider some sort of builder pattern if you have that many parameters. No one can be expected to remember the purpose and order of 10 strings, even with Intellisense because the names are all single letters."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1427312153, "post_id": 29264803, "comment_id": 46731725, "body": "if the parameter names were longer than just one character the error would be more obvious too. Modern ide&#39;s don&#39;t require you to type all that much."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427312742, "post_id": 29264803, "comment_id": 46732047, "body": "Consider passing the strings to your constructor as <code>const std::string&amp;</code> (constant reference).  This will prevent the compiler from generating copies and passing the copies to the constructor."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4713665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a498fda2bee8d76e7004f02d7166c449?s=128&d=identicon&r=PG&f=1", "display_name": "Meryl", "link": "https://stackoverflow.com/users/4713665/meryl"}, "edited": false, "score": 0, "creation_date": 1427312170, "post_id": 29264839, "comment_id": 46731731, "body": "Oh, I assumed for some reason that the 9 strings error was part of the member functions, I didn&#39;t check the int main. Thank you so much!"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 1, "user_id": 4713665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a498fda2bee8d76e7004f02d7166c449?s=128&d=identicon&r=PG&f=1", "display_name": "Meryl", "link": "https://stackoverflow.com/users/4713665/meryl"}, "edited": false, "score": 0, "creation_date": 1427312229, "post_id": 29264839, "comment_id": 46731759, "body": "@Meryl, The compiler gave you the location (and the relevant code)."}, {"owner": {"reputation": 1, "user_id": 4713665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a498fda2bee8d76e7004f02d7166c449?s=128&d=identicon&r=PG&f=1", "display_name": "Meryl", "link": "https://stackoverflow.com/users/4713665/meryl"}, "edited": false, "score": 0, "creation_date": 1427312372, "post_id": 29264839, "comment_id": 46731851, "body": "It did. Looking back at it now, I don&#39;t know why I was stuck at such a simple error."}], "tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 3, "last_activity_date": 1427311843, "creation_date": 1427311843, "answer_id": 29264839, "question_id": 29264803, "link": "https://stackoverflow.com/questions/29264803/c-error-with-inheritence-code-no-matching-constructor/29264839#29264839", "title": "C++ Error with inheritence code (no matching constructor)", "body": "<p>Your <code>Faculty</code> constructor expects 10 strings; you provided only 9 (just as the message says).</p>\n"}], "owner": {"reputation": 1, "user_id": 4713665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a498fda2bee8d76e7004f02d7166c449?s=128&d=identicon&r=PG&f=1", "display_name": "Meryl", "link": "https://stackoverflow.com/users/4713665/meryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427311843, "creation_date": 1427311705, "question_id": 29264803, "link": "https://stackoverflow.com/questions/29264803/c-error-with-inheritence-code-no-matching-constructor", "title": "C++ Error with inheritence code (no matching constructor)", "body": "<p>I'm working on an assignment for my Computer Science class based on inheritence and have been getting this one error that I can't seem to fix. If any of you could walk me through what's wrong that would be great! Thank you!</p>\n\n<p>This is my Error Report<br></p>\n\n<blockquote>\n  <p>main.cpp:199:21: error: no matching constructor for initialization of 'Faculty'\n    ...Faculty(\"Nancy\",\"San Bernardino\",\"555-555-5555\",\"nancy@coolpeople.com\",\"CSE\", \"5000.\",\"September 27th\",\"Professor\",\"visiting\"));</p>\n  \n  <p>main.cpp:169:10: note: candidate constructor not viable: requires 0 arguments,\n        but 9 were provided\n  Faculty::Faculty()\n           ^</p>\n  \n  <p>main.cpp:175:10: note: candidate constructor not viable: requires 10 arguments,\n        but 9 were provided\n  Faculty::Faculty(string n, string a, string t, string e, string o, strin...\n           ^\n  <br>main.cpp:156:7: note: candidate constructor (the implicit copy constructor) not\n        viable: requires 1 argument, but 9 were provided\n  class Faculty : public Employee</p>\n</blockquote>\n\n<p>And this is my code: </p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdlib&gt;\n\nusing namespace std;\n\nclass Person\n{\npublic:\n  Person();\n  Person(string n, string a, string t, string e);\n  string getName();\n  string getAddress();\n  string getTelephone();\n  string getEmail();\n  virtual string whatami();\n\nprivate:\n\n  string n;\n  string a;\n  string t;\n  string e;\n};\n\nPerson::Person(){}\n\nPerson::Person(string n, string a, string t, string e)\n{\n  this-&gt;n=n;\n  this-&gt;a=a;\n  this-&gt;t=t;\n  this-&gt;e=e;\n}\n\nstring Person::getName()\n{\n  return n;\n}\n\nstring Person::getAddress()\n{\n  return a;\n}\n\nstring Person::getTelephone()\n{\n  return t;\n}\n\nstring Person::getEmail()\n{\n  return e;\n}\n\nstring Person::whatami()\n{\n  return \"Person\";\n}\n\nclass Student : virtual public Person\n{\npublic:\n  Student();\n  Student(string n, string a, string t, string e, string s);\n  string getStatus();\n  virtual string whatami(){return \"Student\";};\n\nprivate:\n  string status;\n};\n\nStudent::Student()\n{\n  string status = \"\";\n}\n\nStudent::Student(string n, string a, string t, string e, string s) : Person(n,a,t,e)\n{\n  status = s;\n}\nstring Student::getStatus()\n{\n  return status;\n}\n\nclass Employee : virtual public Person\n{\npublic:\n  Employee();\n  Employee(string n, string a, string t, string e, string o, string p,      string d);\n  string getOffice();\n  string getPayment();\n  string getDatehired();\n  virtual string whatami(){return \"Employee\";};\nprivate:\n  string office;\n  string payment;\n  string datehired;\n};\nEmployee::Employee()\n{\n  string office = \" \";\n  string payment = \" \";\n  string datehired = \" \";\n}\n\nEmployee::Employee(string n, string a, string t, string e, string o, string p, string d) : Person(n,a,t,e)\n{\n  office = o;\n  payment = p;\n  datehired = d;\n}\n\nstring Employee::getOffice()\n{\n  return office;\n}\nstring Employee::getPayment()\n{\n  return payment;\n}\nstring Employee::getDatehired()\n{\n  return datehired;\n}\n\nclass Staff : virtual public Employee\n{\npublic:\n  Staff();\n  Staff(string n,string a, string t, string e, string o, string s,      string d, string j);\n  string getJobtitle();\n  virtual string whatami(){return \"Staff\";};\n\nprivate:\n  string jobtitle;\n};\n\nStaff::Staff()\n{\n  jobtitle = \"\";\n}\n\nStaff::Staff(string n, string a, string t, string e, string o, string p, string d, string j) : Person(n,a,t,e),Employee(n,a,t,e,o,p,d)\n{\n  jobtitle = j;\n}\n\nstring Staff::getJobtitle()\n{\n  return jobtitle;\n}\n\nclass Faculty : public Employee\n{\npublic:\n  Faculty();\n  Faculty(string n, string a, string t, string e, string o, string p, string d, string j, string r, string f);\n  string getRank();\n  string getStatus();\n  virtual string whatami(){return \"Faculty\";};\nprivate:\n  string rank;\n  string fstatus;\n};\n\nFaculty::Faculty()\n{\n  rank = \"\";\n  fstatus = \"\";\n}\n\nFaculty::Faculty(string n, string a, string t, string e, string o, string p, string d, string j, string r, string f) : Person(n,a,t,e),Employee(n,a,t,e,o,p,d)\n{\n  rank = r;\n  fstatus = f;\n}\n\nstring Faculty::getRank()\n{\n  return rank;\n}\n\nstring Faculty::getStatus()\n{\n  return fstatus;\n}\n\n\n\nint main()\n{\n  vector&lt;Person*&gt; v;\n  v.push_back(new Person(\"John Adams\",\"Boston\",\"617-555-0000\",\"john@adams.com\"));\n  v.push_back(new Student(\"John Quincy Adams\",\"Boston\",\"617-555-0000\",\"johnq@adams.com\",\"senior\"));\n  v.push_back(new Staff(\"Samuel Adams\",\"Boston\",\"617-555-BEER\",\"sam@adams.com\",\"brewhouse 1\",\"1000\",\"9-15-1764\",\"Brewer\"));\n    v.push_back(new Faculty(\"Nancy\",\"San Bernardino\",\"555-555-5555\",\"nancy@coolpeople.com\",\"CSE\", \"5000.\",\"September 27th\",\"Professor\",\"visiting\"));\n\n  for (int i=0; i&lt;v.size(); i++)\n  {\n    cout &lt;&lt; v[i]-&gt;getName() &lt;&lt; \" \" &lt;&lt;v[i]-&gt;getAddress() &lt;&lt; \"  \" &lt;&lt; v[i]-&gt;getTelephone() &lt;&lt; \" \" &lt;&lt; v[i]-&gt;getEmail() &lt;&lt; \" \" &lt;&lt; classify(v[i]) &lt;` endl;\n  }\n  return 0;\n}\n</code></pre>\n\n<p>I would be grateful to get any help that I can!!</p>\n"}, {"tags": ["c++", "templates", "coding-style"], "comments": [{"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 1, "creation_date": 1427311816, "post_id": 29264656, "comment_id": 46731548, "body": "there is no convention, but if you choose a strategy, do it consistently preferably within the module or better yet, the whole project."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427313177, "post_id": 29264656, "comment_id": 46732292, "body": "I&#39;ve tried to extend about the dangerous parts regarding IDE&#39;s and automated build systems. Have a look."}], "answers": [{"comments": [{"owner": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "edited": false, "score": 0, "creation_date": 1427349335, "post_id": 29264787, "comment_id": 46744091, "body": "I&#39;m using <code>.tpp</code> (so its kind of consistent with <code>hpp</code> and <code>cpp</code>) when shipping the code. While developing, I do not split templated headers."}, {"owner": {"reputation": 354, "user_id": 3559441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f9b54f7fc12c1d6279296774e908123?s=128&d=identicon&r=PG&f=1", "display_name": "R.J", "link": "https://stackoverflow.com/users/3559441/r-j"}, "edited": false, "score": 0, "creation_date": 1469762892, "post_id": 29264787, "comment_id": 64682350, "body": "Boost mostly uses <code>.ipp</code>."}], "tags": [], "owner": {"reputation": 23386, "user_id": 33345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487d8f71839dcd0a5a90f2185f960c3d?s=128&d=identicon&r=PG", "display_name": "greyfade", "link": "https://stackoverflow.com/users/33345/greyfade"}, "is_accepted": false, "score": 8, "last_activity_date": 1427311636, "creation_date": 1427311636, "answer_id": 29264787, "question_id": 29264656, "link": "https://stackoverflow.com/questions/29264656/c-template-implementation-file-extension-convention/29264787#29264787", "title": "C++ Template implementation file extension convention?", "body": "<p>No.</p>\n\n<p>A lot of projects don't care much and just throw everything in the <code>.hpp</code> file. I do this.</p>\n\n<p>A lot of other projects (big header-only ones like Eigen and Boost) split inlined code, and template implementations into <code>.inl</code> (for inline) files.</p>\n\n<p>I've never personally seen <code>.tpp</code>, but that doesn't mean there aren't projects that do it.</p>\n\n<p>But there's no convention, no.</p>\n"}, {"comments": [{"owner": {"reputation": 110, "user_id": 5890806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZFsT.png?s=128&g=1", "display_name": "renardesque", "link": "https://stackoverflow.com/users/5890806/renardesque"}, "edited": false, "score": 0, "creation_date": 1558987659, "post_id": 29264854, "comment_id": 99270535, "body": "Sometimes i&#39;m using <code>.impl.hpp</code> or <code>.tpl.hpp</code>, as it automatically gives syntax highlighting, and it&#39;s not supposed to be automatically compiled. Would it be considered as a no go by most people ?"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 16, "last_activity_date": 1427314257, "last_edit_date": 1427314257, "creation_date": 1427311894, "answer_id": 29264854, "question_id": 29264656, "link": "https://stackoverflow.com/questions/29264656/c-template-implementation-file-extension-convention/29264854#29264854", "title": "C++ Template implementation file extension convention?", "body": "<blockquote>\n  <p><em>\"Is there a convention for what file extension is used for template class implementation?\"</em></p>\n</blockquote>\n\n<p>No there isn't really a standard convention established for these file extensions AFAIK.</p>\n\n<p>There's a number of file extensions commonly used though, like</p>\n\n<ul>\n<li><code>.icc</code> </li>\n<li><code>.inl</code> </li>\n<li><code>.tcc</code> (which seems at least to be used by my GCC 4.8.1 standard libraries  implementation)</li>\n<li><code>...</code></li>\n</ul>\n\n<p>It doesn't really matter that much, because you'll need to be explicit about it with the <code>#include \"MyImpl.tcc\"</code>, <code>#include \"MyImpl.tpp\"</code> statement in the template header file anyway. </p>\n\n<p>You could use for instance <code>.tci</code> (<strong>t</strong>emplate <strong>c</strong>lass <strong>i</strong>mplementation, one I've invented creatively on the fly here ;-) )</p>\n\n<p>One important point is, you should use a consistent naming strategy over all of your projects involved to the solution (This would make it even easier to set up you IDE preferences for syntax highlighting).</p>\n\n<hr>\n\n<p>The only <strong><em>no go</em></strong> extensions IMHO are <code>.cc</code>, <code>.cpp</code>, <code>.cxx</code> and <code>.c</code>, which would confuse most of the automated build systems and IDE's currently around. The build system will assume these files need to be to build and linked as additional objects, and fail because of these either can't be build standalone, or ending up with multiple symbol definitions in linkage.</p>\n"}], "owner": {"reputation": 168, "user_id": 4648365, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dcKcgSDS3uM/AAAAAAAAAAI/AAAAAAAAAQA/sU0g1FpXZKU/photo.jpg?sz=128", "display_name": "Alex Edwards", "link": "https://stackoverflow.com/users/4648365/alex-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9540, "favorite_count": 4, "accepted_answer_id": 29264854, "answer_count": 2, "score": 13, "last_activity_date": 1427314257, "creation_date": 1427311182, "question_id": 29264656, "link": "https://stackoverflow.com/questions/29264656/c-template-implementation-file-extension-convention", "title": "C++ Template implementation file extension convention?", "body": "<p>Is there a convention for what file extension is used for template class implementation? **.tpp .template .hpp **</p>\n"}, {"tags": ["c++", "doxygen"], "comments": [{"owner": {"reputation": 4426, "user_id": 450609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6708bd9ccabfcb1cf6863fb32f32d1de?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/450609/dave"}, "edited": false, "score": 0, "creation_date": 1564808021, "post_id": 29264596, "comment_id": 101160498, "body": "Not a duplicate, the previous question asks how to document a header which can&#39;t be changed, this asks how to document a struct in a source file we do own."}, {"owner": {"reputation": 16020, "user_id": 9716597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f97c613dca0b157b40551a0d756abeb?s=128&d=identicon&r=PG&f=1", "display_name": "L. F.", "link": "https://stackoverflow.com/users/9716597/l-f"}, "reply_to_user": {"reputation": 4426, "user_id": 450609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6708bd9ccabfcb1cf6863fb32f32d1de?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/450609/dave"}, "edited": false, "score": 0, "creation_date": 1564890088, "post_id": 29264596, "comment_id": 101175344, "body": "@dave How does that make a difference?"}, {"owner": {"reputation": 4426, "user_id": 450609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6708bd9ccabfcb1cf6863fb32f32d1de?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/450609/dave"}, "reply_to_user": {"reputation": 16020, "user_id": 9716597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f97c613dca0b157b40551a0d756abeb?s=128&d=identicon&r=PG&f=1", "display_name": "L. F.", "link": "https://stackoverflow.com/users/9716597/l-f"}, "edited": false, "score": 0, "creation_date": 1564895828, "post_id": 29264596, "comment_id": 101176068, "body": "@L.F. Ah, I&#39;ve reread it now and they both end up with about the same answer - but the other one is a more complicated problem. This seemed simpler to understand to me."}], "answers": [{"tags": [], "owner": {"reputation": 1842, "user_id": 1045622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/o6n5C.jpg?s=128&g=1", "display_name": "nbubis", "link": "https://stackoverflow.com/users/1045622/nbubis"}, "is_accepted": false, "score": 0, "last_activity_date": 1427322257, "last_edit_date": 1427322257, "creation_date": 1427312181, "answer_id": 29264943, "question_id": 29264596, "link": "https://stackoverflow.com/questions/29264596/doxygen-document-struct-members-outside-struct/29264943#29264943", "title": "Doxygen: Document struct members outside struct", "body": "<p>The following seems to work:</p>\n\n<pre><code>/// \\var int myStruct::a\n/// a is an int\n</code></pre>\n\n<p>The problem with this method is that it creates multiple line comments that appear under \"Member Data Documentation\" and not under \"Public Attributes\" like single line comments, and moreover necessitates duplicating the definition, which is error prone.</p>\n\n<p>I'm still open to other better answers...</p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 3800477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6993f43201f5d010e15b1100f48631ea?s=128&d=identicon&r=PG&f=1", "display_name": "user3800477", "link": "https://stackoverflow.com/users/3800477/user3800477"}, "is_accepted": false, "score": 1, "last_activity_date": 1468841604, "creation_date": 1468841604, "answer_id": 38435675, "question_id": 29264596, "link": "https://stackoverflow.com/questions/29264596/doxygen-document-struct-members-outside-struct/38435675#38435675", "title": "Doxygen: Document struct members outside struct", "body": "<p>use <strong>\\brief</strong> , but need to uncomment the first <strong>\\brief</strong> description</p>\n\n<pre><code>struct myStruct {\n   int a;   // a is an int\n}\n</code></pre>\n\n<p>then </p>\n\n<pre><code>/// \\var int myStruct::a\n/// \\brief a is an int\n</code></pre>\n\n<p>I think the \"Public Attributes\"  is for brief information while the \"Member Data Documentation\" is for the details.</p>\n\n<p>Make sure there is only one <strong>\\brief</strong> then the documentation outside could show in the \"Public Attributes\"</p>\n"}], "owner": {"reputation": 1842, "user_id": 1045622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/o6n5C.jpg?s=128&g=1", "display_name": "nbubis", "link": "https://stackoverflow.com/users/1045622/nbubis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "closed_date": 1506156267, "answer_count": 2, "score": 1, "last_activity_date": 1468841604, "creation_date": 1427311024, "question_id": 29264596, "link": "https://stackoverflow.com/questions/29264596/doxygen-document-struct-members-outside-struct", "closed_reason": "Duplicate", "title": "Doxygen: Document struct members outside struct", "body": "<p>I know I can document a struct member variable inside the struct with doxygen:</p>\n\n<pre><code>struct myStruct {\n  int a;   ///&lt; a is an int\n}\n</code></pre>\n\n<p>But how can I put the documentation outside the struct? I've tried various combinations such as:</p>\n\n<pre><code>/// myStruct::a a is an int\n/// \\var a is an int\n</code></pre>\n\n<p>But none seem to show up in the generated html. Is this even possible? What would be the correct syntax?</p>\n"}, {"tags": ["c++", "xcode"], "comments": [{"owner": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427312183, "post_id": 29264352, "comment_id": 46731739, "body": "How is <code>clang</code> being executed? <code>clang</code> in Xcode, to my knowledge, doesn&#39;t currently support AddressSanizer (which I think is what the <code>stack-check</code> flag is for.) If <code>clang</code> is being run from a script, remove that flag and try re-running. Post fuller output to a place like pastebin and we can take a look."}, {"owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "reply_to_user": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427318615, "post_id": 29264352, "comment_id": 46735272, "body": "<a href=\"https://www.dropbox.com/s/soj5b7bom6gv9o5/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-03-25%2002.17.49%20PM.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/soj5b7bom6gv9o5/&hellip;</a>   This is the output from my Xcode. Thank you!"}, {"owner": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427329838, "post_id": 29264352, "comment_id": 46739391, "body": "Looks like the project has <code>-fstack-check</code> set under <code>OTHER_CFLAGS</code>. Boo. Doing a project-wide search (with cmd-shift-f) and searching for &quot;stack-check&quot; will show you where it&#39;s set. Here&#39;s a screen capture of that: <a href=\"http://cl.ly/2T2E2h161p0B\" rel=\"nofollow noreferrer\">cl.ly/2T2E2h161p0B</a> (the bottom right corner shows keyboard entry)"}, {"owner": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427329943, "post_id": 29264352, "comment_id": 46739416, "body": "There are many other build problems with this particular Xcode project, however. I used to do build engineering at Apple, and this project looks like it needs a lot of love to build and link successfully."}, {"owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "reply_to_user": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427342497, "post_id": 29264352, "comment_id": 46742415, "body": "Thanks a lot, @cbowns . I followed your screen capture, however, only got even more errors: <a href=\"https://www.dropbox.com/s/enos9r3t8f4ka7x/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-03-25%2008.59.03%20PM.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/enos9r3t8f4ka7x/&hellip;</a>  Actually I tried what you did before. I am now using Xcode Version 6.2 (6C131e) I think maybe it&#39;s because the version has been updated. I also tried Xcode 5.1 but still cannot execute it."}, {"owner": {"reputation": 5922, "user_id": 774, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957f398931e124d4d34491419585e405?s=128&d=identicon&r=PG", "display_name": "cbowns", "link": "https://stackoverflow.com/users/774/cbowns"}, "edited": false, "score": 0, "creation_date": 1427344746, "post_id": 29264352, "comment_id": 46742939, "body": "Yeah, the errors it prints out are quite hairy. I think the project itself is very poorly structured and/or has external dependencies they didn&#39;t document."}], "owner": {"reputation": 315, "user_id": 4545405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9a1bc20d02cf13421f61eb48e3948fef?s=128&d=identicon&r=PG&f=1", "display_name": "LeonloveKaren", "link": "https://stackoverflow.com/users/4545405/leonlovekaren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427312062, "creation_date": 1427310280, "last_edit_date": 1427312062, "question_id": 29264352, "link": "https://stackoverflow.com/questions/29264352/try-to-run-a-xcode-project-but-only-got-error-clang-error-unknown-argument", "title": "Try to run a Xcode project but only got error: &quot;clang: error: unknown argument: &#39;-fstack-check&#39;&quot;", "body": "<p>I am learning stanford CS 106b and I downloaded the pathfinder starter file from here: <a href=\"http://web.stanford.edu/class/archive/cs/cs106b/cs106b.1126/\" rel=\"nofollow\">http://web.stanford.edu/class/archive/cs/cs106b/cs106b.1126/</a></p>\n\n<p>However, this starter file cannot be executed on my latest Xcode.  The errors are as follows: </p>\n\n<blockquote>\n  <p>clang: error: unknown argument: '-fstack-check'\n  Command /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang failed with exit code 1</p>\n</blockquote>\n\n<p>I googled this error, but I couldn't find a solution. </p>\n"}, {"tags": ["c++", "arrays", "recursion"], "comments": [{"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1427310348, "post_id": 29264332, "comment_id": 46730640, "body": "If your array has one element how v[1] will become &#39;1&#39;? v[0] should be &#39;1&#39;."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 5, "creation_date": 1427310353, "post_id": 29264332, "comment_id": 46730644, "body": "For an array with 1 element, <code>v[1]</code> is <i>out of bounds</i> since array indices start at 0."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 2, "creation_date": 1427310363, "post_id": 29264332, "comment_id": 46730655, "body": "compile with all warnings &amp; debug info (<code>g++ -Wall -Wextra -g</code>). Then <b>use the debugger</b> <code>gdb</code>"}, {"owner": {"reputation": 3695, "user_id": 4679661, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cfe9e5dd7661323595e25d592172b10?s=128&d=identicon&r=PG&f=1", "display_name": "juhist", "link": "https://stackoverflow.com/users/4679661/juhist"}, "edited": false, "score": 0, "creation_date": 1427310404, "post_id": 29264332, "comment_id": 46730672, "body": "You start the indexing from <code>1</code> and end it to <code>n</code>. You should start from <code>0</code> and end to <code>n-1</code>. Besides, you should be using <code>std::vector</code> instead of a fixed size array."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310436, "post_id": 29264332, "comment_id": 46730687, "body": "array indices start with 1 and it ends with n"}, {"owner": {"reputation": 23069, "user_id": 156811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380335e95e6be9740e56b64d667279b3?s=128&d=identicon&r=PG", "display_name": "Havenard", "link": "https://stackoverflow.com/users/156811/havenard"}, "edited": false, "score": 2, "creation_date": 1427310470, "post_id": 29264332, "comment_id": 46730698, "body": "I&#39;m not sure but I think you are invoking some undefined behaviour in <code>prod(--n,v)*v[n]</code>. Is <code>--n</code> ocurring before or after the value of <code>v[n]</code> is fetch? I don&#39;t think the standard determines that."}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 4, "creation_date": 1427310483, "post_id": 29264332, "comment_id": 46730704, "body": "Just read the basics before posting question. Arrays in C++ start with index &#39;0&#39;."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310520, "post_id": 29264332, "comment_id": 46730729, "body": "in the function i use only 2 parameters because the variable i isnt needed in the function"}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310639, "post_id": 29264332, "comment_id": 46730814, "body": "it can start with whatever indices i want ,but this is not the case.I want to know why it shows me 4703488  ?"}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310740, "post_id": 29264332, "comment_id": 46730869, "body": "if i use n-- ,then n won&#39;t be change in the next function"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1427311010, "post_id": 29264332, "comment_id": 46731029, "body": "@kaptain5088 because array indices start at 0, but you are ignoring this <i>fact</i> when filling your array with data, and when <code>n == 1</code>, then <code>--n, v[n]</code> can (and apparently does) evaluate to <code>v[0]</code> which is uninitialized."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311237, "post_id": 29264332, "comment_id": 46731168, "body": "but v[0] wont be used because of the if(n) statement"}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 1, "creation_date": 1427311312, "post_id": 29264332, "comment_id": 46731208, "body": "@kaptain5088: It seems you don&#39;t know the basics of C++. Please try some debugger and see the flow to understand the execution of the program."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "reply_to_user": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1427311530, "post_id": 29264332, "comment_id": 46731362, "body": "@kadina what makes you think that?"}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 2, "creation_date": 1427311653, "post_id": 29264332, "comment_id": 46731438, "body": "A lot from your comments. First of all arrays doesn&#39;t start with index 1. --n is not same as n - 1."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311796, "post_id": 29264332, "comment_id": 46731532, "body": "n=2 n-1 (n=1) n=n-1 (n=1).N is still modified"}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427312453, "post_id": 29264332, "comment_id": 46731889, "body": "why does --n doesn&#39;t have the same effect like n-1"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 1, "creation_date": 1427312574, "post_id": 29264332, "comment_id": 46731958, "body": "Why should it? You may as well ask why <code>n*30+17</code> doesn&#39;t have the same  effect as <code>c = sqrt(a*a + b*b)</code>? They&#39;re different expressions. And different expressions tend to have different effects."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427312582, "post_id": 29264332, "comment_id": 46731962, "body": "i got it now ,thanks"}], "answers": [{"comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1427310537, "post_id": 29264403, "comment_id": 46730736, "body": "This is wrong. The values are stored in array starting with index <code>1</code>. <code>v[0]</code> is not used."}, {"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "reply_to_user": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1427310566, "post_id": 29264403, "comment_id": 46730757, "body": "@axiac: Thanks for that. Fixing the answer."}, {"owner": {"reputation": 23069, "user_id": 156811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380335e95e6be9740e56b64d667279b3?s=128&d=identicon&r=PG", "display_name": "Havenard", "link": "https://stackoverflow.com/users/156811/havenard"}, "reply_to_user": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1427310743, "post_id": 29264403, "comment_id": 46730871, "body": "@axiac Maybe it is, he  just doesn&#39;t realize that. When he does <code>prod(--n,v)*v[n]</code> with <code>n=1</code> it may be computing as <code>prod(0,v)*v[0]</code>."}, {"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "reply_to_user": {"reputation": 23069, "user_id": 156811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380335e95e6be9740e56b64d667279b3?s=128&d=identicon&r=PG", "display_name": "Havenard", "link": "https://stackoverflow.com/users/156811/havenard"}, "edited": false, "score": 0, "creation_date": 1427310781, "post_id": 29264403, "comment_id": 46730905, "body": "@Havenard: That is exactly what I edited my answer to. Thanks though."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310883, "post_id": 29264403, "comment_id": 46730956, "body": "put you can see that i put if(n)"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "reply_to_user": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427310937, "post_id": 29264403, "comment_id": 46730983, "body": "@kaptain5088 <code>--n</code> might be evaluated before <code>v[n]</code>, changing a <code>1</code> to a <code>0</code>. Instead, use <code>n - 1</code> in the function call."}, {"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "reply_to_user": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311242, "post_id": 29264403, "comment_id": 46731173, "body": "@kaptain5088: I have added a bit more explanation. Can you understand it now?"}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311399, "post_id": 29264403, "comment_id": 46731273, "body": "but --n isnt the same as n-1?"}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 1, "creation_date": 1427311567, "post_id": 29264403, "comment_id": 46731386, "body": "--n is never same as n-1. --n means n = n -1 where as n-1 won&#39;t effect the value of n"}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311732, "post_id": 29264403, "comment_id": 46731488, "body": "how is that so?so n wont be modified?"}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1427311860, "post_id": 29264403, "comment_id": 46731570, "body": "--n means we are telling to the compiler that n value has to be decreased by 1. So if n = 5, and if you write --n, n will become 4. But if you write n-1, n won&#39;t be modified. n-1 means you are not modifying the n value."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427311999, "post_id": 29264403, "comment_id": 46731640, "body": "so n will be decreased by 1 (n=0) .why would the compiler not know that my intention with --n is to decrease n by 1?"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427312098, "post_id": 29264403, "comment_id": 46731695, "body": "@kaptain5088 When you call the function with n -1 you get a <b>new</b> value that is called n. This n is not the same n as in your previous function. So in the call prod(n - 1, ...)  replace the n with the actual numeric value. Don&#39;t consider it the variable n."}, {"owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427312218, "post_id": 29264403, "comment_id": 46731753, "body": "but why --n doesnt replace n?"}, {"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "reply_to_user": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "edited": false, "score": 0, "creation_date": 1427312736, "post_id": 29264403, "comment_id": 46732039, "body": "@kaptain5088: <code>--n is the same as n = n - 1</code>. what you should be doing is <code>int temp = n - 1; prod(temp, v)*v[n]</code>"}], "tags": [], "owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "is_accepted": false, "score": 4, "last_activity_date": 1427311458, "last_edit_date": 1427311458, "creation_date": 1427310419, "answer_id": 29264403, "question_id": 29264332, "link": "https://stackoverflow.com/questions/29264332/my-recursive-function-written-in-c-doesnt-work/29264403#29264403", "title": "My recursive function written in c++ doesn&#39;t work", "body": "<p>The culprit is the line <code>return prod(--n,v)*v[n];</code>. When you call <code>--n</code> as the function parameter, you don't know which value of <code>n</code> will be used in the <code>v[n]</code> part. This causes undefined behaviour. Since the value at 0 in your array is a garbage value, it might be using that value instead of using <code>v[1]</code> as you planned.</p>\n\n<p>The correct way to write it would be <code>return prod(n-1, v)*v[n]</code>. To address the OP's query, a detailed explanation is shown below:</p>\n\n<pre><code>int prod(int n,int v[100]) // n has value 1 right now, when called\n{\n    if(n) // since n has value 1, boolean condition is satisfied and control //flow goes inside the loop\n    { // inside the loop part is being executed now\n        return prod(--n,v)*v[n];  // the value of n is decremented with --n.   So n is now 0 (or could be 1). The value in v[n] is undefined, and it may be  or 1. Garbage value at 0. Hence, output has garbage value \n    }\n    return 1;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1427311036, "post_id": 29264544, "comment_id": 46731039, "body": "And even by changing return prod(n-1,v)*v[n], it won&#39;t work. what will be the value of v[1]?"}], "tags": [], "owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "is_accepted": false, "score": 2, "last_activity_date": 1427310879, "creation_date": 1427310879, "answer_id": 29264544, "question_id": 29264332, "link": "https://stackoverflow.com/questions/29264332/my-recursive-function-written-in-c-doesnt-work/29264544#29264544", "title": "My recursive function written in c++ doesn&#39;t work", "body": "<p>It does not work properly because</p>\n\n<pre><code>return prod(--n,v)*v[n];\n</code></pre>\n\n<p>is undefined behaviour. What value of <code>n</code> is used for <code>v[n]</code>? The one received on the function call or the value of <code>--n</code>?</p>\n\n<p>It seems that in your case <code>v[n]</code> uses the value of <code>n</code> after the decrementation (and it uses <code>v[0]</code> that is not initialized). But it could be the other way around (get <code>v[n]</code> before <code>--n</code>).</p>\n\n<p>You can fix it this way:</p>\n\n<pre><code>return prod(n-1,v)*v[n];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1427311690, "last_edit_date": 1427311690, "creation_date": 1427310968, "answer_id": 29264568, "question_id": 29264332, "link": "https://stackoverflow.com/questions/29264332/my-recursive-function-written-in-c-doesnt-work/29264568#29264568", "title": "My recursive function written in c++ doesn&#39;t work", "body": "<p>I would write the function the following way</p>\n\n<pre><code>long long int prod( const int a[], size_t n )\n{\n    if ( n == 0 ) return 0; \n    else return a[n-1] * ( n &gt; 1 ? prod( a, n - 1 ) : 1 );\n}\n</code></pre>\n\n<p>As for your code then this statement</p>\n\n<pre><code>return prod(--n,v)*v[n];\n</code></pre>\n\n<p>has unspecified order of evaluation of operands of operator *.</p>\n"}, {"tags": [], "owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "is_accepted": false, "score": 2, "last_activity_date": 1427530264, "last_edit_date": 1427530264, "creation_date": 1427311023, "answer_id": 29264595, "question_id": 29264332, "link": "https://stackoverflow.com/questions/29264332/my-recursive-function-written-in-c-doesnt-work/29264595#29264595", "title": "My recursive function written in c++ doesn&#39;t work", "body": "<p>this is not well defined:</p>\n\n<pre><code>return prod(--n,v)*v[n];\n</code></pre>\n\n<p>the reason is, the side-effect in <code>--n</code> is unsequenced with respect to the read of <code>n</code> in <code>v[n]</code> </p>\n"}], "owner": {"reputation": 1, "user_id": 4713616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bc79021d55eb048749ba489d0f5022?s=128&d=identicon&r=PG&f=1", "display_name": "kaptain5088", "link": "https://stackoverflow.com/users/4713616/kaptain5088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 4, "score": -4, "last_activity_date": 1427530264, "creation_date": 1427310211, "last_edit_date": 1427310290, "question_id": 29264332, "link": "https://stackoverflow.com/questions/29264332/my-recursive-function-written-in-c-doesnt-work", "title": "My recursive function written in c++ doesn&#39;t work", "body": "<p>I wanted to make a recursive function for the multiplication of the elements from an array</p>\n\n<p>If my array has 1 element and v[1] is 1 ,the program wil show me 4703488</p>\n\n<p>My question is why?</p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nint prod(int n,int v[100])\n{\n    if(n)\n    {\n        return prod(--n,v)*v[n];\n    }\n\n    return 1;\n}\n\nint main()\n{\n    int v[100],n,i=1;\n    cout&lt;&lt;\"n=\";\n    cin&gt;&gt;n;\n\n    for(i=1;i&lt;=n;i++)\n        cin&gt;&gt;v[i];\n\n    cout&lt;&lt;prod(n,v);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "ifstream"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1427310239, "post_id": 29264275, "comment_id": 46730578, "body": "in C++, there are references. that&#39;s how. if you pass a parameter by non-<code>const</code> reference, you can modify it. (in essence, most compilers will generate identical machine code as if the object was passed by-pointer.)"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 2, "creation_date": 1427310287, "post_id": 29264275, "comment_id": 46730600, "body": "I&#39;m voting to close this question as off-topic because it lacks basic knowledge about the language being used."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 3, "creation_date": 1427310368, "post_id": 29264275, "comment_id": 46730658, "body": "At the least, you could look at the signature of <code>get</code>."}, {"owner": {"reputation": 157, "user_id": 4565173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-3kCQ1Yrmhm0/AAAAAAAAAAI/AAAAAAAACc4/vnpg89j0l6I/photo.jpg?sz=128", "display_name": "Godzy", "link": "https://stackoverflow.com/users/4565173/godzy"}, "edited": false, "score": 0, "creation_date": 1427311475, "post_id": 29264275, "comment_id": 46731326, "body": "I did not know of references. I only learned C, and I&#39;ve only recently transfered to C++ without any formal training. When I see &quot;&amp;&quot;, it means memory address to me... What is the signature?"}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1427311492, "post_id": 29264275, "comment_id": 46731337, "body": "@TheParamagneticCroissant: I think that&#39;s a poor close excuse. Beginners should feel free to ask questions, including simple ones. Now, if you want to vote to close because you don&#39;t think the OP has done &quot;due diligence&quot; in trying to find ananswer: sure, go ahead. But saying someone can&#39;t ask a question because they lack knowledge is kinda weird... the whole point of asking questions is to gain new knowledge (whether basic or not). SO doesn&#39;t say it requires askers to meet some arbitrary threshold of knowledge."}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "reply_to_user": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1427311562, "post_id": 29264275, "comment_id": 46731380, "body": "@Cornstalks Stack Overflow is not a language tutorial site. Consequently, it should not be used as such."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1427311577, "post_id": 29264275, "comment_id": 46731390, "body": "@Godzy: If you <a href=\"https://www.google.com/search?sourceid=chrome-psyapi2&amp;rlz=1C5CHFA_enUS557US557&amp;ion=1&amp;espv=2&amp;ie=UTF-8&amp;q=ifstream%20get&amp;oq=ifstream%20get&amp;aqs=chrome..69i57j0l5.3464j0j7\" rel=\"nofollow noreferrer\">google &quot;ifstream get&quot;</a> and click one of the top two results, it will show you the function&#39;s signature..."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1427311706, "post_id": 29264275, "comment_id": 46731473, "body": "@TheParamagneticCroissant: Why not? Where do the SO guidelines/rules say that? <a href=\"http://stackoverflow.com/questions/2765999/what-is-a-reference-variable-in-c\">This question is totally valid for SO</a> (which this question seems to be a duplicate of, IMO)."}, {"owner": {"reputation": 157, "user_id": 4565173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-3kCQ1Yrmhm0/AAAAAAAAAAI/AAAAAAAACc4/vnpg89j0l6I/photo.jpg?sz=128", "display_name": "Godzy", "link": "https://stackoverflow.com/users/4565173/godzy"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1427312202, "post_id": 29264275, "comment_id": 46731747, "body": "@TheParamagneticCroissant Yes I&#39;m a noob. I did my research, but sometimes being a noob means you don&#39;t know what you&#39;re looking for. I went to the documentation of the function and, because I saw the &amp; character assumed I was supposed to pass some sort of pointer but it would only work when I passed the variable and I was puzzled. Now I know i have to learn about &quot;references&quot;, the answer is obvious. Should I use a different forum to ask my noob questions? I thought stack overflow was also for noobs like me, trying to politely ask questions to people who have the knowledge. Sorry!"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4565173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-3kCQ1Yrmhm0/AAAAAAAAAAI/AAAAAAAACc4/vnpg89j0l6I/photo.jpg?sz=128", "display_name": "Godzy", "link": "https://stackoverflow.com/users/4565173/godzy"}, "edited": false, "score": 0, "creation_date": 1427311604, "post_id": 29264541, "comment_id": 46731404, "body": "Thank you very much for the link to references! That&#39;s the obvious thing I did not know."}], "tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 2, "last_activity_date": 1427311227, "last_edit_date": 1427311227, "creation_date": 1427310876, "answer_id": 29264541, "question_id": 29264275, "link": "https://stackoverflow.com/questions/29264275/how-does-the-ifstream-function-get-alters-its-character-argument/29264541#29264541", "title": "How does the ifstream function &quot;get&quot; alters its character argument?", "body": "<p>The member function <a href=\"http://www.cplusplus.com/reference/istream/istream/get/\" rel=\"nofollow\"><code>std::istream::get()</code></a> uses a reference:  </p>\n\n<pre><code>istream&amp; get (char&amp; c);\n</code></pre>\n\n<p>This means that the function accesses directly to the variable passed as a parameter.    </p>\n\n<p>If you're not familiar with references, <a href=\"http://www.learncpp.com/cpp-tutorial/73-passing-arguments-by-reference/\" rel=\"nofollow\">here</a> you can learn more. </p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1427310924, "creation_date": 1427310924, "answer_id": 29264559, "question_id": 29264275, "link": "https://stackoverflow.com/questions/29264275/how-does-the-ifstream-function-get-alters-its-character-argument/29264559#29264559", "title": "How does the ifstream function &quot;get&quot; alters its character argument?", "body": "<blockquote>\n  <p><em>\"So how can <code>c</code> be changed here?\"</em></p>\n</blockquote>\n\n<p>As from the <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/get\" rel=\"nofollow\">reference documentation</a> <code>std::ifstream::get()</code> uses a parameter passed by reference for the <code>char</code> variable </p>\n\n<pre><code> basic_istream&amp; get( char_type&amp; ch );\n</code></pre>\n\n<p>so it alters it by using this reference.</p>\n"}], "owner": {"reputation": 157, "user_id": 4565173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-3kCQ1Yrmhm0/AAAAAAAAAAI/AAAAAAAACc4/vnpg89j0l6I/photo.jpg?sz=128", "display_name": "Godzy", "link": "https://stackoverflow.com/users/4565173/godzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1427312280, "accepted_answer_id": 29264541, "answer_count": 2, "score": 1, "last_activity_date": 1427311227, "creation_date": 1427310024, "question_id": 29264275, "link": "https://stackoverflow.com/questions/29264275/how-does-the-ifstream-function-get-alters-its-character-argument", "closed_reason": "Duplicate", "title": "How does the ifstream function &quot;get&quot; alters its character argument?", "body": "<p>The function get of an ifstream reads the next character and stores it in the argument you pass to the function. Example program:</p>\n\n<pre><code>#include &lt;iostream&gt;     \n#include &lt;fstream&gt;      \n\nint main () {\n  std::ifstream is(\"input.txt\");     // open file\n  char c;\n\n  while (is.get(c))          // loop getting single characters\n    std::cout &lt;&lt; c;\n\n  is.close();                // close file\n  return 0;\n }\n</code></pre>\n\n<p>This works great but I am puzzled by how <em>c</em> can be changed by the function <em>get</em> as it is not passed by its pointer. I was told, some time ago, that modifying a variable within a function cannot change its value outside the function. And that's the whole purpose of pointers, right -- manipulating an object created outside the function. So how can <em>c</em> be changed here?</p>\n\n<p>I guess there is something obvious that I don't understand here?</p>\n"}, {"tags": ["c++", "xcode", "opengl", "soil"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1427313201, "post_id": 29264236, "comment_id": 46732301, "body": "Call <code>SOIL_last_result</code> to get an error message, and print it out."}, {"owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1427314770, "post_id": 29264236, "comment_id": 46733152, "body": "@ColonelThirtyTwo It says &quot;PNG not supported: 8-bit only&quot;. OK, so it does find the file. However, if I try to change the image to an 8-bit PNG or an 8-bit JPG, it gives me an EXC_BAD_ACCESS error at the line where I&#39;m assigning the variable &#39;texture&#39;."}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1427315345, "post_id": 29264236, "comment_id": 46733491, "body": "Can you get a traceback to where in SOIL it crashes? Also make sure you have an OpenGL context set up before loading the texture."}, {"owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1427315467, "post_id": 29264236, "comment_id": 46733573, "body": "@ColonelThirtyTwo Yeah, that was the problem. It&#39;s working now, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1427315416, "last_edit_date": 1495535216, "creation_date": 1427315416, "answer_id": 29265902, "question_id": 29264236, "link": "https://stackoverflow.com/questions/29264236/soil-load-ogl-texture-returning-null-possibly-a-working-directory-issue-xcode/29265902#29265902", "title": "SOIL_load_OGL_texture returning NULL, possibly a working directory issue (XCode 6)", "body": "<p>OK, figured it out. Problem was that the PNG file was 16-bit instead of 8-bit. Also, the <code>SOIL_load_OGL_texture</code> function needed to be called after <code>glfwCreateWindow()</code> and <code>glfwMakeContextCurrent()</code>.</p>\n\n<p>Here's the answer that helped me: <a href=\"https://stackoverflow.com/questions/13012026/soil-unable-to-open-file-in-c-and-opengl-with-xcode\">SOIL: &#39;Unable to open file&#39; in C++ and OpenGL with Xcode</a></p>\n"}], "owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1121, "favorite_count": 0, "accepted_answer_id": 29265902, "answer_count": 1, "score": 0, "last_activity_date": 1427315416, "creation_date": 1427309917, "question_id": 29264236, "link": "https://stackoverflow.com/questions/29264236/soil-load-ogl-texture-returning-null-possibly-a-working-directory-issue-xcode", "title": "SOIL_load_OGL_texture returning NULL, possibly a working directory issue (XCode 6)", "body": "<p>Ok, so I'm trying to use SOIL to load a .png file that's in a \"textures\" folder. The textures folder is located in the same directory as the code. I've gone into the scheme settings on the XCode project and changed the working directory to the one where the folder is located. However, when I do this simple test, it always indicates that the GLUint texture is NULL.</p>\n\n<pre><code>GLuint texture = SOIL_load_OGL_texture\n(\n \"textures/image.png\",\n SOIL_LOAD_AUTO,\n SOIL_CREATE_NEW_ID,\n SOIL_FLAG_MIPMAPS | SOIL_FLAG_INVERT_Y | SOIL_FLAG_NTSC_SAFE_RGB | SOIL_FLAG_COMPRESS_TO_DXT\n );\n\nif (texture == 0){\n    std::cout &lt;&lt; \"Texture not found!\\n\";\n    return 0;\n}\n</code></pre>\n\n<p>I'm not sure if I'm doing something wrong in regards to SOIL but my hunch is that the file is simply not being read. As I said, I changed the working directory in XCode but that doesn't change anything.</p>\n"}, {"tags": ["c++", "multithreading", "fastcgi"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1427309997, "post_id": 29264208, "comment_id": 46730445, "body": "What about joining your threads, before exiting <code>main()</code>?"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 4, "creation_date": 1427310000, "post_id": 29264208, "comment_id": 46730447, "body": "for the sake of exception safety never ever call <code>lock()</code> and <code>unlock()</code> yourself. Instead use a <a href=\"http://en.cppreference.com/w/cpp/thread/lock_guard\" rel=\"nofollow noreferrer\"><code>std::lock_guard</code></a>"}, {"owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427310366, "post_id": 29264208, "comment_id": 46730657, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Oops, the actual code I&#39;m using does join the threads. In my attempt to make a minimal example, I accidentially deleted the <code>join</code> calls. I&#39;ve edited the question, and the problem persists when I <code>join</code> my threads, using the edited code in the main post."}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 3, "creation_date": 1427310528, "post_id": 29264208, "comment_id": 46730731, "body": "I would also suggest an RAII wrapper around <code>FCGX_Request</code> to ensure the request always gets finished."}, {"owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "reply_to_user": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1427310531, "post_id": 29264208, "comment_id": 46730733, "body": "And @Mgetz using a <code>std::lock_guard</code> did not fix the problem, but I appreciate the help. At this point, I&#39;m just trying to get a minimal functional example up for myself."}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 1, "creation_date": 1427310576, "post_id": 29264208, "comment_id": 46730762, "body": "@user2899162 <code>std::lock_guard</code> was not an answer or I would have posted it as such. No it was a method of avoiding accidental deadlock."}, {"owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "edited": false, "score": 0, "creation_date": 1427310660, "post_id": 29264208, "comment_id": 46730827, "body": "Ah, I&#39;m more familiar with mutexes from <code>C</code>, so I had thought you were implying that (for some reason) an exception was being thrown by my mutex."}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 1, "creation_date": 1427310762, "post_id": 29264208, "comment_id": 46730883, "body": "That said you are getting <code>SIGABRT</code> so likely you&#39;re getting an exception thrown in <code>respond()</code> try doing a <a href=\"http://blog.codinghorror.com/new-programming-jargon/\" rel=\"nofollow noreferrer\">pokemon catch</a> (e.g. <code>catch(...)</code>) around the code inside to see what comes in."}, {"owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "edited": false, "score": 0, "creation_date": 1427311492, "post_id": 29264208, "comment_id": 46731336, "body": "I wrapped all of the code within <code>respond</code> in a try catch block, catching <code>std::exception e</code>. In the catch block I have <code>std::ofstream o(&quot;myFCGIerr.txt&quot;); o &lt;&lt; e.what();</code> but I can&#39;t find a <code>myFCGIerr.txt</code> anywhere on my system."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1427316743, "post_id": 29264208, "comment_id": 46734259, "body": "@user2899162 Add additional information and forth going findings when debugging to your question, to improve it, and getting it bumped and more likely to receive a concise answer, rather than applying additional comments."}, {"owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "reply_to_user": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1427317623, "post_id": 29264208, "comment_id": 46734756, "body": "Thank you @Mgetz and \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, I fixed the problem as I wrote it-- I needed to create the <code>ofstream</code> inside the for loop. I made a mistake when I tried to make a minimal example, that just happened to have the same errors in Apache as the actual problem I&#39;m trying to solve."}], "answers": [{"tags": [], "owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "is_accepted": false, "score": 0, "last_activity_date": 1427317486, "creation_date": 1427317486, "answer_id": 29266482, "question_id": 29264208, "link": "https://stackoverflow.com/questions/29264208/simple-multithreaded-fastcgi-application-always-crashing/29266482#29266482", "title": "Simple multithreaded fastcgi application always crashing", "body": "<p>I fixed the problem as it was presented in my question.</p>\n\n<p>I was making the <code>ofstream</code> <code>cout</code> before the <code>for(;;)</code> loop, when it should be created inside the loop. </p>\n\n<p>This makes sense, as each individual connection has its own stream that should be written to.</p>\n\n<p>-</p>\n\n<p>The problem I have with my larger multithreaded application remains-- in my larger program, I properly instantiate my <code>ofstream</code>. When creating my minimal example, I made a mistake that just happened to have the same error logs in Apache. However, my error seems to be unrelated to the question I posted, and now I'm off to hunt for what actually was creating the error in the first place.</p>\n"}], "owner": {"reputation": 2553, "user_id": 2899162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e232dd2eb7990524453d85d7a89d7388?s=128&d=identicon&r=PG&f=1", "display_name": "druckermanly", "link": "https://stackoverflow.com/users/2899162/druckermanly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427317486, "creation_date": 1427309821, "last_edit_date": 1427310394, "question_id": 29264208, "link": "https://stackoverflow.com/questions/29264208/simple-multithreaded-fastcgi-application-always-crashing", "title": "Simple multithreaded fastcgi application always crashing", "body": "<p>I'm trying to understand how to properly use FastCGI in a multithreaded environment. However, when compiled, this program always yields an <code>Internal Server Error</code> on Apache. I feel as if I'm not familiar enough with FastCGI nor Apache to be able to diagnose my mistake.</p>\n\n<p>A simple single-threaded equivalent of this program worked perfectly fine.</p>\n\n<p>I'm compiling using <code>g++</code> with flags <code>-std=c++11 -lfcgi++ -lfcgi -lpthread</code></p>\n\n<p>Below is the code I'm using:</p>\n\n<pre><code>#include \"fcgio.h\"\n#include &lt;vector&gt;\n#include &lt;ostream&gt;\n#include &lt;istream&gt;\n#include &lt;thread&gt;\n#include &lt;mutex&gt;\n\nstd::mutex accept_mutex;\n\n#define THREAD_COUNT (10)\n\nvoid respond(){\n  FCGX_Request request;\n  FCGX_InitRequest(&amp;request, 0, 0);\n  fcgi_streambuf cout_fcgi_streambuf(request.out);\n\n  std::ostream cout(&amp;cout_fcgi_streambuf);\n\n  for(;;) {\n    accept_mutex.lock();\n    if (FCGX_Accept_r(&amp;request) &lt; 0)\n      break;\n    accept_mutex.unlock();\n    cout &lt;&lt; \"Content-type: text/html\\r\\n\"\n      &lt;&lt; \"\\r\\n\"\n      &lt;&lt; \"&lt;html&gt;\\n\"\n      &lt;&lt; \"  &lt;head&gt;\\n\"\n      &lt;&lt; \"    &lt;title&gt;Testing!&lt;/title&gt;\\n\"\n      &lt;&lt; \"  &lt;/head&gt;\\n\"\n      &lt;&lt; \"  &lt;body&gt;\\n\"\n      &lt;&lt; \"    &lt;h1&gt;Hello, World!&lt;/h1&gt;\\n\"\n      &lt;&lt; \"&lt;/body&gt;\\n\"\n      &lt;&lt; \"&lt;/html&gt;\\n\";\n\n    FCGX_Finish_r(&amp;request);\n  }\n\n}\n\nint main(){\n  FCGX_Init();\n  std::vector&lt;std::thread&gt; threads(THREAD_COUNT);\n  for(int i = 0 ; i &lt; THREAD_COUNT ; i++)\n    threads[i] = std::thread(respond);\n  for(auto &amp; x : threads)\n    x.join();\n\n}\n</code></pre>\n\n<p>And here is the error I'm finding in the Apache error log:</p>\n\n<pre><code>[Wed Mar 25 00:22:10.693368 2015] [fcgid:warn] [pid 11386:tid 139946920691456] (104)Connection reset by peer: [client 10.0.2.2:63490] mod_fcgid: error reading data from FastCGI server\n[Wed Mar 25 00:22:10.693396 2015] [core:error] [pid 11386:tid 139946920691456] [client 10.0.2.2:63490] End of script output before headers: home2.fcgi\n[Wed Mar 25 00:22:13.695752 2015] [fcgid:error] [pid 11384:tid 139947238573952] mod_fcgid: process /home/web/web/home2.fcgi(27007) exit(communication error), get unexpected signal 6\n</code></pre>\n"}, {"tags": ["c++", "audio", "mfc", "directx"], "answers": [{"comments": [{"owner": {"reputation": 2576, "user_id": 3447742, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dceb051c6027a6f6931fc0b0f7d86fe1?s=128&d=identicon&r=PG&f=1", "display_name": "gornvix", "link": "https://stackoverflow.com/users/3447742/gornvix"}, "edited": false, "score": 0, "creation_date": 1427320026, "post_id": 29266292, "comment_id": 46735928, "body": "Interesting observation.  I tried your suggestion but it didn&#39;t fix the problem.  Since casting to an int is the same as floor and my rend function is unlikely to return 1, it is unlikely to overflow.  AFAIK is 16-bit audio: &quot;format.NbBitsPerSample = 16&quot;"}, {"owner": {"reputation": 2576, "user_id": 3447742, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dceb051c6027a6f6931fc0b0f7d86fe1?s=128&d=identicon&r=PG&f=1", "display_name": "gornvix", "link": "https://stackoverflow.com/users/3447742/gornvix"}, "edited": false, "score": 0, "creation_date": 1427320689, "post_id": 29266292, "comment_id": 46736264, "body": "(correction) ... at least floor is the same for positive as casting to an int.  Using the int casting on a negative fraction rounds up."}], "tags": [], "owner": {"reputation": 190, "user_id": 3671925, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f24bdbbff136b1f68e1a8feca5847f78?s=128&d=identicon&r=PG&f=1", "display_name": "whoasked", "link": "https://stackoverflow.com/users/3671925/whoasked"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316803, "creation_date": 1427316803, "answer_id": 29266292, "question_id": 29264125, "link": "https://stackoverflow.com/questions/29264125/pops-clicks-when-stopping-and-starting-directx-sound-synth-in-c-mfc/29266292#29266292", "title": "Pops / clicks when stopping and starting DirectX sound synth in C++ / MFC", "body": "<p>Try replacing 32768 with 32767. Not by any means sure this is your issue, but it could overflow the positive short int range (assuming your audio is 16-bit) and cause a \"pop\".</p>\n"}, {"tags": [], "owner": {"reputation": 2576, "user_id": 3447742, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dceb051c6027a6f6931fc0b0f7d86fe1?s=128&d=identicon&r=PG&f=1", "display_name": "gornvix", "link": "https://stackoverflow.com/users/3447742/gornvix"}, "is_accepted": false, "score": 0, "last_activity_date": 1427481218, "creation_date": 1427481218, "answer_id": 29307821, "question_id": 29264125, "link": "https://stackoverflow.com/questions/29264125/pops-clicks-when-stopping-and-starting-directx-sound-synth-in-c-mfc/29307821#29307821", "title": "Pops / clicks when stopping and starting DirectX sound synth in C++ / MFC", "body": "<p>I got rid of the pops / clicks when stopping playback, by filling the buffer with zeros after the fade out.  However I still get pops when re-starting playback, despite filling with zeros and then fading back in (it is frustrating).</p>\n"}], "owner": {"reputation": 2576, "user_id": 3447742, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dceb051c6027a6f6931fc0b0f7d86fe1?s=128&d=identicon&r=PG&f=1", "display_name": "gornvix", "link": "https://stackoverflow.com/users/3447742/gornvix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427481218, "creation_date": 1427309506, "question_id": 29264125, "link": "https://stackoverflow.com/questions/29264125/pops-clicks-when-stopping-and-starting-directx-sound-synth-in-c-mfc", "title": "Pops / clicks when stopping and starting DirectX sound synth in C++ / MFC", "body": "<p>I have made a soft synthesizer in Visual Studio 2012 with C++, MFC and DirectX.  Despite having added code to rapidly fade out the sound I am experiencing popping / clicking when stopping playback (also when starting).</p>\n\n<p>I copied the DirectX code from this project: <a href=\"http://www.codeproject.com/Articles/7474/Sound-Generator-How-to-create-alien-sounds-using-m\" rel=\"nofollow\">http://www.codeproject.com/Articles/7474/Sound-Generator-How-to-create-alien-sounds-using-m</a></p>\n\n<p>I'm not sure if I'm allowed to cut and paste all the code from the Code Project.  Basically I use the Player class from that project as is, the instance of this class is called m_player in my code.  The Stop member function in that class calls the Stop function of LPDIRECTSOUNDBUFFER:</p>\n\n<pre><code>void Player::Stop()\n{\n    DWORD status;\n    if (m_lpDSBuffer == NULL)\n        return;\n    HRESULT hres = m_lpDSBuffer-&gt;GetStatus(&amp;status);\n    if (FAILED(hres))\n        EXCEP(DirectSoundErr::GetErrDesc(hres), \"Player::Stop GetStatus\");\n    if ((status &amp; DSBSTATUS_PLAYING) == DSBSTATUS_PLAYING)\n    {\n        hres = m_lpDSBuffer-&gt;Stop();\n        if (FAILED(hres))\n            EXCEP(DirectSoundErr::GetErrDesc(hres), \"Player::Stop Stop\");\n    }\n}\n</code></pre>\n\n<p>Here is the notification code (with some supporting code) in my project that fills the sound buffer.  Note that the rend function always returns a double between -1 to 1, m_ev_smps = 441, m_n_evs = 3 and m_ev_sz = 882. subInit is called from OnInitDialog:</p>\n\n<pre><code>#define FD_STEP 0.0005\n#define SC_NOT_PLYD 0\n#define SC_PLYNG 1\n#define SC_FD_OUT 2\n#define SC_FD_IN 3\n#define SC_STPNG 4\n#define SC_STPD 5\n\nbool CMainDlg::subInit()\n// initialises various variables and the sound player\n{\n    Player *pPlayer;\n    SOUNDFORMAT format;\n    std::vector&lt;DWORD&gt; events;\n    int t, buf_sz;\n    try\n    {\n        pPlayer = new Player();\n        pPlayer-&gt;SetHWnd(m_hWnd);\n        m_player = pPlayer;\n        m_player-&gt;Init();\n        format.NbBitsPerSample = 16;\n        format.NbChannels = 1;\n        format.SamplingRate = 44100;    \n        m_ev_smps = 441;\n        m_n_evs = 3;\n        m_smps = new short[m_ev_smps];\n        m_smp_scale = (int)pow(2, format.NbBitsPerSample - 1);\n        m_max_tm = (int)((double)m_ev_smps / (double)(format.SamplingRate * 1000));\n        m_ev_sz = m_ev_smps * format.NbBitsPerSample/8;\n        buf_sz = m_ev_sz * m_n_evs;\n        m_player-&gt;CreateSoundBuffer(format, buf_sz, 0);\n        m_player-&gt;SetSoundEventListener(this);\n        for(t = 0; t &lt; m_n_evs; t++)\n            events.push_back((int)((t + 1)*m_ev_sz - m_ev_sz * 0.95));\n        m_player-&gt;CreateEventReadNotification(events);\n        m_status = SC_NOT_PLYD;\n    }\n    catch(MATExceptions &amp;e)\n    {\n        MessageBox(e.getAllExceptionStr().c_str(), \"Error initializing the     sound player\");\n        EndDialog(IDCANCEL);\n        return FALSE;\n    }\n    return TRUE;\n}\n\nvoid CMainDlg::Stop()\n// stop playing\n{\n    m_player-&gt;Stop();\n    m_status = SC_STPD;\n}\n\nvoid CMainDlg::OnBnClickedStop()\n// causes fade out\n{\n    m_status = SC_FD_OUT;\n}\n\nvoid CMainDlg::OnSoundPlayerNotify(int ev_num)\n// render some sound samples and check for errors\n{\n    ScopeGuardMutex guard(&amp;m_mutex);\n    int s, end, begin, elapsed;\n    if (m_status != SC_STPNG)\n    {\n        begin = GetTickCount();\n        try\n        {\n            for(s = 0; s &lt; m_ev_smps; s++)\n            {\n                m_smps[s] = (int)(m_synth-&gt;rend() * 32768 * m_fade);\n                if (m_status == SC_FD_IN)\n                {\n                    m_fade += FD_STEP;\n                    if (m_fade &gt; 1)\n                    {\n                        m_fade = 1;\n                        m_status = SC_PLYNG;\n                    }\n                }\n                else if (m_status == SC_FD_OUT)\n                {\n                    m_fade -= FD_STEP;\n                    if (m_fade &lt; 0)\n                    {\n                        m_fade = 0;\n                        m_status = SC_STPNG;\n                    }\n                }\n            }\n        }\n        catch(MATExceptions &amp;e)\n        {\n            OutputDebugString(e.getAllExceptionStr().c_str());\n        }\n        try\n        {\n            m_player-&gt;Write(((ev_num + 1) % m_n_evs)*m_ev_sz, (unsigned    char*)m_smps, m_ev_sz);\n        }\n        catch(MATExceptions &amp;e)\n        {\n            OutputDebugString(e.getAllExceptionStr().c_str());\n        }           \n        end = GetTickCount();\n        elapsed = end - begin;\n        if(elapsed &gt; m_max_tm)\n            m_warn_msg.Format(_T(\"Warning! compute time: %dms\"), elapsed);\n        else\n            m_warn_msg.Format(_T(\"compute time: %dms\"), elapsed);\n    }\n    if (m_status == SC_STPNG)\n        Stop();\n}\n</code></pre>\n\n<p>It seems like the buffer is not always sounding out when the stop button is clicked.  I don't have any specific code for waiting for the sound buffer to finish playing before the DirectX Stop is called.  Other than that the sound playback is working just fine, so at least I am initialising the player correctly and notification code is working in that respect.</p>\n"}, {"tags": ["c++", "stack"], "comments": [{"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 6, "creation_date": 1427309516, "post_id": 29264091, "comment_id": 46730156, "body": "What happens if the first character is not an <code>x</code>?"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 6, "creation_date": 1427309547, "post_id": 29264091, "comment_id": 46730178, "body": "Why are you not just using two counters?"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 5, "creation_date": 1427309625, "post_id": 29264091, "comment_id": 46730219, "body": "<code>if (condition) return true; else return false;</code> is horribly redundant. simply use <code>return condition;</code> instead."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 2, "creation_date": 1427309684, "post_id": 29264091, "comment_id": 46730259, "body": "What is <code>Letters[i].push();</code> supposed to do? (in other words, you never show a <code>push</code> onto <code>equal_stack</code>...)"}, {"owner": {"reputation": 3695, "user_id": 4679661, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cfe9e5dd7661323595e25d592172b10?s=128&d=identicon&r=PG&f=1", "display_name": "juhist", "link": "https://stackoverflow.com/users/4679661/juhist"}, "edited": false, "score": 1, "creation_date": 1427309737, "post_id": 29264091, "comment_id": 46730293, "body": "Should it have <code>equal_stack.push(&quot;foo&quot;);</code> instead of <code>Letters[i].push();</code>?"}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427310215, "post_id": 29264091, "comment_id": 46730566, "body": "@5gon12eder I have to use a stack. If I use a counter than a stack would be pointless"}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1427310371, "post_id": 29264091, "comment_id": 46730660, "body": "@BillLynch does that fix my problem?"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427310461, "post_id": 29264091, "comment_id": 46730696, "body": "Your last comment doesn&#39;t make sense for me.  Why do you have to use a stack?  As you say, it&#39;s pointless as the problem can be solved much faster and easier using counters."}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427310500, "post_id": 29264091, "comment_id": 46730716, "body": "@5gon12eder I know but the professor told us we have to use a stack"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427310542, "post_id": 29264091, "comment_id": 46730742, "body": "Alright then.  So maybe add this bit of information to your question."}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427310595, "post_id": 29264091, "comment_id": 46730779, "body": "@5gon12eder it is a just a function to see if there are equal amounts of x&#39;s and y&#39;s"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1427311426, "post_id": 29264091, "comment_id": 46731290, "body": "A stack isn&#39;t really going to do that easily. For example, your code pushes when receiving <code>x</code>, but suppose <code>y</code> comes first, then <code>x</code>. You end up with an ignored <code>y</code> and an <code>x</code> left on the stack, and though the input fulfills the requirements (equal number of each) you&#39;re left with a non-empty stack. <a href=\"http://ideone.com/JWB5bV\" rel=\"nofollow noreferrer\">Personally I&#39;d just <b>do this</b></a>. If your prof said use a stack, then perhaps the requirements of the assignment and additional restrictions of the input data are not being clearly communicated here."}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1427311721, "post_id": 29264091, "comment_id": 46731486, "body": "@WhozCraig I just edited the code. What do you think?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1427311922, "post_id": 29264091, "comment_id": 46731604, "body": "If you&#39;re allowed to scan the string twice, it is certainly doable. However, the second loop upon encountering a <code>y</code> should return <code>false</code> immediately if the stack is already empty, else pop and continue on. And after the loop can simply be consolidated to <code>return a_stack.empty();</code> Still not the way I would do it (see prior comment and link), but it would seem you&#39;re somewhat boxed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1427311957, "post_id": 29264091, "comment_id": 46731616, "body": "When you have more <code>y</code> than <code>x</code> you&#39;ll have a stack underflow. This problem is for counters, not for stacks."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "edited": false, "score": 0, "creation_date": 1427311836, "post_id": 29264810, "comment_id": 46731556, "body": "so how can I use two stacks for a single string?"}, {"owner": {"reputation": 35, "user_id": 4253917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/82bMy.jpg?s=128&g=1", "display_name": "Tim Brauer", "link": "https://stackoverflow.com/users/4253917/tim-brauer"}, "reply_to_user": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "edited": false, "score": 0, "creation_date": 1427312141, "post_id": 29264810, "comment_id": 46731718, "body": "If Letters[i] == &#39;x&#39;, push a value in the x_stack, otherwise push it on the y_stack (assuming only x&#39;s or y&#39;s are in the string)."}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "edited": false, "score": 0, "creation_date": 1427312911, "post_id": 29264810, "comment_id": 46732135, "body": "that is what I am doing but I keep getting an error when I am pushing"}, {"owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "edited": false, "score": 0, "creation_date": 1427312964, "post_id": 29264810, "comment_id": 46732172, "body": "am I using the push function wrong here?  x_stack.push(Letters[i])"}, {"owner": {"reputation": 35, "user_id": 4253917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/82bMy.jpg?s=128&g=1", "display_name": "Tim Brauer", "link": "https://stackoverflow.com/users/4253917/tim-brauer"}, "reply_to_user": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "edited": false, "score": 0, "creation_date": 1427366243, "post_id": 29264810, "comment_id": 46751130, "body": "<code>a_stack.push(Letters[i]);</code> is not the problem.  The problem is <code>a_stack.pop();</code> when the stack is empty.  Iterate through your code when the string is &#39;xyy&#39; or &#39;yx&#39;.  If your code calls `a_stack.pop()&#39; when the stack is empty, it will throw.  If you&#39;re going to use a single stack, only push integers (1 for x, -1 for y), then iterate through the stack and sum the values.  sum == 0 means there are the same quantity of xs and ys.  sum &gt; 0, means there are more xs.  sum &lt; 0 means there are more ys."}], "tags": [], "owner": {"reputation": 35, "user_id": 4253917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/82bMy.jpg?s=128&g=1", "display_name": "Tim Brauer", "link": "https://stackoverflow.com/users/4253917/tim-brauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1427311955, "last_edit_date": 1427311955, "creation_date": 1427311733, "answer_id": 29264810, "question_id": 29264091, "link": "https://stackoverflow.com/questions/29264091/test-for-equal-amount-of-x-and-y-in-string-using-stack/29264810#29264810", "title": "Test for equal amount of x and y in string using stack", "body": "<p>A single stack isn't going to work for the reasons mentioned the way you're using it.  You could use two stacks, one for x's and one for y's, then compare the size.</p>\n\n<p>Or, you could use a single stack and push 1 for x's and -1 for y's.  then sum up the stack.  If they're equal, the sum will be 0.</p>\n"}], "owner": {"reputation": 43, "user_id": 4132824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e910383e26fb1bb5d1a98aa2eeca573?s=128&d=identicon&r=PG&f=1", "display_name": "CSCI_newbie", "link": "https://stackoverflow.com/users/4132824/csci-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 29264810, "answer_count": 1, "score": -1, "last_activity_date": 1427311955, "creation_date": 1427309415, "last_edit_date": 1427311800, "question_id": 29264091, "link": "https://stackoverflow.com/questions/29264091/test-for-equal-amount-of-x-and-y-in-string-using-stack", "title": "Test for equal amount of x and y in string using stack", "body": "<p>I am working on a function which tests to see if there are the same amount of x's and y's in the string. I was hoping someone can give me insight on how to fix this function.\nI am assuming that the string only contains x's and y's.\nI thought this code looked right but when I traced it with the letters in different orders is didn't work</p>\n\n<p>Here is my code:</p>\n\n<pre><code>bbool equal(string Letters){\nstack&lt;string&gt;a_stack;\nfor(int i=0; i&lt;Letters.length(); i++){\n    if(s[i]=='x')\n        a_stack.push(Letters[i]);\n}\nfor(int j=0; j&lt;Letters.length(); j++){\n    if(s[j]=='y')\n        a_stack.pop();\n}\nif(a_stack.empty())\n    return true;\nelse\n    return false;\n</code></pre>\n\n<p>}</p>\n\n<p>This is for a homework assignment and I'm required to use a stack.</p>\n"}, {"tags": ["c++", "c++11", "variadic-templates", "stdtuple"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1427309217, "post_id": 29263963, "comment_id": 46729947, "body": "MCVE as usual please! How are you actually instantiating the template function?"}, {"owner": {"reputation": 16607, "user_id": 267482, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd69625825bed998b63fef68a23592aa?s=128&d=identicon&r=PG", "display_name": "bobah", "link": "https://stackoverflow.com/users/267482/bobah"}, "edited": false, "score": 1, "creation_date": 1427309815, "post_id": 29263963, "comment_id": 46730350, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/6245735/pretty-print-stdtuple\">Pretty-print std::tuple</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427309846, "post_id": 29263963, "comment_id": 46730366, "body": "Most of the code unpacking tuples by position I&#39;ve seen, goes from <code>sizeof...(Tlist)</code> downwards to <code>0</code>, not the other way round."}], "answers": [{"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1427310548, "last_edit_date": 1427310548, "creation_date": 1427309822, "answer_id": 29264209, "question_id": 29263963, "link": "https://stackoverflow.com/questions/29263963/template-looping-through-tuple/29264209#29264209", "title": "template looping through tuple", "body": "<p>You have to use specialization or SFINAE as the branch even if it is not taken generates the instantiation:</p>\n\n<pre><code>template&lt;int I, typename ... Tlist&gt;\nvoid print(ostream&amp; s, tuple&lt;Tlist...&gt;&amp; t)\n{\n    s &lt;&lt; get&lt;I&gt;(t) &lt;&lt; \", \";\n    if(I &lt; sizeof...(Tlist)){\n        print&lt;I+1&gt;(s,t); // Generated even if I &gt;= sizeof...(Tlist)\n    }\n}\n</code></pre>\n\n<p>And so you would have infinite instantiation of <code>print</code> if <code>get&lt;sizeof...(Tlist)&gt;</code> doesn't produce an error sooner.</p>\n\n<p>You may wrote it without recursion with:</p>\n\n<pre><code>template&lt;std::size_t ... Is, typename Tuple&gt;\nvoid print_helper(std::ostream&amp; s, const Tuple&amp; t, std::index_sequence&lt;Is...&gt;)\n{\n    int dummy[] = { 0, ((s &lt;&lt; std::get&lt;Is&gt;(t) &lt;&lt; \", \"), 0)...};\n    (void) dummy; // remove warning for unused var\n}\n\n\ntemplate&lt;typename Tuple&gt;\nvoid print(std::ostream&amp; s, const Tuple&amp; t)\n{\n    print_helper(s, t, std::make_index_sequence&lt;std::tuple_size&lt;Tuple&gt;::value&gt;());\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/KPFVrb\" rel=\"nofollow\">Live example</a></p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1427309985, "creation_date": 1427309985, "answer_id": 29264257, "question_id": 29263963, "link": "https://stackoverflow.com/questions/29263963/template-looping-through-tuple/29264257#29264257", "title": "template looping through tuple", "body": "<p>Code in an <code>if (blah) {</code> block <code>}</code> is compiled and must be valid even if the condition <code>blah</code> is false.</p>\n\n<pre><code>template&lt;bool b&gt;\nusing bool_t = std::integral_constant&lt;bool, b&gt;;\n\ntemplate&lt;int I, typename ... Tlist&gt;\nvoid print(std::ostream&amp; s, std::tuple&lt;Tlist...&gt; const&amp; t, std::false_type) {\n  // no more printing\n}\n\ntemplate&lt;int I, typename ... Tlist&gt;\nvoid print(std::ostream&amp; s, std::tuple&lt;Tlist...&gt; const&amp; t, std::true_type) {\n  s &lt;&lt; std::get&lt;I&gt;(t) &lt;&lt; \", \";\n  print&lt;I+1&gt;(s, t, bool_t&lt;((I+1) &lt; sizeof...(Tlist))&gt;{});\n}\ntemplate&lt;typename ... Tlist&gt;\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, std::tuple&lt;Tlist...&gt; const&amp; t)\n{\n  print&lt;0&gt;(s,t, bool_t&lt;(0 &lt; sizeof...(Tlist))&gt;{});\n  return s;\n}\n</code></pre>\n\n<p>should work.  Here we use tag dispatching to control which overload we recursively call: the 3rd argument is <code>true_type</code> if <code>I</code> is a valid index for the tuple, and <code>false_type</code> if not.  We do this instead of an <code>if</code> statement.  We always recurse, but when we reach the end of the tuple, we recurse into the terminating overload.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/a6dac8e9ad2cb242\" rel=\"nofollow\">live example</a></p>\n\n<p>As an aside, it is ambiguous if overloading <code>&lt;&lt;</code> for two types defined in <code>std</code> is compliant with the standard: it depends if <code>std::tuple&lt;int&gt;</code> is a \"user defined type\" or not, a clause that the standard does not define.</p>\n\n<p>On top of that, it is considered best practice to overload operators for a type within the namespace of that type, so it can be found via ADL.  But, overloading <code>&lt;&lt;</code> inside <code>std</code> is illegal under the standard (you cannot inject new overloads into <code>std</code>).  The result can be somewhat surprising behavior in some cases, where the wrong overload is found, or an overload is not found.</p>\n"}], "owner": {"reputation": 1322, "user_id": 2503810, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ac47f68e5115cb337f12753cb6c0f0ec?s=128&d=identicon&r=PG", "display_name": "hynner", "link": "https://stackoverflow.com/users/2503810/hynner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 29264257, "answer_count": 2, "score": -1, "last_activity_date": 1427310548, "creation_date": 1427309051, "last_edit_date": 1427309467, "question_id": 29263963, "link": "https://stackoverflow.com/questions/29263963/template-looping-through-tuple", "title": "template looping through tuple", "body": "<p>I'm playing with variadic templates and I'm currently trying to implement <code>operator&lt;&lt;</code> for tuple.</p>\n\n<p>I've tried the following code but it doesn't compile (GCC 4.9 with -std=c++11).</p>\n\n<pre><code>template&lt;int I, typename ... Tlist&gt;\nvoid print(ostream&amp; s, tuple&lt;Tlist...&gt;&amp; t)\n{\n    s &lt;&lt; get&lt;I&gt;(t) &lt;&lt; \", \";\n    if(I &lt; sizeof...(Tlist)){\n        print&lt;I+1&gt;(s,t);\n    }\n}\ntemplate&lt;typename ... Tlist&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; s, tuple&lt;Tlist...&gt; t)\n{\n    print&lt;0&gt;(s,t);\n    return s;\n}\n</code></pre>\n\n<p>The error message is very cryptic and long, but it basically says that there is no matching function call for get. Can someone explain to me why?\nThanks.</p>\n\n<p>EDIT:\nHere is the template instantiation I'm using</p>\n\n<pre><code>auto t = make_tuple(5,6,true,\"aaa\");\ncout &lt;&lt; t &lt;&lt; endl;\n</code></pre>\n"}, {"tags": ["c++", "templates", "pointers", "c++11", "typename"], "answers": [{"tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": true, "score": 5, "last_activity_date": 1427309230, "creation_date": 1427309230, "answer_id": 29264021, "question_id": 29263946, "link": "https://stackoverflow.com/questions/29263946/getting-a-typename-given-the-typename-of-a-pointer-to-it-in-c/29264021#29264021", "title": "Getting a typename given the typename of a pointer to it in C++", "body": "<p>With <a href=\"http://en.cppreference.com/w/cpp/types/remove_pointer\" rel=\"noreferrer\"><code>std::remove_pointer</code></a>:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\nusing Q = typename std::remove_pointer&lt;T&gt;::type;\n</code></pre>\n"}], "owner": {"reputation": 4617, "user_id": 575085, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/uUyWV.jpg?s=128&g=1", "display_name": "ButterDog", "link": "https://stackoverflow.com/users/575085/butterdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 29264021, "answer_count": 1, "score": 0, "last_activity_date": 1427309315, "creation_date": 1427309005, "last_edit_date": 1427309315, "question_id": 29263946, "link": "https://stackoverflow.com/questions/29263946/getting-a-typename-given-the-typename-of-a-pointer-to-it-in-c", "title": "Getting a typename given the typename of a pointer to it in C++", "body": "<p>Consider the following code:</p>\n\n<pre><code>class c {\n  //...\n};\n\ntemplate &lt;typename T&gt;\nvoid f(T k)\n{\n    auto item = new T;\n    //...\n}\n</code></pre>\n\n<p>We declare a class <code>c</code> and a template function <code>f</code> that creates a new object type <code>T</code>.</p>\n\n<p>I want to change this function <code>f</code> so the template parameter can be a <strong>pointer type</strong>, it will be used as follows:</p>\n\n<pre><code>auto ptr = new c;\nf&lt;c*&gt;(ptr);\n</code></pre>\n\n<p>Now, the problem comes when I try to create a new item <code>auto item = new T;</code>, because now <code>T</code> is now the typename of a <em>pointer to <code>c</code></em>. </p>\n\n<p>I know <code>T</code> will always be a pointer to something, <strong>how can I get the typename  being pointed to by <code>T</code>?</strong> I want to do something like:</p>\n\n<pre><code>template &lt;typename T&gt;\nvoid f(T k)\n{\n    // If T = int* -&gt; Q = int\n    typename ??????? Q;    // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    auto item = new Q;\n    //...\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "matrix", "exc-bad-access"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1427307475, "post_id": 29263400, "comment_id": 46728837, "body": "That <i>you</i> can&#39;t debug it, doesn&#39;t mean your program can&#39;t be debugged. But SO isn&#39;t an online debugging service unfortunately."}, {"owner": {"reputation": 41, "user_id": 4596736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e12bcb2a155b02c6d77006661418bdeb?s=128&d=identicon&r=PG&f=1", "display_name": "CgtyKy", "link": "https://stackoverflow.com/users/4596736/cgtyky"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427307551, "post_id": 29263400, "comment_id": 46728882, "body": "I am not here for debuging service. I asked so maybe some can tell me where I do wrong. What I am missing. After that maybe I can debug it."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1427307615, "post_id": 29263400, "comment_id": 46728915, "body": "Sorry, no. You debug first, and ask afterwards. What&#39;s actually hindering you stepping through your code line by line?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 3, "creation_date": 1427307639, "post_id": 29263400, "comment_id": 46728930, "body": "Perhaps ask yourself what does the <code>T*</code> you&#39;ve allocated in your copy-constructor with <code>data=new T*;</code> actually <i>point-to</i> ? Or maybe the <i>local variable</i> declaration of <code>data</code> in the regular constructor that supersedes the member variable <code>data</code> that you likely want to properly initialier should be looked at. As it stands now <code>Matrix&lt;T&gt;::Matrix(int _rows, int _cols)</code> is both a memory-leak factory and leaves the <i>member</i> <code>data</code> uninitialized."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1427308367, "post_id": 29263400, "comment_id": 46729402, "body": "Try to learn about debugging first then. Step trough a hello world program. With a suitable IDE this is pretty simple, but when you build at the command line you need to include the proper options for debugging info (especially for g++/gdb)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427309117, "post_id": 29263400, "comment_id": 46729889, "body": "You&#39;ve got to be joking? This code is far too long. You obviously <i>are</i> asking us to debug it for you so it&#39;s strange that you claim otherwise!"}, {"owner": {"reputation": 41, "user_id": 4596736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e12bcb2a155b02c6d77006661418bdeb?s=128&d=identicon&r=PG&f=1", "display_name": "CgtyKy", "link": "https://stackoverflow.com/users/4596736/cgtyky"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1427310091, "post_id": 29263400, "comment_id": 46730503, "body": "All I was asking where to look and it&#39;s answered by @WhozCraig .Thanks. For those who blame me for using stack overflow as a debugging facility it&#39;s your point of view, I respect that. But that wasn&#39;t my angle on this topic. I am not a programmer (yet) and I am trying to learn. I can&#39;t get my out of this error and asked. Like you done far long ago..."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1427310905, "post_id": 29263400, "comment_id": 46730964, "body": "@CgtyKy You have a lot of issues with the code.  One being that your copy constructor is totally broken.  What you should do is take all of that code in your assignment operator and move it to your copy constructor.  Then implement the assignment operator in terms of the copy constructor."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1427311397, "post_id": 29263400, "comment_id": 46731271, "body": "@CgtyKy BTW, you <i>must</i> fix your copy constructor, else your class is  useless.  Without a working copy constructor, your overloaded <code>+</code>,<code>-</code>, and other operators that return a <code>Matrix&lt;T&gt;</code> object will not work."}, {"owner": {"reputation": 41, "user_id": 4596736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e12bcb2a155b02c6d77006661418bdeb?s=128&d=identicon&r=PG&f=1", "display_name": "CgtyKy", "link": "https://stackoverflow.com/users/4596736/cgtyky"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1427317366, "post_id": 29263400, "comment_id": 46734623, "body": "@PaulMcKenzie thanks. I am working on it. As a beginner I am truly grateful for you help."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1427308400, "creation_date": 1427308400, "answer_id": 29263745, "question_id": 29263400, "link": "https://stackoverflow.com/questions/29263400/c-code-gives-exc-bad-access/29263745#29263745", "title": "C++ code gives EXC_BAD_ACCESS.", "body": "<p>I see too many errors in your code related to handling of dynamic memory allocation for <code>data</code>. Most of them can be fixed/easily remedied by using <code>std::vector</code> for the private data.</p>\n\n<p>Instead of:</p>\n\n<pre><code>T** data; // matrix elements stored here\nint rows; // number of rows\nint cols; // number of columns\n</code></pre>\n\n<p>use:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;T&gt;&gt; data;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4596736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e12bcb2a155b02c6d77006661418bdeb?s=128&d=identicon&r=PG&f=1", "display_name": "CgtyKy", "link": "https://stackoverflow.com/users/4596736/cgtyky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 29263745, "answer_count": 1, "score": -3, "last_activity_date": 1427308400, "creation_date": 1427307366, "last_edit_date": 1427307574, "question_id": 29263400, "link": "https://stackoverflow.com/questions/29263400/c-code-gives-exc-bad-access", "title": "C++ code gives EXC_BAD_ACCESS.", "body": "<p>As you can see it's a simple Matrix template.   </p>\n\n<p>When I try to run with a basic main function I get a error says \"EXC_BAD_ACCESS\". I looked to error and read a few things about it but yet I can't find my problem in here. I am pretty newbie and this was my assignment. I missed due date but I want to learn what I am missing... </p>\n\n<pre><code> template &lt;class T&gt;\n    class Matrix\n    {\n    private:\n        T** data; // matrix elements stored here\n        int rows; // number of rows\n        int cols; // number of columns\n    public:\n        Matrix(int numRows = 0, int numCols = 0); // makes storage allocation but leaves it uninitialized, for 0,0 dont allocate memory\n        Matrix(T const* const* inputData, int numRows, int numCols);\n        Matrix(const Matrix&amp; rhs);\n       ~Matrix();\n\n    Matrix&amp; operator=(const Matrix&amp; rhs);\n\n\n    Matrix operator+(const Matrix&amp; rhs) const; // element-wise addition of two matrices\n    Matrix operator-(const Matrix&amp; rhs) const; // element-wise subtraction of two matrices\n    Matrix operator*(const Matrix&amp; rhs) const; // multiplication of two matrices, dot product\n\n\n    T operator()(int r, int c) const; // returns the element value at row r and column c\n    T&amp; operator()(int r, int c); // returns reference of the element value at row r and column c\n\n     int getRows() const; // returns the number of rows\n     int getCols() const; // returns the number of columns\n\n    void print() const; // prints the matrix with each column element separated by a tab and each row element in a new line print a newline after the last row\n};\n\n\n\n\n\n#include &lt;iostream&gt;\n\n\n//parameter constructor\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt;::Matrix(int _rows, int _cols) {\n\n\n    rows = _rows;\n    cols = _cols;\n    T** data;\n    data=new T *[_rows];\n    for (int i=0; i&lt; _rows; i++) {\n        data[i]=new T [_cols];\n    }\n\n}\n\n\n\n//copy constructor\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt;::Matrix(const Matrix&lt;T&gt;&amp; rhs) {\n\n    data=new T*;\n    rows = rhs.getRows();\n    cols = rhs.getCols();\n\n}\n\n//destructor\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt;::~Matrix() {}\n\n//assignment operator\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt;&amp; Matrix&lt;T&gt;::operator=(const Matrix&lt;T&gt;&amp; rhs) {\n    if (&amp;rhs == this)\n        return *this;\n\n    int new_rows = rhs.getRows();\n    int new_cols = rhs.getCols();\n\n    data=new T *(new_rows);\n    for (int i=0; i&lt;rhs.size(); i++) {\n        data[i].resize(new_cols);\n    }\n\n    for (int i=0; i&lt;new_rows; i++) {\n        for (int j=0; j&lt;new_cols; j++) {\n            data[i][j] = rhs(i, j);\n        }\n    }\n    rows = new_rows;\n    cols = new_cols;\n\n    return *this;\n\n}\n\n//matematical operands\n//1. addition\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt; Matrix&lt;T&gt;::operator+(const Matrix&amp; rhs) const {\n\n    Matrix&lt;T&gt; result(*this);\n    for (int i=0; i&lt;rows; i++) {\n        for (int j=0; j&lt;cols; j++) {\n            result(i,j) = this-&gt;data[i][j] + rhs(i,j);\n        }\n    }\n\n    return result;\n}\n\n//2.subtraction\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt; Matrix&lt;T&gt;::operator-(const Matrix&amp; rhs) const {\n    Matrix result(rows, cols);\n\n    for (int i=0; i&lt;rows; i++) {\n        for (int j=0; j&lt;cols; j++) {\n            result(i,j) = this-&gt;data[i][j] - rhs(i,j);\n        }\n    }\n\n    return result;\n}\n\n//3.multiplication\n\ntemplate&lt;typename T&gt;\nMatrix&lt;T&gt; Matrix&lt;T&gt;::operator*(const Matrix&amp; rhs) const {\n    int rows = rhs.getRows();\n    int cols = rhs.getCols();\n    Matrix result(rows, cols);\n\n    for (int i=0; i&lt;rows; i++) {\n        for (int j=0; j&lt;cols; j++) {\n            for (int k=0; k&lt;rows; k++) {\n                result(i,j) = this-&gt;data[i][k] * rhs(k,j);\n            }\n        }\n    }\n\n    return result;\n}\n\n//access the elements\n\ntemplate&lt;typename T&gt;\nT Matrix&lt;T&gt;::operator()(int r, int c) const{\n    return this-&gt;data[r][c];\n}\n\n//returns the reference value of element\n\ntemplate&lt;typename T&gt;\nT&amp; Matrix&lt;T&gt;::operator()(int r, int c){\n    return this-&gt;data[r][c];\n}\n\n//number of rows\ntemplate&lt;typename T&gt;\nint Matrix&lt;T&gt;::getRows() const {\n    return this-&gt;rows;\n}\n\n//number of cols\ntemplate&lt;typename T&gt;\nint Matrix&lt;T&gt;::getCols() const{\n    return this-&gt;cols;\n}\n\n//printing\ntemplate &lt;typename T&gt;\nvoid Matrix&lt;T&gt;::print() const{\n    for (int i=0; i&lt;rows; i++) {\n        for (int j=0; j&lt;cols; j++) {\n            std::cout&lt;&lt;this-&gt;data[i][j]&lt;&lt;\"/t\";\n            std::cout&lt;&lt;std::endl;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "macos", "atlas"], "answers": [{"tags": [], "owner": {"reputation": 6559, "user_id": 563762, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/gX5sG.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/563762/rob"}, "is_accepted": false, "score": 4, "last_activity_date": 1427307618, "creation_date": 1427307618, "answer_id": 29263489, "question_id": 29263335, "link": "https://stackoverflow.com/questions/29263335/installing-atlas-on-osx/29263489#29263489", "title": "Installing ATLAS on OSX", "body": "<p>Figured it out! So stupid, I put an extra space after \"--prefix=\". Haha</p>\n"}], "owner": {"reputation": 6559, "user_id": 563762, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/gX5sG.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/563762/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4946, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1427307618, "creation_date": 1427307144, "last_edit_date": 1427307482, "question_id": 29263335, "link": "https://stackoverflow.com/questions/29263335/installing-atlas-on-osx", "title": "Installing ATLAS on OSX", "body": "<p>I'm trying to install ATLAS on OSX but can't seem to figure out what is going wrong. Any ideas?</p>\n\n<p>Here's the ATLAS install page:\n<a href=\"http://math-atlas.sourceforge.net/atlas_install/node6.html\" rel=\"nofollow\">http://math-atlas.sourceforge.net/atlas_install/node6.html</a></p>\n\n<p>Here is what I type into Terminal:</p>\n\n<pre><code>../configure -b 64 -D c -DPentiumCPS=2400 --prefix= /Users/robertgrzesik/atlaslib --with-netlib-lapack-tarfile=/Users/robertgrzesik/Downloads/lapack-3.5.0.tgz\n</code></pre>\n\n<p>But it throws this error:</p>\n\n<pre><code>    gcc -I/Users/robertgrzesik/ATLAS/osxinstall/..//CONFIG/include  -g -w -c /Users/robertgrzesik/ATLAS/osxinstall/..//CONFIG/src/atlconf_misc.c\ngcc -I/Users/robertgrzesik/ATLAS/osxinstall/..//CONFIG/include  -g -w -o xconfig /Users/robertgrzesik/ATLAS/osxinstall/..//CONFIG/src/config.c atlconf_misc.o \n./xconfig -d s /Users/robertgrzesik/ATLAS/osxinstall/../ -d b /Users/robertgrzesik/ATLAS/osxinstall  -b 64 -D c -DPentiumCPS=2400 /Users/robertgrzesik/atlaslib -Si lapackref 1\n\nERROR around arg 12 (/Users/robertgrzesik/atlaslib).\nUSAGE: ./xconfig [flags] where flags are:\n   -v &lt;verb&gt; : verbosity level\n   -O &lt;enum OSTYPE #&gt;  : set OS type\n   -s &lt;enum ASMDIA #&gt;  : set assembly dialect\n   -A &lt;enum MACHTYPE #&gt; : set machine/architecture\n   -V #    # = ((1&lt;&lt;vecISA1) | (1&lt;&lt;vecISA2) | ... | (1&lt;&lt;vecISAN))\n   -b &lt;32/64&gt; : set pointer bitwidth\n   -o &lt;outfile&gt;\n   -C [xc,ic,if,sk,dk,sm,dm,al,ac] &lt;compiler&gt;\n   -F [xc,ic,if,sk,dk,sm,dm,al,ac,gc] '&lt;comp flags&gt;'\n   -Fa [xc,ic,if,sk,dk,sm,dm,al,ac,gc] '&lt;comp flags to append&gt;'\n        al: append flags to all compilers\n        ac: append flags to all C compilers\n        gc: append flags to gcc compiler used in user-contributed index files.\n        acg: append to all C compilers &amp; the index gcc\n        alg: append to all compilers &amp; the index gcc\n   -T &lt;targ&gt; : ssh target for cross-compilation (probably broken)\n   -D [c,f] -D&lt;mac&gt;=&lt;rep&gt; : cpp #define to add to [CDEFS,F2CDEFS]\n      eg. -D c -DL2SIZE=8388604 -D f -DADD__ -D f -DStringSunStyle\n   -d [s,b]  : set source/build directory\n   -f &lt;#&gt; : size (in KB) to flush before timing\n   -t &lt;#&gt; : set # of threads (-1: autodect; 0: no threading)\n   -m &lt;mhz&gt; : set clock rate\n   -S[i/s] &lt;handle&gt; &lt;val&gt;  : special int/string arg\n      -Si bozol1 &lt;0/1&gt; : supress/enable bozo L1 defaults\n      -Si archdef &lt;1/0&gt; : enable/supress arch default use\n      -Si ieee &lt;1/0&gt; : dis/allow optimizations that break IEEE FP standard\n          (eg., NEON, 3DNow!)\n      -Si latune &lt;1/0&gt; : do/don't tune F77 LAPACK routines\n      -Si nof77 &lt;0/1&gt; : Have/don't have fortran compiler\n      -Si nocygwin &lt;0/1&gt; : Do/don't depend on GPL cygwin library\n                           (Windows compiler/cygwin install only)\n   -tl &lt;#&gt; &lt;list&gt; : set # of threads, use list of affinity IDs\n      -Si omp &lt;0/1&gt; : don'tuse/use OpenMP for threading\n      -Si antthr &lt;0/1/2&gt; : nobuild/build/use Antoine's code for threading\n      -Si lapackref &lt;0/1&gt;: Netlib lapack is not/is unpacked\n                           to $BLDdir/src/lapack/ref\n      -Ss kern &lt;path/to/comp&gt; : use comp for all kernel compilers\n      -Ss ADdir &lt;path/to/archdefs&gt; : Get archdefs frm custom path\n      -Ss pmake &lt;parallel make invocation (eg '$(MAKE) -j 4')&gt;\n      -Ss f77lib &lt;path to f77 lib needed by C compiler&gt;\n      -Ss flapack &lt;path to netlib lapack&gt;: used to build full lapack lib\n      -Ss [s,d]maflags 'flags'\nNOTE: enum #s can be found by : make xprint_enums ; ./xprint_enums\nxconfig exited with 12\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "edited": false, "score": 6, "creation_date": 1427307249, "post_id": 29263333, "comment_id": 46728712, "body": "Or check the generated assembly code to be sure."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 2, "creation_date": 1427307393, "post_id": 29263333, "comment_id": 46728797, "body": "If there are possible aliases or if <code>a</code> or <code>x</code> are global and you call function which may modify <code>a</code> or <code>x</code>, the optimization is not possible."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1427307909, "post_id": 29263333, "comment_id": 46729114, "body": "Are <code>a</code> and <code>x</code> constants?"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427308009, "post_id": 29263333, "comment_id": 46729191, "body": "The only way to be sure is to store it in a local variable. In certain cases, it can be optimized."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427309135, "post_id": 29263333, "comment_id": 46729899, "body": "@remyabel: Not everybody speaks Assembly."}], "answers": [{"comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 4, "creation_date": 1427308035, "post_id": 29263444, "comment_id": 46729202, "body": "Good advice, but it doesn&#39;t answer the question."}, {"owner": {"reputation": 13415, "user_id": 102, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f20eaa6bccefd48c6ca5aff0badffdce?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/102/bill"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427311521, "post_id": 29263444, "comment_id": 46731357, "body": "Good point! The answer would be &quot;no, you can&#39;t do that because your co-workers will bludgeon you with office supplies.&quot;  More seriously, any sane coding standards document will encourage well-named variables for this situation. Willingly and repeatedly violating company documents is good way to get fired."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427313225, "post_id": 29263444, "comment_id": 46732310, "body": "You should emphasize that you changed the assignment to a <code>const</code> variable.  The OP doesn&#39;t use <code>const</code> in the example."}, {"owner": {"reputation": 2952, "user_id": 3200088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WlD9X.jpg?s=128&g=1", "display_name": "Gio", "link": "https://stackoverflow.com/users/3200088/gio"}, "edited": false, "score": 0, "creation_date": 1427320417, "post_id": 29263444, "comment_id": 46736133, "body": "I agree with this and I think it&#39;s good that this is pointed out. However I have situations where I simply want to limit the lines of code, and also I&#39;m trying to understand how to write optimized code so that&#39;s why I&#39;ve asked the question. I gave a point for this answer because it provides usefull info, however I did not choose this is as the accepted answer because it doesn&#39;t answer the actual question."}], "tags": [], "owner": {"reputation": 13415, "user_id": 102, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f20eaa6bccefd48c6ca5aff0badffdce?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/102/bill"}, "is_accepted": false, "score": 8, "last_activity_date": 1427307478, "creation_date": 1427307478, "answer_id": 29263444, "question_id": 29263333, "link": "https://stackoverflow.com/questions/29263333/calculations-inside-the-for-statement/29263444#29263444", "title": "Calculations inside the `for (...)` statement", "body": "<p>The most important part of <code>int s = a / x</code> is the variable name. It gives your syntax semantics, and lets you remember 12 months later why you were dividing one thing by another. You can't name the expression in the <code>for</code> statement, so you lose that self-documenting nature.</p>\n\n<pre><code>const auto monthlyAmount = (int)yearlyAmount / numberOfMonths;\nfor (auto i = 0; i &lt; monthlyAmount; ++i)\n    // do something\n</code></pre>\n\n<p>In this way, extracting the variable isn't for a compiler optimization, it's a human maintainability optimization.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "is_accepted": false, "score": 0, "last_activity_date": 1427308207, "creation_date": 1427308207, "answer_id": 29263689, "question_id": 29263333, "link": "https://stackoverflow.com/questions/29263333/calculations-inside-the-for-statement/29263689#29263689", "title": "Calculations inside the `for (...)` statement", "body": "<p>The concern for optimization probably stems from the fact that the condition is evaluated before each iteration. If this is a potentially expensive operation and you don't need to do it over and over again, you can extract it out of the loop:</p>\n\n<pre><code>const std::size_t size = s.size(); // just an example\nfor (std::size_t i = 0; i &lt; size; ++i)\n{\n}\n</code></pre>\n\n<p>For inexpensive operations this is probably a premature optimization and the compiler might generate the same code. The only way to be sure is to check the generated assembly code.</p>\n"}, {"tags": [], "owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "is_accepted": true, "score": 3, "last_activity_date": 1427308529, "creation_date": 1427308529, "answer_id": 29263792, "question_id": 29263333, "link": "https://stackoverflow.com/questions/29263333/calculations-inside-the-for-statement/29263792#29263792", "title": "Calculations inside the `for (...)` statement", "body": "<p>If the compiler can be sure that the variables used in the expression in the middle of your for loop will not change between iterations, it can optimize the calculation to be performed once at the beginning of the loop, instead of every iteration.</p>\n\n<p>However, consider that the variables used are global variables, or references to variables external to the function, and in your for loop you call a function. The function could change these variables. If the compiler is able to see enough of the code at that point, it could find out if this is the case to decide whether to optimize. However, compilers are only willing to look so far (otherwise things would take even longer to compile), so in general you cannot assume the optimization is performed.</p>\n"}, {"tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": false, "score": 0, "last_activity_date": 1427314385, "creation_date": 1427314385, "answer_id": 29265622, "question_id": 29263333, "link": "https://stackoverflow.com/questions/29263333/calculations-inside-the-for-statement/29265622#29265622", "title": "Calculations inside the `for (...)` statement", "body": "<p>The problem with such Questions is that they cannot be generalized. What optimizations the Compiler will perform and what not can only be determined by a case by case analysis.\nI'd certainly expect the compiler to do this if one of the following holds true:</p>\n\n<p>1) Both, A and B are local variables, whose addresses are never taken.</p>\n\n<p>2) The code in the loop is completely inlined.</p>\n\n<p>In practice the last requirement isn't as hard as it looks, because if the functions in the body cannot be inlined, their runtime will likely dwarf the time to re-compute the bound anyway</p>\n"}], "owner": {"reputation": 2952, "user_id": 3200088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WlD9X.jpg?s=128&g=1", "display_name": "Gio", "link": "https://stackoverflow.com/users/3200088/gio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29263792, "answer_count": 4, "score": 0, "last_activity_date": 1427314385, "creation_date": 1427307137, "question_id": 29263333, "link": "https://stackoverflow.com/questions/29263333/calculations-inside-the-for-statement", "title": "Calculations inside the `for (...)` statement", "body": "<p>A lot of times I see code like:</p>\n\n<pre><code>int s = a / x;\nfor (int i = 0; i &lt; s; i++)\n    // do something\n</code></pre>\n\n<p>If inside the for loop, neither <code>a</code> nor <code>x</code> is modified, can I then simply write:</p>\n\n<pre><code>for (int i = 0; i &lt; a / x; i++)\n    // do something\n</code></pre>\n\n<p>and then assume that the compiler optimizes <code>a/x</code>, i.e replaces it with a constant?</p>\n"}, {"tags": ["c++", "c", "macos", "gcc"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 4, "creation_date": 1427309216, "post_id": 29263321, "comment_id": 46729944, "body": "if on OS X, why don&#39;t you use <code>clang</code>?"}, {"owner": {"reputation": 2815, "user_id": 4350586, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/IvPNx.png?s=128&g=1", "display_name": "Dmitry Grigoryev", "link": "https://stackoverflow.com/users/4350586/dmitry-grigoryev"}, "edited": false, "score": 0, "creation_date": 1427326536, "post_id": 29263321, "comment_id": 46738435, "body": "the output of <code>gcc -v</code> might help, but I&#39;m afraid you will get segfault with this command as well"}], "answers": [{"comments": [{"owner": {"reputation": 884, "user_id": 3320620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/170b760e0147792d0140e59ec78e9893?s=128&d=identicon&r=PG", "display_name": "eitanlees", "link": "https://stackoverflow.com/users/3320620/eitanlees"}, "edited": false, "score": 0, "creation_date": 1427342584, "post_id": 29263493, "comment_id": 46742439, "body": "I used the PATH manipulation they suggested and it seems to have fixed my problem. export PATH=&quot;/Applications/Xcode.app/Contents/Developer/Toolchains/&zwnj;&#8203;XcodeDefault.xctoolc&zwnj;&#8203;hain/usr/bin:/Applic&zwnj;&#8203;ations/Xcode.app/Con&zwnj;&#8203;tents/Developer/usr/&zwnj;&#8203;bin:$PATH&quot;"}], "tags": [], "owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "is_accepted": true, "score": 2, "last_activity_date": 1427309093, "last_edit_date": 1495540706, "creation_date": 1427307633, "answer_id": 29263493, "question_id": 29263321, "link": "https://stackoverflow.com/questions/29263321/gcc-segmentation-fault-mac/29263493#29263493", "title": "GCC Segmentation Fault Mac", "body": "<p>It seems that gcc and g++ have to be installed/added to the MAC os.</p>\n\n<p>From your description, I would expect that the wrong version of those tools was installed.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9353444/\">This answer</a> should help.</p>\n\n<p>Be sure to read all the answers to the question before proceeding with a gcc installation. </p>\n"}, {"tags": [], "owner": {"reputation": 3895, "user_id": 446464, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3da4ed7ea16825fead6120d70dc7da43?s=128&d=identicon&r=PG", "display_name": "JESii", "link": "https://stackoverflow.com/users/446464/jesii"}, "is_accepted": false, "score": -1, "last_activity_date": 1441571980, "last_edit_date": 1441571980, "creation_date": 1441560713, "answer_id": 32426334, "question_id": 29263321, "link": "https://stackoverflow.com/questions/29263321/gcc-segmentation-fault-mac/32426334#32426334", "title": "GCC Segmentation Fault Mac", "body": "<p>I had a similar problem where even <code>gcc --version</code>was giving me a \"Segmentation fault: 11\". This is on OSX 10.10.5 with XCode 6.4. After much googling and no solution, I found that clang (Apple's LLVM-based C compiler) is intended to be a compatible replacement for gcc, so I just sym-linked gcc to clang as follows:</p>\n\n<pre><code>whence gcc #=&gt; /usr/local/bin/gcc\nwhence clang #=&gt; /usr/bin/clang\ncd /usr/local/bin\nsudo mv gcc gcc_OLD\nsudo ln -s /usr/bin/clang /usr/local/bin/gcc\ngcc -v\nApple LLVM version 6.1.0 (clang-602.0.53) (based on LLVM 3.6.0svn)\nTarget: x86_64-apple-darwin14.5.0\nThread model: posix\n</code></pre>\n\n<p>Now I am able to successfully compile c-language stuff, like my ruby extensions.</p>\n"}], "owner": {"reputation": 884, "user_id": 3320620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/170b760e0147792d0140e59ec78e9893?s=128&d=identicon&r=PG", "display_name": "eitanlees", "link": "https://stackoverflow.com/users/3320620/eitanlees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5189, "favorite_count": 0, "accepted_answer_id": 29263493, "answer_count": 2, "score": 0, "last_activity_date": 1441571980, "creation_date": 1427307098, "question_id": 29263321, "link": "https://stackoverflow.com/questions/29263321/gcc-segmentation-fault-mac", "title": "GCC Segmentation Fault Mac", "body": "<p>I have been having some trouble getting my gcc and g++ compiler to work on my\nmac (OSX Yosemite 10.10.2).</p>\n\n<p>I have written up a simple \"Hello World\" program and even these seem to not\nwork. The two program that I tried to run are </p>\n\n<p><strong>hello.c</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    printf(\"Hello world\\n\");\n    return 0;\n}\n</code></pre>\n\n<p><strong>hello.cpp</strong></p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nint main()\n{\n    std::cout &lt;&lt; \"Hello World\";\n}\n</code></pre>\n\n<p>I can compile the C program using <code>cc hello.c</code> and everything works fine, but\nwhen I do <code>gcc hello.c</code> I get this error</p>\n\n<pre><code>[1]    38508 segmentation fault  gcc hello.c\n</code></pre>\n\n<p>I get a similar error attempting to compile my C++ code</p>\n\n<pre><code>[1]    38596 segmentation fault  g++ hello.cpp\n</code></pre>\n\n<p>I did <code>which gcc</code> and I get <code>/opt/local/bin/gcc</code> and that directory is in my\npath.\n( <code>/usr/texbin /opt/local/bin /opt/local/sbin /bin /usr/sbin /sbin /usr/local/bin/usr/bin</code> )</p>\n\n<p>So I am confused as to what is happening. I thought I downloaded all of the\nXcode things that I needed. I would like to get <code>gcc</code> and <code>g++</code> running\nproperly. I hope that you can help.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2953119"}, "edited": false, "score": 0, "creation_date": 1427345858, "post_id": 29264203, "comment_id": 46743233, "body": "Couldn&#39;t you provide a normative reference? I&#39;d like to make sure about how it works more formally..."}], "tags": [], "owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "is_accepted": true, "score": 0, "last_activity_date": 1427309789, "creation_date": 1427309789, "answer_id": 29264203, "question_id": 29263302, "link": "https://stackoverflow.com/questions/29263302/template-class-member-function-instatitation/29264203#29264203", "title": "Template class member function instatitation", "body": "<p>The class has a member function that is declared but not yet defined. </p>\n\n<p>This is allowed in non-template classes too; a (non-virtual) member function only needs a definition if you use it.</p>\n\n<p>So in your template the function declaration must be valid when instantiated, but the function  body is not yet required to work.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2953119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 29264203, "answer_count": 1, "score": 3, "last_activity_date": 1427347156, "creation_date": 1427307031, "last_edit_date": 1427307244, "question_id": 29263302, "link": "https://stackoverflow.com/questions/29263302/template-class-member-function-instatitation", "title": "Template class member function instatitation", "body": "<p>The Standard <code>N4296::14.7.1/1</code> says:</p>\n\n<blockquote>\n  <p>The implicit instantiation of a class template specialization causes\n  the implicit instantiation of the declarations, but not of the\n  definitions, default arguments, or exception-specifications of the\n  class member functions, member classes, scoped member enumerations,\n  static data members and member templates;</p>\n</blockquote>\n\n<p>Let's then consider the following code:</p>\n\n<pre><code>template &lt;class T&gt;\nclass A\n{\n    void foo(){ }\n};\n\nA&lt;int&gt; a; //Implicit instantiation here\n\nint main(){ }\n</code></pre>\n\n<p>So, when the template is being implicitly instantiated it actually intstantiated in a class which doesn't have any member function, because we've not used it.  Is it true?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1427306696, "post_id": 29263179, "comment_id": 46728338, "body": "It depends. What are you outputting <i>to</i>? The terminal? A GUI?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427306804, "post_id": 29263179, "comment_id": 46728409, "body": "Bold output is going to depend on the system and destination (as in the previous comment). For pure text output, something like ncurses might be handy. Uppercasing can be harder than it looks if you want to support more than ASCII."}, {"owner": {"reputation": 1804, "user_id": 1219247, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/62dc2334c60047d25a42b57b67f9f178?s=128&d=identicon&r=PG", "display_name": "CaptainCodeman", "link": "https://stackoverflow.com/users/1219247/captaincodeman"}, "edited": false, "score": 0, "creation_date": 1427306948, "post_id": 29263179, "comment_id": 46728517, "body": "Your question is essentially not a question about C++.  Output formatting is very dependent on factors such as your operating system, and method of display."}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427306999, "post_id": 29263264, "comment_id": 46728544, "body": "&quot;How to print uppercase letters should be obvious.&quot; - <a href=\"http://en.wikipedia.org/wiki/Capital_%E1%BA%9E\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Capital_%E1%BA%9E</a>: <i>it has no traditional upper case form</i>"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427307308, "post_id": 29263264, "comment_id": 46728750, "body": "@chris Fair enough, but I don&#39;t see how that&#39;s a problem here.  The OP can just type the literal uppercase text into the source code.  If you want to implement a <code>to_upper_case</code> function, you&#39;ll need to be careful.  But then again, there is already <a href=\"http://en.cppreference.com/w/c/string/byte/toupper\" rel=\"nofollow noreferrer\"><code>toupper</code></a> in the standard library."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427310156, "post_id": 29263264, "comment_id": 46730544, "body": "As far as I know, to use <code>toupper</code>, you would need to use a proper locale, but implementations are not required to support it. To be confident in the code being portable, you would need something like Boost.Locale, or plain ICU. Of course this worry goes away until you actually need to support internationalization, which you forever hope isn&#39;t in the near future."}], "tags": [], "owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "is_accepted": false, "score": 4, "last_activity_date": 1427307036, "last_edit_date": 1427307036, "creation_date": 1427306909, "answer_id": 29263264, "question_id": 29263179, "link": "https://stackoverflow.com/questions/29263179/in-c-program-how-can-i-get-the-output-in-bold-letters/29263264#29263264", "title": "In C++ program how can I get the output in bold letters?", "body": "<p>If your terminal supports <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\">ANSI escape sequences</a>, you can set the font to bold.  How to print uppercase letters should be obvious.</p>\n\n<pre><code>printf(\"\\033[1m%s\\033[m\\n\", \"HELLO WORLD\");\n</code></pre>\n\n<p>A more portable solution would be to use a library like <a href=\"https://en.wikipedia.org/wiki/Ncurses\">ncurses</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 4143788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1394c6fd4d27061b31677cef0a63d8ee?s=128&d=identicon&r=PG&f=1", "display_name": "DVB", "link": "https://stackoverflow.com/users/4143788/dvb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2664, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1427307036, "creation_date": 1427306660, "question_id": 29263179, "link": "https://stackoverflow.com/questions/29263179/in-c-program-how-can-i-get-the-output-in-bold-letters", "title": "In C++ program how can I get the output in bold letters?", "body": "<p>In C++ program how can I get output in BOLD letters and in capital letters?\nSuppose I want to print \"Hello World\" in BOLD and in Capital letters, then what should I add to my program?</p>\n"}, {"tags": ["c++", "opencv", "ffmpeg", "video-streaming"], "answers": [{"comments": [{"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 1, "creation_date": 1427315233, "post_id": 29265787, "comment_id": 46733426, "body": "still, <code>framergb-&gt;data[0]</code> is only the 1st element, not the pointer. -2nd try, please ;)"}, {"owner": {"reputation": 650, "user_id": 3214668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0894cd6a7c2fbcf3d985135d4492a0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien Descamps", "link": "https://stackoverflow.com/users/3214668/adrien-descamps"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 1, "creation_date": 1427315603, "post_id": 29265787, "comment_id": 46733658, "body": "Good point for the type argument, thanks, i was too fast ;-) For the data, i think i am right, the data field in avframe is an array of pointers, not a pointer. Not 100% sure that is is correct, since i have not tested the code, but it is my best guess."}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1427315669, "post_id": 29265787, "comment_id": 46733692, "body": "oh, sorry, did not see, what&#39;s actually in that array ;)"}, {"owner": {"reputation": 518, "user_id": 1383303, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001309377431/picture?type=large", "display_name": "Oximer", "link": "https://stackoverflow.com/users/1383303/oximer"}, "edited": false, "score": 1, "creation_date": 1455820602, "post_id": 29265787, "comment_id": 58672405, "body": "<a href=\"http://hasanaga.info/tag/ffmpeg-avframe-to-opencv-mat/\" rel=\"nofollow noreferrer\">hasanaga.info/tag/ffmpeg-avframe-to-opencv-mat</a> This code give a good example for a more generic case."}], "tags": [], "owner": {"reputation": 650, "user_id": 3214668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0894cd6a7c2fbcf3d985135d4492a0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien Descamps", "link": "https://stackoverflow.com/users/3214668/adrien-descamps"}, "is_accepted": true, "score": 9, "last_activity_date": 1427315174, "last_edit_date": 1427315174, "creation_date": 1427314958, "answer_id": 29265787, "question_id": 29263090, "link": "https://stackoverflow.com/questions/29263090/ffmpeg-avframe-to-opencv-mat-conversion/29265787#29265787", "title": "ffmpeg AVFrame to opencv Mat conversion", "body": "<p>Using the appropriate <a href=\"http://docs.opencv.org/modules/core/doc/basic_structures.html#Mat::Mat(int%20rows,%20int%20cols,%20int%20type,%20void*%20data,%20size_t%20step)\">Mat constructor</a>, replace the bmp_save line by:</p>\n\n<pre><code>Mat mat(avctx-&gt;height, avctx-&gt;width, CV_8UC3, framergb-&gt;data[0], framergb-&gt;linesize[0]);\nimshow(\"frame\", mat);\nwaitKey(10);\n</code></pre>\n\n<p>Also replace the PIX_FMT_RGB24 flag in sws_getContext by PIX_FMT_BGR24, because OpenCV use BGR format internally.</p>\n"}, {"comments": [{"owner": {"reputation": 650, "user_id": 3214668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0894cd6a7c2fbcf3d985135d4492a0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien Descamps", "link": "https://stackoverflow.com/users/3214668/adrien-descamps"}, "edited": false, "score": 0, "creation_date": 1427395853, "post_id": 29272593, "comment_id": 46770470, "body": "Be careful that this might fail if the linesize chosen by Mat constructor is different from the one chosen by avpicture_fill. I don&#39;t know how that value is chosen in avpicture_fill, so i can&#39;t tell you if this can likely happen, but it is a possibility."}], "tags": [], "owner": {"reputation": 187, "user_id": 4683544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27185467f3f06f6f600c441f75fb6e96?s=128&d=identicon&r=PG&f=1", "display_name": "Yoohoo", "link": "https://stackoverflow.com/users/4683544/yoohoo"}, "is_accepted": false, "score": 2, "last_activity_date": 1427352676, "creation_date": 1427352676, "answer_id": 29272593, "question_id": 29263090, "link": "https://stackoverflow.com/questions/29263090/ffmpeg-avframe-to-opencv-mat-conversion/29272593#29272593", "title": "ffmpeg AVFrame to opencv Mat conversion", "body": "<p>Thank you for your answer, I also solved by this way:</p>\n\n<p>say AVFrame *frame is the original ffmepg frame ready to be convert,</p>\n\n<pre><code>Mat m;\nAVFrame dst;\nint w = frame-&gt;width;\nint h = frame-&gt;height;\nm = cv::Mat(h, w, CV_8UC3);\ndst.data[0] = (uint8_t *)m.data;\navpicture_fill( (AVPicture *)&amp;dst, dst.data[0], PIX_FMT_BGR24, w, h);\n\nenum PixelFormat src_pixfmt = (enum PixelFormat)frame-&gt;format;\nenum PixelFormat dst_pixfmt = PIX_FMT_BGR24;\nconvert_ctx = sws_getContext(w, h, src_pixfmt, w, h, dst_pixfmt,\n                    SWS_FAST_BILINEAR, NULL, NULL, NULL);\n\nif(convert_ctx == NULL) {\n    fprintf(stderr, \"Cannot initialize the conversion context!\\n\");\n    exit(1);\n}\n\nsws_scale(convert_ctx, frame-&gt;data, frame-&gt;linesize, 0, h,\n                    dst.data, dst.linesize);\nimshow(\"MyVideo\", m);\nwaitKey(30);\n</code></pre>\n\n<p>Worked nicely!</p>\n"}], "owner": {"reputation": 187, "user_id": 4683544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27185467f3f06f6f600c441f75fb6e96?s=128&d=identicon&r=PG&f=1", "display_name": "Yoohoo", "link": "https://stackoverflow.com/users/4683544/yoohoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11420, "favorite_count": 2, "accepted_answer_id": 29265787, "answer_count": 2, "score": 4, "last_activity_date": 1427352676, "creation_date": 1427306364, "question_id": 29263090, "link": "https://stackoverflow.com/questions/29263090/ffmpeg-avframe-to-opencv-mat-conversion", "title": "ffmpeg AVFrame to opencv Mat conversion", "body": "<p>I am currently work on a project which decode the received frame using ffmepg, after decode, I want to convert the AVFrame to opencv Mat frame so that I can play it on the imShow function. </p>\n\n<p>What I have is the byte stream, I read it into buffer, decoded to AVFrame:</p>\n\n<pre><code>f = fopen(filename, \"rb\");\nif (!f) {\n    fprintf(stderr, \"Could not open %s\\n\", filename);\n    exit(1);\n}\n\nframe = avcodec_alloc_frame();\nif (!frame) {\n    fprintf(stderr, \"Could not allocate video frame\\n\");\n    exit(1);\n}\n\nframergb = avcodec_alloc_frame();\nif (!framergb) {\n    fprintf(stderr, \"Could not allocate video frame\\n\");\n    exit(1);\n}\n\nbytes=avpicture_get_size(PIX_FMT_RGB24, CAMER_WIDTH, CAMER_HEIGHT);\nbuffer=(uint8_t *)av_malloc(bytes*sizeof(uint8_t));\navpicture_fill((AVPicture *)framergb, buffer, PIX_FMT_RGB24,\n                CAMER_WIDTH, CAMER_HEIGHT);\n\nframe_count = 0;\nfor(;;) {\n    avpkt.size = fread(inbuf, 1, INBUF_SIZE, f);\n    if (avpkt.size == 0)\n        break;\n\n    avpkt.data = inbuf;\n    while (avpkt.size &gt; 0)\n        if (decode_write_frame(outfilename, c, frame, &amp;frame_count, &amp;avpkt, 0) &lt; 0)\n            exit(1);\n}\n\navpkt.data = NULL;\navpkt.size = 0;\ndecode_write_frame(outfilename, c, frame, &amp;frame_count, &amp;avpkt, 1);\n</code></pre>\n\n<p>and the <strong>decode_write_frame</strong> defined like this:</p>\n\n<pre><code>static int decode_write_frame(const char *outfilename, AVCodecContext *avctx,AVFrame *frame, int *frame_count, AVPacket *pkt, int last)\n{\nint len, got_frame;\nchar buf[1024];\nstruct SwsContext *convert_ctx;\n\nlen = avcodec_decode_video2(avctx, frame, &amp;got_frame, pkt);\nif (len &lt; 0) {\n    fprintf(stderr, \"Error while decoding frame %d\\n\", *frame_count);\n    return len;\n}\nif (got_frame) {\n    printf(\"Saving %sframe %3d\\n\", last ? \"last \" : \"\", *frame_count);\n    fflush(stdout);\n\nint w = avctx-&gt;width;\nint h = avctx-&gt;height;\nconvert_ctx = sws_getContext(w, h, avctx-&gt;pix_fmt,\n                    w, h, PIX_FMT_RGB24, SWS_BICUBIC,\n                    NULL, NULL, NULL);\n\nif(convert_ctx == NULL) {\n    fprintf(stderr, \"Cannot initialize the conversion context!\\n\");\n    exit(1);\n}\n\nsws_scale(convert_ctx, frame-&gt;data,\n            frame-&gt;linesize, 0,\n            h,\n            framergb-&gt;data, framergb-&gt;linesize);\n\n    /* the picture is allocated by the decoder, no need to free it */\n    snprintf(buf, sizeof(buf), outfilename, *frame_count);\n\n    bmp_save(framergb-&gt;data[0], framergb-&gt;linesize[0],\n             avctx-&gt;width, avctx-&gt;height, buf);\n    (*frame_count)++;\n}\nif (pkt-&gt;data) {\n    pkt-&gt;size -= len;\n    pkt-&gt;data += len;\n}\nreturn 0;\n}\n</code></pre>\n\n<p>here the <strong>bmp_save()</strong> is defined by the original code author to realise AVFrame to bmp picture conversion. I want to modify here so that let the AVFrame convert to opencv Mat frame. How should I do this conversion?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "c++11", "asynchronous"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1427305675, "post_id": 29262853, "comment_id": 46727650, "body": "Why not use a lambda? <code>[&amp;str, pFoo] {pFoo-&gt;foo(str);}</code>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1427305844, "post_id": 29262853, "comment_id": 46727772, "body": "Why use <code>bind</code> <i>at all</i>?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1427305878, "post_id": 29262853, "comment_id": 46727805, "body": "What did your studies of the documentation reveal?"}, {"owner": {"reputation": 1, "user_id": 4713310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7060189d11e8c1f90b523e4bdeabea3a?s=128&d=identicon&r=PG&f=1", "display_name": "Yao Ding", "link": "https://stackoverflow.com/users/4713310/yao-ding"}, "edited": false, "score": 0, "creation_date": 1427308380, "post_id": 29262853, "comment_id": 46729409, "body": "I don&#39;t know. There is a situation why I asked this question is: When you computer is put into sleep, and your application happens to run at &quot;std::async....&quot; there, what will happen when the computer wakes up&quot;? Will it crash?since the variable str no longer exists?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4713310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7060189d11e8c1f90b523e4bdeabea3a?s=128&d=identicon&r=PG&f=1", "display_name": "Yao Ding", "link": "https://stackoverflow.com/users/4713310/yao-ding"}, "edited": false, "score": 0, "creation_date": 1427308298, "post_id": 29262973, "comment_id": 46729354, "body": "If I wait, I will block the current thread, right? So if I don&#39;t wanna block the current thread, I have to create another thread to run &quot;wait&quot;. Then my question is why I need to call std::async at first place? I can just create a thread and run the task in that thread directly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "reply_to_user": {"reputation": 1, "user_id": 4713310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7060189d11e8c1f90b523e4bdeabea3a?s=128&d=identicon&r=PG&f=1", "display_name": "Yao Ding", "link": "https://stackoverflow.com/users/4713310/yao-ding"}, "edited": false, "score": 0, "creation_date": 1427308626, "post_id": 29262973, "comment_id": 46729562, "body": "@YaoDing The purpose of std::future is to request a result (at some point of time, even void). If you do not need/want that use a std::thread"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 1, "user_id": 4713310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7060189d11e8c1f90b523e4bdeabea3a?s=128&d=identicon&r=PG&f=1", "display_name": "Yao Ding", "link": "https://stackoverflow.com/users/4713310/yao-ding"}, "edited": false, "score": 0, "creation_date": 1427308898, "post_id": 29262973, "comment_id": 46729739, "body": "@YaoDing You <code>wait</code> when the main thread needs to know the other task is finished.  If you never need to know if the other task is finished, clearly not doing that task is sufficient, so don&#39;t bother doing the task, as your code accepts it never finishing!  Efficiency!  ;)  But seriously, you need to at least know the other task is finished <i>by the time the program is finished</i> or you could have some dangling thread out there being summarily terminated by the end of <code>main</code> (or some other, undefined by the standard, result). You can wait for a message &quot;back&quot; saying &quot;done&quot;, and only then <code>wait</code>."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 3, "last_activity_date": 1427307349, "last_edit_date": 1427307349, "creation_date": 1427305947, "answer_id": 29262973, "question_id": 29262853, "link": "https://stackoverflow.com/questions/29262853/pass-parameter-in-stdasync-or-in-stdbind/29262973#29262973", "title": "pass parameter in std::async or in std::bind?", "body": "<pre><code>std::future&lt;void&gt; t = std::async(std::launch::async, &amp;Foo::foo, pFoo, str);\n</code></pre>\n\n<p><code>std::bind</code> is basically obsolete at this point.  Use lambdas in the rare case that you even need lambdas.</p>\n\n<p><code>async</code> is one of many <code>std</code> functions that treat member functions much like standard functions, but with <code>this</code> as a bonus first argument.  So no binding or lambda or what have you required.</p>\n\n<p>Always store the result.  If on msvc, always <code>wait</code>, as msvc has non-compliant <code>future</code>.  The standard dictates that the destructor of <code>std::future</code> blocks if it came from an asynchronous async.  MSVC violates that.  As standard violations have a habit of being reverted, by always <code>wait</code>ing you prevent a surprise if and when they produce a compliant compiler.</p>\n"}], "owner": {"reputation": 1, "user_id": 4713310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7060189d11e8c1f90b523e4bdeabea3a?s=128&d=identicon&r=PG&f=1", "display_name": "Yao Ding", "link": "https://stackoverflow.com/users/4713310/yao-ding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3051, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427307349, "creation_date": 1427305547, "question_id": 29262853, "link": "https://stackoverflow.com/questions/29262853/pass-parameter-in-stdasync-or-in-stdbind", "title": "pass parameter in std::async or in std::bind?", "body": "<p>Here is my class</p>\n\n<pre><code>class Foo\n{\n    public:\n        void foo(const std::string&amp;);\n};\n\nint main()\n{\n    Foo* pFoo = new Foo();\n    std::string str = \"string\";\n    //If I want to start an async task, I could do this:\n    std::async(std::launch::async, std::bind(&amp;Foo::foo, pFoo,  std::placeholders::_1), str);\n    //or do this:\n    std::async(std::launch::async, std::bind(&amp;Foo::foo, pFoo, str));\n}\n</code></pre>\n\n<p>So what's the difference?Which way is safer to use?</p>\n"}, {"tags": ["c++", "arrays", "average", "reverse"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1427305509, "post_id": 29262772, "comment_id": 46727539, "body": "For future reference, please use a more descriptive title for your problem like &quot;How to reverse an array of numbers&quot;."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1427305621, "post_id": 29262772, "comment_id": 46727609, "body": "I&#39;m assuming this is for a homework assignment and <code>std::reverse(std::begin(array), std::end(array))</code> is out of the question?"}, {"owner": {"reputation": 11, "user_id": 4709076, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AT76oSJ4W7s/AAAAAAAAAAI/AAAAAAAAAEw/CL_5dbvd-OY/photo.jpg?sz=128", "display_name": "Hannah Stang", "link": "https://stackoverflow.com/users/4709076/hannah-stang"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1427305677, "post_id": 29262772, "comment_id": 46727652, "body": "Yes it wants me to use the void reverse function"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427305874, "post_id": 29262772, "comment_id": 46727800, "body": "You could search the internet for &quot;c++ reverse array int&quot;."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427305906, "post_id": 29262772, "comment_id": 46727820, "body": "BTW, what is the algorithm provided by your instructor?  What functions are you allowed to use?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1427306273, "post_id": 29262772, "comment_id": 46728068, "body": "I see no reversing. I see no array, even!"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1427306420, "post_id": 29262772, "comment_id": 46728148, "body": "@HannahStang In which way would reversing the array affect the sum? Are you sure your code makes sense (besides the wrong function declaration in <code>main()</code>)?"}], "owner": {"reputation": 11, "user_id": 4709076, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AT76oSJ4W7s/AAAAAAAAAAI/AAAAAAAAAEw/CL_5dbvd-OY/photo.jpg?sz=128", "display_name": "Hannah Stang", "link": "https://stackoverflow.com/users/4709076/hannah-stang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1427306299, "answer_count": 0, "score": 0, "last_activity_date": 1427305724, "creation_date": 1427305326, "last_edit_date": 1427305589, "question_id": 29262772, "link": "https://stackoverflow.com/questions/29262772/having-trouble-reversing-arrays", "closed_reason": "Duplicate", "title": "Having trouble reversing arrays", "body": "<p>So I have this program that is supposed to take an array and put them in reverse order as well as give the average of said numbers. The program terminates when a negative number is entered. I am very close to finishing it but currently I am having trouble getting the reverse aspect. Help is appreciated!</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main(){\n    //Written By: Hannah Stang\n    //Reads a series of positive integers until user enters -1.\n    //Prints values in reverse order and gives the average of the values\n    cout &lt;&lt; \"Please enter positive integers as desired, when finished enter a negative integer to get results. \";\n    int sum = 0, avg, num, numsize = 0;\n    cin &gt;&gt; num;\n    void reverse (int array[] );\n    while (num &gt;= 0)\n    {\n        numsize = numsize + 1;\n        sum = sum + num;\n        cin &gt;&gt; num;\n        avg = sum / numsize;\n    }\n    cout &lt;&lt; \"The values in reverse order are \" &lt;&lt; endl;\n    cout &lt;&lt; \"The average is \" &lt;&lt; avg &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "vector", "copy-constructor", "member"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427305397, "post_id": 29262732, "comment_id": 46727461, "body": "In general you should rely on the default copy constructor as much as possible, and write your classes such that it works."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427305726, "post_id": 29262732, "comment_id": 46727685, "body": "possible duplicate of your C++ book?"}], "answers": [{"tags": [], "owner": {"reputation": 1309, "user_id": 3495829, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/39b722b155ba7bb1288a84c00e11e888?s=128&d=identicon&r=PG&f=1", "display_name": "qeadz", "link": "https://stackoverflow.com/users/3495829/qeadz"}, "is_accepted": false, "score": 0, "last_activity_date": 1427305401, "creation_date": 1427305401, "answer_id": 29262798, "question_id": 29262732, "link": "https://stackoverflow.com/questions/29262732/copy-constructor-for-object-with-vector-as-member-variable/29262798#29262798", "title": "Copy constructor for object with vector as member variable", "body": "<p>Copy constructors of member variables are called all the way down. So if a default one was generated (and it would be in this case) then it gets called.</p>\n"}, {"comments": [{"owner": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "edited": false, "score": 0, "creation_date": 1427305496, "post_id": 29262802, "comment_id": 46727535, "body": "So it will automatically iterate through the vector and call the relative default copy constructor, am I right?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "edited": false, "score": 0, "creation_date": 1427305737, "post_id": 29262802, "comment_id": 46727690, "body": "@Gabrielecswoosh: Yes, the vector will call the copy constructor for each element it contains."}], "tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": true, "score": 5, "last_activity_date": 1427305901, "last_edit_date": 1427305901, "creation_date": 1427305404, "answer_id": 29262802, "question_id": 29262732, "link": "https://stackoverflow.com/questions/29262732/copy-constructor-for-object-with-vector-as-member-variable/29262802#29262802", "title": "Copy constructor for object with vector as member variable", "body": "<p>The default copy constructor for your class will call the default copy constructor for each member, in the order they're declared in the class.  One rule of thumb is that if you don't need a special destructor, then you don't need to change the copy constructor, copy assignment, move constructor, or move assignment either. (Though deleting them may still make sense, depending on the class).</p>\n\n<p>A vector's copy constructor will make a copy of its elements, using their copy constructors.  If those are <em>pointers</em>, it will copy <em>the pointers</em>, which means they'll point at the same data as the origonal vector.  99% of the time this is what you want. Though very rarely you may want to replace your class' copy constructor to make the vector do something else.</p>\n\n<p>It sounds like you don't need to make a copy constructor in your case.</p>\n"}], "owner": {"reputation": 1119, "user_id": 4402325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8b59e80bc05caa8b405adc547bd22381?s=128&d=identicon&r=PG&f=1", "display_name": "gcswoosh", "link": "https://stackoverflow.com/users/4402325/gcswoosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 833, "favorite_count": 1, "accepted_answer_id": 29262802, "answer_count": 2, "score": 0, "last_activity_date": 1610321933, "creation_date": 1427305230, "last_edit_date": 1610321933, "question_id": 29262732, "link": "https://stackoverflow.com/questions/29262732/copy-constructor-for-object-with-vector-as-member-variable", "title": "Copy constructor for object with vector as member variable", "body": "<p>I have a class <code>A</code> with a <code>vector&lt;Object&gt; object_list_</code> as a member variable.</p>\n\n<p>I know that if I had a vector of pointers I would have needed to write a specific copy constructor to achieve a deep copy. However, in this case, as I don't have pointers, when copying an object of type <code>A</code>, the default copy constructor will automatically also call the copy constructors of <code>Object</code> or each element in <code>object_list_</code> or do I have to write my own copy constructor to do that?</p>\n"}, {"tags": ["c++", "pointers", "containers"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1427305176, "post_id": 29262688, "comment_id": 46727316, "body": "Can you elaborate on what &quot;doesn&#39;t work properly&quot; means?"}, {"owner": {"reputation": 11, "user_id": 4666088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/492a6746333900f98d5fe0aca2044cf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arirang", "link": "https://stackoverflow.com/users/4666088/arirang"}, "reply_to_user": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1427305507, "post_id": 29262688, "comment_id": 46727537, "body": "This is the error that I&#39;m receiving on line l.push_back(*itt) &quot; no matching function for call to &#39;std::list&lt;CStudent*&gt;::push_back(CStudent&amp;)&#39;&quot;. If I&#39;m not mistaken, I&#39;ll need to call the print method in the main function as (*it)-&gt;print(), but I don&#39;t know how to insert the objects from the vector into the list of pointers."}], "answers": [{"tags": [], "owner": {"reputation": 124, "user_id": 4586007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738f44a9e69869326a92721886415a44?s=128&d=identicon&r=PG&f=1", "display_name": "ThyReaper", "link": "https://stackoverflow.com/users/4586007/thyreaper"}, "is_accepted": true, "score": 3, "last_activity_date": 1427305380, "creation_date": 1427305380, "answer_id": 29262786, "question_id": 29262688, "link": "https://stackoverflow.com/questions/29262688/inserting-an-object-from-a-vector-to-a-list-of-pointers/29262786#29262786", "title": "Inserting an object from a vector to a list of pointers", "body": "<p>This line:</p>\n\n<pre><code>l.push_back(*itt);\n</code></pre>\n\n<p>Is passing a <code>CStudent&amp;</code>, while the <code>l</code> only receives <code>CStudent*</code>. Changing that line to</p>\n\n<pre><code>l.push_back(&amp;*itt);\n</code></pre>\n\n<p>Will instead pass the address (pointer to) the stored <code>CStudent</code>items.</p>\n"}], "owner": {"reputation": 11, "user_id": 4666088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/492a6746333900f98d5fe0aca2044cf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arirang", "link": "https://stackoverflow.com/users/4666088/arirang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29262786, "answer_count": 1, "score": -3, "last_activity_date": 1427305567, "creation_date": 1427305079, "last_edit_date": 1427305567, "question_id": 29262688, "link": "https://stackoverflow.com/questions/29262688/inserting-an-object-from-a-vector-to-a-list-of-pointers", "title": "Inserting an object from a vector to a list of pointers", "body": "<p>I'm attempting to push back an object from a vector to a list of pointers. Unfortunatelly, my method doesn't work properly.</p>\n\n<pre><code>list&lt;CStudent*&gt; averageparam(const int a, const int b)\n{\n    list&lt;CStudent*&gt; l;\n    vector&lt;CStudent&gt;::iterator itt;\n    for (itt=students.begin();itt!=students.end();itt++)\n        if((*itt).average() &gt;= a &amp;&amp; (*itt).average() &lt;= b)\n            l.push_back(*itt);\n    return l;\n}\n</code></pre>\n\n<p>This is the error that I'm receiving on line <code>l.push_back(*itt)</code> </p>\n\n<pre><code>no matching function for call to 'std::list&lt;CStudent*&gt;::push_back(CStudent&amp;)'\". \n</code></pre>\n\n<p>If I'm not mistaken, I'll need to call the print method in the main function as <code>(*it)-&gt;print()</code>, but I don't know how to insert the objects from the vector into the list of pointers.</p>\n\n<p>Here is the code in the main function, which calls this method.</p>\n\n<pre><code>list&lt;CStudent*&gt; l;\na=50, b=60;\nfor (it=uni.begin();it!=uni.end();it++)\n{\n    l = (*it).averageparam(a,b);\n    if (l.empty())\n        cout&lt;&lt;\"There are no students in spec.\"&lt;&lt;(*it).getspec()&lt;&lt;\" course \"&lt;&lt;(*it).getkurs()&lt;&lt;\" group \"&lt;&lt;(*it).getgrupa()&lt;&lt;\" with average amount of points between \"&lt;&lt;a&lt;&lt;\" - \"&lt;&lt;b&lt;&lt;endl&lt;&lt;endl;\n    else\n    {\n        cout&lt;&lt;\"Students in spec.\"&lt;&lt;(*it).getspec()&lt;&lt;\" course \"&lt;&lt;(*it).getkurs()&lt;&lt;\" group \"&lt;&lt;(*it).getgrupa()&lt;&lt;\" with average amount of points between \"&lt;&lt;a&lt;&lt;\" - \"&lt;&lt;b&lt;&lt;endl;\n        list&lt;CStudent&gt;::iterator it=l.begin();\n        for (it=l.begin();it!=l.end();it++)\n            (*it).print();\n        cout&lt;&lt;endl;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1427304423, "post_id": 29262292, "comment_id": 46726788, "body": "Because the vector basically contains a pointer to the type (and size/capacity and maybe some other stuff), but the important part here is the pointer. You don&#39;t need the complete definition of a type to declare a pointer of the type, that&#39;s why it works."}, {"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1427304455, "post_id": 29262292, "comment_id": 46726812, "body": "internally std::vector has a pointer to donkey, so you&#39;re still only defining a reference or pointer member to a forward declared class."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1427304577, "post_id": 29262292, "comment_id": 46726900, "body": "Template type parameters don&#39;t generally have to be complete types. However, this particular template requires that your type be complete, and your program is ill-formed."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1427304639, "post_id": 29262292, "comment_id": 46726946, "body": "Possible duplicate? <a href=\"https://stackoverflow.com/questions/18672135/why-c-containers-dont-allow-incomplete-types\" title=\"why c containers dont allow incomplete types\">stackoverflow.com/questions/18672135/&hellip;</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1427304929, "post_id": 29262292, "comment_id": 46727142, "body": "@Praetorian: How is &quot;why does vector allow its element to be an incomplete type&quot; a <i>duplicate</i> of &quot;why does vector <b>not</b> allow its element to be an incomplete type&quot;? lol. It could not be more opposite."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1427305010, "post_id": 29262292, "comment_id": 46727198, "body": "@LightnessRacesinOrbit Well I guess it does answer my question!"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427305710, "post_id": 29262292, "comment_id": 46727673, "body": "@LightnessRacesinOrbit &quot;Opposite&quot; only because Neil made an incorrect assumption and worded his question accordingly. I didn&#39;t use the dupe hammer because of that difference in wording. Quite clearly even you agree that the answer to that question answers this one too :)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1427305791, "post_id": 29262292, "comment_id": 46727730, "body": "@Praetorian: Yeah but I don&#39;t always agree that similar answers = duplicate question :)"}], "answers": [{"comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1510675717, "post_id": 29262486, "comment_id": 81531097, "body": "Note that this is no longer true in C++17. <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">&#91;<code>std::vector</code>&#93; (but not its members) can be instantiated with an incomplete element type if the allocator satisfies the allocator completeness requirements</a> and <a href=\"http://en.cppreference.com/w/cpp/memory/allocator\" rel=\"nofollow noreferrer\">The default allocator satisfies allocator completeness requirements</a>."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1510765789, "post_id": 29262486, "comment_id": 81577595, "body": "@nwp: Interesting. Without doing a deep dive on that change I&#39;d be worried about relying on this before I&#39;d cleared up in my head when the destructor (a member!) is and is not instantiated."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 5, "last_activity_date": 1427304976, "last_edit_date": 1495541179, "creation_date": 1427304531, "answer_id": 29262486, "question_id": 29262292, "link": "https://stackoverflow.com/questions/29262292/how-come-i-can-use-a-forward-declared-class-in-a-stdvector/29262486#29262486", "title": "How come I can use a forward-declared class in a std::vector?", "body": "<p><strong>Actually, you can't.</strong></p>\n\n<p>Just because your program compiles (which is down to facts of the underlying implementation) does not mean it is valid.</p>\n\n<p><a href=\"https://stackoverflow.com/a/553869/560648\">There <em>are</em> times other than declaring a <code>T*</code> or a <code>T&amp;</code> at which you may use a forward declaration</a>; it's just that <a href=\"https://stackoverflow.com/q/18672135/560648\">this is not one of them</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 1, "creation_date": 1427305456, "post_id": 29262751, "comment_id": 46727503, "body": "&quot;It&#39;s undefined behavior.&quot; &quot;Because your class has a definition by the time the vector is instantiated, it&#39;s fine.&quot; Which is it?"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1427307575, "post_id": 29262751, "comment_id": 46728890, "body": "welcome to the wacky world of standards committee members&#39; arguments ;)"}], "tags": [], "owner": {"reputation": 1, "user_id": 4713343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9f44734e3e198d753ccfaa77493e47?s=128&d=identicon&r=PG&f=1", "display_name": "user4713343", "link": "https://stackoverflow.com/users/4713343/user4713343"}, "is_accepted": false, "score": 0, "last_activity_date": 1427305273, "creation_date": 1427305273, "answer_id": 29262751, "question_id": 29262292, "link": "https://stackoverflow.com/questions/29262292/how-come-i-can-use-a-forward-declared-class-in-a-stdvector/29262751#29262751", "title": "How come I can use a forward-declared class in a std::vector?", "body": "<p>It's undefined behavior. </p>\n\n<blockquote>\n  <p>[C++14/\u00a717.6.4.8] 1 In certain cases (replacement functions, handler\n  functions, operations on types used to instantiate standard library\n  template components), the C++ standard library depends on components\n  supplied by a C++ program. If these components do not meet their\n  requirements, the Standard places no requirements on the\n  implementation. </p>\n  \n  <p>[C++14/\u00a717.6.4.8] 2 In particular, the effects are undefined in the\n  following cases: [...]</p>\n  \n  <ul>\n  <li>if an incomplete type (3.9) is used as a template argument when instantiating a template component, unless specifically allowed for\n  that component.</li>\n  </ul>\n</blockquote>\n\n<p>Furthermore, an incomplete type doesn't meet the allocator requirements:</p>\n\n<blockquote>\n  <p>[C++14/\u00a717.6.3.5] 9 An allocator may constrain the types on which it\n  can be instantiated and the arguments for which its construct member\n  may be called. If a type cannot be used with a particular allocator,\n  the allocator class or the call to construct may fail to instantiate.</p>\n</blockquote>\n\n<p>Because your class has a definition by the time the vector is instantiated, it's fine. Be on the lookout for this proposal which will change allocator requirements, <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4056.html\" rel=\"nofollow\">N4056 Minimal incomplete type support for standard containers</a></p>\n"}], "owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 29262486, "answer_count": 2, "score": 3, "last_activity_date": 1427305273, "creation_date": 1427303972, "question_id": 29262292, "link": "https://stackoverflow.com/questions/29262292/how-come-i-can-use-a-forward-declared-class-in-a-stdvector", "title": "How come I can use a forward-declared class in a std::vector?", "body": "<p>I thought that you could only create a reference or pointer member to a forward-declared class. However, I was surprised to discover this works:</p>\n\n<pre><code>#include &lt;vector&gt;\n\nstruct Donkey;\n\nstruct Cage\n{\n    std::vector&lt;Donkey&gt; donkeys;\n};\n\nstruct Donkey\n{\n};\n\nint main()\n{\n    Cage c;\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/EP0zKR\" rel=\"nofollow\">http://ideone.com/EP0zKR</a></p>\n\n<p>How come <code>std::vector</code> can be defined with a forward-declared class? Is this standard?</p>\n"}, {"tags": ["c++", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1427309033, "post_id": 29262260, "comment_id": 46729824, "body": "9x9 box ?  But that&#39;s the size of the whole grid.  Are you sure you don&#39;t mean the 9 3x3 boxe of the grid ?"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2023328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2f9921a342866e656392a02729cf69e9?s=128&d=identicon&r=PG", "display_name": "user2023328", "link": "https://stackoverflow.com/users/2023328/user2023328"}, "edited": false, "score": 0, "creation_date": 1427311770, "post_id": 29264201, "comment_id": 46731508, "body": "I meant to write 3x3 boxes there, I guess I didn&#39;t pay enough attention. Anyway, everything works fine. Thank you for taking your time."}], "tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 2, "last_activity_date": 1427310558, "last_edit_date": 1427310558, "creation_date": 1427309778, "answer_id": 29264201, "question_id": 29262260, "link": "https://stackoverflow.com/questions/29262260/how-do-you-find-out-in-which-sub-grid-a-2d-array-element-is-located/29264201#29264201", "title": "How do you find out in which sub-grid a 2D array element is located", "body": "<p>The SUDOKU rules require that the digit is used only once: </p>\n\n<ul>\n<li>Rule 1: in each row </li>\n<li>Rule 2: in each column</li>\n<li>Rule 3: in each 3x3 subgrid of the 9x9 grid</li>\n</ul>\n\n<p>Function <code>follows_rule()</code> checks for a given grid position, if the value would be allowed or not.  For the moment it checks only rules 1 and 2. I propose you the following code for rule 3:  </p>\n\n<pre><code>bool follows_rule(int grid[ROWS][COLS], int rowIndex, int colIndex, int value){\n    for (int i = 0; i &lt; COLS; i++){\n        if (grid[rowIndex][i] == value)\n            return false;\n        if (grid[i][colIndex] == value) // ATTENTION THIS IS OK BECAUSE ROWS==COOLS !!\n            return false;\n    }\n    // Check if another equal value exists in the 3x3 box \n    int sgc = colIndex / 3;   // in wich subgrid are we ?\n    int sgr = rowIndex / 3; \n    // check all the elements of the 3x3 grid startic at sgr, sgc\n    for (int i = 0; i &lt; 3; i++)\n        for (int j = 0; j &lt; 3; j++)\n            if (grid[sgr + i][sgc + j] == value)\n                return false; \n    return true;\n}\n</code></pre>\n\n<p>You can test the 3x3 verification with the following code:  </p>\n\n<pre><code>int sudoku[ROWS][COLS] = {\n        { 1, 0, 0, 0, 0, 0, 0, 8, 0 },\n        { 0, 0, 2, 0, 0, 0, 0, 0, 0 },\n        { 0, 3, 0, 0, 0, 0, 0, 0, 0 },\n        { 0, 0, 0, 1, 3, 0, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 5, 0, 0, 0 },\n        { 0, 0, 0, 0, 8, 0, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n};\n\nif (follows_rule(sudoku, 1, 0, 1) == false\n    &amp;&amp; follows_rule(sudoku, 1, 0, 4) == true\n    &amp;&amp; follows_rule(sudoku, 5, 5, 8) == false\n    &amp;&amp; follows_rule(sudoku, 5, 5, 1) == false\n    &amp;&amp; follows_rule(sudoku, 5, 5, 7) == true)\n    cout &lt;&lt; \"Test ok !\" &lt;&lt; endl; \nelse cout &lt;&lt; \"Tests failed\" &lt;&lt; endl;\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 2023328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2f9921a342866e656392a02729cf69e9?s=128&d=identicon&r=PG", "display_name": "user2023328", "link": "https://stackoverflow.com/users/2023328/user2023328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 0, "accepted_answer_id": 29264201, "answer_count": 1, "score": 0, "last_activity_date": 1427310558, "creation_date": 1427303898, "question_id": 29262260, "link": "https://stackoverflow.com/questions/29262260/how-do-you-find-out-in-which-sub-grid-a-2d-array-element-is-located", "title": "How do you find out in which sub-grid a 2D array element is located", "body": "<p>C++ beginner here. I'm currently trying to make a sudoku solving program, so I have to check whether a value exists in the 9x9 box it's located in.</p>\n\n<p>This is my code for checking if the element follows the rules:</p>\n\n<pre><code>//constants for rows and columns of the sudoku puzzle, can be changed\nconst int ROWS = 9;\nconst int COLS = 9;\n\nbool follows_rule(int grid[ROWS][COLS], int rowIndex, int colIndex, int value){\n\n\n    for (int i = 0; i &lt; COLS; i++){ \n        if (grid[rowIndex][i] == value) //check if there are any other values on the same column\n            return false;\n        if (grid[i][colIndex] == value) //or the same row\n            return false;\n    }\n    //to-do: check if another equal value exists in the 9x9 box\n    return true;\n}\n\n//returns true if another element has the same value as \"value\", false otherwise\nbool exists_in_2d_array(int grid[ROWS][COLS], int value){\n    for (int x = 0; x &lt; ROWS / 3; x++)\n    {\n        for (int y = 0; y &lt; COLS / 3; y++)\n        {\n            if (grid[x][y] == value)\n            {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>My idea was to find out which 9x9 box the coordinates of the current element lead to, then put that 9x9 grid in another 2D array and check if the element's value exists somewhere else in the grid. I don't really know how, though.</p>\n"}, {"tags": ["c++", "arrays", "algorithm", "sorting", "recursion"], "comments": [{"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 0, "creation_date": 1427303898, "post_id": 29262210, "comment_id": 46726456, "body": "This will result in an infinite loop if <code>arr[0] == arr[arr.size() - 1]</code> and <code>arr[0] &lt; 9</code>. For the size question: just use a <code>std::vector&lt;int&gt;</code> and you&#39;re fine."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1427304210, "post_id": 29262210, "comment_id": 46726641, "body": "&quot;Raw&quot; arrays in C++ are not classes and thus have no methods or members. If you must use raw arrays, you should pass the capacity as a parameter (C-style coding). Otherwise use a standard C++ container (<code>std:array</code>, <code>std::vector</code>, <code>std::list</code>, etc.)."}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1427304234, "post_id": 29262210, "comment_id": 46726662, "body": "ok, I think I fixed the infinite loop... but it still does not work"}, {"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 0, "creation_date": 1427304290, "post_id": 29262210, "comment_id": 46726705, "body": "@JCoder Nope, not slightly fixed. (You&#39;re potentially swapping two identical elements and then recurse into the sort function with identical arguments)."}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1427304545, "post_id": 29262210, "comment_id": 46726876, "body": "&quot;arr&quot; is a plain C array. It doesn&#39;t have a size () method, so I doubt this code will compile. On the other hand, sizeof (arr) is the size of an int*, usually 4 or 8, and not at all related to the number of elements in the array."}, {"owner": {"reputation": 1212, "user_id": 1587755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bfa53480be2aca93ac528eda21a7d3?s=128&d=identicon&r=PG", "display_name": "Taekahn", "link": "https://stackoverflow.com/users/1587755/taekahn"}, "edited": false, "score": 0, "creation_date": 1427317301, "post_id": 29262210, "comment_id": 46734581, "body": "The goal in doing a recursive sort is to break the problem up into sub-problems. It looks to me like you are passing in the exact same input to every recursive call. i.e. your initial call is is <code>rb(a, 5)</code>, and each subsequent call is <code>rb(a, 5)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 1150004, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ea8a4d372549438ffab9b9e05f03c1c2?s=128&d=identicon&r=PG", "display_name": "blh83", "link": "https://stackoverflow.com/users/1150004/blh83"}, "is_accepted": false, "score": 1, "last_activity_date": 1427304385, "last_edit_date": 1495539880, "creation_date": 1427304385, "answer_id": 29262438, "question_id": 29262210, "link": "https://stackoverflow.com/questions/29262210/sorting-recursively-in-c-learning-purposes/29262438#29262438", "title": "Sorting Recursively in C++ (learning purposes)", "body": "<p>The reason you couldn't use sizeof(arr) is that an array becomes a pointer when passed to a function.  So, inside the function when you called 'sizeof(arr)' it was equivalent to 'sizeof(int*)' and that is why you got the error you did.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9509829/c-size-of-array\">See this</a> other SO question for an explanation (almost verbatim what I wrote).</p>\n"}], "owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448804147, "creation_date": 1427303751, "last_edit_date": 1427312866, "question_id": 29262210, "link": "https://stackoverflow.com/questions/29262210/sorting-recursively-in-c-learning-purposes", "title": "Sorting Recursively in C++ (learning purposes)", "body": "<p>I am trying to sort an array recursively, by separating elements by those smaller than 9 and those that are not. What changes should I make?</p>\n\n<p>(The recursive call rb(a, size); gives me a bad access error.)</p>\n\n<pre><code>void rb(int a[], int size)\n{\n    for(int i=0; i &lt; size - 1; i++)\n    {\n        if(a[i] &gt; 9){\n           int tmp = a[i];\n           a[i]=a[i+1];\n           a[i+1]=tmp;\n           rb(a, size);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "c++11", "vector"], "comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427303761, "post_id": 29262169, "comment_id": 46726382, "body": "<i>Change an algorithm, and you change one part of your program. Change a data structure, and you change your whole program</i> - Some famous guy"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1427305468, "post_id": 29262169, "comment_id": 46727511, "body": "Why don&#39;t you write your function so that it takes a 3x3 matrix of doubles and also use a 3x3 matrix of doubles as argument? Using a vector always implies you have a variable-size, which you obviously don&#39;t. Using a pointer to pointers can have many implications: ownership, intended use and <code>const</code> correctness, all of which have to be fixed or documented. Note also that converting <code>Foo()</code> to a function template could help you make this code compile, but strongly I doubt that it would make the code any better."}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 3, "last_activity_date": 1427303806, "creation_date": 1427303806, "answer_id": 29262223, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29262223#29262223", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p><strong>You can't.</strong> <code>double**</code> does not point to two-dimensional data. It points to an array of pointers to other arrays. Even if you could find a cast that compiled, the data layouts are simply incompatible.</p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427303851, "post_id": 29262231, "comment_id": 46726433, "body": "Fine if the bounds are known. The use of vector suggests otherwise."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1427303871, "post_id": 29262231, "comment_id": 46726440, "body": "As the question says the matrix is expected to 3x3, this could work as a quick fix."}, {"owner": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "edited": false, "score": 0, "creation_date": 1427304254, "post_id": 29262231, "comment_id": 46726679, "body": "Even if the bounds weren&#39;t known, it&#39;d still be possible to use the vectors <code>size</code> property, right?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "edited": false, "score": 0, "creation_date": 1427304358, "post_id": 29262231, "comment_id": 46726743, "body": "@RonThompson: And do what with it? Well, dynamically allocate yourself an array of pointers then fill it in a loop, I suppose."}, {"owner": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "edited": false, "score": 1, "creation_date": 1427304850, "post_id": 29262231, "comment_id": 46727085, "body": "And then reBox it when it comes back and give it back to your caller who is probably expecting a vector and free the memory. Nasty :("}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 7, "last_activity_date": 1427303819, "creation_date": 1427303819, "answer_id": 29262231, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29262231#29262231", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p>You have to build the array, by example:</p>\n\n<pre><code>double* a[3] = {v[0].data(), v[1].data(), v[2].data()};\nFoo(a);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1427303948, "creation_date": 1427303948, "answer_id": 29262278, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29262278#29262278", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p>If it's just that one function that's mismatched, and it isn't called in an inner loop somewhere, (and you can't change its signature, like its part of an API you can't change): the only solution I can think of is to unbox your vector. Iterate over your vector and pull out all of the data and put it into an array and then feed that into your function. </p>\n\n<p>Obviously, that's nasty in several ways, so if you have another option (notably, overloading the function to accept <code>vector</code>, then that's probably a better choice. </p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427304388, "post_id": 29262352, "comment_id": 46726764, "body": "Instead of dumping code, why not <i>explain</i> your proposed solution? Also note that this copies everything."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1427304637, "post_id": 29262352, "comment_id": 46726943, "body": "Using RAII and <code>std::vector&lt;double*&gt; p(v.size())</code> and sending <code>ptrs.data()</code> would probably be preferential (not that any of this is a good idea to begin with)."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1427307420, "last_edit_date": 1427307420, "creation_date": 1427304159, "answer_id": 29262352, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29262352#29262352", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p>Try the following</p>\n\n<pre><code>double **p = new double *[v.size()];\n\nfor ( size_t i = 0; i &lt; v.size(); i++ ) p[i] = v[i].data();\n\nFoo( p );\n\ndelete [] p;\n</code></pre>\n\n<p>Here is a demonstrative program</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;\n#include &lt;vector&gt;\n\n\nint main()\n{\n    std::vector&lt;std::vector&lt;double&gt;&gt; v =\n    {\n        { 1.1, 2.2, 3.3 },\n        { 4.4, 5.5, 6.6 },\n        { 7.7, 8.8, 9.9 }\n    };\n\n    double **p = new double *[v.size()];\n\n    double * ( std::vector&lt;double&gt;::*fn )() noexcept = &amp;std::vector&lt;double&gt;::data;\n\n    std::transform( v.begin(), v.end(), p, std::mem_fn( fn ) );\n\n    for ( size_t i = 0; i &lt; v.size(); i++ )\n    {\n        for ( size_t j = 0; j &lt; v.size(); j++ ) std::cout &lt;&lt; p[i][j] &lt;&lt; ' ';\n        std::cout &lt;&lt; std::endl;\n    }\n\n    delete [] p;\n}\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>1.1 2.2 3.3 \n4.4 5.5 6.6 \n7.7 8.8 9.9 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 4688882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c662bf9b1f853555856b03758cfdebe?s=128&d=identicon&r=PG&f=1", "display_name": "Max Fomichev", "link": "https://stackoverflow.com/users/4688882/max-fomichev"}, "is_accepted": false, "score": 0, "last_activity_date": 1427304569, "creation_date": 1427304569, "answer_id": 29262498, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29262498#29262498", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p>I think there is a design problem. Are you sure that <code>void Foo(double ** m);</code> expects a 3x3 matrix of doubles? If yes, than you need some wrapper function to convert <code>vector&lt;vector&lt;double&gt; &gt;</code> to <code>double**</code>. Any way it's the wrong approach.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1427310390, "creation_date": 1427310390, "answer_id": 29264391, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi/29264391#29264391", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<pre><code>template&lt;class T&gt;\nstd::vector&lt;T*&gt; make_jagged_array( std::vector&lt;std::vector&lt;T&gt;&gt;&amp; vec ) {\n  std::vector&lt;T*&gt; retval;\n  retval.reserve(vec.size());\n  for(auto&amp;&amp; v:vec)\n    retval.push_back(v.data());\n  return retval;\n}\n</code></pre>\n\n<p>will convert a <code>vector&lt;vector&lt;X&gt;&gt;</code> into a <code>vector&lt;X*&gt;</code>, and <code>vector&lt;X*&gt;.data()</code> returns you your <code>X**</code> you need.</p>\n\n<p>Doing this for n dimensions would be amusing.</p>\n"}], "owner": {"reputation": 193, "user_id": 1899222, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9afe45fe865c9ecdecb69471f18c5296?s=128&d=identicon&r=PG", "display_name": "Jammy", "link": "https://stackoverflow.com/users/1899222/jammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 29262223, "answer_count": 6, "score": 0, "last_activity_date": 1427310390, "creation_date": 1427303632, "question_id": 29262169, "link": "https://stackoverflow.com/questions/29262169/how-to-pass-a-vector-of-vectors-into-a-function-expecting-a-raw-pointer-to-poi", "title": "how to pass a vector of vectors into a function expecting a (raw) pointer to pointers", "body": "<p>I have a function that accepts a pointer to pointer to double:</p>\n\n<pre><code>void Foo(double ** m);  // expects a 3x3 matrix of doubles\n</code></pre>\n\n<p>Is it somehow possible, with appropriate casting and whatnot, to pass into this function either a std::vector of std::vectors of double or else an std::array of std::arrays of double?  If so, can someone please explain how?</p>\n\n<pre><code>std::vector&lt;std::vector&lt;double&gt;&gt; v(3, std::vector&lt;double&gt;(3));\nstd::array&lt;std::array&lt;double, 3&gt;, 3&gt; a;\n</code></pre>\n\n<p>If the function accepted only a pointer to double, this would be possible.  (via either v.data() or a.data()).  But the pointer to pointer in the function interface makes me think that such a conversion may not be possible.</p>\n\n<p>Thank you,</p>\n\n<p>Aaron</p>\n"}, {"tags": ["c++", "c", "memory-management"], "comments": [{"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 1, "creation_date": 1427305770, "post_id": 29262078, "comment_id": 46727717, "body": "The OS doesn&#39;t react to these things. It is the <i>cause</i> of these things. The OS rejects the memory allocation attempt. Look for <code>VirtualAlloc</code>, <code>HeapAlloc</code>, <code>mmap</code> and <code>sbrk</code>."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1427305813, "post_id": 29262078, "comment_id": 46727750, "body": "@ZanLynx: Why are you answering in a <i>comment</i>? Use the answer section."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427305959, "post_id": 29262078, "comment_id": 46727858, "body": "@LightnessRacesinOrbit: Because there&#39;s already a good answer and I just wanted to respond to one part of the question."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1427309016, "post_id": 29262078, "comment_id": 46729815, "body": "@ZanLynx: Stack Overflow&#39;s software supports multiple answers."}], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1427303590, "post_id": 29262106, "comment_id": 46726261, "body": "&quot;The OS doesn&#39;t care any more&quot; It might not even know anything happened, small allocations rarely even reach the OS levels."}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1427303646, "post_id": 29262106, "comment_id": 46726303, "body": "That is not quite correct. There is OOM killer in Linux, which job is to kill process(es) in case of memory-tight situation."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 4, "creation_date": 1427303656, "post_id": 29262106, "comment_id": 46726312, "body": "@SeverinPappadeux: And it&#39;s completely irrelevant."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1427303742, "post_id": 29262106, "comment_id": 46726371, "body": "@MooingDuck OTOH, a <code>malloc</code> implementation that would fail without even trying to ask the OS for more memory would be rather strange."}, {"owner": {"reputation": 9020, "user_id": 485088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4c2e26c21ecd1e0565915687b8c092?s=128&d=identicon&r=PG", "display_name": "Tim \u010cas", "link": "https://stackoverflow.com/users/485088/tim-%c4%8cas"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 3, "creation_date": 1427303876, "post_id": 29262106, "comment_id": 46726442, "body": "@5gon12eder: Strange, but compliant (say, if there is no OS or --- perhaps more realistically outside of embedded dev --- if the implementation has a settable memory limit, which was reached)."}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1427304424, "post_id": 29262106, "comment_id": 46726791, "body": "@5gon12eder nothing strange, happens all the time with ulimit, setrlimit, cgroups"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1427305508, "post_id": 29262106, "comment_id": 46727538, "body": "@5gon12eder: I have a couple different allocator classes that do exactly that. Set a memory limit and it throws the bad_alloc exception whenever it would go over the limit. Good for testing too."}, {"owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427306305, "post_id": 29262106, "comment_id": 46728089, "body": "so If the allocation failed with new, and I just start writing using the pointer, then it will over write memory regions starting from 0 (similar to a NULL pointer dereference issue when malloc fails?)?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427308998, "post_id": 29262106, "comment_id": 46729804, "body": "@dannycrane: <code>new</code>, if it throws, doesn&#39;t give you <i>any</i> pointer. It throws. If you used the non-throwing version that returns a NULL pointer then, well, that&#39;s a vast oversimplification but, yeah sort of. Just like dereferencing and writing through any other invalid pointer."}, {"owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427317612, "post_id": 29262106, "comment_id": 46734747, "body": "how to find out whether I am using the throwing version or not throwing version?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427338795, "post_id": 29262106, "comment_id": 46741589, "body": "@dannycrane: If you don&#39;t know, you are using the throwing version."}, {"owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427353690, "post_id": 29262106, "comment_id": 46745347, "body": "@LightnessRacesinOrbit, I see your point since my question is about linux or windows. But I am actually using a customized OS, could you answer this last question? If you think it is too long, I can open another thread."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427366093, "post_id": 29262106, "comment_id": 46751063, "body": "@dannycrane: &quot;I am using a customized OS&quot; Well, since you haven&#39;t told me exactly in what way it is &quot;customized&quot; then no, I obviously can&#39;t."}, {"owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "edited": false, "score": 0, "creation_date": 1427387322, "post_id": 29262106, "comment_id": 46765468, "body": "Thank you for the discussion. I have open another thread just for finding out the C++ behavior if memory allocation fails. <a href=\"http://stackoverflow.com/questions/29283847/how-to-find-out-the-return-value-if-my-c-new-memory-allocation-failure\" title=\"how to find out the return value if my c new memory allocation failure\">stackoverflow.com/questions/29283847/&hellip;</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427388711, "post_id": 29262106, "comment_id": 46766358, "body": "FYI SO is not a forum or discussion board so they are <i>questions</i> not <i>threads</i>"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 6, "last_activity_date": 1427303592, "last_edit_date": 1427303592, "creation_date": 1427303426, "answer_id": 29262106, "question_id": 29262078, "link": "https://stackoverflow.com/questions/29262078/who-handles-c-new-memory-allocation-failure/29262106#29262106", "title": "Who handles C++ &quot;new&quot; memory allocation failure?", "body": "<p><strong>They don't.</strong> The OS doesn't need to \"react\" to anything. Your program might want to react to the condition, or it may leave the exception unhandled and terminate. Either way, the memory wasn't allocated and the OS doesn't care any more, if it cared (or even knew about it) in the first place!</p>\n"}], "owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 29262106, "answer_count": 1, "score": 0, "last_activity_date": 1427305332, "creation_date": 1427303340, "last_edit_date": 1427305332, "question_id": 29262078, "link": "https://stackoverflow.com/questions/29262078/who-handles-c-new-memory-allocation-failure", "title": "Who handles C++ &quot;new&quot; memory allocation failure?", "body": "<p>In C, people often check null pointers after using malloc. However, in C++, we will use \"new\". I have done some search and one explanation for the difference between malloc and new is below:\n<a href=\"https://isocpp.org/wiki/faq/freestore-mgmt#new-malloc-diff\" rel=\"nofollow\">https://isocpp.org/wiki/faq/freestore-mgmt#new-malloc-diff</a></p>\n\n<p>Quote from the link above:</p>\n\n<blockquote>\n  <p>malloc() reports memory exhaustion by returning 0. new reports allocation and initialization errors by throwing exceptions (bad_alloc).</p>\n</blockquote>\n\n<p>But how does OS (Linux or windows) react to this bad_alloc exception? </p>\n"}, {"tags": ["c++", "c++11", "namespaces"], "answers": [{"comments": [{"owner": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "edited": false, "score": 0, "creation_date": 1427303946, "post_id": 29262172, "comment_id": 46726490, "body": "Thanks! I compiled with GCC (several versions), clang shows an error"}], "tags": [], "owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1427304499, "last_edit_date": 1427304499, "creation_date": 1427303637, "answer_id": 29262172, "question_id": 29261910, "link": "https://stackoverflow.com/questions/29261910/prevent-hijacking-a-namespace-to-an-inline-namespace/29262172#29262172", "title": "Prevent hijacking a namespace to an inline namespace", "body": "<p>7.3.1/7 shows us that it must be declared inline at the first declaration:</p>\n\n<blockquote>\n  <p>If the optional initial inline keyword appears in a\n  namespace-definition for a particular namespace, that namespace is\n  declared to be an inline namespace. The inline keyword may be used on\n  an extension namespace-definition only if it was previously used on\n  the original-namespace-definition for that namespace.</p>\n</blockquote>\n"}], "owner": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 29262172, "answer_count": 1, "score": 1, "last_activity_date": 1427312257, "creation_date": 1427302845, "last_edit_date": 1427312257, "question_id": 29261910, "link": "https://stackoverflow.com/questions/29261910/prevent-hijacking-a-namespace-to-an-inline-namespace", "title": "Prevent hijacking a namespace to an inline namespace", "body": "<p>Must the declaration of a namespace as <code>inline</code> be the first one, or can any (reopened) namespace be declard as <code>inline</code> at any point?</p>\n\n<p>If so, is there a way to prevent someone to declare a namespace as <code>inline</code> (afterwards)?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nnamespace outer {\n//inline\nnamespace inner {\n}}\n\n//inline namespace std {}\n\nnamespace outer {\ninline\nnamespace inner {\n    void foo() {\n        std::cout &lt;&lt; \"foo\" &lt;&lt; std::endl;\n        //::cout &lt;&lt; \"foo\" &lt;&lt; endl;\n    }\n}}\n\nint main() {\n    outer::foo();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>edit</strong><br>\nIt seems that gcc accepts this, as I first tested only on coliru, however <a href=\"http://goo.gl/4TPsZt\" rel=\"nofollow\">clang rejects it</a></p>\n\n<p>Is this a bug?</p>\n"}, {"tags": ["c++", "ios", "iphone", "unit-testing", "cocos2d-x"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427302836, "post_id": 29261821, "comment_id": 46725820, "body": "The best way to read an XML file is to use a library that provides the functionality.  Search the internet for something like &quot;c++ XML library&quot;."}, {"owner": {"reputation": 83, "user_id": 4664789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f780930d15f6fe6f5a2f1b767bca67?s=128&d=identicon&r=PG", "display_name": "GCB613", "link": "https://stackoverflow.com/users/4664789/gcb613"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427303476, "post_id": 29261821, "comment_id": 46726185, "body": "@ThomasMatthews - So just create an entirely different &quot;Read&quot; function that access the XML file instead of the UserDefault just for testing purposes?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427304096, "post_id": 29261821, "comment_id": 46726570, "body": "Sorry, but the <code>cocos2d</code> API is beyond my scope. :-("}, {"owner": {"reputation": 83, "user_id": 4664789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f780930d15f6fe6f5a2f1b767bca67?s=128&d=identicon&r=PG", "display_name": "GCB613", "link": "https://stackoverflow.com/users/4664789/gcb613"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427310216, "post_id": 29261821, "comment_id": 46730568, "body": "@ThomasMatthews - No worries, I appreciate the comments! :-)"}], "owner": {"reputation": 83, "user_id": 4664789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f780930d15f6fe6f5a2f1b767bca67?s=128&d=identicon&r=PG", "display_name": "GCB613", "link": "https://stackoverflow.com/users/4664789/gcb613"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427302544, "creation_date": 1427302544, "question_id": 29261821, "link": "https://stackoverflow.com/questions/29261821/unit-testing-class-with-cocos2duserdefault-how-to-read-from-custom-xml-file", "title": "Unit Testing class with cocos2d::UserDefault - How to read from custom XML file", "body": "<p>I have a class that stores user preferences. When the class is created it retrieves data from the UserDefault file on iOS using the cocos2d::UserDefault functionality. </p>\n\n<pre><code>UserPref::ReadFromUserDefault() {\n  _mx_username = cocos2d::UserDefault::getInstance()-&gt;getStringForKey(\"mx_username\", \"\");\n}\n</code></pre>\n\n<p>Is it possible to get cocos2d::UserDefault to point to a fake XML file of my own creation for the purposes of unit testing my class?</p>\n\n<p>Thanks!\nGCB</p>\n"}, {"tags": ["c++", "timer", "cross-platform", "boost-asio", "periodic-processing"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1427302620, "post_id": 29261814, "comment_id": 46725666, "body": "Have you looked at the standard <a href=\"http://www.cplusplus.com/reference/chrono/steady_clock/\" rel=\"nofollow noreferrer\">steady_clock</a>?"}, {"owner": {"reputation": 1140, "user_id": 3053746, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8JqKa.png?s=128&g=1", "display_name": "Jack Sabbath", "link": "https://stackoverflow.com/users/3053746/jack-sabbath"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1427302909, "post_id": 29261814, "comment_id": 46725875, "body": "@NathanOliver: Yes, but it provides only time stamps and not periodic callbacks. The only chance I see to make an exact time with this is to perform busy waiting, which I would like to avoid. As I said - the Windows Multimedia Timer can do it without busy waiting."}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 0, "creation_date": 1427303059, "post_id": 29261814, "comment_id": 46725947, "body": "Boost ASIO&#39;s implementation is platform specific.  On Windows it uses IOCP, on Linux <code>epoll()</code>.  In either case, 1ms resolution should be easily achievable.  This question, however, is off topic for SO."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1427303068, "post_id": 29261814, "comment_id": 46725950, "body": "Well <a href=\"http://stackoverflow.com/a/11866539/440558\">I made a simple timer event system in an old answer</a>, yes it&#39;s busy-waiting, but you could put that in a thread to not hinder your main thread."}, {"owner": {"reputation": 3284, "user_id": 1487069, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jsf93.png?s=128&g=1", "display_name": "Carlo Wood", "link": "https://stackoverflow.com/users/1487069/carlo-wood"}, "edited": false, "score": 0, "creation_date": 1522583929, "post_id": 29261814, "comment_id": 86202767, "body": "I&#39;m working on a timer library right now; I&#39;m currently only interested (and capable) to make it work on linux. For that OS I also could&#39;t find anything with the precision and performance that I was after. In the end I chose to use the POSIX timer_create and timer_settime to get timer interrupts by POSIX signal (also called Real Time signals since the extension to 1024 signals with queuing)."}], "answers": [{"tags": [], "owner": {"reputation": 3353, "user_id": 1858151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84149fe98216d2a7875da7ce6e875335?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/1858151/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427452922, "creation_date": 1427452922, "answer_id": 29298771, "question_id": 29261814, "link": "https://stackoverflow.com/questions/29261814/cross-platform-c-high-precision-event-timer-implementation/29298771#29298771", "title": "Cross platform C++ High Precision Event Timer implementation", "body": "<p>There is no implementation that guarantees 1ms resolution across the full universe (PC, xbox, android mobiles, ...) . All implementations have to rely on the OS to provide this resolution and the OS needs hardware support. Implementations usually provide fallbacks to lower resolution and so do the OSes on different HW.</p>\n\n<p>Boost (and new C++ standard) provide a generic interface but cannot guarantee 1ms. They provide the best you can get on the specific platform. You can get information about resolution at runtime and refuse to run.</p>\n"}], "owner": {"reputation": 1140, "user_id": 3053746, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8JqKa.png?s=128&g=1", "display_name": "Jack Sabbath", "link": "https://stackoverflow.com/users/3053746/jack-sabbath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1333, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427452922, "creation_date": 1427302522, "question_id": 29261814, "link": "https://stackoverflow.com/questions/29261814/cross-platform-c-high-precision-event-timer-implementation", "title": "Cross platform C++ High Precision Event Timer implementation", "body": "<p>Coming from the Windows platform I usually used the Windows Multimedia Timer to produce periodic callbacks with a resolution of 1 ms +-1ms. So I could indeed produce 1000 quite equidistant callbacks per second.\nTo achieve this accuracy <em>without</em> doing busy-waiting MS used the <a href=\"http://en.wikipedia.org/wiki/High_Precision_Event_Timer\" rel=\"nofollow\">High Precision Event Timer</a>, which directly accesses a hardware driver.</p>\n\n<p>I was hoping to find something like a boost library or so that provides a cross platform implementation for these kind of high precision timers. But all I found is the Boost-ASIO timers. Since they don't talk about precision at all, I'd assume that they won't meet the requirement a high precision. A jitter of 10ms would be way to much.</p>\n\n<p>So.. is there something like a cross platform implementation of a High Precision Event Timer?\nOr might Boost-ASIO already be precise enough? Maybe Boost internally uses the HPET and just didn't mention it anywhere.</p>\n"}, {"tags": ["c++", "stl", "iostream"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1427303265, "post_id": 29261808, "comment_id": 46726071, "body": "There&#39;s <code>out1 &lt;&lt; in.rdbuf();</code>, but it&#39;ll just dump all the contents of <code>in</code> into <code>out1</code>, you can&#39;t limit the number of bytes copied this way. Off the top, I don&#39;t see anything better than &quot;read <code>N</code> bytes from <code>in</code> into memory, write them to <code>out1</code>, read <code>N</code> more bytes, write them to <code>out2</code>, lather, rinse, repeat&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "is_accepted": false, "score": 0, "last_activity_date": 1427305006, "creation_date": 1427305006, "answer_id": 29262664, "question_id": 29261808, "link": "https://stackoverflow.com/questions/29261808/split-ifstream-on-two-ofstreams/29262664#29262664", "title": "split ifstream on two ofstreams", "body": "<p>that is my current solution, \nby the way - is there unary bool value flip operation to avoid third line in the loop?</p>\n\n<pre><code>...\nstd::string s;\nbool flag = true;\nwhile (!is.eof()) {\n    is &gt;&gt; std::setw(num_of_char ) &gt;&gt; s;\n    (flag ? out1 : out2) &lt;&lt; s;\n    flag = !flag;\n}\n....\n</code></pre>\n"}], "owner": {"reputation": 2187, "user_id": 2920614, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh4.googleusercontent.com/-esVq312MLXE/AAAAAAAAAAI/AAAAAAAA2Tk/jQtcCx2Owb0/photo.jpg?sz=128", "display_name": "amigo421", "link": "https://stackoverflow.com/users/2920614/amigo421"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1427305006, "creation_date": 1427302506, "question_id": 29261808, "link": "https://stackoverflow.com/questions/29261808/split-ifstream-on-two-ofstreams", "title": "split ifstream on two ofstreams", "body": "<p>there is a file (ifstream) ,\nand I have to split this on two output files (ofstreams) using a parameter as a number of char for each file:</p>\n\n<p>e.g. num_of_char = 3</p>\n\n<p>in: abcdefghijk</p>\n\n<p>out1:abcghi</p>\n\n<p>out2:defjk</p>\n\n<p>what is a most effective way to do this? \n(I suppose I have to use (ifstream).width(num_of_char); )\nis there something like :\nout1 &lt;&lt; in;\n??</p>\n"}, {"tags": ["c++", "arrays", "stl", "pde"], "answers": [{"comments": [{"owner": {"reputation": 2057, "user_id": 2051572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/54195715c447ab242303bcf52fa6aa93?s=128&d=identicon&r=PG", "display_name": "Ohm", "link": "https://stackoverflow.com/users/2051572/ohm"}, "edited": false, "score": 0, "creation_date": 1427394417, "post_id": 29261952, "comment_id": 46769675, "body": "So roll(v, 2) suppose to give me the whole vector rolled by 2 indexes?"}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "reply_to_user": {"reputation": 2057, "user_id": 2051572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/54195715c447ab242303bcf52fa6aa93?s=128&d=identicon&r=PG", "display_name": "Ohm", "link": "https://stackoverflow.com/users/2051572/ohm"}, "edited": false, "score": 0, "creation_date": 1427399066, "post_id": 29261952, "comment_id": 46772184, "body": "No, a new vector is not created. Just the index where i &gt;= n is mapped to the correct value. The example above <code>roll(v, 11)</code> would return v[1]."}], "tags": [], "owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "is_accepted": true, "score": 2, "last_activity_date": 1427399617, "last_edit_date": 1427399617, "creation_date": 1427302977, "answer_id": 29261952, "question_id": 29261663, "link": "https://stackoverflow.com/questions/29261663/implementing-periodic-boundary-conditions-of-pde-integrator-in-c/29261952#29261952", "title": "Implementing periodic boundary conditions of PDE integrator in C++", "body": "<p>You can use the mod operator to adjust the index.</p>\n\n<pre><code>#include &lt;vector&gt;\n\nusing namespace std;\n\nint roll(vector&lt;int&gt;&amp; v, unsigned int n) {\n   return v[n % v.size()];\n}\n\nint main() {\n   vector&lt;int&gt; v;\n   for (int i=0; i&lt;10; ++i) {\n      v.push_back(i);\n   }\n\n   return roll(v, 2);\n}\n</code></pre>\n\n<p>To roll the entire vector, use this function:</p>\n\n<pre><code>vector&lt;int&gt; rollVector(const vector&lt;int&gt;&amp; v, unsigned int n) {   \n   auto b = v.begin() + (n % v.size());\n   vector&lt;int&gt; ret(b, v.end());\n   ret.insert(ret.end(), v.begin(), b);\n   return ret;\n}\n</code></pre>\n"}], "owner": {"reputation": 2057, "user_id": 2051572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/54195715c447ab242303bcf52fa6aa93?s=128&d=identicon&r=PG", "display_name": "Ohm", "link": "https://stackoverflow.com/users/2051572/ohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 0, "accepted_answer_id": 29261952, "answer_count": 1, "score": 1, "last_activity_date": 1601121905, "creation_date": 1427302122, "question_id": 29261663, "link": "https://stackoverflow.com/questions/29261663/implementing-periodic-boundary-conditions-of-pde-integrator-in-c", "title": "Implementing periodic boundary conditions of PDE integrator in C++", "body": "<p>I need to implement in C++ a finite-differences integrator of a partial differential equation. In Python I used the <code>numpy.roll</code> method to roll the array and thus obtain periodic boundary conditions.</p>\n\n<p>Is there an a library in C that will give me this method? That is, that when I access the position <code>n+1</code> of a vector of length <code>n</code> it will point to the cell at location <code>0</code> of the vector?</p>\n"}, {"tags": ["c++", "linux", "file", "file-writing"], "comments": [{"owner": {"reputation": 10896, "user_id": 453851, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f72d9b8fe02cc534906f89eb22d74cb0?s=128&d=identicon&r=PG", "display_name": "Philip Couling", "link": "https://stackoverflow.com/users/453851/philip-couling"}, "edited": false, "score": 0, "creation_date": 1427302265, "post_id": 29261648, "comment_id": 46725433, "body": "I think you need to look into unix &quot;Signals&quot;.  Trapping signals will allow you yo know when your app is being closed. The only thing you can&#39;t detected is a <code>kill -9</code> which takes down your program without issuing a signal."}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 16, "creation_date": 1427302293, "post_id": 29261648, "comment_id": 46725449, "body": "A usual workaround is to work on a copy of the file, and swap them atomically at the end."}, {"owner": {"reputation": 10896, "user_id": 453851, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f72d9b8fe02cc534906f89eb22d74cb0?s=128&d=identicon&r=PG", "display_name": "Philip Couling", "link": "https://stackoverflow.com/users/453851/philip-couling"}, "reply_to_user": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 4, "creation_date": 1427302442, "post_id": 29261648, "comment_id": 46725562, "body": "Agree with @MarcGlisse the only guaranteed way to prevent corruption is to write a new file and move the new file to the old one as the rename is atomic."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 5, "creation_date": 1427302475, "post_id": 29261648, "comment_id": 46725586, "body": "I was about to suggest the same as @MarcGlisse.  Just be aware that moving (aka renaming) a file is only an atomic operation if the source and destination are on the same file system."}, {"owner": {"reputation": 10896, "user_id": 453851, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f72d9b8fe02cc534906f89eb22d74cb0?s=128&d=identicon&r=PG", "display_name": "Philip Couling", "link": "https://stackoverflow.com/users/453851/philip-couling"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 2, "creation_date": 1427302599, "post_id": 29261648, "comment_id": 46725653, "body": "@5gon12eder you can&#39;t rename a file in C or C++ if the files are not on the same file system. <a href=\"http://www.gnu.org/software/libc/manual/html_node/Renaming-Files.html\" rel=\"nofollow noreferrer\">gnu.org/software/libc/manual/html_node/Renaming-Files.html</a>"}, {"owner": {"reputation": 279, "user_id": 3465049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/80afda0e525918740ef6f2e441ee43f5?s=128&d=identicon&r=PG&f=1", "display_name": "mambo_sun", "link": "https://stackoverflow.com/users/3465049/mambo-sun"}, "edited": false, "score": 0, "creation_date": 1427304206, "post_id": 29261648, "comment_id": 46726639, "body": "Thanks a lot for your answers! I&#39;ll consider the renaming suggestion. Trapping signals looks tricky in my case, as I am working simultaneously with quite a few files, and will need to add some additional synchronization. Same procedure for every file which keeps them in a good states, suits me better. BTW, great to know that renaming is atomic!"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1542380586, "post_id": 29261648, "comment_id": 93559636, "body": "There are some guarantees of atomicity, but there are several layers to consider.  A <code>write</code> system call will be atomic if the number of bytes written is less than PIPE_BUF.  But that only gets your data into kernel buffers. It&#39;s not on disk yet.  Are you asking about getting data from user space , or actually sync&#39;d on a physical device?"}], "answers": [{"comments": [{"owner": {"reputation": 1828, "user_id": 2584754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q3gFD.jpg?s=128&g=1", "display_name": "sturcotte06", "link": "https://stackoverflow.com/users/2584754/sturcotte06"}, "edited": false, "score": 5, "creation_date": 1542379797, "post_id": 53340087, "comment_id": 93559198, "body": "This is the right way to go. On POSIX systems, once a file descriptor is opened, its inode is guaranteed to exist until the file descriptor is destroyed. Therefore, readers of the old file are guaranteed to see the same data regardless of writes. The rename operation is guaranteed to be atomic on the same filesystem, therefore, this idiom makes both read and writes concurrent safe."}, {"owner": {"reputation": 5512, "user_id": 2770572, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5b3d56dfc7342cc2a436cc73515d68f2?s=128&d=identicon&r=PG", "display_name": "michaelsnowden", "link": "https://stackoverflow.com/users/2770572/michaelsnowden"}, "edited": false, "score": 0, "creation_date": 1580448704, "post_id": 53340087, "comment_id": 106108262, "body": "Is there a way to do this with multiple files in different directories? Like say I have a/foo.txt and b/c/bar.txt and I make foo.tmp and bar.tmp; how do I make sure that both the real files get updated atomically?"}, {"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 2, "creation_date": 1582848971, "post_id": 53340087, "comment_id": 106928115, "body": "This is not enough. You must <code>fsync</code> the file before you rename it. Otherwise you might end up with an empty file in case of a powercut."}, {"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 1, "creation_date": 1582901604, "post_id": 53340087, "comment_id": 106947374, "body": "@Emil depends on your requirements. If you need fault tolerance and the files need to be stored on disk, then yes, you need fsync. But if you are just storing the files in <code>tmpfs</code> there is no need."}], "tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": true, "score": 15, "last_activity_date": 1542379582, "creation_date": 1542379582, "answer_id": 53340087, "question_id": 29261648, "link": "https://stackoverflow.com/questions/29261648/atomic-writing-to-file-on-linux/53340087#53340087", "title": "Atomic writing to file on linux", "body": "<p>I recommend writing to a temporary file and then doing a <code>rename(2)</code> on it.</p>\n\n<pre><code>ofstream o(\"file.tmp\"); //Write to a temporary file\no &lt;&lt; \"my data\";\no.close();\n\n//Perform an atomic move operation... needed so readers can't open a partially written file\nrename(\"file.tmp\", \"file.real\");\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 3465049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/80afda0e525918740ef6f2e441ee43f5?s=128&d=identicon&r=PG&f=1", "display_name": "mambo_sun", "link": "https://stackoverflow.com/users/3465049/mambo-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4152, "favorite_count": 3, "accepted_answer_id": 53340087, "answer_count": 1, "score": 10, "last_activity_date": 1542379582, "creation_date": 1427302087, "question_id": 29261648, "link": "https://stackoverflow.com/questions/29261648/atomic-writing-to-file-on-linux", "title": "Atomic writing to file on linux", "body": "<p>Is there a way to dump a buffer to file atomically?</p>\n\n<p>By \"atomically\" I mean: if for example someone terminates my application during writing, I'd like to have file in either before- or after-writing state, but not in a corrupted intermediate state.</p>\n\n<p>If the answer is \"no\", then probably it could be done with a really small buffers? \nFor example, can I dump 2 consequent int32_t variables with a single 8 bytes fwrite (on x64 platform), and be sure that both of those int32s are dumped, or neither of them, but not only just one of them?</p>\n"}, {"tags": ["c++", "boost", "r-tree", "boost-geometry"], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1427313531, "post_id": 29264779, "comment_id": 46732463, "body": "As a result of a late brainwave I added another, probably more convenient answer (postponed my bath for that) :)"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 3, "last_activity_date": 1427313933, "last_edit_date": 1427313933, "creation_date": 1427311604, "answer_id": 29264779, "question_id": 29261563, "link": "https://stackoverflow.com/questions/29261563/boost-r-tree-counting-elements-satisfying-a-query/29264779#29264779", "title": "Boost R-tree : counting elements satisfying a query", "body": "<p>You can use a function output iterator:</p>\n\n<pre><code>size_t cardinality = 0; // number of matches in set\nauto count_only = boost::make_function_output_iterator([&amp;cardinality] (Tree::value_type const&amp;) { ++cardinality; });\n</code></pre>\n\n<p>Use it like this:</p>\n\n<h2>C++11 using a lambda</h2>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/15c71b4de086511f\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/function_output_iterator.hpp&gt;\n#include &lt;boost/geometry/geometries/box.hpp&gt;\n#include &lt;boost/geometry/geometries/point_xy.hpp&gt;\n#include &lt;boost/geometry/core/cs.hpp&gt;\n#include &lt;boost/geometry/index/rtree.hpp&gt;\n\nnamespace bgi = boost::geometry::index;\nusing point = boost::geometry::model::d2::point_xy&lt;int, boost::geometry::cs::cartesian&gt;;\nusing box = boost::geometry::model::box&lt;point&gt;;\n\nint main()\n{\n    using Tree = bgi::rtree&lt;box, bgi::rstar&lt;32&gt; &gt;;\n    Tree tree;\n\n    size_t cardinality = 0; // number of matches in set\n    auto count_only = boost::make_function_output_iterator([&amp;cardinality] (Tree::value_type const&amp;) { ++cardinality; });\n\n    box query_box;\n    tree.query(bgi::intersects(query_box), count_only);\n\n    int nbElements = cardinality;\n\n    return nbElements;\n}\n</code></pre>\n\n<h2>C++03 using a function object</h2>\n\n<p>For C++ you can replace the lambda with a (polymorphic!) function object:</p>\n\n<pre><code>struct count_only_f {\n    count_only_f(size_t&amp; card) : _cardinality(&amp;card) { }\n\n    template &lt;typename X&gt;\n    void operator()(X) const {\n        ++(*_cardinality);\n    }\n\n  private:\n    size_t *_cardinality;\n};\n\n// .... later:\nboost::function_output_iterator&lt;count_only_f&gt; count_only(cardinality);\n</code></pre>\n\n<h2>C++03 using Boost Phoenix</h2>\n\n<p>I would consider this a good place to use Boost Phoenix:</p>\n\n<pre><code>#include &lt;boost/phoenix.hpp&gt;\n// ...\n\nsize_t cardinality = 0; // number of matches in set\ntree.query(bgi::intersects(query_box), boost::make_function_output_iterator(++boost::phoenix::ref(cardinality)));\n</code></pre>\n\n<p>Or, more typically with namespace aliases:</p>\n\n<pre><code>#include &lt;boost/phoenix.hpp&gt;\n// ...\n\nsize_t cardinality = 0; // number of matches in set\ntree.query(bgi::intersects(query_box), make_function_output_iterator(++phx::ref(cardinality)));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "edited": false, "score": 1, "creation_date": 1427382527, "post_id": 29265356, "comment_id": 46761800, "body": "Thanks, small amount of code but very significant difference in terms of speed!"}, {"owner": {"reputation": 1821, "user_id": 2574249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce5gW.jpg?s=128&g=1", "display_name": "Adam Wulkiewicz", "link": "https://stackoverflow.com/users/2574249/adam-wulkiewicz"}, "edited": false, "score": 1, "creation_date": 1427641290, "post_id": 29265356, "comment_id": 46850637, "body": "Or <code>std::distance(tree.qbegin(intersects(box)), tree.qend())</code>."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 3, "last_activity_date": 1427313475, "last_edit_date": 1495540866, "creation_date": 1427313475, "answer_id": 29265356, "question_id": 29261563, "link": "https://stackoverflow.com/questions/29261563/boost-r-tree-counting-elements-satisfying-a-query/29265356#29265356", "title": "Boost R-tree : counting elements satisfying a query", "body": "<p>I had a late brainwave. Even better than using <code>function_output_iterator</code> could be using the <code>boost::geometry::index</code> query_iterators.</p>\n\n<p>In principle, it will lead to exactly the same behaviour with slightly simpler code:</p>\n\n<pre><code>box query_box;\nauto r = boost::make_iterator_range(bgi::qbegin(tree, bgi::intersects(query_box)), {});\n// in c++03, spell out the end iterator: bgi::qend(tree)\n\nsize_t nbElements = boost::distance(r);\n</code></pre>\n\n<blockquote>\n  <p><strong>NOTE</strong>: <code>size()</code> is not available because the <code>query_const_iterator</code>s are not of the random-access category.</p>\n</blockquote>\n\n<p>But it may be slightly more comfortable to combine. Say, if you wanted an additional check per item, you'd use standard library algorithms like:</p>\n\n<pre><code>size_t matching = std::count_if(r.begin(), r.end(), some_predicate);\n</code></pre>\n\n<p>I think the range-based solution is somewhat more flexible (the same code can be used to achieve other algorithms like <a href=\"http://en.cppreference.com/w/cpp/algorithm/partial_sort_copy\" rel=\"nofollow noreferrer\"><code>partial_sort_copy</code></a> or <code>std::transform</code> which would be hard to fit into the output-iterator idiom from my <a href=\"https://stackoverflow.com/a/29264779/85371\">earlier answer</a>).</p>\n"}], "owner": {"reputation": 506, "user_id": 1445531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H2WrL.jpg?s=128&g=1", "display_name": "jerorx", "link": "https://stackoverflow.com/users/1445531/jerorx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 1, "accepted_answer_id": 29265356, "answer_count": 2, "score": 2, "last_activity_date": 1427313933, "creation_date": 1427301872, "last_edit_date": 1427302042, "question_id": 29261563, "link": "https://stackoverflow.com/questions/29261563/boost-r-tree-counting-elements-satisfying-a-query", "title": "Boost R-tree : counting elements satisfying a query", "body": "<p>So far, when I want to count how many elements in my R-tree satisfy a specific spatial query, it boils down to running the query, collecting the matches and then counting them, roughly as follow:</p>\n\n<pre><code>std::vector&lt;my_type&gt; results;\nrtree_ptr-&gt;query(bgi::intersects(query_box), std::back_inserter(results));\nint nbElements = results.size();\n</code></pre>\n\n<p>Is there a better way, i.e. a way to directly count without retrieving the actual elements? I haven't found anything to do that but who knows. (I'm building my tree with the packing algorithm, in case it has any relevance.)</p>\n\n<p>My motivation is that I noticed that the speed of my queries depend on the number of matches. If there are 0 matches, the query is more or less instantaneous ; if there are 10 000 matches, it takes several seconds. Since it's possible to determine very fast whether there are any matches, it seems that traversing the tree is extremely fast (at least in the index I made) ; it is collecting all the results that makes the queries slower in case of many matches. Since I'm not interested in collecting but simply counting (at least for some queries), it would be awesome if I could just skip the collecting.</p>\n"}, {"tags": ["c++", "stdatomic"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1427302181, "post_id": 29261408, "comment_id": 46725361, "body": "How about making your class movable but not copyable (i.e. delete copy constructor and copy assignment op, add move constructor and move assignment) Alternatively take charge of copying. The error message says it all about why you can&#39;t just use defaulted copying or moving: a <code>standard_atomic&lt;bool&gt;</code> wants just a <code>bool</code> value."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1427304518, "post_id": 29261408, "comment_id": 46726858, "body": "Atomic variables are not movable. Just like mutexes."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1427327846, "post_id": 29261408, "comment_id": 46738814, "body": "@KerrekSB: The error message says it all about why he can&#39;t just use defaulted copying or moving: a standard_atomic&lt;bool&gt; wants just a bool value. One aternative is to take charge of copying. But better, he should make the class movable but not copyable (i.e. delete copy constructor and copy assignment op, add move constructor and move assignment)."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1427328066, "post_id": 29261408, "comment_id": 46738888, "body": "@Cheersandhth.-Alf: It&#39;s unlikely that you <i>want</i> to copy an object that contains an atomic variable. The whole point of atomic variables is to serve as synchronization points, and that requires everyone to know where the variable is. A copy of such a variable, created at some random point in time, doesn&#39;t help anyone."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1427330464, "post_id": 29261408, "comment_id": 46739563, "body": "@KerrekSB: A movable transaction can use a dynamically allocated internal state (that doesn&#39;t move). That reduces the assumptions here from one of no other threads accessing any transactions objects, to no other threads accessing the transaction objects to be deleted. Is that what you mean?"}, {"owner": {"reputation": 1178, "user_id": 4667349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b37ca714f12d07c9fd379ba40b04f470?s=128&d=identicon&r=PG&f=1", "display_name": "PKuhn", "link": "https://stackoverflow.com/users/4667349/pkuhn"}, "edited": false, "score": 0, "creation_date": 1427363556, "post_id": 29261408, "comment_id": 46749686, "body": "Thank you for your response, could you provide me further information, where something like this is described"}], "owner": {"reputation": 1178, "user_id": 4667349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b37ca714f12d07c9fd379ba40b04f470?s=128&d=identicon&r=PG&f=1", "display_name": "PKuhn", "link": "https://stackoverflow.com/users/4667349/pkuhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427301441, "creation_date": 1427301441, "question_id": 29261408, "link": "https://stackoverflow.com/questions/29261408/delete-class-with-atomic-boolean-from-vector", "title": "Delete class with atomic boolean from vector", "body": "<p>I have a vector of my class transaction and try to delete a certain range of elements using following code. When compiling I get the error:<br>\n\"error: use of deleted function \u2018std::atomic_bool&amp; std::atomic_bool::operator=(const std::atomic_bool&amp;)\" \nWhat is the right way to delete a class with an atomic boolean member? </p>\n\n<pre><code>void Transactions::forget(size_t up_to)\n{\n   size_t deletion_limit = up_to - forgotten_;\n   transactions_.erase(transactions_.begin(),transactions_.begin()+deletion_limit)\n   forgotten_ += up_to; \n}\n</code></pre>\n\n<p>where transactions is a vector of my class Transaction </p>\n\n<pre><code>class Transaction {\npublic:\n    Transaction(std::vector&lt;Insert&gt; &amp;&amp;insert_ops, std::vector&lt;Remove&gt; &amp;&amp;remove_ops);\n    void process_inserts();\n    void process_removes(Database &amp;database);\n    bool inserts_processed();\n    bool removes_processed();\n    Affected get_affected_inserts(Relation relation);\n    Affected get_affected_deletes(Relation relation);\nprivate:\n    // Clear after being processed\n    std::vector&lt;Insert&gt; *insert_ops_;\n    std::vector&lt;Remove&gt; *remove_ops_;\n    std::atomic_bool inserts_done_, removes_done_;\n    std::map&lt;Relation, Affected&gt; inserted_tuples_, removed_tuples_;\n};\n</code></pre>\n"}, {"tags": ["c++", "language-lawyer", "c++14", "return-type", "constexpr"], "comments": [{"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1427301569, "post_id": 29261276, "comment_id": 46724952, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/27486581/void-as-a-literal-type\">Void as a literal type?</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1427302092, "post_id": 29261276, "comment_id": 46725307, "body": "Citing a working draft post-C++14 isn&#39;t very useful for proving facts about C++14."}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 4713075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7000b57cbfcd7fa6c40f5de355162ec?s=128&d=identicon&r=PG&f=1", "display_name": "user4713075", "link": "https://stackoverflow.com/users/4713075/user4713075"}, "is_accepted": false, "score": 9, "last_activity_date": 1427301482, "creation_date": 1427301482, "answer_id": 29261421, "question_id": 29261276, "link": "https://stackoverflow.com/questions/29261276/constexpr-void-function-rejected/29261421#29261421", "title": "constexpr void function rejected", "body": "<p>The proposal which made <code>void</code> a literal type was <a href=\"http://isocpp.org/files/papers/N3652.html\"><strong>n3652 Relaxing constraints on <code>constexpr</code> functions</strong></a>. G++ decided to push this feature to version <a href=\"https://gcc.gnu.org/gcc-5/changes.html#cxx\">5</a> (I was using 4.9.2):</p>\n\n<blockquote>\n  <p>G++ now supports C++14 extended constexpr.</p>\n\n<pre><code>constexpr int f (int i)\n{\n  int j = 0;\n  for (; i &gt; 0; --i)\n    ++j;\n  return j;\n}\n\nconstexpr int i = f(42); // i is 42\n</code></pre>\n</blockquote>\n\n<p>Clang has had this implemented since version 3.4.</p>\n"}, {"tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 7, "last_activity_date": 1427301877, "last_edit_date": 1427301877, "creation_date": 1427301523, "answer_id": 29261434, "question_id": 29261276, "link": "https://stackoverflow.com/questions/29261276/constexpr-void-function-rejected/29261434#29261434", "title": "constexpr void function rejected", "body": "<p>It is valid indeed, but not yet supported in GCC. An example in the standard actually includes <code>constexpr</code> functions returning <code>void</code> - see [dcl.constexpr]/1:</p>\n\n<pre><code>constexpr void square(int &amp;x); // OK: declaration\n // [..]\nconstexpr void square(int &amp;x) { // OK: definition\n    x *= x;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/c41e6a4e10a12af5\" rel=\"noreferrer\">Example on Coliru</a> using Clang, which is conforming here.</p>\n"}, {"comments": [{"owner": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 10, "creation_date": 1438696126, "post_id": 29262339, "comment_id": 51547488, "body": "Purpose? Easy, e.g.: template&lt;typename T&gt; constexpr void requireIntegral() { static_assert(std::is_integral&lt;T&gt;::value, &quot;type must be integral&quot;); };"}, {"owner": {"reputation": 192, "user_id": 4705267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SDDsw.jpg?s=128&g=1", "display_name": "static_cats", "link": "https://stackoverflow.com/users/4705267/static-cats"}, "reply_to_user": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 0, "creation_date": 1438814093, "post_id": 29262339, "comment_id": 51609372, "body": "You&#39;re right, good point. Never thought of using constexpr functions that way."}], "tags": [], "owner": {"reputation": 192, "user_id": 4705267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SDDsw.jpg?s=128&g=1", "display_name": "static_cats", "link": "https://stackoverflow.com/users/4705267/static-cats"}, "is_accepted": false, "score": 1, "last_activity_date": 1427304119, "creation_date": 1427304119, "answer_id": 29262339, "question_id": 29261276, "link": "https://stackoverflow.com/questions/29261276/constexpr-void-function-rejected/29262339#29262339", "title": "constexpr void function rejected", "body": "<p>Taken from <em>The C++ Programmig Language (4th Edition)</em>:</p>\n\n<blockquote>\n  <p>A constexpr function may not have side-effects.</p>\n</blockquote>\n\n<p>So, what would be the purpose of a constexpr void function?</p>\n\n<p>If you are aiming to do something like that:</p>\n\n<pre><code>constexpr void Twice(int &amp;a)\n{\n    a *= 2;\n}\n</code></pre>\n\n<p>You should consider changing to:</p>\n\n<pre><code>constexpr int Twice(int a)\n{\n    return 2 * a;\n}\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 4713075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7000b57cbfcd7fa6c40f5de355162ec?s=128&d=identicon&r=PG&f=1", "display_name": "user4713075", "link": "https://stackoverflow.com/users/4713075/user4713075"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5027, "favorite_count": 1, "answer_count": 3, "score": 13, "last_activity_date": 1458301733, "creation_date": 1427301079, "last_edit_date": 1458301733, "question_id": 29261276, "link": "https://stackoverflow.com/questions/29261276/constexpr-void-function-rejected", "title": "constexpr void function rejected", "body": "<p>I have this very simple function which won't compile.</p>\n\n<pre><code>constexpr void func()\n{\n}\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre>error: invalid return type '<code>void</code>' of <code>constexpr</code> function '<code>constexpr void func()</code>'\n\n     <code>constexpr void func()</code></pre>\n\n<p>In C++14, <code>void</code> is a literal type [\u00a73.9/10]:</p>\n\n<blockquote>\n  <p>A type is a <em>literal type</em> if it is:</p>\n  \n  <ul>\n  <li>void; or</li>\n  <li>a scalar type; or</li>\n  <li>a reference type; or</li>\n  <li>an array of literal type; or</li>\n  <li>a class type (Clause 9) that has all of the following properties:\n  <ul>\n  <li>it has a trivial destructor,</li>\n  <li>it is an aggregate type (8.5.1) or has at least one <code>constexpr</code> constructor or constructor template that is not a copy or move constructor, and</li>\n  <li>all of its non-static data members and base classes are of non-volatile literal types.</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Can someone explain why this is invalid?</p>\n"}, {"tags": ["c++", "visual-studio-2012", "mfc"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1427301059, "post_id": 29261060, "comment_id": 46724574, "body": "Reading <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd145071(v=vs.85).aspx\" rel=\"nofollow noreferrer\">this Microsoft documentation</a> should give you some clues."}, {"owner": {"reputation": 1395, "user_id": 3051460, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6aae13a1e44542e095166794802b6068?s=128&d=identicon&r=PG&f=1", "display_name": "user3051460", "link": "https://stackoverflow.com/users/3051460/user3051460"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1427301117, "post_id": 29261060, "comment_id": 46724613, "body": "I want to single display not multiple display. For the first code, it works well for multiple display"}], "answers": [{"tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": true, "score": 2, "last_activity_date": 1427301655, "creation_date": 1427301655, "answer_id": 29261474, "question_id": 29261060, "link": "https://stackoverflow.com/questions/29261060/full-screen-window-in-mfc/29261474#29261474", "title": "Full screen window in MFC", "body": "<p>In your view class do the following:</p>\n\n<pre><code>SetParent(GetDesktopWindow());\nCRect rect;\nGetDesktopWindow()-&gt;GetWindowRect(&amp;rect);\nSetWindowPos(&amp;wndTopMost,rect.left,rect.top,rect.right,rect.bottom,SWP_SHOWWINDOW);\n</code></pre>\n"}], "owner": {"reputation": 1395, "user_id": 3051460, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6aae13a1e44542e095166794802b6068?s=128&d=identicon&r=PG&f=1", "display_name": "user3051460", "link": "https://stackoverflow.com/users/3051460/user3051460"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 0, "accepted_answer_id": 29261474, "answer_count": 1, "score": 0, "last_activity_date": 1427301655, "creation_date": 1427300436, "question_id": 29261060, "link": "https://stackoverflow.com/questions/29261060/full-screen-window-in-mfc", "title": "Full screen window in MFC", "body": "<p>I am using MFC to make a application. When I click that application, it must be show full screen. I follows that code </p>\n\n<pre><code>CRect rcDesktop;\nrcDesktop.left = GetSystemMetrics(SM_XVIRTUALSCREEN);\nrcDesktop.right = rcDesktop.left + GetSystemMetrics(SM_CXVIRTUALSCREEN);\nrcDesktop.top = GetSystemMetrics(SM_YVIRTUALSCREEN);\nrcDesktop.bottom = rcDesktop.top + GetSystemMetrics(SM_CYVIRTUALSCREEN);\nMoveWindow(rcDesktop, FALSE);\n</code></pre>\n\n<p>However, it is only for multiple monitors. If I also have two monitor, but I want to display full screen application in one monitor. How to implement it. I follows that <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724385(v=vs.85).aspx\" rel=\"nofollow\">document</a> and I tried </p>\n\n<pre><code>CRect rcDesktop;\nrcDesktop.left = GetSystemMetrics(SM_CVSCREEN);\nrcDesktop.right = rcDesktop.left + GetSystemMetrics(SM_CXFULLSCREEN);\nrcDesktop.top = GetSystemMetrics(SM_CVSCREEN);\nrcDesktop.bottom = rcDesktop.top + GetSystemMetrics(SM_CYFULLSCREEN);\nMoveWindow(rcDesktop, FALSE);\n</code></pre>\n\n<p>However, it is does not work. Because I need put the coordinate for </p>\n\n<pre><code>rcDesktop.right = rcDesktop.left + GetSystemMetrics(SM_CXFULLSCREEN);\n</code></pre>\n\n<p>Could you help me fix my code. I am using visual studio 2012 and MFC </p>\n"}, {"tags": ["c++", "pthreads", "condition-variable"], "answers": [{"tags": [], "owner": {"reputation": 2975, "user_id": 1170333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e73428522352ea6f8b8488b21e8fc24?s=128&d=identicon&r=PG", "display_name": "prajmus", "link": "https://stackoverflow.com/users/1170333/prajmus"}, "is_accepted": false, "score": 1, "last_activity_date": 1427301336, "creation_date": 1427301336, "answer_id": 29261379, "question_id": 29260934, "link": "https://stackoverflow.com/questions/29260934/why-pthread-condition-variable-getting-hanged/29261379#29261379", "title": "Why pthread_condition variable getting hanged?", "body": "<p>Swap the thread's execution sequence:</p>\n\n<pre><code>pthread_create(&amp;id[1],NULL,watch,NULL);\npthread_create(&amp;id[0],NULL,inc_func,NULL);\n</code></pre>\n\n<p>If you run <code>thread0</code> as first, <code>thread1</code> never gets past mutex lock, so it doesn't start waiting. Than <code>thread0</code> ends, and only then <code>thread1</code> executes <code>pthread_cond_wait()</code>, but there's no thread to do <code>signal</code>.</p>\n\n<p>If you start <code>thread1</code> first, it gets to the waiting part.</p>\n"}, {"tags": [], "owner": {"reputation": 4948, "user_id": 405704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd4896c3199e219cf737e1cfb49532b?s=128&d=identicon&r=PG&f=1", "display_name": "Ionut", "link": "https://stackoverflow.com/users/405704/ionut"}, "is_accepted": true, "score": 2, "last_activity_date": 1427301917, "creation_date": 1427301917, "answer_id": 29261582, "question_id": 29260934, "link": "https://stackoverflow.com/questions/29260934/why-pthread-condition-variable-getting-hanged/29261582#29261582", "title": "Why pthread_condition variable getting hanged?", "body": "<p>The important thing here is that <code>pthread_cond_signal</code> will unblock at least one of the threads that are blocked on that condition variable (meaning which are currently blocked on a call to <code>pthread_cond_wait</code> on that same condition variable). If at the moment when one thread calls <code>pthread_cond_signal</code> there is no other thread waiting on that condition then basically nothing happens.</p>\n\n<p>Keeping this in mind, the flow of your program is something like this:</p>\n\n<ul>\n<li>create and start first thread;</li>\n<li>first thread calls <code>inc_func()</code>, which locks the mutex before anything else;</li>\n<li><code>inc_func()</code> keeps waiting for the number 8 to be entered, keeping the mutex locked all this time;</li>\n<li>sometime during this, but most times probably after the <code>inc_func</code> managed to lock the mutex, the second thread is created;</li>\n<li>the second thread also tries to lock the mutex right at the start of the function, and is blocked because the first thread already has it locked;</li>\n<li>at some point, you enter <code>8</code> and the condition gets signaled from thread 1; <strong>thread 2 is not waiting on this condition yet, so it remains blocked trying to lock the mutex</strong>;</li>\n<li>the first thread finally releases the mutex, so thread 2 locks it and then blocks on <code>pthread_cond_wait</code>.</li>\n</ul>\n\n<p>At this point, thread 1 has already finished, thread 2 is blocked waiting for the condition to be signaled, and the main thread is waiting for it to finish. There is nobody else to signal that condition, so you have a hang.</p>\n\n<p>For a quick fix that will <strong>probably</strong> work <strong>most of the times</strong>, you could try changing the order in which you start the threads(start the <code>watch</code> thread first). But keep in mind and understand why I used bold for <strong>probably</strong> and <strong>most of the times</strong>.\nThe correct way to fix this would be to rethink your locking strategy: lock the mutexes in the smallest scope possible and keep them locked for the shortest time possible.</p>\n"}, {"tags": [], "owner": {"reputation": 215710, "user_id": 134633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6be45ddcfd038ba5e1e5fca319c7fa?s=128&d=identicon&r=PG", "display_name": "caf", "link": "https://stackoverflow.com/users/134633/caf"}, "is_accepted": false, "score": 3, "last_activity_date": 1427347385, "creation_date": 1427347385, "answer_id": 29271604, "question_id": 29260934, "link": "https://stackoverflow.com/questions/29260934/why-pthread-condition-variable-getting-hanged/29271604#29271604", "title": "Why pthread_condition variable getting hanged?", "body": "<p>The correct solution to this is to make the <code>watch</code> thread only wait if the condition it is waiting for has not occured yet.</p>\n\n<p>The condition appears to be <code>c == 8</code> (since that is what is signalled), so you will need to make the <code>c</code> variable global so that it is shared between the threads, then change the <code>watch</code> thread to do:</p>\n\n<pre><code>void *watch(void *arg)\n{\n    pthread_mutex_lock(&amp;mutex);\n    while (c != 8) {\n        pthread_cond_wait(&amp;count_threshold_cv, &amp;mutex);\n    }\n    cout&lt;&lt;\"This executed\"&lt;&lt;endl;\n    pthread_mutex_unlock(&amp;mutex);\n\n    return 0;\n}\n</code></pre>\n\n<p>Now it doesn't matter which thread runs first: your code is correct either way.  This is the right way to use conditional variables: in general, the waiter should do:</p>\n\n<pre><code>pthread_mutex_lock(&amp;mutex);\n\nwhile (!condition)\n    pthread_cond_wait(&amp;cond, &amp;mutex);\n\n/* ... */\n</code></pre>\n\n<p>and the signaller should do:</p>\n\n<pre><code>pthread_mutex_lock(&amp;mutex);\n\n/* ... something that potentially makes condition true ... */\n\npthread_cond_broadcast(&amp;cond);\npthread_mutex_unlock(&amp;mutex);\n</code></pre>\n"}], "owner": {"reputation": 4312, "user_id": 3880254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/13dffa84d85f3ed70e7156867822246d?s=128&d=identicon&r=PG&f=1", "display_name": "InQusitive", "link": "https://stackoverflow.com/users/3880254/inqusitive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29261582, "answer_count": 3, "score": 1, "last_activity_date": 1427347385, "creation_date": 1427300077, "last_edit_date": 1427300740, "question_id": 29260934, "link": "https://stackoverflow.com/questions/29260934/why-pthread-condition-variable-getting-hanged", "title": "Why pthread_condition variable getting hanged?", "body": "<p>I just started learning pthread condition variable. But below code is not working as expected.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;pthread.h&gt;\n\nusing namespace std;\n\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t count_threshold_cv = PTHREAD_COND_INITIALIZER;\nint count=0;\n\n\nvoid *inc_func(void *arg)\n{\n    pthread_mutex_lock(&amp;mutex);\n    int c;\n\n    while(1)\n    {\n        cin&gt;&gt;c;\n        if(c==8){ \n            pthread_cond_signal(&amp;count_threshold_cv);break;}\n    }\n\n    cout&lt;&lt;\"inc count reached 8\"&lt;&lt;endl;\n    pthread_mutex_unlock(&amp;mutex);\n\n}\n\nvoid *watch(void *arg)\n{\n    pthread_mutex_lock(&amp;mutex);\n    while(1){\n        pthread_cond_wait(&amp;count_threshold_cv,&amp;mutex);\n        break;\n    }\n    cout&lt;&lt;\"This executed\"&lt;&lt;endl;\n    pthread_mutex_unlock(&amp;mutex);\n}\n\nint main()\n{\n    pthread_t id[26];\n    pthread_create(&amp;id[0],NULL,inc_func,NULL);\n    pthread_create(&amp;id[1],NULL,watch,NULL);\n\n    int i;\n    for(i=0;i&lt;2;i++)\n    {\n        pthread_join(id[i],NULL);\n    }\n\n}\n</code></pre>\n\n<p>when the input is 8 this code gets hanged at \"inc count reached 8? I am not able to understand. \n Where is my understanding wrong?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3920237"}, "edited": false, "score": 7, "creation_date": 1427300123, "post_id": 29260864, "comment_id": 46723956, "body": "Note that even though <code>system</code> is provided by the C standard, its behavior is implementation-defined. Neither C or C++ have anything to say about graphical text manipulation. Use something like ncurses."}, {"owner": {"reputation": 15720, "user_id": 19719, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3355303796cad8b9ea85993abc9030aa?s=128&d=identicon&r=PG&f=1", "display_name": "indiv", "link": "https://stackoverflow.com/users/19719/indiv"}, "edited": false, "score": 1, "creation_date": 1427300304, "post_id": 29260864, "comment_id": 46724049, "body": "Windows provides an API for working with the console:  <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682010(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>.  I don&#39;t think you erase text, though.  I think you just write spaces over what you want to erase."}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1427300343, "post_id": 29260864, "comment_id": 46724081, "body": "I think that any answers would have to be operating-system-/output device-specific. For example, <code>system(&quot;cls&quot;)</code> would not work in bash (<code>sh: 1: cls: not found</code>)."}, {"owner": {"reputation": 14930, "user_id": 395718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f1323cdc2a70698b5275082bf6e61184?s=128&d=identicon&r=PG", "display_name": "Dialecticus", "link": "https://stackoverflow.com/users/395718/dialecticus"}, "edited": false, "score": 0, "creation_date": 1427301260, "post_id": 29260864, "comment_id": 46724715, "body": "It is not clear what you want to achieve. Give us an example (input, output)."}, {"owner": {"reputation": 2082, "user_id": 4650866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zdnr7cwhkSM/AAAAAAAAAAI/AAAAAAAAABg/bkXmy0WHVN0/photo.jpg?sz=128", "display_name": "Vipertecpro", "link": "https://stackoverflow.com/users/4650866/vipertecpro"}, "edited": false, "score": 0, "creation_date": 1427307810, "post_id": 29260864, "comment_id": 46729052, "body": "Two Types of Mode i have know that is text and graphic mode in graphic mode i can do it just by setting up gotoxy(x,y) but in text mode i got nothing yet ?"}], "answers": [{"tags": [], "owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "is_accepted": false, "score": 0, "last_activity_date": 1427301255, "creation_date": 1427301255, "answer_id": 29261358, "question_id": 29260864, "link": "https://stackoverflow.com/questions/29260864/how-can-i-clear-particular-text-in-text-mode-in-c-not-whole-screen/29261358#29261358", "title": "How can i clear particular text in text mode in c++ &quot;not whole screen&quot;?", "body": "<p>Both of the following C programs work in bash on Debian:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n  printf(\"xxxHellow\\bxxx\\n\");\n  return 0;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\nint main() { return system(\"echo 'xxxHellow\\bxxx'\"); }\n</code></pre>\n\n<p>Both produce the result you'd expect:</p>\n\n<pre><code>thomas@yozu-thomas:~/Programming$ gcc -o main main.c\nthomas@yozu-thomas:~/Programming$ ./main\nxxxHelloxxx\nthomas@yozu-thomas:~/Programming$ \n</code></pre>\n\n<p>This will probably work on Mac OSX too (since it also uses <a href=\"https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/bash.1.html\" rel=\"nofollow\">bash</a>), but I don't know about Windows <a href=\"https://en.wikipedia.org/wiki/Cmd.exe\" rel=\"nofollow\"><code>cmd.exe</code></a> or <a href=\"http://en.wikipedia.org/wiki/PowerShell\" rel=\"nofollow\">PowerShell</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 273, "user_id": 3366592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de1afda0395cf4dd43f227a2520f2f31?s=128&d=identicon&r=PG&f=1", "display_name": "user3366592", "link": "https://stackoverflow.com/users/3366592/user3366592"}, "is_accepted": false, "score": 0, "last_activity_date": 1427303916, "last_edit_date": 1427303916, "creation_date": 1427303527, "answer_id": 29262135, "question_id": 29260864, "link": "https://stackoverflow.com/questions/29260864/how-can-i-clear-particular-text-in-text-mode-in-c-not-whole-screen/29262135#29262135", "title": "How can i clear particular text in text mode in c++ &quot;not whole screen&quot;?", "body": "<p>You can use the <code>SetConsoleCursorPos()</code> function that is inside the <code>windows.h</code> library and overwrite a character or more characters with blank characters/spaces through calling a text printing function.</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n\nvoid clearScreen(int from_x, int to_x, int from_y, int to_y) // this function clears a block of text\n{\n    HANDLE conHandle = GetStdHandle(STD_OUTPUT_HANDLE);\n\n    for(int i = 0; i&lt;to_y-from_y; i++)\n    {\n        COORD pos;\n        pos.Y = from_y+i;\n        pos.X = from_x;\n        SetConsoleCursorPosition(conHandle, pos);\n        for(int j = 0; j&lt;to_x-from_x; j++)\n        {\n            printf(\" \");\n        }\n    }\n    return;\n}\n\nint main()\n{\n    for(int i = 0; i&lt;10; i++)\n    {\n        for(int j = 0; j&lt;10; j++)\n        {\n            printf(\"a\");\n        }\n        printf(\"\\n\");\n    }\n    clearScreen(1, 3, 4, 6);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 2082, "user_id": 4650866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zdnr7cwhkSM/AAAAAAAAAAI/AAAAAAAAABg/bkXmy0WHVN0/photo.jpg?sz=128", "display_name": "Vipertecpro", "link": "https://stackoverflow.com/users/4650866/vipertecpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1427303916, "creation_date": 1427299904, "last_edit_date": 1427300041, "question_id": 29260864, "link": "https://stackoverflow.com/questions/29260864/how-can-i-clear-particular-text-in-text-mode-in-c-not-whole-screen", "title": "How can i clear particular text in text mode in c++ &quot;not whole screen&quot;?", "body": "<pre><code>system(\"cls\") - #include &lt;stdlib.h&gt;  STANDARD HEADER FILE \nclrscr()      - #include &lt;conio.h&gt;   NON-STANDARD HEADER FILE\n</code></pre>\n\n<p>These two functions clear whole screen.\nI wanted to clear or we can using the concept of BACKSLASH '\\b' for a particular character or string without effecting the other content.At the time of inserting any number.\nFor Example : hellow \nas i typing this 'hellow' at the same time it goes back to 'o'.</p>\n"}, {"tags": ["c++", "zlib", "deflate", "inflate"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4712894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fd42171a6ecaff1dddae5b747cb57e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/4712894/andrey"}, "edited": false, "score": 0, "creation_date": 1427300717, "post_id": 29260941, "comment_id": 46724338, "body": "Yes, it was a bug, thx. I fixed it, but the main problem is not solved."}, {"owner": {"reputation": 338, "user_id": 1551623, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb239eb5ba65bc077f952a41248347a3?s=128&d=identicon&r=PG", "display_name": "Nodarius", "link": "https://stackoverflow.com/users/1551623/nodarius"}, "reply_to_user": {"reputation": 11, "user_id": 4712894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fd42171a6ecaff1dddae5b747cb57e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/4712894/andrey"}, "edited": false, "score": 0, "creation_date": 1587906019, "post_id": 29260941, "comment_id": 108687472, "body": "@Andrey did u find a solution?"}], "tags": [], "owner": {"reputation": 65414, "user_id": 768469, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/383724e63ab04b146277912c16f27f54?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/768469/nemo"}, "is_accepted": false, "score": 1, "last_activity_date": 1427300095, "creation_date": 1427300095, "answer_id": 29260941, "question_id": 29260784, "link": "https://stackoverflow.com/questions/29260784/c-zlib-incorrect-header-check/29260941#29260941", "title": "c++ zlib: incorrect header check", "body": "<p>This looks like a bug:</p>\n\n<pre><code>readStream.avail_out = 0;\n</code></pre>\n\n<p>It should probably read:</p>\n\n<pre><code>readStream.avail_out = buffSize;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4712894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fd42171a6ecaff1dddae5b747cb57e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/4712894/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1722, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427303591, "creation_date": 1427299680, "last_edit_date": 1427300596, "question_id": 29260784, "link": "https://stackoverflow.com/questions/29260784/c-zlib-incorrect-header-check", "title": "c++ zlib: incorrect header check", "body": "<p>Using zlib version 1.2.7\nI've encoutered a strange issue: call of inflate() fails with error -3 Z_DATA_ERROR and message \"incorrect header check\". \nThe data was compressed by using deflate() before this. \nHere is the simple example of this error. What's wrong with it?</p>\n\n<pre><code>    std::string testWord = \"Hello world\";\nconst int buffSize = 1000;\nbyte buffer[buffSize];\nbyte outBuffer[buffSize];\nz_stream readStream, writeStream;\n\nreadStream.zalloc = Z_NULL;\nreadStream.zfree = Z_NULL;\nreadStream.opaque = Z_NULL;\nreadStream.avail_in = 0;\nreadStream.next_in = Z_NULL;\n\nwriteStream.zalloc = Z_NULL;\nwriteStream.zfree = Z_NULL;\nwriteStream.opaque = Z_NULL;\nwriteStream.avail_in = 0;\nwriteStream.next_in = Z_NULL;\n\nint rez = inflateInit(&amp;readStream);\nif (rez != Z_OK)\n    std::cout &lt;&lt; \"InflateInit returned error \" &lt;&lt; rez;\n\nrez = deflateInit(&amp;writeStream, Z_DEFAULT_COMPRESSION);\nif (rez != Z_OK)\n    std::cout &lt;&lt; \"deflateInit returned error \" &lt;&lt; rez;\n\nwriteStream.next_in = (byte*)testWord.c_str();\nwriteStream.avail_in = testWord.size();\nwriteStream.next_out = (Bytef*) buffer;\nwriteStream.avail_out = buffSize;\n\nrez = deflate(&amp;writeStream, Z_FINISH);\nif (rez != Z_STREAM_END)\n    std::cout &lt;&lt; \"deflate returned error \" &lt;&lt; rez;\n\nrez = deflateEnd(&amp;writeStream);\nif (rez != Z_OK)\n    std::cout &lt;&lt; \"deflateEnd returned error \" &lt;&lt; rez;\n\nreadStream.next_in = buffer;\nreadStream.avail_in = buffSize - writeStream.avail_out;\nreadStream.next_out = outBuffer;\nreadStream.avail_out = buffSize;\n\nrez = inflate(&amp;readStream, Z_FINISH);\nif (rez != Z_STREAM_END)\n{\n    std::cout &lt;&lt; \"inflate returned error \" &lt;&lt; rez &lt;&lt; \" msg: \" &lt;&lt; readStream.msg;\n    return;\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "static-linking"], "answers": [{"tags": [], "owner": {"reputation": 944, "user_id": 1499575, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/82374abfce29c20a6f214de4fa2226f5?s=128&d=identicon&r=PG", "display_name": "mreff555", "link": "https://stackoverflow.com/users/1499575/mreff555"}, "is_accepted": false, "score": 0, "last_activity_date": 1427300049, "last_edit_date": 1495542495, "creation_date": 1427300049, "answer_id": 29260924, "question_id": 29260763, "link": "https://stackoverflow.com/questions/29260763/opencv-static-compilation-on-ubuntu/29260924#29260924", "title": "OpenCv static compilation on Ubuntu", "body": "<p>You may want to read this post. Static linking of tbb is not recommended by Intel.\n<a href=\"https://stackoverflow.com/questions/638278/how-to-statically-link-to-tbb\">How to statically link to TBB?</a></p>\n"}], "owner": {"reputation": 326, "user_id": 2619740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714f05b64baf3ddf712192a49e225563?s=128&d=identicon&r=PG", "display_name": "Elmira", "link": "https://stackoverflow.com/users/2619740/elmira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427300049, "creation_date": 1427299622, "question_id": 29260763, "link": "https://stackoverflow.com/questions/29260763/opencv-static-compilation-on-ubuntu", "title": "OpenCv static compilation on Ubuntu", "body": "<p>I have static libraries of Opencv on my computer and I can link against them so my app does not need those libraries any more. I still need ffmpeg and other dependencies on a new computer though. I know I will need the static version of all the libraries. But some of them like tbb or gstreamer are not easy to find. Any better way?</p>\n"}, {"tags": ["c++", "return-type"], "comments": [{"owner": {"reputation": 2493, "user_id": 2194336, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f243ae014c6513e994cea484e694e6db?s=128&d=identicon&r=PG", "display_name": "cerkiewny", "link": "https://stackoverflow.com/users/2194336/cerkiewny"}, "edited": false, "score": 1, "creation_date": 1427299283, "post_id": 29260606, "comment_id": 46723384, "body": "What is the copy constructor of chain?"}, {"owner": {"reputation": 556, "user_id": 2870660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UpxBk.png?s=128&g=1", "display_name": "Hurzelchen", "link": "https://stackoverflow.com/users/2870660/hurzelchen"}, "edited": false, "score": 0, "creation_date": 1427299403, "post_id": 29260606, "comment_id": 46723475, "body": "do you really want to return a copy of your chain? Or shouldn&#39;t your return type be <code>Chain &amp;</code> so that to get a reference to your current chain?"}, {"owner": {"reputation": 556, "user_id": 2870660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UpxBk.png?s=128&g=1", "display_name": "Hurzelchen", "link": "https://stackoverflow.com/users/2870660/hurzelchen"}, "edited": false, "score": 0, "creation_date": 1427299734, "post_id": 29260606, "comment_id": 46723691, "body": "Could you also provide a short snippet how you&#39;re using your class and explain what goes wrong?"}, {"owner": {"reputation": 310, "user_id": 3563059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2dada44aa4a6a20531e845ae3ea223c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3563059", "link": "https://stackoverflow.com/users/3563059/user3563059"}, "reply_to_user": {"reputation": 2493, "user_id": 2194336, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f243ae014c6513e994cea484e694e6db?s=128&d=identicon&r=PG", "display_name": "cerkiewny", "link": "https://stackoverflow.com/users/2194336/cerkiewny"}, "edited": false, "score": 0, "creation_date": 1427300162, "post_id": 29260606, "comment_id": 46723981, "body": "@cerkiewny I am not using any special copy constructor."}, {"owner": {"reputation": 25661, "user_id": 430766, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ee7e736eeb33c4b03d4a5e6e813a9abc?s=128&d=identicon&r=PG", "display_name": "bitmask", "link": "https://stackoverflow.com/users/430766/bitmask"}, "edited": false, "score": 0, "creation_date": 1427300236, "post_id": 29260606, "comment_id": 46724017, "body": "Please provide a minimal example, so people can see the error for themselves."}, {"owner": {"reputation": 310, "user_id": 3563059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2dada44aa4a6a20531e845ae3ea223c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3563059", "link": "https://stackoverflow.com/users/3563059/user3563059"}, "reply_to_user": {"reputation": 556, "user_id": 2870660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UpxBk.png?s=128&g=1", "display_name": "Hurzelchen", "link": "https://stackoverflow.com/users/2870660/hurzelchen"}, "edited": false, "score": 0, "creation_date": 1427300309, "post_id": 29260606, "comment_id": 46724056, "body": "@Hurzelchen Can you explain the meaning of <code>return * this</code>? And why should I use <code>Chain &amp;</code> in function signature?"}, {"owner": {"reputation": 556, "user_id": 2870660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UpxBk.png?s=128&g=1", "display_name": "Hurzelchen", "link": "https://stackoverflow.com/users/2870660/hurzelchen"}, "edited": false, "score": 2, "creation_date": 1427300586, "post_id": 29260606, "comment_id": 46724251, "body": "<code>return *this</code> is used to return a reference to the current object (most commonly used in the assignment operator <code>operator=()</code>). It gives you the option to continue to keep using your instance something like that <code>Chain c; c.insert(a).insert(b);</code>. The <code>Chain &amp;</code> means that you get a reference to an instance and not a copy like <code>Chain</code> would give you."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1427303626, "post_id": 29260606, "comment_id": 46726288, "body": "Please add to your post, the definition of <code>Chain</code> class or structure."}], "owner": {"reputation": 310, "user_id": 3563059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2dada44aa4a6a20531e845ae3ea223c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3563059", "link": "https://stackoverflow.com/users/3563059/user3563059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427299161, "creation_date": 1427299161, "question_id": 29260606, "link": "https://stackoverflow.com/questions/29260606/what-is-the-error-in-return-statement-in-the-following-code-of-c", "title": "What is the error in return statement in the following code of C++?", "body": "<pre><code>Chain Chain::insert(int x) {\n    ChainNode * current = first;\n    ChainNode * ptr = new ChainNode;\n    ptr-&gt;data = x;\n    ptr-&gt;link = NULL;\n    if(first != NULL) {\n        while(current-&gt;link != NULL) {\n            current = current-&gt;link;\n        }\n        current-&gt;link = ptr;\n        return * this;\n    }\n    else {\n        first = ptr;\n        return * this;\n    }\n}\n</code></pre>\n\n<p>The above code doesn't work without adding '&amp;' (reference) in return statement i.e. it gives wrong results. Here, Chain is a class used to implement linked list and ChainNode is another class which corresponds to Node of linked list.</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427299551, "post_id": 29260419, "comment_id": 46723572, "body": "Just use <code>int main()</code>, like every other C++ program."}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1427300184, "post_id": 29260419, "comment_id": 46723992, "body": "That doesnt work, i tried both ways"}, {"owner": {"reputation": 4127, "user_id": 4231385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89a541a4609cafea3957e4cdfcca50f?s=128&d=identicon&r=PG&f=1", "display_name": "cremno", "link": "https://stackoverflow.com/users/4231385/cremno"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427303760, "post_id": 29260419, "comment_id": 46726380, "body": "<code>_TCHAR</code> isn&#39;t used anywhere else in your (posted) code, so @chris&#39; suggestion should&#39;ve fixed that error. Did you get different (maybe new) errors? What exactly did you do?"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1427304215, "post_id": 29260419, "comment_id": 46726644, "body": "I changed   int _tmain(int argc, _TCHAR* argv[])  to int main().  And also typed this &gt; #include &lt;tchar.h&gt;. Still getting the same exacly error"}, {"owner": {"reputation": 4265, "user_id": 1472474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7fe184097bbf00ca0b37a90730454fdc?s=128&d=identicon&r=PG", "display_name": "Jan Spurny", "link": "https://stackoverflow.com/users/1472474/jan-spurny"}, "edited": false, "score": 0, "creation_date": 1427307739, "post_id": 29260419, "comment_id": 46728988, "body": "I tried to fix the formatting (please read <a href=\"http://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> so next time, your formatting would be perfect) and I also changed backslashes used as comment (`\\\\\\`) to regular slashes, as that&#39;s what a correct C++ comment looks like. Also I would like to suggest to try to reduce the amount of code you&#39;re showing us. Shorter code is more readable, and by trying to shorten your code example you often discover the bug yourself."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1427308186, "post_id": 29260419, "comment_id": 46729289, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/6wd819wh.aspx\" rel=\"nofollow noreferrer\">MSDN main: Program Startup</a>"}, {"owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "edited": false, "score": 0, "creation_date": 1427311396, "post_id": 29260419, "comment_id": 46731270, "body": "Ok thanks for editing it. the original file where i read this programa is here <a href=\"http://www.gametutorials.com/tutorial/text-adventure-part1/\" rel=\"nofollow noreferrer\">gametutorials.com/tutorial/text-adventure-part1</a>. it works when i use the file from the tutorial, but not mine, and i did step by step. cant understand why it wont work"}], "answers": [{"comments": [{"owner": {"reputation": 5461, "user_id": 3543437, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/947362c9bddd67410a62fe6b02b5487d?s=128&d=identicon&r=PG&f=1", "display_name": "kayleeFrye_onDeck", "link": "https://stackoverflow.com/users/3543437/kayleefrye-ondeck"}, "edited": false, "score": 0, "creation_date": 1493590742, "post_id": 29260489, "comment_id": 74467896, "body": "No luck for the OP, but it did work for me. Thanks, Andrew Komiagin!"}], "tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 14, "last_activity_date": 1427298844, "creation_date": 1427298844, "answer_id": 29260489, "question_id": 29260419, "link": "https://stackoverflow.com/questions/29260419/c2061-syntax-error-identifier-tchar/29260489#29260489", "title": "C2061: syntax error : identifier &#39;_TCHAR&#39;", "body": "<p>You need to include it: </p>\n\n<pre><code>#include \"tchar.h\"\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 4712857, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/609765894/picture?type=large", "display_name": "Daniel Bezerra De Menezes", "link": "https://stackoverflow.com/users/4712857/daniel-bezerra-de-menezes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12179, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1427307739, "creation_date": 1427298673, "last_edit_date": 1427307739, "question_id": 29260419, "link": "https://stackoverflow.com/questions/29260419/c2061-syntax-error-identifier-tchar", "title": "C2061: syntax error : identifier &#39;_TCHAR&#39;", "body": "<p>Can't understand why I'm getting this error? im kinda new to  c++ and microsoft visual studio, kinda lost on this. Thanks for the help on advance.</p>\n\n<pre><code>#include &lt;iostream&gt;                          \n#include &lt;fstream&gt;                           \n#include &lt;string&gt;                       \n#include &lt;windows.h&gt;                        \n\nusing namespace std;\n#define STILL_PLAYING   1\n#define QUIT            0\n#define GAME_FILE \"Mundo.txt\";\n\n////// the main class of the game, its a room, ull be moving around to other rooms. /////////////\nstruct posicao{\n    string posAtual;\n    string Descricao;\n    string posNorte;\n    string posSul;\n    string posLeste;\n    string posOeste;\n};\n\n/////////// displays the room that you are at the moment /////\nvoid mostraposicao(posicao &amp;posicao)\n{\n    cout &lt;&lt; posicao.Descricao &lt;&lt; endl &lt;&lt; endl;\n}\n\n////////// gets all info of the present room ////\nvoid getPosicaoInfo(posicao &amp;posicao, ifstream fin) {\n    string strLine = \"\";\n    string strTemp = \"\";\n\n    string strPosicao = \"&lt;\" + posicao.posAtual + \"&gt;\";\n    fin.seekg(NULL, ios::beg);\n    fin.clear();\n\n    // reads the txt file line by line till it reaches '*' because\n    // the room description is in this format ---&gt;&gt; \"text '*'\"\n    // to identify the end of the description.\n    while (getline(fin, strLine, '\\n')) {\n        if (strLine == strPosicao) {\n            getline(fin, posicao.Descricao, '*');\n            fin &gt;&gt; strTemp &gt;&gt; posicao.posNorte;\n            fin &gt;&gt; strTemp &gt;&gt; posicao.posSul;\n            fin &gt;&gt; strTemp &gt;&gt; posicao.posLeste;\n            fin &gt;&gt; strTemp &gt;&gt; posicao.posOeste;\n            return;\n        }\n    }\n}\n\n//// moves to another room////////\nvoid Andar(ifstream fin, posicao &amp;posicao, string strPosicao) {\n    if (string == \"None\") {\n        cout &lt;&lt; \"Voc\u00ea n\u00e3o pode ir por ai!!!\" &lt;&lt; endl;\n        return;\n    }\n    posicao.posAtual = strPosicao;\n    getPosicaoInfo(fin, posicao);\n    mostraposicao(posicao);\n}\n\n//////////get the input of the player ///////////\nint getComando(ifstream fin, posicao &amp;posicao) {\n    string strComando = \"\";\n    cout &lt;&lt;endl &lt;&lt; \":\";\n    cin &gt;&gt; strComando;\n    if (strComando == \"Olhar\") {\n        mostraposicao(posicao);\n    }\n    else if(strComando == \"Norte\") {\n        Andar(fin, posicao, posicao.posNorte);\n    }\n    else if (strComando == \"Sul\") {\n        Andar(fin, posicao, posicao.posSul);\n    }\n    else if (strComando == \"Leste\") {\n        Andar(fin, posicao, posicao.posLeste);\n    }\n    else if (strComando == \"Oeste\") {\n        Andar(fin,posicao,posicao.posOeste)\n    }\n    else if (strComando == \"Sair\") {\n        cout &lt;&lt; \"Voc\u00ea j\u00e1 desistiu?\" &lt;&lt; endl;\n        return QUIT;\n    }\n    else if (strComando == \"Ajuda\" || strComando == \"?\") {\n        cout &lt;&lt; endl &lt;&lt; \"Os comandos do jogo sao : Olhar, Norte, Sul, Leste,Oeste,Sair,Ajuda\" &lt;&lt; endl;\n    }\n    else {\n        cout &lt;&lt; \"Ah\u00f1???\" &lt;&lt; endl;\n    }\n    return STILL_PLAYNG;\n}\n\n///// where the game begins //////////\nint _tmain(int argc, _TCHAR* argv[])\n{\n    ifstream fin;    /// creates the stream file ///\n    posicao posicao;   //// the room that will be used in the game ///\n    fin.open(GAME_FILE);   ///// gets the text file////\n    if (fin.fail())   /////// if the text doesnt exist, the game ends ////\n    {\n        // Display a error message and return -1 (Quit the program)\n        cout &lt;&lt; \"Jogo n\u00e3o encontrado\" &lt;&lt; endl;\n        return -1;\n    }\n    // reads twice, so it skips the &lt;start&gt; and reads the &lt;middle&gt;\n    // (first room ull be in the game\n    fin &gt;&gt; posicao.posAtual &gt;&gt; posicao.posAtual;\n    getPosicaoInfo(fin, posicao);\n    mostraposicao(posicao);\n\n    /////// if the input its quit, ends the game//////\n    while (1) {\n        if (getComando(fin, posicao) == QUIT)\n            break;\n    }\n    /////// closes the txt file, ends the game//////////\n    fin.close();\n    Sleep(3000); /// delays  the close///\n    return 0;\n}\n</code></pre>\n\n<p>the text is in this format:</p>\n\n<pre><code>&lt;Start&gt; Middle\n\n&lt;Middle&gt;\nYou step into a house where you are nearly\nblinded by the light shinning through the window.\nYou have been searching for your friend who was captured.\nThe trail has led you to this mansion.\nThere is a door in every direction.*\n&lt;north&gt; Top\n&lt;east&gt;  Right\n&lt;south&gt; Bottom\n&lt;west&gt;  Left\n\n&lt;Left&gt;\nThere is a fountain in the middle of this room.\nThe cool, crisp air swirls about and encircles you.\nThere is only one door to the east where you came.*\n&lt;north&gt; None\n&lt;east&gt;  Middle\n&lt;south&gt; None\n&lt;west&gt;  None\n\n&lt;Bottom&gt;\nYou step back outside of the mansion and grab some fresh air.\nIt is quite refreshing, comapred to the damp smell from within.\nYou here rustling from the second story of the house.  It could be your friend.\nYour only option is to go back inside and get them out of here!*\n&lt;north&gt; Middle\n&lt;east&gt;  None\n&lt;south&gt; None\n&lt;west&gt;  None\n\n&lt;Right&gt;\nAs you pass through the door you feel a chill run\ndown your spine.  It appears that there something or \nsomeone or something sitting in the corner, covered by darkness.\nThere is no where to go but back to the west.*\n&lt;north&gt; None\n&lt;east&gt;  None\n&lt;south&gt; None\n&lt;west&gt;  Middle\n\n&lt;Top&gt;\nAs you get closer to the second story of the mansion, the sounds of someone\nstruggling can be heard more distinctly.  There is no turning back now.\nOne door is to the south and one is to the north up a stairwell.*\n&lt;north&gt; End\n&lt;east&gt;  None\n&lt;south&gt; Middle\n&lt;west&gt;  None\n\n&lt;End&gt;\nYou find your friend tied to a chair.  Their hands, feet and mouth are bound,\nbut it's as if their eyes are screaming at you.  Short bursts of muffled yells\nare heard from under the cloth that holds their mouth, as if to say, \"Run!\".  \nWhat could they be trying to say?  As you walk closer to them they seem to get \nlouder and more depserate. That's when you see it.  It had been lurching in the\ncorner, feathered by darkness.   To be continued...*\n&lt;north&gt; None\n&lt;east&gt;  None\n&lt;south&gt; None\n&lt;west&gt;  None\n</code></pre>\n"}, {"tags": ["c++", "windows", "memory", "shared-memory", "file-mapping"], "answers": [{"comments": [{"owner": {"reputation": 1751, "user_id": 1025124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/66cd3dc00b09bf9504c0aebe06202d9f?s=128&d=identicon&r=PG", "display_name": "igal k", "link": "https://stackoverflow.com/users/1025124/igal-k"}, "edited": false, "score": 0, "creation_date": 1427300685, "post_id": 29260962, "comment_id": 46724323, "body": "What does UnmapViewOfFile do exactly? it only releases the address, or deallocates the memory? if on the first process, i filled the buffer, and then unmapped it, would the same data be present on the second process once i MapViewOfFile it?"}, {"owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "reply_to_user": {"reputation": 1751, "user_id": 1025124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/66cd3dc00b09bf9504c0aebe06202d9f?s=128&d=identicon&r=PG", "display_name": "igal k", "link": "https://stackoverflow.com/users/1025124/igal-k"}, "edited": false, "score": 0, "creation_date": 1427302614, "post_id": 29260962, "comment_id": 46725664, "body": "@igalk It releases the address. There is no deallocation until after all processes unmap.  Don&#39;t know about your second question."}], "tags": [], "owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "is_accepted": false, "score": 1, "last_activity_date": 1427300180, "creation_date": 1427300180, "answer_id": 29260962, "question_id": 29260148, "link": "https://stackoverflow.com/questions/29260148/how-to-use-shared-memory-correctly-under-windows/29260962#29260962", "title": "How to use shared memory correctly under windows", "body": "<p>Every process that calls MapViewOfFile should call UnmapViewOfFile when it is finished using the shared memory. That would typically be when the program is shutting down.</p>\n"}, {"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": true, "score": 3, "last_activity_date": 1427306254, "last_edit_date": 1427306254, "creation_date": 1427302765, "answer_id": 29261889, "question_id": 29260148, "link": "https://stackoverflow.com/questions/29260148/how-to-use-shared-memory-correctly-under-windows/29261889#29261889", "title": "How to use shared memory correctly under windows", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa366537%28v=vs.85%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa366537%28v=vs.85%29.aspx</a> </p>\n\n<blockquote>\n  <p><strong>CreateFileMapping function</strong><br>\n  Creates or opens a named or unnamed file mapping object for a specified file.<br>\n  ...<br>\n  Creating a file mapping object does not actually map the view into a process address space. The MapViewOfFile and MapViewOfFileEx functions map a view of a file into a process address space.<br>\n  ...<br>\n  Mapped views of a file mapping object maintain internal references to the object, and a file mapping object does not close until all references to it are released. Therefore, to fully close a file mapping object, an application must unmap all mapped views of the file mapping object by calling <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa366882(v=vs.85).aspx\" rel=\"nofollow\">UnmapViewOfFile</a> and close the file mapping object handle by calling <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724211(v=vs.85).aspx\" rel=\"nofollow\">CloseHandle</a>. These functions can be called in any order.</p>\n</blockquote>\n\n<p>So Process #1 creates a map object <em>in the operating system</em>.  Then process #1 maps some part of that into it's own process memory.<br>\nProcess #2 gets a handle to the same operating system mapping object, and maps the same part or a different part of that into it's own memory.<br>\nWhen either process is finished, they call <code>UnmapViewOfFile</code> which removes the mapping from it's own process memory, and they call <code>CloseHandle</code> on their handle to the operating system map.  Windows handles are all effectively reference-counted, so when all processes that have a handle call <code>CloseHandle</code>, then the operating system automatically destroys the map object.  </p>\n\n<p>Note that this means if process #1 creates the mapping, uses the mapping, then closes it entirely, and then process #2 tries to open that mapping, process #2 will fail because the operating system deleted it when no processes had any handles.  To work around this, create files in the filesystem to back your memory, which allows the memory to stick around between processes, until you delete the file.</p>\n"}], "owner": {"reputation": 1751, "user_id": 1025124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/66cd3dc00b09bf9504c0aebe06202d9f?s=128&d=identicon&r=PG", "display_name": "igal k", "link": "https://stackoverflow.com/users/1025124/igal-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "accepted_answer_id": 29261889, "answer_count": 2, "score": 0, "last_activity_date": 1427306254, "creation_date": 1427297974, "last_edit_date": 1427298433, "question_id": 29260148, "link": "https://stackoverflow.com/questions/29260148/how-to-use-shared-memory-correctly-under-windows", "title": "How to use shared memory correctly under windows", "body": "<p>I'm kind of new to shared memory and i was searching for a working example, i managed to find only over <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa366551%28v=vs.85%29.aspx\" rel=\"nofollow\">MSDN</a></p>\n\n<p>On the first process i've declared my shared memory as following:</p>\n\n<pre><code>hFileMapping = ::CreateFileMapping(INVALID_HANDLE_VALUE, nullptr, PAGE_READWRITE, 0, dwDataSize, strSharedMemoryName.c_str());\npBuffer = ::MapViewOfFile(hFileMapping, FILE_MAP_WRITE, 0, 0, dwDataSize);\n::CopyMemory(pBuffer, pData, dwDataSize);\n</code></pre>\n\n<p>and on the second process:</p>\n\n<pre><code>HANDLE hFileMap = ::OpenFileMapping(FILE_MAP_READ, FALSE, strContentsSizeFileMap.c_str());\nLPVOID pData = ::MapViewOfFile(hFileMap, FILE_MAP_READ, 0, 0, 0);\n</code></pre>\n\n<p>I know that once I'm done working on the mapView, i need to release it using '<code>UnmapViewOfFile()</code>'. My question is where exactly? </p>\n\n<ol>\n<li>Parent Process?</li>\n<li>Child Process</li>\n<li>Both?</li>\n</ol>\n\n<p>If it's on both, does the OS keep some reference count on the address before it's fully released?</p>\n\n<p>From MSDN:</p>\n\n<blockquote>\n  <p>It also decrements the share count of the corresponding physical page</p>\n</blockquote>\n\n<p>which got me a little bit confused regarding what im actually supposed to do.</p>\n"}, {"tags": ["c++", "md5", "minifilter"], "comments": [{"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 1, "creation_date": 1427298081, "post_id": 29260122, "comment_id": 46722513, "body": "This does not look like C. Could it be C++ ?"}, {"owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1427298225, "post_id": 29260122, "comment_id": 46722605, "body": "It is, updated the question. Thanks."}, {"owner": {"reputation": 1233, "user_id": 2560990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b42b19b1b40ef800b3f0ded4adde9de?s=128&d=identicon&r=PG", "display_name": "robin.koch", "link": "https://stackoverflow.com/users/2560990/robin-koch"}, "edited": false, "score": 0, "creation_date": 1427298398, "post_id": 29260122, "comment_id": 46722748, "body": "actually, the provided example is written in C, with MS Extensions (try/finally)"}, {"owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 0, "creation_date": 1427298455, "post_id": 29260122, "comment_id": 46722789, "body": "It&#39;s in a folder C++ in the samples from Microsoft. To me it looked like C so not sure now I guess."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1427298569, "post_id": 29260122, "comment_id": 46722862, "body": "Did you try to <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=md5%20c%2b%2b\" rel=\"nofollow noreferrer\">Google MD5 C++</a>?"}, {"owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 0, "creation_date": 1427298710, "post_id": 29260122, "comment_id": 46722961, "body": "Yeah, but they all give examples of opening the file but in the driver I already have access to the file so I don&#39;t need to do those reads."}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1427298825, "post_id": 29260122, "comment_id": 46723050, "body": "This is easy to accomplish in kernel or User mode using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb204775(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Cryptography Next Generation</a>"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1427299376, "post_id": 29260122, "comment_id": 46723453, "body": "@BrianTHannan There is even a sample of <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376217(v=vs.85).aspx\" rel=\"nofollow noreferrer\">how to do it</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 0, "creation_date": 1427298871, "post_id": 29260414, "comment_id": 46723089, "body": "It doesn&#39;t know what BYTE, HCRYPTPROV, HCRYPTHASH, DWORD, etc are. Is there a library I need to import?"}, {"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "reply_to_user": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 0, "creation_date": 1427298937, "post_id": 29260414, "comment_id": 46723139, "body": "You have to include Wincrypt.h and link to Advapi32.lib"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 1, "creation_date": 1427298967, "post_id": 29260414, "comment_id": 46723161, "body": "Minifilter drivers are kernel mode, <code>CryptAcquireContext</code> and similar cannot be called from Kernel mode. The OP will either need to do it themselves or use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb204775(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Cryptography Next Generation</a>"}, {"owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 0, "creation_date": 1427299388, "post_id": 29260414, "comment_id": 46723462, "body": "@Mgets could you put an answer in with an example using CNG and how I would incorporate it into the code above?"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "reply_to_user": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "edited": false, "score": 1, "creation_date": 1427299467, "post_id": 29260414, "comment_id": 46723517, "body": "@BrianTHannan there is already a sample linked directly above. Anything I would post as an answer would be plagarism of MSDN. all you need to do is change the hash (personally I&#39;d stick with sha256) and link with the kernel mode lib not the user mode lib."}], "tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 0, "last_activity_date": 1427298651, "creation_date": 1427298651, "answer_id": 29260414, "question_id": 29260122, "link": "https://stackoverflow.com/questions/29260122/is-there-a-function-already-written-to-calculate-md5-hash-in-c-for-file-system/29260414#29260414", "title": "Is there a function already written to calculate MD5 hash in C++ for file system mini filter driver?", "body": "<pre><code>void MD5( BYTE *szData, unsigned int uiSize, BYTE *bHash )\n{\n   HCRYPTPROV hCryptProv; \n   HCRYPTHASH hHash; \n   DWORD dwHashLen = 16; \n\n   if( CryptAcquireContext( &amp;hCryptProv, NULL, NULL, PROV_RSA_FULL, CRYPT_VERIFYCONTEXT | CRYPT_MACHINE_KEYSET ) )\n   {\n     if( CryptCreateHash( hCryptProv, CALG_MD5, 0, 0, &amp;hHash ) )\n     {\n       if( CryptHashData(hHash, (const BYTE *)szData, uiSize, 0))\n       {\n         CryptGetHashParam( hHash, HP_HASHVAL, bHash, &amp;dwHashLen, 0 );\n       }\n     }\n   }\n\n   CryptDestroyHash(hHash); \n   CryptReleaseContext(hCryptProv, 0);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 5257776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dae235787c9fd36d6d9aee860ea08ee?s=128&d=identicon&r=PG&f=1", "display_name": "halsten", "link": "https://stackoverflow.com/users/5257776/halsten"}, "is_accepted": false, "score": 0, "last_activity_date": 1443316337, "creation_date": 1443316337, "answer_id": 32803608, "question_id": 29260122, "link": "https://stackoverflow.com/questions/29260122/is-there-a-function-already-written-to-calculate-md5-hash-in-c-for-file-system/32803608#32803608", "title": "Is there a function already written to calculate MD5 hash in C++ for file system mini filter driver?", "body": "<p>Though the original poster did not post any steps or attempts to show his own research in that set of problem(s) he is facing. The answer is easy, but so as not to reinvent the wheel, I am copying and pasting the code from <a href=\"http://www.rohitab.com/discuss/topic/41394-calculate-md5-hash-of-file-in-kernel-mode/\" rel=\"nofollow\">rohitab</a></p>\n\n<p>Here is the sample, you might want to adapt to the existing code of the mini-filter which should be easy if you read through the code.</p>\n\n<pre><code>#include &lt;ntifs.h&gt;\n#include &lt;wdm.h&gt;\n\ntypedef unsigned char md5_byte_t; /* 8-bit byte */\ntypedef unsigned int md5_word_t; /* 32-bit word */\n\n/* Define the state of the MD5 Algorithm. */\ntypedef struct md5_state_s {\n    md5_word_t count[2];    /* message length in bits, lsw first */\n    md5_word_t abcd[4];     /* digest buffer */\n    md5_byte_t buf[64];     /* accumulate block */\n} md5_state_t;\n\n#define T_MASK ((md5_word_t)~0)\n#define T1 /* 0xd76aa478 */ (T_MASK ^ 0x28955b87)\n#define T2 /* 0xe8c7b756 */ (T_MASK ^ 0x173848a9)\n#define T3    0x242070db\n#define T4 /* 0xc1bdceee */ (T_MASK ^ 0x3e423111)\n#define T5 /* 0xf57c0faf */ (T_MASK ^ 0x0a83f050)\n#define T6    0x4787c62a\n#define T7 /* 0xa8304613 */ (T_MASK ^ 0x57cfb9ec)\n#define T8 /* 0xfd469501 */ (T_MASK ^ 0x02b96afe)\n#define T9    0x698098d8\n#define T10 /* 0x8b44f7af */ (T_MASK ^ 0x74bb0850)\n#define T11 /* 0xffff5bb1 */ (T_MASK ^ 0x0000a44e)\n#define T12 /* 0x895cd7be */ (T_MASK ^ 0x76a32841)\n#define T13    0x6b901122\n#define T14 /* 0xfd987193 */ (T_MASK ^ 0x02678e6c)\n#define T15 /* 0xa679438e */ (T_MASK ^ 0x5986bc71)\n#define T16    0x49b40821\n#define T17 /* 0xf61e2562 */ (T_MASK ^ 0x09e1da9d)\n#define T18 /* 0xc040b340 */ (T_MASK ^ 0x3fbf4cbf)\n#define T19    0x265e5a51\n#define T20 /* 0xe9b6c7aa */ (T_MASK ^ 0x16493855)\n#define T21 /* 0xd62f105d */ (T_MASK ^ 0x29d0efa2)\n#define T22    0x02441453\n#define T23 /* 0xd8a1e681 */ (T_MASK ^ 0x275e197e)\n#define T24 /* 0xe7d3fbc8 */ (T_MASK ^ 0x182c0437)\n#define T25    0x21e1cde6\n#define T26 /* 0xc33707d6 */ (T_MASK ^ 0x3cc8f829)\n#define T27 /* 0xf4d50d87 */ (T_MASK ^ 0x0b2af278)\n#define T28    0x455a14ed\n#define T29 /* 0xa9e3e905 */ (T_MASK ^ 0x561c16fa)\n#define T30 /* 0xfcefa3f8 */ (T_MASK ^ 0x03105c07)\n#define T31    0x676f02d9\n#define T32 /* 0x8d2a4c8a */ (T_MASK ^ 0x72d5b375)\n#define T33 /* 0xfffa3942 */ (T_MASK ^ 0x0005c6bd)\n#define T34 /* 0x8771f681 */ (T_MASK ^ 0x788e097e)\n#define T35    0x6d9d6122\n#define T36 /* 0xfde5380c */ (T_MASK ^ 0x021ac7f3)\n#define T37 /* 0xa4beea44 */ (T_MASK ^ 0x5b4115bb)\n#define T38    0x4bdecfa9\n#define T39 /* 0xf6bb4b60 */ (T_MASK ^ 0x0944b49f)\n#define T40 /* 0xbebfbc70 */ (T_MASK ^ 0x4140438f)\n#define T41    0x289b7ec6\n#define T42 /* 0xeaa127fa */ (T_MASK ^ 0x155ed805)\n#define T43 /* 0xd4ef3085 */ (T_MASK ^ 0x2b10cf7a)\n#define T44    0x04881d05\n#define T45 /* 0xd9d4d039 */ (T_MASK ^ 0x262b2fc6)\n#define T46 /* 0xe6db99e5 */ (T_MASK ^ 0x1924661a)\n#define T47    0x1fa27cf8\n#define T48 /* 0xc4ac5665 */ (T_MASK ^ 0x3b53a99a)\n#define T49 /* 0xf4292244 */ (T_MASK ^ 0x0bd6ddbb)\n#define T50    0x432aff97\n#define T51 /* 0xab9423a7 */ (T_MASK ^ 0x546bdc58)\n#define T52 /* 0xfc93a039 */ (T_MASK ^ 0x036c5fc6)\n#define T53    0x655b59c3\n#define T54 /* 0x8f0ccc92 */ (T_MASK ^ 0x70f3336d)\n#define T55 /* 0xffeff47d */ (T_MASK ^ 0x00100b82)\n#define T56 /* 0x85845dd1 */ (T_MASK ^ 0x7a7ba22e)\n#define T57    0x6fa87e4f\n#define T58 /* 0xfe2ce6e0 */ (T_MASK ^ 0x01d3191f)\n#define T59 /* 0xa3014314 */ (T_MASK ^ 0x5cfebceb)\n#define T60    0x4e0811a1\n#define T61 /* 0xf7537e82 */ (T_MASK ^ 0x08ac817d)\n#define T62 /* 0xbd3af235 */ (T_MASK ^ 0x42c50dca)\n#define T63    0x2ad7d2bb\n#define T64 /* 0xeb86d391 */ (T_MASK ^ 0x14792c6e)\n\nstatic void\nmd5_process(md5_state_t *pms, const md5_byte_t *data /*[64]*/)\n{\n    md5_word_t\n        a = pms-&gt;abcd[0], b = pms-&gt;abcd[1],\n        c = pms-&gt;abcd[2], d = pms-&gt;abcd[3];\n    md5_word_t t;\n#if BYTE_ORDER &gt; 0\n    /* Define storage only for big-endian CPUs. */\n    md5_word_t X[16];\n#else\n    /* Define storage for little-endian or both types of CPUs. */\n    md5_word_t xbuf[16];\n    const md5_word_t *X;\n#endif\n\n    {\n#if BYTE_ORDER == 0\n        /*\n        * Determine dynamically whether this is a big-endian or\n        * little-endian machine, since we can use a more efficient\n        * algorithm on the latter.\n        */\n        static const int w = 1;\n\n        if (*((const md5_byte_t *)&amp;w)) /* dynamic little-endian */\n#endif\n#if BYTE_ORDER &lt;= 0      /* little-endian */\n        {\n            /*\n            * On little-endian machines, we can process properly aligned\n            * data without copying it.\n            */\n            if (!((data - (const md5_byte_t *)0) &amp; 3)) {\n                /* data are properly aligned */\n                X = (const md5_word_t *)data;\n            }\n            else {\n                /* not aligned */\n                memcpy(xbuf, data, 64);\n                X = xbuf;\n            }\n        }\n#endif\n#if BYTE_ORDER == 0\n        else            /* dynamic big-endian */\n#endif\n#if BYTE_ORDER &gt;= 0      /* big-endian */\n        {\n            /*\n            * On big-endian machines, we must arrange the bytes in the\n            * right order.\n            */\n            const md5_byte_t *xp = data;\n            int i;\n\n#  if BYTE_ORDER == 0\n            X = xbuf;       /* (dynamic only) */\n#  else\n#    define xbuf X      /* (static only) */\n#  endif\n            for (i = 0; i &lt; 16; ++i, xp += 4)\n                xbuf[i] = xp[0] + (xp[1] &lt;&lt; 8) + (xp[2] &lt;&lt; 16) + (xp[3] &lt;&lt; 24);\n        }\n#endif\n    }\n\n#define ROTATE_LEFT(x, n) (((x) &lt;&lt; (n)) | ((x) &gt;&gt; (32 - (n))))\n\n    /* Round 1. */\n    /* Let [abcd k s i] denote the operation\n    a = b + ((a + F(b,c,d) + X[k] + T[i]) &lt;&lt;&lt; s). */\n#define F(x, y, z) (((x) &amp; (y)) | (~(x) &amp; (z)))\n#define SET(a, b, c, d, k, s, Ti)\\\n    t = a + F(b, c, d) + X[k] + Ti; \\\n    a = ROTATE_LEFT(t, s) + b\n    /* Do the following 16 operations. */\n    SET(a, b, c, d, 0, 7, T1);\n    SET(d, a, b, c, 1, 12, T2);\n    SET(c, d, a, b, 2, 17, T3);\n    SET(b, c, d, a, 3, 22, T4);\n    SET(a, b, c, d, 4, 7, T5);\n    SET(d, a, b, c, 5, 12, T6);\n    SET(c, d, a, b, 6, 17, T7);\n    SET(b, c, d, a, 7, 22, T8);\n    SET(a, b, c, d, 8, 7, T9);\n    SET(d, a, b, c, 9, 12, T10);\n    SET(c, d, a, b, 10, 17, T11);\n    SET(b, c, d, a, 11, 22, T12);\n    SET(a, b, c, d, 12, 7, T13);\n    SET(d, a, b, c, 13, 12, T14);\n    SET(c, d, a, b, 14, 17, T15);\n    SET(b, c, d, a, 15, 22, T16);\n#undef SET\n\n    /* Round 2. */\n    /* Let [abcd k s i] denote the operation\n    a = b + ((a + G(b,c,d) + X[k] + T[i]) &lt;&lt;&lt; s). */\n#define G(x, y, z) (((x) &amp; (z)) | ((y) &amp; ~(z)))\n#define SET(a, b, c, d, k, s, Ti)\\\n    t = a + G(b, c, d) + X[k] + Ti; \\\n    a = ROTATE_LEFT(t, s) + b\n    /* Do the following 16 operations. */\n    SET(a, b, c, d, 1, 5, T17);\n    SET(d, a, b, c, 6, 9, T18);\n    SET(c, d, a, b, 11, 14, T19);\n    SET(b, c, d, a, 0, 20, T20);\n    SET(a, b, c, d, 5, 5, T21);\n    SET(d, a, b, c, 10, 9, T22);\n    SET(c, d, a, b, 15, 14, T23);\n    SET(b, c, d, a, 4, 20, T24);\n    SET(a, b, c, d, 9, 5, T25);\n    SET(d, a, b, c, 14, 9, T26);\n    SET(c, d, a, b, 3, 14, T27);\n    SET(b, c, d, a, 8, 20, T28);\n    SET(a, b, c, d, 13, 5, T29);\n    SET(d, a, b, c, 2, 9, T30);\n    SET(c, d, a, b, 7, 14, T31);\n    SET(b, c, d, a, 12, 20, T32);\n#undef SET\n\n    /* Round 3. */\n    /* Let [abcd k s t] denote the operation\n    a = b + ((a + H(b,c,d) + X[k] + T[i]) &lt;&lt;&lt; s). */\n#define H(x, y, z) ((x) ^ (y) ^ (z))\n#define SET(a, b, c, d, k, s, Ti)\\\n    t = a + H(b, c, d) + X[k] + Ti; \\\n    a = ROTATE_LEFT(t, s) + b\n    /* Do the following 16 operations. */\n    SET(a, b, c, d, 5, 4, T33);\n    SET(d, a, b, c, 8, 11, T34);\n    SET(c, d, a, b, 11, 16, T35);\n    SET(b, c, d, a, 14, 23, T36);\n    SET(a, b, c, d, 1, 4, T37);\n    SET(d, a, b, c, 4, 11, T38);\n    SET(c, d, a, b, 7, 16, T39);\n    SET(b, c, d, a, 10, 23, T40);\n    SET(a, b, c, d, 13, 4, T41);\n    SET(d, a, b, c, 0, 11, T42);\n    SET(c, d, a, b, 3, 16, T43);\n    SET(b, c, d, a, 6, 23, T44);\n    SET(a, b, c, d, 9, 4, T45);\n    SET(d, a, b, c, 12, 11, T46);\n    SET(c, d, a, b, 15, 16, T47);\n    SET(b, c, d, a, 2, 23, T48);\n#undef SET\n\n    /* Round 4. */\n    /* Let [abcd k s t] denote the operation\n    a = b + ((a + I(b,c,d) + X[k] + T[i]) &lt;&lt;&lt; s). */\n#define I(x, y, z) ((y) ^ ((x) | ~(z)))\n#define SET(a, b, c, d, k, s, Ti)\\\n    t = a + I(b, c, d) + X[k] + Ti; \\\n    a = ROTATE_LEFT(t, s) + b\n    /* Do the following 16 operations. */\n    SET(a, b, c, d, 0, 6, T49);\n    SET(d, a, b, c, 7, 10, T50);\n    SET(c, d, a, b, 14, 15, T51);\n    SET(b, c, d, a, 5, 21, T52);\n    SET(a, b, c, d, 12, 6, T53);\n    SET(d, a, b, c, 3, 10, T54);\n    SET(c, d, a, b, 10, 15, T55);\n    SET(b, c, d, a, 1, 21, T56);\n    SET(a, b, c, d, 8, 6, T57);\n    SET(d, a, b, c, 15, 10, T58);\n    SET(c, d, a, b, 6, 15, T59);\n    SET(b, c, d, a, 13, 21, T60);\n    SET(a, b, c, d, 4, 6, T61);\n    SET(d, a, b, c, 11, 10, T62);\n    SET(c, d, a, b, 2, 15, T63);\n    SET(b, c, d, a, 9, 21, T64);\n#undef SET\n\n    /* Then perform the following additions. (That is increment each\n    of the four registers by the value it had before this block\n    was started.) */\n    pms-&gt;abcd[0] += a;\n    pms-&gt;abcd[1] += b;\n    pms-&gt;abcd[2] += c;\n    pms-&gt;abcd[3] += d;\n}\n\nvoid\nmd5_init(md5_state_t *pms)\n{\n    pms-&gt;count[0] = pms-&gt;count[1] = 0;\n    pms-&gt;abcd[0] = 0x67452301;\n    pms-&gt;abcd[1] = /*0xefcdab89*/ T_MASK ^ 0x10325476;\n    pms-&gt;abcd[2] = /*0x98badcfe*/ T_MASK ^ 0x67452301;\n    pms-&gt;abcd[3] = 0x10325476;\n}\n\nvoid\nmd5_append(md5_state_t *pms, const md5_byte_t *data, int nbytes)\n{\n    const md5_byte_t *p = data;\n    int left = nbytes;\n    int offset = (pms-&gt;count[0] &gt;&gt; 3) &amp; 63;\n    md5_word_t nbits = (md5_word_t)(nbytes &lt;&lt; 3);\n\n    if (nbytes &lt;= 0)\n        return;\n\n    /* Update the message length. */\n    pms-&gt;count[1] += nbytes &gt;&gt; 29;\n    pms-&gt;count[0] += nbits;\n    if (pms-&gt;count[0] &lt; nbits)\n        pms-&gt;count[1]++;\n\n    /* Process an initial partial block. */\n    if (offset) {\n        int copy = (offset + nbytes &gt; 64 ? 64 - offset : nbytes);\n\n        memcpy(pms-&gt;buf + offset, p, copy);\n        if (offset + copy &lt; 64)\n            return;\n        p += copy;\n        left -= copy;\n        md5_process(pms, pms-&gt;buf);\n    }\n\n    /* Process full blocks. */\n    for (; left &gt;= 64; p += 64, left -= 64)\n        md5_process(pms, p);\n\n    /* Process a final partial block. */\n    if (left)\n        memcpy(pms-&gt;buf, p, left);\n}\n\nvoid\nmd5_finish(md5_state_t *pms, md5_byte_t digest[16])\n{\n    static const md5_byte_t pad[64] = {\n        0x80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n    };\n    md5_byte_t data[8];\n    int i;\n\n    for (i = 0; i &lt; 8; ++i)\n        data[i] = (md5_byte_t)(pms-&gt;count[i &gt;&gt; 2] &gt;&gt; ((i &amp; 3) &lt;&lt; 3));\n\n    md5_append(pms, pad, ((55 - (pms-&gt;count[0] &gt;&gt; 3)) &amp; 63) + 1);\n\n    md5_append(pms, data, 8);\n    for (i = 0; i &lt; 16; ++i)\n        digest[i] = (md5_byte_t)(pms-&gt;abcd[i &gt;&gt; 2] &gt;&gt; ((i &amp; 3) &lt;&lt; 3));\n}\n\nVOID\nMyUnload(\nstruct _DRIVER_OBJECT  *DriverObject\n    )\n{\n    // Function body\n}\n\nchar *                  /* O - MD5 sum in hex */\nhttpMD5String(const md5_byte_t *sum,    /* I - MD5 sum data */\nchar             md5[33])   /* O - MD5 sum in hex */\n{\n    int     i;          /* Looping var */\n    char        *md5ptr;        /* Pointer into MD5 string */\n    static char *hex = \"0123456789abcdef\";\n    /* Hex digits */\n\n    for (i = 16, md5ptr = md5; i &gt; 0; i--, sum++)\n    {\n        *md5ptr++ = hex[*sum &gt;&gt; 4];\n        *md5ptr++ = hex[*sum &amp; 15];\n    }\n\n    *md5ptr = '\\0';\n\n    return (md5);\n}\n\nNTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject, PUNICODE_STRING RegistryPath){\n    md5_state_t state;          /* MD5 state info */\n    md5_byte_t  sum[16];        /* Sum data */\n    char mmd5[33];\n    NTSTATUS status;\n    UNICODE_STRING fileNameU;\n    OBJECT_ATTRIBUTES objectAttributes;\n    HANDLE fileHandle;\n    IO_STATUS_BLOCK ioStatusBlock;\n    unsigned char readBuffer[4096];\n\n    memset(&amp;ioStatusBlock, 0, sizeof(ioStatusBlock));\n    memset(&amp;objectAttributes, 0, sizeof(objectAttributes));\n\n    objectAttributes.Length = sizeof(objectAttributes);\n    objectAttributes.Attributes = OBJ_CASE_INSENSITIVE;\n    RtlInitUnicodeString(&amp;fileNameU, L\"\\\\??\\\\C:\\\\test.txt\");\n    objectAttributes.ObjectName = &amp;fileNameU;\n\n    status = NtCreateFile(&amp;fileHandle, FILE_READ_ATTRIBUTES | GENERIC_READ | SYNCHRONIZE, &amp;objectAttributes, &amp;ioStatusBlock, NULL, FILE_ATTRIBUTE_NORMAL, FILE_SHARE_READ, FILE_OPEN, FILE_NON_DIRECTORY_FILE | FILE_SYNCHRONOUS_IO_NONALERT, NULL, 0);\n\n    DbgPrint(\"MD5 Init\\n\");\n    md5_init(&amp;state);\n    DbgPrint(\"MD5 Append\\n\");\n\n    memset(readBuffer, 0, 4096);\n\n    while (1){\n        status = NtReadFile(fileHandle, NULL, NULL, NULL, (PVOID)&amp;ioStatusBlock, (PVOID)&amp;readBuffer, 1024, NULL, NULL);\n        if (NT_SUCCESS(status)){\n            md5_append(&amp;state, (unsigned char*)readBuffer, strlen(readBuffer));\n            memset(readBuffer, 0, 4096);\n        }\n        else {\n            break;\n        }\n    }\n\n    DbgPrint(\"MD5 Finish\\n\");\n    md5_finish(&amp;state, sum);\n    DbgPrint(\"Attempting to print Checksum\\n\");\n\n    httpMD5String(sum, mmd5);\n    DbgPrint(\"%s\", mmd5);\n\n    return STATUS_SUCCESS;\n}\n</code></pre>\n"}], "owner": {"reputation": 3667, "user_id": 216743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de4ebef082b3e8db1bef45b700583c51?s=128&d=identicon&r=PG", "display_name": "Brian T Hannan", "link": "https://stackoverflow.com/users/216743/brian-t-hannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1654, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443316337, "creation_date": 1427297908, "last_edit_date": 1427298212, "question_id": 29260122, "link": "https://stackoverflow.com/questions/29260122/is-there-a-function-already-written-to-calculate-md5-hash-in-c-for-file-system", "title": "Is there a function already written to calculate MD5 hash in C++ for file system mini filter driver?", "body": "<p>I'm looking for a function that <strong>calculates the MD5 hash</strong> in C++ for a mini filter driver. Is there a function written in C++ already that can calculate the MD5 hash of a file as it comes into a file system mini filter driver?</p>\n\n<p>Basically, I'm going off the sample for the WDK 8.1 called \"Scanner File System Minifilter Driver\"</p>\n\n<p>In the scanner.c file I want to be able to calculate a file's MD5 hash before I send up data about a file into usermode code (user >> scanuser.c). </p>\n\n<p><strong>You can view the source code here:</strong> </p>\n\n<p><a href=\"https://code.msdn.microsoft.com/windowshardware/Scanner-File-System-426c8cbe/view/SourceCode#content\" rel=\"nofollow\">https://code.msdn.microsoft.com/windowshardware/Scanner-File-System-426c8cbe/view/SourceCode#content</a></p>\n\n<p><strong>But here is the function I want to modify in filter >> scanner.c:</strong></p>\n\n<pre><code>NTSTATUS\nScannerpScanFileInUserMode (\n    _In_ PFLT_INSTANCE Instance,\n    _In_ PFILE_OBJECT FileObject,\n    _Out_ PBOOLEAN SafeToOpen\n    )\n/*++\n\nRoutine Description:\n\n    This routine is called to send a request up to user mode to scan a given\n    file and tell our caller whether it's safe to open this file.\n\n    Note that if the scan fails, we set SafeToOpen to TRUE.  The scan may fail\n    because the service hasn't started, or perhaps because this create/cleanup\n    is for a directory, and there's no data to read &amp; scan.\n\n    If we failed creates when the service isn't running, there'd be a\n    bootstrapping problem -- how would we ever load the .exe for the service?\n\nArguments:\n\n    Instance - Handle to the filter instance for the scanner on this volume.\n\n    FileObject - File to be scanned.\n\n    SafeToOpen - Set to FALSE if the file is scanned successfully and it contains\n                 foul language.\n\nReturn Value:\n\n    The status of the operation, hopefully STATUS_SUCCESS.  The common failure\n    status will probably be STATUS_INSUFFICIENT_RESOURCES.\n\n--*/\n\n{\n    NTSTATUS status = STATUS_SUCCESS;\n    PVOID buffer = NULL;\n    ULONG bytesRead;\n    PSCANNER_NOTIFICATION notification = NULL;\n    FLT_VOLUME_PROPERTIES volumeProps;\n    LARGE_INTEGER offset;\n    ULONG replyLength, length;\n    PFLT_VOLUME volume = NULL;\n\n    *SafeToOpen = TRUE;\n\n    //\n    //  If not client port just return.\n    //\n\n    if (ScannerData.ClientPort == NULL) {\n\n        return STATUS_SUCCESS;\n    }\n\n    try {\n\n        //\n        //  Obtain the volume object .\n        //\n\n        status = FltGetVolumeFromInstance( Instance, &amp;volume );\n\n        if (!NT_SUCCESS( status )) {\n\n            leave;\n        }\n\n        //\n        //  Determine sector size. Noncached I/O can only be done at sector size offsets, and in lengths which are\n        //  multiples of sector size. A more efficient way is to make this call once and remember the sector size in the\n        //  instance setup routine and setup an instance context where we can cache it.\n        //\n\n        status = FltGetVolumeProperties( volume,\n                                         &amp;volumeProps,\n                                         sizeof( volumeProps ),\n                                         &amp;length );\n        //\n        //  STATUS_BUFFER_OVERFLOW can be returned - however we only need the properties, not the names\n        //  hence we only check for error status.\n        //\n\n        if (NT_ERROR( status )) {\n\n            leave;\n        }\n\n        length = max( SCANNER_READ_BUFFER_SIZE, volumeProps.SectorSize );\n\n        //\n        //  Use non-buffered i/o, so allocate aligned pool\n        //\n\n        buffer = FltAllocatePoolAlignedWithTag( Instance,\n                                                NonPagedPool,\n                                                length,\n                                                'nacS' );\n\n        if (NULL == buffer) {\n\n            status = STATUS_INSUFFICIENT_RESOURCES;\n            leave;\n        }\n\n        notification = ExAllocatePoolWithTag( NonPagedPool,\n                                              sizeof( SCANNER_NOTIFICATION ),\n                                              'nacS' );\n\n        if(NULL == notification) {\n\n            status = STATUS_INSUFFICIENT_RESOURCES;\n            leave;\n        }\n\n        //\n        //  Read the beginning of the file and pass the contents to user mode.\n        //\n\n        offset.QuadPart = bytesRead = 0;\n        status = FltReadFile( Instance,\n                              FileObject,\n                              &amp;offset,\n                              length,\n                              buffer,\n                              FLTFL_IO_OPERATION_NON_CACHED |\n                              FLTFL_IO_OPERATION_DO_NOT_UPDATE_BYTE_OFFSET,\n                              &amp;bytesRead,\n                              NULL,\n                              NULL );\n\n        if (NT_SUCCESS( status ) &amp;&amp; (0 != bytesRead)) {\n\n            notification-&gt;BytesToScan = (ULONG) bytesRead;\n\n            //\n            //  Copy only as much as the buffer can hold\n            //\n\n            RtlCopyMemory( &amp;notification-&gt;Contents,\n                           buffer,\n                           min( notification-&gt;BytesToScan, SCANNER_READ_BUFFER_SIZE ) );\n\n            replyLength = sizeof( SCANNER_REPLY );\n</code></pre>\n\n<p>// TODO: Calculate MD5 Hash of the filter here and send up the data using the FltSendMessage function below. How do I go about calculating the MD5 here? Is there a function already written to handle such a thing? </p>\n\n<pre><code>            status = FltSendMessage( ScannerData.Filter,\n                                     &amp;ScannerData.ClientPort,\n                                     notification,\n                                     sizeof(SCANNER_NOTIFICATION),\n                                     notification,\n                                     &amp;replyLength,\n                                     NULL );\n\n            if (STATUS_SUCCESS == status) {\n\n                *SafeToOpen = ((PSCANNER_REPLY) notification)-&gt;SafeToOpen;\n\n            } else {\n\n                //\n                //  Couldn't send message\n                //\n\n                DbgPrint( \"!!! scanner.sys --- couldn't send message to user-mode to scan file, status 0x%X\\n\", status );\n            }\n        }\n\n    } finally {\n\n        if (NULL != buffer) {\n\n            FltFreePoolAlignedWithTag( Instance, buffer, 'nacS' );\n        }\n\n        if (NULL != notification) {\n\n            ExFreePoolWithTag( notification, 'nacS' );\n        }\n\n        if (NULL != volume) {\n\n            FltObjectDereference( volume );\n        }\n    }\n\n    return status;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "macros", "visual-studio-debugging"], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1427299657, "post_id": 29260232, "comment_id": 46723629, "body": "<code>NDEBUG</code> is actually used in the standard for the behaviour of <code>assert</code>, so you might consider it for more than just Linux."}], "tags": [], "owner": {"reputation": 1726, "user_id": 2017469, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d4f9824e9323a67e987b221ec2929e2?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/2017469/alon"}, "is_accepted": false, "score": 1, "last_activity_date": 1427298191, "creation_date": 1427298191, "answer_id": 29260232, "question_id": 29260027, "link": "https://stackoverflow.com/questions/29260027/ifdef-debug-in-main-function/29260232#29260232", "title": "#ifdef _DEBUG in main function", "body": "<p>for example it can be used to do stuff only in debug compilation ;)\nCheck your flags specifically to VS, in linux for example, you add NDEBUG to non debug builds.. so check your project properties.. compile command line.. etc..</p>\n"}, {"tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": true, "score": 6, "last_activity_date": 1427298817, "creation_date": 1427298817, "answer_id": 29260477, "question_id": 29260027, "link": "https://stackoverflow.com/questions/29260027/ifdef-debug-in-main-function/29260477#29260477", "title": "#ifdef _DEBUG in main function", "body": "<p><code>#ifdef DEBUG</code> or <code>#ifdef _DEBUG</code> are used to handle some code that you use for <em>debugging</em> purposes. If you add <code>#undef _DEBUG</code> or similar to this at the very beginning of your code, the compiler will skip the code contained in <code>#ifdef DEBUG /* bla bla */ #endif</code>. </p>\n\n<p>If you're </p>\n\n<blockquote>\n  <p>//creating some objects, using  functions etc;</p>\n</blockquote>\n\n<p><em>inside</em> this block and thinking this will work, I assure you, <strong>it won't</strong> until you include <code>-D_DEBUG</code> in compiler's options during invocation. </p>\n"}], "owner": {"reputation": 307, "user_id": 4340778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7d53012251bc88631418e5edf3ca1891?s=128&d=identicon&r=PG&f=1", "display_name": "davoid", "link": "https://stackoverflow.com/users/4340778/davoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3834, "favorite_count": 1, "accepted_answer_id": 29260477, "answer_count": 2, "score": 5, "last_activity_date": 1550662717, "creation_date": 1427297674, "last_edit_date": 1550662717, "question_id": 29260027, "link": "https://stackoverflow.com/questions/29260027/ifdef-debug-in-main-function", "title": "#ifdef _DEBUG in main function", "body": "<p>Does <code>#ifdef _DEBUG</code> in the main function has any sense if I am working on <em>visual studio 2013</em> ? </p>\n\n<p>If yes, what it is for ?</p>\n\n<pre><code>int _tmain(int argc, _TCHAR* argv[])\n{\n#ifdef _DEBUG\n\n//creating some objects, using  functions etc;\n\n#endif\n}\n</code></pre>\n"}]