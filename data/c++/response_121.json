[{"tags": ["c++", "gdb", "shared-ptr"], "comments": [{"owner": {"reputation": 1098, "user_id": 6497438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d4986f27a3f0a255bf095e3b1fd3de?s=128&d=identicon&r=PG&f=1", "display_name": "evan", "link": "https://stackoverflow.com/users/6497438/evan"}, "edited": false, "score": 0, "creation_date": 1493858897, "post_id": 43771610, "comment_id": 74585393, "body": "Might need to add some code. Code that can reproduce what you see in the debugger will get you the most answers."}], "owner": {"reputation": 91, "user_id": 1912330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc3dbb6e700f038eb280631cb7530034?s=128&d=identicon&r=PG", "display_name": "Punchirichechi", "link": "https://stackoverflow.com/users/1912330/punchirichechi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1493854360, "creation_date": 1493854360, "question_id": 43771610, "link": "https://stackoverflow.com/questions/43771610/shared-pointer-is-shown-as-expired", "title": "shared pointer is shown as expired", "body": "<p>While debugging a piece of code I see this on gdb:</p>\n\n<pre><code>(gdb) p *(input_t *) 0xec08b4d0\n $25 = {\n    count = 0xec0644ec, \n    data = std::shared_ptr (expired, weak 0) 0xec0913ec, \n}\n</code></pre>\n\n<p>Assignment to data leads to a crash. Is data an invalid pointer ? </p>\n"}, {"tags": ["c++", "unix"], "comments": [{"owner": {"reputation": 255, "user_id": 6877265, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xlbe5.png?s=128&g=1", "display_name": "cppxor2arr", "link": "https://stackoverflow.com/users/6877265/cppxor2arr"}, "edited": false, "score": 1, "creation_date": 1493854958, "post_id": 43771598, "comment_id": 74584703, "body": "You want to access a file in the UNIX operating system from Windows (on the same computer)?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1493855635, "post_id": 43771598, "comment_id": 74584887, "body": "Are you asking about network file access?"}, {"owner": {"reputation": 18942, "user_id": 894328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db17c5296335f63e856be44aa821bf6?s=128&d=identicon&r=PG", "display_name": "Ahmed Masud", "link": "https://stackoverflow.com/users/894328/ahmed-masud"}, "edited": false, "score": 0, "creation_date": 1493855863, "post_id": 43771598, "comment_id": 74584936, "body": "you would do exactly the same thing, set the path to /UNIX/FILES/FILES.txt however note that paths in unix are case sensitive. i.e. <code>const string path = &quot;&#47;UNIX&#47;FILES&#47;FILE.txt&quot;</code>;"}, {"owner": {"reputation": 18942, "user_id": 894328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db17c5296335f63e856be44aa821bf6?s=128&d=identicon&r=PG", "display_name": "Ahmed Masud", "link": "https://stackoverflow.com/users/894328/ahmed-masud"}, "edited": false, "score": 0, "creation_date": 1493856010, "post_id": 43771598, "comment_id": 74584973, "body": "also, can you provide more context or what you&#39;ve tried? e.g. are you working on a unix system? or is it network share or what?"}, {"owner": {"reputation": 1, "user_id": 7960267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8730cb5dcf758a53fa8945af71da6617?s=128&d=identicon&r=PG&f=1", "display_name": "Louell", "link": "https://stackoverflow.com/users/7960267/louell"}, "edited": false, "score": 0, "creation_date": 1493857594, "post_id": 43771598, "comment_id": 74585126, "body": "I&#39;m accessing a network shared files on a unix system"}], "answers": [{"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1493859471, "creation_date": 1493859471, "answer_id": 43772180, "question_id": 43771598, "link": "https://stackoverflow.com/questions/43771598/c-with-devc-how-to-access-a-file-in-unix/43772180#43772180", "title": "C++ with DevC++, how to access a file in unix?", "body": "<blockquote>\n  <p>How about accessing a file on a unix?</p>\n</blockquote>\n\n<p>My immediate response is \"Exactly the same way\". But then I realize that I assumed that you would run the program directly on a Unix machine. As long as you stick to standard C++ libraries, you can compile the code and run it on any operating system.</p>\n\n<p>On the other hand, if you want to access a file over a network or the Internet, you have to learn about network programming. This is a large topic that takes up textbooks.</p>\n"}], "owner": {"reputation": 1, "user_id": 7960267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8730cb5dcf758a53fa8945af71da6617?s=128&d=identicon&r=PG&f=1", "display_name": "Louell", "link": "https://stackoverflow.com/users/7960267/louell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493859471, "creation_date": 1493854291, "last_edit_date": 1493859038, "question_id": 43771598, "link": "https://stackoverflow.com/questions/43771598/c-with-devc-how-to-access-a-file-in-unix", "title": "C++ with DevC++, how to access a file in unix?", "body": "<p>in reading and writing a file with C++ on a windows directory we can easily do</p>\n\n<pre><code>const string path = \"//user/desktop/FILE.txt\";\nstd::ifstream(path.c_str());\n</code></pre>\n\n<p>How about accessing a file on a unix? lets say the directory is /UNIX/FILES/FILES.txt\nA unix shared file directory that requires login info to be accessed.</p>\n\n<p>How can I do it in windows C++?</p>\n"}, {"tags": ["c++", "variables", "struct", "syntax", "scope"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493854466, "post_id": 43771581, "comment_id": 74584563, "body": "You can&#39;t return two things in one <code>return</code> statement. <code>return XCoord, YCoord</code> is valid, but it&#39;s using the comma operator, so it&#39;s equivalent to <code>return YCoord</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493854508, "post_id": 43771581, "comment_id": 74584573, "body": "And even if you could return multiple values, you&#39;re never assigning the result of the function to anything."}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 6877265, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xlbe5.png?s=128&g=1", "display_name": "cppxor2arr", "link": "https://stackoverflow.com/users/6877265/cppxor2arr"}, "edited": false, "score": 0, "creation_date": 1493855207, "post_id": 43771673, "comment_id": 74584768, "body": "To the OP. If you want to return two things, think about using <code>std::pair</code> from the standard library <code>&lt;utility&gt;</code>. Of course, here it is not needed."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1493854781, "last_edit_date": 1495540942, "creation_date": 1493854781, "answer_id": 43771673, "question_id": 43771581, "link": "https://stackoverflow.com/questions/43771581/local-variables-going-out-of-scope-i-think/43771673#43771673", "title": "Local variables going out of scope ... I think", "body": "<p>By default, function parameters are passed by value. This means that when you assign the parameter variables in the function, they have no effect on the caller's variables.</p>\n\n<p>You can change the function to get its parameters by reference. Then the assignments will modify the caller's variables.</p>\n\n<pre><code>void TileMap::ChangePosition(int &amp;XCoord, int &amp;YCoord)\n{\n    if (XCoord != 50) //if (XCoord != screenWidth) //Change position\n    {\n        XCoord += 25;\n    }\n    else if (XCoord == 50 &amp;&amp; YCoord != 50) //else if (XCoord == screenWidth &amp;&amp; YCoord != screenHeight)\n    {\n        XCoord = 0;\n        YCoord += 25;\n    }\n}\n</code></pre>\n\n<p>You don't need to return anything from this function, since it modifies the parameters. I've changed it to a <code>void</code> function.</p>\n\n<p><code>return XCoord, YCoord;</code> is valid syntax, but it doesn't do what you think. See <a href=\"https://stackoverflow.com/questions/54142/how-does-the-comma-operator-work\">How does the Comma Operator work</a></p>\n"}], "owner": {"reputation": 13, "user_id": 7892317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9b8bed76ab75100c64be30ca164c70?s=128&d=identicon&r=PG&f=1", "display_name": "Jemma", "link": "https://stackoverflow.com/users/7892317/jemma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 43771673, "answer_count": 1, "score": 0, "last_activity_date": 1493854781, "creation_date": 1493854228, "last_edit_date": 1493854420, "question_id": 43771581, "link": "https://stackoverflow.com/questions/43771581/local-variables-going-out-of-scope-i-think", "title": "Local variables going out of scope ... I think", "body": "<p>I have a problem with the below code. I have everything working fine except for the <code>XCoord</code> and <code>YCoord</code> variables. In the <code>ChangePosition</code> method i want to add 25 to the <code>XCoord</code> if its not equal to 50 and then reset <code>XCoord</code> to 0 and add 25 to <code>YCoord</code> if <code>XCoord = 50</code> and <code>YCoord isnt equal to 50</code>. </p>\n\n<p>What I've found through debugging is that when the <code>ChangePosition</code> method returns the <code>XCoord</code> and <code>YCoord</code> they revert back to <code>0</code> when the debugger continues through the <code>switch</code> statement. I think it has something to do with the <code>XCoord</code> and <code>YCoord</code> going out of scope (not 100% sure whether that is that actual issue or not) also is the <code>return XCoord, YCoord</code> syntax legal?  I'm using Visual Studio and it's not said that its wrong but I'm just not sure. </p>\n\n<p>I think it must be one of the above 2 reasons why the variables aren't changing.\nI've tried initialising a struct <code>Coords coords;</code> with the 2 variables in the <code>LoadLevel</code> method and passing the struct into the <code>ChangePosition</code> method but I then have to declare the variables as static ints which then causes an LNK2001 error: I think this has something to do with attempting to adjust the variables using <code>Coords::XCoord += 25</code>. But I am unable to use <code>coords.XCoord</code> as the struct isn't declared in the ChangePosition method so I get an error about the typename not being identified (Something along those lines). </p>\n\n<pre><code>void TileMap::LoadLevel(HINSTANCE hInstance)\n{\n\n    LPCSTR szFileName1(\"..\\\\Assets\\\\TILE_01.bmp\");\n    LPCSTR szFileName2(\"..\\\\Assets\\\\Tile_02.bmp\");\n    LPCSTR szFileName3(\"..\\\\Assets\\\\Tile_03.bmp\");\n\n    Sprite* Tile_01 = new Sprite(); /*Tile_01 is the grass sprite*/\n    Sprite* Tile_02 = new Sprite(); /*Tile_02 is the wall sprite*/\n    Sprite* Tile_03 = new Sprite(); /*Tile_03 is the end point sprite*/\n\n    int XCoord = 0;\n    int YCoord = 0;\n\n    const int Columns = 3;\n    const int Rows = 3;\n\n    char MazeMap[Rows][Columns] = {\n        {1,2,3},\n        {1,2,3},\n        {1,2,3}\n    };\n\n    for (int x = 0; x &lt; Rows; x++)\n    {\n        for (int y = 0; y &lt; Columns; y++)\n        {\n            switch (MazeMap[x][y])\n            {\n            case GRASS: /*TILE_01*/\n                Tile_01-&gt;Create(DirectDraw::GetInstance()-&gt;GetDDObject(), 25, 25, 0);\n                Tile_01-&gt;LoadSprite(hInstance, szFileName1, XCoord, YCoord, 25, 25);\n                Tile_01-&gt;Draw(DirectDraw::GetInstance()-&gt;GetBackBuffer(), XCoord, YCoord, 25, 25); //Draw Tile\n\n                ChangePosition(XCoord, YCoord); //Change position\n                break;\n\n            case WALL: /*TILE_02*/  \n                Tile_02-&gt;Create(DirectDraw::GetInstance()-&gt;GetDDObject(), 25, 25, 0);\n                Tile_02-&gt;LoadSprite(hInstance, szFileName2, XCoord, YCoord, 25, 25);\n                Tile_02-&gt;Draw(DirectDraw::GetInstance()-&gt;GetBackBuffer(), XCoord, YCoord, 25, 25); //Draw Tile\n\n                ChangePosition(XCoord, YCoord); //Change position\n                break;\n\n            case END: /*TILE_03*/\n                Tile_03-&gt;Create(DirectDraw::GetInstance()-&gt;GetDDObject(), 25, 25, 0);\n                Tile_03-&gt;LoadSprite(hInstance, szFileName3, XCoord, YCoord, 25, 25);\n                Tile_03-&gt;Draw(DirectDraw::GetInstance()-&gt;GetBackBuffer(), XCoord, YCoord, 25, 25); //Draw Tile\n\n                ChangePosition (XCoord, YCoord); //Change position\n                break;\n            }\n        }\n    }\n\n}\n\n/*\nThis method changes the XCoord and YCoord to pass into the sprite draw method \nso the tile is drawn in the correct position\n*/\nint TileMap::ChangePosition(int XCoord, int YCoord)\n{\n    if (XCoord != 50) //if (XCoord != screenWidth) //Change position\n    {\n        XCoord += 25;\n    }\n    else if (XCoord == 50 &amp;&amp; YCoord != 50) //else if (XCoord == screenWidth &amp;&amp; YCoord != screenHeight)\n    {\n        XCoord = 0;\n        YCoord += 25;\n    }\n    return XCoord, YCoord\n}\n</code></pre>\n"}, {"tags": ["java", "android", "c++", "android-studio", "computer-science"], "comments": [{"owner": {"reputation": 21, "user_id": 6237613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9522de562b34ba78dd34e149e4792b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Haru825", "link": "https://stackoverflow.com/users/6237613/haru825"}, "edited": false, "score": 0, "creation_date": 1493871365, "post_id": 43771570, "comment_id": 74588505, "body": "Pleas help me!! This is HW for my school class. Thanks!"}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493880353, "post_id": 43771570, "comment_id": 74592150, "body": "Double check this expression: <code>(c - key.charAt(j) + 26 - &#39;A&#39;) % 26 + &#39;A&#39;</code> with a few examples. Does it really do what you want?"}, {"owner": {"reputation": 21, "user_id": 6237613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9522de562b34ba78dd34e149e4792b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Haru825", "link": "https://stackoverflow.com/users/6237613/haru825"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493909303, "post_id": 43771570, "comment_id": 74612669, "body": "No, it prints out a number like when I put in ab with a shift of a I get 5 instead of bc"}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493912617, "post_id": 43771570, "comment_id": 74615242, "body": "This is HW so I will not give you the full answer. Check all sub-expressions, do they have the value you think they should have?"}, {"owner": {"reputation": 21, "user_id": 6237613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9522de562b34ba78dd34e149e4792b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Haru825", "link": "https://stackoverflow.com/users/6237613/haru825"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493913021, "post_id": 43771570, "comment_id": 74615540, "body": "I feel like I shoulden&#39;t be adding &#39;A&#39; because it might be making the number go to number section(I forgot what it was called) instead of a letter.."}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493918558, "post_id": 43771570, "comment_id": 74618900, "body": "after the <code>% 26</code> you have a number in the range 0..25 so adding &#39;A&#39; seems ok as it will result in a character in the range &#39;A&#39;..&#39;Z&#39;."}, {"owner": {"reputation": 21, "user_id": 6237613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9522de562b34ba78dd34e149e4792b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Haru825", "link": "https://stackoverflow.com/users/6237613/haru825"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493928495, "post_id": 43771570, "comment_id": 74624544, "body": "To be honest, I&#39;m kind of lost..... I&#39;m starting to believe Android studio is plotting against me."}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1493959096, "post_id": 43771570, "comment_id": 74633550, "body": "Just think it through, it is really not difficult. Which variables hold character values (range &#39;A&#39;..&#39;Z&#39;)? You want to make your calculations with numbers in the range 0..25. So first convert all characters to low range numbers, calculate, convert back to a character. Once you have written down the full formula you will see how it can be simplified."}], "owner": {"reputation": 21, "user_id": 6237613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9522de562b34ba78dd34e149e4792b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Haru825", "link": "https://stackoverflow.com/users/6237613/haru825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493915049, "creation_date": 1493854152, "last_edit_date": 1493915049, "question_id": 43771570, "link": "https://stackoverflow.com/questions/43771570/android-studio-cryptogrophy-vigen%c3%a8re-cypher", "title": "Android Studio Cryptogrophy: Vigen&#232;re Cypher", "body": "<p>I have a problem with Vigen\u00e8re I know that I have to shift the text so A is supposed to be shifted by 0 but in my project A shifts by 1 and Z is 0 instead of 26. I keep on getting numbers instead of the encrypted/decrypted letters.</p>\n\n<p>public void Vigenre() {</p>\n\n<pre><code>    final EditText input3 = new EditText(this);\n    final String word = input3.getText().toString();\n\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(\"Input in word:\");\n    input3.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n    builder.setView(input3);\n    builder\n            .setMessage(\"What word will you use?\")\n            .setCancelable(false)\n            .setPositiveButton(\"Yes\", new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int id) {\n                    //If Radio button Decrypt is selected run this code bellow:\n                    if (Decrypt.isChecked()) {\n                        String text = Input.getText().toString();\n                        String key = input3.getText().toString();\n                        Toast.makeText(getApplicationContext()\n                                , key + \",\" + text, Toast.LENGTH_SHORT).show();\n                        String res = \"\";\n                        text = text.toUpperCase();\n                        key = key.toUpperCase();\n                        //Output.setText(\"TEST\");\n                        for (int i = 1, j = 0; i &lt; text.length(); i++) {\n                            char c = text.charAt(i);\n                            if (c &lt; 'A' || c &gt; 'Z')\n                                continue;\n                            res += (char) ((c - key.charAt(j) + 26 - 'A') % 26 + 'A');\n                            j = ++j % key.length();\n                            //Output.setText(\"Test\");\n                        }\n                        Output.setText(res);\n                        return;\n                        // Output.setText(\"TEST\");\n                    }\n                    //If Radio button Encrypt is selected run this code bel/low:\n                    else if (Encrypt.isChecked()) {\n                        String text = Input.getText().toString();\n                        String key = input3.getText().toString();\n                        String res = \"\";\n                        text = text.toUpperCase();\n                        key = key.toUpperCase();\n                       // Output.setText(\"TEST\");\n                        for (int i = 1, j = 0; i &lt; text.length(); i++) {\n                            char c = text.charAt(i);\n                            if (c &lt; 'A' || c &gt; 'Z')\n                                continue;\n                            res += (char) ((c + key.charAt(j) - 2 - 'A' + 1) % 26 + 'A');\n                            j = ++j % key.length();\n                        }\n                    //Output.setText(\"TEST\");\n                    Output.setText(res);\n                    return;\n\n                }\n            }\n            })\n            .setNegativeButton(\"No\", new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int id) {\n                    dialog.cancel();\n                }\n            });\n    AlertDialog alertDialog = builder.create();\n    alertDialog.show();\n}\n</code></pre>\n"}, {"tags": ["c++", "sqlite", "qt5.8"], "comments": [{"owner": {"reputation": 5135, "user_id": 6207052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SlsN4.jpg?s=128&g=1", "display_name": "putu", "link": "https://stackoverflow.com/users/6207052/putu"}, "edited": false, "score": 0, "creation_date": 1493860951, "post_id": 43771550, "comment_id": 74585868, "body": "Maybe the driver is not copied during deploy. Is there <code>qsqlite.dll&#47;qsqlited.dll</code> inside your application folder (after deploy)? Normally it is located in <code>plugins&#47;sqldrivers</code>."}, {"owner": {"reputation": 1, "user_id": 7960136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76fef3fbe0c346e228725c8f6c26b16?s=128&d=identicon&r=PG&f=1", "display_name": "SylusWalker", "link": "https://stackoverflow.com/users/7960136/syluswalker"}, "reply_to_user": {"reputation": 5135, "user_id": 6207052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SlsN4.jpg?s=128&g=1", "display_name": "putu", "link": "https://stackoverflow.com/users/6207052/putu"}, "edited": false, "score": 0, "creation_date": 1493864779, "post_id": 43771550, "comment_id": 74586867, "body": "I owe you a big Thank You. After endless hours of struggle, I discovered the answer with your help. windeployqt.exe was creating the sqldrivers folder in the root folder with the executable. After creating a plugins folder and placing the sqldrivers subfolder inside, things are working exactly as expected. <code>qsqlited.dll</code> doesn&#39;t seem to be necessary. I tried it with and without, works the same. Thank you."}, {"owner": {"reputation": 5135, "user_id": 6207052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SlsN4.jpg?s=128&g=1", "display_name": "putu", "link": "https://stackoverflow.com/users/6207052/putu"}, "edited": false, "score": 0, "creation_date": 1493865512, "post_id": 43771550, "comment_id": 74587037, "body": "You&#39;re welcome. <code>qsqlited.dll</code> is needed if you build the application in debug mode."}], "owner": {"reputation": 1, "user_id": 7960136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76fef3fbe0c346e228725c8f6c26b16?s=128&d=identicon&r=PG&f=1", "display_name": "SylusWalker", "link": "https://stackoverflow.com/users/7960136/syluswalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493854052, "creation_date": 1493854052, "last_edit_date": 1495541878, "question_id": 43771550, "link": "https://stackoverflow.com/questions/43771550/qt-5-8-sqlite-database-created-opened-when-using-qt-creator-to-run-application", "title": "Qt 5.8 - SQLite database created/opened when using Qt Creator to run application, but not when deployed with windeployqt", "body": "<p>My Qt C++ project involves dynamically creating and working with SQLite databases.</p>\n\n<p>I'm encapsulating everything to do with the databases inside a class called Database. Here is my method to either create a database file if it doesn't exist, or open it if it does:</p>\n\n<pre><code>void Database::connectDB(QString databaseName)\n{\n    QString fPath = QCoreApplication::applicationDirPath();\n    fileName = fPath + \"/DBs/\" + databaseName + \".db\";\n    db = QSqlDatabase::database(connectionName);\n    db.setDatabaseName(fileName);\n}\n</code></pre>\n\n<p><code>connectionName</code> and <code>fileName</code>are QStrings created elsewhere and are valid. To put it simply, this code works. But only when run from Qt Creator. I've verified that the absolute path I feed to <code>setDatabaseName</code> overrides the working directory as shown in the Qt Creator project settings. I do have to manually create the folder DBs. Perhaps that's not the best way to go about it, but I don't think it impacts this situation. After all, I have to create it before running from Qt Creator too.</p>\n\n<p>I deploy on Windows 10 using the steps from the following video: <a href=\"https://www.youtube.com/watch?v=8qozxqSZQEg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8qozxqSZQEg</a></p>\n\n<p>I think the <code>--quick</code> argument is for Qt Quick, which I'm not using. I've tried with and without. </p>\n\n<p>After deployment, the application looks like it's working, but the databases it needs are never created, so it eventually crashes. It surprises me that it doesn't immediately crash. I could be mistaken, but it almost seems that it's creating the first few databases in memory. Some information that should only be available by reading data previously entered into a database does show up. But not if I close and restart.</p>\n\n<p>I've read this question and the linked questions, but they don't really have much to do with the exact nature of this issue: <a href=\"https://stackoverflow.com/questions/43160602/path-to-the-project-current-dir-in-qt\">Path to the project current dir in qt</a></p>\n\n<p>I can't wrap my head around why this isn't working. I've created DBs folders in every parent folder as well, just to be sure. Nothing. The files are simply not created. It works in the IDE, not once deployed. What is Qt Creator providing that isn't available to the application after deployment?  </p>\n\n<p>The compiler I'm using is msvc2015_64, if that matters. If there are any other details I'm leaving out that could be helpful, please mention them. I'll edit them in.</p>\n"}, {"tags": ["c++", "arrays", "function", "max", "min"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7960179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ff7a3ac974adbca83b6f073c246104?s=128&d=identicon&r=PG&f=1", "display_name": "Rebeckah", "link": "https://stackoverflow.com/users/7960179/rebeckah"}, "edited": false, "score": 0, "creation_date": 1493865565, "post_id": 43771465, "comment_id": 74587046, "body": "Oh thank you, I really appreciate. I&#39;ve been staring at this project for hours. Also, thanks for explaining why, it was really helpful!"}], "tags": [], "owner": {"reputation": 1051, "user_id": 7192989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1d41f45e6cacfb3d4195a9878880724?s=128&d=identicon&r=PG", "display_name": "Rinat Veliakhmedov", "link": "https://stackoverflow.com/users/7192989/rinat-veliakhmedov"}, "is_accepted": false, "score": 0, "last_activity_date": 1493854666, "last_edit_date": 1495540477, "creation_date": 1493853563, "answer_id": 43771465, "question_id": 43771442, "link": "https://stackoverflow.com/questions/43771442/problems-with-indexing-minimum-value-from-array-using-a-function/43771465#43771465", "title": "Problems with Indexing Minimum value from array using a function", "body": "<p>If minimum value is <code>arr[0]</code> then <code>iMin</code> won't ever be initialized because <code>if (arr[x] &lt; min)</code> will never return <em>true</em>.\nYou max function also has the same problem but works because max element is not at index 0.</p>\n\n<pre><code>int iMin = 0;\n</code></pre>\n\n<p>Should fix your problem. Also it's a good idea to develop a habit to <strong>always</strong> initialize your variables and fields. Value stored in an uninitialized variable is indeterminate, <a href=\"https://stackoverflow.com/questions/40987901/what-happens-to-uninitialized-variables-c\">reading from it is undefined behaviour</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 7556173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8p3x.png?s=128&g=1", "display_name": "\u4e0a\u5c71\u8001\u4eba", "link": "https://stackoverflow.com/users/7556173/%e4%b8%8a%e5%b1%b1%e8%80%81%e4%ba%ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1493871199, "creation_date": 1493871199, "answer_id": 43773763, "question_id": 43771442, "link": "https://stackoverflow.com/questions/43771442/problems-with-indexing-minimum-value-from-array-using-a-function/43773763#43773763", "title": "Problems with Indexing Minimum value from array using a function", "body": "<p>if you initialize years like this:</p>\n\n<pre><code>int year[] = { 2009, 2008, 2007, 2006, 2004, 2003, 2001, 1999, 1998, 1995};\n</code></pre>\n\n<p>and then, the min work fine, and the max is error.^_^</p>\n\n<p>you must initialize the iMin and iMax, and the initial number need to be the same with arr index, like this:</p>\n\n<pre><code>// min\nint nStartIndex = 0;\nint iMin = nStartIndex;\nint min = arr[nStartIndex];\n// max\nint nStartIndex = 0;\nint iMax = nStartIndex;\nint max = arr[nStartIndex];\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7960179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ff7a3ac974adbca83b6f073c246104?s=128&d=identicon&r=PG&f=1", "display_name": "Rebeckah", "link": "https://stackoverflow.com/users/7960179/rebeckah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1493871199, "creation_date": 1493853402, "question_id": 43771442, "link": "https://stackoverflow.com/questions/43771442/problems-with-indexing-minimum-value-from-array-using-a-function", "title": "Problems with Indexing Minimum value from array using a function", "body": "<p>So we were given a project involving two arrays (one a string and the other including values), and I decided to use movies and years. One of the parameters of the project is to display the maximum and minimum values along with their string. Now, the max works fine, but when I try to run min, it says it isn't initialized. What am I doing wrong?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint avgYear(int arr[], int size);\nint indexMin(int arr[], int size);\nint indexMax(int arr[], int size);\n\nint main()\n{\n    int total = 0;\n\n    string name[] = {\"Toy Story\", \"A Bug's Life\", \"Toy Story 2\", \"Monster's Inc.\", \"Finding Nemo\", \"The Incredibles\", \"Cars\", \"Ratatouille\", \"WALL-E\", \"Up\"};\n    int year[] = { 1995, 1998, 1999, 2001, 2003, 2004, 2006, 2007, 2008, 2009};\n    for (int x = 0; x &lt; 10; x++)\n        cout &lt;&lt; name[x] &lt;&lt; \"     \" &lt;&lt; year[x] &lt;&lt; endl;\n\n    cout &lt;&lt; \"The average year of release was \" &lt;&lt; avgYear(year, 10) &lt;&lt; endl;\n    cout &lt;&lt; \"The First Year of Release was \" &lt;&lt; name[indexMin(year, 10)] &lt;&lt; \" in \" &lt;&lt; year[indexMin(year, 10)] &lt;&lt; endl;\n    cout &lt;&lt; \"The Last Year of Release was \"&lt;&lt; name[indexMax(year, 10)] &lt;&lt; \" in \" &lt;&lt; year[indexMax(year, 10)] &lt;&lt; endl;\n\n\n    return 0;\n}\n\nint avgYear(int arr[], int size)\n{\n    int avg;\n    int total=0;\n    for (int x = 0; x &lt; size; x++)\n        total += arr[x];\n    avg = total / size;\n\n    return avg;\n}\n\nint indexMin(int arr[], int size)\n{\n    int iMin;\n    int min = arr[0];\n    for (int x = 1; x &lt; size; x++)\n        if (arr[x] &lt; min)\n        {\n            min = arr[0];\n            iMin = x;\n        }\n    return iMin;\n}\n\nint indexMax(int arr[], int size)\n{\n    int iMax;\n    int max = arr[0];\n    for (int x = 0; x &lt; size; x++)\n        if (arr[x] &gt; max)\n        {\n            max = arr[x];\n            iMax = x;\n        }\n    return iMax;\n}   \n</code></pre>\n"}, {"tags": ["c++", "g++", "scheduler", "cpuset"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1493852867, "post_id": 43771345, "comment_id": 74584113, "body": "Please <a href=\"https://stackoverflow.com/posts/43771345/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493853596, "post_id": 43771345, "comment_id": 74584346, "body": "You&#39;re apparently missing the <code>#include</code> file that declares <code>cpu_set_t</code> and the <code>CPU_ZERO</code> and <code>CPU_SET</code> macros."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1493853652, "post_id": 43771345, "comment_id": 74584365, "body": "@BaummitAugen He posted his entire source file. What more is needed for the MCVE?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493853755, "post_id": 43771345, "comment_id": 74584391, "body": "I&#39;m not sure what you&#39;re doing wrong. According to the man page, you need <code>#define _GNU_SOURCE</code> and <code>#include &lt;sched.h&gt;</code>, and you have both of these."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1493853776, "post_id": 43771345, "comment_id": 74584399, "body": "@Barmar Not sure if you are joking, but anyways: Posting the entire source file that contains some error is hardly <i>minimal</i>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493853945, "post_id": 43771345, "comment_id": 74584430, "body": "I can&#39;t reproduce the error on my system."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1493854107, "post_id": 43771345, "comment_id": 74584474, "body": "@BaummitAugen As I&#39;m sure you understand, posters don&#39;t always know which parts are important, so it&#39;s hard for them to minimize to just that part. The more serious problem is when the code they post isn&#39;t complete or verifiable, he didn&#39;t make that mistake."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1493854527, "post_id": 43771345, "comment_id": 74584576, "body": "@Barmar In this case, we are talking about a compilation error. The compiler points to the exact line that&#39;s problematic. The effort to make something a lot more minimal than &quot;just dump all the code&quot; can and has to be expected from askers, even if it&#39;s &quot;hard&quot;."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1493854915, "post_id": 43771345, "comment_id": 74584680, "body": "@BaummitAugen Come on, you know it&#39;s not that simple. There can be all sorts of dependencies on lines that aren&#39;t mentioned in the error message."}], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 6810199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ffe1b8cd74158223d736b618d17886?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Karam", "link": "https://stackoverflow.com/users/6810199/marc-karam"}, "is_accepted": true, "score": 1, "last_activity_date": 1493857194, "creation_date": 1493857194, "answer_id": 43771905, "question_id": 43771345, "link": "https://stackoverflow.com/questions/43771345/cpu-set-t-does-not-name-a-type-c/43771905#43771905", "title": "&#39;cpu_set_t&#39; does not name a type C++", "body": "<p>To everyone who replied to this post: I thank you for the quick response.  First and foremost I probably should have mentioned that I'm using Cygwin for Windows to compile this program.  Secondly, I apologize for not making the post shorter.  Finally, I found out after asking a colleague that Cygwin itself doesn't have support for setting processor affinity within code itself.</p>\n\n<p>Thank you</p>\n"}], "owner": {"reputation": 393, "user_id": 6810199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ffe1b8cd74158223d736b618d17886?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Karam", "link": "https://stackoverflow.com/users/6810199/marc-karam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2199, "favorite_count": 0, "accepted_answer_id": 43771905, "answer_count": 1, "score": -1, "last_activity_date": 1493857194, "creation_date": 1493852571, "last_edit_date": 1493853520, "question_id": 43771345, "link": "https://stackoverflow.com/questions/43771345/cpu-set-t-does-not-name-a-type-c", "title": "&#39;cpu_set_t&#39; does not name a type C++", "body": "<p>I'm working on building a rate monotonic scheduler for an assignment and I need to get all my threads to run on the same processor.  I'm not sure what I'm doing wrong but I keep getting the same error (see pic below).  I've been looking through a bunch of Linux documentation to try and figure out what to do but I just can't.  I would really appreciate some help.  Thanks in advance.</p>\n\n<p><img src=\"https://i.imgur.com/wWcSLT1.jpg\" alt=\"Error\" title=\"error\">\nMy Scheduler.cpp file:</p>\n\n<pre><code>#define _GNU_SOURCE\n#include &lt;iostream&gt;\n#include &lt;pthread.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;mutex&gt;\n#include &lt;condition_variable&gt;\n#include &lt;semaphore.h&gt;\n#include &lt;sched.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\n\nsem_t semaphore;\nsem_t mutex1;\nsem_t mutex2;\nsem_t mutex3;\nsem_t mutex4;\n\n// initialze variables\nint i = 0;\nint overrun1 = 0;\nint overrun2 = 0;\nint overrun3 = 0;\nint overrun4 = 0;\n\nint doWork();\nvoid* p1(void *param);\nvoid* p2(void *param);\nvoid* p3(void *param);\nvoid* p4(void *param);\n\n\n\nint main(int argc, char const *argv[])\n{\ncpu_set_t cpus;\n\nCPU_ZERO(&amp;cpus);\nCPU_SET(1, &amp;cpus);\n\nsem_init(&amp;mutex1, 0, 0);\nsem_init(&amp;mutex2, 0, 0);\nsem_init(&amp;mutex3, 0, 0);\nsem_init(&amp;mutex4, 0, 0);\n\n// initialze all threads\npthread_t thread1;\npthread_t thread2;\npthread_t thread3;\npthread_t thread4;\n\n// actually create all threads\npthread_create(&amp;thread1, NULL, p1, NULL);\npthread_create(&amp;thread2, NULL, p2, NULL);\npthread_create(&amp;thread3, NULL, p3, NULL);\npthread_create(&amp;thread4, NULL, p4, NULL);\n\nwhile (i &lt; 160)\n{\n    if (i == 0) // initial case.  at time 0 schedule all threads\n    {\n        sem_post(&amp;mutex1);\n        sem_post(&amp;mutex2);\n        sem_post(&amp;mutex3);\n        sem_post(&amp;mutex4);\n    }\n\n    else if (i % 16 == 0) // last case which happens every 16 units which schedules all threads again\n    {\n        sem_post(&amp;mutex1);\n        sem_post(&amp;mutex2);\n        sem_post(&amp;mutex3);\n        sem_post(&amp;mutex4);\n    }\n\n    else if (i % 4 == 0) // case that happens every 4 units of time\n    {\n        sem_post(&amp;mutex1);\n        sem_post(&amp;mutex2);\n        sem_post(&amp;mutex3);\n    }\n\n    else if (i % 2 == 0) // case that happens every other unit of time\n    {\n        sem_post(&amp;mutex1);\n        sem_post(&amp;mutex2);\n    }\n\n    else if (i % 1 == 0) // case that happens every unit of time\n    {\n        sem_post(&amp;mutex1);\n    }\n    i++; // increment i to go through the loop again\n}\n\n// join all threads back to the main one\npthread_join(thread1, NULL);\npthread_join(thread2, NULL);\npthread_join(thread3, NULL);\npthread_join(thread4, NULL);\n\nreturn 0;\n}\n\n// doWork function\n\nint doWork()\n{\nint lousyArray[10][10];\nint product = 1;\n\nfor (int i = 0; i &lt; 10; i++)\n{\n    for (int j = 0; j &lt; 10; j++)\n    {\n        lousyArray[i][j] = 1;\n    }\n}\nfor (int k = 0; k &lt; 1; k++)\n{\n    for (int j = 0; j &lt; 10; j++)\n    {\n        for (int i = 0; i &lt; 10; i++)\n        {\n            product *= lousyArray[i][j];\n        }\n    }\n}\nreturn 1;\n}\n\n\nvoid* p1(void *param)\n{\n    bool thread1FinishFlag = false;\n    while(1)\n    {\n        sem_wait(&amp;mutex1);\n        thread1FinishFlag = false;\n        for (int i = 0; i &lt; 1; i++)\n        {\n            doWork();\n        }\n        //increment counter here\n        thread1FinishFlag = true;\n    }\n}\nvoid* p2(void *param)\n{\n    bool thread2FinishFlag = false;\n    while(1)\n    {\n        sem_wait(&amp;mutex2);\n        thread2FinishFlag = false;\n        for (int i = 0; i &lt; 2; i++)\n        {\n            doWork();\n        }\n        //increment counter here\n        thread2FinishFlag = true;\n    }\n}\nvoid* p3(void *param)\n{\n    bool thread3FinishFlag = false;\n    while(1)\n    {\n        sem_wait(&amp;mutex3);\n        thread3FinishFlag = false;\n        for (int i = 0; i &lt; 4; i++)\n        {\n            doWork();\n        }\n        //increment counter here\n        thread3FinishFlag = true;\n    }\n}\nvoid* p4(void *param)\n{\n    bool thread4FinishFlag = false;\n    while(1)\n    {\n        sem_wait(&amp;mutex4);\n        thread4FinishFlag = false;\n        for (int i = 0; i &lt; 16; i++)\n        {\n            doWork();\n        }\n        //increment counter here\n        thread4FinishFlag = true;\n    }\n}\n\nvoid nsleep()\n{\n    struct timespec delay;\n\n    delay.tv_sec = 0;\n    delay.tv_sec = 100000000L;\n    nanosleep(&amp;delay, NULL);\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "profiling", "profiler"], "comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1493853231, "post_id": 43771301, "comment_id": 74584238, "body": "Yes, it&#39;s theoretically possible. Realistically, you <i>really</i> want to narrow down the data you collect a <i>lot</i>. Let&#39;s say an average stack trace generates one kilobyte of data, and you&#39;re calling/returning from functions an average of a million times a second. That works out to logging one gigabyte per second. Unless you invest a lot in fast hard drives (or SSDs) this is going to slow your program to a crawl."}, {"owner": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1493854613, "post_id": 43771301, "comment_id": 74584599, "body": "Right, I was thinking of adjusting the delta of where to start begin capturing and when to stop capturing."}, {"owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 0, "creation_date": 1493857784, "post_id": 43771301, "comment_id": 74585163, "body": "Related: <a href=\"http://stackoverflow.com/questions/17069557/function-call-stack-in-c\">Function Call Stack in C++</a>"}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1493905098, "post_id": 43771301, "comment_id": 74609318, "body": "What you&#39;re talking about is <i>tracing</i>. It generates enormous quantities of data, far too much to analyze in any sensible way. Is your overall goal to find ways to speed up the software? There are better ways to do that."}, {"owner": {"reputation": 80313, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1494360725, "post_id": 43771301, "comment_id": 74792999, "body": "Probably related: <a href=\"http://stackoverflow.com/questions/4394606/beyond-stack-sampling-c-profilers\" title=\"beyond stack sampling c profilers\">stackoverflow.com/questions/4394606/&hellip;</a>"}], "owner": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493854671, "creation_date": 1493852299, "last_edit_date": 1493854671, "question_id": 43771301, "link": "https://stackoverflow.com/questions/43771301/profiler-to-collect-runtime-call-stack-history-in-visual-studio", "title": "Profiler to collect runtime/call stack history in Visual Studio", "body": "<p>Is it possible to collect call stack history in Visual Studio? That is, whenever the call stack changes at runtime, I'd like to capture a snapshot of the stack trace and write it to a log perhaps for later parsing.</p>\n\n<p><strong>EDIT:</strong> If it's possible, what's the best way to collect call stack history in Visual Studio?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 2, "creation_date": 1493852323, "post_id": 43771128, "comment_id": 74583947, "body": "speculation: the &quot;possible implementations&quot; listed here: <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/pointer_cast\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/memory/shared_ptr/pointer_cast</a> all use a constructor for <code>shared_ptr</code> that does not accept a moved parameter. Now why <i>that</i> doesn&#39;t have a move variation I couldn&#39;t tell you."}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1493911272, "post_id": 43771128, "comment_id": 74614241, "body": "Can&#39;t you move the result of static_pointer_cast?"}, {"owner": {"reputation": 455, "user_id": 7350842, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39bec2e0e7e07a1ca7622efc3c1d6256?s=128&d=identicon&r=PG&f=1", "display_name": "haslersn", "link": "https://stackoverflow.com/users/7350842/haslersn"}, "reply_to_user": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 1, "creation_date": 1493911413, "post_id": 43771128, "comment_id": 74614339, "body": "@rubenvb the result of static_pointer_cast is a temporary and thus an rvalue, so it&#39;s moved automatically. But the problem is that you apparently can&#39;t move into static_pointer_cast."}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1493911545, "post_id": 43771128, "comment_id": 74614438, "body": "How about using the converting &quot;move constructor&quot; of shared_ptr? Number 10 <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/shared_ptr\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1493911613, "post_id": 43771128, "comment_id": 74614490, "body": "@rubenvb Doesn&#39;t work, that only works if the pointer converts implicitly, i.e. upcast not down."}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1493911679, "post_id": 43771128, "comment_id": 74614544, "body": "Ah yes. Indeed. I forgot this between reading your question, my first comment, and writing my second comment. It does seem C++17 alleviates that by specifying &quot;compatible pointer types&quot;, or is that really no better? Can&#39;t seem to find a definition of that right now."}, {"owner": {"reputation": 455, "user_id": 7350842, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39bec2e0e7e07a1ca7622efc3c1d6256?s=128&d=identicon&r=PG&f=1", "display_name": "haslersn", "link": "https://stackoverflow.com/users/7350842/haslersn"}, "reply_to_user": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1493911828, "post_id": 43771128, "comment_id": 74614663, "body": "@rubenvb It seems like that could work with C++17."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494088259, "post_id": 43771128, "comment_id": 74683896, "body": "@Creep4Play Reference? There is no way to determine that a base class pointer can be safely converted into a derived pointer without a dynamic cast. Dynamic cast risks a runtime error which is not permitted for the heterogeneous move constructor (it is <code>noexcept</code> and has to successfully construct)."}, {"owner": {"reputation": 455, "user_id": 7350842, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39bec2e0e7e07a1ca7622efc3c1d6256?s=128&d=identicon&r=PG&f=1", "display_name": "haslersn", "link": "https://stackoverflow.com/users/7350842/haslersn"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494089013, "post_id": 43771128, "comment_id": 74684154, "body": "@NirFriedman Same reference: <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/shared_ptr\" rel=\"nofollow noreferrer\">link</a>. I don&#39;t know the C++17 draft, so I don&#39;t know if in case of a downcast, it would do an (unsafe) static cast or a (safe) dynamic cast. The latter is not impossible at all, because: A dynamic cast does not trigger a runtime error. It will return a null pointer instead. There is nothing wrong with move constructing an empty <code>shared_ptr</code>. Still it would be better to have move versions of static_pointer_cast and dynamic_pointer_cast imo, cause then one could chose between safe and unsafe."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494089380, "post_id": 43771128, "comment_id": 74684275, "body": "@Creep4Play The link explicitly says that after construction <code>*this</code> contains the previous state of the argument. That means it cannot be null unless the argument is null. Constructors in C++ are not supposed to fail that way because then their post conditions would be invalidated. E.g.: <code>auto a = b; auto c = std::move(b); assert(a == c)</code> should always work for all regular types if an exception is not thrown."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494089673, "post_id": 43771128, "comment_id": 74684363, "body": "@Creep4Play You still haven&#39;t given any reference that actually shows that it would work with C++17... I don&#39;t think it would, I don&#39;t think that&#39;s what compatible means in this context, and that&#39;s why I asked you for a link to clarify why you think it would work in 17."}], "answers": [{"tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": true, "score": 3, "last_activity_date": 1493911872, "creation_date": 1493911872, "answer_id": 43787166, "question_id": 43771128, "link": "https://stackoverflow.com/questions/43771128/stdmove-into-static-pointer-cast-why-doesnt-static-pointer-cast-have-an-rval/43787166#43787166", "title": "std::move into static_pointer_cast: Why doesn&#39;t static_pointer_cast have an rvalue reference overload?", "body": "<p>I  can answer the first part of your question, but not the second. While I'm not sure whether it's mandated by the standard, I'm pretty sure that:</p>\n\n<pre><code>std::shared_ptr&lt;Base&gt; ptr = std::make_shared&lt;Derived&gt;();\n</code></pre>\n\n<p>Will not do any extraneous refcounter increments/decrements. First, let me observe that this is actually not an assignment at all, but construction of <code>ptr</code>. Clearly it's been constructed by a temporary, and clearly the temporary is of a different type. The signature of the constructor that will be matched is (<a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/shared_ptr\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/memory/shared_ptr/shared_ptr</a>):</p>\n\n<pre><code>template&lt; class Y &gt; \nshared_ptr( shared_ptr&lt;Y&gt;&amp;&amp; r );\n</code></pre>\n\n<p>In the notes it says:</p>\n\n<blockquote>\n  <p>Move-constructs a shared_ptr from r. After the construction, *this contains a copy of the previous state of r, r is empty and its stored pointer is null. The template overload doesn't participate in overload resolution if Y* is not implicitly convertible to T*</p>\n</blockquote>\n\n<p>In this case, <code>Y</code> is <code>Derived</code> and <code>T</code> is <code>Base</code>, so clearly we get implicit conversion from <code>Y*</code> to <code>T*</code>, so the constructor is legal. Strictly speaking it might be conforming to allow the reference count to first rise to 2, and then drop back down to 1. But obviously this defeats the whole purpose of a move constructor so I rather strongly doubt this is how it is implemented.</p>\n"}], "owner": {"reputation": 455, "user_id": 7350842, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39bec2e0e7e07a1ca7622efc3c1d6256?s=128&d=identicon&r=PG&f=1", "display_name": "haslersn", "link": "https://stackoverflow.com/users/7350842/haslersn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 1, "accepted_answer_id": 43787166, "answer_count": 1, "score": 6, "last_activity_date": 1493913749, "creation_date": 1493851193, "last_edit_date": 1493913749, "question_id": 43771128, "link": "https://stackoverflow.com/questions/43771128/stdmove-into-static-pointer-cast-why-doesnt-static-pointer-cast-have-an-rval", "title": "std::move into static_pointer_cast: Why doesn&#39;t static_pointer_cast have an rvalue reference overload?", "body": "<p>Suppose we have a fuction expecting a shared pointer by value. (In a real life example I take it by rvalue reference and forward it to a member.)</p>\n\n<pre><code>void f(std::shared_ptr&lt;Derived&gt; ptr) { ... }\n</code></pre>\n\n<p>But we only have a shared pointer to the base class, so we use <code>static_pointer_cast</code>:</p>\n\n<pre><code>std::shared_ptr&lt;Base&gt; ptr = std::make_shared&lt;Derived&gt;();\nf(std::static_pointer_cast&lt;Derived&gt;(ptr));\n</code></pre>\n\n<p>Does the first assignment (construction of ptr from the temporary) trigger an atomic increment and decrement of the reference count or is the shared pointer moved? (Note that it's being up-casted.)</p>\n\n<p>Within the <code>static_pointer_cast</code> there is an atomic increment of the reference count. In case we don't need <code>ptr</code> anymore, we'd want to move it into <code>f</code>. But as there is no overload of <code>static_pointer_cast</code> taking an rvalue reference, the move won't have any effect:</p>\n\n<pre><code>f(std::static_pointer_cast&lt;Derived&gt;(std::move(ptr)));\n</code></pre>\n\n<p>We still have the atomic increment and the corresponding atomic decrement as soon as <code>ptr</code> is destructed. Why is there no such overload?</p>\n"}, {"tags": ["c++", "visual-c++", "stream", "char", "istringstream"], "answers": [{"comments": [{"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1493851669, "post_id": 43770982, "comment_id": 74583761, "body": "Technically that effect could be depending on  platform, -1 is not actually code of EOF - code of EOF is 26, but code of  &quot;End of Transmission&quot; - 255. Some  protocols used it actively, e.g. FTP uses it (making impossible to transfer or create a file with Russian letter \u044f in it - because in extended ASCII  that letter got code 255 - a problem very obvious with Windows XP  FTP)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1493889850, "post_id": 43770982, "comment_id": 74598242, "body": "@Swift: The C macro <code>EOF</code> is distinct from the ASCII control code <code>EOF</code>. You&#39;re right that it&#39;s implementation-defined and may not be -1, though it basically always is (because no other negative value has purpose, and no positive value or 0 makes sense)."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 6, "last_activity_date": 1493850344, "creation_date": 1493850344, "answer_id": 43770982, "question_id": 43770937, "link": "https://stackoverflow.com/questions/43770937/why-istringstream-appends-1-character-at-the-end-of-stream/43770982#43770982", "title": "Why istringstream appends &#39;-1&#39; character at the end of stream?", "body": "<p><code>eof()</code> isn't supposed to return <code>true</code> when all the data is consumed. It's supposed to return <code>true</code> when you attempt to read <em>more</em> data than is available.</p>\n\n<p>In this example, you never do that.</p>\n\n<p>In particular, <code>peek</code> is a \"request\", that won't set EOF even when there's nothing left to read; because you're, well, peeking. However, it <em>will</em> return the value of the macro <code>EOF</code> (commonly -1), which is what you're seeing when you output <code>peek()</code>'s result. Nothing is \"appended\" to the stream.</p>\n\n<p>Read the documentation for functions that you use.</p>\n"}, {"tags": [], "owner": {"reputation": 3812, "user_id": 7697209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0zmCe.png?s=128&g=1", "display_name": "Kostas", "link": "https://stackoverflow.com/users/7697209/kostas"}, "is_accepted": false, "score": 0, "last_activity_date": 1493850994, "creation_date": 1493850994, "answer_id": 43771100, "question_id": 43770937, "link": "https://stackoverflow.com/questions/43770937/why-istringstream-appends-1-character-at-the-end-of-stream/43771100#43771100", "title": "Why istringstream appends &#39;-1&#39; character at the end of stream?", "body": "<pre><code>std::istream::peek\n</code></pre>\n\n<blockquote>\n  <p>Peek next character Returns the next character in the input sequence,\n  without extracting it: The character is left as the next character to\n  be extracted from the stream.</p>\n  \n  <p>If any internal state flags is already set before the call or is set\n  during the call, the function returns the end-of-file value (EOF).</p>\n</blockquote>\n\n<p><a href=\"http://www.cplusplus.com/reference/istream/istream/peek/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/reference/istream/istream/peek/</a></p>\n"}], "owner": {"reputation": 5, "user_id": 6408404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91c9110e352dc2a56c99a787c531ffa0?s=128&d=identicon&r=PG&f=1", "display_name": "John Lion", "link": "https://stackoverflow.com/users/6408404/john-lion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 43770982, "answer_count": 2, "score": 0, "last_activity_date": 1493850994, "creation_date": 1493850093, "question_id": 43770937, "link": "https://stackoverflow.com/questions/43770937/why-istringstream-appends-1-character-at-the-end-of-stream", "title": "Why istringstream appends &#39;-1&#39; character at the end of stream?", "body": "<p>I've noticed that when I'm using istringstream eof() doesn't return true even if the whole string is \"consumed\". For example:</p>\n\n<pre><code>char ch;\nistringstream ss{ \"0\" };\nss &gt;&gt; ch;\ncout &lt;&lt; ss.peek() &lt;&lt; \" \" &lt;&lt; (ss.eof() ? \"true\" : \"false\");\n</code></pre>\n\n<p>Outputs(VS2015):</p>\n\n<pre><code>-1 false\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "edited": false, "score": 3, "creation_date": 1493850005, "post_id": 43770921, "comment_id": 74583258, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/6451866/why-use-functors-over-functions\">Why use functors over functions?</a>"}, {"owner": {"reputation": 433, "user_id": 4822554, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca77914598cf05d3339bcafaede4e562?s=128&d=identicon&r=PG&f=1", "display_name": "nilcit", "link": "https://stackoverflow.com/users/4822554/nilcit"}, "reply_to_user": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "edited": false, "score": 0, "creation_date": 1493850275, "post_id": 43770921, "comment_id": 74583337, "body": "Kind of - I read the entirety of that thread before posting, and began to wonder about the other way round. Why ever use functions over functors?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493850951, "post_id": 43770921, "comment_id": 74583552, "body": "Compare <code>v.size()</code> to <code>v.size_getter()()</code>."}, {"owner": {"reputation": 433, "user_id": 4822554, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca77914598cf05d3339bcafaede4e562?s=128&d=identicon&r=PG&f=1", "display_name": "nilcit", "link": "https://stackoverflow.com/users/4822554/nilcit"}, "edited": false, "score": 1, "creation_date": 1493851036, "post_id": 43770921, "comment_id": 74583580, "body": "Would you mind clarifying? Also, I don&#39;t mean in place of any built in/stl functions, I mean why should I ever write a function instead of just making it a functor."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493851135, "post_id": 43770921, "comment_id": 74583613, "body": "Well, as my hypothetical example shows, there are lots of things that are perfectly well handled by functions."}, {"owner": {"reputation": 433, "user_id": 4822554, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca77914598cf05d3339bcafaede4e562?s=128&d=identicon&r=PG&f=1", "display_name": "nilcit", "link": "https://stackoverflow.com/users/4822554/nilcit"}, "edited": false, "score": 0, "creation_date": 1493851491, "post_id": 43770921, "comment_id": 74583718, "body": "I know there are; I&#39;m asking if functions have any actual advantages over functors or are they at most interchangable?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1493851769, "post_id": 43770921, "comment_id": 74583792, "body": "I think it&#39;s just the case that functions are simpler to write and use. If you don&#39;t need any of the extra features that a functor provides, write a function. To use functors, you have to define a new class for each one."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1493852813, "post_id": 43770921, "comment_id": 74584096, "body": "To be pedantic, how would you define a functor class without using functions?"}], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 4822554, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca77914598cf05d3339bcafaede4e562?s=128&d=identicon&r=PG&f=1", "display_name": "nilcit", "link": "https://stackoverflow.com/users/4822554/nilcit"}, "edited": false, "score": 0, "creation_date": 1493853263, "post_id": 43771280, "comment_id": 74584249, "body": "thank you very much, this is exactly the type of answer I was looking for"}, {"owner": {"reputation": 844, "user_id": 6476520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3fd95868cd06cf93b9d3f49695766c?s=128&d=identicon&r=PG", "display_name": "1stCLord", "link": "https://stackoverflow.com/users/6476520/1stclord"}, "edited": false, "score": 0, "creation_date": 1493936550, "post_id": 43771280, "comment_id": 74628100, "body": "Function pointers aren&#39;t type erased, it actually takes a bit of work extraneous work to erase class memeber function pointers type. See here: <a href=\"https://godbolt.org/g/OS0u45\" rel=\"nofollow noreferrer\">godbolt.org/g/OS0u45</a>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 844, "user_id": 6476520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3fd95868cd06cf93b9d3f49695766c?s=128&d=identicon&r=PG", "display_name": "1stCLord", "link": "https://stackoverflow.com/users/6476520/1stclord"}, "edited": false, "score": 2, "creation_date": 1493946455, "post_id": 43771280, "comment_id": 74630544, "body": "@TheSombreroKid First, I was talking about function pointers, not member function pointers (which are a different kettle of pointers).  Take <code>[]{}</code> and convert it to <code>void(*)()</code> -- that is a &quot;kind of type erasure&quot;, in that we forget the exact operation we are doing, and just remember &quot;we can call it with <code>()</code>.  What it can kind of &quot;erase&quot; is highly limited.  And I do mean &quot;kind of&quot; as opposed to &quot;actually&quot;.  Edited for clarity."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 15, "last_activity_date": 1493946487, "last_edit_date": 1493946487, "creation_date": 1493852174, "answer_id": 43771280, "question_id": 43770921, "link": "https://stackoverflow.com/questions/43770921/when-should-you-ever-use-functions-over-functors-in-c/43771280#43771280", "title": "When should you ever use functions over functors in C++?", "body": "<p>Functions support distributed overriding.  Functors do not.  You must define all of the overloads of a Functor within itself; you can add new overloads of a function <em>anywhere</em>.</p>\n\n<p>Functions support ADL (argument dependent lookup), permitting overloading in the argument-type associated namespace.  Functors do not.</p>\n\n<p>Function pointers are (kind of) a type-erased stateless functor that is a POD, as evidenced by how stateless lambdas convert into it.  Such features (POD, stateless, type erasure) are useful.</p>\n"}], "owner": {"reputation": 433, "user_id": 4822554, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca77914598cf05d3339bcafaede4e562?s=128&d=identicon&r=PG&f=1", "display_name": "nilcit", "link": "https://stackoverflow.com/users/4822554/nilcit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1770, "favorite_count": 5, "accepted_answer_id": 43771280, "answer_count": 1, "score": 7, "last_activity_date": 1493946487, "creation_date": 1493849953, "last_edit_date": 1493850992, "question_id": 43770921, "link": "https://stackoverflow.com/questions/43770921/when-should-you-ever-use-functions-over-functors-in-c", "title": "When should you ever use functions over functors in C++?", "body": "<p>Functors are apparently more efficient since the compiler is more easily able to inline them, and they work much better with parametrization. When should you ever use a plain old function over a functor? </p>\n"}, {"tags": ["c++", "macos", "iot", "scons", "iotivity"], "answers": [{"comments": [{"owner": {"reputation": 4143, "user_id": 400048, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c8282b525f39ea9cb9e1c2d78474339a?s=128&d=identicon&r=PG", "display_name": "zcourts", "link": "https://stackoverflow.com/users/400048/zcourts"}, "edited": false, "score": 0, "creation_date": 1494534117, "post_id": 43923767, "comment_id": 74883061, "body": "I was pointed to that on their slack/irc chat. Testing with Ubuntu for now"}], "tags": [], "owner": {"reputation": 520, "user_id": 5003570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c076b36bd93429f5d269358182972c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Mats Wichmann", "link": "https://stackoverflow.com/users/5003570/mats-wichmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1494529699, "creation_date": 1494529699, "answer_id": 43923767, "question_id": 43770831, "link": "https://stackoverflow.com/questions/43770831/building-iotivity-on-mac/43923767#43923767", "title": "Building iotivity on mac", "body": "<p>It's not an \"officially supported\" platform or target at this point, I gather its health was better in the past.  Some people have had decent luck building for Mac, I have not. Changes to improve it will certainly considered, and there's an opening for a \"Mac port maintainer\" to make sure it doesn't rot again (and there's a github project which has added Mac buildability along with other build system reorgs - but I believe compared to iotivity that's rather out of date - however one could start picking fixes from there:  <a href=\"https://github.com/OpenOCF/iochibity\" rel=\"nofollow noreferrer\">https://github.com/OpenOCF/iochibity</a>)</p>\n"}], "owner": {"reputation": 4143, "user_id": 400048, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c8282b525f39ea9cb9e1c2d78474339a?s=128&d=identicon&r=PG", "display_name": "zcourts", "link": "https://stackoverflow.com/users/400048/zcourts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 43923767, "answer_count": 1, "score": 0, "last_activity_date": 1494529699, "creation_date": 1493849460, "last_edit_date": 1495542402, "question_id": 43770831, "link": "https://stackoverflow.com/questions/43770831/building-iotivity-on-mac", "title": "Building iotivity on mac", "body": "<p>According to the docs, Mac should be supported but when attempting to build iotivity some headers are used that I think are posix specific.</p>\n\n<pre><code>\u279c  iotivity git:(master) \u2717 scons SYS_VERSION=10.12\nscons: Reading SConscript files ...\nChecking for POSIX Thread Support...(cached) yes\nHEAD is now at acf202a Fix stack corruption due to calling convention mismatch\n\n*********************************** Info: *****************************************\n* Using FORKED copy of libCoap located in:                                        *\n* resource/csdk/connectivity/lib/libcoap-4.1.1                                    *\n***********************************************************************************\nGiven Transport is ALL\nGiven OS is darwin\nBUILD_SAMPLE is ON\nMQ flag is OFF\nReading ca script ALL\nReading common folder script\nReading util folder script\nCopied IoTivity version of config.h to /Users/zcourts/projects/iotivity/extlibs/mbedtls/mbedtls/include/mbedtls/config.h\nReading IP adapter script\nReading IP adapter script\nInclude path is ['../api', '/usr/local/include', '/Users/zcourts/projects/iotivity/deps/darwin/include', '/Users/zcourts/projects/iotivity/extlibs/tinycbor/tinycbor/src', '/Users/zcourts/projects/iotivity/resource/c_common', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/oic_malloc/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/oic_string/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/oic_time/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/ocatomic/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/ocrandom/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/octhread/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/oic_platform/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/c_common/octimer/include', '#/extlibs/mbedtls/mbedtls/include', '/Users/zcourts/projects/iotivity/out/darwin/x86_64/release/resource/csdk/logger/include', '#/resource/c_common', '#resource/csdk/connectivity/lib/libcoap-4.1.1/include', '../inc', '/Users/zcourts/projects/iotivity/resource/csdk/logger/include', '../common/inc', '../util/inc', '#resource/c_common/octhread/include/', '#resource/csdk/connectivity/common/inc/', '#resource/csdk/logger/include/', '#extlibs/mbedtls/mbedtls/include', '#/resource/c_common/octimer/include', '/Users/zcourts/projects/iotivity/resource/csdk/security/include', '../external/inc']\nFiles path is ['/Users/zcourts/projects/iotivity/resource/csdk/connectivity/common/src/uarraylist.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/common/src/ulinklist.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/common/src/uqueue.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/common/src/caremotehandler.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/common/src/cathreadpool_pthreads.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/util/src/cautilinterface.c', './adapter_util/caadapterutils.c', './adapter_util/cafragmentation.c', './adapter_util/ca_adapter_net_ssl.c', './cablockwisetransfer.c', './caconnectivitymanager.c', './cainterfacecontroller.c', './camessagehandler.c', './canetworkconfigurator.c', './caprotocolmessage.c', './caqueueingthread.c', './caretransmission.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/src/ip_adapter/caipadapter.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/src/ip_adapter/caipserver.c', '/Users/zcourts/projects/iotivity/resource/csdk/connectivity/src/ip_adapter/linux/caipnwmonitor.c']\n*** Checking for installation of google unit test 1.7.0 ***\nscons: done reading SConscript files.\nscons: Building targets ...\nscons: building associated VariantDir targets: out/darwin/x86_64/release\nCompiling out/darwin/x86_64/release/resource/c_common/octhread/src/posix/octhread.o\nresource/c_common/octhread/src/posix/octhread.c:90:5: error: unknown type name 'pthread_mutex_t'; did you mean 'pthread_attr_t'?\n    pthread_mutex_t mutex;\n    ^~~~~~~~~~~~~~~\n    pthread_attr_t\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk//usr/include/sys/_pthread/_pthread_attr_t.h:30:33: note: 'pthread_attr_t' declared here\ntypedef __darwin_pthread_attr_t pthread_attr_t;\n                                ^\nresource/c_common/octhread/src/posix/octhread.c:103:5: error: unknown type name 'pthread_cond_t'; did you mean 'pthread_attr_t'?\n    pthread_cond_t cond;\n    ^~~~~~~~~~~~~~\n    pthread_attr_t\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk//usr/include/sys/_pthread/_pthread_attr_t.h:30:33: note: 'pthread_attr_t' declared here\ntypedef __darwin_pthread_attr_t pthread_attr_t;\n                                ^\nresource/c_common/octhread/src/posix/octhread.c:104:5: error: unknown type name 'pthread_condattr_t'; did you mean 'pthread_attr_t'?\n    pthread_condattr_t condattr;\n    ^~~~~~~~~~~~~~~~~~\n    pthread_attr_t\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk//usr/include/sys/_pthread/_pthread_attr_t.h:30:33: note: 'pthread_attr_t' declared here\ntypedef __darwin_pthread_attr_t pthread_attr_t;\n                                ^\nresource/c_common/octhread/src/posix/octhread.c:109:5: error: unknown type name 'pthread_t'\n    pthread_t thread;\n    ^\nresource/c_common/octhread/src/posix/octhread.c:128:22: warning: implicit declaration of function 'pthread_create' is invalid in C99 [-Wimplicit-function-declaration]\n        int result = pthread_create(&amp;threadInfo-&gt;thread, NULL, start_routine, arg);\n                     ^\nresource/c_common/octhread/src/posix/octhread.c:170:19: warning: implicit declaration of function 'pthread_join' is invalid in C99 [-Wimplicit-function-declaration]\n    int joinres = pthread_join(threadInfo-&gt;thread, NULL);\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:187:17: warning: implicit declaration of function 'pthread_mutex_init' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret=pthread_mutex_init(&amp;(mutexInfo-&gt;mutex), PTHREAD_MUTEX_DEFAULT);\n                ^\nresource/c_common/octhread/src/posix/octhread.c:187:57: error: use of undeclared identifier 'PTHREAD_MUTEX_DEFAULT'\n        int ret=pthread_mutex_init(&amp;(mutexInfo-&gt;mutex), PTHREAD_MUTEX_DEFAULT);\n                                                        ^\nresource/c_common/octhread/src/posix/octhread.c:215:19: warning: implicit declaration of function 'pthread_mutex_destroy' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_mutex_destroy(&amp;mutexInfo-&gt;mutex);\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:239:19: warning: implicit declaration of function 'pthread_mutex_lock' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_mutex_lock(&amp;mutexInfo-&gt;mutex);\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:273:19: warning: implicit declaration of function 'pthread_mutex_unlock' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_mutex_unlock(&amp;mutexInfo-&gt;mutex);\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:314:19: warning: implicit declaration of function 'pthread_condattr_init' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_condattr_init(&amp;(eventInfo-&gt;condattr));\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:342:15: warning: implicit declaration of function 'pthread_cond_init' is invalid in C99 [-Wimplicit-function-declaration]\n        ret = pthread_cond_init(&amp;(eventInfo-&gt;cond), &amp;(eventInfo-&gt;condattr));\n              ^\nresource/c_common/octhread/src/posix/octhread.c:350:13: warning: implicit declaration of function 'pthread_condattr_destroy' is invalid in C99 [-Wimplicit-function-declaration]\n            pthread_condattr_destroy(&amp;(eventInfo-&gt;condattr));\n            ^\nresource/c_common/octhread/src/posix/octhread.c:367:19: warning: implicit declaration of function 'pthread_cond_destroy' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_cond_destroy(&amp;(eventInfo-&gt;cond));\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:390:19: warning: implicit declaration of function 'pthread_cond_signal' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_cond_signal(&amp;(eventInfo-&gt;cond));\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:407:19: warning: implicit declaration of function 'pthread_cond_broadcast' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_cond_broadcast(&amp;(eventInfo-&gt;cond));\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:431:17: error: incomplete result type 'struct timespec' in function definition\nstruct timespec oc_get_current_time()\n                ^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:439:5: warning: implicit declaration of function 'gettimeofday' is invalid in C99 [-Wimplicit-function-declaration]\n    gettimeofday(&amp;tv, NULL);\n    ^\nresource/c_common/octhread/src/posix/octhread.c:440:21: error: variable has incomplete type 'struct timespec'\n    struct timespec ts;\n                    ^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:448:5: error: unknown type name 'time_t'; did you mean 'size_t'?\n    time_t secPart = microseconds/USECS_PER_SEC;\n    ^~~~~~\n    size_t\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk//usr/include/sys/_types/_size_t.h:30:32: note: 'size_t' declared here\ntypedef __darwin_size_t        size_t;\n                               ^\nresource/c_common/octhread/src/posix/octhread.c:450:26: error: incomplete definition of type 'struct timespec'\n    uint64_t totalNs = ts-&gt;tv_nsec + nsecPart;\n                       ~~^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:451:5: error: unknown type name 'time_t'; did you mean 'size_t'?\n    time_t secOfNs = totalNs/NANOSECS_PER_SEC;\n    ^~~~~~\n    size_t\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk//usr/include/sys/_types/_size_t.h:30:32: note: 'size_t' declared here\ntypedef __darwin_size_t        size_t;\n                               ^\nresource/c_common/octhread/src/posix/octhread.c:453:7: error: incomplete definition of type 'struct timespec'\n    ts-&gt;tv_nsec = (totalNs)% NANOSECS_PER_SEC;\n    ~~^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:454:7: error: incomplete definition of type 'struct timespec'\n    ts-&gt;tv_sec += secPart + secOfNs;\n    ~~^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:479:25: error: variable has incomplete type 'struct timespec'\n        struct timespec abstime = { .tv_sec = 0 };\n                        ^\nresource/c_common/octhread/src/posix/octhread.c:431:8: note: forward declaration of 'struct timespec'\nstruct timespec oc_get_current_time()\n       ^\nresource/c_common/octhread/src/posix/octhread.c:495:19: warning: implicit declaration of function 'pthread_cond_timedwait' is invalid in C99 [-Wimplicit-function-declaration]\n            ret = pthread_cond_timedwait(&amp;(eventInfo-&gt;cond), &amp;(mutexInfo-&gt;mutex), &amp;abstime);\n                  ^\nresource/c_common/octhread/src/posix/octhread.c:520:19: warning: implicit declaration of function 'pthread_cond_wait' is invalid in C99 [-Wimplicit-function-declaration]\n        int ret = pthread_cond_wait(&amp;eventInfo-&gt;cond, &amp;mutexInfo-&gt;mutex);\n                  ^\n15 warnings and 13 errors generated.\nscons: *** [out/darwin/x86_64/release/resource/c_common/octhread/src/posix/octhread.o] Error 1\nscons: building terminated because of errors.\n\u279c  iotivity git:(master) \u2717\n</code></pre>\n\n<p>I'm following the instructions at <a href=\"https://wiki.iotivity.org/macosx_build_instructions\" rel=\"nofollow noreferrer\">https://wiki.iotivity.org/macosx_build_instructions</a> pointed to by <a href=\"https://wiki.iotivity.org/build_for_your_system\" rel=\"nofollow noreferrer\">https://wiki.iotivity.org/build_for_your_system</a></p>\n\n<p>had a look but can't see any flags that'd enable mac support explicitly. Anyone know if this is actually supported and just been broken in recent commits? I building master checked out two days ago.</p>\n\n<p>There is a <code>windows-port</code> branch but no mac named branches. <code>remotes/origin/1.3-rel</code> has the same issue.</p>\n\n<p>Found this <a href=\"https://stackoverflow.com/a/24947106/400048\">https://stackoverflow.com/a/24947106/400048</a> which lead me to my assertion about the posix specific headers being used.</p>\n\n<p>So, anyone know if this can be built on mac and if so, how?</p>\n"}, {"tags": ["python", "c++", "boost", "variadic-functions", "function-composition"], "owner": {"reputation": 777, "user_id": 5697437, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/838f55e32bef215fa7dccda904737856?s=128&d=identicon&r=PG&f=1", "display_name": "Katie", "link": "https://stackoverflow.com/users/5697437/katie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493846873, "creation_date": 1493846455, "last_edit_date": 1493846873, "question_id": 43770219, "link": "https://stackoverflow.com/questions/43770219/using-python-interpreter-to-instantiate-c-objects-within-c-application", "title": "Using Python interpreter to instantiate C++ objects within C++ application", "body": "<p>I've implemented several classes in C++ (e.g. <code>GetRadius</code>, <code>GetHeight</code>, <code>Multiply</code>, <code>Add</code> below). I'd like to embed the Python interpreter inside a C++ application so that I can write a Python script (<code>config.py</code> below) to instantiate these objects, as follows:</p>\n\n<pre><code>#!/usr/bin/env python\n# config.py\nfrom my_cpp_classes import *\n\ninstantiate_in_cpp = []\n\n# Area of cylinder\ncircle = Multiply(GetRadius(), GetRadius()), 3.14)\nside = Multiply(Multiply(2, GetRadius()), GetHeight())  # function composition\narea = Add(circle, circle, side)                        # variadic\n\n# Volume of cylinder\nvolume = Multiply(end, GetHeight())\n\ninstantiate_in_cpp.append(area)\ninstantiate_in_cpp.append(volume)\n</code></pre>\n\n<p>In some sense I'm using Python as a markup language for configuring a C++ application.</p>\n\n<p>What's the recommended way to do this without Boost? (I see that <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/python/doc/html/tutorial/tutorial/embedding.html#tutorial.embedding.using_the_interpreter\" rel=\"nofollow noreferrer\">Boost.Python</a> provides a means to embed the interpreter and expose the C++ objects to a Python program.) Would I run into any issues trying to expose the function compositions or variadic functions?</p>\n"}, {"tags": ["python", "c++", "installation", "atom-editor", "enaml"], "answers": [{"tags": [], "owner": {"reputation": 14128, "user_id": 2362877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QmqIT.jpg?s=128&g=1", "display_name": "frmdstryr", "link": "https://stackoverflow.com/users/2362877/frmdstryr"}, "is_accepted": true, "score": 0, "last_activity_date": 1505674378, "creation_date": 1505674378, "answer_id": 46267728, "question_id": 43770130, "link": "https://stackoverflow.com/questions/43770130/installing-enaml-in-anaconda/46267728#46267728", "title": "Installing enaml in Anaconda", "body": "<p>Install the <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=44266\" rel=\"nofollow noreferrer\">Microsoft Visual C++ Compiler for Python 2.7</a> and run <code>pip install enaml</code> again. There's also a tutorial here <a href=\"https://www.youtube.com/watch?v=OMjiPRSWFdY&amp;t=2s\" rel=\"nofollow noreferrer\">Python GUI's with enaml</a> that shows how to get started from scratch.</p>\n"}, {"tags": [], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1509052635, "creation_date": 1509052635, "answer_id": 46963961, "question_id": 43770130, "link": "https://stackoverflow.com/questions/43770130/installing-enaml-in-anaconda/46963961#46963961", "title": "Installing enaml in Anaconda", "body": "<p><code>conda install enaml</code> is the more idiomatic way to install packages in anaconda than <code>pip install</code>, at least for packages it knows about. Enaml and Atom are among this list.</p>\n\n<p>This bypasses C++ compilation so it may not be what you want, but it is the easiest way to install Enaml. (I have a black thumb when it comes to building from source, so Anaconda works very well for me.)</p>\n"}], "owner": {"reputation": 126, "user_id": 7959882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50dc87df7236c2255bf208e52c3ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "Maugrim", "link": "https://stackoverflow.com/users/7959882/maugrim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 46267728, "answer_count": 2, "score": 2, "last_activity_date": 1509052635, "creation_date": 1493846073, "last_edit_date": 1592644375, "question_id": 43770130, "link": "https://stackoverflow.com/questions/43770130/installing-enaml-in-anaconda", "title": "Installing enaml in Anaconda", "body": "<p>I am trying to install enaml for the latest Anaconda distribution(4.3.1). The installation guide on <a href=\"http://nucleic.github.io/enaml/docs/get_started/installation.html\" rel=\"nofollow noreferrer\">http://nucleic.github.io/enaml/docs/get_started/installation.html</a> says:</p>\n<blockquote>\n<p>The sections below describe how to install Enaml and all of its dependencies from scratch, starting with the installation of a Python runtime. The instructions assume that the user\u2019s system has a C++ compiler and the Git command line tools installed and available on the system path.</p>\n<p>The Easy Way</p>\n<p>If installing and building Enaml and its dependencies from scratch is not appealing, the free (and unaffiliated) Anaconda Python distribution provides a complete Python environment which comes with a reasonably recent version of Enaml and a host of other useful packages.</p>\n<p>If you have a working C++ compiler, you can install using pip:</p>\n<p>$ pip install enaml</p>\n</blockquote>\n<p><strong>Can you please tell me the easiest way to install a C++ compiler and Git command line tools and make them available on system path?</strong></p>\n<p>What I tried:\nI tried installing Visual Studio however it turns out to be 32 bit so when pip installing enaml or atom I get the following error:</p>\n<p>Failed building wheel for atom</p>\n<p>fatal error LNK1112: module machine type 'x64' conflicts with target machine type 'X86'</p>\n"}, {"tags": ["c++", "sql", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 2012685, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f187c86bdbbb23c696b1ea2974e4fcbb?s=128&d=identicon&r=PG", "display_name": "Ashton", "link": "https://stackoverflow.com/users/2012685/ashton"}, "edited": false, "score": 0, "creation_date": 1493846390, "post_id": 43770092, "comment_id": 74581840, "body": "Thank you Pons! I wrongly had it in my mind that the AND needed to be freestanding."}], "tags": [], "owner": {"reputation": 1061, "user_id": 6506261, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3574215e740f13f87f097f0a78d48d1?s=128&d=identicon&r=PG&f=1", "display_name": "Pons", "link": "https://stackoverflow.com/users/6506261/pons"}, "is_accepted": false, "score": 0, "last_activity_date": 1493845904, "creation_date": 1493845904, "answer_id": 43770092, "question_id": 43770066, "link": "https://stackoverflow.com/questions/43770066/sqlite3-sql-delete-syntax-for-two-where-columns/43770092#43770092", "title": "SQLite3 SQL DELETE syntax for two WHERE columns", "body": "<p>Try this...</p>\n\n<pre><code>delSQL = \"DELETE FROM user WHERE Name='\" + datArray[0] + \"' AND Age=\" + datArray[1] + \";\"; \n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 2012685, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f187c86bdbbb23c696b1ea2974e4fcbb?s=128&d=identicon&r=PG", "display_name": "Ashton", "link": "https://stackoverflow.com/users/2012685/ashton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493845904, "creation_date": 1493845776, "question_id": 43770066, "link": "https://stackoverflow.com/questions/43770066/sqlite3-sql-delete-syntax-for-two-where-columns", "title": "SQLite3 SQL DELETE syntax for two WHERE columns", "body": "<p>This string works perfect for one column:</p>\n\n<pre><code>delSQL = \"DELETE FROM user WHERE Name='\" + datArray[0] + \"';\";\n</code></pre>\n\n<p>But what looks correct for two columns has error: expected \u2018;\u2019 before \u2018AND\u2019</p>\n\n<pre><code>delSQL = \"DELETE FROM user WHERE Name='\" + datArray[0] + \"'\" AND \" Age=\" + datArray[1] + \";\"; \n</code></pre>\n\n<p>Advice greatly appreciated.</p>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493845495, "post_id": 43769963, "comment_id": 74581406, "body": "What error did you get? post it verbose"}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493845960, "post_id": 43769963, "comment_id": 74581639, "body": "Wich OS/linux version do you have?"}, {"owner": {"reputation": 1, "user_id": 7959877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268985323184d9d2b7832176c0a837a1?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin Walker", "link": "https://stackoverflow.com/users/7959877/franklin-walker"}, "reply_to_user": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493846232, "post_id": 43769963, "comment_id": 74581769, "body": "I have Linux Mint"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1493846404, "post_id": 43769963, "comment_id": 74581848, "body": "Shared object is .so, static is .a.  Do you have a liboptimization.a?"}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493847378, "post_id": 43769963, "comment_id": 74582213, "body": "@FranklinWalker I can&#39;t locate liboptimization in google is this a library that came with the system o did you compile youself?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7959877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268985323184d9d2b7832176c0a837a1?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin Walker", "link": "https://stackoverflow.com/users/7959877/franklin-walker"}, "edited": false, "score": 0, "creation_date": 1493845952, "post_id": 43770030, "comment_id": 74581636, "body": "I got /usr/bin/ld: cannot find -loptimization collect2: error: ld returned 1 exit status"}, {"owner": {"reputation": 114, "user_id": 7930361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbsjw.jpg?s=128&g=1", "display_name": "Rapido", "link": "https://stackoverflow.com/users/7930361/rapido"}, "reply_to_user": {"reputation": 1, "user_id": 7959877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268985323184d9d2b7832176c0a837a1?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin Walker", "link": "https://stackoverflow.com/users/7959877/franklin-walker"}, "edited": false, "score": 0, "creation_date": 1493846943, "post_id": 43770030, "comment_id": 74582070, "body": "I think you don&#39;t have the lib optimization Try      sudo apt-get install libx11-dev and change       #include &lt;dlib/optimization.h&gt;"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493917965, "post_id": 43770030, "comment_id": 74618577, "body": "Whilst this code snippet is welcome, and may provide some help, it would be <a href=\"//meta.stackexchange.com/q/114762\">greatly improved if it included an explanation</a> of <i>how</i> it addresses the question.  Without that, your answer has much less educational value - remember that you are answering the question for readers in the future, not just the person asking now!  Please <a href=\"https://stackoverflow.com/posts/43770030/edit\">edit</a> your answer to add explanation, and give an indication of what limitations and assumptions apply."}, {"owner": {"reputation": 114, "user_id": 7930361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbsjw.jpg?s=128&g=1", "display_name": "Rapido", "link": "https://stackoverflow.com/users/7930361/rapido"}, "edited": false, "score": 0, "creation_date": 1494028253, "post_id": 43770030, "comment_id": 74669824, "body": "Oh yes, sorry about that... I am gonna edit my answer!"}], "tags": [], "owner": {"reputation": 114, "user_id": 7930361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qbsjw.jpg?s=128&g=1", "display_name": "Rapido", "link": "https://stackoverflow.com/users/7930361/rapido"}, "is_accepted": false, "score": -2, "last_activity_date": 1494028503, "last_edit_date": 1494028503, "creation_date": 1493845639, "answer_id": 43770030, "question_id": 43769963, "link": "https://stackoverflow.com/questions/43769963/unable-to-compile-my-code/43770030#43770030", "title": "unable to compile my code", "body": "<p>Edit :\nSometimes the orders of option for g++ or gcc compiler are important (I mean, I already get this kind of trouble with linked library), then I think you should try in other order, like this :</p>\n\n<pre><code>g++ -static -std=c++11 main.cpp -loptimization\n</code></pre>\n\n<p>or </p>\n\n<pre><code>g++ -static -loptimization -std=c++11 main.cpp\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2402, "user_id": 4621142, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Pa0B7.jpg?s=128&g=1", "display_name": "Bobface", "link": "https://stackoverflow.com/users/4621142/bobface"}, "is_accepted": false, "score": 4, "last_activity_date": 1493918073, "last_edit_date": 1493918073, "creation_date": 1493846833, "answer_id": 43770292, "question_id": 43769963, "link": "https://stackoverflow.com/questions/43769963/unable-to-compile-my-code/43770292#43770292", "title": "unable to compile my code", "body": "<p>From the <a href=\"https://gcc.gnu.org/onlinedocs/gcc-3.0/gcc_3.html#SEC16\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <h3><code>-static</code></h3>\n  \n  <p>On systems that support dynamic linking, this prevents linking with the shared libraries. On other systems, this option has no\n  effect. (...)</p>\n</blockquote>\n\n<p>This means you probably do not have the static version of the library installed. You should check <code>/usr/lib</code> and <code>/usr/local/lib</code>. Dynamic libraries end in <code>.so</code> while static libraries end in <code>.a</code>. </p>\n"}], "owner": {"reputation": 1, "user_id": 7959877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268985323184d9d2b7832176c0a837a1?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin Walker", "link": "https://stackoverflow.com/users/7959877/franklin-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1494028503, "creation_date": 1493845325, "last_edit_date": 1493845759, "question_id": 43769963, "link": "https://stackoverflow.com/questions/43769963/unable-to-compile-my-code", "title": "unable to compile my code", "body": "<p>I have a C++ code but I don't achieve to compile with <code>-static</code>. Here is my code :</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;optimization.h&gt;\n\nint main(){\n\nstd::cout &lt;&lt; opti::minimize(1,2) &lt;&lt; std::endl;\nreturn EXIT_SUCCESS;\n\n}\n</code></pre>\n\n<p>And when I type on the terminal :</p>\n\n<pre><code>g++ main.cpp -loptimization -std=c++11\n</code></pre>\n\n<p>it works but when I type :</p>\n\n<pre><code>g++ main.cpp -loptimization -static -std=c++11\n</code></pre>\n\n<p>it does not work I don't understand at all why ?</p>\n\n<p>I got this :</p>\n\n<pre><code>/usr/bin/ld: cannot find -loptimization\ncollect2: error: ld returned 1 exit status\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1999, "user_id": 3188346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbdb414d9dcf1e2a79fe37eb16aec9?s=128&d=identicon&r=PG&f=1", "display_name": "luantkow", "link": "https://stackoverflow.com/users/3188346/luantkow"}, "edited": false, "score": 0, "creation_date": 1493847307, "post_id": 43769926, "comment_id": 74582192, "body": "it would be much more convenient if all the code was available. I think there is a problem with the way you call <code>updateHeight</code>. Shouldn&#39;t you call it for each node all the way up, not only for the new node&#39;s parent?"}, {"owner": {"reputation": 3, "user_id": 7729900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9598eed6343f12e3c640aef2882a75c2?s=128&d=identicon&r=PG&f=1", "display_name": "paul5345", "link": "https://stackoverflow.com/users/7729900/paul5345"}, "reply_to_user": {"reputation": 1999, "user_id": 3188346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbdb414d9dcf1e2a79fe37eb16aec9?s=128&d=identicon&r=PG&f=1", "display_name": "luantkow", "link": "https://stackoverflow.com/users/3188346/luantkow"}, "edited": false, "score": 0, "creation_date": 1493847675, "post_id": 43769926, "comment_id": 74582354, "body": "@user3188346 i apologize, the code for this project is pretty long and the last time I made a post with a lot of code I was told it was wrong to do that and then it got down voted and never answered, if you want to see another function let me know and I&#39;ll edit it in or something. Anyways the professor&#39;s comment says [code]updateHeight [/code] should be used whenever the tree is modified. So I think you are correct, where should I call it in my while loop though? I&#39;m not too sure."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1493850899, "post_id": 43769926, "comment_id": 74583532, "body": "Those return values aren&#39;t there for casual usage. If a subtree root changes, the result of the <code>balance()</code> function will reflect that change (i.e a rebalance can change the root of a tree. You&#39;re currently ignoring that result, simply calling <code>balance(root);</code> Unrelated, you also have a blatant memory leak in your code, whereby duplicate values cause (a) an allocation of a new node, then (b) a quick-exit via <code>return</code> upon discovering the duplicate, orphaning the allocated node and its memory. In short, don&#39;t allocate until you reach where a node <i>should</i> be, but isn&#39;t."}], "owner": {"reputation": 3, "user_id": 7729900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9598eed6343f12e3c640aef2882a75c2?s=128&d=identicon&r=PG&f=1", "display_name": "paul5345", "link": "https://stackoverflow.com/users/7729900/paul5345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493845950, "creation_date": 1493845195, "last_edit_date": 1493845950, "question_id": 43769926, "link": "https://stackoverflow.com/questions/43769926/advice-on-insert-function-for-avl-tree-c", "title": "Advice on insert function for AVL tree - C++", "body": "<p>I also posted this to reddit but received no assistance. I have an AVL tree project and one of the functions I need to implement is an insert function which adds set of values in the tree. The output which I am getting is incorrect, I will show after the code. All of the code except the insert, delete, and levelOrder functions (delete and levelOrder are not asked about here) were provided by my professor so I believe it can be assumed everything is coded correctly.</p>\n\n<p>My insert function</p>\n\n<pre><code>bool AVLTree::insert(string ss, string na){\n    AVLNode* newPtr = new AVLNode(ss, na);\n    updateHeight(newPtr);\n\n    //Tree is empty, make the new Node the root of a new tree\n    if(root == nullptr){\n        root = newPtr;\n        return true;\n    }\n    //Tree is not empty\n    else{\n        AVLNode* node = root;\n        while(node != nullptr){\n            //If the ssn is already in the tree\n            if(node-&gt;ssn.compare(newPtr-&gt;ssn) == 0){\n                return false;\n            }\n            else if(node-&gt;ssn.compare(newPtr-&gt;ssn) &gt; 0){\n                if(node-&gt;left == nullptr){\n                    break;\n                }\n                node = node-&gt;left;\n            }\n            else{\n                if(node-&gt;right == nullptr){\n                    break;\n                }\n                node = node-&gt;right;\n            }\n        }\n\n        if(newPtr-&gt;ssn.compare(node-&gt;ssn) &lt; 0){\n            node-&gt;left = newPtr;\n        }\n        else{\n            node-&gt;right = newPtr;\n        }\n        updateHeight(node);\n        balance(root);\n        return true;\n    }\n}\n</code></pre>\n\n<p>And then the two functions used in there balance() and updateHeight() were provided by the professor, here they are:</p>\n\n<p>Balance()</p>\n\n<pre><code>AVLNode* AVLTree::balance(AVLNode* node){\n    updateHeight(node);\n    if (balanceFactor(node) == 2) {\n        if (balanceFactor(node-&gt;left) &lt; 0) {\n            node-&gt;left = rotateLeft(node-&gt;left); // for left right case\n        }\n\n        AVLNode* temp = rotateRight(node);\n        updateHeight(temp);\n        return temp;\n    }\n\n    if (balanceFactor(node) == -2) {\n        if (balanceFactor(node-&gt;right) &gt; 0) {\n            node-&gt;right = rotateRight(node-&gt;right);  // for right left case\n        }\n        AVLNode* temp2 = rotateLeft(node);\n        updateHeight(temp2);\n        return temp2;\n    }\n    return node;\n}\n</code></pre>\n\n<p>updateHeight()</p>\n\n<pre><code>void AVLTree::updateHeight(AVLNode* node){\n    int hl = height(node-&gt;left);\n    int hr = height(node-&gt;right);\n    node-&gt;height = (hl&gt;hr ? hl : hr) + 1;\n}\n</code></pre>\n\n<p>Main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"AVLTree.h\"\nusing namespace std;\n\nint main(){\n  AVLTree temp;\n  temp.insert(\"05\", \"a\");\n  temp.insert(\"08\", \"b\");\n  temp.insert(\"09\", \"c\");\n  temp.insert(\"03\", \"d\");\n  temp.insert(\"06\", \"d\");\n  temp.insert(\"07\", \"d\");\n  temp.insert(\"02\", \"d\");\n\n  temp.print();\n\n }\n</code></pre>\n\n<p>My current output is</p>\n\n<pre><code>      8\n     / \\\n    5   9\n   / \\\n  3   6\n /     \\\n2       7\n</code></pre>\n\n<p>When I believe I should be getting</p>\n\n<pre><code>        6\n     /     \\\n    3       8\n   / \\     / \\\n  2   5   7   9\n</code></pre>\n\n<p>Any help at all would be greatly appreciated, I apologize if I didn't include enough information, just let me know if you need more.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493846120, "post_id": 43769773, "comment_id": 74581715, "body": "I think 0xFFFF and 0xFFFE are not unicode codepoints, right?"}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493846335, "post_id": 43769773, "comment_id": 74581814, "body": "They are, although we&#39;re getting a bit deep: <a href=\"http://www.unicode.org/versions/corrigendum9.html\" rel=\"nofollow noreferrer\">unicode.org/versions/corrigendum9.html</a>"}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1493846436, "post_id": 43769773, "comment_id": 74581860, "body": "I just tried streaming and it does not set the badbit: stream &lt;&lt; u&#39;\\uFFFF&#39;;"}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1493848050, "post_id": 43769773, "comment_id": 74582504, "body": "This also works: <code>char16_t c = u&#39;\\uFFFF&#39;; stream.write( &amp;c, 1 );</code>"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493850042, "post_id": 43770842, "comment_id": 74583270, "body": "I stated in the question what I mean by large enough. An integer type that can hold all values of char_type plus EOF. If char_type and int_type are the same type (uint_least16_t), then how can that statement be satisfied?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493850143, "post_id": 43770842, "comment_id": 74583294, "body": "<code>uint_least16_t</code> is <b>at least</b> 16 bits but <b>can</b> be more. <code>char_type</code> only needs to be 16 bits, no more. To satisfy the requirement, <code>int_type</code> would have to be at least 17 bits, but since there is no 17-bit integer type, the next highest size is usually 32 bits. So despite what <code>cppreference.com</code> says, <code>int_type</code> might not be <code>uint_least16_t</code>, it might be something larger."}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493850156, "post_id": 43770842, "comment_id": 74583297, "body": "Also, I should be able to put the noncharacters into a char16_t: &quot;type for UTF-16 character representation, required to be large enough to represent any UTF-16 code unit (16 bits)&quot;"}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493850446, "post_id": 43770842, "comment_id": 74583395, "body": "@RemyLebeau: That&#39;s a problem though, because to be able to store EOF as well, it needs to be more than 16 bits, not at least 16 bits."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493850510, "post_id": 43770842, "comment_id": 74583416, "body": "@lrm29: <i>&quot;I stated in the question what I mean by large enough. An integer type that can hold all values of char_type plus EOF&quot;</i> Well I have no idea how you arrived at that expectation, given that <code>EOF</code> is one of those values. It&#39;s like saying you want a box big enough to hold everything that can fit in the box, plus something extra."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493850697, "post_id": 43770842, "comment_id": 74583475, "body": "@lrm29: that is exactly what I said: &quot;<i>To satisfy the requirement, <code>int_type</code> would have to be <b>at least 17 bits</i></b>&quot;, so <code>int_type</code> should not be <code>uint_least16_t</code>, unless <code>uint_least16_t</code> is larger than 16 bits (which it can be, by definition)."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493850850, "post_id": 43770842, "comment_id": 74583522, "body": "@BoundaryImposition: &quot;<i>Well I have no idea how you arrived at that expectation, given that EOF is one of those values</i>&quot; - it is not an expectation, it is a documented requirement. UTF-16 uses all 16 bits, and EOF must be handled <b>in addition to</b> those 16 bits, so its value cannot be one that UTF-16 uses. And your box metaphor is misleading. Of course you can have a box that is larger than what is actually stored in it with room to spare. There is a limit to how much is stored.  Same with UTF-16."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493851419, "post_id": 43770842, "comment_id": 74583690, "body": "@RemyLebeau how do you square <i>&quot;<code>int_type</code> should not be <code>uint_least16_t</code>, unless <code>uint_least16_t</code> is larger than 16 bits&quot;</i> with the fact that the standard says <code>char_traits&lt;char16_t&gt;::int_type</code> must be <code>uint_least16_t</code>?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493853185, "post_id": 43770842, "comment_id": 74584225, "body": "@JonathanWakely: then the standard is not following its own requirements: &quot;<i>For a certain character container type <code>char_type</code>, a related container type <code>INT_T</code> shall be a type or class which can represent all of the valid characters converted from the corresponding <code>char_type</code> values, as well as an end-of-file value, <code>eof()</code></i>&quot; (section 21.2.2), and &quot;<i>The member <code>eof()</code> shall return an implementation-defined constant that cannot appear as a valid UTF-16 code unit.</i>&quot; (section 21.2.3.2)."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493853189, "post_id": 43770842, "comment_id": 74584226, "body": "@JonathanWakely: Which means the value of <code>eof()</code> must be outside of the 16 bits used by UTF-16 code units, and UTF-16 uses all 16 bits, so <code>int_type</code> cannot be <code>uint_least16_t</code> unless it is implemented as more than 16 bits.  So I think the standard is wrong in defining <code>int_type</code> as <code>uint_least16_t</code> for <code>char16_t</code>, it should be <code>int</code> or <code>int32_t</code> or <code>int_least32_t</code> or something more like that."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493889300, "post_id": 43770842, "comment_id": 74597789, "body": "@RemyLebeau no it doesn&#39;t have to mean that. The OP provided a link to the FAQ, which suggests another solution that doesn&#39;t require extra bits: <a href=\"http://www.unicode.org/faq/private_use.html#nonchar10\" rel=\"nofollow noreferrer\">unicode.org/faq/private_use.html#nonchar10</a>"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1493849520, "creation_date": 1493849520, "answer_id": 43770842, "question_id": 43769773, "link": "https://stackoverflow.com/questions/43769773/is-size-of-char-traitschar16-tint-type-not-large-enough/43770842#43770842", "title": "Is size of char_traits&lt;char16_t&gt;::int_type not large enough?", "body": "<p>That really depends on what you mean by \"large enough\". <code>char16_t</code> is not \"a type large enough to hold any Unicode character including those which I'm not allowed to use\". <em>You</em> chose to try to cram <a href=\"http://www.unicode.org/versions/corrigendum9.html\" rel=\"nofollow noreferrer\"><code>\\uFFFF</code>, which is \"reserved for internal use\"</a>, into a <code>char16_t</code>, and thus you are the one at fault. The program is simply doing as you instructed.</p>\n"}, {"comments": [{"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1493854919, "post_id": 43771344, "comment_id": 74584682, "body": "It sounds like in  &quot;cannot appear as a <i>valid UTF-16 code unit</i>&quot; it considers Unicode noncharachter as non valid UTF-16 code unit, so that \\uFFFF can represent eof. Besides in the page you linked &quot;Noncharacters in the Unicode Standard are intended for <i>internal use</i> and have no standard interpretation when exchanged outside the context of internal use. However, they are not illegal in interchange nor do they cause ill-formed Unicode text.&quot; The internal use could be to represent eof without the need of an extra bit."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1493885370, "post_id": 43771344, "comment_id": 74595293, "body": "The wording in the C++ standard was written when the Unicode spec said &quot;and that should never be interchanged&quot; so it seemed clear that noncharacters were reserved and could be used for eof. After the 2013 corrigendum that&#39;s not so clear. They might have broken the C++ standard."}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 1, "creation_date": 1493886322, "post_id": 43771344, "comment_id": 74595812, "body": "I found this: <a href=\"http://www.unicode.org/faq/private_use.html#nonchar8\" rel=\"nofollow noreferrer\">unicode.org/faq/private_use.html#nonchar8</a>, so noncharacters seem to be valid."}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493886519, "post_id": 43771344, "comment_id": 74595930, "body": "Section 21.2.1 of the standard(N3797) has a table that says for eof(): &quot;yields: a value e such that X::eq_int_type(e,X::to_- int_type(c)) is false for all values c.&quot; and a footnote: &quot;233) If eof() can be held in char_type then some iostreams operations may give surprising results&quot;. So I think the standard itself it is correct, and its cppreference and the implementations of char_traits&lt;char16_t&gt; which are incorrect."}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 0, "creation_date": 1493887448, "post_id": 43771344, "comment_id": 74596531, "body": "Correction to my above comment: You correctly point out the typedef of int_type to std::uint_least16_t, which should be something else (a type of greater size than char_type, however that should be worded). That could be a bug in the standard, but not for me to say!"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 1, "creation_date": 1493889213, "post_id": 43771344, "comment_id": 74597723, "body": "@lrm29 thanks for the link to the FAQ, it looks like <a href=\"http://www.unicode.org/faq/private_use.html#nonchar10\" rel=\"nofollow noreferrer\">unicode.org/faq/private_use.html#nonchar10</a> has the answer and C++ implementations could replace occurrences of the character they use for eof, transforming it into another noncharacter. So I might need to change libstdc++ to transform U+FFFF to U+FFFD."}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "edited": false, "score": 1, "creation_date": 1493889521, "post_id": 43771344, "comment_id": 74597972, "body": "The section on sentinels is particularly interesting as it gives a bit of the history behind noncharacters. Really though, it&#39;s all a bit of a mess isn&#39;t it..."}, {"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "edited": false, "score": 0, "creation_date": 1493950505, "post_id": 43771344, "comment_id": 74631501, "body": "cppreference now mentions what eof()s are in <a href=\"http://en.cppreference.com/w/cpp/string/char_traits\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/string/char_traits</a>"}, {"owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "reply_to_user": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "edited": false, "score": 0, "creation_date": 1493990826, "post_id": 43771344, "comment_id": 74651290, "body": "Thanks @Cubbi. The problem is the way that this is specified, it&#39;s not possible for EOF to be an invalid UTF-16 code unit! It turns out this has already been brought up but is marked as not a defect: <a href=\"http://cplusplus.github.io/LWG/lwg-closed.html#1200\" rel=\"nofollow noreferrer\">LWG issue 1200</a>. I&#39;m awaiting a response from a post in <a href=\"https://groups.google.com/a/isocpp.org/forum/embed/?place=forum%2Fstd-discussion&amp;showsearch=true&amp;showpopout=true&amp;parenturl=https%3A%2F%2Fisocpp.org%2Fforums%2Fiso-c-standard-discussion#!topic/std-discussion/1zfn6WgHz8k\" rel=\"nofollow noreferrer\">std-discussion</a>"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493992679, "post_id": 43771344, "comment_id": 74652721, "body": "I&#39;ve asked for a new defect report to be opened. 1200 doesn&#39;t actually describe the core of the problem, and the suggested fixes don&#39;t solve anything. It&#39;s a shame the <code>int_type</code> typedef wasn&#39;t changed to a bigger size back in 2009 though, before it was too late to change :-("}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": true, "score": 5, "last_activity_date": 1494321984, "last_edit_date": 1494321984, "creation_date": 1493852570, "answer_id": 43771344, "question_id": 43769773, "link": "https://stackoverflow.com/questions/43769773/is-size-of-char-traitschar16-tint-type-not-large-enough/43771344#43771344", "title": "Is size of char_traits&lt;char16_t&gt;::int_type not large enough?", "body": "<p>The standard is quite explicit, <code>std::char_traits&lt;char16_t&gt;::int_type</code> is a typedef for <code>std::uint_least16_t</code>, see  [char.traits.specializations.char16_t], which also says:</p>\n\n<blockquote>\n  <p>The member <code>eof()</code> shall return an implementation-defined constant that cannot appear as a valid UTF-16 code unit.</p>\n</blockquote>\n\n<p>I'm not sure precisely how that interacts with <a href=\"http://www.unicode.org/versions/corrigendum9.html\" rel=\"nofollow noreferrer\">http://www.unicode.org/versions/corrigendum9.html</a> but existing practice in the major C++ implementations is to use the all-ones bit pattern for <code>char_traits&lt;char16_t&gt;::eof()</code>, even when <code>uint_least16_t</code> has exactly 16 bits.</p>\n\n<p>After a bit more thought, I think it's possible for implementations to meet the Character traits requirements by making <code>std::char_traits&lt;char16_t&gt;::to_int_type(char_type)</code> return U+FFFD when given U+FFFF. This satisfies the requirement for <code>eof()</code> to return:</p>\n\n<blockquote>\n  <p>a value <code>e</code> such that <code>X::eq_int_type(e,X::to_int_type(c))</code> is <code>false</code> for all values <code>c</code>.</p>\n</blockquote>\n\n<p>This would also ensure that it's possible to distinguish success and failure when checking the result of <code>basic_streambuf&lt;char16_t&gt;::sputc(u'\\uFFFF')</code>, so that it only returns <code>eof()</code> on failure, and returns <code>u'\\ufffd'</code> otherwise.</p>\n\n<p>I'll try that. I've created <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80624\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80624</a> to track this in GCC.</p>\n\n<p>I've also reported an <a href=\"http://wg21.link/lwg2959\" rel=\"nofollow noreferrer\">issue</a> against the standard, so we can fix the \"cannot appear as a valid UTF-16 code unit\" wording, and maybe fix it some other way too.</p>\n"}, {"comments": [{"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493885075, "post_id": 43775555, "comment_id": 74595114, "body": "Please don&#39;t past copyrighted code to StackOverflow if you are not the copyright holder. StackOverflow&#39;s terms don&#39;t allow that. I suggest you link to a copy of the code in the source repo instead."}, {"owner": {"reputation": 3740, "user_id": 1030870, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8f96f7ac4f0bf4c2421a9f58b6893400?s=128&d=identicon&r=PG", "display_name": "Mine", "link": "https://stackoverflow.com/users/1030870/mine"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493907867, "post_id": 43775555, "comment_id": 74611588, "body": "Thanks for the note, updated the answer to add link of the code."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493986375, "post_id": 43775555, "comment_id": 74648278, "body": "That doxygen copy of the source is from 2004, how about <a href=\"https://gcc.gnu.org/git/?p=gcc.git;a=blob;f=libstdc%2B%2B-v3/include/bits/ostream.tcc;h=e96bad8121000470fd6dcfc77c946d1d1ec08bd5;hb=HEAD\" rel=\"nofollow noreferrer\">gcc.gnu.org/git/?p=gcc.git;a=blob;f=libstdc%2B%2B-v3/include&zwnj;&#8203;/&hellip;</a> instead"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493988429, "post_id": 43775555, "comment_id": 74649654, "body": "<i>&quot;It does not tell anything about the check of eof().&quot;</i> It has to do that, to tell if the call to <code>basic_streambuf::sputc(c)</code> succeeded, because it returns <code>eof</code> on failure, and <code>to_int_type(c)</code> otherwise."}, {"owner": {"reputation": 3740, "user_id": 1030870, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8f96f7ac4f0bf4c2421a9f58b6893400?s=128&d=identicon&r=PG", "display_name": "Mine", "link": "https://stackoverflow.com/users/1030870/mine"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1493997932, "post_id": 43775555, "comment_id": 74656370, "body": "Right, I just noticed this. But this is the problem though."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1494000044, "post_id": 43775555, "comment_id": 74657666, "body": "Not if <code>to_int_type(u&#39;\\uFFFF&#39;)</code> returns something that is not equal to <code>eof()</code>. See my answer."}], "tags": [], "owner": {"reputation": 3740, "user_id": 1030870, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8f96f7ac4f0bf4c2421a9f58b6893400?s=128&d=identicon&r=PG", "display_name": "Mine", "link": "https://stackoverflow.com/users/1030870/mine"}, "is_accepted": false, "score": 1, "last_activity_date": 1493997831, "last_edit_date": 1493997831, "creation_date": 1493879855, "answer_id": 43775555, "question_id": 43769773, "link": "https://stackoverflow.com/questions/43769773/is-size-of-char-traitschar16-tint-type-not-large-enough/43775555#43775555", "title": "Is size of char_traits&lt;char16_t&gt;::int_type not large enough?", "body": "<p>The behavior is interesting, that:</p>\n\n<pre><code>stream.put(u'\\uFFFF');\n</code></pre>\n\n<p>sets the <code>badbit</code>, while:</p>\n\n<pre><code>stream &lt;&lt; u'\\uFFFF';\nchar16_t c = u'\\uFFFF'; stream.write( &amp;c, 1 );\n</code></pre>\n\n<p>does not set <code>badbit</code>.</p>\n\n<p>This answer only focus on the differences.</p>\n\n<p>So let's check gcc's source code in <a href=\"https://gcc.gnu.org/git/?p=gcc.git;a=blob;f=libstdc%2B%2B-v3/include/bits/ostream.tcc;h=e96bad8121000470fd6dcfc77c946d1d1ec08bd5;hb=HEAD#l149\" rel=\"nofollow noreferrer\">bits/ostream.tcc</a>, line 164~165, we can see that <code>put()</code> checks if the value equals to <code>eof()</code>, and set the <code>badbit</code>.</p>\n\n<pre><code>if (traits_type::eq_int_type(__put, traits_type::eof()))  // &lt;== It checks the value!\n    __err |= ios_base::badbit;\n</code></pre>\n\n<p>From line 196, we can see <code>write()</code> does not have this logic, it only checks if all the chars are written to the buffer.</p>\n\n<p>This explains the behavior.</p>\n\n<p>From <code>std::basic_ostream::put</code>'s <a href=\"http://www.cplusplus.com/reference/ostream/basic_ostream/put/\" rel=\"nofollow noreferrer\">description</a>:</p>\n\n<blockquote>\n  <p>Internally, the function accesses the output sequence by first\n  constructing a sentry object. Then (if good), it inserts c into its\n  associated stream buffer object as if calling its member function\n  sputc, and finally destroys the sentry object before returning.</p>\n</blockquote>\n\n<p>It does not tell anything about the check of <code>eof()</code>.</p>\n\n<p>So I would think this is either a bug in document or a bug in implementation.</p>\n"}], "owner": {"reputation": 431, "user_id": 676575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f79089bd83a27a7b57b0cc7cd5edf52?s=128&d=identicon&r=PG", "display_name": "lrm29", "link": "https://stackoverflow.com/users/676575/lrm29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 43771344, "answer_count": 3, "score": 5, "last_activity_date": 1494321984, "creation_date": 1493844608, "last_edit_date": 1493845930, "question_id": 43769773, "link": "https://stackoverflow.com/questions/43769773/is-size-of-char-traitschar16-tint-type-not-large-enough", "title": "Is size of char_traits&lt;char16_t&gt;::int_type not large enough?", "body": "<p>Consider the following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n\nint main(int, char **) {\n  std::basic_stringstream&lt;char16_t&gt; stream;\n\n  stream.put(u'\\u0100');\n  std::cout &lt;&lt; \" Bad: \" &lt;&lt; stream.bad() &lt;&lt; std::endl;\n\n  stream.put(u'\\uFFFE');\n  std::cout &lt;&lt; \" Bad: \" &lt;&lt; stream.bad() &lt;&lt; std::endl;\n\n  stream.put(u'\\uFFFF');\n  std::cout &lt;&lt; \" Bad: \" &lt;&lt; stream.bad() &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code> Bad: 0                                                                                                                                                                                \n Bad: 0                                                                                                                                                                                \n Bad: 1  \n</code></pre>\n\n<p>It seems the reason the badbit gets set is because 'put' sets the badbit if the character equals std::char_traits::eof(). I can now no longer put to the stream.</p>\n\n<p>At <a href=\"http://en.cppreference.com/w/cpp/string/char_traits\" rel=\"noreferrer\">http://en.cppreference.com/w/cpp/string/char_traits</a> it states:</p>\n\n<blockquote>\n  <p>int_type: an integer type that can hold all values of char_type plus\n  EOF</p>\n</blockquote>\n\n<p>But if char_type is the same as int_type (uint_least16_t) then how can this be true?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 900, "user_id": 5789299, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/06c2954190b91e1f66d5606b2272a0a1?s=128&d=identicon&r=PG&f=1", "display_name": "Wladislaw", "link": "https://stackoverflow.com/users/5789299/wladislaw"}, "reply_to_user": {"reputation": 559, "user_id": 126875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4aa134664f17673c4d9480bfaeff67?s=128&d=identicon&r=PG", "display_name": "Diego Amicabile", "link": "https://stackoverflow.com/users/126875/diego-amicabile"}, "edited": false, "score": 0, "creation_date": 1493845601, "post_id": 43769737, "comment_id": 74581470, "body": "@DiegoAmicabile sorry, was the translation mistake. Should be cFracture."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1493845912, "post_id": 43769737, "comment_id": 74581618, "body": "Can&#39;t you just define the function <code>int add(cFracture add_f1, cFracture add_f2)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 900, "user_id": 5789299, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/06c2954190b91e1f66d5606b2272a0a1?s=128&d=identicon&r=PG&f=1", "display_name": "Wladislaw", "link": "https://stackoverflow.com/users/5789299/wladislaw"}, "edited": false, "score": 0, "creation_date": 1493846530, "post_id": 43770142, "comment_id": 74581898, "body": "This worked! Only one thing is missing in your answer, i had to add cFracture add_f2 in my class too (friend int add(cFracture add_f1, cFracture add_f2);)"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1493846903, "last_edit_date": 1493846903, "creation_date": 1493846124, "answer_id": 43770142, "question_id": 43769737, "link": "https://stackoverflow.com/questions/43769737/parsing-2-arrays-to-friend-function/43770142#43770142", "title": "Parsing 2 Arrays to friend function", "body": "<p>Just add another argument to the function.</p>\n\n<pre><code>int add(cFracture add_f1, cFracture add_f2){\n cout &lt;&lt; \"Result after adding fracture 1 to fracture 2: \" &lt;&lt; add_f1.a + add_f2.a &lt;&lt; \"/\" &lt;&lt; add_f1.b + add_f2.b &lt;&lt; endl;\n return 0;\n}\n</code></pre>\n\n<p>and change the <code>friend</code> declaration to match the new function.</p>\n\n<pre><code>cFracture{\n   int a;\n   int b;\n public:\n   cFracture(int a_in = 0, int b_in = 0){\n     a = a_in;\n     b = b_in;\n   }\n\n friend int add(cFracture, cFracture);\n};\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>add(cFarr[0], cfArr[1]);\n</code></pre>\n\n<p>in the <code>main()</code> function.</p>\n"}], "owner": {"reputation": 900, "user_id": 5789299, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/06c2954190b91e1f66d5606b2272a0a1?s=128&d=identicon&r=PG&f=1", "display_name": "Wladislaw", "link": "https://stackoverflow.com/users/5789299/wladislaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 43770142, "answer_count": 1, "score": -2, "last_activity_date": 1493846903, "creation_date": 1493844502, "last_edit_date": 1493845564, "question_id": 43769737, "link": "https://stackoverflow.com/questions/43769737/parsing-2-arrays-to-friend-function", "title": "Parsing 2 Arrays to friend function", "body": "<p>I am having troubles by accessing 2 of my arrays at the same time with my friend function.</p>\n\n<p>Here is my code (the important part):</p>\n\n<pre><code>int main(){\n // Array with fracture, example 3/4\n cFracture cFArr[8] = {cFracture(3,4), cFracture(24,6)};\n // One fracture have to be added to other\n // I am missing something here -&gt;\n add(cFArr[0]); \n return 0;\n}\n</code></pre>\n\n<p>I need to understand, how to parse 2 Arrays at the same time.\nHere is my add function, here is nothing in, i need to understand how to get 2 arrays at the same time...</p>\n\n<pre><code>int add(cFracture add_f){\n cout &lt;&lt; \"Result after adding fracture 1 to fracture 2: \" &lt;&lt; add_f.a &lt;&lt; \"/\" &lt;&lt; add_f.b &lt;&lt; endl;\n return 0;\n}\n</code></pre>\n\n<p>And here is my class:</p>\n\n<pre><code>cFracture{\n   int a;\n   int b;\n public:\n   cFracture(int a_in = 0, int b_in = 0){\n     a = a_in;\n     b = b_in;\n   }\n\n friend int add(cFracture add_f);\n};\n</code></pre>\n\n<p>How should I go on? How to get 2 arrays at the same time, so i can add one to the other? It have to be done with friend function.</p>\n"}, {"tags": ["c++", "gcc", "stl", "c++-standard-library"], "answers": [{"comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1493849679, "post_id": 43770362, "comment_id": 74583127, "body": "General profiling is quite different. Libstdc++&#39;s profile mode was specifically about the library, looking for instance at your pattern of insert/remove/traversal in each std::list, and suggesting to replace it with std::vector or std::deque if it would better fit that pattern."}], "tags": [], "owner": {"reputation": 5125, "user_id": 98693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef5ae6548ea49522a5ad0e3c57f2bdc7?s=128&d=identicon&r=PG", "display_name": "ovanes", "link": "https://stackoverflow.com/users/98693/ovanes"}, "is_accepted": false, "score": 1, "last_activity_date": 1493847234, "last_edit_date": 1495541879, "creation_date": 1493847234, "answer_id": 43770362, "question_id": 43769650, "link": "https://stackoverflow.com/questions/43769650/alternative-of-gcc-libstdc-profile-mode/43770362#43770362", "title": "Alternative of GCC libstdc++ Profile Mode", "body": "<p>I'd suggest looking at Callgrind and KCacheGrind as UI. A quick search presented these results:</p>\n\n<ul>\n<li><a href=\"https://baptiste-wicht.com/posts/2011/09/profile-c-application-with-callgrind-kcachegrind.html\" rel=\"nofollow noreferrer\">How to profile C++ application with Callgrind / KCacheGrind</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13688185/callgrind-profile-a-specific-part-of-my-code\">Callgrind: Profile a specific part of my code</a></li>\n</ul>\n"}], "owner": {"reputation": 171, "user_id": 4620849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f5045c4d9e889ea125ed55e2c190826?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy Xiao", "link": "https://stackoverflow.com/users/4620849/eddy-xiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494341554, "creation_date": 1493844130, "last_edit_date": 1494341554, "question_id": 43769650, "link": "https://stackoverflow.com/questions/43769650/alternative-of-gcc-libstdc-profile-mode", "title": "Alternative of GCC libstdc++ Profile Mode", "body": "<p>I saw that the libstdc++ Profile Mode has been deprecated recently (see <a href=\"https://gcc.gnu.org/gcc-7/changes.html\" rel=\"nofollow noreferrer\">GCC 7 changes</a>).</p>\n\n<p>I just know that the <a href=\"https://gcc.gnu.org/onlinedocs/libstdc++/manual/profile_mode.html\" rel=\"nofollow noreferrer\">Profile Mode</a> provides some useful suggestions about the usage of c++ standard library. But since it is deprecated, how to get similar suggestions instead?</p>\n"}, {"tags": ["c++", "bit-manipulation"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1493844322, "post_id": 43769622, "comment_id": 74580775, "body": "<code>unsigned int data = 32; &#47;&#47; makes room for the 4 integers</code> not sur what you are expecting here. all this does is assign the value &#39;32&#39; to unsigned int.  you probably want to set it to zero to start."}, {"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1493844398, "post_id": 43769622, "comment_id": 74580807, "body": "also you are only shifting 2 bits <code>&lt;&lt; 2</code> and <code>&gt;&gt; 2</code> but a range of 0-15 uses more than 2 bits..."}, {"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1493844467, "post_id": 43769622, "comment_id": 74580842, "body": "and lastly <code>output1 = data &gt;&gt; 2</code> will give you the result AFTER the shift, not the value of the bits that were shifted off."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 2, "creation_date": 1493845009, "post_id": 43769622, "comment_id": 74581124, "body": "The question asks you to name the 32-bit integer &quot;packit&quot;. You didn&#39;t even do that."}], "answers": [{"comments": [{"owner": {"reputation": 1942, "user_id": 969365, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1EnZd.png?s=128&g=1", "display_name": "simon", "link": "https://stackoverflow.com/users/969365/simon"}, "edited": false, "score": 3, "creation_date": 1493844730, "post_id": 43769769, "comment_id": 74580982, "body": "Type-punning through unions is not allowed in c++. See <a href=\"http://stackoverflow.com/a/25672839/969365\">stackoverflow.com/a/25672839/969365</a>"}, {"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "reply_to_user": {"reputation": 1942, "user_id": 969365, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1EnZd.png?s=128&g=1", "display_name": "simon", "link": "https://stackoverflow.com/users/969365/simon"}, "edited": false, "score": 0, "creation_date": 1493845221, "post_id": 43769769, "comment_id": 74581266, "body": "Sometimes I think they used a dart board to figure out what features from C are still valid. Added a note about this."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493846535, "post_id": 43769769, "comment_id": 74581904, "body": "you can also accomplish this using bitfields and let the compiler handle the bit shifting for you: <code>struct { unsigned int data1: 8; unsigned int data2: 8; unsigned int data3: 8; unsigned int data4: 8; } packit;</code>"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 1942, "user_id": 969365, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1EnZd.png?s=128&g=1", "display_name": "simon", "link": "https://stackoverflow.com/users/969365/simon"}, "edited": false, "score": 0, "creation_date": 1493921564, "post_id": 43769769, "comment_id": 74620587, "body": "@gurka if you are going to type pun then <a href=\"http://stackoverflow.com/a/31080901/1708801\">memcpy is probably the way to go</a>"}], "tags": [], "owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "is_accepted": false, "score": 7, "last_activity_date": 1493845258, "last_edit_date": 1493845258, "creation_date": 1493844602, "answer_id": 43769769, "question_id": 43769622, "link": "https://stackoverflow.com/questions/43769622/bit-manipulation-to-store-multiple-values-in-one-int-c/43769769#43769769", "title": "Bit Manipulation to store multiple values in one int C++", "body": "<p>You can accomplish this through bit-manipulation or with a union. The union tends to be the more readable approach.</p>\n\n<pre><code>union\n{\n  unsigned char[4] data;\n  unsigned long packed;\n} packit;\n\ndata[0] = 1;\ndata[1] = 1;\ndata[2] = 1;\ndata[3] = 1;\n\nstd::cout &lt;&lt; \"packit = \" &lt;&lt; packit.packed;\n// packit = 16843009\n// 00000001 00000001 00000001 00000001\n</code></pre>\n\n<p>Note: Type punning via a union is only valid in C.</p>\n\n<p>To use bit operations you need to perform both a shift along with an <code>and</code> or <code>or</code> operation to retrieve and set the bits correctly.</p>\n\n<pre><code>unsigned long packit = 0;\n\n// Set data0\npackit |= data0;\n\n// Set data1\npackit |= (data1 &lt;&lt; 8)\n\n// Set data2\npackit |= (data2 &lt;&lt; 16)\n\n// Set data3\npackit |= (data3 &lt;&lt; 24)\n</code></pre>\n\n<p>Reading is the opposite of setting. You need to clear any values except what you want to read and shift it into the correct position.</p>\n\n<pre><code>unsigned char data0 = (packit &amp; 0x000000FF);\nunsigned char data1 = (packit &amp; 0x0000FF00) &gt;&gt; 8;\nunsigned char data2 = (packit &amp; 0x00FF0000) &gt;&gt; 16;\nunsigned char data3 = (packit &amp; 0xFF000000) &gt;&gt; 24;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1493845106, "post_id": 43769856, "comment_id": 74581186, "body": "<code>unsigned int data</code> is not guaranteed to be 32 bits."}, {"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 1, "creation_date": 1493845848, "post_id": 43769856, "comment_id": 74581587, "body": "but it is guaranteed to be at least 16 bits, which is all you need for the problem (assuming 4 bit shifts vs 8)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1493846420, "post_id": 43769856, "comment_id": 74581854, "body": "@KlitosKyriacou: yes, but it is <i>usually</i> 32 bits on most modern systems. Using a fixed-sized type like <code>uint32_t</code> or <code>uint_least32_t</code> would guarantee 32 bits, but such types where not standardized until C++11."}, {"owner": {"reputation": 31, "user_id": 7959783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c7b2abc8d222be2c12c560fcedf4aa?s=128&d=identicon&r=PG&f=1", "display_name": "n00b programmer", "link": "https://stackoverflow.com/users/7959783/n00b-programmer"}, "edited": false, "score": 1, "creation_date": 1493846545, "post_id": 43769856, "comment_id": 74581909, "body": "thank you so much I misunderstood the question and probably should have tried to understand what I was doing before just jumping in with a non full understanding"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 5, "last_activity_date": 1493846252, "last_edit_date": 1493846252, "creation_date": 1493844892, "answer_id": 43769856, "question_id": 43769622, "link": "https://stackoverflow.com/questions/43769622/bit-manipulation-to-store-multiple-values-in-one-int-c/43769856#43769856", "title": "Bit Manipulation to store multiple values in one int C++", "body": "<p>You are not manipulating the bits correctly.</p>\n\n<p>Values 0-15 require 4 bits max, but you are only shifting bits by 2 places, so you have room for handling values 0-3 only. </p>\n\n<p>Lets break down your code, using 15 (<code>1111</code> in binary) as an example.</p>\n\n<p>This code:</p>\n\n<pre><code>data = data &lt;&lt; 2; //makes room for the input\n</code></pre>\n\n<p>Takes the existing data (32, which is <code>00100000</code> in binary), shifts it 2 places to the left, becomes <code>10000000</code>.</p>\n\n<p>Then this code:</p>\n\n<pre><code>data = data | input1;\n</code></pre>\n\n<p>Adds the input (which you are not restricting in any way, per the assignment) in the lower bits, becoming <code>10001111</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>output1 = data &gt;&gt; 2;\n</code></pre>\n\n<p>Shifts the total bits by 2 places to the right, becoming <code>00100011</code>, which as you can see loses the lower two bits of the previous input value that has been stored.</p>\n\n<p>Then this code:</p>\n\n<pre><code>cout &lt;&lt; output1;\n</code></pre>\n\n<p>Outputs the remaining bits as-is, which consists of bits from two different values merged together, producing 35 as output.</p>\n\n<p>So, you need to bit-shift in both directions by either 4 bits (the minimum needed to handle values 0-15, taking up 16 bits total) or 8 bits (the maximum allowed to fit 4 values into 32 bits).  And in the case of right-shifting, you need to mask out bits that you don't want in the output.</p>\n\n<p>Try something more like this instead:</p>\n\n<p>Using 4-bit storage (the minimum needed for handling values 0-15):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt; \n\nusing namespace std;\n\nunsigned int getInput()\n{\n    unsigned int in;\n    do\n    {\n        cout &lt;&lt; \"Input a number between 0-15 inclusive: \";\n        if (cin &gt;&gt; in)\n        {\n            if ((in &gt;= 0) &amp;&amp; (in &lt;= 15))\n                break;\n        }\n\n        cin.clear();\n        cin.ignore(numeric_limits&lt;streamsize_t&gt;::max(), '\\n');\n    }\n    while (true);\n\n    return in;\n}\n\nint main()\n{\n    unsigned int input1, input2, input3, input4;\n    unsigned int packit, output;\n    int which;\n\n    input1 = getInput();\n    input2 = getInput();\n    input3 = getInput();\n    input4 = getInput();\n\n    packit = (input4 &lt;&lt; 12) | (input3 &lt;&lt; 8) | (input2 &lt;&lt; 4) | input1;\n\n    do\n    {\n        cout &lt;&lt; \"Which number to retrieve (1-4, or 0 to exit): \";\n        if (cin &gt;&gt; which)\n        {\n            if (which == 0)\n                break;\n\n            if ((which &gt;= 1) &amp;&amp; (which &lt;= 4))\n            {\n                output = ((packit &gt;&gt; (4*(which-1))) &amp; 0x0F);\n                cout &lt;&lt; output &lt;&lt; endl;\n                continue;\n            }\n        }\n\n        cin.clear();\n        cin.ignore(numeric_limits&lt;streamsize_t&gt;::max(), '\\n');\n    }\n    while (true);\n\n    return 0;\n}\n</code></pre>\n\n<p>Using 8-bit storage (the maximum allowed, which would actually allow for handling values 0-255 max):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt; \n\nusing namespace std;\n\nunsigned int getInput()\n{\n    unsigned int in;\n    do\n    {\n        cout &lt;&lt; \"Input a number between 0-15 inclusive: \"; // or 255\n        if (cin &gt;&gt; in)\n        {\n            if ((in &gt;= 0) &amp;&amp; (in &lt;= 15)) // or 255\n                break;\n        }\n\n        cin.clear();\n        cin.ignore(numeric_limits&lt;streamsize_t&gt;::max(), '\\n');\n    }\n    while (true);\n\n    return in;\n}\n\nint main()\n{\n    unsigned int input1, input2, input3, input4;\n    unsigned int packit, output;\n    int which;\n\n    input1 = getInput();\n    input2 = getInput();\n    input3 = getInput();\n    input4 = getInput();\n\n    packit = (input4 &lt;&lt; 24) | (input3 &lt;&lt; 16) | (input2 &lt;&lt; 8) | input1;\n\n    do\n    {\n        cout &lt;&lt; \"Which number to retrieve (1-4, or 0 to exit): \";\n        if (cin &gt;&gt; which)\n        {\n            if (which == 0)\n                break;\n\n            if ((which &gt;= 1) &amp;&amp; (which &lt;= 4))\n            {\n                output = ((packit &gt;&gt; (8*(which-1))) &amp; 0xFF);\n                cout &lt;&lt; output &lt;&lt; endl;\n                continue;\n            }\n        }\n\n        cin.clear();\n        cin.ignore(numeric_limits&lt;streamsize_t&gt;::max(), '\\n');\n    }\n    while (true);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 2, "last_activity_date": 1493846709, "creation_date": 1493846709, "answer_id": 43770271, "question_id": 43769622, "link": "https://stackoverflow.com/questions/43769622/bit-manipulation-to-store-multiple-values-in-one-int-c/43770271#43770271", "title": "Bit Manipulation to store multiple values in one int C++", "body": "<p>You must think to yourself, <em>How many bits does it take to represent the number 15?</em></p>\n\n<pre><code>15 = 1111\n</code></pre>\n\n<p>It takes exactly 4 bits.</p>\n\n<p>Now you need to store 4 of those numbers...so you will need 16 bits. Which means you can even store all those numbers in an <code>int</code>, <code>short</code> or <code>2 chars</code>. Let's use ints as you have been told to do.</p>\n\n<p>Ok going back to your code,</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint getInput(){\n    int in;\n    cout &lt;&lt; \"Input a number: \";\n    cin &gt;&gt; in;\n    return in;\n}\n\nint main(){\n    int input1, input2, input3, input4;\n    int output1, output2, output3, output4;\n    unsigned int data = 32; // makes room for the 4 integers\n    input1 = getInput();\n    input2 = getInput();\n    input3 = getInput();\n    input4 = getInput();\n\n    data = data &lt;&lt; 2; //makes room for the input\n    data = data | input1;\n    output1 = data &gt;&gt; 2;\n    cout &lt;&lt; output1;\n\n\n    return 0;\n}\n</code></pre>\n\n<p>First this, <code>unsigned int data = 32; // makes room for the 4 integers</code>.</p>\n\n<p><strong>This does not make room for 4 integers as you assume. The number 32 is\n<code>10000</code> in binary.</strong></p>\n\n<p>What you actually want to do to make room for 4 integers is that whenever you want to store any of the numbers, you shift the bits in the integer to the left by 4, and then store the number by using the bitwise or (<code>|</code>) not <code>=</code></p>\n\n<p>So this is more of what you need to start with:</p>\n\n<pre><code>unsigned int data = 0;\n\ndata = (data &lt;&lt; 4)|input1;\ndata = (data &lt;&lt; 4)|input2;\ndata = (data &lt;&lt; 4)|input3;\n</code></pre>\n\n<p>Now to retrieve say, <code>input1</code>, we do this:</p>\n\n<p><code>(data &gt;&gt; 8)&amp;((1 &lt;&lt; 4)-1)</code></p>\n\n<p><strong>Why?</strong></p>\n\n<p>This is because <code>input1</code> is followed by 8 bits belonging to <code>input2</code> and <code>input3</code>, so we eliminate those, then to actually get the value there, we do the bitwise and <code>&amp;</code> of 15 (1111), which is simply done because the width of the number stored is not greater than 15, and because 15 is the smallest number closest to those numbers and consists of all 1's.</p>\n\n<p><code>input2 == (data &gt;&gt; 2)&amp;((1 &lt;&lt; 4)-1)</code></p>\n\n<p><code>input3 == (data)&amp;((1 &lt;&lt; 4)-1)</code></p>\n\n<p>Hope that helps</p>\n"}], "owner": {"reputation": 31, "user_id": 7959783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c7b2abc8d222be2c12c560fcedf4aa?s=128&d=identicon&r=PG&f=1", "display_name": "n00b programmer", "link": "https://stackoverflow.com/users/7959783/n00b-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7426, "favorite_count": 1, "accepted_answer_id": 43769856, "answer_count": 3, "score": 2, "last_activity_date": 1493846709, "creation_date": 1493844067, "last_edit_date": 1493844207, "question_id": 43769622, "link": "https://stackoverflow.com/questions/43769622/bit-manipulation-to-store-multiple-values-in-one-int-c", "title": "Bit Manipulation to store multiple values in one int C++", "body": "<p>I need help with a programming lab assignment that I cant seem to figure out.</p>\n\n<p>The question is :</p>\n\n<blockquote>\n  <p>Allow the user to input 4 integer values all between 0 and 15 inclusive. Store these 4 values into a single 32 bit integer named &quot;packit&quot; Allow the user to choose which of the 4 integers they wish to recover from &quot;packit&quot;. An input of \"1\" will recover the first value input, a \"2\" the second, a \"3\" the third, etc. Use only bit manipulations to store and recover the values.</p>\n</blockquote>\n\n<p>This is what I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint getInput(){\n    int in;\n    cout &lt;&lt; \"Input a number: \";\n    cin &gt;&gt; in;\n    return in;\n}\n\nint main(){\n    int input1, input2, input3, input4;\n    int output1, output2, output3, output4;\n    unsigned int data = 32; // makes room for the 4 integers\n    input1 = getInput();\n    input2 = getInput();\n    input3 = getInput();\n    input4 = getInput();\n\n    data = data &lt;&lt; 2; //makes room for the input\n    data = data | input1;\n    output1 = data &gt;&gt; 2;\n    cout &lt;&lt; output1;\n\n\n    return 0;\n}\n</code></pre>\n\n<p>I stopped at <code>output1</code> just to test it, and it doesn't work.  However, this is what I have come to after trying for hours.  I'm not sure what I am doing wrong.  I'm following the notes I copied off the board in class.\nAny help would be appreciated.</p>\n"}, {"tags": ["c++", "gets"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1493844137, "post_id": 43769608, "comment_id": 74580675, "body": "why are you trying to use gets in a c++ program, thats what cin is for"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1493844459, "post_id": 43769608, "comment_id": 74580836, "body": "<code>gets</code> is not declared in <code>iostream</code> (it is/was a C function) and is obsolete, as far as I know. Even if it&#39;s available in your library, you should never use it. Use C++ I/O in C++."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1493844568, "post_id": 43769608, "comment_id": 74580903, "body": "and use std::string not char[20]"}, {"owner": {"reputation": 1, "user_id": 7959770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nEUeqw0Ml08/AAAAAAAAAAI/AAAAAAAAAU8/qCQQUbVUcBI/photo.jpg?sz=128", "display_name": "Amit Mishra", "link": "https://stackoverflow.com/users/7959770/amit-mishra"}, "edited": false, "score": 0, "creation_date": 1493846107, "post_id": 43769608, "comment_id": 74581703, "body": "plz modify the program for me someone. i reqquest"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1493892885, "post_id": 43769608, "comment_id": 74600362, "body": "<a href=\"https://stackoverflow.com/questions/tagged/gets\">gets</a> was already deprecated. Did you hover or click your mouse into the tag and read its description? <a href=\"http://stackoverflow.com/q/1694036/995714\">Why is the gets function so dangerous that it should not be used?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 7840776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TdgI8.jpg?s=128&g=1", "display_name": "xris", "link": "https://stackoverflow.com/users/7840776/xris"}, "is_accepted": false, "score": 1, "last_activity_date": 1493894841, "last_edit_date": 1493894841, "creation_date": 1493892280, "answer_id": 43779826, "question_id": 43769608, "link": "https://stackoverflow.com/questions/43769608/error-gets-not-declare-in-thi-cope-on-codeblock-10-0/43779826#43779826", "title": "error: &quot;gets&quot; not declare in thi cope on codeblock 10.0", "body": "<p>use <code>std::cin.getline</code> instead of <code>gets</code> and <code>std::string</code> instead of <code>char []</code>.</p>\n\n<p>As comments pointed out, <code>gets</code> is not declared in <code>iostream</code>. Furthermore, it has been deprecated in C++11 and removed in C++14, which means even if you include <code>cstdio</code> or <code>stdio.h</code>, it just do not compile in compilers supporting C++14.</p>\n\n<p>But still, never use <code>std::cin</code> for <code>char []</code>. The reason is the same as <code>gets</code>. Both will make your program under the danger of <strong>buffer overflow</strong> when your input is longer than buffer, which will cause your program has unexpected behaviour, like crash. And crackers may even hack your whole computer with it.</p>\n"}], "owner": {"reputation": 1, "user_id": 7959770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nEUeqw0Ml08/AAAAAAAAAAI/AAAAAAAAAU8/qCQQUbVUcBI/photo.jpg?sz=128", "display_name": "Amit Mishra", "link": "https://stackoverflow.com/users/7959770/amit-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1493894841, "creation_date": 1493844014, "last_edit_date": 1493844174, "question_id": 43769608, "link": "https://stackoverflow.com/questions/43769608/error-gets-not-declare-in-thi-cope-on-codeblock-10-0", "title": "error: &quot;gets&quot; not declare in thi cope on codeblock 10.0", "body": "<pre><code> #include&lt;iostream&gt;\n    using namespace std;\n    class student\n    {\n    private:\n        int admno;\n        char sname[20];\n        float eng,math,science;\n        float total;\n        float ctotal()\n        {\n            return eng+math+science;\n        }\n    public:\n        void Takedata()\n        {\n            cout&lt;&lt;\"Enter admission number \";\n            cin&gt;&gt; admno;\n            cout&lt;&lt;\"Enter student name \" ;\n            gets(sname);// here its giving the error\n            cout&lt;&lt; \"Enter marks in english, math, science \";\n            cin&gt;&gt;eng&gt;&gt;math&gt;&gt;science;\n            total=ctotal();\n        };\n\n    void Showdata()\n    {\n        cout&lt;&lt;\"Admission number \"&lt;&lt;admno&lt;&lt;\"\\nStudent name \"&lt;&lt;sname&lt;&lt;\"\\nEnglish \"\n            &lt;&lt;eng&lt;&lt;\"\\nMath \"&lt;&lt;math&lt;&lt;\"\\nScience \"&lt;&lt;science&lt;&lt;\"\\nTotal \"&lt;&lt;total;\n    }\n};\nint main ()\n{\n    student obj ;\n    obj.Takedata();\n    obj.Showdata();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "serialization", "reference", "iostream"], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 7547722, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b982a43ca0f7d98ade0f03acc581d2bf?s=128&d=identicon&r=PG&f=1", "display_name": "ajaysinghnegi", "link": "https://stackoverflow.com/users/7547722/ajaysinghnegi"}, "edited": false, "score": 0, "creation_date": 1578570012, "post_id": 44226338, "comment_id": 105485410, "body": "Why don&#39;t we just return <code>os</code>? If <code>os</code> is the reference to <code>cout</code> then why again return reference to <code>os</code>? Isn&#39;t <code>reference to os</code> same as <code>refererence to cout</code>?"}], "tags": [], "owner": {"reputation": 2998, "user_id": 1723954, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/qM3Yc.jpg?s=128&g=1", "display_name": "Stewart", "link": "https://stackoverflow.com/users/1723954/stewart"}, "is_accepted": false, "score": 1, "last_activity_date": 1495967909, "creation_date": 1495967909, "answer_id": 44226338, "question_id": 43769519, "link": "https://stackoverflow.com/questions/43769519/why-return-reference-to-ostream-object-in-member-function-for-serialization/44226338#44226338", "title": "why return reference to ostream object in member function for serialization", "body": "<p>Returning an <code>ostream&amp;</code> object allows us to chain a bunch of operators togeather.</p>\n\n<p>Consider this statement </p>\n\n<pre><code>cout &lt;&lt; \"Hello \" &lt;&lt; \"World\";\n</code></pre>\n\n<p>This is actually two calls to <code>ostream&amp; operator&lt;&lt;(ostream&amp; os, const char* c)</code>.  If we consider the order of execution, we get: </p>\n\n<pre><code>(cout &lt;&lt; \"Hello \") &lt;&lt; \"World\";\n</code></pre>\n\n<p>This function accepts <code>cout</code> on the left and <code>\"Hello \"</code> on the right.  It prints the contents of the right hand-side to the console, <strong>then it returns</strong> <code>cout</code>.  We we consider what's left after the first step we get this: </p>\n\n<pre><code>(cout) &lt;&lt; \"World\";\n</code></pre>\n\n<p>Now we take the brackets away and get: </p>\n\n<pre><code>cout &lt;&lt; \"World;\n</code></pre>\n\n<p>This one is much easier to deal with.  Now we call the function again to print `\"World\" and return the cout again, which we will simply not do anything with.</p>\n\n<hr>\n\n<p>If we returned <code>void</code> instead of <code>ostream&amp;</code>, then <code>(cout &lt;&lt; \"Hello \")</code> would reduce to <code>(void)</code>.  That would leave us with: </p>\n\n<pre><code>(void) &lt;&lt; \"World\";\n</code></pre>\n\n<p>This doesn't match any overloads and so we would then get an error.  While the <code>(cout &lt;&lt; \"Hello \")</code> would still work, we wouldn't be able to chain <code>&lt;&lt; \"World\"</code> on the same line.</p>\n"}], "owner": {"reputation": 59, "user_id": 6055098, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/389833159ca4fc1c4f8684d87e8721b2?s=128&d=identicon&r=PG&f=1", "display_name": "HONDDAACCORD", "link": "https://stackoverflow.com/users/6055098/honddaaccord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "closed_date": 1495968508, "answer_count": 1, "score": 0, "last_activity_date": 1495967909, "creation_date": 1493843674, "question_id": 43769519, "link": "https://stackoverflow.com/questions/43769519/why-return-reference-to-ostream-object-in-member-function-for-serialization", "closed_reason": "Duplicate", "title": "why return reference to ostream object in member function for serialization", "body": "<p>//using namespace std;</p>\n\n<p>Here's the following piece of code</p>\n\n<pre><code>ostream&amp; write(ostream&amp; os) const {\n    os &lt;&lt; getRe() &lt;&lt; \"j \" &lt;&lt; getIm();\n    return os;\n}\n</code></pre>\n\n<p>This is a member function in a class representing complex numbers (\"PComplex), which is derived from an abstract class (\"Serializable\"). (Implementation of pure virtual function).</p>\n\n<p>My main question is why do we need to return a reference to an ostream object? Why not void?</p>\n"}, {"tags": ["c++", "struct", "fwrite"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1493881315, "post_id": 43769514, "comment_id": 74592775, "body": "Comments are not for extended discussion; this conversation has been <a href=\"http://chat.stackoverflow.com/rooms/143362/discussion-on-question-by-the-gramm-fwrite-how-to-write-nested-structs\">moved to chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 2974608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6df3c65aef95a4a198256ae60c6d28a5?s=128&d=identicon&r=PG&f=1", "display_name": "The Gramm", "link": "https://stackoverflow.com/users/2974608/the-gramm"}, "edited": false, "score": 0, "creation_date": 1493852236, "post_id": 43771064, "comment_id": 74583920, "body": "Thanks, I found the problem. It&#39;s way deeper than I thought, your input helped a lot tho. The code above works as it should. The mistake is made elsewhere."}, {"owner": {"reputation": 364, "user_id": 3443104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb13b9d011bee845ad58aef07990e4e?s=128&d=identicon&r=PG&f=1", "display_name": "rfx", "link": "https://stackoverflow.com/users/3443104/rfx"}, "reply_to_user": {"reputation": 120, "user_id": 2974608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6df3c65aef95a4a198256ae60c6d28a5?s=128&d=identicon&r=PG&f=1", "display_name": "The Gramm", "link": "https://stackoverflow.com/users/2974608/the-gramm"}, "edited": false, "score": 0, "creation_date": 1493852536, "post_id": 43771064, "comment_id": 74584008, "body": "lol. Anyways, glad it helped somehow."}], "tags": [], "owner": {"reputation": 364, "user_id": 3443104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb13b9d011bee845ad58aef07990e4e?s=128&d=identicon&r=PG&f=1", "display_name": "rfx", "link": "https://stackoverflow.com/users/3443104/rfx"}, "is_accepted": true, "score": 1, "last_activity_date": 1493851398, "last_edit_date": 1493851398, "creation_date": 1493850775, "answer_id": 43771064, "question_id": 43769514, "link": "https://stackoverflow.com/questions/43769514/fwrite-how-to-write-nested-structs/43771064#43771064", "title": "fwrite() : how to write nested structs", "body": "<p>Coming out of information you provided us with and assuming you use your code exactly like you described, I guess your problem is <code>fopen()</code>ing file in write-only mode. If you don't close the file and reopen it again in appropriate mode (i.e., <code>fopen(filename, \"rb\")</code>, <code>fread</code> won't read anything actually. In your code above, if you check return value of <code>fread</code>, you'll see that it's zero.</p>\n\n<p>Either change opening mode to <code>\"w+b\"</code> or reopen the file in appropriate access mode for reading data back.</p>\n"}], "owner": {"reputation": 120, "user_id": 2974608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6df3c65aef95a4a198256ae60c6d28a5?s=128&d=identicon&r=PG&f=1", "display_name": "The Gramm", "link": "https://stackoverflow.com/users/2974608/the-gramm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "closed_date": 1493881331, "accepted_answer_id": 43771064, "answer_count": 1, "score": 1, "last_activity_date": 1493851398, "creation_date": 1493843661, "last_edit_date": 1493848610, "question_id": 43769514, "link": "https://stackoverflow.com/questions/43769514/fwrite-how-to-write-nested-structs", "closed_reason": "Not suitable for this site", "title": "fwrite() : how to write nested structs", "body": "<p>I have the following structs defined in C++</p>\n\n<pre><code>// This is the record\ntypedef struct {\n    unsigned int recid;\n    unsigned int num;\n    char str[STR_LENGTH];\n    bool valid;  // if set, then this record is valid\n} rec;\n\n// This is the definition of a block, which contains a number of fixed-sized records\ntypedef struct {\n    unsigned int blockid;\n    unsigned int nreserved; // how many reserved entries\n    rec entries[MAX_RECORDS_PER_BLOCK]; // array of records\n    bool valid;  // if set, then this block is valid\n} blk;\n</code></pre>\n\n<p>After data manipulation I want to write it to a file. <code>fwrite()</code> is the way to go. I have a function:</p>\n\n<pre><code>void WriteValidRecords(FILE *outfile, blk *buffer) {\n    for (uint i = 0; i &lt; buffer-&gt;nreserved; i++) {\n        if (buffer-&gt;entries[i].valid) {\n            // I think here is the mistake!!\n            fwrite(&amp;(buffer-&gt;entries[i]), 1, sizeof(rec), outfile);\n        }\n    }\n}\n</code></pre>\n\n<p>witch writes the records 1 by 1 at a file. This compiles but what I get in the file is wrong. I think the pointer I pass as a first argument at <code>fwrite()</code> is the problem. But I've tried a lot of things and I can't seem to find what to put there.</p>\n\n<p>I am not sure if it matters but this is how I call <code>WriteValidRecords()</code>:</p>\n\n<pre><code>blk *buffer = new blk[nmem_blocks];\n\ntemp = fopen((\"temp\", \"wb\");\n\n// Do stuff\n\nfor (uint i = 0; i &lt; nmem_blocks; i++) {\n    WriteValidRecords(temp, &amp;buffer[i], nios);\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>temp is opened in binary form.</p>\n\n<p>Also I am on linux, yeah..</p>\n\n<p>EDIT 2:</p>\n\n<p>Ok i tried opening the file in both read and write mode and I think this should print what it reads. It does not. It prints the same thing again and again.</p>\n\n<pre><code>void WriteValidRecords(FILE *outfile, blk *buffer) {\n    for (uint i = 0; i &lt; buffer-&gt;nreserved; i++) {\n        if (buffer-&gt;entries[i].valid) {\n            fwrite(&amp;(buffer-&gt;entries[i]), 1, sizeof(rec), outfile);\n            fseek(outfile, -sizeof(rec), SEEK_CUR);\n            rec tmp;\n            fread(&amp;tmp, 1, sizeof(rec), outfile);\n            cout &lt;&lt; tmp.recid &lt;&lt; endl;\n            cout &lt;&lt; tmp.num &lt;&lt; endl;\n            cout &lt;&lt; tmp.str &lt;&lt; endl;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "segmentation-fault", "queue", "valgrind"], "comments": [{"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1493843102, "post_id": 43769231, "comment_id": 74580133, "body": "is <code>this</code> valid when executing <code>hemlock::voxel::ChunkGrid::handleBlockChange</code>? You mentioned it is an event kicking this off, are you calling an event on an object (<code>ChunkGrid</code>) that hasn&#39;t been created yet (potentially, <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"nofollow noreferrer\">static initialization order</a>)"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1493843122, "post_id": 43769231, "comment_id": 74580145, "body": "Well, you cast some object to pointer (bad) and that something is a local variable that goes immediately out of scope (bad). Not clear what you&#39;re intending to do."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493843461, "post_id": 43769231, "comment_id": 74580341, "body": "You can&#39;t determine that objects are valid through inspection. You can only separate the definitely bad from the possibly good."}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "edited": false, "score": 0, "creation_date": 1493844234, "post_id": 43769231, "comment_id": 74580742, "body": "@Ics Up to the delegate executing the wrapped method. I&#39;m not sure why it&#39;s failing - it hasn&#39;t in any other circumstance, both with MSVC or GCC/Clang. I&#39;ll add the function that seems to be failing to the post."}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493844282, "post_id": 43769231, "comment_id": 74580758, "body": "@juanchopanza Where are you referring to? I&#39;m not entirely sure I know what you mean."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493844435, "post_id": 43769231, "comment_id": 74580824, "body": "This: <code>(Chunk*)sender</code>"}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493844612, "post_id": 43769231, "comment_id": 74580927, "body": "That pointer is valid @juanchopanza; it is the same as the this pointer of the <code>hvox::Chunk</code> object that triggered the event. Edit: More importantly, i is also still valid in that its contents have not been deleted."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493844703, "post_id": 43769231, "comment_id": 74580962, "body": "@MatthewMarshall Too bad you didn&#39;t post enough code to show that."}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493844906, "post_id": 43769231, "comment_id": 74581077, "body": "Apologies @juanchopanza I didn&#39;t want to bog down the post. I use the event/delegate systems in multiple places and in other projects fine. After the results of valgrind/gdb I thought it was something I could leave out."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1493877888, "post_id": 43769231, "comment_id": 74590805, "body": "@MatthewMarshall  Thanks. You added some crucial info, the definition of <code>h::Sender</code>. That addresses my previous comments. The goal is to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "reply_to_user": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1493898244, "post_id": 43769231, "comment_id": 74604048, "body": "@lcs I explored the suggestion of static initialisation order being the problem, but the <code>hvox::ChunkGrid</code> object is established before <code>hvox::ChunkGrid::handleBlockChange</code> is called for sure. I&#39;m finding that the object pointer is valid until I use it to call a function on - at which point it is not being used to assign the <code>this</code> pointer. I added the code in my post where this occurs."}, {"owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1494005463, "post_id": 43769231, "comment_id": 74660698, "body": "@juanchopanza would it be appropriate to make a new question with better details, more code and also a focus on what has turned out to be the actual problem (which isn&#39;t what this question initially was)?"}], "owner": {"reputation": 38, "user_id": 3137825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us9Nt.jpg?s=128&g=1", "display_name": "Matthew Marshall", "link": "https://stackoverflow.com/users/3137825/matthew-marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493898323, "creation_date": 1493842644, "last_edit_date": 1493898323, "question_id": 43769231, "link": "https://stackoverflow.com/questions/43769231/segmentation-fault-when-pushing-pod-to-queue", "title": "Segmentation fault when pushing POD to queue", "body": "<p>I have encountered a very weird issue with some code I have been writing; a segmentation fault is occurring in <code>std::deque::emplace_back</code> when pushing a struct:</p>\n\n<pre><code>struct ChunkMeshTask {\n    union {\n        ChunkID                       id;  //&lt; ui64\n        ChunkRectilinearWorldPosition pos; //&lt; i24, i16, i24\n    };\n    Chunk*  chunk;\n};\n</code></pre>\n\n<p>to a queue stored as a member of the same class as the method in which the push is performed:</p>\n\n<pre><code>namespace h {\n    using Sender = const void*;\n}\n\nnamespace hvox {\n    class ChunkGrid {\n        ...\n    public:\n        void handleBlockChange(Sender sender, BlockChangeEvent event);\n        ...\n    protected:\n        std::queue&lt;ChunkMeshTask&gt; m_meshTasks; // = std::queue&lt;ChunkMeshTask&gt;(); was tried as a sanity check.\n        ...\n    };\n}\n\nvoid hvox::ChunkGrid::handleBlockChange(h::Sender sender, BlockChangeEvent event) {\n    // TODO(Matthew): We really shouldn't be submitting a mesh task for each block change...\n    //                We want AT MOST one mesh task per chunk on the queue at any given time regardless of number of blocks changed.\n    m_meshTasks.push(ChunkMeshTask{\n        { event.chunkPos },\n        (Chunk*)sender\n    });\n}\n</code></pre>\n\n<p>This segmentation fault doesn't occur in MSVC, but does in GCC and Clang, debugging with GDB shows that all values (including the pointer <code>sender</code>) are valid at the call of <code>hvox::ChunkGrid::handleBlockChange</code>.</p>\n\n<p><code>hvox::ChunkGrid::handleBlockChange</code> is called from an event system, that in this particular case is invoking a delegate that wraps the function. I mention this as to try to dig deeper I ran my program through valgrind. In addition to fixing various unrelated bugs, it has yielded two distinct errors that seem to be related but that I cannot get an understanding of with respect to the problem I'm facing:</p>\n\n<pre><code>==7788== Use of uninitialised value of size 8\n==7788==    at 0x4249F9: void std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt;::emplace_back&lt;hemlock::voxel::ChunkMeshTask&gt;(hemlock::voxel::ChunkMeshTask&amp;&amp;) (deque.tcc:158)\n==7788==    by 0x423FB5: std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt;::push_back(hemlock::voxel::ChunkMeshTask&amp;&amp;) (stl_deque.h:1533)\n==7788==    by 0x4236DD: std::queue&lt;hemlock::voxel::ChunkMeshTask, std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt; &gt;::push(hemlock::voxel::ChunkMeshTask&amp;&amp;) (stl_queue.h:248)\n==7788==    by 0x422BB2: hemlock::voxel::ChunkGrid::handleBlockChange(void const*, hemlock::voxel::BlockChangeEvent) (ChunkGrid.cpp:52)\n==7788==    by 0x424E3C: void hemlock::Delegate&lt;void, void const*, hemlock::voxel::BlockChangeEvent&gt;::executeWithObject&lt;hemlock::voxel::ChunkGrid, void&gt;(void const*, void (hemlock::TypelessMember::*)(), void const*, hemlock::voxel::BlockChangeEvent) (Delegate.hpp:167)\n==7788==    by 0x425C09: hemlock::Delegate&lt;void, void const*, hemlock::voxel::BlockChangeEvent&gt;::operator()(void const*, hemlock::voxel::BlockChangeEvent) const (Delegate.hpp:112)\n==7788==    by 0x424F02: void hemlock::executeDelegate&lt;void, hemlock::voxel::BlockChangeEvent&gt;(stx::basic_any&lt;5ul&gt;, void const*, hemlock::voxel::BlockChangeEvent) (Event.hpp:303)\n==7788==    by 0x4222C4: hemlock::Event&lt;hemlock::voxel::BlockChangeEvent&gt;::trigger(hemlock::voxel::BlockChangeEvent) (Event.hpp:130)\n==7788==    by 0x42218D: hemlock::Event&lt;hemlock::voxel::BlockChangeEvent&gt;::operator()(hemlock::voxel::BlockChangeEvent) (Event.hpp:135)\n==7788==    by 0x422020: hemlock::voxel::Chunk::setBlock(hemlock::voxel::BlockChunkPosition, hemlock::voxel::Block) (Chunk.cpp:25)\n==7788==    by 0x40B138: ChunkGenerator::runGenTask(hemlock::voxel::ChunkGenTask, unsigned short) (ChunkGenerator.cpp:51)\n==7788==    by 0x422A49: hemlock::voxel::ChunkGrid::update() (ChunkGrid.cpp:35)\n==7788==  Uninitialised value was created by a stack allocation\n==7788==    at 0x424EB8: void hemlock::executeDelegate&lt;void, hemlock::voxel::BlockChangeEvent&gt;(stx::basic_any&lt;5ul&gt;, void const*, hemlock::voxel::BlockChangeEvent) (Event.hpp:299)\n</code></pre>\n\n<p>This error implies there's something uninitialised in <code>hemlock::executeDelegate&lt;void, hemlock::voxel::BlockChangeEvent&gt;</code> but again, using GDB I have verified that <code>delegate</code> (stored in a 5-byte-wide <code>std::any</code>), the pointer <code>sender</code> and the struct in <code>parameters</code> are all valid here. The function looks like:</p>\n\n<pre><code>template&lt;typename ReturnType, typename ...Parameters&gt;\nReturnType executeDelegate(DelegateAny callback, Sender sender, Parameters... parameters) {\n    using MyDelegate = Delegate&lt;ReturnType, Sender, Parameters...&gt;;\n    MyDelegate delegate = delegateAnyCast&lt;MyDelegate&gt;(callback); // delegateAnyCast is just a wrapper of std::any_cast specifically for an internal 5-byte wide stack storage in std::any.\n\n    return delegate(sender, parameters...);\n}\n</code></pre>\n\n<p>Using GDB again, everything is valid inside the delegate, and the wrapped function is called with the expected parameters.</p>\n\n<p>The last error valgrind yields before the seg fault is:</p>\n\n<pre><code>==7788== Invalid write of size 8\n==7788==    at 0x4260C5: void __gnu_cxx::new_allocator&lt;hemlock::voxel::ChunkMeshTask&gt;::construct&lt;hemlock::voxel::ChunkMeshTask, hemlock::voxel::ChunkMeshTask&gt;(hemlock::voxel::ChunkMeshTask*, hemlock::voxel::ChunkMeshTask&amp;&amp;) (new_allocator.h:120)\n==7788==    by 0x4257EC: void std::allocator_traits&lt;std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt;::construct&lt;hemlock::voxel::ChunkMeshTask, hemlock::voxel::ChunkMeshTask&gt;(std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt;&amp;, hemlock::voxel::ChunkMeshTask*, hemlock::voxel::ChunkMeshTask&amp;&amp;) (alloc_traits.h:475)\n==7788==    by 0x4249E8: void std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt;::emplace_back&lt;hemlock::voxel::ChunkMeshTask&gt;(hemlock::voxel::ChunkMeshTask&amp;&amp;) (deque.tcc:155)\n==7788==    by 0x423FB5: std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt;::push_back(hemlock::voxel::ChunkMeshTask&amp;&amp;) (stl_deque.h:1533)\n==7788==    by 0x4236DD: std::queue&lt;hemlock::voxel::ChunkMeshTask, std::deque&lt;hemlock::voxel::ChunkMeshTask, std::allocator&lt;hemlock::voxel::ChunkMeshTask&gt; &gt; &gt;::push(hemlock::voxel::ChunkMeshTask&amp;&amp;) (stl_queue.h:248)\n==7788==    by 0x422BB2: hemlock::voxel::ChunkGrid::handleBlockChange(void const*, hemlock::voxel::BlockChangeEvent) (ChunkGrid.cpp:52)\n==7788==    by 0x424E3C: void hemlock::Delegate&lt;void, void const*, hemlock::voxel::BlockChangeEvent&gt;::executeWithObject&lt;hemlock::voxel::ChunkGrid, void&gt;(void const*, void (hemlock::TypelessMember::*)(), void const*, hemlock::voxel::BlockChangeEvent) (Delegate.hpp:167)\n==7788==    by 0x425C09: hemlock::Delegate&lt;void, void const*, hemlock::voxel::BlockChangeEvent&gt;::operator()(void const*, hemlock::voxel::BlockChangeEvent) const (Delegate.hpp:112)\n==7788==    by 0x424F02: void hemlock::executeDelegate&lt;void, hemlock::voxel::BlockChangeEvent&gt;(stx::basic_any&lt;5ul&gt;, void const*, hemlock::voxel::BlockChangeEvent) (Event.hpp:303)\n==7788==    by 0x4222C4: hemlock::Event&lt;hemlock::voxel::BlockChangeEvent&gt;::trigger(hemlock::voxel::BlockChangeEvent) (Event.hpp:130)\n==7788==    by 0x42218D: hemlock::Event&lt;hemlock::voxel::BlockChangeEvent&gt;::operator()(hemlock::voxel::BlockChangeEvent) (Event.hpp:135)\n==7788==    by 0x422020: hemlock::voxel::Chunk::setBlock(hemlock::voxel::BlockChunkPosition, hemlock::voxel::Block) (Chunk.cpp:25)\n==7788==  Address 0x18 is not stack'd, malloc'd or (recently) free'd\n</code></pre>\n\n<p>Which I cannot parse in this case at all, it's something to do with an invalid pointer, but on my end there are no pointers involved except for the <code>hvox::Chunk</code> pointer, which I have confirmed to be valid using GDB on push.</p>\n\n<p>The seg fault occurs inside <code>deque.tcc</code> at the first line of <code>std::deque::emplace_back</code>: </p>\n\n<pre><code>if (this-&gt;_M_impl._M_finish._M_cur != this-&gt;_M_impl._M_finish._M_last - 1) { ... }\n</code></pre>\n\n<p>specifically the iterator <code>this-&gt;_M_impl._M_finish</code> appears to be invalid.</p>\n\n<p>This is all single-threaded, so nothing else is happening to the queue to cause iterators to invalidate (though I assume internal iterators are always valid?).</p>\n\n<h2>Progress Report #1</h2>\n\n<p>It has been pointed out that the <code>this</code> pointer of <code>hvox::ChunkGrid::handleBlockChange</code> could be invalid after going through the event system, this has turned out to be the case. That said the object pointer is valid until after leaving the delegate and entering the wrapped function of the delegate. The exit point being:</p>\n\n<pre><code>    // Execution routine for member functions (const or not).\n    template&lt;typename SpecificClass, typename = typename std::enable_if&lt;std::is_class&lt;SpecificClass&gt;::value&gt;::type&gt;\n    static ReturnType executeWithObject(GenericObject object, GenericMemberFunction function, Parameters... parameters) {\n        MemberFunction&lt;SpecificClass&gt; operation = (MemberFunction&lt;SpecificClass&gt;)function;\n        SpecificClass*                   target = (SpecificClass*)object;\n\n        return (target-&gt;*operation)(parameters...);\n    }\n</code></pre>\n\n<h2>Progress Report #2</h2>\n\n<p>After doing as much digging as I can, it does seem like this <em>should</em> be valid, and indeed in other similar scenarios the event/delegate system executes correctly. I have even tried allocating the <code>hvox::ChunkGrid</code> object to the heap to see if it was indeed a scope issue, to no avail - the object definitely still exists, it's just not being assigned to the <code>this</code> pointer.</p>\n"}, {"tags": ["c++", "bit-fields"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1493842382, "post_id": 43769135, "comment_id": 74579754, "body": "Do note that accessing a bit is not a trivial thing and while you save space that comes with a increase cost in code complexity and often times speed."}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 0, "creation_date": 1493842490, "post_id": 43769135, "comment_id": 74579819, "body": "Also note that std::vector&lt;bool&gt; is specialized to use only 1 bit for each value, so the work is already done for you."}, {"owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "edited": false, "score": 1, "creation_date": 1493842492, "post_id": 43769135, "comment_id": 74579821, "body": "Simply use bit manipulation.  Remember digital logic? On/Off (XOR). <code>b0 ^= 1</code> turns it On/Off"}, {"owner": {"reputation": 31, "user_id": 1887066, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e04fae863c4d61ee3e3c5899253ecc82?s=128&d=identicon&r=PG", "display_name": "S_BISHOP", "link": "https://stackoverflow.com/users/1887066/s-bishop"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493842588, "post_id": 43769135, "comment_id": 74579869, "body": "Thanks  @NathanOliver Yes I understand, code complexity is an issue doing so. Thankfully, its a single class of the entire program, where I wish to implement."}, {"owner": {"reputation": 31, "user_id": 1887066, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e04fae863c4d61ee3e3c5899253ecc82?s=128&d=identicon&r=PG", "display_name": "S_BISHOP", "link": "https://stackoverflow.com/users/1887066/s-bishop"}, "reply_to_user": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 0, "creation_date": 1493842643, "post_id": 43769135, "comment_id": 74579899, "body": "@Phil M Thanks, I will research."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1493842719, "post_id": 43769135, "comment_id": 74579935, "body": "Bitmasks &gt; Bitfields. You can use an <code>enum</code> to define your bitfield values and standard binary math to compose them."}, {"owner": {"reputation": 31, "user_id": 1887066, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e04fae863c4d61ee3e3c5899253ecc82?s=128&d=identicon&r=PG", "display_name": "S_BISHOP", "link": "https://stackoverflow.com/users/1887066/s-bishop"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1493843298, "post_id": 43769135, "comment_id": 74580250, "body": "@tadman Thanks, it never occurred to me to take that approach, between the various replys here, looks as if there are a few common practices go about the task."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1887066, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e04fae863c4d61ee3e3c5899253ecc82?s=128&d=identicon&r=PG", "display_name": "S_BISHOP", "link": "https://stackoverflow.com/users/1887066/s-bishop"}, "edited": false, "score": 0, "creation_date": 1493842945, "post_id": 43769221, "comment_id": 74580055, "body": "thanks  for a really descent example on your part, I will look into it."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 2, "last_activity_date": 1493842622, "creation_date": 1493842622, "answer_id": 43769221, "question_id": 43769135, "link": "https://stackoverflow.com/questions/43769135/how-can-i-use-bitfields-specifically-for-the-following-purpose/43769221#43769221", "title": "How can I use Bitfields specifically for the following purpose", "body": "<p>Bit fields can only be specified for data members. From the very first line of <a href=\"http://en.cppreference.com/w/cpp/language/bit_field\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/bit_field</a> : </p>\n\n<blockquote>\n  <p>Declares a <strong>class data member</strong> with explicit size [...]</p>\n</blockquote>\n\n<p>You would need to wrap your bit fields in a struct. Example : </p>\n\n<pre><code>#include &lt;cstdint&gt;\nstruct bool_pack {\n    uint8_t b0 : 1, b1 : 1, b2 : 1, b3 : 1, b4 : 1, b5 : 1, b6 : 1, b7 : 1;\n};\n\nint main()\n{\n    bool_pack b = {};\n\n    if (!b.b0) {\n        // do something\n        b.b0 = true;\n    }\n}\n</code></pre>\n\n<p>There is a more convenient standard library type <a href=\"http://en.cppreference.com/w/cpp/utility/bitset\" rel=\"nofollow noreferrer\"><code>std::bitset</code></a> that you should consider using instead. Example :</p>\n\n<pre><code>#include &lt;bitset&gt;\nint main()\n{\n    std::bitset&lt;8&gt; b;\n\n    if (!b[0]) {\n        // do something\n        b[0] = true;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1887066, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e04fae863c4d61ee3e3c5899253ecc82?s=128&d=identicon&r=PG", "display_name": "S_BISHOP", "link": "https://stackoverflow.com/users/1887066/s-bishop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1493842622, "creation_date": 1493842273, "last_edit_date": 1493842397, "question_id": 43769135, "link": "https://stackoverflow.com/questions/43769135/how-can-i-use-bitfields-specifically-for-the-following-purpose", "title": "How can I use Bitfields specifically for the following purpose", "body": "<p>for the purpose of learning efficient memory management I would like to know how it is possible to use individual Bit fields to represent the values of 8 bool values collectively, and how to evaluate and set each bit.</p>\n\n<p>Reason is in my own program, which I wont paste because thousands of lines.\nwithin class global scope, there are hundred or so, bools all required, this greatly effects FPS.</p>\n\n<p>example:</p>\n\n<pre><code>       uint8_t b0:1, b1:1, b2:1, b3:1, b4:1, b5:1, b6:1, b7:1;\n\n       if (!b0) { \n       // do something\n       b0 = true; \n       }\n</code></pre>\n"}, {"tags": ["c++", "performance", "opengl", "glsl", "shader"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 3, "creation_date": 1493842505, "post_id": 43769134, "comment_id": 74579831, "body": "This question is probably more appropriate for <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a>, since it&#39;s likely to generate a large number of opinionated or subjective answers."}, {"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1493842799, "post_id": 43769134, "comment_id": 74579987, "body": "The major reason why I wouldn&#39;t do this is because you have to recompile your application whenever a shader is changed. In my current project building the application can take several minutes so we try to avoid that wherever possible."}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1493842928, "post_id": 43769134, "comment_id": 74580045, "body": "Where did you get this idea from? Shader compilation is a costly process (doing it over and over again on the same machine and getting the same result is rather pointless). Using precompiled (or at least cached) shaders is a recommended practice. For example look at <a href=\"https://developer.qualcomm.com/blog/binary-shaders\" rel=\"nofollow noreferrer\">QUALCOMM dev network article</a>"}, {"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "reply_to_user": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 1, "creation_date": 1493843259, "post_id": 43769134, "comment_id": 74580227, "body": "@VTT: That&#39;s definitely a good thing to do. But you still have to compile your shader once on every new machine (and sometimes when the driver get&#39;s update), so the general problem stays. Also during development compiling the shaders at every start can be a necessary."}], "answers": [{"tags": [], "owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "is_accepted": false, "score": -1, "last_activity_date": 1493843843, "creation_date": 1493843843, "answer_id": 43769553, "question_id": 43769134, "link": "https://stackoverflow.com/questions/43769134/in-graphics-applications-why-do-shaders-get-loaded-into-the-application-on-runt/43769553#43769553", "title": "In graphics applications, why do shaders get loaded into the application on runtime?", "body": "<p>The shader compilation process is part of OpenGL's glsl compiler, while you can hardcore the shaders into memory as a string, it would require recompilation everytime you make ANY edit to the shaders. </p>\n\n<p>In game programming you generally do not want to recompile the whole project when you are making small tweaks to hundreds of parts of the code, shaders, libraries, etc. This is one of the main reasons why all large game engines have scripting engines, it is often better to write extra boilerplate code to integrate scripting into your engine than have to compile a program 10 times just to get the color/shininess/position of your object just right. Try hardcoding all your shaders so they compile at runtime in memory and you'll see just how tedious it becomes after a day!</p>\n"}, {"tags": [], "owner": {"reputation": 12663, "user_id": 139091, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/221d62beca0a3b687dad11376bc51c11?s=128&d=identicon&r=PG", "display_name": "mattnewport", "link": "https://stackoverflow.com/users/139091/mattnewport"}, "is_accepted": true, "score": 3, "last_activity_date": 1493843935, "creation_date": 1493843935, "answer_id": 43769578, "question_id": 43769134, "link": "https://stackoverflow.com/questions/43769134/in-graphics-applications-why-do-shaders-get-loaded-into-the-application-on-runt/43769578#43769578", "title": "In graphics applications, why do shaders get loaded into the application on runtime?", "body": "<p>A few reasons:</p>\n\n<ul>\n<li>During development it's very convenient to 'hotload' shaders without restarting the application so you can make changes while debugging or performance tuning and instantly see the results. This is simpler when shaders are stored as separate files.</li>\n<li>As mentioned in the comments, depending on your platform it is common to precompile shaders from a high level shading language to an intermediate byte code representation or to actual final GPU code (e.g. in the case of consoles where the GPU hardware is a fixed target). Shader compilation can be quite time consuming so it is better to do it offline rather than at runtime when possible.</li>\n<li>The approach you take is actually not uncommon in small / simple applications, it becomes more painful the bigger your app gets and the more shaders you have to manage. Personally I like to be able to hotload shaders even on small personal projects.</li>\n<li>This is actually a more general question than just for shaders. In any project you have a choice of when to embed resources in the executable (either directly in source code or through a separate build step like Windows Resources) or store them as separate files. There are pros and cons to both approaches but the main advantage of embedding is that all the resources an app might need are embedded right in the executable so you don't have to worry about / deal with potentially missing resources. The downside is that if you cram everything into the executable (especially for a project with many large assets like a game) then you increase build times, make hotloading difficult and can make the problem of asset organization more difficult.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493855454, "post_id": 43771637, "comment_id": 74584837, "body": "I said that because the process would already be sitting in ram vs reading from a file would be off of the disk. And the fewer the statements used to accomplish something will almost always result in the quicker code."}, {"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "reply_to_user": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493881798, "post_id": 43771637, "comment_id": 74593086, "body": "@KeithBecker: It&#39;s not working how you think. In a paged virtual memory environment the OS does not load the whole binary into RAM! That would be highly wasteful and is not necessary at all. What happens is, that a page mapping is created that works just like (in fact is uses the very same code path) as disk swap memory: The process file is essentially treated like a read only swap file and only those parts are pulled into RAM that are actually used. You can have a GiB large executable, if the code segment is just a few kiB it will load start just as fast as a tiny executable."}, {"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "reply_to_user": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493882162, "post_id": 43771637, "comment_id": 74593297, "body": "@KeithBecker: Anything that is not part of the code segment will actually not be loaded into RAM at all at launch. The OS creates a page mapping and when (if) you finally access it, those parts are pulled into memory. However this involves work than just reading directly into a buffer. Namely the relevant pages must be faulted, i.e. the memory manager must assign those pages some physical memory of the system (this is not a cheap operation, it&#39;s in fact rather slow)."}], "tags": [], "owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1493854517, "creation_date": 1493854517, "answer_id": 43771637, "question_id": 43769134, "link": "https://stackoverflow.com/questions/43769134/in-graphics-applications-why-do-shaders-get-loaded-into-the-application-on-runt/43771637#43771637", "title": "In graphics applications, why do shaders get loaded into the application on runtime?", "body": "<p>How do you figure it would speed up load times? It doesn't!</p>\n\n<p>It doesn't matter if you read data from a regular file that you opened with <code>fopen</code> (or <code>std::ifstream</code> or <code>CreateFile</code> or whatever) and read from that, or if you're accessing some part of the process image. Heck, in most cases accessing some large-ish hunk of pages in the process image may perform worse, because most OSs are lazily populating pages in the segments that hold nonexecutable, readonly data; mmaped read access on unpopulated pages is actually slower than just a plain read, because it involves faulting the page table and a subsequent I/O read to populate the page with data.</p>\n\n<p>Mandatory read: <a href=\"http://lkml.iu.edu/hypermail/linux/kernel/0004.0/0728.html\" rel=\"nofollow noreferrer\">http://lkml.iu.edu/hypermail/linux/kernel/0004.0/0728.html</a></p>\n\n<p>The OpenGL API specifices GLSL source code being the only way to actually load shaders. There's a caching API (glShaderBinary, glProgramBinary) but the binaries loaded through that are in an unspecified format, that may change at any time, and it's a valid error condition that the driver rejects a binary for whatever reason to enforce loading the original GLSL source. To actually obtain such a shader binary you first load a regular GLSL shader source, compile it and then retrieve a binary blob from OpenGL.</p>\n"}], "owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "accepted_answer_id": 43769578, "answer_count": 3, "score": 4, "last_activity_date": 1493997067, "creation_date": 1493842270, "question_id": 43769134, "link": "https://stackoverflow.com/questions/43769134/in-graphics-applications-why-do-shaders-get-loaded-into-the-application-on-runt", "title": "In graphics applications, why do shaders get loaded into the application on runtime?", "body": "<p>Shaders written in for example GLSL are typically loaded into a graphics application at runtime. I am wondering why not just compile the application with the shaders so they will not have to be loaded later. Like this:</p>\n\n<pre><code>#define glsl(version, glsl) \"#version \" #version \"\\n\" #glsl\n\nnamespace glsl { namespace vs {\n//VERTEX SHADERS\n//=========================\n// simple VS\n//=========================\nconstexpr GLchar * const simple = glsl(450 core, \n    layout(location = 0) in vec3 position;\n\n    void main() {\n        gl_Position = vec4(position, 1.0f);\n    }\n    );\n\n} namespace fs {\n//FRAGMENT SHADERS\n//=========================\n// simple FS\n//=========================\nconstexpr GLchar * const simple = glsl(450 core,\n    out vec4 color;\n\n    void main() {\n        color = vec4(1.0f, 0.0f, 0.0f, 1.0f);\n    }       \n    );\n\n} }\n</code></pre>\n\n<p>I don't think this would result in too large of an exe file and it would speed up loading times; unless I'm mistaken about how many shaders are used for a typical graphics application. I realize you may want to update shaders after compile time, but does that really happen?</p>\n\n<p><strong>Is there any reason that I should not want to do this?</strong></p>\n"}, {"tags": ["c++", "user-interface", "winapi"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 3, "creation_date": 1493842588, "post_id": 43769130, "comment_id": 74579867, "body": "simply read documentation - <i>The string does not need to be zero-terminated, since cbString specifies the length of the string.</i> you must pass correct string len,but not 45"}, {"owner": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1493842798, "post_id": 43769130, "comment_id": 74579986, "body": "So, the fifth parameter must exactly match the length of the string? Is that intentional? Isn&#39;t it possible to create exactly this sort of overflow without any boundary checking? I know C++ doesn&#39;t always provide such protections, but that seems like a security hazard."}, {"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1493842949, "post_id": 43769130, "comment_id": 74580057, "body": "@BSD - nothing to do with the choice of language. It&#39;s the WinApi and your refusal to honour it&#39;s expectations"}, {"owner": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "edited": false, "score": 0, "creation_date": 1493843486, "post_id": 43769130, "comment_id": 74580351, "body": "Let&#39;s not be so touchy. I&#39;m not asking an unreasonable question. Suppose that someone makes that length a static value because the answer is always 25 characters. Later a value is printed with only 2 characters. That exposes 23 characters of any data. This is heartbleed all over again. I&#39;m just curious if this is an intentional design decision."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493843517, "post_id": 43769130, "comment_id": 74580371, "body": "Replace <code>45</code> with <code>txt.length()</code>"}, {"owner": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1493843531, "post_id": 43769130, "comment_id": 74580376, "body": "@RbMm I&#39;d like to award you the point as you answered first. would you put it into an answer, please."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 3, "creation_date": 1493845372, "post_id": 43769130, "comment_id": 74581358, "body": "<code>EndPain</code>. An apt typo. Posting real code is always best."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1493882403, "post_id": 43769130, "comment_id": 74593467, "body": "<i>&quot;I have no idea why this is happening&quot;</i> - That&#39;s odd, because the <a href=\"https://msdn.microsoft.com/en-us/library/dd145133.aspx\" rel=\"nofollow noreferrer\">documentation</a> is pretty concise. <i>&quot;I&#39;m not asking an unreasonable question.&quot;</i> - It&#39;s completely unreasonable to violate a documented contract and and maintain <b>any</b> expectations."}, {"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1493906947, "post_id": 43769130, "comment_id": 74610852, "body": "@BSD - C &amp; C++ give you great power and the ability to shoot yourself in the foot. It&#39;s your responsibility to ensure you don&#39;t do it.Someone that makes length a fixed value of 25 characters when they may later wish to print just 2 shouldn&#39;t have a gun license. With full control comes great responsibility - simple as that. Are cars flawed because inattentive drivers can crash them?"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "edited": false, "score": 0, "creation_date": 1493843735, "post_id": 43769267, "comment_id": 74580474, "body": "So, in order to allow strings without a \\0 the API requires the exact length of the string? This decision was made to increase the flexibility for lpString?"}, {"owner": {"reputation": 5085, "user_id": 1181353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zqKlZ.jpg?s=128&g=1", "display_name": "Joseph Willcoxson", "link": "https://stackoverflow.com/users/1181353/joseph-willcoxson"}, "reply_to_user": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "edited": false, "score": 1, "creation_date": 1493867091, "post_id": 43769267, "comment_id": 74587388, "body": "@BSD Really? You are asking us to read the mind of the API developers that wrote the API over 25 years ago?  Our psychic powers aren&#39;t that great."}], "tags": [], "owner": {"reputation": 1103, "user_id": 4200424, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1bb83ff2ad5dcb60ee8e408792526e49?s=128&d=identicon&r=PG&f=1", "display_name": "bennji_of_the_overflow", "link": "https://stackoverflow.com/users/4200424/bennji-of-the-overflow"}, "is_accepted": true, "score": 3, "last_activity_date": 1493843612, "last_edit_date": 1493843612, "creation_date": 1493842738, "answer_id": 43769267, "question_id": 43769130, "link": "https://stackoverflow.com/questions/43769130/c-textout-writes-random-data-is-there-a-buffer-overflow/43769267#43769267", "title": "C++ TextOut writes random data. Is there a buffer overflow?", "body": "<p>TextOut uses the final parameter cchString to determine how many characters to print. You must tell it the correct number.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd145133.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/dd145133.aspx</a></p>\n\n<blockquote>\n  <p>lpString [in]<br>\n  A pointer to the string to be drawn. The string does not need to be zero-terminated, because cchString specifies the length of the string.</p>\n  \n  <p>cchString [in]<br>\n  The length of the string pointed to by lpString, in characters.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 4, "creation_date": 1493843086, "post_id": 43769307, "comment_id": 74580119, "body": "Better yet, just use the std::string&#39;s own method, <code>size()</code>"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 2, "creation_date": 1493845431, "post_id": 43769307, "comment_id": 74581387, "body": "Definitely don&#39;t use <code>strlen</code>!"}], "tags": [], "owner": {"reputation": 132, "user_id": 7958721, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211437655288913/picture?type=large", "display_name": "Tony Val", "link": "https://stackoverflow.com/users/7958721/tony-val"}, "is_accepted": false, "score": -1, "last_activity_date": 1493842881, "creation_date": 1493842881, "answer_id": 43769307, "question_id": 43769130, "link": "https://stackoverflow.com/questions/43769130/c-textout-writes-random-data-is-there-a-buffer-overflow/43769307#43769307", "title": "C++ TextOut writes random data. Is there a buffer overflow?", "body": "<p><code>TextOut()</code> does not stop writing text at the null terminator, it will just keep going for as long as you specified. The last parameter tells the function how many characters to write. Instead of giving it 45, give it something like <code>strlen(txt.c_str())</code>.</p>\n"}], "owner": {"reputation": 199, "user_id": 6686907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e32f3b82e93892ea4f85cb3fda3ff288?s=128&d=identicon&r=PG&f=1", "display_name": "BSD", "link": "https://stackoverflow.com/users/6686907/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 43769267, "answer_count": 2, "score": -2, "last_activity_date": 1493843612, "creation_date": 1493842262, "question_id": 43769130, "link": "https://stackoverflow.com/questions/43769130/c-textout-writes-random-data-is-there-a-buffer-overflow", "title": "C++ TextOut writes random data. Is there a buffer overflow?", "body": "<p>I'm writing some example programs for a programming class using WinAPI. I'm familiar with GUI programming, but not in C++. As part of a test I ran into an anomaly. I'm hoping someone will know what I'm doing wrong and be able to explain the fix. Below is the callback function. Most of the code was copied directly from an example on basic paint.</p>\n\n<pre><code>LRESULT CALLBACK WinProc(HWND hwnd, UINT msg, WPARAM w, LPARAM l)\n{\n   PAINTSTRUCT ps;\n   HDC hdc;\n   std::string txt = \"Hello\\0\";\n   switch(msg)\n   {\n      hdc = BeginPaint(hwnd, &amp;ps);\n      TextOut(hdc, 0, 60, txt.c_str(), 45);\n      EndPain, h, &amp;ps);\n   }\n}\n</code></pre>\n\n<p>So, the function is supposed to simply print \"Hello\" on the GUI, but instead I was seeting \"Hello  xc\". I expanded the length of the string to 45 and saw a lot more. It prints random bits of text. I've seen class names and string values which were going to cout. </p>\n\n<p>I have no idea why this is happening, but it appears that txt is being read far past the end of the buffer. I added a \\0. No difference. The value is different every time.</p>\n\n<p>Any idea what is going on?</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1493841961, "post_id": 43768895, "comment_id": 74579524, "body": "That&#39;s not a very helpful question title."}], "answers": [{"tags": [], "owner": {"reputation": 16742, "user_id": 999943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4c3b5820f4f39c2bbe57a8823dd0ad?s=128&d=identicon&r=PG", "display_name": "phyatt", "link": "https://stackoverflow.com/users/999943/phyatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1493844114, "creation_date": 1493844114, "answer_id": 43769642, "question_id": 43768895, "link": "https://stackoverflow.com/questions/43768895/error-with-qt-creator/43769642#43769642", "title": "Error with QT Creator", "body": "<p>Look at the Compile Output tab.  If needed you can also run qmake on the command prompt.</p>\n\n<p>Another helpful way to fix bizarre qmake errors is to get a fresh Project settings in Qt Creator.</p>\n\n<p>Close Qt Creator, delete the .pro.user file, and reopen Qt Creator with your project. This will force you to reconfigure your project with your Qt Version(s) Debug/Release, etc.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493844114, "creation_date": 1493841354, "question_id": 43768895, "link": "https://stackoverflow.com/questions/43768895/error-with-qt-creator", "title": "Error with QT Creator", "body": "<p>Hello I am having build errors with QT Creator and I was wondering if someone knows why its making these errors. Thanks</p>\n\n<p><strong>main.cpp:</strong></p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QGraphicsScene&gt;\n#include &lt;QGraphicsRectItem&gt;\n#include &lt;QGraphicsView&gt;\n\n\nint main(int argc, char *argv[]){\n\n    QApplication a(argc, argv);\n\n    //Create Scene\n    QGraphicsScene * scene = new QGraphicsScene();\n\n    //Creat Item To Put Into Scene\n    QGraphicsRectItem * rect = new QGraphicsRectItem();\n    rect-&gt;setRect(100, 50, 100, 100);\n\n    //Add Item To Scene aka buffer\n    scene-&gt;addItem(rect);\n\n    //add a view\n    QGraphicsView * view = new QGraphicsView(scene);\n    view-&gt;show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><strong>mygame.pro:</strong></p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2017-05-03T12:14:31\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = mygame\nTEMPLATE = app\n\n# The following define makes your compiler emit warnings if you use\n# any feature of Qt which as been marked as deprecated (the exact warnings\n# depend on your compiler). Please consult the documentation of the\n# deprecated API in order to know how to port your code away from it.\nDEFINES += QT_DEPRECATED_WARNINGS\n\n# You can also make your code fail to compile if you use deprecated APIs.\n# In order to do so, uncomment the following line.\n# You can also select to disable deprecated APIs only up to a certain version of Qt.\n#DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs deprecated before Qt 6.0.0\n\n\nSOURCES += main.cpp\n\nHEADERS  +=\n</code></pre>\n\n<p><strong>Compile Output:</strong></p>\n\n<pre><code>Error while building/deploying project mygame (kit: Desktop Qt 5.8.0 MSVC2015_64bit)\nWhen executing step \"qmake\"\n</code></pre>\n\n<p>I am not sure what is making these errors(words words and more words for more detail so \"It looks like your post needs some more detail\" will go away... its not going away so I shall continue typing until it chooses to do so but it looks like it is not going to any time soon. there we go).</p>\n"}, {"tags": ["c++", "readfile"], "comments": [{"owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "edited": false, "score": 0, "creation_date": 1493841547, "post_id": 43768877, "comment_id": 74579301, "body": "That&#39;s exactly right.  Keep going.  Now that you have the line, parse out the last value in the line."}, {"owner": {"reputation": 766, "user_id": 3154489, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002062380392/picture?type=large", "display_name": "Qrchack", "link": "https://stackoverflow.com/users/3154489/qrchack"}, "edited": false, "score": 0, "creation_date": 1493841549, "post_id": 43768877, "comment_id": 74579302, "body": "This is EOF, he&#39;s asking for end of line"}], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 3154489, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002062380392/picture?type=large", "display_name": "Qrchack", "link": "https://stackoverflow.com/users/3154489/qrchack"}, "is_accepted": false, "score": 2, "last_activity_date": 1493841649, "creation_date": 1493841649, "answer_id": 43768984, "question_id": 43768877, "link": "https://stackoverflow.com/questions/43768877/how-to-know-its-the-end-of-the-line-in-c-reading-file/43768984#43768984", "title": "How to know it&#39;s the end of the line in c++ reading file", "body": "<p>You should either use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\">std::getline</a> and parse the string you get, or go char-by-char and treat CR/LF as end of line. Then just move back from it until you get a space.</p>\n"}, {"tags": [], "owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1493861450, "last_edit_date": 1493861450, "creation_date": 1493842304, "answer_id": 43769144, "question_id": 43768877, "link": "https://stackoverflow.com/questions/43768877/how-to-know-its-the-end-of-the-line-in-c-reading-file/43769144#43769144", "title": "How to know it&#39;s the end of the line in c++ reading file", "body": "<p>You should continue to use your <code>getline</code> function, from that you will have your <code>std::string</code> then to pull your last digit use:</p>\n\n<pre><code>string str = &lt;getline() result&gt;\nsize_t last_index = str.find_last_not_of(\"0123456789\");\nstring result = str.substr(last_index + 1);\nint num = std::stoi(result);\n</code></pre>\n\n<p>This will give you your <code>int</code> representation of your last number.</p>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 6074306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd660b5800c023de3b30c914112f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "n.caillou", "link": "https://stackoverflow.com/users/6074306/n-caillou"}, "is_accepted": false, "score": 1, "last_activity_date": 1493863856, "last_edit_date": 1493863856, "creation_date": 1493862690, "answer_id": 43772573, "question_id": 43768877, "link": "https://stackoverflow.com/questions/43768877/how-to-know-its-the-end-of-the-line-in-c-reading-file/43772573#43772573", "title": "How to know it&#39;s the end of the line in c++ reading file", "body": "<p>This will extract the last number on each line:</p>\n\n<pre><code>ifstream f (\"./numbers\");\nvector&lt;int&gt; v;\nint i;\nwhile (f &gt;&gt; i) {\n    char c = f.get();\n    if (f.eof() || c == '\\r' || c == '\\n') {\n        v.push_back(i);\n    }    \n}\n</code></pre>\n\n<p><code>f.eof()</code> may be true if the file is not terminated by a new line, in which case the <code>f.get()</code> call may fail and set the eofbit.</p>\n"}, {"tags": [], "owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "is_accepted": false, "score": 0, "last_activity_date": 1493864603, "creation_date": 1493864603, "answer_id": 43772814, "question_id": 43768877, "link": "https://stackoverflow.com/questions/43768877/how-to-know-its-the-end-of-the-line-in-c-reading-file/43772814#43772814", "title": "How to know it&#39;s the end of the line in c++ reading file", "body": "<pre><code>std::ifstream file{\"your-file\"};\nstd::string line;\nwhile (getline(file, line)) {\n    std::istringstream iss{line};\n    std::vector&lt;int&gt; vec{std::istream_iterator&lt;int&gt;{iss},\n                         std::istream_iterator&lt;int&gt;{}};\n    if (vec.size() == 1) {\n        // only one element\n    }\n    vec.back() // last value of the line (/!\\ check not empty first)\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5551694, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7459dfa3ef0300d15b9943b2a17cb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "Manal", "link": "https://stackoverflow.com/users/5551694/manal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1493864603, "creation_date": 1493841292, "question_id": 43768877, "link": "https://stackoverflow.com/questions/43768877/how-to-know-its-the-end-of-the-line-in-c-reading-file", "title": "How to know it&#39;s the end of the line in c++ reading file", "body": "<p>I need to know how to stop if it's the end of the line</p>\n\n<p><a href=\"https://i.stack.imgur.com/BZVHi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZVHi.png\" alt=\"this example of my file\"></a></p>\n\n<p>I need the int value for the last element which is 15\nand also for the other lines, I need to know if this value is the last element in the line </p>\n\n<p>i try getline(file ,line)\nbut it just gives me a string!\nand also line.length(); gives me the length of the file.</p>\n"}, {"tags": ["c++", "opengl", "terrain", "heightmap"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 3244117, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72da836a14bf6f2bc325259391880ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Octothorp", "link": "https://stackoverflow.com/users/3244117/octothorp"}, "edited": false, "score": 0, "creation_date": 1493897619, "post_id": 43770390, "comment_id": 74603599, "body": "Thank you! I didn&#39;t know about it. I thought that my glTexImage2D tells everything about how the data is stored in my texture. This works now as expected."}], "tags": [], "owner": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "is_accepted": true, "score": 1, "last_activity_date": 1493847381, "creation_date": 1493847381, "answer_id": 43770390, "question_id": 43768852, "link": "https://stackoverflow.com/questions/43768852/passing-srtm-hgt-file-as-texture-to-opengl-shader-results-in-skewed-image/43770390#43770390", "title": "Passing SRTM *.hgt file as texture to OpenGL shader results in skewed image", "body": "<p>Apparently your data is tightly packed, whereas OpenGL expects it to be 4-byte aligned by default. You can override the expected alignment with the following prior to the <code>glTexImage2D</code> call:</p>\n\n<pre><code>glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3244117, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72da836a14bf6f2bc325259391880ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Octothorp", "link": "https://stackoverflow.com/users/3244117/octothorp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 43770390, "answer_count": 1, "score": 0, "last_activity_date": 1493897712, "creation_date": 1493841216, "last_edit_date": 1493897712, "question_id": 43768852, "link": "https://stackoverflow.com/questions/43768852/passing-srtm-hgt-file-as-texture-to-opengl-shader-results-in-skewed-image", "title": "Passing SRTM *.hgt file as texture to OpenGL shader results in skewed image", "body": "<p>I am writing terrain renderer that interprets NASA SRTM *.hgt files to get height data. I implemented LOD technique described here: <a href=\"http://www.pheelicks.com/2014/03/rendering-large-terrains/\" rel=\"nofollow noreferrer\">http://www.pheelicks.com/2014/03/rendering-large-terrains/</a>. </p>\n\n<p>My terrain mesh has 1024 width and height. The height map is 1201 x 1201. I load the height map into memory and the send it to shader as a texture. Then I sample it in vertex shader using current vertex position which x and z component is in range [-512, 512]. Next I divide it by 1024 which gives me vector with x and z in range [-0.5, 0.5]. The upper left corner of the mesh is at (-0.5, -0.5) so I add <code>vec2(0.5, 0.5)</code> to \"normalize\" it. </p>\n\n<p>When sampling a jpeg file with the calculated co-ordinates it all looks as expected, but when I'm sampling the heightmap it looks like this: \n<a href=\"https://i.stack.imgur.com/X165C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X165C.png\" alt=\"enter image description here\"></a></p>\n\n<p>with this strange diagonal line.\nAfter thinkig for a while what's wrong with this image I discovered that the heightmap is actually just skewed (or my sampling is somehow skewed...) and on the left you can see the part that should be on the right, like here:\n<a href=\"https://i.stack.imgur.com/WrGdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WrGdm.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have no idea what's going on here. Considering the fact that the jpeg image was laying perfectly on the mesh with the same sampling code I thought that it cannot be something wrong with the sampling method.</p>\n\n<p>All the code is available on the github repository: <a href=\"https://github.com/0ctothorp/terrain_rendering/tree/lod2\" rel=\"nofollow noreferrer\">https://github.com/0ctothorp/terrain_rendering/tree/lod2</a> in the \"lod2\" branch.</p>\n\n<p>The most interesting part is probably the sampling code:</p>\n\n<pre><code>sample_ = texture(heightmap, (position.xz / meshSize) + vec2(0.5f, 0.5f)).r;\nposition.y = sample_ / 50.0f;\n</code></pre>\n\n<p>and how I pass heightmap to shader:</p>\n\n<pre><code>GL_CHECK(glTexImage2D(GL_TEXTURE_2D, 0, GL_R16I, 1201, 1201, 0, GL_RED_INTEGER, GL_SHORT, \n                      hmData-&gt;data()));\n</code></pre>\n"}, {"tags": ["c++", "static", "unresolved-external"], "comments": [{"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 1, "creation_date": 1493841241, "post_id": 43768765, "comment_id": 74579143, "body": "The error says <code>Entity::msg</code> is not defined, not <code>EventHandler::Events</code>. Can you provide the definition for <code>Entity</code> and its associated cpp?"}, {"owner": {"reputation": 1, "user_id": 3348757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d54f6dfb035987ccfb8db3f841649e8a?s=128&d=identicon&r=PG&f=1", "display_name": "StickyDuck", "link": "https://stackoverflow.com/users/3348757/stickyduck"}, "reply_to_user": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1493841570, "post_id": 43768765, "comment_id": 74579306, "body": "That was the problem, I forgot that I had a static variable in a different class. Thank you for pointing that out. It helps if you read the error message more thoroughly"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1493859454, "post_id": 43768765, "comment_id": 74585507, "body": "voted to close as &quot;can no longer reproduce&quot; since it&#39;s been solved"}], "answers": [{"tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1493859260, "last_edit_date": 1493859260, "creation_date": 1493841401, "answer_id": 43768911, "question_id": 43768765, "link": "https://stackoverflow.com/questions/43768765/unresolved-external-symbol-protected-static-struct-error-despite-being-defined/43768911#43768911", "title": "Unresolved external symbol &quot;protected static struct&quot; error despite being defined in a .cpp file", "body": "<p>You <strong>also</strong> need to place your static in cpp file:</p>\n\n<pre><code>// EventHandler.cpp\nstd::queue&lt;MSG*&gt; EventHandler::Events;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3348757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d54f6dfb035987ccfb8db3f841649e8a?s=128&d=identicon&r=PG&f=1", "display_name": "StickyDuck", "link": "https://stackoverflow.com/users/3348757/stickyduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493859260, "creation_date": 1493840925, "last_edit_date": 1493841587, "question_id": 43768765, "link": "https://stackoverflow.com/questions/43768765/unresolved-external-symbol-protected-static-struct-error-despite-being-defined", "title": "Unresolved external symbol &quot;protected static struct&quot; error despite being defined in a .cpp file", "body": "<p>This is my eventhandler.h</p>\n\n<pre><code>#pragma once\n#include &lt;queue&gt;\n#include &lt;Windows.h&gt;\n\nclass EventHandler\n{\npublic:\n\n    EventHandler()\n    {\n    }\n\n    ~EventHandler()\n    {\n    }\n\n    static std::queue&lt;MSG*&gt; Events;\n};\n</code></pre>\n\n<p>I've searched a lot to try and solve my problem and all the answers say to declare the static variable in a c++ file, which I've done</p>\n\n<pre><code>  #include \"EventHandler.h\"\n  std::queue&lt;MSG*&gt; EventHandler::Events;\n</code></pre>\n\n<p>but I still get</p>\n\n<pre><code>Error   LNK2001 unresolved external symbol \"protected: static struct tagMSG * Entity::msg\" (?msg@Entity@@1PAUtagMSG@@A)\n</code></pre>\n\n<p>and I can't figure out why. Have I missed something?</p>\n"}, {"tags": ["c++", "macos", "boost", "makefile", "macos-sierra"], "comments": [{"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493840767, "post_id": 43768390, "comment_id": 74578868, "body": "Does it(this software) have a readme or a suggestion on how to build?"}, {"owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "reply_to_user": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493841640, "post_id": 43768390, "comment_id": 74579351, "body": "Unfortunately it is very bare bones. Here is an excerpt: &quot;To execute the SPECIES, ORGANISMS taggers, simply run the binary executable obtained from compiling the source code with one command-line argument&quot;. You can see that it is not explained how to properly compile with boost. I imagine it is simple and that is why it is left out, but unfortunately I know little about C++/C++ libraries."}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493841603, "post_id": 43768574, "comment_id": 74579329, "body": "Sorry, but I really do not know much about C++/C++ libraries. Where do I specify the path exactly?"}, {"owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493843614, "post_id": 43768574, "comment_id": 74580422, "body": "Okay. I tried adding <code>-I &#47;path&#47;to&#47;boost&#47;</code> in my compile command (which is now <code>g++ -I &#47;path&#47;to&#47;boost&#47; -fpic -pthread -Wall -O3 -o organisms organisms.cxx -lm -lboost_regex</code>) but I still get an error?"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493844457, "post_id": 43768574, "comment_id": 74580834, "body": "@JohnG: I doubt boost is installed in <code>&#47;path&#47;to&#47;boost&#47;include</code> on your machine. This was an example, you must find where boost header files are located and replace <code>path&#47;to&#47;boost&#47;include</code> (&quot;path to boost include folder&quot;) with the path where <code>boost&#47;regex.hpp</code> can be found. Also note there is no space between <code>-I</code> and the path. For instance, on my machine, I would need to specify <code>-I&#47;usr&#47;include</code> (which would be useless, as /usr/include is used by default) because <code>regex.hpp</code> is located in <code>&#47;usr&#47;include&#47;boost&#47;regex.hpp</code>"}, {"owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493905167, "post_id": 43768574, "comment_id": 74609372, "body": "My apologies. When I said /path/to/boost/ I was also using it as an example. Here is the new call to the compiler: <code>g++ -I&#47;usr&#47;local&#47;boost_1_64_0  -fpic -pthread -Wall -O3 -o organisms organisms.cxx -lm -lboost_regex</code>. It now returns a new, but very lengthy error (which is too long to copy and paste). The boost/regex.hpp is definitely in the path <code>usr&#47;local&#47;boost_1_64_0</code>."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493909125, "post_id": 43768574, "comment_id": 74612546, "body": "@JohnG: If the error <code>fatal error: boost&#47;regex.hpp: No such file or directory</code> is gone, you should accept this answer and submit another question with your new error message....the fact that <code>boost&#47;regex.hpp</code> was your original question and it is now answered."}, {"owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "edited": false, "score": 0, "creation_date": 1493911598, "post_id": 43768574, "comment_id": 74614479, "body": "Thanks for all your help."}], "tags": [], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "is_accepted": true, "score": 1, "last_activity_date": 1493840160, "creation_date": 1493840160, "answer_id": 43768574, "question_id": 43768390, "link": "https://stackoverflow.com/questions/43768390/fatal-error-boost-regex-hpp-no-such-file-or-directory-when-trying-to-compile/43768574#43768574", "title": "&quot;fatal error: boost/regex.hpp: No such file or directory&quot; when trying to compile C++ program using a makefile", "body": "<p>You need to tell the compiler where to find boost headers.</p>\n\n<p>You need to use the include path option to specify where the boost headers can be find, use <code>-I/path/to/boost/include</code>.</p>\n\n<p>Then include the file using <code>#include &lt;boost/regex.hpp&gt;</code> from your code.</p>\n"}], "owner": {"reputation": 48, "user_id": 6578628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198f1b44f2d401daff60a61fde93d8ce?s=128&d=identicon&r=PG&f=1", "display_name": "John G", "link": "https://stackoverflow.com/users/6578628/john-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3265, "favorite_count": 0, "accepted_answer_id": 43768574, "answer_count": 1, "score": 2, "last_activity_date": 1493911837, "creation_date": 1493839493, "last_edit_date": 1493911837, "question_id": 43768390, "link": "https://stackoverflow.com/questions/43768390/fatal-error-boost-regex-hpp-no-such-file-or-directory-when-trying-to-compile", "title": "&quot;fatal error: boost/regex.hpp: No such file or directory&quot; when trying to compile C++ program using a makefile", "body": "<p>I am trying to compile a piece of open source software called <a href=\"http://species.jensenlab.org/\" rel=\"nofollow noreferrer\">\"SPECIES\nIdentification of Taxonomic Mentions in Text\"</a>. <strong>I am on MacOS</strong>. </p>\n\n<p>I downloaded the source code (which can be found <a href=\"http://download.jensenlab.org/species_tagger.tar.gz\" rel=\"nofollow noreferrer\">here</a>), moved into the directory and used the command <code>make</code> to compile. This is the error returned:</p>\n\n<pre><code>g++ -fpic -pthread -Wall -O3 -o organisms organisms.cxx -lm -lboost_regex\nIn file included from batch_tagger.h:5:0,\n                 from organisms.cxx:3:\ntagger.h:7:27: fatal error: boost/regex.hpp: No such file or directory\ncompilation terminated.\nmake: *** [organisms] Error 1\n</code></pre>\n\n<p>I installed the <strong>C++ boost library</strong> using <code>brew install boost</code>and tried the above steps again (<em>it did not work</em>). </p>\n\n<p>I tried dropping the boost directory into the directory containing the source code (<em>it did not work</em>).</p>\n\n<p><strong>Any suggestions/help?</strong></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1493838450, "post_id": 43768085, "comment_id": 74577706, "body": "Instead of having parallel arrays you really should consider using a class/struct to bind the phone number and name together.  Then you can have a single array of those records.  Makes this stuff much easier to deal with."}, {"owner": {"reputation": 668, "user_id": 7148416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54af0b88b4441b06815e01ed145a2f14?s=128&d=identicon&r=PG&f=1", "display_name": "diametralpitch", "link": "https://stackoverflow.com/users/7148416/diametralpitch"}, "edited": false, "score": 0, "creation_date": 1493838915, "post_id": 43768085, "comment_id": 74577942, "body": "If the user enters a number greater than 100 for the desired amount of phone numbers, the array will be overflowed leading to undefined behavior."}, {"owner": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "edited": false, "score": 0, "creation_date": 1493839029, "post_id": 43768085, "comment_id": 74578001, "body": "it must use parallel arrays, its a requirement."}, {"owner": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "edited": false, "score": 0, "creation_date": 1493839151, "post_id": 43768085, "comment_id": 74578067, "body": "why you are using a separate index array, just swap the user names along with phone numbers while sorting."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "edited": false, "score": 0, "creation_date": 1493839282, "post_id": 43768085, "comment_id": 74578125, "body": "@RajeevSingh Because that is a lot less expensive then sorting strings.  It is a cleaver trick when dealing with sorting very large objects or multiple arrays without modifying all of them."}, {"owner": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493839346, "post_id": 43768085, "comment_id": 74578156, "body": "@NathanOliver Yes with a cost of space"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "edited": false, "score": 0, "creation_date": 1493927280, "post_id": 43768805, "comment_id": 74623816, "body": "Thank you Emanuele, this is what I needed. I&#39;m still learning, and the examples provided by my instructor are terrible."}, {"owner": {"reputation": 18, "user_id": 7418647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76fd00a95b03c89b5ec40aeff61ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Emanuele", "link": "https://stackoverflow.com/users/7418647/emanuele"}, "reply_to_user": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "edited": false, "score": 0, "creation_date": 1494016068, "post_id": 43768805, "comment_id": 74665946, "body": "No problems if you have any trouble feel free to ask other questions"}, {"owner": {"reputation": 18, "user_id": 7418647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76fd00a95b03c89b5ec40aeff61ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Emanuele", "link": "https://stackoverflow.com/users/7418647/emanuele"}, "reply_to_user": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "edited": false, "score": 0, "creation_date": 1494512223, "post_id": 43768805, "comment_id": 74869207, "body": "You are downvoting this just becouse you are like &quot;oh he should use a struct he should use a class&quot; but probably you don&#39;t get that this guy just started with c++ and probably with programming in general. Instead of downvoting this post your solutions"}, {"owner": {"reputation": 18, "user_id": 7418647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76fd00a95b03c89b5ec40aeff61ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Emanuele", "link": "https://stackoverflow.com/users/7418647/emanuele"}, "reply_to_user": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "edited": false, "score": 0, "creation_date": 1494512515, "post_id": 43768805, "comment_id": 74869438, "body": "Or also that the &quot;100&quot; limitation will cause errors. I know that it will overflow but where is the problem if this guy is just trying to do what his teacher said? Maybe programming in his class is just not important as others (i have a friend who does 2 hours at week of programming and she really doesn&#39;t care at all the things a real programmer worries about, she does what the teacher says and nothing more, also with parallel arrays)"}], "tags": [], "owner": {"reputation": 18, "user_id": 7418647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76fd00a95b03c89b5ec40aeff61ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Emanuele", "link": "https://stackoverflow.com/users/7418647/emanuele"}, "is_accepted": true, "score": -1, "last_activity_date": 1493841044, "creation_date": 1493841044, "answer_id": 43768805, "question_id": 43768085, "link": "https://stackoverflow.com/questions/43768085/how-do-i-add-a-search-function-to-array/43768805#43768805", "title": "How do I add a search function to array?", "body": "<p>This code should work for you (if i understood the question)</p>\n\n<pre><code> int search(string name[], string searchedName){\n        for(int i=0; i&lt;100; i++){\n            if(searchedName == name[i])\n                return i;   //Returns the position of the person, which is also the index of his phone number\n        }\n        return -1;   //If -1 is returned it means there is no such name an \"searchedName\" in the vector\n    }\n</code></pre>\n\n<p>You can call this function like this</p>\n\n<pre><code>int main(){\n      /* all the stuff you already have inside here */\n    string nameToSearch;\n    cout&lt;&lt;\"Insert the name of the person you want to see the number of\"&lt;&lt;endl;\n    cin&gt;&gt;nameToSearch;\n    int position = search(name, nameToSearch);\n    if(position == -1)\n       cout&lt;&lt;\"Sorry, \"&lt;&lt;nameToSearch&lt;&lt;\" is not in our list\"&lt;&lt;endl;\n    else\n      cout&lt;&lt;\"The phone number of \"&lt;&lt;nameToSearch&lt;&lt;\" is \"&lt;&lt;phone[position]&lt;&lt;endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Of course this is pretty basic and you can make it better, hope it helps!</p>\n"}], "owner": {"reputation": 15, "user_id": 7959415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9543a2b785f1eb508f01cc3f959cd6?s=128&d=identicon&r=PG&f=1", "display_name": "ModdedDragon", "link": "https://stackoverflow.com/users/7959415/moddeddragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 43768805, "answer_count": 1, "score": -1, "last_activity_date": 1493841044, "creation_date": 1493838178, "last_edit_date": 1493838763, "question_id": 43768085, "link": "https://stackoverflow.com/questions/43768085/how-do-i-add-a-search-function-to-array", "title": "How do I add a search function to array?", "body": "<p>I need to add a function to search in the string array and bring up the user with associated phone number. Though Im lost. Any functions created only bring up the persons name without the number. If not found, it needs to say error.</p>\n\n<pre><code>int main(int argc, char** argv)\n{\n    int i, n, j;\n    string name[100];\n    string phone[100];\n    int index[100];\n\n    cout &lt;&lt; \"How many names and phone numbers do you want to enter? \" &lt;&lt; endl\n         &lt;&lt; \"Entering 0 ends the program.\" &lt;&lt; endl;\n    cin &gt;&gt; n;\n\n    if (n == 0)\n        return 0;\n\n    for (i = 0; i &lt; n; i++) {\n\n        cout &lt;&lt; \"Please enter a name: \";\n        cin &gt;&gt; name[i];\n\n        cout &lt;&lt; \"Please enter a phone number: \";\n        cin &gt;&gt; phone[i];\n    }\n\n    for (i = 0; i &lt; n; i++) {\n        index[i] = i;\n    }\n\n    for (i = 0; i &lt; n; i++) {\n\n        for (j = i + 1; j &lt; n; j++) {\n            int temp;\n            if (phone[index[i]] &gt; phone[index[j]]) {\n                temp = index[i];\n                index[i] = index[j];\n                index[j] = temp;\n            }\n        }\n    }\n    cout &lt;&lt; \"These entries are in ascending order by phone number: \" &lt;&lt; endl;\n    cout &lt;&lt; \"Name\"\n         &lt;&lt; \"            \"\n         &lt;&lt; \"Phone Number\" &lt;&lt; endl;\n    for (i = 0; i &lt; n; i++) {\n\n        cout &lt;&lt; name[index[i]] &lt;&lt; \"              \" &lt;&lt; phone[index[i]] &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "edited": false, "score": 0, "creation_date": 1493838306, "post_id": 43768071, "comment_id": 74577644, "body": "you didn&#39;t implement the constructor <code>point()</code> in <code>point</code> class"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "edited": false, "score": 0, "creation_date": 1493838408, "post_id": 43768071, "comment_id": 74577686, "body": "@RajeevSingh: not in the comments please sir"}], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 7959405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c542849c813b5f528e5bc884e190a8b5?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/7959405/david"}, "edited": false, "score": 0, "creation_date": 1493838771, "post_id": 43768125, "comment_id": 74577880, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 0, "last_activity_date": 1493838331, "last_edit_date": 1495540028, "creation_date": 1493838331, "answer_id": 43768125, "question_id": 43768071, "link": "https://stackoverflow.com/questions/43768071/passing-an-object-to-a-class-and-receiving-no-matching-function-error/43768125#43768125", "title": "Passing an object to a class and receiving no matching function error", "body": "<p>You're not initialising any of your class <code>edgeList</code>'s members.</p>\n\n<p>Well, you are, but <em>by default</em>. Doing that requires a default constructor, which <code>point</code> doesn't have. Hence the error.</p>\n\n<p>Those three lines in the <code>edgeList</code> constructor are assignments after-the-fact:</p>\n\n<pre><code>  edgeList(const point&amp; origin, const point&amp; terminal) {\n     this-&gt;origin = origin;\n     this-&gt;terminal = terminal;\n     this-&gt;weight = findWeight(origin, terminal);\n  }\n</code></pre>\n\n<p>Here's what you're supposed to do, to initialise members:</p>\n\n<pre><code>  edgeList(const point&amp; origin, const point&amp; terminal)\n     : origin(origin)\n     , terminal(terminal)\n     , weight(findWeight(origin, terminal))\n  {}\n</code></pre>\n\n<p>Currently your code is more like:</p>\n\n<pre><code>  edgeList(const point&amp; origin, const point&amp; terminal)\n     : origin()\n     , terminal()\n     , weight()\n  {\n     this-&gt;origin = origin;\n     this-&gt;terminal = terminal;\n     this-&gt;weight = findWeight(origin, terminal);\n  }\n</code></pre>\n\n<p>If your C++ book doesn't explain this, you need <a href=\"https://stackoverflow.com/q/388242/560648\">a better one</a>!</p>\n"}], "owner": {"reputation": 88, "user_id": 7959405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c542849c813b5f528e5bc884e190a8b5?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/7959405/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "closed_date": 1493838274, "accepted_answer_id": 43768125, "answer_count": 1, "score": 0, "last_activity_date": 1493838331, "creation_date": 1493838141, "question_id": 43768071, "link": "https://stackoverflow.com/questions/43768071/passing-an-object-to-a-class-and-receiving-no-matching-function-error", "closed_reason": "Duplicate", "title": "Passing an object to a class and receiving no matching function error", "body": "<p>So, the problem happens around line 35 (where I call the edgeList constructor). Whenever it gets to that point I get the error</p>\n\n<blockquote>\n  <p>main.cpp:35:60: error: no matching function for call to 'point::point()'</p>\n</blockquote>\n\n<p>Here's the problem area</p>\n\n<pre><code>class edgeList {\n   private:\n      point origin;\n      point terminal;\n      double weight;\n   public:\n      edgeList(const point&amp; origin, const point&amp; terminal) {\n         this-&gt;origin = origin;\n         this-&gt;terminal = terminal;\n         this-&gt;weight = findWeight(origin, terminal);\n      }\n      int findWeight(point origin, point terminal) {\n         return sqrt(pow((terminal.place('x') - origin.place('x')), 2) + pow((terminal.place('y') - origin.place('y')), 2));\n      }\n};\n</code></pre>\n\n<p>And here's the full code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string.h&gt;\n#include &lt;fstream&gt;\n#include &lt;vector&gt;\n#include &lt;math.h&gt;\nusing namespace std;\n\nclass point {                                                       //Creates the class that stores x and y coordinates\n   private:\n      double x;\n      double y;\n   public:\n      point(double x, double y) {\n         this-&gt;x = x;\n         this-&gt;y = y;\n      }\n      double place(char c) {\n          if (c == 'x') {\n             return this-&gt;x;\n          }\n          else if (c == 'y') {\n             return this-&gt;y;\n          }\n          else {\n             return -1;\n          }\n      }\n};\nclass edgeList {\n   private:\n      point origin;\n      point terminal;\n      double weight;\n   public:\n      edgeList(const point&amp; origin, const point&amp; terminal) {\n         this-&gt;origin = origin;\n         this-&gt;terminal = terminal;\n         this-&gt;weight = findWeight(origin, terminal);\n      }\n      int findWeight(point origin, point terminal) {\n         return sqrt(pow((terminal.place('x') - origin.place('x')), 2) + pow((terminal.place('y') - origin.place('y')), 2));\n      }\n};\n\nint main(int argc, char *argv[]) {\n\n   double x;\n   double y;\n   int i = 0;                                                       //FIXME: DELETE THIS AFTER TESTING\n   vector&lt;point&gt; origin;\n   if (argv[1] == NULL) {\n      cout &lt;&lt; \"ERROR: NO FILE NAME FOUND\" &lt;&lt; endl;\n      return -1;\n   }\n   if (strcmp(argv[1], \"random\") != 0) {\n      cout &lt;&lt; argv[1] &lt;&lt; endl;\n      ifstream fp;\n      fp.open(argv[1]);\n      if (!fp.is_open()) {\n         cout &lt;&lt; \"ERROR: NO FILE FOUND\" &lt;&lt; endl;\n         return -1;\n      }\n      while (!fp.eof()) {\n         fp &gt;&gt; x;\n         cout &lt;&lt; x &lt;&lt; \" \";\n         fp &gt;&gt; y;\n         cout &lt;&lt; y &lt;&lt; endl;\n         point pnt(x,y);\n         origin.push_back(pnt);\n         cout &lt;&lt; \"Point children\" &lt;&lt; endl &lt;&lt; origin[i].place('x') &lt;&lt; \" \" &lt;&lt; origin[i].place('y') &lt;&lt; endl;\n         i++;                                                       //FIXME: DELETE THIS AFTER TESTING\n      }\n      edgeList z(origin[0], origin[1]);\n   }\n   return 0;\n}\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1493837141, "post_id": 43767790, "comment_id": 74576976, "body": "Are you looking for this?  <a href=\"http://en.cppreference.com/w/cpp/language/implicit_conversion\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/implicit_conversion</a>"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 2, "creation_date": 1493837155, "post_id": 43767790, "comment_id": 74576981, "body": "<a href=\"http://eel.is/c++draft/\" rel=\"nofollow noreferrer\">The C++ standard is where one finds the rules.</a>"}], "answers": [{"comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 2, "creation_date": 1493837335, "post_id": 43767809, "comment_id": 74577088, "body": "I think a word about making the operator explicit is in order. If, of course, the OP wants to prevent this from happening, at the cost of implicit conversions."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1493837704, "post_id": 43767809, "comment_id": 74577335, "body": "@StoryTeller: Good idea."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 5, "last_activity_date": 1493837700, "last_edit_date": 1493837700, "creation_date": 1493837172, "answer_id": 43767809, "question_id": 43767790, "link": "https://stackoverflow.com/questions/43767790/c-less-operator-uses-conversion-operator/43767809#43767809", "title": "C++ less operator uses conversion operator", "body": "<p>Your compiler \"wants\" to make your <code>&lt;</code> request work.</p>\n\n<p>There is no <code>operator&lt;</code> for <code>Foo</code>, but it sees that there is a way to convert <code>Foo</code> to <code>double</code>. With that, via <em>implicit conversions</em>, your comparison will be able to succeed.</p>\n\n<p>If the operator were marked <a href=\"http://en.cppreference.com/w/cpp/language/explicit\" rel=\"noreferrer\"><code>explicit</code></a> (C++11 or newer), this implicit conversion would be impossible and the compiler would have to give up with your <code>&lt;</code> request.</p>\n\n<p>The rules for selecting a function during a call are extremely complicated, so if I were you I would just trust that it works rather than attempting to parse the standard wording. :)</p>\n"}, {"tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": false, "score": 10, "last_activity_date": 1493837701, "creation_date": 1493837701, "answer_id": 43767961, "question_id": 43767790, "link": "https://stackoverflow.com/questions/43767790/c-less-operator-uses-conversion-operator/43767961#43767961", "title": "C++ less operator uses conversion operator", "body": "<p>As mentioned in the comments, the compiler is allowed to make 1 user-defined conversion as it's doing here. It sees that it can convert both objects to <code>double</code> and <code>double</code> does have  <code>operator &lt;</code>, so it does that. If you only want to use your conversion operator when you (the programmer) ask for it you can add <code>explicit</code>:</p>\n\n<pre><code>explicit operator double() const {\n    return 3.14;\n}\n</code></pre>\n\n<p>Now, the compiler may only call it when you explicitly cast it to such a type:</p>\n\n<pre><code>Foo f1;\ndouble d = (double)f1; // conversion operator\n</code></pre>\n"}], "owner": {"reputation": 1199, "user_id": 2228661, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9720a9dd63a9d64584f63c64ac6babf3?s=128&d=identicon&r=PG", "display_name": "aguyngueran", "link": "https://stackoverflow.com/users/2228661/aguyngueran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 43767809, "answer_count": 2, "score": 2, "last_activity_date": 1493840087, "creation_date": 1493837080, "last_edit_date": 1493840087, "question_id": 43767790, "link": "https://stackoverflow.com/questions/43767790/c-less-operator-uses-conversion-operator", "title": "C++ less operator uses conversion operator", "body": "<p>I cannot understand why for the following dummy class:</p>\n\n<pre><code>class Foo {\npublic:\n    operator double() const {\n        return 3.14;\n    }\n};\n</code></pre>\n\n<p>when I try to compare the instances:</p>\n\n<pre><code>Foo f1;\nFoo f2;\n\nauto res = f1 &lt; f2;\n</code></pre>\n\n<p>the less operator uses the existing </p>\n\n<blockquote>\n  <p>operator double() const</p>\n</blockquote>\n\n<p>when comparing values. Where can I find the rules for this behaviour?</p>\n"}, {"tags": ["c++", "pointers", "reference", "constexpr"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 3, "creation_date": 1493836931, "post_id": 43767646, "comment_id": 74576865, "body": "Even if your compiler allowed to change the value the pointer pointed to, doing so would be <i>undefined behavior</i> anyway (because it contains a dangling pointer to the value which doesn&#39;t exist anymore)."}, {"owner": {"reputation": 259, "user_id": 7886227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hec3U.jpg?s=128&g=1", "display_name": "Dr t", "link": "https://stackoverflow.com/users/7886227/dr-t"}, "edited": false, "score": 0, "creation_date": 1493837672, "post_id": 43767646, "comment_id": 74577317, "body": "my guess is that the statement flagged as an error does not satisfy the required compile time evaluation.  Have a look at this:<a href=\"http://en.cppreference.com/w/cpp/language/constexpr\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/constexpr</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1493841546, "creation_date": 1493841546, "answer_id": 43768957, "question_id": 43767646, "link": "https://stackoverflow.com/questions/43767646/c-constant-pointer-in-the-constexpr-class/43768957#43768957", "title": "c++ constant pointer in the constexpr class", "body": "<p>According to c++ standard <a href=\"http://eel.is/c++draft/expr.const#2\" rel=\"nofollow noreferrer\">[expr-const]/2</a> (emphasis mine)</p>\n\n<blockquote>\n  <p>An expression e is a core constant expression <strong>unless</strong> the evaluation of\n  e, following the rules of the abstract machine, would evaluate one of\n  the following expressions:<br>\n   (...)<br>\n  15. a reinterpret_\u00adcast</p>\n</blockquote>\n\n<p><code>((velocity_type*)(&amp; velocity))</code> is definitely a form of reinterpret casting so it cannot be used in constant expression...</p>\n"}], "owner": {"reputation": 35, "user_id": 7944690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1Q5N2d_dRRs/AAAAAAAAAAI/AAAAAAAAATA/Vz6cTxg6s-4/photo.jpg?sz=128", "display_name": "Alexey", "link": "https://stackoverflow.com/users/7944690/alexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 43768957, "answer_count": 1, "score": 1, "last_activity_date": 1493841546, "creation_date": 1493836502, "last_edit_date": 1493837354, "question_id": 43767646, "link": "https://stackoverflow.com/questions/43767646/c-constant-pointer-in-the-constexpr-class", "title": "c++ constant pointer in the constexpr class", "body": "<p>Good day! Please help me for my code, I try to make constexpr class with const pointer to non-constant and change non-constant variable in future, my compilator says </p>\n\n<p><code>\"error: \u2018Actuator{const Pin{1ul, 1ul}, const Pin{1ul, 2ul}, const Pin{1ul, 3ul}, ((velocity_type*)(&amp; velocity))}\u2019 is not a constant expression\"</code>, </p>\n\n<p>Object act1 always life, because its code for ARM embedded device</p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;cstddef&gt;\n\ntypedef std::size_t port_type;\ntypedef std::size_t pin_type;\ntypedef std::size_t velocity_type;\n\nclass Pin {\nprivate:\n    port_type const _port;\n    pin_type const _pin;\n\npublic:\n    constexpr Pin(port_type const port, pin_type const pin) :\n            _port { port }, _pin { pin } {\n    }\n};\n\nclass Actuator {\nprivate:\n    Pin const _enable_pin;\n    Pin const _dir_pin;\n    Pin const _step_pin;\n    velocity_type* const _velocity; //constant pointer to non-constant variable\n\npublic:\n    constexpr Actuator(Pin const ep, Pin const dp, Pin const sp, const velocity_type velocity) :\n            _enable_pin { ep }, _dir_pin { dp }, _step_pin { sp }, _velocity(const_cast&lt;velocity_type*&gt;(&amp;velocity)) {\n    }\n    void set_velocity(const velocity_type velocity) const {*_velocity = velocity;} //try to change velocity\n};\n\nint main() {\n    constexpr Actuator act1 ( Pin { 1, 1 }, Pin { 1, 2 }, Pin { 1, 3 }, 1u );\n    act1.set_velocity(1u);\n}\n</code></pre>\n"}, {"tags": ["c++", "memory", "memory-leaks", "linked-list"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1493837881, "post_id": 43767620, "comment_id": 74577437, "body": "I compiled the exact same code as yours and ran it under valgrind with the exact same options. &quot;All heap blocks were freed -- no leaks are possible&quot; So it&#39;s something odd about your platform. (And you can see, the block not freed is associated with a shared library or its linker.)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493838064, "post_id": 43767620, "comment_id": 74577521, "body": "Stack Overflow is not a free leak detection service. Present a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In this case I suspect your MCVE will be <code>int main(){}</code> (see comment above, and comment below)."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1493838086, "post_id": 43767620, "comment_id": 74577529, "body": "@DavidSchwartz: Arguably, there could be UB in there to explain the discrepancy, though from the output I would tend to agree with you. Looks like an impl shortcut to me."}, {"owner": {"reputation": 23, "user_id": 4765108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da1fa186916ea9c68162baf8c12dd45?s=128&d=identicon&r=PG&f=1", "display_name": "Cross R", "link": "https://stackoverflow.com/users/4765108/cross-r"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493838390, "post_id": 43767620, "comment_id": 74577679, "body": "@BoundaryImposition Well, the idea here was to discuss possible false positive from Valgrind and/or mistakes on linked list/memory allocation concepts."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493838513, "post_id": 43767620, "comment_id": 74577747, "body": "@CrossR: Right, so by constructing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> you wlil determine very quickly whether the problem has anything to do with your linked list."}, {"owner": {"reputation": 23, "user_id": 4765108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da1fa186916ea9c68162baf8c12dd45?s=128&d=identicon&r=PG&f=1", "display_name": "Cross R", "link": "https://stackoverflow.com/users/4765108/cross-r"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1493838616, "post_id": 43767620, "comment_id": 74577789, "body": "@DavidSchwartz Could you be using a Valgrind different version? I&#39;m running Ubuntu 12.04, g++ 4.6.4 and valgrind 3.11.0"}, {"owner": {"reputation": 23, "user_id": 4765108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da1fa186916ea9c68162baf8c12dd45?s=128&d=identicon&r=PG&f=1", "display_name": "Cross R", "link": "https://stackoverflow.com/users/4765108/cross-r"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493838907, "post_id": 43767620, "comment_id": 74577939, "body": "@BoundaryImposition Got it. Thank you for showing me the guide. I&#39;ll be more careful next time."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1493840547, "post_id": 43767620, "comment_id": 74578766, "body": "@CrossR 64-bit Linux, g++ 6.3.1, dynamic linker 2.24, and valgrind 3.12. The &quot;leak&quot; appears to be associated with a dynamic library and isn&#39;t a real leak. (Notice the call stack doesn&#39;t include any of your code.)"}, {"owner": {"reputation": 23, "user_id": 4765108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da1fa186916ea9c68162baf8c12dd45?s=128&d=identicon&r=PG&f=1", "display_name": "Cross R", "link": "https://stackoverflow.com/users/4765108/cross-r"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1493841207, "post_id": 43767620, "comment_id": 74579120, "body": "@DavidSchwartz I guess you are right. It could be something with libstdc++.so.6.0.22 or ld-2.15.so. Anyway, thank you for your help!"}], "owner": {"reputation": 23, "user_id": 4765108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da1fa186916ea9c68162baf8c12dd45?s=128&d=identicon&r=PG&f=1", "display_name": "Cross R", "link": "https://stackoverflow.com/users/4765108/cross-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493836424, "creation_date": 1493836424, "question_id": 43767620, "link": "https://stackoverflow.com/questions/43767620/c-valgrind-memory-leak-even-if-memory-is-apparently-freed-in-linked-list", "title": "C++ valgrind memory leak even if memory is apparently freed in linked-list", "body": "<p>I was re-studying linked list and I wrote the following piece of code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nstruct port_t {\n  int id;\n  std::string name;\n};\n\nstruct node_t {\n  struct port_t port;\n  struct node_t *next;\n};\n\nvoid create_node(node_t **list, int id, std::string name) {\n  node_t *node = *list;\n\n  if(node == NULL) {\n    node = new (node_t);\n    node-&gt;port.id = id;\n    node-&gt;port.name.assign(name);\n    node-&gt;next = NULL;\n    *list = node;\n    return;\n  }\n\n  while (node != NULL) {\n    if (node-&gt;next == NULL) {\n      node-&gt;next = new (node_t);\n      node = node-&gt;next;\n      node-&gt;port.id = id;\n      node-&gt;port.name.assign(name);\n      node-&gt;next = NULL;\n      break;\n    } else {\n      node = node-&gt;next;\n    }\n  }\n}\n\nint print_list(node_t *list) {\n  node_t *tmp = list;\n\n  if(tmp == NULL) {\n    std::cout &lt;&lt; \"List is empty!\" &lt;&lt; std::endl;\n    return -1;\n  }\n\n  std::cout &lt;&lt; \"Print linked list:\" &lt;&lt; std::endl;\n  while(tmp != NULL) {\n    std::cout &lt;&lt; \"Port Id:\" &lt;&lt; tmp-&gt;port.id &lt;&lt; \" Name:\" &lt;&lt; tmp-&gt;port.name &lt;&lt; std::endl;\n    tmp = tmp-&gt;next;\n  }\n\n  return 0;\n}\n\nvoid erase_list(node_t **list) {\n    node_t *node = *list;\n    node_t *tmp = NULL;\n\n    while (node != NULL) {\n      if (node-&gt;next == NULL) {\n        delete node;\n        node = NULL;\n        *list = node;\n      } else {\n        tmp = node-&gt;next;\n        delete node;\n        node = tmp;\n      }\n    }\n}\n\nvoid remove_node(node_t **list, node_t *r_node) {\n  if (list == NULL) {\n    std::cout &lt;&lt; \"Cannot remove node from an empty list\" &lt;&lt; std::endl;\n    return;\n  }\n\n  if(r_node-&gt;port.id == (*list)-&gt;port.id) {\n    node_t *temp = *list;\n    std::cout &lt;&lt; \"After Removal of element ID:\" &lt;&lt; temp-&gt;port.id &lt;&lt; std::endl;\n    *list = (*list)-&gt;next;\n    delete temp;\n    temp = NULL;\n    return;\n  }\n\n  node_t *current = (*list)-&gt;next;\n  node_t *previous = *list;\n\n  while (current != NULL) {\n    if(current-&gt;port.id == r_node-&gt;port.id) {\n        std::cout &lt;&lt; \"After Removal of element ID:\" &lt;&lt; current-&gt;port.id &lt;&lt; std::endl;\n        previous-&gt;next = current-&gt;next;\n        delete current;\n        current = NULL;\n        return;\n    }\n    previous = current;\n    current = current-&gt;next;\n  }\n}\n\nint main() {\n  struct node_t *list = NULL;\n  node_t tmp;\n  create_node(&amp;list, 1, \"node1\");\n  create_node(&amp;list, 2, \"node2\");\n  create_node(&amp;list, 3, \"node3\");\n  create_node(&amp;list, 4, \"node4\");\n  create_node(&amp;list, 5, \"node5\");\n  print_list(list);\n  erase_list(&amp;list);\n  print_list(list);\n\n  tmp.port.id = 4;\n  tmp.port.name.assign(\"node4\");\n  create_node(&amp;list, 1, \"node1\");\n  create_node(&amp;list, 2, \"node2\");\n  create_node(&amp;list, 3, \"node3\");\n  create_node(&amp;list, 4, \"node4\");\n  create_node(&amp;list, 5, \"node5\");\n  remove_node(&amp;list, &amp;tmp);\n  print_list(list);\n\n  tmp.port.id = 2;\n  tmp.port.name.assign(\"node2\");\n  remove_node(&amp;list, &amp;tmp);\n  tmp.port.name.clear();\n  print_list(list);\n  erase_list(&amp;list);\n  print_list(list);\n\n  if(list) {\n    delete list;\n  }\n  list = NULL;\n\n  return 0;\n}\n</code></pre>\n\n<p>Then I ran valgrind:\ncrossi@devmachine:~/workspace$ valgrind -v --leak-check=full --show-leak-kinds=all ./linked_list</p>\n\n<pre><code>5320== Memcheck, a memory error detector\n5320== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.\n5320== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info\n5320== Command: ./linked_list\n5320== \n5320-- Valgrind options:\n5320--    -v\n5320--    --leak-check=full\n5320--    --show-leak-kinds=all\n5320-- Contents of /proc/version:\n5320--   Linux version 3.2.0-105-generic (buildd@lgw01-13) (gcc version 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) ) #146-Ubuntu SMP Fri Jun 10 20:10:44 UTC 2016\n5320-- \n5320-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx\n5320-- Page sizes: currently 4096, max supported 4096\n5320-- Valgrind library directory: /usr/local/lib/valgrind\n5320-- Reading syms from /home/crossi/workspace/linked_list\n5320-- Reading syms from /lib/x86_64-linux-gnu/ld-2.15.so\n5320--   Considering /lib/x86_64-linux-gnu/ld-2.15.so ..\n5320--   .. CRC mismatch (computed 8de5d814 wanted 5f52208d)\n5320--   Considering /usr/lib/debug/lib/x86_64-linux-gnu/ld-2.15.so ..\n5320--   .. CRC is valid\n5320-- Reading syms from /usr/local/lib/valgrind/memcheck-amd64-linux\n5320--    object doesn't have a dynamic symbol table\n5320-- Scheduler: using generic scheduler lock implementation.\n5320-- Reading suppressions file: /usr/local/lib/valgrind/default.supp\n5320== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-5320-by-crossi-on-???\n5320== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-5320-by-crossi-on-???\n5320== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-5320-by-crossi-on-???\n5320== \n5320== TO CONTROL THIS PROCESS USING vgdb (which you probably\n5320== don't want to do, unless you know exactly what you're doing,\n5320== or are doing some strange experiment):\n5320==   /usr/local/lib/valgrind/../../bin/vgdb --pid=5320 ...command...\n5320== \n5320== TO DEBUG THIS PROCESS USING GDB: start GDB like this\n5320==   /path/to/gdb ./linked_list\n5320== and then give GDB the following command\n5320==   target remote | /usr/local/lib/valgrind/../../bin/vgdb --pid=5320\n5320== --pid is optional if only one valgrind process is running\n5320== \n5320-- REDIR: 0x40189a0 (ld-linux-x86-64.so.2:strlen) redirected to 0x380576c1 (vgPlain_amd64_linux_REDIR_FOR_strlen)\n5320-- Reading syms from /usr/local/lib/valgrind/vgpreload_core-amd64-linux.so\n5320-- Reading syms from /usr/local/lib/valgrind/vgpreload_memcheck-amd64-linux.so\n5320== WARNING: new redirection conflicts with existing -- ignoring it\n5320--     old: 0x040189a0 (strlen              ) R-&gt; (0000.0) 0x380576c1 vgPlain_amd64_linux_REDIR_FOR_strlen\n5320--     new: 0x040189a0 (strlen              ) R-&gt; (2007.0) 0x04c2db40 strlen\n5320-- REDIR: 0x4018810 (ld-linux-x86-64.so.2:index) redirected to 0x4c2d740 (index)\n5320-- REDIR: 0x4018890 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4c2ece0 (strcmp)\n5320-- REDIR: 0x4019a60 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x4c31cb0 (mempcpy)\n5320-- Reading syms from /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.22\n5320--   Considering /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.22 ..\n5320--   .. CRC mismatch (computed 61d0ac08 wanted 31a5e6a2)\n5320--    object doesn't have a symbol table\n5320-- Reading syms from /lib/x86_64-linux-gnu/libgcc_s.so.1\n5320--   Considering /lib/x86_64-linux-gnu/libgcc_s.so.1 ..\n5320--   .. CRC mismatch (computed a912abb1 wanted 680ea03d)\n5320--    object doesn't have a symbol table\n5320-- Reading syms from /lib/x86_64-linux-gnu/libc-2.15.so\n5320--   Considering /lib/x86_64-linux-gnu/libc-2.15.so ..\n5320--   .. CRC mismatch (computed 9cf0cdc3 wanted 1943e04b)\n5320--   Considering /usr/lib/debug/lib/x86_64-linux-gnu/libc-2.15.so ..\n5320--   .. CRC is valid\n5320-- Reading syms from /lib/x86_64-linux-gnu/libm-2.15.so\n5320--   Considering /lib/x86_64-linux-gnu/libm-2.15.so ..\n5320--   .. CRC mismatch (computed 04e8de65 wanted 200e7c12)\n5320--   Considering /usr/lib/debug/lib/x86_64-linux-gnu/libm-2.15.so ..\n5320--   .. CRC is valid\n5320-- REDIR: 0x53ebd60 (libc.so.6:strcasecmp) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x53e8100 (libc.so.6:strnlen) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x53ee030 (libc.so.6:strncasecmp) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x53e9af0 (libc.so.6:__GI_strrchr) redirected to 0x4c2d450 (__GI_strrchr)\n5320-- REDIR: 0x53e1e10 (libc.so.6:malloc) redirected to 0x4c2cfa0 (malloc)\n5320-- REDIR: 0x53e8020 (libc.so.6:__GI_strlen) redirected to 0x4c2daa0 (__GI_strlen)\n5320-- REDIR: 0x53ea560 (libc.so.6:__GI_memcmp) redirected to 0x4c305f0 (__GI_memcmp)\n5320-- REDIR: 0x53e64e0 (libc.so.6:strcmp) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x54911b0 (libc.so.6:__strcmp_sse42) redirected to 0x4c2ec80 (__strcmp_sse42)\n5320-- REDIR: 0x53e7fd0 (libc.so.6:strlen) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x54c1f70 (libc.so.6:__strlen_sse2_pminub) redirected to 0x4c2da80 (strlen)\n5320-- REDIR: 0x4ea0860 (libstdc++.so.6:operator new(unsigned long)) redirected to 0x4c2ca67 (operator new(unsigned long))\n5320-- REDIR: 0x53f0710 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x54a7330 (libc.so.6:__memcpy_ssse3_back) redirected to 0x4c2f0c0 (memcpy@@GLIBC_2.14)\n5320-- REDIR: 0x53ea520 (libc.so.6:bcmp) redirected to 0x4a2560a (_vgnU_ifunc_wrapper)\n5320-- REDIR: 0x54bc8a0 (libc.so.6:__memcmp_sse4_1) redirected to 0x4c30730 (__memcmp_sse4_1)\nPrint linked list:\nPort Id:1 Name:node1\nPort Id:2 Name:node2\nPort Id:3 Name:node3\nPort Id:4 Name:node4\nPort Id:5 Name:node5\n5320-- REDIR: 0x4e9e9b0 (libstdc++.so.6:operator delete(void*)) redirected to 0x4c2ba8c (operator delete(void*))\nList is empty!\nPrint linked list:\nPort Id:1 Name:node1\nPort Id:2 Name:node2\nPort Id:3 Name:node3\nPort Id:4 Name:node4\nPort Id:5 Name:node5\nPrint linked list:\nPort Id:1 Name:node1\nPort Id:2 Name:node2\nPort Id:3 Name:node3\nPort Id:4 Name:node4\nPort Id:5 Name:node5\nList is empty!\n5320-- REDIR: 0x53e2420 (libc.so.6:free) redirected to 0x4c2bea6 (free)\n5320== \n5320== HEAP SUMMARY:\n5320==     in use at exit: 72,704 bytes in 1 blocks\n5320==   total heap usage: 21 allocs, 20 frees, 73,244 bytes allocated\n5320== \n5320== Searching for pointers to 1 not-freed blocks\n5320== Checked 110,792 bytes\n5320== \n5320== 72,704 bytes in 1 blocks are still reachable in loss record 1 of 1\n5320==    at 0x4C2D027: malloc (vg_replace_malloc.c:299)\n5320==    by 0x4E9C9DF: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.22)\n5320==    by 0x400F2C5: call_init.part.0 (dl-init.c:85)\n5320==    by 0x400F39E: call_init (dl-init.c:52)\n5320==    by 0x400F39E: _dl_init (dl-init.c:134)\n5320==    by 0x40016E9: ??? (in /lib/x86_64-linux-gnu/ld-2.15.so)\n5320== \n5320== LEAK SUMMARY:\n5320==    definitely lost: 0 bytes in 0 blocks\n5320==    indirectly lost: 0 bytes in 0 blocks\n5320==      possibly lost: 0 bytes in 0 blocks\n5320==    still reachable: 72,704 bytes in 1 blocks\n5320==         suppressed: 0 bytes in 0 blocks\n5320== \n5320== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n5320== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n</code></pre>\n\n<p>Does anybody know if this is really a memory leak and where memory is not been freed?</p>\n"}, {"tags": ["c++", "linux", "pthreads", "freebsd"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 5, "creation_date": 1493837095, "post_id": 43767588, "comment_id": 74576953, "body": "Double click on the macro name, hit &quot;Search Google for...&quot;, open the manpage, and find: <i>&quot;These functions are non-standard GNU extensions; hence the suffix &#39;_np&#39; (non-portable) in the names.&quot;</i> I have no idea what the BSD equivalent/alternative is, though, so I can&#39;t answer your question."}, {"owner": {"reputation": 89, "user_id": 7539059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8b39feddf943be745acbbe5a5102aaba?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel P.", "link": "https://stackoverflow.com/users/7539059/daniel-p"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493845187, "post_id": 43767588, "comment_id": 74581244, "body": "&quot;so I can&#39;t answer your question&quot; &lt;- You just did, thanks!"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493848542, "post_id": 43767588, "comment_id": 74582699, "body": "I must really have misunderstood your question then hmm"}], "owner": {"reputation": 89, "user_id": 7539059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8b39feddf943be745acbbe5a5102aaba?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel P.", "link": "https://stackoverflow.com/users/7539059/daniel-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493836335, "creation_date": 1493836335, "question_id": 43767588, "link": "https://stackoverflow.com/questions/43767588/pthreads-linux-freebsd-difference", "title": "pthreads linux / freebsd difference?", "body": "<p>I have an application originially developed in linux. Now I want to compile the application on a freebsd box, but I am getting some pthreads compilation errors:</p>\n\n<pre><code>Building file: ../feedProcessor.cpp\nInvoking: GCC C++ Compiler\ng++7 -I/usr/local/pgsql/include -O0 -g3 -Wall -std=c++14 -c -fmessage-length=0 -MMD -MP -MF\"feedProcessor.d\" -MT\"feedProcessor.o\" -o \"feedProcessor.o\" \"../feedProcessor.cpp\"\n../feedProcessor.cpp: In constructor 'feedProcessor::feedProcessor(wqueue&lt;std::__cxx11::basic_string&lt;char&gt;*&gt;&amp;, webApi*, std::__cxx11::string, std::__cxx11::string, std::__cxx11::string, std::__cxx11::string, std::__cxx11::string)':\n../feedProcessor.cpp:20:47: error: 'PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP' was not declared in this scope\n  pthread_rwlockattr_setkind_np(&amp;lock_attribs, PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP);\n                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ngmake: *** [subdir.mk:47: feedProcessor.o] Error 1\n</code></pre>\n\n<p>Is PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP a Linux specific feature, or do I simply not setup/inform the compiler in the FreeBSD environment correctly what to use / where to look for it?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493836180, "post_id": 43767514, "comment_id": 74576428, "body": "Imagine your small daughter walking by busy road. Do you think it&#39;s the same whether you tell her not to move anywhere as it is to not tell here anything at all?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1493836495, "post_id": 43767514, "comment_id": 74576630, "body": "You&#39;re contradicting yourself: &quot;<i>initializing</i> a pointer to <i>nullptr</i>, you just <i>explicitly</i> make it point to <i>nowhere</i>&quot;. So, you&#39;re initializing it <i>with a known value</i> and doing this <i>on purpose</i>, but still somehow making it point to nowhere... An uninitialized pointer can&#39;t even point to nowhere, it always has some random (&quot;garbage&quot;) value that can be treated as some memory address."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1493836533, "post_id": 43767514, "comment_id": 74576650, "body": "@ForceBru: No, the original statement is accurate. A pointer with <code>nullptr</code> value indeed &quot;points to nowhere&quot;, and doesn&#39;t have any &quot;random&quot; or &quot;garbage&quot; value whatsoever. Those pointers that <i>do</i> have &quot;random&quot; or &quot;garbage&quot; values are actually indeterminate, and <i>cannot</i> be treated as <i>any</i> memory address."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493836702, "post_id": 43767514, "comment_id": 74576749, "body": "@BoundaryImposition, oops, I was actually talking about uninitialized pointers in the last sentence, gonna edit this ASAP"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1493836905, "post_id": 43767514, "comment_id": 74576844, "body": "@ForceBru: I still stand by what I said"}, {"owner": {"reputation": 259, "user_id": 7886227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hec3U.jpg?s=128&g=1", "display_name": "Dr t", "link": "https://stackoverflow.com/users/7886227/dr-t"}, "edited": false, "score": 0, "creation_date": 1493840103, "post_id": 43767514, "comment_id": 74578552, "body": "the nullptr keyword represents a null pointer value and tells the compiler that the pointer does not point to an object.  any pointer that is not initialized has an indeterminate value yet to be determined.  Possible point of confusion is where a hanging pointer may point...anywhere and nowhere."}, {"owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493845287, "post_id": 43767514, "comment_id": 74581306, "body": "@BoundaryImposition it is impossible for any variable to point to nowhere or contain nothing. The OS assigns each variable a location in ram and by virtue of it being ram means that the location &#39;0x1111111&#39; or wherever has and retains an old value or garbage value. Every bit in ram is either 0 or 1 which both represent a value. So an uninitialized variable or pointer will contain garbage or random values."}], "answers": [{"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1493836435, "post_id": 43767544, "comment_id": 74576580, "body": "I will need to be watching Vlad."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493836887, "post_id": 43767544, "comment_id": 74576838, "body": "Thanks! But what can I say instead of &quot;nowhere&quot; then?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493836941, "post_id": 43767544, "comment_id": 74576871, "body": "@Hei: &quot;nowhere&quot; will be fine; that&#39;s the colloquial terminology many of us use. I just wanted to explain that the technical reality doesn&#39;t really match the English language implication. That seemed to be the cornerstone of your confusion. Of course it <i>is</i> true to say that a null pointer doesn&#39;t point anywhere, but that is also true of uninitialised pointers, so we need to say more about them, in order to understand."}, {"owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493847229, "post_id": 43767544, "comment_id": 74582166, "body": "@BoundaryImposition it is impossible for any variable to point to nowhere or contain nothing. The Operating System assigns each variable a location in ram and by virtue of it being ram means that the location &#39;0x1111111&#39; or wherever has and retains an old value or garbage value. Every bit in ram is either 0 or 1 which both represent a value. So an uninitialized variable or pointer will contain garbage or random values. If you adjudicate this reasoning further, knowing that all a pointer really is is a number of an index in ram, then you might say an uninitialized pointer points somewhere, hmm?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493848467, "post_id": 43767544, "comment_id": 74582671, "body": "@KeithBecker Your entire comment is set at the wrong level of abstraction. <i>&quot;knowing that all a pointer really is is a number of an index in ram&quot;</i> No. <i>&quot;you might say an uninitialized pointer points somewhere, hmm?&quot;</i> No. Its value is indeterminate, a state which is indistinguishable from having no value at all. <i>&quot;Every bit in ram is either 0 or 1 which both represent a value.&quot;</i> RAM has absolutely nothing to do with this. We are not toggling bits on a CPU; we are programming in a high-level computer programming language."}, {"owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493849835, "post_id": 43767544, "comment_id": 74583183, "body": "Yes, we are talking on two different levels. I was answering the question as it relates to the machine. You were answering the question as it relates to the programmer; a very high level programmer, one that doesn&#39;t need to concern themselves with how a computer works. And yes number indexing in ram is how pointers work. Look it up."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493849930, "post_id": 43767544, "comment_id": 74583222, "body": "@KeithBecker: This question is about C++, not about machine code. I don&#39;t need to &quot;look it up&quot;, because (a) I know all that quite well already, thank you, and (b) it is utterly irrelevant. You on the other hand would do well to brush up on the purpose, meaning, rules and implementation of the programming language known as C++."}, {"owner": {"reputation": 390, "user_id": 5410802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8d6063cf0206be87ef8ec382f2da1f50?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Becker", "link": "https://stackoverflow.com/users/5410802/keith-becker"}, "edited": false, "score": 0, "creation_date": 1493850864, "post_id": 43767544, "comment_id": 74583523, "body": "Respectfully, I only disagreed with the precept of your statement, &quot;A pointer with nullptr value indeed &#39;points to nowhere&#39;, and doesn&#39;t have any &#39;random&#39; or &#39;garbage&#39; value whatsoever.&quot;, other than that, I don&#39;t think either of us should guess on each others knowledge of c++. I mean, unless you make it a habit of guessing. But we both really agree so, and I don&#39;t mean to argue at all. So I should apologize for that."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 11, "last_activity_date": 1493836172, "creation_date": 1493836172, "answer_id": 43767544, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers/43767544#43767544", "title": "Difference between null pointers and uninitialized pointers?", "body": "<p>Pointing to nowhere, and being uninitialised, are two different concepts.</p>\n\n<p>Strictly, an uninitialised pointer has an <em>indeterminate</em> value. It's not a pointer to the specific place \"nowhere\", or to an object. It's just &hellip; \"shrug\". You can't do anything with it yet.</p>\n\n<p><em>\"The specific place 'nowhere'??\"</em> I hear you ask. <em>\"What is this nonsense?\"</em> Well, quite. It's not really \"nowhere\". A null pointer has a specific value and a specific representation. It doesn't point to an object, but it is still a single, predictable, known value, reserved for this use.</p>\n\n<p><strong>Valid pointer:</strong> I'm at Kerrek's house, or at work, or at the pub, etc.<br>\n<strong>Invalidated pointer:</strong> I was at Kerrek's house, but Vlad from Moscow blew it up :( I'm currently watching the flames and crying a little.<br>\n<strong>Null pointer:</strong> I'm asleep at home. Come back in the morning, please.<br>\n<strong>Uninitialised pointer:</strong> I am very drunk and have no earthly idea where I am, if I'm even still alive.</p>\n"}, {"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493836379, "post_id": 43767591, "comment_id": 74576551, "body": "An uninitialized pointer doesn&#39;t &quot;point to a garbage value&quot;. It <i>is</i> a garbage value. And a null pointer does not &quot;point to <code>nullptr</code>&quot;."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493836461, "post_id": 43767591, "comment_id": 74576598, "body": "This imagined performance cost would be interesting to measure. Performance cost compared to what? Not having the pointer at all? Well, obviously!"}, {"owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "edited": false, "score": 0, "creation_date": 1493836516, "post_id": 43767591, "comment_id": 74576639, "body": "Pointers are used to hold the address of a variable so it points to a garbage value is more correct sir."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1493836614, "post_id": 43767591, "comment_id": 74576700, "body": "No, sir, it isn&#39;t."}, {"owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837161, "post_id": 43767591, "comment_id": 74576987, "body": "@BoundaryImposition: Why it is not? What is the difference between your <code>indeterminate</code> value and garbage value?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837296, "post_id": 43767591, "comment_id": 74577055, "body": "@user1336087: You said it points to a garbage value. It does not. It does not point anywhere, because it <i>has</i> a garbage value. Kerrek already said that and you disputed it, so I fear we&#39;ll be going around in circles."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493837420, "post_id": 43767591, "comment_id": 74577142, "body": "@user1336087: A null pointer does not point to anything. Only certain values of pointers point to something, and null pointers are not among them (see my answer). In other words, pointing to something is a value-dependent privilege, not a right."}, {"owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493837825, "post_id": 43767591, "comment_id": 74577410, "body": "@KerrekSB: Thank you for explaining it to me. But still, it amazes me that a null pointer doesn&#39;t point to <code>0</code> according to you? Could you please let me know where can I read about this officially?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837968, "post_id": 43767591, "comment_id": 74577475, "body": "You need to grok that C++ is an <i>abstraction</i>. A concept. Your C++ source code isn&#39;t a one-to-one mapping of instructions that will be executed by a CPU. It&#39;s a <i>description</i> of how a program should behave. In the language we use to describe our programs, a null pointer simply is this way."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493839888, "post_id": 43767591, "comment_id": 74578441, "body": "@user1336087: That&#39;s tough, it&#39;s implied by omission. There&#39;s no &quot;official document&quot; that lists all things that aren&#39;t true. There is however a document that says which pointers values represent the location of objects, and the null pointer is not of that kind."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493840021, "post_id": 43767591, "comment_id": 74578514, "body": "What do you mean by &quot;accessing a null pointer&quot;? You can read a null pointer value, but you cannot dereference it, just like you cannot dereference invalid pointers and past-the-end pointers."}, {"owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493840748, "post_id": 43767591, "comment_id": 74578862, "body": "@KerrekSB: Made it clear. You are right one should not dereference null pointers one should check if it is <code>nullptr</code>."}], "tags": [], "owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "is_accepted": false, "score": 2, "last_activity_date": 1493840607, "last_edit_date": 1493840607, "creation_date": 1493836341, "answer_id": 43767591, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers/43767591#43767591", "title": "Difference between null pointers and uninitialized pointers?", "body": "<blockquote>\n  <p>I mean when initializing a pointer to nullptr, you just explicitly make the pointer point to nowhere, right? If so, isn't that just the same as not initializing it.</p>\n</blockquote>\n\n<p>No both are not same!</p>\n\n<p><strong>Reference: C++ Primer</strong></p>\n\n<p>The value (i.e., the address) stored in a pointer can be in one of four states:</p>\n\n<ol>\n<li>It can point to an object.</li>\n<li>It can point to the location just immediately past the end of an object.</li>\n<li>It can be a null pointer, indicating that it is not bound to any object.</li>\n<li>It can be invalid; values other than the preceding three are invalid.</li>\n</ol>\n\n<p>When we say a pointer is initialized to <code>nullptr</code> it means the pointer is not bound to any object.</p>\n\n<p>An uninitialized pointer is in the invalid state (point 4 above).</p>\n\n<p>You can check if a pointer is null, however dereferencing an uninitialized pointer is undefined and may result in a run-time crash.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493837174, "post_id": 43767606, "comment_id": 74576994, "body": "Okay great, thank you! But when you say &quot;But being uninitialized it can point Anywhere&quot;, you say that it is actually pointing to somewhere - So why can&#39;t I print the value? Nevertheless, it should at least be 0 right?"}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "edited": false, "score": 0, "creation_date": 1493837481, "post_id": 43767606, "comment_id": 74577176, "body": "@Hei You can print the value of the pointer(That is an address), but you can&#39;t derreferenciate it, to print the value that is pointed because it can lead to UB, for example this could be an invalid or resticted address. Not only 0 it could be any number than can be reprented in that pointer"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837496, "post_id": 43767606, "comment_id": 74577183, "body": "@Rama: <i>&quot;You can print the value of the pointer(That is an address)&quot;</i> Actually, no, you can&#39;t. That&#39;s a common misconception. It might look like you can do it (&quot;it&#39;s just an address!&quot;), but actually your program will have undefined behaviour long before you even attempt a dereference."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837592, "post_id": 43767606, "comment_id": 74577246, "body": "@Hei: <i>&quot;you say that it is actually pointing to somewhere - So why can&#39;t I print the value?&quot;</i> It&#39;s a conceptual thing. The standard says that we are not allowed to, because the value is <i>indeterminate</i>. Due to the nature of our physical reality, you could extract a physical value for it from your computer, but you&#39;d be violating the rules of C++, which is an <i>abstraction</i>."}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837878, "post_id": 43767606, "comment_id": 74577435, "body": "@BoundaryImposition, Hei, So you can violate the Rules, Only for fun, but don&#39;t do that in production please!"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837924, "post_id": 43767606, "comment_id": 74577455, "body": "Indeed. Ideally, not at all, but I can&#39;t control that :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493840080, "post_id": 43767606, "comment_id": 74578545, "body": "@BoundaryImposition, so if the standard says that you are not allowed to access the value(if this is how to word it), why is it even allowed to leave a pointer uninitialized?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493849363, "post_id": 43767606, "comment_id": 74583008, "body": "@Hei: You are not forced to access it before later assigning a meaningful value. <code>int* ptr; &#47;* ... *&#47; ptr = nullptr;</code> Why prohibit this?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493892447, "post_id": 43767606, "comment_id": 74600052, "body": "@BoundaryImposition, hmm yeah it actually makes sense when you set it up like that. But isn&#39;t there a rule or something for this or is it just general logic?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493892670, "post_id": 43767606, "comment_id": 74600204, "body": "@Hei: If you&#39;re asking why <code>int* ptr;</code> is allowed, this is called &quot;default-initialisation&quot; and it is defined as described here: <a href=\"http://en.cppreference.com/w/cpp/language/default_initialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/default_initialization</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493892758, "post_id": 43767606, "comment_id": 74600276, "body": "Forgot to update the page. Thanks! That was what I meant :)"}], "tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": false, "score": 2, "last_activity_date": 1493836389, "creation_date": 1493836389, "answer_id": 43767606, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers/43767606#43767606", "title": "Difference between null pointers and uninitialized pointers?", "body": "<p><code>nullptr</code> means nowhere, that's OK! and is a good practice initialize pointers to this defined value.\nBut being uninitialized it can point Anywhere, it is undefined and can lead to undefined behavior</p>\n"}, {"tags": [], "owner": {"reputation": 46142, "user_id": 773113, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FKKLW.jpg?s=128&g=1", "display_name": "Mike Nakis", "link": "https://stackoverflow.com/users/773113/mike-nakis"}, "is_accepted": false, "score": 2, "last_activity_date": 1493838209, "last_edit_date": 1493838209, "creation_date": 1493836678, "answer_id": 43767683, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers/43767683#43767683", "title": "Difference between null pointers and uninitialized pointers?", "body": "<p>In some languages like C# and Java an uninitialized pointer contains NULL.</p>\n\n<p>On the other hand, C++ follows the philosophy of not wasting any clock cycles doing things which you have not explicitly asked it to, (how successful the language is at that is a different story,) so C++ does not waste any time initializing pointers to NULL, so in C++ an uninitialized pointer is said to contain garbage.</p>\n\n<p>The problem with garbage is that later you cannot say <code>if( pointer == garbage ) { pointer = someMeaningfulValue; }</code> because you do not know what the garbage value is so as to compare against it.  You cannot reproduce it.</p>\n\n<p>So, by saying <code>pointer = NULL;</code> you have initialized the pointer with a value which is known in advance, (and stands for \"Points To Nothing\",) so you can later safely do <code>if( pointer == NULL ) { pointer = someMeaningfulValue; }</code>.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493836986, "post_id": 43767716, "comment_id": 74576894, "body": "Thanks man! It makes a whole lot more sense. Why can&#39;t you select multiple answers.. I mean almost all of you came up with a great answer to my question so it is kinda hard to choose."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493837032, "post_id": 43767716, "comment_id": 74576917, "body": "@Hei: Don&#39;t worry about it. Just select whatever <i>you</i> find helpful."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837369, "post_id": 43767716, "comment_id": 74577107, "body": "@Hei: General rule of thumb is to always accept <i>my</i> answer, because my army is the largest and I know where all the uranium is kept. (Originally this was just in case Vlad tries to burn down my house, but things kind of ... spiralled out of control a bit)"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493837504, "post_id": 43767716, "comment_id": 74577192, "body": "@Hei: And BoundaryImplosion also needs the reputation to afford his/her next screen name change..."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493837619, "post_id": 43767716, "comment_id": 74577271, "body": "Yes, that&#39;s also true. Identify theft is not as cheap as it looks on the telly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493839937, "post_id": 43767716, "comment_id": 74578464, "body": "That&#39;s sounds logical."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 3, "last_activity_date": 1493837098, "last_edit_date": 1493837098, "creation_date": 1493836781, "answer_id": 43767716, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers/43767716#43767716", "title": "Difference between null pointers and uninitialized pointers?", "body": "<p>A pointer (of type <code>T</code>) is a value, similar to other values like integers or strings, and it can be in one of three states:</p>\n\n<ol>\n<li><p>It can point to an object or one past an object (and the two are not exclusive), or it points at a function. Such a pointer may be dereferenced if it points at an object or a function.</p></li>\n<li><p>It can have the special value \"null\", in which case it compares equal to <code>T()</code> and to <code>nullptr</code> and to other expressions like <code>0</code>, <code>NULL</code>, <code>T(0)</code> and <code>T(nullptr)</code>.</p></li>\n<li><p>It can be none of the above. This is true of the value of an uninitialized variable of type <code>T</code>, but never of a prvalue of <code>T</code>. This is also true if the pointer once did point to an object but the object's lifetime has ended.</p></li>\n</ol>\n\n<p>Note that only case (2), the null pointer, is something that you can check for programmatically! You cannot in general tell whether a non-null pointer is valid (short of perhaps comparing a pointer to a set of known, valid pointers).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 1, "accepted_answer_id": 43767544, "answer_count": 5, "score": 6, "last_activity_date": 1493840607, "creation_date": 1493836077, "question_id": 43767514, "link": "https://stackoverflow.com/questions/43767514/difference-between-null-pointers-and-uninitialized-pointers", "title": "Difference between null pointers and uninitialized pointers?", "body": "<p>Why can you print the value of a null pointer but not an uninitialized pointer? I mean when initializing a pointer to nullptr, you just explicitly make the pointer point to nowhere, right? If so, isn't that just the same as not initializing it, or is there something that I have missed?</p>\n\n<p>Thanks! Much appreciated!</p>\n"}, {"tags": ["java", "c++", "variable-assignment"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1493836008, "post_id": 43767486, "comment_id": 74576318, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/bit_field\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/bit_field</a>"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1493836153, "post_id": 43767486, "comment_id": 74576415, "body": "Do you understand how C++ integer truth works?"}, {"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1493836235, "post_id": 43767486, "comment_id": 74576465, "body": "@chrylis By that you mean, 0 is false and every other number is true?"}, {"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1493836262, "post_id": 43767486, "comment_id": 74576486, "body": "@Fran&#231;oisAndrieux I understand it&#39;s a bit field, but i don&#39;t see how that effects the line in question? <code>r1 = (red &amp; mask) == mask;</code>"}, {"owner": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1493836366, "post_id": 43767486, "comment_id": 74576545, "body": "It helps if you know that <code>!0 == 1</code>, see <a href=\"http://stackoverflow.com/questions/35565740/define-true-false-vs-define-true-1\">also</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1493836790, "post_id": 43767486, "comment_id": 74576789, "body": "@ElliottFrisch: That&#39;s not really true. <code>!0 == true</code>. Only when you coerce the result back into an integer do you see <code>1</code>. It&#39;s important to understand all the conversions taking place here, particularly when you realise that the bit representation of <code>true</code> need not be <code>0x1</code>; it only needs to be something different from <code>0x0</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1493836700, "post_id": 43767601, "comment_id": 74576747, "body": "The standard states that the implicit conversion of a <code>bool</code> to an <code>int</code> will yield <code>1</code> (if it holds <code>true</code>) (see the <a href=\"http://en.cppreference.com/w/cpp/language/implicit_conversion\" rel=\"nofollow noreferrer\">reference page</a>) - so it&#39;s not &quot;usually&quot; but always"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1493836875, "post_id": 43767601, "comment_id": 74576827, "body": "Welcome, Tony. Seen a few of your answers today. Keep it up!"}], "tags": [], "owner": {"reputation": 132, "user_id": 7958721, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211437655288913/picture?type=large", "display_name": "Tony Val", "link": "https://stackoverflow.com/users/7958721/tony-val"}, "is_accepted": false, "score": 3, "last_activity_date": 1493837339, "last_edit_date": 1493837339, "creation_date": 1493836371, "answer_id": 43767601, "question_id": 43767486, "link": "https://stackoverflow.com/questions/43767486/cpp-how-is-a-boolean-used-in-an-unsigned-int-value/43767601#43767601", "title": "CPP how is a boolean used in an unsigned int value?", "body": "<p>Assigning a <code>bool</code> to an <code>unsigned int</code> is a legal thing to do in C++. A <code>true</code> will set it to <code>1</code>, and a <code>false</code> will set it to <code>0</code>. This is done implicitly in C++.</p>\n\n<p>In Java, the line: <code>bits.bits.r1 = (red &amp; mask) == mask;</code> will not work because you cannot implicitly assign a boolean to an int.</p>\n\n<p>Try this: <code>bits.bits.r1 = ((red &amp; mask) == mask) ? 1 : 0;</code></p>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 1, "last_activity_date": 1493836734, "creation_date": 1493836734, "answer_id": 43767700, "question_id": 43767486, "link": "https://stackoverflow.com/questions/43767486/cpp-how-is-a-boolean-used-in-an-unsigned-int-value/43767700#43767700", "title": "CPP how is a boolean used in an unsigned int value?", "body": "<blockquote>\n  <p>Doesn't <code>(red &amp; mask) == mask</code> resolve to <code>true</code> or <code>false</code>?</p>\n</blockquote>\n\n<p>Yes, it does!</p>\n\n<p>Next, during the assignment to <code>r1</code>, your <code>true</code> or <code>false</code> is coerced into an <code>unsigned int</code>, with value <code>1</code> or <code>0</code> respectively. C++ has <em>implicit conversions</em> that make this happen.</p>\n"}], "owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 43767700, "answer_count": 2, "score": 0, "last_activity_date": 1493838686, "creation_date": 1493835967, "last_edit_date": 1493836094, "question_id": 43767486, "link": "https://stackoverflow.com/questions/43767486/cpp-how-is-a-boolean-used-in-an-unsigned-int-value", "title": "CPP how is a boolean used in an unsigned int value?", "body": "<p>I'm trying to understand this cpp code so I can convert it to Java. <code>r1</code> is an unsigned int <em>bit field</em> but it looks like here it is being set to a boolean value?</p>\n\n<pre><code>union GpioPins {\n    struct {\n      unsigned int ignoredPins1:2;\n      unsigned int r1:1;\n      unsigned int g1:1;\n      unsigned int b1:1;\n    } bits;\n    uint32_t raw;\n    GpioPins() : raw(0) {}\n  };\n</code></pre>\n\n<p>then later on a loop containing</p>\n\n<pre><code> GpioPins *bits = ...\n uint8_t red   = 141; // any number between 0..255\n uint8_t mask = 1 &lt;&lt; i; // i is between 0..7 \n\n bits-&gt;bits.r1 = (red &amp; mask) == mask;\n</code></pre>\n\n<p>The line that is confusing is the final one. Doesn't <code>(red &amp; mask) == mask</code> resolve to <code>true</code> or <code>false</code>?</p>\n\n<p>i.e. in Java this should look like:</p>\n\n<pre><code> private static class GpioPins {\n\n    static class Pins {\n        int ignoredPins1;\n        int r1;\n        int g1;\n        int b1; \n    }\n\n    int raw = 0;\n    Pins bits;\n}\n</code></pre>\n\n<p>then later</p>\n\n<pre><code>GpioPins bits = ...\nint red   = 141; // any number between 0..255\nint mask = 1 &lt;&lt; i; // i is between 0..7 \n\nbits.bits.r1 = (red &amp; mask) == mask;  // compile error, incompatible types\n</code></pre>\n\n<p>There is clearly something I don't understand in the cpp code, but don't know what it is to google it :-)</p>\n"}, {"tags": ["c++", "llvm", "jit"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1493835898, "post_id": 43767346, "comment_id": 74576242, "body": "This is very close to -Should be closed:  <i>&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;</i>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1493835908, "post_id": 43767346, "comment_id": 74576248, "body": "Yeah, we generally don&#39;t do this. We might generate C++ from a Python script, or even from a C++ program, but the result always gets piped through to a compiler proper."}, {"owner": {"reputation": 1897, "user_id": 7852370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474cce33d6db1eedb9046807aadd574f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Reid", "link": "https://stackoverflow.com/users/7852370/karl-reid"}, "edited": false, "score": 0, "creation_date": 1493836062, "post_id": 43767346, "comment_id": 74576355, "body": "Wouldn&#39;t it make more sense to use some kind of serialization library for this? <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/serialization/doc/index.html\" rel=\"nofollow noreferrer\">Boost::Serialization</a> maybe?"}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "reply_to_user": {"reputation": 1897, "user_id": 7852370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474cce33d6db1eedb9046807aadd574f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Reid", "link": "https://stackoverflow.com/users/7852370/karl-reid"}, "edited": false, "score": 0, "creation_date": 1493836185, "post_id": 43767346, "comment_id": 74576431, "body": "@KarlReid Normally yes. But the problem is that every element to be serialized will actually be functions instead of some objects with concrete values."}, {"owner": {"reputation": 1897, "user_id": 7852370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474cce33d6db1eedb9046807aadd574f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Reid", "link": "https://stackoverflow.com/users/7852370/karl-reid"}, "edited": false, "score": 0, "creation_date": 1493836595, "post_id": 43767346, "comment_id": 74576689, "body": "Fair enough. Depending on the complexity of the operations, maybe you could create a simple domain specific language and generate/parse that, as another idea."}, {"owner": {"reputation": 3796, "user_id": 4859885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9HcTm.jpg?s=128&g=1", "display_name": "Brian Rodriguez", "link": "https://stackoverflow.com/users/4859885/brian-rodriguez"}, "edited": false, "score": 0, "creation_date": 1493837379, "post_id": 43767346, "comment_id": 74577114, "body": "Sounds like you want a DLL?"}], "answers": [{"tags": [], "owner": {"reputation": 29966, "user_id": 637669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0227e5d5eaceb8ae2f751df38d421764?s=128&d=identicon&r=PG", "display_name": "arrowd", "link": "https://stackoverflow.com/users/637669/arrowd"}, "is_accepted": false, "score": 1, "last_activity_date": 1493891762, "creation_date": 1493891762, "answer_id": 43779616, "question_id": 43767346, "link": "https://stackoverflow.com/questions/43767346/compile-a-c-function-inside-a-c-program/43779616#43779616", "title": "Compile a C++ function inside a C++ program", "body": "<p>You can compile your generated code with clang and emit LLVM bitcode (<code>-emit-llvm</code> flag). Then, statically link your program with parts of LLVM that read bitcode files and JITs them. Finally, take compiled bitcode and run JIT on them, so they will be available in your program's address space.</p>\n"}], "owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493891762, "creation_date": 1493835469, "question_id": 43767346, "link": "https://stackoverflow.com/questions/43767346/compile-a-c-function-inside-a-c-program", "title": "Compile a C++ function inside a C++ program", "body": "<p>Consider the following problem,</p>\n\n<p>A C++ program may emit source of a C++ function, for example, say it will create a string with contents as below:</p>\n\n<pre><code>std::vector&lt;std::shared_ptr&lt;C&gt;&gt; get_ptr_vec()\n{\n    std::vector&lt;std::shared_ptr&lt;C&gt;&gt; vec;\n    vec.push_back(std::shared_ptr&lt;C&gt;(new C(val1)));\n    vec.push_back(std::shared_ptr&lt;C&gt;(new C(val2)));\n    vec.push_back(std::shared_ptr&lt;C&gt;(new C(val3)));\n    vec.push_back(std::shared_ptr&lt;C&gt;(new C(val4)));\n    return vec;\n}\n</code></pre>\n\n<p>The values of <code>val1</code> etc will be determined at runtime when the program create the string of the source above. And this source will be write to a file, say <code>get_ptr_vec.cpp</code>.</p>\n\n<p>Then another C++ program will need to read this source file, and compile it, and call the <code>get_ptr_vec</code> function and get the object it returns. Kind of like a JIT compiler.</p>\n\n<p>Is there any way I can do this? One workaround I think would be having a script that will compile the file, build it into a shared library. And the second program can get the function through <code>dlopen</code>. However, is there anyway to skip this and having the second program to compile the file (without call to <code>system</code>). Note that, the second program will not be able to see this source file at compile time. In fact, there will be likely thousands such small source files emitted by the first program.</p>\n\n<p>To give a little background, the first program will build a tree of expressions, and will serialize the tree by traversing through postorder. Each node of tree will have a string representation written to the file. The second program will read the list of this serialized tree nodes, and need to be able to reconstruct this list of strings to a list of C++ objects (and later from this list I can reconstruct the tree).</p>\n\n<p>I think the LLVM framework may have something to offer here. Can someone give me some pointers on this? Not necessary a full answer, just somewhere for me to start.</p>\n"}, {"tags": ["c++", "xcode", "cocos2d-x"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7898016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f4b0f4c713621d279a3653f413c37e?s=128&d=identicon&r=PG&f=1", "display_name": "carebearlife", "link": "https://stackoverflow.com/users/7898016/carebearlife"}, "edited": false, "score": 0, "creation_date": 1493836210, "post_id": 43767456, "comment_id": 74576453, "body": "Makes sense but do you know why it&#39;s null?"}, {"owner": {"reputation": 1, "user_id": 7902296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23b941cb30e2c16f8ee133ed46da664?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/7902296/j-doe"}, "reply_to_user": {"reputation": 5, "user_id": 7898016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f4b0f4c713621d279a3653f413c37e?s=128&d=identicon&r=PG&f=1", "display_name": "carebearlife", "link": "https://stackoverflow.com/users/7898016/carebearlife"}, "edited": false, "score": 0, "creation_date": 1493838586, "post_id": 43767456, "comment_id": 74577775, "body": "@carebearlife what&#39;s your project structure and &quot;thing.png&quot; relative path from it&#39;s root? Make sure you specify correct path to image within Sprite::create method."}, {"owner": {"reputation": 5, "user_id": 7898016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f4b0f4c713621d279a3653f413c37e?s=128&d=identicon&r=PG&f=1", "display_name": "carebearlife", "link": "https://stackoverflow.com/users/7898016/carebearlife"}, "edited": false, "score": 0, "creation_date": 1493841100, "post_id": 43767456, "comment_id": 74579041, "body": "The png is in the resources folder. Pretty sure it is the correct path as some of the png files in that folder work but most others don&#39;t."}], "tags": [], "owner": {"reputation": 1, "user_id": 7902296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23b941cb30e2c16f8ee133ed46da664?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/7902296/j-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1493887970, "last_edit_date": 1493887970, "creation_date": 1493835880, "answer_id": 43767456, "question_id": 43767317, "link": "https://stackoverflow.com/questions/43767317/cocos2dx-update-and-thread-1-exc-bad-access/43767456#43767456", "title": "Cocos2dx Update and Thread 1: EXC_BAD_ACCESS", "body": "<p>Looks like you've got <code>nullptr</code> as <code>backgroundSprite</code>. Check it before calling <code>setPosition</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1493840771, "creation_date": 1493840771, "answer_id": 43768727, "question_id": 43767317, "link": "https://stackoverflow.com/questions/43767317/cocos2dx-update-and-thread-1-exc-bad-access/43768727#43768727", "title": "Cocos2dx Update and Thread 1: EXC_BAD_ACCESS", "body": "<p>If you're running on desktop, make sure that Target Membership is checked for your <code>thing.png</code> and also check form Xcode IDE, file is available in Resource.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AstF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AstF7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 22, "user_id": 7965318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5905be617553421b2e2d0c40f2fe1dbb?s=128&d=identicon&r=PG&f=1", "display_name": "MinusSign", "link": "https://stackoverflow.com/users/7965318/minussign"}, "is_accepted": true, "score": 0, "last_activity_date": 1494104511, "creation_date": 1494104511, "answer_id": 43825361, "question_id": 43767317, "link": "https://stackoverflow.com/questions/43767317/cocos2dx-update-and-thread-1-exc-bad-access/43825361#43825361", "title": "Cocos2dx Update and Thread 1: EXC_BAD_ACCESS", "body": "<p>Go to build settings and set: Remove Text Metadata From PNG Files = No </p>\n"}], "owner": {"reputation": 5, "user_id": 7898016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f4b0f4c713621d279a3653f413c37e?s=128&d=identicon&r=PG&f=1", "display_name": "carebearlife", "link": "https://stackoverflow.com/users/7898016/carebearlife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 43825361, "answer_count": 3, "score": 0, "last_activity_date": 1494104511, "creation_date": 1493835354, "last_edit_date": 1493841094, "question_id": 43767317, "link": "https://stackoverflow.com/questions/43767317/cocos2dx-update-and-thread-1-exc-bad-access", "title": "Cocos2dx Update and Thread 1: EXC_BAD_ACCESS", "body": "<p>After updating Cocos2dx and Xcode I started receiving the error: Thread1:EXC_BAD_ACCESS (code=1, address=0x0). It happens when I set the position but I think it has to do with the png image:</p>\n\n<pre><code>auto backgroundSprite=Sprite::create(\"thing.png\");\nbackgroundSprite-&gt;setPosition(Vec2(visibleSize.width /2 +origin.x,visibleSize.height / 2 + origin.y));\n</code></pre>\n\n<p>I have tried to add this code and image to a different project and it works fine. I have also tried to switch the image file to something else but it didn't work.</p>\n"}, {"tags": ["c++", "opencv", "command-line"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493835740, "post_id": 43767305, "comment_id": 74576145, "body": "<code>void main</code> is wrong"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1493836593, "post_id": 43767305, "comment_id": 74576687, "body": "is the space in &quot; -d=1&quot; wanted?"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493835752, "post_id": 43767339, "comment_id": 74576152, "body": "Should be <code>const char*</code> I&#39;m surprised this even compiles, based on the OpenCV docs"}], "tags": [], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "is_accepted": false, "score": 0, "last_activity_date": 1493835442, "creation_date": 1493835442, "answer_id": 43767339, "question_id": 43767305, "link": "https://stackoverflow.com/questions/43767305/passing-argv-and-argc-to-main-as-an-array/43767339#43767339", "title": "Passing argv and argc to main as an array", "body": "<p>Ah, already solved. I needed to adjust my char array to:</p>\n\n<p><code>char* passArg[8] = { NULL,\"-h=6\", \"-w=8\",\"-pf=defaultConfig.xml\", \"-t=charuco\",\"-v=bmCalib2.mov\", \"-sz=0.045\", \" -d=3\" };</code></p>\n\n<p>Obviously the <code>.exe</code> is usually the first variable given in a command line launch. </p>\n"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493835442, "creation_date": 1493835306, "question_id": 43767305, "link": "https://stackoverflow.com/questions/43767305/passing-argv-and-argc-to-main-as-an-array", "title": "Passing argv and argc to main as an array", "body": "<p>I am using opencv, and have a function that takes command line variables:</p>\n\n<pre><code>int start(int argc, char** argv)\n{\n    cv::CommandLineParser parser(argc, argv, keys);\n    if(parser.has(\"help\")) {\n        parser.printMessage();\n        return 0;\n    }\n....\n\n}\n</code></pre>\n\n<p>what I would like to do, is have another function that passes variables to this one, instead of using the command line, as it is now. \nthe command line I pass it to run perfectly is:</p>\n\n<p><code>-h=6 -w=8 -pf=defaultConfig.xml -t=charuco -v=bmCalib2.mov -sz=0.045 -d=1</code></p>\n\n<p>So I have this function:</p>\n\n<pre><code>void main()\n{\nchar* passArg[7] = { \"-h=6\", \"-w=8\",\"-pf=defaultConfig.xml\", \"-t=charuco\",\"-v=bmCalib2.mov\", \"-sz=0.045\", \" -d=1\" };\n        start(7,passArg);\n}\n</code></pre>\n\n<p>It compiles and runs, but the results are different (it is a calibration application, the command line calibrates, and the function version does not).</p>\n\n<p>Is this the correct way to send <code>int argc, char** argv</code> instead of using command line? \nthank you.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1493835552, "post_id": 43767266, "comment_id": 74576041, "body": "<code>1*sizeof(char)</code> is guaranteed to be 1. In the expression <code>1*sizeof(char)</code>, the value <code>1</code> is a magic number that seems to refer to the number of chars in <code>dummy</code> and <code>sizeof(char)</code> seems to refer to the type of <code>dummy</code>. If you opt out of supplying the constant 1 for expressiveness or maintainability, why not simply use <code>sizeof(dummy)</code>? The current form is not any better than simply supplying 1 directly."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1493835838, "post_id": 43767266, "comment_id": 74576206, "body": "Is it important to validate the format of the string, or is it known to be correct? If it&#39;s known to be valid you can simply tokenize the whole string on any sequence of non-numeric character. You are left with a list of numbers from which it&#39;s easy to construct <code>Element</code>. <a href=\"http://stackoverflow.com/questions/53849/how-do-i-tokenize-a-string-in-c\">How do I tokenize a string in C++?</a>"}, {"owner": {"reputation": 19779, "user_id": 878532, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5fbebb625a289267abd098c0e676c760?s=128&d=identicon&r=PG", "display_name": "Klaus", "link": "https://stackoverflow.com/users/878532/klaus"}, "edited": false, "score": 0, "creation_date": 1493882597, "post_id": 43767266, "comment_id": 74593584, "body": "Have you ever thought about a serializer? Reading data structures is a common problem with typically a common solution."}, {"owner": {"reputation": 403, "user_id": 5480897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58bdec011e6718843c4b528e95272908?s=128&d=identicon&r=PG", "display_name": "Jan M&#252;ller", "link": "https://stackoverflow.com/users/5480897/jan-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1493883294, "post_id": 43767266, "comment_id": 74594042, "body": "Thanks for the comments about <code>1*sizeof(char)</code>. Also made the <code>parse</code> function return <code>std::vector&lt;Element&gt;</code>. I&#39;ll look into boost/tokenizer, looks to do what I was looking for."}, {"owner": {"reputation": 403, "user_id": 5480897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58bdec011e6718843c4b528e95272908?s=128&d=identicon&r=PG", "display_name": "Jan M&#252;ller", "link": "https://stackoverflow.com/users/5480897/jan-m%c3%bcller"}, "reply_to_user": {"reputation": 19779, "user_id": 878532, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5fbebb625a289267abd098c0e676c760?s=128&d=identicon&r=PG", "display_name": "Klaus", "link": "https://stackoverflow.com/users/878532/klaus"}, "edited": false, "score": 0, "creation_date": 1493907655, "post_id": 43767266, "comment_id": 74611401, "body": "@Klaus, can you recommend a specific serializer? Preferably, the serialized data should be text and not binary, i.e. human readable."}, {"owner": {"reputation": 19779, "user_id": 878532, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5fbebb625a289267abd098c0e676c760?s=128&d=identicon&r=PG", "display_name": "Klaus", "link": "https://stackoverflow.com/users/878532/klaus"}, "edited": false, "score": 0, "creation_date": 1493919938, "post_id": 43767266, "comment_id": 74619705, "body": "@JanM&#252;ller: boost::serialize can write text files. I don&#39;t know how the configuration of own file formats work with boost. But the docs and examples are well."}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 5480897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58bdec011e6718843c4b528e95272908?s=128&d=identicon&r=PG", "display_name": "Jan M&#252;ller", "link": "https://stackoverflow.com/users/5480897/jan-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1493980177, "post_id": 43792006, "comment_id": 74644461, "body": "Pretty cool, thanks a lot for the example. That works well and looks quite complete!"}], "tags": [], "owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "is_accepted": true, "score": 1, "last_activity_date": 1493928674, "creation_date": 1493928674, "answer_id": 43792006, "question_id": 43767266, "link": "https://stackoverflow.com/questions/43767266/parse-string-of-numbers-into-vector-of-structs/43792006#43792006", "title": "Parse string of numbers into vector of structs", "body": "<p>Your data are well structured, you can easily overload <code>operator&gt;&gt;</code> to extract the class members from an <code>std::ifstream</code> and then keep reading them from an <code>istringstream</code> or a file stream.</p>\n\n<p>Here is a possible implementation:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n#include &lt;iterator&gt;\n#include &lt;stdexcept&gt;\n\nclass Element\n{\npublic:\n    Element() {}\n    Element(int aa, int bb, float cc, float dd) : a{aa}, b{bb}, c{cc}, d{dd} {}\n\n    friend std::istream &amp;operator&gt;&gt; (std::istream &amp;in, Element &amp;e);\n    friend std::ostream &amp;operator&lt;&lt; (std::ostream &amp;out, Element const &amp;e);\n\nprivate:\n    int a;\n    int b;\n    float c;\n    float d;\n};\n\nstd::istream &amp;operator&gt;&gt; (std::istream &amp;in, Element &amp;e)\n{\n    char delimiter;\n    if ( not ( in &gt;&gt; e.a &gt;&gt; delimiter  and  delimiter == '(' and\n               in &gt;&gt; e.b &gt;&gt; delimiter  and  delimiter == ')' and\n               in &gt;&gt; delimiter         and  delimiter == ':' and\n               in &gt;&gt; e.c &gt;&gt; delimiter  and  delimiter == '/' and\n               in &gt;&gt; e.d &gt;&gt; delimiter  and  delimiter == ';' )\n         and not in.eof() )\n    {\n        in.setstate(std::ios_base::failbit);\n    }\n    return in;\n\n}\n\nstd::ostream &amp;operator&lt;&lt; (std::ostream &amp;out, Element const &amp;e)\n{\n    return out &lt;&lt; e.a &lt;&lt; '(' &lt;&lt; e.b &lt;&lt; \"):\" &lt;&lt; e.c &lt;&lt; '/' &lt;&lt; e.d &lt;&lt; ';';\n}\n\nstd::vector&lt;Element&gt; read_Elements_from(std::istream &amp;in)\n{\n    std::vector&lt;Element&gt; tmp (\n        std::istream_iterator&lt;Element&gt;{in},\n        std::istream_iterator&lt;Element&gt;{}\n    );\n    if ( not in.eof() )\n        throw std::runtime_error(\"Wrong format\");\n\n    return tmp;\n}\n\nint main()\n{\n  try\n  {\n    using std::cout;\n    std::istringstream iss {\n        \"0(0):0/0;1(2):0.01/0.2;2(4):0.02/0.04;3(6):0.03/0.06;\"\n    };\n\n    auto els_s = read_Elements_from(iss);\n\n    cout &lt;&lt; \"Elements read from the string:\\n\";\n    for ( auto const &amp;i : els_s )\n    {\n        cout &lt;&lt; i &lt;&lt; '\\n';\n    }\n\n    // assuming a file which lines are similar to the string provided\n    std::ifstream input_file {\"input_data.txt\"};\n    if ( not input_file )\n        throw std::runtime_error(\"Can't open input file\");\n\n    auto els_f = read_Elements_from(input_file);\n\n    cout &lt;&lt; \"\\nElements read from the file:\\n\";\n    for ( auto const &amp;i : els_f )\n    {\n        cout &lt;&lt; i &lt;&lt; '\\n';\n    }\n  }\n  catch ( std::exception const &amp;e )\n  {\n      std::cerr &lt;&lt; \"\\nAn unexpected problem cause this application to end:\\n\\n\"\n                &lt;&lt; e.what() &lt;&lt; \".\\n\\n\";\n      return EXIT_FAILURE;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 5480897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58bdec011e6718843c4b528e95272908?s=128&d=identicon&r=PG", "display_name": "Jan M&#252;ller", "link": "https://stackoverflow.com/users/5480897/jan-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 43792006, "answer_count": 1, "score": 1, "last_activity_date": 1493928674, "creation_date": 1493835202, "last_edit_date": 1493882336, "question_id": 43767266, "link": "https://stackoverflow.com/questions/43767266/parse-string-of-numbers-into-vector-of-structs", "title": "Parse string of numbers into vector of structs", "body": "<p>I want to parse a string of numbers into a vector of elements. The string consists of blocks of four numbers, separated by <code>( ) : /</code>,  and each block is separated by a <code>;</code>. </p>\n\n<p>Specifically, the string is in this format: <code>int(int):float/float;</code>, see code sample below. I think I could use a regular expression, but since the data is so structured, I'm sure there must be a more approachable and easier way to parse such a string. I'm using istringstream, but it feels a bit clumsy.</p>\n\n<pre><code>std::string line = \"0(0):0/0;1(2):0.01/0.02;2(4):0.02/0.04;3(6):0.03/0.06;\"\nstruct Element {\n  int a;\n  int b;\n  int c;\n  int d;\n};\n\nstd::vector&lt;Element&gt; = parse(line);\n\n\nstd::vector&lt;Element&gt; parse(std::string line)\n{\n  std::vector&lt;Element&gt; elements;\n  std::istringstream iss(line);\n  while(iss) {\n    char dummy;\n    Element element;\n\n    iss &gt;&gt; element.a;\n    iss.read(&amp;dummy,sizeof(dummy)); // (\n    iss &gt;&gt; element.b;\n    iss.read(&amp;dummy,sizeof(dummy)); // )\n    iss.read(&amp;dummy,sizeof(dummy)); // :\n    iss &gt;&gt; element.c;\n    iss.read(&amp;dummy,sizeof(dummy)); // /\n    iss &gt;&gt; element.d;\n    iss.read(&amp;dummy,sizeof(dummy)); // ;\n\n    if (!iss) {break;}\n\n    elements.push_back(element);\n  }\n  return elements;\n}\n</code></pre>\n\n<p>My questions:</p>\n\n<ol>\n<li>What would be a good way to parse? Should I use <code>std::stringstream</code> and read in number by number and 'chop off' the characters in between? As done in the code sample?</li>\n<li>This code has a bug and attempts to read one extra set of values, because <code>while(iss)</code> is still true, after the last character has been read in. How to terminate this loop without testing after each <code>iss&gt;&gt;</code>? Or more generally, how to loop over extractions from istringstream?</li>\n</ol>\n"}, {"tags": ["c++", "algorithm", "qt"], "comments": [{"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1493837922, "post_id": 43767260, "comment_id": 74577453, "body": "Memory mapped files lets the OS load nad unload your data for you into virtual memory.  This will get you into the single Gigabyte range pretty safely in terms of size.  Do you need more than this?"}, {"owner": {"reputation": 7400, "user_id": 4391177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zEh1N.jpg?s=128&g=1", "display_name": "Sumeet", "link": "https://stackoverflow.com/users/4391177/sumeet"}, "reply_to_user": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1493839586, "post_id": 43767260, "comment_id": 74578285, "body": "Yes, can u please elaborate"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1493843923, "post_id": 43767260, "comment_id": 74580573, "body": "I&#39;ve not used them myself, but have read enough responses on them to know of there existence.  <a href=\"https://msdn.microsoft.com/en-us/library/ms810613.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms810613.aspx</a> has an overview of it.  <a href=\"http://stackoverflow.com/questions/22047673/transfering-data-through-a-memory-mapped-file-using-win32-winapi\" title=\"transfering data through a memory mapped file using win32 winapi\">stackoverflow.com/questions/22047673/&hellip;</a> for stack overflow"}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1493899985, "post_id": 43767260, "comment_id": 74605316, "body": "How big data is? 10k lines of text (about 100kB), or more? If is around 100k lines it should work fine. How do you update this text? What kind of API you are using? Do you use <code>QTextDocument</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4498, "user_id": 198480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7fe4a0ca3d7217787309c12fa7ad717?s=128&d=identicon&r=PG", "display_name": "Joshua D. Boyd", "link": "https://stackoverflow.com/users/198480/joshua-d-boyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1493850157, "creation_date": 1493850157, "answer_id": 43770943, "question_id": 43767260, "link": "https://stackoverflow.com/questions/43767260/algorithm-for-splitting-large-amount-of-text-data/43770943#43770943", "title": "Algorithm for splitting large amount of text data", "body": "<p>Using mmap only addresses how you may read the file while only having pieces of it in memory.  It doesn't address how the edit control would only have pieces at a time.</p>\n\n<p>I have to think that any such system would be fairly specific to the text editing widget involved.  In this case, you would either need to figure out how to extend <code>QPlainTextEdit</code> with the desired functionality, or make a new text editing widget (possible forking an existing one).  There are numerous text editing widgets available as open source that could be used as a starting point. </p>\n\n<p>I've been assuming so far that you want to edit the text in this large file.  If you are only using <code>QPlainTextEdit</code> as a read-only viewer, then that writing your own that is only a large text stream reading widget may be much easier than extending an existing editor widget.</p>\n"}, {"comments": [{"owner": {"reputation": 7400, "user_id": 4391177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zEh1N.jpg?s=128&g=1", "display_name": "Sumeet", "link": "https://stackoverflow.com/users/4391177/sumeet"}, "edited": false, "score": 0, "creation_date": 1493928569, "post_id": 43771056, "comment_id": 74624588, "body": "Thanks for the answer. Hey could you help me with the following post:"}, {"owner": {"reputation": 7400, "user_id": 4391177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zEh1N.jpg?s=128&g=1", "display_name": "Sumeet", "link": "https://stackoverflow.com/users/4391177/sumeet"}, "edited": false, "score": 0, "creation_date": 1493928594, "post_id": 43771056, "comment_id": 74624599, "body": "<a href=\"http://stackoverflow.com/questions/43789582/how-to-produce-illusion-effect-in-scrolling-in-qt\" title=\"how to produce illusion effect in scrolling in qt\">stackoverflow.com/questions/43789582/&hellip;</a>"}], "tags": [], "owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1493851855, "last_edit_date": 1493851855, "creation_date": 1493850761, "answer_id": 43771056, "question_id": 43767260, "link": "https://stackoverflow.com/questions/43767260/algorithm-for-splitting-large-amount-of-text-data/43771056#43771056", "title": "Algorithm for splitting large amount of text data", "body": "<p>Subclass <code>QAbstractListModel</code> implement cache there.\nWhen cell value is read you are fetching data from cache and update it if value is not present in cache.</p>\n\n<p>Tweak <code>QTableView</code>, by altering delegate to achieve needed visualization of cells. Note you have to use <code>QTableView</code> since other <code>QAbstractItemView</code>s have broken items recycling and they don't handle very large models well (<code>QTableView</code> doesn't have such issue).</p>\n\n<p>Some time ego I've wrote hex viewer of large files and tested that with file size 2GB and it was working perfectly. </p>\n\n<p>Ok, I found my old code which could be a good example:</p>\n\n<pre><code>#include &lt;QAbstractTableModel&gt;\n\nclass LargeFileCache;\n\nclass LageFileDataModel : public QAbstractTableModel\n{\n    Q_OBJECT\npublic:\n    explicit LageFileDataModel(QObject *parent);\n\n    // QAbstractTableModel\n    int rowCount(const QModelIndex &amp;parent) const;\n    int columnCount(const QModelIndex &amp;parent) const;\n    QVariant data(const QModelIndex &amp;index, int role) const;\n\nsignals:\n\npublic slots:\n    void setFileName(const QString &amp;fileName);\n\nprivate:\n    LargeFileCache *cachedData;\n};\n\n// ----- cpp file -----\n#include \"lagefiledatamodel.h\"\n#include \"largefilecache.h\"\n#include &lt;QSize&gt;\n\nstatic const int kBytesPerRow = 16;\n\nLageFileDataModel::LageFileDataModel(QObject *parent)\n    : QAbstractTableModel(parent)\n{\n    cachedData = new LargeFileCache(this);\n}\n\nint LageFileDataModel::rowCount(const QModelIndex &amp;parent) const\n{\n    if (parent.isValid())\n        return 0;\n    return (cachedData-&gt;FileSize() + kBytesPerRow - 1)/kBytesPerRow;\n}\n\nint LageFileDataModel::columnCount(const QModelIndex &amp;parent) const\n{\n    if (parent.isValid())\n        return 0;\n    return kBytesPerRow;\n}\n\nQVariant LageFileDataModel::data(const QModelIndex &amp;index, int role) const\n{\n    if (index.parent().isValid())\n        return QVariant();\n    if (index.isValid()) {\n        if (role == Qt::DisplayRole) {\n            qint64 pos = index.row()*kBytesPerRow + index.column();\n            if (pos&gt;=cachedData-&gt;FileSize())\n                return QString();\n            return QString(\"%1\").arg((unsigned char)cachedData-&gt;geByte(pos), 2, 0x10, QChar('0'));\n        } else if (role == Qt::SizeHintRole) {\n            return QSize(30, 30);\n        }\n    }\n\n    return QVariant();\n}\n\nvoid LageFileDataModel::setFileName(const QString &amp;fileName)\n{\n    beginResetModel();\n    cachedData-&gt;SetFileName(fileName);\n    endResetModel();\n}\n</code></pre>\n\n<p>Here is a cache implementation:</p>\n\n<pre><code>class LargeFileCache : public QObject\n{\n    Q_OBJECT\npublic:\n    explicit LargeFileCache(QObject *parent = 0);\n\n    char geByte(qint64 pos);\n    qint64 FileSize() const;\n\nsignals:\n\npublic slots:\n    void SetFileName(const QString&amp; filename);\n\nprivate:\n    static const int kPageSize;\n\n    struct Page {\n        qint64 offset;\n        QByteArray data;\n    };\n\nprivate:\n    int maxPageCount;\n    qint64 fileSize;\n\n    QFile file;\n    QQueue&lt;Page&gt; pages;\n};\n\n// ----- cpp file -----\n#include \"largefilecache.h\"\n\nconst int LargeFileCache::kPageSize = 1024*4;\n\nLargeFileCache::LargeFileCache(QObject *parent)\n    : QObject(parent)\n    , maxPageCount(1024)\n    , fileSize(0)\n{\n\n}\n\nchar LargeFileCache::geByte(qint64 pos)\n{\n    // largefilecache\n    if (pos&gt;=fileSize)\n        return 0;\n\n    for (int i=0, n=pages.size(); i&lt;n; ++i) {\n        int k = pos - pages.at(i).offset;\n        if (k&gt;=0 &amp;&amp; k&lt; pages.at(i).data.size()) {\n            pages.enqueue(pages.takeAt(i));\n            return pages.back().data.at(k);\n        }\n    }\n\n    Page newPage;\n    newPage.offset = (pos/kPageSize)*kPageSize;\n    file.seek(newPage.offset);\n    newPage.data = file.read(kPageSize);\n    pages.push_front(newPage);\n\n    while (pages.count()&gt;maxPageCount)\n        pages.dequeue();\n\n    return newPage.data.at(pos - newPage.offset);\n}\n\nqint64 LargeFileCache::FileSize() const\n{\n    return fileSize;\n}\n\nvoid LargeFileCache::SetFileName(const QString &amp;filename)\n{\n    file.close();\n    pages.clear();\n    file.setFileName(filename);\n    file.open(QFile::ReadOnly);\n    fileSize = file.size();\n}\n</code></pre>\n\n<p>I wrote cache manually since I was handling a row data, but you can use <a href=\"http://doc.qt.io/qt-5/qcache.html\" rel=\"nofollow noreferrer\">QCache</a> which should help you do a caching logic.</p>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 7782929, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Od70R8Izoso/AAAAAAAAAAI/AAAAAAAAWyI/cxiXW1xQ-1Y/photo.jpg?sz=128", "display_name": "Kwang-Chun Kang", "link": "https://stackoverflow.com/users/7782929/kwang-chun-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1493853041, "last_edit_date": 1495541878, "creation_date": 1493853041, "answer_id": 43771406, "question_id": 43767260, "link": "https://stackoverflow.com/questions/43767260/algorithm-for-splitting-large-amount-of-text-data/43771406#43771406", "title": "Algorithm for splitting large amount of text data", "body": "<p>It's my two cents,</p>\n\n<p>When I googled the similar question, I've found the answer from <a href=\"https://stackoverflow.com/questions/17925051/fast-textfile-reading-in-c\">Fast textfile reading in c++</a></p>\n\n<p>In short, Memory mapped files in the boost Lib. might be helpful not only for performance but also for handling a large amount of data.</p>\n\n<p>The sample in the link, I could check the number of lines and getting data from Lib.</p>\n\n<p>Good Luck</p>\n"}], "owner": {"reputation": 7400, "user_id": 4391177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zEh1N.jpg?s=128&g=1", "display_name": "Sumeet", "link": "https://stackoverflow.com/users/4391177/sumeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 43771056, "answer_count": 3, "score": 2, "last_activity_date": 1493853041, "creation_date": 1493835168, "question_id": 43767260, "link": "https://stackoverflow.com/questions/43767260/algorithm-for-splitting-large-amount-of-text-data", "title": "Algorithm for splitting large amount of text data", "body": "<p>I have a text area which i populate dynamically(<em>to be specific I have a QPlainTextEdit in Qt</em>, but its not important for algorithm suggestion).</p>\n\n<p>Now problem is sometimes Large amounts of data comes and as more data comes in my application becomes heavy,since all the text data is in main memory.</p>\n\n<p>So I thought of the following. We can use a file for storing all the text data and display only limited amount of data dynamically, but at the same time I have to illusion the user that the data size is that of the file, by creating scroll events that trigger when new lines comes.</p>\n\n<p>Is there any standard algorithm for such problem?</p>\n"}, {"tags": ["c++", "qt", "loops", "for-loop"], "comments": [{"owner": {"reputation": 787, "user_id": 5617186, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fed3c0195fbfde9e9a88951f59b5be5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5617186/rafael"}, "edited": false, "score": 0, "creation_date": 1493834373, "post_id": 43766995, "comment_id": 74575354, "body": "Can you please format your code properly? Also why are you using gotos?"}, {"owner": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "edited": false, "score": 0, "creation_date": 1493836809, "post_id": 43766995, "comment_id": 74576796, "body": "You could have done a better question format...."}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 2, "last_activity_date": 1493834637, "creation_date": 1493834637, "answer_id": 43767094, "question_id": 43766995, "link": "https://stackoverflow.com/questions/43766995/why-for-loops-dont-work-in-my-program/43767094#43767094", "title": "Why For loops don&#39;t work in my program?", "body": "<p>C++ doesn't \"jump\" over loops; your logic has a mistake.</p>\n\n<pre><code>for(i=0 ; i == Nmax ; i++)\n//          ^^\n</code></pre>\n\n<p>The condition of a loop is an \"as long as\" predicate, not an \"until\" predicate.</p>\n\n<p>None of your loops will ever be entered, because none of the conditions are ever met.</p>\n\n<p>So:</p>\n\n<pre><code>for (i = 0; i &lt; Nmax; i++)\n</code></pre>\n\n<p>etc.</p>\n\n<p>By the way, your code is extremely difficult to read. Lose the short variable names and gotos, while introducing documenting comments and meaningful indentation.</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 7958721, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211437655288913/picture?type=large", "display_name": "Tony Val", "link": "https://stackoverflow.com/users/7958721/tony-val"}, "is_accepted": false, "score": 3, "last_activity_date": 1493834730, "creation_date": 1493834730, "answer_id": 43767126, "question_id": 43766995, "link": "https://stackoverflow.com/questions/43766995/why-for-loops-dont-work-in-my-program/43767126#43767126", "title": "Why For loops don&#39;t work in my program?", "body": "<p>Try using <code>i &lt; Nmax</code> instead of <code>i == Nmax</code>.</p>\n\n<p>The reason it's skipping over your for loops is because <code>i</code> never equals <code>Nmax</code>. You're using <code>i == Nmax</code> as your check in all your for loops.</p>\n\n<p>In <code>for(i=0 ; i == Nmax ; i++)</code>, you're setting <code>i</code> equal to 0, and then checking if it equals <code>Nmax</code> (41), which is not true, and so it never goes into the loop, not even once.</p>\n"}], "owner": {"reputation": 127, "user_id": 3541065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7fBFC.png?s=128&g=1", "display_name": "Roh", "link": "https://stackoverflow.com/users/3541065/roh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 43767094, "answer_count": 2, "score": -6, "last_activity_date": 1493834730, "creation_date": 1493834276, "question_id": 43766995, "link": "https://stackoverflow.com/questions/43766995/why-for-loops-dont-work-in-my-program", "title": "Why For loops don&#39;t work in my program?", "body": "<p>Just wrote a program but I don't know why all For loops don't work in my program. here is my program:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;QtMath&gt;\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n#define NMAX 41\n#define sum NMAX+2\n    double_t  Xi = 0, Xf = 2;\n#define DELX (Xf - Xi)/(NMAX-1)\n\n    // Sample input data\n    quint32 Nmax = NMAX;\n    quint32 Uinf = 10;\n    quint32 KASE = 0;\n    double_t Cnu = 0.0002, X[NMAX] , S[sum] , Ue[NMAX] , Y[NMAX] , DELx = DELX , Cf=0 , Vsum=0 , F1=0 , F2=0 , Y2=1 , DUDS=0 , Const=0 , SThetha=0 , R0=0 , Thetha=0 , BLan=0 , H1=0 , S1=0 , Dels=0;\n    quint32 i=0;\n    QString text = \"                        Thwaites-Walz Method\\n Input: Nmax , Cnu , Uinf , KASE\\n\";\n    text.append(\"               \");\n    QString str = QVariant(Nmax).toString();\n    text.append(str);\n    text.append(\"    \");\n    str = QVariant(Cnu).toString();\n    text.append(str);\n    text.append(\"    \");\n    str = QVariant(Uinf).toString();\n    text.append(str);\n    text.append(\"    \");\n    str = QVariant(KASE).toString();\n    text.append(str);\n    text.append(\"  \\n\");\n\n    for(i=0 ; i == Nmax ; i++) {\n        X[i] = Xi + (i - 1)*DELx;\n                if(KASE==0){Y[i]=0;}\n                    if(X[i]&lt;1){Ue[i]=10;}\n                     else {\n                    Ue[i] = 10.5-(X[i]/2);\n            }\n    }\n    i=0;\n    S[1]=0;\n    for(i=2 ; i == Nmax ; i++){\n        S[1]=S[i-1]+(X[i]-X[i-1]);\n    }\n    i=0;\n    for(i=1 ; i==Nmax ; i++){\n        if(KASE==2){\n            Y2=Y[i]*Y[i];\n        }\n        F2 = Y2*qPow(Ue[i],5);\n        if(i==1){\n            goto chehel;\n        }\n        if(i==2 &amp;&amp; 1 &lt;= KASE){\n            goto chehel;\n        }\n        Vsum = Vsum + (0.5*(F1+F2)*(S[i]-S[i-1]));\n        if(Ue[i]!= 0){\n            DUDS = (Ue[i] - Ue[i-1])/(S[i] - S[i-1]);\n        }\n        Const = 0.45*Cnu/(F2*Ue[i]);\n        SThetha = Const*Vsum;\n        goto navad;\n        chehel:\n        DUDS = (Ue[2]-Ue[1])/S[2];\n        SThetha = 0;\n        if(KASE==1){DUDS=2*Uinf/R0;}\n        if(KASE==1){SThetha=0.075*Cnu/DUDS;}\n        if(KASE==2){DUDS=3*Uinf/2/R0;}\n        if(KASE==2){SThetha=0.056*Cnu/DUDS;}\n\n        navad:\n        Thetha = qSqrt(SThetha);\n        BLan = SThetha*DUDS/Cnu;\n        if(BLan &lt; 0){\n            goto navadshesh;\n        }\n        H1 = 2.61-(3.75*BLan)+(5.24*BLan*BLan);\n        S1 = 0.22+(1.57*BLan)-(1.8*BLan*BLan);\n\n        goto navadhaft;\n\n        navadshesh:\n        H1 = 2.088+0.0731/(0.14+BLan);\n        S1 = 0.22+(1.402*BLan)+0.018*BLan/(0.107+BLan);\n\n        navadhaft:\n        Dels = Thetha*H1;\n        if(i &gt; 1 &amp;&amp; Ue[i] != 0){\n            Cf = 2*Cnu*S1/(Ue[i]*Thetha);\n        }\n        if(BLan &lt;= -0.09){\n            text.append(\".....Separation at or before S=\");\n            str = QVariant(S[i]).toString();\n            text.append(str);\n            text.append(\"   \\n\");\n        }\n        str = QVariant(i).toString();\n        text.append(str);\n        text.append(\"    \");\n        str = QVariant(S[i]).toString();\n        text.append(str);\n        text.append(\"    \");\n        str = QVariant(Dels).toString();\n        text.append(str);\n        text.append(\"    \");\n        str = QVariant(Thetha).toString();\n        text.append(str);\n        text.append(\"    \");\n        str = QVariant(H1).toString();\n        text.append(str);\n        text.append(\"    \");\n        str = QVariant(Cf).toString();\n        text.append(str);\n        text.append(\"  \\n\");\n        F1=F2;\n\n    }\n\n\n\n    ui-&gt;textEdit-&gt;setText(str);\n    ui-&gt;textEdit-&gt;setText(\"Walz program\\n     N    |    S    |    DELTS    |    THETA    |    H    |    Cf    |\\n 564565\");\n    ui-&gt;textEdit-&gt;setText(text);\n\n}\n</code></pre>\n\n<p>When I debug it in Qt, the debuger jumps over the loops. I don't get why? what's the problem? this is the output that I get when I run the program and click on \"calculate\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/aaUYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aaUYU.png\" alt=\"image1\"></a></p>\n\n<p>It sounds, the program works just until first For loop.</p>\n"}, {"tags": ["c++", "cin"], "comments": [{"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1493833726, "post_id": 43766818, "comment_id": 74574970, "body": "char x, while(x != &#39;q&#39;) {cin.get();}"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1493833816, "post_id": 43766818, "comment_id": 74575018, "body": "How are you learning C++?  <code>cin.get();</code> is not going to read in 10 numbers and it also it not storing what it did read in into anything. Sounds like you could use a <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">good C++ book</a>"}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493834147, "post_id": 43766874, "comment_id": 74575216, "body": "I recommend using <code>cin.ignore</code>, as in <code>cin.ignore(100000, &#39;\\n&#39;)</code>.  This will ignore characters until a newline is entered."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1493834171, "post_id": 43766874, "comment_id": 74575238, "body": "@ThomasMatthews: I don&#39;t. There is no need for such tricks here"}, {"owner": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 0, "creation_date": 1493835207, "post_id": 43766874, "comment_id": 74575854, "body": "@BoundaryImposition I meant to ask you that, been a long day."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 144, "user_id": 7931772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf1fc1338fb0cdb5d9d9a5ae7da6ef6?s=128&d=identicon&r=PG&f=1", "display_name": "RH6", "link": "https://stackoverflow.com/users/7931772/rh6"}, "edited": false, "score": 1, "creation_date": 1493835232, "post_id": 43766874, "comment_id": 74575868, "body": "@RH6: Okay well as I&#39;ve said a couple of times, my suggestion is <i>don&#39;t</i>! I gave some tips in the linked Q&amp;A."}, {"owner": {"reputation": 259, "user_id": 7886227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hec3U.jpg?s=128&g=1", "display_name": "Dr t", "link": "https://stackoverflow.com/users/7886227/dr-t"}, "edited": false, "score": 1, "creation_date": 1493836011, "post_id": 43766874, "comment_id": 74576321, "body": "simplest way is to add &quot;pause&quot; to the PROJECT/name PROPERTIES/DEBUGGING Command Arguments in the project and use CTRL + F5 to run the project after it has been compiled.  @BoundarImposition is right in pointing out that your program should only do what is it supposed to do ...no more and no less."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 4, "last_activity_date": 1493833851, "last_edit_date": 1495540477, "creation_date": 1493833851, "answer_id": 43766874, "question_id": 43766818, "link": "https://stackoverflow.com/questions/43766818/why-is-my-application-closing-even-though-i-have-cin-get/43766874#43766874", "title": "Why is my application closing even though I have cin.get();?", "body": "<p><code>cin.get()</code> consumes a single character from your input stream.</p>\n\n<p>If there isn't one already there, the program will block waiting for one, which is your expectation.</p>\n\n<p>However, there <em>is</em> one there: the newline from the <kbd>Enter</kbd> keypress after your last <code>cin &gt;&gt; v[i]</code> operation.</p>\n\n<p><a href=\"https://stackoverflow.com/a/36374595/560648\">Don't use <code>cin.get()</code> to keep your application running at the end, anyway</a>.</p>\n\n<p>By the way, your program's logic is flawed; you seem to prompt for positive numbers, then introduce the output, before actually asking for any input.</p>\n\n<p>How about something like this:</p>\n\n<pre><code>int main()\n{\n    const int num = 10;\n    int n[num] = { 0 };\n\n    cout &lt;&lt; \"Welcome to the program. Enter \" &lt;&lt; num  &lt;&lt; \" positive numbers: \" &lt;&lt; endl;\n    const float average = medel(n, num);\n    cout &lt;&lt; \"The average of the numbers entered is: \" &lt;&lt; average &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Find a way <em>outside</em> of your program to keep the terminal window open, if it's not already. That's not your program's job.</p>\n"}], "owner": {"reputation": 402, "user_id": 5693405, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3q6mT.png?s=128&g=1", "display_name": "VargaDev", "link": "https://stackoverflow.com/users/5693405/vargadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493834486, "creation_date": 1493833614, "question_id": 43766818, "link": "https://stackoverflow.com/questions/43766818/why-is-my-application-closing-even-though-i-have-cin-get", "title": "Why is my application closing even though I have cin.get();?", "body": "<p>So as the title says, I dont want to use system(\"pause\") because I dont want to develop a bad habbit.\nAnd I cant figure out why it keeps closing even though I have cin.get();</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nfloat medel(int v[], int n)\n{\n    float res = 0.0;\n\n    for (int i = 0; i &lt; n; i++) \n\n    {\n        cin &gt;&gt; v[i];\n\n        res += ((double)v[i] / n);\n    }\n\n    return res;\n\n\n}\n\nint main() {\n    const int num = 10;\n    int n[num] = { 0 };\n\n    cout &lt;&lt; \"Welcome to the program. Enter 10 positive numbers: \" &lt;&lt; endl;;\n    cin.get();\n    cout &lt;&lt; \"The average of ten numbers entered is: \" &lt;&lt; medel(n, num) &lt;&lt; endl;\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qresource"], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "edited": false, "score": 0, "creation_date": 1493839040, "post_id": 43768216, "comment_id": 74578006, "body": "It can be a newbie question but, how do I know that some QResource is pointing to what I&#39;m unregistering? The only action that I take is call register and unregister. I don&#39;t have a qResource object, I just call the static methods..."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "edited": false, "score": 1, "creation_date": 1493839179, "post_id": 43768216, "comment_id": 74578077, "body": "Usually we can know if library can return reference count.... I will investigate a bit.... please try from your side too.."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "edited": false, "score": 0, "creation_date": 1493843806, "post_id": 43768216, "comment_id": 74580513, "body": "<a href=\"https://code.woboq.org/qt5/qtbase/src/corelib/io/qresource.cpp.html\" rel=\"nofollow noreferrer\">code.woboq.org/qt5/qtbase/src/corelib/io/qresource.cpp.html</a>.&zwnj;&#8203;... you can see the implementation of unregisterResource.. Search for &quot;QResource::unregisterResource&quot; in above link. They are using &quot; QDynamicFileResourceRoot&quot; to know about the further references. I do not think Qt expose this level of library classes. Or if you badly need it, you can create a wrapper class for registering an unregistering and maintain the count."}, {"owner": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "edited": false, "score": 1, "creation_date": 1493920385, "post_id": 43768216, "comment_id": 74619940, "body": "Yes I can see there. I don&#39;t think I&#39;ll create some wrapper to control that. I&#39;ve just implemented the same logic flow in another sub app and it works fine. Somewhere in the code must be referencing resources in a bad way. I&#39;ll keep looking for that .... But thanks for the help!"}], "tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1493838793, "creation_date": 1493838793, "answer_id": 43768216, "question_id": 43766738, "link": "https://stackoverflow.com/questions/43766738/qresource-unregister-rcc-files/43768216#43768216", "title": "QResource: unregister .rcc files", "body": "<p><code>unregisterResource</code> returns true if the resource is successfully unloaded <strong>and</strong> no references exist for the resource.</p>\n\n<p>So in your case there could be still some more references from some other forms.</p>\n\n<p>Important documentation with respect to <code>unregisterResource</code>:</p>\n\n<p><strong><em>If there are QResources that currently reference resources related to the unregistered file, they will continue to be valid but the resource file itself will be removed from the resource roots, and thus no further QResource can be created pointing into this resource data. The resource itself will be unmapped from memory when the last QResource that points to it is destroyed.</em></strong></p>\n\n<p>So my strong guess is some <code>QResource</code> is still pointing to the one that you tried to unregister.</p>\n"}], "owner": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 43768216, "answer_count": 1, "score": 0, "last_activity_date": 1493838793, "creation_date": 1493833301, "question_id": 43766738, "link": "https://stackoverflow.com/questions/43766738/qresource-unregister-rcc-files", "title": "QResource: unregister .rcc files", "body": "<p>We  have an application with multiple themes, whom calls other minor apps. So, on main app there is something like that:</p>\n\n<pre><code>// User opens app with theme A\nQResource::registerResource(\"theme_a.rcc\");      // returns TRUE\n\n// User changes theme to B\nQResource::unregisterResource(\"theme_a.rcc\");    // returns TRUE\nQResource::registerResource(\"theme_b.rcc\");      // returns TRUE\n</code></pre>\n\n<p>Everything works fine on main application. The problem begins when this software calls other qt apps. </p>\n\n<p>Inside those minor apps we follow the same flow of register and unregister. The weird part is that register always works and unregister never works (only inside minors apps). It's happening something like that:</p>\n\n<pre><code>// User opens app with theme A\nQResource::registerResource(\"minor_theme_a.rcc\");      // returns TRUE\n\n// User changes theme to B\nQResource::unregisterResource(\"minor_theme_a.rcc\");    // returns FALSE\nQResource::registerResource(\"minor_theme_b.rcc\");      // returns TRUE\n</code></pre>\n\n<p>Why is it happening? Is there a solution?</p>\n"}, {"tags": ["c++", "qt", "qthread", "qprocess"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1493833428, "post_id": 43766559, "comment_id": 74574790, "body": "Why not just listen to the <code>finished()</code> signal instead?"}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1493834048, "post_id": 43766559, "comment_id": 74575158, "body": "@MrEricSir you are correct.... Here is an article <a href=\"http://www.qtcentre.org/threads/26067-Article-How-to-QProcess-in-QThread\" rel=\"nofollow noreferrer\">qtcentre.org/threads/26067-Article-How-to-QProcess-in-QThrea&zwnj;&#8203;d</a>"}, {"owner": {"reputation": 69, "user_id": 7359218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-R4HXxxQgLsg/AAAAAAAAAAI/AAAAAAAAAHw/NOmHK42erfk/photo.jpg?sz=128", "display_name": "LetTheWritersWrite", "link": "https://stackoverflow.com/users/7359218/letthewriterswrite"}, "edited": false, "score": 0, "creation_date": 1493836195, "post_id": 43766559, "comment_id": 74576441, "body": "I&#39;m confused. The article shows how to make a process in a new thread but the commenters are saying this is bad. Which is it?"}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1493842617, "post_id": 43766559, "comment_id": 74579887, "body": "@LetTheWritersWrite the comments in the article say it&#39;s bad idea because the new thread is doing nothing other than starting the process ... bad idea or not depends on the context, otherwise, I don&#39;t see any &quot;technical&quot; reasons that make QProcess not usable with QThread"}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1493843039, "post_id": 43766559, "comment_id": 74580097, "body": "and yes, you can use QThread and start you QProcess in a thread worker. There is a very good example in <a href=\"http://doc.qt.io/qt-4.8/qthread.html\" rel=\"nofollow noreferrer\">doc.qt.io/qt-4.8/qthread.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 7359218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-R4HXxxQgLsg/AAAAAAAAAAI/AAAAAAAAAHw/NOmHK42erfk/photo.jpg?sz=128", "display_name": "LetTheWritersWrite", "link": "https://stackoverflow.com/users/7359218/letthewriterswrite"}, "edited": false, "score": 0, "creation_date": 1493860538, "post_id": 43768513, "comment_id": 74585772, "body": "I see, I need to access the process&#39; <code>finished()</code> signal. I just realized <code>QProcess::NotRunning</code> isn&#39;t even working in my code. I read somewhere that I could do that but it&#39;s completely wrong. So what you&#39;re suggesting is making a recursive connection that will start my function after each finish, and within my function I&#39;ll just have an if statement to check the QList if empty. Could you help me with making a connection. I can&#39;t understand what the docs are saying. They use a lambda and doesn&#39;t even specify if I need to create an object or anything for making a connection."}, {"owner": {"reputation": 69, "user_id": 7359218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-R4HXxxQgLsg/AAAAAAAAAAI/AAAAAAAAAHw/NOmHK42erfk/photo.jpg?sz=128", "display_name": "LetTheWritersWrite", "link": "https://stackoverflow.com/users/7359218/letthewriterswrite"}, "edited": false, "score": 0, "creation_date": 1493864559, "post_id": 43768513, "comment_id": 74586827, "body": "I figured out how to create the connection and have my code above as a slot and calls it recursively. Worked perfect! I got rid of the <code>do while</code> loop and replaced it with an if statement to check the renderQueueList if empty before starting the process again. Thanks so much!"}], "tags": [], "owner": {"reputation": 7894, "user_id": 316748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f577ad8d5b9147f47426fda027be89?s=128&d=identicon&r=PG", "display_name": "Torp", "link": "https://stackoverflow.com/users/316748/torp"}, "is_accepted": true, "score": 4, "last_activity_date": 1493839928, "creation_date": 1493839928, "answer_id": 43768513, "question_id": 43766559, "link": "https://stackoverflow.com/questions/43766559/is-this-an-appropriate-time-to-use-qthread-with-qprocess/43768513#43768513", "title": "Is this an appropriate time to use QThread with QProcess?", "body": "<p>QProcess already executes in a different process, i.e. asynchronously with your application.</p>\n\n<p>When you call waitForFinished() the application locks up until the process in QProcess finishes. You need to connect instead to the finished() and probably errorOccured() signals, and then your application will keep running while the QProcess runs in the background.</p>\n\n<p>You'll need to change that loop to a check that the queue isn't empty and a new process start on the finished() signal.</p>\n\n<p>If you run a QThread that runs QProcesses and does waitForFinished() you will free the main application thread indeed, but it's a pointless extra layer when QProcess is asynchronous already and you have have finished() to let you know when it's done without locking up a thread, be it the UI thread or a separate one.</p>\n"}], "owner": {"reputation": 69, "user_id": 7359218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-R4HXxxQgLsg/AAAAAAAAAAI/AAAAAAAAAHw/NOmHK42erfk/photo.jpg?sz=128", "display_name": "LetTheWritersWrite", "link": "https://stackoverflow.com/users/7359218/letthewriterswrite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1486, "favorite_count": 2, "accepted_answer_id": 43768513, "answer_count": 1, "score": 1, "last_activity_date": 1493839928, "creation_date": 1493832652, "last_edit_date": 1493839198, "question_id": 43766559, "link": "https://stackoverflow.com/questions/43766559/is-this-an-appropriate-time-to-use-qthread-with-qprocess", "title": "Is this an appropriate time to use QThread with QProcess?", "body": "<p>I'm making a render job manager for blender. I have a class that builds up a queue of render jobs and then you click Start and it begins rendering one at a time with a loop. My problem is that the <code>waitForFinished()</code> method holds up my entire program. But I've read that you shouldn't use <code>QThread</code> with <code>QProcess</code>.</p>\n\n<p>This is how the loop works.</p>\n\n<pre><code>do{        \nif(myProcess-&gt;state() == QProcess::NotRunning) {\n\n            myProcess-&gt;setProgram(blenderPath);\n            myProcess-&gt;setArguments(arguments);\n            myProcess-&gt;start();\n            myProcess-&gt;waitForFinished(-1);\n\n            //Get rid of current rendering job to prepare for the next job\n            renderQueueList.pop_front();\n        }\n\n       }while(renderQueueList.empty() != true);\n</code></pre>\n\n<p>Can I use a separate thread to launch QProcess and what would be the best way to do this? I've read that you make an abstract of QThread or use signals and slots but it's so confusing, specially when I need to pass arguments to the process.</p>\n\n<p>Thank you.</p>\n\n<p>Edit: \nI want to add that the process must finish before running a new process. It has to go in order. That's why I think I need the process to run in its own thread. </p>\n"}, {"tags": ["python", "c++", "boost", "dlib"], "comments": [{"owner": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "edited": false, "score": 0, "creation_date": 1498762141, "post_id": 43766479, "comment_id": 76646221, "body": "&quot;When it completes, set BOOST_LIBRARYDIR equal to wherever b2 put the compiled libraries.&quot;  - BUT where is it?? Can not find it."}, {"owner": {"reputation": 31, "user_id": 7958718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579f58de23ac4634b5e0de08303ad852?s=128&d=identicon&r=PG&f=1", "display_name": "Oxana Marina", "link": "https://stackoverflow.com/users/7958718/oxana-marina"}, "reply_to_user": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "edited": false, "score": 0, "creation_date": 1499678341, "post_id": 43766479, "comment_id": 76989794, "body": "@Suisse if you are still searching for the answer, then look for directory such as &quot;C:\\Users\\...\\boost_1_64_0\\stage\\lib&quot;"}, {"owner": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "edited": false, "score": 0, "creation_date": 1499698322, "post_id": 43766479, "comment_id": 77004272, "body": "I have thrown my Windows Laptop in the trash and got a Mac. No Problem anymore. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7958718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579f58de23ac4634b5e0de08303ad852?s=128&d=identicon&r=PG&f=1", "display_name": "Oxana Marina", "link": "https://stackoverflow.com/users/7958718/oxana-marina"}, "is_accepted": false, "score": 1, "last_activity_date": 1493848367, "creation_date": 1493848367, "answer_id": 43770612, "question_id": 43766479, "link": "https://stackoverflow.com/questions/43766479/dlib-installing-error-could-not-find-boost/43770612#43770612", "title": "Dlib installing error: Could NOT find Boost", "body": "<p>As usual for me, I found the answer, as soon as I asked question. So, if someone will get the same issue:</p>\n\n<p>To solve his problem I deleted Anaconda and installed only Python(3.5.0). Then updated dlib using PyCharm. And again, excuse my bad English, please.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9194602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kzMML.jpg?s=128&g=1", "display_name": "C. Parra Rojas", "link": "https://stackoverflow.com/users/9194602/c-parra-rojas"}, "is_accepted": false, "score": 1, "last_activity_date": 1515520200, "creation_date": 1515520200, "answer_id": 48173999, "question_id": 43766479, "link": "https://stackoverflow.com/questions/43766479/dlib-installing-error-could-not-find-boost/48173999#48173999", "title": "Dlib installing error: Could NOT find Boost", "body": "<p>If anyone still has this problem, try changing all calls to FIND_PACKAGE inside dlib\\cmake_utils\\add_python_module from 'Boost' to 'boost'. Worked for me.</p>\n\n<p>If, after finding boost, the installation tries to open python27.lib and fails:</p>\n\n<ol>\n<li>Remove boost.</li>\n<li>Repeat steps 2--6 from the original question AFTER activating your py36 environment in Anaconda.</li>\n<li>Re-run the dlib setup.</li>\n</ol>\n\n<p>The latter was a stupid mistake of mine, but just in case.</p>\n"}], "owner": {"reputation": 31, "user_id": 7958718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579f58de23ac4634b5e0de08303ad852?s=128&d=identicon&r=PG&f=1", "display_name": "Oxana Marina", "link": "https://stackoverflow.com/users/7958718/oxana-marina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3573, "favorite_count": 0, "protected_date": 1587297080, "answer_count": 2, "score": 2, "last_activity_date": 1587297384, "creation_date": 1493832412, "last_edit_date": 1493832818, "question_id": 43766479, "link": "https://stackoverflow.com/questions/43766479/dlib-installing-error-could-not-find-boost", "title": "Dlib installing error: Could NOT find Boost", "body": "<p>(Please, excuse my bad English!) Got into trap while trying to install dlib library on my computer(Windows 10 Pro, 64x), but all the time get the same error: Could NOT find Boost</p>\n\n<p>What I have already done:</p>\n\n<ol>\n<li>Installed Visual Studio Community 2017 version 15.1</li>\n<li>Installed Anaconda:  Python 3.6.0\n|Anaconda 4.3.1 (64-bit)| (default, Dec 23 2016, 11:57:41) [MSC v.1900 64 bit (AMD64)] on win32</li>\n<li>Downloaded boost_1_64_0.7z and unpacked it</li>\n<li>Ran bootstrap</li>\n<li><code>b2 -a --with-python address-model=64 toolset=msvc runtime-link=static</code></li>\n</ol>\n\n<p>got the message: <code>The Boost C++ Libraries were successfully built!</code></p>\n\n<p>6.Next:</p>\n\n<pre><code>    set BOOST_LIBRARYDIR=C:\\Users\\Lelek\\boost_1_64_0\\stage\\lib\n    set BOOST_INCLUDEDIR=C:\\Users\\Lelek\\boost_1_64_0\n    set BOOST_ROOT=C:\\Users\\Lelek\\boost_1_64_0\n    set PATH=%PATH%;%BOOST_ROOT%;%BOOST_LIBRARYDIR%\n</code></pre>\n\n<p>7. On this stage if I try to <code>run python setup.py install</code> from dlib directory I get the output (the same error appears when try to call <code>cmake -G \"Visual Studio 15 2017 Win64\" -DPYTHON3=1 .\\tools\\python</code>):</p>\n\n<pre><code>    CMake Warning at C:/Program Files/Cmake/share/cmake-3.8/Modules/FindBoost.cmake:1521 (message):\n    No header defined for python-py34; skipping header check\n    Call Stack (most recent call first):\n    C:/Users/Lelek/dlib-19.4/dlib/cmake_utils/add_python_module:61(FIND_PACKAGE)\n    CMakeLists.txt:6 (include)\n    -- Could NOT find Boost\n    CMake Warning at C:/Program Files/Cmake/share/cmake-3.8/Modules/FindBoost.cmake:1521 (message):\n    No header defined for python-py35; skipping header check\n    Call Stack (most recent call first):\n    C:/Users/Lelek/dlib-19.4/dlib/cmake_utils/add_python_module:63 (FIND_PACKAGE)\n    CMakeLists.txt:6 (include)\n    -- Could NOT find Boost\n    CMake Warning at C:/Program Files/Cmake/share/cmake-3.8/Modules/FindBoost.cmake:1521 (message):\n    No header defined for python3; skipping header check\n    Call Stack (most recent call first):\n    C:/Users/Lelek/dlib-19.4/dlib/cmake_utils/add_python_module:66 (FIND_PACKAGE)\n    CMakeLists.txt:6 (include)\n    -- Could NOT find Boost\n    -- Could NOT find Boost\n    -- Found PythonLibs: C:/ProgramData/Anaconda3/libs/python36.lib (found suitable version \"3.6.0\", minimum required is \"3.4\")\n</code></pre>\n\n<hr>\n\n<pre><code>-- We couldn't find the right version of boost python.  If you installed boost and you are still getting this error then you might have installed a version of boost that was compiled with a different version of visual studio than the one you are using.  So you have to make sure that the version of visual studio is the same version that was used to compile the copy of boost you are using.\n--  Set the BOOST_ROOT and BOOST_LIBRARYDIR environment variables before running cmake.\n--  E.g.  Something like this:\n--     set BOOST_ROOT=C:\\local\\boost_1_57_0\n--     set BOOST_LIBRARYDIR=C:\\local\\boost_1_57_0\\stage\\lib\n--\n--  You will also likely need to compile boost yourself rather than using one of the precompiled\n--  windows binaries.  Do this by going to the folder tools\\build\\ within boost and running\n--  bootstrap.bat.  Then run the command:\n--     b2 install\n--  And then add the output bin folder to your PATH.  Usually this is the C:\\boost-build-engine\\bin\n--  folder. Finally, go to the boost root and run a command like this:\n--     b2 -a --with-python address-model=64 toolset=msvc runtime-link=static\n--  When it completes, set BOOST_LIBRARYDIR equal to wherever b2 put the compiled libraries.\n--  Note that you will need to set the address-model based on if you want a 32 or 64bit python library.\n--\n--  Next, when you invoke cmake to compile dlib you may have to use cmake's -G option to set the\n--  64 vs. 32bit mode of visual studio.  Also, if you want a Python3 library you will need to\n--  add -DPYTHON3=1.  You do this with a statement like:\n--     cmake -G \"Visual Studio 12 2013 Win64\" -DPYTHON3=1 ..\\..\\tools\\python\n--  Rather than:\n--     cmake ..\\..\\tools\\python\n--  Which will build a 32bit Python2 module by default on most systems.\n--\n--  \n</code></pre>\n\n<hr>\n\n<pre><code>CMake Error at C:/Users/Lelek/dlib-19.4/dlib/cmake_utils/add_python_module:116 (message):\n   Boost python library not found.\nCall Stack (most recent call first):\n  CMakeLists.txt:6 (include)\n\n-- Configuring incomplete, errors occurred!\nSee also \"C:/Users/Lelek/dlib-19.4/tools/python/build/CMakeFiles/CMakeOutput.log\".\n\nerror: cmake configuration failed!\n</code></pre>\n"}, {"tags": ["c++", "file", "text", "fstream", "ofstream"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1493832860, "post_id": 43766410, "comment_id": 74574464, "body": "Define &quot;save the changes to the current file&quot;. What does that mean?"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 2, "creation_date": 1493832867, "post_id": 43766410, "comment_id": 74574471, "body": "a safer method is to write a new file (copying from the original if you like), then close them both, swap them, and delete the old one. It&#39;s called 2-phase commit and it&#39;s been the way to safely modify files since computers were invented."}, {"owner": {"reputation": 699, "user_id": 5921207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hRLIM.jpg?s=128&g=1", "display_name": "Falla Coulibaly", "link": "https://stackoverflow.com/users/5921207/falla-coulibaly"}, "edited": false, "score": 0, "creation_date": 1493832992, "post_id": 43766410, "comment_id": 74574534, "body": "Using <code>ofstream</code> with the &quot;current file&quot; name as parameter for the constructor will overwrite it."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493833094, "post_id": 43766410, "comment_id": 74574584, "body": "Can you explain why you chose to use <code>std::ios::app</code> if you instead want to overwrite the existing contents? What was the thought process that led to this decision?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1493833132, "post_id": 43766410, "comment_id": 74574608, "body": "@RichardHodges: &quot;since computers were invented&quot; is a bit of a reach ;)"}, {"owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "edited": false, "score": 0, "creation_date": 1493833347, "post_id": 43766410, "comment_id": 74574742, "body": "I use std::ios::app because if I don&#39;t set it I lose the first lines from the file"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493833405, "post_id": 43766410, "comment_id": 74574776, "body": "@BoundaryImposition ok, since magnetic tape storage was invented in 1951 :)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1493833508, "post_id": 43766410, "comment_id": 74574843, "body": "@GeorgiGenchev: Okay, programming by guessing doesn&#39;t work. Clearly <code>std::ios::app</code> is going to be wrong, based on its definition. So that is not a solution. The solution is to not try reading from and writing to the same file at the same time!"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493833573, "post_id": 43766778, "comment_id": 74574885, "body": "OP needs more than this, due to taking the to-write data from the same file at the same time."}, {"owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "edited": false, "score": 0, "creation_date": 1493834193, "post_id": 43766778, "comment_id": 74575246, "body": "Thank you, this helped. I managed to do it, just had to close the file from which I fill the buffer and then declare the ofstream."}], "tags": [], "owner": {"reputation": 132, "user_id": 7958721, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211437655288913/picture?type=large", "display_name": "Tony Val", "link": "https://stackoverflow.com/users/7958721/tony-val"}, "is_accepted": true, "score": 5, "last_activity_date": 1493833743, "last_edit_date": 1493833743, "creation_date": 1493833466, "answer_id": 43766778, "question_id": 43766410, "link": "https://stackoverflow.com/questions/43766410/overwrite-an-existing-text-file-c/43766778#43766778", "title": "Overwrite an existing text file c++", "body": "<p>Use <code>ios::trunc</code> instead of <code>ios::app</code></p>\n\n<p>Using <code>std::ios::app</code> in the constructor for your <code>std::ofstream</code> tells the program to append to the file and not overwrite it. If you want to overwrite it (ie truncate), then using <code>std::ios::trunc</code> will tell the program to overwrite the existing file. <code>ofstream</code> does this by default, so you could just write the initialization as just <code>std::ofstream newFile(filePath);</code>.</p>\n\n<p>Also, don't try to read the file and write to it at the same time; that won't work. Use <code>ifstream</code> to get the data into the buffer, then use <code>close()</code> to close the file. Then initialize newFile to overwrite the file and write out the buffer.</p>\n"}], "owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15751, "favorite_count": 0, "accepted_answer_id": 43766778, "answer_count": 1, "score": -1, "last_activity_date": 1493833743, "creation_date": 1493832136, "last_edit_date": 1493832391, "question_id": 43766410, "link": "https://stackoverflow.com/questions/43766410/overwrite-an-existing-text-file-c", "title": "Overwrite an existing text file c++", "body": "<p>This is how my Save As works - it is copying the current file's lines until it reaches the first figure and then I use my print methods to print the figure's info and then close the  tag.</p>\n\n<pre><code>std::ofstream newFile(filePath1_fixed, std::ios::app);\nstd::fstream openedFile(filePath);\nstd::string line1;\nwhile (std::getline(openedFile, line1)) {\n    if (line1.find(\"&lt;rect\") != std::string::npos\n        || line1.find(\"&lt;circle\") != std::string::npos\n        || line1.find(\"&lt;line\") != std::string::npos)\n        break;\n    newFile &lt;&lt; line1 &lt;&lt; std::endl;\n}\nfigc.printToFile(newFile);\nnewFile &lt;&lt; \"&lt;/svg&gt;\\n\";\n</code></pre>\n\n<p>My question is how to save the changes to the current file? I tried something like this:</p>\n\n<pre><code>std::ifstream openedFile(filePath);\nstd::ofstream newFile(filePath, std::ios::app);\nstd::string line1;\nstd::string info_beg[100];\nint t = 0;\nwhile (std::getline(openedFile, line1)) {\n    std::cout &lt;&lt; \"HELLYEAH\";\n    if (line1.find(\"&lt;rect\") != std::string::npos\n        || line1.find(\"&lt;circle\") != std::string::npos\n        || line1.find(\"&lt;line\") != std::string::npos)\n        break;\n    info_beg[t++] = line1;\n}\nfor (int i = 0; i &lt; t; i++)\n    newFile &lt;&lt; info_beg[i] &lt;&lt; std::endl;\nfigc.printToFile(newFile);\nnewFile &lt;&lt; \"&lt;/svg&gt;\\n\";\n</code></pre>\n\n<p>This is the nearest I've gone. I get this:</p>\n\n<pre><code>  &lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \n  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;\n&lt;svg width=\"12cm\" height=\"4cm\" viewBox=\"0 0 1200 400\"\n     xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"&gt;\n  &lt;desc&gt;Example rect01 - rectangle with sharp corners&lt;/desc&gt;\n\n  &lt;!-- Show outline of canvas using 'rect' element --&gt;\n  &lt;rect x=\"1\" y=\"1\" width=\"1198\" height=\"398\"\n        fill=\"none\" stroke=\"blue\" stroke-width=\"2\" /&gt;\n\n  &lt;line x1=\"20\" y1=\"100\" x2=\"100\" y2=\"20\"\n        stroke=\"red\" stroke-width=\"2\" /&gt;\n\n  &lt;rect x=\"20\" y=\"30\" width=\"40\" height=\"50\"\n        fill=\"red\" stroke=\"red\" stroke-width=\"1\" /&gt;\n\n  &lt;rect x=\"10\" y=\"20\" width=\"30\" height=\"40\"\n        fill=\"red\" stroke=\"blue\" stroke-width=\"1\" /&gt;\n\n  &lt;line x1=\"100\" y1=\"200\" x2=\"300\" y2=\"400\"\n        stroke=\"red\" stroke-width=\"2\" /&gt;\n\n  &lt;circle cx=\"10\" cy=\"20\" r=\"30\"\n        fill=\"red\" stroke=\"blue\" stroke-width=\"2\" /&gt;\n\n&lt;/svg&gt;\n&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \n  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;\n&lt;svg width=\"12cm\" height=\"4cm\" viewBox=\"0 0 1200 400\"\n     xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"&gt;\n  &lt;desc&gt;Example rect01 - rectangle with sharp corners&lt;/desc&gt;\n\n  &lt;!-- Show outline of canvas using 'rect' element --&gt;\n  &lt;rect x=\"1\" y=\"1\" width=\"1198\" height=\"398\"\n        fill=\"none\" stroke=\"blue\" stroke-width=\"2\" /&gt;\n\n  &lt;line x1=\"20\" y1=\"100\" x2=\"100\" y2=\"20\"\n        stroke=\"red\" stroke-width=\"2\" /&gt;\n\n  &lt;rect x=\"20\" y=\"30\" width=\"40\" height=\"50\"\n        fill=\"red\" stroke=\"red\" stroke-width=\"1\" /&gt;\n\n  &lt;rect x=\"10\" y=\"20\" width=\"30\" height=\"40\"\n        fill=\"red\" stroke=\"blue\" stroke-width=\"1\" /&gt;\n\n  &lt;line x1=\"100\" y1=\"200\" x2=\"300\" y2=\"400\"\n        stroke=\"red\" stroke-width=\"2\" /&gt;\n\n  &lt;circle cx=\"10\" cy=\"20\" r=\"30\"\n        fill=\"red\" stroke=\"blue\" stroke-width=\"2\" /&gt;\n\n  &lt;rect x=\"10\" y=\"20\" width=\"30\" height=\"40\"\n        fill=\"red\" stroke=\"blue\" stroke-width=\"2\" /&gt;\n\n&lt;/svg&gt;\n</code></pre>\n\n<p>So my actual question is how to delete the first  or overwrite it or I need a different approach.</p>\n"}, {"tags": ["c++", "gcc", "linker", "hpc", "nm"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1493833510, "post_id": 43766408, "comment_id": 74574845, "body": "Hint: <code>man nm</code>."}, {"owner": {"reputation": 171, "user_id": 2336748, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uuTKW.gif?s=128&g=1", "display_name": "MadHatter", "link": "https://stackoverflow.com/users/2336748/madhatter"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1493833546, "post_id": 43766408, "comment_id": 74574862, "body": "Tried man but the information given was limited."}], "answers": [{"tags": [], "owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "is_accepted": false, "score": 4, "last_activity_date": 1493834633, "creation_date": 1493834633, "answer_id": 43767093, "question_id": 43766408, "link": "https://stackoverflow.com/questions/43766408/how-to-read-nm-commands-what-does-nm-options-t-and-u-undefined-mean/43767093#43767093", "title": "How to read nm commands : What does nm options -T and -U (undefined) mean?", "body": "<p><code>U</code> means \"undefined\" -- the object has a reference to the symbol but no definition</p>\n\n<p><code>T</code> means globally defined in the text segment -- the object defines and exports the symbol</p>\n\n<p>The manual page (<code>man nm</code>) lists all these type codes.</p>\n"}], "owner": {"reputation": 171, "user_id": 2336748, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uuTKW.gif?s=128&g=1", "display_name": "MadHatter", "link": "https://stackoverflow.com/users/2336748/madhatter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493834633, "creation_date": 1493832132, "last_edit_date": 1493833610, "question_id": 43766408, "link": "https://stackoverflow.com/questions/43766408/how-to-read-nm-commands-what-does-nm-options-t-and-u-undefined-mean", "title": "How to read nm commands : What does nm options -T and -U (undefined) mean?", "body": "<p>I have linking errors that I suspected from 'libsimint.a'. </p>\n\n<pre><code>Linker messages (if any) follow...\n/home/.../simint/lib/libsimint.a(shell.c.o): In function `simint_copy_shell':\nshell.c:(.text+0x126): undefined reference to `__intel_ssse3_rep_memcpy'\n/home/.../simint/lib/libsimint.a(shell.c.o): In function`simint_normalize_shells':\nshell.c:(.text+0x4e3): undefined reference to `__svml_pow4'\n</code></pre>\n\n<p>I tried nm commands to figure it out: </p>\n\n<pre><code>&gt;&gt; nm libsimint.a |grep __intel_ssse3_rep_memcpy\nU __intel_ssse3_rep_memcpy\n\n&gt;&gt; nm libsimint.a |grep simint_copy_shell\n0000000000000090 T simint_copy_shell\n</code></pre>\n\n<p>From what I understand by the above (with help of nm man), simint_copy_shell function is mentioned in code but __intel_ssse3_rep_memcpy is not defined in some other libray our libsimint is compiled with. Can anybody verify this or add any clarification? Thanks</p>\n\n<p>(I'm compiling and linking a large code using gcc, that was compiled with icpc but instead.)</p>\n"}, {"tags": ["c++", "arrays", "string", "while-loop"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493832332, "post_id": 43766406, "comment_id": 74574162, "body": "Your <code>pim</code> value is wrong. Why?"}, {"owner": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493832520, "post_id": 43766406, "comment_id": 74574263, "body": "made it shorter forgot to change that, but doesnt change the result just a small miss type"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493832681, "post_id": 43766406, "comment_id": 74574361, "body": "It&#39;ll change the result dramatically if there&#39;s no &quot;empty&quot; in your input."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "edited": false, "score": 0, "creation_date": 1493832786, "post_id": 43766516, "comment_id": 74574417, "body": "could u suggest how I could fix this?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "edited": false, "score": 0, "creation_date": 1493832903, "post_id": 43766516, "comment_id": 74574487, "body": "@ChronicArrow: I already did. I said it in words, and I provided a link to a live demonstration. I have now also provided a completely new solution, as a bonus."}, {"owner": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "edited": false, "score": 0, "creation_date": 1493833064, "post_id": 43766516, "comment_id": 74574569, "body": "thank you so much my rubbish internet had not caught me up to date with what you said! My apologies"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "edited": false, "score": 0, "creation_date": 1493833158, "post_id": 43766516, "comment_id": 74574622, "body": "@ChronicArrow: You&#39;re welcome. Don&#39;t forget to upvote and accept! :)"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 2, "last_activity_date": 1493832881, "last_edit_date": 1493832881, "creation_date": 1493832518, "answer_id": 43766516, "question_id": 43766406, "link": "https://stackoverflow.com/questions/43766406/find-and-replace-a-specific-element-of-an-array/43766516#43766516", "title": "find and replace a specific element of an array", "body": "<p>The problem is the way you constructed your loop:</p>\n\n<pre><code>while (x[i] != \"empty\" &amp;&amp; i &lt; n)\n{\n    tindex = i;\n    i++;\n}\n</code></pre>\n\n<p>First, <code>i</code> is 0. <code>tindex</code> gets set to 0, <code>i</code> gets set to 1.</p>\n\n<p>Then the loop repeats, checking the condition. Oops! x[1] is \"empty\"! The loop ends and <code>tindex</code> is still 0.</p>\n\n<p>That's why <code>Q</code> is 0 and why the wrong element is replaced.</p>\n\n<p>Furthermore, you check <code>i &lt; n</code> <em>after</em> trying to use <code>x[i]</code> (whoops).</p>\n\n<p>You might as well just return <code>i</code>, since that is already the value you need:</p>\n\n<pre><code>int spindex(string x[], int n)\n{\n    int i = 0;\n\n    while (i &lt; n &amp;&amp; x[i] != \"empty\") {\n        i++;\n    }\n\n    return i;\n}\n</code></pre>\n\n<h3>(<a href=\"http://coliru.stacked-crooked.com/a/e2a55582affd519b\" rel=\"nofollow noreferrer\">live demo</a>)</h3>\n\n<hr>\n\n<p>In my opinion, the entire problem would be better constructed thus:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    std::string Bob[] = { \"shaun\", \"empty\", \"tom\", \"empty\", \"chris\", \"sharon\", \"empty\"};\n\n    auto it = std::find(std::begin(Bob), std::end(Bob), \"empty\");\n    if (it == std::end(Bob)) {\n        // No \"empty\" to replace!\n        return EXIT_FAILURE;\n    }\n\n    // Replace first \"empty\" with \"BOB\"\n    *it = \"BOB\";\n\n    // Here is our array now\n    std::cout &lt;&lt; '[';\n    for (const auto el : Bob)\n        std::cout &lt;&lt; el &lt;&lt; ',';\n    std::cout &lt;&lt; ']' &lt;&lt; '\\n';\n}\n\n// Output: [shaun,BOB,tom,empty,chris,sharon,empty,]\n</code></pre>\n\n<h3><a href=\"http://coliru.stacked-crooked.com/a/d60c920fe1469e45\" rel=\"nofollow noreferrer\">(live demo</a>)</h3>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 2, "last_activity_date": 1493833235, "last_edit_date": 1493833235, "creation_date": 1493832664, "answer_id": 43766561, "question_id": 43766406, "link": "https://stackoverflow.com/questions/43766406/find-and-replace-a-specific-element-of-an-array/43766561#43766561", "title": "find and replace a specific element of an array", "body": "<p>This function</p>\n\n<pre><code>int spindex(string x[], int n)\n\n{\n    int i = 0;\n    int tindex;\n\n    while (x[i] != \"empty\" &amp;&amp; i &lt; n)\n    {\n        tindex = i;\n        i++;\n    }\n    return tindex;\n}\n</code></pre>\n\n<p>is wrong.  Except when the first element of the array has the value <code>\"empty\"</code> the function returns the index before the index of the element that contains the string.</p>\n\n<p>Also the order of the sub-conditions in the condition of the while loop is also wrong.</p>\n\n<p>Write it the following way</p>\n\n<pre><code>size_t spindex( const std::string a[], size_t n )\n{\n    size_t i = 0;\n\n    while ( i &lt; n  &amp;&amp; a[i] != \"empty\" ) i++;\n\n    return i;\n}\n</code></pre>\n\n<p>and call it like</p>\n\n<pre><code>size_t Q = spindex( Bob, sizeof( Bob ) / sizeof( *Bob ) );\n</code></pre>\n\n<p>A more general approach to write the function looks the following way</p>\n\n<pre><code>size_t spindex( const std::string a[], size_t n, const std::string &amp;s )\n{\n    size_t i = 0;\n\n    while ( i &lt; n  &amp;&amp; a[i] != s ) i++;\n\n    return i;\n}\n</code></pre>\n\n<p>And it can be called like</p>\n\n<pre><code>size_t Q = spindex( Bob, sizeof( Bob ) / sizeof( *Bob ), \"empty\" );\n</code></pre>\n\n<p>As an alternative you could use standard algorithm <code>std::find</code> declared in the header <code>&lt;algorithm&gt;</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 7881449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23c7138fe23283cb4a1a5e6c75dea54?s=128&d=identicon&r=PG&f=1", "display_name": "Chronic Arrow", "link": "https://stackoverflow.com/users/7881449/chronic-arrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 43766561, "answer_count": 2, "score": -1, "last_activity_date": 1493833235, "creation_date": 1493832125, "last_edit_date": 1493833073, "question_id": 43766406, "link": "https://stackoverflow.com/questions/43766406/find-and-replace-a-specific-element-of-an-array", "title": "find and replace a specific element of an array", "body": "<p>I am trying to locate \"empty\" in the array Bob, then after I find where empty is in the index i want to replace the word \"empty\" with \"LEEROY JENKINS\" Please forgive my lack of knowledge I am still very new to this and learning the best I can.</p>\n\n<p>Problems:</p>\n\n<ol>\n<li>int spindex() is not finding the correct index </li>\n<li>empty is not being replaced</li>\n</ol>\n\n<p></p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint spindex(string x[], int n)\n{\n    int i = 0;\n    int tindex;\n\n    while (x[i] != \"empty\" &amp;&amp; i &lt; n)\n    {\n        tindex = i;\n        i++;\n    }\n    return tindex;\n}\n\nint main()\n{\n    string Bob[] = { \"shaun\", \"empty\", \"tom\", \"empty\", \"chris\", \"sharon\", \"empty\"};\n    int pim = 7;\n    int Q = spindex(Bob, pim);\n    Bob[Q] = \"LEEROY JENKINS\";\n    cout &lt;&lt; Q &lt;&lt; endl;\n    cout &lt;&lt; Bob[Q] &lt;&lt; endl;\n    for (int i = 0; i &lt; 7; i++) {\n        cout &lt;&lt; Bob[i] &lt;&lt; endl;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493832234, "post_id": 43766395, "comment_id": 74574107, "body": "Maybe dupe (it answers your problem): <a href=\"http://stackoverflow.com/questions/21558/in-c-what-is-a-virtual-base-class\" title=\"in c what is a virtual base class\">stackoverflow.com/questions/21558/&hellip;</a>"}, {"owner": {"reputation": 151, "user_id": 5203143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssglQ.jpg?s=128&g=1", "display_name": "al0s", "link": "https://stackoverflow.com/users/5203143/al0s"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493832279, "post_id": 43766395, "comment_id": 74574134, "body": "It is not about virtual. I don&#39;t want to make a diamond model."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 6, "creation_date": 1493832325, "post_id": 43766395, "comment_id": 74574160, "body": "Yes, it is. Your code suffers from the Diamond problem, which can be solved using virtual inheritance."}, {"owner": {"reputation": 151, "user_id": 5203143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssglQ.jpg?s=128&g=1", "display_name": "al0s", "link": "https://stackoverflow.com/users/5203143/al0s"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493832425, "post_id": 43766395, "comment_id": 74574212, "body": "@Rakete1111 I Don&#39;t want to make Diamond. I exactly want two plane base classes. The problem is why does it give error when i use 3 layer scope."}, {"owner": {"reputation": 2089, "user_id": 7778713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QIG81.png?s=128&g=1", "display_name": "D.J. Klomp", "link": "https://stackoverflow.com/users/7778713/d-j-klomp"}, "edited": false, "score": 0, "creation_date": 1493833484, "post_id": 43766395, "comment_id": 74574830, "body": "Whether it is your intention or not, the compiler will recognize it as a diamond pattern with an ambiguous call as result. The answer of Rakete1111 with virtual is the way to go."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1493833601, "post_id": 43766395, "comment_id": 74574897, "body": "I think <code>pervaneli::plane::engine</code> is <code>typename</code> <code>pervaneli::plane</code> <code>::engine</code>. So <code>plane::engine</code> which is ambiguous."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 4, "creation_date": 1493833940, "post_id": 43766395, "comment_id": 74575093, "body": "@GillBates: OP has and wants Y inheritance, not a diamond (with virtual inheritance)."}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1493834168, "post_id": 43766395, "comment_id": 74575237, "body": "The question is more interesting than critiquing OP for the diamond, i.e. why doesn&#39;t pervaneli::plane identify the correct base instance when pervanelli does."}, {"owner": {"reputation": 151, "user_id": 5203143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssglQ.jpg?s=128&g=1", "display_name": "al0s", "link": "https://stackoverflow.com/users/5203143/al0s"}, "edited": false, "score": 0, "creation_date": 1493834464, "post_id": 43766395, "comment_id": 74575405, "body": "I don&#39;t want to make this functionless (i mean stupid) code to work :) when i use 2 layers scope it works properly. I just want to learn why do i get error when use 3 layers scope. Please, don&#39;t suggest me to use virtual or any other."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1493840473, "post_id": 43766395, "comment_id": 74578726, "body": "Changing non-virtual to virtual inheritance is a <b>design</b> change; a design change is <b>never</b>, in itself, an appropriate solution to a <b>coding</b> problem. A coding problem can point to a possible design flaw, but, as the OP keep saying, in this case the design is correct."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1493840947, "post_id": 43766395, "comment_id": 74578970, "body": "@Pete Yes, you are right. I noticed it too after giving it some thought :) thanks"}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1493834943, "post_id": 43767168, "comment_id": 74575693, "body": "Yes, it&#39;s the type NOT the subobject, and note the difference between <code>this-&gt;pervaneli::plane::engine</code> and <code>static_cast&lt;pervaneli*&gt;(this)-&gt;plane::engine</code>"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 6, "last_activity_date": 1493979029, "last_edit_date": 1493979029, "creation_date": 1493834880, "answer_id": 43767168, "question_id": 43766395, "link": "https://stackoverflow.com/questions/43766395/inheritance-in-c-is-an-ambiguous-base-of-error/43767168#43767168", "title": "Inheritance in C++, &quot;...is an ambiguous base of ...&quot; error", "body": "<p>From <a href=\"http://en.cppreference.com/w/cpp/language/qualified_lookup\" rel=\"nofollow noreferrer\">qualified_lookup</a></p>\n\n<p><code>pervaneli::plane</code> is the injected-class-name <code>plane</code> (the type).</p>\n\n<p>so <code>pervaneli::plane::engine</code> is in fact <code>plane::engine</code>, which is ambiguous as you have two base class <code>plane</code>.</p>\n\n<p>You cannot give full path to the member you want.</p>\n"}, {"tags": [], "owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "is_accepted": false, "score": 1, "last_activity_date": 1493835880, "creation_date": 1493835880, "answer_id": 43767457, "question_id": 43766395, "link": "https://stackoverflow.com/questions/43766395/inheritance-in-c-is-an-ambiguous-base-of-error/43767457#43767457", "title": "Inheritance in C++, &quot;...is an ambiguous base of ...&quot; error", "body": "<p>Public inheritance means <code>is a</code> relationship.<br> <em>Reference: Effective C++: Item 32: Make sure public inheritance models \u201cis-a.\u201d</em></p>\n\n<p>So <code>pervaneli</code> is a <code>plane</code> because of public inheritance. The class <code>pervaneli</code> already has the member variable <code>engine</code> in it because of <code>is a</code> relationship with <code>plane</code>.</p>\n\n<p>By adding the scope of <code>plane</code> you are making it ambiguous for the compiler hence the error.</p>\n"}], "owner": {"reputation": 151, "user_id": 5203143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssglQ.jpg?s=128&g=1", "display_name": "al0s", "link": "https://stackoverflow.com/users/5203143/al0s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 2, "accepted_answer_id": 43767168, "answer_count": 2, "score": 4, "last_activity_date": 1493979029, "creation_date": 1493832105, "last_edit_date": 1493832588, "question_id": 43766395, "link": "https://stackoverflow.com/questions/43766395/inheritance-in-c-is-an-ambiguous-base-of-error", "title": "Inheritance in C++, &quot;...is an ambiguous base of ...&quot; error", "body": "<p>As written in \"The C++ Programming Language 3.Edition - Bjarne Stroustrup\". We can use scope solution to prevent ambiguity errors. The basic program which is in below, when i use 3 layer scope in class mix an error occurs. But when i use 2 layer no problem. What is wrong? or is it something like design issue? The error is;</p>\n\n<pre><code>deneme.cpp: In constructor \u2018mix::mix(std::__cxx11::string, int)\u2019:\ndeneme.cpp:45:22: error: \u2018plane\u2019 is an ambiguous base of \u2018mix\u2019\n    pervaneli::plane::engine=b;\n</code></pre>\n\n<p>I don't want to make a diamond model. I am happy with two base (plane) classes. The thing that i just want to learn why it gives error when i use 3 layer scope. Thanks.</p>\n\n<p>Note: Version is g++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\nusing namespace std;\n\nclass plane{\n    protected:\n    int speed;\n    string name;\n    public:\n        int engine;\n        void its_name(){\n            cout&lt;&lt;name&lt;&lt;endl;\n        }\n        plane(int a=10000){\n            engine=a;\n        }\n\n};\n\nclass pervaneli:public plane{\n    public:\n        pervaneli(string a=\"-\"){\n            name=a;\n        }\n        void belirle(int x){\n            speed=x;\n        }\n};\n\nclass jet:public plane{\n    public:\n        jet(string a=\"-\"){\n            name=a;\n        }\n        void belirle(int x){\n            speed=x;\n        }\n};\n\nclass mix: public pervaneli,public jet{\n    public:\n        mix(string a,int b){\n            jet::name=a;\n            pervaneli::name=a;\n            pervaneli::plane::engine=b; //ambigous base error\n            //pervaneli::engine=b; /*works fine*/\n        } \n        void belirle(int x){\n            jet::speed=x;\n        }\n};\n\n\nint main()\n    {\n    mix a400m(\"Alp\",9999);\n    a400m.belirle(500);\n    a400m.pervaneli::its_name();\n    return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "boolean", "atomic"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1493832121, "post_id": 43766347, "comment_id": 74574047, "body": "To be pedantic the program may never see the bool change state."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1493832201, "post_id": 43766347, "comment_id": 74574092, "body": "@Fran&#231;oisAndrieux yes but <code>volatile</code> has nothing to do with threads."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1493832253, "post_id": 43766347, "comment_id": 74574117, "body": "<code>volatile</code> is not enough for thread synchronization."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1493833243, "post_id": 43766347, "comment_id": 74574670, "body": "You&#39;ll get away with it.  If not from a processor with a strong memory model then from the memory barriers that the OS needs to get its job done.  But you do have to tell the compiler that the value can change from code other than yours or will not have a good reason to reload the value from memory.  Test it, don&#39;t tell anybody at SO about it."}, {"owner": {"reputation": 209, "user_id": 434352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/860864fe6f4105b5e05711e3a51300a8?s=128&d=identicon&r=PG", "display_name": "Redmumba", "link": "https://stackoverflow.com/users/434352/redmumba"}, "edited": false, "score": 0, "creation_date": 1493833979, "post_id": 43766347, "comment_id": 74575112, "body": "From what I understand, <code>volatile</code> will just prevent the value from being optimized out, which can cause incorrect behavior otherwise.  Based on @LWimsey&#39;s response below, it sounds like <code>std::atomic_bool</code> might actually already implement lockless bools in this case."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1493834038, "post_id": 43766347, "comment_id": 74575152, "body": "@Fran&#231;oisAndrieux No! <a href=\"http://isvolatileusefulwiththreads.com/\" rel=\"nofollow noreferrer\">isvolatileusefulwiththreads.com</a>"}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 1, "creation_date": 1493834161, "post_id": 43766347, "comment_id": 74575226, "body": "Using <code>volatile</code> for the boolean in all threads that access it is enough to guaranty the compiler won&#39;t put the boolean in a register. <a href=\"https://en.wikipedia.org/wiki/Cache_coherence\" rel=\"nofollow noreferrer\">Cache coherence</a> will guarantee that all threads and/or cores and/or processors see any updates. All read / write operations to volatiles will be in order, but the compiler and / or processor may reorder read / write operations if they are a mix of non-volatile and volatile, which wouldn&#39;t be thread safe."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 1, "creation_date": 1493834302, "post_id": 43766347, "comment_id": 74575316, "body": "Using <code>volatile</code> is neither necessary nor sufficient for concurrent access to a shared variable. There are portable, standard alternatives with none of the drawbacks of <code>volatile</code>. It has <b>no place</b> here. None. <a href=\"http://cxx.isvolatileusefulwiththreads.com/\" rel=\"nofollow noreferrer\">cxx.isvolatileusefulwiththreads.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 434352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/860864fe6f4105b5e05711e3a51300a8?s=128&d=identicon&r=PG", "display_name": "Redmumba", "link": "https://stackoverflow.com/users/434352/redmumba"}, "edited": false, "score": 0, "creation_date": 1493833692, "post_id": 43766625, "comment_id": 74574957, "body": "The documentation for <code>std::atomic</code> suggests that being lockless is not guaranteed (the <code>is_lock_free</code> function).  Is there a compiler specific list of types that are lock free?"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 209, "user_id": 434352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/860864fe6f4105b5e05711e3a51300a8?s=128&d=identicon&r=PG", "display_name": "Redmumba", "link": "https://stackoverflow.com/users/434352/redmumba"}, "edited": false, "score": 1, "creation_date": 1493834072, "post_id": 43766625, "comment_id": 74575171, "body": "@Redmumba check the <code>ATOMIC_BOOL_LOCK_FREE</code> macro, and similar ones for other built-in types (or in C++17 use the constexpr <code>std::atomic&lt;T&gt;::is_always_lock_free</code> constant)."}], "tags": [], "owner": {"reputation": 4681, "user_id": 6651824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LWsU0.jpg?s=128&g=1", "display_name": "LWimsey", "link": "https://stackoverflow.com/users/6651824/lwimsey"}, "is_accepted": true, "score": 4, "last_activity_date": 1493832891, "creation_date": 1493832891, "answer_id": 43766625, "question_id": 43766347, "link": "https://stackoverflow.com/questions/43766347/can-i-avoid-locking-a-bool-if-it-only-goes-from-false-to-true-once/43766625#43766625", "title": "Can I avoid locking a bool if it only goes from false to true once?", "body": "<p>The exact side effect is undefined behavior.<br>\nWith a regular <code>bool</code>, the compiler is not aware that it will be accessed in multiple threads and therefore it may apply optimizations that lead to undefined behavior (such as an update not visible to other threads).  </p>\n\n<p>Replace <code>bool</code> with <code>std::atomic&lt;bool&gt;</code>, use it exactly like you would have used <code>bool</code> and you are fine. No locking necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 7959546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c59a28109aaa304db6b086dd9dba39?s=128&d=identicon&r=PG&f=1", "display_name": "David S", "link": "https://stackoverflow.com/users/7959546/david-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1493840762, "creation_date": 1493840762, "answer_id": 43768723, "question_id": 43766347, "link": "https://stackoverflow.com/questions/43766347/can-i-avoid-locking-a-bool-if-it-only-goes-from-false-to-true-once/43768723#43768723", "title": "Can I avoid locking a bool if it only goes from false to true once?", "body": "<p>Use atomic, instead. It is cheaper than any locks and will solve your problem with consistency.</p>\n\n<p>Another way: do not check your variable many times. Notify every thread of a variable change.</p>\n"}], "owner": {"reputation": 209, "user_id": 434352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/860864fe6f4105b5e05711e3a51300a8?s=128&d=identicon&r=PG", "display_name": "Redmumba", "link": "https://stackoverflow.com/users/434352/redmumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 43766625, "answer_count": 2, "score": 2, "last_activity_date": 1493840762, "creation_date": 1493831928, "question_id": 43766347, "link": "https://stackoverflow.com/questions/43766347/can-i-avoid-locking-a-bool-if-it-only-goes-from-false-to-true-once", "title": "Can I avoid locking a bool if it only goes from false to true once?", "body": "<p>I have a <code>bool</code> that is being accessed by multiple threads, but that value can only transition from <code>false</code> to <code>true</code>, once, during the runtime of a program.  So long as the value is <em>eventually</em> <code>true</code>, I don't care of each thread has an immediately consistent view of the variable--as long as they all eventually pick it up.</p>\n\n<p>Unfortunately, checking the value of this value is called pretty frequently, so locking around the value is expensive.</p>\n\n<p>I've seen other posts where people have talked about the cache may not be refreshed correctly, but what are the <strong>exact</strong> side effects of not locking on reads?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 2, "creation_date": 1493833706, "post_id": 43766325, "comment_id": 74574961, "body": "What is the definition of the <code>UIController</code> constructor? The destructor would also be useful, you are likely violating the rule of three/five which could make dereferencing <code>this-&gt;right</code> a use-after-free error."}, {"owner": {"reputation": 1935, "user_id": 961935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/957edd27c9c8949f3c1db75ceccd0f28?s=128&d=identicon&r=PG", "display_name": "Inc1982", "link": "https://stackoverflow.com/users/961935/inc1982"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1493833925, "post_id": 43766325, "comment_id": 74575087, "body": "@cdhowie I&#39;ve updated to show this, thanks for taking interest."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1493834265, "post_id": 43766325, "comment_id": 74575292, "body": "And the destructor?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493834545, "post_id": 43766325, "comment_id": 74575447, "body": "&quot;An exception&quot;? What exception? What <i>exactly</i> happens? Present your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1935, "user_id": 961935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/957edd27c9c8949f3c1db75ceccd0f28?s=128&d=identicon&r=PG", "display_name": "Inc1982", "link": "https://stackoverflow.com/users/961935/inc1982"}, "edited": false, "score": 0, "creation_date": 1493910141, "post_id": 43766325, "comment_id": 74613350, "body": "I apologize everyone attempting to help.  It turns out the problem was in my ScreenStandbye constructor. I used a member initialization list but only set the type and not the name of the argument in the constructor. This somehow created a situation where this-&gt;right-&gt;onEnter(); would error likely because &quot;right&quot; was not initialized correctly. Since this code was so specific to my application, maybe I should delete this question.."}], "owner": {"reputation": 1935, "user_id": 961935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/957edd27c9c8949f3c1db75ceccd0f28?s=128&d=identicon&r=PG", "display_name": "Inc1982", "link": "https://stackoverflow.com/users/961935/inc1982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493833872, "creation_date": 1493831855, "last_edit_date": 1493833872, "question_id": 43766325, "link": "https://stackoverflow.com/questions/43766325/error-dereferencing-pointer-after-passing-derived-pointer-to-base-pointer-type", "title": "Error dereferencing pointer after passing derived pointer to base pointer type", "body": "<p>I have a base class:</p>\n\n<pre><code>class IScreen {\npublic:\n  virtual ~IScreen();\n\n  virtual void onEnter() = 0;\n};\n</code></pre>\n\n<p>And a derived class</p>\n\n<pre><code>class ScreenStandby : public IScreen {\npublic:\n  ScreenStandby(ST7565&amp;);\n\n  void onEnter();\n\nprivate:\n  ST7565&amp; lcd;\n};\n</code></pre>\n\n<p>I then have a third controller class that I want to initialize that expects a parameter of the base class from above:</p>\n\n<pre><code>class UIController {\npublic:\n  UIController(IScreen* left, IScreen* right, Encoder&amp; encoder);\n ~UIController();\n\n  void init();\n\nprivate:\n  // Screen for each bay from the left, hardcoded for now\n  IScreen *left, *right;\n};\n</code></pre>\n\n<p>I then initialize this controller with new instances of derived classes:</p>\n\n<pre><code>UIController UI_CONTROLLER(\n  new ScreenStandby(LCD_1), \n  new ScreenStandby(LCD_2),\n  ENCODER\n);\n</code></pre>\n\n<p>and it's definition</p>\n\n<pre><code>UIController::UIController(IScreen* left, IScreen* right, Encoder&amp; encoder)\n  : left(left), right(right)\n{}\n</code></pre>\n\n<p>However when I call UI_Controller.init() which dereferences one of the derived class pointers an exception gets thrown.</p>\n\n<pre><code>void UIController::init() {\n  this-&gt;right-&gt;onEnter(); // Error gets thrown here without ever calling onEnter.\n}\n</code></pre>\n\n<p>I don't think I need a copy constructor because I'm only passing in references. What am I doing wrong?</p>\n"}, {"tags": ["c++", "openmp"], "answers": [{"comments": [{"owner": {"reputation": 29002, "user_id": 2542702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fW5ka.jpg?s=128&g=1", "display_name": "Z boson", "link": "https://stackoverflow.com/users/2542702/z-boson"}, "edited": false, "score": 0, "creation_date": 1493884988, "post_id": 43766328, "comment_id": 74595070, "body": "I thought this was obvious but I think the question becomes more interesting with nested parallelism. This must mean that a parallel construct within a parallel construct has a implicit barrier? Let me reverse that can you remove the implicit barrier for in parallel construct with nested parallelism?"}, {"owner": {"reputation": 1807, "user_id": 1900441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3540494c1cb556bf1f517992b172fe?s=128&d=identicon&r=PG", "display_name": "Jim Cownie", "link": "https://stackoverflow.com/users/1900441/jim-cownie"}, "edited": false, "score": 0, "creation_date": 1493886901, "post_id": 43766328, "comment_id": 74596158, "body": "@Z Boson: the implicit barrier at the end of a parallel region applies to the thread team inside it. The master thread cannot leave the parallel region until all the threads in the team reach the end of it. That is unaffected by whether the parallel region is nested or not, since there is no barrier in the outer level of parallelism..."}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "reply_to_user": {"reputation": 29002, "user_id": 2542702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fW5ka.jpg?s=128&g=1", "display_name": "Z boson", "link": "https://stackoverflow.com/users/2542702/z-boson"}, "edited": false, "score": 0, "creation_date": 1493888093, "post_id": 43766328, "comment_id": 74596967, "body": "@Zboson yes, and I don&#39;t believe you can remove it. Even for the combined <code>parallel</code> constructs, it is explicitly stated that <code>nowait</code> cannot be used."}], "tags": [], "owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "is_accepted": true, "score": 6, "last_activity_date": 1493831865, "creation_date": 1493831865, "answer_id": 43766328, "question_id": 43766252, "link": "https://stackoverflow.com/questions/43766252/is-there-an-implicit-barrier-at-the-end-of-a-pragma-omp-parallel/43766328#43766328", "title": "Is there an implicit barrier at the end of a #pragma omp parallel?", "body": "<p><strong>Yes</strong>, \"There is an implicit barrier at the end of the <code>parallel</code> construct.\"</p>\n\n<p><a href=\"http://www.openmp.org/wp-content/uploads/openmp-4.5.pdf\" rel=\"noreferrer\">OpenMP Standard 4.5</a>, 1.3 Execution Model, page 15.</p>\n"}], "owner": {"reputation": 283, "user_id": 7604826, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/99c5631fe4f537770c729b315fe19fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Aaa Bbb", "link": "https://stackoverflow.com/users/7604826/aaa-bbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 2, "accepted_answer_id": 43766328, "answer_count": 1, "score": 4, "last_activity_date": 1493831865, "creation_date": 1493831558, "question_id": 43766252, "link": "https://stackoverflow.com/questions/43766252/is-there-an-implicit-barrier-at-the-end-of-a-pragma-omp-parallel", "title": "Is there an implicit barrier at the end of a #pragma omp parallel?", "body": "<p>Will the main thread wait for all the team spawned at the beginning of the parallel region to finish before running what comes after the parallel region ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1493831694, "post_id": 43766249, "comment_id": 74573822, "body": "performance/speed"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 2, "creation_date": 1493832015, "post_id": 43766249, "comment_id": 74573991, "body": "<a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3672.html\" rel=\"nofollow noreferrer\">std::optional proposal</a> quote : <code>Using the indirection operator for a disengaged object is an undefined behavior. This behavior offers maximum runtime performance.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 369, "user_id": 5784021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e60c725ab61739cbd73c4e8d5f42f217?s=128&d=identicon&r=PG&f=1", "display_name": "KillPinguin", "link": "https://stackoverflow.com/users/5784021/killpinguin"}, "is_accepted": false, "score": 1, "last_activity_date": 1493831751, "creation_date": 1493831751, "answer_id": 43766301, "question_id": 43766249, "link": "https://stackoverflow.com/questions/43766249/stdoptional-operator-and-operator-undefined-behavior/43766301#43766301", "title": "std::optional operator*() and operator-&gt;() - undefined behavior", "body": "<p>I would guess that they are so low-level (it's just a memory access for the compiler) that Exception-Handling would be an overkill for this very performance-cheap methods.</p>\n"}, {"tags": [], "owner": {"reputation": 612, "user_id": 7649016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2b84e8433cb3e43386fab052018f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Stern", "link": "https://stackoverflow.com/users/7649016/sebastian-stern"}, "is_accepted": false, "score": 0, "last_activity_date": 1493831970, "creation_date": 1493831970, "answer_id": 43766360, "question_id": 43766249, "link": "https://stackoverflow.com/questions/43766249/stdoptional-operator-and-operator-undefined-behavior/43766360#43766360", "title": "std::optional operator*() and operator-&gt;() - undefined behavior", "body": "<p>Performance basically. No check for an invalid value needed and no exceptions needed. If you want exceptions there's the <code>value</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": true, "score": 2, "last_activity_date": 1493832055, "creation_date": 1493832055, "answer_id": 43766382, "question_id": 43766249, "link": "https://stackoverflow.com/questions/43766249/stdoptional-operator-and-operator-undefined-behavior/43766382#43766382", "title": "std::optional operator*() and operator-&gt;() - undefined behavior", "body": "<p>Runtime performance.</p>\n\n<p>See the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3672.html\" rel=\"nofollow noreferrer\">proposal, revision 4</a>, which said:</p>\n\n<blockquote>\n  <p>Using the indirection operator for a disengaged object is an undefined\n  behavior. This behavior offers maximum runtime performance.</p>\n</blockquote>\n"}], "owner": {"reputation": 672, "user_id": 1442880, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2a97fcba555c029723d7c353345a974?s=128&d=identicon&r=PG", "display_name": "Kobi", "link": "https://stackoverflow.com/users/1442880/kobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 43766382, "answer_count": 3, "score": 4, "last_activity_date": 1493832055, "creation_date": 1493831553, "question_id": 43766249, "link": "https://stackoverflow.com/questions/43766249/stdoptional-operator-and-operator-undefined-behavior", "title": "std::optional operator*() and operator-&gt;() - undefined behavior", "body": "<p>What was the motivation for having both operator*() and operator->() - undefined behavior when the instance is not initialized?</p>\n\n<p>Why not treat it as an error and throw an exception?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493831376, "post_id": 43766190, "comment_id": 74573632, "body": "What have you tried and why have you failed?"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 2, "creation_date": 1493831490, "post_id": 43766190, "comment_id": 74573706, "body": "Have you considered searching amongst the hundreds of previous answers?"}, {"owner": {"reputation": 2978, "user_id": 760139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrAo0.jpg?s=128&g=1", "display_name": "Tony Dong", "link": "https://stackoverflow.com/users/760139/tony-dong"}, "edited": false, "score": 0, "creation_date": 1493831494, "post_id": 43766190, "comment_id": 74573711, "body": "Need more details for what are you doing"}, {"owner": {"reputation": 11, "user_id": 7767091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1378900302170950/picture?type=large", "display_name": "Faiq Yazdani", "link": "https://stackoverflow.com/users/7767091/faiq-yazdani"}, "edited": false, "score": 0, "creation_date": 1493831770, "post_id": 43766190, "comment_id": 74573862, "body": "# include &lt;iostream&gt; using namepace std; int main() { \tint row,col; \tint arr[][]; \tfor (int i=0;i&lt;row;i++) \t{ \t\tfor (int j=0;j&lt;col;j++) \t\t{ \t\t\tcout&lt;&lt;&quot;Elements of Array :&quot;&lt;&lt;&#39; &#39;; \t\t\tcin&gt;&gt;arr[i][j]; \t\t} \t} \treturn 0; }"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493831850, "post_id": 43766190, "comment_id": 74573909, "body": "Put your code in the question not as a comment. Also it is important that you specify if the array you want is dynamically allocated or not."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493831976, "post_id": 43766190, "comment_id": 74573977, "body": "There are several bugs with the code you put in a comment. How are you setting row and col?"}], "answers": [{"comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493836014, "post_id": 43767426, "comment_id": 74576324, "body": "<b><i>int arr[row][col];</i></b> is not valid c++. c++ does not allow VLAs. Although some compilers support this as an extension."}], "tags": [], "owner": {"reputation": 1, "user_id": 7954762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78bb04abc2d038e1273b2fe5b6737ac?s=128&d=identicon&r=PG&f=1", "display_name": "rberndt", "link": "https://stackoverflow.com/users/7954762/rberndt"}, "is_accepted": false, "score": 0, "last_activity_date": 1493835785, "creation_date": 1493835785, "answer_id": 43767426, "question_id": 43766190, "link": "https://stackoverflow.com/questions/43766190/2d-array-initialization/43767426#43767426", "title": "2D ARRAY INITIALIZATION?", "body": "<p>The bounds for the 2D array must be specified when initializing in this way.</p>\n\n<p>Replacing <code>int arr[][]</code> with <code>int arr[row][col]</code> can solve your problem, assuming that the number of rows and columns are available.</p>\n\n<p>The following code may be helpful:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    using namespace std;\n    int main()\n    {\n        int row, col;\n        cout &lt;&lt; \"Number of rows : \";\n        cin &gt;&gt; row;\n        cout &lt;&lt; \"Number of columns : \";\n        cin &gt;&gt; col;\n        int arr[row][col];\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                cout &lt;&lt; \"Enter value for row \" &lt;&lt; i &lt;&lt; \" column \" &lt;&lt; j &lt;&lt; \" : \";\n                cin &gt;&gt; arr[i][j];\n            }\n        }\n        cout &lt;&lt; \"Elements of Array :\" &lt;&lt; endl;\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                cout &lt;&lt; arr[i][j] &lt;&lt; \" \";\n            }\n            cout &lt;&lt; endl;\n        }\n        return 0;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 7148493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/954tp.jpg?s=128&g=1", "display_name": "Alexandre Mercier Aubin", "link": "https://stackoverflow.com/users/7148493/alexandre-mercier-aubin"}, "is_accepted": false, "score": 1, "last_activity_date": 1493838073, "creation_date": 1493838073, "answer_id": 43768052, "question_id": 43766190, "link": "https://stackoverflow.com/questions/43766190/2d-array-initialization/43768052#43768052", "title": "2D ARRAY INITIALIZATION?", "body": "<p>Unlike c#, c++ cannot initialize arrays with variables; the values have to be fix.\nAs with any language related issue, there is always a way to bypass the problem.\nIn this case, best way to do this would be to use pointers and make your own dynamic arrays.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    int row, col;\n    cout &lt;&lt; \"Number of rows : \";\n    cin &gt;&gt; row;\n    cout &lt;&lt; \"Number of columns : \";\n    cin &gt;&gt; col;\n    //init the pointer array\n    int **arr =new int*[row] ;\n    for (int i = 0; i &lt; row; i++) \n    {\n        arr[i] = new int[col];// init the columns for each row\n        for (int j = 0; j &lt; col; j++) \n        {\n            cout &lt;&lt; \"Enter value for row \" &lt;&lt; i &lt;&lt; \" column \" &lt;&lt; j &lt;&lt; \" : \";\n            cin &gt;&gt; arr[i][j];\n        }\n    }\n    cout &lt;&lt; \"Elements of Array :\" &lt;&lt; endl;\n    for (int i = 0; i &lt; row; i++) \n    {\n        for (int j = 0; j &lt; col; j++) \n        {\n            cout &lt;&lt; arr[i][j] &lt;&lt; \" \";\n        }\n    }\n    cout &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7767091, "user_type": "registered", "profile_image": "https://graph.facebook.com/1378900302170950/picture?type=large", "display_name": "Faiq Yazdani", "link": "https://stackoverflow.com/users/7767091/faiq-yazdani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": -7, "last_activity_date": 1493838073, "creation_date": 1493831360, "last_edit_date": 1493832213, "question_id": 43766190, "link": "https://stackoverflow.com/questions/43766190/2d-array-initialization", "title": "2D ARRAY INITIALIZATION?", "body": "<p>How to initialize a 2d Array by taking elements of Array from user?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namepace std;\nint main()\n{\n    int row, col;\n    int arr[][];\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; col; j++) {\n            cout &lt;&lt; \"Elements of Array :\" &lt;&lt; ' ';\n            cin &gt;&gt; arr[i][j];\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "boost", "fiber"], "answers": [{"tags": [], "owner": {"reputation": 1574, "user_id": 5515320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d29062b266eaaabb66a8febf8c6dc2c?s=128&d=identicon&r=PG&f=1", "display_name": "xlrg", "link": "https://stackoverflow.com/users/5515320/xlrg"}, "is_accepted": true, "score": 0, "last_activity_date": 1494226060, "creation_date": 1494226060, "answer_id": 43841395, "question_id": 43765882, "link": "https://stackoverflow.com/questions/43765882/how-to-build-boost-fiber-library-for-segmented-stack-support/43841395#43841395", "title": "how to build boost fiber library for segmented stack support", "body": "<p>because of 'link=shared' you need to add 'linkflags=-lgcc' (libgcc contains functions related to split-stacks)</p>\n"}], "owner": {"reputation": 1404, "user_id": 743185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d63e9c8d034e2111426d9ce04d176e05?s=128&d=identicon&r=PG", "display_name": "Ravikumar Tulugu", "link": "https://stackoverflow.com/users/743185/ravikumar-tulugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 43841395, "answer_count": 1, "score": 0, "last_activity_date": 1494236988, "creation_date": 1493830342, "last_edit_date": 1494236988, "question_id": 43765882, "link": "https://stackoverflow.com/questions/43765882/how-to-build-boost-fiber-library-for-segmented-stack-support", "title": "how to build boost fiber library for segmented stack support", "body": "<p>I am trying to build boost fiber library , I am not sure on what command line arguments to pass to the ./b2. </p>\n\n<p>./b2 --reconfigure cxxflags=\"-std=c++14\"  threading=multi variant=release link=shared --toolset=gcc segmented-stacks=on \nPerforming configuration checks</p>\n\n<pre><code>- 32-bit                   : no\n- 64-bit                   : yes\n- arm                      : no\n- mips1                    : no\n- power                    : no\n- sparc                    : no\n- x86                      : yes\n</code></pre>\n\n<p>Building the Boost C++ Libraries.</p>\n\n<pre><code>- symlinks supported       : yes\n- C++11 mutex              : yes\n- lockfree boost::atomic_flag : yes\n- Boost.Config Feature Check: cxx11_auto_declarations : yes\n- Boost.Config Feature Check: cxx11_constexpr : yes\n- Boost.Config Feature Check: cxx11_defaulted_functions : yes\n- Boost.Config Feature Check: cxx11_final : yes\n- Boost.Config Feature Check: cxx11_hdr_tuple : yes\n- Boost.Config Feature Check: cxx11_lambdas : yes\n- Boost.Config Feature Check: cxx11_noexcept : yes\n- Boost.Config Feature Check: cxx11_nullptr : yes\n- Boost.Config Feature Check: cxx11_rvalue_references : yes\n- Boost.Config Feature Check: cxx11_template_aliases : yes\n- Boost.Config Feature Check: cxx11_thread_local : yes\n- Boost.Config Feature Check: cxx11_variadic_templates : yes\n- has_icu builds           : yes\n</code></pre>\n\n<p>warning: Graph library does not contain MPI-based parallel components.\nnote: to enable them, add \"using mpi ;\" to your user-config.jam\n    - zlib                     : yes\n    - bzip2                    : no\n    - iconv (libc)             : yes\n    - icu                      : yes\n    - native-atomic-int32-supported : yes\n    - pthread-supports-robust-mutexes : yes\n    - compiler-supports-visibility : yes\n    - compiler-supports-ssse3  : yes\n    - compiler-supports-avx2   : yes\n    - gcc visibility           : yes\n    - long double support      : yes\nwarning: skipping optional Message Passing Interface (MPI) library.\nnote: to enable MPI support, add \"using mpi ;\" to user-config.jam.\nnote: to suppress this message, pass \"--without-mpi\" to bjam.\nnote: otherwise, you can safely ignore this message.</p>\n\n<p>Component configuration:</p>\n\n<pre><code>- atomic                   : building\n- chrono                   : building\n- container                : building\n- context                  : building\n- coroutine                : building\n- coroutine2               : building\n- date_time                : building\n- exception                : building\n- fiber                    : building\n- filesystem               : building\n- graph                    : building\n- graph_parallel           : building\n- iostreams                : building\n- locale                   : building\n- log                      : building\n- math                     : building\n- metaparse                : building\n- mpi                      : building\n- program_options          : building\n- python                   : building\n- random                   : building\n- regex                    : building\n- serialization            : building\n- signals                  : building\n- system                   : building\n- test                     : building\n- thread                   : building\n- timer                    : building\n- type_erasure             : building\n- wave                     : building\n\ngcc.link.dll bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/libboost_fiber.so.1.62.0\n/usr/bin/ld: bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/algo/algorithm.o: relocation R_X86_64_PC32 against undefined symbol `__morestack' can not be used when making a shared object; recompile with -fPIC\n/usr/bin/ld: final link failed: Bad value\ncollect2: error: ld returned 1 exit status\n\n    \"g++\"    -o \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/libboost_fiber.so.1.62.0\" -Wl,-h -Wl,libboost_fiber.so.1.62.0 -shared -Wl,--start-group \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/algo/algorithm.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/algo/round_robin.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/algo/shared_work.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/barrier.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/condition_variable.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/context.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/fiber.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/future.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/mutex.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/properties.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/recursive_mutex.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/recursive_timed_mutex.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/timed_mutex.o\" \"bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/scheduler.o\" \"bin.v2/libs/context/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/libboost_context.so.1.62.0\"  -Wl,-Bstatic  -Wl,-Bdynamic -lrt -Wl,--end-group -pthread -m64 \n\n...failed gcc.link.dll bin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi/libboost_fiber.so.1.62.0...\n...skipped &lt;pstage/lib&gt;libboost_fiber.so.1.62.0 for lack of &lt;pbin.v2/libs/fiber/build/gcc-5.4.0/release/segmented-stacks-on/threading-multi&gt;libboost_fiber.so.1.62.0...\n...skipped &lt;pstage/lib&gt;libboost_fiber.so for lack of &lt;pstage/lib&gt;libboost_fiber.so.1.62.0...\n</code></pre>\n"}, {"tags": ["c++", "file", "binary"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1493830591, "post_id": 43765881, "comment_id": 74573156, "body": "Your console won&#39;t print binary it will try to make sense of the binary data as if it was text + a few control codes"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1493830894, "post_id": 43765881, "comment_id": 74573336, "body": "You opened a picture file <code>image.png</code> which (presumably) contains binary encoded image data (aka an array of red/green/blue intensity levels or some such stuff)."}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "edited": false, "score": 1, "creation_date": 1493830971, "post_id": 43765881, "comment_id": 74573388, "body": "@MarkoMlakar Yes, data is in binary. There is no distinction in c++ really if it was binary or text. By opening file with <code>ios::binary</code> you ensure that no text conversion happen."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493831628, "post_id": 43765881, "comment_id": 74573790, "body": "It sounds like you are misunderstanding what &quot;binary&quot; means here. An example of your [broken] assumption/expectation would allow us to tailor our answers better."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493830708, "post_id": 43765940, "comment_id": 74573229, "body": "Thank you for the answer, but the result is the same"}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "reply_to_user": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493830840, "post_id": 43765940, "comment_id": 74573295, "body": "@MarkoMlakar if your file contains binary data why would you try to out that data to <code>cout</code>? Try to read text file and you&#39;ll see your text."}, {"owner": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493830983, "post_id": 43765940, "comment_id": 74573396, "body": "I thought that if I input an image it will cout the bits that make that image"}, {"owner": {"reputation": 241, "user_id": 3850720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e387f0568ecdd6222e031014d96553e0?s=128&d=identicon&r=PG&f=1", "display_name": "fingaz", "link": "https://stackoverflow.com/users/3850720/fingaz"}, "edited": false, "score": 0, "creation_date": 1493831161, "post_id": 43765940, "comment_id": 74573493, "body": "Here&#39;s a nice little hack you could use. <a href=\"http://stackoverflow.com/questions/111928/is-there-a-printf-converter-to-print-in-binary-format\">here</a>"}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "reply_to_user": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493831529, "post_id": 43765940, "comment_id": 74573735, "body": "@MarkoMlakar and it does just that! If your file contained 4 bytes with values <code>[20, 20, 20, 20]</code> then your code would output for spaces, as <code>&#39; &#39; == 20</code>. <code>cout the bits that make that image</code> - do you mean hex or binary? Either way, you need to convert your data manually. The point is, with my change your code should read your file correctly."}, {"owner": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493832249, "post_id": 43765940, "comment_id": 74574112, "body": "And how can I output ASCII values of my buffer?"}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "reply_to_user": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "edited": false, "score": 0, "creation_date": 1493833581, "post_id": 43765940, "comment_id": 74574889, "body": "@MarkoMlakar <code>dumphex</code> that I added outputs your buffer in hex. <code>ASCII values of my buffer</code> - there is no such thing for buffer. ASCII is for text. You mean decimal values of your buffer bytes? Then loop through your buffer and print each byte (don&#39;t forget to cast to an int, otherwise you will print ASCII chars, same what you started with)."}], "tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1493833864, "last_edit_date": 1493833864, "creation_date": 1493830529, "answer_id": 43765940, "question_id": 43765881, "link": "https://stackoverflow.com/questions/43765881/c-reading-binary-files/43765940#43765940", "title": "C++ reading binary files", "body": "<p>You need to resize your vector, not reserve it:</p>\n\n<pre><code>int main()\n{\n    ifstream ifd(\"input.png\", ios::binary | ios::ate);\n    int size = ifd.tellg();\n    ifd.seekg(0, ios::beg);\n    vector&lt;char&gt; buffer;\n    buffer.resize(size); // &lt;&lt; resize not reserve\n    ifd.read(buffer.data(), size);\n\n    cout.write(buffer.data(), buffer.size()); // you cannot just output buffer to cout as the buffer won't have '\\0' ond-of-string terminator\n}\n</code></pre>\n\n<p>Otherwise your code tries to read <code>size</code> characters into an empty buffer. You may as well use vector constructor that sets vector size: <code>vector&lt;char&gt; buffer(size);</code></p>\n\n<p>You can output byte values of your buffer this way:</p>\n\n<pre><code>void dumpbytes(const vector&lt;char&gt;&amp; v)\n{\n    for (int i=0; i&lt;v.size(); ++i)\n    {\n        printf(\"%u \", (unsigned char)v[i]);\n        if ((i+1) % 16 == 0)\n            printf(\"\\n\");\n    }\n    printf(\"\\n\");\n}\n</code></pre>\n\n<p>Or something like common hex editors do for hex output:</p>\n\n<pre><code>void dumphex(const vector&lt;char&gt;&amp; v)\n{\n    const int N = 16;\n    const char hex[] = \"0123456789ABCDEF\";\n    char buf[N*4+5+2];\n    for (int i = 0; i &lt; v.size(); ++i)\n    {\n        int n = i % N;\n        if (n == 0)\n        {\n            if (i)\n                puts(buf);\n            memset(buf, 0x20, sizeof(buf));\n            buf[sizeof(buf) - 2] = '\\n';\n            buf[sizeof(buf) - 1] = '\\0';\n        }\n        unsigned char c = (unsigned char)v[i];\n        buf[n*3+0] = hex[c / 16];\n        buf[n*3+1] = hex[c % 16];\n        buf[3*N+5+n] = (c&gt;=' ' &amp;&amp; c&lt;='~') ? c : '.';\n    }\n    puts(buf);\n}\n</code></pre>\n\n<p>Buffer with \"Hello World!\" data would be printed as follows:</p>\n\n<pre><code>48 65 6C 6C 6F 20 57 6F 72 6C 64 21                  Hello World!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1493831820, "last_edit_date": 1495541890, "creation_date": 1493831436, "answer_id": 43766213, "question_id": 43765881, "link": "https://stackoverflow.com/questions/43765881/c-reading-binary-files/43766213#43766213", "title": "C++ reading binary files", "body": "<p>Opening a file in binary mode means that your operating system won't transparently translate line endings between the CR/LF/CRLF formats.</p>\n\n<p>It doesn't have any effect at all on how your computer prints a string, seven lines later. I don't know what \"get the result in binary\" means, but I suggest rendering the contents of your <code>vector&lt;char&gt;</code> by printing its constituent bytes, one at a time, in their hex-pair representation:</p>\n\n<pre><code>std::cout &lt;&lt; std::hex &lt;&lt; std::setfill('0');\nfor (const auto byte : buffer)\n   std::setw(2) &lt;&lt; byte;\n</code></pre>\n\n<p>The output will look something like:</p>\n\n<pre><code>0123456789abcdef0123456789abcdef\n</code></pre>\n\n<p>Every two characters represents the 0-255 byte value of a byte in your data, using the base-16 (or \"hex\") numerical system. This is a common representation of non-text information.</p>\n\n<p>Alternatively, <a href=\"https://stackoverflow.com/a/7349839/560648\">you could output the data in base-2</a> (literally \"binary\").</p>\n\n<p>It's up to you how to present the information. The file open mode has nothing to do with your vector.</p>\n\n<p>You also need to fix your vector's size; at the moment you call <code>.reserve</code> when you meant <code>.resize</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1533, "user_id": 6204556, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EJxCy.jpg?s=128&g=1", "display_name": "Shadi", "link": "https://stackoverflow.com/users/6204556/shadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1493833186, "creation_date": 1493833186, "answer_id": 43766709, "question_id": 43765881, "link": "https://stackoverflow.com/questions/43765881/c-reading-binary-files/43766709#43766709", "title": "C++ reading binary files", "body": "<p>Based on Pavel answer, you can also add this to see the data in real binary, namely <code>0</code>'s and <code>1</code>s. do not forget to include the bitset header.</p>\n\n<pre><code>void dumpbin(const vector&lt;char&gt;&amp; v)\n{\n    for (int i = 0; i &lt; v.size(); ++i)\n    {\n        cout &lt;&lt;bitset&lt;8&gt;((unsigned char)(v[i])) &lt;&lt; \" \";\n        if ((i + 1) % 8 == 0)\n            printf(\"\\n\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5775439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f64631706877630239cf74ab4ea6c19f?s=128&d=identicon&r=PG&f=1", "display_name": "mrNobody", "link": "https://stackoverflow.com/users/5775439/mrnobody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11720, "favorite_count": 0, "accepted_answer_id": 43765940, "answer_count": 3, "score": 2, "last_activity_date": 1493833864, "creation_date": 1493830338, "question_id": 43765881, "link": "https://stackoverflow.com/questions/43765881/c-reading-binary-files", "title": "C++ reading binary files", "body": "<p>I want to understand how does reading binary files work in C++. \nMy code:</p>\n\n<pre><code>int main() {\n    ifstream ifd(\"input.png\",ios::binary |ios::ate);\n    int size = ifd.tellg();\n    ifd.seekg(0,  ios::beg);\n    vector&lt;char&gt; buffer;\n    buffer.reserve(size);\n    ifd.read(buffer.data(), size);\n\n    cout &lt;&lt; buffer.data();\n    return 0;\n}\n</code></pre>\n\n<p>I thought that if I cout my buffer I would get the result in binary but that is not the case.</p>\n\n<p><strong><code>My output is: \u02d9\u0158\u02d9\u00e16Exif</code></strong> </p>\n\n<p>And if I read the text file it displays the text in normal form not in binary. Obviously my logic is not right here.\nHow can I read files to a buffer so it will contain binary values? \nP.s. I`m doing this for implementing a Shannon-Fano algorithm so if anyone has any advice on reading a binary file I would be grateful.</p>\n"}, {"tags": ["c++", "char", "delete-operator", "args"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 3, "creation_date": 1493830274, "post_id": 43765842, "comment_id": 74572970, "body": "You never allocate memory for <code>argv</code>..."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1493830291, "post_id": 43765842, "comment_id": 74572982, "body": "Ok so where do you <code>new argv</code>?"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493830957, "post_id": 43765842, "comment_id": 74573372, "body": "What do those functions do with the <code>char**</code>? Chances are you can still use <code>std::vector</code>."}, {"owner": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "edited": false, "score": 0, "creation_date": 1493832644, "post_id": 43765842, "comment_id": 74574341, "body": "In my code I had it <code>argv = new char*</code> but it wasn&#39;t enough. @Evan&#39;s answer clarifies all of it for me."}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "edited": false, "score": 1, "creation_date": 1493832299, "post_id": 43765948, "comment_id": 74574144, "body": "You, sir, have my full respect. You have provided me with the full example for this unlike anywhere else. You clarified everything needed done. I only had to change <code>strcpy</code> to <code>strcpy_s</code> and everything is now working I wanted to use <code>vector&lt;string&gt;</code> but I would need to change around 10 files to make it work because I have a set of programs that I originally designed to take input args from main. THANK YOU."}, {"owner": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "edited": false, "score": 1, "creation_date": 1493832849, "post_id": 43765948, "comment_id": 74574455, "body": "I seriously cannot thank you enough. I have a deadline due and this was really killing me. The funny part is that the rest of my program is x1000 times more complicated but in that I was avoiding memory management as far as I can. Thank you very much again."}, {"owner": {"reputation": 80284, "user_id": 13430, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QUCnD.png?s=128&g=1", "display_name": "Evan Teran", "link": "https://stackoverflow.com/users/13430/evan-teran"}, "reply_to_user": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "edited": false, "score": 1, "creation_date": 1493841963, "post_id": 43765948, "comment_id": 74579525, "body": "@Everyone, no problem. pointers and manual memory management can get rough, sometimes you just need a prod in the right direction :-)"}], "tags": [], "owner": {"reputation": 80284, "user_id": 13430, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QUCnD.png?s=128&g=1", "display_name": "Evan Teran", "link": "https://stackoverflow.com/users/13430/evan-teran"}, "is_accepted": true, "score": 4, "last_activity_date": 1493830550, "creation_date": 1493830550, "answer_id": 43765948, "question_id": 43765842, "link": "https://stackoverflow.com/questions/43765842/c-delete-char/43765948#43765948", "title": "C++ Delete char**", "body": "<p>A version of your code that might work is something like this:</p>\n\n<pre><code>#define MAX_SIZE 256 // TODO: set to the size you need...\nvoid function(){\n     int argc = 5;\n     char** argv = new char*[argc]; // allocate space for the array!\n     for(int i = 0; i &lt; argc; ++i) {\n         argv[i] = new char[MAX_SIZE];  // allocate space for the array entry!\n     }\n\n     // TODO: bounds checking!!!\n     strcpy(argv[0], \"...\");     // set the string to the \"...\"\n     strcpy(argv[1], \"...\");     // same...\n\n\n\n     // cleanup\n     for(int i=0;i&lt;argc;i++) \n         delete[] argv[i];\n     delete[] argv;\n}\n</code></pre>\n\n<p>In short, only <code>delete[]</code> what you <code>new[]</code>, only <code>delete</code> what you <code>new</code> and only <code>free</code> what you <code>malloc/calloc/realloc</code>.</p>\n\n<p>That being said, if you have control over the implementation of <code>ProcessCommandLineArgs</code>, it would be <strong>far</strong> superior to just pass a <code>std::vector&lt;std::string&gt;</code> and just not worry about the memory management.</p>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1493831995, "creation_date": 1493831995, "answer_id": 43766370, "question_id": 43765842, "link": "https://stackoverflow.com/questions/43765842/c-delete-char/43766370#43766370", "title": "C++ Delete char**", "body": "<p>This isn't a surprise; you cannot <code>delete[]</code> something that you did not <code>new[]</code>!</p>\n\n<p>In fact, your entire program has undefined behaviour, because your <code>char**</code> is uninitialised and doesn't point anywhere.</p>\n\n<p>Those elements, if they were valid, point to string literals, which again cannot be <code>delete[]</code>d.</p>\n"}], "owner": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 0, "closed_date": 1494968008, "accepted_answer_id": 43765948, "answer_count": 2, "score": -2, "last_activity_date": 1524511758, "creation_date": 1493830191, "last_edit_date": 1524511758, "question_id": 43765842, "link": "https://stackoverflow.com/questions/43765842/c-delete-char", "closed_reason": "Not suitable for this site", "title": "C++ Delete char**", "body": "<p>I know there have been many questions about this but I have tried everything and NOTHING seems to be working.</p>\n\n<p>I have <code>char**</code> and when I try to delete it, I get exception thrown. When I do not delete it, an exception is thrown after the function returns.</p>\n\n<p>I have a function similar to this:</p>\n\n<pre><code>void function(){\n     int argc = 5; char** argv;\n     argv[0] = \"...\";\n     argv[1] = \"...\";\n     //...\n     Package package;\n     package.ProcessCommandLineArgs(argc, argv); // this does NOT delete argv\n\n     // THIS FAILS\n     for(int i=0;i&lt;5;i++) \n         delete[] argv[i]; // &lt;--- EXCEPTION HERE\n     delete[] argv;\n}\n</code></pre>\n\n<p>I have even tried using the function only with this:</p>\n\n<pre><code>void function(){\n     int argc = 5; char** argv;\n     argv[0] = \"...\";\n     argv[1] = \"...\";\n     //...\n\n     // just declare argv and delete it also fails\n     for(int i=0;i&lt;5;i++) \n         delete[] argv[i]; // &lt;--- EXCEPTION HERE\n     delete[] argv;\n}\n</code></pre>\n\n<p>I cannot not use <code>char**</code> as I have 4 classes that use the same arguments in a chain of calls so I do not have the option to use <code>vector&lt;string&gt;</code>.</p>\n\n<p>I would appreciate any help.\nIf you want to vote down, do it, but please give me an answer as I have been stumbling with this for hours.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: I see why this got down-voted and right now I would down-vote it if I had seen it asked on SO. I have since changed all my programs to convert arguments into <code>std::vector&lt;std::string&gt;</code>. If I attempt to delete this question I will be at risk of losing my ability to ask questions since this already has an answer. </p>\n"}, {"tags": ["android", "c++", "encryption", "android-binder"], "comments": [{"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 2, "creation_date": 1493828935, "post_id": 43765448, "comment_id": 74572206, "body": "I would encode the resulting encrypted data as base-64.  This represents the binary values (including 0&#39;s) as textual data."}, {"owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "edited": false, "score": 0, "creation_date": 1493830585, "post_id": 43765448, "comment_id": 74573154, "body": "<code>uint8_t input_buffer[msg.size()];</code> that can&#39;t be right"}, {"owner": {"reputation": 1, "user_id": 7958531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QlKz8OxQQrw/AAAAAAAAAAI/AAAAAAAAIFo/1H_3DIZjy3o/photo.jpg?sz=128", "display_name": "Sau_marvel", "link": "https://stackoverflow.com/users/7958531/sau-marvel"}, "reply_to_user": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 0, "creation_date": 1493872937, "post_id": 43765448, "comment_id": 74588950, "body": "@PaulBentley thanks for the suggestion . It worked for me when I converted encrypted array to base64 encoded string."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 1, "creation_date": 1493880131, "post_id": 43765448, "comment_id": 74591984, "body": "Happy to help!  Could you please post the code you used as an edit to your question - to help others who have a similar issue in future?"}], "owner": {"reputation": 1, "user_id": 7958531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QlKz8OxQQrw/AAAAAAAAAAI/AAAAAAAAIFo/1H_3DIZjy3o/photo.jpg?sz=128", "display_name": "Sau_marvel", "link": "https://stackoverflow.com/users/7958531/sau-marvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1061, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1521751409, "creation_date": 1493828799, "last_edit_date": 1521751409, "question_id": 43765448, "link": "https://stackoverflow.com/questions/43765448/how-to-convert-an-encrypted-char-array-to-string16-in-c", "title": "How to convert an Encrypted char array to String16 in C++", "body": "<p>I need to encode an input string of type String16.For this I convert this string first into an ASCII byte array of type uint8_t and pass this input buffer to the encryption function which encrypts the input buffer and generates an encrypted output buffer also of type uint8_t. Now I need to convert this output buffer back to String16 and transmit the same on some binder interface .</p>\n\n<p>As expected , the encrypted output buffer might contain valid NUL terminated characters (\\0) .I first convert the encrypted byte array into a std:: string type and then eventually convert this string into String16 type using String16 finalString =String16(outputString.c_str()); But when I try to calculate the size of the final string using finalString.size() , I get a size of 1 as compared to the size of the output buffer .</p>\n\n<p>This might be happening because in the encrypted buffer , the second element itself would be a \\0 and hence the string terminates .</p>\n\n<p>Do I need to use functions which convert ASCII/UTF-8 to UTF16 ? Here is the code snippet </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;utils/String16.h&gt;\n\nusing std::string;\nusing android::String16;\nusing android::String8;\n\nStatus MyFunc(const ::android::String16&amp; msg, ::android::String16* _aidl_return) override\n{\n    uint8_t input_buffer[msg.size()];\n    for (int i = 0; i != msg.size(); i++)\n    {\n        input_buffer[i] = msg[i];\n        printf(\"%x \\n\", input_buffer[i]);\n    }\n    uint32_t ver_length = 8;\n    uint32_t input_content_length = sizeof(input_buffer);\n    uint32_t output_buf_length = input_content_length + ver_length;\n    uint8_t *output_buf = (uint8_t *)calloc(output_buf_length, sizeof(uint8_t));\n    encrypt_funct(&amp;input_buffer[0], input_content_length, output_buf, &amp;output_buf_length);\n    std::string temp;\n    for (int i = 0; i &lt; output_buf_length; i++)\n        temp.push_back((char)output_buf[i]);\n    printf(\"Length of string temp is %d\\n\", temp.length());//I get correct length\n    String16 finalString = String16(temp.c_str());\n    printf(\"Length of finalString is %d\\n\", finalString.size());//I get length as 1\n    return Status::ok();\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance", "return-value", "typedef", "protected"], "comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 1, "creation_date": 1493827615, "post_id": 43765041, "comment_id": 74571454, "body": "Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 2, "last_activity_date": 1493828228, "last_edit_date": 1493828228, "creation_date": 1493827891, "answer_id": 43765176, "question_id": 43765041, "link": "https://stackoverflow.com/questions/43765041/c-protected-typedef-as-return-value/43765176#43765176", "title": "C++ protected typedef as return value", "body": "<blockquote>\n  <p>I can also use my typedef within a function.</p>\n</blockquote>\n\n<p>The key word here is <strong>within</strong>.</p>\n\n<blockquote>\n  <p>Only thing as i said i can't do is have it as a return value.</p>\n</blockquote>\n\n<p>Your return type declaration is outside of the scope of the function. Outside of the scope of <code>CR</code>, <code>cit</code> can only refer to <code>::cit</code>. But you did not define the type <code>::cit</code>; you defined <code>CR::cit</code>. So, when you're outside the scope of <code>CR</code>, such as when you declare a member function out-of-line, you must resolve the scope explicitly:</p>\n\n<pre><code>CR::cit CC::_translateCommand(string &amp;command)\n</code></pre>\n\n<p>A trailing return type declaration is within the scope of the function, so if you used that, then you wouldn't need explicit resolution:</p>\n\n<pre><code>auto CC::_translateCommand(string &amp;command) -&gt; cit\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4056802, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2DPdn.jpg?s=128&g=1", "display_name": "Bolian", "link": "https://stackoverflow.com/users/4056802/bolian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 43765176, "answer_count": 1, "score": -1, "last_activity_date": 1493828228, "creation_date": 1493827451, "question_id": 43765041, "link": "https://stackoverflow.com/questions/43765041/c-protected-typedef-as-return-value", "title": "C++ protected typedef as return value", "body": "<p>I'm not sure if this even is possible, but basically i have this pointer typedef that is protected in a class that i share among my threads and i want to make a function that returns a pointer of that typedef.</p>\n\n<p>I can declare the function in my .h with no problem but the .cpp says it doesn't recognize it. I can also use my typedef within a function. Only thing as i said i can't do is have it as a return value.</p>\n\n<p>I doubt you guys have to even see the code but i'm posting it just to make it complete.</p>\n\n<p>Shared header:</p>\n\n<pre><code>#pragma once\n\n\nclass CR\n{\n\n\npublic:\n\n\nprivate:\n\npublic:\n\n    int c_outPut(std::string &amp;output);\n\nprotected:\n    typedef std::unordered_map&lt;in_addr, SOCKET&gt;::const_iterator cit;\n};\n</code></pre>\n\n<p>Short version of the other .h</p>\n\n<pre><code>#pragma once\n#include \"commonRec.h\"\n\n#include &lt;unordered_map&gt;\n#include &lt;WinSock2.h&gt;\n#include &lt;iterator&gt;\n\nclass CH : CR\n{\n\n    std::string sendToCon(cit &amp;const_it, const std::string &amp;command);\n    cit findHost(std::string &amp;searchHost);\n};\n</code></pre>\n\n<p>.cpp function declaration - error \"cit is undeclared identifier\"</p>\n\n<pre><code>cit CC::_translateCommand(string &amp;command)\n{\n}\n</code></pre>\n"}, {"tags": ["c++", "cython"], "comments": [{"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1493839264, "post_id": 43764950, "comment_id": 74578119, "body": "<code>.</code> is always in the search path. Can you try using the full path instead of <code>.</code>? Also, if the module can be imported in Python there is no reason for it not to be importable if you are using the C api of Python. Can you add more detail about your setup?"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "reply_to_user": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1493887545, "post_id": 43764950, "comment_id": 74596595, "body": "Hi Pierre, thank you for the reply, I have placed the code <a href=\"https://github.com/sanjaybharadwaj/Cython.git\" rel=\"nofollow noreferrer\">here</a>. I am trying to reuse python modules in C++."}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "reply_to_user": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1493889633, "post_id": 43764950, "comment_id": 74598058, "body": "The <code>base.pyx</code> module is still not imported even after changing the search path to &#39;full path&#39;."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1493907423, "post_id": 43764950, "comment_id": 74611219, "body": "Your setup.py only looks to build &quot;derived.pyx&quot;"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1493907934, "post_id": 43764950, "comment_id": 74611629, "body": "Yeah, even if I include the <code>base.pyx</code> file in the <code>setup.py</code> and link it with the <code>libbase.so</code> file, the system is unable to <code>cimport</code> the module"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1493908026, "post_id": 43764950, "comment_id": 74611698, "body": "Also I tried to add <code>PyRun_SimpleString(&quot;import sys\\nsys.path.insert(0,&#39;&#39;)&quot;);</code> in the cpp file. Still the system is unable to cimport the module"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1493908498, "post_id": 43764950, "comment_id": 74612060, "body": "Ok, I understand better. All that is in base is only accessible from Python as far as it is imported by derived. The only module produced by your code is &quot;derived&quot; and that is all that can be imported. Two solutions: import base at the cython level in derived or make base a cythonized module on its own"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1493908807, "post_id": 43764950, "comment_id": 74612287, "body": "1. Importing base at Cython level in derived: This is what I have tried in the code, i have created a <code>base.pxd</code> file and tried to import that in the <code>derived.pyx</code>                                                                                                            2. Making <code>base</code> a cythonized module on its own: How can I do this? Is this different from the normal way?"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1493982375, "post_id": 43764950, "comment_id": 74645730, "body": "1. the question is about importing from the Python (or via the C Python API) -&gt; you need then a Python module for base. Leading to 2: modify the setup.py so that there are two modules created: <code>base</code> and <code>derived</code>. Using <code>*.pyx</code> instead of <code>derived.pyx</code> should do but see <a href=\"http://docs.cython.org/en/latest/src/reference/compilation.html\" rel=\"nofollow noreferrer\">docs.cython.org/en/latest/src/reference/compilation.html</a> for a reference"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 1, "creation_date": 1494232587, "post_id": 43764950, "comment_id": 74722139, "body": "This isn&#39;t going to help you but with Python 3.6 on Linux it works for me as written (with the C program compiled with the command <code>g++ test.cpp -o test `python3-config --libs --includes` .&#47;derived.cpython-36m-x86_64-linux-gnu.so</code> and called with <code>.&#47;test</code>)"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1494232812, "post_id": 43764950, "comment_id": 74722279, "body": "So the follow-up question is: what platform are you using and how are you calling it?"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1494237601, "post_id": 43764950, "comment_id": 74725288, "body": "With the edit that you made to <code>setup.py</code> three days accod I also have it working. Should I write this as answer?"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1494241967, "post_id": 43764950, "comment_id": 74727934, "body": "I use Ubuntu17.04 with Python 3.5.3 version"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1494242063, "post_id": 43764950, "comment_id": 74727990, "body": "The point is I do not need a normal python import. I have to import cython module using <code>cimport</code>. By using normal <code>&#236;mport</code> using pure python files, the code was working even before."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "reply_to_user": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1494243467, "post_id": 43764950, "comment_id": 74728974, "body": "1) The <code>cimport</code> does also generate a normal Python import. You can see this if you look at the generated code 2) @PierredeBuyl and I can both download the code you&#39;ve provided and compile and run it without problems. 3) How are you running the program? (adding <code>.</code> to the path only works if you run it from the directory the modules are in)"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1494243918, "post_id": 43764950, "comment_id": 74729286, "body": "Sorry if I understood badly but your aim is to &quot;cimport&quot; in C++? Could you edit your question to make this more precise? What you can do is &quot;import&quot; a cythonized module."}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1494244092, "post_id": 43764950, "comment_id": 74729401, "body": "Then may be the way how I am compiling might be wrong :|   <code>1. python3 setup.py build_ext --inplace</code> and then i provide the LD_LIBRARY_PATH <code>2. export LD_LIBRARY_PATH = &lt;pwd&gt;</code>, the next step is renaming the generated libraries to <code>libbase.so</code> &amp; <code>libderived.so</code>, the next step is compiling the test application by <code>3. g++ test.cpp -o Test &#39;pkg-config --cflags --libs python3&#39; -L. -lderived -lbase</code>, the application is generated and when I run the application, i get the error<code>No module named &#39;base&#39;</code>"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 1, "creation_date": 1494244142, "post_id": 43764950, "comment_id": 74729434, "body": "do not rename the <code>.so</code> files"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 1, "creation_date": 1494244195, "post_id": 43764950, "comment_id": 74729468, "body": "For info, I do 1. <code>python3 setup.py build_ext</code> 2. <code>g++ -I. -I &#47;usr&#47;include&#47;python3.5m -L&#47;usr&#47;lib&#47;python3.5&#47;config-3.5m-x86_64-linux-gnu -lpython3.5 build&#47;lib.linux-x86_64-3.5&#47;derived.cpython-35m-x86_64-linux-&zwnj;&#8203;gnu.so test.cpp</code> and 3. <code>PYTHONPATH=build&#47;lib.linux-x86_64-3.5 .&#47;a.out</code>"}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1494244659, "post_id": 43764950, "comment_id": 74729774, "body": "What I see is that there is no <code>lib.linux-x86_64-3.5&#47;derived.cpython-35m-x86_64-linux-\u200c\u200bgnu.&zwnj;&#8203;so</code> generated in the build folder. The generated shared object files are in the <code>Cython&#47;</code> directory itself."}, {"owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "edited": false, "score": 0, "creation_date": 1494245233, "post_id": 43764950, "comment_id": 74730176, "body": "It was PYTHONPATH variable that was not set!! Now it is working! Thank you both."}], "answers": [{"comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1494500147, "post_id": 43913388, "comment_id": 74859980, "body": "@PierredeBuyl - I kind of think you did more to solve this than me so if you want to write an answer yourself then I&#39;d suggest that it should be accepted instead of this one. I thought there were some details worth putting in an answer though, even if the issue ultimately turned out to be a silly bit of renaming."}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "edited": false, "score": 0, "creation_date": 1494500827, "post_id": 43913388, "comment_id": 74860471, "body": "Thanks for putting an answer up :-) I have no specific desire to duplicate the work, so no issue here."}], "tags": [], "owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "is_accepted": true, "score": 5, "last_activity_date": 1494500083, "creation_date": 1494500083, "answer_id": 43913388, "question_id": 43764950, "link": "https://stackoverflow.com/questions/43764950/cython-sharing-cython-modules/43913388#43913388", "title": "Cython - sharing Cython modules", "body": "<p>Part of the confusion here is about the behaviour of <code>cimport</code> - OP was trying to use a file <code>derived.pyx</code> that <code>cimport</code>ed <code>base.pyx</code> and was trying to do that from C++.</p>\n\n<p><code>cimport</code> does two things:</p>\n\n<ol>\n<li>It allows Cython to know of the <code>cdef</code> functions defined in another <code>.pyx</code> or <code>.pxd</code> file, so that it can access those functions. This happens at compile time.</li>\n<li><p>It <code>import</code>s that module. This happens at runtime and can be seen by inspecting the generated C code. The <code>import</code> is \"<code>import</code>ant\" for two reasons:</p>\n\n<ol>\n<li><p>The functions used in <code>base.pyx</code> might need global variables or classes to be initialized in base, which is done at import time.</p></li>\n<li><p>It causes the <code>base</code> shared object to be physically loaded into memory, and initializes some function pointers (in <code>derived</code>) to the <code>cdef</code> functions in <code>base</code>.</p></li>\n</ol>\n\n<p>Note that the <code>import</code> doesn't look to actually add <code>base</code> to <code>derived</code>'s module dictionary, so it isn't quite the same as a Python import. </p></li>\n</ol>\n\n<p>I believe part of the thing confusing OP was this slightly unexpected <code>import</code>.</p>\n\n<hr>\n\n<p>The second issue was only revealed on questioning, since it involved a key detail not written in the question. I managed to get the code working as supplied by doing:</p>\n\n<pre><code>python3 setup.py build_ext --inplace\ng++ test.cpp -o test `python3-config --libs --includes` ./derived.cpython-36m-x86_64-linux-gnu.so\n./test\n</code></pre>\n\n<p>(where the second line may need altering to match the exact name of the compiled derived module). @PierredeBuyl did something slightly different but similarly found that the code worked without changes.</p>\n\n<p>The problem actually turned out to be that OP was renaming <code>derived.cpython-36m-x86_64-linux-gnu.so</code> and <code>base.cpython-36m-x86_64-linux-gnu.so</code> to <code>libderived.so</code> and <code>libbase.so</code>. This wasn't a problem for <code>derived</code> which was linked directly with the <code>test</code> program but meant that the Python import mechanism couldn't find <code>base</code> (since it was renamed).</p>\n\n<hr>\n\n<p>Posted as community wiki to disassociate myself from as much of the reputation as possible, since I think it was something of a joint effort with a somewhat unsatisfactory solution.</p>\n"}], "owner": {"reputation": 654, "user_id": 4079123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c28786e5157a528eb01657fda5a46b6?s=128&d=identicon&r=PG&f=1", "display_name": "Bharadwaj", "link": "https://stackoverflow.com/users/4079123/bharadwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 43913388, "answer_count": 1, "score": 5, "last_activity_date": 1494500083, "creation_date": 1493827184, "last_edit_date": 1493909589, "question_id": 43764950, "link": "https://stackoverflow.com/questions/43764950/cython-sharing-cython-modules", "title": "Cython - sharing Cython modules", "body": "<p>I have cython modules base.pyx and derived.pyx. <code>base.pyx</code> and its import definition <code>base.pxd</code> files are defined and is used in <code>derived.pyx</code> file using <code>cimport</code>. The files are placed <a href=\"https://github.com/sanjaybharadwaj/Cython.git\" rel=\"noreferrer\">here</a>.</p>\n\n<p>While using the shared object generated from cython in my Python application, the module is imported correctly, but there is always an error saying <code>ImportError: No module named 'base'</code>, when the library is used in Cpp application.</p>\n\n<p>I also added the current path in my Cpp application </p>\n\n<pre><code>  PyObject* path = PySys_GetObject(\"path\");\n  PyObject* result = PyObject_CallMethod(path,\"append\",\"(s)\",\".\");\n  Py_XDECREF(result);\n</code></pre>\n\n<p>Even then the cython module is not visible to the application. Please let me know what can be the reason for such a path mismatch.</p>\n"}, {"tags": ["c++", "memory", "time", "cpu", "cpu-usage"], "comments": [{"owner": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 2, "creation_date": 1493827623, "post_id": 43764892, "comment_id": 74571461, "body": "Check <code>getrusage()</code>, it&#39;s much better to know how much your specific process took instead of total real time."}, {"owner": {"reputation": 2230, "user_id": 2570677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPgNo.jpg?s=128&g=1", "display_name": "Liran Funaro", "link": "https://stackoverflow.com/users/2570677/liran-funaro"}, "edited": false, "score": 0, "creation_date": 1493827641, "post_id": 43764892, "comment_id": 74571475, "body": "You will need to specify what is the target OS, what kind of CPU usage do you want to know? Cycles count? Time spent as runnable? Clock time? Running time? Usage in percentage?"}, {"owner": {"reputation": 771, "user_id": 1385661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a06c08d8f5187a9d81ab7b6f0aa8b4?s=128&d=identicon&r=PG", "display_name": "ehudt", "link": "https://stackoverflow.com/users/1385661/ehudt"}, "edited": false, "score": 0, "creation_date": 1493827690, "post_id": 43764892, "comment_id": 74571514, "body": "Not sure it&#39;s what you want, but if you&#39;re looking for a micro-benchmark library, try out this one by Google: <a href=\"https://github.com/google/benchmark\" rel=\"nofollow noreferrer\">github.com/google/benchmark</a>. It measures CPU-time per iteration, as well as other things."}, {"owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "reply_to_user": {"reputation": 2230, "user_id": 2570677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPgNo.jpg?s=128&g=1", "display_name": "Liran Funaro", "link": "https://stackoverflow.com/users/2570677/liran-funaro"}, "edited": false, "score": 0, "creation_date": 1493828434, "post_id": 43764892, "comment_id": 74571953, "body": "@LiranFunaro Sorry, I want usage in percentage and if it is possible, running time. Can you help me?"}, {"owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "reply_to_user": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 1, "creation_date": 1493828437, "post_id": 43764892, "comment_id": 74571956, "body": "@AlexisWilke thank you so much! For memory It&#39;s good!"}], "answers": [{"comments": [{"owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "edited": false, "score": 0, "creation_date": 1493975615, "post_id": 43780620, "comment_id": 74641497, "body": "Thanks for the answer!"}], "tags": [], "owner": {"reputation": 2230, "user_id": 2570677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPgNo.jpg?s=128&g=1", "display_name": "Liran Funaro", "link": "https://stackoverflow.com/users/2570677/liran-funaro"}, "is_accepted": true, "score": 2, "last_activity_date": 1493894896, "last_edit_date": 1495540943, "creation_date": 1493894446, "answer_id": 43780620, "question_id": 43764892, "link": "https://stackoverflow.com/questions/43764892/measure-cpu-memory-consumption/43780620#43780620", "title": "Measure CPU/memory consumption", "body": "<p>To calculate the percentage of the used CPU, you can use  <a href=\"https://stackoverflow.com/users/212378/alexis-wilke\">Alexsis Wilke</a> advice for using <a href=\"http://man7.org/linux/man-pages/man2/getrusage.2.html\" rel=\"nofollow noreferrer\"><code>getrusage()</code></a> and divide by the total runtime as you calculated in your question.\nThis will give you the average percentage of the used CPU for a single CPU. If you are using many processors, you can also divide by the number of processors.</p>\n"}], "owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 43780620, "answer_count": 1, "score": 1, "last_activity_date": 1493894896, "creation_date": 1493827043, "question_id": 43764892, "link": "https://stackoverflow.com/questions/43764892/measure-cpu-memory-consumption", "title": "Measure CPU/memory consumption", "body": "<p>I used this for measure the time execution in c++:  </p>\n\n<pre><code>struct timeval t1, t2;\ngettimeofday(&amp;t1, NULL);\ngettimeofday(&amp;t2, NULL);\nint milliSeconds = (t2.tv_sec - t1.tv_sec) * 1000 + (t2.tv_usec - t1.tv_usec)/1000;\n</code></pre>\n\n<p>But I want to measure also the cpu / memory consumption. How can I do this?</p>\n"}, {"tags": ["c++", "pointers", "memory", "malloc"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1493830423, "post_id": 43764707, "comment_id": 74573061, "body": "It&quot;s a very simple skill to learn. Don:t ever use <code>malloc</code> and company in C++. Here you go, you now know everything you need about <code>malloc</code>."}, {"owner": {"reputation": 66, "user_id": 7954509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc539b417a3a7adb3ef62c0841bfa70f?s=128&d=identicon&r=PG&f=1", "display_name": "GrainOfSalt", "link": "https://stackoverflow.com/users/7954509/grainofsalt"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1493832696, "post_id": 43764707, "comment_id": 74574374, "body": "Unfortunately, this was related to older code base that was generate by MATLAB coder some 2 years ago. I am only debugging the application."}], "answers": [{"tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": true, "score": 3, "last_activity_date": 1493826806, "creation_date": 1493826806, "answer_id": 43764807, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr/43764807#43764807", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<pre><code>  pData = (double*) calloc (4,sizeof(double));\n  if (pData==NULL) exit (1);\n  double uc[] = {10.0, 20.0, 30.0, 40.0};\n\n  pData = &amp;uc[0];\n\n  printf (\"You have entered: \");\n  for (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\n  free (pData);\n  cin.get();\n</code></pre>\n\n<p>First, you assign <code>pData</code> to a pointer given to you by <code>calloc</code>, <em>this is the only pointer you're allowed to call <code>free</code> on</em>.</p>\n\n<p>You then re-assign <code>pData</code> to point to the address of a variable with automatic lifetime, in the process losing the address that <code>calloc</code> gave you, and then try to <code>free</code> that. That's not how it works, you have to keep a copy around of the address that was given to you by <code>calloc</code> to be able to <code>free</code> it:</p>\n\n<pre><code>  pData = (double*) calloc (4,sizeof(double));\n  if (pData==NULL) exit (1);\n  double uc[] = {10.0, 20.0, 30.0, 40.0};\n  double* originalData = pData;\n  pData = &amp;uc[0];\n\n  printf (\"You have entered: \");\n  for (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\n  free (originalData);\n  cin.get();\n</code></pre>\n\n<hr>\n\n<p>Side note : use <code>new</code> / <code>delete</code> in C++ instead of <code>malloc</code> / <code>calloc</code> / <code>free</code>.</p>\n\n<p>Side side note : Don't use dynamic allocation at all or use smart pointers if you really have to.</p>\n"}, {"tags": [], "owner": {"reputation": 1467, "user_id": 2321368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02976c5560774d0fd4336cc6e4fad075?s=128&d=identicon&r=PG", "display_name": "dan.m was user2321368", "link": "https://stackoverflow.com/users/2321368/dan-m-was-user2321368"}, "is_accepted": false, "score": 0, "last_activity_date": 1493827558, "last_edit_date": 1493827558, "creation_date": 1493827179, "answer_id": 43764948, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr/43764948#43764948", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<p>pData is a pointer.  What that means is that it is a variable (its own piece of memory), which can hold the address of another piece of memory.</p>\n\n<p>In your first example, when you call calloc, it returns the address of a region of memory (that is at least as large as the size requested), and stores it in pData.  You then write to that region, by coping the values from your uc array, one at a time.  You then call free(pData), which says that you are done using the region of memory you previously got from calloc.</p>\n\n<p>In your second example, you allocate a region of memory, and store it in pData like before.  However, then you change what is stored in pData - you explicitly set it to the region of memory that holds your uc array.  When you call free(pData), you are not calling free on the region returned by calloc, but are calling free on the region that was allocated for uc.   That will result in undefined behavior - in your case, the free() call can detect this wasn't memory returned by calloc previously and (presumably) logs an error and terminates the program.</p>\n\n<p>To illustrate, try printing the contents of dData </p>\n\n<pre><code>  printf(\"pData points to address %p\\n\", pData);\n</code></pre>\n\n<p>after the calloc(), and before the free().  In your second case, you'll see that it changed.</p>\n"}, {"tags": [], "owner": {"reputation": 1571, "user_id": 2034218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607f22adeb07d267b740a5441eb36d6d?s=128&d=identicon&r=PG", "display_name": "Tezirg", "link": "https://stackoverflow.com/users/2034218/tezirg"}, "is_accepted": false, "score": 0, "last_activity_date": 1493827558, "creation_date": 1493827558, "answer_id": 43765072, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr/43765072#43765072", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<p>In the second case, you are trying to free an address on the stack !</p>\n\n<p>This assigns pData to <strong>point</strong> to the uc array :\n<code>pData = &amp;uc[0];</code></p>\n\n<p>Because the uc array is on the stack you must not free it. Only heap allocation/release are allowed</p>\n\n<p>This snippet attempts to show the difference by printing the addresses : </p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main(){\n  double * pData;\n  double uc[] = {10.0, 20.0, 30.0, 40.0};\n  pData = (double*) calloc (4,sizeof(double));\n  if (pData==NULL) exit (1);\n\n\n  printf(\"Heap allocated pointer to: %p\\n\", pData);\n  printf(\"Local stack pointer to: %p\", uc);\n\n  pData = &amp;uc[0];\n  printf(\"pData now points to: %p\", pData);\n\n  printf (\"You have entered: \");\n  for (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\n  free (pData);\n  cin.get();\n  return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": -1, "last_activity_date": 1493827662, "creation_date": 1493827662, "answer_id": 43765109, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr/43765109#43765109", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<p>The key here is that a pointer <strong>points at</strong> some other data object. So what you do with the pointer affects that data object. In the first example, the data object is an array allocated on the free store. When you're finished with that array you should release it; that's what <code>free(pData)</code> does. In the second example, the pointer ends up pointing at a data object that is an array allocated on the stack, i.e., it points at <code>uc</code>. Since <code>uc</code> is allocated on the stack, it will be released when the code leaves the current scope. It was not created on the heap, so it must not be freed.</p>\n"}, {"tags": [], "owner": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1493828343, "creation_date": 1493828343, "answer_id": 43765310, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr/43765310#43765310", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<p>I'm going to explain what your 2nd snippet does:</p>\n\n<pre><code>double * pData;\npData = (double*) calloc (4,sizeof(double));\nif (pData==NULL) exit (1);\ndouble uc[] = {10.0, 20.0, 30.0, 40.0};\n\npData = &amp;uc[0];\n\nprintf (\"You have entered: \");\nfor (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\nfree (pData);\n</code></pre>\n\n<ol>\n<li>Declare pointer to double</li>\n<li>Allocate and initialize chunk of 4 doubles on the heap, make <code>pData</code> point to the 1st element of the chunk</li>\n<li>If allocation fails, exit</li>\n<li>Declare and initialize array of 4 doubles called <code>uc</code></li>\n<li>Make <code>pData</code> point to the first element of <code>uc</code> - leaking the previously allocated chunk.</li>\n<li>Print a bit</li>\n<li>Loop through <code>pData</code> (which is now an alias of <code>uc</code>) and print the elements</li>\n<li>Attempt de-allocating memory that lives on the stack (<code>uc</code>) - Undefined behaviour, causes your error</li>\n</ol>\n\n<p>What you were trying to do, which is what the 1st snippet does successfully, is to copy <code>uc</code> in to <code>pData</code>. As you can see, this is not what this code does.</p>\n\n<hr>\n\n<p>What does it have to do with \"corruption of the heap\"?</p>\n\n<p>C (from which C++ inherits) has an abstract concept of <em>\"stack\"</em> and <em>\"heap\"</em>. Everything you create with <code>malloc</code>, <code>calloc</code> (and the <code>new</code> keyword in C++) lives on the <em>heap</em>, and all the rest on the <em>stack</em>.</p>\n\n<p>When you get a resource from the heap, it is your responsibility to free it. The compiler takes care of the stack for you.\nWhen trying to de-allocate memory that isn't in your jurisdiction (as I said, the stack is the compilers territory), you've placed a stick in it's wheels.\nSo a complicated process of failure has begun.</p>\n\n<p>Freeing memory on the stack is <em>undefined behaviour</em>, which means that the standard does not specify what should happen if you do that. Every compiler and every machine is free to do whatever if you write undefined behaviour - including throwing unrelated errors, suddenly combusting, or even working correctly.</p>\n"}], "owner": {"reputation": 66, "user_id": 7954509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc539b417a3a7adb3ef62c0841bfa70f?s=128&d=identicon&r=PG&f=1", "display_name": "GrainOfSalt", "link": "https://stackoverflow.com/users/7954509/grainofsalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 2, "accepted_answer_id": 43764807, "answer_count": 5, "score": 1, "last_activity_date": 1493829634, "creation_date": 1493826506, "question_id": 43764707, "link": "https://stackoverflow.com/questions/43764707/how-to-free-a-pointer-after-it-has-been-initialized-to-the-first-index-of-an-arr", "title": "How to free a pointer after it has been initialized to the first index of an array?", "body": "<p>Trying to learn how to use malloc/calloc/free and messing around with initialization. First version of code works, second version gives me a corruption of heap. However, both of them correctly print the array. The issue occurs in the second version when I try to \"free(pData)\" after initializing a pointer to the address of the first element in an array. </p>\n\n<p>Can anyone explain this behavior? And is there any way of clearing such an initialized pointer?</p>\n\n<p>Working Version:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main(){\n  double * pData;\n  pData = (double*) calloc (4,sizeof(double));\n  if (pData==NULL) exit (1);\n  double uc[] = {10.0, 20.0, 30.0, 40.0};\n\n  pData[0] = uc[0];\n  pData[1] = uc[1];\n  pData[2] = uc[2];\n  pData[3] = uc[3];\n\n  printf (\"You have entered: \");\n  for (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\n  free (pData);\n  cin.get();\n  return 0;\n}\n</code></pre>\n\n<p>Corruption of the heap error:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main(){\n  double * pData;\n  pData = (double*) calloc (4,sizeof(double));\n  if (pData==NULL) exit (1);\n  double uc[] = {10.0, 20.0, 30.0, 40.0};\n\n  pData = &amp;uc[0];\n\n  printf (\"You have entered: \");\n  for (int n=0;n&lt;4;n++) cout &lt;&lt; pData[n];\n  free (pData);\n  cin.get();\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "pairing"], "comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 4, "creation_date": 1493825965, "post_id": 43764453, "comment_id": 74570352, "body": "Do I understand correctly that in general you want to break the array up into groups of four and then pair the first element of every group of four with the last element, and pair the middle two elements?"}, {"owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "reply_to_user": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1493826196, "post_id": 43764453, "comment_id": 74570515, "body": "I don&#39;t want to break..i just need the index of the pair element J  that depends on the current index of the loop I.And yes i want them to be in that relationship : first with 4-th and second with third..while the array is indeed a multiple of 4."}], "answers": [{"comments": [{"owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "edited": false, "score": 0, "creation_date": 1493826791, "post_id": 43764619, "comment_id": 74570921, "body": "Thank you for your response but i want to loop through all the array..i dont want the increment condition changed.I just want to do something to the pair element ,what would the index of the pair element be?(assuming current element is I what J=f(I)..how do i calculate J at every iteration?"}], "tags": [], "owner": {"reputation": 16785, "user_id": 3355476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YdMWy.jpg?s=128&g=1", "display_name": "Codor", "link": "https://stackoverflow.com/users/3355476/codor"}, "is_accepted": false, "score": 1, "last_activity_date": 1493827040, "last_edit_date": 1493827040, "creation_date": 1493826250, "answer_id": 43764619, "question_id": 43764453, "link": "https://stackoverflow.com/questions/43764453/general-formula-for-pairing-members-of-array/43764619#43764619", "title": "General formula for pairing members of array?", "body": "<p>You could do it as follows by keeping the incremental iteration but use a function depending on the current block and the remainder as follows.</p>\n\n<pre><code>int myarr[8]={1,2,3,4,5,6,7,8};\n\nint Successor(int i)\n{\n    int BlockStart = i / 4;\n    int Remainder = i % 4;\n    int j = 0;\n    if ( Remainder == 0 )\n        j = 0;\n    else if ( Remainder == 1 )\n        j = 3;\n    else if ( Remainder == 2 )\n        j = 1;\n    else if ( Remainder == 3 )\n        j = 2\n    return BlockStart + j;\n}\n\nfor(int i = 0; i &lt; 8; i++)\n{\n    j = f(i);\n    // usage of the index\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "edited": false, "score": 1, "creation_date": 1493827498, "post_id": 43764702, "comment_id": 74571369, "body": "Thank you sir...damn i am so dumb and i wanted to get into software development..."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 0, "creation_date": 1493889370, "post_id": 43764702, "comment_id": 74597845, "body": "Keeping learning, keep programming.  You&#39;ll get there.  Things are obvious to experienced developers because we&#39;ve done it a 1000 times before."}], "tags": [], "owner": {"reputation": 3197, "user_id": 5853530, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b9567983f2e1d6c2315fa26202accb6?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev Singh", "link": "https://stackoverflow.com/users/5853530/rajeev-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1493826495, "creation_date": 1493826495, "answer_id": 43764702, "question_id": 43764453, "link": "https://stackoverflow.com/questions/43764453/general-formula-for-pairing-members-of-array/43764702#43764702", "title": "General formula for pairing members of array?", "body": "<p>Basically, if <code>i</code> is odd <code>j</code> would be <code>i+3</code>, otherwise <code>j = i+1</code>;</p>\n\n<pre><code>int func(int i) {\n    if(i%2 != 0)\n        return i+3;\n    else\n        return i+1;\n}\n</code></pre>\n\n<p>This will generate</p>\n\n<pre><code>func(1) = 4, func(2) = 3, func(5) = 8, func(6) = 7 // {1,4},{2,3},{5,8},{6,7}.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "edited": false, "score": 0, "creation_date": 1493831075, "post_id": 43765228, "comment_id": 74573456, "body": "Thank you sir ...any piece of advice on how to get better at spotting these kinds of patterns,formulas?"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "edited": false, "score": 0, "creation_date": 1493832707, "post_id": 43765228, "comment_id": 74574381, "body": "@user1913744 I just formalized what you described in natural language into a mathematical function. I did it by example, thinking about concrete numbers and seeing what operations need to be applied to get to the result. So knowing what operations are available is one part. Second part is taking a small example and working it with pencil and paper, kind of like simulating a computer, noting every step of the process. From this, usually it should be possible to figure the instructions you want to give to the computer, so it can do the same you just did by hand."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "edited": false, "score": 0, "creation_date": 1493832809, "post_id": 43765228, "comment_id": 74574436, "body": "In this particular case, the example that you want to work out with pencil and paper would be the one you posted: finding a pair for number 1, then finding a pair for number 2, then for number 3, and so on..."}], "tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": false, "score": 1, "last_activity_date": 1493830497, "last_edit_date": 1493830497, "creation_date": 1493828088, "answer_id": 43765228, "question_id": 43764453, "link": "https://stackoverflow.com/questions/43764453/general-formula-for-pairing-members-of-array/43765228#43765228", "title": "General formula for pairing members of array?", "body": "<p>About the generalization, this should do it:</p>\n\n<pre><code>auto pairs(const vector&lt;int&gt;&amp; in, int groupLength = 4) {\n    vector&lt;pair&lt;int, int&gt;&gt; result;\n    int groups = in.size() / groupLength;\n    for (int group = 0; group &lt; groups; ++group) {\n        int i = group * groupLength;\n        int j = i + groupLength - 1;\n        while (i &lt; j) {\n            result.emplace_back(in[i++], in[j--]);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>You can <a href=\"http://ideone.com/HV9pZy\" rel=\"nofollow noreferrer\">run this code online</a>.</p>\n\n<p>If you are just looking for a formula to calculate the indices, then <a href=\"http://ideone.com/kVH4hD\" rel=\"nofollow noreferrer\">in general case it's</a>:</p>\n\n<pre><code>int f(int i, int k = 4) {\n    return i + k - 2 * (i % k) - 1;\n}\n</code></pre>\n\n<p>Turns out your special case (size 4) is <a href=\"https://oeis.org/A004444\" rel=\"nofollow noreferrer\">sequence A004444 in OEIS</a>.</p>\n\n<p>In general you have <a href=\"https://oeis.org/search?q=nimsum&amp;sort=&amp;language=&amp;go=Search\" rel=\"nofollow noreferrer\">\"nimsum n + (size-1)\"</a>.</p>\n"}], "owner": {"reputation": 6267, "user_id": 1913744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5bAQS.jpg?s=128&g=1", "display_name": "Bercovici Adrian", "link": "https://stackoverflow.com/users/1913744/bercovici-adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1493830497, "creation_date": 1493825749, "last_edit_date": 1493825992, "question_id": 43764453, "link": "https://stackoverflow.com/questions/43764453/general-formula-for-pairing-members-of-array", "title": "General formula for pairing members of array?", "body": "<p>Hello guys I am having the following problem:</p>\n\n<p>I have an array with a lenght that is a multiple of 4 e.g:<br></p>\n\n<pre><code>{1,2,3,4,5,6,7,8}\n</code></pre>\n\n<p>I want to know how can i get the numbers in the following pairs: {1,4},{2,3},{5,8},{6,7}.....(etc)</p>\n\n<p>Suppose i loop through them and i want to get the index of the pair member from my current index</p>\n\n<pre><code>int myarr[8]={1,2,3,4,5,6,7,8};\n\nfor(int i=0;i&lt;8;i++)\n**j= func(i)**\n</code></pre>\n\n<p>I have thought of something like this:</p>\n\n<p><em>f(1)=4</em><br>\n<em>f(4)=1</em><br>\nand i would be taking:   <code>**f(i)=a * i + b**</code><br> (i think a linear function is enough)<br> It would result: <strong>f(i)=j=-i+5</strong> .<br>How can i generalise this for more then 4 members? What do you do in cases where you need a general formula for pairing elements?</p>\n"}, {"tags": ["c++", "c++11", "visual-studio-2015", "unordered-set"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1493838242, "post_id": 43764385, "comment_id": 74577603, "body": "Where did you read that using <code>malloc</code> to create complex class types in C++ would be okay? We need to correct the learning resource you were using."}, {"owner": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493841763, "post_id": 43764385, "comment_id": 74579419, "body": "I din&#39;t know that just playing around it, btw why did that work on gcc ?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493849287, "post_id": 43764385, "comment_id": 74582986, "body": "It didn&#39;t. It merely <i>appeared</i> to, by pure chance."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 0, "creation_date": 1493841705, "post_id": 43768056, "comment_id": 74579388, "body": "Thank you so much!"}, {"owner": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 0, "creation_date": 1493842212, "post_id": 43768056, "comment_id": 74579664, "body": "and btw, how do i realloc on non-POD Types?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 0, "creation_date": 1493847237, "post_id": 43768056, "comment_id": 74582173, "body": "@praveen You don&#39;t.  There is no API to extend an allocation block without copying in C/C++, and only &quot;trivially copyable&quot; objects can be safely copied by the realloc procedure."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 0, "creation_date": 1493848478, "post_id": 43768056, "comment_id": 74582677, "body": "@praveen Then again, you could write an allocator that supported a realloc like functionality; it would be a &quot;extend this block if possible&quot;.  If it failed, you&#39;d fall back on allocating a <i>new</i> block and copying.  However, vector and other standard container wouldn&#39;t support it."}, {"owner": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 0, "creation_date": 1493868543, "post_id": 43768056, "comment_id": 74587772, "body": "So i can instead do a vector&lt;MyStruct&gt; Arr;   Arr.push_back(tk); and do resize on the vector (if needed), it is completely safe?, thanks"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "edited": false, "score": 1, "creation_date": 1493902234, "post_id": 43768056, "comment_id": 74607048, "body": "@praveen <code>vector</code> does not <code>realloc</code>; it allocates (exponentially larger) buffers and <code>move</code>s.  This does not merely copy bytes, but calls the move constructor.  In the case of <code>MyStruct</code>, a move will probably copy bytes &amp; clean up the source object so it doesn&#39;t think it owns anything -- a few pointers worth of bytes per <code>unordered_set</code>, regardless of how big the set is.  It is the logical equivalent of <code>realloc</code>, but <code>realloc</code> copies bytes without knowing the meaning (copies blindly), while <code>vector</code> knows the meaning of the bytes and &quot;does the right thing&quot;."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 4, "last_activity_date": 1493842018, "last_edit_date": 1493842018, "creation_date": 1493838083, "answer_id": 43768056, "question_id": 43764385, "link": "https://stackoverflow.com/questions/43764385/visual-studio-unordered-set-exception-works-on-codeblocks/43768056#43768056", "title": "Visual Studio unordered_set exception , works on Codeblocks", "body": "<pre><code>MyStruct *Arr = (MyStruct *)malloc(10* sizeof(MyStruct));\n</code></pre>\n\n<p>Using <code>*Arr</code> or <code>Arr[i]</code> in any way is ill-formed no diagnostic required, because no object of type <code>MyStruct</code> exists at anywhere <code>Arr</code> points.  Simply creating a block of memory large enough to hold an object does not create an object.</p>\n\n<p>Many compilers will let you do this for plain old data types and act as if it is defined behavior (it isn't, but they permit it).</p>\n\n<p>It does not reliably work for non-pod types on any compiler.</p>\n\n<pre><code>Arr[0] = tk;  // This isnt working, giving an exception \n              //the same code runs as expected on codeblocks \n</code></pre>\n\n<p>Undefined behavior working is not evidence code is correct.</p>\n\n<pre><code>MyStruct *Arr = (MyStruct *)malloc(10* sizeof(MyStruct));\n\n::new( (void*)&amp;Arr[0] ) MyStruct( tk );\n</code></pre>\n\n<p>That is the proper way to construct an object that is a copy of <code>tk</code> in a location where no object exists.  Note that you are in charge of manually destroying that object.</p>\n\n<p>You could also:</p>\n\n<pre><code>for (int i = i; i &lt; 10; ++i)\n  ::new( (void*)(Arr+i) ) MyStruct{};\n</code></pre>\n\n<p>and construct an object in each of the \"<code>MyStruct</code> size holes\".  Then</p>\n\n<pre><code>Arr[0] = tk;\n</code></pre>\n\n<p>would be legal.</p>\n\n<pre><code>for (auto x : Arr[0].mySet) printf(\"%d \", x);\n\nreturn 0;\n</code></pre>\n\n<p>Before you return, you should destroy each object you created as a matter of sanity.</p>\n\n<pre><code>Arr[0].~MyStruct();\n</code></pre>\n\n<p>if you only constructed the one, or</p>\n\n<pre><code>for (int i = 0; i &lt; 10; ++i)\n  Arr[i].~MyStruct();\n</code></pre>\n\n<p>if you constructed all 10.</p>\n\n<p>Aside:</p>\n\n<p>There are some arguments about if the standard may be a bit ambiguous about if you can take a buffer of size of 10 <code>MyStruct</code> and treat it like an array; however, most would consider it a defect if it wasn't possible to do that.</p>\n\n<p>As a general rule, you don't want to use <code>malloc</code>'d data to hold non-POD types.  Just call <code>new MyStruct[10]</code> instead.</p>\n"}], "owner": {"reputation": 71, "user_id": 7908897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2d40f42a8832c9f4dc83e493c10c6?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7908897/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493842018, "creation_date": 1493825593, "last_edit_date": 1493838196, "question_id": 43764385, "link": "https://stackoverflow.com/questions/43764385/visual-studio-unordered-set-exception-works-on-codeblocks", "title": "Visual Studio unordered_set exception , works on Codeblocks", "body": "<pre><code>typedef struct MyStruct {\n    unordered_set&lt;int&gt; mySet;\n}MyStruct;\n\nint main(){\n    unordered_set&lt;int&gt; sset{ 1,2,3,4,5 };\n    MyStruct tk;\n    tk.mySet = sset;  //This works fine.\n    for (auto x : tk.mySet) printf(\"%d \", x);\n\n    MyStruct *Arr = (MyStruct *)malloc(10* sizeof(MyStruct));\n\n    Arr[0] = tk;  // This isnt working, giving an exception \n                  //the same code runs as expected on codeblocks \n\n    for (auto x : Arr[0].mySet) printf(\"%d \", x);\n\n    return 0;\n}\n</code></pre>\n\n<p>This is the exception i get when i run the debugger.</p>\n\n<blockquote>\n<pre><code>&lt;fileName&gt;.exe!std::list&lt;int,std::allocator&lt;int&gt;  &gt;::_Orphan_ptr(std::_List_node&lt;int,void *&gt; * _Ptr) Line 1919    C++\n&lt;fileName&gt;.exe!std::list&lt;int,std::allocator&lt;int&gt; &gt;::clear() Line 1501 C++    \n&lt;fileName&gt;.exe!std::_Hash&lt;std::_Uset_traits&lt;int,std::_Uhash_compare&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt; &gt;,std::allocator&lt;int&gt;,0&gt; &gt;::_Copy(const std::_Hash&lt;std::_Uset_traits&lt;int,std::_Uhash_compare&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt; &gt;,std::allocator&lt;int&gt;,0&gt; &gt; &amp; _Right) Line 843    C++    \n&lt;fileName&gt;.exe!std::_Hash&lt;std::_Uset_traits&lt;int,std::_Uhash_compare&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt; &gt;,std::allocator&lt;int&gt;,0&gt; &gt;::operator=(const std::_Hash&lt;std::_Uset_traits&lt;int,std::_Uhash_compare&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt; &gt;,std::allocator&lt;int&gt;,0&gt; &gt; &amp; _Right) Line 291    C++    \n&lt;fileName&gt;.exe!std::unordered_set&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt;,std::allocator&lt;int&gt; &gt;::operator=(const std::unordered_set&lt;int,std::hash&lt;int&gt;,std::equal_to&lt;int&gt;,std::allocator&lt;int&gt; &gt; &amp; _Right) Line 187  C++  \n&lt;fileName&gt;.exe!main()  \n[External Code]     \n[Frames below may be incorrect and/or missing, no symbols loaded for kernel32.dll]  \n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "c++", "boost", "cygwin"], "answers": [{"comments": [{"owner": {"reputation": 1131, "user_id": 7601529, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tJCew.jpg?s=128&g=1", "display_name": "Patrick Kelly", "link": "https://stackoverflow.com/users/7601529/patrick-kelly"}, "edited": false, "score": 0, "creation_date": 1493947386, "post_id": 43765605, "comment_id": 74630782, "body": "This does indeed seem to be the correct answer, and just something of an annoyance that Cygwin&#39;s install doesn&#39;t include it in their distribution.  Thanks."}], "tags": [], "owner": {"reputation": 1571, "user_id": 2034218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607f22adeb07d267b740a5441eb36d6d?s=128&d=identicon&r=PG", "display_name": "Tezirg", "link": "https://stackoverflow.com/users/2034218/tezirg"}, "is_accepted": true, "score": 1, "last_activity_date": 1493829366, "creation_date": 1493829366, "answer_id": 43765605, "question_id": 43764315, "link": "https://stackoverflow.com/questions/43764315/where-can-i-find-bjam-in-the-cygwin-boost-packages/43765605#43765605", "title": "Where can I find bjam in the Cygwin Boost packages?", "body": "<p>On the tutorial page it says : </p>\n\n<blockquote>\n  <p>Before anything else, you should have the bjam executable in your boost directory or somewhere in your path such that bjam can be executed in the command line. Pre-built Boost.Jam executables are available for most platforms. The complete list of Bjam executables can be found here.</p>\n</blockquote>\n\n<p>Where the link point to source forge where you can download the last version of bjam : <a href=\"https://sourceforge.net/projects/boost/files/boost-jam/3.1.18/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/boost/files/boost-jam/3.1.18/</a></p>\n\n<p>If you already have it on your computer from previous boost installations, just add it into your environnement path variable. </p>\n"}], "owner": {"reputation": 1131, "user_id": 7601529, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tJCew.jpg?s=128&g=1", "display_name": "Patrick Kelly", "link": "https://stackoverflow.com/users/7601529/patrick-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 43765605, "answer_count": 1, "score": 1, "last_activity_date": 1493829366, "creation_date": 1493825379, "question_id": 43764315, "link": "https://stackoverflow.com/questions/43764315/where-can-i-find-bjam-in-the-cygwin-boost-packages", "title": "Where can I find bjam in the Cygwin Boost packages?", "body": "<p>I am trying to follow <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/python/doc/html/tutorial/tutorial/hello.html\" rel=\"nofollow noreferrer\">this tutorial</a>, which suggests I use <code>bjam</code> to call C++ code from python.  I am using Cygwin on Windows 10 and have installed all of the Boost library packages.  I still can't find it anywhere in the installation.  I went to the <a href=\"https://cygwin.com/cgi-bin2/package-grep.cgi\" rel=\"nofollow noreferrer\">Cygwin Package Search</a> page and am unable to find any mention of it. Do I need to install Boost from scratch just to get access to this tool? Part of me is convinced it has to be in the Cygwin installation somewhere, but I am unable to find it.  Thanks for any pointers/suggestions/answers you may have.</p>\n"}, {"tags": ["c++", "c++11", "templates", "argument-dependent-lookup", "noexcept"], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 4116453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc1fc7110332508e97352b541049f154?s=128&d=identicon&r=PG&f=1", "display_name": "Dante", "link": "https://stackoverflow.com/users/4116453/dante"}, "edited": false, "score": 0, "creation_date": 1493885657, "post_id": 43768437, "comment_id": 74595468, "body": "I think I understand some parts of those paragraphs, but they&#39;re a bit too obscure to me. I only have one TU and no external linkage functions in my example, how is the last paragraph related to the code I linked? If I understand correctly, the <code>magic</code> method is linked to the first paragraph, but I have some trouble grasping the exact reason. Thanks a lot for the standard excerpts though"}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 6, "last_activity_date": 1493839619, "creation_date": 1493839619, "answer_id": 43768437, "question_id": 43764311, "link": "https://stackoverflow.com/questions/43764311/inconsistencies-with-conditional-noexcept-and-overloads/43768437#43768437", "title": "Inconsistencies with conditional noexcept and overloads", "body": "<p><a href=\"https://timsong-cpp.github.io/cppwp/temp.point#8\" rel=\"noreferrer\">[temp.point]/8</a>:</p>\n\n<blockquote>\n  <p>A specialization for a function template [...] may\n  have multiple points of instantiations within a translation unit, and\n  in addition to the points of instantiation described above, for any\n  such specialization that has a point of instantiation within the\n  translation unit, the end of the translation unit is also considered a\n  point of instantiation. [...] If two different points of instantiation\n  give a template specialization different meanings according to the\n  one-definition rule, the program is ill-formed, no diagnostic\n  required.</p>\n</blockquote>\n\n<p>Compare <a href=\"https://timsong-cpp.github.io/cppwp/temp.dep.candidate\" rel=\"noreferrer\">[temp.dep.candidate]</a>:</p>\n\n<blockquote>\n  <p>For a function call where the <em>postfix-expression</em> is a dependent\n  name, the candidate functions are found using the usual lookup rules\n  ([basic.lookup.unqual], [basic.lookup.argdep]) except that:</p>\n  \n  <ul>\n  <li><p>For the part of the lookup using unqualified name lookup, only function declarations from the template definition context are found.</p></li>\n  <li><p>For the part of the lookup using associated namespaces ([basic.lookup.argdep]), only function declarations found in either\n  the template definition context or the template instantiation context\n  are found.</p></li>\n  </ul>\n  \n  <p>If the call would be ill-formed or would find a better match had the lookup within the associated namespaces considered all the function\n  declarations with external linkage introduced in those namespaces in\n  all translation units, not just considering those declarations found\n  in the template definition and template instantiation contexts, then\n  the program has undefined behavior.</p>\n</blockquote>\n"}], "owner": {"reputation": 374, "user_id": 4116453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc1fc7110332508e97352b541049f154?s=128&d=identicon&r=PG&f=1", "display_name": "Dante", "link": "https://stackoverflow.com/users/4116453/dante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 1, "accepted_answer_id": 43768437, "answer_count": 1, "score": 9, "last_activity_date": 1493839619, "creation_date": 1493825375, "question_id": 43764311, "link": "https://stackoverflow.com/questions/43764311/inconsistencies-with-conditional-noexcept-and-overloads", "title": "Inconsistencies with conditional noexcept and overloads", "body": "<p>I have an issue which is quite similar to <a href=\"https://stackoverflow.com/questions/39781244/why-does-order-of-declaring-function-changes-overload-chosen-by-sfinae\">this</a> one.</p>\n\n<p>In short, I have a <code>magic</code> method, which is <code>noexcept</code> if another method is <code>noexcept</code>.</p>\n\n<p>The weird thing is that this \"another method\" has two overloads, and the compiler chooses the <strong>second</strong> overload to determine <code>magic</code> <code>noexcept</code>-ness.</p>\n\n<p>However, when <code>magic</code> is called later on, the <strong>first</strong> overload is called, but the <code>noexcept</code>-ness of <code>magic</code> remains the same!</p>\n\n<p>Here is the wandbox <a href=\"https://wandbox.org/permlink/XwROqTUJqIaCiYU2\" rel=\"noreferrer\">link</a></p>\n\n<p>From what I understand:</p>\n\n<ol>\n<li><code>noexcept(magic(dummy2{}))</code> calls</li>\n<li><code>noexcept(noexcept(adl_caller(...))</code> which falls back to</li>\n<li><code>adl_caller(..., priority_tag&lt;0&gt;) noexcept</code>since <code>user_method(dummy2)</code> is not known by the compiler at this point.</li>\n</ol>\n\n<p>Fair enough, however, how is <code>user_method(dummy2)</code> called 3 lines above?\nIs this intended by the Standard?</p>\n\n<p>Sorry if I'm not clear enough.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;unsigned N&gt; struct priority_tag : priority_tag&lt;N - 1&gt; {};\ntemplate &lt;&gt; struct priority_tag&lt;0&gt; {};\n\ntemplate &lt;typename T&gt;\nauto adl_caller(T t, priority_tag&lt;1&gt;) noexcept(noexcept(user_method(t)))\n    -&gt; decltype(user_method(t)) {\n  std::cout &lt;&lt; \"first adl_caller overload\" &lt;&lt; std::endl;\n  user_method(t);\n}\n\n// tricky noexcept ...\ntemplate &lt;typename T&gt; void adl_caller(T, priority_tag&lt;0&gt;) noexcept {\n  std::cout &lt;&lt; \"second adl_caller overload\" &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid magic(T t) noexcept(noexcept(adl_caller(t, priority_tag&lt;1&gt;{}))) {\n  adl_caller(t, priority_tag&lt;1&gt;{});\n}\n\nstruct dummy {};\nstruct dummy2 {};\n\n// un-commenting this line makes the above call to cout print '0'\n// void user_method(dummy2);\n\nvoid user_method(dummy)\n{\n  // user_method(dummy2) is declared after this point\n  // this line prints '1', since magic falls back to the second adl_caller overload\n  std::cout &lt;&lt; \"noexcept?: \" &lt;&lt; noexcept(magic(dummy2{})) &lt;&lt; std::endl;\n  std::cout &lt;&lt; \"dummy method called\" &lt;&lt; std::endl;\n  // however, the first adl_caller overload is called here ...\n  magic(dummy2{});\n}\n\nvoid user_method(dummy2)\n{\n  std::cout &lt;&lt; \"dummy2 method called\" &lt;&lt; std::endl;\n}\n\nint main()\n{\n  magic(dummy{});\n}\n</code></pre>\n"}, {"tags": ["android", "c++", "cocos2d-x"], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1493845371, "last_edit_date": 1493845371, "creation_date": 1493843677, "answer_id": 43769520, "question_id": 43764230, "link": "https://stackoverflow.com/questions/43764230/unable-to-solve-fullpathforfilename-possible-missing-file-error-in-cocos2dx/43769520#43769520", "title": "Unable to solve fullPathForFilename: Possible missing file error in cocos2dx", "body": "<p>You should use relative path to you font file, starting from resource folder as root. I.e if you have subfolders, just use <code>fonts/Mark Felt.ttf</code></p>\n\n<pre><code>auto label= Label::createWithSystemFont(\"xyz\", \"fonts/Mark Felt.ttf\", 16);\n</code></pre>\n\n<p>and also make sure <code>Mark Felt</code> is systemFont otherwise use </p>\n\n<pre><code>auto label= Label::createWithTTF(\"xyz\", \"fonts/Mark Felt.ttf\", 16)\n</code></pre>\n\n<p>Moreover you can also check this thread</p>\n\n<p><a href=\"http://discuss.cocos2d-x.org/t/fonts-not-working-on-android-device/7535\" rel=\"nofollow noreferrer\">http://discuss.cocos2d-x.org/t/fonts-not-working-on-android-device/7535</a></p>\n"}], "owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 43769520, "answer_count": 1, "score": 0, "last_activity_date": 1493898440, "creation_date": 1493825134, "last_edit_date": 1493898440, "question_id": 43764230, "link": "https://stackoverflow.com/questions/43764230/unable-to-solve-fullpathforfilename-possible-missing-file-error-in-cocos2dx", "title": "Unable to solve fullPathForFilename: Possible missing file error in cocos2dx", "body": "<p>I'm currently getting the following error. I'm certain that I have the Mark Felt.ttf file in the Resources -> fonts folder. Currently, I'm developing for android on android-studio.I wonder, what can the problem be? I would love to hear from you! </p>\n\n<pre><code>cocos2d: fullPathForFilename: No file found at Mark Felt. Possible missing file.\n</code></pre>\n\n<p>The code </p>\n\n<pre><code>auto highscoreLabelHeader = Label::createWithSystemFont(\"HIGHSCORE\", \"Mark Felt\", 16);\n</code></pre>\n"}, {"tags": ["c++", "arrays", "stdout"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 4, "creation_date": 1493824081, "post_id": 43763817, "comment_id": 74568910, "body": "Well, it&#39;s time to fire up your debugger (and/or pencil &amp; paper) and trace your program&#39;s execution to find out where it diverges from your expectation/intention."}, {"owner": {"reputation": 4076, "user_id": 1370541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LIKzX.png?s=128&g=1", "display_name": "JSQuareD", "link": "https://stackoverflow.com/users/1370541/jsquared"}, "edited": false, "score": 0, "creation_date": 1493824164, "post_id": 43763817, "comment_id": 74568988, "body": "Do you have an endline at the end of the second line of input? If not, the <code>cin &gt;&gt; rawInput</code> will keep waiting for additional input on the standard input."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493824176, "post_id": 43763817, "comment_id": 74568999, "body": "It&#39;s very clear that things are going wrong at <code>std::cin &gt;&gt; rawInput</code>, due to the debugging statements. I&#39;ll add the <code>gdb</code> statements to the question too."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824225, "post_id": 43763817, "comment_id": 74569035, "body": "<a href=\"http://coliru.stacked-crooked.com/a/be480d6fff9732e0\" rel=\"nofollow noreferrer\">The code segfaults when I run it</a> (fixed <code>int</code>-&gt;<code>size_t</code> in loop to silence warning)."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "reply_to_user": {"reputation": 4076, "user_id": 1370541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LIKzX.png?s=128&g=1", "display_name": "JSQuareD", "link": "https://stackoverflow.com/users/1370541/jsquared"}, "edited": false, "score": 0, "creation_date": 1493824242, "post_id": 43763817, "comment_id": 74569044, "body": "@JSQuareD how would you add an <code>endl</code> on a <code>cin</code>?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824254, "post_id": 43763817, "comment_id": 74569058, "body": "@SharanDuggirala: <i>&quot;It&#39;s very clear that things are going wrong at <code>std::cin &gt;&gt; rawInput</code>&quot;</i> No, it&#39;s not; your <code>std::cout</code> lines are not followed by a <code>std::flush</code> so you really have no idea where the problem is."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824321, "post_id": 43763817, "comment_id": 74569112, "body": "@BoundaryImposition But doesn&#39;t <code>std::cout</code> always do a buffer flush? I might be wrong?"}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493824472, "post_id": 43763817, "comment_id": 74569247, "body": "@all, I have added more info to the question."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824476, "post_id": 43763817, "comment_id": 74569255, "body": "@GillBates: There is no <code>cin</code> between the second <code>cout</code> and the crash."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824483, "post_id": 43763817, "comment_id": 74569261, "body": "@SharanDuggirala: No. Yes."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824522, "post_id": 43763817, "comment_id": 74569307, "body": "@BoundaryImposition Yeah misread."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493824580, "post_id": 43763817, "comment_id": 74569347, "body": "@molbdnilo It should be though - Look at the input?"}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1493824719, "post_id": 43763817, "comment_id": 74569441, "body": "Is there any reason you input a <code>rawInput</code> into a string, instead of directly inputting integers? <a href=\"http://coliru.stacked-crooked.com/a/af9a64de9f0527fd\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/af9a64de9f0527fd</a>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493824842, "post_id": 43763817, "comment_id": 74569533, "body": "Debugging tip: when there are problems, print your input in order to verify that the program has read what you think it did. Especially if you&#39;re absolutely sure that it did."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1493824886, "post_id": 43763817, "comment_id": 74569572, "body": "@JesperJuhl I could only get one digit integers if I work through that."}, {"owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "edited": false, "score": 4, "creation_date": 1493824933, "post_id": 43763817, "comment_id": 74569603, "body": "What if numbers are of two digits? This approach is wrong, don&#39;t use it. <a href=\"https://ideone.com/Q278Qy\" rel=\"nofollow noreferrer\">Try this</a> P.S. I have solved many challenges on HackerRank."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "reply_to_user": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "edited": false, "score": 0, "creation_date": 1493841831, "post_id": 43763817, "comment_id": 74579455, "body": "@user1336087 I hadn&#39;t thought of it that way"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824286, "post_id": 43763912, "comment_id": 74569090, "body": "-1: No, <code>std::cin</code> skips whitespace by default. <a href=\"http://coliru.stacked-crooked.com/a/64d5886a23ad8d0d\" rel=\"nofollow noreferrer\">The inputs proceed just fine</a>. If anything, there is an issue with only obtaining one token of the second line rather than the entire line, but that&#39;s not related to what you&#39;re saying."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824827, "post_id": 43763912, "comment_id": 74569522, "body": "Mind you, after applying the actual fix (switching to <code>getline</code>), you <i>will</i> then need these antics"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493825230, "post_id": 43763912, "comment_id": 74569826, "body": "<i>&quot;It doesn&#39;t pay any attention to the end-of-line that comes after&quot;</i> Again, not true"}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493826673, "post_id": 43763912, "comment_id": 74570844, "body": "A given call to std::cin &gt;&gt; can only skip -- or read -- characters up <i>through</i> what it reads in.  It doesn&#39;t and mustn&#39;t skip or process <i>any</i> character that comes after what it&#39;s reading in, including end-of-line.  For more information see <a href=\"http://www.cplusplus.com/reference/istream/istream/operator%3E%3E/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/istream/istream/operator%3E%3E</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493827122, "post_id": 43763912, "comment_id": 74571121, "body": "It&#39;s the second call that discards the <code>&#39;\\n&#39;</code>, as I demonstrated."}], "tags": [], "owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "is_accepted": false, "score": 0, "last_activity_date": 1493825099, "last_edit_date": 1493825099, "creation_date": 1493824256, "answer_id": 43763912, "question_id": 43763817, "link": "https://stackoverflow.com/questions/43763817/best-way-of-summing-up-an-input-of-string-of-numbers/43763912#43763912", "title": "Best way of summing up an input of string of numbers", "body": "<p>Oh, I see this all the time.  It's subtle.</p>\n\n<pre><code>std::cin &gt;&gt; n;\n</code></pre>\n\n<p>only reads in the first <code>int</code>.  It doesn't pay any attention to the end-of-line that comes after.  So when you're ready to read in that string, it goes to the end of the line -- the first line, the one that's got <code>n</code> on it.</p>\n\n<p>Fix:</p>\n\n<pre><code>std::cin &gt;&gt; n;\nstd::cin.ignore(256,'\\n'); //ignore up thru next '\\n' or 256 chars, whichever is first\n</code></pre>\n\n<p>This skips that end of line and lets you start on the next.</p>\n\n<p>Another fix, less robust:</p>\n\n<pre><code>std::cin &gt;&gt; n;\nstd::cin.get(); //Gets the next char, which in this case happens to be '\\n'\n</code></pre>\n\n<p>You also need to change <code>std::cin &gt;&gt; rawInput;</code> to </p>\n\n<pre><code>char rawInputCharStar [SOMEBIGNUM];\nstd::cin.getline (rawInputCharStar,SOMEBIGNUM);\nrawInput = rawInputCharStar\n</code></pre>\n\n<p>so it can read in more than one of the strings.  (I had to go to char* because getline expects a char*.  There may be a more elegant way.)</p>\n\n<p>When you get to the for loop, you'll find that the number of numbers in the string is NOT the <em>size</em> of the string, so you need different bounds.</p>\n\n<p>(Of course, I dont' know why you're not just reading them all in as ints, but you must have a reason.)</p>\n"}, {"comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1493824646, "post_id": 43764012, "comment_id": 74569389, "body": "Doesn&#39;t <code>rawInput</code> only contain <code>\\n</code> in this case?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1493824653, "post_id": 43764012, "comment_id": 74569391, "body": "@GillBates: No. Formatted extraction skips whitespace by default. Repeated extractions into either <code>int</code> or <code>std::string</code> here will produce the following results in turn: 4, 6, 7, 8, 9 <a href=\"http://coliru.stacked-crooked.com/a/bed15d75b3b809f8\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/bed15d75b3b809f8</a>"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1493824864, "post_id": 43764012, "comment_id": 74569555, "body": "Hmm didn&#39;t know it also skips <code>\\n</code>, TIL."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1493825038, "post_id": 43764012, "comment_id": 74569669, "body": "You never clear <code>number</code> after pushing it into the vector btw."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493825122, "post_id": 43764012, "comment_id": 74569745, "body": "Perfect! Thank you for your answer!"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493825213, "post_id": 43764012, "comment_id": 74569812, "body": "Got there in the end :D"}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493825424, "post_id": 43764012, "comment_id": 74569962, "body": "@BoundaryImposition <code>while (std::cin &gt;&gt; temp) {numbers.push_back(temp);}</code> why does this work? I mean, I know that <code>cin</code> ignores all the white spaces, but, if you don&#39;t mind, could you elaborate on the inner working of this vs. why you have to put in a <code>std::cin.ignore(256,&#39;\\n&#39;);</code> in my previous solution?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493825452, "post_id": 43764012, "comment_id": 74569983, "body": "@SharanDuggirala: Why would it <i>not</i> work? I need to know more about why you&#39;re confused before I can solve that confusion. Repeated calls to <code>std::cin &gt;&gt; anInteger</code> extract numbers from your input stream, discarding all whitespace in between. Whitespace includes spaces, tabs and newlines. But <code>getline</code> is a different feature. You&#39;re still &quot;on&quot; the first line at this point, between the <code>4</code> and the <code>\\n</code>, so that&#39;s all you&#39;re gonna get."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "reply_to_user": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493825511, "post_id": 43764012, "comment_id": 74570029, "body": "@SharanDuggirala Because it uses <code>getline</code>, <code>getline</code> stops when it encounters a <code>\\n</code> and the first <code>cin</code> that gets <code>n</code> leaves <code>\\n</code> in so we need to skip that."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1493825529, "post_id": 43764012, "comment_id": 74570039, "body": "Because it&#39;s using the <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt\" rel=\"nofollow noreferrer\">FormattedInputFunction</a> overload directly. As documented this handles skipping whitespace."}, {"owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 1, "creation_date": 1493826093, "post_id": 43764012, "comment_id": 74570426, "body": "Would you guys suggest, I change the name of the question, so that it&#39;s more helpful to the community?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "edited": false, "score": 0, "creation_date": 1493826401, "post_id": 43764012, "comment_id": 74570665, "body": "@SharanDuggirala: 100%"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 4, "last_activity_date": 1493825172, "last_edit_date": 1493825172, "creation_date": 1493824554, "answer_id": 43764012, "question_id": 43763817, "link": "https://stackoverflow.com/questions/43763817/best-way-of-summing-up-an-input-of-string-of-numbers/43764012#43764012", "title": "Best way of summing up an input of string of numbers", "body": "<p>The direct cause of the crash is the assumption that <code>n</code> is correct. You never confirmed it in your code, but go on to use it when iterating over <code>numbers</code>. You then overrun <code>numbers</code> and cause <code>stoi</code> to blow up.</p>\n\n<p>In fact, <code>n</code> is not 4! It's only 1 because your second line of input is broken. Simply print out the value of <code>rawInput</code> and you'll see.</p>\n\n<p>To read the line <code>6 7 8 9</code>, you want <code>std::getline(std::cin, rawInput)</code>. Formatted extraction to a <code>std::string</code> (which you're using now) will only pull out the first \"token\"; i.e., just <code>6</code>.</p>\n\n<p>However, when switching to <code>std::getline</code>, you <em>will</em> now need the newline-skipping antics explored in Topological Sort's answer, since non-formatted extraction does not skip whitespace in the same way.</p>\n\n<p>Finally, you never clear <code>number</code> after adding it to the vector, and you never handle the final value.</p>\n\n<p>I also suggest adding some newlines to the ends of your output statements.</p>\n\n<p>Here's a fixed program:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;algorithm&gt;\n\nint main(){\n\n    int n;\n    std::cin &gt;&gt; n;\n\n    // Get all the numbers \n    std::string rawInput;\n    std::cin.ignore(256,'\\n'); \n    std::getline(std::cin, rawInput);\n\n    std::vector&lt;std::string&gt; numbers;\n    std::string number = \"\"; \n    for (size_t i = 0; i &lt; rawInput.size(); i++) {\n        char c = rawInput[i];\n        if (c == ' ') {\n            numbers.push_back(number);\n            number = \"\";\n        }\n        number += c; \n    }\n\n    // One more! If there wasn't a space at the end of it.\n    if (!number.empty())\n        numbers.push_back(number);\n\n    // Get all the ints\n    int sum = 0;\n    for (size_t j = 0; j &lt; numbers.size(); j++) { \n        sum += stoi(numbers[j]); \n    } \n\n    std::cout &lt;&lt; sum &lt;&lt; '\\n'; \n}\n</code></pre>\n\n<h3>(<a href=\"http://coliru.stacked-crooked.com/a/2a290ab36e8df97f\" rel=\"nofollow noreferrer\">live demo</a>)</h3>\n\n<hr>\n\n<p>I would actually recommend just sticking with formatted extraction throughout, which is much simpler:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;numeric&gt;\n#include &lt;algorithm&gt;\nint main()\n{\n    int n;\n    std::cin &gt;&gt; n;\n\n    // Get all the numbers \n    std::vector&lt;int&gt; numbers;\n    int temp;\n    while (std::cin &gt;&gt; temp)\n        numbers.push_back(temp);\n\n    const int sum = std::accumulate(numbers.begin(), numbers.end(), 0);\n    std::cout &lt;&lt; sum &lt;&lt; '\\n'; \n}\n</code></pre>\n\n<p>Note that we don't need <code>n</code> at all any more! But if you want to artificially constrain the extraction to just <code>n</code> numbers, you can do that in your <code>while</code> loop.</p>\n\n<h3>(<a href=\"http://coliru.stacked-crooked.com/a/2b3ff028eae32b55\" rel=\"nofollow noreferrer\">live demo</a>)</h3>\n"}, {"tags": [], "owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "is_accepted": false, "score": 2, "last_activity_date": 1493825434, "last_edit_date": 1493825434, "creation_date": 1493824848, "answer_id": 43764127, "question_id": 43763817, "link": "https://stackoverflow.com/questions/43763817/best-way-of-summing-up-an-input-of-string-of-numbers/43764127#43764127", "title": "Best way of summing up an input of string of numbers", "body": "<p>This line reads a single whitespace-delimited token (see the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/operator_ltltgtgt\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n\n<pre><code>std::cin &gt;&gt; rawInput;\n</code></pre>\n\n<p>and this loop runs once for every character in that token, <em>not</em> for every integer on the line (<code>rawInput</code> will only contain the first integer)</p>\n\n<pre><code>for (int i = 0; i &lt; rawInput.size(); i++) {\n</code></pre>\n\n<p>and finally this loop doesn't check whether <code>n</code> and <code>numbers.size()</code> are at all related:</p>\n\n<pre><code>for (int j = 0; j &lt; n; j++) {\n</code></pre>\n\n<p>So you:</p>\n\n<ul>\n<li>overrun the bounds of <code>numbers</code> by using the wrong loop condition</li>\n<li>didn't understand or check the contents of <code>rawInput</code></li>\n<li>didn't understand or check how the formatted input operators work.</li>\n</ul>\n\n<p>Just printing your variable values (or examining them in gdb) would show this - printing <code>we have reached here 1</code> is <em>much</em> less useful than printing <code>the value of rawInput is \"6\"</code> (which would have given you a very strong hint).</p>\n\n<p>On top of those, the correct code can actually use those formatted input operators to do most of the work:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    unsigned N = 0;\n    std::cin &gt;&gt; N;\n    if (!std::cin) return -1;\n\n    unsigned SUM = 0;\n    for (unsigned i = 0; i &lt; N; ++i) {\n        unsigned val;\n        std::cin &gt;&gt; val;\n        if (!std::cin) return -2;\n        SUM += val;\n    }\n    std::cout &lt;&lt; SUM &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>I even included sample error-checking, which you could probably omit from a hackerrank test. It's still much, much shorter and simpler than your version.</p>\n"}, {"tags": [], "owner": {"reputation": 4831, "user_id": 1336087, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtRb6.png?s=128&g=1", "display_name": "ani627", "link": "https://stackoverflow.com/users/1336087/ani627"}, "is_accepted": false, "score": 1, "last_activity_date": 1493874548, "last_edit_date": 1493874548, "creation_date": 1493825695, "answer_id": 43764434, "question_id": 43763817, "link": "https://stackoverflow.com/questions/43763817/best-way-of-summing-up-an-input-of-string-of-numbers/43764434#43764434", "title": "Best way of summing up an input of string of numbers", "body": "<p>The approach you are using is not correct! You are assuming that the number will only have one digit which might not be the case always.</p>\n\n<p>You can simply use <code>cin</code> in a <code>for</code> loop and store all the numbers in a <code>vector</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n    int n;\n    std::vector&lt;int&gt; numbers;\n    std::cin &gt;&gt; n;\n    for(int i=0;i&lt;n;++i)\n    {\n        int no;\n        std::cin &gt;&gt; no;\n        numbers.push_back(no);\n    }\n    long sum = 0;\n    for (auto i : numbers)\n        sum += i;\n    std::cout &lt;&lt; sum;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Input</strong></p>\n\n<pre><code>5\n1 2 31 4 5\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>43\n</code></pre>\n"}], "owner": {"reputation": 2032, "user_id": 4805357, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/muA8J.jpg?s=128&g=1", "display_name": "SDG", "link": "https://stackoverflow.com/users/4805357/sdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 43764012, "answer_count": 4, "score": 0, "last_activity_date": 1493874548, "creation_date": 1493823974, "last_edit_date": 1493841902, "question_id": 43763817, "link": "https://stackoverflow.com/questions/43763817/best-way-of-summing-up-an-input-of-string-of-numbers", "title": "Best way of summing up an input of string of numbers", "body": "<h2>The Problem</h2>\n\n<p>Currently I am looking at a problem on HackerRank where the input comes in the format of: </p>\n\n<pre><code>4 \n6 7 8 9 \n</code></pre>\n\n<p>Basically the first line specifies the number of input integers and the second line specifies all the integers that follow. Seems pretty easy, but not sure as to why my program is not working. </p>\n\n<h2>My Solution</h2>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;algorithm&gt;\n\nint main(){\n\n    int n;\n    std::cin &gt;&gt; n;\n\n    // Get all the numbers \n    std::string rawInput;\n    std::cout &lt;&lt; \"we have reached here 1\";\n    std::cin &gt;&gt; rawInput;\n    std::cout &lt;&lt; \"we have reached here 2\";\n    std::vector&lt;std::string&gt; numbers;\n    std::string number = \"\"; \n    for (int i = 0; i &lt; rawInput.size(); i++) {\n        char c = rawInput[i];\n        if (c == ' ') {\n            numbers.push_back(number);\n        }\n        number += c; \n    }\n\n    // Get all the ints\n    int sum = 0;\n    std::cout &lt;&lt; sum;\n    for (int j = 0; j &lt; n; j++) { \n        sum += stoi(numbers[j]); \n    } \n\n    std::cout &lt;&lt; sum; \n\n    return 0;\n}\n</code></pre>\n\n<h2>Errors</h2>\n\n<p>Now I don't see the debugging <code>cout</code> line: <code>std::cout &lt;&lt; \"we have reached here 2\";</code>. I am not sure as to why this is the case. </p>\n\n<h2>Debugger Output</h2>\n\n<pre><code>DB trace:\nReading symbols from solution...done.\n[New LWP 18595]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nCore was generated by `solution'.\nProgram terminated with signal SIGSEGV, Segmentation fault.\n#0  0x0000000000401042 in __gnu_cxx::__stoa&lt;long, int, char, int&gt; (\n    __idx=&lt;optimized out&gt;, __str=&lt;optimized out&gt;, __name=&lt;optimized out&gt;, \n    __convf=&lt;optimized out&gt;) at /usr/include/c++/6/ext/string_conversions.h:68\n68        const _TRet __tmp = __convf(__str, &amp;__endptr, __base...);\n#0  0x0000000000401042 in __gnu_cxx::__stoa&lt;long, int, char, int&gt; (\n    __idx=&lt;optimized out&gt;, __str=&lt;optimized out&gt;, __name=&lt;optimized out&gt;, \n    __convf=&lt;optimized out&gt;) at /usr/include/c++/6/ext/string_conversions.h:68\n#1  std::__cxx11::stoi (__base=10, __idx=0x0, __str=...)\n    at /usr/include/c++/6/bits/basic_string.h:5414\n#2  main () at solution.cc:32\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-propertytree", "multiple-value"], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 1, "last_activity_date": 1493843269, "last_edit_date": 1495540938, "creation_date": 1493843269, "answer_id": 43769414, "question_id": 43763816, "link": "https://stackoverflow.com/questions/43763816/boostproperty-tree-using-stdvector-in-xml-parser-to-store-multiple-values/43769414#43769414", "title": "Boost::property_tree: Using std::vector&lt;&gt; in XML parser to store multiple values in one key", "body": "<ol>\n<li><p>As the older answer <em>also</em> points out\u00b9 you must satisfy the requirements for <code>boost::property_tree::detail::is_translator</code>, so you need the <code>internal_type</code> / <code>external_type</code> typedefs.</p>\n\n<pre><code>typedef T internal_type;\ntypedef T external_type;\n</code></pre></li>\n<li><p>Next up, the loop is wrong, you need check the result of the value extraction:</p>\n\n<pre><code>while (ss &gt;&gt; temp_value)\n    values.push_back(temp_value);\n</code></pre></li>\n<li><p>It's bad practice to put your own types inside the boost namespace. Only the specialization of <code>translator_between&lt;&gt;</code> needs to be there.</p></li>\n<li><p>You can simplify and generalize a lot of the code</p></li>\n</ol>\n\n<p>All in a working demo:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/2d31028ff991d28b\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/optional.hpp&gt;\n#include &lt;boost/property_tree/ptree.hpp&gt;\n#include &lt;vector&gt;\n#include &lt;list&gt;\n\nnamespace mylib { namespace xml_translators {\n\n    template&lt;typename T&gt; struct container\n    {\n        // types\n        typedef T internal_type;\n        typedef T external_type;\n\n        boost::optional&lt;T&gt; get_value(const std::string&amp; str) const\n        {\n            if (str.empty())\n                return boost::none;\n\n            T values;\n            std::stringstream ss(str);\n\n            typename T::value_type temp_value;\n            while (ss &gt;&gt; temp_value)\n                values.insert(values.end(), temp_value);\n\n            return boost::make_optional(values);\n        }\n\n        boost::optional&lt;std::string&gt; put_value(const T&amp; b) {\n            std::stringstream ss;\n            size_t i = 0;\n            for (auto v : b)\n                ss &lt;&lt; (i++?\" \":\"\") &lt;&lt; v;\n            return ss.str();\n        }\n    };\n\n} }\n\nnamespace boost { namespace property_tree {\n    template&lt;typename ch, typename traits, typename alloc, typename T&gt;\n        struct translator_between&lt;std::basic_string&lt;ch, traits, alloc&gt;, std::vector&lt;T&gt; &gt; {\n            typedef mylib::xml_translators::container&lt;std::vector&lt;T&gt; &gt; type;\n        };\n\n    template&lt;typename ch, typename traits, typename alloc, typename T&gt;\n        struct translator_between&lt;std::basic_string&lt;ch, traits, alloc&gt;, std::list&lt;T&gt; &gt; {\n            typedef mylib::xml_translators::container&lt;std::list&lt;T&gt; &gt; type;\n        };\n} }\n\n#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n#include &lt;boost/property_tree/xml_parser.hpp&gt;\n\nint main()\n{\n    std::stringstream ss;\n    using boost::property_tree::ptree;\n\n    {\n        ptree pt;\n        pt.add(\"base\", std::vector&lt;double&gt; { 1, 6, 3 });\n\n        write_xml(ss, pt, boost::property_tree::xml_writer_settings&lt;std::string&gt;(' ', 2));\n    }\n\n    {\n        ptree pt;\n        read_xml(ss, pt);\n\n        std::cout &lt;&lt; \"As string: '\" &lt;&lt; pt.get(\"base\", \"\") &lt;&lt; \"'\\n\";\n        auto roundtrip = pt.get&lt;std::list&lt;int&gt; &gt;(\"base\");\n        for (auto i : roundtrip)\n            std::cout &lt;&lt; i &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>As string: '1 6 3'\n1\n6\n3\n</code></pre>\n\n<p>\u00b9 <a href=\"https://stackoverflow.com/questions/13072704/boost-property-tree-multiple-values-per-key\">Boost property_tree: multiple values per key</a>, see also the identity translator <a href=\"http://www.boost.org/doc/libs/1_64_0/doc/html/boost/property_tree/id_translator.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_64_0/doc/html/boost/property_tree/id_translator.html</a></p>\n"}], "owner": {"reputation": 115, "user_id": 5492580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojgvp.jpg?s=128&g=1", "display_name": "Sjonnie", "link": "https://stackoverflow.com/users/5492580/sjonnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1386, "favorite_count": 1, "accepted_answer_id": 43769414, "answer_count": 1, "score": 3, "last_activity_date": 1493843269, "creation_date": 1493823974, "last_edit_date": 1495540937, "question_id": 43763816, "link": "https://stackoverflow.com/questions/43763816/boostproperty-tree-using-stdvector-in-xml-parser-to-store-multiple-values", "title": "Boost::property_tree: Using std::vector&lt;&gt; in XML parser to store multiple values in one key", "body": "<p>My question is related to this question: <a href=\"https://stackoverflow.com/questions/13072704/boost-property-tree-multiple-values-per-key\">Boost property_tree: multiple values per key</a> and to a question following that question: <a href=\"https://stackoverflow.com/questions/29801003/boost-property-tree-multiple-values-per-key-on-a-template-class\">Boost property_tree: multiple values per key, on a template class</a>.</p>\n\n<p>I am trying to parse an XML file in which multiple values are listed at a single key value using <code>std::vector&lt;&gt;</code>. The following code is what I have implemented so far:</p>\n\n<pre><code>#include &lt;boost/optional.hpp&gt;\n#include &lt;boost/property_tree/xml_parser.hpp&gt;\n\nnamespace boost { namespace property_tree\n{\n\ntemplate&lt;typename type&gt;\nstruct vector_xml_translator\n{\n    boost::optional&lt;std::vector&lt;type&gt; &gt; get_value(const std::string&amp; str)\n    {\n        if (!str.empty())\n        {\n            std::vector&lt;type&gt; values;\n            std::stringstream ss(str);\n\n            while (ss)\n            {\n                type temp_value;\n                ss &gt;&gt; temp_value;\n                values.push_back(temp_value);\n            }\n\n            return boost::optional&lt;std::vector&lt;type&gt; &gt;(values);\n        }\n        else\n        {\n            return boost::optional&lt;std::vector&lt;type&gt; &gt;(boost::none);\n        }\n    }\n\n    boost::optional&lt;std::string&gt; put_value(const std::vector&lt;type&gt;&amp; b)\n    {\n        std::stringstream ss;\n        for (unsigned int i = 0; i &lt; b.size(); i++)\n        {\n            ss &lt;&lt; b[i];\n            if (i != b.size()-1)\n            {\n                ss &lt;&lt; \" \";\n            }\n        }\n        return boost::optional&lt;std::string&gt;(ss.str());\n    }\n};\n\ntemplate&lt;typename ch, typename traits, typename alloc, typename data_type&gt;\nstruct translator_between&lt;std::basic_string&lt;ch, traits, alloc&gt;, std::vector&lt;data_type&gt; &gt;\n{\n    typedef vector_xml_translator&lt;data_type&gt; type;\n};\n\n} // namespace property_tree\n} // namespace boost\n</code></pre>\n\n<p>A minimal example to test this code is as follows:</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;boost/property_tree/ptree.hpp&gt;\n#include &lt;XML_Vector_Translator.hpp&gt;\n\n\nint main()\n{\n    using boost::property_tree::ptree;\n\n    std::vector&lt;double&gt; test_vector;\n\n    test_vector.push_back(1);\n    test_vector.push_back(6);\n    test_vector.push_back(3);\n\n\n    ptree pt;\n    pt.add(\"base\", test_vector);\n\n    std::ofstream os(\"test_file.xml\");\n\n    write_xml(os, pt, boost::property_tree::xml_writer_settings&lt;std::string&gt;(' ', 2));\n\n    std::ifstream is(\"test_file.xml\");\n\n    ptree pt_2;\n    read_xml(is, pt_2);\n\n    std::vector&lt;int&gt; test_vector_2;\n\n    test_vector_2 = pt_2.get&lt;std::vector&lt;int&gt; &gt;(\"base\");\n\n    for (unsigned int i = 0; i &lt; test_vector_2.size(); i++)\n    {\n        std::cout &lt;&lt; test_vector_2[i] &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>When I run this code I get a number of errors, which lead me to believe that the registration of the translator structure is not right. Does anybody have an idea of how to solve this issue and/or improve this code?</p>\n"}, {"tags": ["c++", "windows", "mingw", "googletest", "clion"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 1435756, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkl3O.jpg?s=128&g=1", "display_name": "Brandon Arnold", "link": "https://stackoverflow.com/users/1435756/brandon-arnold"}, "edited": false, "score": 0, "creation_date": 1493827291, "post_id": 43763908, "comment_id": 74571226, "body": "I read the Google Test Primer and even looked at examples of their usage of EXPECT_STREQ in the googletest codebase, and got the wrong idea. Thanks for clearing it up."}], "tags": [], "owner": {"reputation": 106, "user_id": 7958339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a9aa20f21d309d1e854e0fed82f1?s=128&d=identicon&r=PG&f=1", "display_name": "burzynskig", "link": "https://stackoverflow.com/users/7958339/burzynskig"}, "is_accepted": true, "score": 9, "last_activity_date": 1538467540, "last_edit_date": 1538467540, "creation_date": 1493824241, "answer_id": 43763908, "question_id": 43763615, "link": "https://stackoverflow.com/questions/43763615/windows-gtest-expect-streq-error-no-matching-function-for-call-to-cmphelperst/43763908#43763908", "title": "Windows GTest EXPECT_STREQ: error: no matching function for call to &#39;CmpHelperSTREQ&#39;", "body": "<p>You try to use <code>EXPECT_STREQ</code> to compare two <code>std::string</code>s, when it should be used when comparing raw c strings (<code>char*</code>). </p>\n\n<p>There's a section in <a href=\"https://github.com/google/googletest/blob/master/googletest/docs/primer.md#string-comparison\" rel=\"nofollow noreferrer\">Google Test Primer</a> on that.</p>\n\n<p>In order to compare <code>std::string</code>s you should use <code>EXPECT_EQ</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 380, "user_id": 1435756, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkl3O.jpg?s=128&g=1", "display_name": "Brandon Arnold", "link": "https://stackoverflow.com/users/1435756/brandon-arnold"}, "edited": false, "score": 0, "creation_date": 1493827143, "post_id": 43764542, "comment_id": 74571134, "body": "Thanks, uta--I will think about this. I actually have my libraries installed in system directories and ham using  find_package(GTest REQUIRED) include_directories(${GTEST_INCLUDE_DIRS}) to get them in. This works for me."}], "tags": [], "owner": {"reputation": 1205, "user_id": 1574642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2825e3945fc7cab47b6def4a560b1032?s=128&d=identicon&r=PG", "display_name": "uta", "link": "https://stackoverflow.com/users/1574642/uta"}, "is_accepted": false, "score": 0, "last_activity_date": 1493826010, "creation_date": 1493826010, "answer_id": 43764542, "question_id": 43763615, "link": "https://stackoverflow.com/questions/43763615/windows-gtest-expect-streq-error-no-matching-function-for-call-to-cmphelperst/43764542#43764542", "title": "Windows GTest EXPECT_STREQ: error: no matching function for call to &#39;CmpHelperSTREQ&#39;", "body": "<p>Please, use nested source tree for Google Tests from\n<a href=\"https://github.com/google/googletest.git\" rel=\"nofollow noreferrer\">https://github.com/google/googletest.git</a>\nin your project.</p>\n\n<p>For example, if your project folder is <strong>C:\\projects\\gtest-test\\tests</strong>,\nclone the GT to subfolder <strong>googletest</strong> (<strong>C:\\projects\\gtest-test\\tests\\googletest</strong>) by the shell call <strong>git clone <a href=\"https://github.com/google/googletest.git\" rel=\"nofollow noreferrer\">https://github.com/google/googletest.git</a></strong>\nfrom <strong>C:\\projects\\gtest-test\\tests</strong> directory.</p>\n\n<p>Your <strong>CMakeLists.txt</strong> in <strong>C:\\projects\\gtest-test\\tests</strong> need to be like this:</p>\n\n<pre><code>CMAKE_MINIMUM_REQUIRED(VERSION 3.3)\nPROJECT(TestGoogleTargets)\n\nadd_definitions(-DGTEST_USE_OWN_TR1_TUPLE=1 -DGTEST_HAS_TR1_TUPLE=1)\nIF (APPLE)\n    add_definitions(-D__GLIBCXX__)\nENDIF (APPLE)\n\nadd_subdirectory(googletest)\n\nINCLUDE_DIRECTORIES(${gtest_SOURCE_DIR}/include)\nINCLUDE_DIRECTORIES(${gmock_SOURCE_DIR}/include)\n\nADD_EXECUTABLE(TestWithGMockMain dummyMock.cc)\nTARGET_LINK_LIBRARIES(TestWithGMockMain gmock_main)\n\nADD_EXECUTABLE(TestWithGMock dummyMockWithMain.cc)\nTARGET_LINK_LIBRARIES(TestWithGMock gmock)\n\nADD_EXECUTABLE(TestWithGTestMain dummy.cc)\nTARGET_LINK_LIBRARIES(TestWithGTestMain gtest_main)\n\nADD_EXECUTABLE(TestWithGTest dummyWithMain.cc)\nTARGET_LINK_LIBRARIES(TestWithGTest gtest)\n</code></pre>\n"}], "owner": {"reputation": 380, "user_id": 1435756, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkl3O.jpg?s=128&g=1", "display_name": "Brandon Arnold", "link": "https://stackoverflow.com/users/1435756/brandon-arnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8455, "favorite_count": 0, "accepted_answer_id": 43763908, "answer_count": 2, "score": 2, "last_activity_date": 1538467540, "creation_date": 1493823485, "question_id": 43763615, "link": "https://stackoverflow.com/questions/43763615/windows-gtest-expect-streq-error-no-matching-function-for-call-to-cmphelperst", "title": "Windows GTest EXPECT_STREQ: error: no matching function for call to &#39;CmpHelperSTREQ&#39;", "body": "<p>For some reason, GTest is not doing so well on my dev station. Some ASSERT/EXPECT tests are working, but I can't get the string compares to work. This is how the code looks in CLion; notice the error popover:</p>\n\n<p><a href=\"https://i.stack.imgur.com/10cJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10cJN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also attached at the bottom is the error output upon compilation. Since I am using JetBrains CLion on Windows 10, GTest has to be built with \"MinGW Makefiles\" CMake generator followed by the MinGW make (instead of the CMake default Visual Studio generator). Furthermore, the only working source I could find was the latest Github GTest master branch; its latest release in November 2016 will not build on Windows in MinGW.</p>\n\n<pre><code>In file included from C:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1874:0,\n                 from C:\\projects\\gtest-test\\tests\\basic_test.cpp:4:\nC:\\projects\\gtest-test\\tests\\basic_test.cpp: In member function 'virtual void basic_test_helloWorldEqualsHelloWorld_Test::TestBody()':\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest_pred_impl.h:147:45: error: no matching function for call to 'CmpHelperSTREQ(const char [7], const char [7], std::__cxx11::string&amp;, std::__cxx11::string&amp;)'\n   GTEST_ASSERT_(pred_format(#v1, #v2, v1, v2), \\\n                                             ^\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest_pred_impl.h:77:52: note: in definition of macro 'GTEST_ASSERT_'\n   if (const ::testing::AssertionResult gtest_ar = (expression)) \\\n                                                    ^\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest_pred_impl.h:162:3: note: in expansion of macro 'GTEST_PRED_FORMAT2_'\n   GTEST_PRED_FORMAT2_(pred_format, v1, v2, GTEST_NONFATAL_FAILURE_)\n   ^\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1996:3: note: in expansion of macro 'EXPECT_PRED_FORMAT2'\n   EXPECT_PRED_FORMAT2(::testing::internal::CmpHelperSTREQ, s1, s2)\n   ^\nC:\\projects\\gtest-test\\tests\\basic_test.cpp:14:5: note: in expansion of macro 'EXPECT_STREQ'\n     EXPECT_STREQ(hello2, hello3);\n     ^\nIn file included from C:\\projects\\gtest-test\\tests\\basic_test.cpp:4:0:\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1537:28: note: candidate: testing::AssertionResult testing::internal::CmpHelperSTREQ(const char*, const char*, const char*, const char*)\n GTEST_API_ AssertionResult CmpHelperSTREQ(const char* s1_expression,\n                            ^\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1537:28: note:   no known conversion for argument 3 from 'std::__cxx11::string {aka std::__cxx11::basic_string&lt;char&gt;}' to 'const char*'\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1570:28: note: candidate: testing::AssertionResult testing::internal::CmpHelperSTREQ(const char*, const char*, const wchar_t*, const wchar_t*)\n GTEST_API_ AssertionResult CmpHelperSTREQ(const char* s1_expression,\n                            ^\nC:/PROGRA~2/GOOGLE~1/include/gtest/gtest.h:1570:28: note:   no known conversion for argument 3 from 'std::__cxx11::string {aka std::__cxx11::basic_string&lt;char&gt;}' to 'const wchar_t*'\ntests\\CMakeFiles\\gtestTest_tests.dir\\build.make:62: recipe for target 'tests/CMakeFiles/gtestTest_tests.dir/basic_test.cpp.obj' failed\nmingw32-make.exe[3]: *** [tests/CMakeFiles/gtestTest_tests.dir/basic_test.cpp.obj] Error 1\nmingw32-make.exe[2]: *** [tests/CMakeFiles/gtestTest_tests.dir/all] Error 2\nCMakeFiles\\Makefile2:1063: recipe for target 'tests/CMakeFiles/gtestTest_tests.dir/all' failed\nmingw32-make.exe[1]: *** [tests/CMakeFiles/gtestTest_tests.dir/rule] Error 2\nCMakeFiles\\Makefile2:1075: recipe for target 'tests/CMakeFiles/gtestTest_tests.dir/rule' failed\nMakefile:494: recipe for target 'gtestTest_tests' failed\nmingw32-make.exe: *** [gtestTest_tests] Error 2\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1493823180, "post_id": 43763432, "comment_id": 74568252, "body": "No, that&#39;s not possible. The names are part of the source code only, so if you have no source code, there are no names."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1493824606, "post_id": 43763432, "comment_id": 74569365, "body": "<i>If</i> the binary is compiled with debug symbols then you can extract some information and names from there and demangle them."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 1, "last_activity_date": 1493824162, "last_edit_date": 1493824162, "creation_date": 1493823572, "answer_id": 43763642, "question_id": 43763432, "link": "https://stackoverflow.com/questions/43763432/inquire-members-of-a-struct-or-class/43763642#43763642", "title": "Inquire members of a struct or class", "body": "<p>No. The language feature that you describe is called <em>reflection</em>. C++ has no support for reflection.</p>\n\n<p>It is of course possible to maintain the information about classes and members and such in an external structure. Using a preprocessor, it is possible to build a system that allows defining a class and its reflection metadata without repetition.</p>\n\n<hr>\n\n<p>There are proposals to add (static) reflection to the language: <a href=\"http://open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4428.pdf\" rel=\"nofollow noreferrer\">N4428</a>, <a href=\"http://open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4447.pdf\" rel=\"nofollow noreferrer\">4447</a>, <a href=\"http://open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4451.pdf\" rel=\"nofollow noreferrer\">N4451</a>, <a href=\"https://groups.google.com/a/isocpp.org/forum/#!forum/reflection\" rel=\"nofollow noreferrer\">SG 7</a> Hopefully reflection will become part of C++ in the future.</p>\n"}], "owner": {"reputation": 572, "user_id": 5762785, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/357ab933e26be6dc0e01bf73422686a5?s=128&d=identicon&r=PG&f=1", "display_name": "hermit.crab", "link": "https://stackoverflow.com/users/5762785/hermit-crab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1494293672, "accepted_answer_id": 43763642, "answer_count": 1, "score": 0, "last_activity_date": 1493824162, "creation_date": 1493823031, "question_id": 43763432, "link": "https://stackoverflow.com/questions/43763432/inquire-members-of-a-struct-or-class", "closed_reason": "Duplicate", "title": "Inquire members of a struct or class", "body": "<p>If you don't have access to the source code of a struct or class, is there a way to know the members of that struct or class? Specifically, i want to know the names, order, and data types of the members.</p>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 4, "creation_date": 1493822773, "post_id": 43763326, "comment_id": 74567911, "body": "This <code>x a();</code> is a function declaration or &#39;most vexing parse&#39; this is why your ctor is never called"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1493823983, "post_id": 43763326, "comment_id": 74568829, "body": "@EdChum: This is not the most vexing parse. I like to call it the lesser vexing parse as a compromise."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493824010, "post_id": 43763326, "comment_id": 74568852, "body": "@KerrekSB: Literally a different question (indeed, the fact asked about <i>here</i> is part of the premise of the question <i>there</i>)"}], "owner": {"reputation": 117, "user_id": 5231596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58cca04842bf3f403814022ae23484b5?s=128&d=identicon&r=PG&f=1", "display_name": "ChandyShot", "link": "https://stackoverflow.com/users/5231596/chandyshot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1493822910, "answer_count": 0, "score": 0, "last_activity_date": 1493822733, "creation_date": 1493822733, "question_id": 43763326, "link": "https://stackoverflow.com/questions/43763326/how-would-constructor-will-be-called-in-this-code", "closed_reason": "Duplicate", "title": "How would constructor will be called in this code?", "body": "<p>How would constructor be call in this code ?</p>\n\n<p>Neither <code>x()</code> is called nor <code>x(int i = 0)</code> is called in this code. Could not make how the constructor is being called.</p>\n\n<pre><code># include &lt;iostream&gt;\nusing namespace std;\nclass x\n{\nint value;\npublic:\n    x(){\n        value = 0;\n        cout&lt;&lt;\"Hello\"&lt;&lt;endl;\n    }\n\n    x(int i = 0){\n        value = i;\n        cout&lt;&lt;\"Bye\"&lt;&lt;endl;\n    }\n\n};\n\nint main(){\n    x a();\n    return 0 ;\n}\n</code></pre>\n\n<p>Output is neither \"Hello\" nor \"Bye\".</p>\n"}, {"tags": ["c++", "templates", "inner-classes", "reinterpret-cast"], "answers": [{"comments": [{"owner": {"reputation": 1563, "user_id": 2530921, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/WPszy.jpg?s=128&g=1", "display_name": "VINOTH ENERGETIC", "link": "https://stackoverflow.com/users/2530921/vinoth-energetic"}, "edited": false, "score": 0, "creation_date": 1493822350, "post_id": 43763135, "comment_id": 74567572, "body": "Great. Why we need to put template in &#39;template inner&lt;I&gt;&#39;?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 1563, "user_id": 2530921, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/WPszy.jpg?s=128&g=1", "display_name": "VINOTH ENERGETIC", "link": "https://stackoverflow.com/users/2530921/vinoth-energetic"}, "edited": false, "score": 1, "creation_date": 1493822501, "post_id": 43763135, "comment_id": 74567690, "body": "Because <code>inner</code> is a dependent name, and so you need to disambiguate its kind."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": true, "score": 4, "last_activity_date": 1493822981, "last_edit_date": 1493822981, "creation_date": 1493822249, "answer_id": 43763135, "question_id": 43763109, "link": "https://stackoverflow.com/questions/43763109/how-to-use-reinterpret-cast-for-inner-template-class/43763135#43763135", "title": "How to use reinterpret cast for inner template class?", "body": "<p>You want:</p>\n\n<pre><code>reinterpret_cast&lt;typename outer&lt;O&gt;::template inner&lt;I&gt; *&gt;(nullptr);\n//               ^^^^^^^^           ^^^^^^^^             ^^^^^^^\n</code></pre>\n\n<p>The names <code>outer</code> and <code>inner</code> are dependent names (they depend on template arguments), and therefore you need to explicitly specify their \"kind\" (value, type, template).</p>\n"}], "owner": {"reputation": 1563, "user_id": 2530921, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/WPszy.jpg?s=128&g=1", "display_name": "VINOTH ENERGETIC", "link": "https://stackoverflow.com/users/2530921/vinoth-energetic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "closed_date": 1493824149, "accepted_answer_id": 43763135, "answer_count": 1, "score": 2, "last_activity_date": 1493822981, "creation_date": 1493822179, "question_id": 43763109, "link": "https://stackoverflow.com/questions/43763109/how-to-use-reinterpret-cast-for-inner-template-class", "closed_reason": "Duplicate", "title": "How to use reinterpret cast for inner template class?", "body": "<p>I have two template classes as outer and inner. I am type casting to inner class from other inner class object. I am getting compilation error. How to resolve this?</p>\n\n<pre><code>template&lt;typename O&gt;\nstruct outer\n{\n   template&lt;typename I&gt;\n      struct inner\n      {\n      };\n\n   inner&lt;int&gt; *ptr;\n   outer();\n\n};\n\n   template&lt;typename O,typename I&gt;\nvoid callme()\n{\n   reinterpret_cast&lt; outer&lt;O&gt;::inner&lt;I&gt; *&gt;(NULL);\n}\n</code></pre>\n"}, {"tags": ["c++", "type-conversion", "implicit-conversion"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1493822155, "post_id": 43763047, "comment_id": 74567400, "body": "While the full definition of your classes isn&#39;t needed, it would be helpful if the reduced definitions were actually c++. I&#39;m pretty sure every non-whitespace line contains an error."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1493822157, "post_id": 43763047, "comment_id": 74567404, "body": "Your really going to have to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with the errors/how it does not work."}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 3, "creation_date": 1493822167, "post_id": 43763047, "comment_id": 74567419, "body": "When you say they don&#39;t work what do you mean?  Do they compile successfully?  If not, what are the exact errors you are getting?"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1493822212, "post_id": 43763047, "comment_id": 74567454, "body": "You need to add <code>B &amp;operator =()(const A &amp;a)</code> to make <code>to_build = already_made;</code> compile. You only defined constructors and conversions, but forgot the assignment operator that you are trying to use."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1493822417, "post_id": 43763047, "comment_id": 74567623, "body": "@nwp If <code>B</code> has <code>B &amp;operator =()(const B &amp;b)</code> that should work as <code>A</code> can be converted to <code>B</code>."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1493823097, "post_id": 43763047, "comment_id": 74568183, "body": "@Fran&#231;oisAndrieux I think both <code>class A{</code> and <code>class B{</code>  are (potentially correct).  Otherwise, yes, I agree."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1493823175, "post_id": 43763047, "comment_id": 74568247, "body": "Voting to close as without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, the question is unanswerable."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 2, "creation_date": 1493823802, "post_id": 43763047, "comment_id": 74568696, "body": "@MartinBonner <code>Class</code> with a capital C is incorrect."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1493824453, "post_id": 43763047, "comment_id": 74569230, "body": "<b>D&#39;oh!</b>   With luck, that will be the stupidest thing I say this month.  I&#39;ve been using C++ for more than 20 years.  One of these days I might get the hang of it...."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7955103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d79d5f815e41a7e4db6116e466718a7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Katson", "link": "https://stackoverflow.com/users/7955103/andrew-katson"}, "edited": false, "score": 0, "creation_date": 1493908807, "post_id": 43763895, "comment_id": 74612285, "body": "I edited the comment according to the stated guidelines in case you needed that. Do I need to add that assignment operator to my class?"}, {"owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "reply_to_user": {"reputation": 11, "user_id": 7955103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d79d5f815e41a7e4db6116e466718a7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Katson", "link": "https://stackoverflow.com/users/7955103/andrew-katson"}, "edited": false, "score": 0, "creation_date": 1493916782, "post_id": 43763895, "comment_id": 74617939, "body": "@AndrewKatson: I&#39;ve changed my answer after your edit"}, {"owner": {"reputation": 11, "user_id": 7955103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d79d5f815e41a7e4db6116e466718a7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Katson", "link": "https://stackoverflow.com/users/7955103/andrew-katson"}, "edited": false, "score": 0, "creation_date": 1493932911, "post_id": 43763895, "comment_id": 74626723, "body": "What is the reason in my code that makes conversions work only when they are explicit?"}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 0, "last_activity_date": 1493916759, "last_edit_date": 1493916759, "creation_date": 1493824214, "answer_id": 43763895, "question_id": 43763047, "link": "https://stackoverflow.com/questions/43763047/implicit-user-defined-conversion-not-working-because-operator-and-conversion-con/43763895#43763895", "title": "Implicit user defined conversion not working because operator and conversion constructor are unrecognized when compiling C++", "body": "<p>You simply need to make the conversion explicit for the compiler to find the path:</p>\n\n<pre><code>one =  (Furlong) two;\nfour = (Metric) three;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494003592, "post_id": 43810185, "comment_id": 74659651, "body": "This isn&#39;t directly related, but I would also suggest: 1) <b><i>NEVER</i></b> put a <code>using</code> directive (and especially not <code>using namespace std;</code>) in a header, because it can inadvertently break any code that uses that header.  If any function defined in the header need members of the standard namespace, either fully qualify the members&#39; names, or put your <code>using</code> inside that function.  (It&#39;s safer to put <code>using</code> directives in source files, but that can still cause trouble because of just how many common names are used by the standard library.)"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494003932, "post_id": 43810185, "comment_id": 74659830, "body": "2) If you only need standard library I/O type declarations in the header (such as when you have pointers/references to those types), use <a href=\"http://en.cppreference.com/w/cpp/header/iosfwd\" rel=\"nofollow noreferrer\"><code>&lt;iosfwd&gt;</code></a> instead of <code>&lt;iostream&gt;</code>; it merely declares the types, and typically results in faster compilation times.  If you need to use the standard output objects themselves in the header (like <code>cout</code>), or need to actually <i>define</i> variables of any of the I/O types (like an <code>fstream</code>), then you still need to use the appropriate header (e.g., <code>&lt;iostream&gt;</code> for <code>cout</code>, or <code>&lt;fstream&gt;</code> for <code>fstream</code>)."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494004133, "post_id": 43810185, "comment_id": 74659956, "body": "3) <code>Metric (Furlong&amp; f)</code> should take its parameter by <code>const</code> reference, both to indicate that it won&#39;t be modified, and to allow it to bind to temporaries.  If you change this, remember to change both the declaration and the definition."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494004214, "post_id": 43810185, "comment_id": 74660002, "body": "4) <code>Metric::operator Furlong()</code> should be marked as <code>const</code>, since it doesn&#39;t modify the <code>Metric</code>: <code>operator Furlong() const</code>.  Again, if you change this, remember to change both the declaration and the definition."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494004694, "post_id": 43810185, "comment_id": 74660281, "body": "5) Since you&#39;re manually defining copy constructors, you might also want to look into move constructors (<code>Furlong(Furlong&amp;&amp;)</code> and <code>Metric(Metric&amp;&amp;)</code>) and move assignment operators (<code>Furlong&amp; Furlong::operator=(Furlong&amp;&amp;)</code> and <code>Metric&amp; Metric::operator=(Metric&amp;&amp;)</code>), and into &quot;smart&quot; assignment operators (<code>Furlong&amp; Furlong::operator=(Furlong)</code> and <code>Metric&amp; Metric::operator=(Metric)</code>, which take their parameter by value, using either the copy constructor or move constructor to create it depending on the situation)."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1494004820, "post_id": 43810185, "comment_id": 74660350, "body": "See <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">here</a> for more information about why not to use <code>using namespace std;</code> in a header, and <a href=\"http://stackoverflow.com/a/3109981/5386374\">here</a> for more information about move semantics."}], "tags": [], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1494003253, "creation_date": 1494003253, "answer_id": 43810185, "question_id": 43763047, "link": "https://stackoverflow.com/questions/43763047/implicit-user-defined-conversion-not-working-because-operator-and-conversion-con/43810185#43810185", "title": "Implicit user defined conversion not working because operator and conversion constructor are unrecognized when compiling C++", "body": "<p>The problem, believe it or not, is merely a lack of <code>const</code> correctness.</p>\n\n<pre><code>class Furlong\n{\npublic:\n    // ...\n\n    // Assignment operator=.\n    Furlong&amp;    operator=( Furlong&amp; rhs);\n\n    // ...    \n};\n\nclass Metric \n{\n\npublic:\n    // ...\n\n    Metric&amp; operator=(Metric&amp; rhs);\n\n    // ...\n};\n</code></pre>\n\n<p>When you attempt to assign a <code>Furlong</code> to a <code>Metric</code>, here's what happens:</p>\n\n<ol>\n<li>There is no <code>Metric::operator=()</code> which takes a <code>Furlong</code>, or which takes a <code>[cv] Furlong&amp;</code>.</li>\n<li>The compiler determines whether an implicit conversion is possible.  In this case, you provided constructor <code>Metric (Furlong&amp; f)</code>, which can be used.</li>\n<li>The compiler calls this constructor, creating a temporary <code>Metric</code>, which is then used to call <code>Metric&amp; Metric::operator=(Metric&amp;)</code>.</li>\n<li>Since <code>Metric::operator=()</code>'s parameter is non-<code>const</code>, and doesn't take an rvalue reference, it cannot bind to temporary objects.  As no other potential conversions are available, the compiler thus emits an error.</li>\n</ol>\n\n<p>Similarly, when attempting to assign a <code>Metric</code> to a <code>Furlong</code>, <code>Metric::operator Furlong()</code> is used to create a temporary <code>Furlong</code>, but <code>Furlong::operator=()</code> is unable to accept temporaries as arguments, making conversion impossible.</p>\n\n<hr>\n\n<p>Thus, the solution is simple: Since neither <code>operator=()</code> modifies <code>rhs</code>, we take it by <code>const</code> reference.</p>\n\n<pre><code>class Furlong\n{\npublic:\n    // ...\n\n    // Assignment operator=.\n    Furlong&amp;    operator=(const Furlong&amp; rhs);\n\n    // ...    \n};\n\nclass Metric \n{\n\npublic:\n    // ...\n\n    Metric&amp; operator=(const Metric&amp; rhs);\n\n    // ...\n};\n\nFurlong&amp; Furlong::operator=(const Furlong&amp; rhs)\n{\n    // ...\n}\n\nMetric&amp; Metric::operator=(const Metric&amp; rhs)\n{\n    // ...\n}\n</code></pre>\n\n<p>This allows <code>rhs</code> to bind to temporary objects, such as the <code>Furlong</code> generated by <code>Metric::operator Furlong()</code> and the <code>Metric</code> generated by <code>Metric(Furlong&amp;)</code>.  <a href=\"http://ideone.com/MxwoLU\" rel=\"nofollow noreferrer\">The code will then compile successfully</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7955103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d79d5f815e41a7e4db6116e466718a7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Katson", "link": "https://stackoverflow.com/users/7955103/andrew-katson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494010794, "creation_date": 1493822011, "last_edit_date": 1494010794, "question_id": 43763047, "link": "https://stackoverflow.com/questions/43763047/implicit-user-defined-conversion-not-working-because-operator-and-conversion-con", "title": "Implicit user defined conversion not working because operator and conversion constructor are unrecognized when compiling C++", "body": "<p>I have included the minimal amount of code to replicate this issue. </p>\n\n<p>I would like it if I could assign a Furlong object to a Metric object and vice versa but instead the compiler gives me this error:</p>\n\n<blockquote>\n  <p>no operator \"=\" matches these operands</p>\n</blockquote>\n\n<p>Header file:</p>\n\n<pre><code>#ifndef DISTANCE_H_\n#define DISTANCE_H_\n\nusing namespace std;\n#include &lt;iostream&gt;\n\n//const to facilitate conversions between the two classes\n\nconst double FEET_IN_METERS = 0.3048;\nconst double FURLONG_TO_FEET = 660;\n\nclass Furlong;\nclass Metric;\n\nclass Furlong {\npublic:\n\n    Furlong(int fur = 0, int yar = 0, int fee = 0.0);\n\n    // Copy Constructor.\n\n    Furlong( const Furlong&amp; rhs );\n\n    // Destructor.\n\n    ~Furlong(void);\n\n    // Assignment operator=.\n    Furlong&amp;    operator=( Furlong&amp; rhs);\n\n    int furlong;\n    int yards;\n    double feet;\n\n};\n\nclass Metric {\n\npublic:\nMetric(int kilo = 0, double mete = 0.0);\n\nMetric (const Metric&amp; rhs);\n\n~Metric(void);\n\nMetric&amp; operator=(Metric&amp; rhs);\n\nMetric (Furlong&amp; f);\n\noperator Furlong();\n\nint kilometers;\ndouble meters;\n};\n\n#endif\n</code></pre>\n\n<p>Class Definition file:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include \"Distances.h\"\n\n//FURLONG CLASS DEFINITIONS\n\n//Constructor\n\nFurlong::Furlong(int fur, int yar, int fee) {\n    furlong = fur;\n    yards = yar;\n    feet = fee;\n}\n\n// Copy Constructor.\n\nFurlong::Furlong( const Furlong&amp; rhs ) {\n    furlong = rhs.furlong;\n    yards = rhs.yards;\n    feet = rhs.feet;\n}\n\n    // Destructor.\n\nFurlong::~Furlong(void) {\n\n}\n\n    // Assignment operator=.\n\nFurlong&amp; Furlong::operator=( Furlong&amp; rhs) {\n\n    furlong = rhs.furlong;\n    yards = rhs.yards;\n    feet = rhs.feet;\n\n    return *this;\n\n}\n//METRIC CLASS DEFINITONS\n\n\nMetric::Metric(int kilo, double mete) {\n    kilometers = kilo;\n    meters = mete;\n}\nMetric::Metric(const Metric&amp; rhs) {\n\n    kilometers = rhs.kilometers;\n    meters     = rhs. meters;\n}\n\nMetric::~Metric(void) {\n\n}\n\nMetric&amp; Metric::operator=(Metric&amp; rhs) {\n    kilometers = rhs.kilometers;\n    meters     = rhs.meters;\n\n    return *this;\n}\n\n// conversion constructor\n\nMetric::Metric (Furlong&amp; f) {\n kilometers = 3;\n meters = 2.0;\n}\n\n//conversion operator\n\nMetric::operator Furlong() {\n    return Furlong(1, 2, 3.0);\n}\n</code></pre>\n\n<p>Main file:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include \"Distances.h\"\n\n\nusing namespace std;\n\nint main() {\n    Furlong one(1,2,3.0); \n    Furlong three(4,5,6.0);\n    Metric two(7,8.0);\n    Metric four(9, 10.0);\n\n    one = two;\n    four = three;\n\n    return 0;\n}\n</code></pre>\n\n<p>I would like object two to be converted to type Furlong then assigned to object one. In addition, object three should be converted to type Metric then assigned to object four</p>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1493821739, "post_id": 43762858, "comment_id": 74567029, "body": "Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if possible."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1493821912, "post_id": 43762858, "comment_id": 74567179, "body": "Returning a class in C++ is exactly like returning a struct in &quot;good old&quot; C; it creates a copy."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493821923, "post_id": 43762858, "comment_id": 74567190, "body": "Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it is hard to tell but it looks like the problem is you are not returning references to the data in the vector."}, {"owner": {"reputation": 252, "user_id": 5853002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c033bca39d6729e654c4261d0c6704f?s=128&d=identicon&r=PG&f=1", "display_name": "nox", "link": "https://stackoverflow.com/users/5853002/nox"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493822715, "post_id": 43762858, "comment_id": 74567861, "body": "@molbdnilo yes, ok - you are right, thanks! But was I too long out of business o.o Why is the other &quot;direct&quot; example working then?"}, {"owner": {"reputation": 252, "user_id": 5853002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c033bca39d6729e654c4261d0c6704f?s=128&d=identicon&r=PG&f=1", "display_name": "nox", "link": "https://stackoverflow.com/users/5853002/nox"}, "edited": false, "score": 0, "creation_date": 1493822927, "post_id": 43762858, "comment_id": 74568039, "body": "Nevermind, I got it, was a long day, sorry!"}], "answers": [{"tags": [], "owner": {"reputation": 1329, "user_id": 1280414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab3fd0499936f30bceb77e053520dd6?s=128&d=identicon&r=PG", "display_name": "Sergej Christoforov", "link": "https://stackoverflow.com/users/1280414/sergej-christoforov"}, "is_accepted": false, "score": 0, "last_activity_date": 1493822004, "creation_date": 1493822004, "answer_id": 43763042, "question_id": 43762858, "link": "https://stackoverflow.com/questions/43762858/c-use-a-class-in-a-class-in-a-class-and-call-their-functions/43763042#43763042", "title": "C++ use a class in a class (in a class) and call their functions", "body": "<p>Your <code>get_grid</code> and <code>get_swarm</code> methods return copies of original array items. You should return reference (or a pointer) to <code>Grid</code> or <code>Swarm</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 1015, "user_id": 7691497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-46wzsjmiSDg/AAAAAAAAAAI/AAAAAAAAAAk/qjgRQMlHINA/photo.jpg?sz=128", "display_name": "Ben Steffan", "link": "https://stackoverflow.com/users/7691497/ben-steffan"}, "is_accepted": true, "score": 0, "last_activity_date": 1493822074, "creation_date": 1493822074, "answer_id": 43763065, "question_id": 43762858, "link": "https://stackoverflow.com/questions/43762858/c-use-a-class-in-a-class-in-a-class-and-call-their-functions/43763065#43763065", "title": "C++ use a class in a class (in a class) and call their functions", "body": "<pre><code>Grid Sim::get_grid(int grid_no) {...}\n</code></pre>\n\n<p>You are returning by value, not by reference. That means that what you are returning is a <strong>copy</strong> of your actual member. In your case, however, you want to be returning by reference in order to be able to make changes to the original object. Your code would become</p>\n\n<pre><code>Grid&amp; Sim::get_grid(int grid_no) {...}\n</code></pre>\n\n<p>Keep in mind, however, that you will not be able to return any temporaries that way (such as your <code>dummy</code> Grid), so you will need to change your methods to circumvent this issue. If you do not want to do this, you could still return a pointer, although this would change the syntax a little.</p>\n"}], "owner": {"reputation": 252, "user_id": 5853002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c033bca39d6729e654c4261d0c6704f?s=128&d=identicon&r=PG&f=1", "display_name": "nox", "link": "https://stackoverflow.com/users/5853002/nox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 43763065, "answer_count": 2, "score": 0, "last_activity_date": 1493822589, "creation_date": 1493821556, "last_edit_date": 1493822589, "question_id": 43762858, "link": "https://stackoverflow.com/questions/43762858/c-use-a-class-in-a-class-in-a-class-and-call-their-functions", "title": "C++ use a class in a class (in a class) and call their functions", "body": "<p>I have the following problem: I wanted to redo a project from good old <code>C</code> to <code>C++</code> and make everything <code>class(y) :)</code> and keep it scalable from the beginning.</p>\n\n<p>It is a simulation of cells (being part of a swarm) on a grid, so I decided the following structure:</p>\n\n<pre><code>class Simulation has an instance of\nclass Grid       has an instance of\nclass Swarm      has an instance of\nclass Cell\n</code></pre>\n\n<p>I defined the classes in separate header files. Then I need, of course, to be able to call functions in grid, swarm and cell as well. I wanted to do it straight forward:</p>\n\n<pre><code>Simulation mysim;\nmysim.get_grid(0).any_function_here();\n</code></pre>\n\n<p>with the grid as return parameter</p>\n\n<pre><code>Grid Sim::get_grid(int grid_no)\n{\n    std::cout &lt;&lt; \"sim.get_grid(\" &lt;&lt; grid_no &lt;&lt; \") called.\" &lt;&lt; std::endl;\n    if (grid_no &lt;= amount_of_grids)\n        return this-&gt;test;//##//this-&gt;gridlist[grid_no];\n    else\n        std::cout &lt;&lt; \"you have not created this grid number yet\" &lt;&lt; std::endl;\n\n    Grid dummy;\n    return dummy;\n}\n</code></pre>\n\n<p>It calls the function and works as long as no changes in the grid are made. These seem to be lost in space. Probably a pointer error, but I cannot find an error, since exactly the same code is working for the <code>Simulation</code> class...</p>\n\n<p>More source:</p>\n\n<pre><code>int Grid::create_swarm(std::string name)\n{\n    Swarm new_swarm;\n    new_swarm.set_name(\"Protoswarm\");\n    swarmlist.push_back(new_swarm);\n    this-&gt;amount_of_swarms ++;\n    std::cout &lt;&lt; \"amount_of_swarms = \" &lt;&lt; amount_of_swarms &lt;&lt; std::endl;\n    return 0;\n}\n\nSwarm Grid::get_swarm(int swarm_no)\n{\n    std::cout &lt;&lt; \"grid.get_swarm(\" &lt;&lt; swarm_no &lt;&lt; \") called.\" &lt;&lt; std::endl;\n    if (swarm_no &lt;= amount_of_swarms)\n        return swarmlist[swarm_no];\n    else\n        std::cout &lt;&lt; \"oh oh - you have not this swarm in here...\" &lt;&lt; std::endl;\n\n    Swarm dummy;\n    return dummy;\n}\n</code></pre>\n\n<p>I can call the <code>create_swarm</code> function as often as I want, but the swarms do never appear and the counter does not raise in that grid, just temporarily as long as the funtion is in there. Am I missing something? Is it really just a pointer error? Why does this code work if I call it like this:</p>\n\n<pre><code>Grid newgrid;\nnewgrid.create_swarm();\n</code></pre>\n\n<p>A quickly c&amp;p'ed MWE</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nclass Sim\n{\n    public:\n        Sim();\n        virtual ~Sim();\n\n        Grid get_grid(int grid_no);\n\n    protected:\n\n    private:\n        std::vector&lt;Grid&gt; gridlist;\n        int amount_of_grids = -1;\n};\n\n\nclass Grid\n{\n    public:\n        Grid();\n        virtual ~Grid();\n\n        int set_size(int x, int y);\n        int create_swarm(std::string name);\n        Swarm get_swarm(int swarm_no);\n        void print_swarms();\n\n    protected:\n\n    private:\n        std::vector&lt;Swarm&gt; swarmlist;\n        int amount_of_swarms = -1;\n        /*static const*/ int size_x;\n        /*static const*/ int size_y;\n        std::vector&lt;std::vector&lt;Field&gt;&gt; fields;\n        std::string gridname;\n};\n\nGrid Sim::get_grid(int grid_no)\n{\n    std::cout &lt;&lt; \"sim.get_grid(\" &lt;&lt; grid_no &lt;&lt; \") called.\" &lt;&lt; std::endl;\n    if (grid_no &lt;= amount_of_grids)\n        return this-&gt;gridlist[grid_no];\n    else\n        std::cout &lt;&lt; \"you have not created this grid number yet\" &lt;&lt; std::endl;\n\n    Grid dummy;\n    return dummy;\n}\n\nint Grid::create_swarm(std::string name)\n{\n    Swarm new_swarm;\n    new_swarm.set_name(\"Protoswarm\");\n    swarmlist.push_back(new_swarm);\n    this-&gt;amount_of_swarms ++;\n    std::cout &lt;&lt; \"amount_of_swarms = \" &lt;&lt; amount_of_swarms &lt;&lt; std::endl;\n    return 0;\n}\n\nSwarm Grid::get_swarm(int swarm_no)\n{\n    std::cout &lt;&lt; \"grid.get_swarm(\" &lt;&lt; swarm_no &lt;&lt; \") called.\" &lt;&lt; std::endl;\n    if (swarm_no &lt;= amount_of_swarms)\n        return swarmlist[swarm_no];\n    else\n        std::cout &lt;&lt; \"oh oh - you have not this swarm in here...\" &lt;&lt; std::endl;\n\n    Swarm dummy;\n    return dummy;\n}\n\n\nusing namespace std;\nint main(int argc, char* argv[])\n{\n    Sim mysim;\n    mysim.create_grid();\n    mysim.get_grid(0).create_swarm(\"Alpha-Swarm\");\n    mysim.get_grid(0).create_swarm(\"Betaa-Swarm\"); //doesn't work\n\n    Grid newgrid;\n    newgrid.create_swarm(\"Gamma-Swarm\");\n    newgrid.create_swarm(\"Delta-Swarm\"); // works, but is not needed.\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1493821807, "post_id": 43762839, "comment_id": 74567091, "body": "Make sure that the &quot;Platform Toolset&quot; is v100 for all projects."}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "reply_to_user": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1493821969, "post_id": 43762839, "comment_id": 74567232, "body": "@tambre, thanks.  I only have two C++ projects in my solution (the rest are C#), and both of the C++ projects have a &quot;Platform Toolset&quot; set to v100."}, {"owner": {"reputation": 1036, "user_id": 209289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/U4uT5.gif?s=128&g=1", "display_name": "facetus", "link": "https://stackoverflow.com/users/209289/facetus"}, "edited": false, "score": 0, "creation_date": 1493822130, "post_id": 43762839, "comment_id": 74567377, "body": "I would start procmon to see how MsBuild finds and starts cl.exe."}, {"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1493822153, "post_id": 43762839, "comment_id": 74567399, "body": "Interesting. It&#39;s possible that some things from the VS 2010 project files aren&#39;t interpreter correctly by VS15 unless upgraded to newer equivalents. Try upgrading the solution and then setting the platform toolset to v100."}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "edited": false, "score": 1, "creation_date": 1493823236, "post_id": 43762839, "comment_id": 74568286, "body": "I just realized that the error was coming from Intellisense, not the build.  Builds were actually working fine.  It&#39;s a minor bug in Visual Studio.  I&#39;ve added an answer to help anyone else coming across this problem."}], "answers": [{"tags": [], "owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "is_accepted": false, "score": 1, "last_activity_date": 1493823171, "creation_date": 1493823171, "answer_id": 43763487, "question_id": 43762839, "link": "https://stackoverflow.com/questions/43762839/visual-studio-msc-ver-versus-platform-toolset/43763487#43763487", "title": "Visual Studio _MSC_VER versus Platform Toolset", "body": "<p>I misunderstood what was going on in Visual Studio.  The build was actually working fine; the error being generated was coming from Intellisense.  There's a <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/761812/msc-ver-does-not-reflect-selected-toolset-in-editor\" rel=\"nofollow noreferrer\">known bug</a> in Visual Studio where Intellisense doesn't properly reflect the <code>_MSC_VER</code> specified by the project's selected Platform Toolset.  I'll leave the question up in case anyone else runs into this problem.</p>\n"}], "owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493823890, "creation_date": 1493821518, "last_edit_date": 1493823890, "question_id": 43762839, "link": "https://stackoverflow.com/questions/43762839/visual-studio-msc-ver-versus-platform-toolset", "title": "Visual Studio _MSC_VER versus Platform Toolset", "body": "<p>I have a VS 2010 C++/CLI project that I imported into VS 2015.  Because it links against some VS 2010 C++ libraries that I don't control, I need it to be compiled with the VS 2010 compiler.  When I imported the project to VS 2015, I told VS not to upgrade the project (don't remember the exact options, but the project now says \"Project Name (Visual Studio 2010)\" in Solution Explorer).  In the project properties, the Platform Toolset is listed as \"Visual Studio 2010 (v100)\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/LsYXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LsYXl.png\" alt=\"Visual Studio Project Properties window showing Visual Studio 2010 (v100) selected for Platform Toolset\"></a></p>\n\n<p>One of the libraries I'm using has a header with some ifdefs that show an error if <code>_MSC_VER</code> isn't one of the supported versions (Visual C++ 6.0-10.0).  That error is being generated for this project, and I've determined that the <code>_MSC_VER</code> showing up <del>during build</del> in Intellisense is 1900 (the default for VS 2015).</p>\n\n<p>How do I get the project to build with the 2010 version of the C++ compiler (<code>_MSC_VER</code> 1600)?  Isn't that what the Platform Toolset option is supposed to control?</p>\n"}, {"tags": ["c++", "arrays", "c++11"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493821644, "post_id": 43762801, "comment_id": 74566974, "body": "If <code>FoundationWidget</code> inherits from <code>Foundation</code> why not just have a <code>std::array&lt;Foundation*, 4&gt;</code>(or some other pointer type in <code>GameWidget</code>?"}, {"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493822297, "post_id": 43762801, "comment_id": 74567526, "body": "also, you return <code>std::array&lt;Foundation, 4&gt;*</code> which is a pointer type,if you are considering something like getter, you should be careful not return a temporary/local variable&#39;s pointer."}, {"owner": {"reputation": 411, "user_id": 1419318, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0f5919d2e281c32ef9b6f8254e57f790?s=128&d=identicon&r=PG", "display_name": "sveatlo", "link": "https://stackoverflow.com/users/1419318/sveatlo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493822513, "post_id": 43762801, "comment_id": 74567697, "body": "@NathanOliver thank for your comment. By the time, I have resolved it this way, but I&#39;m still curious about the casting."}, {"owner": {"reputation": 411, "user_id": 1419318, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0f5919d2e281c32ef9b6f8254e57f790?s=128&d=identicon&r=PG", "display_name": "sveatlo", "link": "https://stackoverflow.com/users/1419318/sveatlo"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493822542, "post_id": 43762801, "comment_id": 74567728, "body": "@appleapple Both get methods are in fact private. I&#39;ve edited the example."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493822737, "post_id": 43762801, "comment_id": 74567881, "body": "@sveatlo A <code>Foo&lt;Bar&gt;</code> is a complete different type from <code>Foo&lt;Baz&gt;</code> even if <code>Baz</code> is derived from <code>Bar</code>.  There is no conversion between them."}], "answers": [{"comments": [{"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 1, "creation_date": 1493823380, "post_id": 43763363, "comment_id": 74568384, "body": "note that using <code>array&lt;unique_ptr&lt;Foundation&gt;, 4&gt;</code>, the array is initialised with empty <code>unique_ptr</code>s, whereas OP&#39;s value array had default constructed <code>Foundation</code>s and <code>FoundationWidget</code>s. A <code>generate(foundations.begin(), foundations.end(), make_unique&lt;Foundation&gt;);</code> call will initialise the Foundations"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1493823627, "post_id": 43763363, "comment_id": 74568579, "body": "@Caleth That generate isn&#39;t quite enough, as you cannot copy unique pointers.  I think you are missing a lambda.  I mean, aren&#39;t we all?"}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1493823918, "post_id": 43763363, "comment_id": 74568779, "body": "a lambda will definatly work, but iirc generate doesn&#39;t copy, it assigns <a href=\"http://en.cppreference.com/w/cpp/algorithm/generate\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/algorithm/generate</a> &quot;The type Ret must be such that an object of type ForwardIt can be dereferenced and assigned a value of type Ret.&quot; Were you thinking of <code>std::fill</code>?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 1, "creation_date": 1493824570, "post_id": 43763363, "comment_id": 74569340, "body": "@Caleth Ah, I missed the lack of <code>()</code>.  I thougth you where calling it, not passing a pointer-to.  I&#39;m slightly surprised that that isn&#39;t ambiguous, but only slightly."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 2, "last_activity_date": 1493824118, "last_edit_date": 1493824118, "creation_date": 1493822805, "answer_id": 43763363, "question_id": 43762801, "link": "https://stackoverflow.com/questions/43762801/c-stdarray-cast/43763363#43763363", "title": "C++ std::array cast", "body": "<p>Arrays are packed values of a certain type of data.</p>\n\n<p>Arrays of different types are not compatible as arrays.  Their size can differ, for example.  And arrays are packed, so an array of elements of size 7 and an array of elements of size 8 are not going to work.</p>\n\n<p>Even if they are the same size, C++ dictates the arrays are not convertible.</p>\n\n<p>You can fix this by having <code>array&lt;unique_ptr&lt;Base&gt;, N&gt;</code> -- arrays of (smart) pointers.  One could also write a type erasure <code>any_derived&lt;Base, size_limit&gt;</code> type and have an <code>array&lt;any_derived&lt;Base, size_limit&gt;, N&gt;</code> and store them contiguously, if you want to avoid the extra fragmentation and allocations.</p>\n\n<p>But really just use <code>unique_ptr</code>.</p>\n\n<pre><code>using foundations_t = std::array&lt;std::unique_ptr&lt;Foundation&gt;, 4&gt;;\ntemplate&lt;class T&gt; struct tag_t {};\nstruct HasFoundation {\n  foundations_t foundations;\n  HasFoundation( tag_t&lt;T&gt; ) {\n    std::generate(foundations.begin(), foundations.end(), []{return std::make_unique&lt;T&gt;(); } );\n  }\n  HasFoundation(HasFoundation const&amp;)=delete;\n  HasFoundation(HasFoundation&amp;&amp;)=default;\n  HasFoundation&amp; operator=(HasFoundation const&amp;)=delete;\n  HasFoundation&amp; operator=(HasFoundation&amp;&amp;)=default;\n};\nclass Game:HasFoundation {\nprotected:\n  template&lt;class T&gt;\n  Game(tag_t&lt;T&gt; tag):HasFoundation(tag){}\npublic:\n  Game():Game(tag_t&lt;Foundation&gt;{}) {}\n  virtual foundations_t* get_foundations() {\n    return &amp;this-&gt;foundations;\n  }\n};\n\nclass GameWidget : public Game {\npublic:\n  GameWidget():Game(tag_t&lt;FoundationWidget&gt;{}) {}\n};\n</code></pre>\n\n<p>here we have one storage class, and what it stores is determined at construction time.</p>\n\n<p>A template version would require all logic in <code>Game</code> be exposed in header files.  This one instead requires that all access to the \"real\" type of the <code>foundations</code> elements requires runtime dispatch.</p>\n"}, {"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1493823244, "creation_date": 1493823244, "answer_id": 43763517, "question_id": 43762801, "link": "https://stackoverflow.com/questions/43762801/c-stdarray-cast/43763517#43763517", "title": "C++ std::array cast", "body": "<p>A <code>GameWidget</code> object contains an array of 4 <code>FoundationWidget</code> objects and also a different array of 4 <code>Foundation</code> objects (indirectly via its base class subobject). If this is what you want, fine. I somehow doubt it and going to assume you do want something else, though the issue of containment is unrelated to the issue of the return type of <code>get_foundations()</code>.</p>\n\n<p>Regardless of what object contains which array, these two array types do not form covariant return types. Only classes related by inheritance and pointers/references to such classes may form covariant return types. <code>std::array</code>s of such classes and pointers to such arrays and arrays <em>of</em> pointers to such classes etc are not related by inheritance themselves and cannot be used covariantly. So your expectations unfortunately have no support in reality. </p>\n\n<p>There is also no way to reliably cast arrays of such objects.</p>\n\n<p>There are several ways to achieve what you want, some more involved than others.</p>\n\n<ol>\n<li><p>Make <code>Game</code> a template.</p>\n\n<pre><code>template &lt;class F&gt;\nclass Game {\n    std::array&lt;F, 4&gt; foundations;\nprivate:\n    virtual std::array&lt;F, 4&gt;* get_foundations() {\n        return &amp;this-&gt;foundations;\n    }\n};\n\nclass GameWidget : public Game&lt;FoundationWidget&gt; {\n    // nothing here!\n};\n</code></pre></li>\n<li><p>Do not expose arrays.</p>\n\n<pre><code>class Game {\n    virtual Foundation* get_foundation (int) = 0;\n};\n\nclass GameWidget : public Game {\n    FoundationWidget* get_foundation (int i) {\n       return &amp;foundations[i];\n    }\n    std::array&lt;FoundationWidget, 4&gt; foundations;\n};\n</code></pre></li>\n<li><p>Create a family of custom containers for foundations such that <code>FoundationWidgetArray</code> inherits <code>FoundationArray</code> (this is probably too long to show here).</p></li>\n</ol>\n"}], "owner": {"reputation": 411, "user_id": 1419318, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0f5919d2e281c32ef9b6f8254e57f790?s=128&d=identicon&r=PG", "display_name": "sveatlo", "link": "https://stackoverflow.com/users/1419318/sveatlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1795, "favorite_count": 0, "accepted_answer_id": 43763363, "answer_count": 2, "score": 0, "last_activity_date": 1493824118, "creation_date": 1493821455, "last_edit_date": 1493823686, "question_id": 43762801, "link": "https://stackoverflow.com/questions/43762801/c-stdarray-cast", "title": "C++ std::array cast", "body": "<p>I have 4 classes: <code>Foundation</code>, <code>FoundationWidget</code>,  <code>Game</code> and <code>GameWidget</code>. <code>FoundationWidget</code> extends <code>Foundation</code> and <code>GameWidget</code> extends <code>Game</code>.</p>\n\n<p><code>Game</code> also contains an std::array of <code>Foundation</code>s and <code>GameWidget</code> contains an std::array of <code>FoundationWidget</code>s. <code>Game</code> also contains a virtual method, which should return the pointer to the array of <code>Foundation</code>s. <code>GameWidget</code> overrides this method by returning a pointer to the array of its <code>FoundationWidget</code>s.\nThe current (non-working) implementation looks like this:</p>\n\n<pre><code>class Game {\n    std::array&lt;Foundation, 4&gt; foundations;\nprivate:\n    virtual std::array&lt;Foundation, 4&gt;* get_foundations() {\n        return &amp;this-&gt;foundations;\n    }\n}\n\nclass GameWidget : public Game {\n    std::array&lt;FoundationWidget, 4&gt; foundations;\nprivate:\n    std::array&lt;Foundation, 4&gt;* get_foundations() {\n        return &amp;this-&gt;foundations;\n    }\n}\n</code></pre>\n\n<p>I'd expect this to work, since it's an array of the same size with class, that extends the one specified as return type, but instead I'm getting this error: <code>cannot convert \u2018std::array&lt;FoundationWidget, 4ul&gt;*\u2019 to \u2018std::array&lt;Foundation, 4ul&gt;*\u2019 in return</code>.</p>\n\n<p>I've also tried to declare the class attributes as arrays of pointers, but the result was the same. Neither static_cast or dynamic_cast helped.</p>\n\n<p>What am I missing here? Is there any way to cast arrays? If not, can I use some construction to get the same results, i.e. \"virtual\" class members?</p>\n"}, {"tags": ["c++", "c++11", "templates", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 5903009, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/796487040455913/picture?type=large", "display_name": "Ran Wang", "link": "https://stackoverflow.com/users/5903009/ran-wang"}, "edited": false, "score": 0, "creation_date": 1493828135, "post_id": 43763102, "comment_id": 74571771, "body": "Thank you very much for your timely reply. I wonder whether you will be so kind to explain why I need the additional template parameter &#39;template&lt;int T = ...&gt;&#39;? Thank you very much"}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 283, "user_id": 5903009, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/796487040455913/picture?type=large", "display_name": "Ran Wang", "link": "https://stackoverflow.com/users/5903009/ran-wang"}, "edited": false, "score": 0, "creation_date": 1493828415, "post_id": 43763102, "comment_id": 74571942, "body": "@RanWang Because SFINAE only works with function templates, so we have to make constructors template and introduce template parameters; and you want to select constructor base on the template parameter <code>RowAtCompileTime</code>, so we introduce a new template parameter <code>V</code> with default value as <code>RowAtCompileTime</code>."}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 1, "last_activity_date": 1493828632, "last_edit_date": 1493828632, "creation_date": 1493822166, "answer_id": 43763102, "question_id": 43762781, "link": "https://stackoverflow.com/questions/43762781/select-template-class-constructors-with-different-template-parameters-and-causin/43763102#43763102", "title": "Select template class constructors with different template parameters and causing compilation to fail", "body": "<p>It's possible with <a href=\"http://en.cppreference.com/w/cpp/language/sfinae\" rel=\"nofollow noreferrer\">SFINAE</a>; which only works with function templates, so we need to make the constructors template:</p>\n\n<pre><code>//For vectors with size known at compile time\ntemplate &lt;int V = RowAtCompileTime, typename = std::enable_if_t&lt;(V &gt; 0)&gt;&gt;\nVector() {\n    rowNumber = V;\n}\n//For vectors with dynamic size\ntemplate &lt;int V = RowAtCompileTime, typename = std::enable_if_t&lt;(V &lt;= 0)&gt;&gt;\nVector(const int _rowNumber) {\n    rowNumber = _rowNumber;\n}\n</code></pre>\n\n<p>then </p>\n\n<pre><code>Vector&lt;0&gt; v1(10);\nVector&lt;1&gt; v2;\n</code></pre>\n\n<p>BTW: <code>static_assert</code>s become meaningless for this implementation, they'll never be fired. But there's always only one constructor being callable, depends on the template argument. Call to improper constructor would cause compilation fail.</p>\n\n<p><a href=\"https://wandbox.org/permlink/qVdSrlr8lFeTkNTU\" rel=\"nofollow noreferrer\">LIVE</a></p>\n"}], "owner": {"reputation": 283, "user_id": 5903009, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/796487040455913/picture?type=large", "display_name": "Ran Wang", "link": "https://stackoverflow.com/users/5903009/ran-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 43763102, "answer_count": 1, "score": 1, "last_activity_date": 1493828632, "creation_date": 1493821405, "question_id": 43762781, "link": "https://stackoverflow.com/questions/43762781/select-template-class-constructors-with-different-template-parameters-and-causin", "title": "Select template class constructors with different template parameters and causing compilation to fail", "body": "<p>Here is a minimal example, suppose that I have a vector class whose size can be either statically determined or dynamically determined. I allow different syntax for constructors like in the following example. </p>\n\n<pre><code>template&lt;int RowAtCompileTime&gt;\nclass Vector{\n    //Other Details\n    int rowNumber;\npublic:\n    //For vectors with size known at compile time\n    Vector(){\n        static_assert(RowAtCompileTime &gt; 0,\"Cannot do this\");\n        rowNumber = RowAtCompileTime;\n    }\n    //For vectors with dynamic size\n    Vector(const int _rowNumber){\n        static_assert(RowAtCompileTime&lt;=0, \"Cannot do this\");\n        rowNumber=_rowNumber;\n    }\n};\n\ntemplate class Vector&lt;0&gt;;\ntemplate class Vector&lt;1&gt;;\n\nint main(){\n    //do nothing\n    return 0;\n}\n</code></pre>\n\n<p>Depending on the syntax, the goal is so-that only one of the constructor should be callable. Assume that the template parameter <code>RowAtCompileTime</code> is less than 0, which means it is dynamic, only the constructor <code>Vector(const int _rowNumber)</code> should be callable. </p>\n\n<p>The code will not compile under g++-4.8 under std=c++11, which is expected, as the constructor will instantiate all the interfaces according to <a href=\"https://bytes.com/topic/c/answers/162075-using-sfinae-constructors\" rel=\"nofollow noreferrer\">this</a>. It seems from the same website it is not possible to pass through this via SFINAE either (however, I am quite new to this concept, and I am not sure whether this is true). It is possible to offer partial template specializations, but if there many parameters like <code>RowAtCompileTime</code> the task seems very daunting. </p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1493821336, "post_id": 43762703, "comment_id": 74566728, "body": "<code>nt</code> and <code>nx</code> must be constant for the declarations of <code>double u[nx][nt];</code> and <code>double un[nx][nt];</code> to be portable. Some compilers (gcc) offer extensions to allow non-const dimensions but this is not supported by standard c++."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1493821422, "post_id": 43762703, "comment_id": 74566805, "body": "<a href=\"http://nbviewer.jupyter.org/github/barbagroup/CFDPython/blob/master/lessons/01_Step_1.ipynb\" rel=\"nofollow noreferrer\">Step 1</a> from <a href=\"https://github.com/barbagroup/CFDPython\" rel=\"nofollow noreferrer\">CFDPython</a>"}, {"owner": {"reputation": 259, "user_id": 7886227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hec3U.jpg?s=128&g=1", "display_name": "Dr t", "link": "https://stackoverflow.com/users/7886227/dr-t"}, "edited": false, "score": 0, "creation_date": 1493832230, "post_id": 43762703, "comment_id": 74574103, "body": "Can&#39;t tell exactly what your question is...  other than making your size vars const it should run.  if you want to break up the output from the arrays then put a simple statement between the for loops.  Like this:  <code>for (int t = 1; t&lt;= nt-1; t++) \t{ \t\tcout&lt;&lt;&quot;\\n  &quot;&lt;&lt;endl;         for (int s = 0; s&lt;=nx-1; s++) \t\t{             cout &lt;&lt; u[s][0] &lt;&lt; endl;             &#47;&#47;This is not correct.            }     }</code>"}], "owner": {"reputation": 143, "user_id": 7899820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70290374ddb444a02ae3498cc32eb302?s=128&d=identicon&r=PG&f=1", "display_name": "mle0312", "link": "https://stackoverflow.com/users/7899820/mle0312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493821361, "creation_date": 1493821212, "last_edit_date": 1493821361, "question_id": 43762703, "link": "https://stackoverflow.com/questions/43762703/1d-convection-equation-c", "title": "1D Convection equation C++", "body": "<p>I am new to C++ and currently I am trying to recode Professor Barbas's lectures on \"12 Steps to Navier Stokes\" but in C++ instead of Python. I attempted Step 1 and I am having some problems, below is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\nusing namespace std;\n\nint main(){\n    ///////////////////////////////////////////////////\n    //Start of C++\n\n    int nx = 41;\n    double dx = double(2) /(nx-1);\n    int nt = 25;\n    double dt  = 0.025;\n    int c = 1;\n    double u[nx][nt];\n    double un[nx][nt];    \n    //Initial Condition.  Step function\n\n    for (int i = 1; i &lt;= nx-1; i++){\n        if(i*dx &gt;= 0.5 &amp;&amp; i*dx &lt;=1){\n            u[i][0] = 2;\n        }else{\n            u[i][0] = 1;\n        }\n        cout &lt;&lt; u[i][0] &lt;&lt; endl;\n    }\n\n    //Finite Difference Loop \n\n    for (int it = 1; it&lt;= nt-1; it++){\n        for (int k = 0; k&lt;= nx-1; k++){\n            un[k][it-1] = u[k][it-1];   \n        }\n\n        for (int i = 0; i &lt; nx; i++){\n            u[i][it+1] = u[i][it] - c*dt/dx*(un[i][it-1]-un[i-1][it-1]);\n\n        }\n    }\n\n\n    //Advancing u[space][time] in time \n    //so collection of u[space][time++]\n    // i.e u[s][t]\n\n    for (int t = 1; t&lt;= nt-1; t++){\n        for (int s = 0; s&lt;=nx-1; s++){\n            cout &lt;&lt; u[s][0] &lt;&lt; endl;\n            //This is not correct.  \n\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Now I want to plot U as it advances in time.  So I will have U[i][time = 0] for 1 graph, then U[i][time = 1] for another graph and so on. Now, how do I gets these arrays out of the U[i][it].  In my last for loop, what I tried to \"cout\" is not correct, because it will \"cout\" the entire 41 x 20 elements.  What should happen is to have a 41 elements array for 1 instant in time, then if I want, I can change to get the next block of 41 elements.  Thank you for all your help.    </p>\n"}, {"tags": ["c++", "c++11", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 1474, "user_id": 3659011, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8aLi8.jpg?s=128&g=1", "display_name": "Adam Zahran", "link": "https://stackoverflow.com/users/3659011/adam-zahran"}, "edited": false, "score": 1, "creation_date": 1524430620, "post_id": 43762652, "comment_id": 86957209, "body": "What bugs me is that there is that we&#39;re calling the assignment operator to an rvalue."}, {"owner": {"reputation": 1079, "user_id": 661935, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e833884e71c50ffd92970b2c19b86dbb?s=128&d=identicon&r=PG", "display_name": "nn0p", "link": "https://stackoverflow.com/users/661935/nn0p"}, "edited": false, "score": 1, "creation_date": 1565662491, "post_id": 43762652, "comment_id": 101413212, "body": "In <a href=\"https://stackoverflow.com/a/4010943/661935\">this</a> answer, it stated that a container can&#39;t hold a reference. Why <code>tuple</code> could hold a reference?"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "reply_to_user": {"reputation": 1079, "user_id": 661935, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e833884e71c50ffd92970b2c19b86dbb?s=128&d=identicon&r=PG", "display_name": "nn0p", "link": "https://stackoverflow.com/users/661935/nn0p"}, "edited": false, "score": 8, "creation_date": 1565670724, "post_id": 43762652, "comment_id": 101414705, "body": "@nn0p <code>std::tuple</code> is not a container, at least not in the C++ terminology, not the same as the <code>std::vector</code> and the likes. For instance you can&#39;t iterate with the usual ways over a tuple because it contains different types of objects."}, {"owner": {"reputation": 397, "user_id": 5082450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1wgJ0cm-Fns/AAAAAAAAAAI/AAAAAAAAAB4/dFBVdZRAPlM/photo.jpg?sz=128", "display_name": "Ju Piece", "link": "https://stackoverflow.com/users/5082450/ju-piece"}, "reply_to_user": {"reputation": 1474, "user_id": 3659011, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8aLi8.jpg?s=128&g=1", "display_name": "Adam Zahran", "link": "https://stackoverflow.com/users/3659011/adam-zahran"}, "edited": false, "score": 0, "creation_date": 1587627730, "post_id": 43762652, "comment_id": 108586539, "body": "@Adam tie(x,y) = make_pair(1,2); actually becomes std::tie(x, y).operator=(std::make_pair(1, 2)), it&#39;s why &quot;assignment to an rvalue&quot; works XD"}], "tags": [], "owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "is_accepted": true, "score": 167, "last_activity_date": 1497738693, "last_edit_date": 1497738693, "creation_date": 1493821076, "answer_id": 43762652, "question_id": 43762651, "link": "https://stackoverflow.com/questions/43762651/how-does-stdtie-work/43762652#43762652", "title": "How does std::tie work?", "body": "<p>In order to clarify the core concept, let's reduce it to a more basic example. Although <code>std::tie</code> is useful for functions returning (a tuple of) more values, we can understand it just fine with just one value:</p>\n\n<pre><code>int a;\nstd::tie(a) = std::make_tuple(24);\nreturn a; // 24\n</code></pre>\n\n<p>Things we need to know in order to go forward:</p>\n\n<ul>\n<li><code>std::tie</code> constructs and returns a tuple of references.</li>\n<li><code>std::tuple&lt;int&gt;</code> and <code>std::tuple&lt;int&amp;&gt;</code> are 2 completely different classes, with no connection between them, other that they were generated from the same template, <code>std::tuple</code>.</li>\n<li><p>tuple has an <code>operator=</code> accepting a tuple of different types (but same number), where each member is assigned individually\u2014from <a href=\"http://en.cppreference.com/w/cpp/utility/tuple/operator%3D\" rel=\"noreferrer\">cppreference</a>:</p>\n\n<blockquote>\n<pre><code>template&lt; class... UTypes &gt;\ntuple&amp; operator=( const tuple&lt;UTypes...&gt;&amp; other );\n</code></pre>\n  \n  <p>(3) For all i, assigns <code>std::get&lt;i&gt;(other)</code> to <code>std::get&lt;i&gt;(*this)</code>.</p>\n</blockquote></li>\n</ul>\n\n<p>The next step is to get rid of those functions that only get in your way, so we can transform our code to this:</p>\n\n<pre><code>int a;\nstd::tuple&lt;int&amp;&gt;{a} = std::tuple&lt;int&gt;{24};\nreturn a; // 24\n</code></pre>\n\n<p>The next step is to see exactly what happens inside those structures.\nFor this, I create 2 types <code>T</code> substituent for <code>std::tuple&lt;int&gt;</code> and <code>Tr</code> substituent <code>std::tuple&lt;int&amp;&gt;</code>, stripped down to the bare minimum for our operations:</p>\n\n<pre><code>struct T { // substituent for std::tuple&lt;int&gt;\n    int x;\n};\n\nstruct Tr { // substituent for std::tuple&lt;int&amp;&gt;\n    int&amp; xr;\n\n    auto operator=(const T&amp; other)\n    {\n       // std::get&lt;I&gt;(*this) = std::get&lt;I&gt;(other);\n       xr = other.x;\n    }\n};\n\nauto foo()\n{\n    int a;\n    Tr{a} = T{24};\n\n    return a; // 24\n}\n</code></pre>\n\n<p>And finally, I like to get rid of the structures all together (well, it's not 100% equivalent, but it's close enough for us, and explicit enough to allow it):</p>\n\n<pre><code>auto foo()\n{\n    int a;\n\n    { // block substituent for temporary variables\n\n    // Tr{a}\n    int&amp; tr_xr = a;\n\n    // T{24}\n    int t_x = 24;\n\n    // = (asignement)\n    tr_xr = t_x;\n    }\n\n    return a; // 24\n}\n</code></pre>\n\n<p>So basically, <code>std::tie(a)</code> initializes a data member reference to <code>a</code>. <code>std::tuple&lt;int&gt;(24)</code> creates a data member with value <code>24</code>, and the assignment assigns 24 to the data member reference in the first structure. But since that data member is a reference bound to <code>a</code>, that basically assigns <code>24</code> to <code>a</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 2, "creation_date": 1493894259, "post_id": 43780252, "comment_id": 74601319, "body": "If that last line compiles I&#39;m a bit concerned. It looks like binding a reference to a temporary which is illegal."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 50655, "user_id": 182705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4538cb9de4914a875d13da50c7c406ad?s=128&d=identicon&r=PG&f=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/182705/neil"}, "edited": false, "score": 3, "creation_date": 1493897956, "post_id": 43780252, "comment_id": 74603841, "body": "@Neil It has to be either an rvalue reference, or a const lvalue reference. You cannot bind an lvalue reference to a prvalue (temporary). Although this has been an &quot;extension&quot; in MSVC for ages."}, {"owner": {"reputation": 10492, "user_id": 603688, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1058344e1b119c4d9dd3aedc5456277b?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/603688/dan"}, "edited": false, "score": 1, "creation_date": 1493975708, "post_id": 43780252, "comment_id": 74641556, "body": "It&#39;s probably also worth mentioning that unlike <code>tie</code>, structured bindings can be used this way on types that aren&#39;t default-constructible."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 7, "creation_date": 1542296170, "post_id": 43780252, "comment_id": 93526129, "body": "Yeah, <code>std::tie()</code> is a lot less useful since C++17, where structured bindings are usually superior, but it still has uses, including assigning to existing (not simultaneously newly declared) variables and concisely doing other things like swapping multiple variables or other things that must assign to references."}], "tags": [], "owner": {"reputation": 61429, "user_id": 572743, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9941673f566f229bc536c1c2b558884e?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/572743/damon"}, "is_accepted": false, "score": 35, "last_activity_date": 1493906389, "last_edit_date": 1493906389, "creation_date": 1493893446, "answer_id": 43780252, "question_id": 43762651, "link": "https://stackoverflow.com/questions/43762651/how-does-stdtie-work/43780252#43780252", "title": "How does std::tie work?", "body": "<p>This does not answer your question in any way, but let me post it anyway because C++17 is basically ready (with compiler support), so while wondering how the outdated stuff works, it is probably worth looking at how the current, and future, version of C++ works, too.</p>\n\n<p>With C++17 you can pretty much scratch <code>std::tie</code> in favour of what is called <em>structured bindings</em>. They do the same (well, <em>not the same</em>, but they have the same net effect), although you need to type fewer characters, it does not need library support, and you <em>also</em> have the ability to take references, if that happens to be what you want.</p>\n\n<p>(Note that in C++17 constructors do argument deduction, so <code>make_tuple</code> has become somewhat superfluous, too.)</p>\n\n<pre><code>int a, b;\nstd::tie(a, b) = std::make_tuple(2, 3);\n\n// C++17\nauto  [c, d] = std::make_tuple(4, 5);\nauto  [e, f] = std::tuple(6, 7);\nstd::tuple t(8,9); auto&amp; [g, h] = t; // not possible with std::tie\n</code></pre>\n"}], "owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42597, "favorite_count": 31, "accepted_answer_id": 43762652, "answer_count": 2, "score": 138, "last_activity_date": 1497738693, "creation_date": 1493821076, "last_edit_date": 1493835141, "question_id": 43762651, "link": "https://stackoverflow.com/questions/43762651/how-does-stdtie-work", "title": "How does std::tie work?", "body": "<p>I've used <code>std::tie</code> without giving much thought into it. It works so I've just accepted that:</p>\n\n<pre><code>auto test()\n{\n   int a, b;\n   std::tie(a, b) = std::make_tuple(2, 3);\n   // a is now 2, b is now 3\n   return a + b; // 5\n}\n</code></pre>\n\n<p>But how does this <em>black magic</em> work? How does a temporary created by <code>std::tie</code> change <code>a</code> and <code>b</code>? I find this more interesting since it's a library feature, not a language feature, so surely it is something we can implement ourselves and understand.</p>\n"}, {"tags": ["c++", "arrays", "random", "codeblocks"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1493821036, "post_id": 43762570, "comment_id": 74566481, "body": "Basically a dupe of <a href=\"http://stackoverflow.com/questions/6942273/get-random-element-from-container\">this</a>"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1493821069, "post_id": 43762570, "comment_id": 74566514, "body": "I would advice ditching crappy <code>rand()</code> and using the much better C++11 <a href=\"http://en.cppreference.com/w/cpp/numeric/random\" rel=\"nofollow noreferrer\">random</a> facilities."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1493822157, "post_id": 43762570, "comment_id": 74567406, "body": "<a href=\"http://en.cppreference.com/w/cpp/algorithm/random_shuffle\" rel=\"nofollow noreferrer\">std::shuffle</a> can solve your problem."}, {"owner": {"reputation": 1123, "user_id": 7334796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40218277e3752bb31fb331861decd8b5?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/7334796/j%c3%a9r%c3%b4me"}, "edited": false, "score": 1, "creation_date": 1493825518, "post_id": 43762570, "comment_id": 74570033, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/6942273/get-random-element-from-container\">get random element from container</a>"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 7941615, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365863163437021/picture?type=large", "display_name": "Xavier Ara&#250;jo", "link": "https://stackoverflow.com/users/7941615/xavier-ara%c3%bajo"}, "is_accepted": false, "score": 0, "last_activity_date": 1493821401, "creation_date": 1493821401, "answer_id": 43762780, "question_id": 43762570, "link": "https://stackoverflow.com/questions/43762570/how-do-i-use-rand-to-generate-a-list-of-words-for-my-game/43762780#43762780", "title": "How do i use rand() to generate a list of words for my game?", "body": "<p>You can put the words in an array and then use rand() to get a random array position. You need to limit the values generated by rand() using the % operator to guarantee that the generated value is always a valid array position.</p>\n\n<p>And don't forget to update the seed of the rand() function.</p>\n"}], "owner": {"reputation": 1, "user_id": 7558826, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154908755563467/picture?type=large", "display_name": "Sarwat Qamar", "link": "https://stackoverflow.com/users/7558826/sarwat-qamar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493821401, "creation_date": 1493820887, "question_id": 43762570, "link": "https://stackoverflow.com/questions/43762570/how-do-i-use-rand-to-generate-a-list-of-words-for-my-game", "title": "How do i use rand() to generate a list of words for my game?", "body": "<p>So, Me and my friends made this game called \"Guess the Word\".It's a pretty basic game with this following code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;string&gt;\n\nusing namespace std;\n\nint playGame(string word)                         //display word\n{\n    int misses = 0;                               // keep track of misses\n    int exposed =0;                               //guess letter exposed\n    string display = word;                        //value of word stored in display\n    for(int i=0; i&lt;display.length(); i++)         //initially all letters are displayed by( * )\n        display[i] = '*';\n\nwhile(exposed &lt; word.length()) {\n    cout&lt;&lt;\"Miss: \"&lt;&lt;misses&lt;&lt; \": \";\n    cout&lt;&lt;\"Guess a letter in word \";\n    cout&lt;&lt; display &lt;&lt; \":\";\n    char response;                                //response = user input\n    cin&gt;&gt;response;\n    bool goodGuess = false;                       //initially all letters are false\n    bool duplicate = false;\n    for(int i=0; i&lt;word.length(); i++)\n    if(response == word[i])                       // if user input word is true, remove * and show the letter\n    if (display[i]==word[i]){\n        cout&lt;&lt; response &lt;&lt;\" is already in the word.\\n\";\n        duplicate=true;\n        break;\n        }\n        else {\n        display[i] = word[i];\n        exposed ++;            //increment in exposed\n        goodGuess = true;      //false value becomes true\n    }\n    if(duplicate)\n        continue;\n\n    if(!goodGuess){               //if  user input letter is false show the cout\n        misses++;                 //increment in misses\n    cout&lt;&lt; response &lt;&lt; \" is not in the word\" &lt;&lt;endl;\n    }\n\n\n if(misses==6){                     //if user inputs 6 wrong letter  show this cout\n        cout&lt;&lt;\"   ____       _      _         _  ____     ___             _____  _____            \" &lt;&lt;endl;\n        cout&lt;&lt;\"  /          / \\\\    | \\\\      / | |        /   \\\\ \\\\      /  |      |     \\\\\" &lt;&lt;endl;\n        cout&lt;&lt;\" /  ____    /___\\\\   |  \\\\    /  | |____   |     | \\\\    /   |_____ |_____/\" &lt;&lt;endl;\n        cout&lt;&lt;\" |      |  /     \\\\  |   \\\\  /   | |       |     |  \\\\  /    |      |    \\\\\" &lt;&lt;endl;\n        cout&lt;&lt;\"  \\\\___ |  /       \\\\ |    \\\\/    | |____    \\\\___/    \\\\/     |_____ |     \\\\\" &lt;&lt;endl;\n        break;\n        }\n}\nif(misses != 6)        //if user inputs all true letters before 6 wrong values show this cout\n{\n\n cout&lt;&lt; \" YES, WORD WAS COMPUTER \"&lt;&lt;endl;\n cout &lt;&lt;\"    _____      ___                   ____      ______         _      ________  ____    \"&lt;&lt;endl;\n cout &lt;&lt;\"  /          /   \\\\    | \\\\    |    /         |      \\\\       / \\\\         |      /     \"&lt;&lt;endl;\n cout &lt;&lt;\"  |         |     |   |  \\\\   |    |   ___   |______/      /___\\\\        |      \\\\___ \"&lt;&lt;endl;\n cout &lt;&lt;\"  |         |     |   |   \\\\  |    |     |   |     \\\\      /     \\\\       |          |\"&lt;&lt;endl;\n cout &lt;&lt;\"  \\\\_____     \\\\___/    |    \\\\ |    \\\\_____|   |      \\\\    /       \\\\      |      ____|\"&lt;&lt;endl;\n    int i,j,k;                             /* show the star */\n    for (i=1;i&lt;=5;i++)                     //for loop for next line\n    {\n        for (j=16;j&gt;=i;j--)                //nested for loop to print the spaces\n        {\n            cout &lt;&lt;\" \";\n        }\n        for (k=1;k&lt;=(i*2)-1;k++)           //nested for loop to print *\n        {\n            cout &lt;&lt;\"*\";\n        }\n        cout &lt;&lt;endl;\n    }\n        for (i=13;i&gt;=11;i--)              //for loop for next line\n        {\n            for (j=1;j&lt;=17-i;j++)         //nested for loop to print the spaces\n\n            {\n                cout &lt;&lt;\" \";\n            }\n            for (k=1;k&lt;=i*2-1;k++)       //nested for loop to print *\n            {\n                cout &lt;&lt;\"*\";\n            }\n            cout &lt;&lt;endl;\n        }\n        for (i=5;i&gt;=1;i--)              //for loop for next line\n{\n    for (j=1;j&lt;i*2-1;j++)               //nested for loop to print the spaces\n    {\n        cout &lt;&lt;\" \";\n    }\n    for(k=1;k&lt;(i*2);k++)                //nested for loop to print *\n        {\n            cout &lt;&lt;\"*\";\n        }\n        for (j=9;j&gt;i*2-1;j--)           //nested for loop to print the spaces\n        {\n            cout &lt;&lt;\"    \";\n        }\n        for (k=1;k&lt;(i*2);k++)          //nested for loop to print *\n        {\n            cout &lt;&lt;\"*\";\n        }\n        cout &lt;&lt;endl;\n}\n}\nreturn misses;\n}\nint main(){                           /* if all the conditions are true cout this */\ncout&lt;&lt;\"************************************GUESS THE WORD*****************************\\n\"&lt;&lt;endl;\ncout&lt;&lt;\"****************************************RULES**********************************\"&lt;&lt;endl;\ncout&lt;&lt;\"1.Guess one letter at a time.\"&lt;&lt;endl;\ncout&lt;&lt;\"2.After 6 misses the game is over.\"&lt;&lt;endl;\ncout&lt;&lt;\"*******************************************************************************\"&lt;&lt;endl;\ncout&lt;&lt;\"***YOU MISSED***\"&lt;&lt;playGame(\"computer\");  //value of string word is stored here in quotations\ncout&lt;&lt;\"****ATTEMPTS TO GUESS THE WORD COMPUTER****.\"&lt;&lt;endl;\nreturn 0;\n}\n</code></pre>\n\n<p>How can I use rand() and an array of words in this code so that the word is different every time someone plays the game? </p>\n"}, {"tags": ["c++", "unreal-engine4"], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 1381252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66042b7b5c5e2dcd1334dfaf9b09ccf9?s=128&d=identicon&r=PG", "display_name": "JonS", "link": "https://stackoverflow.com/users/1381252/jons"}, "is_accepted": false, "score": 2, "last_activity_date": 1493903596, "creation_date": 1493903596, "answer_id": 43783895, "question_id": 43762282, "link": "https://stackoverflow.com/questions/43762282/ue4check-if-a-point-lies-in-a-collision-circle/43783895#43783895", "title": "(UE4)Check if a point lies in a collision circle", "body": "<p>If the distance between the two objects is less than the collision radius, the objects would \"collide\". Unless you have other criteria?</p>\n"}], "owner": {"reputation": 29, "user_id": 7219930, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b8421e992ddbc505f7ef75bab34f2b09?s=128&d=identicon&r=PG&f=1", "display_name": "Wolff", "link": "https://stackoverflow.com/users/7219930/wolff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493903596, "creation_date": 1493820106, "last_edit_date": 1493889768, "question_id": 43762282, "link": "https://stackoverflow.com/questions/43762282/ue4check-if-a-point-lies-in-a-collision-circle", "title": "(UE4)Check if a point lies in a collision circle", "body": "<p>is there an easy way to check if a point lies in a collision circle of other actors in the world? I am working on a project where my actor would move to a certain location and i want to check if i would get a collision even before my actor is moving.</p>\n"}, {"tags": ["c++", "reference", "pass-by-reference", "pass-by-value"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1493819959, "post_id": 43762195, "comment_id": 74565626, "body": "The difference is in the 2nd example, <code>obj</code> still exists when you create <code>newObject</code>. In the first example, <code>obj</code> has stopped existing before you could create <code>newObject</code>. The function fully returns and clears it&#39;s variables before the result is assigned to <code>newObject</code>."}, {"owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493820041, "post_id": 43762195, "comment_id": 74565688, "body": "No, because the object is destroyed <i>before</i> the function returns, while the can&#39;t be done before it does."}, {"owner": {"reputation": 8369, "user_id": 785194, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/94c198ed8c016359381405b64a5b1aa8?s=128&d=identicon&r=PG", "display_name": "EML", "link": "https://stackoverflow.com/users/785194/eml"}, "edited": false, "score": 0, "creation_date": 1493821121, "post_id": 43762195, "comment_id": 74566564, "body": "The other question is asking exactly the same thing - check it again. It asks why the reference can&#39;t be returned, and you&#39;re saying &#39;but if I <i>did</i> return it, what could I do with it&#39;?"}], "answers": [{"comments": [{"owner": {"reputation": 1369, "user_id": 4729407, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/ugk8q.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4729407/luca"}, "edited": false, "score": 0, "creation_date": 1493820609, "post_id": 43762367, "comment_id": 74566145, "body": "So I can&#39;t let&#39;s say &quot;save&quot; the object before it&#39;s gone?"}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "reply_to_user": {"reputation": 1369, "user_id": 4729407, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/ugk8q.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4729407/luca"}, "edited": false, "score": 1, "creation_date": 1493820684, "post_id": 43762367, "comment_id": 74566199, "body": "@Luca Yes, you can, by returning a value instead of a reference. That&#39;s pretty much what returning by value means."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493820905, "post_id": 43762367, "comment_id": 74566402, "body": "That is precisely what returning by value means."}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "reply_to_user": {"reputation": 1369, "user_id": 4729407, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/ugk8q.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4729407/luca"}, "edited": false, "score": 2, "creation_date": 1493821295, "post_id": 43762367, "comment_id": 74566697, "body": "@Luca: If it&#39;s superfluous copying that you&#39;re worried about. Don&#39;t be. The compiler&#39;s got your back. <a href=\"http://stackoverflow.com/questions/12953127/what-are-copy-elision-and-return-value-optimization\" title=\"what are copy elision and return value optimization\">stackoverflow.com/questions/12953127/&hellip;</a>"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 2, "last_activity_date": 1493820371, "creation_date": 1493820371, "answer_id": 43762367, "question_id": 43762195, "link": "https://stackoverflow.com/questions/43762195/c-return-a-local-object-by-reference/43762367#43762367", "title": "C++ return a local object by reference", "body": "<p>No, as you said yourself, it is not safe.</p>\n\n<p>This is true no matter what you do with the now-invalid reference to the now-destroyed object.</p>\n\n<p>It's too late to copy it.</p>\n"}], "owner": {"reputation": 1369, "user_id": 4729407, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/ugk8q.jpg?s=128&g=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4729407/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "closed_date": 1493819966, "accepted_answer_id": 43762367, "answer_count": 1, "score": 0, "last_activity_date": 1493820501, "creation_date": 1493819875, "last_edit_date": 1493820501, "question_id": 43762195, "link": "https://stackoverflow.com/questions/43762195/c-return-a-local-object-by-reference", "closed_reason": "Duplicate", "title": "C++ return a local object by reference", "body": "<p>I know that this question has been asked several (million) times, but I can't understand what follows:</p>\n\n<p>If I have a function like this one:</p>\n\n<pre><code>Object &amp;function()\n{\n    Object obj;\n    return obj;\n}\n</code></pre>\n\n<p>and a client code that calls it:</p>\n\n<pre><code>Object newObject = function();\n</code></pre>\n\n<p>I'm returning obj by reference meaning and that is bad because that object is destroyed as soon as it goes out of scope (after the terminating brace). But I'm passing that local object to a new object at the call site so shouldn't I be safe? Shouldn't the object have been copied (by its copy constructor) when it's gone? I know that passing a pointer to alocal object is bad, since I'm passing (by value) the pointer's location that will point to garbage once the (local) pointer goes out of scope (the stack frame is gone), but why references? Isn't the code the same as:</p>\n\n<pre><code>Object &amp;temp = obj;\nObject newObject = temp;\n</code></pre>\n\n<p>? please explain.</p>\n\n<p><strong>EDIT</strong> the question above is not asking the same thing. I fully understand why I shouldn't return a pointer to a local, and why I souldn't return a reference to a local to initialize a reference at the call site. What I don't understand is why I can't use a reference to a local to initialize an object at the call site. I don't think it's so trivial.</p>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 1217, "user_id": 2660911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580a3e9a6939226a59fadb456c38912a?s=128&d=identicon&r=PG", "display_name": "baddger964", "link": "https://stackoverflow.com/users/2660911/baddger964"}, "edited": false, "score": 0, "creation_date": 1493819956, "post_id": 43762183, "comment_id": 74565625, "body": "try to read : <a href=\"http://stackoverflow.com/questions/20595760/c-communication-between-threads\" title=\"c communication between threads\">stackoverflow.com/questions/20595760/&hellip;</a>"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1493820632, "post_id": 43762183, "comment_id": 74566155, "body": "There are several ways for thread communication in std::thread.  A nice one that might fit is <a href=\"http://en.cppreference.com/w/cpp/thread/promise\" rel=\"nofollow noreferrer\">std::promise</a>"}, {"owner": {"reputation": 3699, "user_id": 375399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ee1c857b767375e1fc848279f64584b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/375399/nick"}, "edited": false, "score": 0, "creation_date": 1493820825, "post_id": 43762183, "comment_id": 74566317, "body": "In Linux this has historically been done with pipes or shared memory. No need for C++14 features (AFAIK)."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1493824149, "post_id": 43762183, "comment_id": 74568963, "body": "The problem with the question is that the thread communication should be based on how your system works, which we don&#39;t know.  What I do know is that standard c++ doesn&#39;t have functions in other threads.  You can adapt the code in the linked article to std::thread, but the destination thread would still be needing to wait for the function to be received, see the code <code>while(GetMessage(&amp;msg, NULL, 0, 0))</code>."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 7957988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ce3a55820a563a2cef83a0cc68fa9cd?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mickey", "link": "https://stackoverflow.com/users/7957988/martin-mickey"}, "edited": false, "score": 0, "creation_date": 1493821223, "post_id": 43762596, "comment_id": 74566633, "body": "In this, I have to &quot;wait&quot; in while-loop. I dont want to do this. I wan to call method from thread and specify on which thread it should be executed"}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 183, "user_id": 7957988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ce3a55820a563a2cef83a0cc68fa9cd?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mickey", "link": "https://stackoverflow.com/users/7957988/martin-mickey"}, "edited": false, "score": 0, "creation_date": 1493821350, "post_id": 43762596, "comment_id": 74566746, "body": "@MartinMickey This is just an example. In your real GUI program, you put that promise in the class that has the data to be analyzed, and you pull the future from it before executing the task, and finally you get the GUI to check the status of the future periodically until it&#39;s ready."}, {"owner": {"reputation": 183, "user_id": 7957988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ce3a55820a563a2cef83a0cc68fa9cd?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mickey", "link": "https://stackoverflow.com/users/7957988/martin-mickey"}, "edited": false, "score": 0, "creation_date": 1493821519, "post_id": 43762596, "comment_id": 74566885, "body": "But I dont have there any periodic code... I must manually call &quot;refresh&quot; or something like that. Otherwise, methods are not executed from GUI and I dont have access to main update loop."}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 183, "user_id": 7957988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ce3a55820a563a2cef83a0cc68fa9cd?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mickey", "link": "https://stackoverflow.com/users/7957988/martin-mickey"}, "edited": false, "score": 0, "creation_date": 1493821727, "post_id": 43762596, "comment_id": 74567022, "body": "@MartinMickey ALL gui libraries are based on event loops and/or timers. I.e., you always have something periodically checking. This is how GUIs work. So you should get your gui to check the status either with a timer or something else. There&#39;s no magic that will give you a &quot;signal&quot; that your result is ready. I&#39;m assuming here you&#39;re not using Qt with signals and slots, because that&#39;s a whole other story and this whole discussion won&#39;t apply. In that case you could use <code>QThread</code>, which supports signaling when ready (which will basically do what you have to do now manually)."}, {"owner": {"reputation": 438, "user_id": 1856291, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fdea86c71c725c1932114ed5db6723b3?s=128&d=identicon&r=PG", "display_name": "Sugar", "link": "https://stackoverflow.com/users/1856291/sugar"}, "edited": false, "score": 0, "creation_date": 1493821951, "post_id": 43762596, "comment_id": 74567215, "body": "your a bit edited code and it compiles, but dies with SIGABRT <a href=\"http://ideone.com/NcT1oH\" rel=\"nofollow noreferrer\">ideone.com/NcT1oH</a>"}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 438, "user_id": 1856291, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fdea86c71c725c1932114ed5db6723b3?s=128&d=identicon&r=PG", "display_name": "Sugar", "link": "https://stackoverflow.com/users/1856291/sugar"}, "edited": false, "score": 1, "creation_date": 1493822255, "post_id": 43762596, "comment_id": 74567490, "body": "@Sugar Because you didn&#39;t join... I joined now in my code. Here you go: <a href=\"http://ideone.com/mnpeij\" rel=\"nofollow noreferrer\">ideone.com/mnpeij</a>"}], "tags": [], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "is_accepted": true, "score": 6, "last_activity_date": 1493822278, "last_edit_date": 1493822278, "creation_date": 1493820935, "answer_id": 43762596, "question_id": 43762183, "link": "https://stackoverflow.com/questions/43762183/multiplatform-cross-thread-communication-in-c14/43762596#43762596", "title": "Multiplatform cross thread communication in C++14", "body": "<p>The answer: <code>promise</code> and <code>future</code>.</p>\n\n<p>When you create your <code>std::thread</code>, create a <code>std::promise</code> object, and pass it to your thread. For example:</p>\n\n<pre><code>std::promise&lt;void&gt; promise_that_data_is_loaded;\nauto loaded_future = promise_that_data_is_loaded.get_future();\nstd::thread t([&amp;promise_that_data_is_loaded]()\n{\n    loadData();\n    promise_that_data_is_loaded.set(); //set this after work is done\n});\nwhile(loaded_future.wait_for(std::chrono::seconds(0)) != std::future_status::ready)\n{\n    //wait, or refresh GUI, or do other stuff, etc...\n}\nloaded_future.get();\nt.join();\n</code></pre>\n\n<p>Note: I didn't compile this. This is off the top of my head.</p>\n\n<p>With this example, you see that you pass a promise, that when <code>set()</code>, will tell another thread that it's ready.</p>\n\n<p>When you create your thread, pass the data/class with a promise that should be set, and set it when you're done. This will tell your GUI when you're finished.</p>\n"}], "owner": {"reputation": 183, "user_id": 7957988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ce3a55820a563a2cef83a0cc68fa9cd?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Mickey", "link": "https://stackoverflow.com/users/7957988/martin-mickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 43762596, "answer_count": 1, "score": 2, "last_activity_date": 1493822278, "creation_date": 1493819855, "question_id": 43762183, "link": "https://stackoverflow.com/questions/43762183/multiplatform-cross-thread-communication-in-c14", "title": "Multiplatform cross thread communication in C++14", "body": "<p>I have C++14 program that uses thread for loading data from large files. I use <code>std::thread</code> and in method, data are loaded. However, after data are loaded I need to notify main thread (GUI, console...), that data are ready. How can I achieve this?</p>\n\n<p>I have found this <a href=\"https://www.codeproject.com/Articles/16726/Cross-thread-calls-in-native-C\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/16726/Cross-thread-calls-in-native-C</a>, but it is Windows only. On Linux, I can use signals and interrruptions, but I dont think that is a good idea.</p>\n\n<p>Is there any C++14 mechanism, that allows you wo call method XY on threadID and OS will schedule it?</p>\n"}, {"tags": ["c++", "c++11", "templates", "static-assert"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 3, "creation_date": 1493819745, "post_id": 43762072, "comment_id": 74565445, "body": "<code>B&lt;T&gt;</code> never instantiates <code>T</code>. The static assertion only fires when a template specialization is instantiated."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1493819871, "post_id": 43762072, "comment_id": 74565555, "body": "@KerrekSB: \u2193\u2193\u2193\u2193\u2193\u2193\u2193"}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1493820247, "last_edit_date": 1493820247, "creation_date": 1493819846, "answer_id": 43762177, "question_id": 43762072, "link": "https://stackoverflow.com/questions/43762072/static-assert-and-class-templates/43762177#43762177", "title": "static_assert and class templates", "body": "<p>Your class template <code>B</code> doesn't do anything with its <code>T</code>, so its <code>T</code> isn't instantiated.</p>\n\n<p>Thus \"nothing happens\" to the <code>A&lt;1&gt;</code> in <code>B&lt;A&lt;1&gt;&gt;</code>.</p>\n\n<p>If you had a member <code>T a</code> inside <code>B</code> then you'd get the assertion failure.</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 4601945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72cbcc787034a74e7c84f1cf69a296f5?s=128&d=identicon&r=PG&f=1", "display_name": "valentin", "link": "https://stackoverflow.com/users/4601945/valentin"}, "edited": false, "score": 0, "creation_date": 1493822524, "post_id": 43762262, "comment_id": 74567709, "body": "Is there a way to explicitly instantiate the A template class in the body of B without creation of A instance / inheriting from A? I do know about this syntax:        template class A&lt;1&gt;; But I can&#39;t use this in the B body."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 165, "user_id": 4601945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72cbcc787034a74e7c84f1cf69a296f5?s=128&d=identicon&r=PG&f=1", "display_name": "valentin", "link": "https://stackoverflow.com/users/4601945/valentin"}, "edited": false, "score": 0, "creation_date": 1493823271, "post_id": 43762262, "comment_id": 74568307, "body": "@valentin Answer revised."}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 6, "last_activity_date": 1493828749, "last_edit_date": 1493828749, "creation_date": 1493820057, "answer_id": 43762262, "question_id": 43762072, "link": "https://stackoverflow.com/questions/43762072/static-assert-and-class-templates/43762262#43762262", "title": "static_assert and class templates", "body": "<p>For <code>B&lt;A&lt;1&gt;&gt; b;</code>, <code>A&lt;1&gt;</code> is only used as template argument, which doesn't cause <a href=\"http://en.cppreference.com/w/cpp/language/class_template#Implicit_instantiation\" rel=\"nofollow noreferrer\">implicit instantiation</a> of class template <code>A</code>, then the <code>static_assert</code> inside <code>A</code>'s definition won't be triggered.</p>\n\n<blockquote>\n  <p>When code refers to a template in context that requires a completely defined type, or when the completeness of the type affects the code, and this particular type has not been explicitly instantiated, implicit instantiation occurs. For example, when an object of this type is constructed, but not when a pointer to this type is constructed.</p>\n</blockquote>\n\n<p>On the other hand, for <code>A&lt;1&gt; a;</code>, <code>A&lt;1&gt;</code> is required to be a complete type (to construct <code>a</code>), then implicit instantiation happens, <code>static_assert</code> is fired.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You can use <code>sizeof</code> (which requires the type to be complete) to cause the implicit instantiation and fire the <code>static_assert</code>. e.g.</p>\n\n<pre><code>template &lt;class T&gt;\nclass B{\n    static_assert(sizeof(T) &gt; 0, \"static_assert for implicit instantiation\");\n};\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4601945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72cbcc787034a74e7c84f1cf69a296f5?s=128&d=identicon&r=PG&f=1", "display_name": "valentin", "link": "https://stackoverflow.com/users/4601945/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 1, "accepted_answer_id": 43762262, "answer_count": 2, "score": 5, "last_activity_date": 1493828831, "creation_date": 1493819616, "last_edit_date": 1493828831, "question_id": 43762072, "link": "https://stackoverflow.com/questions/43762072/static-assert-and-class-templates", "title": "static_assert and class templates", "body": "<p>I have a problem with the <code>static_assert</code> feature. When I instantiate a class template directly, everything works as expected. But when I pass it as a parameter for the different class template, <code>static_assert</code> does not work.</p>\n\n<pre><code>template &lt;int X&gt;\nclass A{\n    static_assert(X == 0, \"X != 0\");\n};\n\ntemplate &lt;class T&gt;\nclass B{\n\n};\n\nB&lt;A&lt;1&gt;&gt; b;           // Static assert does not work\nA&lt;1&gt;    a;           // error: static assertion failed: X != 0\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks all for the answers. Is there a way to explicitly instantiate A without creation of A instances / inheriting from A? I was trying this: </p>\n\n<pre><code>template &lt;int X&gt;\nclass A{\n    static_assert(X == 0, \"X != 0\");\n};\n\ntemplate &lt;class T&gt;\nclass B;\n\ntemplate &lt;template &lt;int X&gt; class T, int X&gt;\nclass B&lt;T&lt;X&gt;&gt;{\n    template class T&lt;X&gt;;\n};\n</code></pre>\n\n<p>But this is incorrect.</p>\n"}, {"tags": ["c++", "class", "operator-overloading"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 9, "creation_date": 1493819482, "post_id": 43761989, "comment_id": 74565223, "body": "You found garbage. Change your learning material to something that <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list/388282\">makes sense</a>."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1493819483, "post_id": 43761989, "comment_id": 74565225, "body": "I believe this example is undefined behavior. It relies on <code>y</code> being immediately after <code>x</code> in memory and I&#39;m not certain that this is guaranteed."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1493819582, "post_id": 43761989, "comment_id": 74565313, "body": "<code>const int&amp; index</code> is premature pessimism. It adds a layer of indirection with no possible gain."}], "answers": [{"comments": [{"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1493820694, "post_id": 43762394, "comment_id": 74566205, "body": "I wouldn&#39;t be so sure that it&#39;s broken; <code>Vector2D</code> as it is is standard layout (actually, it&#39;s even POD), and the standard gives much stronger guarantees about the layout in memory for standard layout classes."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 1, "creation_date": 1493820728, "post_id": 43762394, "comment_id": 74566236, "body": "@MatteoItalia: You simply can&#39;t use pointer arithmetic to &quot;jump&quot; objects like this, no matter what their layout is. C++14 5.7/5 is clear that this is UB."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1493860873, "post_id": 43762394, "comment_id": 74585846, "body": "@BoundaryImposition that reference to the standard is important enough to be part of the answer."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 5, "last_activity_date": 1493820431, "creation_date": 1493820431, "answer_id": 43762394, "question_id": 43761989, "link": "https://stackoverflow.com/questions/43761989/how-is-this-operator-overloaded/43762394#43762394", "title": "How is this [] operator overloaded?", "body": "<blockquote>\n  <p>How is the <code>[]</code> operator overloaded?</p>\n</blockquote>\n\n<p>Badly.</p>\n\n<blockquote>\n  <p>How do I understand <code>(&amp;x)[index]</code>?</p>\n</blockquote>\n\n<p>It's a line of code that pretends we can safely navigate around a class's members using pointer arithmetic. We can't. The code is broken.</p>\n\n<p>Furthermore, taking an <code>int</code> by const reference is just stupid; there's essentially no way that's going to be of use to an optimiser. <code>int</code>s are tiny, possibly even <em>smaller</em> than the pointer that your compiler is likely to need \"under the hood\" to implement this reference.</p>\n"}], "owner": {"reputation": 2569, "user_id": 5556905, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8fb333bb0d166b1b2386c42c4cd9fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "jinglei", "link": "https://stackoverflow.com/users/5556905/jinglei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493820431, "creation_date": 1493819373, "last_edit_date": 1493820390, "question_id": 43761989, "link": "https://stackoverflow.com/questions/43761989/how-is-this-operator-overloaded", "title": "How is this [] operator overloaded?", "body": "<p>I'm trying to construct a 2D vector class myself.</p>\n\n<p>When I'm looking for sample code implemented by others, I found this:</p>\n\n<pre><code>class Vector2D {\n public:\n\n  // components\n  double x, y;\n\n  Vector2D() : x( 0.0 ), y( 0.0 ) { }\n\n  // returns reference to the specified component (0-based indexing: x, y)\n  inline double&amp; operator[] ( const int&amp; index ) {\n    return ( &amp;x )[ index ];\n  }\n}\n</code></pre>\n\n<p>How is the <code>[]</code> operator overloaded? How do I understand <code>(&amp;x)[index]</code>?</p>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "edited": false, "score": 1, "creation_date": 1493824870, "post_id": 43761788, "comment_id": 74569559, "body": "The usual underlying reason for duplicate output in such cases in glibc is stdout flush caused by the implicit exit() at the end of main finds the output buffer while the thread is in the write() syscall. The thread would mark it written when the syscall returns, but flush sees it &quot;unwritten&quot; and issues it&#39;s own write()"}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "edited": false, "score": 0, "creation_date": 1493819994, "post_id": 43761974, "comment_id": 74565656, "body": "Many thanks. It&#39;s the first time I use a smart pointer, now I know I have to use them only by value. After removing the reference and constness of those smart pointers on A::f and A::g it&#39;s working as expected"}, {"owner": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "edited": false, "score": 0, "creation_date": 1493820112, "post_id": 43761974, "comment_id": 74565758, "body": "Now with the correct use of the shared pointers I don&#39;t think it&#39;s possible that the detached thread run past the end of main. Don&#39;t  you think ?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "edited": false, "score": 0, "creation_date": 1493820286, "post_id": 43761974, "comment_id": 74565890, "body": "@infiniteLoop: <i>&quot;Now with the correct use of the shared pointers I don&#39;t think it&#39;s possible that the detached thread run past the end of main&quot;</i> Why not?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "edited": false, "score": 0, "creation_date": 1493820303, "post_id": 43761974, "comment_id": 74565903, "body": "@infiniteLoop: <i>&quot;now I know I have to use them only by value&quot;</i> That&#39;s not always true. But it&#39;s true here."}, {"owner": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "edited": false, "score": 0, "creation_date": 1493821187, "post_id": 43761974, "comment_id": 74566610, "body": "After looking into it it seems that when the main function exits, then any detached thread is suspended and killed with the main thread, with no stack unwinding"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498865087, "post_id": 43761974, "comment_id": 76692705, "body": "I&#39;m not convinced. <code>std::thread</code>&#39;s constructor copies the arguments for the new thread, and so I don&#39;t see any lifetime issues with the <code>shared_ptr</code>s."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498871170, "post_id": 43761974, "comment_id": 76693577, "body": "@T.C.: It&#39;s getting references, not copies. I demonstrated that dropping the refs solves the problem."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498871265, "post_id": 43761974, "comment_id": 76693591, "body": "No, <code>std::thread</code>&#39;s constructor does the copy itself. The only way the new thread doesn&#39;t get copies is if the code passed a <code>reference_wrapper</code> or equivalent."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498871367, "post_id": 43761974, "comment_id": 76693604, "body": "@T.C.: Then I invite you to explain the results."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498871442, "post_id": 43761974, "comment_id": 76693619, "body": "Cubbi explained it pretty well in his comment on the question. The &quot;dropping the refs solves the problem&quot; is just coincidence."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1498872394, "post_id": 43761974, "comment_id": 76693741, "body": "@T.C.: Hmm yeah you&#39;re right. I can&#39;t even get it to compile without a <code>const</code> on the ref, which (if indirectly) backs that up. <a href=\"http://coliru.stacked-crooked.com/a/a0f6e998d8dca9c0\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/a0f6e998d8dca9c0</a> The results seem <i>incredibly</i> co-incidental, but regardless I don&#39;t know what I was thinking with this"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1498872450, "post_id": 43761974, "comment_id": 76693750, "body": "Perhaps if Cubbi had written that information in an <i>answer</i> rather than putting it in a comment, it would have been subject to the same scrutiny and the OP would have had a better chance at getting the right answer. OFC my hands are tied now cos accepted"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 0, "last_activity_date": 1493819663, "last_edit_date": 1493819663, "creation_date": 1493819336, "answer_id": 43761974, "question_id": 43761788, "link": "https://stackoverflow.com/questions/43761788/c-detached-thread-bug/43761974#43761974", "title": "C++ detached thread bug", "body": "<p>You have undefined behaviour here. Since the thread is detached, you're not guaranteeing that <code>*s3</code> will live for as long as the detached thread does. <code>main</code> is ending before your detached worker thread has finished executing, and all those strings go out of scope.</p>\n\n<p>You have to pass your shared pointers by value to actually get their reference counting ability. At the moment, for each test, you're just passing a single <code>shared_ptr</code> instance around by reference, which isn't particularly useful.</p>\n\n<p><strong>If you pass them by value into <code>A::f</code>, <a href=\"http://coliru.stacked-crooked.com/a/fb0a48520f91d806\" rel=\"nofollow noreferrer\">things work as expected</a>.</strong></p>\n\n<p>I can't <em>quite</em> work out what magic the compiler is doing in your case, and am slightly surprised at this specific result, but fortunately I can just say \"it's UB\" and leave things there ;)</p>\n\n<p>Frankly I'm not even sure whether letting a detached thread run past the end of <code>main</code> is valid, but I'll let someone else tackle that aspect.</p>\n"}], "owner": {"reputation": 273, "user_id": 3782790, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/77fb2d7bbb3fad0aba9622007242d32f?s=128&d=identicon&r=PG&f=1", "display_name": "infiniteLoop", "link": "https://stackoverflow.com/users/3782790/infiniteloop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "accepted_answer_id": 43761974, "answer_count": 1, "score": 2, "last_activity_date": 1498864560, "creation_date": 1493818821, "last_edit_date": 1498864560, "question_id": 43761788, "link": "https://stackoverflow.com/questions/43761788/c-detached-thread-bug", "title": "C++ detached thread bug", "body": "<p>After spending one day trying to solve a mysterious bug, I seek your help.</p>\n\n<p>When I run the code bellow, do you understand why the output with \"Hello 3\" is duplicated ?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;future&gt;\n#include &lt;string&gt;\n#include &lt;functional&gt;\n#include &lt;type_traits&gt;\n#include &lt;unistd.h&gt;\n\ntemplate &lt;class Fn, class... Args&gt;\ninline decltype(auto) runTerminateOnException(Fn&amp;&amp; fn, Args&amp;&amp;... args) {\n    try {\n        return std::invoke(std::forward&lt;Fn&gt;(fn), std::forward&lt;Args&gt;(args)...);\n    } catch (...) {\n        std::terminate();\n    }\n}\n\nstruct RunTerminateOnExceptionInvoker {\n        template &lt;class Fn, class... Args&gt;\n        decltype(auto) operator()(Fn&amp;&amp; fn, Args&amp;&amp;... args) const {\n            return runTerminateOnException(std::forward&lt;Fn&gt;(fn), std::forward&lt;Args&gt;(args)...);\n        }\n};\n\ntemplate &lt;class Fn, class... Args&gt;\ninline decltype(auto) runAsyncTerminateOnException(Fn&amp;&amp; fn, Args&amp;&amp;... args) {\n    usleep(1000);\n    return std::async(std::launch::async, RunTerminateOnExceptionInvoker(), std::forward&lt;Fn&gt;(fn), std::forward&lt;Args&gt;(args)...);\n}\n\ntemplate &lt;class Fn, class... Args&gt;\ninline void runOnDetachedThreadTerminateOnException(Fn&amp;&amp; fn, Args&amp;&amp;... args) {\n    usleep(1000000);\n    std::thread(RunTerminateOnExceptionInvoker(), std::forward&lt;Fn&gt;(fn), std::forward&lt;Args&gt;(args)...).detach();\n}\n\nstruct A {\n        template &lt;class T&gt;\n        static void g(double x, const std::shared_ptr&lt;std::string&gt; &amp;s) {\n            T t{};\n            std::cout &lt;&lt; \"g() : x = \" &lt;&lt; x &lt;&lt; \", *s = \" &lt;&lt; *s &lt;&lt; \", t = \" &lt;&lt; t &lt;&lt; std::endl;\n        }\n\n        static void f(double x, std::shared_ptr&lt;std::string&gt; &amp;s1, std::shared_ptr&lt;std::string&gt; &amp;s2, std::shared_ptr&lt;std::string&gt; &amp;s3) {\n            printf(\"Coucou 1\\n\");\n            runAsyncTerminateOnException(g&lt;double&gt;, x, s1); // Working\n            printf(\"Coucou 2\\n\");\n            auto future1 = runAsyncTerminateOnException(g&lt;double&gt;, x, s2); // Working\n            printf(\"Coucou 3\\n\");\n            runOnDetachedThreadTerminateOnException(g&lt;double&gt;, x, s3); // Working\n        }\n};\n\nint main() {\n    auto s1 = std::make_shared&lt;std::string&gt;(\"Hello 1\");\n    auto s2 = std::make_shared&lt;std::string&gt;(\"Hello 2\");\n    auto s3 = std::make_shared&lt;std::string&gt;(\"Hello 3\");\n    A::f(10., s1, s2, s3);\n    printf(\"Coucou 4\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>Coucou 1\ng() : x = 10, *s = Hello 1, t = 0\nCoucou 2\nCoucou 3\ng() : x = 10, *s = Hello 2, t = 0\nCoucou 4\ng() : x = 10, *s = Hello 3, t = 0\ng() : x = 10, *s = Hello 3, t = 0\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/8893eae7d55f36d8\" rel=\"nofollow noreferrer\">Live run</a></p>\n\n<p>Thank you</p>\n"}, {"tags": ["c++", "parallel-processing", "vectorization", "intel-advisor"], "answers": [{"comments": [{"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1493827040, "post_id": 43764083, "comment_id": 74571066, "body": "I understand what you say, but as you can see <code>in</code> is moved after the outside <code>v</code> declaration, so if I would declare them inside <code>c</code> loop their value would be different. Am I wrong?"}, {"owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "reply_to_user": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1493842598, "post_id": 43764083, "comment_id": 74579875, "body": "@justHelloWorld Their values won&#39;t be different.  Work it thru:  In the first iteration, <code>v11=in[-stride]</code> and <code>v12=in[1-stride]</code>.  The next iteration, using <code>v11=v12</code>, <code>v11</code>&#39;s value is (after incrementing <code>in</code>) <code>in[-stride]</code>, because <code>in</code> goes up by one so the subscript comes down by one."}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1493890721, "post_id": 43764083, "comment_id": 74598853, "body": "Would you please give a look at <a href=\"http://stackoverflow.com/questions/43778590/ineffective-remainder-loop-in-my-code\">this</a> and <a href=\"http://stackoverflow.com/questions/43777837/unaligned-acces-on-aligned-pointer\">this</a> questions please?"}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1494236635, "post_id": 43764083, "comment_id": 74724683, "body": "could you please give a look at <a href=\"http://stackoverflow.com/questions/43844396/how-should-i-interpreter-these-vtune-results\">this</a> question?"}], "tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": false, "score": 1, "last_activity_date": 1493824707, "creation_date": 1493824707, "answer_id": 43764083, "question_id": 43761770, "link": "https://stackoverflow.com/questions/43761770/what-is-this-read-after-write-dependency/43764083#43764083", "title": "What is this Read after Write dependency?", "body": "<p>What the optimization report is telling you is that you have some values in one iteration of your loop that depend on values from the previous iteration.  In particular, the \"move window\" block copies values between locals so that the value of <code>v11</code>, <code>v12</code>, etc in the next iteration depend on the values of <code>v12</code>, <code>v23</code>, etc in this iteration.  This prevents the compiler from vectorizing the loop.</p>\n\n<p>The solution there is to initialize all 9 of the <code>v</code> variables within the body of the <code>c</code> loop.</p>\n\n<p>I don't know if fixing this will clear up the original RAW issue.</p>\n\n<p>One other tweak is to move <code>scaleCyclesLevel</code> out of the <code>j</code> loop (so that it is the <code>i</code> loop instead) since its value doesn't depend on <code>j</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1493827683, "post_id": 43764289, "comment_id": 74571508, "body": "Thanks for your answer. However, <code>outPutImage</code> is delcared inside the function (as I&#39;ve written in updated question), so it seems that the problem is not what you&#39;re describing."}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1494236642, "post_id": 43764289, "comment_id": 74724687, "body": "could you please give a look at <a href=\"http://stackoverflow.com/questions/43844396/how-should-i-interpreter-these-vtune-results\">this</a> question?"}], "tags": [], "owner": {"reputation": 263, "user_id": 7690354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tHq6.png?s=128&g=1", "display_name": "Philippos", "link": "https://stackoverflow.com/users/7690354/philippos"}, "is_accepted": false, "score": 0, "last_activity_date": 1493825324, "creation_date": 1493825324, "answer_id": 43764289, "question_id": 43761770, "link": "https://stackoverflow.com/questions/43761770/what-is-this-read-after-write-dependency/43764289#43764289", "title": "What is this Read after Write dependency?", "body": "<p>I don't know how <code>inputImage</code> and <code>outputImage</code> are passed to the function. If you don't pass them as <code>restricted</code>, the compiler doesn't know, whether the data overlaps, so it would be unsafe to write to <code>*out</code>, because it may overwrite <code>*in</code> of the next iteration.</p>\n\n<p>Have a look at how to tell your compiler that image data doesn't overlap. For <code>gcc</code> it's <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Restricted-Pointers.html\" rel=\"nofollow noreferrer\"><strong>restrict</strong></a></p>\n"}], "owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1590065601, "creation_date": 1493818777, "last_edit_date": 1590065601, "question_id": 43761770, "link": "https://stackoverflow.com/questions/43761770/what-is-this-read-after-write-dependency", "title": "What is this Read after Write dependency?", "body": "<p>I have this loop this function:</p>\n\n<pre><code>Mat HessianDetector::hessianResponse(const Mat &amp;inputImage, float norm)\n{\n   //...\n   const float *in = inputImage.ptr&lt;float&gt;(1);\n   Mat outputImage(rows, cols, CV_32FC1);\n   float      *out = outputImage.ptr&lt;float&gt;(1) + 1;\n   //...\n   for (int r = 1; r &lt; rows - 1; ++r)\n   {\n      float v11, v12, v21, v22, v31, v32;      \n      v11 = in[-stride]; v12 = in[1 - stride];\n      v21 = in[      0]; v22 = in[1         ];\n      v31 = in[+stride]; v32 = in[1 + stride];\n      in += 2;\n      for (int c = 1; c &lt; cols - 1; ++c, in++, out++)\n      {\n         /* fetch remaining values (last column) */\n         const float v13 = in[-stride];\n         const float v23 = *in;\n         const float v33 = in[+stride];\n\n         // compute 3x3 Hessian values from symmetric differences.\n         float Lxx = (v21 - 2*v22 + v23);\n         float Lyy = (v12 - 2*v22 + v32);\n         float Lxy = (v13 - v11 + v31 - v33)/4.0f;\n\n         /* normalize and write out */\n         *out = (Lxx * Lyy - Lxy * Lxy)*norm2;\n\n         /* move window */\n         v11=v12; v12=v13;\n         v21=v22; v22=v23;\n         v31=v32; v32=v33;\n\n         /* move input/output pointers */\n      }\n      out += 2;\n   }\n   return outputImage;\n}\n</code></pre>\n\n<p>Which is called with:</p>\n\n<pre><code>#pragma omp for collapse(2) schedule(dynamic)\nfor(int i=0; i&lt;levels; i++)\n    for (int j = 1; j &lt;= scaleCycles; j++)\n    {\n        int scaleCyclesLevel = scaleCycles * i;\n        float curSigma = par.sigmas[j];\n        hessResps[j+scaleCyclesLevel] = hessianResponse(blurs[j+scaleCyclesLevel], curSigma*curSigma);\n    }\n</code></pre>\n\n<p>In particular, Intel Advisor says that the inner loop is time consuming and should be vectorized:</p>\n\n<pre><code>for (int c = 1; c &lt; cols - 1; ++c, in++, out++)\n</code></pre>\n\n<p>However, it says also that there is a read after write dependency at these two lines:</p>\n\n<p>Read:</p>\n\n<pre><code>float Lyy = (v12 - 2*v22 + v32);\n</code></pre>\n\n<p>Write:</p>\n\n<pre><code>hessResps[j+scaleCyclesLevel] = hessianResponse(blurs[j+scaleCyclesLevel], curSigma*curSigma);\n</code></pre>\n\n<p>But I don't really understand why this happens (even if I know the meaning of RAW dependency).</p>\n\n<p>This is the optimization report:</p>\n\n<pre><code>   LOOP BEGIN at /home/luca/Dropbox/HKUST/CloudCache/cloudcache/CloudCache/Descriptors/hesaff/pyramid.cpp(92,7)\n      remark #17104: loop was not parallelized: existence of parallel dependence\n      remark #17106: parallel dependence: assumed ANTI dependence between *(in+cols*4) (95:28) and *out (105:11)\n      remark #17106: parallel dependence: assumed FLOW dependence between *out (105:11) and *(in+cols*4) (95:28)\n      remark #15344: loop was not vectorized: vector dependence prevents vectorization\n      remark #15346: vector dependence: assumed ANTI dependence between *(in+cols*4) (95:28) and *out (105:11)\n      remark #15346: vector dependence: assumed FLOW dependence between *out (105:11) and *(in+cols*4) (95:28)\n   LOOP END\n</code></pre>\n\n<p>Line 95 is:</p>\n\n<pre><code>     const float v13 = in[-stride];\n</code></pre>\n\n<p>Line 105 is:</p>\n\n<pre><code>     *out = (Lxx * Lyy - Lxy * Lxy)*norm2;\n</code></pre>\n"}, {"tags": ["c++", "c++11", "lambda", "stdbind"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493818607, "post_id": 43761614, "comment_id": 74564474, "body": "<code>bool myFunc(double time)</code> should be <code>bool myFunc(MyObj&lt;double&gt;&amp; myobj, double time)</code>, then you can use second method."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493819105, "post_id": 43761614, "comment_id": 74564913, "body": "Your test framework may also support feature, so you might move <code>myobj</code> there."}, {"owner": {"reputation": 409, "user_id": 7351379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3fb0e71616dced878789edf7aba9eed?s=128&d=identicon&r=PG&f=1", "display_name": "arias_JC", "link": "https://stackoverflow.com/users/7351379/arias-jc"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493824617, "post_id": 43761614, "comment_id": 74569369, "body": "@Jarod42 actually as I mentioned, copy/reference constructors are deleted so thats why second method does not work. But your answer below worked perfectly thanks."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493829669, "post_id": 43761614, "comment_id": 74572618, "body": "You also have to use <code>std::ref(myobj)</code> for the binding."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 7351379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3fb0e71616dced878789edf7aba9eed?s=128&d=identicon&r=PG&f=1", "display_name": "arias_JC", "link": "https://stackoverflow.com/users/7351379/arias-jc"}, "edited": false, "score": 0, "creation_date": 1493826852, "post_id": 43761796, "comment_id": 74570957, "body": "It would be nice if you added some detail on whats going on in the Functor and how this works for the newer c++ folks and maybe some unfamiliar with these features. Just a thought."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1493818831, "creation_date": 1493818831, "answer_id": 43761796, "question_id": 43761614, "link": "https://stackoverflow.com/questions/43761614/c-using-multiple-lambdas-binds-to-reference-the-same-function-functionality/43761796#43761796", "title": "c++ Using multiple lambdas/binds to reference the same function/functionality", "body": "<p>You can create regular functor:</p>\n\n<pre><code>struct Functor\n{\n    MyObj&lt;double&gt;&amp; myobj;\n\n    explicit Functor(MyObj&lt;double&gt;&amp; myobj) : myobj(myobj) {};\n\n    auto operator ()(double time) const -&gt; bool \n    {\n        time = myobj.doSomething();\n        // ... more functionality\n    }\n};\n</code></pre>\n\n<p>With usage:</p>\n\n<pre><code>TEST1()\n{\n    MyObj&lt;double&gt; myobj(Functor(myobj));\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 7351379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3fb0e71616dced878789edf7aba9eed?s=128&d=identicon&r=PG&f=1", "display_name": "arias_JC", "link": "https://stackoverflow.com/users/7351379/arias-jc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 43761796, "answer_count": 1, "score": 0, "last_activity_date": 1493818831, "creation_date": 1493818420, "question_id": 43761614, "link": "https://stackoverflow.com/questions/43761614/c-using-multiple-lambdas-binds-to-reference-the-same-function-functionality", "title": "c++ Using multiple lambdas/binds to reference the same function/functionality", "body": "<p>I am writing some tests for a class. I have multiple tests and each one creates its own <code>MyObj</code>. However, <code>MyObj</code> takes in a <code>std::function&lt;bool&lt;T&gt;&gt;</code>, and I don't want to create a lambda function with the same functionality every time I create <code>MyObj</code>. So instead of having this:</p>\n\n<pre><code>TEST1()\n{\n  MyObj&lt;double&gt; myobj([&amp;](double time) -&gt; bool \n      {\n        time = myobj.doSomething();\n        // ... more functionality\n      });\n}\n\n\nTEST2()\n{\n  MyObj&lt;double&gt; myobj([&amp;](double time) -&gt; bool \n      {\n        time = myobj.doSomething();\n        // ... more functionality\n      });\n}\n\n...\n</code></pre>\n\n<p>Rather I want to have the function defined once and reference it every time I have to create a new <code>MyObj</code>:</p>\n\n<pre><code>bool myFunc(double time)\n{\n  time myobj.doSomething();\n  // ... more functionality\n}\n\nTEST1()\n{\n  MyObj&lt;double&gt; myobj([&amp;myFunc]()); // Something like this\n}\n\nTEST2()\n{\n  MyObj&lt;double&gt; myobj(std::bind(&amp;myFunc, myobj, std::placeholders::_1));  // Or something like this\n}\n</code></pre>\n\n<p>So some things to note:</p>\n\n<ul>\n<li>Class <code>MyObj</code>, all copy/reference constructors have been deleted.</li>\n<li>Theres more functionality associated with myFunc which is why I don't want to repeat every time since there are numerous test cases.</li>\n<li>I need a reference to the <code>MyObj</code> created in the actual function (myFunc).</li>\n</ul>\n\n<p>Any help is appreciated. Thanks.</p>\n"}, {"tags": ["c++", "qt", "qt5"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1493859357, "creation_date": 1493859357, "answer_id": 43772162, "question_id": 43761599, "link": "https://stackoverflow.com/questions/43761599/qslider-handle-is-being-hidden-when-changing-the-background-of-the-groove/43772162#43772162", "title": "QSlider handle is being hidden when changing the background of the groove", "body": "<p>It seems to be a bug, it seems that the handle is resized to a size that makes it invisible, but if it can move with some difficulty. The last statement I checked with the following code.</p>\n\n<pre><code> connect(mySlider, &amp;QSlider::valueChanged, [=](int value){\n     qDebug()&lt;&lt;value;\n });\n</code></pre>\n\n<p>It is advisable to place a width and height, by example:</p>\n\n<pre><code>mySlider-&gt;setStyleSheet(\"QSlider::groove:horizontal {background-color:yellow;}\"\n                        \"QSlider::handle:horizontal {background-color:blue; height:16px; width: 16px;}\");\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pek16.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pek16.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 43772162, "answer_count": 1, "score": 1, "last_activity_date": 1494358042, "creation_date": 1493818402, "last_edit_date": 1494358042, "question_id": 43761599, "link": "https://stackoverflow.com/questions/43761599/qslider-handle-is-being-hidden-when-changing-the-background-of-the-groove", "title": "QSlider handle is being hidden when changing the background of the groove", "body": "<p>I'm trying to change the background image of the grove and set an image on the handle.  While doing so, I ran into a situation where the handle (which works) is being covered by the groove the moment that I set the background to anything.  This simple example shows the issue when I change just the color and nothing else.  The goove covers the handle with this little bit of code. (user cannot slide now) I'm missing something critical.  What am I missing?</p>\n\n<pre><code>mySlider = new QSlider(centralWidget);\nmySlider-&gt;setObjectName(QStringLiteral(\"mySlider\"));\nmySlider-&gt;setGeometry(QRect(960, 500, 100, 25));\nmySlider-&gt;setOrientation(Qt::Horizontal);\nmySlider-&gt;setStyleSheet(\"QSlider::groove:horizontal {background-color:yellow;}\");\n</code></pre>\n\n<p>Here's what the slider looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fjS68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjS68.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "macos", "lldb"], "answers": [{"tags": [], "owner": {"reputation": 20083, "user_id": 2465073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f7ba796598ce99fe9d17b66c119b00?s=128&d=identicon&r=PG", "display_name": "Jim Ingham", "link": "https://stackoverflow.com/users/2465073/jim-ingham"}, "is_accepted": true, "score": 2, "last_activity_date": 1493923643, "creation_date": 1493923643, "answer_id": 43790611, "question_id": 43761556, "link": "https://stackoverflow.com/questions/43761556/how-to-check-if-lldb-can-attach-to-binary/43790611#43790611", "title": "How to check if lldb can attach to binary?", "body": "<p>One easy way is to see if there's line-table information for one of the files in your project.  lldb has a command for this:</p>\n\n<pre><code>(lldb) image dump line-table  MySource.c\n</code></pre>\n\n<p>If you see a bunch of output mapping addresses to source lines, then there's debug information for at least that source file.  Otherwise not.</p>\n"}], "owner": {"reputation": 11354, "user_id": 70600, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6123be50f7a10302e7bf59dcdc5e2623?s=128&d=identicon&r=PG", "display_name": "ruipacheco", "link": "https://stackoverflow.com/users/70600/ruipacheco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 43790611, "answer_count": 1, "score": 0, "last_activity_date": 1493923643, "creation_date": 1493818297, "question_id": 43761556, "link": "https://stackoverflow.com/questions/43761556/how-to-check-if-lldb-can-attach-to-binary", "title": "How to check if lldb can attach to binary?", "body": "<p>I'm trying to attach lldb to a binary that is designed to be built for Linux. I'm editing a <code>CMakeLists.txt</code> file but I'm not sure if the flags I need (<code>-glldb -g3</code>) are being passed to the binary.</p>\n\n<p>How can I introspect a running binary to check that?</p>\n"}, {"tags": ["c++", "c++11", "templates"], "comments": [{"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1493818434, "post_id": 43761539, "comment_id": 74564340, "body": "<code>return cpt + f&lt;CCs...&gt;();</code> sure about that Viridya?"}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1493819094, "post_id": 43761539, "comment_id": 74564899, "body": "@gsamaras typo sorry"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493829992, "post_id": 43761539, "comment_id": 74572812, "body": "[OT]: You may get rid of the loop and directly do <code>return (45 * C1 + 1) + foo&lt;C2, CCs...&gt;();</code>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493830197, "post_id": 43761539, "comment_id": 74572923, "body": "And <code>return foo&lt;C1&gt;() + foo&lt;C2, CCs...&gt;();</code> to avoid duplication of the formula."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1493886843, "post_id": 43761539, "comment_id": 74596122, "body": "Well, it was not about getting the smart code, it was about using variadic template function. The core of the function does not matter in fact, it was just an example :)"}], "answers": [{"comments": [{"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1493819034, "post_id": 43761813, "comment_id": 74564843, "body": "Awesome. I did not even know we could provide a default value for <code>T</code>. Thanks ! I used to try something like:  template&lt;typename T&gt; double foo &lt;void&gt;(){return 0;}  But it doesnt work."}, {"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "reply_to_user": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 1, "creation_date": 1493819850, "post_id": 43761813, "comment_id": 74565540, "body": "@Viridya Template specialization doesn&#39;t work for functions. You&#39;ll need a class (<code>template &lt;typename T&gt; struct Foo ...</code>) for that."}], "tags": [], "owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "is_accepted": true, "score": 1, "last_activity_date": 1493818884, "creation_date": 1493818884, "answer_id": 43761813, "question_id": 43761539, "link": "https://stackoverflow.com/questions/43761539/template-specialization-in-case-of-variadic-template-function/43761813#43761813", "title": "Template specialization in case of variadic template function", "body": "<p>The final iteration will call <code>foo&lt;&gt;()</code>. It won't match the <code>double foo() { \u2026 }</code> because it is not a template function. </p>\n\n<p>You can't fix it using</p>\n\n<pre><code>template &lt;typename T&gt;\ndouble foo() {\n    return 0;\n}\n</code></pre>\n\n<p>because <code>T</code> cannot be deduced. </p>\n\n<p>But you <em>can</em> provide a default value for <code>T</code> so that <code>foo&lt;&gt;()</code> becomes valid:</p>\n\n<pre><code>template &lt;typename T = void&gt;   // &lt;---\ndouble foo() {\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 43761813, "answer_count": 1, "score": 0, "last_activity_date": 1493819079, "creation_date": 1493818245, "last_edit_date": 1493819079, "question_id": 43761539, "link": "https://stackoverflow.com/questions/43761539/template-specialization-in-case-of-variadic-template-function", "title": "Template specialization in case of variadic template function", "body": "<p>I have this function that is a a variadic template function:</p>\n\n<pre><code>template&lt;uint C&gt;\ndouble foo(){\n    double cpt = 1;\n    for(uint i=0; i&lt;10; i++){\n        cpt += i*C; \n    }\n    return cpt;\n}\n\ntemplate&lt;uint C1, uint C2, uint... CCs&gt;\ndouble foo(){\n    double cpt = 1;\n    for(uint i=0; i&lt;10; i++){\n        cpt += i*C1;    \n    }\n    return cpt + foo&lt;C2, CCs...&gt;();\n}\n</code></pre>\n\n<p>And it works perfectly as expected but I think it is not the correct way to do what I want to do.\nI tried to write something like that:</p>\n\n<pre><code>double foo(){\n    return 0;\n}\n\ntemplate&lt;uint C1, uint... CCs&gt;\ndouble foo(){\n    double cpt = 1;\n    for(uint i=0; i&lt;10; i++){\n        cpt += i*C1;    \n    }\n    return cpt + foo&lt;CCs...&gt;();\n}\n</code></pre>\n\n<p>But I have the error <code>no matching function for call foo() note: couldn't deduce template parameter C1</code>.\nI also tried with a <code>template &lt;typename T&gt;</code> on top of the first <code>foo</code> function but I have the same error.</p>\n\n<p>Does someone know why ?\nI am using g++ 5.4 with -std=c++11 and -O3 flags.</p>\n"}, {"tags": ["c++", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 723, "user_id": 4175247, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30ed2c84780bfa416342b86463f76871?s=128&d=identicon&r=PG&f=1", "display_name": "Serbin", "link": "https://stackoverflow.com/users/4175247/serbin"}, "edited": false, "score": 0, "creation_date": 1493824406, "post_id": 43761535, "comment_id": 74569192, "body": "Using localhost is not helping. It just shows <code>[Failed to resolve &#39;localhost&#39;]</code> instead."}], "tags": [], "owner": {"reputation": 1403, "user_id": 5577416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a8cc9163c517d1d081b19006c9a18712?s=128&d=identicon&r=PG&f=1", "display_name": "Graeme", "link": "https://stackoverflow.com/users/5577416/graeme"}, "is_accepted": false, "score": 1, "last_activity_date": 1493818221, "creation_date": 1493818221, "answer_id": 43761535, "question_id": 43761382, "link": "https://stackoverflow.com/questions/43761382/cant-connect-to-mongodb-from-the-c-code/43761535#43761535", "title": "Can&#39;t connect to MongoDB from the C++ code", "body": "<p>It looks like it is attempting a DNS lookup of 127.0.0.1.  Try changing it to be <code>localhost</code> instead (which will resolve to the same IP)</p>\n\n<pre><code>mongocxx::uri uri(\"mongodb://localhost:27017\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 791, "user_id": 1666446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8030595d895e11c30003e0e1d55f9c50?s=128&d=identicon&r=PG", "display_name": "J Rassi", "link": "https://stackoverflow.com/users/1666446/j-rassi"}, "is_accepted": true, "score": 3, "last_activity_date": 1494028748, "creation_date": 1494028748, "answer_id": 43815253, "question_id": 43761382, "link": "https://stackoverflow.com/questions/43761382/cant-connect-to-mongodb-from-the-c-code/43815253#43815253", "title": "Can&#39;t connect to MongoDB from the C++ code", "body": "<p>Your copy is missing the first line of the example:</p>\n\n<p><code>mongocxx::instance inst{};</code></p>\n\n<p>See <a href=\"http://mongodb.github.io/mongo-cxx-driver/mongocxx-v3/tutorial/#make-a-connection\" rel=\"nofollow noreferrer\">http://mongodb.github.io/mongo-cxx-driver/mongocxx-v3/tutorial/#make-a-connection</a>.  The <code>mongocxx::instance</code> constructor and destructor initialize and shut down the driver, respectively, so a <code>mongocxx::instance</code> must be created before using the driver and must remain alive for as long as the driver is in use.</p>\n"}], "owner": {"reputation": 723, "user_id": 4175247, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30ed2c84780bfa416342b86463f76871?s=128&d=identicon&r=PG&f=1", "display_name": "Serbin", "link": "https://stackoverflow.com/users/4175247/serbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1795, "favorite_count": 0, "accepted_answer_id": 43815253, "answer_count": 2, "score": 0, "last_activity_date": 1494028748, "creation_date": 1493817857, "question_id": 43761382, "link": "https://stackoverflow.com/questions/43761382/cant-connect-to-mongodb-from-the-c-code", "title": "Can&#39;t connect to MongoDB from the C++ code", "body": "<p>Windows 7, msys2, compiler MinGW</p>\n\n<p>Trying to connect to the MongoDB instance from the C++ code. Running <code>mongod</code> with the next command:</p>\n\n<pre><code>mongod --dbpath ./dev-db --bind_ip 127.0.0.1 --port 27017\n</code></pre>\n\n<p>I can normally connect to this database by <code>mongo</code> and in Robomongo.</p>\n\n<p>For the c++ code, I successfully compiled and installed tha last stable Mongo C++ Driver. Code I take from the official <a href=\"https://github.com/mongodb/mongo-cxx-driver/blob/releases/stable/examples/mongocxx/create.cpp\" rel=\"nofollow noreferrer\">tutorial</a>:</p>\n\n<pre><code>#include &lt;mongocxx/client.hpp&gt;\n#include &lt;mongocxx/instance.hpp&gt;\n#include &lt;mongocxx/uri.hpp&gt;\n\nmongocxx::uri uri(\"mongodb://127.0.0.1:27017\");\nmongocxx::client conn{uri};\nauto db = conn[\"test\"];\n\nbsoncxx::document::value restaurant_doc =\n    document{} &lt;&lt; \"address\" &lt;&lt; open_document &lt;&lt; \"street\"\n               &lt;&lt; \"2 Avenue\"\n               &lt;&lt; \"zipcode\"\n               &lt;&lt; \"10075\"\n               &lt;&lt; \"building\"\n               &lt;&lt; \"1480\"\n               &lt;&lt; \"coord\" &lt;&lt; open_array &lt;&lt; -73.9557413 &lt;&lt; 40.7720266 &lt;&lt; close_array\n               &lt;&lt; close_document &lt;&lt; \"borough\"\n               &lt;&lt; \"Manhattan\"\n               &lt;&lt; \"cuisine\"\n               &lt;&lt; \"Italian\"\n               &lt;&lt; \"grades\" &lt;&lt; open_array &lt;&lt; open_document &lt;&lt; \"date\"\n               &lt;&lt; bsoncxx::types::b_date{std::chrono::milliseconds{12323}} &lt;&lt; \"grade\"\n               &lt;&lt; \"A\"\n               &lt;&lt; \"score\" &lt;&lt; 11 &lt;&lt; close_document &lt;&lt; open_document &lt;&lt; \"date\"\n               &lt;&lt; bsoncxx::types::b_date{std::chrono::milliseconds{121212}} &lt;&lt; \"grade\"\n               &lt;&lt; \"B\"\n               &lt;&lt; \"score\" &lt;&lt; 17 &lt;&lt; close_document &lt;&lt; close_array &lt;&lt; \"name\"\n               &lt;&lt; \"Vella\"\n               &lt;&lt; \"restaurant_id\"\n               &lt;&lt; \"41704620\" &lt;&lt; finalize;\nauto res = db[\"restaurants\"].insert_one(std::move(restaurant_doc))\n</code></pre>\n\n<p>And this provide the next error:</p>\n\n<pre><code>This application has requested the Runtime to terminate it in an unusual way.\nPlease contact the application's support team for more information.\nterminate called after throwing an instance of 'mongocxx::v_noabi::bulk_write_exception'\n  what():  No suitable servers found (`serverSelectionTryOnce` set): [Failed to resolve '127.0.0.1']: generic server error\n</code></pre>\n\n<p>How can I avoid this issue and connect to the database?</p>\n"}, {"tags": ["c++", "qt", "qt4", "qt-creator"], "comments": [{"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1493817331, "post_id": 43760920, "comment_id": 74563426, "body": "Depending on what you are trying to do... I know that interpolationin RGB-space is usually poor. I&#39;m not sure how the difference would work. I&#39;d be tempted to convert it to HSV-space and do some sort of subtraction or correlation there. I&#39;m not too familiar with that area, but you might want to look through the OpenCV docs and see if they already have a tool that solves your problem."}], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 7950680, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-msaD0Aw2Y-Y/AAAAAAAAAAI/AAAAAAAAABM/4KUk9LqaBII/photo.jpg?sz=128", "display_name": "Tiago Cunha", "link": "https://stackoverflow.com/users/7950680/tiago-cunha"}, "is_accepted": false, "score": 0, "last_activity_date": 1493816969, "creation_date": 1493816969, "answer_id": 43761040, "question_id": 43760920, "link": "https://stackoverflow.com/questions/43760920/how-to-compare-two-rgb-images-in-qt/43761040#43761040", "title": "How to compare two RGB images in Qt?", "body": "<p>First, an RGB image is a 3-dimensional matrix containing the 3 channels (R,G,B)</p>\n\n<p>To achieve the difference you can simply subtract the matrixes.</p>\n\n<p>If you're using OpenCv consider the code below, otherwise you can traverse the matrixes and subtract each position separately.</p>\n\n<pre><code>#include &lt;cv.h&gt;\n#include &lt;highgui.h&gt;\n\nusing namespace cv;\n\nMat img = imread(\"...\");\nMat img2 = imread(\"...\");\n\nMat diff_img = img - img2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": false, "score": 0, "last_activity_date": 1493817118, "creation_date": 1493817118, "answer_id": 43761114, "question_id": 43760920, "link": "https://stackoverflow.com/questions/43760920/how-to-compare-two-rgb-images-in-qt/43761114#43761114", "title": "How to compare two RGB images in Qt?", "body": "<p>Using <code>QImage</code> you can iterate on pixel level, and simply output the RBG differences into a third image.</p>\n\n<pre><code>QRgb QImage::pixel(int x, int y) const\nvoid QImage::setPixelColor(int x, int y, const QColor &amp;color)\n</code></pre>\n\n<p>Keep in mind to iterate row sequentially for optimal performance. Meaning that the row should be your inner loop. A lot of the time people instinctively do the opposite, probably because most people prioritize width over height, therefore putting the row as the outer loop.</p>\n"}, {"comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1494233761, "post_id": 43761608, "comment_id": 74722864, "body": "It doesn&#39;t look like this code is correct in terms of determining &quot;color difference&quot; - it merely finds the difference between two ints that are used to store color information. Thus if you calculate the difference between a red pixel and a blue pixel, it will give you a red result, when the actual color difference between red and green is yellow."}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1494252343, "post_id": 43761608, "comment_id": 74735425, "body": "@dtech, good point, but it depends on what are you going to do with the <code>result</code> image. You can think about and RGB color as a 3D  vector of ints, and this difference is the vector that goes from <code>rgbLeft</code> to <code>rgbRigth</code> in a 3D representation of the RGB space."}], "tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": false, "score": 4, "last_activity_date": 1493818414, "creation_date": 1493818414, "answer_id": 43761608, "question_id": 43760920, "link": "https://stackoverflow.com/questions/43760920/how-to-compare-two-rgb-images-in-qt/43761608#43761608", "title": "How to compare two RGB images in Qt?", "body": "<p>Here is an alternative based on this <a href=\"https://forum.qt.io/topic/39871/how-to-compare-two-images-properly/2\" rel=\"nofollow noreferrer\">QtForum</a> question:</p>\n\n<pre><code>void substract(const QImage &amp;left, const QImage &amp;rigth, QImage &amp;result)\n{\n  int w=min(left.width(), rigth.width());\n  int h=min(left.height(),rigth.height();\n  w=min(w, result.width());\n  h=min(h, result.height();\n  //&lt;-This ensures that you work only at the intersection of images areas\n\n  for(int i=0;i&lt;h;i++){\n    QRgb *rgbLeft=(QRgb*)left.constScanLine(i);\n    QRgb *rgbRigth=(QRgb*)rigth.constScanLine(i);\n    QRgb *rgbResult=(QRgb*)result.constScanLine(i);\n    for(int j=0;j&lt;w;j++){\n        rgbResult[j] = rgbLeft[j]-rgbRigth[j];\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4948103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd50515c7f069f0af2310fd904217e5?s=128&d=identicon&r=PG&f=1", "display_name": "toufik boudani", "link": "https://stackoverflow.com/users/4948103/toufik-boudani"}, "is_accepted": false, "score": -1, "last_activity_date": 1508763126, "last_edit_date": 1508763126, "creation_date": 1508759621, "answer_id": 46888715, "question_id": 43760920, "link": "https://stackoverflow.com/questions/43760920/how-to-compare-two-rgb-images-in-qt/46888715#46888715", "title": "How to compare two RGB images in Qt?", "body": "<p>bool ImagesAreSimilar(QImage *img1,QImage *img2)\n{</p>\n\n<pre><code>if (img1-&gt;isNull()||img2-&gt;isNull())\n{\n  return false ;\n}\nif (img1-&gt;height()!=img2-&gt;height()) {\n    return false ;\n}\nif (img1-&gt;width()!=img2-&gt;width()) {\n    return false ;\n}\n auto pixel1 = img1-&gt;bits();\n auto pixel2 = img2-&gt;bits();\n bool similar=true;\nfor (int y = 0; y &lt; img1-&gt;height(); y++)\n{\n    for (int x = 0; x &lt; img1-&gt;width(); x++)\n    {\n\n        if (    (pixel1[0]!=pixel2[0])||\n                (pixel1[1]!=pixel2[1])||\n                (pixel1[2]!=pixel2[2])||\n                (pixel1[3]!=pixel2[3])) {\n                return false ;\n        }\n        pixel1  += 4;\n        pixel2 += 4;\n    }\n}\n</code></pre>\n\n<p>return similar;</p>\n\n<p>}</p>\n"}], "owner": {"reputation": 141, "user_id": 6167328, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh3.googleusercontent.com/-h7jhGKf9Km8/AAAAAAAAAAI/AAAAAAAAAv4/tsUFmcobGrY/photo.jpg?sz=128", "display_name": "Agata", "link": "https://stackoverflow.com/users/6167328/agata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1510, "favorite_count": 2, "answer_count": 4, "score": 2, "last_activity_date": 1508763126, "creation_date": 1493816703, "question_id": 43760920, "link": "https://stackoverflow.com/questions/43760920/how-to-compare-two-rgb-images-in-qt", "title": "How to compare two RGB images in Qt?", "body": "<p>I need to compare two color RBG images and get a result images of difference pixel by pixel. Is there any idea how can I do that in qt ?</p>\n\n<p>I would appreciate for any help or advice.</p>\n"}]