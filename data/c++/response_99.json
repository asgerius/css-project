[{"tags": ["c++"], "comments": [{"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1480550884, "post_id": 40900398, "comment_id": 69014768, "body": "Use a linker.  I can&#39;t think of a beginner C++ book that doesn&#39;t start with describing the three parts of building a program: preprocessor, compiler, linker."}], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 6646109, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh4.googleusercontent.com/-1znlW2V-5jM/AAAAAAAAAAI/AAAAAAAAAKA/_d51kGLtLew/photo.jpg?sz=128", "display_name": "mr_azad", "link": "https://stackoverflow.com/users/6646109/mr-azad"}, "edited": false, "score": 0, "creation_date": 1480551414, "post_id": 40900481, "comment_id": 69014918, "body": "Thank you very much.. :)"}], "tags": [], "owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "is_accepted": true, "score": 2, "last_activity_date": 1480550900, "creation_date": 1480550900, "answer_id": 40900481, "question_id": 40900398, "link": "https://stackoverflow.com/questions/40900398/conceptual-confusion/40900481#40900481", "title": "Conceptual confusion", "body": "<p>Do not declare static variables in a header (outside of classes) like this:</p>\n\n<pre><code>static Child * pointer_Child;\n</code></pre>\n\n<p>It will create a variable in every compilation unit that includes the header. And they are not accessible from outside the translation unit.</p>\n\n<p>Instead, make <code>pointer_Child</code> <code>extern</code> and provide an implementation in the CPP as follows:</p>\n\n<p>Header:</p>\n\n<pre><code>extern Child* pointer_Child;\n</code></pre>\n\n<p>CPP:</p>\n\n<pre><code>Child* pointer_Child;\n</code></pre>\n\n<p>And never include a CPP file.</p>\n"}], "owner": {"reputation": 460, "user_id": 6646109, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh4.googleusercontent.com/-1znlW2V-5jM/AAAAAAAAAAI/AAAAAAAAAKA/_d51kGLtLew/photo.jpg?sz=128", "display_name": "mr_azad", "link": "https://stackoverflow.com/users/6646109/mr-azad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40900481, "answer_count": 1, "score": 0, "last_activity_date": 1480551394, "creation_date": 1480550261, "last_edit_date": 1480551394, "question_id": 40900398, "link": "https://stackoverflow.com/questions/40900398/conceptual-confusion", "title": "Conceptual confusion", "body": "<p>This might me a silly problem. But I am not getting the conceptual problem in the program. </p>\n\n<p><strong><em>I want to pass the pointer of class Child in a global function and access that pointer object from different parts of the project just by including Child.h</em></strong></p>\n\n<p>Problem: the following problem does not work when I do get_Child()->number_1 in the main. </p>\n\n<p>Solution: if I include the Child.cpp in the main, and inline the Constructor or\nif I declare the constructor in the Child.h instead of Child.cpp</p>\n\n<p><strong>Query request. What is the reason for this behavior? A way how I can declare the Constructor in Child.cpp and does not have to include Child.cpp in the main.cpp</strong></p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Child.h\"\n//#include \"Child.cpp\"\n\nusing namespace std;\n\nint main(){\n\n    Child *pC = new Child();\n    cout &lt;&lt; \"direct = \" &lt;&lt; pC-&gt;number_1 &lt;&lt; endl;\n\n    cout &lt;&lt; \"with function = \" &lt;&lt; get_Child()-&gt;number_1 &lt;&lt; endl;\n\n}\n</code></pre>\n\n<p>Child.h</p>\n\n<pre><code>#ifndef CHILD_H_\n#define CHILD_H_\n\n\nclass Child;\nstatic Child * pointer_Child;\n\ninline void save_Child(Child * p_C){\n    pointer_Child = p_C;\n}\n\ninline Child * get_Child(){\n    return pointer_Child;\n}\n\n\nclass Child {\npublic:\n\n    Child();\n\n    //Child(){\n    //  this -&gt;set_Child();\n    //}\n\n    void set_Child(){\n        save_Child(this);\n    }\n\n    int number_1 = 10;\n};\n\n#endif /* CHILD_H_ */\n</code></pre>\n\n<p>Child.cpp</p>\n\n<pre><code>#include \"Child.h\"\n\n//inline Child::Child(){\n//  this -&gt;set_Child();\n//}\n\nChild::Child(){\n    this-&gt;set_Child();\n}\n</code></pre>\n"}, {"tags": ["c++", "loops", "for-loop", "random", "gsl"], "comments": [{"owner": {"reputation": 666, "user_id": 591784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c01c539fe6d1ca726f1e92ce427dd89?s=128&d=identicon&r=PG&f=1", "display_name": "Vada Poch&#233;", "link": "https://stackoverflow.com/users/591784/vada-poch%c3%a9"}, "edited": false, "score": 0, "creation_date": 1480549669, "post_id": 40900275, "comment_id": 69014394, "body": "10^14 is much larger than what a normal integer could hold. You probably need an unsigned __int64. See integer limits here: <a href=\"https://msdn.microsoft.com/en-us/library/296az74e.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/296az74e.aspx</a>"}, {"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "reply_to_user": {"reputation": 666, "user_id": 591784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c01c539fe6d1ca726f1e92ce427dd89?s=128&d=identicon&r=PG&f=1", "display_name": "Vada Poch&#233;", "link": "https://stackoverflow.com/users/591784/vada-poch%c3%a9"}, "edited": false, "score": 0, "creation_date": 1480549822, "post_id": 40900275, "comment_id": 69014444, "body": "n = 519150 is nowhere close to the interger limit and it doesn&#39;t work for me;&lt; i tried to remane it to long, to double, none of this worked. I also tried unsigned, but still doesn&#39;t work for bigger n"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1480551459, "post_id": 40900275, "comment_id": 69014930, "body": "@Sarah Stop doing this: <code>int lwKomorkach[n-1];</code> This is not standard C++.  Use <code>std::vector</code>, and I wouldn&#39;t be surprised if your problems go away.  You are using &quot;variable length arrays&quot;, which is nonstanard, and more than likely, you&#39;re blowing out the stack using them.  Use standard C++, <code>std::vector</code>."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1480551841, "post_id": 40900275, "comment_id": 69015031, "body": "@Sarah <a href=\"http://stackoverflow.com/questions/40890468/segmentation-fault-because-of-the-array-size/40891655#40891655\">Please read this</a>.  It not only explains in detail the issue with <code>n</code> being large, but also how to solve your own issues concerning boundary conditions using <code>at()</code>.  Also quit using <code>qsort</code> and use <code>std::sort</code>."}, {"owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 0, "creation_date": 1480552272, "post_id": 40900275, "comment_id": 69015149, "body": "<code>int n = 519140; int lwKomorkach[n];</code> --&gt; might lead to stackoverflow...."}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "reply_to_user": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480550995, "post_id": 40900415, "comment_id": 69014802, "body": "There is no table[3] at your code. I am talking about array you defined by lwKomorkach[n-1]."}, {"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551129, "post_id": 40900415, "comment_id": 69014836, "body": "How would it look corrected? I try to change it, but nothing works"}, {"owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "reply_to_user": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551269, "post_id": 40900415, "comment_id": 69014882, "body": "Well, declare the array as int lwKomorkach[n]; and at second loop, instead of  z&lt;=n-1, make z&lt;n-1"}, {"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551372, "post_id": 40900415, "comment_id": 69014907, "body": "i just did it and now it doesn&#39;t work even for small numbers:&lt;"}, {"owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "reply_to_user": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551402, "post_id": 40900415, "comment_id": 69014916, "body": "And if you are not doing it already, use a debugger to see your errors."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1480551625, "post_id": 40900415, "comment_id": 69014980, "body": "@t.m. The fist step is to not use variable length arrays to begin with.  The code is nonstandard C++."}, {"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551670, "post_id": 40900415, "comment_id": 69014992, "body": "I don&#39;t get any errors in both mine and your version. In mine it crashes at higher numbers, and your version crashes on every n value"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480551770, "post_id": 40900415, "comment_id": 69015016, "body": "@Sarah You crash on the high values of <code>n</code> since you didn&#39;t use standard C++.  Use <code>std::vector&lt;int&gt;</code> as I pointed out in my comment."}, {"owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "edited": false, "score": 0, "creation_date": 1480552024, "post_id": 40900415, "comment_id": 69015088, "body": "If you insist on not using std::vector, you may try declaring lwKomorkach[] outside of main function as global variable, In this case, It won&#39;t be allocated at stack."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1480552118, "post_id": 40900415, "comment_id": 69015115, "body": "@t.m. <i>you may try declaring lwKomorkach[] outside of main function</i> -- That still doesn&#39;t address the issue of variable length arrays.  No matter where you declare that array, if a variable is used to denote the number of entries, it is non-standard C++."}, {"owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "edited": false, "score": 0, "creation_date": 1480552278, "post_id": 40900415, "comment_id": 69015154, "body": "Yes, it seems n never changes in the program anyway you can use a definition for array size instead like #define ARRAY_SIZE 519140 and use it instead of n everywhere."}, {"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480552516, "post_id": 40900415, "comment_id": 69015223, "body": "i don&#39;t really get how to use sort. vector&lt;int&gt; lwKomorkach(n-1); goes like this. How does sort go?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480553215, "post_id": 40900415, "comment_id": 69015397, "body": "@Sarah I posted what to address in my answer."}], "tags": [], "owner": {"reputation": 1215, "user_id": 6686454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56a060e2f62b3ebdca28de71f2c6ad78?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.", "link": "https://stackoverflow.com/users/6686454/t-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1480550746, "last_edit_date": 1480550746, "creation_date": 1480550364, "answer_id": 40900415, "question_id": 40900275, "link": "https://stackoverflow.com/questions/40900275/for-loop-is-crashing-on-big-number/40900415#40900415", "title": "for loop is crashing on big number", "body": "<p>by that</p>\n\n<pre><code>int lwKomorkach[n-1];\n\nfor (int i = 0; i &lt; n; i++)\n{\n    lwKomorkach[i]=floor(gsl_rng_uniform (r)/dlPrzedzialu)+1;\n\n}\n</code></pre>\n\n<p>you are trying to put n items into n-1 size array. I guess it didn't crash at low number just by chance.</p>\n\n<p>And it gets even worse at second loop</p>\n\n<pre><code>for(z=0;z&lt;=n-1;z++)\n{\n    if(lwKomorkach[z+1]==lwKomorkach[z]){lKolizji++;}\n}\n</code></pre>\n\n<p>when z= n-1, you are trying to assign to lwKomorkach[n] while maximum index of lwKomorkach can be is n-2</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "edited": false, "score": 0, "creation_date": 1480553325, "post_id": 40900777, "comment_id": 69015423, "body": "Thank you very much! Works perfect!"}], "tags": [], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": false, "score": 3, "last_activity_date": 1480553016, "creation_date": 1480553016, "answer_id": 40900777, "question_id": 40900275, "link": "https://stackoverflow.com/questions/40900275/for-loop-is-crashing-on-big-number/40900777#40900777", "title": "for loop is crashing on big number", "body": "<p>Your issues are two-fold.</p>\n\n<p>1) You're using non-standard C++ syntax in declaring your arrays.</p>\n\n<p>2) You're more than likely going out-of-bounds of the array when accessing it.</p>\n\n<p>To solve the first issue, this line of code is not standard C++.</p>\n\n<pre><code>int lwKomorkach[n-1];\n</code></pre>\n\n<p>Arrays in C++ must be declared with a compile-time constant.  Also, if <code>n-1</code> is large, you are risking exceeding the amount of reserved stack space.</p>\n\n<p>The way to alleviate this is to use <code>std::vector</code>:</p>\n\n<pre><code>#include &lt;vector&gt;\n//...\nstd::vector&lt;int&gt; lwKomorkach(n-1);\n</code></pre>\n\n<p>Once you have this, then to ensure you're not going out-of-bounds, you can use the <code>std::vector::at()</code> function to check the bounds:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i++)\n{\n    lwKomorkach.at(i) = floor(gsl_rng_uniform (r)/dlPrzedzialu)+1;\n}\n</code></pre>\n\n<p>If <code>i</code> is out of bounds, you will get an <code>std::out_of_range</code> exception instead of a \"crash\" or worse, not getting a crash and believing your program is working correctly when it really isn't working correctly.  You should apply the same test in your other <code>for</code> loop.</p>\n\n<p>Once you fix the boundary issues, then you can change the code from <code>at()</code> to using <code>[ ]</code>, since the boundary errors are solved.</p>\n\n<p>The last issue is the usage of <code>qsort</code>.  Use <code>std::sort</code> instead.  The <code>std::sort</code> is easier to use (no casting all over the place), can be optimized by the compiler much more readily, and can work for any types (while <code>qsort</code> only works for POD or <code>C</code> compatible types).</p>\n\n<pre><code>#include &lt;algorithm&gt;\n//...\nstd::sort(lwKomorkach.begin(), lwKomorkach.end());\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7233586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e168395f36a8737c57fadff988c4c27b?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7233586/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480556650, "creation_date": 1480549387, "last_edit_date": 1480556650, "question_id": 40900275, "link": "https://stackoverflow.com/questions/40900275/for-loop-is-crashing-on-big-number", "title": "for loop is crashing on big number", "body": "<p>I have a problem. I have to write a program that counts the collisions of a table of randomly generated numbers (collision test). For example the table [1,2,2,3,4,5,5,5,6] has 3 collisions. </p>\n\n<p>And my problem is that whenever i try to increase number <code>n</code> to for example <code>int n = 5191401;</code> my program crashes. What is happening? Why does it stop working? I need really big amount of random numbers (like 10^14).</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;gsl/gsl_rng.h&gt;\n#include &lt;stdlib.h&gt;\n#include&lt;cmath&gt;\n\nusing namespace std;\n\nint compare(const void * a, const void * b)\n{\n    return ( *(int*)a - *(int*)b );\n}\n\nint main (void)\n{\n    unsigned int seed=10540000;\n    gsl_rng * r=gsl_rng_alloc (gsl_rng_minstd);\n    gsl_rng_set(r,seed);\n    gsl_rng_env_setup();\n    int lPrzedzialow=400000000;\n    int n = 519140;\n    int z,lKolizji=0;\n    int lwKomorkach[n-1];\n    double dlPrzedzialu=1./(lPrzedzialow);\n\n    for (int i = 0; i &lt; n; i++)\n    {\n        lwKomorkach[i]=floor(gsl_rng_uniform (r)/dlPrzedzialu)+1;\n    }\n\n    qsort (lwKomorkach, n, sizeof(int), compare);\n\n    for(z=0;z&lt;=n-1;z++)\n    {\n        if(lwKomorkach[z+1]==lwKomorkach[z])\n        {\n            lKolizji++;\n        }\n    }\n\n    cout&lt;&lt;endl&lt;&lt;lKolizji&lt;&lt;endl;\n    gsl_rng_free (r);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2010", "visual-studio-2012", "linker", "data-analysis"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1480549119, "post_id": 40900092, "comment_id": 69014227, "body": "The incremental link feature is not 100% solid.  If you get this error then the first thing to do is to delete the ..ilk file by hand so it starts with a fresh one.   If the error immediately repeats then you&#39;ve hit an internal limit.  Most likely case I&#39;d say, you&#39;ll have to disable it or consider starting to use a file."}, {"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1480549229, "post_id": 40900092, "comment_id": 69014257, "body": "@HansPassant Yes your first couple comments is what I read online and tried. However, even doing what you mentioned (and other things) sadly doesn&#39;t allow it to compile with the full dataset. What do you mean by disabling it or considering to use a file?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480549730, "post_id": 40900092, "comment_id": 69014411, "body": "Can you move the data to a file rather than hard coding it?"}, {"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480549952, "post_id": 40900092, "comment_id": 69014477, "body": "@ThomasMatthews Sadly I think not. We have to deliver a DLL to a customer that will allow them to evaluate this model thousands of times per second, so I believe having to load the data via a file would be too much overhead."}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "edited": false, "score": 0, "creation_date": 1480721616, "post_id": 40941248, "comment_id": 69096317, "body": "The <code>extern</code> is used because <code>table</code> and <code>tableSize</code> are used in other parts of the codebase and are defined as <code>extern</code> in the associated header. In the actual header in my codebase, it lists numerous table and tableSize variables. However, we define each table in separate .cpp files since they are large."}, {"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "edited": false, "score": 0, "creation_date": 1480721770, "post_id": 40941248, "comment_id": 69096370, "body": "Also, my work is in Defense, and they don&#39;t tend to (sadly) update their tools as often as they can. I only recently got a compiler for my classified Linux environment at work that can run C++11, for example. I want to note the frustration of this problem has pushed me to request a VS 2015 license (that&#39;s the environment I have at home on my PC), so we&#39;ll see what happens."}, {"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "edited": false, "score": 0, "creation_date": 1480721967, "post_id": 40941248, "comment_id": 69096415, "body": "I want to note that at the moment, given I am stuck with VS2010, this problem doesn&#39;t appear like it will be resolved. I am looking into a convenient way to change this problem into one that can use dynamic allocation and not depend on C++11 features (like initialization lists). Not finding any convenient way so far, sadly, but we&#39;ll see."}, {"owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "reply_to_user": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "edited": false, "score": 0, "creation_date": 1480722406, "post_id": 40941248, "comment_id": 69096548, "body": "I was mentioning 2015 not because of its new features, but because they might fix their old bug. Knowing that the issue is fixed may inspite the direction of thinking."}, {"owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "edited": false, "score": 0, "creation_date": 1480722817, "post_id": 40941248, "comment_id": 69096667, "body": "I understand that&#39;s what you meant by mentioning VS2015, that&#39;s the main reason I want it too. But getting extra language features would be a pleasant bonus since that&#39;s what I use when I develop at home."}], "tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 0, "last_activity_date": 1480714814, "creation_date": 1480714814, "answer_id": 40941248, "question_id": 40900092, "link": "https://stackoverflow.com/questions/40900092/limitations-of-linker-with-codebase-using-large-lookup-tables-in-visual-studio-2/40941248#40941248", "title": "Limitations of Linker with Codebase using Large Lookup Tables in Visual Studio 2010", "body": "<p>In your .cpp file you define data as extern. Why? The data is local to this .cpp file. This looks strange to me. Maybe you need:</p>\n\n<pre><code>//\n// dataset1.cpp\n//\n\nnamespace set1 {\n   const int tableSize = 10000000;\n   const float table[tableSize] = {\n       /*... Lots of Numbers ... */\n   };\n}\n</code></pre>\n\n<p>I am not sure this will help, but this is something worth to try. Maybe you will simply walk around this problem.</p>\n\n<p>In my past work I had problems with huge static arrays of objects (compiler had problems with handling possible exceptions from huge number of sequential ctors), but other than that huge static arrays worked fine.</p>\n\n<p>Why are you using VS2010? Try the latest version (free Community 2015) at least just to check what will happen.</p>\n"}], "owner": {"reputation": 718, "user_id": 4869038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3Kxj.jpg?s=128&g=1", "display_name": "spektr", "link": "https://stackoverflow.com/users/4869038/spektr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480714814, "creation_date": 1480548313, "last_edit_date": 1480549299, "question_id": 40900092, "link": "https://stackoverflow.com/questions/40900092/limitations-of-linker-with-codebase-using-large-lookup-tables-in-visual-studio-2", "title": "Limitations of Linker with Codebase using Large Lookup Tables in Visual Studio 2010", "body": "<p>In my work, we have a variety of large tables storing data used for a set of multidimensional nonparametric models. Each table is a <code>float</code> array with a size of typically 200,000 to 5,000,000 elements.</p>\n\n<p>Today, I was going about a normally trivial update to this codebase, updating a set of the lookup tables, when I found the compiling and linking of the project was resulting in a <strong>Microsoft Incremental Linker has Stopped Working</strong>, something I had not seen before. Note that the tables I was updating were growing from a size of around 290,000 elements to near 10,000,000 elements each.</p>\n\n<p>I searched and found methods people recommended to tackle the problem with the Incremental Linker pop-up, but nothing fixed it. I even took the project and integrated it into VS 2012 and had it fail as well.</p>\n\n<p>I knew my project compiled before, so I removed the updates and brought it back to its original state. This state compiled and linked properly as it always has. I then swapped one of the old tables with one of the new tables, and it compiled and linked properly. However, once I did another swap for an updated table, it had the same problem with linking after it compiled. </p>\n\n<p>As stated before, the new tables I have been adding have about 10,000,000 elements each and are significantly larger than the old tables they are updating. Is it feasible the linker is struggling to work with these large tables? If so, why is that? </p>\n\n<p>The new tables compile fine with the codebase, it is just the linker step that fails. If the size of the tables is an issue, is there any advice as to handle this problem that would still allow for keeping the nominal modeling and lookup table approach? I do recognize using a parametric model would be better from the point of view of size since it would compress the data, but my team does not want to leave their legacy approach at this time.</p>\n\n<p>Note the code for each table is something along these lines:</p>\n\n<p>Header File</p>\n\n<pre><code>// \n// dataset1.hpp\n//\n\n#ifndef dataset1_hpp_\n#define dataset1_hpp_\n\nnamespace set1 {\n   extern const int tableSize;\n   extern const float table[];\n}\n\n#endif\n</code></pre>\n\n<p>Source File</p>\n\n<pre><code>//\n// dataset1.cpp\n//\n\nnamespace set1 {\n   extern const int tableSize = 10000000;\n   extern const float table[tableSize] = {\n   /*... Lots of Numbers ... */\n   };\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 2, "creation_date": 1480547496, "post_id": 40899942, "comment_id": 69013657, "body": "Read a tutorial, <i>any</i> tutorial?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1480547499, "post_id": 40899942, "comment_id": 69013660, "body": "<code>playerCheck()</code> is how you would call <code>bool playerCheck() { &#47;* ... *&#47; }</code>"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480547499, "post_id": 40899942, "comment_id": 69013661, "body": "<code>if(playerCheck() == true)</code> or better <code>if(playerCheck())</code>"}], "answers": [{"comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480547578, "post_id": 40899965, "comment_id": 69013691, "body": "i wonder why the downvote - this is correct (apart from not pointing out that ==true is redundant)"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1480547724, "post_id": 40899965, "comment_id": 69013738, "body": "@Pm100 Because answering such horrible questions (yes reading the first 10 lines of a tutorial is a great idea before asking on SO!) to get trivial rep encourages these questions which leads to a downward spiral."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1480548162, "post_id": 40899965, "comment_id": 69013872, "body": "u think answering badish questions is trying to get rep? Seems like people just trying to be helpful. I do it all the time. Sometimes tutorials for languages dont really cover some ultra fundamental things, having somebody point the answer out helps a lot. When I first learned fortran (a long time ago) they talked about the layout on a card , which cols for comments, etc. I was really puzzled by how limited it was till somebody pointed out that <i>you could have more than one card</i>"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480548233, "post_id": 40899965, "comment_id": 69013896, "body": "things that get me are people posting the text of an assignment , with no effort at all."}], "tags": [], "owner": {"reputation": 20994, "user_id": 2170192, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsKlq.png?s=128&g=1", "display_name": "Alex Shesterov", "link": "https://stackoverflow.com/users/2170192/alex-shesterov"}, "is_accepted": true, "score": 1, "last_activity_date": 1480547805, "last_edit_date": 1480547805, "creation_date": 1480547526, "answer_id": 40899965, "question_id": 40899942, "link": "https://stackoverflow.com/questions/40899942/operand-types-are-incompatible-bool-and-bool/40899965#40899965", "title": "operand types are incompatible (&quot;bool (*)()&quot; and &quot;bool&quot;)", "body": "<p><code>playerCheck</code> is a function which needs to be called in order to get the boolean result, i.e.: </p>\n\n<pre><code>if (playerCheck() == true)\n</code></pre>\n\n<hr>\n\n<p><code>bool (*)()</code> is a type for a <em>function which takes no arguments and returns a boolean.</em> </p>\n\n<p><code>playerCheck == true</code> is an attempt to compare the <em>function pointer</em> with a boolean value, which leads to the compilation error which speaks for itself. </p>\n\n<p><code>playerCheck() == true</code> is <em>calling</em> the function and comparing the result (of type boolean) with the boolean value. </p>\n\n<hr>\n\n<p>Note that <code>if (x == true)</code> can be generally abbreviated to <code>if (x)</code>, so you could just write</p>\n\n<pre><code>if (playerCheck())\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7233438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba916ab2e5632af082844bd1058504f?s=128&d=identicon&r=PG&f=1", "display_name": "element_119", "link": "https://stackoverflow.com/users/7233438/element-119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "closed_date": 1480550926, "accepted_answer_id": 40899965, "answer_count": 1, "score": -6, "last_activity_date": 1480547805, "creation_date": 1480547401, "question_id": 40899942, "link": "https://stackoverflow.com/questions/40899942/operand-types-are-incompatible-bool-and-bool", "closed_reason": "Not suitable for this site", "title": "operand types are incompatible (&quot;bool (*)()&quot; and &quot;bool&quot;)", "body": "<p>I am trying to create a program in Visual Studio Community 2015 to play Tic-Tac-Toe. Sounds simple, not so much.\nAnyway, I am using a function [bool playerCheck()] to make a switch for  the function that checks whether the space that the user chooses is already taken. </p>\n\n<pre><code>void checkInput()\n{\n    if (playerCheck == true)\n</code></pre>\n\n<p>Visual Studio gives the squiggly lines under the \"==\" and gives the message </p>\n\n<p>operand types are incompatible (\"bool (*)()\" and \"bool\").</p>\n\n<p>Not sure how the syntax should be for comparing function output to a constant.</p>\n"}, {"tags": ["python", "c++"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 2, "creation_date": 1480546377, "post_id": 40899710, "comment_id": 69013218, "body": "Is this just for interacting with C/C++ code that uses 64-bit ints, or are you actually trying to make a Python type for 64-bit ints that will only be used in pure Python code?  If the latter, there&#39;s no need for it, as Python integers have arbitrary precision."}, {"owner": {"reputation": 1, "user_id": 7138069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc754a63a9d15b76dcab92219d1e5dbd?s=128&d=identicon&r=PG&f=1", "display_name": "markSx", "link": "https://stackoverflow.com/users/7138069/marksx"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1480546484, "post_id": 40899710, "comment_id": 69013262, "body": "Will be used in pure python code."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1480557339, "post_id": 40899710, "comment_id": 69016401, "body": "For pure Python you don&#39;t <i>need</i> 64-bit ints, they&#39;re already unlimited in size. Use 1024-bit numbers if you want."}], "owner": {"reputation": 1, "user_id": 7138069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc754a63a9d15b76dcab92219d1e5dbd?s=128&d=identicon&r=PG&f=1", "display_name": "markSx", "link": "https://stackoverflow.com/users/7138069/marksx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1480556600, "creation_date": 1480546247, "last_edit_date": 1480556600, "question_id": 40899710, "link": "https://stackoverflow.com/questions/40899710/python-module-for-longlong-types", "title": "Python module for longlong types", "body": "<p>I'm trying to make a <code>int64_t</code> module for python because python doesn't have a <code>long long</code> type. I found one in <code>ctypes</code> but I can't use it.\nSo, I have embedded an intro in my application so the best way is to create a module that returns <code>int64_t</code> from c++.</p>\n\n<pre><code>PyObject *Py_int64_t(PyObject *poSelf, PyObject *poArgs)\n{\n    return Py_BuildNone();\n}\nstatic PyMethodDef s_methods[] =\n{\n    {\"Py_int64_t\", Py_int64_t, METH_VARARGS}\n}\n</code></pre>\n\n<p>The problem is I don't know from where to start. As you can see Py_int64_t main function is empty. I need some examples about how should I construct that function.</p>\n"}, {"tags": ["c++", "c++11", "variadic-templates", "template-templates"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1480548740, "post_id": 40899693, "comment_id": 69014082, "body": "ICC and MSVC produces <code>44</code>. I&#39;m going to go with bug."}, {"owner": {"reputation": 259, "user_id": 7376565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7834130f8919a7c7b1c80bfd723e43da?s=128&d=identicon&r=PG&f=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/7376565/alex-p"}, "edited": false, "score": 0, "creation_date": 1484075115, "post_id": 40899693, "comment_id": 70357654, "body": "Suppose it&#39;s compiler implementation specific."}], "answers": [{"comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1482302084, "post_id": 41256298, "comment_id": 69713249, "body": "I can see what happens, I&#39;m asking where in the standard this behaviour is defined."}], "tags": [], "owner": {"reputation": 320, "user_id": 6626054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f466036c8c5fca538016fa2dcbd8ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Ge", "link": "https://stackoverflow.com/users/6626054/jun-ge"}, "is_accepted": false, "score": 1, "last_activity_date": 1482301259, "last_edit_date": 1482301259, "creation_date": 1482300905, "answer_id": 41256298, "question_id": 40899693, "link": "https://stackoverflow.com/questions/40899693/strange-behaviour-of-default-template-argument-in-a-template-template-parameter/41256298#41256298", "title": "Strange behaviour of default template-argument in a template-template-parameter", "body": "<p>In Wrap2 class, parameter pack \"class... E\" will replace all the parameters specified by \"class C\" ( include the default \"int\" parameter), so \"Wrap2 w2\" will return 1 which is the default parameter of struct Cont.</p>\n\n<p>Parameter pack replaced all the parameters of class C, so the default parameters of C didn't work here.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\n\ntemplate &lt;class A=char, class B = short, class C = int&gt; struct MyTest\n{\n    MyTest ()\n    {\n        std::cout &lt;&lt; sizeof(A) &lt;&lt; \" \" &lt;&lt; typeid(A).name() &lt;&lt; \" \";\n        std::cout &lt;&lt; sizeof(B) &lt;&lt; \" \" &lt;&lt; typeid(B).name() &lt;&lt; \" \";\n        std::cout &lt;&lt; sizeof(C) &lt;&lt; \" \" &lt;&lt; typeid(C).name() &lt;&lt; std::endl;\n    }\n};\n\ntemplate &lt;template&lt;class = double, class = double, class = double&gt; class D, class E, class... F&gt; class Wrap\n{\n    D&lt;E&gt; de; // the parameters of D is: E + default parameters of D.\n    D&lt;F...&gt; df; // the parameters of D is: F... + default parameters of MyTest, the default parameter of D don't work, it will be replaced by pack F.\n};\n\nint main ()\n{\n    Wrap&lt;MyTest, int, int&gt; w;\n}\n\n//g++ 5.4.0\n//output:\n//4 i 8 d 8 d\n//4 i 2 s 4 i\n</code></pre>\n"}], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 6, "answer_count": 1, "score": 21, "last_activity_date": 1482301259, "creation_date": 1480546165, "last_edit_date": 1495541834, "question_id": 40899693, "link": "https://stackoverflow.com/questions/40899693/strange-behaviour-of-default-template-argument-in-a-template-template-parameter", "title": "Strange behaviour of default template-argument in a template-template-parameter", "body": "<p>Consider this C++11 program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;class A, class B = char&gt; struct Cont {\n    Cont () { std::cout &lt;&lt; sizeof(B); }\n};\n\ntemplate &lt;template&lt;class, class = int&gt; class C, class E&gt; class Wrap1\n{\n    C&lt;E&gt; ce;\n};\n\ntemplate &lt;template&lt;class, class = int&gt; class C, class... E&gt; class Wrap2\n{\n    C&lt;E...&gt; ce;\n};\n\nint main ()\n{\n    Wrap1&lt;Cont, void&gt; w1;\n    Wrap2&lt;Cont, void&gt; w2;\n}\n</code></pre>\n\n<p>When compiled with either gcc or clang, the output is <code>41</code>.</p>\n\n<p>Is this behaviour according to the standard? Where exactly does the standard specify it (for both <code>Wrap1</code> and <code>Wrap2</code>)?</p>\n\n<p>This question is inspired in part by <a href=\"https://stackoverflow.com/questions/40881064/c-why-does-calling-stdwstringbegin-before-include-vector-cause-a-com/40896466?noredirect=1#comment69009219_40896466\">this other question</a>.</p>\n"}, {"tags": ["c++", "c++11", "vector", "stl", "iterator"], "answers": [{"comments": [{"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 5, "creation_date": 1480548301, "post_id": 40899891, "comment_id": 69013917, "body": "<code>std::vector</code> is not allowed to realloc on <code>erase</code> until it is empty. (Obviously, if reallocation were possible, it would invalidate all iterators, including the ones pointing before the erased one.) The OP seems to be perfectly aware of this point."}, {"owner": {"reputation": 398, "user_id": 4461389, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2zo0ylRwOwE/AAAAAAAAAAI/AAAAAAAAIG8/8fmGYstxAFU/photo.jpg?sz=128", "display_name": "Dragos Pop", "link": "https://stackoverflow.com/users/4461389/dragos-pop"}, "edited": false, "score": 0, "creation_date": 1480548881, "post_id": 40899891, "comment_id": 69014152, "body": "But still all iterators after the erased element will point to wrong elements because the elements are shifted."}, {"owner": {"reputation": 1727, "user_id": 3166476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tU6SH.jpg?s=128&g=1", "display_name": "lakeweb", "link": "https://stackoverflow.com/users/3166476/lakeweb"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1480550958, "post_id": 40899891, "comment_id": 69014790, "body": "Hi @AnT I didn&#39;t know that was a rule. I&#39;ve always assumed not to trust where a vector would be if the size changes. Thanks."}], "tags": [], "owner": {"reputation": 1727, "user_id": 3166476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tU6SH.jpg?s=128&g=1", "display_name": "lakeweb", "link": "https://stackoverflow.com/users/3166476/lakeweb"}, "is_accepted": false, "score": 2, "last_activity_date": 1480551668, "last_edit_date": 1495541634, "creation_date": 1480547068, "answer_id": 40899891, "question_id": 40899608, "link": "https://stackoverflow.com/questions/40899608/why-stdvector-iterator-is-invalidated-after-the-erase-call/40899891#40899891", "title": "Why std::vector iterator is invalidated after the erase() call?", "body": "<blockquote>\n  <p>std::vector must be implemented with elements stored contiguously</p>\n</blockquote>\n\n<p>This is the reason. If you erase an element inside the vector, the elements, at the least, must be shifted. You could, not with debug protection:</p>\n\n<pre><code>std::vector&lt; int &gt; test= {1,2,3,4,5,6,7};\nauto it= test.begin( ) + 2;\ntest.erase( it );\nstd::cout &lt;&lt; *it &lt;&lt; std::endl;\n</code></pre>\n\n<p>And it will likely print '4'. But there is no guaranty. What if the vector reallocs? What if you erase <code>test.begin( ) + 6</code> ? If you change the size of a vector, it can be moved.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12707444/space-reallocated-in-vectorresize-when-resized-to-lower-count\">More Info</a></p>\n"}, {"comments": [{"owner": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "edited": false, "score": 0, "creation_date": 1480550699, "post_id": 40900024, "comment_id": 69014691, "body": "I see, - this is exactly what i was looking for, - thank you @AnT ! As follow up question: does this mean that it might be still legal to decrement or de-referene such invalidated iterators or that is always will be considered to be undefined behavior?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "edited": false, "score": 0, "creation_date": 1480552308, "post_id": 40900024, "comment_id": 69015160, "body": "@Feng Shu: Dereferencing or moving an invalidated iterator is always undefined behavior. It is probably possible to make an effort to allow this for <code>std::vector</code> iterators specifically, but it doesn&#39;t seem to be worth it. The primary purpose of iterator concept is to serve as an abstract uniform intermediary between algorithms and data sequences. For which reason trying to specify something that would only apply to a very narrow specific subset of iterators (vector iterators) would not be of much value for the concept."}, {"owner": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "edited": false, "score": 1, "creation_date": 1480624379, "post_id": 40900024, "comment_id": 69051963, "body": "re <code>std::random_shuffle</code> and how it different from <code>erase</code>: it could be argued that shuffling is just changing values of elements in container but leaving it geometry unchanged so in that sense all iterators after <code>std::random_shuffle()</code> is still point to exactly the same container elements (but such elements changed values). While in <code>erase()</code> case function change container geometry so old iterators is no longer pointing to the same logical elements and thats why iterators invalided..."}, {"owner": {"reputation": 4425, "user_id": 5983841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/GHJxG.jpg?s=128&g=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/5983841/rick"}, "edited": false, "score": 0, "creation_date": 1575944506, "post_id": 40900024, "comment_id": 104727614, "body": "I have difficulty in understanding what &quot;invalid&quot; actually means too, when I read this post <a href=\"https://stackoverflow.com/questions/6438086/iterator-invalidation-rules\" title=\"iterator invalidation rules\">stackoverflow.com/questions/6438086/iterator-invalidation-ru&zwnj;&#8203;les</a> about some invalidation rules . From your description(sorry I just want to make sure), are you saying that if the iterator no longer &quot;points&quot; to the same value, then it&#39;s considered to be &quot;invalid&quot; too?"}, {"owner": {"reputation": 4425, "user_id": 5983841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/GHJxG.jpg?s=128&g=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/5983841/rick"}, "edited": false, "score": 0, "creation_date": 1575944643, "post_id": 40900024, "comment_id": 104727644, "body": "Btw, do you agree with @Marshall Clow &#39;s <a href=\"https://stackoverflow.com/a/40900279/5983841\">explanation</a> on the meaning of &quot;invalidated&quot;, which is <code>&quot;invalidated&quot; can mean &quot;no longer points to what it used to&quot;, not just &quot;may not point to any valid element&quot;</code> ?"}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 8, "last_activity_date": 1480552768, "last_edit_date": 1480552768, "creation_date": 1480547931, "answer_id": 40900024, "question_id": 40899608, "link": "https://stackoverflow.com/questions/40899608/why-stdvector-iterator-is-invalidated-after-the-erase-call/40900024#40900024", "title": "Why std::vector iterator is invalidated after the erase() call?", "body": "<p>One of the principles on which the conceptual idea of <em>iterator</em> is built, is as follows: as long as iterator remains non-aliased, dereferenceable and non-modified, it should refer to the same entity. In other words, dereferencing the same iterator multiple times should yield the same value. Algorithms that use iterators may rely on that.</p>\n\n<p>What you proposing would result in an iterator that would \"magically\" change the value it refers to even though the iterator itself remains unchanged. This is not acceptable within the conceptual idea of iterator.</p>\n\n<hr>\n\n<p>On the second thought, what I said above is obviously flawed in a sense that we can always apply some modifying operation to the vector that shifts elements around (e.g. <code>std::random_shuffle</code>). Such operation would not invalidate any iterators, but would easily change the values the iterators refer to. How is that different from element shifting triggered by <code>erase</code>? It isn't.</p>\n"}, {"comments": [{"owner": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "edited": false, "score": 0, "creation_date": 1480550533, "post_id": 40900279, "comment_id": 69014640, "body": "Hmm, i was under impression that any attempts to use <code>invalidated</code> iterators lead to undefined behavior. Are you implying that this is not the case? If so, could you please point to any reference material that state this?"}, {"owner": {"reputation": 13563, "user_id": 992490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=128&d=identicon&r=PG", "display_name": "Marshall Clow", "link": "https://stackoverflow.com/users/992490/marshall-clow"}, "reply_to_user": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "edited": false, "score": 1, "creation_date": 1480550865, "post_id": 40900279, "comment_id": 69014761, "body": "No, you are correct. Once they&#39;ve been invalidated, you have no guarantees.  It <code>*iter</code> <i>might</i> have the value <code>4</code>. It might not. it might crash your program."}], "tags": [], "owner": {"reputation": 13563, "user_id": 992490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=128&d=identicon&r=PG", "display_name": "Marshall Clow", "link": "https://stackoverflow.com/users/992490/marshall-clow"}, "is_accepted": false, "score": 5, "last_activity_date": 1480549402, "creation_date": 1480549402, "answer_id": 40900279, "question_id": 40899608, "link": "https://stackoverflow.com/questions/40899608/why-stdvector-iterator-is-invalidated-after-the-erase-call/40900279#40900279", "title": "Why std::vector iterator is invalidated after the erase() call?", "body": "<p>\"invalidated\" can mean \"no longer points to what it used to\", not just \"may not point to any valid element\"</p>\n\n<p>consider (uncompiled code):</p>\n\n<pre><code>vector&lt;int&gt; v = {0, 1, 2, 3, 4, 5};\nvector&lt;int&gt;::iterator iter = v.begin() + 3;  // \"points to\" 3\nassert(*iter == 3);\nv.erase(v.begin());\n</code></pre>\n\n<p>At this point, <code>iter</code> has been invalidated. It no longer \"points to\" the same element that it did before.</p>\n"}, {"comments": [{"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1554139067, "post_id": 55453421, "comment_id": 97633464, "body": "I&#39;m not clear what the point of contention is.  The standard says iterators at or after the erasure become invalidated.  So, yes, iterators pointing to items before the erasure remain valid.  Are you specifically asking about the one that was at the beginning of the erasure?"}], "tags": [], "owner": {"reputation": 847, "user_id": 6469690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kvGyE.png?s=128&g=1", "display_name": "Bonita Montero", "link": "https://stackoverflow.com/users/6469690/bonita-montero"}, "is_accepted": false, "score": 0, "last_activity_date": 1554125619, "last_edit_date": 1554125619, "creation_date": 1554115949, "answer_id": 55453421, "question_id": 40899608, "link": "https://stackoverflow.com/questions/40899608/why-stdvector-iterator-is-invalidated-after-the-erase-call/55453421#55453421", "title": "Why std::vector iterator is invalidated after the erase() call?", "body": "<p>I simply see no reason for the iterators to become invalid with the point where I begin to erase the elements. vector::erase( ... ) does use the assignment-opetor, so the objects in the vector are never invalidated. If I would do the same with my own code ...</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid vector_erase( vector&lt;T&gt; &amp;v, typename vector&lt;T&gt;::iterator first, typename vector&lt;T&gt;::iterator last )\n{\n    typename vector&lt;T&gt;::iterator shiftOld,\n                                 shiftNew;\n    for( shiftOld = last, shiftNew = first; shiftOld != v.end(); ++shiftOld, ++shiftNew )\n        *shiftNew = move( *shiftOld );\n    v.resize( shiftNew - v.begin() );\n}\n</code></pre>\n\n<p>... the iterators would be valid until the point where I cut the vector.</p>\n"}], "owner": {"reputation": 190, "user_id": 6323542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cb5d97d08dd1c69b312be7123b379e?s=128&d=identicon&r=PG&f=1", "display_name": "Yatima", "link": "https://stackoverflow.com/users/6323542/yatima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 4, "accepted_answer_id": 40900024, "answer_count": 4, "score": 5, "last_activity_date": 1554125619, "creation_date": 1480545819, "question_id": 40899608, "link": "https://stackoverflow.com/questions/40899608/why-stdvector-iterator-is-invalidated-after-the-erase-call", "title": "Why std::vector iterator is invalidated after the erase() call?", "body": "<p>The C++ reference clearly state that calling <code>std::vector::erase(it)</code> on iterator will <em>invalidate all iterators pointing to and after</em> the erased element. <a href=\"http://en.cppreference.com/w/cpp/container/vector/erase\" rel=\"noreferrer\">http://en.cppreference.com/w/cpp/container/vector/erase</a></p>\n\n<p>I do understand why such iterators became non-dereferenceable after the <code>erase</code> call, but i am curious <em>why</em> they need to became invalid, what implementation details require it?</p>\n\n<p>For instance standard says that <code>std::vector</code> must be implemented with elements stored contiguously and that <code>elements can be accessed not only through iterators, but also using offsets on regular pointers to elements</code> so it seems logical that iterators for such container will probably be implemented as pointers - but then how pointers could became invalidated?</p>\n"}, {"tags": ["c++", "static-cast"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1480545880, "post_id": 40899581, "comment_id": 69013013, "body": "C cast might be a <code>const_cast</code>, but you will have a compile time error with <code>static_cast</code> in that case."}], "answers": [{"tags": [], "owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "is_accepted": true, "score": 7, "last_activity_date": 1480551737, "last_edit_date": 1480551737, "creation_date": 1480545848, "answer_id": 40899619, "question_id": 40899581, "link": "https://stackoverflow.com/questions/40899581/is-it-always-safe-to-change-a-c-style-cast-to-a-static-cast/40899619#40899619", "title": "Is it always safe to change a C-style cast to a static_cast?", "body": "<p>C-style cast is generally a combo of <code>static_cast&lt;&gt;</code> or <code>reinterpret_cast&lt;&gt;</code> with <code>const_cast&lt;&gt;</code>. There might be compile-time errors from replacing it with just <code>static_cast&lt;&gt;</code>. </p>\n\n<p>I am not aware of any cases for runtime errors.</p>\n\n<p>You could start with <code>static_cast&lt;&gt;</code>, then add (or replace it with) <code>const_cast&lt;&gt;</code> where compile-time errors arise. If after that you still have compile-time errors, <code>reinterpret_cast&lt;&gt;</code> are required. But do not make the replacement blindly - some of these cases may be bugs. E.g., <code>reinterpret_cast&lt;&gt;</code> may be required if a data type is forward declared but not defined, which leads to unspecified behavior (and will definitely cause  problems if multiple inheritance is involved). </p>\n\n<p>Finding these kinds of bugs is the reason why this exercise improves safety of the source code, and why a static code analyzer flags C-style casts.</p>\n"}, {"comments": [{"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 1, "creation_date": 1480547524, "post_id": 40899673, "comment_id": 69013671, "body": "If the code does not compile. Then it is safe (as you have no bugs introduced into your code). You are conflating safe and valid which are different concepts."}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 1, "creation_date": 1480573686, "post_id": 40899673, "comment_id": 69020987, "body": "@LokiAstari Not exactly. OP asked for a case in which a <code>static_cast</code> would raise an error and a C-style cast would work (quoted). In the answer there is such a case. I didn&#39;t say it&#39;s valid or safe, I posted only an example that reflects what the OP is asking for. That&#39;s all. Honestly I didn&#39;t get what he means with safe. An UB would be unsafe probably, but an error is safe enough, you can correct it before to release anything."}], "tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": false, "score": 2, "last_activity_date": 1480546993, "last_edit_date": 1480546993, "creation_date": 1480546078, "answer_id": 40899673, "question_id": 40899581, "link": "https://stackoverflow.com/questions/40899581/is-it-always-safe-to-change-a-c-style-cast-to-a-static-cast/40899673#40899673", "title": "Is it always safe to change a C-style cast to a static_cast?", "body": "<p>C- style cast and <code>static_cast</code> are not equivalent.  </p>\n\n<blockquote>\n  <p>is there a situation where the old C-style cast would work fine, but\u00a0static_cast\u00a0would raise error or undefined behavior?</p>\n</blockquote>\n\n<p>As an example:</p>\n\n<pre><code>int main() {\n    using FI = int(*)();\n    using FV = void(*)();\n    FI fi = nullptr;\n    FV fv = (FV)fi;\n    //FV fv2 = static_cast&lt;FV&gt;(fi);\n}\n</code></pre>\n\n<p>If you uncomment the line that uses <code>static_cast</code>, the code doesn't compile.<br>\nAs a side note, in this case you should rather use <code>reinterpret_cast</code>.</p>\n"}], "owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 40899619, "answer_count": 2, "score": 4, "last_activity_date": 1480551737, "creation_date": 1480545658, "question_id": 40899581, "link": "https://stackoverflow.com/questions/40899581/is-it-always-safe-to-change-a-c-style-cast-to-a-static-cast", "title": "Is it always safe to change a C-style cast to a static_cast?", "body": "<p>I am trying to eliminate all C-style casts in a codebase, due to cppcheck cstyleCast style warnings.</p>\n\n<p><strong>Is it always safe to change a C-style cast to a <code>static_cast</code>?</strong></p>\n\n<p>By safe, I mean, is there a situation where the old C-style cast would work fine, but <code>static_cast</code> would raise error or undefined behavior?</p>\n\n<pre><code>type1 a;\ntype2 b = (type2)a;               // C style cast\ntype2 b = static_cast&lt;type2&gt;(a);  // Is this always a valid replacement for above cast?\n</code></pre>\n"}, {"tags": ["c++", "initialization", "g++", "clang++", "stdatomic"], "answers": [{"comments": [{"owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "edited": false, "score": 0, "creation_date": 1480578945, "post_id": 40899671, "comment_id": 69023217, "body": "Thanks. I tried <code>-Weffc++</code>, unfortunately it makes no difference in this case."}], "tags": [], "owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1480546069, "last_edit_date": 1495539957, "creation_date": 1480546069, "answer_id": 40899671, "question_id": 40899576, "link": "https://stackoverflow.com/questions/40899576/no-compiler-warnings-for-uninitialized-stdatomicdouble/40899671#40899671", "title": "No compiler warnings for uninitialized std::atomic&lt;double&gt;", "body": "<p>Why: Unfortunately we have no way of knowing. Perhaps nobody who contributes to gcc development bothered to do it yet or thought it was worth it.</p>\n\n<p>Impossible to detect? Not technically, I suppose. But it would have to be a special case, otherwise you'd introduce loads of warnings for a not uncommon case of declaring vars of struct and class types with no explicitly defined default constructors without initializer lists or whatever. </p>\n\n<p>Worth it to add a special case? Probably, but that's a matter of opinion, and convincing somebody to implement it in gcc.</p>\n\n<p>Command line switches? Not really, although <a href=\"https://stackoverflow.com/questions/2099692/easy-way-find-uninitialized-member-variables\"><code>-Weffc++</code></a> might get you something. I have not tried it. You could also try running it through valgrind, maybe that will report something. Also have not tried.</p>\n"}], "owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480546069, "creation_date": 1480545602, "last_edit_date": 1495541630, "question_id": 40899576, "link": "https://stackoverflow.com/questions/40899576/no-compiler-warnings-for-uninitialized-stdatomicdouble", "title": "No compiler warnings for uninitialized std::atomic&lt;double&gt;", "body": "<p>Earlier today I stumbled over <a href=\"https://stackoverflow.com/questions/40882023\">addition on std::atomic&lt;double&gt; not adding up to non-atomic counterpart</a>, which turned out to be due to a <code>std::atomic&lt;double&gt;</code> being left uninitialized (see also <a href=\"https://stackoverflow.com/questions/36320008\">What&#39;s the default value for a std::atomic?</a>).  What caught my attention, though, was that my compiler did not warn me about the fact that the <code>std::atomic&lt;double&gt;</code> was uninitialized.  Consider:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;atomic&gt;\n\nint main()\n{\n  std::atomic&lt;double&gt; d;\n  double e;\n\n  std::cout &lt;&lt; d &lt;&lt; \" \" &lt;&lt; e &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Neither clang 3.8 nor GCC 6.2 appear to be able to produce a warning for <code>d</code> being uninitialized. See <a href=\"http://coliru.stacked-crooked.com/a/3949d1e3622f1a98\" rel=\"nofollow noreferrer\">live at coliru</a>: I used <code>-Wall -pedantic -Wextra</code>, but got no warning both with and without <code>-O2</code>. Of course a warning about <code>e</code> not being initialized is typically produced. <sub>(Interestingly, gcc does not actually produce any warning when <code>-O2</code> is enabled.)</sub></p>\n\n<p>Of course I cannot <em>expect</em> the compiler to warn me about these things; but this case left me wondering:</p>\n\n<ul>\n<li>Is there a particular reason why this situation is not (currently) detected/reported by the compilers in question?</li>\n<li>\u2026or even (I would assume this to be unlikely): Is it impossible in general, for some reason, to detect/report the missing initialization in the specific case of <code>std::atomic&lt;T&gt;</code> where <code>T</code> has no default constructor?</li>\n<li>or, maybe, is there just another command-line switch I am missing which would make the compiler produce the warning?</li>\n</ul>\n"}, {"tags": ["c++", "templates", "stl", "metaprogramming"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480545940, "post_id": 40899544, "comment_id": 69013030, "body": "<code>Texture::Id::Error</code> has to be associated (i.e. deducible at compile time) with a type for that to work. I don&#39;t see any such association in your posted code."}, {"owner": {"reputation": 309, "user_id": 2647624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fn6tR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2647624/peter"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480546179, "post_id": 40899544, "comment_id": 69013144, "body": "Yes sorry my mistake, edited."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480546333, "post_id": 40899544, "comment_id": 69013201, "body": "That edit does nothing to address the issue I raised."}, {"owner": {"reputation": 309, "user_id": 2647624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fn6tR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2647624/peter"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480546525, "post_id": 40899544, "comment_id": 69013277, "body": "Then I&#39;m a bit confused on what exactly you meant, I&#39;m sorry."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480546638, "post_id": 40899544, "comment_id": 69013321, "body": "What are the template parameters used to instantiate <code>ResourceHolder</code>? What&#39;s the relationship between those template parameters and <code>Texture::Id::Error</code>?"}], "owner": {"reputation": 309, "user_id": 2647624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fn6tR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2647624/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480546140, "creation_date": 1480545436, "last_edit_date": 1480546140, "question_id": 40899544, "link": "https://stackoverflow.com/questions/40899544/is-it-possible-to-change-an-enum-class-variables-specific-type-without-knowing", "title": "Is it possible to change an enum class variable&#39;s specific type without knowing the original enum class?", "body": "<p>Sorry if the question title is a bit confusing. In my game engine I have the following defined in ResourceIdentifiers.hpp:</p>\n\n<pre><code>namespace Textures\n{\n    enum class Id\n    {\n        Error = -1,\n        Player\n    };\n}\n</code></pre>\n\n<p>I have lots of similar definitions, for music, fonts, etc etc (every single one has a type called Error). Now in ResourceHolder.hpp I have the following (cut down dramatically of course):</p>\n\n<pre><code>template &lt;typename Resource, typename Identifier&gt;\nclass ResourceHolder\n{\npublic:    \n    Resource&amp; get(Identifier id);\n\nprivate:\n    Resource&amp; getErrorResource(Identifier id);\n\n    std::map&lt;Identifier, std::unique_ptr&lt;Resource&gt; &gt; m_resourceMap;\n};\n</code></pre>\n\n<p>And in ResourceHandler.cpp:</p>\n\n<pre><code>template &lt;typename Resource, typename Identifier&gt;\nResource&amp; ResourceHolder&lt;Resource, Identifier&gt;::get(Identifier id)\n{\n    auto found = m_resourceMap.find(id);\n\n    if (found == m_resourceMap.end())\n    {\n        return getErrorResource(id);\n    }\n\n    return *found-&gt;second;\n}\n</code></pre>\n\n<p>The meat of my question lies within getErrorResource(). Since get() returns a reference to a resource, if a resource that the user's calling for isn't initialized, I want to return an error version of the resource so the program can keep running (in Texture's case, what <code>id</code> would want to be is <code>Textures::Id::Error</code>). The issue is that I don't want to fill getErrorResource() with a bunch of ifs to correctly set it to Error. Is there a way to figure out what enum class <code>id</code> was originally, then set it to its corresponding \"Error\"?</p>\n"}, {"tags": ["c++", "fltk"], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 7072727, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9636cb05bd2854648fe5b1e6d069bbd0?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin Nieffenegger", "link": "https://stackoverflow.com/users/7072727/dustin-nieffenegger"}, "is_accepted": false, "score": 0, "last_activity_date": 1480546191, "creation_date": 1480546191, "answer_id": 40899701, "question_id": 40899414, "link": "https://stackoverflow.com/questions/40899414/fltk-button-call-back/40899701#40899701", "title": "Fltk Button Call back", "body": "<p>If you want a callback you need to add a callback function. See <a href=\"http://www.fltk.org/doc-1.3/common.html\" rel=\"nofollow noreferrer\">http://www.fltk.org/doc-1.3/common.html</a></p>\n\n<pre><code>void xyz_callback(Fl_Widget *w, void *data) {\n...\n}\n</code></pre>\n\n<p>You can pass anything you like to data and cast it back to its original type. Then modify your button with</p>\n\n<pre><code>button-&gt;callback(xyz_callback, &amp;xyz_data);\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6216950, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b000144c2e5d249f5fbd393c035eb017?s=128&d=identicon&r=PG&f=1", "display_name": "TheOne817", "link": "https://stackoverflow.com/users/6216950/theone817"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 962, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482950208, "creation_date": 1480544868, "question_id": 40899414, "link": "https://stackoverflow.com/questions/40899414/fltk-button-call-back", "title": "Fltk Button Call back", "body": "<p>For this sub-window I have created a button, but when I click on the button nothing happens. I want to exit the sub-window once I click on the button, but I am not sure how to do that.</p>\n\n<pre><code>void model(Fl_Widget *, void *) {\n    Fl_Window *head = new Fl_Window(400, 350, \"Robot Model: \");\n    Fl_Input *input = new Fl_Input(200, 0, 100, 30, \"Name: \");\n    Fl_Input *input1 = new Fl_Input(200, 40, 100, 30, \"Part-Number: \");\n    Fl_Input *input2 = new Fl_Input(200, 80, 100, 30, \"How much is the    Weight: \");\n    Fl_Input *input3 = new Fl_Input(200, 120, 100, 30, \"The Cost: \");\n    Fl_Input *input4 = new Fl_Input(200, 160, 100, 30, \"Brief Description:           \");\n    Fl_Button *enter = new Fl_Button(150, 200, 100, 30, \"Enter\");\n    head-&gt;show();\n  }\n\nint main(){\n\nFl_Window *win = new Fl_Window(600, 500, \"Robot Workshop\");\nFl_Box *box = new Fl_Box(0, 10, 600, 100, \"Welcome to Robot Workshop!\");\nbox-&gt;box(FL_UP_BOX);\nbox-&gt;labelsize(36);\nbox-&gt;labelfont(FL_BOLD + FL_ITALIC);\nbox-&gt;labeltype(FL_SHADOW_LABEL);\nFl_Menu_Bar *menu = new Fl_Menu_Bar(0, 0, 600, 25);\nmenu-&gt;add(\"Exit/Quit\", FL_CTRL + 'v', Quit_CB);\nmenu-&gt;add(\"Project Manager/Robot Part/Head\", FL_CTRL + 'h', head);\nmenu-&gt;add(\"Project Manager/Robot Part/Torso\", FL_CTRL + 't', torso);\nmenu-&gt;add(\"Project Manager/Robot Part/Arm\", FL_CTRL + 'a', arm);\nmenu-&gt;add(\"Project Manager/Robot Part/Battery\", FL_CTRL + 'b', battery);\nmenu-&gt;add(\"Project Manager/Robot Part/Locomotor\", FL_CTRL + 'l', locomotor);\nmenu-&gt;add(\"Project Manager/Robot Model\" ,FL_CTRL + 'w', model);\nmenu-&gt;add(\"Beloved Customer/Browse Catalog\", FL_CTRL + 'z', catalog);\nmenu-&gt;add(\"Beloved Customer/Part Pictures\", FL_CTRL + 'v', pic);\nmenu-&gt;add(\"Manual\", FL_CTRL + 'm', manual_window);\n\nwin-&gt;show();\nreturn(Fl::run());\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 50907, "user_id": 149138, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cfd457233c8ebbab383475fc097442d9?s=128&d=identicon&r=PG", "display_name": "BeeOnRope", "link": "https://stackoverflow.com/users/149138/beeonrope"}, "edited": false, "score": 0, "creation_date": 1480545056, "post_id": 40899412, "comment_id": 69012623, "body": "Maybe you could provide some links to the documentation for the random function you are calling that is failing. For all we know <code>BZ2_bzBuffToBuffCompress</code> is defined to &quot;always result in an access violation&quot;, and so is behaving exactly to specification!"}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1480553988, "post_id": 40899412, "comment_id": 69015585, "body": "Is data actually a c style string or buffer?"}, {"owner": {"reputation": 11, "user_id": 7233303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94db845f1a65469362253477f7d159c5?s=128&d=identicon&r=PG", "display_name": "Aleph0", "link": "https://stackoverflow.com/users/7233303/aleph0"}, "edited": false, "score": 0, "creation_date": 1480579798, "post_id": 40899412, "comment_id": 69023636, "body": "Thank you for answering.I just based my code according to this documentation <a href=\"http://www.bzip.org/1.0.5/bzip2-manual-1.0.5.html#bzbufftobuffcompress\" rel=\"nofollow noreferrer\">bzip.org/1.0.5/bzip2-manual-1.0.5.html#bzbufftobuffcompress</a> but probably I might have missed something. I&#39;m going to read it again now."}, {"owner": {"reputation": 11, "user_id": 7233303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94db845f1a65469362253477f7d159c5?s=128&d=identicon&r=PG", "display_name": "Aleph0", "link": "https://stackoverflow.com/users/7233303/aleph0"}, "edited": false, "score": 0, "creation_date": 1480953709, "post_id": 40899412, "comment_id": 69165987, "body": "Just to put an EOF to my question, some updates. I have decided to move from BZlib to Zlib (<a href=\"http://www.zlib.net/\" rel=\"nofollow noreferrer\">zlib.net</a>) for I could find better documentation and examples to be used for my needs. As I said above, I&#39;ve gone back to C++ after many years and for my current level of knowledge it is not easy to improve without good code examples. This is basically an invitation to release code accompanied by clear examples, not only for insiders, better some simple lines of code than 1000 words. Thank you. Good bytes."}], "owner": {"reputation": 11, "user_id": 7233303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94db845f1a65469362253477f7d159c5?s=128&d=identicon&r=PG", "display_name": "Aleph0", "link": "https://stackoverflow.com/users/7233303/aleph0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480544859, "creation_date": 1480544859, "question_id": 40899412, "link": "https://stackoverflow.com/questions/40899412/buffer-to-buffer-compress-using-bzlib-in-c", "title": "Buffer to buffer compress using bzlib in C++", "body": "<p>After many years I have decided to use C++ again as progamming language and unfortunately at the moment I am quite rusty at it. I'm implementing a function to compress text using BZ2_bzBuffToBuffCompress. I cannot understand what I am doing wrong in my code as I get an access violation error in the last line. Is there a good soul that can help me? Thanks a lot.<br/>\nThe code is as follows</p>\n\n<pre><code>unsigned int data_len = strlen(data) + 1;\n// Suggested buffer\nunsigned int dest_len = data_len * 1.01 + 600; \nchar *dest = (char*)malloc(dest_len);\n// Suggested values\nint blockSize100k = 9;\nint verbosity = 0;\nint workFactor = 30;\nBZ2_bzBuffToBuffCompress(dest, &amp;dest_len, data, data_len, blockSize100k, verbosity, workFactor);\n</code></pre>\n"}, {"tags": ["c++", "clips", "gtkmm3"], "comments": [{"owner": {"reputation": 81, "user_id": 4972681, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-OL1sascP34o/AAAAAAAAAAI/AAAAAAAABr0/y2YTD7xFgpU/photo.jpg?sz=128", "display_name": "Ankit Kulshrestha", "link": "https://stackoverflow.com/users/4972681/ankit-kulshrestha"}, "edited": false, "score": 0, "creation_date": 1480544654, "post_id": 40899344, "comment_id": 69012425, "body": "Can you point me to the original question?"}, {"owner": {"reputation": 8600, "user_id": 232642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANzkY.png?s=128&g=1", "display_name": "Gary Riley", "link": "https://stackoverflow.com/users/232642/gary-riley"}, "edited": false, "score": 0, "creation_date": 1480547810, "post_id": 40899344, "comment_id": 69013763, "body": "The CLIPS files have .c extensions. Are you using the appropriate option for compiling them as C++ files?"}, {"owner": {"reputation": 81, "user_id": 4972681, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-OL1sascP34o/AAAAAAAAAAI/AAAAAAAABr0/y2YTD7xFgpU/photo.jpg?sz=128", "display_name": "Ankit Kulshrestha", "link": "https://stackoverflow.com/users/4972681/ankit-kulshrestha"}, "reply_to_user": {"reputation": 8600, "user_id": 232642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANzkY.png?s=128&g=1", "display_name": "Gary Riley", "link": "https://stackoverflow.com/users/232642/gary-riley"}, "edited": false, "score": 0, "creation_date": 1480547969, "post_id": 40899344, "comment_id": 69013806, "body": "Since the C functions are wrapped around C++ wrappers, I didn&#39;t include that option. I&#39;m trying to get the GtkCLIPS(my backend) to talk to the GTKWindow subclass. Since you&#39;re one of the core devs of CLIPS, can I contact you?"}, {"owner": {"reputation": 8600, "user_id": 232642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANzkY.png?s=128&g=1", "display_name": "Gary Riley", "link": "https://stackoverflow.com/users/232642/gary-riley"}, "edited": false, "score": 0, "creation_date": 1480572318, "post_id": 40899344, "comment_id": 69020442, "body": "GtkCLIPS.cpp includes GtkCLIPS.h which includes clips.h. Unless you wrap the clips.h include within an extern &quot;C&quot; block, the names will be mangled during the C++ file compilation and the linker will not be able to find the functions if the corresponding source file is compiled as C code. If you&#39;re mixing C++ code with code that&#39;s both valid C and C++ code, the simplest solution is to compile everything as C++. Support emails for CLIPS are at <a href=\"http://www.clipsrules.net/?q=Support\" rel=\"nofollow noreferrer\">clipsrules.net/?q=Support</a>."}], "owner": {"reputation": 81, "user_id": 4972681, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-OL1sascP34o/AAAAAAAAAAI/AAAAAAAABr0/y2YTD7xFgpU/photo.jpg?sz=128", "display_name": "Ankit Kulshrestha", "link": "https://stackoverflow.com/users/4972681/ankit-kulshrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "closed_date": 1480544613, "answer_count": 0, "score": 0, "last_activity_date": 1480553611, "creation_date": 1480544561, "last_edit_date": 1480553611, "question_id": 40899344, "link": "https://stackoverflow.com/questions/40899344/how-to-use-two-different-classes-in-one-main-gtk-app", "closed_reason": "Duplicate", "title": "How to use two different classes in one main GTK app", "body": "<p>I'm trying to make GTK frontend and CLIPS backend work together in sync. The structure of my app is as follows:</p>\n\n<ol>\n<li><p>CLIPSWindow class contains the GUI code of the app.</p></li>\n<li><p>GTKClips contains the c++ wrappers around the common CLIPS constructs.</p></li>\n<li>Main app instantiates a design from Glade GUI designer and runs it using <code>Gtk::kit</code></li>\n</ol>\n\n<p><a href=\"https://github.com/ankghost0912/GTKClips\" rel=\"nofollow noreferrer\">here</a> is a link to my github repo. The files of importance are <code>GTKClips.{h,cpp}</code>, <code>clipswindow.{h,cpp}</code> and <code>main_app.cpp</code>. </p>\n\n<p>To put the question more clearly: How do I instantiate a member of <code>GTKClips</code> class so that it can be used by <code>clipswindow</code> class to send and receive data. Should I pass it as a parameter to the constructor of <code>clipswindow</code> and then use it in the class or something else? </p>\n"}, {"tags": ["c++", "binary-search-tree"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1480544594, "post_id": 40899328, "comment_id": 69012405, "body": "Is it a balanced tree?"}, {"owner": {"reputation": 7297, "user_id": 13675, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7906663b1197829751673465948e0b05?s=128&d=identicon&r=PG", "display_name": "Sparr", "link": "https://stackoverflow.com/users/13675/sparr"}, "edited": false, "score": 1, "creation_date": 1480544606, "post_id": 40899328, "comment_id": 69012408, "body": "If the tree is balanced, then the N=2^h algorithm works. If the tree is not balanced... balance it :)"}, {"owner": {"reputation": 3, "user_id": 6433521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c040422242b18a651dd0c7f95f132a21?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Morgan", "link": "https://stackoverflow.com/users/6433521/josh-morgan"}, "edited": false, "score": 0, "creation_date": 1480544673, "post_id": 40899328, "comment_id": 69012436, "body": "Thank both of you so much! How would I check to see if it is balanced?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1480544903, "post_id": 40899328, "comment_id": 69012542, "body": "its balanced if its a balanced tree. i.e. each time an element is inserted the tree shuffles its nodes around to ensure it is split into branches of a similar length. If you&#39;re coding your own tree its a virtual certainty its not balanced. One example of a balanced binary tree is a <a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow noreferrer\">red black tree</a>, its a complex data structure. To see tree balancing in all its gory glory see <a href=\"http://eternallyconfuzzled.com/tuts/datastructures/jsw_tut_bst2.aspx\" rel=\"nofollow noreferrer\">here</a>."}], "owner": {"reputation": 3, "user_id": 6433521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c040422242b18a651dd0c7f95f132a21?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Morgan", "link": "https://stackoverflow.com/users/6433521/josh-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480545016, "creation_date": 1480544476, "last_edit_date": 1480545016, "question_id": 40899328, "link": "https://stackoverflow.com/questions/40899328/what-is-the-relationship-between-the-number-of-nodes-and-the-height-of-a-binary", "title": "What is the relationship between the number of nodes and the height of a binary search tree?", "body": "<p>I am new to coding, and all its glory. However, I have a project where I am supposed to find the relationship betweeen the number of nodes in a Binary Search Tree, and the height of the Binary Search Tree.</p>\n\n<p>I've seen where people said that N = 2^h (where N = number of nodes, and h = height of the Binary Search Tree), however with my Binary Search Tree, but that is not the case. </p>\n\n<p>P.S.: Here is my code to find the height of the BST</p>\n\n<pre><code>int findHeight(NodePtr node) {\n\nif (node == NULL)\n    return -1;\n\nelse\n    {\n\n    int lHeight = findHeight(node-&gt;left);\n    int rHeight = findHeight(node-&gt;right);\n\n    if (lHeight &gt; rHeight)\n        return(lHeight + 1);\n\n    else\n        return(rHeight + 1);\n    }\n}\n</code></pre>\n\n<p>Any answers would be great. Thanks</p>\n"}, {"tags": ["c++", "c++11", "polymorphism", "iostream"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1480544774, "post_id": 40899286, "comment_id": 69012474, "body": "The right way to do it is to implement a class derived from <code>std::streambuf</code>, then simply wrap an <code>ostream</code> around it. Let the <code>ostream</code> deal with formatting; <code>streambuf</code> is a lower-level interface, working with a stream of bytes. See how, for example, <code>std::basic_ofstream</code> doesn&#39;t re-implement any <code>operator&lt;&lt;</code>; it just constructs its base class with an instance of <code>std::basic_filebuf</code>. The latter does all the file-specific work."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1480545073, "post_id": 40899286, "comment_id": 69012634, "body": "The return type of the <code>operator&lt;&lt;</code> function needs to be <code>BiStream &amp;</code>."}], "owner": {"reputation": 193, "user_id": 3476835, "user_type": "registered", "profile_image": "https://graph.facebook.com/752856165/picture?type=large", "display_name": "Nigel Overmars", "link": "https://stackoverflow.com/users/3476835/nigel-overmars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1480545175, "answer_count": 0, "score": 0, "last_activity_date": 1480545222, "creation_date": 1480544325, "last_edit_date": 1480545222, "question_id": 40899286, "link": "https://stackoverflow.com/questions/40899286/writing-formatted-output-to-two-files-at-the-same-time", "closed_reason": "Duplicate", "title": "Writing formatted output to two files at the same time", "body": "<p>For an assignment I have to write a class that offers the same facilities as ostream, but outputs to two files at the same time.</p>\n\n<p>Currently I have the following code (in-class implementations for brevity):</p>\n\n<pre><code>#ifndef BISTREAM_H_\n#define BISTREAM_H_\n\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nclass BiStream : public std::ostream\n{\n    std::ofstream d_firstFile;\n    std::ofstream d_secondFile;\n    public:\n        BiStream(std::ofstream&amp; one, std::ofstream&amp; two)\n        :\n            d_firstFile(std::move(one)),\n            d_secondFile(std::move(two)) \n        {}\n        friend BiStream&amp; operator&lt;&lt;(BiStream&amp; out, char const *txt)\n        {\n            out.d_firstFile &lt;&lt; txt;\n            out.d_secondFile &lt;&lt; txt;\n            return out;\n        }\n};\n#endif\n</code></pre>\n\n<p>Then I can use this in the following way:</p>\n\n<pre><code>#include \"bistream.h\"\n\nusing namespace std;\n\nint main()\n{\n    ofstream one(\"one\");\n    ofstream two(\"two\");\n\n    BiStream ms(one, two);\n\n    ms &lt;&lt; \"Hello World\" &lt;&lt; endl;    // Write to files and flush stream\n}\n</code></pre>\n\n<p>If I run the resulting program, it correctly prints \"Hello World\" to both files, but no newline is added to either files.</p>\n\n<p>Furthermore, statements like (after including iomanip of course)</p>\n\n<pre><code>ms &lt;&lt; std::hex &lt;&lt; 5 &lt;&lt; '\\n';\n</code></pre>\n\n<p>results in no text printed in the files. As a last example:</p>\n\n<pre><code>ms &lt;&lt; \"test\" &lt;&lt;\"Hello World\" &lt;&lt; endl;  \n</code></pre>\n\n<p>Only prints \"test\" to the files. This all implies that my overload insertion operator only writes the first argument to the file...</p>\n\n<p>What is the best way to approach this problem? The exercise hints at a second class that inherits from std::streambuf, but std::streambuf is something that I don't understand and searching for explanations on the internet hasn't made it any clearer.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "c++11", "c++17", "c++-standard-library", "boost-filesystem"], "answers": [{"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1480583847, "post_id": 40901816, "comment_id": 69025796, "body": "I&#39;m not really finding an explanation at the link for why use &amp; at all as an escape character, that seems very weird to me. But thanks."}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 1, "creation_date": 1480583922, "post_id": 40901816, "comment_id": 69025833, "body": "@einpoklum The Boost folk had used <code>&amp;</code> for a long time, I don&#39;t know why they chose it, it&#39;s unlikely they will change it. The standard folk want to make it consistent across all library."}, {"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 0, "creation_date": 1485455290, "post_id": 40901816, "comment_id": 70942936, "body": "&quot;It is likely the only one difference between them.&quot; This is far from correct."}], "tags": [], "owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "is_accepted": false, "score": 7, "last_activity_date": 1505807827, "last_edit_date": 1505807827, "creation_date": 1480560577, "answer_id": 40901816, "question_id": 40899267, "link": "https://stackoverflow.com/questions/40899267/how-similar-are-boost-filesystem-and-the-c-standard-filesystem-library/40901816#40901816", "title": "How similar are Boost.Filesystem and the C++ standard filesystem library?", "body": "<p><strong>Caveat:</strong> This answer does not reflect several last-minute changes before C++17 was finalized. See @DavisHerring's answer.</p>\n\n<hr>\n\n<p>The Boost filesystem inserter and extractor use <code>&amp;</code> as the escape character for <code>\"</code> and <code>&amp;</code>.</p>\n\n<p>The standard will use <a href=\"http://en.cppreference.com/w/cpp/io/manip/quoted\" rel=\"nofollow noreferrer\"><code>std::quoted</code></a> (which uses <code>\\</code> by default) to escape <code>\"</code>, which in turn use <code>\\\\</code> to escape <code>\\</code>, see <a href=\"http://en.cppreference.com/w/cpp/filesystem/path/operator_ltltgtgt\" rel=\"nofollow noreferrer\">this reference</a>.</p>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/AVEb1HBf4rUJQXaL\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>It is likely the only one difference between them.</p>\n\n<p>The reason for that difference can be found at <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3399.html\" rel=\"nofollow noreferrer\">N3399</a></p>\n"}, {"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1505731102, "post_id": 46271698, "comment_id": 79517126, "body": "Can you elaborate a bit beyond just linking? Also, have these changes not applied also to Boost filesystem?"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1505808603, "post_id": 46271698, "comment_id": 79552818, "body": "So, is Windows&#39; filesystem considered &quot;non-POSIX&quot; because of the drives and the backslashes? Or are we talking about something else?"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 1, "creation_date": 1505825930, "post_id": 46271698, "comment_id": 79564502, "body": "Windows &quot;is POSIX&quot; despite the drives (which actually have a POSIX analogy in <code>&#47;&#47;worms&#47;share&#47;foo</code>) and backslashes, but only because certain unusual things like ADS names are either ignored or hidden by the implementation.  (&quot;Non-POSIX&quot; includes things like &quot;has no relative paths&quot; or so.)"}, {"owner": {"reputation": 3560, "user_id": 1303846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3b47c80b3c9d6f9e37a88b2ca51e6a?s=128&d=identicon&r=PG", "display_name": "Remember Monica", "link": "https://stackoverflow.com/users/1303846/remember-monica"}, "edited": false, "score": 0, "creation_date": 1545390568, "post_id": 46271698, "comment_id": 94613947, "body": "C:\\ is a perfectly fine filename in POSIX, and I am reasonably sure windows can&#39;t handle that and many other POSIX filenames and features, so while it can be emulated, windows (the win32 subsystem) is certainly not POSIX."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 3560, "user_id": 1303846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3b47c80b3c9d6f9e37a88b2ca51e6a?s=128&d=identicon&r=PG", "display_name": "Remember Monica", "link": "https://stackoverflow.com/users/1303846/remember-monica"}, "edited": false, "score": 0, "creation_date": 1545401821, "post_id": 46271698, "comment_id": 94618996, "body": "@MarcLehmann: Sure, but how does that affect the statement that, for the purposes of file system <i>structure</i>, this interface considers it POSIX-like?"}, {"owner": {"reputation": 57058, "user_id": 476681, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/v9mVv.jpg?s=128&g=1", "display_name": "B\u0408\u043e\u0432\u0438\u045b", "link": "https://stackoverflow.com/users/476681/b%d0%88%d0%be%d0%b2%d0%b8%d1%9b"}, "edited": false, "score": 0, "creation_date": 1567503812, "post_id": 46271698, "comment_id": 101973222, "body": "List of differences is much longer. For example, function <code>copy_directory()</code> does not even exist in std::filesystem."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 57058, "user_id": 476681, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/v9mVv.jpg?s=128&g=1", "display_name": "B\u0408\u043e\u0432\u0438\u045b", "link": "https://stackoverflow.com/users/476681/b%d0%88%d0%be%d0%b2%d0%b8%d1%9b"}, "edited": false, "score": 0, "creation_date": 1569348597, "post_id": 46271698, "comment_id": 102565728, "body": "@B\u0408\u043e\u0432\u0438\u045b : It was changed into an overload of <code>create_directory</code> as the <a href=\"https://www.boost.org/doc/libs/1_71_0/libs/filesystem/doc/reference.html#copy_directory\" rel=\"nofollow noreferrer\">documentation</a> said it should be.  I don\u2019t know if that warrants specific attention or not."}], "tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": true, "score": 20, "last_activity_date": 1508852599, "last_edit_date": 1508852599, "creation_date": 1505709614, "answer_id": 46271698, "question_id": 40899267, "link": "https://stackoverflow.com/questions/40899267/how-similar-are-boost-filesystem-and-the-c-standard-filesystem-library/46271698#46271698", "title": "How similar are Boost.Filesystem and the C++ standard filesystem library?", "body": "<p>There are a number of differences.  Some were, I believe, Boost changes that were never propagated.  For example, there is no <code>path.filename_is_dot()</code> query (as discussed below, it would be less useful in <code>std::filesystem</code> anyway).</p>\n\n<p>There was also a good bit of late-breaking news on this front:</p>\n\n<ol>\n<li>Support for <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0430r2.pdf\" rel=\"noreferrer\">non-POSIX-like filesystems</a>:\n\n<ul>\n<li>Specify whether a string is OS-native or POSIX-like (or let the implementation decide, which is (still) the default)</li>\n<li>An implementation may define additional file types (beyond regular, directory, socket, <em>etc.</em>)</li>\n<li>An implementation may define <code>file_size</code> for a directory or device file</li>\n</ul></li>\n<li><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0492r2.html\" rel=\"noreferrer\"><code>filename()</code>, normalization, and relative/absolute conversions redefined</a> (examples for POSIX):\n\n<ul>\n<li><code>path(\"foo/.\").lexically_normal()==\"foo/\"</code> (is the opposite in Boost)</li>\n<li><code>path(\"foo/\").filename()==\"\"</code> (is <code>path(\".\")</code> in Boost)</li>\n<li><code>remove_filename()</code> leaves the trailing slash and is thus idempotent (it assigns <code>parent_path()</code> in Boost)</li>\n<li><code>path(\".profile\").extension()==\"\"</code> (is the whole name in Boost)</li>\n<li><code>path</code> decompositions and combinations can preserve things like <a href=\"https://en.wikipedia.org/wiki/NTFS#Alternate_data_streams_.28ADS.29\" rel=\"noreferrer\">alternate data stream names</a> that are normally invisible</li>\n<li><code>path(\"foo\")/\"/bar\"==\"/bar\"</code> (is <code>path(\"foo/bar\")</code> in Boost), which allows composing relative file names with others (absolute or relative) and replaces Boost's <code>absolute()</code></li>\n<li>Boost's <code>system_complete()</code> (which takes only one argument) is renamed to <code>absolute()</code></li>\n<li><code>canonical()</code> thus takes only one argument (fixed in a <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0699r0.html#2956\" rel=\"noreferrer\">DR</a>)</li>\n<li><code>lexically_relative()</code> handles <code>..</code> and root elements correctly</li>\n<li><code>permissions()</code> takes more arguments (Boost combines them into a bitmask)</li>\n</ul></li>\n</ol>\n\n<p>Note that Boost.Filesystem v4 is <a href=\"https://github.com/boostorg/filesystem/commits/v4\" rel=\"noreferrer\">under development</a> and is supposed to be C++17-compatible (but therefore incompatible in many respects with v3).</p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5840, "favorite_count": 6, "accepted_answer_id": 46271698, "answer_count": 2, "score": 29, "last_activity_date": 1586619640, "creation_date": 1480544245, "last_edit_date": 1586619640, "question_id": 40899267, "link": "https://stackoverflow.com/questions/40899267/how-similar-are-boost-filesystem-and-the-c-standard-filesystem-library", "title": "How similar are Boost.Filesystem and the C++ standard filesystem library?", "body": "<p>I need a filesystem library for use with a C++11-capable compiler or a C++14-capable one - so it can't be be  from C++17. </p>\n\n<p>Now, I know  that the filesystem library going into C++17 is based based on Boost::Filesystem; but - are they similar enough for me to use the Boost library and then seamlessly switch to the standard version at a later time, without changing more than, say, a <code>using</code> statement? Or are there (minor/significant) differences between the two? I know that for the case of <code>variant</code>, the Boost and the standard library versions differ quite a bit.</p>\n"}, {"tags": ["c++", "arrays", "math", "logic", "processing-efficiency"], "comments": [{"owner": {"reputation": 543, "user_id": 2751338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ce5ca563d190132ed3a654d33593dc?s=128&d=identicon&r=PG&f=1", "display_name": "albe", "link": "https://stackoverflow.com/users/2751338/albe"}, "edited": false, "score": 0, "creation_date": 1480546438, "post_id": 40899237, "comment_id": 69013240, "body": "I don&#39;t know where you get your numbers but this could be fairly simple. Just create an empty [2][400] array and pass it with the starting point to a function. Remove the starting point in that function and add it to your array. There are 4 possible touching elements. For each that have the value call the function recursively."}], "answers": [{"tags": [], "owner": {"reputation": 1359, "user_id": 3975247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/d1W25.jpg?s=128&g=1", "display_name": "GA1", "link": "https://stackoverflow.com/users/3975247/ga1"}, "is_accepted": false, "score": 0, "last_activity_date": 1483009008, "creation_date": 1483009008, "answer_id": 41378285, "question_id": 40899237, "link": "https://stackoverflow.com/questions/40899237/logic-math-puzzle-help-me-solving-this-c/41378285#41378285", "title": "Logic Math Puzzle - Help me solving this - C++", "body": "<p>It can be done with nearly linear time if you use Union Find algorithm.\nHave a look at this:\n<a href=\"http://algs4.cs.princeton.edu/15uf/UF.java.html\" rel=\"nofollow noreferrer\">http://algs4.cs.princeton.edu/15uf/UF.java.html</a></p>\n"}], "owner": {"reputation": 29, "user_id": 7121902, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8c20c06badc7c12fd2934e12e3c30c1c?s=128&d=identicon&r=PG&f=1", "display_name": "westernCiv", "link": "https://stackoverflow.com/users/7121902/westernciv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1483009008, "creation_date": 1480544116, "question_id": 40899237, "link": "https://stackoverflow.com/questions/40899237/logic-math-puzzle-help-me-solving-this-c", "title": "Logic Math Puzzle - Help me solving this - C++", "body": "<p>I have following C++ array: <code>int arr[20][20]</code> filled with numbers from 1 to 5</p>\n\n<p>A specific element, for example arr[5][8] is set as start point</p>\n\n<p>I have to find all elements in the array, that have the same value and that are \"touching\" (vert/horiz) the start point</p>\n\n<p>I could search through the array with three for loops, but this would result in 20*20+20*2=1600 deplacements through the array</p>\n\n<p>I hope I explained the problem well enough for you to understand</p>\n\n<p>i.stack.imgur.com/j3e0e.jpg</p>\n\n<p>All red marked elements should be found</p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 1, "creation_date": 1480544208, "post_id": 40899218, "comment_id": 69012246, "body": "You can, but it would overflow your stack. Why do you want to do this?"}, {"owner": {"reputation": 9, "user_id": 6321499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d86789008b821c5d7114d5afd480bbc?s=128&d=identicon&r=PG&f=1", "display_name": "nag", "link": "https://stackoverflow.com/users/6321499/nag"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1480544256, "post_id": 40899218, "comment_id": 69012267, "body": "No, I meant not in the way I showed. Just any way to do parallel recursion like in OCaml"}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1480544324, "post_id": 40899218, "comment_id": 69012288, "body": "Can you explain what you mean by parallel recursion? I don&#39;t know OCaml and &quot;parallel recursion ocaml&quot; doesn&#39;t produce relevant results."}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 0, "creation_date": 1480544414, "post_id": 40899218, "comment_id": 69012330, "body": "<i>&quot;No, I meant not in the way I showed.&quot;</i> - then why did you show it? :)"}, {"owner": {"reputation": 9, "user_id": 6321499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d86789008b821c5d7114d5afd480bbc?s=128&d=identicon&r=PG&f=1", "display_name": "nag", "link": "https://stackoverflow.com/users/6321499/nag"}, "edited": false, "score": 0, "creation_date": 1480544415, "post_id": 40899218, "comment_id": 69012331, "body": "In OCaml there is the way to write  &quot;let rec f x = \u2026 and g x = \u2026&quot; and both of the functions can call each other"}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1480544496, "post_id": 40899218, "comment_id": 69012363, "body": "Yes, you can call <code>b</code> from <code>a</code> and <code>a</code> from <code>b</code> in C++, provided that both functions are declared first."}, {"owner": {"reputation": 9, "user_id": 6321499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d86789008b821c5d7114d5afd480bbc?s=128&d=identicon&r=PG&f=1", "display_name": "nag", "link": "https://stackoverflow.com/users/6321499/nag"}, "edited": false, "score": 0, "creation_date": 1480544581, "post_id": 40899218, "comment_id": 69012399, "body": "How could they be declared first at the same time?"}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 1, "creation_date": 1480544728, "post_id": 40899218, "comment_id": 69012452, "body": "<code>int a();</code> <code>int b();</code> will declare, but not define, both functions. the definitions can then refer to them"}, {"owner": {"reputation": 57265, "user_id": 821679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f564c4721ee3125fa835f6c3a5283c?s=128&d=identicon&r=PG", "display_name": "Jeffrey Scofield", "link": "https://stackoverflow.com/users/821679/jeffrey-scofield"}, "edited": false, "score": 4, "creation_date": 1480545891, "post_id": 40899218, "comment_id": 69013015, "body": "This is usually called <a href=\"https://en.wikipedia.org/wiki/Mutual_recursion\" rel=\"nofollow noreferrer\">&quot;mutual recursion&quot;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 59630, "user_id": 636019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba39c7ba510ac2951c010c26afb6a6?s=128&d=identicon&r=PG", "display_name": "ildjarn", "link": "https://stackoverflow.com/users/636019/ildjarn"}, "edited": false, "score": 0, "creation_date": 1480546863, "post_id": 40899405, "comment_id": 69013399, "body": "Forward-declarations are needed here, headers are not. The two are orthogonal, and bringing up the latter just confuses things IMO."}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 59630, "user_id": 636019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba39c7ba510ac2951c010c26afb6a6?s=128&d=identicon&r=PG", "display_name": "ildjarn", "link": "https://stackoverflow.com/users/636019/ildjarn"}, "edited": false, "score": 0, "creation_date": 1480547211, "post_id": 40899405, "comment_id": 69013542, "body": "Headers are <i>heavily</i> tied to forward declaration"}, {"owner": {"reputation": 59630, "user_id": 636019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba39c7ba510ac2951c010c26afb6a6?s=128&d=identicon&r=PG", "display_name": "ildjarn", "link": "https://stackoverflow.com/users/636019/ildjarn"}, "edited": false, "score": 2, "creation_date": 1480547338, "post_id": 40899405, "comment_id": 69013603, "body": "If <code>a</code> and <code>b</code> are defined in the same source file and used only in that source file, I would forward-declare them in said source-file. Headers are utterly unrelated."}], "tags": [], "owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "is_accepted": false, "score": 2, "last_activity_date": 1480555351, "last_edit_date": 1480555351, "creation_date": 1480544833, "answer_id": 40899405, "question_id": 40899218, "link": "https://stackoverflow.com/questions/40899218/two-or-more-recursive-functions-in-parallel/40899405#40899405", "title": "Two or more recursive functions in parallel?", "body": "<p>Yes, it is very simple</p>\n\n<pre><code>int b();\n\nint a() {\n    return b();\n}\n\nint b() {\n    return a();\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6321499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d86789008b821c5d7114d5afd480bbc?s=128&d=identicon&r=PG&f=1", "display_name": "nag", "link": "https://stackoverflow.com/users/6321499/nag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1480558896, "creation_date": 1480544067, "last_edit_date": 1480558896, "question_id": 40899218, "link": "https://stackoverflow.com/questions/40899218/two-or-more-recursive-functions-in-parallel", "title": "Two or more recursive functions in parallel?", "body": "<p>Is there any way to do smth like</p>\n\n<pre><code>int a() {\n    return b();\n}\n\nint b() {\n    return a();\n}\n</code></pre>\n\n<p>in C++?</p>\n\n<p>For example, it is possible in OCaml:</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 8, "creation_date": 1480543668, "post_id": 40899089, "comment_id": 69012016, "body": "Why not just use a <code>std::vector&lt;std::string&gt;&gt;</code>? Also, &quot;while (!theFile.eof())&quot; is not going to do what you want.."}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 1, "creation_date": 1480543724, "post_id": 40899089, "comment_id": 69012039, "body": "Use <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a> and forget about allocation."}, {"owner": {"reputation": 21, "user_id": 7062954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12088157642f6add0c5c4f3de57022fd?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/7062954/james"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1480543764, "post_id": 40899089, "comment_id": 69012056, "body": "@JesperJuhl I kind of want to know how to allocate arrays, too. My older brother told me that they allocate arrays all the time in college. :/"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1480543830, "post_id": 40899089, "comment_id": 69012089, "body": "To add to the above comments, a <code>std::vector&lt;std::string&gt;</code> is a &quot;string array&quot; which is allocated on the heap. So you would create a <code>std::vector&lt;std::string&gt; lineArr;</code> and for each new string you&#39;d do <code>lineArr.push_back(line)</code>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 4, "creation_date": 1480543838, "post_id": 40899089, "comment_id": 69012092, "body": "@James -- <code>std::vector</code> is how we &quot;allocate&quot; arrays in C++.  Whatever college you&#39;re referring to is teaching C++ as it was in the early 1990&#39;s, not as of how C++ stands today (and frankly for the past 18 years)."}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1480543941, "post_id": 40899089, "comment_id": 69012134, "body": "@James In modern C++ you try not to manually allocate arrays because it can lead to memory leaks (particularly in the cases of exceptions). So using a vector is (generally) better."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 3, "creation_date": 1480543967, "post_id": 40899089, "comment_id": 69012145, "body": "@James Then I&#39;d say those teaching at that college probably need to upgrade their knowledge to modern C++ and not stay stuck in the 90&#39;s.."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1480548528, "post_id": 40899089, "comment_id": 69013995, "body": "@James: You should get a code review. <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480550549, "post_id": 40899089, "comment_id": 69014648, "body": "Change your array capacity.  If the text file has 10,000 lines, then your array should have a capacity of 10,000; not 64.  That is assuming one string per text line."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480550633, "post_id": 40899089, "comment_id": 69014672, "body": "If you are not going to use <code>std::vector</code>, then you will have to do the following when you reach the capacity of the array: 1) allocate a new array of larger capacity; 2) Copy elements from old array to new array; 3) delete old array.  The <code>std::vector</code> already does this for you."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1480551466, "creation_date": 1480551466, "answer_id": 40900568, "question_id": 40899089, "link": "https://stackoverflow.com/questions/40899089/how-to-allocate-a-string-array-in-c/40900568#40900568", "title": "How to allocate a string array in C++?", "body": "<p>If you want to stay with dynamically allocated arrays, you will need to expand them dynamically.  </p>\n\n<pre><code>unsigned int lines_read = 0U;\nstd::string text_line;\nunsigned int capacity = 4U;\nstd::string * p_array = new std::string[capacity];\nwhile (std::getline(theFile, text_line))\n{\n  p_array[lines_read] = text_line;\n  ++lines_read;\n  if (lines_read &gt; capacity)\n  {\n     // Allocate new array with greater capacity.\n     unsigned int old_capacity = capacity;\n     capacity = capacity * 2U;\n     std::string p_new_array = new std::string[capacity];\n     std::copy(p_array, p_array + old_capacity, p_new_array);\n     delete [] p_array;\n     p_array = p_new_array;\n  }\n}\n</code></pre>\n\n<p>The <code>std::vector</code> performs similar memory management for you, so you don't have to do the above.</p>\n"}], "owner": {"reputation": 21, "user_id": 7062954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12088157642f6add0c5c4f3de57022fd?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/7062954/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 40900568, "answer_count": 1, "score": -1, "last_activity_date": 1480551466, "creation_date": 1480543485, "question_id": 40899089, "link": "https://stackoverflow.com/questions/40899089/how-to-allocate-a-string-array-in-c", "title": "How to allocate a string array in C++?", "body": "<p>I'm learning C++ and made myself a text file with over 10,000 lines. I'm trying to make a string array and insert the first line into the first array, the second line into the second array and so on. Here is what I've done so far:</p>\n\n<pre><code>ifstream theFile;\nstring inputFile;\ncin &gt;&gt; inputFile;\ntheFile.open(inputFile.c_str());\nconst unsigned int ARRAY_CAP = 64U;\n\nstring line;\nstring *lineArr = new string[ARRAY_CAP];\n\nif (theFile.is_open()) {\n    int lineNumber = 0;\n    while (!theFile.eof()) {\n        getline(theFile, line);\n        lineArr[i] = line;\n        i++;\n    }\n}\n</code></pre>\n\n<p>A friend of mine told me to allocate the string array because I'm running out of memory, but I'm not even sure how to do that. How could I be able to allocate the string array?</p>\n"}, {"tags": ["c++", "biginteger"], "comments": [{"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 4, "creation_date": 1480543287, "post_id": 40898991, "comment_id": 69011832, "body": "Efficiently? With difficulty."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1480561601, "post_id": 40898991, "comment_id": 69017400, "body": "you can reference the way they do here <a href=\"http://stackoverflow.com/q/25114597/995714\">How to print __int128 in g++?</a>, <a href=\"http://stackoverflow.com/q/11656241/995714\">how to print __uint128_t number using gcc?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 0, "creation_date": 1480602869, "post_id": 40901753, "comment_id": 69038729, "body": "Wow! A straightforward implementation of some of the math operators for a BigInteger. Very good."}], "tags": [], "owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "is_accepted": true, "score": 2, "last_activity_date": 1480560052, "creation_date": 1480560052, "answer_id": 40901753, "question_id": 40898991, "link": "https://stackoverflow.com/questions/40898991/how-to-convert-biginteger-to-string/40901753#40901753", "title": "How to convert Biginteger to string", "body": "<p>Here is an inefficient way to do what you want, get a decimal string from a vector of word values representing an integer of arbitrary size.</p>\n\n<p>I would have preferred to implement this as a class, for better encapsulation and so math operators could be added, but to better comply with the question, this is just a bunch of free functions for manipulating <code>std::vector&lt;unsigned&gt;</code> objects. This does use a typedef <code>BiType</code> as an alias for <code>std::vector&lt;unsigned&gt;</code> however.</p>\n\n<p>Functions for doing the binary division make up most of this code.  Much of it duplicates what can be done with <code>std::bitset</code>, but for bitsets of arbitrary size, as vectors of <code>unsigned</code> words.  If you want to improve efficiency, plug in a division algorithm which does per-word operations, instead of per-bit.  Also, the division code is general-purpose, when it is only ever used to divide by 10, so you could replace it with special-purpose division code.</p>\n\n<p>The code generally assumes a vector of <code>unsigned</code> words and also that the base is the maximum <code>unsigned</code> value, plus one.  I left a comment wherever things would go wrong for smaller bases or bases which are not a power of 2 (binary division requires base to be a power of 2).</p>\n\n<p>Also, I only tested for 1 case, the one you gave in the OP -- and this is new, unverified code, so you might want to do some more testing.  If you find a problem case, I'll be happy to fix the bug here.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nnamespace bigint {\nusing BiType = std::vector&lt;unsigned&gt;;\n\n// cmp compares a with b, returning 1:a&gt;b, 0:a==b, -1:a&lt;b\nint cmp(const BiType&amp; a, const BiType&amp; b) {\n    const auto max_size = std::max(a.size(), b.size());\n    for(auto i=max_size-1; i+1; --i) {\n        const auto wa = i &lt; a.size() ? a[i] : 0;\n        const auto wb = i &lt; b.size() ? b[i] : 0;\n        if(wa != wb) { return wa &gt; wb ? 1 : -1; }\n    }\n    return 0;\n}\n\nbool is_zero(BiType&amp; bi) {\n    for(auto w : bi) { if(w) return false; }\n    return true;\n}\n\n// canonize removes leading zero words\nvoid canonize(BiType&amp; bi) {\n    const auto size = bi.size();\n    if(!size || bi[size-1]) return;\n    for(auto i=size-2; i+1; --i) {\n        if(bi[i]) {\n            bi.resize(i + 1);\n            return;\n        }\n    }\n    bi.clear();\n}\n\n// subfrom subtracts b from a, modifying a\n// a &gt;= b must be guaranteed by caller\nvoid subfrom(BiType&amp; a, const BiType&amp; b) {\n    unsigned borrow = 0;\n    for(std::size_t i=0; i&lt;b.size(); ++i) {\n        if(b[i] || borrow) {\n            // TODO: handle error if i &gt;= a.size()\n            const auto w = a[i] - b[i] - borrow;\n            // this relies on the automatic w = w (mod base),\n            // assuming unsigned max is base-1\n            // if this is not the case, w must be set to w % base here\n            borrow = w &gt;= a[i];\n            a[i] = w;\n        }\n    }\n    for(auto i=b.size(); borrow; ++i) {\n        // TODO: handle error if i &gt;= a.size()\n        borrow = !a[i];\n        --a[i];\n        // a[i] must be set modulo base here too\n        // (this is automatic when base is unsigned max + 1)\n    }\n}\n\n// binary division and its helpers: these require base to be a power of 2\n// hi_bit_set is base/2\n// the definition assumes CHAR_BIT == 8\nconst auto hi_bit_set = unsigned(1) &lt;&lt; (sizeof(unsigned) * 8 - 1);  \n\n// shift_right_1 divides bi by 2, truncating any fraction\nvoid shift_right_1(BiType&amp; bi) {\n    unsigned carry = 0;\n    for(auto i=bi.size()-1; i+1; --i) {\n        const auto next_carry = (bi[i] &amp; 1) ? hi_bit_set : 0;\n        bi[i] &gt;&gt;= 1;\n        bi[i] |= carry;\n        carry = next_carry;\n    }\n    // if carry is nonzero here, 1/2 was truncated from the result\n    canonize(bi);\n}\n\n// shift_left_1 multiplies bi by 2\nvoid shift_left_1(BiType&amp; bi) {\n    unsigned carry = 0;\n    for(std::size_t i=0; i&lt;bi.size(); ++i) {\n        const unsigned next_carry = !!(bi[i] &amp; hi_bit_set);\n        bi[i] &lt;&lt;= 1; // assumes high bit is lost, i.e. base is unsigned max + 1\n        bi[i] |= carry;\n        carry = next_carry;\n    }\n    if(carry) { bi.push_back(1); }\n}\n\n// sets an indexed bit in bi, growing the vector when required\nvoid set_bit_at(BiType&amp; bi, std::size_t index, bool set=true) {\n    std::size_t widx = index / (sizeof(unsigned) * 8);\n    std::size_t bidx = index % (sizeof(unsigned) * 8);\n    if(bi.size() &lt; widx + 1) { bi.resize(widx + 1); }\n    if(set) { bi[widx] |= unsigned(1) &lt;&lt; bidx; }\n    else    { bi[widx] &amp;= ~(unsigned(1) &lt;&lt; bidx); }\n}\n\n// divide divides n by d, returning the result and leaving the remainder in n\n// this is implemented using binary division\nBiType divide(BiType&amp; n, BiType d) {\n    if(is_zero(d)) {\n        // TODO: handle divide by zero\n        return {};\n    }\n    std::size_t shift = 0;\n    while(cmp(n, d) == 1) { \n        shift_left_1(d);\n        ++shift;\n    }\n    BiType result;\n    do {\n        if(cmp(n, d) &gt;= 0) {\n            set_bit_at(result, shift);\n            subfrom(n, d);\n        }\n        shift_right_1(d);\n    } while(shift--);\n    canonize(result);\n    canonize(n);\n    return result;\n}\n\nstd::string get_decimal(BiType bi) {\n    std::string dec_string;\n\n    // repeat division by 10, using the remainder as a decimal digit\n    // this will build a string with digits in reverse order, so\n    // before returning, it will be reversed to correct this.\n    do {\n        const auto next_bi = divide(bi, {10});\n        const char digit_value = static_cast&lt;char&gt;(bi.size() ? bi[0] : 0);\n        dec_string.push_back('0' + digit_value);\n        bi = next_bi;\n    } while(!is_zero(bi));\n    std::reverse(dec_string.begin(), dec_string.end());\n    return dec_string;\n}\n\n}\n\nint main() {\n    bigint::BiType my_big_int = {453860625, 469837947, 3503557200, 40};\n    auto dec_string = bigint::get_decimal(my_big_int);\n    std::cout &lt;&lt; dec_string &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>3233755723588593872632005090577\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 6676796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f31747269dd31c4214c74d5833674f9?s=128&d=identicon&r=PG&f=1", "display_name": "Aver", "link": "https://stackoverflow.com/users/6676796/aver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 40901753, "answer_count": 1, "score": 1, "last_activity_date": 1480560052, "creation_date": 1480543167, "question_id": 40898991, "link": "https://stackoverflow.com/questions/40898991/how-to-convert-biginteger-to-string", "title": "How to convert Biginteger to string", "body": "<p>I have a vector with digits of number, vector represents big integer in system with base 2^32. For example:</p>\n\n<pre><code>vector &lt;unsigned&gt; vec = {453860625, 469837947, 3503557200, 40}\n</code></pre>\n\n<p>This vector represent this big integer:</p>\n\n<pre><code>base = 2 ^ 32\n3233755723588593872632005090577 = 40 * base ^ 3 + 3503557200 * base ^ 2 + 469837947 * base + 453860625\n</code></pre>\n\n<p>How to get this decimal representation in string?</p>\n"}, {"tags": ["c++", "openssl"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1480542454, "post_id": 40898763, "comment_id": 69011419, "body": "Why separate contexts?"}, {"owner": {"reputation": 11, "user_id": 5248888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f62601e68255a917031a6036b43fc8?s=128&d=identicon&r=PG", "display_name": "beetfarmer", "link": "https://stackoverflow.com/users/5248888/beetfarmer"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1480542873, "post_id": 40898763, "comment_id": 69011640, "body": "I have multiple endpoints with different sni values.  Can you safely share contexts simultaneously with multiple sockets?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1480544196, "post_id": 40898763, "comment_id": 69012241, "body": "Certainly, why not? Holding common trust and key material is exactly what the SSL context is for."}, {"owner": {"reputation": 11, "user_id": 5248888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f62601e68255a917031a6036b43fc8?s=128&d=identicon&r=PG", "display_name": "beetfarmer", "link": "https://stackoverflow.com/users/5248888/beetfarmer"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1480548636, "post_id": 40898763, "comment_id": 69014043, "body": "great .. I&#39;m 98% sure that that does the trick.  I need some more testing to be certain."}], "answers": [{"tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 0, "last_activity_date": 1480548724, "creation_date": 1480548724, "answer_id": 40900169, "question_id": 40898763, "link": "https://stackoverflow.com/questions/40898763/can-i-reuse-an-openssl-x509store-between-separate-ssl-contexts/40900169#40900169", "title": "Can I reuse an openssl x509store between separate ssl contexts?", "body": "<blockquote>\n  <p>Can I reuse an openssl x509store between separate ssl contexts?</p>\n</blockquote>\n\n<p>You should reuse the same SSL Context if you have shared trust and key material. That's what it's for.</p>\n"}], "owner": {"reputation": 11, "user_id": 5248888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f62601e68255a917031a6036b43fc8?s=128&d=identicon&r=PG", "display_name": "beetfarmer", "link": "https://stackoverflow.com/users/5248888/beetfarmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480548724, "creation_date": 1480542163, "question_id": 40898763, "link": "https://stackoverflow.com/questions/40898763/can-i-reuse-an-openssl-x509store-between-separate-ssl-contexts", "title": "Can I reuse an openssl x509store between separate ssl contexts?", "body": "<p>I have a c++ application that creates several http clients to different endpoints using OpenSSL. During setup of the ssl context, I'm loading a Mozilla pem file into a single X509STORE object. </p>\n\n<pre><code>X509_STORE* thestore = globalstuffs::getInstance().x509store;\nSSL_CTX_set_cert_store(sslctx_-&gt;native_handle(), thestore);\n</code></pre>\n\n<p>My thinking was to do this instead of loading from a file to save time going to disk each time with <code>sslctx_-&gt;load_verify_file(file);</code> or <code>sslctx_-&gt;set_default_verify_paths();</code></p>\n\n<p>There's no issue with a single client, but when I have more than one, during teardown of the ssl context on the second I get a fault in CRYPTO_free. The call stack shows X509_STORE_free down the line so I'm assuming it's an issue with using the same store. Is there a solution to this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1480542243, "post_id": 40898674, "comment_id": 69011318, "body": "Do you mean <a href=\"https://godbolt.org/g/mMuQhl\" rel=\"nofollow noreferrer\">something like this</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": true, "score": 7, "last_activity_date": 1480541886, "last_edit_date": 1480541886, "creation_date": 1480541792, "answer_id": 40898686, "question_id": 40898674, "link": "https://stackoverflow.com/questions/40898674/best-way-to-declare-array-size-in-c/40898686#40898686", "title": "Best way to declare array size in C++", "body": "<p>Yeah.  Use <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"noreferrer\"><code>std::vector</code></a> and never look back.</p>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1480541999, "creation_date": 1480541999, "answer_id": 40898722, "question_id": 40898674, "link": "https://stackoverflow.com/questions/40898674/best-way-to-declare-array-size-in-c/40898722#40898722", "title": "Best way to declare array size in C++", "body": "<p>A good method to declare an array size is to use a constant:  </p>\n\n<pre><code>const unsigned int ARRAY_CAPACITY = 64U;\nunsigned int my_array[ARRAY_CAPACITY];\n</code></pre>\n\n<p>For a dynamic array, use <code>std::vector</code>.  </p>\n\n<p>You could do all the memory management yourself instead:  </p>\n\n<pre><code>unsigned int * p_array_start = new int[ARRAY_CAPACITY];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1480542056, "creation_date": 1480542056, "answer_id": 40898740, "question_id": 40898674, "link": "https://stackoverflow.com/questions/40898674/best-way-to-declare-array-size-in-c/40898740#40898740", "title": "Best way to declare array size in C++", "body": "<p>Instead of using an unspecified raw array use a <code>std::vector</code> like that:</p>\n\n<pre><code> std::vector&lt;string&gt; lineArr;\n</code></pre>\n\n<p>The <code>std::vector</code> grows memory allocation as necessary, if you add to it using the <code>std::vector::push_back()</code> or <code>std::vector::insert()</code> functions.</p>\n"}], "owner": {"reputation": 43, "user_id": 7017728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b0a10d2851c66ddb07bee42aeffac?s=128&d=identicon&r=PG&f=1", "display_name": "Jack S", "link": "https://stackoverflow.com/users/7017728/jack-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 40898686, "answer_count": 3, "score": -1, "last_activity_date": 1480542056, "creation_date": 1480541741, "question_id": 40898674, "link": "https://stackoverflow.com/questions/40898674/best-way-to-declare-array-size-in-c", "title": "Best way to declare array size in C++", "body": "<p>What is the best way to declare an array size in C++?</p>\n\n<p>Maybe something that grows dynamically?</p>\n\n<pre><code>string lineArr[];\n</code></pre>\n\n<p>I know without putting declaring an array size, the code above outputs an error, but is there a way to make it dynamic?</p>\n"}, {"tags": ["c++", "c++11", "pointers"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1480541723, "post_id": 40898648, "comment_id": 69011060, "body": "Sounds like <code>this</code> is null."}, {"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 1, "creation_date": 1480541796, "post_id": 40898648, "comment_id": 69011106, "body": "&#39;this&#39; is not null.  Note the error message, and the fact that the rest of the code works."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1480541800, "post_id": 40898648, "comment_id": 69011111, "body": "Names starting with underscore-capital are reserved for the implementation; don&#39;t use such names."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1480541809, "post_id": 40898648, "comment_id": 69011120, "body": "@KerrekSB: You missed the <code>_Target = sound;</code> line."}, {"owner": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 2, "creation_date": 1480541827, "post_id": 40898648, "comment_id": 69011127, "body": "Most likely, your <code>sound</code> pointer is not being initialized. Just because it isn&#39;t pointing at something of interest doesn&#39;t mean it is automatically <code>nullptr</code>"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1480541830, "post_id": 40898648, "comment_id": 69011131, "body": "@user2357112: I sure did!"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1480541944, "post_id": 40898648, "comment_id": 69011191, "body": "Are you compiling in release mode?"}], "answers": [{"comments": [{"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480542391, "post_id": 40898725, "comment_id": 69011381, "body": "The pointer is valid, I can even call other functions on it.  See my edits."}, {"owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "reply_to_user": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480542707, "post_id": 40898725, "comment_id": 69011555, "body": "Do those functions access <code>CSound</code> fields? if not, they don&#39;t access illegal addresses, hence complete successfully. But a debugger would immediately clear this point: is <code>_Target</code> pointing to 0x14 as the error message says or not? If it does now but didn&#39;t earlier, some other code is overriding it. Maybe try reverse debugging (which is a cool feature I never had a chance to try...)."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480542742, "post_id": 40898725, "comment_id": 69011577, "body": "@A.R.: You cannot <i>check</i> for undefined behaviour from within the program. You have to <i>prove</i> that your behaviour is well-defined from logical reasoning about your code."}, {"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480542853, "post_id": 40898725, "comment_id": 69011631, "body": "Yes, both functions access fields within CSound.  _Target is a valid pointer, pointing to a real memory location.  Nothing is overriding it between calls to Play() and Stop()"}, {"owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "reply_to_user": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480542971, "post_id": 40898725, "comment_id": 69011686, "body": "@A.R. your second edit raises another option: maybe the virtual pointer of  <code>_Target</code> was overrun and set to 0 (did you <code>memset</code> the object?), and the 0x14 is the offset of the vtable entry. The call to <code>Play</code> may have worked because the compiler was able to avoid going through the vtable."}, {"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480543032, "post_id": 40898725, "comment_id": 69011714, "body": "@eran :what might cause something like that to happen?"}, {"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1480543060, "post_id": 40898725, "comment_id": 69011735, "body": "@Kerrek SB: See eran&#39;s comment for an example of useful feedback."}, {"owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "edited": false, "score": 0, "creation_date": 1480543310, "post_id": 40898725, "comment_id": 69011845, "body": "One possible reason is trying to initialize an object using memset, which zeros its fields but also the vpointer. Another reason is some memory corruption. Take a look at the vpointer (quick and dirty: <code>*(int*)_Target</code>). Is it 0? If so, you&#39;ll have to work your way back and find when that zero was set."}, {"owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 1, "creation_date": 1480543858, "post_id": 40898725, "comment_id": 69012099, "body": "@eran:  Bingo!  The original sound was coming from an array that I was setting up with calloc, instead of just &#39;new CSound[count]&#39;.  Using the second version has solved the problem :)  Thanks for actually taking the time to help with the issue instead of insisting that my analysis was incorrect.  I was able to learn something new because of it, and will be able to help others in the future.  If you write up an answer I will mark it as correct."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "edited": false, "score": 0, "creation_date": 1480546508, "post_id": 40898725, "comment_id": 69013271, "body": "@A.R.: Tools like ASAN and Valgrind are quite useful for analysing invalid accesses like this."}], "tags": [], "owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "is_accepted": true, "score": 3, "last_activity_date": 1480544613, "last_edit_date": 1480544613, "creation_date": 1480542008, "answer_id": 40898725, "question_id": 40898648, "link": "https://stackoverflow.com/questions/40898648/bizzare-nullref-in-c/40898725#40898725", "title": "Bizzare nullref in C++", "body": "<p>Reading location <code>0x00000014</code> implies you're trying to access a field located 0x14 bytes from the beginning of an object. The pointer to that object is set to null. So the problem is in the caller of your function: it passes a bad pointer to <code>sound</code>, which is neither null nor valid. This is why the null check in your function passes (0x14 isn't null), but you still crash.</p>\n\n<p>Update:\nThe second edit to the question indicates the problem is in calling a virtual function. The null here is the virtual pointer then, and 0x14 is the offset of the <code>Stop</code> virtual function. The virtual pointer is set (in code generated by the compiler) during object construction, and should never point to 0. If it does, some part of the program is corrupting the object. An easy to detect case would be an attempt to reset the object, but memory corruptions (e.g., out-of-bound write to an array) could also cause this issue.</p>\n"}], "owner": {"reputation": 14165, "user_id": 472614, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d46aadd2d340d02ee82c8a30a0ca213?s=128&d=identicon&r=PG", "display_name": "A.R.", "link": "https://stackoverflow.com/users/472614/a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 40898725, "answer_count": 1, "score": 0, "last_activity_date": 1480544613, "creation_date": 1480541649, "last_edit_date": 1480542612, "question_id": 40898648, "link": "https://stackoverflow.com/questions/40898648/bizzare-nullref-in-c", "title": "Bizzare nullref in C++", "body": "<p>I have a small piece of C++ code that is making me insane.  Whenever it runs, it throws a null reference exception in a very unexpected place.</p>\n\n<pre><code>void CSoundHandle::SetTarget(CSound* sound)\n{\n  assert(_Target == nullptr);\n  if (sound == nullptr) { return; }\n\n  _Target = sound;\n\n  // This works just fine.\n  _Target-&gt;Play();\n\n  // This is the code that throws the exception.  It doesn't seem possible, as\n  // we should not be able to get here if 'sound' is null.\n  _Target-&gt;Stop();\n}\n</code></pre>\n\n<p>So what the heck is going on?  The message in the output window is:</p>\n\n<pre><code>this-&gt;_Target-&gt; was nullptr.\n0xC0000005: Access violation reading location 0x00000014\n</code></pre>\n\n<p>I have confirmed in disassembly that it is not taking place inside of the Stop function as well.  How is this possible?</p>\n\n<p>EDIT:\nThe pointer for sound is indeed initialized, and 'this' and 'this->Target' are non-null.</p>\n\n<p>EDIT 2:\nI have somehow solved the problem by slightly changing the declaration of the Stop function:</p>\n\n<pre><code>// From this.\nvirtual void Stop();\n\n// To this.\nvoid Stop();\n</code></pre>\n\n<p>This seems especially odd since Play() is also virtual, but works without any trouble.  I can't say I've ever seen anything like this before.  There are no other functions named 'Stop' in the rest of the program, nor are there subclasses of CSound, so I'm a bit confused.</p>\n"}, {"tags": ["c++", "input"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1480541743, "post_id": 40898642, "comment_id": 69011077, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1480541763, "post_id": 40898642, "comment_id": 69011089, "body": "what input do you provide? If you enter anything else than 1 the programs ends as expected"}, {"owner": {"reputation": 1404, "user_id": 564553, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cca53f9b89c73e85539a7f599585c789?s=128&d=identicon&r=PG", "display_name": "BPS", "link": "https://stackoverflow.com/users/564553/bps"}, "edited": false, "score": 2, "creation_date": 1480542803, "post_id": 40898642, "comment_id": 69011607, "body": "What are you expecting this code to do?  I notice there&#39;s no loop in it."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1480553331, "post_id": 40898642, "comment_id": 69015426, "body": "As an aside, you can probably replace all your <code>addition</code>, <code>subtraction</code>, <code>multiplication</code>, and <code>division</code> variables with just three variables, <code>operand1</code>, <code>operand2</code>, and <code>operationResult</code>.  I would suggest initialising them with zero."}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 7116608, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7b4348cb1cc2d16ddd557311af382e4?s=128&d=identicon&r=PG&f=1", "display_name": "Capie", "link": "https://stackoverflow.com/users/7116608/capie"}, "is_accepted": false, "score": 0, "last_activity_date": 1480543484, "creation_date": 1480543484, "answer_id": 40899088, "question_id": 40898642, "link": "https://stackoverflow.com/questions/40898642/program-closes-after-user-input-no-reason-it-should/40899088#40899088", "title": "Program closes after user input, no reason it should", "body": "<p>Your code doesnt have any loop, what means, after enter the input , it shows the result and program finishes. If you want to stop your code somewhere (depends on the IDE, this solution is for VS) just type <code>system(\"pause\")</code>and you will see what your program shows on console. In case you are not on VS, add <code>#include &lt;cstdlib&gt;</code></p>\n\n<p>If you explain a bit more hat you expect your code to do we can help you  easier.</p>\n"}], "owner": {"reputation": 1, "user_id": 7233209, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BozlN5mlpYs/AAAAAAAAAAI/AAAAAAAAAAc/Qy5T2CMTFQs/photo.jpg?sz=128", "display_name": "Severe Narcissism", "link": "https://stackoverflow.com/users/7233209/severe-narcissism"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480543484, "creation_date": 1480541639, "question_id": 40898642, "link": "https://stackoverflow.com/questions/40898642/program-closes-after-user-input-no-reason-it-should", "title": "Program closes after user input, no reason it should", "body": "<p>sorry, I'm very new and have to hurry, so I just wanted to put this up. The code randomly ends after trying the first input (choosing what topic, algebra, basic mathematics, etc.) I've tried other sources, tried reformatting and still don't know what it is. I'm fairly new, so I assume it's just a stupid issue that I overlooked.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\n\nint main() {\n    int calculatorChoice, choiceMath1;\n    int addition1, addition2, additionSum;\n    int subtraction1, subtraction2, subtractionDifference;\n    int multiplication1, multiplication2, multiplicationProduct;\n    int division1, division2, divisionQuotient;\n    cout &lt;&lt; \"What would you like to figure out?\" &lt;&lt; endl;\n    cout &lt;&lt; \"\" &lt;&lt; endl;\n    cout &lt;&lt; \"[1]: Basic Mathematic Equations\" &lt;&lt; endl;\n    cout &lt;&lt; \"[2]: Figuring out a Grade\" &lt;&lt; endl;\n    cout &lt;&lt; \"[3]: Algebra\" &lt;&lt; endl;\n    cout &lt;&lt; \"[4]: Inquiry Sciences\" &lt;&lt; endl;\n    cout &lt;&lt; \"[5]: Unit Conversion\" &lt;&lt; endl;\n    cin &gt;&gt; calculatorChoice;\n    if (calculatorChoice == 1) {\n        cout &lt;&lt; \"What would you like to do?\" &lt;&lt; endl;\n        cout &lt;&lt; \"\" &lt;&lt; endl;\n        cout &lt;&lt; \"[1]: Addition\" &lt;&lt; endl;\n        cout &lt;&lt; \"[2]: Subtraction\" &lt;&lt; endl;\n        cout &lt;&lt; \"[3]: Multiplication\" &lt;&lt; endl;\n        cout &lt;&lt; \"[4]: Division\" &lt;&lt; endl;\n        cin &gt;&gt; choiceMath1;\n        if (choiceMath1 == 1) {\n            cout &lt;&lt; \"Choose your first number.\" &lt;&lt; endl;\n            cin &gt;&gt; addition1;\n            cout &lt;&lt; \"Choose your second number.\" &lt;&lt; endl;\n            cin &gt;&gt; addition2;\n            additionSum = addition1 + addition2;\n            cout &lt;&lt; \"The sum of \" &lt;&lt; addition1 &lt;&lt; \" and \" &lt;&lt; addition2 &lt;&lt; \" is \" &lt;&lt; additionSum &lt;&lt; \".\" &lt;&lt; endl;\n\n        }\n        else if (choiceMath1 == 2) {\n            cout &lt;&lt; \"Choose the first number.\" &lt;&lt; endl;\n            cin &gt;&gt; subtraction1;\n            cout &lt;&lt; \"Choose the second number.\" &lt;&lt; endl;\n            cin &gt;&gt; subtraction2;\n            subtractionDifference = subtraction1 - subtraction2;\n            cout &lt;&lt; \"The difference of \" &lt;&lt; subtraction1 &lt;&lt; \" and \" &lt;&lt; subtraction2 &lt;&lt; \" is \" &lt;&lt; subtractionDifference &lt;&lt; \".\" &lt;&lt; endl;\n        }\n        else if(choiceMath1 == 3) {\n            cout &lt;&lt; \"Choose the first number.\" &lt;&lt; endl;\n            cin &gt;&gt; multiplication1;\n            cout &lt;&lt; \"Choose the second number.\" &lt;&lt; endl;\n            cin &gt;&gt; multiplication2;\n            multiplicationProduct = multiplication1 * multiplication2;\n            cout &lt;&lt; \"The product of \" &lt;&lt; multiplication1 &lt;&lt; \" and \" &lt;&lt; multiplication2 &lt;&lt; \" is \" &lt;&lt; multiplicationProduct &lt;&lt; \".\" &lt;&lt; endl;\n        }\n        else if(choiceMath1 == 4) {\n            cout &lt;&lt; \"Choose the first number.\" &lt;&lt; endl;\n            cin &gt;&gt; division1;\n            cout &lt;&lt; \"Choose the second number.\" &lt;&lt; endl;\n            cin &gt;&gt; division2;\n            divisionQuotient = division1 / division2;\n            cout &lt;&lt; \"The quotient of \" &lt;&lt; division1 &lt;&lt; \" by \" &lt;&lt; division2 &lt;&lt; \" is \" &lt;&lt; divisionQuotient &lt;&lt; \".\" &lt;&lt; endl;\n        }\n        else {\n            cout &lt;&lt; \"That is not a choice.\" &lt;&lt; endl;\n        }\n    }\n    else {\n\n    }\n}\nvoid calculator() {\n\n}\n</code></pre>\n"}, {"tags": ["c++", "postgresql"], "comments": [{"owner": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480541801, "post_id": 40898633, "comment_id": 69011114, "body": "Sorry, removed the mysql tag"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "edited": false, "score": 0, "creation_date": 1480547648, "post_id": 40899609, "comment_id": 69013718, "body": "When do you do single quotes upon insertion vs double quotes? cid is an integer, subj is a string? Which type do we put single quotes around?"}, {"owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "reply_to_user": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "edited": false, "score": 0, "creation_date": 1480548026, "post_id": 40899609, "comment_id": 69013824, "body": "@user5943954 Double quotes is used to specify <a href=\"http://en.cppreference.com/w/cpp/language/string_literal\" rel=\"nofollow noreferrer\">C++ string literal</a>. Single quotes  required for a string value in SQL query."}, {"owner": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "edited": false, "score": 0, "creation_date": 1480550734, "post_id": 40899609, "comment_id": 69014707, "body": "Do you use the l.esc at the beginning of the last thing you submit?Like in this case, l.esc(subjValue)?"}, {"owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "reply_to_user": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "edited": false, "score": 0, "creation_date": 1480579161, "post_id": 40899609, "comment_id": 69023321, "body": "@user5943954 <a href=\"http://pqxx.org/devprojects/libpqxx/doc/3.1/html/Reference/a00196.html\" rel=\"nofollow noreferrer\"><code>esc</code></a> should be used for each string value in SQL query. Please read the documentation <a href=\"http://pqxx.org/devprojects/libpqxx/doc/3.1/html/Reference/a00196.html\" rel=\"nofollow noreferrer\">here</a> to get the details about this function."}], "tags": [], "owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "is_accepted": true, "score": 0, "last_activity_date": 1480545823, "creation_date": 1480545823, "answer_id": 40899609, "question_id": 40898633, "link": "https://stackoverflow.com/questions/40898633/how-do-you-insert-variables-into-a-database-table-using-postgresql-via-c/40899609#40899609", "title": "How do you insert variables into a database table using PostgreSQL via C++?", "body": "<p>Syntax of the used SQL <code>INSERT</code> query is incorrect. It should be:</p>\n\n<pre><code>INSERT INTO course (cid, subj) VALUES(1, 'subj');\n</code></pre>\n\n<p>You should specify table name together with columns to insert into and values after that. I reduced number of columns for simplicity. For a complete syntax of <code>INSERT</code> query check the <a href=\"https://www.postgresql.org/docs/9.5/static/sql-insert.html\" rel=\"nofollow noreferrer\">PostgreSQL documentation</a>.</p>\n\n<p>To insert values from your variables you can do the following:</p>\n\n<pre><code>int cidValue = 1;\nstd::string subjValue = \"subj\";\n\nl.exec(\"INSERT INTO course (cid, subj) VALUES(\" + std::to_string(cidValue) + \", '\" +  l.esc(subjValue)  + \"')\");\n</code></pre>\n\n<p><a href=\"http://pqxx.org/devprojects/libpqxx/doc/3.1/html/Reference/a00196.html\" rel=\"nofollow noreferrer\"><code>esc()</code></a> function helps to prevent SQL injection attack. </p>\n"}], "owner": {"reputation": 23, "user_id": 5943954, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716577048613876/picture?type=large", "display_name": "user5943954", "link": "https://stackoverflow.com/users/5943954/user5943954"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4689, "favorite_count": 0, "accepted_answer_id": 40899609, "answer_count": 1, "score": 0, "last_activity_date": 1502019719, "creation_date": 1480541623, "last_edit_date": 1502019719, "question_id": 40898633, "link": "https://stackoverflow.com/questions/40898633/how-do-you-insert-variables-into-a-database-table-using-postgresql-via-c", "title": "How do you insert variables into a database table using PostgreSQL via C++?", "body": "<p>I have a C++ program that inserts values into a database table. I can't directly hardcode the values in because the data is constantly being updated, but I'm really confused about the syntax.\nWhen I try to do this: </p>\n\n<pre><code>l.exec(\"INSERT INTO course VALUES(cid, term, 'subj',crse, sec, 'units', 'instructors');\");\n          l.exec(\"INSERT INTO meeting VALUES(cid, term, 'type', 'days', 'time', 'build', room);\");\n          l.exec(\"INSERT INTO enrolledin VALUES(cid, term, sid, 'major', 'classlevel', 'level', 'status', seat, numunits, 'grade');\");\n          l.exec(\"INSERT INTO student VALUES(sid, 'surname', 'prefname', 'email');\");\n\nI get this error: \nterminate called after throwing an instance of 'pqxx::undefined_column'\n  what():  ERROR:  column \"cid\" does not exist\nLINE 1: INSERT INTO course VALUES(cid, term, 'subj',crse, se...\n\n                              ^\nHINT:  There is a column named \"cid\" in table \"course\", but it cannot be referenced from this part of the query.\n</code></pre>\n\n<p>--\nI was told that it's because I was inserting the literal string name instead of the values inside the string, and I'm confused as to how to insert the values inside the string via C++ while still using variable names. </p>\n"}, {"tags": ["c++", "c", "performance"], "comments": [{"owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "edited": false, "score": 0, "creation_date": 1480542042, "post_id": 40898627, "comment_id": 69011233, "body": "It&#39;s better to use defines (<code>#define NUMBER_OF_WINDOWS 3</code>) rather than constants, as it&#39;s more obvious to the compiler to optimize the for loops per my answer."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1480543205, "post_id": 40898627, "comment_id": 69011796, "body": "If you really want to know, compile with <code>-S</code> and look at the assembly. And/or profile both sets of code. There are a lot of different choices the compiler can make depending on the code in <code>doSomething</code>."}, {"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1480554852, "post_id": 40898627, "comment_id": 69015785, "body": "&quot;Data set is ... not subject to change&quot;.  Until it does."}], "answers": [{"tags": [], "owner": {"reputation": 2704, "user_id": 6794772, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d8db2b0d48b6e1b25657fda9ec4ae02?s=128&d=identicon&r=PG&f=1", "display_name": "Dellowar", "link": "https://stackoverflow.com/users/6794772/dellowar"}, "is_accepted": true, "score": 8, "last_activity_date": 1480541851, "creation_date": 1480541851, "answer_id": 40898701, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40898701#40898701", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>The classic Efficiency vs Organization. The for loops are much more human readable and the manual way is more machine readable.</p>\n\n<p>I recommend you use the loops. Because the compiler, if optimizing is enabled, will actually generate the manual code for you when it sees that the upper bounds are constant. That way you get the best of both worlds.</p>\n"}, {"tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 2, "last_activity_date": 1480553191, "last_edit_date": 1480553191, "creation_date": 1480541904, "answer_id": 40898708, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40898708#40898708", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>First of all: How complex is your function <code>doSomething</code>? If it is (most likely this is so), then you will not notice any difference.</p>\n\n<p>In general, calling your function sequentially will be slightly more effective than the loop. But once again, the gain will be so tiny that it is not worth discussing it.</p>\n\n<p>Bear in mind that optimizing compilers do <code>loop unrolling</code>. This is essentially generating code that will rotate your loop smaller number of times while doing more work in each rotation (they will call your function 2-4 times in sequence). When the number of rotations is small and fixed compiler may easily eliminate the loop completely.</p>\n\n<p>Look at your code from the point of view of clarity and ease of modification. In many cases compiler will do a lot of useful tricks related to performance.</p>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1480545113, "creation_date": 1480545113, "answer_id": 40899472, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change/40899472#40899472", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>You may linearize your multi-dimensional array</p>\n\n<pre><code>paneState windowPanes[NUMBER_OF_WINDOWS * NUMBER_OF_PANES];\n\nand then\n\nfor (auto&amp; pane : windowPanes) {\n    doSomething(pane);\n}\n</code></pre>\n\n<p>Which avoid extra loop if compiler doesn't optimize it.</p>\n"}], "owner": {"reputation": 371, "user_id": 6923832, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ECOZvsHS5bQ/AAAAAAAAAAI/AAAAAAAAAPk/Y3G7W4TKuMQ/photo.jpg?sz=128", "display_name": "lyst", "link": "https://stackoverflow.com/users/6923832/lyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 40898701, "answer_count": 3, "score": 2, "last_activity_date": 1480553191, "creation_date": 1480541603, "last_edit_date": 1480544974, "question_id": 40898627, "link": "https://stackoverflow.com/questions/40898627/for-loop-or-no-loop-dataset-is-small-and-not-subject-to-change", "title": "For loop or no loop? (dataset is small and not subject to change)", "body": "<p>Let's say I have a situation where I have a matrix of a small, known size where the size is unlikely to change over the life of the software.  If I need to examine each matrix element, would it be more efficient to use a loop or to manually index into each matrix location?</p>\n\n<p>For example, let's say I have a system made up of 3 windows, 2 panes per window.  I need to keep track of state for each window pane.  In my system, there will only ever be 3 windows, 2 panes per window.</p>\n\n<pre><code>static const int NUMBER_OF_WINDOWS = 3;\nstatic const int NUMBER_OF_PANES = 2;\n\nstatic const int WINDOW_LEFT = 0;\nstatic const int WINDOW_MIDDLE = 1;\nstatic const int WINDOW_RIGHT = 2;\n\nstatic const int PANE_TOP = 0;\nstatic const int PANE_BOTTOM = 1;\n\npaneState windowPanes[NUMBER_OF_WINDOWS][NUMBER_OF_PANES];\n</code></pre>\n\n<p>Which of these accessing methods would be more efficient? </p>\n\n<p><strong>loop version:</strong></p>\n\n<pre><code>for (int ii=0; ii&lt;NUMBER_OF_WINDOWS; ii++)\n{\n  for (int jj=0; jj&lt;NUMBER_OF_PANES; jj++)\n  {\n    doSomething(windowPanes[ii][jj];\n  }\n}\n</code></pre>\n\n<p>vs. </p>\n\n<p><strong>manual access version:</strong></p>\n\n<pre><code>doSomething(windowPanes[WINDOW_LEFT][PANE_TOP]);\ndoSomething(windowPanes[WINDOW_MIDDLE][PANE_TOP]);\ndoSomething(windowPanes[WINDOW_RIGHT][PANE_TOP]);\n\ndoSomething(windowPanes[WINDOW_LEFT][PANE_BOTTOM]);\ndoSomething(windowPanes[WINDOW_MIDDLE][PANE_BOTTOM]);\ndoSomething(windowPanes[WINDOW_RIGHT][PANE_BOTTOM]);\n</code></pre>\n\n<p>Will the loop code generate branch instructions, and will those be more costly than the instructions that would be generated on the manual access?</p>\n"}, {"tags": ["c++", "bison", "flex-lexer", "reentrancy"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2844363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6235a8693fc2cf31d42d7f94369a46e3?s=128&d=identicon&r=PG", "display_name": "Ricky Zhang", "link": "https://stackoverflow.com/users/2844363/ricky-zhang"}, "edited": false, "score": 0, "creation_date": 1480541858, "post_id": 40898443, "comment_id": 69011143, "body": "Very good point! Do you mean the array itself is const or the element of array is const? I need to find a C++ reference to differentiate these."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 111, "user_id": 2844363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6235a8693fc2cf31d42d7f94369a46e3?s=128&d=identicon&r=PG", "display_name": "Ricky Zhang", "link": "https://stackoverflow.com/users/2844363/ricky-zhang"}, "edited": false, "score": 0, "creation_date": 1480542079, "post_id": 40898443, "comment_id": 69011248, "body": "C++ arrays (like C arrays) cannot be resized, so there is no difference between the array being const and the array&#39;s elements being const."}, {"owner": {"reputation": 111, "user_id": 2844363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6235a8693fc2cf31d42d7f94369a46e3?s=128&d=identicon&r=PG", "display_name": "Ricky Zhang", "link": "https://stackoverflow.com/users/2844363/ricky-zhang"}, "edited": false, "score": 0, "creation_date": 1480553119, "post_id": 40898443, "comment_id": 69015374, "body": "Thanks for your answer. I reviewed const chapter in C++ Primer. Living in Java world too long, I almost forgot this."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 1, "last_activity_date": 1483443988, "last_edit_date": 1483443988, "creation_date": 1480540933, "answer_id": 40898443, "question_id": 40898230, "link": "https://stackoverflow.com/questions/40898230/is-generated-c-bison-parser-re-entrant/40898443#40898443", "title": "Is generated C++ Bison parser re-entrant?", "body": "<p>Those are all <code>static <b>const</b></code> which is totally compatible with reentrancy. The tables define the parser's transition rules and are not fundamentally different from the parser's executable code, which is also static and immutable.</p>\n"}], "owner": {"reputation": 111, "user_id": 2844363, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6235a8693fc2cf31d42d7f94369a46e3?s=128&d=identicon&r=PG", "display_name": "Ricky Zhang", "link": "https://stackoverflow.com/users/2844363/ricky-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483443988, "creation_date": 1480540128, "question_id": 40898230, "link": "https://stackoverflow.com/questions/40898230/is-generated-c-bison-parser-re-entrant", "title": "Is generated C++ Bison parser re-entrant?", "body": "<p>I'm working on a hobby project that use flex/bison to generate C++ scanner/parser. Because there are gazillion number of the parsing objects. The parsing itself is embarrassingly parallel problem. I want to pool a couple of ready-to-run scanner/parser object and let them run in parallel.</p>\n\n<p>I read through Flex and Bison official document and skim through their generated codes.</p>\n\n<p>I can confirm that from Flex document and its code the generating C++ scanner is re-entrant. </p>\n\n<p>However, I have hard time to confirm this from Bison document. It does have document stating how to build an re-entrant C parser in Bison. But it doesn't explicitly imply if you build a C++ parser, it is re-entrant. I found a couple of static class member in Bison generated parser header file, which makes me concern on this matter:</p>\n\n<pre><code>// Tables.\n// YYPACT[STATE-NUM] -- Index in YYTABLE of the portion describing\n// STATE-NUM.\nstatic const short int yypact_[];\n\n// YYDEFACT[STATE-NUM] -- Default reduction number in state STATE-NUM.\n// Performed when YYTABLE does not specify something else to do.  Zero\n// means the default is an error.\nstatic const unsigned char yydefact_[];\n\n// YYPGOTO[NTERM-NUM].\nstatic const signed char yypgoto_[];\n\n// YYDEFGOTO[NTERM-NUM].\nstatic const signed char yydefgoto_[];\n\n// YYTABLE[YYPACT[STATE-NUM]] -- What to do in state STATE-NUM.  If\n// positive, shift that token.  If negative, reduce the rule whose\n// number is the opposite.  If YYTABLE_NINF, syntax error.\nstatic const short int yytable_[];\n\nstatic const short int yycheck_[];\n\n// YYSTOS[STATE-NUM] -- The (internal number of the) accessing\n// symbol of state STATE-NUM.\nstatic const unsigned char yystos_[];\n\n// YYR1[YYN] -- Symbol number of symbol that rule YYN derives.\nstatic const unsigned char yyr1_[];\n\n// YYR2[YYN] -- Number of symbols on the right hand side of rule YYN.\nstatic const unsigned char yyr2_[];\n</code></pre>\n\n<p>Is generated C++ Bison parser re-entrant?</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 0, "last_activity_date": 1480540977, "creation_date": 1480540977, "answer_id": 40898450, "question_id": 40898220, "link": "https://stackoverflow.com/questions/40898220/c-change-object-pointed-by-base-class-in-an-operator-oveloading-function-re/40898450#40898450", "title": "C++ - Change object pointed by base class (in an operator oveloading function returning reference to base class)", "body": "<p>No.  If you need to dynamically change types based on the activity of an override you need to process it through a return value.  So something like <code>ptr = --(*ptr)</code>, though I would not recommend keeping the <code>--</code> syntax as it won't follow the standard for that operator and will thus be confusing.</p>\n"}, {"tags": [], "owner": {"reputation": 20670, "user_id": 26039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15aacb48f4c894a6341e1013e9b5a42f?s=128&d=identicon&r=PG", "display_name": "eran", "link": "https://stackoverflow.com/users/26039/eran"}, "is_accepted": true, "score": 0, "last_activity_date": 1480540979, "creation_date": 1480540979, "answer_id": 40898451, "question_id": 40898220, "link": "https://stackoverflow.com/questions/40898220/c-change-object-pointed-by-base-class-in-an-operator-oveloading-function-re/40898451#40898451", "title": "C++ - Change object pointed by base class (in an operator oveloading function returning reference to base class)", "body": "<p>First, you're requirement is awkward, and the real answer is: rethink what you're trying to do.</p>\n\n<p>What you're basically asking for is a way for a member function to change <code>this</code> so that it points on another object (since you can't change an object's type). This is impossible.</p>\n\n<p>A slightly more reasonable solution is to avoid the direct use of polymorphism, and have the pointed object contain a field that will point to either <code>Sub1</code> or <code>Sub2</code>. Then, have that pointer object direct calls to that field. This way, you can change the effective type you're using without hitting language limitations. Note that the pointed object would not be an <code>Abs</code>, of course, but some other type.</p>\n"}, {"tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 0, "last_activity_date": 1480541007, "creation_date": 1480541007, "answer_id": 40898457, "question_id": 40898220, "link": "https://stackoverflow.com/questions/40898220/c-change-object-pointed-by-base-class-in-an-operator-oveloading-function-re/40898457#40898457", "title": "C++ - Change object pointed by base class (in an operator oveloading function returning reference to base class)", "body": "<p>No, this is not possible at all. In your sample you even do not have any instance of <code>Sub1</code> class.</p>\n\n<p>C++ allows casing to base class and with some caution to derived class. C++ does not allow to cast between derivation siblings.</p>\n"}], "owner": {"reputation": 365, "user_id": 4709659, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62bad1e21aec6a2a7ce3cc58e616af23?s=128&d=identicon&r=PG&f=1", "display_name": "adamm", "link": "https://stackoverflow.com/users/4709659/adamm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40898451, "answer_count": 3, "score": 0, "last_activity_date": 1480541007, "creation_date": 1480540095, "question_id": 40898220, "link": "https://stackoverflow.com/questions/40898220/c-change-object-pointed-by-base-class-in-an-operator-oveloading-function-re", "title": "C++ - Change object pointed by base class (in an operator oveloading function returning reference to base class)", "body": "<p>I have one abstract class</p>\n\n<pre><code>class Abs{\n    //...\n    public:\n    virtual Abs&amp; operator--() = 0;\n    virtual void print() = 0;\n};\n</code></pre>\n\n<p>and two subclasses</p>\n\n<pre><code>class Sub1: public Abs{\n    //...\n    public:\n    Abs&amp; operator--() {return *this} //this is just to prevent\n                     //Sub1 to become an abstract class\n    void print() {cout&lt;&lt;\"Sub1\"&lt;&lt;endl;}      \n};\n\nclass Sub2: public Abs{\n    //...\n    public:\n    Abs&amp; operator--() {...}          //here is an issue\n    void print() {cout&lt;&lt;\"Sub2\"&lt;&lt;endl;}\n};\n</code></pre>\n\n<p>Is it somehow possible to overload operator-- in Sub2 so that in main function ptr now pointing to an object of type Sub1?</p>\n\n<pre><code>int main()\n{\n    Abs* ptr;\n    Sub2 sub2;\n    ptr=&amp;sub2;\n\n    ptr-&gt;print(); //this should print \"Sub2\"\n\n    --(*ptr);\n\n    ptr-&gt;print(); //this should print \"Sub1\"\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "list", "time-complexity"], "comments": [{"owner": {"reputation": 3600, "user_id": 1444073, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wt1VD.jpg?s=128&g=1", "display_name": "theV0ID", "link": "https://stackoverflow.com/users/1444073/thev0id"}, "edited": false, "score": 0, "creation_date": 1480539820, "post_id": 40898124, "comment_id": 69010036, "body": "What&#39;s your question?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1480539822, "post_id": 40898124, "comment_id": 69010037, "body": "Why is your complexity linear?  I see no loop or recursion."}, {"owner": {"reputation": 19052, "user_id": 1364752, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mxlR2.jpg?s=128&g=1", "display_name": "Morwenn", "link": "https://stackoverflow.com/users/1364752/morwenn"}, "edited": false, "score": 0, "creation_date": 1480539996, "post_id": 40898124, "comment_id": 69010124, "body": "Well, that&#39;s expected if you store the size. <code>std::list::splice</code> is known to have the same kind of O(n) complexity problem, which is actually why Boost&#39;s <code>list::splice</code> has an overload which takes an additional <code>size</code> parameter to avoid the O(n) cost of <code>std::distance</code>. You could provide a similar overload to partially solve your problem."}, {"owner": {"reputation": 19052, "user_id": 1364752, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mxlR2.jpg?s=128&g=1", "display_name": "Morwenn", "link": "https://stackoverflow.com/users/1364752/morwenn"}, "edited": false, "score": 0, "creation_date": 1480540075, "post_id": 40898124, "comment_id": 69010163, "body": "You could also not store the size, but then your list&#39;s <code>size</code> complexity would become O(n). You&#39;ve got to make a choice, there is no silver bullet."}, {"owner": {"reputation": 468, "user_id": 5472765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Bwkh6.png?s=128&g=1", "display_name": "preneond", "link": "https://stackoverflow.com/users/5472765/preneond"}, "edited": false, "score": 0, "creation_date": 1480544673, "post_id": 40898124, "comment_id": 69012437, "body": "The problem is that split takes linear time equaled to length of the list and not the position where I&#39;m splitting. I want to accomplish that when list with length 50 or 500 000 get splitted after 10th element the time should be the same because I anly need to iterate to 10th element."}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 5472765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Bwkh6.png?s=128&g=1", "display_name": "preneond", "link": "https://stackoverflow.com/users/5472765/preneond"}, "is_accepted": true, "score": 1, "last_activity_date": 1480582143, "creation_date": 1480582143, "answer_id": 40906133, "question_id": 40898124, "link": "https://stackoverflow.com/questions/40898124/c-splitting-list-in-on-instead-of-o1/40906133#40906133", "title": "C++ Splitting list in O(n) instead of O(1)", "body": "<p>I found the problem. <code>std::pair</code> created copy of the two lists I was returning so that was what took the linear time. When I <code>std::move</code> lists to the pair, it runs in time equal where I'm splitting.</p>\n"}], "owner": {"reputation": 468, "user_id": 5472765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Bwkh6.png?s=128&g=1", "display_name": "preneond", "link": "https://stackoverflow.com/users/5472765/preneond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 40906133, "answer_count": 1, "score": 0, "last_activity_date": 1480582143, "creation_date": 1480539703, "question_id": 40898124, "link": "https://stackoverflow.com/questions/40898124/c-splitting-list-in-on-instead-of-o1", "title": "C++ Splitting list in O(n) instead of O(1)", "body": "<p>I am implementing list in c++ and I have problem with complexity of split method. Instead of constant time complexity, my complexity is linear( O(n)).Here is my code:</p>\n\n<pre><code>     /*\n        * Destructively splits the list into the two that are returned.\n        * The first list consists of elements formerly in the [begin, place) range.\n        * The second list consists of elements formerly in the [place, end) range.\n        */\n        std::pair&lt;list, list&gt; list::split(list::const_iterator place) {\n            list first_list{}, second_list{};\n            if (head == nullptr) {\n                return{ first_list, second_list };\n            }\n            if (head == place.current_ptr) {\n                swap(second_list);\n                return{ first_list, second_list };\n            }\n            if (place.current_ptr == nullptr) {\n                swap(first_list);\n                return{ first_list, second_list };\n            }\n            first_list.head = head;\n            first_list.num_elements = std::distance(cbegin(), place);\n            first_list.tail = place.current_ptr-&gt;prev;\n\n            second_list.head = place.current_ptr;\n            if (second_list.head == nullptr) {\n                second_list.tail = nullptr;\n        }\n        else\n        {\n            second_list.head-&gt;prev = nullptr;\n            second_list.tail = tail;\n        }\n        second_list.num_elements = num_elements - first_list.num_elements;\n        first_list.tail-&gt;next = nullptr;\n\n        tail = head = nullptr;\n        num_elements = 0;\n\n        return{ first_list, second_list };\n    }\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "iterator", "race-condition", "stdmap"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1480538824, "post_id": 40897854, "comment_id": 69009480, "body": "There may be internal state of the map that gets messed up doing both calls at the same time.  <code>size</code> comes to mind."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1480538953, "post_id": 40897854, "comment_id": 69009550, "body": "Since only const functions in the latest c++ standard are required to be thread safe, and std::map is not required to be thread safe, why would you not expect a race condition when calling non-const functions?"}], "answers": [{"tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": true, "score": 2, "last_activity_date": 1480540028, "last_edit_date": 1480540028, "creation_date": 1480539508, "answer_id": 40898083, "question_id": 40897854, "link": "https://stackoverflow.com/questions/40897854/threadsafety-vs-iterator-validity/40898083#40898083", "title": "threadsafety vs Iterator validity", "body": "<p>Comments are saying the right thing. I will combine them with your statement:</p>\n\n<p><strong><a href=\"http://en.cppreference.com/w/cpp/container/map/erase\" rel=\"nofollow noreferrer\"><code>std::map::erase</code></a> and <a href=\"http://en.cppreference.com/w/cpp/container/map/insert\" rel=\"nofollow noreferrer\"><code>std::map::insert</code></a> keep all iterators of the map valid</strong> only if they are executed sequentially.</p>\n\n<p>If they are executed in parallel, one thread (when it starts its work) may face a partially modified object (the other thread is working on it). The result of action on a partially modified object is undefined. This is the source of the problem.</p>\n\n<p>If you synchronize access to your object with say <code>mutex</code> everything will work fine. Containers do not have built in synchronization because this would significantly slow down their work while this is needed only sometimes.</p>\n"}], "owner": {"reputation": 3685, "user_id": 695652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/28c0373a80df43009aefb657d30c6fa8?s=128&d=identicon&r=PG", "display_name": "user695652", "link": "https://stackoverflow.com/users/695652/user695652"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40898083, "answer_count": 1, "score": 0, "last_activity_date": 1480540028, "creation_date": 1480538682, "question_id": 40897854, "link": "https://stackoverflow.com/questions/40897854/threadsafety-vs-iterator-validity", "title": "threadsafety vs Iterator validity", "body": "<p>I have two threads:</p>\n\n<ul>\n<li>Thread A inserting into an <code>std::map</code> </li>\n<li>Thread B removing from  an <code>std::map</code> </li>\n</ul>\n\n<p>Since <code>std::map::erase</code> and <code>std::map::insert</code> keep all iterators of the map valid, I don't seem to understand how a race condition could occur in this scenario.</p>\n"}, {"tags": ["c++", "algorithm", "graph", "dijkstra"], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 5423850, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/71eb5c2772178a9564d83583595f5a1d?s=128&d=identicon&r=PG&f=1", "display_name": "oneturkmen", "link": "https://stackoverflow.com/users/5423850/oneturkmen"}, "edited": false, "score": 0, "creation_date": 1480582220, "post_id": 40897811, "comment_id": 69024861, "body": "This is the problem, that it contains the types that do not exist. For instance, from one to another city the only way is by plane (shortest). But it says -&gt; &quot;bus bus plane&quot;"}], "tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": false, "score": 0, "last_activity_date": 1480538556, "creation_date": 1480538556, "answer_id": 40897811, "question_id": 40897735, "link": "https://stackoverflow.com/questions/40897735/c-dijkstra-algorithm-print-edge-name-type/40897811#40897811", "title": "C++ Dijkstra Algorithm - print edge name/type", "body": "<p>You already have this information, it is stored in the <code>prev_type[x]</code> array. This array contains the type of <code>transport</code> you used to reach final node <code>t</code>. It works in combination with the array <code>prev[]</code> which remembers the parent nodes, or the node node from which you reached the current one. So you start from your <code>t</code> (final node) and call <code>prev[t]</code>, to get its parent, and than <code>prev_type[t]</code> will contain the type of transport used to reach <code>t</code>. Continue this way going back until you reach your <code>s</code> (start) node.</p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 5423850, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/71eb5c2772178a9564d83583595f5a1d?s=128&d=identicon&r=PG&f=1", "display_name": "oneturkmen", "link": "https://stackoverflow.com/users/5423850/oneturkmen"}, "is_accepted": true, "score": 0, "last_activity_date": 1481313722, "creation_date": 1481313722, "answer_id": 41067991, "question_id": 40897735, "link": "https://stackoverflow.com/questions/40897735/c-dijkstra-algorithm-print-edge-name-type/41067991#41067991", "title": "C++ Dijkstra Algorithm - print edge name/type", "body": "<p>Solved the problem, predefining all the scenarious possible, from one city to another (basically - all combinations of the cities).</p>\n\n<pre><code> if (choice == 1) {\n    switch (from) {\n        case 0: {\n            if (to == 1) std::cout &lt;&lt; \" by foot \";\n            if (to == 2) std::cout &lt;&lt; \" by foot -&gt; by bus \";\n            if (to == 3) std::cout  &lt;&lt; \" by air \";\n            break;\n        }\n        case 1: {\n            if (to == 0) std::cout &lt;&lt; \" by foot \";\n            if (to == 2) std::cout &lt;&lt; \" by bus \";\n            if (to == 3) std::cout &lt;&lt; \" by bus -&gt; by car \";\n            break;\n        }\n        case 2: {\n            if (to == 0) std::cout &lt;&lt; \" by bus -&gt; by foot \";\n            if (to == 1) std::cout &lt;&lt; \" by bus \";\n            if (to == 3) std::cout &lt;&lt; \" by car \";\n            break;\n        }\n        case 3: {\n            if (to == 1) std::cout &lt;&lt; \" by car -&gt; by bus \";\n            if (to == 2) std::cout &lt;&lt; \" by car \";\n            if (to == 0) std::cout &lt;&lt; \" by air \";\n        }\n    }\n</code></pre>\n\n<p>from = the starting city.</p>\n\n<p>to = the destination we are heading to.</p>\n\n<p>I am sure the solution is not the best one, but for this specific case with small number of nodes and edges it is applicable. </p>\n"}], "owner": {"reputation": 1159, "user_id": 5423850, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/71eb5c2772178a9564d83583595f5a1d?s=128&d=identicon&r=PG&f=1", "display_name": "oneturkmen", "link": "https://stackoverflow.com/users/5423850/oneturkmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 1, "accepted_answer_id": 41067991, "answer_count": 2, "score": 0, "last_activity_date": 1481313722, "creation_date": 1480538282, "question_id": 40897735, "link": "https://stackoverflow.com/questions/40897735/c-dijkstra-algorithm-print-edge-name-type", "title": "C++ Dijkstra Algorithm - print edge name/type", "body": "<p>I am currently working on Dijkstra's Shortest Path problem. I have nothing specific in this project, algorithm is standard (implement with set of pairs) except I need to print the types of edges from one vertex to another.</p>\n\n<p>Imagine I have 4 vertices and 5 edges. There exist a pair of vertices p(v1, v2) such that there are 2 or more edges connecting v1 and v2. For instance, we want to find distance from London to Paris. We know that we both can drive by car (one type of edge) or we can buy a plane ticket (another type of edge). What I want to do is to print the type of edge.</p>\n\n<p>Example:\nI have two ways to reach Paris from London:\nLondon -> Calais -> Paris, min time 5 hours, by car;\nLondon -> Paris, min time 1 hour, by plane.</p>\n\n<p>I know exactly, how to print min time or min distance, how to print the path, etc. But, how can I print the type of edge (type of transportation) such as 'by plane' or 'by car'? Here is what I tried:</p>\n\n<pre><code>struct neighbor {\n\nint target_vertex;\ndouble weight;\nint type;\n// for type: 0 - car\n// 1 - bus\n// 2 - plane\n\n};\n</code></pre>\n\n<p>But still, I could not figure out, how would I store those edge 'types' while computing shortest path.</p>\n\n<p>Code here: <a href=\"https://gist.github.com/anonymous/5943c448e47ebf0d3964baa53361459d\" rel=\"nofollow noreferrer\">https://gist.github.com/anonymous/5943c448e47ebf0d3964baa53361459d</a></p>\n"}, {"tags": ["c++", "templates", "codelite"], "answers": [{"comments": [{"owner": {"reputation": 2543, "user_id": 2896120, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9792d203fad996eb88bdee0be7190d99?s=128&d=identicon&r=PG&f=1", "display_name": "user2896120", "link": "https://stackoverflow.com/users/2896120/user2896120"}, "edited": false, "score": 0, "creation_date": 1480538819, "post_id": 40897846, "comment_id": 69009476, "body": "This works correctly, but when I try to create a table instance in the main file using <code>table&lt;int&gt; h1;</code> it gives me an error saying table was not declared in this scope. How do I fix this problem?"}, {"owner": {"reputation": 2543, "user_id": 2896120, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9792d203fad996eb88bdee0be7190d99?s=128&d=identicon&r=PG&f=1", "display_name": "user2896120", "link": "https://stackoverflow.com/users/2896120/user2896120"}, "edited": false, "score": 0, "creation_date": 1480538930, "post_id": 40897846, "comment_id": 69009539, "body": "Hmm, I have to address the namespace first like <code>main_savitch_12A::table&lt;int&gt; h1;</code> Thank you for your answer I&#39;ll give you best answer soon"}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "reply_to_user": {"reputation": 2543, "user_id": 2896120, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9792d203fad996eb88bdee0be7190d99?s=128&d=identicon&r=PG&f=1", "display_name": "user2896120", "link": "https://stackoverflow.com/users/2896120/user2896120"}, "edited": false, "score": 0, "creation_date": 1480538974, "post_id": 40897846, "comment_id": 69009561, "body": "Do <code>main_savitch_12A::table&lt;int&gt; h1;</code>"}], "tags": [], "owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "is_accepted": true, "score": 1, "last_activity_date": 1480538869, "last_edit_date": 1480538869, "creation_date": 1480538660, "answer_id": 40897846, "question_id": 40897733, "link": "https://stackoverflow.com/questions/40897733/template-file-not-working-correctly-in-codelite/40897846#40897846", "title": "Template file not working correctly in CodeLite?", "body": "<p>In your template implementation your are missing the namespace, use this:</p>\n\n<pre><code>template &lt;class RecordType&gt; \nmain_savitch_12A::table&lt;RecordType&gt;::table()\n{\n    used = 32;\n};\n</code></pre>\n"}], "owner": {"reputation": 2543, "user_id": 2896120, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9792d203fad996eb88bdee0be7190d99?s=128&d=identicon&r=PG&f=1", "display_name": "user2896120", "link": "https://stackoverflow.com/users/2896120/user2896120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 0, "accepted_answer_id": 40897846, "answer_count": 1, "score": 0, "last_activity_date": 1480538869, "creation_date": 1480538280, "question_id": 40897733, "link": "https://stackoverflow.com/questions/40897733/template-file-not-working-correctly-in-codelite", "title": "Template file not working correctly in CodeLite?", "body": "<p>Every time I create a new project in my workplace I run into the problem with templates. For example, I'll create a new class, which CodeLite will create a .h file and a .cpp file for me, and then I'll change that .cpp file into a .template by renaming the file. It sometimes works, and sometimes doesn't. Sometimes I have to clean my workplace for it to work, other times I need to exit out of CodeLite and reopen it. This time these solutions are not working for me, but maybe I am missing something. Here's my code:</p>\n\n<p><strong>.h file</strong></p>\n\n<pre><code>#ifndef TABLE1_H\n#define TABLE1_H\n#include &lt;cstdlib&gt;    // Provides size_t\n\nnamespace main_savitch_12A\n{\n    template &lt;class RecordType&gt;\n    class table\n    {\n    public:\n        // MEMBER CONSTANT -- See Appendix E if this fails to compile.\n        static const std::size_t CAPACITY = 811;\n        // CONSTRUCTOR\n        table( );\n        // MODIFICATION MEMBER FUNCTIONS\n        void insert(const RecordType&amp; entry);\n        void remove(int key);\n        // CONSTANT MEMBER FUNCTIONS\n        bool is_present(int key) const;\n        void find(int key, bool&amp; found, RecordType&amp; result) const;\n        std::size_t size( ) const { return used; }\n    private:\n        // MEMBER CONSTANTS -- These are used in the key field of special records.\n        static const int NEVER_USED = -1;\n        static const int PREVIOUSLY_USED = -2;\n        // MEMBER VARIABLES\n        RecordType data[CAPACITY];\n        std::size_t used;\n        // HELPER FUNCTIONS\n        std::size_t hash(int key) const;\n        std::size_t next_index(std::size_t index) const;\n        void find_index(int key, bool&amp; found, std::size_t&amp; index) const;\n        bool never_used(std::size_t index) const;\n        bool is_vacant(std::size_t index) const;\n    };\n}\n#include \"table1.template\" // Include the implementation.\n#endif\n</code></pre>\n\n<p><strong>.template file</strong></p>\n\n<pre><code>template&lt;class RecordType&gt;\ntable&lt;RecordType&gt;::table(){\n    used = 32;\n}\n</code></pre>\n\n<p><strong>main file</strong></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include \"table1.h\"\nint main(int argc, char **argv)\n{\n    printf(\"hello world\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>My template and my .h files are called table1. The error I am getting when I run the program is in the template file. It reads: \"table does not name a type\" How can I fix this issue? </p>\n"}, {"tags": ["c++", "arrays", "bounds", "breadth-first-search"], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5042567, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VFvAi.jpg?s=128&g=1", "display_name": "Flower", "link": "https://stackoverflow.com/users/5042567/flower"}, "edited": false, "score": 0, "creation_date": 1480539548, "post_id": 40897906, "comment_id": 69009889, "body": "I am trying to do so using   &quot;if (current.level &lt; 0 || current.level &gt;= this.numlevels) \t\t{ \t\t\tcout &lt;&lt; &quot;out of bounds&quot; &lt;&lt; endl; \t\t}&quot;  but the compiler says that &quot;this&quot; requires a class type"}], "tags": [], "owner": {"reputation": 403, "user_id": 7128142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26ec23b5e36cce50f2a616dca5c39e7?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya.work", "link": "https://stackoverflow.com/users/7128142/bhavya-work"}, "is_accepted": false, "score": 1, "last_activity_date": 1480539453, "last_edit_date": 1480539453, "creation_date": 1480538864, "answer_id": 40897906, "question_id": 40897732, "link": "https://stackoverflow.com/questions/40897732/what-is-causing-the-array-out-of-bounds-runtime-error/40897906#40897906", "title": "What is causing the array out of bounds runtime error?", "body": "<p>To debug, before accessing <code>mazeGraph[current.level][current.row][current.col]</code> you should check if <code>current.level</code> is in between <code>minLevel</code> and <code>maxLevel</code> similarly with <code>current.row</code> and <code>current.col</code> are all in bounds of mazeGraph. If they are not print a message with <code>current.level</code> and you will know why its throwing that error. </p>\n\n<p>I am also assuming your mazeGraph is initialized to have that bounds satisfied with start and end levels etc.</p>\n\n<p>PS: For better pathfinding between two nodes in a matrix, A* (A star) algorithm is found to be a better solution in many cases. </p>\n"}], "owner": {"reputation": 249, "user_id": 5042567, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/VFvAi.jpg?s=128&g=1", "display_name": "Flower", "link": "https://stackoverflow.com/users/5042567/flower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480541808, "creation_date": 1480538278, "last_edit_date": 1480541808, "question_id": 40897732, "link": "https://stackoverflow.com/questions/40897732/what-is-causing-the-array-out-of-bounds-runtime-error", "title": "What is causing the array out of bounds runtime error?", "body": "<p>This is a method of a class which is used to find the exit of a 3-dimensional maze represented as a 3-d array. The array itself contains strings of length 6 of either 1 or 0. A '1' in the string means that you are able to move in that direction. For example, if the string at the current array element is 100001, this means that you can move north and you can also move down a level. The bit string corresponds with the directions north east south west up down. This method is currently unfinished so I know it does not yet find a viable solution but the switch statement at the end causes an array out of bounds error at run time. I am picturing the 3-d array as a 3-d cube with the outtermost array representing the vertical axis, the middle array representing the z axis coming in and out of the page and the inner most array representing the horizontal x axis. When at a current cell in the maze, you look at each bit in the string. For each possible move, you add that move to the q. Once done looking at the string, you move in the direction that was first added to the queue and repeat. Any help is greatly appreciated.</p>\n\n<pre><code>void maze::solve(int startlevel, int startrow, int startcol, int endlevel,   int endrow, int endcol)\n{\nposition current, exit;\ncurrent.level = startlevel;\ncurrent.row = startrow;\ncurrent.col = startcol;\n\nexit.level = endlevel;\nexit.row = endrow;\nexit.col = endcol;\n\nq.push('0');\nwhile (!q.empty())\n{\n    if (current == exit)\n    {\n        cout &lt;&lt; \"exit found\" &lt;&lt; endl;\n        return;\n    }\n\n    if (mazeGraph[current.level][current.row][current.col].at(0) == '1')\n        q.push('n');\n    if (mazeGraph[current.level][current.row][current.col].at(1) == '1')\n        q.push('e');\n    if (mazeGraph[current.level][current.row][current.col].at(2) == '1')\n        q.push('s');\n    if (mazeGraph[current.level][current.row][current.col].at(3) == '1')\n        q.push('w');\n    if (mazeGraph[current.level][current.row][current.col].at(4) == '1')\n        q.push('u');\n    if (mazeGraph[current.level][current.row][current.col].at(5) == '1')\n        q.push('d');\n\n    if (q.front() == '0')\n        q.pop();\n\n    switch (q.front())\n    {\n    case 'n':\n        current.row -= 1;\n    case 'e':\n        current.col += 1;\n    case 's':\n        current.row += 1;\n    case 'w':\n        current.col -= 1;\n    case 'u':\n        current.level += 1;\n    case 'd':\n        current.level -= 1;\n\n    }\n\n}   \nreturn;\n}\n</code></pre>\n"}, {"tags": ["c++", "tuples", "c++14"], "comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 2, "creation_date": 1480538234, "post_id": 40897708, "comment_id": 69009139, "body": "The curly braces are used to create an object of that type"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1480540848, "post_id": 40897708, "comment_id": 69010607, "body": "Are you sure this is a c++11 code and not c++14? Standard really does make a difference :)"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1480541200, "post_id": 40897708, "comment_id": 69010790, "body": "@W.F. That&#39;s definitely C++14. I&#39;m editing the question. Good catch."}], "answers": [{"tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": false, "score": 3, "last_activity_date": 1480538709, "creation_date": 1480538709, "answer_id": 40897863, "question_id": 40897708, "link": "https://stackoverflow.com/questions/40897708/empty-braces-around-stdmake-index-sequence/40897863#40897863", "title": "Empty braces around std::make_index_sequence", "body": "<p><code>std::make_index_sequence</code> is ideally defined as:</p>\n\n<pre><code>template&lt;std::size_t\u00a0N&gt;\nusing\u00a0make_index_sequence\u00a0=\u00a0make_integer_sequence&lt;std::size_t, N&gt;;\n</code></pre>\n\n<p><code>std::make_integer_sequence</code> is ideally defined as:</p>\n\n<pre><code>template&lt;class\u00a0T, T N&gt;\nusing\u00a0make_integer_sequence\u00a0= std::integer_sequence&lt;T, /* a sequence 0, 1, 2, ..., N-1 */\u00a0&gt;;\n</code></pre>\n\n<p>And <code>std::integer_sequence</code> is a type from <code>utility</code> header:</p>\n\n<pre><code>template&lt;\u00a0class\u00a0T, T...\u00a0Ints\u00a0&gt;\nclass\u00a0integer_sequence;\n</code></pre>\n\n<p>Therefore, you can use it as any other type and invoke its default constructor, that is not strange at all.</p>\n\n<p>See <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow\">here</a> for further details.</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 270319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b78a9b7e27253d97bcc7d1ce9a43d277?s=128&d=identicon&r=PG", "display_name": "DAG", "link": "https://stackoverflow.com/users/270319/dag"}, "is_accepted": true, "score": 3, "last_activity_date": 1480542177, "creation_date": 1480542177, "answer_id": 40898768, "question_id": 40897708, "link": "https://stackoverflow.com/questions/40897708/empty-braces-around-stdmake-index-sequence/40898768#40898768", "title": "Empty braces around std::make_index_sequence", "body": "<p>The first instance (<code>std::make_index_sequence&lt;N&gt;</code>) is used in a template argument list.  It's only saying that the template type parameter <code>Indices</code> defaults to the type <code>std::make_index_sequence&lt;N&gt;</code>.  No instances of anything are created there, the use is declarative.</p>\n\n<p>The second instance (<code>std::make_index_sequence&lt;Size&gt;{}</code>) is creating a default constructed instance of that type.  The <code>{}</code> are the new C++ syntax for initialization.  When the braces are empty the object will be default constructed.</p>\n"}], "owner": {"reputation": 5276, "user_id": 1060159, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7890a5cb5605356754da0bc842a4426?s=128&d=identicon&r=PG", "display_name": "marmistrz", "link": "https://stackoverflow.com/users/1060159/marmistrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1542, "favorite_count": 0, "accepted_answer_id": 40898768, "answer_count": 2, "score": 3, "last_activity_date": 1480542177, "creation_date": 1480538184, "last_edit_date": 1480541235, "question_id": 40897708, "link": "https://stackoverflow.com/questions/40897708/empty-braces-around-stdmake-index-sequence", "title": "Empty braces around std::make_index_sequence", "body": "<p>In <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow noreferrer\">this</a> example on CppR:</p>\n\n<pre><code>template&lt;typename Array, std::size_t... I&gt;\ndecltype(auto) a2t_impl(const Array&amp; a, std::index_sequence&lt;I...&gt;)\n{\n    return std::make_tuple(a[I]...);\n}\n\ntemplate&lt;typename T, std::size_t N, typename Indices = std::make_index_sequence&lt;N&gt;&gt;\ndecltype(auto) a2t(const std::array&lt;T, N&gt;&amp; a)\n{\n    return a2t_impl(a, Indices());\n}\n\ntemplate&lt;typename Func, typename Tup, std::size_t... index&gt;\ndecltype(auto) invoke_helper(Func&amp;&amp; func, Tup&amp;&amp; tup, std::index_sequence&lt;index...&gt;)\n{\n    return func(std::get&lt;index&gt;(std::forward&lt;Tup&gt;(tup))...);\n}\n\ntemplate&lt;typename Func, typename Tup&gt;\ndecltype(auto) invoke(Func&amp;&amp; func, Tup&amp;&amp; tup)\n{\n    constexpr auto Size = std::tuple_size&lt;typename std::decay&lt;Tup&gt;::type&gt;::value;\n    return invoke_helper(std::forward&lt;Func&gt;(func),\n                         std::forward&lt;Tup&gt;(tup),\n                         std::make_index_sequence&lt;Size&gt;{});\n}\n</code></pre>\n\n<p>there are these lines, which confuse me a lot:</p>\n\n<pre><code>std::make_index_sequence&lt;N&gt;\nstd::make_index_sequence&lt;Size&gt;{}\n</code></pre>\n\n<p>Why are the curly braces added at the end at times (and omitting them causes a compile error) and why are they sometimes not?</p>\n"}, {"tags": ["c++", "ncurses", "curses", "cdk"], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 866741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f47bc7af3ddd90bdc14f37092418bd51?s=128&d=identicon&r=PG", "display_name": "jterm", "link": "https://stackoverflow.com/users/866741/jterm"}, "edited": false, "score": 0, "creation_date": 1480602317, "post_id": 40901366, "comment_id": 69038327, "body": "Thanks @Thomas Dickey. Would you be willing to put the cdk up on github so I could contribute to it? I&#39;m sure others would as well. From reading questions it sounds like many people tweak or enhance CDK for personal use but those features don&#39;t propagate out. It would be great to share it."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 1, "last_activity_date": 1480557342, "creation_date": 1480557342, "answer_id": 40901366, "question_id": 40897645, "link": "https://stackoverflow.com/questions/40897645/is-it-possible-to-get-an-ncurses-cdk-matrix-to-dynamically-resize-to-the-termina/40901366#40901366", "title": "Is it possible to get an NCurses CDK Matrix to dynamically resize to the terminal window?", "body": "<p>short: no</p>\n\n<p>long: there are several points</p>\n\n<ul>\n<li>CDK does not do any re-layout when reading <code>KEY_RESIZE</code>.</li>\n<li>The matrix widget has no methods for adding or removing rows/columns.</li>\n<li>While CDK allows binding of keys to callbacks, that probably does not work for special keys such as <code>KEY_RESIZE</code>.</li>\n<li>You wouldn't be able to re-create (i.e., \"resize\") a matrix widget using a callback.</li>\n</ul>\n\n<p>Rather, you might use the CDK widget as a starting point and see how to modify it to address the limitations noted above.</p>\n"}], "owner": {"reputation": 873, "user_id": 866741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f47bc7af3ddd90bdc14f37092418bd51?s=128&d=identicon&r=PG", "display_name": "jterm", "link": "https://stackoverflow.com/users/866741/jterm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480557342, "creation_date": 1480537961, "question_id": 40897645, "link": "https://stackoverflow.com/questions/40897645/is-it-possible-to-get-an-ncurses-cdk-matrix-to-dynamically-resize-to-the-termina", "title": "Is it possible to get an NCurses CDK Matrix to dynamically resize to the terminal window?", "body": "<p>I have a bunch of items I want to display in a grid. I'd like the grid to dynamically resize based on the terminal window size. Basically I'd like it to fit as many columns as possible before adding another row. How should I go about this? Is the CDK matrix the right widget to use for this?</p>\n"}, {"tags": ["c++", "c++14", "language-lawyer"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 4, "creation_date": 1480537709, "post_id": 40897533, "comment_id": 69008831, "body": "damn good first question! you lurked long enough to know <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480537876, "post_id": 40897533, "comment_id": 69008947, "body": "Maybe irrelevant, but I read somewhere that the <code>malloc</code> of a system is guaranteed to return memory aligned for any data type."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1480537958, "post_id": 40897533, "comment_id": 69009003, "body": "It&#39;s not formally guaranteed, but by <i>reasoning</i> about distinct pointer values you can deduce that it will never fail on a PC. As far as the standard is concerned the <code>reinterpret_cast</code> result can be any pointer value here, except nullpointer, because it&#39;s not used. The only guaranteed usage (apart from comparing to nullpointer) is to cast it back."}, {"owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "edited": false, "score": 0, "creation_date": 1480537995, "post_id": 40897533, "comment_id": 69009022, "body": "The answer is the definition of <code>std::aligned_storage_t</code>. If it garanteers this property, then yes. This has nothing to do with how placement new works."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1480540640, "post_id": 40897533, "comment_id": 69010475, "body": "This example is basically <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4303.html\" rel=\"nofollow noreferrer\">half the motivation behind <code>std::launder</code></a> (the other half being Core 1776)."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1480541729, "post_id": 40897533, "comment_id": 69011066, "body": "@T.C: The other half of the motivation seems to be to add obscurity and complexity in order to support an interpretation of the standard that itself is in support of a particular implementation. Ouch. Code using this will read like utter nonsense to most every developer."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1480548437, "post_id": 40897533, "comment_id": 69013964, "body": "I&#39;m inclined to say that they &quot;represent the same address&quot;, so that they compare equal. However, <code>maybe_ptr</code> does not actually <i>point to</i> the <code>T</code> object (since the <code>T</code> object and the <code>aligned_storage_t</code> object are not pointer-interconvertible), so you cannot use it to access the <code>T</code> object without <code>launder</code>ing it."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 7232794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f9c95b2418c9ae7a3de6afb84547c?s=128&d=identicon&r=PG&f=1", "display_name": "godpusti", "link": "https://stackoverflow.com/users/7232794/godpusti"}, "edited": false, "score": 1, "creation_date": 1480540415, "post_id": 40897892, "comment_id": 69010350, "body": "The things is that the array form of operator new also returns <code>ptr</code> [new.delete.placement/5], but we all know that <code>new(ptr) int[10]</code> does not return <code>ptr</code> due to [expr.new/15.4]. So what does the non array version do?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 7, "creation_date": 1480540445, "post_id": 40897892, "comment_id": 69010369, "body": "There&#39;s a difference between the placement allocation function and the <i>new-expression</i>."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1480542029, "post_id": 40897892, "comment_id": 69011230, "body": "<i>new-expression</i> calls the placement allocation function. See 5.3.4 (13), and (14).  &quot;The new-placement syntax is used to supply additional arguments to an allocation function... [Example: \u2014 new T results in a call of operator new(sizeof(T)), \u2014 new(2,f) T results in a call of operator new(sizeof(T),2,f)]&quot; Therefore: <code>new(ptr) T</code> calls <code>operator new(sizeof(T), ptr)</code>. Q.E.D."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 323, "user_id": 7232794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f9c95b2418c9ae7a3de6afb84547c?s=128&d=identicon&r=PG&f=1", "display_name": "godpusti", "link": "https://stackoverflow.com/users/7232794/godpusti"}, "edited": false, "score": 0, "creation_date": 1480542915, "post_id": 40897892, "comment_id": 69011662, "body": "SamVarshavchik: Consider @godpusti&#39;s comment about the array form, together with the fact that for items that need to be destroyed, the array length needs to be stored somewhere so each item can be destroyed. Also, consider that T.C. is almost always right."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1480544796, "post_id": 40897892, "comment_id": 69012483, "body": "The question did not reference the array form. For the use case given in the question, this looks cut and dry to me. As far as all the white noise goes: I do remember a long time ago when I also often believed that I was always right. I&#39;m happy to report that this was a long time ago, and since then I simply grew up. I&#39;m open to reading a convincing argument, or an alternative answer that either reaches a different conclusion based on other evidence, or identifies a flaw in my cite; if so I&#39;ll delete it. But, as of now, I believe that my answer is correct."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493376512, "post_id": 40897892, "comment_id": 74402489, "body": "Technically the function could modify <code>ptr</code> before returning it. But I agree that this isn&#39;t what the standard means :D"}], "tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": false, "score": 1, "last_activity_date": 1480538821, "creation_date": 1480538821, "answer_id": 40897892, "question_id": 40897533, "link": "https://stackoverflow.com/questions/40897533/return-value-of-placement-new/40897892#40897892", "title": "Return value of placement new", "body": "<blockquote>\n  <p>18.6.1.3 Placement forms [new.delete.placement]</p>\n  \n  <p>void* operator new(std::size_t size, void* ptr) noexcept;</p>\n  \n  <p>Returns: ptr.</p>\n</blockquote>\n\n<p>It is unambiguously specified that the placement <code>new</code> operator returns whatever pointer is passed to it. \"Returns: ptr\". Can't get any clearer than that.</p>\n\n<p>That, pretty much, seals the deal for me as far as \"the return value from placement new\" goes: placement <code>new</code> does nothing to the pointer it places, and it always returns the same pointer.</p>\n\n<p>Everything else in your question relates to any other changes that might occur as the result of the other casts; but you're asking specifically about the return value from placement <code>new</code>, so I take it that you're accepting that all other conversion are type-conversions only, and have no effect on the actual pointer, and you were only asking about placement new -- but it would also be possible to go through the other casts, and make a similar determination.</p>\n"}, {"comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1493375596, "post_id": 43677844, "comment_id": 74401935, "body": "@MaximEgorushkin Are you sure that this applies to class specific overrides, i.e. static members as in the above example? It seems that this paragraph addresses the global versions?"}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1493375896, "post_id": 43677844, "comment_id": 74402122, "body": "Thinking more about it, the standard explicitly allows class-specific placement new operators. So I take that comment back."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1493376078, "post_id": 43677844, "comment_id": 74402251, "body": "@MaximEgorushkin First off, your paragraph number is incorrect (18.6.2.3), and secondly, please use the textual form instead, like [new.delete.placement]. Numbers do change every now and then, and the most up-to-date draft is subject to a big clause numbering change induced by ISO (clause 18 is now 21). You can see that already on eel.is/c++draft."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493376549, "post_id": 43677844, "comment_id": 74402510, "body": "Sam&#39;s answer from last year discounts this as a possibility, doesn&#39;t it? You are not returning the pointer you were given. Seems like you&#39;re assuming <code>&amp;f</code> == <code>p</code> but there&#39;s no guarantee of that, particularly as the type has been stated to be non-standard-layout."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1493376677, "post_id": 43677844, "comment_id": 74402578, "body": "@BoundaryImposition I don&#39;t get it; I answered the question. My code is valid and would break his assertion. The specification Sam quoted does not apply to user-defined operator news (and if you think it does, please do provide a citation)."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1493376802, "post_id": 43677844, "comment_id": 74402663, "body": "I didn&#39;t look at it very closely or check the standard. If you reckon that the restriction is only upon the library&#39;s &quot;default&quot; impl and no such constraint is placed upon user-defined ones, then I guess that&#39;s fine"}, {"owner": {"reputation": 323, "user_id": 7232794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f9c95b2418c9ae7a3de6afb84547c?s=128&d=identicon&r=PG&f=1", "display_name": "godpusti", "link": "https://stackoverflow.com/users/7232794/godpusti"}, "edited": false, "score": 0, "creation_date": 1494102937, "post_id": 43677844, "comment_id": 74688304, "body": "I guess it does not matter then what the type is, as long as it does not have a funny operator new :D I will accept this because of a technicallity (is that not why we are all here?). However, there is still the question of where the standard states that &quot;the new expression [does] not [do] anything fancy&quot;, because we all know that aint true; see the comments of Sam&#39;s post. Maybe someone will ask a new question about that? <i>hint hint</i>"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 323, "user_id": 7232794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f9c95b2418c9ae7a3de6afb84547c?s=128&d=identicon&r=PG&f=1", "display_name": "godpusti", "link": "https://stackoverflow.com/users/7232794/godpusti"}, "edited": false, "score": 0, "creation_date": 1494103025, "post_id": 43677844, "comment_id": 74688326, "body": "@godpusti The comments on Sam&#39;s post refer to the new[] expression, i.e. the array form. The non-array form does not do anything fancy, because there&#39;s nothing fancy to be done."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 6, "last_activity_date": 1493377231, "last_edit_date": 1493377231, "creation_date": 1493374765, "answer_id": 43677844, "question_id": 40897533, "link": "https://stackoverflow.com/questions/40897533/return-value-of-placement-new/43677844#43677844", "title": "Return value of placement new", "body": "<p>I'm surprised no one has mentioned this cheap counterexample yet:</p>\n\n<pre><code>struct foo {\n  static foo f;\n  // might seem dubious but doesn't violate anything\n  void* operator new(size_t, void* p) {return &amp;f;}\n};\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/2c030d00c5f05a6b\" rel=\"noreferrer\">Demo on Coliru</a>.</p>\n\n<p>Unless a class-specific placement version is called, however, your assertion should hold. Both expressions have to represent the same address as explained in the other answer (the main point being that the standard non-allocating <code>operator new</code> simply returns the pointer argument and the new expression not doing anything fancy), and neither of these is a pointer past the end of some object so, by [expr.eq]/2, they compare equal.</p>\n"}], "owner": {"reputation": 323, "user_id": 7232794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f9c95b2418c9ae7a3de6afb84547c?s=128&d=identicon&r=PG&f=1", "display_name": "godpusti", "link": "https://stackoverflow.com/users/7232794/godpusti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 5, "accepted_answer_id": 43677844, "answer_count": 2, "score": 30, "last_activity_date": 1493377231, "creation_date": 1480537547, "last_edit_date": 1480537628, "question_id": 40897533, "link": "https://stackoverflow.com/questions/40897533/return-value-of-placement-new", "title": "Return value of placement new", "body": "<p>Consider the following C++14 code:</p>\n\n<pre><code>#include &lt;cassert&gt;\n#include &lt;new&gt;\n#include &lt;type_traits&gt;\n\nstruct NonStandardLayout\n{\n    // ...\n};\n\nint main()\n{\n    using T = NonStandardLayout;\n\n    std::aligned_storage_t&lt; sizeof(T), alignof(T) &gt; storage;\n    T *const valid_ptr = new(static_cast&lt;void *&gt;(&amp;storage)) T;\n\n    T *const maybe_ptr = reinterpret_cast&lt;T *&gt;(&amp;storage);\n    assert(maybe_ptr == valid_ptr); // ???\n\n    valid_ptr-&gt;T::~T();\n    return 0;\n}\n</code></pre>\n\n<p>Is it guaranteed by the standard that the assert in the example will never fail, for any type T?</p>\n\n<h2>Discussion</h2>\n\n<p>Looking in the latest standard (<a href=\"http://eel.is/c++draft/\" rel=\"noreferrer\">http://eel.is/c++draft/</a>), I cannot see any reference to this particular scenario but I have found the following paragraphs that arguably points to the answer 'yes'.</p>\n\n<p>Is it correct of me to think that\n[expr.new/15]\nand\n[new.delete.placement/2]\ntogether states that the value of <code>valid_ptr</code> will equal the address of <code>storage</code>, always?</p>\n\n<p>If so, is it true that the <code>reinterpret_cast</code> will yield a pointer to a fully constructed object? Because,\n[expr.reinterpret.cast/7],\n[expr.static.cast/13]\nand\n[basic.compound/4]\ntogether seem to indicate that it should be the case.</p>\n\n<p>From my observations, library implementations of the default allocator seem to cast similar to this and without worry! Is it <em>really</em> safe to cast like this?</p>\n\n<p>How can we be sure that the two pointers will be the same, or can we?</p>\n"}, {"tags": ["c#", "c++", "shell", "windows-7-x64", "taskbar"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1480537594, "post_id": 40897522, "comment_id": 69008774, "body": "you shouldn&#39;t be using .net for shell extensions."}, {"owner": {"reputation": 22481, "user_id": 162167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MIM9R.jpg?s=128&g=1", "display_name": "Will Marcouiller", "link": "https://stackoverflow.com/users/162167/will-marcouiller"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1480538368, "post_id": 40897522, "comment_id": 69009224, "body": "@DanielA.White: I don&#39;t mind to use either .NET or native C++, as long as it works. Both ways are feasible, according to the articles provided in the link with the question&#39;s body. Besides, starting from .NET 4, since more than one CLR can be loaded side by side, it is doable in .NET, although not recommended. In the end, the fourth link states being native C++ code, and it doesn&#39;t do much good either."}, {"owner": {"reputation": 22481, "user_id": 162167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MIM9R.jpg?s=128&g=1", "display_name": "Will Marcouiller", "link": "https://stackoverflow.com/users/162167/will-marcouiller"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1480538652, "post_id": 40897522, "comment_id": 69009390, "body": "@ScottChamberlain: I don&#39;t care. I need to do it per customer&#39;s request. It&#39;s doable, and I wanna do it."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1480538672, "post_id": 40897522, "comment_id": 69009403, "body": "i vaguely remember microsoft removing support for these in windows 7"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1480538839, "post_id": 40897522, "comment_id": 69009488, "body": "@DanielA.White <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd378460%28v=vs.85%29.aspx#deskbands\" rel=\"nofollow noreferrer\">it looks like it is still supported</a>, just that they want you to use thumbnail toolbar where possible instead."}], "owner": {"reputation": 22481, "user_id": 162167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MIM9R.jpg?s=128&g=1", "display_name": "Will Marcouiller", "link": "https://stackoverflow.com/users/162167/will-marcouiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "closed_date": 1480538736, "answer_count": 0, "score": 0, "last_activity_date": 1480537514, "creation_date": 1480537514, "last_edit_date": 1495540381, "question_id": 40897522, "link": "https://stackoverflow.com/questions/40897522/how-and-where-to-register-a-desk-band-in-the-registry", "closed_reason": "Duplicate", "title": "How and where to register a desk-band in the registry?", "body": "<p>Prior to this question, I asked this one:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/40438889/how-to-add-a-form-to-windows-7-taskbar\">How to add a form to Windows 7 taskbar?</a></li>\n</ol>\n\n<p>I tried with the Code Project source code, which I can't make it work on the Windows Shell Taskbar either.</p>\n\n<ol start=\"2\">\n<li><a href=\"https://www.codeproject.com/articles/2219/extending-explorer-with-band-objects-using-net-and\" rel=\"nofollow noreferrer\">Extending Explorer with Band Objects using .NET and Windows Forms</a></li>\n</ol>\n\n<p>I also tried using the EZShellExtensions.NET library trial, which seems to work fine with Internet Explorer, but I can't have it on the Windows Shell.</p>\n\n<ol start=\"3\">\n<li><a href=\"http://www.ssware.com/ezshell/ezshell.htm\" rel=\"nofollow noreferrer\">EZShellExtensions.Net v2013</a></li>\n</ol>\n\n<p>Then, there's this GitHub native code in C++ which I gave a try by downloading and compiling it, and it doesn't look like it works either.</p>\n\n<ol start=\"4\">\n<li><a href=\"https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/shell/shellextensibility/deskbands\" rel=\"nofollow noreferrer\">Windows-classic-samples/Samples/Win7Samples/winui/shell/shellextensibility/deskbands/</a></li>\n</ol>\n\n<p>Notice that when implementing the IDeskBand interface, I did implement the IDeskBand2 as well because I need it to work on Windows 7.</p>\n\n<p>Any other useful information may be provided upon request since I really don't know what to provide as useful information other than what is already in.</p>\n\n<p>I know there's a slight difference between an ExplorerBar and a ToolBar, and that is where to register it. I've been working on this for days, I just can't make it.</p>\n\n<p>So, <strong>where to register a desk-band in the registry to make it appear as a Toolbar option in the Taskbar contextual menu of Windows 7?</strong></p>\n"}, {"tags": ["c++", "encryption", "linked-list", "caesar-cipher", "vigenere"], "comments": [{"owner": {"reputation": 770, "user_id": 3960650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71715843217569b290f0980cd7b72da?s=128&d=identicon&r=PG&f=1", "display_name": "DejaVuSansMono", "link": "https://stackoverflow.com/users/3960650/dejavusansmono"}, "edited": false, "score": 2, "creation_date": 1480537265, "post_id": 40897401, "comment_id": 69008606, "body": "And what&#39;s the problem?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480537269, "post_id": 40897401, "comment_id": 69008609, "body": "this piece of code is really too big. You should create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so you&#39;ll get more people help you."}], "answers": [{"comments": [{"owner": {"reputation": 1953, "user_id": 2657515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/217dcfb97fdbd00aa573257dffa226b9?s=128&d=identicon&r=PG", "display_name": "JonathanDavidArndt", "link": "https://stackoverflow.com/users/2657515/jonathandavidarndt"}, "edited": false, "score": 0, "creation_date": 1522086598, "post_id": 49497267, "comment_id": 85999171, "body": "Could you provide a short explanation along with your code?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9509416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fbf383c4b07751d2a4b6e6f74126269?s=128&d=identicon&r=PG&f=1", "display_name": "esraasaeed", "link": "https://stackoverflow.com/users/9509416/esraasaeed"}, "is_accepted": false, "score": 0, "last_activity_date": 1522089843, "last_edit_date": 1522089843, "creation_date": 1522085352, "answer_id": 49497267, "question_id": 40897401, "link": "https://stackoverflow.com/questions/40897401/c-linked-list-caesar-cipher-vigenere-cipher/49497267#49497267", "title": "C++ Linked List Caesar Cipher Vigenere Cipher", "body": "<pre><code>#include &lt;iostream&gt;\n#include&lt;string&gt;\nusing namespace std;``\nint main() {\n  string alphapet, plaintext, cipher;\n  int option, key;\n  alphapet = \"abcdefghijklmnopqrstuvwxyz\";\n  cipher = \"xyzabcdefghijklmnopqrstuvw\";\n  cout &lt;&lt; \"choose an option atbash cioher : \\n 1)to Cipher \\n 2)to Decipher \\n\";\n  cin &gt;&gt; option;\n  cout &lt;&lt; \"enter key \\n\";\n  cin &gt;&gt; key;\n\n  cin.ignore();\n  char letter;\n  if (option == 1 &amp;&amp; (key == 3)) {\n    cout &lt;&lt; \"enter the plaintext to cipher :\\n \";\n    getline(cin, plaintext);\n    for (int i = 0; i &lt; plaintext.size(); ++i) {\n      for (int j = 0; j &lt; 26; ++j) {\n        if (plaintext[i] == alphapet[j]) {\n          plaintext[i] = cipher[j];\n          break;\n        }\n      }\n    }\n\n  }\n  if (option == 2) {\n    cout &lt;&lt; \"rnter the plaintext to decipher : \\n\";\n    getline(cin, plaintext);\n    for (int i = 0; i &lt; plaintext.size(); ++i) {\n      for (int j = 0; j &lt; 26; j++) {\n        if (plaintext[i] == cipher[j]) {\n          plaintext[i] = alphapet[j];\n          break;\n        }\n      }\n    }\n  }\n  cout &lt;&lt; plaintext;\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5516389, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/974491955925805/picture?type=large", "display_name": "Bailey Wells", "link": "https://stackoverflow.com/users/5516389/bailey-wells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522089843, "creation_date": 1480537079, "question_id": 40897401, "link": "https://stackoverflow.com/questions/40897401/c-linked-list-caesar-cipher-vigenere-cipher", "title": "C++ Linked List Caesar Cipher Vigenere Cipher", "body": "<p>I am having trouble getting this code to work. I am not clear on how to use linked list to implement the Caesar cipher and the Vigenere Cipher. Any help figuring this out would be appreciated. \nThe program is supposed to accept a menu choice from the user. The user will fill the list with a string of chars that create the Linked list. The cipher is supposed to compare each element in the linked list and encrypt/decrypt according to the key entered. </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n#include &lt;string&gt;\n\n#undef NULL\nconst int NULL = 0;\nconst string ELEMENT_NAME = \"whole number\";\ntypedef int element;\nconst char SENTINEL = '\\n';\nclass listnode {\n        public:\n                element data;\n                listnode * next;\n        }; \nclass LList {\n        private:\n                listnode * head;\n                listnode * tail;\n        public:\n                LList();\n               ~LList();\n                void Print();\n                void InsertHead(element thing);\n                void InsertTail(element thing);\n                element DeleteHead();\n                void ReadForward();\n                void ReadBackward();\n                void Clean();\n                void Steal(LList &amp; Victim);\n                void Duplicate(LList &amp; Source);\n                void Reverse();\n                void displayMenu();\n                char userval;\n                void CaesarEncryption(element CaesarKey);\n                void CaesarDecryption(element CaesarKey);\n                void VigenereEncryption(char VigenereKey);\n                void VigenereDecryption(char VigenereKey);\n                char EncryptedMessage;\n                char DecryptedMessage;\n void Display();\n        };\nelement read_element();\n\n// Main function\nint main(){\n        // Declare the Ceaser key\n        element CaesarKey;\n\n        //Declare the Vigenere key\n        char VigenereKey;\n\n       // Declare menu_choice\n       char menu_choice;\n       LList L;\n       do {\n                L.Display();\n\n                // Display the menu\n                L.displayMenu();\n\n                // Prompt the user to enter their menu selection\n                cout &lt;&lt; \"Please make your menu selection: \" &lt;&lt; endl;\n                cin &gt;&gt; menu_choice;\n\n                // Use validation techniques to make sure the user    enters a\n               //valid menu choice\n                while((menu_choice != 'h')&amp;&amp;(menu_choice != 'c')&amp;&amp;\n                (menu_choice != 'C')&amp;&amp;(menu_choice != 'v')&amp;&amp; (menu_choice!= 'V')&amp;&amp;(menu_choice != 'q')&amp;&amp;(menu_choice != 'm')) {\n                        cout &lt;&lt; \"Error Invalid Choice. Re-enter:\";\n                        cin &gt;&gt; menu_choice;\n                }\n                switch(menu_choice) {\n                        case 'h' :\n                                L.displayMenu();\n                        break;\n                        case 'm' :\n\n                               // Read the message from the user\n                                L.ReadForward();\n                        break;\n                        case 'c':\n\n                                // Prompt the user\n                                cout &lt;&lt; \"Enter the numeric key\" ;\n\n                                // Get the user to enter the key\n                                CaesarKey = read_element();\n\n                                // encrypt using ceaser cipher\n                                L.CaesarEncryption(CaesarKey);\n\n                                //display the current message\n                                cout &lt;&lt; \"The current key is \" &lt;&lt; CaesarKey;\n                                cout &lt;&lt; \".\" &lt;&lt; endl;\n                        break;\n                        case 'C':\n\n                                // prompt the user\n                                cout &lt;&lt; \"Enter the numeric key: \";\n\n                                // Get the user to enter the key\n                                CaesarKey = read_element();\n\n                                // decrypt using ceaser cipher\n                                L.CaesarDecryption(CaesarKey);\n                                cout &lt;&lt; \"The current key is \" &lt;&lt; CaesarKey;\n                                cout &lt;&lt; \".\" &lt;&lt; endl;\n                        break;\n                        case 'v':\n\n                                // Prompt the user\n                                cout &lt;&lt; \"Enter the key: \";\n                                // Get the user to enter the key\n                                VigenereKey = cin.get();\n\n                                //encrypt using vigenere cipher\n                                L.VigenereEncryption(VigenereKey);\n\n                                //display the key\n                                cout &lt;&lt; \"The current key is \" &lt;&lt; VigenereKey;\n                                cout &lt;&lt; \".\" &lt;&lt; endl;\n\n                        break;\n                        case 'V':\n\n                                // Prompt the user\n                                cout &lt;&lt; \"Please enter the key: \";\n\n                                //Get the user to enter the Vigenere key\n                                VigenereKey = cin.get();\n\n                                // decrypt using vigenere cipher\n                                L.VigenereDecryption(VigenereKey);\n\n                                //display the key\n                                cout &lt;&lt; \"The current key is \" &lt;&lt; VigenereKey;\n                                cout &lt;&lt; \".\" &lt;&lt; endl;\n                        break;\n                        case 'q' :\n\n                                // Tell the user they are exiting the program\n                                cout &lt;&lt; \"You are quitting the program.\" ;\n                        break;\n                        default:\n                                ;\n                        break;\n                }\n        }while(menu_choice != 'q');\n    return 0;\n}\n\nLList :: LList() {\n        // PRE: NONE\n        // POST: the N.O. LList is valid and empty\n        head = NULL;\n}\n\nLList :: ~LList() {\n          // PRE: the N.O. LList is valud\n         // POST: the N.O. LList is valid and empty, and its\n        //      listnodes have been deleted\n        Clean();\n }\n\nvoid LList :: Print() {\n         // PRE: the N.O. LList is valid\n         // POST: the N.O. LList is unchanged and its\n        //      elements have been displayed\n        listnode * temp;\n        temp = head;\n        while( temp != NULL) {\n                cout &lt;&lt; temp -&gt; data &lt;&lt; endl;\n                temp = temp -&gt; next;\n        }\n}\n\nvoid LList :: InsertHead(element thing) {\n        // PRE : the N.O. LList is valid\n        // POST : the N.O. LList is unchanged, except that a\n        //      new listnode containing element thing\n        //      has been inserted at the head of the list\n        listnode * temp;\n        temp = new listnode;\n        temp -&gt; data = thing;\n        temp -&gt; next = head;\n        temp -&gt; next = head;\n        if(head == NULL)\n                tail = temp;\n        else\n                ;\n        head = temp;\n}\n\nvoid LList :: InsertTail(element thing) {\n        // PRE : the N.O. LList is valid\n        // POST : the N.O. LList is unchanged, except that a\n        //      new listnode containing element thing has been\n        //      inserted at the tail end of the list\n\n        listnode * temp;\n\n        temp = new listnode;\n        temp -&gt; data = thing;\n        temp -&gt; next = NULL;\n        if(head == NULL)\n                head = temp;\n        else\n                tail -&gt; next = temp;\n        tail = temp;\n}\n\nelement LList :: DeleteHead() {\n        // PRE: the N.O. LList is valid and not empty\n        // POST: the N.O. LList is unchanged, except that\n        //      the listnode at the head end of the list has\n        //      been deleted and its data element has\n        //      been returned\n\n        listnode * temp;\n        element thing;\n\n        temp = head;\n        head = head -&gt; next;\n        thing = temp -&gt; data;\n        delete temp;\n        return thing;\n}\n\nvoid LList :: ReadForward() {\n        // PRE: the N.O. LList is valid\n        // POST : the N.O. LList is valid, all of its\n        //      previous listnodes have been deleted, and\n        //      it now consists of new listnodes containing\n        //      elements given by the user in foward order\n\n        Clean();\n        cout &lt;&lt;  \"Enter the message: \";\n        userval = cin.get();\n        while (cin.get() != SENTINEL) {\n                InsertTail(userval);\n                userval = cin.get();\n        }\n\n }\n\n void LList :: ReadBackward() {\n        // PRE: The N.O. LList is valid\n        // POST: the N.O. LList is valid, all of its\n        //      previous listnodes have been deleted,\n        //      and it now consists of new listnodes\n        //      containg elements given by the user\n        // in backwards order\n\n        element userval;\n\n        Clean();\n        cout &lt;&lt; \"Enter the elements: \";\n        userval = read_element();\n        while (userval != SENTINEL) {\n                InsertHead(userval);\n                userval = read_element();\n        }\n\n}\n\nvoid LList :: Clean() {\n        // PRE: the N.O. LList is valid\n        // POST:: the N.O. LList is valid and empty, and all of its\n        //      listnodes have been deleted\n        while( head != NULL)\n                DeleteHead();\n}\n\nvoid LList :: Steal(LList &amp; Victim) {\n        // PRE: the N.O. and Victim LLists are valid\n        // POST : the Victim LList is valid and empty the N.O. LList\n        //      is valid, all of its previous listnodes have been\n        //      deleted, and it now consists of the listnodes originally\n        //      on the Victim LList\n\n        Clean();\n        head = Victim.head;\n        tail = Victim.tail;\n        Victim.head = NULL;\n}\n\nvoid LList :: Duplicate(LList &amp; Source) {\n        // PRE: the N.O. LList and Source LLists are valid\n        // POST :: the Source LList is unchanged\n        //      the N.O. LList is valid, all of its previous listnodes\n        //      have been deleted, and it now consists of listnodes\n        //      containing the same elements and in the same order as on\n        //      the Source LList\n\n        listnode * temp;\n\n        temp = Source.head;\n        while (temp != NULL) {\n                InsertTail(temp -&gt; data);\n                temp = temp -&gt; next;\n        }\n}\n\nvoid LList :: Reverse() {\n         // PRE: the N.O. LList is valid\n         // POST: the N.O. LList is unchanged, excepts its elements are in\n        //      reverse order\n\n        listnode * temp;\n        LList Helper;\n\n        temp = head;\n        while(temp != NULL) {\n                Helper.InsertHead(temp -&gt; data);\n                temp = temp -&gt; next;\n        }\n        Steal(Helper);\n}\n\nelement read_element() {\n        element userval;\n        cin &gt;&gt; userval;\n        while(!cin.good()) {\n                cin.clear();\n                cin.ignore(80, '\\n');\n                cout &lt;&lt; \"Invalid data type, should be an element ( \";\n                cout  &lt;&lt; ELEMENT_NAME &lt;&lt; \" ), try agian. \" &lt;&lt; endl;\n                cin &gt;&gt; userval;\n        }\n        return userval;\n}\nvoid LList :: displayMenu() {\n        // PRE: none\n        // POST: the menu is displayed for the user along with the current\n        userval = ' ';\n        EncryptedMessage = ' ';\n        DecryptedMessage = ' ';\n        cout &lt;&lt; \"------------------------------------------------------------\";\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"Command (h for help): h\" &lt;&lt; endl;\n        cout &lt;&lt; \"m : enter a new current message from the keyboard\" &lt;&lt; endl;\n        cout &lt;&lt; \"c : encrypt the current message using the Caesar Cipher\";\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"C : decrypt the current message using the Caesar Cipher\";\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"v : encrypt the current message using the Vigenere Cipher\";\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"V : decrypt the current message using the Vigenere Cipher\";\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"h : show the help menu\" &lt;&lt; endl;\n        cout &lt;&lt; \"q : quit the program\" &lt;&lt; endl;\n}\nvoid LList :: CaesarEncryption(element CaesarKey) {\n        //PRE:\n        // POST:\n        int num;\n        num = userval;\n        for(int x = 0;  x &lt; num; x++){\n                if(userval &gt;= 'A' &amp;&amp; userval &lt;='Z') {\n                    EncryptedMessage=(char)(((userval+CaesarKey-'A'+26)%26)+'A');\n                }\n                else if(userval &gt;= 'a' &amp;&amp; userval &lt;= 'z') {\n                    EncryptedMessage=(char)(((userval+CaesarKey-'a'+26)% 26)+'a');\n                }\n                else\n                        ;\n        }\n        cout &lt;&lt; \"-------------------------------------------------------\"&lt;&lt;endl;\n        cout &lt;&lt; \"The encrypted message is \" &lt;&lt; EncryptedMessage &lt;&lt; \".\"&lt;&lt;endl;\n}\nvoid LList:: CaesarDecryption(element CaesarKey) {\n        //PRE:\n        //POST:\n        int num;\n        num = userval;\n        for(int x = 0; x &lt; num; x++) {\n                if(userval &gt;= 'A' &amp;&amp; userval &lt;= 'Z') {\n                        DecryptedMessage = (char)(((userval  - CaesarKey + 26) % 26) + 'A');\n                }\n                else if(userval &gt;= 'a' &amp;&amp; userval &lt;= 'z') {\n                        DecryptedMessage = (char)(((userval -CaesarKey + 26)% 26) + 'a');\n                }\n                else\n                        ;\n        }\n        cout &lt;&lt; \"-------------------------------------------------------\"&lt;&lt;endl;\n        cout &lt;&lt; \"The decrypted message is  '\"&lt;&lt; DecryptedMessage &lt;&lt; \"'.\"&lt;&lt;endl;\n}\nvoid LList :: VigenereEncryption(char VigenereKey) {\n        //PRE:\n        //POST:\n        unsigned int j = 0;\n        for(int x = 0; x &lt; userval; x++) {\n                if(isalpha(x)) {\n                EncryptedMessage += VigenereKey;\n                        if(userval &gt; 'Z')\n                                EncryptedMessage += 'Z' + 'A' - 1;\n                        else\n                                ;\n                }\n                else\n                        ;\n        }\n\n        cout &lt;&lt; \"-------------------------------------------------------\"&lt;&lt;endl;\n        cout &lt;&lt; \"The encrypted message is '\" &lt;&lt; EncryptedMessage &lt;&lt; \"'.\"&lt;&lt;endl;\n}\nvoid LList :: VigenereDecryption(char VigenereKey) {\n        // PRE:\n        //POST:\n        int num;\n        num = userval;\n        for(int x = 0; x &lt; num; x++) {\n                if(isalpha(x))\n                DecryptedMessage = (userval - VigenereKey % 26);\n        }\n\n        cout &lt;&lt; \"------------------------------------------------------\"&lt;&lt;endl;\n        cout &lt;&lt; \"The decrypted message is \\\"\" &lt;&lt;DecryptedMessage &lt;&lt; \"\\\".\"&lt;&lt;endl;\n}\n\nvoid LList :: Display() {\n        //PRE\n        //POST\n        cout &lt;&lt; \"--------------------------------------------------\"&lt;&lt;endl;\n        if(userval = ' ')\n                cout &lt;&lt; \"The current message is  \\\"\\\". \" &lt;&lt; endl;\n         else {\n                cout &lt;&lt; \"The current message is \\\"\" &lt;&lt; userval &lt;&lt; \"\\\".\" &lt;&lt; endl;\n                cout &lt;&lt; \"----------------------------------------------------\";\n                cout &lt;&lt; endl;\n        }\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 69, "user_id": 1883675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6b3f21d0ae3abeccb46332fbaee0c9?s=128&d=identicon&r=PG", "display_name": "bigbadpiano", "link": "https://stackoverflow.com/users/1883675/bigbadpiano"}, "edited": false, "score": 0, "creation_date": 1480536516, "post_id": 40897214, "comment_id": 69008227, "body": "I should add, very occasionally it actually runs okay, and also sometimes it gives the error &quot;segmentation fault: 11&quot; instead"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1480536615, "post_id": 40897214, "comment_id": 69008281, "body": "<b><i>object was probably modified after being freed.</i></b> I would look into that.."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1480536648, "post_id": 40897214, "comment_id": 69008295, "body": "<b><i>I should add, very occasionally it actually runs okay, and also sometimes it gives the error &quot;segmentation fault: 11&quot; instead</i></b> This is a clear indication of Undefined Behavior."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 3, "creation_date": 1480536732, "post_id": 40897214, "comment_id": 69008337, "body": "This will cause you trouble: <b><i>toeplitz tp = toeplitz(array, len);</i></b> you didn&#39;t follow the rule of 3/5 with your class. As a result you will double delete your matrix."}, {"owner": {"reputation": 69, "user_id": 1883675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6b3f21d0ae3abeccb46332fbaee0c9?s=128&d=identicon&r=PG", "display_name": "bigbadpiano", "link": "https://stackoverflow.com/users/1883675/bigbadpiano"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1480537594, "post_id": 40897214, "comment_id": 69008775, "body": "I&#39;m unaware of what exactly the rule of 3/5 is, could you explain or provide a link to explanation?"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480537744, "post_id": 40897214, "comment_id": 69008852, "body": "@bigbadpiano <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/rule_of_three</a>"}, {"owner": {"reputation": 69, "user_id": 1883675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6b3f21d0ae3abeccb46332fbaee0c9?s=128&d=identicon&r=PG", "display_name": "bigbadpiano", "link": "https://stackoverflow.com/users/1883675/bigbadpiano"}, "edited": false, "score": 0, "creation_date": 1480537986, "post_id": 40897214, "comment_id": 69009018, "body": "Okay thanks, I guess what he&#39;s saying is that I should&#39;ve defined a copy assignment and copy constructor since I have defined the destructor. It seems to work without anyway, even if it&#39;s bad coding practice"}], "answers": [{"comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480536745, "post_id": 40897287, "comment_id": 69008349, "body": "Or even better a vector (yes yes I know the vector wont change size, but hey, it avoids manual memory management! and probably would have thrown an index out of bounds exception)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480536833, "post_id": 40897287, "comment_id": 69008392, "body": "Using a vector doesn&#39;t guarantee boundary check with <code>[]</code> operator. You&#39;ll have to use <code>vector::at</code> to check for bounds. But agreed (and was editing my answer when you commented)"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480536947, "post_id": 40897287, "comment_id": 69008455, "body": "Yeah I know its not a guarantee, that&#39;s why I said probably. I <i>think</i> VS&#39; implementation has asserts to that effect YMMV. ;) (Don&#39;t worry you already got my upboat)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480537031, "post_id": 40897287, "comment_id": 69008503, "body": "I remember getting fed up by that and inherited from <code>vector</code> to add boundary checking to <code>[]</code> when a macro definition was enabled."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480537191, "post_id": 40897287, "comment_id": 69008568, "body": "the compiler should definitely warn you (or provide a warn switch) about allocating 1 element using <code>new</code> on POD types. That would avoid this classical mistake that everyone has made once."}, {"owner": {"reputation": 69, "user_id": 1883675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6b3f21d0ae3abeccb46332fbaee0c9?s=128&d=identicon&r=PG", "display_name": "bigbadpiano", "link": "https://stackoverflow.com/users/1883675/bigbadpiano"}, "edited": false, "score": 0, "creation_date": 1480537428, "post_id": 40897287, "comment_id": 69008685, "body": "Thanks a bunch, this did the trick. This is actually for a class on c++ and we are asked to dynamically allocate the array using new, but thanks for the heads up vectors"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1480537516, "post_id": 40897287, "comment_id": 69008729, "body": "You&#39;re welcome. I hope you&#39;ll tell your teacher that C-arrays are <i>evil</i>."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1480537090, "last_edit_date": 1480537090, "creation_date": 1480536678, "answer_id": 40897287, "question_id": 40897214, "link": "https://stackoverflow.com/questions/40897214/incorrect-checksum-for-freed-object-error-when-printing/40897287#40897287", "title": "Incorrect checksum for freed object - error when printing", "body": "<p>You stumbled on the classical:</p>\n\n<pre><code>matrix = new double(size*size);\n</code></pre>\n\n<p>which allocates a double worth <code>size*size</code> when you wanted to do:</p>\n\n<pre><code>matrix = new double[size*size];\n</code></pre>\n\n<p>to allocate an array of the proper size. So you get undefined behaviour. Sometimes it works sometimes not depending on the memory configuration.</p>\n\n<p>Since you're using C++, I suggest you use <code>std::vector&lt;double&gt;</code> or Eigen matrix template, and drop C arrays forever (no more memory leaks, no more failed allocations, possible boundary checking, only advantages)</p>\n"}], "owner": {"reputation": 69, "user_id": 1883675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6b3f21d0ae3abeccb46332fbaee0c9?s=128&d=identicon&r=PG", "display_name": "bigbadpiano", "link": "https://stackoverflow.com/users/1883675/bigbadpiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "accepted_answer_id": 40897287, "answer_count": 1, "score": 1, "last_activity_date": 1480537090, "creation_date": 1480536414, "question_id": 40897214, "link": "https://stackoverflow.com/questions/40897214/incorrect-checksum-for-freed-object-error-when-printing", "title": "Incorrect checksum for freed object - error when printing", "body": "<p>I have made a class that's supposed to make a symmetric toeplitz matrix (<a href=\"https://en.wikipedia.org/wiki/Toeplitz_matrix\" rel=\"nofollow noreferrer\">see here</a>). The implementation of the class is shown here </p>\n\n<pre><code>class toeplitz{\nprivate:\n    int size;\n    double* matrix;\npublic:\n    toeplitz(const double* array, const int dim){\n         size = dim;\n         matrix = new double(size*size);\n         for(int i = 0; i &lt; size; i++){\n             for (int j = 0; j &lt; size; j++){\n                 int index = std::abs(i - j);\n                 matrix[i*size + j] = array[index];\n             }\n         }\n    }\n\n    ~toeplitz(){\n        delete[] matrix;\n    }\n\n    void print() const{\n        //loop over rows\n        for (int i = 0; i &lt; size; i++){\n            //loop over colums\n            for (int j = 0; j &lt; size; j++){\n                double out = matrix[i*size + j];\n                std::cout &lt;&lt; std::setw(4) &lt;&lt; out;\n            }\n        //start new line for each row\n        std::cout &lt;&lt; \"\\n\";\n        }\n    }\n\n};\n</code></pre>\n\n<p>I can't see what's wrong with this, but when I try and use this in a simple test function, I get malloc errors. The main function I have is </p>\n\n<pre><code>int main(){\n    double array[] = {0,1,1,2};\n    int len = sizeof(array)/sizeof(array[0]);\n    std::cout&lt;&lt;\"length of array \" &lt;&lt; len &lt;&lt; std::endl;\n    toeplitz tp = toeplitz(array, len);\n    tp.print();\n}\n</code></pre>\n\n<p>It compiles and runs when I leave out the tp.print() line, but when I add this line I get error </p>\n\n<pre><code>test_toeplitz(8747,0x7fffdbee63c0) malloc: *** error for object 0x7fb119402788: \nincorrect checksum for \nfreed object - object was probably modified after being freed.\n*** set a breakpoint in malloc_error_break to debug\nAbort trap: 6\n</code></pre>\n\n<p>I cannot figure out why this is. I've looked at the other questions about this on here but I can't tell how they relate to what I've done. As I understand it has to do with either double freeing memory or trying to modify memory after it's been freed, but I can't see where my code is doing that. Any insight into what's going on would be appreciated.</p>\n"}, {"tags": ["c++", "c++11", "templates", "clang"], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1482272160, "creation_date": 1482272160, "answer_id": 41252106, "question_id": 40897078, "link": "https://stackoverflow.com/questions/40897078/clangast-type-traitsdyntypednodeget-cant-infer-template-argument-t/41252106#41252106", "title": "clang::ast_type_traits::DynTypedNode::get() cant infer template argument &#39;T&#39;", "body": "<p>The template parameter <code>T</code> here:</p>\n\n<pre><code>template &lt;typename T&gt;\nconst T *get() const { ... }\n</code></pre>\n\n<p>is a <em>non-deduced context</em>. It cannot be deduced from the arguments to the function call. You're trying to call this function without providing a type for <code>T</code>, hence the error.</p>\n\n<p>You will need to write:</p>\n\n<pre><code>const ImplicitCastExpr* ParentICE = ParentNode.get&lt;ImplicitCastExpr&gt;();\n                                              //  ^^^^^^^^^^^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 5006220, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f435d9f53020fb2925567940e2b8d155?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad Sadeghi", "link": "https://stackoverflow.com/users/5006220/farzad-sadeghi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 1, "accepted_answer_id": 41252106, "answer_count": 1, "score": 1, "last_activity_date": 1482272160, "creation_date": 1480535903, "last_edit_date": 1480538035, "question_id": 40897078, "link": "https://stackoverflow.com/questions/40897078/clangast-type-traitsdyntypednodeget-cant-infer-template-argument-t", "title": "clang::ast_type_traits::DynTypedNode::get() cant infer template argument &#39;T&#39;", "body": "<p>I have this code snippet:</p>\n\n<pre><code>ASTContext::DynTypedNodeList NodeList = ASTC-&gt;getParents(*DRE);\nast_type_traits::DynTypedNode ParentNode = NodeList[0];\n/*some code here to determine if the NodeKind is ImplicitCastExpr*/\nconst ImplicitCastExpr* ParentICE = ParentNode.get();\n</code></pre>\n\n<p>basically, its getting the parent of a match-node and then if its an\n<code>ImplicitCastExpr()</code>, i want to get the node as one and do some further\nchecks.\nwhen i try to compile the code, for <code>DynTypedNode::get()</code>, i get this:</p>\n\n<pre><code>mutator-lvl0.cpp:1644:30: error: no matching member function for call to 'get'\n      ParentICE = ParentNode.get();\n                  ~~~~~~~~~~~^~~\n/home/bloodstalker/llvm/llvm/llvm/tools/clang/include/clang/AST/ASTTypeTraits.h:233:12:\nnote: candidate template ignored: couldn't infer template argument 'T'\n  const T *get() const {\n</code></pre>\n\n<p>here's the declaration from the header:</p>\n\n<pre><code>template &lt;typename T&gt;\nconst T *get() const {\n  return BaseConverter&lt;T&gt;::get(NodeKind, Storage.buffer);\n}\n</code></pre>\n\n<p>what am I doing wrong?</p>\n"}, {"tags": ["c++", "c++11", "template-meta-programming"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480536046, "post_id": 40897011, "comment_id": 69007995, "body": "What do you do with &quot;missing&quot; data that is not initialized (via flags?)  What do you do if the missing elements are not uniform over the range you are iterating over?  Have you seen boost zip iterators?  I am guessing you only need <code>for(:)</code> ranged-based loop iteration?"}, {"owner": {"reputation": 209, "user_id": 4111179, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/87a5bc8cb593050fce4c303417a31007?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/4111179/brian"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480537970, "post_id": 40897011, "comment_id": 69009010, "body": "Oh sorry for not explaining the behavior for &quot;missing&quot; data. I&#39;d want to skip over that slot. I want both a &#39;for(:)&#39; based loop, and a iterator member for the full for loop."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 3, "last_activity_date": 1480820854, "last_edit_date": 1480820854, "creation_date": 1480536771, "answer_id": 40897309, "question_id": 40897011, "link": "https://stackoverflow.com/questions/40897011/how-to-implement-a-subset-iterator-for-a-class-with-n-number-of-vectors-in-it/40897309#40897309", "title": "How to implement a subset iterator for a class with N number of vectors in it", "body": "<p>Write a range view type.  A range view has two iterators, a begin and an end, and exposes <code>.begin()</code> and <code>.end()</code>.  Returning a range view of iterators lets you do a <code>for(:)</code> loop without copying anything.</p>\n\n<p>Next you'll want an iterator over the selected elements.  I can think of two approaches.</p>\n\n<p>First, a zip iterator.  A zip iterator has a tuple of iterators, and it advances them in parallel.  When you dereference, it returns a <code>std::tie</code> of the dereference of each iterator.</p>\n\n<p>Second option, a generator iterator.  A generator iterator has an index, and a function that maps from the index to some type.  <code>++</code> and <code>==</code> etc just advance/compare the index.  <code>*</code> returns the result of the function call.  In this case, you'd return a <code>tie</code> from the function.</p>\n\n<p>I typically impelement a generator iterator by starting with an indexing iterator (that stores an index, and <code>*</code> returns a copy of it), then writing a transform iterator (that stores an iterator, forwards <code>==</code> and <code>++</code> and the like to it, stores a function <code>f</code>, and on <code>*</code> does <code>f(*it)</code> where <code>it</code> is the stored iterator).  A generator iterator is now just a <code>transform_iterator&lt;F(index_iterator)&gt;</code>.</p>\n\n<hr>\n\n<p>These are both effectively limited to satisfying the axioms of an input iterator, due to the rules around <code>::reference</code> type and the like.  However, an input iterator is more than enough to do a <code>for(:)</code> loop; what more, a <code>for(:)</code> loop doesn't even need a legal iterator, as it is defined in terms of code not iterator semantics.</p>\n\n<hr>\n\n<p>The generator/transform iterator is sufficient, and both are useful in other contexts, so I'd go with that approach.</p>\n\n<p>You can choose to type-erase the transformation (into a <code>std::function&lt; T(std::size_t) &gt;</code>) if you want.</p>\n\n<pre><code>template&lt;class T&gt;\nusing any_generator_iterator = transform_iterator&lt; std::function&lt;T(std::size_t)&gt;( indexing_iterator ) &gt;;\n</code></pre>\n\n<p>Now to iterate over types A B and C we do:</p>\n\n<pre><code>template&lt;class...Ts,\n  class R=std::tuple&lt;Ts&amp;...&gt;,\n  class It=any_generator_iterator&lt;R&gt;\n&gt;\nrange_view&lt; It &gt;\niterate_over() {\n  auto get = [this](std::size_t i)-&gt;R {\n    return std::tie( this-&gt;get&lt;Ts&gt;()... );\n  };\n  return { {get, 0}, {{}, count} };\n}\n</code></pre>\n\n<p>elsewhere:</p>\n\n<pre><code>for( auto i : foo.iterate_over&lt;A,B,C&gt;() ) {\n  auto&amp;&amp; a = std::get&lt;0&gt;(i);\n  auto&amp;&amp; b = std::get&lt;1&gt;(i);\n  auto&amp;&amp; c = std::get&lt;2&gt;(i);\n  // code\n}\n</code></pre>\n\n<p>with a pile of library code on top of it.</p>\n\n<p>Most, if not all, of this has been solved in <code>boost</code>.</p>\n"}], "owner": {"reputation": 209, "user_id": 4111179, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/87a5bc8cb593050fce4c303417a31007?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/4111179/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 40897309, "answer_count": 1, "score": 1, "last_activity_date": 1480820854, "creation_date": 1480535656, "question_id": 40897011, "link": "https://stackoverflow.com/questions/40897011/how-to-implement-a-subset-iterator-for-a-class-with-n-number-of-vectors-in-it", "title": "How to implement a subset iterator for a class with N number of vectors in it", "body": "<p>If I had a class that holds N number of equally sized <code>vectors</code>. How would I go about implementing a standard iterator template that would iterate between 1 and N number of the vectors together. I wrote a small example demonstrating the problem. </p>\n\n<pre><code>#include &lt;bitset&gt;\n#include &lt;tuple&gt;\n#include &lt;type_traits&gt;\n#include &lt;vector&gt;\n\n//Since std::get&lt;&gt;() for types isn't in c++11, I use this meta-function to determine the index\n//of a Type in a list of Types, starting from 0. ex: IndexOf&lt;C,  A, B, C&gt;::value = 2\ntemplate &lt;typename T, typename... Ts&gt;\nstruct IndexOf;\n\ntemplate &lt;typename T, typename... Ts&gt;\nstruct IndexOf&lt;T, T, Ts...&gt; : std::integral_constant&lt;std::size_t, 0&gt; {};\n\ntemplate &lt;typename T, typename U, typename... Ts&gt;\nstruct IndexOf&lt;T, U, Ts...&gt; : std::integral_constant&lt;std::size_t, 1 + IndexOf&lt;T, Ts...&gt;::value&gt; {};\n\n//Used to determine the slot we're interesting in.\nusing Handle = const std::size_t;\n\ntemplate&lt;typename... Types&gt;\nclass DataManager\n{\n    static constexpr std::size_t TypeCount = sizeof... (Types);\n    using Flags = std::bitset&lt;TypeCount&gt;; //BitMask to determine if the handle has a certain piece of data initialized\n\n    std::size_t count, capacity;\n    std::tuple&lt;std::vector&lt;Types&gt;..., std::vector&lt;Flags&gt;&gt; vectors; //Tuple of vectors, holding the types and flags.\npublic:\n    DataManager(std::size_t n) : count(0), capacity(n),\n    vectors(std::make_tuple(std::vector&lt;Types&gt;(n)..., std::vector&lt;Flags&gt;(n)))\n    {}\n\n    template &lt;typename Type, typename... Args&gt;\n    void add(Handle handle, Args&amp;&amp;... args) { //Initializes the type in the handle slot of the vector\n        Flags&amp; flags = std::get&lt;TypeCount&gt;(vectors)[handle];    //Flag the bit, notify that handle\n        flags.set(IndexOf&lt;Type, Types...&gt;::value);              //has that piece of data initialized\n\n        std::get&lt;IndexOf&lt;Type, Types...&gt;::value&gt;(vectors)[handle] = Type{ args... };\n    }\n\n    template &lt;typename Type&gt;\n    Type&amp; get(Handle handle) { //Returns the Type in handle slot of the vector\n        return std::get&lt;IndexOf&lt;Type, Types...&gt;::value&gt;(vectors)[handle];\n    }\n\n    template &lt;typename Type&gt;\n    bool has(Handle handle) { //Returns true if the Type is initialized, by checking the bitset\n        Flags&amp; flags = std::get&lt;TypeCount&gt;(vectors)[handle];\n        return flags.test(IndexOf&lt;Type, Types...&gt;::value);\n    }\n\n    Handle push_back() {\n        return count++;\n    }\n};\n</code></pre>\n\n<p>Which I currently use like this to access data:</p>\n\n<pre><code>//Simple Data\nstruct D0 { int x, y;    };\nstruct D1 { float  n, m; };\nstruct D2 { int x, y, z; };\n\nint main()\n{\n    DataManager&lt;D0, D1, D2&gt; manager(100);\n    Handle h0 = manager.push_back();\n\n    std::cout &lt;&lt; manager.has&lt;D0&gt;(h0) &lt;&lt; std::endl;   //prints false, h0 doesn't have D0 initialized\n    manager.add&lt;D0&gt;(h0, 75, 20);                     //initialize D0 for h0\n\n    std::cout &lt;&lt; manager.has&lt;D0&gt;(h0) &lt;&lt; std::endl;   //prints ture, h0 is now initialzed\n    std::cout &lt;&lt; manager.get&lt;D0&gt;(h0).x &lt;&lt; std::endl; //prints 75\n}\n</code></pre>\n\n<p>How could I add iterator functionality to the DataManager class, that would only iterate over selected data like this?</p>\n\n<pre><code> int main() \n {\n     ...\n     for (D0 d1, D3 d3 : manager) {\n         ... //Iterate over all D0s and D3s between 0 and count\n     }\n     //or \n     for(DataManager&lt;D0&gt;::iterator it = v.begin(); it != v.end(); ++it {\n         ... //Iterate over just D0s between 0 and count - 10\n     }\n }\n</code></pre>\n"}, {"tags": ["c++", "math", "recursion"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1480535667, "post_id": 40896953, "comment_id": 69007788, "body": "There are almost an infinity of relationships between binomials. Pick one that seems suitably recursive. Use it."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1480535738, "post_id": 40896953, "comment_id": 69007833, "body": "Well, you don&#39;t need to compute the full factorials as you&#39;re doing now to compute C(n, r).  Write out the formula on paper and cancel out the values -- you should be left with just a few multiplications.  For example <code>C(52, 51)</code> -- you certainly don&#39;t need to calculation 52! and 51! to get the answer."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1480536348, "post_id": 40896953, "comment_id": 69008147, "body": "I think <b>a good way</b> to approach this is to present Pascal&#39;s triangle by computing each number from the previous one on that line, using a fixed number of arithmetical operations per number. The computation can use information such as the number&#39;s placement on the line. I remember doing this in high school (on an i8085 computer), so, it&#39;s very much doable, and instructive. This then gives you a relationship that can easily be expressed as a recursive formula. And then used in your <code>choose</code> function."}], "answers": [{"comments": [{"owner": {"reputation": 22608, "user_id": 618598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/37b955736b6911e9bbfd417c6aede9ca?s=128&d=identicon&r=PG", "display_name": "Bernd Elkemann", "link": "https://stackoverflow.com/users/618598/bernd-elkemann"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1480535976, "post_id": 40897077, "comment_id": 69007951, "body": "@Cheersandhth.-Alf fixed"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1480536014, "post_id": 40897077, "comment_id": 69007974, "body": "Oh. Well, C(n,r)=n*C(n-1,r) reduces to pure factorial, so also that&#39;s a bit wrong?"}], "tags": [], "owner": {"reputation": 22608, "user_id": 618598, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/37b955736b6911e9bbfd417c6aede9ca?s=128&d=identicon&r=PG", "display_name": "Bernd Elkemann", "link": "https://stackoverflow.com/users/618598/bernd-elkemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1480536665, "last_edit_date": 1480536665, "creation_date": 1480535897, "answer_id": 40897077, "question_id": 40896953, "link": "https://stackoverflow.com/questions/40896953/converting-to-a-recursive-function/40897077#40897077", "title": "Converting to a Recursive Function?", "body": "<p>First please note that the argument order in your choose-function are switched compared to those in the C-function.</p>\n\n<p>Now what your instructor means is that he wants the choose-function recursive for example like so:</p>\n\n<pre><code>C(n, r) = n! / (r! \u00b7 (n \u2013 r)!) = n/(n-r) * (n-1)! / (r! \u00b7 (n -1 \u2013 r)!) = n/(n-r)*C(n-1, r)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1480539380, "post_id": 40897090, "comment_id": 69009796, "body": "I&#39;m wondering if the students were expected to be able to derive the recurrent definition. With a helper (entry) function, the number of recursions could be reduced by starting with C(N, K) = C(N, min(N-K, K)), where min() is the minimum value function. For example C(10,8) == C(10,2)"}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1480542021, "post_id": 40897090, "comment_id": 69011225, "body": "The recurrent definition should start with C(N, 0) = 1. See <a href=\"http://en.wikipedia.org/wiki/Binomial_coefficient#Recursive_formula\" rel=\"nofollow noreferrer\">boundary values</a>"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 4, "last_activity_date": 1480537614, "last_edit_date": 1480537614, "creation_date": 1480535951, "answer_id": 40897090, "question_id": 40896953, "link": "https://stackoverflow.com/questions/40896953/converting-to-a-recursive-function/40897090#40897090", "title": "Converting to a Recursive Function?", "body": "<p>I think your instructor wants you to use this <a href=\"https://en.wikipedia.org/wiki/Binomial_coefficient#Identities_involving_binomial_coefficients\" rel=\"nofollow noreferrer\">recurrent definition</a>:</p>\n\n<pre><code>C(N, 1) = N\nC(N, K) = C(N, K-1) * (N + 1 - K) / K\n</code></pre>\n\n<p>This definition lets you avoid using factorial, recursing inside your <code>choose</code> function.</p>\n"}], "owner": {"reputation": 83, "user_id": 6387089, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b1d503088cb529c43f2d4dbe0d714ba?s=128&d=identicon&r=PG&f=1", "display_name": "digggzz", "link": "https://stackoverflow.com/users/6387089/digggzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1480543589, "creation_date": 1480535438, "last_edit_date": 1480543589, "question_id": 40896953, "link": "https://stackoverflow.com/questions/40896953/converting-to-a-recursive-function", "title": "Converting to a Recursive Function?", "body": "<p>I still have trouble with basic recursion. So I have two function shown as </p>\n\n<pre><code>unsigned long factorial(int x)\n{\n    // recursive function to find factorial \n\n    if(x==1)\n        return 1; // base case \n    return x * (factorial(x-1)); // recursive call \n}\n\n\nint choose(int choose, int choose_from)\n{\n    // function to find how many different ways to \"choose\"\n    // calls factorial function multiple times\n\n    return factorial(choose_from) / (factorial(choose) * factorial(choose_from - choose));\n}\n</code></pre>\n\n<p>My instructor told me this is actually wrong and I should be recursing in the choose function. I don't see how since the choose formula is given as <strong>C(n, r) = n! / (r! \u00b7 (n \u2013 r)!)</strong>, and since all that is being recursed is the factorials, I just made a separate factorial function. </p>\n\n<p>How would these two functions, without using new libraries, become one recursive function? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480535240, "post_id": 40896856, "comment_id": 69007553, "body": "Take a look at <a href=\"http://www.cplusplus.com/doc/tutorial/files/\" rel=\"nofollow noreferrer\">cplusplus.com/doc/tutorial/files</a>  which shows you how to open a file and loop over the lines in it. You want to loop over the lines until you find one that matched the input userID."}, {"owner": {"reputation": 1, "user_id": 7232700, "user_type": "registered", "profile_image": "https://graph.facebook.com/1384585691551978/picture?type=large", "display_name": "Daniel Choi", "link": "https://stackoverflow.com/users/7232700/daniel-choi"}, "reply_to_user": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1481530740, "post_id": 40896856, "comment_id": 69397605, "body": "Your suggestion seemed the best to work with! :)"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480536779, "post_id": 40896914, "comment_id": 69008367, "body": "Your first example would match &quot;345&quot; to &quot;12345678&quot;, no? This probably isn&#39;t what is wanted. std::string::compare is probably a better option (<a href=\"http://www.cplusplus.com/reference/string/string/compare/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/string/string/compare</a>)"}], "tags": [], "owner": {"reputation": 623, "user_id": 7211268, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d89e0ff1ef10a21b96c7ba9f8dd0a3a2?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7211268/j-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535311, "creation_date": 1480535311, "answer_id": 40896914, "question_id": 40896856, "link": "https://stackoverflow.com/questions/40896856/locating-and-validating-a-specific-user-id-from-txt-file-for-c/40896914#40896914", "title": "Locating and validating a specific user ID from .txt file for c++", "body": "<p>You're going to want to use std::string::find.</p>\n\n<p>Example:</p>\n\n<pre><code>if (fullString.find(partOfString) != std::string::npos) {\n    std::cout &lt;&lt; \"found!\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>So in your example, the line of the text document you're on will be the <code>fullString</code> and the userID entered will be the partOfString. You could also just do a direct comparison with something like</p>\n\n<pre><code>if (userString == lineFromFile)\n{\n    //do something\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480536644, "post_id": 40897050, "comment_id": 69008294, "body": "This answer misleading. If you have a text file with one ID per line, of course you can scan it just by iterating over the lines and checking if they match the ID you&#39;re looking for. Of course a proper database may be a better solution, but may be overkill for OP&#39;s purposes."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480538758, "post_id": 40897050, "comment_id": 69009443, "body": "Not misleading at all, since the OP has explicitly said they want to scan just the one line they&#39;re interested in - well, that&#39;s just not possible, and if it was then you&#39;d make a market leading database."}, {"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480540738, "post_id": 40897050, "comment_id": 69010531, "body": "Perhaps OP can clarify - I think their overall aim is just to check whether ID exists in the file. But yes, as you say it&#39;s not possible to do that without reading all of the file (up until a matching line is found, if any). The question was about how to read and parse a text file though, so a better answer would be to give some hints on how to do that and what the limitations are, rather than just saying &quot;you can&#39;t&quot;"}], "tags": [], "owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535793, "creation_date": 1480535793, "answer_id": 40897050, "question_id": 40896856, "link": "https://stackoverflow.com/questions/40896856/locating-and-validating-a-specific-user-id-from-txt-file-for-c/40897050#40897050", "title": "Locating and validating a specific user ID from .txt file for c++", "body": "<p>\"Specifically scan 123456 in the .txt file\" - you can't.  What you have is a text file, not a database.  If your file is very big, I would argue that the solution would be to use a database (eg sqlite) and let that generate an index for you.  You can then query the database for any userIds matching xyz.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1995552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07046212343f5f3b2b5f149038ffa6ab?s=128&d=identicon&r=PG", "display_name": "Chris Phelps", "link": "https://stackoverflow.com/users/1995552/chris-phelps"}, "is_accepted": false, "score": 0, "last_activity_date": 1480539403, "creation_date": 1480539403, "answer_id": 40898053, "question_id": 40896856, "link": "https://stackoverflow.com/questions/40896856/locating-and-validating-a-specific-user-id-from-txt-file-for-c/40898053#40898053", "title": "Locating and validating a specific user ID from .txt file for c++", "body": "<p>Assuming you know how to <a href=\"http://www.cplusplus.com/doc/tutorial/files/\" rel=\"nofollow noreferrer\">open the file using fstream</a> and whatnot, you could do something like a while loop. </p>\n\n<pre><code>ifstream yourFile;\nint userID, wantedID;\nbool found = false;\n\n//open file\nwhile(yourFile &gt;&gt; userID &amp;&amp; found == false){ //this says while there is numbers that can be put into UIN, do this. This way it won't keep trying after it has run out of numbers, and will also stop if/when it is found, whichever comes first.\n    if(UserID == wantedID){\n        found = true;\n    }\n }\n</code></pre>\n\n<p>So what this will allow to do is search the entire file for the ID, and when it's found stop searching. You can then do what you wish with it, though you would also most likely still want to check the found boolean when working with the userID, in case it wasn't found and ran out of numbers.</p>\n"}], "owner": {"reputation": 1, "user_id": 7232700, "user_type": "registered", "profile_image": "https://graph.facebook.com/1384585691551978/picture?type=large", "display_name": "Daniel Choi", "link": "https://stackoverflow.com/users/7232700/daniel-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1480539403, "creation_date": 1480535038, "question_id": 40896856, "link": "https://stackoverflow.com/questions/40896856/locating-and-validating-a-specific-user-id-from-txt-file-for-c", "title": "Locating and validating a specific user ID from .txt file for c++", "body": "<p>I was unsure on how to read specific points of information on reading a text file. What I am trying to do is.</p>\n\n<ol>\n<li>Get user ID from their input (cin >> userID)</li>\n<li>Program checks for ID if it exists in the database (read .txt file)</li>\n<li>If ID exists, proceed to next portion</li>\n<li><p>Else, cout error Message</p>\n\n<p><code>//Example text from the file:</code></p>\n\n<p><code>12345678\n23456789\n34567890\n45678901\netc. \netc.\netc.</code></p></li>\n</ol>\n\n<p>Here, if user entered \"12345678\", I want to learn how I would allow c++ to only specifically scan 12345678 in the .txt file. Therefore generating a  \"<em>Identification Verified.</em>\" message. Or can someone generous direct me to a proper link?</p>\n"}, {"tags": ["c++", "qt", "audio", "qmediaplayer", "vorbis"], "answers": [{"comments": [{"owner": {"reputation": 1672, "user_id": 2158002, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OiczH.jpg?s=128&g=1", "display_name": "Akiva", "link": "https://stackoverflow.com/users/2158002/akiva"}, "edited": false, "score": 0, "creation_date": 1480567484, "post_id": 40899950, "comment_id": 69018852, "body": "The issue for me I think is different. After trying the code in main, things work swimmingly, so your code works. Trying it however in my own class, I can wait for a year and that signal will never trigger. Changing it to this however: <code>QObject::connect(&amp;m_MediaPlayer, &amp;QMediaPlayer::durationChanged, [&amp;](qint64 fun)</code> worked."}, {"owner": {"reputation": 1672, "user_id": 2158002, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OiczH.jpg?s=128&g=1", "display_name": "Akiva", "link": "https://stackoverflow.com/users/2158002/akiva"}, "edited": false, "score": 0, "creation_date": 1480567592, "post_id": 40899950, "comment_id": 69018883, "body": "By the way, I tried googling it, but for the love of me I can&#39;t find anything on it. What does the syntax <code>[&amp;]</code> do? I have never seen anything like it."}, {"owner": {"reputation": 7180, "user_id": 2666212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874561e399041a45c82c2ca6652400b6?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2666212/mike"}, "reply_to_user": {"reputation": 1672, "user_id": 2158002, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OiczH.jpg?s=128&g=1", "display_name": "Akiva", "link": "https://stackoverflow.com/users/2158002/akiva"}, "edited": false, "score": 1, "creation_date": 1480581915, "post_id": 40899950, "comment_id": 69024708, "body": "@Akiva , This is a C++11 lambda expression, see <a href=\"http://stackoverflow.com/q/7627098/2666212\">this question</a>. the <code>[&amp;]</code> syntax captures the variables being used by the lambda by reference. Do <b>NOT</b> do that for local variables in your class&#39;s methods, you will end up using dangling references in your lambda (this maybe the reason for things working in main but not in your class). If you are not used to lambda expressions, use a normal slot instead to avoid such problems (i.e., just replace this lambda function with a normal slot that is defined in your class)."}], "tags": [], "owner": {"reputation": 7180, "user_id": 2666212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874561e399041a45c82c2ca6652400b6?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2666212/mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1480547878, "last_edit_date": 1480547878, "creation_date": 1480547453, "answer_id": 40899950, "question_id": 40896846, "link": "https://stackoverflow.com/questions/40896846/why-is-qmediaplayerduration-giving-me-a-value-of-1/40899950#40899950", "title": "Why is QMediaPlayer::duration() giving me a value of -1?", "body": "<p><code>QMediaPlayer::setMedia()</code> performs loading asynchronously, from the <a href=\"https://doc.qt.io/qt-5/qmediaplayer.html#setMedia\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>This function returns immediately after recording the specified source of the media. It does not wait for the media to finish loading and does not check for errors. Listen for the <a href=\"https://doc.qt.io/qt-5/qmediaplayer.html#mediaStatusChanged\" rel=\"nofollow noreferrer\"><code>mediaStatusChanged()</code></a> and <a href=\"https://doc.qt.io/qt-5/qmediaplayer.html#error-1\" rel=\"nofollow noreferrer\"><code>error()</code></a> signals to be notified when the media is loaded and when an error occurs during loading.</p>\n</blockquote>\n\n<p>This means that querying <code>QMediaPlayer</code> for <a href=\"https://doc.qt.io/qt-5/qmediaplayer.html#duration-prop\" rel=\"nofollow noreferrer\"><code>duration()</code></a> after calling <code>setMedia()</code> immediately may not work, since <code>QMediaPlayer</code> might not have loaded the media yet.</p>\n\n<p>In order to guarantee that loading has finished before calling <code>duration()</code>, you have to listen for <code>mediaStatusChanged()</code> signal, and get <code>duration()</code> only when <a href=\"https://doc.qt.io/qt-5/qmediaplayer.html#mediaStatus-prop\" rel=\"nofollow noreferrer\"><code>mediaStatus()</code></a> returns <code>QMediaPlayer::LoadedMedia</code>. Here is a minimal example:</p>\n\n<pre><code>#include &lt;QtWidgets&gt;\n#include &lt;QtMultimedia&gt;\n\nint main(int argc, char* argv[])\n{\n    QApplication app(argc, argv);\n    QLabel label; //a label to display duration\n\n    QString fileName = QFileDialog::getOpenFileName(nullptr, \"Open Media File\");\n\n    QMediaPlayer mp;\n    mp.setMedia(QUrl::fromLocalFile(fileName));\n    QObject::connect(&amp;mp, &amp;QMediaPlayer::mediaStatusChanged,\n                     [&amp;](QMediaPlayer::MediaStatus status){\n        if(status == QMediaPlayer::LoadedMedia) //when loading is finished\n        {\n            //show duration in a label\n            qint64 duration= mp.duration();\n            label.setText(QString(\"Duration: %1 ms.\\n\\nThat is: %2\")\n                          .arg(duration)\n                          .arg(QDateTime::fromTime_t(duration/1000).toUTC()\n                               .toString(\"hh:mm:ss\")));\n            label.show();\n        }\n    });\n\n    return app.exec();\n}\n</code></pre>\n"}], "owner": {"reputation": 1672, "user_id": 2158002, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OiczH.jpg?s=128&g=1", "display_name": "Akiva", "link": "https://stackoverflow.com/users/2158002/akiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 40899950, "answer_count": 1, "score": 0, "last_activity_date": 1480547878, "creation_date": 1480535007, "question_id": 40896846, "link": "https://stackoverflow.com/questions/40896846/why-is-qmediaplayerduration-giving-me-a-value-of-1", "title": "Why is QMediaPlayer::duration() giving me a value of -1?", "body": "<p>Here is my code: </p>\n\n<pre><code>QString BoatProgramming::setDuration(QString path)\n{\n    if (path.isNull()) { return \"\"; }\n    QMediaPlayer mp;\n    mp.setMedia(QUrl::fromLocalFile(\"/home/akiva/deleteme.ogg\"));\n    qDebug() &lt;&lt; mp.duration(); // Outputting a value of -1\n\n    m_Duration = QString::number(mp.duration());\n    emit durationChanged();\n    return m_Duration;\n}\n</code></pre>\n\n<p>There is obviously an error somewhere, but beyond checking the filename, I am lamentably amiss as to what the problem is. Could it be simply that <code>.ogg</code> is not supported? Am I calling the function before the object is fully loaded into memory? Or is it something else?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "edited": false, "score": 0, "creation_date": 1480535129, "post_id": 40896821, "comment_id": 69007495, "body": "Did you code that? What error did you get?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1480535404, "post_id": 40896821, "comment_id": 69007648, "body": "That is no data. Just text. Not clear what your problem is, please clarify!"}], "answers": [{"tags": [], "owner": {"reputation": 4122, "user_id": 3951525, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hix21.jpg?s=128&g=1", "display_name": "Starl1ght", "link": "https://stackoverflow.com/users/3951525/starl1ght"}, "is_accepted": false, "score": 3, "last_activity_date": 1480535079, "creation_date": 1480535079, "answer_id": 40896866, "question_id": 40896821, "link": "https://stackoverflow.com/questions/40896821/c-accessing-define-macros-data/40896866#40896866", "title": "C++ Accessing define macros data", "body": "<p>Macro is simply pasted in source code on compilation.</p>\n\n<p>So, you can do something like this:</p>\n\n<pre><code>char tmp[] = TEMP; // which expands to 'char tmp[] = {0x04, 0x06, ...}'\n</code></pre>\n\n<p>and then you work with it, like with usual array.</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 5525729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a52b1e3aa402f9d484694a6731f0d8?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/5525729/hemal"}, "is_accepted": false, "score": 1, "last_activity_date": 1480535367, "creation_date": 1480535367, "answer_id": 40896933, "question_id": 40896821, "link": "https://stackoverflow.com/questions/40896821/c-accessing-define-macros-data/40896933#40896933", "title": "C++ Accessing define macros data", "body": "<p>keep an array like this</p>\n\n<pre><code>uint8_t temp[] = TEMP;\n</code></pre>\n\n<p>which will expand to </p>\n\n<pre><code>uint8_t temp = {0x04,0x06,0xAA,0xBF};\n</code></pre>\n\n<p>then you can access the third value like this</p>\n\n<pre><code>uint8_t x = temp[2];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "is_accepted": false, "score": 1, "last_activity_date": 1480632262, "last_edit_date": 1480632262, "creation_date": 1480535458, "answer_id": 40896962, "question_id": 40896821, "link": "https://stackoverflow.com/questions/40896821/c-accessing-define-macros-data/40896962#40896962", "title": "C++ Accessing define macros data", "body": "<p><code>uint8_t x = std::vector&lt;uint8_t&gt;(TEMP)[2];</code> works but inelegantly.</p>\n"}], "owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1480632262, "creation_date": 1480534898, "last_edit_date": 1480535314, "question_id": 40896821, "link": "https://stackoverflow.com/questions/40896821/c-accessing-define-macros-data", "title": "C++ Accessing define macros data", "body": "<p>I have a C++ header file that has a definition like this...</p>\n\n<p><code>#define TEMP {0x04,0x06,0xAA,0xBF ...}</code></p>\n\n<p>How do I access that data in my C++ program?</p>\n\n<p>For example? Let's say I wanted to capture the single byte?</p>\n\n<p>How can I assign a variable of type <code>uint8_t</code> named <code>x</code> to the third byte in the TEMP structure?</p>\n\n<p><code>uint8_t x = TEMP[2];</code> ?</p>\n"}, {"tags": ["c++", "static", "field"], "comments": [{"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "edited": false, "score": 3, "creation_date": 1480534827, "post_id": 40896757, "comment_id": 69007346, "body": "When asking a question about a problem caused by your code, you will get much better answers if you provide <a href=\"http://stackoverflow.com/help/mcve\">code people can use to reproduce the problem</a>."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 3, "creation_date": 1480534865, "post_id": 40896757, "comment_id": 69007361, "body": "And the code must be in text format in the question not an image."}, {"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1480535495, "post_id": 40896757, "comment_id": 69007694, "body": "In the implementation (.cc) file you need to properly declare your variable, not just assign to it. E.g <code>List* AddrSpace::availSlots = new List();</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480537671, "post_id": 40896757, "comment_id": 69008810, "body": "I&#39;d like to help, but firewalls are blocking access to your link site.  How about if you <b>edit</b> your post with the <i>text</i> of your code?"}], "answers": [{"tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 1, "last_activity_date": 1480537407, "creation_date": 1480537407, "answer_id": 40897488, "question_id": 40896757, "link": "https://stackoverflow.com/questions/40896757/creating-a-static-field-in-header-file-c/40897488#40897488", "title": "Creating a static field in header file | C++", "body": "<p>The definition of your field stays inside the class:</p>\n\n<pre><code>class AddrSpace\n{\n    List *availSpots;\n};\n</code></pre>\n\n<p>The full name of this variable will be <code>AddrSpace::availSpots</code>. C++ requires to define static variables (including the static fields of the classes) explicitly. I would not say this is fully logical because compiler already has everything to generate all necessary stuffs. Nevertheless this is so. The definition in your C++ file should look like:</p>\n\n<pre><code>List *AddrSpace::availSpots = new List();\n</code></pre>\n\n<p>Next time please add the source directly into the question.</p>\n"}], "owner": {"reputation": 39, "user_id": 6650550, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa3bdf8c50d3577f60a3a398c53e7b5d?s=128&d=identicon&r=PG&f=1", "display_name": "KevinCamacho", "link": "https://stackoverflow.com/users/6650550/kevincamacho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502020627, "creation_date": 1480534710, "last_edit_date": 1502020627, "question_id": 40896757, "link": "https://stackoverflow.com/questions/40896757/creating-a-static-field-in-header-file-c", "title": "Creating a static field in header file | C++", "body": "<p>I am working on an assignment, and while I don't have any issues with the actual assignment, I want to make my code \"proper.\" I am trying to define a static variable in my header file. I want it to be static so that all instances of this class can access the same variable. I don't want to extern it either, I want just this class to have access to it.Then I am trying to define it in the actual file (not header) but I keep getting an error about not being able to cast. I just want to learn how to properly do this to have cleaner code.</p>\n\n<p><img src=\"https://i.imgur.com/bsH6sLe.png\" alt=\"\"></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1480534764, "post_id": 40896721, "comment_id": 69007325, "body": "You need to analyze at least roughly <b>how big</b> would your result be. For example, if it&#39;s on the order of a googool, then so called &quot;big integers&quot; won&#39;t help."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480537797, "post_id": 40896721, "comment_id": 69008887, "body": "I recommend using GMP since it&#39;s not part of the standard C++ library."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "edited": false, "score": 0, "creation_date": 1480542650, "post_id": 40896721, "comment_id": 69011525, "body": "Solve the problem &quot;I can only use the standard library&quot; rather than solving the problem &quot;I only have 64-bit integers available&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5071308, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206233153137805/picture?type=large", "display_name": "Tony Mulieri", "link": "https://stackoverflow.com/users/5071308/tony-mulieri"}, "is_accepted": false, "score": 0, "last_activity_date": 1480542282, "creation_date": 1480542282, "answer_id": 40898787, "question_id": 40896721, "link": "https://stackoverflow.com/questions/40896721/how-do-i-sum-up-big-integers-that-dont-fit-into-unsigned-long-long-c/40898787#40898787", "title": "How do I sum up big integers that don&#39;t fit into unsigned long long? C++", "body": "<p>I think it would be pretty easy to do a bare bone (only what you need) implementation of a UINT_128. (your maximum answer would actually fit in a uint_96)</p>\n\n<p>Assuming I know the way you are going to implement the program, all you need is constructor that take a uint64_t; addition operator; multiplication operator; and possibly a display.</p>\n\n<p>I would store it internally as 4 uint32_t (words) and the operations could be implemented by just operating on the words the same way addition or long multiplication is done for decimals by hand.  Multiplication could be simplified because I believe your factors would never exceed a uint64_t so you could take advantage of that.</p>\n\n<p>If you need to display something other than binary or hex, you probably need to implement division also (or if you are really lazy you could get away with a digit by digit binary search style guess and check using only multiplication to get the decimal representation).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7232642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768524171ff16fa957dbd637ce0c4263?s=128&d=identicon&r=PG&f=1", "display_name": "This guy", "link": "https://stackoverflow.com/users/7232642/this-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1483007220, "last_edit_date": 1483007220, "creation_date": 1480596356, "answer_id": 40911063, "question_id": 40896721, "link": "https://stackoverflow.com/questions/40896721/how-do-i-sum-up-big-integers-that-dont-fit-into-unsigned-long-long-c/40911063#40911063", "title": "How do I sum up big integers that don&#39;t fit into unsigned long long? C++", "body": "<p>For anyone interested in answer I've figured it out just by moving number of overflows to separate unsigned long long int.</p>\n\n<pre><code>for(int i = 1; i &lt;= n; i++){                        \n        SUM += addends[i - 1] * (i * (n - i + 1));\n\n    if(SUM &gt; 10000000000000000000){     // If close to overflow of unsigned long long int\n        SUM -= 10000000000000000000;    // Remove 10^17\n        counter ++;                     // And boost counter, to make recreating true value possible\n    }\n}\n</code></pre>\n\n<p>Probably really ineffective, but it's good enough for my purposes. Thank you all for your help!</p>\n"}], "owner": {"reputation": 1, "user_id": 7232642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/768524171ff16fa957dbd637ce0c4263?s=128&d=identicon&r=PG&f=1", "display_name": "This guy", "link": "https://stackoverflow.com/users/7232642/this-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1483007220, "creation_date": 1480534538, "question_id": 40896721, "link": "https://stackoverflow.com/questions/40896721/how-do-i-sum-up-big-integers-that-dont-fit-into-unsigned-long-long-c", "title": "How do I sum up big integers that don&#39;t fit into unsigned long long? C++", "body": "<p>I've created a program that sums up all possible individual sub-strings of given data. For example:\n1 1 2 2 should return 30 because,</p>\n\n<pre><code>1\n1 + 1\n1 + 1 + 2\n1 + 1 + 2 + 2\n1\n1 + 2\n1 + 2 + 2\n2\n2 + 2\n2\n</code></pre>\n\n<p>Sums up to 30, now the problem isn't creating such a program, the issue is when the big (10^15) numbers come in when there can be as many as 10^5 of them. Now my question is: How do I deal with such numbers? I can only use standard library, so no GMP for me unfortunately and I'm also forced to run on GCC 4.4.4 which makes it even worse.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 2, "creation_date": 1480535223, "post_id": 40896666, "comment_id": 69007547, "body": "Please write the code as code instead of screenshot."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1480537979, "post_id": 40896666, "comment_id": 69009013, "body": "I&#39;d like to help, but firewalls are blocking access to your sites.  Please <b>edit</b> your post with the <b>text</b> of your program."}, {"owner": {"reputation": 3705, "user_id": 2531178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93522fe839d5fa749adabca6086303b2?s=128&d=identicon&r=PG", "display_name": "Sebastian Lange", "link": "https://stackoverflow.com/users/2531178/sebastian-lange"}, "edited": false, "score": 0, "creation_date": 1480574711, "post_id": 40896666, "comment_id": 69021386, "body": "Open the file using <code>QIODevice::Append</code>, append a <code>&#39;\\n&#39;</code> followed by your data"}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "edited": false, "score": 0, "creation_date": 1480669291, "post_id": 40896666, "comment_id": 69067594, "body": "Is the problem fixed? or you need additional assistance?"}], "answers": [{"comments": [{"owner": {"reputation": 3304, "user_id": 2743307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f8ee6ac582d2582fb14c295507eddba?s=128&d=identicon&r=PG&f=1", "display_name": "bibi", "link": "https://stackoverflow.com/users/2743307/bibi"}, "edited": false, "score": 1, "creation_date": 1480545258, "post_id": 40897492, "comment_id": 69012710, "body": "actually <code>endl</code> it is equivalent to <code>&#39;\\n&#39;</code> <a href=\"http://doc.qt.io/qt-5/qtextstream.html#endl\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qtextstream.html#endl</a>"}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "reply_to_user": {"reputation": 3304, "user_id": 2743307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f8ee6ac582d2582fb14c295507eddba?s=128&d=identicon&r=PG&f=1", "display_name": "bibi", "link": "https://stackoverflow.com/users/2743307/bibi"}, "edited": false, "score": 0, "creation_date": 1480546176, "post_id": 40897492, "comment_id": 69013140, "body": "Thanks for the info, I must have misinterpreted the <code>note</code> from documentation. Answer already edited"}, {"owner": {"reputation": 1, "user_id": 7232467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e33fd5ff01839ea864e86c22c9c1c4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjoli", "link": "https://stackoverflow.com/users/7232467/sanjoli"}, "edited": false, "score": 0, "creation_date": 1481123848, "post_id": 40897492, "comment_id": 69249123, "body": "Thank you for your suggestion, I tried running the code using &#39;\\n&#39;, the words were printed in next line but the sentence following the word were also shifted to next line. I just wanted to replace 1st word of each line in the file."}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "edited": false, "score": 0, "creation_date": 1481137879, "post_id": 40897492, "comment_id": 69258124, "body": "Then maybe I don&#39;t fully get what you want to achieve. If you want the text from <code>lineedit</code> and <code>lineedit2</code> to be put in one line in a file but each time the <code>on_write_btn_clicked</code> slot is executed the entry should be put in a separate line, then updating to <code>out &lt;&lt; str &lt;&lt; str2 &lt;&lt; &#39;\\n&#39;;</code> should do the thing"}, {"owner": {"reputation": 1, "user_id": 7232467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e33fd5ff01839ea864e86c22c9c1c4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjoli", "link": "https://stackoverflow.com/users/7232467/sanjoli"}, "edited": false, "score": 0, "creation_date": 1481219193, "post_id": 40897492, "comment_id": 69298988, "body": "In the File I want to replace 1st word of the line then read the line, then replace 1st word of 2nd line and read remaining line, and so on. I have used &#39;ReadWrite&#39; mode but the program is reading the lines first then printing the  words to be replaced at the end of the File."}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "edited": false, "score": 0, "creation_date": 1481219936, "post_id": 40897492, "comment_id": 69299391, "body": "So what should the text from both edits be used for? One to replace the first word in each line of the file contens? What about the &#39;str2&#39;? You should probably update the question since it mostly shows that you have a problem with writing the text to separate lines. Now you write about smth different"}, {"owner": {"reputation": 1, "user_id": 7232467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e33fd5ff01839ea864e86c22c9c1c4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjoli", "link": "https://stackoverflow.com/users/7232467/sanjoli"}, "edited": false, "score": 0, "creation_date": 1481446398, "post_id": 40897492, "comment_id": 69374468, "body": "Text from line edits are used to replace the words in the file, str(text of 1st line edit) replaces 1st word of 1st line, str2(text of 2nd line edit) replaces 1st word of 2nd line."}, {"owner": {"reputation": 1, "user_id": 7232467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e33fd5ff01839ea864e86c22c9c1c4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjoli", "link": "https://stackoverflow.com/users/7232467/sanjoli"}, "edited": false, "score": 0, "creation_date": 1481446550, "post_id": 40897492, "comment_id": 69374512, "body": "I got my answer I used flush(), this prints the word then reads the line, then prints 2nd word, else the words were printed only after reading the lines. &quot;if(file1.open(QIODevice::ReadWrite | QIODevice::Text))     {         QTextStream out(&amp;file1);         out&lt;&lt;str;  out.flush();         lin = file1.readLine();          out&lt;&lt;str2;         file1.close();     }&quot;"}], "tags": [], "owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "is_accepted": false, "score": 1, "last_activity_date": 1481284778, "last_edit_date": 1481284778, "creation_date": 1480537421, "answer_id": 40897492, "question_id": 40896666, "link": "https://stackoverflow.com/questions/40896666/qt-write-in-new-line-in-a-file/40897492#40897492", "title": "QT, Write in new line in a file", "body": "<p>If you want the next string to be in a new line in the file you should add the new line character(s) to the stream <code>\\n</code>.\nReferring to your code you should put:</p>\n\n<pre><code>out &lt;&lt; str &lt;&lt; '\\n' &lt;&lt; str2;\n</code></pre>\n\n<p>which would make the contents of <code>str</code> and <code>str2</code> appear in consecutive lines.</p>\n\n<p>Instead of the above you could also use the <code>endl</code> manipulator from <code>QTextStream</code>:</p>\n\n<pre><code>out &lt;&lt; str &lt;&lt; endl &lt;&lt; str2;\n</code></pre>\n\n<p>For this to work properly you need to be opening the file with <code>QIODevice::Text</code> and assure that the <code>endl</code> you are specifying actually comes from <code>QTextStream</code> (not <code>std</code>)\nAlso note that since you probably only want to write your file there is no need in opening it with <code>ReadWrite</code> option, <code>WriteOnly</code> should be enough.</p>\n\n<p><strong>EDIT</strong> according to further details:</p>\n\n<p>To substitute first word from each line of the file you could do the following. Open two files, one which will be read and the second to write the modified data. After iterating though all the lines close the files, remove the original one and rename the output file to replace the original one. Sample implementation:</p>\n\n<pre><code>QFile fileIn(\"textIn.txt\"), fileOut(\"textOut.txt\");\nfileIn.open(QFile::ReadOnly); // check result\nfileOut.open(QFile::WriteOnly); // check result\n\nQTextStream streamIn(&amp;fileIn), streamOut(&amp;fileOut);\nconst QChar delimeter = ' ';\nwhile (!streamIn.atEnd())\n{\n    QStringList list = streamIn.readLine().split(delimeter);\n    if (list.size() &gt; 0) // in case of empty line\n        list[0] = \"substitutedText\"; // here put the text you want to set\n    streamOut &lt;&lt; list.join(delimeter) &lt;&lt; \"\\r\\n\"; // or endl\n}\nfileIn.close();\nfileOut.close();\n\nfileIn.remove(); // check result\nfileOut.rename(QFileInfo(fileIn).absoluteFilePath()); // check result\n</code></pre>\n\n<p>Of course you could try doing the replacement on the original file opened with <code>ReadWrite</code> modifier and setting proper position inside the stream using <code>seek</code>. Although it could get tricky due to different lengths of the read and written data.</p>\n"}], "owner": {"reputation": 1, "user_id": 7232467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e33fd5ff01839ea864e86c22c9c1c4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjoli", "link": "https://stackoverflow.com/users/7232467/sanjoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8296, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481284778, "creation_date": 1480534352, "last_edit_date": 1480543666, "question_id": 40896666, "link": "https://stackoverflow.com/questions/40896666/qt-write-in-new-line-in-a-file", "title": "QT, Write in new line in a file", "body": "<p>I have written a code to read from line_Edit in GUI, and write in a file. The code reads the text from line edit and writes the same in the file, but they are printed continuously without any spaces, I want to print the texts written in the line edit in different lines. The file has written text, just want to replace first word of each line by the user entered words.</p>\n\n<p>Code to write in the file:</p>\n\n<pre><code>void MainWindow::on_write_btn_clicked(){\n    QString str, str2, lin;\n    str = ui-&gt;lineEdit-&gt;text();\n    str2 = ui-&gt;lineEdit2-&gt;text();\n    QFile file1(\"sample.txt\");\n    if(file1.open(QIODevice::ReadWrite | QIODevice::Text)){\n        QTextStream out(&amp;file1);\n        out &lt;&lt; str;\n        lin = out.readLine();\n        out &lt;&lt; str2;\n        file1.seek(30);\n        file1.close();\n    }\n    else\n        return;\n}\n</code></pre>\n\n<p>File in which we want to write:\n<a href=\"https://i.stack.imgur.com/4PkWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PkWp.png\" alt=\"file in which we want to write\"></a></p>\n"}, {"tags": ["c++", "templates", "parameters", "functor", "function-object"], "comments": [{"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 3, "creation_date": 1480534899, "post_id": 40896600, "comment_id": 69007377, "body": "Implicit type conversions do not work during template argument deduction."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 1, "creation_date": 1480535127, "post_id": 40896600, "comment_id": 69007490, "body": "@Arunmu I think there are exceptions from that rule: <a href=\"http://melpon.org/wandbox/permlink/ld8NyDotgjK7B7WT\" rel=\"nofollow noreferrer\">example</a>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 0, "creation_date": 1480535165, "post_id": 40896600, "comment_id": 69007520, "body": "@Arunmu That is the answer cause it works if I remove the template: <a href=\"http://ideone.com/bfjy3p\" rel=\"nofollow noreferrer\">ideone.com/bfjy3p</a> So how do I know the conversion between <code>plus&lt;int&gt;()</code> and <code>function&lt;T(const T&amp;, const T&amp;)&gt;</code> is implicit?"}, {"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1480535279, "post_id": 40896600, "comment_id": 69007572, "body": "@W.F Yes, I think there are exceptions for array to pointer and function to function pointer decay."}, {"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 0, "creation_date": 1480535368, "post_id": 40896600, "comment_id": 69007618, "body": "@JonathanMee There is no template deduction happening in your example ( in the comment ). And the constructor of <code>std::function</code> is not <code>explicit</code>. So it can happiliy construct an function object from the functor (<code>std::plus</code>)"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1480535573, "post_id": 40896600, "comment_id": 69007733, "body": "Replacing the template with a generic lambda would work: <code>auto foo = [](auto op, const auto&amp; lhs, const auto&amp; rhs) { std::cout &lt;&lt; op(lhs, rhs) &lt;&lt; &#39;\\n&#39;; };</code>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1480535585, "post_id": 40896600, "comment_id": 69007736, "body": "Is there a way for me to force the construction other than call it explicitly, like: <code>foo(function&lt;int(const int&amp;, const int&amp;)&gt;(plus&lt;int&gt;()), 13, 42)</code>"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 1, "creation_date": 1480535675, "post_id": 40896600, "comment_id": 69007795, "body": "You could just use <code>foo&lt;int&gt;(std::plus&lt;int&gt;{}, 13, 42);</code>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1480535862, "post_id": 40896600, "comment_id": 69007898, "body": "@flatmouse Your lambda works simply because it is using <code>auto</code>. I can do that in the function too, but I want to force the types to be linked: <a href=\"http://ideone.com/IPMRYe\" rel=\"nofollow noreferrer\">ideone.com/IPMRYe</a>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1480535990, "post_id": 40896600, "comment_id": 69007960, "body": "@flatmouse Your second comment works because you specify the type of <code>T</code> before supplying arguments. That is probably the best plan to be fair."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1480536439, "post_id": 40896600, "comment_id": 69008190, "body": "If you can use generic functions then that should be best. What do you mean by &quot;force types to be linked&quot;?"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1480536695, "post_id": 40896600, "comment_id": 69008319, "body": "@flatmouse For example if we use the <code>auto</code> types I can do this: <code>foo(plus&lt;double&gt;(), 13, 42)</code> Which I want to prevent."}], "answers": [{"comments": [{"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1480536558, "post_id": 40897181, "comment_id": 69008249, "body": "Thanks for the quote from the standard, this is an excellent answer. I&#39;ll accept shortly..."}, {"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1480571507, "post_id": 40897181, "comment_id": 69020126, "body": "Glad to help. Thanks."}], "tags": [], "owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "is_accepted": true, "score": 2, "last_activity_date": 1480536283, "creation_date": 1480536283, "answer_id": 40897181, "question_id": 40896600, "link": "https://stackoverflow.com/questions/40896600/converting-a-functor-to-an-object-of-type-function/40897181#40897181", "title": "Converting a Functor to an Object of Type function", "body": "<p>Quoting from the Standard section 14.8.1.6:</p>\n\n<blockquote>\n  <p>Implicit conversions (Clause 4) will be performed on a function\n  argument to convert it to the type of the corresponding function\n  parameter if the parameter type contains no template-parameters that\n  participate in template argument deduction.</p>\n</blockquote>\n\n<p>This does not work in your case because the template parameters have not been provided explicitly. The compiler needs to do a deduction. Thus as per the above, it will not do the implicit conversion from functor to <code>std::function</code>.</p>\n\n<p>So, you can do  (As mentioned by @flatmouse in the comment):</p>\n\n<p><code>foo&lt;int&gt;(plus&lt;int&gt;(), 13, 42);</code></p>\n\n<p>This works because there is no template argument deduction that needs to be performed since all the template parameters are explicitly specified. And as per the above quote from standard, the implicit conversion should work for this.</p>\n"}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 40897181, "answer_count": 1, "score": 3, "last_activity_date": 1480536283, "creation_date": 1480534053, "question_id": 40896600, "link": "https://stackoverflow.com/questions/40896600/converting-a-functor-to-an-object-of-type-function", "title": "Converting a Functor to an Object of Type function", "body": "<p>Say I have this function:</p>\n\n<pre><code>template &lt;typename T&gt;\nvoid foo(function&lt;T(const T&amp;, const T&amp;)&gt; op, const T&amp; lhs, const T&amp; rhs) {\n    cout &lt;&lt; op(lhs, rhs) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This is <a href=\"http://ideone.com/3Pxtd8\" rel=\"nofollow noreferrer\">legal code</a>:</p>\n\n<pre><code>function&lt;int(const int&amp;, const int&amp;)&gt; op = plus&lt;int&gt;();\n\nfoo(op, 13, 42);\n</code></pre>\n\n<p>But when I do this:</p>\n\n<pre><code>foo(plus&lt;int&gt;(), 13, 42)\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>No matching function for call to <code>foo(std::plus&lt;int&gt;, int, int)</code></p>\n</blockquote>\n\n<p>Why can I initialize an object of type <code>function&lt;int(const int&amp;, const int&amp;)&gt;</code> from <code>plus&lt;int&gt;()</code> but I cannot pass <code>plus&lt;int&gt;()</code> into an parameter of type <code>function&lt;T(const T&amp;, const T&amp;)&gt;</code>? Is it something having to do with the template?</p>\n"}, {"tags": ["c++", "templates", "partial-specialization"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480535074, "post_id": 40896822, "comment_id": 69007468, "body": "Then how to work it out, without changing class interface?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480535562, "post_id": 40896822, "comment_id": 69007724, "body": "how can I do this using enable_if_t expression ?"}, {"owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1480535673, "post_id": 40896822, "comment_id": 69007792, "body": "@tomtom What is your implementation in case <code>isarmed==false</code>? You could probably combine both and not use the partial specialization at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480535927, "post_id": 40896822, "comment_id": 69007928, "body": "I dont want compiltor to compile this function in case isarmed == false"}, {"owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1480536114, "post_id": 40896822, "comment_id": 69008030, "body": "Then use your implementation in non-specialized template, and insert <code>static_assert(isarmed,&quot;Citizen must be armed!&quot;);</code> in it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480536420, "post_id": 40896822, "comment_id": 69008184, "body": "if i insert this line: template&lt;bool canAttack = isarmed, typename = std::enable_if_t&lt;!canAttack&gt;&gt; it works but only if this function is defined is in class definition"}, {"owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1480536713, "post_id": 40896822, "comment_id": 69008327, "body": "Using <code>enable_if</code> or other SFINAE only makes sense if you have other overloads of the function in the same class. Otherwise, <code>static_assert</code> is both easier to read and gives you a better error message."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480536880, "post_id": 40896822, "comment_id": 69008421, "body": "Ok. Indeed I need 2 different ctors depended on weather isarmed == true or isarmed == false"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "reply_to_user": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1480537004, "post_id": 40896822, "comment_id": 69008491, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/129471/discussion-between-tomtom-and-eugene\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "is_accepted": true, "score": 1, "last_activity_date": 1480534898, "creation_date": 1480534898, "answer_id": 40896822, "question_id": 40896593, "link": "https://stackoverflow.com/questions/40896593/partial-function-template-specialization/40896822#40896822", "title": "partial function template specialization", "body": "<p>You cannot use partial template specialization for a single member function - need to specialize the entire class instead (however, full template specialization would be okay).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 40896822, "answer_count": 1, "score": 0, "last_activity_date": 1480534898, "creation_date": 1480534017, "question_id": 40896593, "link": "https://stackoverflow.com/questions/40896593/partial-function-template-specialization", "title": "partial function template specialization", "body": "<p>Hi I think I'm missing something with this technique. Tried to follow examples but the following gives me an error: <code>invalid use of incomplete type \u2018class Citizen&lt;T, minAge, maxAge, true&gt;\u2019</code></p>\n\n<pre><code>template &lt;typename T, T minAge, T maxAge, bool isarmed&gt;\nclass Citizen {\npublic:\n\n    Citizen(T health, T age);\n    Citizen(T health, T age, T attackPower);\n    T getAttackPower();\n\nprivate:\n    T _health;\n    T _age;\n    T _attackPower;\n};\n\ntemplate &lt;typename T, T minAge, T maxAge&gt;\nT Citizen&lt;T, minAge, maxAge, true&gt;::getAttackPower() {\n    return _attackPower;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "winapi"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1480534218, "post_id": 40896589, "comment_id": 69007084, "body": "Those don&#39;t look like child windows."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1480687124, "post_id": 40896589, "comment_id": 69078803, "body": "You are creating top-level windows, that have no relation to each other. If you want to activate another top-level window in your application upon destroying another window, call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms646311.aspx\" rel=\"nofollow noreferrer\">SetActiveWindow</a> first, and then destroy the window. More information is available at <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms632599.aspx#active\" rel=\"nofollow noreferrer\">Window Features: Active Window</a>."}], "answers": [{"comments": [{"owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "edited": false, "score": 0, "creation_date": 1480539529, "post_id": 40897775, "comment_id": 69009879, "body": "Well.. I just noticed that after several windows it not just become inactive it&#39;s just switch to other opened apps not just this Win32 app."}, {"owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "reply_to_user": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "edited": false, "score": 0, "creation_date": 1480539848, "post_id": 40897775, "comment_id": 69010055, "body": "Windows needs to move the focus somewhere. It makes the best guess. Sometimes it is perfect, sometimes not really."}, {"owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "edited": false, "score": 0, "creation_date": 1480540406, "post_id": 40897775, "comment_id": 69010347, "body": "So there&#39;s nothing I can do?"}], "tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": false, "score": 1, "last_activity_date": 1480538393, "creation_date": 1480538393, "answer_id": 40897775, "question_id": 40896589, "link": "https://stackoverflow.com/questions/40896589/how-to-prevent-win32-app-after-closing-one-window-the-others-windows-become-inac/40897775#40897775", "title": "How to prevent Win32 app after closing one window the others windows become inactive", "body": "<p>This should be part of your application logic. Add event handler to the WM_CLOSE message to all your windows and set focus to the appropriate window that is not closed yet.</p>\n\n<p>Windows cannot decide this for you.</p>\n"}], "owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480538393, "creation_date": 1480534013, "question_id": 40896589, "link": "https://stackoverflow.com/questions/40896589/how-to-prevent-win32-app-after-closing-one-window-the-others-windows-become-inac", "title": "How to prevent Win32 app after closing one window the others windows become inactive", "body": "<p>So my task is to create 5 child windows and when key is pressed close windows in other order. But I have a problem, when I close first 2 windows the other ones become inactive so I have to click on it so it could be focused window, but how can I prevent other windows to become inactive?</p>\n\n<pre><code>#include \"stdafx.h\"\n\n#define MAX_LOADSTRING 100\n\n// Global Variables:\nHINSTANCE hInst;                                // current instance\nWCHAR szTitle[MAX_LOADSTRING];                  // The title bar text\nWCHAR szWindowClass[MAX_LOADSTRING];            // the main window class name\nint windowsCount = 1;\nWCHAR buffer[5];\nHWND windows[5];\n\n// Forward declarations of functions included in this code module:\nATOM                MyRegisterClass(HINSTANCE hInstance);\nBOOL                InitInstance(HINSTANCE, int);\nLRESULT CALLBACK    WndProc(HWND, UINT, WPARAM, LPARAM);\nINT_PTR CALLBACK    About(HWND, UINT, WPARAM, LPARAM);\n\nint APIENTRY wWinMain(_In_ HINSTANCE hInstance,\n    _In_opt_ HINSTANCE hPrevInstance,\n    _In_ LPWSTR    lpCmdLine,\n    _In_ int       nCmdShow)\n{\n    srand(unsigned(time(NULL)));\n\n    UNREFERENCED_PARAMETER(hPrevInstance);\n    UNREFERENCED_PARAMETER(lpCmdLine);\n\n    // TODO: Place code here.\n\n    // Initialize global strings\n    LoadStringW(hInstance, IDS_APP_TITLE, szTitle, MAX_LOADSTRING);\n    LoadStringW(hInstance, IDC_OOP10, szWindowClass, MAX_LOADSTRING);\n    MyRegisterClass(hInstance);\n\n    // Perform application initialization:\n    if (!InitInstance(hInstance, nCmdShow))\n        return FALSE;\n\n    HACCEL hAccelTable = LoadAccelerators(hInstance, MAKEINTRESOURCE(IDC_OOP10));\n\n    MSG msg;\n\n    // Main message loop:\n    while (GetMessage(&amp;msg, nullptr, 0, 0)) {\n        if (!TranslateAccelerator(msg.hwnd, hAccelTable, &amp;msg)) {\n            TranslateMessage(&amp;msg);\n            DispatchMessage(&amp;msg);\n        }\n    }\n\n    return (int)msg.wParam;\n}\n\n//\n//  FUNCTION: MyRegisterClass()\n//\n//  PURPOSE: Registers the window class.\n//\nATOM MyRegisterClass(HINSTANCE hInstance) {\n    WNDCLASSEXW wcex;\n\n    wcex.cbSize = sizeof(WNDCLASSEX);\n\n    wcex.style = CS_HREDRAW | CS_VREDRAW;\n    wcex.lpfnWndProc = WndProc;\n    wcex.cbClsExtra = 0;\n    wcex.cbWndExtra = 0;\n    wcex.hInstance = hInstance;\n    wcex.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_OOP10));\n    wcex.hCursor = LoadCursor(nullptr, IDC_ARROW);\n    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);\n    wcex.lpszMenuName = MAKEINTRESOURCEW(IDC_OOP10);\n    wcex.lpszClassName = szWindowClass;\n    wcex.hIconSm = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_SMALL));\n\n    return RegisterClassExW(&amp;wcex);\n}\n\n//\n//   FUNCTION: InitInstance(HINSTANCE, int)\n//\n//   PURPOSE: Saves instance handle and creates main window\n//\n//   COMMENTS:\n//\n//        In this function, we save the instance handle in a global variable and\n//        create and display the main program window.\n//\nBOOL InitInstance(HINSTANCE hInstance, int nCmdShow) {\n    hInst = hInstance; // Store instance handle in our global variable\n\n    HWND hWnd = CreateWindowW(szWindowClass, L\"Main Window\", WS_OVERLAPPEDWINDOW,\n        CW_USEDEFAULT, 0, CW_USEDEFAULT, 0, nullptr, nullptr, hInstance, nullptr);\n\n    SetClassLong(hWnd, GCL_HBRBACKGROUND, (LONG)CreateSolidBrush(RGB(rand() % 256, rand() % 256, rand() % 256)));\n\n    if (!hWnd)\n        return FALSE;\n\n    ShowWindow(hWnd, nCmdShow);\n    UpdateWindow(hWnd);\n\n    windows[0] = hWnd;\n\n    return TRUE;\n}\n\nBOOL CreateChildWindow(HWND hWnd) {\n    _itoa(windowsCount + 1, (char*)buffer, 10);\n\n    SetClassLong(hWnd, GCL_HBRBACKGROUND, (LONG)CreateSolidBrush(RGB(rand() % 256, rand() % 256, rand() % 256)));\n    HWND childWnd = CreateWindow(szWindowClass, buffer, WS_OVERLAPPEDWINDOW,\n        CW_USEDEFAULT, 0, CW_USEDEFAULT, 0, windows[windowsCount - 1], nullptr, hInst, nullptr);\n\n    if (!childWnd)\n        return FALSE;\n\n    ShowWindow(childWnd, SW_SHOWDEFAULT);\n    UpdateWindow(childWnd);\n\n    windows[windowsCount++] = childWnd;\n\n    return TRUE;\n}\n\n//\n//  FUNCTION: WndProc(HWND, UINT, WPARAM, LPARAM)\n//\n//  PURPOSE:  Processes messages for the main window.\n//\n//  WM_COMMAND  - process the application menu\n//  WM_PAINT    - Paint the main window\n//  WM_DESTROY  - post a quit message and return\n//\n//\nLRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam) {\n    switch (message) {\n    case WM_LBUTTONUP:\n    {\n        if (windowsCount &lt; 5) {\n            if (!CreateChildWindow(hWnd))\n                return FALSE;\n        }\n    }\n    break;\n    case WM_CLOSE:\n    {\n        if (IDOK == MessageBox(hWnd, L\"Are you sure you want to quit?\", L\"You are leaving the program\", MB_OKCANCEL | MB_ICONINFORMATION | MB_DEFBUTTON2)) {\n            if (windowsCount == 1) {\n                DestroyWindow(windows[--windowsCount]);\n                PostQuitMessage(NULL);\n                break;\n            }\n            else\n                DestroyWindow(windows[--windowsCount]);\n        }\n    }\n    break;\n    case WM_RBUTTONUP:\n        SetWindowText(hWnd, L\"Changed title!\");\n        break;\n    case WM_KEYDOWN: {\n        if (windowsCount == 1) {\n            DestroyWindow(windows[--windowsCount]);\n            PostQuitMessage(NULL);\n            break;\n        }\n        else\n            DestroyWindow(windows[--windowsCount]);\n    }\n    break;\n    case WM_COMMAND:\n    {\n        int wmId = LOWORD(wParam);\n        // Parse the menu selections:\n        switch (wmId)\n        {\n        case IDM_ABOUT:\n            DialogBox(hInst, MAKEINTRESOURCE(IDD_ABOUTBOX), hWnd, About);\n            break;\n        case IDM_EXIT:\n            DestroyWindow(hWnd);\n            break;\n        default:\n            return DefWindowProc(hWnd, message, wParam, lParam);\n        }\n    }\n    break;\n    case WM_PAINT:\n    {\n        PAINTSTRUCT ps;\n        HDC hdc = BeginPaint(hWnd, &amp;ps);\n        // TODO: Add any drawing code that uses hdc here...\n        EndPaint(hWnd, &amp;ps);\n    }\n    break;\n    /*case WM_DESTROY:\n        PostQuitMessage(0);\n        break;*/\n    default:\n        return DefWindowProc(hWnd, message, wParam, lParam);\n    }\n    return 0;\n}\n\n// Message handler for about box.\nINT_PTR CALLBACK About(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam) {\n    UNREFERENCED_PARAMETER(lParam);\n    switch (message) {\n    case WM_INITDIALOG:\n        return (INT_PTR)TRUE;\n\n    case WM_COMMAND:\n        if (LOWORD(wParam) == IDOK || LOWORD(wParam) == IDCANCEL) {\n            EndDialog(hDlg, LOWORD(wParam));\n            return (INT_PTR)TRUE;\n        }\n        break;\n    }\n    return (INT_PTR)FALSE;\n}\n</code></pre>\n"}, {"tags": ["c++", "erlang", "msgpack"], "comments": [{"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 1, "creation_date": 1480535163, "post_id": 40896477, "comment_id": 69007517, "body": "<a href=\"http://www.thomaswhitton.com/blog/2013/07/03/binary-message-format-c-plus-plus-examples/\" rel=\"nofollow noreferrer\">thomaswhitton.com/blog/2013/07/03/&hellip;</a>. Check the message pack section."}], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 1922763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/75228956a9f2a90a98b473672b91d807?s=128&d=identicon&r=PG", "display_name": "Takatoshi Kondo", "link": "https://stackoverflow.com/users/1922763/takatoshi-kondo"}, "is_accepted": false, "score": 3, "last_activity_date": 1480769920, "creation_date": 1480769920, "answer_id": 40948008, "question_id": 40896477, "link": "https://stackoverflow.com/questions/40896477/using-msgpack-to-encode-a-user-defined-structure/40948008#40948008", "title": "using msgpack to encode a user-defined structure.", "body": "<blockquote>\n  <p>Can msgpack pack user-defined data-structures like classes and structures. ? </p>\n</blockquote>\n\n<p>Yes you can do it. msgpack-c supports both C and C++. And I wrote about the C++ part of msgpack-c. msgpack-c can pack any types that have the adaptor. Here is a list of a pre-supported C++ types <a href=\"https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_adaptor\" rel=\"nofollow noreferrer\">https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_adaptor</a></p>\n\n<p>And you can also write adaptors for user defined types. The simplest approach is using MSGPACK_DEFINE (mapped to ARRAY) or MSGPACK_DEFINE_MAP (mapped to MAP).</p>\n\n<p>You can combine and composite any types as long as the types have adaptors. If you write MSGPACK_DEFINE in <code>your_type</code>, you can pack  <code>std::vector&lt;std::map&lt;std::string, your_type&gt; &gt;</code>.</p>\n\n<blockquote>\n  <p>What if I have a complex structure and pack that using msgpack:pack() and on the receiver end, when I use msgpack:unpack() can I tell it to decode to a specific data-type Im interested in? may be a tuple ?</p>\n</blockquote>\n\n<p>When you unpack MessageePack formatted data, you get <code>msgpack::object_handle</code>. See <a href=\"https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_unpacker\" rel=\"nofollow noreferrer\">https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_unpacker</a>.</p>\n\n<p>Then you can get <code>msgpack::object</code> from <code>msgpack::object_handle</code>. Finally, you can convert from <code>msgpack::object</code> to any types that have adaptors using <code>as()</code> member function.\nSee <a href=\"https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_object#conversion\" rel=\"nofollow noreferrer\">https://github.com/msgpack/msgpack-c/wiki/v2_0_cpp_object#conversion</a></p>\n\n<p>Here is an example code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;cassert&gt;\n#include &lt;msgpack.hpp&gt;\n\nstruct your_type {\n    int a;\n    int b;\n    MSGPACK_DEFINE(a, b);\n};\n\nbool operator==(your_type const&amp; lhs, your_type const&amp; rhs) {\n    return lhs.a == rhs.a &amp;&amp; lhs.b == rhs.b;\n}\n\nint main() {\n    // packing\n    std::stringstream ss;\n    std::vector&lt;std::map&lt;std::string, your_type&gt;&gt; v \n    { \n        { \n            { \"key1\", {1,2} },\n            { \"key2\", {3,4} }\n        },\n        {\n            {\"key3\", {5, 6} } \n        }\n    };\n    msgpack::pack(ss, v);\n\n    // unpacking\n    msgpack::object_handle oh = msgpack::unpack(ss.str().data(), ss.str().size());\n    msgpack::object const&amp; obj = oh.get();\n    std::cout &lt;&lt; \"object: \" &lt;&lt; obj &lt;&lt; std::endl;\n\n    // converting\n    auto v2 = obj.as&lt;std::vector&lt;std::map&lt;std::string, your_type&gt;&gt;&gt;();\n    assert(v == v2);\n}\n</code></pre>\n\n<p>And you can run, and modify it in the Wandbox, online compiler environment:\n<a href=\"http://melpon.org/wandbox/permlink/M229kOVY6ys83pwb\" rel=\"nofollow noreferrer\">http://melpon.org/wandbox/permlink/M229kOVY6ys83pwb</a></p>\n"}], "owner": {"reputation": 770, "user_id": 3991741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dffc335f7e054af9e9e6be373bf81c6c?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/3991741/sad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4867, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1480769920, "creation_date": 1480533589, "question_id": 40896477, "link": "https://stackoverflow.com/questions/40896477/using-msgpack-to-encode-a-user-defined-structure", "title": "using msgpack to encode a user-defined structure.", "body": "<p>Im trying to work with msgpack. I have a receiver and a sender. Sender is a c++ client and the receiver is an erlang server. \nMsgpack was totally great when I had an erlang server and an erlang client. I used to send and receive datatypes like lists, tuples, maps, binary, erlang and msgpack:pack() and msgpack:unpack() were totally fine. But when I started to change my sender to a c++ client, I started to think about this:</p>\n\n<p>Can msgpack pack user-defined data-structures like classes and structures. ? What if I have a complex structure and pack that using msgpack:pack() and on the receiver end, when I use msgpack:unpack() can I tell it to decode to a specific data-type Im interested in? may be a tuple ? </p>\n\n<p>Thanks. !</p>\n"}, {"tags": ["c++", "structure"], "comments": [{"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 1, "creation_date": 1480532864, "post_id": 40896253, "comment_id": 69006347, "body": "syntax diagrams! It&#39;s variables of type of pointer to process object (struct), obviously"}, {"owner": {"reputation": 13262, "user_id": 6219979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e768deedd6c0ed9a87a26eff0f4c6cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Serg", "link": "https://stackoverflow.com/users/6219979/serg"}, "edited": false, "score": 0, "creation_date": 1480533080, "post_id": 40896253, "comment_id": 69006463, "body": "See <a href=\"http://www.cplusplus.com/doc/tutorial/structures/\" rel=\"nofollow noreferrer\">cplusplus.com/doc/tutorial/structures</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "is_accepted": true, "score": 10, "last_activity_date": 1480533026, "creation_date": 1480533026, "answer_id": 40896316, "question_id": 40896253, "link": "https://stackoverflow.com/questions/40896253/structures-in-c/40896316#40896316", "title": "Structures in C++ *", "body": "<p>Short version of</p>\n\n<pre><code>struct process {\n    int id;\n    char name;\n};\n\nprocess *temp;\nprocess *perm;\n</code></pre>\n\n<p>This declares a struct type named process and then declares two variables which are pointers to process structs.</p>\n"}], "owner": {"reputation": 85, "user_id": 6918517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0fa45339af7026e6ab16f01d540adb?s=128&d=identicon&r=PG&f=1", "display_name": "Burnie", "link": "https://stackoverflow.com/users/6918517/burnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 40896316, "answer_count": 1, "score": 4, "last_activity_date": 1480533026, "creation_date": 1480532807, "question_id": 40896253, "link": "https://stackoverflow.com/questions/40896253/structures-in-c", "title": "Structures in C++ *", "body": "<p>Probably a dumb question, but I'm just curious. What do the variables <strong>*temp</strong> and <strong>*perm</strong> mean in this structure?</p>\n\n<pre><code>struct process {\n    int id;\n    char name;\n} *temp, *perm;\n</code></pre>\n"}, {"tags": ["c++", "ncurses", "interaction", "roguelike"], "comments": [{"owner": {"reputation": 3740, "user_id": 1053938, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59b4bb22f374b4224067923e11524a24?s=128&d=identicon&r=PG", "display_name": "jonhopkins", "link": "https://stackoverflow.com/users/1053938/jonhopkins"}, "edited": false, "score": 0, "creation_date": 1480533502, "post_id": 40896171, "comment_id": 69006708, "body": "I noticed that you define <code>MonsterContact</code> with the parameters taking <code>mapy</code> before <code>mapx</code>, but <code>IsPassable</code> takes <code>mapx</code> before <code>mapy</code>, but when you call the two of them next to each other, you&#39;re passing <code>col</code> and <code>row</code> in the same order. This may be the cause of the problem. You should really take care to define all your functions to take coordinates in the same order (probably matching the order that ncurses takes them) so this kind of confusion can be avoided."}], "answers": [{"tags": [], "owner": {"reputation": 2518, "user_id": 6896866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02c458aa202ff508cd53f719a9483660?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous1847", "link": "https://stackoverflow.com/users/6896866/anonymous1847"}, "is_accepted": false, "score": 1, "last_activity_date": 1482260832, "creation_date": 1482260832, "answer_id": 41249528, "question_id": 40896171, "link": "https://stackoverflow.com/questions/40896171/how-to-get-player-to-interact-with-monster-using-ncurses-library/41249528#41249528", "title": "How to get Player to interact with Monster using ncurses library?", "body": "<p>I'll sum up what jonhopkins commented on.</p>\n\n<p>This is essentially a result of inconsistency. Your code passes arguments in different orders in different functions (first x, then y in <code>isPassable</code>, but vice versa in <code>MonsterContact</code>), and uses different names for the same things (row and x are the same.)</p>\n\n<p>Your problem is caused by the fact that you passed <code>col, row</code> into MonsterContact, when you should have passed <code>row, col</code>. Perhaps you subconsciously copied the order of arguments from when you wrote <code>isPassable</code> a little earlier, forgetting that the order of arguments is reversed. Or you momentarily mistakenly thought that col meant y and row meant x.</p>\n\n<p>Always remember to keep your code as consistent as possible, and you can avoid these sorts of mistakes in the future.</p>\n"}], "owner": {"reputation": 1, "user_id": 7232581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4290cb48cee71e7336ca39646f4de8ad?s=128&d=identicon&r=PG&f=1", "display_name": "RyAaren", "link": "https://stackoverflow.com/users/7232581/ryaaren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482260832, "creation_date": 1480532520, "question_id": 40896171, "link": "https://stackoverflow.com/questions/40896171/how-to-get-player-to-interact-with-monster-using-ncurses-library", "title": "How to get Player to interact with Monster using ncurses library?", "body": "<p>I've been trying to create my roguelike type of game for C++ using the ncurses library. After following many different tutorials, I am able to create the Player character, the map, the code to prevent the Player from going through walls and the random movements for the Monster character. </p>\n\n<p>The next problem I'm encountering is implementing a boolean so whenever the Player character interacts with the Monster character, the game will quit (much like the roguelike games). However, I can't seem to get it to function the way I wanted. I think it has to do with the coordinates that I have set for the Player and the Monster but I'm still not sure. Can anyone help me out please?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;ncurses.h&gt;\n\n#define MAP_WIDTH 22\n#define MAP_HEIGHT 15\n\n#define TILE_FLOOR 0\n#define TILE_WALL 1\n\nint PlayerX, PlayerY;\n\nvoid erase (int y, int x) {\n    mvaddch(y, x, '.');\n}\n\nint nMapArray[MAP_HEIGHT][MAP_WIDTH] = {\n    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },\n    { 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 },\n    { 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1 },\n    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1 },\n    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }\n};\n\nbool IsPassable (int nMapX, int nMapY) {            //prevents from walking into walls\n\n    if (nMapX &lt; 0 || nMapX &gt;= MAP_WIDTH || nMapY &lt; 0 || nMapY &gt;= MAP_HEIGHT)\n        return false;\n\n    int nTileValue = nMapArray[nMapY][nMapX];\n\n    if( nTileValue == TILE_FLOOR) {\n        return true;\n    }\n\n    return false;\n}\n\nclass Monster {\npublic:\n    void Appearance(char monster) {\n        this-&gt;Monster = monster;\n    }\n\n    void SetPos(int x, int y) {\n        this-&gt;PosX = x;\n        this-&gt;PosY = y;\n    }\n\n    void Movement(int &amp;MonsX, int &amp;MonsY) {\n        int x = (rand() % 3 - 1);\n        int y = (rand() % 3 - 1);\n\n        if (IsPassable(this-&gt;PosX+x, this-&gt;PosY+y)) {\n            erase(PosY, PosX);\n            MonsX = this-&gt;PosX += x;\n            mvaddch(this-&gt;PosY, MonsX, this-&gt;Monster);\n            refresh();\n\n            erase(PosY, PosX);\n            MonsY = this-&gt;PosY += y;\n            mvaddch(MonsY, this-&gt;PosX, this-&gt;Monster);\n            refresh();\n        }\n    }\n\n\nprotected:\n    int PosX;\n    int PosY;\n    char Monster;\n};\n\nbool MonsterContact (int nMapY, int nMapX, int x, int y) {\n\n\n    if (nMapArray[nMapY][nMapX] == nMapArray[y][x]) {\n        return true;\n    }\n\n    return false;\n}\n\nvoid map() {\n    for (int y = 0; y &lt; MAP_HEIGHT; y++) {          //loops to print the map\n\n        move(y,0);\n\n        for (int x = 0; x &lt; MAP_WIDTH; x++) {\n            switch (nMapArray[y][x]) {\n                case TILE_FLOOR:\n                    printw(\".\");\n                    break;\n\n                case TILE_WALL:\n                    printw(\"#\");\n                    break;\n            }\n        }\n    }\n};\n\nvoid init() {               //starts the ncurses screen.\n    initscr();\n    clear();\n    noecho();\n    raw();\n    keypad(stdscr, TRUE);\n    curs_set(0);\n}\n\nvoid game_loop (char Player, int row, int col, int ch) {\n\n    Monster npc;\n    npc.SetPos(7, 8);\n    npc.Appearance('g');\n    int MonsX,MonsY;\n\n    mvaddch(row,col, Player);                   //player movement\n    refresh();\n\n    while(true) {\n\n        npc.Movement(MonsX, MonsY);\n\n        ch = getch();\n\n        switch (ch) {\n\n            case 'w':\n                if (IsPassable(col, row-1)) {\n                erase(row,col);\n                row = row - 1;\n                mvaddch(row, col, Player);\n                    refresh();\n                }\n\n                if (MonsterContact(col, row, MonsX, MonsY)) {\n                    return();\n                }\n                break;\n\n            case 's':\n                if (IsPassable(col, row+1)) {\n                erase(row, col);\n                row = row + 1;\n                mvaddch(row, col, Player);\n                    refresh();\n                }\n\n                if (MonsterContact(col, row, MonsX, MonsY)) {\n                    return();\n                }\n\n                break;\n\n            case 'a':\n                if (IsPassable(col-1, row)) {\n                erase(row,col);\n                col = col - 1;\n                mvaddch(row, col, Player);\n                    refresh();\n                }\n\n                if (MonsterContact(col, row, MonsX, MonsY)) {\n                    return();\n                }\n\n                break;\n\n            case 'd':\n                if (IsPassable(col+1, row)) {\n                erase(row,col);\n                col = col + 1;\n                mvaddch(row,col, Player);\n                    refresh();\n                }\n\n                if (MonsterContact(col, row, MonsX, MonsY)) {\n                    return();\n                }\n\n                break;\n\n            case 'q':\n                return;\n\n            default:\n                break;\n        }\n\n    }\n}\n\nint main(int argc, const char * argv[]) {\n\n    PlayerX = 2, PlayerY = 1;        //Player initial position.\n    char Player = '@';\n\n    init();                     //starts the ncurses screen.\n\n    printw(\"Press any key to start the game\");\n    int ch = getch();\n    clear();\n\n    map();\n    game_loop(Player, PlayerY, PlayerX, ch);\n\n    endwin();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "octave", "wrapper", "mex"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1480532750, "post_id": 40896162, "comment_id": 69006300, "body": "Maybe Matlab&#39;s version of <code>mex.h</code> is pulling in some C standard library headers that Octave&#39;s version isn&#39;t. Try adding <code>#include &lt;stdlib.h&gt;</code> in <code>wrappers.hpp</code>. That should fix the <code>size_t</code> and <code>free</code> errors, not sure if it&#39;ll fix everything."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1480533968, "post_id": 40896162, "comment_id": 69006970, "body": "@Praetorian Thank you so much for your input! With this addition a mex file is created now. However, a new error appears when running the function <code>error: failed to install .mex file function &#39;imResampleMex&#39;</code>. I am editing my question right now."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1480538048, "post_id": 40896162, "comment_id": 69009042, "body": "I&#39;m not very familiar with Octave&#39;s flavor of mex, so I might not be able to help with this. A Google search suggests something&#39;s wrong with your mex file, for instance, <code>mexFunction</code> is not being exported correctly? Do you know whether <code>MATLAB_MEX_FILE</code> is being defined? Make sure it is, so <code>mex.h</code> gets included. Once you define it, you may find that you don&#39;t even need to <code>#include &lt;stdlib.h&gt;</code>"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1480540076, "post_id": 40896162, "comment_id": 69010164, "body": "@Praetorian So far, I try to follow this: <a href=\"https://www.gnu.org/software/octave/doc/v4.0.0/Getting-Started-with-Mex_002dFiles.html#Getting-Started-with-Mex_002dFiles\" rel=\"nofollow noreferrer\">gnu.org/software/octave/doc/v4.0.0/&hellip;</a> I built the mex file again including <code>#include &quot;mex.h&quot;</code>  in the C++ file but still get the same error. I&#39;m not sure I fully understanding what&#39;s MATLAB_MEX_FILE. If it&#39;s needed for Matlab, then it&#39;s defined as I can run my code without any problem there. If it&#39;s related to Octave only, do you have a reference (for beginners) that I could read? I only find things about Simulink when reading about it (which is not used in my case)"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1480546373, "post_id": 40896162, "comment_id": 69013217, "body": "Look at the beginning of <code>wrappers.h</code>, you&#39;ll see <code>#ifdef</code> switches based on whether <code>MATLAB_MEX_FILE</code> is defined. <code>mex</code> defines this symbol automatically, I don&#39;t know whether <code>mkoctfile</code> does. You should try reverting all changes you&#39;ve made and try <code>mkoctfile --mex  -DMATLAB_MEX_FILE imResampleMex.cpp</code>, that might be all you need to get things to work."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1480693113, "post_id": 40896162, "comment_id": 69082890, "body": "@Praetorian You are amazing! It works! :) The only thing I was missing from the beginning was <code>-DMATLAB_MEX_FILE</code>."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1480694422, "post_id": 40896162, "comment_id": 69083809, "body": "As a precision, when trying to create another mex file from the same toolbox, I had a similar set of errors even using <code>mkoctfile --mex -DMATLAB_MEX_FILE the_file.cpp</code>. Adding <code>#include &lt;stdlib.h&gt;</code> and <code>#include &quot;mex.h&quot;</code> to the <code>wrappers.hpp</code> file allowed me to build the mex file properly."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1480696255, "post_id": 40896162, "comment_id": 69085068, "body": "Well, write an answer explaining what you&#39;ve learnt so it helps someone else in the future :)"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 1, "creation_date": 1494554057, "post_id": 40938224, "comment_id": 74889284, "body": "Hi @Eskapp I&#39;m now doing exactly the same thing you do. Matlab to Octave with mdp_tracker. After all this mex file problem. still some matlab dependencies problem such as median.m interrupt. I&#39;m just curious if you have a opensource version of those octave code?"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1494856604, "post_id": 40938224, "comment_id": 74991798, "body": "Hey @Pwan, I think I could push them on GitHub. Gonna try. Give me a day or two that I find back these files ;)"}, {"owner": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1494900608, "post_id": 40938224, "comment_id": 75011776, "body": "HI Eskapp!!thanks too much too much! Cause I did convert it as well and run the demo. But I think it may still have some bugs inside my code. Your code will help alot. Did you successfully run the demo?"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1494962600, "post_id": 40938224, "comment_id": 75047959, "body": "I only ran the functions I needed for my code to work. I am gonna try to retrieve the files tomorrow. Stay put ;)"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1495146323, "post_id": 40938224, "comment_id": 75142415, "body": "@Pwan <a href=\"https://github.com/Eskapp/Piotr_vision_extrafiles_Octave\" rel=\"nofollow noreferrer\">github.com/Eskapp/Piotr_vision_extrafiles_Octave</a> You will need to manually add the files to the main toolbox. Let me know if it works. If not, post the error message :)"}, {"owner": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1495158431, "post_id": 40938224, "comment_id": 75145334, "body": "Is this the dependencies I need for mdp tracker?"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1495159048, "post_id": 40938224, "comment_id": 75145446, "body": "These are all the files I was able to generate with Octave."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 587, "user_id": 7567502, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KaB2S.png?s=128&g=1", "display_name": "pwan", "link": "https://stackoverflow.com/users/7567502/pwan"}, "edited": false, "score": 0, "creation_date": 1495203487, "post_id": 40938224, "comment_id": 75168808, "body": "@Pwan, Just  realized there might have been a misunderstanding between us. mdp tracker is not related to the Piotr&#39;s toolbox. Or is it? What is the error message you get?"}, {"owner": {"reputation": 1730, "user_id": 6467567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cc5b3edbce6f367b0f510de1bc0a5ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Kong", "link": "https://stackoverflow.com/users/6467567/kong"}, "edited": false, "score": 0, "creation_date": 1542293987, "post_id": 40938224, "comment_id": 93524582, "body": "@Eskapp did you managed to get the MDP tracker compilied ? I am also having the same issue. I believe this is what we are trying to compile <a href=\"https://github.com/yuxng/MDP_Tracking\" rel=\"nofollow noreferrer\">github.com/yuxng/MDP_Tracking</a>"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "reply_to_user": {"reputation": 1730, "user_id": 6467567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cc5b3edbce6f367b0f510de1bc0a5ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Kong", "link": "https://stackoverflow.com/users/6467567/kong"}, "edited": false, "score": 0, "creation_date": 1542294321, "post_id": 40938224, "comment_id": 93524801, "body": "@Kong I have not worked with the MDP tracker. The scope of the original question was to make the Piotr&#39;s toolbox working on Octave. The github repo indicated in the answer provides all files needed for that. Nothing was tested for other libraries."}, {"owner": {"reputation": 1730, "user_id": 6467567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cc5b3edbce6f367b0f510de1bc0a5ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Kong", "link": "https://stackoverflow.com/users/6467567/kong"}, "edited": false, "score": 0, "creation_date": 1542295091, "post_id": 40938224, "comment_id": 93525327, "body": "@Eskapp okay thank you for the reply. I created a thread at <a href=\"https://stackoverflow.com/questions/53322370/issues-running-mex-commands-on-octave\" title=\"issues running mex commands on octave\">stackoverflow.com/questions/53322370/&hellip;</a> in case you want to take a look. I have tried the solutions posted here but am still receiving errors."}], "tags": [], "owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "is_accepted": true, "score": 3, "last_activity_date": 1495575274, "last_edit_date": 1495575274, "creation_date": 1480701239, "answer_id": 40938224, "question_id": 40896162, "link": "https://stackoverflow.com/questions/40896162/mex-file-building-with-octave-issue-with-wrappers/40938224#40938224", "title": "Mex file building with Octave (issue with wrappers)", "body": "<p>Here are the steps I used to solve the issue of creating the mex files from the Piotr's Computer Vision Matlab Toolbox for Octave (concerns the cpp files of the folder <code>channels</code> only).</p>\n\n<p>The original mex files that come with the toolbox are built for Matlab and do not work with Octave. While building them from Octave a call is made to the file <code>wrappers.hpp</code>.\nThis file has to be modified by adding these two lines at the beginning of the file: <code>#include &lt;stdlib.h&gt;</code> and <code>#include \"mex.h\"</code>.</p>\n\n<p>For building the mex file, in the Octave prompt type (while being in the directory of the cpp file): </p>\n\n<pre><code>mkoctfile --mex -DMATLAB_MEX_FILE the_file.cpp\n</code></pre>\n\n<p>This way the Octave compatible mex file is created.</p>\n\n<p>Edit 23/05/2017 - After receiving more questions from people having trouble generating these files I released the generated files on Github: <a href=\"https://github.com/Eskapp/Piotr_vision_extrafiles_Octave\" rel=\"nofollow noreferrer\">https://github.com/Eskapp/Piotr_vision_extrafiles_Octave</a>. Feel free to use them.\nYou'll need to add them manually to the Computer Vision toolbox.</p>\n"}], "owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 40938224, "answer_count": 1, "score": 0, "last_activity_date": 1495575274, "creation_date": 1480532482, "last_edit_date": 1480535117, "question_id": 40896162, "link": "https://stackoverflow.com/questions/40896162/mex-file-building-with-octave-issue-with-wrappers", "title": "Mex file building with Octave (issue with wrappers)", "body": "<p>I am currently porting some code from Matlab to Octave. Some of the functions of the Matlab code use the Piotr's Computer Vision Matlab Toolbox (<a href=\"https://pdollar.github.io/toolbox/\" rel=\"nofollow noreferrer\">here</a>) that includes some mex files.\nIn Matlab, everything is working like a charm but when I run my codes with Octave, it throws this error:</p>\n\n<pre><code>error: 'imResampleMex' undefined near line 50 column 5\n</code></pre>\n\n<p>However all the internal paths within the toolbox should be good. I figured out that the way Matlab and Octave handle mex files is different and tried to build one of the mex files from the C++ function within Octave like this:</p>\n\n<pre><code>mkoctfile --mex imResampleMex.cpp\n</code></pre>\n\n<p>It fails and throws the following error messages related to the C++ wrappers function:</p>\n\n<pre><code>In file included from imResampleMex.cpp:6:0:\nwrappers.hpp:21:24: error: 'wrCalloc' declared as an 'inline' variable\n inline void* wrCalloc( size_t num, size_t size ) { return calloc(num,size);\n                        ^\nwrappers.hpp:21:24: error: 'size_t' was not declared in this scope\nwrappers.hpp:21:36: error: 'size_t' was not declared in this scope\n inline void* wrCalloc( size_t num, size_t size ) { return calloc(num,size);\n                                    ^\nwrappers.hpp:21:48: error: expression list treated as compound expression in initializer [-fpermissive]\n inline void* wrCalloc( size_t num, size_t size ) { return calloc(num,size);\n                                                ^\nwrappers.hpp:21:50: error: expected ',' or ';' before '{' token\n inline void* wrCalloc( size_t num, size_t size ) { return calloc(num,size);\n                                                  ^\nwrappers.hpp:22:24: error: 'wrMalloc' declared as an 'inline' variable\n inline void* wrMalloc( size_t size ) { return malloc(size); }\n                        ^\nwrappers.hpp:22:24: error: 'size_t' was not declared in this scope\nwrappers.hpp:22:38: error: expected ',' or ';' before '{' token\n inline void* wrMalloc( size_t size ) { return malloc(size); }\n                                      ^\nwrappers.hpp: In function 'void wrFree(void*)':\nwrappers.hpp:23:44: error: 'free' was not declared in this scope\n inline void wrFree( void * ptr ) { free(ptr); }\n                                            ^\nwrappers.hpp: At global scope:\nwrappers.hpp:28:17: error: 'size_t' was not declared in this scope\n void* alMalloc( size_t size, int alignment ) {\n                 ^\nwrappers.hpp:28:30: error: expected primary-expression before 'int'\n void* alMalloc( size_t size, int alignment ) {\n                              ^\nwrappers.hpp:28:44: error: expression list treated as compound expression in initializer [-fpermissive]\n void* alMalloc( size_t size, int alignment ) {\n                                            ^\nwrappers.hpp:28:46: error: expected ',' or ';' before '{' token\n void* alMalloc( size_t size, int alignment ) {\n                                              ^\nimResampleMex.cpp: In function 'void resampleCoef(int, int, int&amp;, int*&amp;, int*&amp;, T*&amp;, int*, int)':\nimResampleMex.cpp:21:39: error: 'alMalloc' cannot be used as a function\n   wts = (T*)alMalloc(nMax*sizeof(T),16);\n                                       ^\nimResampleMex.cpp:22:43: error: 'alMalloc' cannot be used as a function\n   yas = (int*)alMalloc(nMax*sizeof(int),16);\n                                           ^\nimResampleMex.cpp:23:43: error: 'alMalloc' cannot be used as a function\n   ybs = (int*)alMalloc(nMax*sizeof(int),16);\n                                           ^\nimResampleMex.cpp: In function 'void resample(T*, T*, int, int, int, int, int, T)':\nimResampleMex.cpp:48:43: error: 'alMalloc' cannot be used as a function\n   T *C = (T*) alMalloc((ha+4)*sizeof(T),16); for(y=ha; y&lt;ha+4; y++) C[y]=0;\n                                           ^\nwarning: mkoctfile: building exited with failure status\n</code></pre>\n\n<p>The wrappers.hpp file is looking like this:</p>\n\n<pre><code>#ifndef _WRAPPERS_HPP_\n#define _WRAPPERS_HPP_\n#ifdef MATLAB_MEX_FILE\n\n// wrapper functions if compiling from Matlab\n#include \"mex.h\"\ninline void wrError(const char *errormsg) { mexErrMsgTxt(errormsg); }\ninline void* wrCalloc( size_t num, size_t size ) { return mxCalloc(num,size); }\ninline void* wrMalloc( size_t size ) { return mxMalloc(size); }\ninline void wrFree( void * ptr ) { mxFree(ptr); }\n\n#else\n\n// wrapper functions if compiling from C/C++\ninline void wrError(const char *errormsg) { throw errormsg; }\ninline void* wrCalloc( size_t num, size_t size ) { return calloc(num,size); }\ninline void* wrMalloc( size_t size ) { return malloc(size); }\ninline void wrFree( void * ptr ) { free(ptr); }\n\n#endif\n\n// platform independent aligned memory allocation (see also alFree)\nvoid* alMalloc( size_t size, int alignment ) {\n  const size_t pSize = sizeof(void*), a = alignment-1;\n  void *raw = wrMalloc(size + a + pSize);\n  void *aligned = (void*) (((size_t) raw + pSize + a) &amp; ~a);\n  *(void**) ((size_t) aligned-pSize) = raw;\n  return aligned;\n}\n\n// platform independent alignned memory de-allocation (see also alMalloc)\nvoid alFree(void* aligned) {\n  void* raw = *(void**)((char*)aligned-sizeof(void*));\n  wrFree(raw);\n}\n\n#endif\n</code></pre>\n\n<p>I imagine I need to modify this file but my knowledge of C++ and of mex files being close to non-existent, I am struggling figuring a way out of this mountain of errors. I don't even have a clue whether I'm going in the right direction or not... Any help is welcome!</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>I modified my wrappers.hpp file adding <code>#include &lt;stdlib.h&gt;</code> to it. A mex file is now created. However, when running the function calling the file, I now get the following error:</p>\n\n<pre><code>error: failed to install .mex file function 'imResampleMex'\nerror: called from\n    imResample at line 50 column 4\n</code></pre>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1480533150, "post_id": 40896151, "comment_id": 69006503, "body": "I&#39;ll take a look on that question too. I also added a note that I&#39;m compiling for Arduino which is an AVR microcontroller."}, {"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1480535761, "post_id": 40896151, "comment_id": 69007845, "body": "The possbile duplicate does not mention the static member functions way to do."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1480537143, "post_id": 40896151, "comment_id": 69008545, "body": "There&#39;s many, many other possible duplicates but you can only flag a question with one."}], "answers": [{"comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 0, "creation_date": 1480535714, "post_id": 40896303, "comment_id": 69007818, "body": "Thank you so much! I would have never figured this out."}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 2, "last_activity_date": 1480532975, "creation_date": 1480532975, "answer_id": 40896303, "question_id": 40896151, "link": "https://stackoverflow.com/questions/40896151/how-to-properly-pass-a-pointer-to-a-member-function-for-a-3rd-party-code/40896303#40896303", "title": "How to properly pass a pointer to a member function for a 3rd party code?", "body": "<p>You can only use a static member function (or non-member function) in this way.  Fortunately, your API passes an additional <code>void*</code> pointer where you can put the object you want to call on:</p>\n\n<pre><code>class MyNextion {\npublic:\n    void init();\n    void b0PopCallback();\nprivate:\n    static void b0PopStaticCallback(void *ptr);\n    NexButton *b0;\n};\n\nvoid MyNextion::b0PopStaticCallback(void *ptr)\n{\n    static_cast&lt;MyNextion*&gt;(ptr)-&gt;b0PopCallback();\n}\n\nvoid MyNextion::init()\n{\n    b0 = new NexButton(0, 1, \"b0\");\n    b0-&gt;attachPop(b0PopStaticCallback, this);\n}\n</code></pre>\n"}], "owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1480606726, "accepted_answer_id": 40896303, "answer_count": 1, "score": 0, "last_activity_date": 1480532975, "creation_date": 1480532430, "last_edit_date": 1495542629, "question_id": 40896151, "link": "https://stackoverflow.com/questions/40896151/how-to-properly-pass-a-pointer-to-a-member-function-for-a-3rd-party-code", "closed_reason": "Duplicate", "title": "How to properly pass a pointer to a member function for a 3rd party code?", "body": "<p>I have this 3rd party type definition:</p>\n\n<pre><code>typedef void (*NexTouchEventCb)(void *ptr);\n</code></pre>\n\n<p>Which is used in a function in the 3rd party library:</p>\n\n<pre><code>void NexTouch::attachPop(NexTouchEventCb pop, void *ptr)\n</code></pre>\n\n<p>If I have a single .cpp file then I can successfully call the <code>attachPop</code> without any compiler errors:</p>\n\n<pre><code>NexButton b0 = NexButton(0, 1, \"b0\");\n\nvoid b0PopCallback(void *ptr)\n{\n    // do something here\n}\n\nb0.attachPop(b0PopCallback, &amp;b0);\n</code></pre>\n\n<p>But I do OOP, so I have my own header and class files:</p>\n\n<p>MyNextion.h</p>\n\n<pre><code>class MyNextion {\n    public:\n        void init();\n        void b0PopCallback(void *ptr);\n    private:\n        NexButton *b0;\n}\n</code></pre>\n\n<p>MyNextion.cpp</p>\n\n<pre><code>#include \"MyNextion.h\"\n\nvoid MyNextion::init() {\n    b0 = new NexButton(0, 1, \"b0\");\n    b0-&gt;attachPop(/* what should I put here? */);\n}\n\nvoid MyNextion::b0PopCallback(void *ptr) {\n    // do something here\n}\n</code></pre>\n\n<p>I went through several similar questions like <a href=\"https://stackoverflow.com/questions/4295432/typedef-function-pointer\">this</a>, <a href=\"https://stackoverflow.com/questions/9612582/pointer-to-member-function\">this</a> and <a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow noreferrer\">this</a> one as well. But I just don't get it.</p>\n\n<p>Note that this code is compiled for Arduino, which is a AVR microcontroller. Special C++ syntaxes may not be available.</p>\n\n<p>Can you please tell me how should I call <code>b0-&gt;attachPop</code> and why should I call that way?</p>\n\n<p>Please note, that I'm not able to modify the 3rd party library, which can be found here: <a href=\"https://github.com/itead/ITEADLIB_Arduino_Nextion\" rel=\"nofollow noreferrer\">https://github.com/itead/ITEADLIB_Arduino_Nextion</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1480532387, "post_id": 40896106, "comment_id": 69006100, "body": "What compiler and compiler flags are you using?"}, {"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "edited": false, "score": 3, "creation_date": 1480532588, "post_id": 40896106, "comment_id": 69006214, "body": "Someone misled you.  <code>cin</code> is an <code>istream</code> and the <code>&gt;&gt;</code> operator returns an <code>istream &amp;</code>.   See details <a href=\"http://www.cplusplus.com/reference/istream/istream/operator%3E%3E/\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1480534609, "post_id": 40896292, "comment_id": 69007245, "body": "Your answer is misguided. The point of <code>boolalpha</code> is to print &quot;true&quot; and &quot;false&quot; instead of 1 and 0 when a <code>bool</code> is written to an <code>ostream</code>. More here: <a href=\"http://en.cppreference.com/w/cpp/io/manip/boolalpha\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/manip/boolalpha</a> What OP really wants to do, preserving the C-style cast, is <code>cout &lt;&lt; boolalpha &lt;&lt; (bool)(cin&gt;&gt;a) &lt;&lt; endl;</code>"}], "tags": [], "owner": {"reputation": 23, "user_id": 7183847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6505a356f96a1a6d7789a16eb74e4747?s=128&d=identicon&r=PG&f=1", "display_name": "Lee5", "link": "https://stackoverflow.com/users/7183847/lee5"}, "is_accepted": false, "score": -1, "last_activity_date": 1480532943, "creation_date": 1480532943, "answer_id": 40896292, "question_id": 40896106, "link": "https://stackoverflow.com/questions/40896106/address-and-return-values-of-cin/40896292#40896292", "title": "Address and return values of cin", "body": "<p><code>boolalpha()</code> returns an <code>ios_base&amp;</code> not bool\nuse instead:</p>\n\n<pre><code>cout &lt;&lt; (bool)(cin &gt;&gt; x) &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4403, "user_id": 6868543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ced262f63c87506f6e61ef2d1e692d4?s=128&d=identicon&r=PG&f=1", "display_name": "j6t", "link": "https://stackoverflow.com/users/6868543/j6t"}, "is_accepted": false, "score": 3, "last_activity_date": 1480533108, "creation_date": 1480533108, "answer_id": 40896334, "question_id": 40896106, "link": "https://stackoverflow.com/questions/40896106/address-and-return-values-of-cin/40896334#40896334", "title": "Address and return values of cin", "body": "<p>First, observe that the result of <code>cin &gt;&gt; a</code> is a reference to an istream object.</p>\n\n<blockquote>\n  <p>Why the first cout gives a address rather than a bool value?</p>\n</blockquote>\n\n<p>That is because an istream object must be \"implictly convertible to bool\" so that the expression can be used in the condition of an <code>if</code> statement. Before C++11, compilers typically allowed istream to be converted to <code>void *</code>. When you pass the result of <code>cin &gt;&gt; a</code> to cout via the <code>&lt;&lt;</code> operator, it chooses this conversion to <code>void *</code> and prints whatever address is returned.</p>\n\n<blockquote>\n  <p>Why two cout give different address?</p>\n</blockquote>\n\n<p>That is because the compiler chose to return some address that is not <code>&amp;cin</code> when it converts to <code>void *</code>. (Remember that the precise value of the conversion to <code>void *</code> is irrelevant; it is only relevant whether the value is or is not <code>NULL</code>.)</p>\n"}, {"tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 7, "last_activity_date": 1572711396, "last_edit_date": 1572711396, "creation_date": 1480533809, "answer_id": 40896539, "question_id": 40896106, "link": "https://stackoverflow.com/questions/40896106/address-and-return-values-of-cin/40896539#40896539", "title": "Address and return values of cin", "body": "<p><code>cin &gt;&gt; a</code> returns the stream object <code>cin</code>.</p>\n\n<p>Until C++11, <code>std::istream</code> had a conversion function <code>operator void*() const;</code>, meaning that there was an implicit conversion from <code>std::istream</code> to <code>void*</code>.  The actual value of the pointer was meaningless, except that a null value meant a failure had occurred and a non-null value meant success.  This allowed things like <code>if (cin &gt;&gt; a)</code> to work correctly.</p>\n\n<p>It appears you're using a pre-C++11 compiler or compiler settings, so that when you try to output it you get that meaningless <code>void*</code> value.</p>\n\n<p>In C++11 and later, <code>std::istream</code> instead has a conversion function <code>explicit bool() const;</code>, meaning that there is a valid conversion from <code>std::istream</code> to <code>bool</code>, but only where explicitly requested.  An <code>if</code> or <code>while</code> counts as explicitly requesting a conversion to <code>bool</code>, but </p>\n\n<pre><code>cout&lt;&lt;boolalpha&lt;&lt;(cin&gt;&gt;a)&lt;&lt;endl;\n</code></pre>\n\n<p>does not, so your code would not compile in C++11 and later.  You would need</p>\n\n<pre><code>cout &lt;&lt; boolalpha &lt;&lt; static_cast&lt;bool&gt;(cin&gt;&gt;a) &lt;&lt; endl;\n</code></pre>\n\n<p>instead.</p>\n"}], "owner": {"reputation": 25, "user_id": 7232586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b957f3462aff998b1f19476ad2d176?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wong", "link": "https://stackoverflow.com/users/7232586/peter-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2240, "favorite_count": 2, "accepted_answer_id": 40896539, "answer_count": 3, "score": 1, "last_activity_date": 1572711396, "creation_date": 1480532297, "question_id": 40896106, "link": "https://stackoverflow.com/questions/40896106/address-and-return-values-of-cin", "title": "Address and return values of cin", "body": "<p>I'm a C++ beginner, and I was told that in codes like</p>\n\n<pre><code>int a;  \nif(cin&gt;&gt;a);\n</code></pre>\n\n<p>if the input is successful, cin will yield true and vice versa.<br>\nBut when I want to output the bool value,  </p>\n\n<pre><code>cout&lt;&lt;boolalpha&lt;&lt;(cin&gt;&gt;a)&lt;&lt;endl;  \n</code></pre>\n\n<p>it gives an address:  </p>\n\n<pre><code>0x6fcc41e8  \n</code></pre>\n\n<p>I was also told that <code>cin</code> is an object, but  </p>\n\n<pre><code>cout&lt;&lt;&amp;cin&lt;&lt;endl;  \n</code></pre>\n\n<p>gives value  </p>\n\n<pre><code>0x6fcc41e0\n</code></pre>\n\n<p>which is different by 8.<br>\na. Why the first <code>cout</code> gives a address rather than a bool value?<br>\nb. Why two <code>cout</code> give different address?<br>\nThanks.</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 5, "creation_date": 1480532151, "post_id": 40896039, "comment_id": 69005966, "body": "<code>a</code> is uninitialized."}, {"owner": {"reputation": 1341, "user_id": 4524618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8e1ca7e81266dc3e8f724a4864b3d90e?s=128&d=identicon&r=PG", "display_name": "Sniper", "link": "https://stackoverflow.com/users/4524618/sniper"}, "edited": false, "score": 0, "creation_date": 1480532216, "post_id": 40896039, "comment_id": 69006013, "body": "instead of checking condition, use can use &quot;abs(a-b)&quot;"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1480532419, "post_id": 40896039, "comment_id": 69006121, "body": "Getting rid of <code>endl</code> would probably help. Use <code>&quot;\\n&quot;</code> instead."}, {"owner": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "edited": false, "score": 0, "creation_date": 1480532541, "post_id": 40896039, "comment_id": 69006187, "body": "&lt;iostream&gt; is notoriously heavyweight. The fastest approach would probably be to use read() to bypass all the overhead of &lt;iostream&gt; or &lt;stdio.h&gt; and then parse the string yourself to extract the integers (e.g., using a char* p and isdigit(), though you can probably get pretty good performance using strtol)."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "edited": false, "score": 2, "creation_date": 1480532640, "post_id": 40896039, "comment_id": 69006237, "body": "@Waxrat: Or maybe use <a href=\"http://en.cppreference.com/w/cpp/io/ios_base/sync_with_stdio\" rel=\"nofollow noreferrer\"><code>sync_with_stdio(false);</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1480532692, "post_id": 40896177, "comment_id": 69006264, "body": "I bet this is totally overshadowed by the flush <code>endl</code> is doing."}], "tags": [], "owner": {"reputation": 364, "user_id": 6678549, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/827f51c9a7535cba8fb8f7da39c7469b?s=128&d=identicon&r=PG&f=1", "display_name": "AkThao", "link": "https://stackoverflow.com/users/6678549/akthao"}, "is_accepted": false, "score": 0, "last_activity_date": 1480532554, "creation_date": 1480532554, "answer_id": 40896177, "question_id": 40896039, "link": "https://stackoverflow.com/questions/40896039/more-efficient-cpp-code/40896177#40896177", "title": "more efficient cpp code", "body": "<p>Rather than doing a comparison to see which is bigger, which takes more time, you could just forget about which is bigger and calculate the difference anyway: <code>cout &lt;&lt; a-b &lt;&lt; ends;</code> If <code>b</code> is larger than <code>a</code> then yes you will end up with a negative result. In which case, multiply it by -1. I work mainly in C but I think in C++, it would look something like this: first store the result of the calculation in a variable 'x' <code>long long int x = a-b</code>, then <code>if (x &lt; 0) { x *= -1 ;}</code>. This should work if my code is correct; I'm not sure if it will be much faster but it's definitely worth a try.</p>\n\n<p>EDIT: Or, like @user64322 said, you could do the same as above, but rather than multiplying by -1, just take the absolute value, which is the same, but quicker.</p>\n"}, {"tags": [], "owner": {"reputation": 1125, "user_id": 5672740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c16baffcdc08015ed0b3f9dcfd424751?s=128&d=identicon&r=PG&f=1", "display_name": "SenselessCoder", "link": "https://stackoverflow.com/users/5672740/senselesscoder"}, "is_accepted": false, "score": 2, "last_activity_date": 1480532732, "creation_date": 1480532732, "answer_id": 40896236, "question_id": 40896039, "link": "https://stackoverflow.com/questions/40896039/more-efficient-cpp-code/40896236#40896236", "title": "more efficient cpp code", "body": "<p>The real performance hit, if ran many many times would come from the 'endl' actually, because while it adds a '\\n' at the end, it also flushes the stream. Any other micro optimization is quite meaningless at best, I'm sure the compiler is smart enough to put a fast enough code in it's place.</p>\n\n<p>EDIT: Could also add <code>std::ios::sync_with_stdio(false);</code> if you are REALLY desperate for potential performance increase. This prevents the synchronization between C style streams. See: <a href=\"http://en.cppreference.com/w/cpp/io/ios_base/sync_with_stdio\" rel=\"nofollow noreferrer\">sync</a></p>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1480535840, "creation_date": 1480535840, "answer_id": 40897060, "question_id": 40896039, "link": "https://stackoverflow.com/questions/40896039/more-efficient-cpp-code/40897060#40897060", "title": "more efficient cpp code", "body": "<p>In addition to the others' suggestions, an obvious thing you can do is use <code>argv</code> to take command line arguments at startup (e.g. <code>./PrintDiffQuick 10 5</code> would print <code>5</code>) instead of blocking execution while waiting for user input.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;cinttypes&gt;\n#include &lt;iostream&gt;\n\nint main(int argc, const char **argv)\n{\n        std::ios::sync_with_stdio(false);\n        std::cout &lt;&lt; std::imaxabs(std::strtoimax(argv[1], nullptr, 10) -\n                                  std::strtoimax(argv[2], nullptr, 10)) &lt;&lt; '\\n';\n        return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7232552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75311afba420e458b6cc56d39f3cdb7b?s=128&d=identicon&r=PG&f=1", "display_name": "njalsson", "link": "https://stackoverflow.com/users/7232552/njalsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1480535840, "creation_date": 1480532037, "question_id": 40896039, "link": "https://stackoverflow.com/questions/40896039/more-efficient-cpp-code", "title": "more efficient cpp code", "body": "<p>I'm trying to solve a problem from the site open.kattis.com <a href=\"https://open.kattis.com/problems/different\" rel=\"nofollow noreferrer\">https://open.kattis.com/problems/different</a></p>\n\n<p>the problem is you take in two non-negative integers from 0 to 10^15 and you calculate the difference. I wrote this and it calculates it correctly, but it is not fast enough, how can I make it faster? </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\n\nint main() {\n    long long int a, b;\n    while(a != 0){\n        cin &gt;&gt; a &gt;&gt; b;\n        if (a &gt; b) { cout &lt;&lt; a-b &lt;&lt; endl;}\n        else{ cout &lt;&lt; b-a &lt;&lt; endl;}\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 1019, "user_id": 816855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21cdf26bdaf7452f2ace9cd1cb63b0e0?s=128&d=identicon&r=PG", "display_name": "Rosme", "link": "https://stackoverflow.com/users/816855/rosme"}, "edited": false, "score": 0, "creation_date": 1480532128, "post_id": 40896025, "comment_id": 69005957, "body": "<code>D</code> is the base/mother/parent class of <code>A</code>, <code>B</code> and <code>C</code>. <code>C</code> is the base/mother/parent class of <code>A</code> and <code>B</code>. <code>B</code> is the base/mother/parent class of <code>A</code>. There is no specific term. As long as it&#39;s understood."}, {"owner": {"reputation": 13804, "user_id": 15754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DrITH.jpg?s=128&g=1", "display_name": "dbugger", "link": "https://stackoverflow.com/users/15754/dbugger"}, "edited": false, "score": 2, "creation_date": 1480537802, "post_id": 40896025, "comment_id": 69008890, "body": "I&#39;d go with root, which is analogous to the top most directory in a folder tree."}], "answers": [{"tags": [], "owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1480545560, "last_edit_date": 1480545560, "creation_date": 1480545123, "answer_id": 40899473, "question_id": 40896025, "link": "https://stackoverflow.com/questions/40896025/oop-what-is-top-of-the-class-hierarchy-called/40899473#40899473", "title": "OOP - what is top of the class hierarchy called", "body": "<p>I usually just describe it as the \"root of the class hierarchy\".</p>\n\n<p>You could also say that it is a <a href=\"https://www.safaribooksonline.com/library/view/programming-c/0596001177/ch05s05.html\" rel=\"nofollow noreferrer\">\"root class\"</a>, which at least one book defines, albeit a book about C#, and possibly in a slightly different context, but, you know...</p>\n\n<p>Pretty much anything involving the word \"root\" would be clear and understood.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5889625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832b1ddbd6e1ffbc33f0f4db72a3d954?s=128&d=identicon&r=PG", "display_name": "Nicos", "link": "https://stackoverflow.com/users/5889625/nicos"}, "is_accepted": false, "score": 0, "last_activity_date": 1480545844, "creation_date": 1480545844, "answer_id": 40899617, "question_id": 40896025, "link": "https://stackoverflow.com/questions/40896025/oop-what-is-top-of-the-class-hierarchy-called/40899617#40899617", "title": "OOP - what is top of the class hierarchy called", "body": "<p>You can also use the term \"<strong>Superclass</strong>\" or \"<strong>Parent</strong> <strong>Class</strong>\" instead of \"Base class\", which is also correct. You can say that D is the superclass of classes A, B and C. C is also the superclass of B and B is the superclass of A.</p>\n\n<p>You can also describe it as the \"Root Class\", although there is no such terminology. I would not use this anywhere, but for the sake of giving them titles you could also say that class D is the great-grandfather of A, grandfather of B and father of C.</p>\n"}], "owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1480545844, "creation_date": 1480531966, "last_edit_date": 1480532074, "question_id": 40896025, "link": "https://stackoverflow.com/questions/40896025/oop-what-is-top-of-the-class-hierarchy-called", "title": "OOP - what is top of the class hierarchy called", "body": "<p>Consider the following class hierarchy - class <code>A</code> derives from <code>B</code>, which derives from <code>C</code>, which derives from <code>D</code>. </p>\n\n<p>What is <code>D</code> called? I don't want to call <code>D</code> a base class, because so are <code>B</code> and <code>C</code>. Is there a term in OO parlance that uniquely denotes that class which is the start of a hierarchy?</p>\n"}, {"tags": ["c++", "c++11", "templates", "clang++"], "comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1480531967, "post_id": 40895944, "comment_id": 69005866, "body": "You don&#39;t need <code>std::enable_if</code> just specialization of templated parent class of <code>Base</code>. PS. you cannot create variable of type <code>void</code>..."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480532662, "post_id": 40895944, "comment_id": 69006250, "body": "Please be more concrete."}, {"owner": {"reputation": 373, "user_id": 4440649, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/VITOP.jpg?s=128&g=1", "display_name": "Michocio", "link": "https://stackoverflow.com/users/4440649/michocio"}, "edited": false, "score": 0, "creation_date": 1480532835, "post_id": 40895944, "comment_id": 69006340, "body": "I would like to pass as one of template parametrs, bool value. Bool value will be indicate if for example animal has trunk, and if yes I want to have member len_of_trunk in class animal_with_trunk. animal_with_trunk has to be specialized version of base class animal. I can&#39;t use inheritance."}], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 4440649, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/VITOP.jpg?s=128&g=1", "display_name": "Michocio", "link": "https://stackoverflow.com/users/4440649/michocio"}, "edited": false, "score": 0, "creation_date": 1480533447, "post_id": 40896318, "comment_id": 69006674, "body": "But there is a problem with methods than. And if I want to exclude only one member from many members, than I have to duplicate code. Am I right?"}, {"owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "reply_to_user": {"reputation": 373, "user_id": 4440649, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/VITOP.jpg?s=128&g=1", "display_name": "Michocio", "link": "https://stackoverflow.com/users/4440649/michocio"}, "edited": false, "score": 0, "creation_date": 1480533804, "post_id": 40896318, "comment_id": 69006898, "body": "You&#39;re right, this doesn&#39;t seem to work with methods, and it&#39;s quite possible I don&#39;t know what I&#39;m talking about: <a href=\"http://melpon.org/wandbox/permlink/aaKLWW5eO3L8H93O\" rel=\"nofollow noreferrer\">melpon.org/wandbox/permlink/aaKLWW5eO3L8H93O</a>"}], "tags": [], "owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "is_accepted": false, "score": 2, "last_activity_date": 1480533029, "creation_date": 1480533029, "answer_id": 40896318, "question_id": 40895944, "link": "https://stackoverflow.com/questions/40895944/exclude-class-member-by-specialization/40896318#40896318", "title": "Exclude class member by specialization", "body": "<p>Can you just specialise the class without the unwanted members?</p>\n\n<pre><code>template &lt;typename T&gt;\nclass Base {\npublic:\n  T t;\n};\n\ntemplate &lt;&gt;\nclass Base&lt;int&gt; {\n};\n\nint main() {\n  Base&lt;int&gt; foo;\n  foo.t = 42; // Error: no member named 't' in 'Base&lt;int&gt;'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1860, "user_id": 3671410, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/7dAyV.jpg?s=128&g=1", "display_name": "Artur Pyszczuk", "link": "https://stackoverflow.com/users/3671410/artur-pyszczuk"}, "is_accepted": false, "score": 2, "last_activity_date": 1480533525, "creation_date": 1480533525, "answer_id": 40896453, "question_id": 40895944, "link": "https://stackoverflow.com/questions/40895944/exclude-class-member-by-specialization/40896453#40896453", "title": "Exclude class member by specialization", "body": "<p>One possible way to do this is to inherit conditionally. Take a look:</p>\n\n<pre><code>struct BaseWithVariable {\n    int n {42};\n};\n\nstruct BaseNoVariable {};\n\n\ntemplate &lt;typename T&gt;\nstruct Base : std::conditional&lt;std::is_same&lt;T, int&gt;::value, BaseWithVariable, BaseNoVariable&gt;::type {};\n</code></pre>\n\n<p>and usage:</p>\n\n<pre><code>Base&lt;int&gt; b {};\nBase&lt;double&gt; d {};\n\nstd::cout &lt;&lt; b.n &lt;&lt; std::endl;\nstd::cout &lt;&lt; d.n &lt;&lt; std::endl; // error\n</code></pre>\n\n<p>You can also write an explicit specialization for your type, but if you have a group of types (like integers or type derived from specific base) which should have different members than general type, this solution can be helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 0, "last_activity_date": 1480533696, "creation_date": 1480533696, "answer_id": 40896508, "question_id": 40895944, "link": "https://stackoverflow.com/questions/40895944/exclude-class-member-by-specialization/40896508#40896508", "title": "Exclude class member by specialization", "body": "<p>You can use a base for base that use SFINAE</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\ntemplate &lt;typename, typename = void&gt;\nstruct base_of_base;\n\ntemplate &lt;typename T&gt;\nstruct base_of_base&lt;T, typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt;\n { int var; };\n\ntemplate &lt;typename T&gt;\nstruct base_of_base&lt;T, typename std::enable_if&lt;!std::is_integral&lt;T&gt;::value&gt;::type&gt;\n { };\n\ntemplate &lt;typename T&gt;\nclass base : public base_of_base&lt;T&gt;\n { };\n\nint main()\n {\n   base&lt;int&gt;     bi;\n   base&lt;long&gt;    bl;\n   base&lt;float&gt;   bf;\n   base&lt;double&gt;  bd;\n\n   bi.var = 1; // OK\n   bl.var = 1; // OK\n   // bf.var = 1; // error: \u2018class base&lt;float&gt;\u2019 has no member named \u2018var\u2019\n   // bd.var = 1; // error: \u2018class base&lt;double&gt;\u2019 has no member named \u2018var\u2019\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "is_accepted": false, "score": 0, "last_activity_date": 1480534205, "creation_date": 1480534205, "answer_id": 40896632, "question_id": 40895944, "link": "https://stackoverflow.com/questions/40895944/exclude-class-member-by-specialization/40896632#40896632", "title": "Exclude class member by specialization", "body": "<p>How about <code>delete</code>ing the functions from specialisations of the class?</p>\n\n<pre><code>template &lt;typename T&gt;\nclass Base {\npublic:\n  void notUseful();\n};\n\ntemplate&lt;typename T&gt;\nvoid Base&lt;T&gt;::notUseful(){\n  std::cout &lt;&lt; \"not useful\" &lt;&lt; std::endl;\n  return;\n}\n\ntemplate &lt;&gt;\nvoid Base&lt;int&gt;::notUseful() = delete;\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 4440649, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/VITOP.jpg?s=128&g=1", "display_name": "Michocio", "link": "https://stackoverflow.com/users/4440649/michocio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1480534205, "creation_date": 1480531669, "last_edit_date": 1480532145, "question_id": 40895944, "link": "https://stackoverflow.com/questions/40895944/exclude-class-member-by-specialization", "title": "Exclude class member by specialization", "body": "<p>I have base class template, on that I'm making some another class, which are specialized versions of my base class. I know how to exclude some methods from particular specialization case, but is there any possibility to make that for class's members? Example code, of what I want to achieve:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass Base {\n  This variable exists only when T==integer VARIABLE;\n}\n\ntemplate &lt;Typename T&gt;\nWithVariable = using Base&lt;int&gt;;\n\ntemplate &lt;Typename T&gt;\nWithout = using Base&lt;double&gt;\n</code></pre>\n\n<p>I think that I should use std::enable in some way, but using it makes possible to make VARIABLE of type \"void\", when I don't want that variable. That is still not the situation I want to achieve.</p>\n"}, {"tags": ["c++", "pointers", "memory-management", "stl"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1480531421, "post_id": 40895832, "comment_id": 69005547, "body": "Why are you storing pointers?  If you are just dealing with <code>int</code>s use them and drop the pointers."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1480531485, "post_id": 40895832, "comment_id": 69005585, "body": "&quot;I was wondering how I would go about doing this&quot; - how to go about doing <i>what</i> ? You already identified the problem. You have a list full of dangling pointers. So.. either don&#39;t use pointers, or use something that can be shared between lists, like <code>std::shared_ptr&lt;int&gt;</code> instead of <code>int*</code>."}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "edited": false, "score": 0, "creation_date": 1480531494, "post_id": 40895832, "comment_id": 69005590, "body": "I am trying to implement a deep copy of one list of pointers to another if possible."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1480531607, "post_id": 40895832, "comment_id": 69005661, "body": "So don&#39;t use pointers <i>at all</i>. Use a <code>std::list&lt;int&gt;</code>."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480531721, "post_id": 40895832, "comment_id": 69005729, "body": "@a-one, you&#39;re <i>getting</i> a deep copy, as one would ordinarily interpret that in light of the fact that you construe your lists as lists <i>of pointers</i>.  The pointer values are copied.  If you want the second list to contain different pointers than the first list, then you&#39;ll need to allocate space for them to point to and initialize that space appropriately."}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "edited": false, "score": 0, "creation_date": 1480531798, "post_id": 40895832, "comment_id": 69005768, "body": "Yes I know I can do that but if I have a class with a list of pointers and I am trying to implement a copy construct that takes a reference to another list of pointers how would I do a deep copy. the int is just arbitrary I am trying to test the concept if that makes sense."}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480531920, "post_id": 40895832, "comment_id": 69005840, "body": "@JohnBollinger so would do:  int_list.push_back(new int(*iterator)); ?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532075, "post_id": 40895832, "comment_id": 69005931, "body": "@a-one, at first glance, yes, it looks like that would do it.  Instead of asking me, though, why don&#39;t you try it?"}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532176, "post_id": 40895832, "comment_id": 69005980, "body": "@JohnBollinger I did I am getting an error: test2.cpp:35:32: error: cannot initialize a new value of type &#39;int&#39; with an       lvalue of type &#39;value_type&#39; (aka &#39;int *&#39;)         int_list.push_back(new int(*iterator));"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532750, "post_id": 40895832, "comment_id": 69006301, "body": "@a-one, my bad.  <code>*iterator</code> is the <i>pointer</i> value being iterated.  The referenced <code>int</code> is <code>**iterator</code>, so you want <code>int_list.push_back(new int(**iterator));</code>."}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532992, "post_id": 40895832, "comment_id": 69006423, "body": "@JohnBollinger got it, Thanks Alot!"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "edited": false, "score": 0, "creation_date": 1480532834, "post_id": 40896059, "comment_id": 69006339, "body": "Thanks for the help it is much appreciated and did not go unnoticed, the answer to my problem was : int temp = **iterator;         int_list.push_back(new int(temp));"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532857, "post_id": 40896059, "comment_id": 69006345, "body": "Yes, but if one is going to store raw pointers in an STL container, then the kind of copy the OP wants to perform is exactly the kind one <i>should</i> perform, as it does not create any (additional) aliasing."}, {"owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1480532918, "post_id": 40896059, "comment_id": 69006374, "body": "Thanks for the time as well @John Bollinger"}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "edited": false, "score": 0, "creation_date": 1480533120, "post_id": 40896059, "comment_id": 69006487, "body": "@a-one: <code>int_list.push_back(new int(temp))</code> is <i>not</i> good IMO if <code>int_list</code> is a <code>std::list</code> storing raw <i>owning</i> pointers. If you want unique ownership, consider using <code>std::unique_ptr</code> instead of <code>shared_ptr</code>."}], "tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": false, "score": 0, "last_activity_date": 1480532414, "last_edit_date": 1480532414, "creation_date": 1480532099, "answer_id": 40896059, "question_id": 40895832, "link": "https://stackoverflow.com/questions/40895832/copying-std-list-with-pointers-to-another-std-list-with-pointers/40896059#40896059", "title": "copying std list with pointers to another std list with pointers", "body": "<p>Storing <em>raw</em> <strong>owning</strong> pointers in STL containers like <code>std::vector</code> or <code>std::list</code> is a source of bugs and <em>\"leaktrocities\"</em> (e.g. if exceptions are thrown, the allocated resources are leaked, as STL containers' destructors won't deallocate the raw owning pointers).<br>\nYou should either store <em>values</em>, or use <em>smart</em> pointers (<em>observing</em> raw pointers are fine, if you pay attention to their lifetime).</p>\n\n<p>If you really want to store pointers in STL containers, and you want a <em>shared ownership</em> semantic, you may want to consider <strong><code>std::shared_ptr</code></strong>. E.g. you can have <code>std::list&lt;std::shared_ptr&lt;T&gt;&gt;</code> (<code>list&lt;shared_ptr&lt;int&gt;&gt;</code> in your case).</p>\n\n<p>In this case you can perform copy operations, that will translate into <em>reference count</em> operations (e.g. when something is copied, instead of a deep-copy, you get an increased reference count; it's all automatically managed by <code>std::shared_ptr</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 3121882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c27c1ac09f1fc21f11cdb899d3f56e0?s=128&d=identicon&r=PG&f=1", "display_name": "Kombinator", "link": "https://stackoverflow.com/users/3121882/kombinator"}, "is_accepted": false, "score": 1, "last_activity_date": 1533247307, "creation_date": 1533247307, "answer_id": 51662732, "question_id": 40895832, "link": "https://stackoverflow.com/questions/40895832/copying-std-list-with-pointers-to-another-std-list-with-pointers/51662732#51662732", "title": "copying std list with pointers to another std list with pointers", "body": "<p>Often I use  pointers in std::list or std::vector to avoid copy which improves speed. \nOf course the  example uses pointers of int which makes sense for exemplary only.</p>\n\n<pre><code>std::vector&lt;int&gt; list_int;\nstd::vector&lt;int&gt; list_int_copy;\n\nstd::vector&lt;std::unique_ptr&lt; int &gt;&gt; list_heap_unique;\nstd::vector&lt;std::unique_ptr&lt; int &gt;&gt; list_heap_unique_copy;\n\n\nfor(int i=0;i&lt;5;i++) {\n        list_int.push_back(i);\n        //std::unique_ptr&lt;int&gt; ptr(new int(i));\n        list_heap_unique.emplace_back(new int(i));// new int(i)); // allocate object to heap memory\n        std::cout &lt;&lt; i &lt;&lt; \": orig i:\" &lt;&lt;  list_int.at(i) &lt;&lt; \", heap \" &lt;&lt; *list_heap_unique.at(i) &lt;&lt; \" ptr 0x\" &lt;&lt; (void *)list_heap_unique.at(i).get(); // &lt;&lt; std::endl;\n}\n\nstd::copy(list_int.begin(),list_int.end(), std::back_inserter(list_int_copy));\n\nfor (int val: list_int_copy) {\n       std::cout &lt;&lt; \"copy val int: \"  &lt;&lt; val; // &lt;&lt; std::endl;\n}\n\nstd::copy(std::make_move_iterator(list_heap_unique.begin()),\n          std::make_move_iterator(list_heap_unique.end()),\n          std::back_inserter(list_heap_unique_copy));\n\n\nstd::vector&lt;std::unique_ptr&lt;int&gt;&gt;::iterator iter;\nfor (iter = list_heap_unique_copy.begin();\n     iter!= list_heap_unique_copy.end();\n     ++iter)\n{\n     int *ptr = (*iter).get();\n     if (ptr)\n        std::cout &lt;&lt; \"copy val u_ptr: \" &lt;&lt; *ptr;// &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>With plain pointers it isn`t so hard to delete the content of the container after use. \nIt depends how and where you add or remove elements to the list. </p>\n"}], "owner": {"reputation": 103, "user_id": 5946651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-HjwZbXMJZ38/AAAAAAAAAAI/AAAAAAAAACA/Oka7FP5peEs/photo.jpg?sz=128", "display_name": "a-one", "link": "https://stackoverflow.com/users/5946651/a-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533247307, "creation_date": 1480531247, "last_edit_date": 1480532254, "question_id": 40895832, "link": "https://stackoverflow.com/questions/40895832/copying-std-list-with-pointers-to-another-std-list-with-pointers", "title": "copying std list with pointers to another std list with pointers", "body": "<p>I am trying to copy the value of a list of pointers into another list of pointers. When I delete the allocation of the first pointer the values do not remain in the second list. I know this is specifically because it is a list of pointers and the address is being copied over and not the actual value. I was wondering how I would go about doing this. </p>\n\n<p>the following is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n\n\nint main(int argc, char const *argv[])\n{\n  std::list&lt;int*&gt; pointer_list;\n\n  std::list&lt;int*&gt; int_list;\n\n\n  int one, two, three, four, five;\n\n  one = 1;\n  two = 2;\n  three = 3;\n  four = 4;\n  five = 5;\n\n  pointer_list.push_back(new int(one));\n  pointer_list.push_back(new int(two));\n  pointer_list.push_back(new int(three));\n  pointer_list.push_back(new int(four));\n  pointer_list.push_back(new int(five));\n\n\n\n  for (std::list&lt;int*&gt;::iterator iterator = pointer_list.begin(), end = pointer_list.end(); iterator != end; ++iterator)\n  {\n    std::cout &lt;&lt; **iterator &lt;&lt; std::endl;\n  }\n\n  for (std::list&lt;int*&gt;::iterator iterator = pointer_list.begin(), end = pointer_list.end(); iterator != end; ++iterator)\n  {\n    int_list.push_back(*iterator);\n  }\n\n  for (std::list&lt;int*&gt;::iterator iterator = pointer_list.begin(), end = pointer_list.end(); iterator != end; ++iterator)\n  {\n    delete *iterator;\n  }\n\n  for (std::list&lt;int*&gt;::iterator iterator = int_list.begin(), end = int_list.end(); iterator != end; ++iterator)\n  {\n    std::cout &lt;&lt; \"INT_LIST_AFTER DELETE: \" &lt;&lt; **iterator &lt;&lt; std::endl;\n  }\n\n  for (std::list&lt;int*&gt;::iterator iterator = pointer_list.begin(), end = pointer_list.end(); iterator != end; ++iterator)\n  {\n    std::cout &lt;&lt; \"LIST_POINTER AFTER DELETE: \" &lt;&lt; **iterator &lt;&lt; std::endl;\n  }\n\n\n  return 0;\n}\n</code></pre>\n\n<p>the following is the output:</p>\n\n<pre><code>  1\n  2\n  3\n  4\n  5\n  INT_LIST_AFTER DELETE: 1469317922\n  INT_LIST_AFTER DELETE: 1469317925\n  INT_LIST_AFTER DELETE: 1469317928\n  INT_LIST_AFTER DELETE: 0\n  INT_LIST_AFTER DELETE: 5\n  LIST_POINTER AFTER DELETE: 1469317922\n  LIST_POINTER AFTER DELETE: 1469317925\n  LIST_POINTER AFTER DELETE: 1469317928\n  LIST_POINTER AFTER DELETE: 0\n  LIST_POINTER AFTER DELETE: 5\n</code></pre>\n\n<p>Also how would I go about deleting the last element?  When I iterate through the list the condition <code>iterator != end</code> prevents it and I cannot use <code>&lt;=</code> because of the nature of a list.</p>\n"}, {"tags": ["c++", "winapi", "boost", "iterator", "boost-iterators"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1480537669, "post_id": 40895793, "comment_id": 69008809, "body": "Have you tried specifying <code>forward_traversal_tag</code> instead of <code>single_pass_traversal_tag</code>?  Did it work or not? What happened? I don&#39;t see anything in Boost&#39;s documentation that requires a &quot;Forward Traversal&quot; iterator to support &quot;multi-pass traversal&quot;, only &quot;single-pass traversal&quot;. You need to provide details of what you have already attempted, or else this is likely to get closed as off-topic asking for people&#39;s opinions instead of addressing technical facts."}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1480549677, "post_id": 40895793, "comment_id": 69014397, "body": "@RemyLebeau: Changing a tag isn&#39;t sufficient: you have to implement proper semantics. For ForwardIt being multi-pass vs. InputIt being single-pass read <a href=\"http://stackoverflow.com/a/6449296/1629821\">this interesting answer</a>. Note also that with FwdIt (see 3rd &#167; in that answer) there are more features than InIt, e.g. can have multiple usable copies of an iterator at once, etc. It&#39;s unclear to me how to make copies of iterators when using RegEnumValue. ..."}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1480549687, "post_id": 40895793, "comment_id": 69014400, "body": "... I&#39;ve already provided details of what I did in my question: it&#39;s precise and not off-topic at all. I also did a fair amount of research before posting. If you know technical facts to implement a FwdIt for registry enumeration then provide those."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1480553882, "post_id": 40895793, "comment_id": 69015566, "body": "You explained how you implemented a single-pass iterator, but not what you have attempted so far to implemented a forward-traversal iterator, or what research you have found that you do not understand how to implement.  You just asked if it is possible, but nothing beyond that. In any case, to make a copy of a Registry enumeration, you can duplicate an open Registry key handle using <code>DuplicateHandle()</code>, copy the current index to another variable, and then you can enumerate the two handles independently of each other."}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1480589300, "post_id": 40895793, "comment_id": 69029627, "body": "@RemyLebeau: Thanks for the additional interesting information. Sounds like this is a path I can investigate."}], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480536642, "creation_date": 1480531127, "last_edit_date": 1480536123, "question_id": 40895793, "link": "https://stackoverflow.com/questions/40895793/how-to-implement-a-forward-traversal-iterator-for-windows-registry-enumeration", "title": "How to implement a Forward Traversal Iterator for Windows registry enumeration", "body": "<p>I was able to use <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/iterator/doc/iterator_facade.html\" rel=\"nofollow noreferrer\">Boost Iterator Facade</a> to build a <em>custom</em> <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/iterator/doc/new-iter-concepts.html#single-pass-iterators-lib-single-pass-iterators\" rel=\"nofollow noreferrer\"><strong>Single Pass Iterator</strong></a> to iterate (in a C++ way) through the values contained in a Windows registry key, wrapping the C API <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724865(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>RegEnumValue</code></a>.</p>\n\n<p>E.g.:</p>\n\n<pre><code>// For each value 'v' under the given registry key 'hKey':\nfor (const auto&amp; v : RegistryValueIterator(hKey)) \n{\n    ...\n}\n</code></pre>\n\n<p>Basically, the iterator's <code>increment</code> method calls <code>RegEnumValue</code> increasing the <code>dwIndex</code> parameter (initially set to 0 in the iterator class constructor), and when <code>ERROR_NO_MORE_ITEMS</code> is returned, that is mapped to the <em>\"end\"</em> iterator.</p>\n\n<p>I've used the <code>boost::single_pass_traversal_tag</code>:</p>\n\n<pre><code>class RegistryValueIterator\n    : public boost::iterator_facade&lt; RegistryValueIterator,\n                                     RegistryValueEntry,\n                                     boost::single_pass_traversal_tag &gt;\n{\n    ...\n</code></pre>\n\n<p>Boost.Filesystem's <code>directory_iterator</code>, which wraps <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364428(v=vs.85).aspx\" rel=\"nofollow noreferrer\">the <code>FindNextFile</code> API in the Windows implementation</a>, is implemented as a <em>single-pass</em> iterator, too. And similarly, the <a href=\"http://en.cppreference.com/w/cpp/experimental/fs/directory_iterator\" rel=\"nofollow noreferrer\"><code>std::experimental::filesystem::directory_iterator</code></a> is an <em>Input Iterator</em> as well (<em>not</em> a Forward Iterator).</p>\n\n<p>So, would it be possible for registry enumeration to upgrade the iterator category to a <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/iterator/doc/new-iter-concepts.html#forward-traversal-iterators-lib-forward-traversal-iterators\" rel=\"nofollow noreferrer\"><strong>Forward Traversal Iterator</strong></a>? What steps should I follow to achieve that goal?</p>\n\n<p>In other words, would it be possible to implement a <em>multi-pass</em> traversal required by Forward Traversal Iterators using the Windows registry APIs like <code>RegEnumValue</code>? If so, how?</p>\n\n<hr>\n\n<p><strong>P.S.</strong> I've discussed registry <em>value</em> enumeration/iteration, but things are very similar for enumerating/iterating through registry <em>keys</em> as well, using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724862(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>RegEnumKeyEx</code> API</a>.</p>\n"}, {"tags": ["c++", "encryption", "xor"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1480531087, "post_id": 40895747, "comment_id": 69005362, "body": "You cannot use xor on null-terminated strings, you need to keep the length separately."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1480531721, "post_id": 40895747, "comment_id": 69005728, "body": "And what did you expect to see as output?"}, {"owner": {"reputation": 53, "user_id": 6231912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b972189a8ae12a0012d3856c47b2ba77?s=128&d=identicon&r=PG&f=1", "display_name": "WallOfBytes", "link": "https://stackoverflow.com/users/6231912/wallofbytes"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1480531768, "post_id": 40895747, "comment_id": 69005747, "body": "I tried to use C++ strings but i see some errors like <code>52\t18 test.cpp\t[Error] no match for &#39;operator^&#39; (operand types are &#39;std::string {aka std::basic_string&lt;char&gt;}&#39; and &#39;std::string {aka std::basic_string&lt;char&gt;}&#39;)</code>  @SomeWittyUsername a string of bytes, which can be interpreted as a sequence of hexadecimal numbers. Their length must match to the length of original text..."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 1, "creation_date": 1480531934, "post_id": 40895747, "comment_id": 69005851, "body": "What is &quot;strange output&quot;? Post it"}, {"owner": {"reputation": 53, "user_id": 6231912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b972189a8ae12a0012d3856c47b2ba77?s=128&d=identicon&r=PG&f=1", "display_name": "WallOfBytes", "link": "https://stackoverflow.com/users/6231912/wallofbytes"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480532906, "post_id": 40895747, "comment_id": 69006365, "body": "The length of output is not match to the length of original text. I added an example to my first post. ... Yes, @n.m. if I added the length of string as a parameter of function, it works. But how i can use C++ style strings?"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1480532948, "post_id": 40895747, "comment_id": 69006394, "body": "<code>x ^ x == 0</code> by definition, so null-terminated strings are really not going to be appropriate here. Any time a byte in your data is the same as the corresponding byte in the key, you&#39;ll get a zero. You need to work with fixed-sized buffers instead, and pass the byte count to the respective functions so they don&#39;t a) terminate at the first zero found or b) continue on beyond the &quot;expected&quot; end of the data."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1480533109, "post_id": 40896207, "comment_id": 69006481, "body": "result of <code>xor</code> can be &#39;\\0&#39; so it still has issue"}], "tags": [], "owner": {"reputation": 1341, "user_id": 4524618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8e1ca7e81266dc3e8f724a4864b3d90e?s=128&d=identicon&r=PG", "display_name": "Sniper", "link": "https://stackoverflow.com/users/4524618/sniper"}, "is_accepted": false, "score": 0, "last_activity_date": 1480532663, "creation_date": 1480532663, "answer_id": 40896207, "question_id": 40895747, "link": "https://stackoverflow.com/questions/40895747/c-xor-encrypt-decrypt-xor-cipher-doesnt-work-for-me/40896207#40896207", "title": "C++ XOR encrypt/decrypt (xor cipher) doesn&#39;t work for me", "body": "<p>Change your function to</p>\n\n<pre><code>void gamma(char *s1, char *s2, char *res)\n{\n    for (int i = 0; i &lt; strlen(s1); i++) {\n        res[i] = s1[i] ^ s2[i];\n    }\n    res[strlen(s1)] = '\\0';\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6231912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b972189a8ae12a0012d3856c47b2ba77?s=128&d=identicon&r=PG&f=1", "display_name": "WallOfBytes", "link": "https://stackoverflow.com/users/6231912/wallofbytes"}, "edited": false, "score": 0, "creation_date": 1480534933, "post_id": 40896277, "comment_id": 69007397, "body": "Yes, i think, that is very good idea to use vector of chars instead of string types. Thanks!"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1480532918, "creation_date": 1480532918, "answer_id": 40896277, "question_id": 40895747, "link": "https://stackoverflow.com/questions/40895747/c-xor-encrypt-decrypt-xor-cipher-doesnt-work-for-me/40896277#40896277", "title": "C++ XOR encrypt/decrypt (xor cipher) doesn&#39;t work for me", "body": "<p>It is not a good idea to use <code>char*</code> or <code>std::string</code> for binary data, as many places it assumed to hold zero terminated string. (for <code>std::string</code> it is acctually better, but there are still some issues), so better use <code>std::vector&lt;unsigned char&gt;</code> for binary data:</p>\n\n<pre><code>typedef std::vector&lt;uin8_t&gt; data;\ndata gamma( const std::string &amp;str, const std::string &amp;key )\n{\n    data r( str.length() );\n    for( size_t i = 0; i &lt; str.length(); ++i )\n        r[i] = str[i] ^ key[i%key.length()];\n    return r;\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6231912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b972189a8ae12a0012d3856c47b2ba77?s=128&d=identicon&r=PG&f=1", "display_name": "WallOfBytes", "link": "https://stackoverflow.com/users/6231912/wallofbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1480532918, "creation_date": 1480531000, "last_edit_date": 1480532430, "question_id": 40895747, "link": "https://stackoverflow.com/questions/40895747/c-xor-encrypt-decrypt-xor-cipher-doesnt-work-for-me", "title": "C++ XOR encrypt/decrypt (xor cipher) doesn&#39;t work for me", "body": "<p>I tried to solve the easy task to train in c++: xor encryption/decryption. But my <code>gamma()</code> function doesn't work correctly. It creates result string with strange length, that less or more than original. I don't understand, why. I tried to add <code>\\0</code> to the end of result string, but it isn't work.</p>\n\n<p>My <code>gamma()</code> function is</p>\n\n<pre><code>void gamma(char *s1, char *s2, char *res)\n{\n    for (int i = 0; i &lt; strlen(s1); i++) {\n        res[i] = s1[i] ^ s2[i];\n}\n</code></pre>\n\n<p>My original strings are\n<code>char source[255] = \"1234\", key[255] = \"avsc\", result[255];</code></p>\n\n<p><code>gamma()</code> creates a strange string with <code>length=5</code>.</p>\n\n<p>Example of output:</p>\n\n<p><code>source: 1234dfdfsd\nkey: avsc234567\nsource(hex): 31 32 33 34 64 66 64 66 73 64\nkey(hex): 61 76 73 63 32 33 34 35 36 37\nresult (hex): 50 44 40 57 56 55 50 53 45 53 4D - length???\ntry to restore source: 1234dfdfsdM\u00b6\ntry to restore source in hex: 31 32 33 34 64 66 64 66 73 64 4D 14\n</code></p>\n"}, {"tags": ["c++", "global-variables"], "comments": [{"owner": {"reputation": 613, "user_id": 3112926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33809c5d0f78b110e8613c9e5972dd5?s=128&d=identicon&r=PG&f=1", "display_name": "JGroven", "link": "https://stackoverflow.com/users/3112926/jgroven"}, "edited": false, "score": 1, "creation_date": 1480531026, "post_id": 40895621, "comment_id": 69005333, "body": "In this file, it looks like &#39;m&#39; is a member of the class represented by &#39;g&#39;.  Hard to tell what &#39;g&#39; is without digging further.  I&#39;m guessing it&#39;s an instantiation of the &quot;game&quot; class, because &quot;game.h&quot; contains a variable &quot;m&quot; that is a map!"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1480531474, "post_id": 40895621, "comment_id": 69005574, "body": "if <code>m</code> is really the global variable maybe you could search over compiled object files by grepping <code>nm *.o</code> and using pattern &quot;B m$&quot;"}, {"owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "edited": false, "score": 0, "creation_date": 1480531494, "post_id": 40895621, "comment_id": 69005591, "body": "Yep - <code>game.h</code> defines a global instance of <code>game</code> called <code>g</code>, which contains a <code>map</code> named <code>m</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1480532182, "post_id": 40895621, "comment_id": 69005987, "body": "Ladies and gentlemen, I present to you a case in what <b>not</b> to do when naming variables."}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3112926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33809c5d0f78b110e8613c9e5972dd5?s=128&d=identicon&r=PG&f=1", "display_name": "JGroven", "link": "https://stackoverflow.com/users/3112926/jgroven"}, "edited": false, "score": 0, "creation_date": 1480531227, "post_id": 40895821, "comment_id": 69005448, "body": "the phrase &#39;m&#39; occurs thousands of times in this guy&#39;s program."}, {"owner": {"reputation": 309, "user_id": 2647624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fn6tR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2647624/peter"}, "reply_to_user": {"reputation": 613, "user_id": 3112926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33809c5d0f78b110e8613c9e5972dd5?s=128&d=identicon&r=PG&f=1", "display_name": "JGroven", "link": "https://stackoverflow.com/users/3112926/jgroven"}, "edited": false, "score": 0, "creation_date": 1480531315, "post_id": 40895821, "comment_id": 69005495, "body": "I noticed that. That makes it particularly difficult, so either he will have to manually search for the original definition or figure out some sort of regex that will work well with grep. Honestly, it might just be easier to bite the bullet and search through those 2 dozen header files."}], "tags": [], "owner": {"reputation": 309, "user_id": 2647624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fn6tR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2647624/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1480531189, "creation_date": 1480531189, "answer_id": 40895821, "question_id": 40895621, "link": "https://stackoverflow.com/questions/40895621/finding-file-in-which-global-variable-is-declared/40895821#40895821", "title": "Finding file in which global variable is declared", "body": "<p>If you have the codebase downloaded locally, you could use grep: <a href=\"https://www.gnu.org/software/grep/manual/grep.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/grep/manual/grep.html</a></p>\n\n<p>Note that grep is a Unix based command, so depending on your shell it may not be available. If you're on Windows, FINDSTR (<a href=\"https://technet.microsoft.com/en-us/library/bb490907.aspx\" rel=\"nofollow noreferrer\">https://technet.microsoft.com/en-us/library/bb490907.aspx</a>) does something similar but isn't as flexible. </p>\n\n<p>A quick example using grep would be something like this:</p>\n\n<pre><code>grep -l -R \"some_string\" /usr/local/SomeDirectory\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "is_accepted": true, "score": 1, "last_activity_date": 1480531260, "creation_date": 1480531260, "answer_id": 40895835, "question_id": 40895621, "link": "https://stackoverflow.com/questions/40895621/finding-file-in-which-global-variable-is-declared/40895835#40895835", "title": "Finding file in which global variable is declared", "body": "<p>I'd download the source code and make a project from it in my IDE. I can then find the declaration via a context menu.</p>\n\n<p>If there's a more elegant way I'd like to hear it!</p>\n"}], "owner": {"reputation": 2724, "user_id": 4268602, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/730410991/picture?type=large", "display_name": "Daniel Paczuski Bak", "link": "https://stackoverflow.com/users/4268602/daniel-paczuski-bak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 40895835, "answer_count": 2, "score": 0, "last_activity_date": 1480531260, "creation_date": 1480530519, "question_id": 40895621, "link": "https://stackoverflow.com/questions/40895621/finding-file-in-which-global-variable-is-declared", "title": "Finding file in which global variable is declared", "body": "<p>I am trying to learn a fairly large open source codebase. In <a href=\"https://github.com/CleverRaven/Cataclysm-DDA/blob/master/src/monster.cpp\" rel=\"nofollow noreferrer\">this</a> file, a variable m is referenced many times without ever being declared (see line 819). So I figure it has to be a global variable.</p>\n\n<p>However, this file includes roughly two dozen .h files. From what I understand, m could have been declared in any of these files. Is there any way I can determine which file declared it, or do I need to search through each .h file?</p>\n\n<p>Is this the kind of thing you need a tool for? Does Eclipse have such a function?</p>\n"}, {"tags": ["c++", "arrays", "2d", "access-violation", "dynamic-allocation"], "comments": [{"owner": {"reputation": 13, "user_id": 7232447, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AzSma50v-bo/AAAAAAAAAAI/AAAAAAAAABY/iNGHyoGtQiU/photo.jpg?sz=128", "display_name": "Reagan Weatherly", "link": "https://stackoverflow.com/users/7232447/reagan-weatherly"}, "edited": false, "score": 0, "creation_date": 1480530822, "post_id": 40895604, "comment_id": 69005224, "body": "And no, it isn&#39;t finished yet as far as implementing the entire algorithm, I just need help getting over this stumbling block of Access Violation"}], "answers": [{"tags": [], "owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1480531078, "creation_date": 1480531078, "answer_id": 40895772, "question_id": 40895604, "link": "https://stackoverflow.com/questions/40895604/dynamic-2d-array-access-violation-with-remainders/40895772#40895772", "title": "dynamic 2d array access violation with remainders", "body": "<p>You have a bug in this piece: if remainder is true but size - 1 != 1 you would never initialize your arrays and then you trying to access them</p>\n\n<pre><code>for (int i = 0; i &lt; size; ++i)\n{\n    if (remainder == true)\n    {\n        if (size - i == 1)\n            groups[i] = new int[((size) % (groupSize))];\n    }\n    else\n    groups[i] = new int[groupSize];\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7232447, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AzSma50v-bo/AAAAAAAAAAI/AAAAAAAAABY/iNGHyoGtQiU/photo.jpg?sz=128", "display_name": "Reagan Weatherly", "link": "https://stackoverflow.com/users/7232447/reagan-weatherly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 40895772, "answer_count": 1, "score": 1, "last_activity_date": 1480531078, "creation_date": 1480530458, "question_id": 40895604, "link": "https://stackoverflow.com/questions/40895604/dynamic-2d-array-access-violation-with-remainders", "title": "dynamic 2d array access violation with remainders", "body": "<p>I've got this really strange problem when trying to use this code for implementing a group quick select algorithm. I use a 2D dynamically allocated array to hold the individual elements in groups of the randomly generated unsorted array of 10 numbers. When I run the code with a group size of 2, 5, or 10 it works perfectly. But when I change the group size to a number that would leave one group smaller than the others, it breaks when I try to initialize the contents of the array to some test figures. Thanks for any advice.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;random&gt;\n#include &lt;array&gt;\n\nusing namespace std;\n\nint groupSize = 0;\nint groupSelect(int *, int, int, int);\n\nint main()\n{\n\n    // randomize array of size 10 with entries between 1 and 20.\n\n    random_device rd;\n    mt19937 eng(rd());\n    uniform_int_distribution&lt;&gt; distr(1, 20);\n\n    int max = 10;\n\n    int * Array;\n    Array = new int[max];\n\n    for (int i = 0; i &lt; max; i++)\n    {\n        Array[i] = distr(eng);\n    }\n\n    // display array contents (unsorted)\n\n    cout &lt;&lt; \"Array contents are:\\n\";\n    for (int i = 0; i &lt; max; i++)\n    {\n        cout &lt;&lt; Array[i] &lt;&lt; \", \";\n    }\n\n    cout &lt;&lt; endl;\n\n    /*------------------------------------------------------------------------------*/\n\n    groupSize = 3;\n\n    int poo = groupSelect(Array, 0, 9, 5);\n\n    return 0;\n\n    /*------------------------------------------------------------------------------*/\n\n\n    delete[] Array;\n}\n\n\nint groupSelect(int* arr, int start, int end, int k)\n{\n    bool remainder = false;\n    int size = 10;\n\n    if ((size % groupSize) != 0)\n    {\n        remainder = true;\n\n    }\n\n    //size = amount of groups of 5 (and remainder group)\n    size = size - (size % groupSize);\n    size = size / groupSize;\n\n    if(remainder)\n        size++;\n\n\n    cout &lt;&lt; \"Size = \" &lt;&lt; size &lt;&lt; endl;\n\n    int** groups = new int*[size];\n    for (int i = 0; i &lt; size; ++i)\n    {\n        if (remainder == true)\n        {\n            if (size - i == 1)\n                groups[i] = new int[((size) % (groupSize))];\n        }\n        else\n        groups[i] = new int[groupSize];\n    }\n\n\n    int testV = 0;\n    for (int i = 0; i &lt; size; i++)\n    {\n\n        int temp = groupSize;\n        if (size - i == 1)\n        {\n            if (remainder)\n                temp = size % groupSize;\n        }\n        for (int j = 0; j &lt; temp; j++)\n        {\n            groups[i][j] = testV;  // codes break here\n            testV++;\n        }\n    }\n\n    cout &lt;&lt; \"\\nGroup arrays' contents\\n\" &lt;&lt; endl;\n    for (int i = 0; i &lt; size; i++)\n    {\n        for (int j = 0; j &lt; groupSize; j++)\n        {\n            cout &lt;&lt; \"groups[\" &lt;&lt; i &lt;&lt; \"][\"&lt;&lt;j&lt;&lt;\"] contents = \" &lt;&lt; groups[i][j] &lt;&lt; endl;\n        }\n    }\n\n    delete[] groups;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "enable-if"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480530785, "post_id": 40895523, "comment_id": 69005206, "body": "If I am not mistaken, SFINAE is meant be used for overload resolution of function templates. I don&#39;t think you can use it for class templates."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480530895, "post_id": 40895523, "comment_id": 69005260, "body": "@RSahu Sure it can. That&#39;s <a href=\"http://stackoverflow.com/q/27687389/2069064\">how <code>void_t</code> works</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1480531582, "post_id": 40895523, "comment_id": 69005643, "body": "@Barry, thanks for the link. I am yet to get my basics straight regarding SFINAE."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "edited": false, "score": 0, "creation_date": 1480531306, "post_id": 40895579, "comment_id": 69005490, "body": "now, what if I want to declare Ctor for 2 scenarios. One for isarmed == true and the opposite?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480531712, "post_id": 40895579, "comment_id": 69005721, "body": "There is a default type for the fifth template parameter. Why won&#39;t the compiler derive it from the first template parameter?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480531744, "post_id": 40895579, "comment_id": 69005741, "body": "@RSahu There&#39;s a default. That doesn&#39;t mean that the user can&#39;t provide one that isn&#39;t the default."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1480531819, "post_id": 40895579, "comment_id": 69005783, "body": "Then, why is <code>Citizen&lt;T, minAge, maxAge, isarmed&gt;::Citizen(T health, T age) </code> a problem?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1480532343, "post_id": 40895579, "comment_id": 69006069, "body": "@RSahu Because <code>Citizen</code> doesn&#39;t take 4 template parameters. It takes 5. There&#39;s no template instantiation here."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 2, "last_activity_date": 1480530344, "creation_date": 1480530344, "answer_id": 40895579, "question_id": 40895523, "link": "https://stackoverflow.com/questions/40895523/compile-error-templates-enable-if/40895579#40895579", "title": "compile error - templates, enable_if", "body": "<p>You declare <code>Citizen</code> to be a class template taking 5 template parameters:</p>\n\n<pre><code>template &lt;typename T, T, T, bool, typename &gt;\nclass Citizen { ... };\n</code></pre>\n\n<p>and then try to define the constructor using only 4 template parameters:</p>\n\n<pre><code>template &lt;typename T, T minAge, T maxAge, bool isarmed&gt;\nCitizen&lt;T, minAge, maxAge, isarmed&gt;::Citizen(T health, T age) \n</code></pre>\n\n<p>There is no such previously declared 4-template-parameter <code>Citizen</code>, hence the error. You still need that last template parameter.</p>\n\n<hr />\n\n<p>Note that SFINAE here doesn't make much sense unless you have some other non-arithmetic <code>Citizen</code> class template (which itself doesn't make much sense). Just have a <code>static_assert</code> for <code>T</code> being an arithmetic type.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4833046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 40895579, "answer_count": 1, "score": 1, "last_activity_date": 1480530458, "creation_date": 1480530137, "last_edit_date": 1480530458, "question_id": 40895523, "link": "https://stackoverflow.com/questions/40895523/compile-error-templates-enable-if", "title": "compile error - templates, enable_if", "body": "<p>could you tell me why this code doesn't compile?</p>\n\n<pre><code>template &lt;typename T, T minAge, T maxAge, bool isarmed,\ntypename = std::enable_if_t&lt;std::is_arithmetic&lt;T&gt;::value&gt;&gt;\nclass Citizen {\npublic:\n\n    Citizen(T health, T age);\n    Citizen(T health, T age, T attackPower);\n    T getHealth() const { return _health; };\n    T getAge() const { return _age; };\n    T getAttackPower();\n    void takeDamage(T damage);\n\nprivate:\n    T _health;\n    T _age;\n    T _attackPower;\n};\n\ntemplate &lt;typename T, T minAge, T maxAge, bool isarmed&gt;\nCitizen&lt;T, minAge, maxAge, isarmed&gt;::Citizen(T health, T age):\n        _health (health),\n        _age (age)\n{\n    static_assert(minAge &lt;= maxAge, \"Wrong age\");\n    assert(minAge &lt;= this-&gt;_age &amp;&amp; this-&gt;_age &lt;= maxAge);\n}\n</code></pre>\n\n<p>What am I missing?</p>\n\n<pre><code>error: invalid use of incomplete type \u2018class Citizen&lt;T, minAge, maxAge, isarmed&gt;\u2019\n</code></pre>\n"}, {"tags": ["c++", "qt", "csv", "qresource"], "comments": [{"owner": {"reputation": 5013, "user_id": 4181011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0C2A9.jpg?s=128&g=1", "display_name": "Simon Kraemer", "link": "https://stackoverflow.com/users/4181011/simon-kraemer"}, "edited": false, "score": 0, "creation_date": 1480530550, "post_id": 40895489, "comment_id": 69005082, "body": "From a short Google search you might be able to read the file into memory (e.g. into a QByteArray) and then use <code>fmemopen</code> to get a <code>FILE*</code>. I have absolutely no idea if this really works and has any problems/side effects, but maybe it&#39;s worth a try?"}, {"owner": {"reputation": 5013, "user_id": 4181011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0C2A9.jpg?s=128&g=1", "display_name": "Simon Kraemer", "link": "https://stackoverflow.com/users/4181011/simon-kraemer"}, "edited": false, "score": 0, "creation_date": 1480530785, "post_id": 40895489, "comment_id": 69005205, "body": "Some links to this approach: <a href=\"http://stackoverflow.com/questions/539537/memory-buffer-as-file\">stackoverflow.com/questions/539537/memory-buffer-as-file</a> <a href=\"http://stackoverflow.com/questions/12249610/c-create-file-in-memory\" title=\"c create file in memory\">stackoverflow.com/questions/12249610/c-create-file-in-memory</a> <a href=\"http://stackoverflow.com/a/5860435/4181011\">stackoverflow.com/a/5860435/4181011</a>"}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "edited": false, "score": 0, "creation_date": 1480538945, "post_id": 40897071, "comment_id": 69009545, "body": "Thank you for the very detailed approach. All of my code will be destined for 64 bit machines so memory is not a problem. For that reason, I intend to use the first of your two approaches, however the InputInterface idea is very interesting so I will definitely keep it in mind if I have the need for it later."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1480566930, "last_edit_date": 1480566930, "creation_date": 1480535883, "answer_id": 40897071, "question_id": 40895489, "link": "https://stackoverflow.com/questions/40895489/using-qresource-qfile-with-file/40897071#40897071", "title": "Using qresource QFile with FILE", "body": "<p>The <code>CSVReader</code> can do either of two things:</p>\n\n<ol>\n<li><p>Parse from memory - the file would have to be memory-<strong>mapped</strong> first. This makes sense on 64 bit platforms where you won't run out of virtual memory. But on 32 bit platforms this is not very flexible: you won't be able to open any file over a gigabyte or two in size. The <code>CSVReader</code> would work off a <code>const char *, size_t</code> pair.</p>\n\n<p>Note that memory mapping is <em>not the same</em> as explicitly reading from a file. When you memory-map a file, the reading is done by the operating system on your behalf: you never do any reading directly from the file yourself.</p>\n\n<p>If the files are small enough to fit into virtual memory on 32 bit platforms, or if you're on a 64-bit platform, this will be most likely the best performing approach as the page mapping system of modern kernels will offer least impedance mismatch between the IO device and the parser.</p></li>\n<li><p>Read the data incrementally from a file using an abstract interface. The <code>CSVReader</code> would work off an <code>InputInterface</code> instance. The reader should expect an open instance of the interface.</p>\n\n<p>The reader should not open the file itself, as opening is specific to the particular implementation. Since a <code>QFile</code>-based implementation will accept resource paths while a standard library-based one won't, it makes no sense having a generic <code>open</code> method: it will hide errors that otherwise wouldn't be possible by construction.</p></li>\n</ol>\n\n<p>The second approach seems to have widest applicability. You could define the interface as follows:</p>\n\n<pre><code>// https://github.com/KubaO/stackoverflown/tree/master/questions/file-interface-40895489\n#include &lt;cstdint&gt;\n\nclass InputInterface {\nprotected:\n   InputInterface() {}\npublic:\n   virtual int64_t read(char *, int64_t maxSize) = 0;\n   virtual int64_t pos() const = 0;\n   virtual bool seek(int64_t) = 0;\n   virtual bool isOpen() const = 0;\n   virtual bool atEnd() const = 0;\n   virtual bool ok() const = 0;\n   virtual bool flush() = 0;\n   virtual void close() = 0;\n   virtual ~InputInterface() {}\n};\n</code></pre>\n\n<p>The <code>QFile</code>-based implementation could look as follows:</p>\n\n<pre><code>#include &lt;QtCore&gt;\n\nclass QtFile : public InputInterface {\n   QFile f;\npublic:\n   QtFile() {}\n   QtFile(const QString &amp;name) : f(name) {}\n   bool open(const QString &amp;name, QFile::OpenMode mode) {\n      close();\n      f.setFileName(name);\n      return f.open(mode);\n   }\n   bool open(QFile::OpenMode mode) {\n      close();\n      return f.open(mode);\n   }\n   void close() override {\n      f.close();\n   }\n   bool flush() override {\n      return f.flush();\n   }\n   int64_t read(char * buf, int64_t maxSize) override {\n      return f.read(buf, maxSize);\n   }\n   int64_t pos() const override {\n      return f.pos();\n   }\n   bool seek(int64_t pos) override {\n      return f.seek(pos);\n   }\n   bool isOpen() const override {\n      return f.isOpen();\n   }\n   bool atEnd() const override {\n      return f.atEnd();\n   }\n   bool ok() const override {\n      return f.isOpen() &amp;&amp; f.error() == QFile::NoError;\n   }\n   QString statusString() const {\n      return f.errorString();\n   }\n};\n</code></pre>\n\n<p>The plain C++ implementation would be:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;cerrno&gt;\n#include &lt;cassert&gt;\n#include &lt;string&gt;\n\nclass CFile : public InputInterface {\n   FILE *f = nullptr;\n   int mutable m_status = 0;\npublic:\n   CFile() {}\n   CFile(FILE * f) : f(f) {\n      assert(!ferror(f)); // it is impossible to retrieve the error at this point\n      m_status = 0;\n   }\n   ~CFile() { close(); }\n   void close() override {\n      if (f) fclose(f);\n      f = nullptr;\n      m_status = 0;\n   }\n   bool open(const char *name, const char *mode) {\n      close();\n      f = fopen(name, mode);\n      if (!f) m_status = errno;\n      return f;\n   }\n   bool flush() override {\n      auto rc = fflush(f);\n      if (rc) m_status = errno;\n      return !rc;\n   }\n   bool isOpen() const override { return f; }\n   bool atEnd() const override { return f &amp;&amp; feof(f); }\n   bool ok() const override { return f &amp;&amp; !m_status; }\n   int64_t read(char * buf, int64_t maxSize) override {\n      auto n = fread(buf, 1, maxSize, f);\n      if (ferror(f)) m_status = errno;\n      return n;\n   }\n   bool seek(int64_t pos) override {\n      auto rc = fseek(f, pos, SEEK_SET);\n      if (rc) m_status = errno;\n      return !rc;\n   }\n   int64_t pos() const override {\n      if (!f) return 0;\n      auto p = ftell(f);\n      if (p == EOF) {\n         m_status = errno;\n         return 0;\n      }\n      return p;\n   }\n   std::string statusString() const {\n      return {strerror(m_status)};\n   }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7180, "user_id": 2666212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874561e399041a45c82c2ca6652400b6?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2666212/mike"}, "edited": false, "score": 1, "creation_date": 1480549847, "post_id": 40898111, "comment_id": 69014450, "body": "No, <code>readAll()</code> will have to actually <b>allocate memory for all data in the file you are reading</b> (since it is returning a <code>QByteArray</code> with all file contents). @KubaOber&#39;s approach was about <b>mapping file data to virtual memory</b>, this would be done in Qt using something like <a href=\"https://doc.qt.io/qt-5/qfiledevice.html#map\" rel=\"nofollow noreferrer\"><code>QFileDevice::map()</code></a>. So, you use that in your application, and pass the result pointer to your C++-only <code>CSVReader</code>."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1480566715, "post_id": 40898111, "comment_id": 69018665, "body": "I agree with Mike. You don&#39;t want any of what you show above. Use <code>QFile::map</code>, or a platform-specific file memory-mapped API, as needed. The <code>csvReader</code> should probably treat the file as if it was encoded using an ASCII-compatible encoding, thus UTF-8, Latin1, etc. Transcoding on reading of CSVs will unnecessarily rob performance."}, {"owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "edited": false, "score": 0, "creation_date": 1480623805, "post_id": 40898111, "comment_id": 69051672, "body": "So for the Qt implementation I would use <code>const char *data = qF.map(0,qF.size());</code> and give <code>data</code> and <code>qF.size()</code> as inputs to <code>CSVReader</code>. What would the non-Qt implementation look like? I would expect for the inputs to the <code>CSVReader</code> to be exactly the same (i.e. <code>const char*</code> and <code>size_t</code>)"}], "tags": [], "owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "is_accepted": false, "score": 0, "last_activity_date": 1480539622, "creation_date": 1480539622, "answer_id": 40898111, "question_id": 40895489, "link": "https://stackoverflow.com/questions/40895489/using-qresource-qfile-with-file/40898111#40898111", "title": "Using qresource QFile with FILE", "body": "<p>I chose to take @Kuba's first approach since I don't have memory limitations in my application. For those interested I've posted my plain C++ and Qt-based approaches below.</p>\n\n<p>Plain C++</p>\n\n<pre><code>std::ifstream ifs(\"file.csv\");\nstd::string fileContents((std::istreambuf_iterator&lt;char&gt;(ifs)),\n                         (std::istreambuf_iterator&lt;char&gt;()));\nCSVReader csvReader(fileContents);\n</code></pre>\n\n<p>Qt-based</p>\n\n<pre><code>QFile qF(\":/file.csv\");\nif (qF.open(QFile::ReadOnly))\n{\n    QTextStream qTS(&amp;qF);\n    CSVReader csvReader(qTS.readAll().toStdString());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3304, "user_id": 2743307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f8ee6ac582d2582fb14c295507eddba?s=128&d=identicon&r=PG&f=1", "display_name": "bibi", "link": "https://stackoverflow.com/users/2743307/bibi"}, "is_accepted": false, "score": 0, "last_activity_date": 1480545582, "creation_date": 1480545582, "answer_id": 40899571, "question_id": 40895489, "link": "https://stackoverflow.com/questions/40895489/using-qresource-qfile-with-file/40899571#40899571", "title": "Using qresource QFile with FILE", "body": "<p>You could take advantage of Qt <a href=\"http://doc.qt.io/qt-5/qtemporaryfile.html\" rel=\"nofollow noreferrer\">QTemporaryFile</a> to copy your data and start. <code>QTemporaryfile</code> works on every os.</p>\n\n<p>Here is an example (this temporary file is associated to the entire <code>qApp</code> so that it will be removed once you quit the application):</p>\n\n<pre><code>QTemporaryFile tmpFile(qApp);\ntmpFile.setFileTemplate(\"XXXXXX.csv\");\nif (tmpFile.open()) {\n    QString tmp_filename=tmpFile.fileName();\n    qDebug() &lt;&lt; \"temporary\" &lt;&lt; tmp_filename;\n\n    QFile file(\":/file.csv\");\n    if (file.open(QIODevice::ReadOnly)) {\n        tmpFile.write(file.readAll());\n    }\n\n    tmpFile.close();\n}\n</code></pre>\n\n<p>The you can reopen the file <code>tmpFile.fileName()</code> </p>\n"}], "owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1480566930, "creation_date": 1480530026, "last_edit_date": 1495541323, "question_id": 40895489, "link": "https://stackoverflow.com/questions/40895489/using-qresource-qfile-with-file", "title": "Using qresource QFile with FILE", "body": "<p>I have a Qt project which have a set of source/header files that are also used in other projects that are not Qt based. These files handle reading of .csv files (I'll call it my CSVReader class). The CSVReader is written without any Qt specific function calls (I have control over modification of the CSVReader, but with the requirement that it doesn't use any Qt specific code).</p>\n\n<p>In my Qt based application I like these extra .csv files to be embedded into the .exe using the .qrc file this way a user cannot accidentally delete or modify these files.</p>\n\n<p>Obviously this poses a problem when reading this data in since my CSVReader uses calls like <code>fopen</code> and <code>fread</code></p>\n\n<p>I was hoping I could use something like the following (<a href=\"https://stackoverflow.com/questions/9465727/convert-qfile-to-file\">Convert QFile to FILE*</a>) in the Qt part of my project and just pass the file handle to the CSVReader.</p>\n\n<pre><code>QFile myFile(\"goforward.raw\");\nmyFile.open(QIODevice::ReadOnly);\nint fileHandle = myFile.handle();\nFILE* fh = fdopen(fileHandle, \"rb\");\n</code></pre>\n\n<p>But obviously since the file only exists in the .exe the call to <code>myFile.handle()</code> returns <code>-1</code>.</p>\n\n<p>My current idea (which is kind of ugly) is to open the file using QFile, then write the file to the harddrive, then load the file in the CSVReader using <code>FILE *f = fopen(fname, \"rt\");</code>, and after that I delete the file that I wrote.</p>\n\n<p>If any others have ideas on how to <strong>read</strong> or <strong>open</strong> the qresource file I'm open to other ideas.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "c", "arrays", "algorithm", "dynamic-programming"], "comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480530107, "post_id": 40895487, "comment_id": 69004843, "body": "Is this a variant of the <a href=\"https://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow noreferrer\">knapsack problem</a>?"}, {"owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480533643, "post_id": 40895487, "comment_id": 69006800, "body": "No, I&#39;m trying to find the dynamic programming solution for the K-Server problem."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480533986, "post_id": 40895487, "comment_id": 69006974, "body": "In that case can you apply <a href=\"https://en.wikipedia.org/wiki/Dijkstra&#39;s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra&#39;s algorithm</a> which finds an optimal route without exploring all possible paths? It is usually used in 2 dimensions, but no reason why it cannot be applied to more."}, {"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1480539797, "post_id": 40895487, "comment_id": 69010027, "body": "@WeatherVane Dijkstra will likely still visit a large portion of all possible states in this case (based on my intuition, I haven&#39;t checked it), so the additional book keeping (log(n) factor to find the next state to process) is likely not worth it in terms of running time."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "edited": false, "score": 0, "creation_date": 1480542316, "post_id": 40895708, "comment_id": 69011353, "body": "Thanks for the answer, I sorta understand what to do but can you please explain number 1. What do would mean by trying all triplets? Thanks and sorry for the late reply."}, {"owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "reply_to_user": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "edited": false, "score": 0, "creation_date": 1480544781, "post_id": 40895708, "comment_id": 69012478, "body": "@RayBurns I mean iterating over all i, j and k and find such a combination that cost[i][j][k][t] is minimal."}], "tags": [], "owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "is_accepted": true, "score": 0, "last_activity_date": 1480530845, "creation_date": 1480530845, "answer_id": 40895708, "question_id": 40895487, "link": "https://stackoverflow.com/questions/40895487/how-can-i-tell-where-the-optimal-path-for-the-k-server-dynamic-solution-is-locat/40895708#40895708", "title": "How can I tell where the optimal path for the k-server dynamic solution is located in array cost[ i ][ j ][ k ][ t ]?", "body": "<p>To find the optimal solution itself once the cost is computed, you can go like this:</p>\n\n<ol>\n<li><p>Find the optimal combination of <code>i</code>, <code>j</code> and <code>k</code> for the final value of <code>t</code> (by simply trying all triplets).</p></li>\n<li><p>Initialize the current state with <code>(i, j, k, t)</code>. </p></li>\n<li><p>Keep finding the parent state and going to it until the initial state is reached.</p></li>\n<li><p>To find the parent, you can iterate over all states that could lead to the current one and make sure that a transition from the previous state to the current state indeed yields the cost of the current state (if there are several options, you can pick any of them).</p></li>\n<li><p>You could also store the parent array and fill it while computing the <code>cost</code> function. </p></li>\n</ol>\n\n<p>Once you know the sequence of states that lead to the final optimal solution, you can easily get the path itself by checking which server moves for each transition.</p>\n"}], "owner": {"reputation": 57, "user_id": 6918374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73cac8049448cf914a5a7bfeea24aac?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Burns", "link": "https://stackoverflow.com/users/6918374/ray-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 40895708, "answer_count": 1, "score": 1, "last_activity_date": 1480530845, "creation_date": 1480530023, "question_id": 40895487, "link": "https://stackoverflow.com/questions/40895487/how-can-i-tell-where-the-optimal-path-for-the-k-server-dynamic-solution-is-locat", "title": "How can I tell where the optimal path for the k-server dynamic solution is located in array cost[ i ][ j ][ k ][ t ]?", "body": "<p>You can \ufb01nd the optimal strategy by a dynamic-programming type argument: If the input sequence was n request points long (p1,...,pn), you create an n \u00d7 n \u00d7 n \u00d7 n array; the entry cost[i][j][k][t] is the cost of the cheapest sequence of moves that starts at the given starting positions and serves the requests up to time step t, and ends up with the yellow server at pi, the red server at pj, and the blue server at pk. One of ijk must be t, since the last request at pt was served, all other table entries have cost \u221e. Any possible table entry must have been reached by moving one of the three servers from a position at step t \u2212 1.</p>\n\n<p>Now say I have an array called positions which contains points (x,y) coordinate values and the array at position 0, 1, and 2 are the initial positions of the server 1, 2, 3 respectively, and the elements from the array indexed at 3 to the end of the array are the requests points.</p>\n\n<p>If I use this algorithm and compute all possible path that all 3 servers can take, how can I tell where the optimal path for the k-server problem is located at?</p>\n\n<p>If the size of the positions is 10, why is cost[9][9][9][9] is not a solution and where can I find the solution?</p>\n"}, {"tags": ["c++", "algorithm", "hash", "hash-collision", "string-hashing"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1480529830, "post_id": 40895402, "comment_id": 69004687, "body": "you&#39;ll have to bruteforce it I&#39;m afraid, yes."}, {"owner": {"reputation": 3193, "user_id": 2694511, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2e9aw.png?s=128&g=1", "display_name": "Spencer D", "link": "https://stackoverflow.com/users/2694511/spencer-d"}, "edited": false, "score": 1, "creation_date": 1480530599, "post_id": 40895402, "comment_id": 69005106, "body": "I see that <i>61</i> is prime and you are modulating by it. Welcome to the world of <a href=\"https://en.wikipedia.org/wiki/Discrete_logarithm\" rel=\"nofollow noreferrer\">the Discrete Logarithm Problem</a>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530709, "post_id": 40895402, "comment_id": 69005157, "body": "@Jean-Fran&#231;oisFabre: I wouldn&#39;t be so sure, there is a reason writing a good one-way cryptographic hash function is hard. That said, I&#39;m no crypto or math expert, so I can&#39;t say off-hand how you&#39;d reverse this properly, but when you&#39;re talking about length three strings of lower case letters, you don&#39;t need to be smart; the search space is only <code>26 ** 3 == 17,576</code> total strings, so exhausting them all is trivial."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1480530766, "post_id": 40895402, "comment_id": 69005195, "body": "@ShadowRanger I agree. But it&#39;s still bruteforce. It&#39;s just that you don&#39;t need that much force :) let&#39;s take it up to 8 letters it will be different."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 3193, "user_id": 2694511, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2e9aw.png?s=128&g=1", "display_name": "Spencer D", "link": "https://stackoverflow.com/users/2694511/spencer-d"}, "edited": false, "score": 0, "creation_date": 1480530964, "post_id": 40895402, "comment_id": 69005312, "body": "@SpencerDoak: Of course, for a six bit prime, the discrete log problem is not particularly hard. Storing the complete table of discrete logs for all bases and all exponents for a prime of 61 would be what, 3600 entries at most? And again, my math is bad, some of the exponents might not require entries, so it might be a little smaller than my simple 60 * 60 calculation."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480531392, "post_id": 40895402, "comment_id": 69005533, "body": "@Jean-Fran&#231;oisFabre: I suppose. When I hear &quot;brute force&quot; I think &quot;naive solution trying every input until you get a hit&quot;. A solution that shaves off a meaningful number of bits of work is not &quot;brute force&quot; anymore, even if it&#39;s still expensive relative to the cost of computing a single hash. Of course, when you&#39;ve only got 15 bits of work, you don&#39;t need to spend a lot of time looking to shave more of them off. :-)"}, {"owner": {"reputation": 3193, "user_id": 2694511, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/2e9aw.png?s=128&g=1", "display_name": "Spencer D", "link": "https://stackoverflow.com/users/2694511/spencer-d"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1480533585, "post_id": 40895402, "comment_id": 69006759, "body": "@ShadowRanger, oh yeah, it&#39;s the same basic scenario as Jean-Fran&#231;oisFabre&#39;s comment: for this given scenario, finding a collision via bruteforce is not a difficult thing nor does it require a lot of space. However, this is an example of the discrete logarithm problem, and perhaps the OP (and maybe future readers) could benefit from learning a bit about the discrete logarithm problem and how it makes one-way functions difficult to reverse. Obviously, for this given scenario, bruteforcing or even generating a rainbow table wouldn&#39;t be too difficult or expensive (processing/storage-wise)."}, {"owner": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480538654, "post_id": 40895402, "comment_id": 69009391, "body": "@Jean-Fran&#231;oisFabre even with 8 letters, if you stop searching as soon as you get a collision it won&#39;t take long. There are only 61 possible hash values, so if you just randomly guess strings you&#39;ll get one after 30 or so guesses on average."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "edited": false, "score": 0, "creation_date": 1480538782, "post_id": 40895402, "comment_id": 69009453, "body": "@samgak it makes sense. So even with 40 letters it would be easy. Fun!"}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1480531246, "post_id": 40895805, "comment_id": 69005457, "body": "Might want to store <code>hash -&gt; two strings of length 3 with this hash</code>. You know, in case the first string stored is the one you&#39;re trying to find a collision for. :-)"}, {"owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1480532208, "post_id": 40895805, "comment_id": 69006005, "body": "@ShadowRanger Yeah, nice catch."}], "tags": [], "owner": {"reputation": 17464, "user_id": 2040251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UsW2G.jpg?s=128&g=1", "display_name": "kraskevich", "link": "https://stackoverflow.com/users/2040251/kraskevich"}, "is_accepted": true, "score": 4, "last_activity_date": 1480531149, "creation_date": 1480531149, "answer_id": 40895805, "question_id": 40895402, "link": "https://stackoverflow.com/questions/40895402/find-a-collision-string-with-a-given-hash-function/40895805#40895805", "title": "Find a collision string with a given hash function", "body": "<p>Why don't you simply generate all strings of length 3 and compute their hashes (in fact, you can stop when all 61 possible values of hash functions can were reached)? The number of options is not too large. </p>\n\n<p>One possible optimization: if you need to answer multiple queries (like given a string, find a string of length 3 with the same value of the hash function), you can generate all strings of length 3 and compute their hashes once to build a map <code>hash -&gt; a string of length 3 with this hash</code>. Once you have this map, finding a string of length 3 with the same hash as the given one is just one map lookup. </p>\n"}], "owner": {"reputation": 484, "user_id": 3891312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/998f9736610b935376162590d411b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "kvway", "link": "https://stackoverflow.com/users/3891312/kvway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2616, "favorite_count": 3, "accepted_answer_id": 40895805, "answer_count": 1, "score": 3, "last_activity_date": 1480541605, "creation_date": 1480529703, "last_edit_date": 1480541605, "question_id": 40895402, "link": "https://stackoverflow.com/questions/40895402/find-a-collision-string-with-a-given-hash-function", "title": "Find a collision string with a given hash function", "body": "<p>I have a string <code>anna</code>, where values of chars in the string are <code>a = 1, n = 14 ( You can compute the value of other chars like ( char - 96 )</code>  and hash function which looks like : </p>\n\n<pre><code>int hashCode( string s ) // s = \"anna\";\n{\n    k = 0;\n    for ( int i = 0; i &lt; s.length(); i++ )\n      k = ( 7 * k + 3 * s[i] ) % 61;\n    return k;\n}\n</code></pre>\n\n<p>How do I find a string of length 3 where collision happens ( something smart )? The only way that comes to my mind is to calculate <code>k</code> of <code>anna</code> which is <code>29</code> and then somehow think of another string of length 3 which gives <code>29</code>.</p>\n"}, {"tags": ["c++", "eclipse", "debugging", "breakpoints"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480529728, "post_id": 40895379, "comment_id": 69004636, "body": "is it a DLL? and loaded dynamically by an executable or linked against it?"}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480529853, "post_id": 40895379, "comment_id": 69004703, "body": "I&#39;m working on Linux, so no, it&#39;s not a DLL. I think against an executable, but I&#39;m not sure about it."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530330, "post_id": 40895379, "comment_id": 69004953, "body": "maybe your <code>.so</code> file isn&#39;t loaded when you put the breakpoint. You have to enable pending breakpoints."}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530667, "post_id": 40895379, "comment_id": 69005138, "body": "According to <a href=\"http://www.vlfeat.org/install-c.html\" rel=\"nofollow noreferrer\">this</a> you can use only the binary of this library, no <code>.so</code> is involved and <code>extern C</code> is used"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480530712, "post_id": 40895379, "comment_id": 69005160, "body": "can you check gdb console / use <code>info break</code> after placing the breakpoint to see if it worked?"}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480533755, "post_id": 40895379, "comment_id": 69006877, "body": "I have no idea about how to use it, however this is weird: I&#39;ve tried to modify the source code and recompile it. The binary produced by the new make display the differences from the old code (<code>Hello world</code> prints) while the Eclipse code doesn&#39;t. It&#39;s like it&#39;s using the  old version of it."}], "owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480529634, "creation_date": 1480529634, "question_id": 40895379, "link": "https://stackoverflow.com/questions/40895379/eclipse-ignores-breakpoint-in-library", "title": "Eclipse ignores breakpoint in library", "body": "<p>I'm trying to make a parallel version of the SIFT algorithm from the <a href=\"https://github.com/vlfeat/vlfeat\" rel=\"nofollow noreferrer\">VLFeat</a> library. </p>\n\n<p>The program works properly, but when I place a breakpoint at line 979 of <a href=\"https://github.com/vlfeat/vlfeat/blob/master/vl/sift.c\" rel=\"nofollow noreferrer\">this</a> code it's totally ignored by the debugger.</p>\n\n<p>I think that the problem is that I open the library code just using the File->Open File option, but I don't know how to do otherwise. How can I make the debugger stop there?</p>\n"}, {"tags": ["c++", "operator-overloading", "chaining", "easylogging++"], "comments": [{"owner": {"reputation": 759, "user_id": 3300858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QIUbS.png?s=128&g=1", "display_name": "ninja", "link": "https://stackoverflow.com/users/3300858/ninja"}, "edited": false, "score": 0, "creation_date": 1480529311, "post_id": 40895150, "comment_id": 69004414, "body": "It&#39;s already implemented well and short. You are writing more code for simply reason!"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 5622106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYBSy.jpg?s=128&g=1", "display_name": "Blackwood", "link": "https://stackoverflow.com/users/5622106/blackwood"}, "edited": false, "score": 0, "creation_date": 1480545301, "post_id": 40895186, "comment_id": 69012731, "body": "Thank you very much!  This is exactly what was needed to make it work."}], "tags": [], "owner": {"reputation": 4122, "user_id": 3951525, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hix21.jpg?s=128&g=1", "display_name": "Starl1ght", "link": "https://stackoverflow.com/users/3951525/starl1ght"}, "is_accepted": true, "score": 3, "last_activity_date": 1480528922, "creation_date": 1480528922, "answer_id": 40895186, "question_id": 40895150, "link": "https://stackoverflow.com/questions/40895150/is-it-possible-to-create-a-c-class-that-mimics-the-stdcout-syntax-by-chainin/40895186#40895186", "title": "Is it possible to create a C++ class that mimics the std::cout syntax by chaining overloaded insertion operators the same way that easylogging++ does?", "body": "<p>You must overload <code>operator()</code> so, it will set internal log level and return <code>*this</code> as type <code>Logger&amp;</code>, so, overloaded <code>operator&lt;&lt;</code> will work on returned reference with necessary log-level set.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Logger&amp; Logger::operator()(LogLevel level) {\n    // set internal log level\n    return *this;\n}\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 5622106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYBSy.jpg?s=128&g=1", "display_name": "Blackwood", "link": "https://stackoverflow.com/users/5622106/blackwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 2, "accepted_answer_id": 40895186, "answer_count": 1, "score": 3, "last_activity_date": 1481573717, "creation_date": 1480528772, "last_edit_date": 1481573717, "question_id": 40895150, "link": "https://stackoverflow.com/questions/40895150/is-it-possible-to-create-a-c-class-that-mimics-the-stdcout-syntax-by-chainin", "title": "Is it possible to create a C++ class that mimics the std::cout syntax by chaining overloaded insertion operators the same way that easylogging++ does?", "body": "<p>The easylogging++ code defines a macro that makes it very simple to use:</p>\n\n<pre><code>LOG(logLevel) &lt;&lt; \"This mimics std::cout syntax.  \" &lt;&lt; 1 &lt;&lt; \" + \" &lt;&lt; 1 &lt;&lt; \" = \" &lt;&lt; 2;\n</code></pre>\n\n<p>I want to make a wrapper class for easylogging++.  I can easily create a function with two parameters to wrap the above line.  However, is it possible to mimic this syntax in a wrapper class?  For example:</p>\n\n<pre><code>Logger logger;\nlogger(logLevel) &lt;&lt; \"Line \" &lt;&lt; 1 &lt;&lt; \" of log text.\";\n</code></pre>\n\n<p>I know I can easily overload the insertion operator, but that still leaves me with having to write another function to set the log level each time.</p>\n\n<p>UPDATE:</p>\n\n<p>Thanks to Starl1ght's answer I was able to get this working.  I figured I would share in case anyone else has a similar need.</p>\n\n<p>I created two overloads.  One was for () and the other for &lt;&lt;.</p>\n\n<pre><code>Logger &amp;operator()(logLevelT logLevel) {\n  mLogLevel = logLevel;\n  return *this;\n}\n\n\ntemplate &lt;typename T&gt;\nLogger &amp;operator&lt;&lt;(T const &amp;value) {\n  LOG(mLogLevel) &lt;&lt; value;\n  return *this;\n}\n</code></pre>\n\n<p>UPDATE 2:</p>\n\n<p>I wanted to update this post again to give my reasoning and show my final solution.</p>\n\n<p>My reasoning is that my project is a demonstration of abstraction.  I'm trying to demonstrate that logging libraries (and many other things) can be abstracted away from the core functionality of your software.  This also makes the software components modular.  This way I can swap out the easylogging++ library without loosing the syntax because it is implemented in the module interface.</p>\n\n<p>My last update didn't mention how I overcame the obstacle of insertion chaining, so I wanted to post an example to show how I did it.  The following code is a simplified example of how to achieve std::cout like syntax for a class.</p>\n\n<pre><code>#include &lt;iostream&gt;         // For cout\n#include &lt;string&gt;           // For strings\n#include &lt;sstream&gt;          // For ostringstream\n\n\nenum logLevelT {\n    INFO_LEVEL,\n    WARNING_LEVEL,\n    ERROR_LEVEL,\n    FATAL_LEVEL\n};\n\n\nclass Logger {\nprivate:\n    std::string logName;\n\npublic:\n    Logger(std::string nameOfLog, std::string pathToLogFile) {\n        logName = nameOfLog;\n\n        //TODO Configure your logging library and instantiate\n        //     an instance if applicable.\n    }\n\n\n    ~Logger(){}\n\n\n    // LogInputStream is instantiated as a temporary object.  It is used\n    //  to build the log entry stream.  It writes the completed stream\n    //  in the destructor as the object goes out of scope automatically.\n    struct LogInputStream {\n        LogInputStream(logLevelT logLevel, std::string nameOfLog) {\n            currentLogLevel = logLevel;\n            currentLogName = nameOfLog;\n        }\n\n\n        // Copy Constructor\n        LogInputStream(LogInputStream &amp;lis) {\n            currentLogLevel = lis.currentLogLevel;\n            currentLogName = lis.currentLogName;\n            logEntryStream.str(lis.logEntryStream.str());\n        }\n\n\n        // Destructor that writes the log entry stream to the log as the\n        //  LogInputStream object goes out of scope.\n        ~LogInputStream() {\n            std::cout &lt;&lt; \"Logger: \" &lt;&lt; currentLogName\n                      &lt;&lt; \"   Level: \" &lt;&lt; currentLogLevel\n                      &lt;&lt; \"   logEntryStream = \" &lt;&lt; logEntryStream.str()\n                      &lt;&lt; std::endl;\n\n            //TODO Make a log call to your logging library.  You have your log level\n            //     and a completed log entry stream.\n        }\n\n\n        // Overloaded insertion operator that adds the given parameter\n        //  to the log entry stream.\n        template &lt;typename T&gt;\n        LogInputStream &amp;operator&lt;&lt;(T const &amp;value) {\n            logEntryStream &lt;&lt; value;\n            return *this;\n        }\n\n\n        std::string currentLogName;\n        logLevelT currentLogLevel;\n        std::ostringstream logEntryStream;\n    };\n\n\n    // Overloaded function call operator for providing the log level\n    Logger::LogInputStream operator()(logLevelT logLevel) {\n        LogInputStream logInputStream(logLevel, logName);\n\n        return logInputStream;\n    }\n\n\n    // Overloaded insertion operator that is used if the overloaded\n    //  function call operator is not used.\n    template &lt;typename T&gt;\n    Logger::LogInputStream operator&lt;&lt;(T const &amp;value) {\n        LogInputStream logInputStream(INFO_LEVEL, logName);\n\n        logInputStream &lt;&lt; value;\n\n        return logInputStream;\n    }\n};\n\n\n\nint main(int argc, char *argv[]) {\n\n    Logger logger1 = Logger(\"Logger1\", \"/path/to/log.log\");\n    Logger logger2 = Logger(\"Logger2\", \"/path/to/log.log\");\n\n    logger1(INFO_LEVEL) &lt;&lt; \"This is the \" &lt;&lt; 1 &lt;&lt; \"st test\";\n\n    logger2(ERROR_LEVEL) &lt;&lt; \"This is the \" &lt;&lt; 2 &lt;&lt; \"nd test\";\n\n    logger2 &lt;&lt; \"This is the \" &lt;&lt; 3 &lt;&lt; \"rd test\";\n\n    return 0;\n}\n</code></pre>\n\n<p>I feel like I could have done a better job with the naming and the comments but I am pressed for time.  I'm definitely open to any comments or critiques.</p>\n"}, {"tags": ["c++", "converter", "floating-accuracy", "wchar", "uint"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1480528583, "post_id": 40895030, "comment_id": 69003993, "body": "<a href=\"http://en.cppreference.com/w/cpp/string/basic_string/to_wstring\" rel=\"nofollow noreferrer\"><code>std::to_wstring</code></a>"}, {"owner": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1480529246, "post_id": 40895030, "comment_id": 69004380, "body": "I have just found one way for UINT32:      WCHAR buf[20]=L&quot;&quot;;     swprintf(buf, L&quot;%u&quot;, UINT32_Value);  Does anyone know if this conversion is ok, and what are other conversions?"}, {"owner": {"reputation": 153119, "user_id": 584518, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Lundin", "link": "https://stackoverflow.com/users/584518/lundin"}, "edited": false, "score": 0, "creation_date": 1480605384, "post_id": 40895030, "comment_id": 69040620, "body": "<a href=\"http://en.cppreference.com/w/cpp/io/basic_stringstream\" rel=\"nofollow noreferrer\">stringstream</a> is a great way to solve all your conversion needs. Works just like ostream (that is, &quot;cout&quot;). In this case I suppose you&#39;d use <code>wstringstream</code>."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480531693, "post_id": 40895300, "comment_id": 69005714, "body": "Thanks! And how will I differ INT8, INT16 UINT8 etc ?"}, {"owner": {"reputation": 286, "user_id": 4466498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WdBSi.jpg?s=128&g=1", "display_name": "Farhad Reza", "link": "https://stackoverflow.com/users/4466498/farhad-reza"}, "reply_to_user": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480539564, "post_id": 40895300, "comment_id": 69009900, "body": "@user7042812 &quot;%d&quot; should be enough for INT8 to INT32. use &quot;%ll&quot; for INT64. use &quot;%u&quot; for unsigned data type such as UINT8 to UINT32 and &quot;%llu&quot; for UINT64."}, {"owner": {"reputation": 286, "user_id": 4466498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WdBSi.jpg?s=128&g=1", "display_name": "Farhad Reza", "link": "https://stackoverflow.com/users/4466498/farhad-reza"}, "reply_to_user": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480539874, "post_id": 40895300, "comment_id": 69010066, "body": "@user7042812 for more info on printf/sprintf/swprintf etc function&#39;s format, check out the following link - <a href=\"http://www.cplusplus.com/reference/cstdio/printf/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/cstdio/printf</a>"}, {"owner": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480586677, "post_id": 40895300, "comment_id": 69027726, "body": "Thanks! Also one more question, why do I allocate wstr[255] ? I was to allocate wstr[3] for INT8/UINT8 , wstr[5] for INT16/UINT16, wstr[10] for INT32/UINT32 and wstr[20] for INT64/UINT64 ? And I don&#39;t know how much should I allocate for float and double"}, {"owner": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480587146, "post_id": 40895300, "comment_id": 69028083, "body": "Hm I see, since float is 32, I need wstr[10] and double is 64, i need wstr[20] Is this correct ? I have red that printf converts automatically from float to double every float... Why is this ? Can I tell it not to do that ? Since like this, wstr[10] would be enough, and if it convert it to double I will need 10 more chars"}, {"owner": {"reputation": 286, "user_id": 4466498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WdBSi.jpg?s=128&g=1", "display_name": "Farhad Reza", "link": "https://stackoverflow.com/users/4466498/farhad-reza"}, "reply_to_user": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480604956, "post_id": 40895300, "comment_id": 69040308, "body": "@user7042812 You can use &quot;%.*f&quot; format. Check out this question and its answer - <a href=\"http://stackoverflow.com/questions/16413609/printf-variable-number-of-decimals-in-float\" title=\"printf variable number of decimals in float\">stackoverflow.com/questions/16413609/&hellip;</a>"}, {"owner": {"reputation": 286, "user_id": 4466498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WdBSi.jpg?s=128&g=1", "display_name": "Farhad Reza", "link": "https://stackoverflow.com/users/4466498/farhad-reza"}, "reply_to_user": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "edited": false, "score": 0, "creation_date": 1480605399, "post_id": 40895300, "comment_id": 69040631, "body": "@user7042812 Updated the answer :)"}], "tags": [], "owner": {"reputation": 286, "user_id": 4466498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WdBSi.jpg?s=128&g=1", "display_name": "Farhad Reza", "link": "https://stackoverflow.com/users/4466498/farhad-reza"}, "is_accepted": false, "score": 1, "last_activity_date": 1480605019, "last_edit_date": 1480605019, "creation_date": 1480529393, "answer_id": 40895300, "question_id": 40895030, "link": "https://stackoverflow.com/questions/40895030/converting-int8-int64-uint8-uint64-float-double-into-wchar/40895300#40895300", "title": "Converting INT8...INT64, UINT8...UINT64 ,float, double, into WCHAR*", "body": "<p>You can use <code>std::to_wstring</code> if you're using C++11 or C++14. Otherwise use 'swprintf' in this way:</p>\n\n<p>Create a wide string buffer with appropriate array size:</p>\n\n<pre><code>wchar_t wstr[32];\n</code></pre>\n\n<p>To convert into integer, use 'swprintf' with '%d' format:</p>\n\n<pre><code>swprintf(wstr, L\"%d\", 21);\n</code></pre>\n\n<p>Now 'wstr' contains your \"21\"</p>\n\n<p>And to convert into floating point, use 'swprintf' with '%.*f' format. We will use maximum 3 digits after the decimal point (by default, this is 6). So It would require less 'wchar_t' to store:</p>\n\n<pre><code>swprintf(wstr, L\"%.*f\", 3, 32.322f);\n</code></pre>\n\n<p>Now 'wstr' contains your \"32.322\"</p>\n\n<p>Take a look at following MSDN page for more information about 'swprintf'</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/aa272937(v=vs.60).aspx\" rel=\"nofollow noreferrer\">sprintf, swprintf</a></p>\n"}], "owner": {"reputation": 63, "user_id": 7042812, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6cf86ff676392540d88fc168299c77e?s=128&d=identicon&r=PG&f=1", "display_name": "user7042812", "link": "https://stackoverflow.com/users/7042812/user7042812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "closed_date": 1480606815, "answer_count": 1, "score": -3, "last_activity_date": 1480605019, "creation_date": 1480528374, "question_id": 40895030, "link": "https://stackoverflow.com/questions/40895030/converting-int8-int64-uint8-uint64-float-double-into-wchar", "closed_reason": "Needs details or clarity", "title": "Converting INT8...INT64, UINT8...UINT64 ,float, double, into WCHAR*", "body": "<p>I am using C/C++, are there any windows functions ,or any very fast ways to convert from any of types in Title to const WCHAR* ?</p>\n\n<p>So I have big case where I check my data what type it is, after it goes into some branch where I need to convert that data to WCHAR*.</p>\n\n<p>So for exmaple if i have\n21, i want it to be L\"21\".\n32.322 => L\"32.322\"\netc.</p>\n\n<p>I could do it manually but I would prefer it if there is some faster way! These conversions seem that happen a lot on some lower level.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "visual-c++", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1480527940, "post_id": 40894874, "comment_id": 69003597, "body": "Did you try using <code>wcout</code>? <code>std::wcout &lt;&lt; L&quot;\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u4f60\u597d&quot;;</code>?"}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1480528253, "post_id": 40894874, "comment_id": 69003793, "body": "@AlgirdasPreid\u017eius I know that it will work. My goal is to avoid modifying that line of code, which works perfectly on Linux."}, {"owner": {"reputation": 13077, "user_id": 618068, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bcc37850bde70904ddb82f17c46d49c?s=128&d=identicon&r=PG", "display_name": "aardvarkk", "link": "https://stackoverflow.com/users/618068/aardvarkk"}, "edited": false, "score": 0, "creation_date": 1480528278, "post_id": 40894874, "comment_id": 69003813, "body": "Can you be more specific about what doesn&#39;t work? What happens?"}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "reply_to_user": {"reputation": 13077, "user_id": 618068, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bcc37850bde70904ddb82f17c46d49c?s=128&d=identicon&r=PG", "display_name": "aardvarkk", "link": "https://stackoverflow.com/users/618068/aardvarkk"}, "edited": false, "score": 0, "creation_date": 1480529712, "post_id": 40894874, "comment_id": 69004629, "body": "@aardvarkk With SetConsoleCP, SetConsoleOutputCP and execution_character_set tricks applied together, it prints 16, 14 and 6 empty squares. These numbers match bytes in UTF-8 encoding of the three words."}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "reply_to_user": {"reputation": 13077, "user_id": 618068, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bcc37850bde70904ddb82f17c46d49c?s=128&d=identicon&r=PG", "display_name": "aardvarkk", "link": "https://stackoverflow.com/users/618068/aardvarkk"}, "edited": false, "score": 0, "creation_date": 1480529899, "post_id": 40894874, "comment_id": 69004726, "body": "@aardvarkk It&#39;s interesting that <code>printf()</code> prints the first two words correctly, but does not manage to print Chinese (font problem?). But still switching from <code>std::cout</code> to <code>printf()</code> is not an option."}, {"owner": {"reputation": 496598, "user_id": 18936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f1bea81a68b2f1cfe3efbb9be94bc?s=128&d=identicon&r=PG", "display_name": "bobince", "link": "https://stackoverflow.com/users/18936/bobince"}, "edited": false, "score": 1, "creation_date": 1480544239, "post_id": 40894874, "comment_id": 69012259, "body": "On Windows/MSVCRT, <code>std::cout</code> cannot support Unicode, full stop. (You can get close with code page 65001 but there are insurmountable bugs in the console that break it, and Microsoft have neglected them forever, so don&#39;t expect them to get fixed.) <code>std::wcout</code> can be made to mostly-work through use of <code>_setmode</code> with <code>_O_UTF8</code>, but there are still problems (which the <a href=\"https://alfps.wordpress.com/2011/12/08/unicode-part-2-utf-8-stream-mode/\" rel=\"nofollow noreferrer\">code in the mentioned blog</a> is all about working around) and you can&#39;t ever use a <code>cout</code>-related interface afterwards or it explodes."}, {"owner": {"reputation": 496598, "user_id": 18936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f1bea81a68b2f1cfe3efbb9be94bc?s=128&d=identicon&r=PG", "display_name": "bobince", "link": "https://stackoverflow.com/users/18936/bobince"}, "edited": false, "score": 1, "creation_date": 1480544500, "post_id": 40894874, "comment_id": 69012364, "body": "You are usually best off either (a) reading/sending UTF-8 characters to the console anyway and not caring that Windows users see mojibake, or (b) using only your own input/output functions that switch between the Win32 WriteConsoleW et al interfaces on Windows and the standard library on other platforms where it is less grievously broken. But your requirements of (1) showing the right output on console via MSVCRT and (2) using unchanged <code>std::cout</code> calls are irreconcilable."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1480559333, "post_id": 40894874, "comment_id": 69016854, "body": "&quot;<i>no StackOverflow answer solved the problem</i>&quot; - there have been <i>TONS</i> of SO questions+answers that deal with UTF-8 in Windows consoles. That being said, since you know the output is UTF-8, and you now know that <code>std::cout</code> can&#39;t handle UTF-8 on Windows by default, one solution for your restrictive requirements might be to write a custom <code>streambuf</code> class that converts UTF-8 to UTF-16 and uses <code>WriteConsoleW()</code>, and then swap that class into <code>std::cout</code> using its <code>rdbuf()</code> method when needed."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1480574609, "post_id": 40894874, "comment_id": 69021347, "body": "Console window has limited Unicode support. I don&#39;t know how to print &quot;\u4f60\u597d&quot; even in UTF16, let alone UTF8 which is not supported at all."}, {"owner": {"reputation": 2298, "user_id": 6427477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oYQ8Y.png?s=128&g=1", "display_name": "C.M.", "link": "https://stackoverflow.com/users/6427477/c-m"}, "edited": false, "score": 0, "creation_date": 1528231193, "post_id": 40894874, "comment_id": 88426231, "body": "As it turned out (starting with) Windows 10 C runtime sends data to console one byte at a time (thus breaking multi-byte characters). I&#39;ve updated my answer with workaround for that."}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 6427477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oYQ8Y.png?s=128&g=1", "display_name": "C.M.", "link": "https://stackoverflow.com/users/6427477/c-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1528228379, "last_edit_date": 1528228379, "creation_date": 1494706414, "answer_id": 43957576, "question_id": 40894874, "link": "https://stackoverflow.com/questions/40894874/can-stdcout-work-with-utf-8-on-windows/43957576#43957576", "title": "Can std::cout work with UTF-8 on Windows?", "body": "<p>Here is what I'd do:</p>\n\n<ol>\n<li><p>make sure your source files are utf-8 encoded and have correct content (open them in another editor, check glyphs and file encoding)</p></li>\n<li><p>remove console from equation -- redirect output to a file and check it's content with utf-8-aware editor (just like with source code)</p></li>\n<li><p>use /utf-8 cmdline option with MSVC2015+ -- this will force compiler to treat all source files as utf-8 encoded once and your string literals stored in resulting binary will be utf-8 encoded.</p></li>\n<li><p>remove <em>iostreams</em> from equation (can't wait until for this library to die, tbh) -- use <em>cstdio</em></p></li>\n<li><p>at this point output should work (it does for me)</p></li>\n<li><p>to get console output to work -- use SetConsoleOutputCP(CP_UTF8) and get it to use TrueType font that supports your <em>Unicode plane</em> (I suspect that for chinese characters to work in console you need a font installed in your system that supports related <em>Unicode plane</em> and your console should be configured to use it)</p></li>\n<li><p>not sure about console input (never had to deal with that), but I suspect that SetConsoleCP(CP_UTF8) should make it work with non-wide i/o</p></li>\n<li><p>discard the idea of using wide i/o (wcout/etc) -- why would you do it anyway? Unicode works just fine with utf-8 encoded <em>char const*</em></p></li>\n<li><p>once you reached this stage -- time to deal with <em>iostreams</em> (if you insist on using it). I'd disregard wcin/wcout for now. If they don't already work -- try imbue'ing related cin/cout with utf-8 locale.</p></li>\n<li><p>the idea promoted by <a href=\"http://utf8everywhere.org/\" rel=\"nofollow noreferrer\">http://utf8everywhere.org/</a> is to convert to UCS-2 only when you make Windows API call. This makes your <em>OutputForwarderBuffer</em> unnecessary.</p></li>\n<li><p>I guess (if you REALLY insist) now you can try getting wide iostreams to work. Good luck, I guess you'll have to reconfigure console (which will break non-wide i/o) or somehow get your wcout/wcin performing UCS2-to-UTF8 conversion on the fly (and only if it is connected to console).</p></li>\n</ol>\n\n<p><strong>Edit:</strong>\nStarting from Windows 10 you also need this:</p>\n\n<pre><code>setvbuf(stderr, NULL, _IOFBF, 1024);    // on Windows 10+ we need buffering or console will get 1 byte at a time (screwing up utf-8 encoding)\nsetvbuf(stdout, NULL, _IOFBF, 1024);\n</code></pre>\n\n<p>Unfortunately this also means that there is still a chance of screwing up your output if you fill buffer completely before next flush. Proper solution -- flush it manually (<code>endl</code> or <code>fflush()</code>) after every string sent to output (assuming each string is less than 1024). If only MS supported line-buffering...</p>\n"}], "owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2232, "favorite_count": 2, "accepted_answer_id": 43957576, "answer_count": 1, "score": 2, "last_activity_date": 1528228379, "creation_date": 1480527822, "last_edit_date": 1480558286, "question_id": 40894874, "link": "https://stackoverflow.com/questions/40894874/can-stdcout-work-with-utf-8-on-windows", "title": "Can std::cout work with UTF-8 on Windows?", "body": "<p>I want to make <code>std::cout</code> print an UTF-8 literal. This seems to be an easy task with gcc, but an extremely difficult one with Windows.</p>\n\n<p>The code that I'm trying to get to work is:</p>\n\n<pre><code>std::cout &lt;&lt; \"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u4f60\u597d\";\n</code></pre>\n\n<p>Environment:</p>\n\n<ul>\n<li>Windows 10, Visual Studio 2015</li>\n<li>Default encoding: 1251</li>\n<li>Console encoding: 866</li>\n<li>Source encoding: UTF-8 with BOM</li>\n</ul>\n\n<p>Requirements:</p>\n\n<ul>\n<li>No changes to the line of code itself must be made</li>\n<li>Full Unicode range support</li>\n<li>Some setup code may be added in the beginning of <code>main()</code></li>\n</ul>\n\n<p>What I've tried:</p>\n\n<ul>\n<li><code>#pragma execution_character_set(\"utf-8\")</code></li>\n<li><code>SetConsoleCP(CP_UTF8); SetConsoleOutputCP(CP_UTF8);</code></li>\n<li>Set console font to Lucida Console system-wide</li>\n<li><code>Use Unicode character set</code> in project properties</li>\n<li>Setup code from <a href=\"https://alfps.wordpress.com/2011/11/22/unicode-part-1-windows-console-io-approaches/\" rel=\"nofollow noreferrer\">this</a> blog</li>\n</ul>\n\n<p>Nothing helped, and no StackOverflow answer solved the problem.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>To get Unicode <strong>partially</strong> working, do the following:</p>\n\n<ul>\n<li>Call <code>initStreams()</code> from the listing below at the start</li>\n<li>Turn on <code>Use Unicode Character Set</code> in Project Settings</li>\n<li>Add <code>/utf-8</code> option</li>\n</ul>\n\n<p>Not working:</p>\n\n<ul>\n<li><code>wprintf</code></li>\n<li><code>cin</code>/<code>wcin</code></li>\n<li>Chinese characters</li>\n</ul>\n\n<p><code>initStreams()</code> implementation:</p>\n\n<pre><code>#include &lt;cassert&gt;         // assert\n#include &lt;codecvt&gt;          // std::codecvt_utf8 (C++11)\n#include &lt;stdexcept&gt;        // std::exception\n#include &lt;streambuf&gt;        // std::basic_streambuf\n#include &lt;iostream&gt;         // std::cout, std::endl\n#include &lt;locale&gt;           // std::locale\n#include &lt;memory&gt;           // std::unique_ptr (C++11)\n\n#undef  UNICODE\n#define UNICODE\n#undef  STRICT\n#define STRING\n#include &lt;windows.h&gt;    // MultiByteToWideChar\n\nclass OutputForwarderBuffer : public std::basic_streambuf&lt;char&gt;\n{\npublic:\n    using Base = std::basic_streambuf&lt;char&gt;;\n    using Traits = Base::traits_type;\n    using StreamBuffer = std::basic_streambuf&lt;char&gt;;\n    using WideStreamBuffer = std::basic_streambuf&lt;wchar_t&gt;;\n    using Base::int_type;\n    using Base::char_type;\n\n    OutputForwarderBuffer(\n        StreamBuffer&amp; existingBuffer,\n        WideStreamBuffer* pWideStreamBuffer\n    )\n        : Base(existingBuffer)\n        , pWideStreamBuffer_(pWideStreamBuffer)\n    {\n    }\n\n    OutputForwarderBuffer(OutputForwarderBuffer const&amp;) = delete;\n    void operator=(OutputForwarderBuffer const&amp;) = delete;\n\nprotected:\n    std::streamsize xsputn(char const* s, std::streamsize n) override\n    {\n        if (n == 0) { return 0; }\n\n        int const sourceSize = static_cast&lt;int&gt;(n);\n        int const destinationSize = MultiByteToWideChar(CP_UTF8, 0, s, sourceSize, nullptr, 0);\n        wideCharBuffer_.resize(static_cast&lt;size_t&gt;(sourceSize));\n\n        int const nWideCharacters = MultiByteToWideChar(CP_UTF8, 0, s, sourceSize, &amp;wideCharBuffer_[0], destinationSize);\n        assert(nWideCharacters &gt; 0 &amp;&amp; nWideCharacters == destinationSize);\n\n        return pWideStreamBuffer_-&gt;sputn(&amp;wideCharBuffer_[0], destinationSize);\n    }\n\n    int_type overflow(int_type c) override\n    {\n        bool const cIsEOF = Traits::eq_int_type(c, Traits::eof());\n        int_type const failureValue = Traits::eof();\n        int_type const successValue = (cIsEOF ? Traits::not_eof(c) : c);\n\n        if (!cIsEOF) {\n            char_type const ch = Traits::to_char_type(c);\n            std::streamsize const nCharactersWritten = xsputn(&amp;ch, 1);\n\n            return (nCharactersWritten == 1 ? successValue : failureValue);\n        }\n        return successValue;\n    }\n\nprivate:\n    WideStreamBuffer* pWideStreamBuffer_;\n    std::wstring wideCharBuffer_;\n};\n\nvoid setUtf8Conversion(std::basic_ios&lt;wchar_t&gt;&amp; stream)\n{\n    stream.imbue(std::locale(std::locale::empty(), new std::codecvt_utf8_utf16&lt;wchar_t&gt;()));\n}\n\nbool isConsole(HANDLE streamHandle)\n{\n    DWORD consoleMode;\n    return !!GetConsoleMode(streamHandle, &amp;consoleMode);\n}\n\nbool isConsole(DWORD stdStreamId)\n{\n    return isConsole(GetStdHandle(stdStreamId));\n}\n\nvoid initStreams()\n{\n    SetConsoleCP(CP_UTF8);\n    SetConsoleOutputCP(CP_UTF8);\n\n    setUtf8Conversion(std::wcout);\n    setUtf8Conversion(std::wcerr);\n    setUtf8Conversion(std::wclog);\n\n    static OutputForwarderBuffer coutBuffer(*std::cout.rdbuf(), std::wcout.rdbuf());\n    static OutputForwarderBuffer cerrBuffer(*std::cerr.rdbuf(), std::wcerr.rdbuf());\n    static OutputForwarderBuffer clogBuffer(*std::clog.rdbuf(), std::wclog.rdbuf());\n\n    std::cout.rdbuf(&amp;coutBuffer);\n    std::cerr.rdbuf(&amp;cerrBuffer);\n    std::clog.rdbuf(&amp;clogBuffer);\n}\n</code></pre>\n"}, {"tags": ["c++", "lambda"], "comments": [{"owner": {"reputation": 3796, "user_id": 4859885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9HcTm.jpg?s=128&g=1", "display_name": "Brian Rodriguez", "link": "https://stackoverflow.com/users/4859885/brian-rodriguez"}, "edited": false, "score": 1, "creation_date": 1480527064, "post_id": 40894593, "comment_id": 69003055, "body": "<code>numberisLarger</code> is a function."}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 1, "creation_date": 1480527128, "post_id": 40894593, "comment_id": 69003095, "body": "Call it like: <code>bool isLarger = numberisLarger();</code>"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 1, "creation_date": 1480527222, "post_id": 40894593, "comment_id": 69003159, "body": "Voted to close as &quot;a simple typographical error&quot;, because all your code is lacking is the parens. If you come from a Pascal background: All functions need to be called explicitly in C(++)."}], "answers": [{"tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 5, "last_activity_date": 1480527049, "creation_date": 1480527049, "answer_id": 40894628, "question_id": 40894593, "link": "https://stackoverflow.com/questions/40894593/lambda-function-return-type-not-working/40894628#40894628", "title": "lambda function return type not working", "body": "<p>You need to execute the lambda, like you would a regular function.</p>\n\n<pre><code>bool isLarger = numberisLarger();\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 4746527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a740df6f0bd027dbfc23fef08d35b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/4746527/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1480531170, "answer_count": 1, "score": 0, "last_activity_date": 1480527049, "creation_date": 1480526955, "question_id": 40894593, "link": "https://stackoverflow.com/questions/40894593/lambda-function-return-type-not-working", "closed_reason": "Not suitable for this site", "title": "lambda function return type not working", "body": "<p>I have the following piece of code, and find that I'm not able to explicitly convert the output of lambda function into bool. I'm verifying this on the online IDE <a href=\"http://ideone.com/\" rel=\"nofollow noreferrer\">http://ideone.com/</a>, and I choose C++14. </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    int number = 10;\n    int bar = 6;\n    auto numberisLarger = [&amp;]() -&gt; bool {return number &gt; bar;};\n    bool isLarger = numberisLarger;\n    return 0;\n}\n</code></pre>\n\n<p>However, I'm getting compilation error as below.</p>\n\n<pre><code>error: cannot convert 'main()::&lt;lambda()&gt;' to 'bool' in initialization\n     bool isLarger = numberisLarger;\n</code></pre>\n\n<p>I did explicitly convert it to bool, why it isn't working?\nThanks!</p>\n"}, {"tags": ["c++", "python-3.x", "visual-studio-2015", "embedding"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5306629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w8d4aPs5ndU/AAAAAAAAAAI/AAAAAAAAAAs/P5DZ8p_FOTk/photo.jpg?sz=128", "display_name": "exception", "link": "https://stackoverflow.com/users/5306629/exception"}, "edited": false, "score": 0, "creation_date": 1480867666, "post_id": 40894566, "comment_id": 69130341, "body": "I tried do your suggestion and get new errors: -unresolved external symbol __imp__Py_SetProgramName -unresolved external symbol __imp__Py_Initialize -unresolved external symbol __imp__Py_DecodeLocale in error list in File all of above error file is source.obj"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user634175"}, "is_accepted": false, "score": 0, "last_activity_date": 1480527226, "last_edit_date": 1480527226, "creation_date": 1480526872, "answer_id": 40894566, "question_id": 40894499, "link": "https://stackoverflow.com/questions/40894499/embedding-python-3-in-c-vs2015/40894566#40894566", "title": "Embedding python 3 in c++ vs2015", "body": "<p>\"unresolved external symbol\" is a linker error that means you forgot to link to a .lib file. </p>\n\n<p>The Visual C++ project settings you need to embed Python are (for example Python 3.5):</p>\n\n<ul>\n<li>C/C++, General, Additional include directories: C:\\Python35\\include</li>\n<li>Linker, General, Additional library directories: C:\\Python35\\libs</li>\n</ul>\n\n<p>You don't need to manually specify the .lib file because pyconfig.h auto-links to it when included.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7249639, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O-ZsmGSaLl8/AAAAAAAAAAI/AAAAAAAAACg/gFyU_cPiV4U/photo.jpg?sz=128", "display_name": "Sahand Malaei Balasi", "link": "https://stackoverflow.com/users/7249639/sahand-malaei-balasi"}, "is_accepted": true, "score": 2, "last_activity_date": 1480892585, "creation_date": 1480892585, "answer_id": 40964768, "question_id": 40894499, "link": "https://stackoverflow.com/questions/40894499/embedding-python-3-in-c-vs2015/40964768#40964768", "title": "Embedding python 3 in c++ vs2015", "body": "<p>If you are sure that you have set the input and library directories correctly, then the cause of the linker problem might be that you are mixing codes of different bitnesses. Make sure that for example, you are not linking against the 64-bit versions of the Python libs in a 32-bit application.</p>\n"}], "owner": {"reputation": 33, "user_id": 5306629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w8d4aPs5ndU/AAAAAAAAAAI/AAAAAAAAAAs/P5DZ8p_FOTk/photo.jpg?sz=128", "display_name": "exception", "link": "https://stackoverflow.com/users/5306629/exception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "accepted_answer_id": 40964768, "answer_count": 2, "score": 1, "last_activity_date": 1480892585, "creation_date": 1480526659, "last_edit_date": 1480866941, "question_id": 40894499, "link": "https://stackoverflow.com/questions/40894499/embedding-python-3-in-c-vs2015", "title": "Embedding python 3 in c++ vs2015", "body": "<p>I want to embed python code in C++ console application vs2015. I followed the tutorial <a href=\"https://docs.python.org/3/extending/embedding.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/extending/embedding.html</a>, the very first example, 5.1 Very High Level Embedding. But when I built (in release mode) it shows an error: unresolved external symbol ___imp__py_initialize. \nI guess error occurred cause I don't Include some .lib or .obj files, so I include python.h and python.lib but I'm not sure.\n(I'm not good in English, so excuse me ...)</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1480526540, "post_id": 40894365, "comment_id": 69002734, "body": "You don&#39;t need to use a <code>std::regex</code> to do that. <code>std::istringstream iss(input); std::getline(iss,part,&#39;;&#39;)</code> should do the job fine."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7232136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888d6ae845020e62f624a42e1461833f?s=128&d=identicon&r=PG&f=1", "display_name": "BJones", "link": "https://stackoverflow.com/users/7232136/bjones"}, "edited": false, "score": 0, "creation_date": 1480538054, "post_id": 40895509, "comment_id": 69009050, "body": "Thanks for the help, that code seems to be working in some cases but not others."}, {"owner": {"reputation": 13, "user_id": 7232136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888d6ae845020e62f624a42e1461833f?s=128&d=identicon&r=PG&f=1", "display_name": "BJones", "link": "https://stackoverflow.com/users/7232136/bjones"}, "edited": false, "score": 0, "creation_date": 1480538843, "post_id": 40895509, "comment_id": 69009491, "body": "&quot;&lt;object&gt; waves   ;              big    yellow       flowers      ;           slugs       ; &quot; results in the vector :                                                                               [&lt;object&gt;]                                                                                                   and the string &quot;&lt;start&gt; The   &lt;object&gt;   &lt;verb&gt;   tonight.       ; &quot; results in the vector :   [&lt;start&gt;, The   &lt;object&gt;,   &lt;verb&gt;]"}, {"owner": {"reputation": 13, "user_id": 7232136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888d6ae845020e62f624a42e1461833f?s=128&d=identicon&r=PG&f=1", "display_name": "BJones", "link": "https://stackoverflow.com/users/7232136/bjones"}, "edited": false, "score": 0, "creation_date": 1480539050, "post_id": 40895509, "comment_id": 69009598, "body": "The string &quot;&lt;verb&gt; sigh &lt;adverb&gt;     ; portend like &lt;object&gt; ; die &lt;adverb&gt;  ;&quot; seems to work perfectly though with the resulting vector : [&lt;verb&gt;, sigh &lt;adverb&gt;, portend like &lt;object&gt;, die &lt;adverb&gt;]"}, {"owner": {"reputation": 91, "user_id": 6437291, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-tG_xZpshcuE/AAAAAAAAAAI/AAAAAAAAACM/rXGFkz6Wc0k/photo.jpg?sz=128", "display_name": "Raghavendar Reddy", "link": "https://stackoverflow.com/users/6437291/raghavendar-reddy"}, "reply_to_user": {"reputation": 13, "user_id": 7232136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888d6ae845020e62f624a42e1461833f?s=128&d=identicon&r=PG&f=1", "display_name": "BJones", "link": "https://stackoverflow.com/users/7232136/bjones"}, "edited": false, "score": 0, "creation_date": 1480549951, "post_id": 40895509, "comment_id": 69014476, "body": "BJones you can add whatever delimiter you want as per the string in the regex above. In the above case you have &quot;:[&quot; and few other constraints. First define the format of the string clearly, then you can make a proper regex"}], "tags": [], "owner": {"reputation": 91, "user_id": 6437291, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-tG_xZpshcuE/AAAAAAAAAAI/AAAAAAAAACM/rXGFkz6Wc0k/photo.jpg?sz=128", "display_name": "Raghavendar Reddy", "link": "https://stackoverflow.com/users/6437291/raghavendar-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1480530085, "creation_date": 1480530085, "answer_id": 40895509, "question_id": 40894365, "link": "https://stackoverflow.com/questions/40894365/having-issues-splitting-formatting-a-string-into-a-vector-based-on-multiple-crit/40895509#40895509", "title": "Having issues splitting/formatting a string into a vector based on multiple criteria", "body": "<p>Below is what i tried : it is working but not tidy. you can also use smatch_iterator it will be simple i believe</p>\n\n<pre><code>vector&lt;string&gt; splitt(string str) {\n    smatch sm;\n    vector&lt;string&gt; vec;\n    regex re1(\"([^ ;]*?&gt;)| ; (.*?&gt;)| (.*?&gt;)\");\n    while(regex_search(str,sm,re1)) {\n        for(int i=1;i&lt;sm.size();i++) {\n            if(sm[i]!=\"\")\n                vec.push_back(sm[i]);\n        }\n        str=sm.suffix().str();\n    }\n    return vec;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 582, "user_id": 1892684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2TG0.jpg?s=128&g=1", "display_name": "Anton Jebrak", "link": "https://stackoverflow.com/users/1892684/anton-jebrak"}, "is_accepted": true, "score": 0, "last_activity_date": 1480546619, "creation_date": 1480546619, "answer_id": 40899796, "question_id": 40894365, "link": "https://stackoverflow.com/questions/40894365/having-issues-splitting-formatting-a-string-into-a-vector-based-on-multiple-crit/40899796#40899796", "title": "Having issues splitting/formatting a string into a vector based on multiple criteria", "body": "<ol>\n<li>Split the whole string into vector by semicolons.</li>\n<li>Take the first element of the vector and find the position X of the\nfirst space in it.</li>\n<li>Create a copy of substring from index 0 to X of the first element of\nthe vector and push it to the front of the vector.</li>\n<li>Delete the first X symbols of the now second element of your vector.</li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 7232136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888d6ae845020e62f624a42e1461833f?s=128&d=identicon&r=PG&f=1", "display_name": "BJones", "link": "https://stackoverflow.com/users/7232136/bjones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 40899796, "answer_count": 2, "score": 0, "last_activity_date": 1480546619, "creation_date": 1480526219, "last_edit_date": 1480540789, "question_id": 40894365, "link": "https://stackoverflow.com/questions/40894365/having-issues-splitting-formatting-a-string-into-a-vector-based-on-multiple-crit", "title": "Having issues splitting/formatting a string into a vector based on multiple criteria", "body": "<p>I need to split a series of strings that are formatted like the following 2 strings:</p>\n\n<pre><code>&lt;verb&gt; sigh &lt;adverb&gt; ; portend like &lt;object&gt; ; die &lt;adverb&gt; ;\n\n&lt;start&gt; The &lt;object&gt; &lt;verb&gt; tonight. ;\n</code></pre>\n\n<p>into a vector in which the first nonlimiter (ex:<code>\"&lt;verb&gt;\"</code>) is the first element of the vector, and then the rest of the string is broken up into elements by the semicolons. So the first example string should be broken up like this when I'm finished:</p>\n\n<pre><code>newvec.at(0)= &lt;verb&gt;\nnewvec.at(1) = sigh &lt;adverb&gt;\nnewvec.at(2) = portend like &lt;object&gt;\nnewvect.at(3) = die &lt;adverb&gt;\n</code></pre>\n\n<p>The second example string should result in the vector:</p>\n\n<pre><code>newvec.at(0) = &lt;start&gt;\nnewvec.at(1)=The &lt;object&gt; &lt;verb&gt; tonight.\n</code></pre>\n\n<p>I was provided with the following function to break up strings into vectors using regexs as delimiters and it worked fine when I previously needed it, but I'm having trouble figuring out how to use it in this case if I even can.</p>\n\n<pre><code>/**\n * Splits the input string based on the (string) regular expression.\n *\n * @param input the string to split.\n * @param regex a string for the regular expression to use to split.\n * @param delim if true, then the regex chars will be returned in the split,\n *              if false, the regex chars are removed.\n * @return a vector of strings that is the input string split based on the\n *         given regular expression.\n */\nvector&lt;string&gt; split(const string &amp;input, const string &amp;regex, bool delim = true) {\n    std::regex re(regex);\n\n    std::sregex_token_iterator first, last;\n    if (delim) {\n        first = sregex_token_iterator{input.begin(), input.end(), re};\n    } else {\n        // the -1 removes the delimiter\n        first = sregex_token_iterator{input.begin(), input.end(), re, -1};\n    }\n    return vector&lt;string&gt;(first, last);\n}\n</code></pre>\n\n<p>Calling <code>new_vec = split(ex_string, \";\", false)</code> in my function will split the string into a vector based on the semicolons (and remove the semicolons), but I'm unsure of how to make the first non limiter the first element of the vector. Any help would be greatly appreciated.</p>\n"}, {"tags": ["c++", "boost", "cmake"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1480525585, "post_id": 40894122, "comment_id": 69002188, "body": "Why not following the instructions from the error message? Are you sure that the boost stuff is installed at <code>C:\\MinGW</code>?"}, {"owner": {"reputation": 420, "user_id": 4320076, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/9e685afe095f2bac3f97747a03204a84?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Makovsky", "link": "https://stackoverflow.com/users/4320076/denis-makovsky"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1480581760, "post_id": 40894122, "comment_id": 69024631, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 cause boost directory does not contains forlders include and lib"}, {"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1480672048, "post_id": 40894122, "comment_id": 69069249, "body": "Which CMake version do you have? If it is too old, its &quot;FindBoost.cmake&quot; will not be able to find the latest Boost version. I think that support for Boost 1.62 was introduced only in CMake 3.7 (or maybe CMake 3.6.3)."}], "answers": [{"comments": [{"owner": {"reputation": 624, "user_id": 2500182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0258182b40700934160ccca0ba05f?s=128&d=identicon&r=PG", "display_name": "Josh Sanders", "link": "https://stackoverflow.com/users/2500182/josh-sanders"}, "edited": false, "score": 0, "creation_date": 1507098169, "post_id": 40929234, "comment_id": 80070257, "body": "I&#39;m having the same issue and I have the latest version of CMake (3.9.3). I&#39;m looking for 1.6.5 and when I check FindBoost.cmake I see that 1.6.5 is there... no idea what&#39;s going on."}], "tags": [], "owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "is_accepted": false, "score": 0, "last_activity_date": 1480672384, "creation_date": 1480672384, "answer_id": 40929234, "question_id": 40894122, "link": "https://stackoverflow.com/questions/40894122/cmake-with-boost-1-62-0-no-boost-libraries-were-found/40929234#40929234", "title": "CMake with Boost 1.62.0: &quot;No Boost libraries were found&quot;", "body": "<p>Obviously CMake finds Boost as it is able to detect its version (1.62.0).</p>\n\n<p>CMake uses the file <code>FindBoost.cmake</code> to determine what libraries to link against.\nThis file is updated continuously when new boost versions appear. \nThere, support for Boost 1.62.0 is available only for CMake >= 3.7.0.</p>\n\n<p>So just update your CMake version (or just the file FindBoost.cmake) and you will be fine.</p>\n"}], "owner": {"reputation": 420, "user_id": 4320076, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/9e685afe095f2bac3f97747a03204a84?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Makovsky", "link": "https://stackoverflow.com/users/4320076/denis-makovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3253, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1480672384, "creation_date": 1480525415, "last_edit_date": 1480586344, "question_id": 40894122, "link": "https://stackoverflow.com/questions/40894122/cmake-with-boost-1-62-0-no-boost-libraries-were-found", "title": "CMake with Boost 1.62.0: &quot;No Boost libraries were found&quot;", "body": "<p>Using the following <code>CMake</code> code:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.6)\nproject(TrustLineManager)\n\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\n\nset(BOOST_ROOT D:/Tools/boost_1_62_0/)\n\nset(Boost_INCLUDE_DIRS D:/Tools/boost_1_62_0/boost)\nset(Boost_LIBRARY_DIRS D:/Tools/boost_1_62_0/libs)\n\nset(BOOST_INCLUDEDIR C:/MinGW/include)\nset(BOOST_LIBRARYDIR C:/MinGW/lib)\n\nset(Boost_USE_STATIC_LIBS ON)\nset(Boost_USE_MULTITHREADED ON)\n\nfind_package(Boost\n        1.62.0\n        COMPONENTS system\n                   filesystem\n        REQUIRED)\n\ninclude_directories(${Boost_INCLUDE_DIRS})\ntarget_link_libraries(TrustLineManager ${Boost_LIBRARIES})\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>Error:Unable to find the requested Boost libraries.\nBoost version: 1.62.0\nBoost include path: D:/Tools/boost_1_62_0\nCould not find the following static Boost libraries:\n        boost_system         boost_filesystem\nNo Boost libraries were found.  You may need to set BOOST_LIBRARYDIR to the directory containing Boost libraries or BOOST_ROOT to the location of Boost.\n</code></pre>\n\n<p>What should I do to solve it?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I modified my <code>CMake</code> code into:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.6)\nproject(TrustLineManager)\n\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\n\nset(SOURCE_FILES main.cpp)\n\nset(BOOST_ROOT \"D:/Tools/boost_1_62_0\")\n\nset(Boost_USE_STATIC_LIBS ON)\nset(Boost_USE_MULTITHREADED ON)\n\nfind_package(Boost)\ninclude_directories(${Boost_INCLUDE_DIRS})\n\nadd_executable(TrustLineManager ${SOURCE_FILES})\n\ntarget_link_libraries(TrustLineManager Boost::filesystem Boost::thread)\n</code></pre>\n\n<p>I have now this error:</p>\n\n<pre><code>Error:Target \"TrustLineManager\" links to target \"Boost::filesystem\" but the target was not found.  Perhaps a find_package() call is missing for an IMPORTED target, or an ALIAS target is missing?\n</code></pre>\n\n<p>Here is a screenshot of Boost directory contents:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3UrM8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3UrM8.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "windows", "events"], "answers": [{"comments": [{"owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "edited": false, "score": 0, "creation_date": 1480649232, "post_id": 40894431, "comment_id": 69060255, "body": "Hey @Josh, I have been using this method so far and it has been working great! By using FindFirstChangeNotification, I have been able to detect the last time a file has been modified. I was wondering if you could provide me with some clarification on how exactly to use the ReadDirectoryChanges function. Looking up different articles online has proven futile. I have written my code thus far on my original posting. Thanks again!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user197015"}, "is_accepted": false, "score": 1, "last_activity_date": 1480526425, "creation_date": 1480526425, "answer_id": 40894431, "question_id": 40894106, "link": "https://stackoverflow.com/questions/40894106/windows-event-hooks-for-file-saved/40894431#40894431", "title": "Windows Event Hooks for File Saved", "body": "<p>You can monitor the filesystem for changes using <a href=\"https://msdn.microsoft.com/en-us/library/aa364417(VS.85).aspx\" rel=\"nofollow noreferrer\"><code>FindFirstChangeNotification</code></a>. When you call this function, you get a <code>HANDLE</code> back. You can wait on that handle using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms687032(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>WaitSingleObject</code></a> (or similar). When the wait returns, you can use <a href=\"https://msdn.microsoft.com/en-us/library/aa365465(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>ReadDirectoryChanges</code></a> to figure out exactly what happened. If whatever happens matches some event or change you care about for your file, you can take the appropriate action... otherwise ignore the event.</p>\n\n<p>Because you'll be waiting (and thus blocking the thread), you may want to perform this work on a worker thread if you want your program in question to be doing anything else. </p>\n\n<p>A simple way to start might be to listen for events with the <code>FILE_NOTIFY_CHANGE_LAST_WRITE</code> filter; this will release your wait when files in the monitored directory are written to.</p>\n\n<p>Note that not all programs save files in the same way; some open the existing file and write to it, others delete it and replace, or some combination thereof (first writing to a temporary file, then swapping it with the original). Consequently it may not be as straightforward as waiting for <em>just</em> last-write notifications to accomplish precisely what you're after.</p>\n"}, {"comments": [{"owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "edited": false, "score": 0, "creation_date": 1480530281, "post_id": 40895531, "comment_id": 69004930, "body": "Will definitely consider this as well. Will this option still let me explore Windows Events and get some more practice with C/C++?"}, {"owner": {"reputation": 59, "user_id": 2868760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de22ad3a282e436350e0d468624fe22?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/2868760/root"}, "reply_to_user": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "edited": false, "score": 0, "creation_date": 1480534989, "post_id": 40895531, "comment_id": 69007429, "body": "Nope, this is npp specific."}], "tags": [], "owner": {"reputation": 59, "user_id": 2868760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de22ad3a282e436350e0d468624fe22?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/2868760/root"}, "is_accepted": false, "score": 0, "last_activity_date": 1480530168, "creation_date": 1480530168, "answer_id": 40895531, "question_id": 40894106, "link": "https://stackoverflow.com/questions/40894106/windows-event-hooks-for-file-saved/40895531#40895531", "title": "Windows Event Hooks for File Saved", "body": "<p>Think about writing a NP++ plugin instead.</p>\n\n<p>You can register your plugin to be notified whenever a file is saved or about to be saved using <code>NPPN_FILESAVED</code> or <code>NPPN_FILEBEFORESAVE</code>.</p>\n\n<p>Please look at this link:</p>\n\n<p><a href=\"http://docs.notepad-plus-plus.org/index.php/Messages_And_Notifications\" rel=\"nofollow noreferrer\">http://docs.notepad-plus-plus.org/index.php/Messages_And_Notifications</a></p>\n"}], "owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480649353, "creation_date": 1480525371, "last_edit_date": 1480649353, "question_id": 40894106, "link": "https://stackoverflow.com/questions/40894106/windows-event-hooks-for-file-saved", "title": "Windows Event Hooks for File Saved", "body": "<p>Every time I save a certain script file I'm working on in NotePad++, I am required to upload the changes to our server so that we can deploy the changes to various machines. </p>\n\n<p>I sometimes forget to upload the changes after refactoring my code in NotePad++ and I was wondering if there was a way for me to create a simple application that would listen for a 'Save' event and automatically upload the file for me.</p>\n\n<p>I am currently running on a Windows OS and was hoping to do this using C++. I'd like to explore Windows Events and possibly tie into an event hook to accomplish this. Any other languages would be welcome as well.</p>\n\n<p>Any ideas or tips?</p>\n\n<p>Here is my code thus far following Josh's recommendations below:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;tchar.h&gt;\n\nvoid RefreshDirectory(LPTSTR);\nvoid WatchDirectory(LPTSTR);\n\nvoid _tmain(int argc, TCHAR *argv[])\n{\n    if (argc != 2)\n    {\n        _tprintf(TEXT(\"Usage: %s &lt;dir&gt;\\n\"), argv[0]);\n        return;\n    }\n\n    WatchDirectory(argv[1]);\n}\n\nvoid WatchDirectory(LPTSTR lpDir)\n{\n    DWORD dwWaitStatus;\n    HANDLE dwChangeHandles[2];\n    TCHAR lpDrive[4];\n    TCHAR lpFile[_MAX_FNAME];\n    TCHAR lpExt[_MAX_EXT];\n\n    _tsplitpath_s(lpDir, lpDrive, 4, NULL, 0, lpFile, _MAX_FNAME, lpExt, _MAX_EXT);\n\n    lpDrive[2] = (TCHAR)'\\\\';\n    lpDrive[3] = (TCHAR)'\\0';\n\n    // Watch the directory for file creation and deletion. \n\n    dwChangeHandles[0] = FindFirstChangeNotification(\n        lpDir,                         // directory to watch \n        FALSE,                         // do not watch subtree \n        FILE_NOTIFY_CHANGE_LAST_WRITE); // watch file name changes \n\n    if (dwChangeHandles[0] == INVALID_HANDLE_VALUE)\n    {\n        printf(\"\\n ERROR: FindFirstChangeNotification function failed.\\n\");\n        ExitProcess(GetLastError());\n    }\n\n    // Make a final validation check on our handles.\n\n    if ((dwChangeHandles[0] == NULL))\n    {\n        printf(\"\\n ERROR: Unexpected NULL from FindFirstChangeNotification.\\n\");\n        ExitProcess(GetLastError());\n    }\n\n    // Change notification is set. Now wait on both notification \n    // handles and refresh accordingly. \n\n    while (TRUE)\n    {\n        // Wait for notification.\n\n        printf(\"\\nWaiting for notification...\\n\");\n\n        // Waits until the specified object is in the signaled state or \n        // the time-out interval elapses.\n        // Because our second parameter is set to INFINITE, the function will\n        // return only when the object is signaled.\n        dwWaitStatus = WaitForSingleObject(dwChangeHandles, INFINITE);\n\n        switch (dwWaitStatus)\n        {\n            // Our return value, WAIT_OBJECT_0 signifies that the first object\n            // signaled the event.\n            case WAIT_OBJECT_0:\n\n                // A file was created, renamed, or deleted in the directory.\n                // Refresh this directory and restart the notification.\n\n                RefreshDirectory(lpDir);\n                if (FindNextChangeNotification(dwChangeHandles[0]) == FALSE)\n                {\n                    printf(\"\\n ERROR: FindNextChangeNotification function failed.\\n\");\n                    ExitProcess(GetLastError());\n                }\n                break;\n\n            case WAIT_TIMEOUT:\n\n                // A timeout occurred, this would happen if some value other \n                // than INFINITE is used in the Wait call and no changes occur.\n                // In a single-threaded environment you might not want an\n                // INFINITE wait.\n\n                printf(\"\\nNo changes in the timeout period.\\n\");\n                break;\n\n            default:\n                printf(\"\\n ERROR: Unhandled dwWaitStatus.\\n\");\n                ExitProcess(GetLastError());\n                break;\n        }\n    }\n}\n\nvoid RefreshDirectory(LPTSTR lpDir)\n{\n    // This is where you might place code to refresh your\n    // directory listing, but not the subtree because it\n    // would not be necessary.\n\n    _tprintf(TEXT(\"Directory (%s) changed.\\n\"), lpDir);\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2012", "parallel-processing", "openmp"], "comments": [{"owner": {"reputation": 530, "user_id": 2394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f9b9b9399b329591f7be92da1c5e442?s=128&d=identicon&r=PG", "display_name": "tim18", "link": "https://stackoverflow.com/users/2394541/tim18"}, "edited": false, "score": 0, "creation_date": 1480529827, "post_id": 40893974, "comment_id": 69004684, "body": "Your  course material may  be more  concise  than a  full answer.  It should cover howto  measure  performance. Avoid nested  parallelism at least  at  first.  Your  compiler will not auto     -vectorize  so  you  don&#39;t have a  high bar to  overcome."}, {"owner": {"reputation": 530, "user_id": 2394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f9b9b9399b329591f7be92da1c5e442?s=128&d=identicon&r=PG", "display_name": "tim18", "link": "https://stackoverflow.com/users/2394541/tim18"}, "edited": false, "score": 0, "creation_date": 1480534941, "post_id": 40893974, "comment_id": 69007401, "body": "In particular you must heed your lessons about reduction and variable scope."}], "owner": {"reputation": 1, "user_id": 7231885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1a6bedefbd9e605b240bcff5bd0d81?s=128&d=identicon&r=PG&f=1", "display_name": "nakan", "link": "https://stackoverflow.com/users/7231885/nakan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480524958, "creation_date": 1480524958, "question_id": 40893974, "link": "https://stackoverflow.com/questions/40893974/visual-studio-2012-parallelism-with-openmp", "title": "visual studio 2012 parallelism with openmp", "body": "<p>I am studying computer architecture in the university.</p>\n\n<p>I have a home work which making convolution faster using parallelism(openMP).</p>\n\n<p>For now I made convolution code (your_convolution) with omp, but It did not be faster at all!</p>\n\n<p>I'm using visual studio 2012.</p>\n\n<p>How can i make it faster??</p>\n\n<p>here's whole convolution's code.</p>\n\n<p>give me some help.</p>\n\n<pre><code>#include &lt;intrin.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n#include &lt;math.h&gt;\n#include &lt;vector&gt;\n#include &lt;assert.h&gt;\n#include &lt;omp.h&gt;\n\nusing namespace std;\n\nvoid convolution(float* output, float* input, float* filter, int width, int height, int r)\n{\n    assert(output!=NULL &amp;&amp; input!=NULL &amp;&amp; filter!=NULL &amp;&amp; width&gt;0 &amp;&amp; height&gt;0 &amp;&amp; r&gt;0);\n\n    int w1=width-1;\n    int h1=height-1;\n    int fwidth=2*r+1;\n\n    int i, j, di, dj, ii, jj;\n\n    float sum;\n\n    for (i=0;i&lt;height;++i)\n    {\n        for (j=0;j&lt;width;++j)\n        {\n            sum=0;\n            for (di=-r;di&lt;=r;++di)\n            {\n                ii=i+di;\n                ii=max(min(ii,h1),0);\n\n                for (dj=-r;dj&lt;=r;++dj)\n                {\n                    jj=j+dj;\n                    jj=max(min(jj,w1),0);\n\n                    sum+=filter[dj+r+(di+r)*fwidth]*input[jj+ii*width];\n                }\n            }\n            output[j+i*width]=sum;\n        }\n    }\n}\n\nvoid your_convolution(float* output, float* input, float* filter, int width, int height, int r)\n{\n// write your code here //\n    assert(output != NULL &amp;&amp; input != NULL &amp;&amp; filter != NULL &amp;&amp; width&gt;0 &amp;&amp; height&gt;0 &amp;&amp; r&gt;0);\n\n    int w1 = width - 1;\n    int h1 = height - 1;\n    int fwidth = 2 * r + 1;\n\n    int i, j, di, dj, ii, jj;\n\n    float sum;\n        omp_set_num_threads(4);\n#pragma omp parallel\n    {\n\n\n    for (i = 0; i&lt;height; ++i)\n    {\n\n        for (j = 0; j&lt;width; ++j)\n        {\n            sum = 0;\n            for (di = -r; di &lt;= r; ++di)\n            {\n                ii = i + di;\n                ii = max(min(ii, h1), 0);\n\n         #pragma omp parallel for \n                    for (dj = -r; dj &lt;= r; ++dj)\n                    {\n                        jj = j + dj;\n                        jj = max(min(jj, w1), 0);\n\n                        sum += filter[dj + r + (di + r)*fwidth] * input[jj + ii*width];\n\n                }\n\n            }\n            output[j + i*width] = sum;\n        }\n    }\n\n}\n}\n\n\nint main()\n{\n    // load the image\n    int width=1920; // width of the image\n    int height=1080;    // height of the image\n    int len=width*height;   // pixels in the image\n\n    int i, j, ii, jj, i2;\n\n    float* data=(float*)malloc(sizeof(float)*len);  // buffer to load the image\n    float* output=(float*)malloc(sizeof(float)*len);    // output buffer\n    FILE* fp=fopen(\"../image.dat\", \"rb\");   // open the image, assume that the bld directory is a subdirectory to the src directory\n    fread(data, sizeof(float), width*height, fp);   // load the float values, the image is gray.\n    fclose(fp);\n\n    // set the filter\n    int radius=3;   // filter radius\n    float sigma=(float)(radius/3.0);    // standard deviation of the Gaussian filter\n    float beta=(float)(-0.5/(sigma*sigma)); // coefficient exp(beta*x*x)\n    int fwidth=2*radius+1;  // width of the filter\n    int flen=fwidth*fwidth; // number of elements in the filter\n    float* filter=(float*)malloc(sizeof(float)*flen);   // filter buffer\n    float sum_weight=0; // we want to normalize the filter weights\n    for (i=-radius;i&lt;=radius;++i)\n    {\n        ii=(i+radius)*fwidth;\n        i2=i*i;\n        for (j=-radius;j&lt;=radius;++j)\n        {\n            jj=j+radius+ii;\n            filter[jj]=exp(beta*(i2+j*j));\n            sum_weight+=filter[jj];\n        }\n    }\n\n    sum_weight=(float)(1.0/sum_weight);\n    for (i=0;i&lt;flen;++i)\n        filter[i]*=sum_weight;  // now the weights are normalized to sum to 1\n\n    clock_t start=clock();\n    convolution(output, data, filter, width, height, radius);\n    clock_t finish=clock();\n\n    double duration = (double)(finish - start) / CLOCKS_PER_SEC;\n    printf( \"convolution naive: %2.3f seconds\\n\", duration );\n\n    float* output2=(float*)malloc(sizeof(float)*len);   // output buffer\n\n    start=clock();\n    your_convolution(output2, data, filter, width, height, radius);\n    finish=clock();\n\n    double duration2 = (double)(finish - start) / CLOCKS_PER_SEC;\n    printf( \"your convolution: %2.3f seconds\\n\", duration2 );\n\n    double sum=0;\n    for (i=0;i&lt;len;++i)\n        sum+=fabs(output[i]-output2[i]);\n\n    printf(\"difference of the outputs=%lf\\n\", sum);\n\n    printf( \"The performance of your convolve is %2.1f times higher than convolution naive.\\n\", duration/duration2);\n\n    free(data);\n    free(filter);\n    free(output);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "segmentation-fault"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 6, "creation_date": 1480524833, "post_id": 40893889, "comment_id": 69001704, "body": "Why, oh <i>why</i> are you using <code>malloc</code> in C++?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 7, "creation_date": 1480524907, "post_id": 40893889, "comment_id": 69001755, "body": "You have undefined behavior because writing to the allocated memory out of bounds. Indices go from <code>0</code> to <code>size - 1</code> in c++."}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 4, "creation_date": 1480524916, "post_id": 40893889, "comment_id": 69001762, "body": "First element of the array is at index 0. Accessing <code>number[5]</code> causes undefined behavior."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1480525276, "post_id": 40893889, "comment_id": 69001993, "body": "Also what is the value of <code>Ntot</code>? What do you do if it is <code>&lt;=1</code>?"}, {"owner": {"reputation": 1, "user_id": 7232044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef154a06e5d56945570e65f92f14407d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dakroury", "link": "https://stackoverflow.com/users/7232044/a-dakroury"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1480526030, "post_id": 40893889, "comment_id": 69002429, "body": "@UnholySheep Ntot is a positive integer value, I&#39;m using 1000 atm"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7232044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef154a06e5d56945570e65f92f14407d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dakroury", "link": "https://stackoverflow.com/users/7232044/a-dakroury"}, "edited": false, "score": 0, "creation_date": 1480526110, "post_id": 40894039, "comment_id": 69002470, "body": "I tried using malloc as an alternative after having no results with new, the original code my greater work is based on is in C so a few things here and there need to be fixed. doing the changes you suggested I ended up getting a segmentation error once again."}, {"owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "reply_to_user": {"reputation": 1, "user_id": 7232044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef154a06e5d56945570e65f92f14407d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dakroury", "link": "https://stackoverflow.com/users/7232044/a-dakroury"}, "edited": false, "score": 0, "creation_date": 1480526186, "post_id": 40894039, "comment_id": 69002513, "body": "I suppose your issue is resolved then, please mark the answer as accepted. @A.Dakroury"}], "tags": [], "owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "is_accepted": true, "score": 1, "last_activity_date": 1480525161, "creation_date": 1480525161, "answer_id": 40894039, "question_id": 40893889, "link": "https://stackoverflow.com/questions/40893889/segmentation-fault-core-dumped-if-i-dont-include-a-cout/40894039#40894039", "title": "Segmentation fault (core dumped) if I don&#39;t include a cout?", "body": "<p>Start allocating memory from index 0 onwards, since indexing in C/C++ is from 0 and not 1.</p>\n\n<pre><code>for (int i = 0; i &lt; 5; i++)\n</code></pre>\n\n<p>Also, replace <code>i</code> by <code>i - 1</code> in all <code>number[i][j]</code> above. Like <code>number[1][1] = 1.</code> by <code>number[0][1] = 1.</code> and so on.</p>\n\n<p>And also, don't use <code>malloc</code> (and don't type-cast its result too !), instead use <code>new</code> :</p>\n\n<pre><code>number[i] = new double[Ntot];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7232044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef154a06e5d56945570e65f92f14407d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dakroury", "link": "https://stackoverflow.com/users/7232044/a-dakroury"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "closed_date": 1480527882, "accepted_answer_id": 40894039, "answer_count": 1, "score": -6, "last_activity_date": 1480526867, "creation_date": 1480524737, "last_edit_date": 1480526867, "question_id": 40893889, "link": "https://stackoverflow.com/questions/40893889/segmentation-fault-core-dumped-if-i-dont-include-a-cout", "closed_reason": "Not suitable for this site", "title": "Segmentation fault (core dumped) if I don&#39;t include a cout?", "body": "<p>I was working on creating a dynamic array based on an input file and was being thrown a Segmentation fault error with no useful information with gdc.\nWhilst debugging I tried checking if Ntot was being read correctly and somehow that fixed the error.\nIf I remove the cout (as in the example) then the error returns, anyone got some insight why?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n#include &lt;fstream&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\n\nint main(){\n\ndouble **number;\n\nint i, Ntot;\n\nifstream input(\"initial_parameters.dat\");\n\ninput &gt;&gt; Ntot;\n\n//cout&lt;&lt;Ntot&lt;&lt;endl;\n//uncomenting this removes the error\n\nnumber = (double**)malloc(sizeof(double*) * (5));\nfor (int i = 1; i &lt;= 5; i++)\n    number[i] = (double*)malloc(sizeof(double) * (Ntot));\n\n    number[1][1] = 1.;\n    cout&lt;&lt;number[1][1]&lt;&lt;endl;\n    number[2][1] = 2.;\n    cout&lt;&lt;number[2][1]&lt;&lt;endl;\n    number[3][1] = 3.;\n    cout&lt;&lt;number[3][1]&lt;&lt;endl;\n    number[4][1] = 4.;\n    cout&lt;&lt;number[4][1]&lt;&lt;endl;\n    number[5][1] = 5.;\n    cout&lt;&lt;number[5][1]&lt;&lt;endl; \n\nreturn 0;\n\n}\n</code></pre>\n\n<p>Edit: working array initialization is:</p>\n\n<pre><code>double** number = new double*[5];\nfor (int i = 0; i &lt; 5; i++)\n    number[i] = new double[Ntot];\n</code></pre>\n"}, {"tags": ["c++", "size-t"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1480524471, "post_id": 40893776, "comment_id": 69001469, "body": "why don&#39;t you just iterate over the vector itself using range based for loop? <code>for (const auto&amp; el : vec) { do_something(el);}</code>"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1480524554, "post_id": 40893776, "comment_id": 69001510, "body": "I&#39;m just curious, why are you iterating over all the elements except the last one?"}, {"owner": {"reputation": 3685, "user_id": 695652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/28c0373a80df43009aefb657d30c6fa8?s=128&d=identicon&r=PG", "display_name": "user695652", "link": "https://stackoverflow.com/users/695652/user695652"}, "edited": false, "score": 0, "creation_date": 1480529441, "post_id": 40893776, "comment_id": 69004488, "body": "@ Borgleader one of those annoying &quot;remove trailing whitespace situations&quot; when concatenating strings"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480532413, "post_id": 40893776, "comment_id": 69006114, "body": "@user695652 Oh I see, that makes sense."}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 8, "last_activity_date": 1480524524, "creation_date": 1480524524, "answer_id": 40893821, "question_id": 40893776, "link": "https://stackoverflow.com/questions/40893776/subtraction-from-size-t-results-in-large-positive-number/40893821#40893821", "title": "subtraction from size_t results in large positive number", "body": "<p><code>size_t</code> is an unsigned type hence the problem, just do that this way:</p>\n\n<pre><code>for (auto i = 0U; i + 1 &lt; vec.size(); ++i) \n</code></pre>\n\n<p><code>0U</code> added to make <code>i</code> unsigned (to avoid warning), but I would better use <code>size_t</code> istead of <code>auto</code> in this case</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 0, "last_activity_date": 1480524633, "creation_date": 1480524633, "answer_id": 40893863, "question_id": 40893776, "link": "https://stackoverflow.com/questions/40893776/subtraction-from-size-t-results-in-large-positive-number/40893863#40893863", "title": "subtraction from size_t results in large positive number", "body": "<blockquote>\n  <p>What's the correct way of writing the above loop?</p>\n</blockquote>\n\n<p>Keep the loop as it is, but add an <code>if</code>-condition that branches into the loop only if the vector isn't empty.</p>\n"}], "owner": {"reputation": 3685, "user_id": 695652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/28c0373a80df43009aefb657d30c6fa8?s=128&d=identicon&r=PG", "display_name": "user695652", "link": "https://stackoverflow.com/users/695652/user695652"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 40893821, "answer_count": 2, "score": 1, "last_activity_date": 1480524633, "creation_date": 1480524399, "question_id": 40893776, "link": "https://stackoverflow.com/questions/40893776/subtraction-from-size-t-results-in-large-positive-number", "title": "subtraction from size_t results in large positive number", "body": "<p>I just run into a nasty bug where I have a loop </p>\n\n<pre><code>for (auto i = 0; i &lt; vec.size() -1; ++i) {\n  //\n}\n</code></pre>\n\n<p>with vec being an <strong>emtpy</strong> <code>std::vector</code>, thus vec.size() -1 evaluates to <code>2^64</code> on my system. </p>\n\n<p>What's the correct way of writing the above loop?</p>\n"}, {"tags": ["c++", "c++11", "smart-pointers", "c++03"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7231709"}, "edited": false, "score": 0, "creation_date": 1480524605, "post_id": 40893699, "comment_id": 69001536, "body": "Unfortunately I also have constraints to (try) not use Boost (sorry, no decision power on them!)"}], "tags": [], "owner": {"reputation": 4122, "user_id": 3951525, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hix21.jpg?s=128&g=1", "display_name": "Starl1ght", "link": "https://stackoverflow.com/users/3951525/starl1ght"}, "is_accepted": false, "score": 3, "last_activity_date": 1480524183, "creation_date": 1480524183, "answer_id": 40893699, "question_id": 40893636, "link": "https://stackoverflow.com/questions/40893636/c-std-auto-ptr-or-stdunique-ptr-to-support-multiple-compilers-even-old-c/40893699#40893699", "title": "C++ std:.auto_ptr or std::unique_ptr (to support multiple compilers, even old C++03 compilers)?", "body": "<p>In this exact case you can start modernizing your code by using <code>boost::unique_ptr</code> instead of <code>auto_ptr</code>, which is not recommended.</p>\n\n<p>Overall, big part of C++11 libraries is straight-up taken from boost, so it will be good place to start.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7231709"}, "edited": false, "score": 0, "creation_date": 1480524557, "post_id": 40893795, "comment_id": 69001513, "body": "Great and complete answer. Boost is tempting, but I also have constraints to (try to) avoid it. Please don&#39;t ask, constraints are not defined by me :-(."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 1, "creation_date": 1480528585, "post_id": 40893795, "comment_id": 69003995, "body": "@roalz: &quot;<i>C++17 may definitely remove std::auto_ptr</i>&quot; It &quot;may&quot; not do anything. <code>auto_ptr</code> <i>is</i> being removed from C++17. While yes, it&#39;s possible for the committee to decide not to do so, it&#39;s highly unlikely at this point that they will."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480531744, "post_id": 40893795, "comment_id": 69005740, "body": "I believe code breaks if you start with valid <code>auto_ptr</code> code and replace it with <code>unique_ptr</code>, and vice versa."}, {"owner": {"reputation": 942, "user_id": 399580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53b0446da51264683bb2e4a7321e919d?s=128&d=identicon&r=PG", "display_name": "Luis Machuca", "link": "https://stackoverflow.com/users/399580/luis-machuca"}, "edited": false, "score": 0, "creation_date": 1480858557, "post_id": 40893795, "comment_id": 69127632, "body": "Are the constraints specific to Boost, or encompassing to all &quot;third party libraries&quot;? I wrote a <a href=\"http://ryan.gulix.cl/fossil.cgi/cxxomfort/wiki?name=Features\" rel=\"nofollow noreferrer\">backports library for C++03 (and others)</a> which includes <code>unique_ptr</code>, and in case you can&#39;t just grab the library, the documentation mentions Howard Hinnart&#39;s early implementation that you can use as a basis. Doesn&#39;t get you <i>everything</i> in C++03 mode (by definition, it can&#39;t), but it should get you up to usable and upwards."}], "tags": [], "owner": {"reputation": 2581, "user_id": 1242646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2b686cb8d225bf0023e20013bbd3a987?s=128&d=identicon&r=PG", "display_name": "roalz", "link": "https://stackoverflow.com/users/1242646/roalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1480586694, "last_edit_date": 1592644375, "creation_date": 1480524473, "answer_id": 40893795, "question_id": 40893636, "link": "https://stackoverflow.com/questions/40893636/c-std-auto-ptr-or-stdunique-ptr-to-support-multiple-compilers-even-old-c/40893795#40893795", "title": "C++ std:.auto_ptr or std::unique_ptr (to support multiple compilers, even old C++03 compilers)?", "body": "<p>As you noted, std::auto_ptr&lt;&gt; has been deprecated in C++11\n(<a href=\"http://www.cplusplus.com/reference/memory/auto_ptr/\" rel=\"nofollow noreferrer\">Reference</a>).</p>\n<p>Moving to c++11 std::unique_ptr&lt;&gt; is the right way, as also stated by Herb Sutter in\n<a href=\"https://herbsutter.com/2013/05/29/gotw-89-solution-smart-pointers/\" rel=\"nofollow noreferrer\">GotW89</a>:</p>\n<blockquote>\n<ol start=\"4\">\n<li>What\u2019s the deal with auto_ptr?<br />\nauto_ptr is most charitably characterized as a valiant attempt to create a unique_ptr before C++ had move semantics. auto_ptr is now deprecated, and should not be used in new code.<br />\nIf you have auto_ptr in an existing code base, when you get a chance try doing a global search-and-replace of auto_ptr to unique_ptr; the vast majority of uses will work the same, and it might expose (as a compile-time error) or fix (silently) a bug or two you didn\u2019t know you had.</li>\n</ol>\n</blockquote>\n<p>Please also note that C++17 is going to remove std::auto_ptr.</p>\n<p>I think there may be different ways of solving your problem, the &quot;right&quot; one also depends on how your actual code is written.<br />\nA few options are:</p>\n<h1>Option 1</h1>\n<p>Use boost::unique_ptr</p>\n<h1>Option 2</h1>\n<p>Conditionally use auto_ptr or unique_ptr based on __cplusplus.</p>\n<blockquote>\n<p>class Myclass {<br />\n#if __cplusplus &lt; 201103L<br />\nstd::auto_ptr m_ptr;<br />\n#else<br />\nstd::unique_ptr m_ptr;<br />\n#endif<br />\n...</p>\n</blockquote>\n<p>This will be scattered in every place where you reference auto_ptr, I don't really like it.<br />\nMay be look less awkward if all your references to std::auto_ptr are already typedef'ed (just conditionally change the typedef).</p>\n<h1>Option 3</h1>\n<p>Conditionally use using and aliasing to &quot;define&quot; auto_ptr (and reference it without std:: namespace).</p>\n<blockquote>\n<p>#if __cplusplus &lt; 201103L<br />\nusing std::auto_ptr;<br />\n#else<br />\ntemplate <br />\nusing auto_ptr = std::unique_ptr;<br />\n#endif</p>\n</blockquote>\n<p>Drawback: you keep using &quot;auto_ptr&quot;, but in c++11 it means std::unique_ptr.<br />\nReally confusing...</p>\n<h1>Option 3.1</h1>\n<p>Probably slightly better than option 2:<br />\nreverse using aliases and prefer unique_ptr name.</p>\n<h1>Option 4</h1>\n<p>Wrap the std:: smart pointer (conditionally auto_ptr or unique_ptr) in your own defined template smart pointer class.<br />\nThis may be cumbersome and requires search and replacement of all auto_ptr references with your new class.</p>\n<h1>Other dirty options</h1>\n<p>Other options involve definitions inside the std:: namespace, which I think is prohibited by the standard,<br />\nor using preprocessor #define to ...ehm... &quot;rename&quot; unique_ptr to auto_ptr just for old C++03 compilers.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 2, "last_activity_date": 1480532190, "creation_date": 1480532190, "answer_id": 40896082, "question_id": 40893636, "link": "https://stackoverflow.com/questions/40893636/c-std-auto-ptr-or-stdunique-ptr-to-support-multiple-compilers-even-old-c/40896082#40896082", "title": "C++ std:.auto_ptr or std::unique_ptr (to support multiple compilers, even old C++03 compilers)?", "body": "<p>If I was serious, I'd create a <code>notstd</code> namespace.</p>\n\n<p>The goal would be that in C++11, <code>notstd</code> consists of a series of aliases to <code>std</code> types.  In C++03, it has pseudo-C++11 code.</p>\n\n<p>The C++03 <code>notstd</code> code would not be 100% compatible with C++11 <code>std</code>, but rather valid C++03 <code>notstd</code> would in turn produce valid C++11 behavior.</p>\n\n<p>For example, I might use special tagged \"reference-wrapper\" like types for <code>notstd::move</code> references instead of rvalue references, and have my move-only types require such tagged \"reference-wrapper\"s.</p>\n\n<pre><code>namespace notstd {\n  template&lt;class U&gt;\n  struct moved_t {\n    U&amp; u;\n    // relies on NRVO, which is pretty universally supported.\n    // also relies in U being default-constructible:\n    operator U()const{ U tmp; std::swap(u, tmp); return tmp; }\n  };\n  template&lt;class U&gt;\n  moved_t&lt;U&gt; move(U&amp; u) { return {u}; }\n  template&lt;class T&gt;\n  struct unique_ptr {\n    unique_ptr( moved_t&lt;unique_ptr&lt;T&gt;&gt; &gt; ); // move ctor\n    template&lt;class U&gt;\n    unique_ptr( moved_t&lt;unique_ptr&lt;U&gt;&gt; &gt; ); // move ctor\n  private:\n    unique_ptr(unique_ptr const&amp;);\n  };\n}\n</code></pre>\n\n<p>So your code would use <code>notstd::unique_ptr&lt;T&gt;</code>.  There would be no implicit rvalue conversion, so every spot where you move a <code>notstd::unique_ptr&lt;T&gt;</code> you'd have to <code>notstd::move</code> it.</p>\n\n<p>Sadly this means <code>notstd::unique_ptr&lt;T&gt;</code> cannot be put into <code>std</code> containers.  Some hack may have to be done to get that to work (neither can <code>auto_ptr</code> safely).</p>\n\n<p>This is a non-trivial task.  <code>boost::unique_ptr</code> was an attempt to generate unique_ptr like semantics in C++03, and they are going to do a better job than you will most likely.  If you cannot use them directly, read up on what they did and reimplement it yourself.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7231709"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 1, "accepted_answer_id": 40893795, "answer_count": 3, "score": 2, "last_activity_date": 1480586694, "creation_date": 1480524003, "question_id": 40893636, "link": "https://stackoverflow.com/questions/40893636/c-std-auto-ptr-or-stdunique-ptr-to-support-multiple-compilers-even-old-c", "title": "C++ std:.auto_ptr or std::unique_ptr (to support multiple compilers, even old C++03 compilers)?", "body": "<p>I'm trying to update some C++ code, I'd like to move toward a more modern code (c++11), but I still need to compile the code with some older compilers (c++03 compliant), because of supported platform constraints.</p>\n\n<p>I know in C++11 compilers std::auto_ptr is deprecated, but because of the older compiler support, I can't just replace them with std::unique_ptr.</p>\n\n<p>Is there a good practice to handle this \"old compiler support, but start to move to C++11\"?</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"tags": [], "owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "is_accepted": true, "score": 1, "last_activity_date": 1480526887, "creation_date": 1480526887, "answer_id": 40894574, "question_id": 40893593, "link": "https://stackoverflow.com/questions/40893593/how-to-write-a-template-of-template-function-acting-on-nested-stl-containers-and/40894574#40894574", "title": "how to write a template of template function acting on nested stl containers and restricting the innermost type", "body": "<p>Lets start with a type trait for \"N-Nested container of B's\" (where N == 0 is B)</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct is_B : std::false_type;\n\ntemplate &lt;template &lt;typename, typename &gt; class Container, typename Element, typename Allocator&gt;\nstruct is_B&lt;Container&lt;Element, Allocator&gt;&gt; : std::is_B&lt;Element&gt;;\n\ntemplate &lt;&gt;\nstruct is_B&lt;B&gt; : std::true_type;\n</code></pre>\n\n<p>You can then augment the working template with enable_if:</p>\n\n<pre><code>template &lt;template &lt;typename, typename &gt; class Container, typename Element, typename Allocator&gt;\nvoid printThings(Container&lt;std::enable_if&lt;is_B&lt;Element&gt;::value, Element&gt;, Allocator&gt;) ...\n</code></pre>\n\n<p>This gets us halfway. We then make a collection type constructor template</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct Bs_to_As {};\n\ntemplate &lt;template &lt;typename, typename &gt; class Container, typename Element, typename Allocator&gt;\nstruct Bs_to_As&lt;Container&lt;Element, Allocator&gt;&gt; { typedef Container&lt;Bs_to_As&lt;Element&gt;::type, Allocator&gt; type; }\n\ntemplate &lt;&gt;\nstruct Bs_to_As&lt;B&gt; { typedef A type; }\n\ntemplate &lt;template &lt;typename, typename &gt; class Container, typename Element, typename Allocator&gt;\nContainer&lt;Bs_to_As&lt;Element&gt;, Allocator&gt; doStuff(Container&lt;Element, Allocator&gt; myContainer)\n{ ... }\n</code></pre>\n"}], "owner": {"reputation": 608, "user_id": 4462877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e40ef77dcc62d93436a2a5ded444e517?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Li", "link": "https://stackoverflow.com/users/4462877/mohammed-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 40894574, "answer_count": 1, "score": 1, "last_activity_date": 1480526887, "creation_date": 1480523884, "last_edit_date": 1480524221, "question_id": 40893593, "link": "https://stackoverflow.com/questions/40893593/how-to-write-a-template-of-template-function-acting-on-nested-stl-containers-and", "title": "how to write a template of template function acting on nested stl containers and restricting the innermost type", "body": "<p>I am currently experimenting with templates of templates of stl containers</p>\n\n<pre><code>template &lt;template &lt;typename, typename &gt; class Container, typename element, typename Allocator&gt;\nvoid printsize (Container&lt;element, Allocator&gt; &amp; a){\n    std::cout&lt;&lt;\"container size: \"&lt;&lt;a.size()&lt;&lt;std::endl;\n};\n\n\nint main(){\n\n    std::vector&lt;double&gt; testvector;\n\n    for(int i = 0; i &lt; 4; ++i){\n        testvector.push_back((double) i);\n    }\n\n    printsize(testvector);\n\n    std::list&lt;std::vector&lt;double&gt; &gt; testlist;\n    for(int i = 0; i &lt; 8; ++i){\n        testlist.push_back(testvector);\n    }\n    printsize(testlist);\n}\n</code></pre>\n\n<p>output correctly is</p>\n\n<pre><code>container size: 4\ncontainer size: 8\n</code></pre>\n\n<p>I am trying to limit the scope of template types the function accepts to something like</p>\n\n<pre><code>stl::container&lt;double&gt;.\n</code></pre>\n\n<p>If I try something like this:</p>\n\n<pre><code>template &lt;template &lt;typename, typename &gt; class Container, typename Allocator&gt;\nvoid printsize (Container&lt;double , Allocator&gt; &amp; a){\n    std::cout&lt;&lt;\"container size: \"&lt;&lt;a.size()&lt;&lt;std::endl;\n};\n</code></pre>\n\n<p>will make the compiler complain about a </p>\n\n<pre><code>std::vector&lt;int&gt;\n</code></pre>\n\n<p>container as intended, however it does not work anymore on a </p>\n\n<pre><code>std::list&lt;std::vector&lt; double&gt; &gt;\n</code></pre>\n\n<p>because, well, double is a different type than std::vector</p>\n\n<p>However, I want my function to act on arbitrary stl containers and stl containers of stl containers ( and so on ) of a <em>specific \"base\" type only</em>.</p>\n\n<p>The reason behind this is that I do not want to use a lot of overloading. Basically what I am trying to achieve is writing some function</p>\n\n<pre><code>B dosomestuff(A a){\n    B b =  someWorkDoneOnA(a);\n    return b;\n}\n\nstl::container&lt;A&gt; dosomestuff(stl::container&lt;B&gt; myContainer){\n    B newContainerElement;\n    stl::container&lt;A&gt; outputContainer;\n    for(auto i&amp; : myContainer){\n         newContainerElement = dosomestuff(i);\n         outputContainer.push_back(newContainerElement);\n    }\n    return outputContainer;\n};\n</code></pre>\n\n<p>By now I have a function that acts on vectors of B and creates vectors of A, overloaded with another function which acts on vectors of vectors of B and outputs vectors of vectors of A (calling the former function) and so on (honestly, for now that's it and I do not think I will need much more, but who knows?). It is literally the same piece of code (except for the type declarations), i.e. WET.</p>\n"}, {"tags": ["c++", "visual-studio", "enums", "warnings"], "comments": [{"owner": {"reputation": 12613, "user_id": 2312877, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0510f99ab1ac9f932e34c2081745d710?s=128&d=identicon&r=PG", "display_name": "Kritner", "link": "https://stackoverflow.com/users/2312877/kritner"}, "edited": false, "score": 0, "creation_date": 1480524738, "post_id": 40893579, "comment_id": 69001647, "body": "if it&#39;s anything like c# enums are just backed by an integer, so if that holds true in c++ it could perhaps be equivalent to <code>if (type1 == 1)</code>"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1480524762, "post_id": 40893579, "comment_id": 69001659, "body": "That&#39;s normal. Both sides of the equality operator are cast to <code>int</code>."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1480524837, "post_id": 40893579, "comment_id": 69001708, "body": "Write modern C++ code, use <code>enum class</code>."}, {"owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 1, "creation_date": 1480525649, "post_id": 40893579, "comment_id": 69002226, "body": "The typedef is useless here unless the enum definitions are also compiled in C."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1480529201, "post_id": 40893579, "comment_id": 69004360, "body": "@HansPassant: Would that trigger a compilation warning/error? Could you post this as an answer with an example?"}, {"owner": {"reputation": 3785, "user_id": 2388257, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/4QzSp.jpg?s=128&g=1", "display_name": "Hi-Angel", "link": "https://stackoverflow.com/users/2388257/hi-angel"}, "edited": false, "score": 0, "creation_date": 1497736247, "post_id": 40893579, "comment_id": 76206153, "body": "Note: g++ warns by default: <code>warning: comparison between \u2018Type1 {aka enum Type1}\u2019 and \u2018enum Type2\u2019 [-Wenum-compare]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 2102000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0244978121b5b715cca7661a2745579?s=128&d=identicon&r=PG", "display_name": "Alan Milton", "link": "https://stackoverflow.com/users/2102000/alan-milton"}, "is_accepted": false, "score": 0, "last_activity_date": 1480534661, "creation_date": 1480534661, "answer_id": 40896744, "question_id": 40893579, "link": "https://stackoverflow.com/questions/40893579/why-am-i-getting-no-warning-for-enum-comparison-mismatch/40896744#40896744", "title": "Why am I getting no warning for enum comparison mismatch?", "body": "<p>As far as I know, the compiler does not have obligation to issue a warning when comparing enumerations of different types. I could not find it in the standard.\nFor classic enum types there exist implicit type conversion to int, so the resulting code is perfectly legal.\nSemantically it is often incorrect to compare enumerations of different types, so since C++ we have a scoped enumeration construction which does not allow implicit conversions. (See the code below).</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nenum UE1 // This is an unscoped enumeration (since C)\n{\n    val11,\n    val12\n};\n\nenum UE2 // This is an unscoped enumeration too\n{\n    val21, // have to use different names for enumeration constants\n    val22\n};\n\nenum class SE1 // This is an scoped enumeration (since C++11)\n{\n    val1,\n    val2\n};\n\nenum class SE2\n{\n    val1, // can use the same names for the constants\n    val2  // because they are in the different scope\n};\n\nint main(int, char**)\n{\n    if (val11 == val22) // implicit conversion from an enum to int is available\n        cout &lt;&lt; \"UE::val11 is equal to UE::val22\" &lt;&lt; endl;\n\n    if (static_cast&lt;int&gt;(SE1::val1) == static_cast&lt;int&gt;(SE2::val1)) // have to apply explicit conversion\n        cout &lt;&lt; \"SE1::val1 is equal to SE2::val1\" &lt;&lt; endl;\n\n    if (SE1::val1 == SE2::val1) // error!!! Cannot make implicit conversions from a scoped enumeration.\n        cout &lt;&lt; \"SE1::val1 is equal to SE2::val1\" &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1091, "favorite_count": 0, "closed_date": 1480540693, "answer_count": 1, "score": 1, "last_activity_date": 1480534661, "creation_date": 1480523843, "question_id": 40893579, "link": "https://stackoverflow.com/questions/40893579/why-am-i-getting-no-warning-for-enum-comparison-mismatch", "closed_reason": "Duplicate", "title": "Why am I getting no warning for enum comparison mismatch?", "body": "<p>Consider this code:</p>\n\n<pre><code>typedef enum Type1\n{\n    val11,\n    val12\n} Type1;\n\ntypedef enum Type2\n{\n    val21,\n    val22\n} Type2;\n\nType1 type1 = val11;\nif ( type1 == val22 )\n    std::cout &lt;&lt; \"foo\";\n</code></pre>\n\n<p>Visual Studio 2015 does not issue any warning (even with /Wall). However <code>type1</code> and <code>val22</code> are not of the same type. Is that normal or is it a Visual Studio bug?</p>\n"}, {"tags": ["c#", "c++", "zeromq"], "comments": [{"owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "edited": false, "score": 0, "creation_date": 1480532354, "post_id": 40893563, "comment_id": 69006073, "body": "What does the <code>&#39;@&#39;</code> character do? I don&#39;t have that in my code."}, {"owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "edited": false, "score": 0, "creation_date": 1480532760, "post_id": 40893563, "comment_id": 69006305, "body": "Ah I see, it makes the string literal. So it cannot use the escape character <code>&#39;\\&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 772, "user_id": 5396416, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/24f8a9d61dc2a26e2954841a20c74c95?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/5396416/stephen-ross"}, "edited": false, "score": 1, "creation_date": 1480582330, "post_id": 40896373, "comment_id": 69024927, "body": "Well just goes to show that I should pay attention to the full part of the documentation. I&#39;ve managed to resolve my issue by sending an empty message after I&#39;ve finished processing the received message. Thanks."}], "tags": [], "owner": {"reputation": 581, "user_id": 4262466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XhG84-oBmnI/AAAAAAAAAAI/AAAAAAAAAEo/GjZMY1zwcTY/photo.jpg?sz=128", "display_name": "ComradeJoecool", "link": "https://stackoverflow.com/users/4262466/comradejoecool"}, "is_accepted": true, "score": 4, "last_activity_date": 1480533206, "creation_date": 1480533206, "answer_id": 40896373, "question_id": 40893563, "link": "https://stackoverflow.com/questions/40893563/zeromq-recv-not-blocking/40896373#40896373", "title": "ZeroMq recv not blocking", "body": "<p>Your problem is that you cannot receive 2 requests in a row with the REQ-REP pattern. </p>\n\n<p>In the Request-Reply Pattern each request demands a reply. Your client needs to block until it receives a reply to its first request. Also, your server needs to reply to the requests before it services a new request.</p>\n\n<p>Here is a quote referring to your exact issue from the <a href=\"http://zguide.zeromq.org/page:all#toc10\" rel=\"nofollow noreferrer\">guide</a>.</p>\n\n<blockquote>\n  <p>The REQ-REP socket pair is in lockstep. The client issues zmq_send()\n  and then zmq_recv(), in a loop (or once if that's all it needs). Doing\n  any other sequence (e.g., sending two messages in a row) will result\n  in a return code of -1 from the send or recv call. Similarly, the\n  service issues zmq_recv() and then zmq_send() in that order, as often\n  as it needs to.</p>\n</blockquote>\n"}], "owner": {"reputation": 772, "user_id": 5396416, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/24f8a9d61dc2a26e2954841a20c74c95?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Ross", "link": "https://stackoverflow.com/users/5396416/stephen-ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 40896373, "answer_count": 1, "score": 1, "last_activity_date": 1480533206, "creation_date": 1480523817, "question_id": 40893563, "link": "https://stackoverflow.com/questions/40893563/zeromq-recv-not-blocking", "title": "ZeroMq recv not blocking", "body": "<p>I'm attempting to learn ZeroMq for  project at work although my background is in C#, and in the most simplest of tests I seem to have an issue where the <code>socket.recv(...)</code> call will block for the first received message, but after this throws an exception because the amount of data received is -1.</p>\n\n<p>Currently my 'server' is:</p>\n\n<pre><code>zmq::context_t context(1);\nzmq::socket_t socket(context, ZMQ_REP);\nsocket.bind(\"tcp://127.0.0.1:5555\");\n\nwhile (true)\n{\n    zmq::message_t message;\n    if (socket.recv(&amp;message))\n    {\n        auto str = std::string(static_cast&lt;char*&gt;(message.data()), message.size());\n        printf(\"Receieved: %s\\n\", str.c_str());\n    }\n}\n</code></pre>\n\n<p>This is basically from following the first example server within the ZeroMq documentation.</p>\n\n<p>I'm pushing <strong>1</strong> bit of data from a C# 'client' using this code:</p>\n\n<pre><code>using (var context = new ZContext())\nusing (var requester = new ZSocket(context, ZSocketType.REQ))\n{\n    requester.Connect(@\"tcp://127.0.0.1:5555\");\n    requester.Send(new ZFrame(@\"hello\"));\n\n    requester.Disconnect(@\"tcp://127.0.0.1:5555\");\n}\n</code></pre>\n\n<p>Now I start the server, then start the client. I correctly receive the first message and I am correctly able to print this.\nBut now when I hit <code>socket.recv(&amp;message)</code> again the code won't block but will instead throw an exception because the underlying <code>zmq_msg_recv(...)</code> returns a value of -1.</p>\n\n<p>I'm unsure why this is occurring, I cannot see why it is expecting another message as I know that there is nothing else on this port. The only thing I came across is calling <code>zmq_msg_close(...)</code> but this should be called as part of the <code>message_t</code> destructor, which I have confirmed.</p>\n\n<p>Is there anything I'm doing wrong in terms of the socket setup or how I'm using it for the <code>recv(...)</code> call to stop blocking?</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7231949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80284af5abea169dda20a80a8b6325e2?s=128&d=identicon&r=PG&f=1", "display_name": "Marie-Lynn Issa", "link": "https://stackoverflow.com/users/7231949/marie-lynn-issa"}, "edited": false, "score": 0, "creation_date": 1480832765, "post_id": 40893662, "comment_id": 69121651, "body": "Thank you for your help. I will fix the problem by using the solutions you provided me with."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 3, "last_activity_date": 1480524082, "creation_date": 1480524082, "answer_id": 40893662, "question_id": 40893555, "link": "https://stackoverflow.com/questions/40893555/beginners-q-on-compiler-errors/40893662#40893662", "title": "Beginner&#39;s Q on Compiler Errors", "body": "<p>I am answering this question because it could be a canonical case of completely broken code. Here are the errors:</p>\n\n<p><code>using namespace std;</code> &lt;-- one should never do this.</p>\n\n<p><code>main ()</code> &lt;-- a prototype for <code>main</code> is <code>int main()</code> or <code>int main(int, char* [])</code></p>\n\n<p><code>float a, b, c, D, x1, x2, x;</code> &lt;-- do not get in habit of declaring all variables 'in advance'. Instead, declare them as you need them.</p>\n\n<p><code>else if (D=0)</code> &lt;--- this is not what you wanted to do. You assigned 0 do D. You wanted to compare them, so use <code>if (D == 0)</code></p>\n\n<p><code>else (D&lt;0)</code> &lt;-- missing <code>if</code>. Should be <code>else if (D &lt; 0)</code></p>\n\n<p><code>{x= -b/(2*a);</code> &lt;-- this is just a terrible style. Do not put other statements after opening brace unless the body is a single line, and in this case close the brace in the very same line.</p>\n\n<p>And everywhere - format your code properly, like a text.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7231949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80284af5abea169dda20a80a8b6325e2?s=128&d=identicon&r=PG&f=1", "display_name": "Marie-Lynn Issa", "link": "https://stackoverflow.com/users/7231949/marie-lynn-issa"}, "edited": false, "score": 0, "creation_date": 1480832708, "post_id": 40893842, "comment_id": 69121644, "body": "Thank you, I&#39;ll take your points into consideration and try to improve my work."}], "tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": false, "score": 0, "last_activity_date": 1480524571, "creation_date": 1480524571, "answer_id": 40893842, "question_id": 40893555, "link": "https://stackoverflow.com/questions/40893555/beginners-q-on-compiler-errors/40893842#40893842", "title": "Beginner&#39;s Q on Compiler Errors", "body": "<p>It's here:</p>\n\n<pre><code>else (D&lt;0)\n</code></pre>\n\n<p>The compiler is upset because it wanted a body for the <code>else</code>, and you didn't provide one.</p>\n\n<p>The syntax is </p>\n\n<pre><code>if (condition)\n{\n\n}\nelse\n{\n\n}\n</code></pre>\n\n<p>You don't need to tell the compiler what the \"else\" condition is; it's when <code>condition</code> is false.</p>\n"}], "owner": {"reputation": 1, "user_id": 7231949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80284af5abea169dda20a80a8b6325e2?s=128&d=identicon&r=PG&f=1", "display_name": "Marie-Lynn Issa", "link": "https://stackoverflow.com/users/7231949/marie-lynn-issa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480531205, "creation_date": 1480523799, "last_edit_date": 1480531205, "question_id": 40893555, "link": "https://stackoverflow.com/questions/40893555/beginners-q-on-compiler-errors", "title": "Beginner&#39;s Q on Compiler Errors", "body": "<p>I am very new to programming and coding so I am facing problems some of which I can't seem to understand. I've really looked for answers but in vain.</p>\n\n<p>The compiler mentioned 2 errors:</p>\n\n<blockquote>\n  <p>In function 'intmain()':</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>expected ';'before '{' token</p>\n</blockquote>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;math.h&gt;\nusing namespace std;\nmain ()\n{\n     float a, b, c, D, x1, x2, x;\n     cout&lt;&lt;\"enter the value of a :\";\n     cin&gt;&gt;a;\n     cout&lt;&lt;\"enter the value of b :\";\n     cin&gt;&gt;b;\n     cout&lt;&lt;\"enter the value of c :\";\n     cin&gt;&gt;c;\n     D= b*b-4*a*c;\n     if(D&gt;0)\n     {\n     x1= (-b-sqrt(D))/(2*a);\n     x2= (-b+sqrt(D))/(2*a);\n     cout&lt;&lt;\"the roots of the equation are\"&lt;&lt;x1&lt;&lt;\"and\"&lt;&lt;x2&lt;&lt;\" \\n\";\n     }\n     else if (D=0)\n     {x= -b/(2*a);\n     cout&lt;&lt;\"the double root of the equation is\"&lt;&lt;x&lt;&lt;\" \\n\";\n     }\n     else (D&lt;0)\n     {\n     cout&lt;&lt;\"no solution \\n:\";\n     }\n     system(\"pause\") ;\n     }\n</code></pre>\n"}, {"tags": ["c++", "c", "winapi"], "comments": [{"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "edited": false, "score": 1, "creation_date": 1480524143, "post_id": 40893539, "comment_id": 69001220, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb968803%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> . I&#39;ve worked with Microsoft&#39;s <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=44226\" rel=\"nofollow noreferrer\">Message Analyzer</a> before and it&#39;s functionality is built upon event tracing (just a quick plug, I&#39;m no fan of Microsoft, but that&#39;s a good tool for capturing IPv4 and IPv6 loopback traffic on Windows, among other things, if you need to do that). Not sure if Message Analyzer will display an event trace from any source."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1480538365, "post_id": 40893539, "comment_id": 69009222, "body": "<code>TraceMessage()</code> is part of the ETW (Event Tracing for Windows) API. Message Analyzer supports ETW sources, both from live events and saved log files."}, {"owner": {"reputation": 1887, "user_id": 1895684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fd5a7d6ac810a215f6b4262722a515?s=128&d=identicon&r=PG", "display_name": "toster-cx", "link": "https://stackoverflow.com/users/1895684/toster-cx"}, "edited": false, "score": 0, "creation_date": 1480596086, "post_id": 40893539, "comment_id": 69034026, "body": "Thanks for the tips! It seems it would work in most cases, unfortunately I&#39;m stuck on a legacy system still running XP :( Message Analyzer can be installed on W7+, remote analysis since W8.1. It seems the command line tool <code>logman</code> should be able to do the same thing. Trying to get it running atm."}], "owner": {"reputation": 1887, "user_id": 1895684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fd5a7d6ac810a215f6b4262722a515?s=128&d=identicon&r=PG", "display_name": "toster-cx", "link": "https://stackoverflow.com/users/1895684/toster-cx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480537993, "creation_date": 1480523752, "last_edit_date": 1480537993, "question_id": 40893539, "link": "https://stackoverflow.com/questions/40893539/capture-tracemessage-output", "title": "Capture TraceMessage output", "body": "<p>I'm debugging an old closed-source library. I'm seeing lots of useful calls to <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364139.aspx\" rel=\"nofollow noreferrer\"><code>TraceMessage</code></a> with debug information when functions fail.</p>\n\n<p>I've never heard of this \"Event Tracing\" that MSDN speaks of. Are there any tools that can capture these messages, or dump them to a log file? They seem to be meant for debugging, but I can't make any sense of the docs.</p>\n\n<p>As a last resort, I plan to hook the function and write a custom dumper, but that is a lot of work. Surely there must be an easier way?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 6, "creation_date": 1480523742, "post_id": 40893508, "comment_id": 69000937, "body": "Youre returning a pointer to a local variable, this is UB."}, {"owner": {"reputation": 74748, "user_id": 11343, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88b275413b9c23754103610c9e51b394?s=128&d=identicon&r=PG", "display_name": "CharlesB", "link": "https://stackoverflow.com/users/11343/charlesb"}, "edited": false, "score": 0, "creation_date": 1480523761, "post_id": 40893508, "comment_id": 69000949, "body": "Can you put some effort in formatting your code?"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480523989, "post_id": 40893508, "comment_id": 69001111, "body": "use a vector of floats and return that"}, {"owner": {"reputation": 101, "user_id": 7231968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1211322072282009/picture?type=large", "display_name": "SunAns", "link": "https://stackoverflow.com/users/7231968/sunans"}, "edited": false, "score": 0, "creation_date": 1480524050, "post_id": 40893508, "comment_id": 69001157, "body": "by local variable you mean the <code>fun_array</code> ? How"}, {"owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "edited": false, "score": 0, "creation_date": 1480524073, "post_id": 40893508, "comment_id": 69001173, "body": "Yep SunAns, if you&#39;re not using <code>clang-format</code>, drop what you&#39;re doing and set up <code>clang-format</code> on your system. It. will. change. your. life. ;)"}, {"owner": {"reputation": 101, "user_id": 7231968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1211322072282009/picture?type=large", "display_name": "SunAns", "link": "https://stackoverflow.com/users/7231968/sunans"}, "edited": false, "score": 0, "creation_date": 1480524154, "post_id": 40893508, "comment_id": 69001223, "body": "Don&#39;t know whats that honestly"}, {"owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "edited": false, "score": 0, "creation_date": 1480524378, "post_id": 40893508, "comment_id": 69001396, "body": "<code>clang-format</code> is a tool which will automatically format your code to a style you specify. Here&#39;s an online demo - paste some code into that. <a href=\"http://format.krzaq.cc/\" rel=\"nofollow noreferrer\">format.krzaq.cc</a>"}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1480523900, "post_id": 40893586, "comment_id": 69001045, "body": "This answer should be replaced with dots due to plagiarism issue."}, {"owner": {"reputation": 101, "user_id": 7231968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1211322072282009/picture?type=large", "display_name": "SunAns", "link": "https://stackoverflow.com/users/7231968/sunans"}, "edited": false, "score": 0, "creation_date": 1480524192, "post_id": 40893586, "comment_id": 69001256, "body": "^Dude keep the mean comments to yourself or just answer me"}, {"owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "reply_to_user": {"reputation": 101, "user_id": 7231968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1211322072282009/picture?type=large", "display_name": "SunAns", "link": "https://stackoverflow.com/users/7231968/sunans"}, "edited": false, "score": 0, "creation_date": 1480524723, "post_id": 40893586, "comment_id": 69001638, "body": "See the updated answer. @SunAns"}, {"owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1480524848, "post_id": 40893586, "comment_id": 69001720, "body": "You too. Consider adding dots if you want. (and possibly upvoting too) :) @Slava"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1480525101, "post_id": 40893586, "comment_id": 69001871, "body": "@Jarvis I cannot, sorry. Nothing personal but I consider upvoting answers to extremely low quality questions as support to that questions as well."}], "tags": [], "owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "is_accepted": true, "score": 1, "last_activity_date": 1480524652, "last_edit_date": 1480524652, "creation_date": 1480523865, "answer_id": 40893586, "question_id": 40893508, "link": "https://stackoverflow.com/questions/40893508/array-return-issue/40893586#40893586", "title": "Array return issue", "body": "<p>You are returning <code>pointer</code> to a temporary, local variable (which causes undefined behaviour), allocated on a stack, which gets deallocated when the function returns. It's better if you create an <code>array</code> first and then pass it to the above function.</p>\n\n<p>Or, an <em>unpreferable, dangerous</em>, method can be to allocate memory on the heap to the <code>decisions</code> array inside the function, to reserve non-local memory :</p>\n\n<pre><code>float *decisions = malloc(17*sizeof(float));\n</code></pre>\n\n<p>But then, you need to deallocate (<code>free()</code>) the memory allocated using <code>malloc()</code>, otherwise, there will be a memory leak.</p>\n"}], "owner": {"reputation": 101, "user_id": 7231968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1211322072282009/picture?type=large", "display_name": "SunAns", "link": "https://stackoverflow.com/users/7231968/sunans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1480524241, "accepted_answer_id": 40893586, "answer_count": 1, "score": -1, "last_activity_date": 1480524652, "creation_date": 1480523663, "last_edit_date": 1480524465, "question_id": 40893508, "link": "https://stackoverflow.com/questions/40893508/array-return-issue", "closed_reason": "Duplicate", "title": "Array return issue", "body": "<p>I've made a tree class and a global function. I have made an array in the Tree class function 'insert' which is initialized using another array 'returned' from the global function. The array returned from the global function works fine within that function, however, it gives garbage values upon being assigned to the array(required array) inside the 'insert' function.</p>\n\n<p>Here's the code \n(Isn't full due to plagiarism issue)</p>\n\n<pre><code>float *func_calc(...,...,...,...)\n{\n    float decisions[17] = { 0 };\n    ....\n    .......\n    ......... // Put Values into the 'decisions' array\n    return decisions;\n}\n\nclass Tree\n{\n    ..\n    ....\n    .....\n\n    insert(...,...,...,...)\n    {\n    ....\n    float* fun_array = new float[17];\n    float min_num = 0;\n    for (int i = 1; i &lt;= 6; i++)\n    {\n        if (i == 1)\n        {\n            fun_array = func_calc(...,...,...,...); // same arguments as the    insert function arguments\n            min_num = fun_array[0];\n        }\n        else\n        {\n            fun_array = entropy(i, array, arraysize, rD);\n            float num = entfun_array[0];\n            if (num  &lt; min_ent)\n            {\n                min_num = num ;\n            }\n        }\n    }\n}\n};\n\nint main()\n{\n   Tree T1;\n   T1.insert(... , ... , ..., ... );\n}\n</code></pre>\n"}, {"tags": ["c++", "vector", "odeint"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1480531012, "post_id": 40893464, "comment_id": 69005325, "body": "Unclear. This is the problematic line: <code>x[4] = car.x_init4;</code>?"}, {"owner": {"reputation": 11, "user_id": 7092198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/282fce7d69ede4fcdc2f867babe6d802?s=128&d=identicon&r=PG&f=1", "display_name": "cl40", "link": "https://stackoverflow.com/users/7092198/cl40"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1480531501, "post_id": 40893464, "comment_id": 69005597, "body": "Yes, but it should be &#39;x[3]&#39;. I have corrected that but still am receiving the subscript error."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1480531946, "post_id": 40893464, "comment_id": 69005855, "body": "Dang. So much for the easy problem. Nothing obvious left. Have to ask for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That said, if you put a breakpoint on <code>x[3] = car.x_init4;</code> and step in when the program hits the breakpoint you may get more useful information."}, {"owner": {"reputation": 11, "user_id": 7092198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/282fce7d69ede4fcdc2f867babe6d802?s=128&d=identicon&r=PG&f=1", "display_name": "cl40", "link": "https://stackoverflow.com/users/7092198/cl40"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1480532176, "post_id": 40893464, "comment_id": 69005982, "body": "I figured it out. The new error is coming from the fact that when I ported the ODEs from MATLAB, the states were defined as x[1]-x[4] (the equations in the ODE class body). Here they need to be defined as x[0]-x[3]."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1480532609, "post_id": 40893464, "comment_id": 69006223, "body": "Nice of Microsoft to give you the subscript error. All the C++ standard guarantees is Undefined Behaviour."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7092198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/282fce7d69ede4fcdc2f867babe6d802?s=128&d=identicon&r=PG&f=1", "display_name": "cl40", "link": "https://stackoverflow.com/users/7092198/cl40"}, "is_accepted": false, "score": 1, "last_activity_date": 1480532286, "creation_date": 1480532286, "answer_id": 40896102, "question_id": 40893464, "link": "https://stackoverflow.com/questions/40893464/vector-subscript-mismatch-with-odeint-c/40896102#40896102", "title": "Vector subscript mismatch with odeint (C++)", "body": "<p>Error due to subscript in actual ODE eqtns - must start at x[0] and end at x[3]. Error has been solved by modifying the equations</p>\n"}], "owner": {"reputation": 11, "user_id": 7092198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/282fce7d69ede4fcdc2f867babe6d802?s=128&d=identicon&r=PG&f=1", "display_name": "cl40", "link": "https://stackoverflow.com/users/7092198/cl40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480532286, "creation_date": 1480523533, "last_edit_date": 1480531411, "question_id": 40893464, "link": "https://stackoverflow.com/questions/40893464/vector-subscript-mismatch-with-odeint-c", "title": "Vector subscript mismatch with odeint (C++)", "body": "<p>I am implementing ODE to solve for four coupled equations, and am running into issue with the definition of my state vector. I am following the example here for reference (<a href=\"https://www.codeproject.com/articles/268589/odeint-v-solving-ordinary-differential-equations\" rel=\"nofollow noreferrer\">https://www.codeproject.com/articles/268589/odeint-v-solving-ordinary-differential-equations</a>); as I said the only difference between my code and this one is the actual definition of the equations, and that I need a vector with 4 elements, instead of 3.</p>\n\n<p>My code is as follows (the values of mass, inertia, etc. defined in the equations is based on user input from another class); I have not yet added an observer to push-back the results, as I want to get this working first.\nVector state definition:</p>\n\n<pre><code>typedef std::vector&lt; double &gt;state_type;\n</code></pre>\n\n<p>Coupled ODE class:</p>\n\n<pre><code>class coupledODE : public Vehicle, public Road\n{\n    public:\n        void operator()(state_type &amp;x, state_type &amp;dxdt, double t)\n        {\n            dxdt[0] = x[2];\n            dxdt[1] = (1 / mass)*(-(damping_f + damping_r)*x[2] - (stiffness_f + stiffness_r)*x[1] - (damping_r*rearLength - damping_f*frontLength)*x[4] - (stiffness_r*rearLength - stiffness_f*frontLength)*x[3] + stiffness_f*A*sin((radFreq)*t) + stiffness_r*A*sin((radFreq)*t - (2 * pi*(frontLength + rearLength)) / L));\n            dxdt[3] = x[4];\n            dxdt[4] = (1 / inertia)*(-(damping_f*pow(frontLength, 2) + damping_r*pow(rearLength, 2))*x[4] - (stiffness_f*pow(frontLength, 2) + stiffness_r*pow(rearLength, 2))*x[3] - (stiffness_r*rearLength - stiffness_f*frontLength)*x[2] - (stiffness_r*rearLength - stiffness_f*frontLength)*x[1] + stiffness_r*rearLength*A*sin((radFreq)*t - (2 * pi*(rearLength + frontLength)) / L) - stiffness_f*frontLength*A*sin((radFreq)*t));\n        }\n};\n</code></pre>\n\n<p>Call in main:</p>\n\n<pre><code>state_type x(4);\nx[0] = car.x_init1;\nx[1] = car.x_init2;\nx[2] = car.x_init3;\nx[3] = car.x_init4;\n\nconst double timeStep = car.dt;\ndouble tStart = car.t0;\ndouble t = tStart;\ndouble tEnd = car.tf;\n\n// Initialize odeint\nrunge_kutta4&lt;state_type&gt;rk4;\nfor (size_t i = 0; i &lt; (tStart - tEnd) / timeStep; ++i, t += timeStep)\n{\n    rk4.do_step(coupledODE(), x, t, timeStep);\n}\n</code></pre>\n\n<p>The code compiles fine when I build it in MSVS '15, but when I run it, I get an exception at the line defining the initial value of <code>x[3]</code>. This exact format works fine for 3 coupled equations, so I'm at a bit of a loss for what's causing an issue with the fourth element.</p>\n"}, {"tags": ["c++", "char", "byte", "unsigned-integer", "endianness"], "answers": [{"tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": false, "score": 0, "last_activity_date": 1480526331, "creation_date": 1480526331, "answer_id": 40894402, "question_id": 40893352, "link": "https://stackoverflow.com/questions/40893352/c-convert-char-from-network-to-host-order-and-assign-to-unsigned-int/40894402#40894402", "title": "C++ convert char[] from network to host order and assign to unsigned int", "body": "<p>Guess your <code>char</code> type is signed, so it can contain negative values. Those don't convert well to <code>unsigned int</code>.</p>\n\n<p>You might want to use <code>unsigned char</code> for your buffer type. </p>\n"}], "owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480526331, "creation_date": 1480523240, "question_id": 40893352, "link": "https://stackoverflow.com/questions/40893352/c-convert-char-from-network-to-host-order-and-assign-to-unsigned-int", "title": "C++ convert char[] from network to host order and assign to unsigned int", "body": "<p>I have an array of characters that are in network byte order. I'm trying to convert the characters stored in indices [4-7] into host order and assign it to an unsigned int. I have the following function:</p>\n\n<pre><code>unsigned int parse_num_bytes(char buf[]){ \n  unsigned int num_bytes = ((unsigned int)buf[7] &lt;&lt; 24) | ((unsigned int)buf[6] &lt;&lt; 16) | ((unsigned int)buf[5] &lt;&lt; 8) | (unsigned int)buf[4];\n  return num_bytes;\n}\n</code></pre>\n\n<p>From GDB (acutally LLDB because I'm on a mac) I can see that the operation generates the correct result, but after assignment, the value is wrong:</p>\n\n<pre><code>   81\n   82   unsigned int parse_num_bytes(char buf[]){\n   83     unsigned int num_bytes = ((unsigned int)buf[7] &lt;&lt; 24) | ((unsigned int)buf[6] &lt;&lt; 16) | ((unsigned int)buf[5] &lt;&lt; 8) | (unsigned int)buf[4];\n-&gt; 84     return num_bytes;\n   85   }\n(lldb) p num_bytes\n(unsigned int) $0 = 4294967170\n(lldb) p ((unsigned int)buf[7] &lt;&lt; 24) | ((unsigned int)buf[6] &lt;&lt; 16) | ((unsigned int)buf[5] &lt;&lt; 8) | (unsigned int)buf[4]\n(unsigned int) $1 = 2434\n</code></pre>\n\n<p>For clarification, <code>2434</code> is the correct value. </p>\n\n<p>Here is where I generate the network ordering (in a server application):</p>\n\n<pre><code>return_buf[4] = index &amp; 0xff;\nreturn_buf[5] = (index &gt;&gt; 8) &amp; 0xff;\nreturn_buf[6] = (index &gt;&gt; 16) &amp; 0xff;\nreturn_buf[7] = (index &gt;&gt; 24) &amp; 0xff;\n</code></pre>\n\n<p>And from GDB I can show you the value of index (it's an <code>unsigned int</code>)</p>\n\n<pre><code>   142    return_buf[4] = index &amp; 0xff;\n   143    return_buf[5] = (index &gt;&gt; 8) &amp; 0xff;\n   144    return_buf[6] = (index &gt;&gt; 16) &amp; 0xff;\n-&gt; 145    return_buf[7] = (index &gt;&gt; 24) &amp; 0xff;\n   146\n   147    in_file.close();\n   148    Rio_writen(connfd, return_buf, MAXLINE);\n(lldb) p index\n(unsigned int) $0 = 2434\n</code></pre>\n"}, {"tags": ["c++", "header-files"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1480523196, "post_id": 40893306, "comment_id": 69000574, "body": "Move <code>int ATM::accountID = 0;</code> into the .cpp file"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7231637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9526b4bd30f5f4eea6bc84aa452e20?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin Smith", "link": "https://stackoverflow.com/users/7231637/dustin-smith"}, "edited": false, "score": 0, "creation_date": 1480524287, "post_id": 40893460, "comment_id": 69001326, "body": "If I do not #include the header into The BankATM.cpp file it says &quot;identifier not found&quot; on ATM."}, {"owner": {"reputation": 3, "user_id": 7231637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9526b4bd30f5f4eea6bc84aa452e20?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin Smith", "link": "https://stackoverflow.com/users/7231637/dustin-smith"}, "edited": false, "score": 0, "creation_date": 1480524412, "post_id": 40893460, "comment_id": 69001426, "body": "If I put the code into ATM.cpp doesn&#39;t that mean I have to #include ATM.cpp into BankATM.cpp which would couuse the compiler to unneedingly copy code over."}, {"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "reply_to_user": {"reputation": 3, "user_id": 7231637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9526b4bd30f5f4eea6bc84aa452e20?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin Smith", "link": "https://stackoverflow.com/users/7231637/dustin-smith"}, "edited": false, "score": 0, "creation_date": 1480524885, "post_id": 40893460, "comment_id": 69001743, "body": "@DustinSmith, I updated my answer."}], "tags": [], "owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "is_accepted": true, "score": 0, "last_activity_date": 1480524760, "last_edit_date": 1480524760, "creation_date": 1480523525, "answer_id": 40893460, "question_id": 40893306, "link": "https://stackoverflow.com/questions/40893306/how-do-i-work-with-these-classes/40893460#40893460", "title": "How do I work with these classes?", "body": "<p>Because <code>ATM::accountID</code> is declared in a <code>.h</code> file, outside of a class, it is globally declared every time that file is included in another file.  You include it twice; in <code>main.cpp</code> and in <code>ATM.cpp</code>.  That's a no-no.</p>\n\n<p>The declaration needs to move to <code>ATM.cpp</code></p>\n\n<pre><code>//ATM.h\n #include \"stdafx.h\"\n #ifndef atm\n#define atm\nclass ATM {\n    static int accountID;\n\npublic:\n    ATM();\n};\nint ATM::accountID = 0;   // &lt;--- remove this line\n#endif\n\n\n//ATM.cpp\n#include \"stdafx.h\"\n#include \"ATM.h\"\n#include &lt;iostream&gt;\nint ATM::accountID = 0;   // &lt;----put it here\nATM::ATM() {\n    ++accountID;\n    std::cout &lt;&lt; accountID;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7231637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9526b4bd30f5f4eea6bc84aa452e20?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin Smith", "link": "https://stackoverflow.com/users/7231637/dustin-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "closed_date": 1480524702, "accepted_answer_id": 40893460, "answer_count": 1, "score": 0, "last_activity_date": 1480524760, "creation_date": 1480523095, "last_edit_date": 1480523148, "question_id": 40893306, "link": "https://stackoverflow.com/questions/40893306/how-do-i-work-with-these-classes", "closed_reason": "Duplicate", "title": "How do I work with these classes?", "body": "<p>I am new to C++ and I am trying to start a project where every time I create a new instance of the ATM class it incements accountID by 1 and displays the current account ID.\nThis is my code:</p>\n\n<pre><code>// Bank ATM.cpp : Defines the entry point for the console application.\n#include \"stdafx.h\"\n#include \"ATM.h\"\n\n\nint main()\n{\n    ATM abunch[15];\n    for (int i = 0; i &lt; 15; i++){\n        abunch[i] = ATM();\n    }\n    return 0;\n}\n\n\n//ATM.h\n #include \"stdafx.h\"\n #ifndef atm\n#define atm\nclass ATM {\n    static int accountID;\n\npublic:\n    ATM();\n};\nint ATM::accountID = 0;\n#endif\n\n\n//ATM.cpp\n#include \"stdafx.h\"\n#include \"ATM.h\"\n#include &lt;iostream&gt;\nATM::ATM() {\n    ++accountID;\n    std::cout &lt;&lt; accountID;\n}\n</code></pre>\n\n<p>I get The following error message:\n<a href=\"https://i.stack.imgur.com/vEUuz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vEUuz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "bash", "windows-10"], "comments": [{"owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "edited": false, "score": 0, "creation_date": 1480523918, "post_id": 40893203, "comment_id": 69001054, "body": "Welcome to Stack Overflow! Please attach your code."}, {"owner": {"reputation": 1, "user_id": 7231878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8d19922ce430f295413bb5eb7ab760?s=128&d=identicon&r=PG&f=1", "display_name": "eodj", "link": "https://stackoverflow.com/users/7231878/eodj"}, "reply_to_user": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "edited": false, "score": 0, "creation_date": 1480525338, "post_id": 40893203, "comment_id": 69002029, "body": "@Danra the code is only this line, I was just testing it."}, {"owner": {"reputation": 1, "user_id": 7231878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8d19922ce430f295413bb5eb7ab760?s=128&d=identicon&r=PG&f=1", "display_name": "eodj", "link": "https://stackoverflow.com/users/7231878/eodj"}, "reply_to_user": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 0, "creation_date": 1480525373, "post_id": 40893203, "comment_id": 69002055, "body": "@Aserre oh damn, I didnt find this thread. Thanks a lot. Yeah it is a duplicate of that problem."}, {"owner": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 0, "creation_date": 1480525543, "post_id": 40893203, "comment_id": 69002158, "body": "No problem. And unfortunatly for you, the gitHub link provided in the answer shows several bug reports for Valgrind, but no bugfix anounced so far."}], "owner": {"reputation": 1, "user_id": 7231878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8d19922ce430f295413bb5eb7ab760?s=128&d=identicon&r=PG&f=1", "display_name": "eodj", "link": "https://stackoverflow.com/users/7231878/eodj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "closed_date": 1480525454, "answer_count": 0, "score": 0, "last_activity_date": 1480522826, "creation_date": 1480522826, "last_edit_date": 1592644375, "question_id": 40893203, "link": "https://stackoverflow.com/questions/40893203/valgrind-on-bash-for-windows-10", "closed_reason": "Duplicate", "title": "Valgrind on bash for Windows 10", "body": "<p>I manage to install valgrind on bash for Win10 by compiling the package from the official site but I got this problem</p>\n<pre><code>char string[10000];\n</code></pre>\n<p>When I compile and run it, it's okay, it works just fine but whenever I use valgrind it crashed by saying</p>\n<blockquote>\n<p>Process terminating with default action of signal 11 (SIGSEGV): dumping core</p>\n<p>General Protection Fault at 0x400568: main (test.cpp:7)</p>\n</blockquote>\n<p>I guess it's somehow connected with stack and my question is how to fix this problem and if it's a stack problem how to increase the stack size value (ulimit says unlimited). Thanks for any help</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1480522784, "post_id": 40893127, "comment_id": 69000303, "body": "How about this: <a href=\"http://stackoverflow.com/questions/554063/how-do-i-print-a-double-value-with-full-precision-using-cout\" title=\"how do i print a double value with full precision using cout\">stackoverflow.com/questions/554063/&hellip;</a>"}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 5, "creation_date": 1480522919, "post_id": 40893127, "comment_id": 69000390, "body": "<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&#39;s make solutions way easier, and more reliable."}, {"owner": {"reputation": 7990, "user_id": 4806357, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KlW5A.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4806357/jarvis"}, "edited": false, "score": 1, "creation_date": 1480523066, "post_id": 40893127, "comment_id": 69000487, "body": "Please post your code."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480523147, "post_id": 40893127, "comment_id": 69000545, "body": "First, there is no guarantee that <code>long double</code> is larger than <code>double</code>. Second, whether you use <code>double</code> or <code>long double</code>, there are a finite number of them whereas there are uncountably many real numbers. So, some will not be representable in the chosen format."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6120464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XvqBO56chps/AAAAAAAAAAI/AAAAAAAAACk/4jZSigU__hk/photo.jpg?sz=128", "display_name": "Pietro Lazzarotto", "link": "https://stackoverflow.com/users/6120464/pietro-lazzarotto"}, "edited": false, "score": 0, "creation_date": 1483535420, "post_id": 40893428, "comment_id": 70134768, "body": "Your post was helpful but it covered only one test case. Now I found another case in which that happen and I can&#39;t understand why.        <code>&lt;2: 1.18973e+4932 1.18973e+4932 &gt;      Min: 5.94865e+4931   Max: 1.18973e+4932   Range: 5.94865e+4931   Midrange: 8.92298e+4931   Median: 2.97433e+4931   Mean: inf   Variance: inf   Std_deviation : inf  </code>.   here the second number is the first devided by 2 and since they&#39;re not equal the calculations are executed and the result overflows.  How would you solve it?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1480523423, "creation_date": 1480523423, "answer_id": 40893428, "question_id": 40893127, "link": "https://stackoverflow.com/questions/40893127/c-cout-prints-inf-after-operations-between-two-big-decimal-number-long-do/40893428#40893428", "title": "C++ cout prints &quot; inf &quot; after operations between two big decimal number (long double)", "body": "<p>Scaling <strong><em>might</em></strong> help depending on what the compiler chooses to do with your code:</p>\n\n<pre><code>$ cat s.cpp\n#include &lt;iostream&gt;\n\nint main()\n{\n    long double v = 1.18973e+4932L;\n\n    std::cout &lt;&lt; \"Midrange: \" &lt;&lt; (v + v) / 2 &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"Midrange again: \" &lt;&lt; (v/2 + v/2) &lt;&lt; '\\n';\n    return 0;\n}\n\n$ g++ s.cpp -Wall -O2 -o s\n\n$ ./s\nMidrange: inf\nMidrange again: 1.18973e+4932\n</code></pre>\n\n<p>You can also avoid calculating anything when the sample <code>min</code> and <code>max</code> are equal, and just set <em>mean</em>, <em>midrange</em> and <em>median</em> equal to either value, and <em>range</em>, <em>variance</em> and <em>standard deviation</em> to <code>0.0</code> without messing around any further.</p>\n"}], "owner": {"reputation": 33, "user_id": 6120464, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XvqBO56chps/AAAAAAAAAAI/AAAAAAAAACk/4jZSigU__hk/photo.jpg?sz=128", "display_name": "Pietro Lazzarotto", "link": "https://stackoverflow.com/users/6120464/pietro-lazzarotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 40893428, "answer_count": 1, "score": 1, "last_activity_date": 1480601190, "creation_date": 1480522637, "last_edit_date": 1480601190, "question_id": 40893127, "link": "https://stackoverflow.com/questions/40893127/c-cout-prints-inf-after-operations-between-two-big-decimal-number-long-do", "title": "C++ cout prints &quot; inf &quot; after operations between two big decimal number (long double)", "body": "<p>My program takes a vector of long doubles as input (<code>vector&lt;long double&gt;</code>) and calculates different solutions using some methods. </p>\n\n<p>Everything works fine until I try these two numbers: 1.18973e+4932 and 1.18973e+4932. </p>\n\n<p>It outputs the following:</p>\n\n<pre><code>&lt;2: 1.18973e+4932 1.18973e+4932 &gt;\n\nMin: 1.18973e+4932\nMax: 1.18973e+4932\nRange: 0\nMidrange: inf\nMedian: inf\nMean: inf\nVariance: inf\nStdVariance : inf\n</code></pre>\n\n<p>After some researches, I found out that the value is exceeding the space in memory available for its own type.</p>\n\n<p><strong>So the question is:</strong> is it possible to handle this inside my code? Or the only solution is to input a smaller number?</p>\n"}, {"tags": ["c++", "oop", "c++11"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1480523720, "post_id": 40893050, "comment_id": 69000921, "body": "That copy constructor looks really wrong, just setting a bunch of unused local variables."}, {"owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "edited": false, "score": 0, "creation_date": 1480524019, "post_id": 40893050, "comment_id": 69001138, "body": "Why don&#39;t you use <code>std::</code> container classes? Like <code>std::vector&lt;&gt;</code>?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1480524068, "post_id": 40893050, "comment_id": 69001171, "body": "If your school teaches you arrays and pointers and arrays of pointers that point to arrays and <code>new []</code>, and all this before <code>std::vector</code>, they are ripping you off."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480524288, "post_id": 40893050, "comment_id": 69001327, "body": "There are many problems in this code. I perhaps could try and point them all out but would it do any good? There are probably more problems in the code you didn&#39;t post."}, {"owner": {"reputation": 1, "user_id": 5769822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4147277890e0d3490f3cc3d4d81bf99f?s=128&d=identicon&r=PG", "display_name": "anGara", "link": "https://stackoverflow.com/users/5769822/angara"}, "edited": false, "score": 0, "creation_date": 1480524341, "post_id": 40893050, "comment_id": 69001368, "body": "The assignment commands us to use only and only arrays that are allocated dynamically"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480526227, "post_id": 40893050, "comment_id": 69002538, "body": "That&#39;s exactly the problem. Your assignment is being written by someone who is unable/unwilling to teach the right thing."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480531591, "post_id": 40893050, "comment_id": 69005648, "body": "Please refrain from &quot;thank you&quot; answers. Upvote all helpful answers, and accept the one most useful."}], "answers": [{"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 0, "last_activity_date": 1480524316, "creation_date": 1480524316, "answer_id": 40893746, "question_id": 40893050, "link": "https://stackoverflow.com/questions/40893050/dynamic-allocation-of-arrays/40893746#40893746", "title": "Dynamic Allocation of Arrays", "body": "<p>What about <code>flightPlan</code> in <code>Flight</code>?</p>\n\n<p>I see that is allocated in constructor</p>\n\n<pre><code>flightPlan = new char*[seatNo];\n</code></pre>\n\n<p>and that is copied in copy constructor</p>\n\n<pre><code>char** flightPlan = obj.flightPlan;\n</code></pre>\n\n<p>It's deleted in destructor?</p>\n\n<p>If so, when you translate a <code>Flight</code> from the old array to the new array coping it (there are a lot of better ways to do it, but I'm looking for your error now)</p>\n\n<pre><code>        Flight** tmparr = new Flight*[count + 1];\n\n        for (int i = 0; i &lt; count; i++) {\n            Flight *f = new Flight(*listOfFlights[i]);\n            tmparr[i] = f;\n        }\n\n        // ...\n\n        for (int i = 0; i &lt; count; i++) {\n            delete listOfFlights[i];\n        }\n</code></pre>\n\n<p>in new (copied) <code>Flight</code>s the pointers to <code>flightPlan</code> are pointing to a deleted area. Quite assured EXC_BAD_ACCESS when you use they.</p>\n\n<p>p.s.: extra suggestion: avoid, when possible, the direct use of allocated memory; consider the use of a <code>std::vector&lt;Fligth&gt;</code> for <code>listOfFlights</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1480526010, "last_edit_date": 1480526010, "creation_date": 1480525577, "answer_id": 40894171, "question_id": 40893050, "link": "https://stackoverflow.com/questions/40893050/dynamic-allocation-of-arrays/40894171#40894171", "title": "Dynamic Allocation of Arrays", "body": "<p>Problem 1:</p>\n\n<pre><code>            Flight *tmp = new Flight(flightNo, rowNo, seatNo); \n            Flight** tmparr = new Flight*[count + 1];\n\n            for (int i = 0; i &lt; count; i++) {\n            // ****\n            // **** You are trying to copy a flight. Why? You have an array of\n            // **** Flight pointers. You need to make a room for one more poniter. \n            // **** You can continue pointing at the same flights as before.\n            // **** You don't need an array of brand new flights.\n            // ****\n                Flight *f = new Flight(*listOfFlights[i]);  // &lt;---- WRONG\n                Flight *f = listOfFlights[i]; // &lt;------------------ BETTER\n                tmparr[i] = f;\n            }\n\n      // **** This is not needed any more\n      // ****\n      for (int i = 0; i &lt; count; i++) {\n            delete listOfFlights[i];\n        }\n</code></pre>\n\n<p>Problem 2:</p>\n\n<pre><code>            // ****\n            // **** Learn to count. There are count+1 elements in your new array.\n            // **** The first index is 0. The last index is count, not count+1.\n            // **** You did get it right in the count==0 case.\n            // **** \n            tmparr[count + 1] = tmp; //&lt;--- WRONG\n            tmparr[count] = tmp; // &lt;------ RIGHT\n</code></pre>\n\n<p>Problem 3</p>\n\n<pre><code>// ****\n// **** This copies nothing. It just creates and then forgets a bunch of local variables. \n// **** You probably don't need a copy constructor at all because \n// **** you don't need to copy flight any more.\n\nFlight::Flight(const Flight &amp;obj) {\n    const int flight = obj.flight;\n    const int row = obj.row;\n    const int available = obj.available;\n    char** flightPlan = obj.flightPlan;    \n}\n\n// **** Declare the copy constructor deleted instead.\n\nFlight::Flight(const Flight &amp;) = delete;\n\n// **** If they are making you to use an old compiler that doesn't understand delete here\n// **** Then do this instead:\n\nprivate: Flight(const Flight &amp;); // no implementation\n\n// **** You may want to do the same with the assignment operator\n\n// **** If you think do need a copy constructor for some reason, think again.\n\n// **** OK, if you still think you need a copy constructor,\n// **** make sure you DO NOT do this:\n\nflightPlan = obj.flightPlan\n\n// **** or an equivalent. You need a brand new copy of all of your arrays.\n// **** Also maje sure to define a copy assignment operator.\n// **** regardless, you need a destructor. Make sure you delete the arrays there.\n</code></pre>\n\n<p>Note, every single error here here could have been easily avoided by using <code>std::vector</code> instead of manually managed arrays.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5769822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4147277890e0d3490f3cc3d4d81bf99f?s=128&d=identicon&r=PG", "display_name": "anGara", "link": "https://stackoverflow.com/users/5769822/angara"}, "is_accepted": false, "score": 0, "last_activity_date": 1480528406, "creation_date": 1480528406, "answer_id": 40895044, "question_id": 40893050, "link": "https://stackoverflow.com/questions/40893050/dynamic-allocation-of-arrays/40895044#40895044", "title": "Dynamic Allocation of Arrays", "body": "<p>I apologize for asking such a silly question. The problem is finally solved. Apparently, deleting the pointers you had just copied is bad and can cause problems in your code.</p>\n\n<p>Thank you all for answering.</p>\n"}], "owner": {"reputation": 1, "user_id": 5769822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4147277890e0d3490f3cc3d4d81bf99f?s=128&d=identicon&r=PG", "display_name": "anGara", "link": "https://stackoverflow.com/users/5769822/angara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1480528406, "creation_date": 1480522391, "last_edit_date": 1480523527, "question_id": 40893050, "link": "https://stackoverflow.com/questions/40893050/dynamic-allocation-of-arrays", "title": "Dynamic Allocation of Arrays", "body": "<p>I'm trying to write a simple flight reservation system for my school assignment. I should dynamically create an array without determining a size. Since I have to keep track of the size of the array, I declared an integer variable named as count in my class. I also have a flight class that has a copy constructor and a couple of getters. Then I wrote the following method </p>\n\n<pre><code>void ReservationSystem::addFlight(const int flightNo, const int rowNo, const int seatNo) {\n    if (count == 0) {\n        Flight *tmp = new Flight(flightNo, rowNo, seatNo);\n        listOfFlights = new Flight*[count+1];\n        listOfFlights[count] = tmp;\n        count++;\n    } else {\n        bool check = true;\n        for (int i = 0; i &lt; count &amp;&amp; check; i++) {\n            if (listOfFlights[i]-&gt;getFlightNo() == flightNo) {\n                std::cout &lt;&lt; \"There is already a flight with that flight code\" &lt;&lt; std::endl;\n                check = false;\n            }\n        }\n\n        if (check) {\n            Flight *tmp = new Flight(flightNo, rowNo, seatNo);\n            Flight** tmparr = new Flight*[count + 1];\n\n            for (int i = 0; i &lt; count; i++) {\n                Flight *f = new Flight(*listOfFlights[i]);\n                tmparr[i] = f;\n            }\n\n            tmparr[count + 1] = tmp;\n\n            for (int i = 0; i &lt; count; i++) {\n                delete listOfFlights[i];\n            }\n\n            delete listOfFlights;\n            listOfFlights = tmparr;\n            count++;\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>I also have a <code>showFlight(const int flightCode)</code> method that shows the specific flight:</p>\n\n<pre><code>void ReservationSystem::showFlight(const int flightNo) {\n    bool check = true;\n    for (int i = 0; i &lt; count; i++) {\n        if (listOfFlights[i]-&gt;getFlightNo() == flightNo) {\n            std::cout &lt;&lt; \"Flight \" &lt;&lt; listOfFlights[i]-&gt;getFlightNo() &lt;&lt; \" has \" &lt;&lt; listOfFlights[i]-&gt;getAvailableSeats()  &lt;&lt; \" available seats\" &lt;&lt; std::endl;\n            listOfFlights[i]-&gt;printSeats();\n            check = false;\n        }\n    }\n}\n</code></pre>\n\n<p>This is my default constructor and copy constructor for the <code>Flight</code> class:</p>\n\n<pre><code>Flight::Flight(const int flightNo, const int rowNo, const int seatNo) {\n    flight = flightNo;\n    row = rowNo;\n    seat = seatNo;\n    available = rowNo * seatNo;\n    flightPlan = new char*[seatNo];\n\n    // initialize the flight plan to all seats available\n    for(int i = 0; i &lt; seatNo; ++i) flightPlan[i] = new char[rowNo];\n\n    for(int i = 0; i &lt; seatNo; ++i) {\n        for(int j = 0; j &lt; rowNo; ++j) flightPlan[i][j] = 'o';\n    }\n}\n\nFlight::Flight(const Flight &amp;obj) {\n    const int flight = obj.flight;\n    const int row = obj.row;\n    const int available = obj.available;\n    char** flightPlan = obj.flightPlan;\n\n}\n</code></pre>\n\n<p>But in the line <code>if (listOfFlights[i]-&gt;getFlightNo() == flightNo)</code> xcode gives me EXC_BAD_ACCESS error. I think the reason behind this is a malfunction in my <code>addFlight()</code> method, because since there is no objects the array points to something null, right? And since it can't reach to <code>getFlightNo()</code> method, it throws this error.</p>\n\n<p>Notice that this is my first time with C++, so I'm a complete n00b and I can be terribly mistaken. Any help would be greatly appreciated.</p>\n"}, {"tags": ["c++", "arrays", "pointers", "char", "strcpy"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1480522443, "post_id": 40893046, "comment_id": 69000042, "body": "<code>Denumire[i]</code> is a <code>char</code>. You need <code>&amp;Denumire[i]</code>."}, {"owner": {"reputation": 355, "user_id": 6194673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-7NIITuVcetA/AAAAAAAAAAI/AAAAAAAAABo/gR9j9BARous/photo.jpg?sz=128", "display_name": "Lame Fanello", "link": "https://stackoverflow.com/users/6194673/lame-fanello"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1480522753, "post_id": 40893046, "comment_id": 69000286, "body": "It doesnt work. Compiler is crashing."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1480523357, "post_id": 40893046, "comment_id": 69000693, "body": "I doubt the compiler crashed, please post updated code and past the exact error you are now getting"}, {"owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "edited": false, "score": 0, "creation_date": 1480523485, "post_id": 40893046, "comment_id": 69000775, "body": "agree with Johnny Mopp.  I have a lack of memory for operator precedence so I often add verbose parentheses to help myself as in &amp;(Denumire[i])"}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 6194673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-7NIITuVcetA/AAAAAAAAAAI/AAAAAAAAABo/gR9j9BARous/photo.jpg?sz=128", "display_name": "Lame Fanello", "link": "https://stackoverflow.com/users/6194673/lame-fanello"}, "edited": false, "score": 0, "creation_date": 1480523872, "post_id": 40893211, "comment_id": 69001023, "body": "Thank you! I have been programming only in C for a year and a half. I&#39;m still new to c++;"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1480523226, "last_edit_date": 1480523226, "creation_date": 1480522844, "answer_id": 40893211, "question_id": 40893046, "link": "https://stackoverflow.com/questions/40893046/invalid-conversion-from-char-to-const-char-while-using-strcpy/40893211#40893211", "title": "Invalid conversion from &#39;char&#39; to &#39;const char*&#39; while using strcpy", "body": "<p>In C array of char is a single string, so first of all your data types are wrong. You better use <code>std::string</code> which acts like a single string object:</p>\n\n<pre><code>class Carte\n{\nprotected:\n    std::string Denumire[50];\n    std::string Autor[50];\n    std::string Editura[50];\n    int AnPublicare[50];\n</code></pre>\n\n<p>then moving them whould be the same as for <code>int</code>:</p>\n\n<pre><code>std::string tmp;\ntmp = Denumire[i];\nDenumire[i] = Denumire[i+1];\nDenumire[i+1] = tmp;\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>std::swap( Denumire[i], Denumire[i+1] );\n</code></pre>\n\n<p>if you are limited to C types you have to create array of arrays of char to keep 50 strings.</p>\n"}, {"tags": [], "owner": {"reputation": 2220, "user_id": 6838526, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2AyH9wsYAa4/AAAAAAAAAAI/AAAAAAAAAEc/9bGwvIdJPDM/photo.jpg?sz=128", "display_name": "Joseph Ireland", "link": "https://stackoverflow.com/users/6838526/joseph-ireland"}, "is_accepted": false, "score": 1, "last_activity_date": 1480526793, "last_edit_date": 1480526793, "creation_date": 1480524515, "answer_id": 40893817, "question_id": 40893046, "link": "https://stackoverflow.com/questions/40893046/invalid-conversion-from-char-to-const-char-while-using-strcpy/40893817#40893817", "title": "Invalid conversion from &#39;char&#39; to &#39;const char*&#39; while using strcpy", "body": "<p>A <code>char</code> is just one character; you seem to be treating it like a full string. If you can, it is best to use <code>std::string</code> instead of <code>char*</code>, because they are much easier to use correctly.</p>\n\n<p>Also, I would recommend you group all of your elements into one <code>struct Book</code>. That way everything is together, and you can use existing STL sort algorithms, which will be faster.</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nstruct Book{\n    std::string Denumire;\n    std::string Autor;\n    std::string Editura;\n    int AnPublicare;\n};\n\nbool publisherLessThan(const Book&amp; a, const Book&amp; b) {\n    return a.AnPublicare &lt; b.AnPublicare;\n}\n\nclass Carte\n{\nprotected:\n    std::vector&lt;Book&gt; books;\npublic:\n    void Citire(int n)\n    {\n        books.clear();\n        for(int i=0;i&lt;n;i++)\n        {\n            Book book\n            cout&lt;&lt;\"Denumire: \"; cin&gt;&gt;book.Denumire; cout&lt;&lt;endl;\n            cout&lt;&lt;\"Autor: \"; cin&gt;&gt;book.Autor; cout&lt;&lt;endl;\n            cout&lt;&lt;\"Editura: \"; cin&gt;&gt;book.Editura; cout&lt;&lt;endl;\n            cout&lt;&lt;\"An Publicare: \"; cin&gt;&gt;book.AnPublicare; cout&lt;&lt;endl;\n            books.push_back(book);\n        }\n    }\n\n    void Afisare()\n    {\n        for(const Book&amp; book : books)\n        {\n            cout&lt;&lt;\"Denumire: \"&lt;&lt;book.Denumire&lt;&lt;endl;\n            cout&lt;&lt;\"Autor: \"&lt;&lt;book.Autor&lt;&lt;endl;\n            cout&lt;&lt;\"Editura: \"&lt;&lt;book.Editura&lt;&lt;endl;\n            cout&lt;&lt;\"An Publicare: \"&lt;&lt;book.AnPublicare&lt;&lt;endl&lt;&lt;endl;\n        }\n    }\n\n    void Sortare() {\n      std::sort(books.begin(), books.end(), publisherLessThan);\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 6194673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-7NIITuVcetA/AAAAAAAAAAI/AAAAAAAAABo/gR9j9BARous/photo.jpg?sz=128", "display_name": "Lame Fanello", "link": "https://stackoverflow.com/users/6194673/lame-fanello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 40893211, "answer_count": 2, "score": 0, "last_activity_date": 1480526793, "creation_date": 1480522366, "question_id": 40893046, "link": "https://stackoverflow.com/questions/40893046/invalid-conversion-from-char-to-const-char-while-using-strcpy", "title": "Invalid conversion from &#39;char&#39; to &#39;const char*&#39; while using strcpy", "body": "<p>Can't use strcpy, to properly swap char array. I used strncpy, memcpy everything and still didn't get the right result.</p>\n\n<p>This is how my program looks.</p>\n\n<pre><code>class Carte\n{\nprotected:\n    char Denumire[50];\n    char Autor[50];\n    char Editura[50];\n    int AnPublicare[50];\npublic:\n    void Citire(int n)\n    {\n        for(int i=0;i&lt;n;i++)\n        {\n            cout&lt;&lt;\"Denumire: \"; cin&gt;&gt;Denumire[i]; cout&lt;&lt;endl;\n            cout&lt;&lt;\"Autor: \"; cin&gt;&gt;Autor[i]; cout&lt;&lt;endl;\n            cout&lt;&lt;\"Editura: \"; cin&gt;&gt;Editura[i]; cout&lt;&lt;endl;\n            cout&lt;&lt;\"An Publicare: \"; cin&gt;&gt;AnPublicare[i]; cout&lt;&lt;endl;\n        }\n    }\n\n    void Afisare(int n)\n{\n    for(int i=0;i&lt;n;i++)\n    {\n        cout&lt;&lt;\"Denumire: \"&lt;&lt;Denumire[i]&lt;&lt;endl;\n        cout&lt;&lt;\"Autor: \"&lt;&lt;Autor[i]&lt;&lt;endl;\n        cout&lt;&lt;\"Editura: \"&lt;&lt;Editura[i]&lt;&lt;endl;\n        cout&lt;&lt;\"An Publicare: \"&lt;&lt;AnPublicare[i]&lt;&lt;endl&lt;&lt;endl;\n    }\n}\n</code></pre>\n\n<p>This where the problem is located.</p>\n\n<pre><code>void Sortare(int n)\n{\n  int ok,aux;\n  char *auxDen , *auxAt, *auxEd;\n     do{\n         ok=1;\n         for(int i=0;i&lt;n-1;i++)\n            if(AnPublicare[i]&gt;AnPublicare[i+1])\n            {\n                ok=0;\n                aux=AnPublicare[i];\n                AnPublicare[i]=AnPublicare[i+1];\n                AnPublicare[i+1]=aux;\n\n                strcpy(auxDen,Denumire[i]);\n                strcpy(Denumire[i],Denumire[i+1]);\n                strcpy(Denumire[i+1],auxDen);\n\n                strcpy(auxAt,Autor[i]);\n                strcpy(Autor[i],Autor[i+1]);\n                strcpy(Autor[i+1],auxAt);\n\n                strcpy(auxEd,Editura[i]);\n                strcpy(Editura[i],Editura[i+1]);\n                strcpy(Editura[i+1],auxEd);\n            }\n    }while(ok!=1);\n}\n};\n</code></pre>\n\n<p>How can make it work?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480522513, "post_id": 40893022, "comment_id": 69000095, "body": "Please learn the basic syntax of the language before doing esoteric stuff. <code>Invertebrate::setSkeletonType(Skeleton_Type skeletonType);</code> That&#39;s not how you call a function. <code>Skeleton_Type skeletonType</code> is a declaration. You cannot use a declaration as an actual function argument, it makes no sense. You need an expression. Try <code>Invertebrate::setSkeletonType(skeletonType);</code>"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1480522538, "post_id": 40893022, "comment_id": 69000117, "body": "Proper indentation would be nice."}, {"owner": {"reputation": 15, "user_id": 3023670, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39d1791ce7f016f50f08ae0a27860d43?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingKalamari", "link": "https://stackoverflow.com/users/3023670/flyingkalamari"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480522653, "post_id": 40893022, "comment_id": 69000210, "body": "thanks @n.m  Just not used to using enum types :("}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7093608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xQt0c.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7093608/kai"}, "is_accepted": false, "score": 0, "last_activity_date": 1480523171, "creation_date": 1480523171, "answer_id": 40893337, "question_id": 40893022, "link": "https://stackoverflow.com/questions/40893022/how-do-i-use-the-enum-type-from-a-class-in-another-part-of-code/40893337#40893337", "title": "How do I use the enum type from a class in another part of code?", "body": "<p>There are a handful of syntax issues with the code you've provided, but in the case of the specific error you've presented, this is because the call:</p>\n\n<pre><code>Invertebrate::setSkeletonType(Skeleton_Type skeletonType);\n</code></pre>\n\n<p>has the type of the argument in the parameter list; this line should simply read:</p>\n\n<pre><code>Invertebrate::setSkeletonType(skeletonType);\n</code></pre>\n\n<p>Further issues include no closing brace/semicolon at the end of your <code>Invertebrate</code> class declaration and no braces/semicolon enclosing the body of your <code>Spider</code> class. These may not be contributing to the error in question, but they're certainly going to cause compilation issues even if you fix the above.</p>\n"}], "owner": {"reputation": 15, "user_id": 3023670, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39d1791ce7f016f50f08ae0a27860d43?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingKalamari", "link": "https://stackoverflow.com/users/3023670/flyingkalamari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480523171, "creation_date": 1480522308, "question_id": 40893022, "link": "https://stackoverflow.com/questions/40893022/how-do-i-use-the-enum-type-from-a-class-in-another-part-of-code", "title": "How do I use the enum type from a class in another part of code?", "body": "<p>Been trying to use a polymorphic method to change a enum type from one class to another which is also protected.<br>\n37|error: expected primary-expression before 'skeletonType'. Do I have to declare another set of enumerated types?</p>\n\n<pre><code>    enum Skeleton_Type { NONE, HYDROSTATIC, EXOSKELETON };\n    class Invertebrate {\n      private:\n        string name;\n        Skeleton_Type skeletonType;\n      protected:\n        void setSkeletonType(Skeleton_Type skeletonType);\n    class Spider : public Invertebrate \n    void setSkeleton (Skeleton_Type skeletonType)\n    {\n  (37)          Invertebrate::setSkeletonType(Skeleton_Type skeletonType);\n        }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 14930, "user_id": 395718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f1323cdc2a70698b5275082bf6e61184?s=128&d=identicon&r=PG", "display_name": "Dialecticus", "link": "https://stackoverflow.com/users/395718/dialecticus"}, "edited": false, "score": 0, "creation_date": 1480522641, "post_id": 40892971, "comment_id": 69000202, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2125880/convert-float-to-stdstring-in-c\">Convert float to std::string in C++</a>"}, {"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "edited": false, "score": 0, "creation_date": 1480522791, "post_id": 40892971, "comment_id": 69000312, "body": "Welcome to SO.  Your post doesn&#39;t provide enough information to solicit constructive answers.  For example, you don&#39;t show how or where  <code>saveIntensityMap</code> is actually called, nor how or where <code>filename</code> is constructed. When asking a question about a problem caused by your code, you will get much better answers if you provide code people can use to reproduce the problem. See <a href=\"http://stackoverflow.com/help/mcve\">SO help here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 14930, "user_id": 395718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f1323cdc2a70698b5275082bf6e61184?s=128&d=identicon&r=PG", "display_name": "Dialecticus", "link": "https://stackoverflow.com/users/395718/dialecticus"}, "edited": false, "score": 0, "creation_date": 1480594310, "post_id": 40893192, "comment_id": 69032919, "body": "If going with <code>snprintf</code> then why not skip <code>std::string</code> altogether? <code>snprintf(.., &quot;%s_%.2f.txt&quot;,..)</code>"}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "reply_to_user": {"reputation": 14930, "user_id": 395718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f1323cdc2a70698b5275082bf6e61184?s=128&d=identicon&r=PG", "display_name": "Dialecticus", "link": "https://stackoverflow.com/users/395718/dialecticus"}, "edited": false, "score": 0, "creation_date": 1480607539, "post_id": 40893192, "comment_id": 69042130, "body": "@Dialecticus Because then you have to allocate memory by hand.  If <code>asprintf</code> is available, that&#39;s not a problem, but otherwise it&#39;s fiddly and easy to get wrong."}], "tags": [], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": true, "score": 2, "last_activity_date": 1480522782, "creation_date": 1480522782, "answer_id": 40893192, "question_id": 40892971, "link": "https://stackoverflow.com/questions/40892971/change-a-file-name-including-char-and-float/40893192#40893192", "title": "Change a file name including char and float", "body": "<p>This is not a silly question, and there's a <em>ton</em> of bad advice on this particular subject out there.</p>\n\n<p>First, to get the <code>ray_factor</code> into <code>saveIntensityMap</code>, simply pass it as another argument:</p>\n\n<pre><code>void IOFile::saveIntensityMap(const char* fileName,\n                              float ray_factor,\n                              vector&lt;float&gt;* intensityMap)\n{\n   ...\n}\n</code></pre>\n\n<p>Second, forget you ever heard of formatted iostreams output, it is enormously more trouble than it's worth.  (This is the part where there's lots of bad advice on the 'net.  I personally never use iostreams at all; I think the old-fashioned <code>&lt;stdio.h&gt;</code> API is a much more ergonomic interface.  Writing a floating-point number into a string with proper control over the output format is one of the things that iostreams are especially bad at.)</p>\n\n<p>To construct the filename you want, use <code>snprintf</code> to format the number and concatenation of <code>std::string</code> objects to assemble the name, like this:  (note that I am assuming the <code>fileName</code> argument to <code>saveIntensityMap</code> does <em>not</em> have the <code>.txt</code> extension already - it will probably be easier to change that than to take the string apart and put it back together; C++ is not really very good at strings)</p>\n\n<pre><code>char ray_factor_buf[10];\nsnprintf(ray_factor_buf, sizeof ray_factor_buf, \"%.2f\", ray_factor);\n\nstring full_filename = fileName;\nfull_filename += \"_\";\nfull_filename += ray_factor_buf;\nfull_filename += \".txt\";\n\nstd::ofstream file(full_filename, std::fstream::out|std::fstream::trunc);\n</code></pre>\n\n<p>If your C++ library has not yet been updated to C++11, that last line will need to be</p>\n\n<pre><code>std::ofstream file(full_filename.c_str(), std::fstream::out|std::fstream::trunc);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7231837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cebf2e4f221fd2a97cacc90b6758d9?s=128&d=identicon&r=PG&f=1", "display_name": "Emma010101", "link": "https://stackoverflow.com/users/7231837/emma010101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 40893192, "answer_count": 1, "score": 0, "last_activity_date": 1480522782, "creation_date": 1480522144, "question_id": 40892971, "link": "https://stackoverflow.com/questions/40892971/change-a-file-name-including-char-and-float", "title": "Change a file name including char and float", "body": "<p>I'm working on a C++ code, but I'm having some problems since I have never used this language before.</p>\n\n<p>The structure of my project (.pro) file contains different .ccp files, including:</p>\n\n<p><code>IOFile.cpp</code> : where the file name I want to change is;</p>\n\n<p><code>CModel.cpp</code> : where there is the model of my project and, particularly, the parameter (float), chosen by user each time, that I would like to use for my file name.</p>\n\n<p>So, for now the output name is something like: filename.txt, but I would like to rename it in order to obtain in somthing like filename_parameter.txt (for example: file_0.998.txt).</p>\n\n<p>The void of my <code>IOFile.cpp</code> is written like:</p>\n\n<pre><code>void IOFile::saveIntensityMap(const char* fileName, vector&lt;float&gt;* intensityMap)\n{\n   std::ofstream file(fileName, std::fstream::out|std::fstream::trunc);\n\n}\n</code></pre>\n\n<p>whereas the parameter (ray_factor) is initialized in the <code>CModel.cpp</code> file:</p>\n\n<pre><code>ray_factor= 0.99f\n</code></pre>\n\n<p>So, how could I pass the ray_factor, that is in <code>CModel</code>, to the <code>IOfile</code>? And how can I write a filename that includes a string and a float?\nSorry for the silly question, but I can't find a solution. </p>\n"}, {"tags": ["c++", "error-handling", "system-error"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 3617157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5937010ebfaaed35c5a0bba81fb357e?s=128&d=identicon&r=PG&f=1", "display_name": "mike ray", "link": "https://stackoverflow.com/users/3617157/mike-ray"}, "edited": false, "score": 0, "creation_date": 1480524367, "post_id": 40893600, "comment_id": 69001390, "body": "Thanks for the advice, I tried     __except (EXCEPTION_EXECUTE_HANDLER) same results as the other two.  I&#39;ve asked the 3rd party, but their time frames tend to be too long for fixes, which is why I had to handle their access violations to begin with."}, {"owner": {"reputation": 1221, "user_id": 2362474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eHH9d.jpg?s=128&g=1", "display_name": "Alex Vallejo", "link": "https://stackoverflow.com/users/2362474/alex-vallejo"}, "reply_to_user": {"reputation": 49, "user_id": 3617157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5937010ebfaaed35c5a0bba81fb357e?s=128&d=identicon&r=PG&f=1", "display_name": "mike ray", "link": "https://stackoverflow.com/users/3617157/mike-ray"}, "edited": false, "score": 0, "creation_date": 1480528196, "post_id": 40893600, "comment_id": 69003756, "body": "Do you have access to their symbols and source code? Would you be able to actually debug it on their end to figure out how the exception is happening? If the exception is never getting caught even with __except(EXCEPTION_EXECUTE_HANDLER) then my hunch is that the library is attempting to handle the exception so your code never actually gets it."}, {"owner": {"reputation": 49, "user_id": 3617157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5937010ebfaaed35c5a0bba81fb357e?s=128&d=identicon&r=PG&f=1", "display_name": "mike ray", "link": "https://stackoverflow.com/users/3617157/mike-ray"}, "edited": false, "score": 0, "creation_date": 1480528900, "post_id": 40893600, "comment_id": 69004183, "body": "unfortunately I don&#39;t have access.  I have a question out to their developers citing the behavior with the example record, and the version numbers from before/after the new behavior,  Sounds like I might be stuck until I hear back.  Thank you for your help."}], "tags": [], "owner": {"reputation": 1221, "user_id": 2362474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eHH9d.jpg?s=128&g=1", "display_name": "Alex Vallejo", "link": "https://stackoverflow.com/users/2362474/alex-vallejo"}, "is_accepted": false, "score": 0, "last_activity_date": 1480523902, "creation_date": 1480523902, "answer_id": 40893600, "question_id": 40892948, "link": "https://stackoverflow.com/questions/40892948/how-to-trap-an-error-in-c-when-try-except-cant/40893600#40893600", "title": "How to trap an error in C++ when __try __except can&#39;t", "body": "<p>Just a friendly FYI, the first expression in your exception filter <code>eps = GetExceptionInformation()</code> appears to be unused.</p>\n\n<p>Also, if you want to catch all exceptions then <code>__except (EXCEPTION_EXECUTE_HANDLER)</code> should be all you need. Although I would only recommend that for debugging purposes.</p>\n\n<p>If this does not catch your exception, it is possible that the library is trying to handle the exception itself and something funky is going on in the library itself. I would check with the provider of the library and ask if this is a known issue.</p>\n"}], "owner": {"reputation": 49, "user_id": 3617157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5937010ebfaaed35c5a0bba81fb357e?s=128&d=identicon&r=PG&f=1", "display_name": "mike ray", "link": "https://stackoverflow.com/users/3617157/mike-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 998, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480523902, "creation_date": 1480522081, "question_id": 40892948, "link": "https://stackoverflow.com/questions/40892948/how-to-trap-an-error-in-c-when-try-except-cant", "title": "How to trap an error in C++ when __try __except can&#39;t", "body": "<p>I have code that uses a 3rd party library.</p>\n\n<p>That library throws the occasional Access Violation exception.  A basic try/catch didn't catch the error, and the program would hard crash.</p>\n\n<p>I was able to use a __try __except instead, to catch the error, log it, and then gracefully exit the program.</p>\n\n<p>The 3rd party has just updated their library, and now a small subset of the records that were causing the access violation errors just dies in production with \"[program name] has stopped working\"</p>\n\n<p>In Visual Studio, when stepping thru I get \"Microsoft Visual Studio C Runtime Library has detected a fatal error in [program name].\"</p>\n\n<p>I've updated my __except statement to catch everything (or so I believe), and it still happens.</p>\n\n<p>Original __except:</p>\n\n<pre><code>__except (eps = GetExceptionInformation(), ((GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION) \n              ? EXCEPTION_EXECUTE_HANDLER \n              : EXCEPTION_CONTINUE_SEARCH)) {\n        sprintf(\"error message\");\n        result = 99;\n}\n</code></pre>\n\n<p>New __except:</p>\n\n<pre><code>__except (eps = GetExceptionInformation(), ((1 == 1)\n              ? EXCEPTION_EXECUTE_HANDLER \n              : EXCEPTION_CONTINUE_SEARCH)) {\n        sprintf(\"error message\");\n        result = 99;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1480522532, "post_id": 40892937, "comment_id": 69000111, "body": "<code>prev=(10+curr)%11;</code> has possible value between <code>[0-10]</code>. But in C, array index begins at 0 so if arr has 10 elements, possible index are <code>[0-9]</code>. So <code>arr[prev]</code> could be out of bounds"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7231796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hOkuNoNST2Q/AAAAAAAAAAI/AAAAAAAAAGQ/ayelINsjGp8/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7231796/alireza"}, "edited": false, "score": 0, "creation_date": 1480522790, "post_id": 40893087, "comment_id": 69000309, "body": "It&#39;s seems just right! when I define arr[11] instead of [10] error fixes. how can I fix it without destroying the equal chance for all array elements to be selected? (I guess making it r*10 doesn&#39;t have equal chance for all elements)"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "reply_to_user": {"reputation": 301, "user_id": 7231796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hOkuNoNST2Q/AAAAAAAAAAI/AAAAAAAAAGQ/ayelINsjGp8/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7231796/alireza"}, "edited": false, "score": 0, "creation_date": 1480522941, "post_id": 40893087, "comment_id": 69000396, "body": "True, r*10 doesn&#39;t make equal probability for all elements, but neither does r*11! Getting equals requires powers of 2 and rerolling when out of range if you need a non-power-of-2 limit."}, {"owner": {"reputation": 301, "user_id": 7231796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hOkuNoNST2Q/AAAAAAAAAAI/AAAAAAAAAGQ/ayelINsjGp8/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7231796/alireza"}, "edited": false, "score": 0, "creation_date": 1480523602, "post_id": 40893087, "comment_id": 69000843, "body": "Thanks. I&#39;ll add a &#39;if&#39; to prevent r==10 scenario."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1480524123, "post_id": 40893087, "comment_id": 69001199, "body": "You can check out <a href=\"http://en.cppreference.com/w/cpp/numeric/random\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/numeric/random</a> and more specific <a href=\"http://en.cppreference.com/w/cpp/numeric/random/uniform_int_distribution\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/numeric/random/&hellip;</a> for better random handling."}, {"owner": {"reputation": 341, "user_id": 2886719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9828ee3c21b6fc89374d2244cf399254?s=128&d=identicon&r=PG&f=1", "display_name": "BMurray", "link": "https://stackoverflow.com/users/2886719/bmurray"}, "edited": false, "score": 0, "creation_date": 1480525146, "post_id": 40893087, "comment_id": 69001900, "body": "The why <i>stack smashing</i> should be addressed, especially for those who are just getting into c++. In this case, stack smashing occurs because <code>arr</code> is an array that is created on the stack rather than allocated from the heap. The important aspect is the out-of-range memory write, but to understand stack smashing, why the compiler protects against it, and c++ memory usage in general, see these links; <a href=\"http://insecure.org/stf/smashstack.html\" rel=\"nofollow noreferrer\">stack smashing</a>,  <a href=\"http://www.cprogramming.com/tutorial/virtual_memory_and_heaps.html\" rel=\"nofollow noreferrer\">memory</a> for a good starter on the subject (no affiliations)."}], "tags": [], "owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "is_accepted": true, "score": 0, "last_activity_date": 1480522497, "creation_date": 1480522497, "answer_id": 40893087, "question_id": 40892937, "link": "https://stackoverflow.com/questions/40892937/stack-smashing-detected-in-a-c-array-program/40893087#40893087", "title": "*** stack smashing detected *** in a C++ array program", "body": "<pre><code>    r=(r)*11;\n    curr=int(r);\n    //...\n    arr[curr]=//...\n</code></pre>\n\n<p><code>r</code> can take a value of 10.X at low probability, causing <code>curr</code> to take the value of 10, assigning to <code>arr</code> at 10, which corrupts memory.</p>\n"}], "owner": {"reputation": 301, "user_id": 7231796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hOkuNoNST2Q/AAAAAAAAAAI/AAAAAAAAAGQ/ayelINsjGp8/photo.jpg?sz=128", "display_name": "Alireza", "link": "https://stackoverflow.com/users/7231796/alireza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "accepted_answer_id": 40893087, "answer_count": 1, "score": 0, "last_activity_date": 1480522497, "creation_date": 1480522056, "question_id": 40892937, "link": "https://stackoverflow.com/questions/40892937/stack-smashing-detected-in-a-c-array-program", "title": "*** stack smashing detected *** in a C++ array program", "body": "<p>I'm writing a simple program which simulates a real world physics problem about electron spin.\nIt should fill an array of 10 with 1 or -1 randomly. then for 100 times choose one element and do the following conversion based on it's neighbors:</p>\n\n<pre><code>+-+ ..... +++\n-+- ..... ---\n+++ ..... +++\n--- ..... ---\n</code></pre>\n\n<p>and in the following cases randomly pick a result:</p>\n\n<pre><code>-++ ..... --+ or -++\n--+ ..... --+ or -++\n+-- ..... ++- or +--\n</code></pre>\n\n<p>etc</p>\n\n<p>but when i run it i get this error:\n<strong>* stack smashing detected *</strong>: ./a.out terminated\nAborted (core dumped)</p>\n\n<p>I checked and it's on the last \"else\" two lines. it doesn't give error when i comment them.</p>\n\n<p>My code:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;stdlib.h&gt;\nusing namespace std;\nint main(){\n    srand(time(NULL));\n    int arr[10],a[2],i,curr,next,prev,j;\n    double r;\n//Fill arr[10] with random -1 &amp; 1\n    a[0]=-1; a[1]=1;\n    for(i=0;i&lt;10;i++){\n        r=rand()/(RAND_MAX+1.0)*2.0;\n        arr[i]=a[int(r)];       \n    }\n//Cout arr[10]\n    for(i=0;i&lt;10;i++)cout&lt;&lt;arr[i]&lt;&lt;\" \";\n    cout&lt;&lt;'\\n';\n//Repeat for 100 times\n    for(j=1;j&lt;=100;j++){\n        r=rand()/(RAND_MAX+1.0);\n        r=(r)*11;\n        curr=int(r);\n        next=(curr+1)%11;\n        prev=(10+curr)%11;\n        if(arr[prev]==arr[next]){\n            if(arr[prev]==1)arr[curr]=1; else arr[curr]=-1;\n        }\n        else\n        {\n            r=rand()/(RAND_MAX+1.0)*2.0;\n            arr[curr]=a[int(r)];\n        }\n    }\n//Cout arr[10]\n    for(i=0;i&lt;10;i++)cout&lt;&lt;arr[i]&lt;&lt;\" \";\n    cout&lt;&lt;'\\n';\n    return 0;\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480522493, "post_id": 40892890, "comment_id": 69000075, "body": "A sub-array that is an actual array is not a view as in <code>string_view</code>.  It is a copy of some part of the array.  These are different concepts.  Please clarify what exact properites you want from the return value of <code>sub()</code>."}, {"owner": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1480522891, "post_id": 40892890, "comment_id": 69000370, "body": "The properties are: to have an object able to manipulate a sub-part of the array contained in the <code>wrap</code> object. I&#39;ll get rid of the <code>string_view</code> reference."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1480522957, "post_id": 40892890, "comment_id": 69000414, "body": "Your design returns a copy of the sub-part of the array.  Changes to that sub-part are not going to be reflected in the original array, because you made a copy."}], "answers": [{"comments": [{"owner": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "edited": false, "score": 0, "creation_date": 1480601423, "post_id": 40893233, "comment_id": 69037620, "body": "You have a small typo in <code>return {data[START+Is]...};</code> in my approach I&#39;m not copying a slice of the original array but creating an array of pointers to the values of the original array (<code>{&amp;data[START+Is]...}</code>) so in the end I will be able to modify the original array through the pointer."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "edited": false, "score": 0, "creation_date": 1480604752, "post_id": 40893233, "comment_id": 69040138, "body": "@PaperBirdMaster Wait, oh, that is bad.  Storing a pile of pointers that differ by <code>sizeof(T)</code> is an anti-pattern; storing a begin/end pointer will be simpler, more performant, and stores less pointless state."}, {"owner": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "edited": false, "score": 0, "creation_date": 1480604942, "post_id": 40893233, "comment_id": 69040300, "body": "Huh... I didn&#39;t know that thing you mention. I thought that each address within the <code>sub_array</code> should be valid. Do you have some link with information about the topic in order to enlight me?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "edited": false, "score": 0, "creation_date": 1480605173, "post_id": 40893233, "comment_id": 69040460, "body": "@PaperBirdMaster An <code>array_view</code> type above describes what I mean.  There is no array with N entries, just two pointers that differ by N."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1480605008, "last_edit_date": 1480605008, "creation_date": 1480522919, "answer_id": 40893233, "question_id": 40892890, "link": "https://stackoverflow.com/questions/40892890/sub-array-template/40893233#40893233", "title": "Sub-array template", "body": "<p>This solves the problem as described above:</p>\n\n<pre><code>template&lt;class=void, std::size_t...Is&gt;\nauto indexer( std::index_sequence&lt;Is...&gt; ) {\n  return [](auto&amp;&amp; f){\n    return decltype(f)(f)( std::integral_constant&lt;std::size_t, Is&gt;{}... );\n  };\n}\ntemplate&lt;std::size_t N&gt;\nauto indexer() {\n  return indexer( std::make_index_sequence&lt;N&gt;{} );\n}\n</code></pre>\n\n<p>This lets you create an expandable parameter pack of compile-time integers without having to write a custom helper function each time.</p>\n\n<p>It is valid C++14, but some compilers (like MSVC) claim to be C++14 compilers without actually being C++14 compilers.</p>\n\n<pre><code>template &lt;std::size_t START, std::size_t SIZE&gt;\nsub_array&lt;START, SIZE&gt; sub() const {\n  auto index = indexer&lt;SIZE&gt;();\n  return index(\n    [&amp;](auto...Is)-&gt;sub_array&lt;START, SIZE&gt;\n    {\n      return {data[START+Is]...};\n    }\n  );\n}\n</code></pre>\n\n<p><code>indexer&lt;N&gt;</code> returns an indexer that when passed a lambda, invokes it with <code>std::integral_constant&lt;std::size_t, 0&gt;</code> through <code>std::integral_constant&lt;std::size_t, N-1&gt;</code>.</p>\n\n<p>This pack can then be expanded inline in the function that creates the <code>indexer</code>.</p>\n\n<hr>\n\n<p>In the comments you mention you want modifications to the sub-array to be reflected in the original array.</p>\n\n<p>Your design does not permit this.  The sub-array is copy of a slice of the original array.</p>\n\n<p>The right way to do that is for your sub-array to be a pair of pointers into your original array.</p>\n\n<pre><code>template&lt;class T&gt;\nstruct array_view {\n  T* b = 0;\n  T* e = 0;\n\n  T* begin() const { return b; }\n  T* end() const { return e; }\n\n  T&amp; operator[](std::size_t i)const { return begin()[i]; }\n\n  bool empty() const { return begin()==end(); }\n  std::size_t size() const { return end()-begin(); }\n\n  array_view( T* s, T* f ):b(s), e(f) {}\n  array_view( T* s, std::size_t l):array_view(s, s+l) {}\n\n  array_view()=default;\n  array_view(array_view const&amp;)=default;\n  array_view&amp; operator=(array_view const&amp;)=default;\n};\n</code></pre>\n\n<p>An <code>array_view</code> is a compact way to talk about a slice of an array.</p>\n\n<p>If you want stride, you have to do a bit more work.</p>\n"}, {"tags": [], "owner": {"reputation": 7393, "user_id": 1690777, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/18ef5bab4c70735313d86c7240e4abed?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1690777/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1480524738, "creation_date": 1480524738, "answer_id": 40893890, "question_id": 40892890, "link": "https://stackoverflow.com/questions/40892890/sub-array-template/40893890#40893890", "title": "Sub-array template", "body": "<blockquote>\n  <p>I'm pretty sure that an approach using <code>std::integer_sequence</code> should be possible...</p>\n</blockquote>\n\n<p>Here it is:</p>\n\n<pre><code>template &lt;typename T, std::size_t SIZE&gt;\nstruct wrap\n{\n    using value_type = T;\n    using wrap_type = wrap;\n\n    static constexpr auto size = SIZE;\n    T data[size]{};\n\n    template &lt;std::size_t START, std::size_t COUNT&gt;\n    struct sub_array\n    {\n        using value_type = wrap_type::value_type *;\n\n        static constexpr auto start = START;\n        static constexpr auto count = COUNT;\n\n        value_type data[count]{};\n    };\n\n    template &lt;std::size_t START, std::size_t COUNT&gt;\n    constexpr sub_array&lt;START, COUNT&gt; sub() {\n        static_assert(START + COUNT &lt;= SIZE, \"sub_array is out of range\");\n        // The argument makes an instance of integer sequence from 0 to COUNT-1\n        return sub_impl&lt;START, COUNT&gt;(std::make_index_sequence&lt;COUNT&gt;{});\n    }\n\nprivate:\n\n    template &lt;std::size_t START, std::size_t COUNT, std::size_t ... Is&gt;\n    constexpr sub_array&lt;START, COUNT&gt; sub_impl(std::index_sequence&lt;Is...&gt;) {\n        // Arithmetic in argument list expansion is pretty valid.\n        return {&amp;data[Is+START]...};\n    }\n};\n</code></pre>\n\n<p>Now the following lines:</p>\n\n<pre><code>wrap&lt;double, 10&gt; ds{1,2,3,4,5,6,7,8,9,10};\nauto s = ds.sub&lt;2,3&gt;();\nstd::cout &lt;&lt; *s.data[0] &lt;&lt; std::endl;\n</code></pre>\n\n<p>print <code>3</code>.</p>\n\n<p>This code is exactly an adaptation of <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow noreferrer\">documentation examples</a> for your structure. Probably, it may be shortened. And I'm sure that more static (compile-time) assertions may be declared in your code.</p>\n\n<p>Finally, following @Yakk's comments, this implementation of <code>sub</code> returns a subarray copy, not a view.</p>\n"}], "owner": {"reputation": 11552, "user_id": 499359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xrx9K.gif?s=128&g=1", "display_name": "PaperBirdMaster", "link": "https://stackoverflow.com/users/499359/paperbirdmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 40893233, "answer_count": 2, "score": 2, "last_activity_date": 1480605008, "creation_date": 1480521925, "last_edit_date": 1480525155, "question_id": 40892890, "link": "https://stackoverflow.com/questions/40892890/sub-array-template", "title": "Sub-array template", "body": "<p>Let me explain what I'm looking for with code. Let's supose we have a template wrapping an array:</p>\n\n<pre><code>template &lt;typename T, std::size_t SIZE&gt;\nstruct wrap\n{\n    using value_type = T;\n    using wrap_type = wrap;\n\n    static constexpr auto size = SIZE;\n    T data[size]{};\n};\n</code></pre>\n\n<p>I would like to add a function to the <code>wrap</code> template, this function should return an object able to manipulate a specific part of the array contained in <code>wrap</code>, the function should know where the sub-array starts and how many elements it will have so I thought about a function like this:</p>\n\n<pre><code>template &lt;typename T, std::size_t SIZE&gt;\nstruct wrap\n{\n    using value_type = T;\n    using wrap_type = wrap;\n\n    static constexpr auto size = SIZE;\n    T data[size]{};\n\n    template &lt;std::size_t START, std::size_t COUNT&gt;\n    ???? sub() { ... }\n};\n</code></pre>\n\n<p>I don't want the <code>????</code> object returned by <code>wrap::sub</code> to have a couple of pointers but an static array, so my approach was:</p>\n\n<pre><code>template &lt;typename T, std::size_t SIZE&gt;\nstruct wrap\n{\n    using value_type = T;\n    using wrap_type = wrap;\n\n    static constexpr auto size = SIZE;\n    T data[size]{};\n\n    template &lt;std::size_t START, std::size_t COUNT&gt;\n    struct sub_array\n    {\n        using value_type = wrap_type::value_type *;\n\n        static constexpr auto start = START;\n        static constexpr auto count = COUNT;\n\n        value_type data[count]{};\n    };\n\n    template &lt;std::size_t START, std::size_t COUNT&gt;\n    sub_array&lt;START, COUNT&gt; sub() { ... }\n};\n</code></pre>\n\n<p>And here is the problem: What should I write into <code>wrap::sub</code>? I'm pretty sure that an approach using <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow noreferrer\"><code>std::integer_sequence</code></a> should be possible but I lack on experience with it hence I don't even know what to try. I've tried to asume a value of <code>2</code> with both template parameters in <code>wrap::sub</code> and it worked as expected:</p>\n\n<pre><code>template &lt;std::size_t START, std::size_t SIZE&gt;\nsub_array&lt;START, SIZE&gt; sub() { return { &amp;data[START], &amp;data[START + 1u] }; }\n</code></pre>\n\n<p>I've tested it as I show below:</p>\n\n<pre><code>wrap&lt;int, 9&gt; w{1, 2, 3, 4, 5, 6, 7, 8, 9};\n\n// x is the view [3, 4]\nauto x = w.sub&lt;2, 2&gt;();\n\nstd::cout &lt;&lt; *x.data[0] &lt;&lt; '\\n'; // shows 3\n</code></pre>\n\n<p>So, conceptually the body of <code>wrap::sub</code> should be:</p>\n\n<pre><code>return { &amp;data[START + 0], &amp;data[START + 1], ... &amp;data[START + n] };\n</code></pre>\n\n<p>How should I achieve the effect above?</p>\n"}]