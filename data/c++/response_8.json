[{"tags": ["c++", "c-strings", "string-conversion"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "edited": false, "score": 0, "creation_date": 1425515909, "post_id": 28867930, "comment_id": 46000289, "body": "It was that damn comma! I figured it out just before I checked this. Its a double just because I was trying all these things to get it to work. Was originally atoi. Thank you for the response!"}, {"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "reply_to_user": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "edited": false, "score": 0, "creation_date": 1425516106, "post_id": 28867930, "comment_id": 46000357, "body": "No problem, could you accept the answer then, thanks :)"}], "owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "is_accepted": false, "score": 0, "last_activity_date": 1425518332, "last_edit_date": 1425518332, "creation_date": 1425515784, "answer_id": 28867930, "question_id": 28867423, "link": "https://stackoverflow.com/questions/28867423/simulated-check-error-when-checking-user-inputted-amount-c/28867930#28867930", "title": "Simulated Check, Error when checking user inputted amount. c++", "body": "<p>The only issue I can see without actually running all your code is when you write <code>10,000</code> in the checks - I don't believe c++ accepts commas in numbers. Try <code>10000</code> instead.</p>\n\n<p>Also, you need to reassign quickCheck to the newly inputted value inside the <code>while</code> loop at the end (otherwise the check is only ever using the first value).</p>\n\n<p>Finally - is there any reason why you do a double check and an integer check (<code>atof</code> and <code>atoi</code>)?</p>\n\n<p><strong>ADDITION</strong></p>\n\n<p>Just as an extra note, when you come to checking the user input more rigorously take a look at <code>stringstream</code>. You'll want to load the inputted <code>string</code> into the <code>stringstream</code> then send it into an <code>int</code> (or <code>double</code> depending what data type is supposed to be given by the user) and then send it back to the <code>stringstream</code> and then into another <code>string</code> - if the final <code>string</code> is the same as the original then the input was the right type so you can do the range checks, if they were not the same then the user wrote something like \"hello bob\" when you where expecting something like \"10.4\" for example (one of the helpers in my class took great joy in introducing me to this by hitting the middle of the keyboard and then pressing enter and watching my program go wild...)</p>\n"}], "owner": {"reputation": 11, "user_id": 4547879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd4bd3237fbc6f5c2237a6df3705067?s=128&d=identicon&r=PG&f=1", "display_name": "Reaperr", "link": "https://stackoverflow.com/users/4547879/reaperr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425518332, "creation_date": 1425513177, "last_edit_date": 1425517296, "question_id": 28867423, "link": "https://stackoverflow.com/questions/28867423/simulated-check-error-when-checking-user-inputted-amount-c", "title": "Simulated Check, Error when checking user inputted amount. c++", "body": "<p>I have a program written that prints out a simulated paycheck. Everything is okay according to my teacher's standards except my loop checking the amount the user entered. </p>\n\n<p>I get the amount the user entered and put it into a string. I then convert that into an int to check if it is within the bounds of 0 - 10,000. It either skips that check completely or the program crashes. Any idea why? It is in the getInfo function. I have to bring the amount in as a string. I will also eventually have to to this with string class objects as well. </p>\n\n<pre><code>void getInfo(int nameS, int dateS, int amountS, char name[],char date[],  char check[])\n{\ncout&lt;&lt; \"Please enter the name of the recipient: \";\ncin.getline(name, nameS);\n\ncout&lt;&lt; \"Please enter the date EX. mm/dd/yy: \";\ncin.getline(date, dateS);\n do\n {\n    if(strlen(date)!= 8)\n    {\n        cout&lt;&lt; \"That was not the correct date format. Please Enter again. Ex. mm/dd/yy\";\n        cin.getline(date, dateS);\n    }\n\n } while(strlen(date)!= 8);\n    // Small check for the right size. Does not check for character.\n\ncout&lt;&lt; \"Please enter the amount: above zero and under 10,000: \";\ncin.getline(check, amountS);\ndouble quickCheck=atof(check);\n\n//PROBLEM\n    do{\n            if(quickCheck&gt;10,000 || quickCheck&lt;0)\n            {\n                cout&lt;&lt;\"That amount is not within the bounds. Please enter again.\";\n                cin.getline(check,amountS);\n            }\n      } while(atoi(check)&gt;10,000 || atoi(check)&lt;0);\n\n    return;\n }\n</code></pre>\n"}, {"tags": ["c++", "output", "fstream", "stringstream"], "comments": [{"owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "edited": false, "score": 0, "creation_date": 1425513104, "post_id": 28867342, "comment_id": 45999410, "body": "It doesn&#39;t work because you never defined <code>mydollar</code>, not sure exactly what you expect there."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425516181, "post_id": 28867342, "comment_id": 46000383, "body": "You should close the output file before you read it.  If you want to write and read, open it like your 2nd one, but before you write to it."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1425513738, "post_id": 28867502, "comment_id": 45999603, "body": "It doesn&#39;t display anything after Amount. and for some reason, the first part no longer display anything after &quot;contains&quot;"}], "owner": {"reputation": 63, "user_id": 4114328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401610bbea4fe763ea2c997b306db007?s=128&d=identicon&r=PG&f=1", "display_name": "learningToCode", "link": "https://stackoverflow.com/users/4114328/learningtocode"}, "is_accepted": false, "score": 0, "last_activity_date": 1425513563, "creation_date": 1425513563, "answer_id": 28867502, "question_id": 28867342, "link": "https://stackoverflow.com/questions/28867342/using-fstreams-and-stringstreams-trouble-getting-a-char-after-getting-the-strin/28867502#28867502", "title": "Using fstreams and stringstreams: Trouble getting a char after getting the string (C++)", "body": "<p>For the second part, this should display the amount: </p>\n\n<pre><code>string mystring2;\ngetline (File, mystring2);\nstd::cout &lt;&lt; \"Amount: \" &lt;&lt; mystring2 &lt;&lt; endl ;\n</code></pre>\n\n<p>You have already read the part before the amount with your first getline call, so the next getline will read the rest of the string. Just print it out.</p>\n"}], "owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1425513983, "creation_date": 1425512770, "last_edit_date": 1425513983, "question_id": 28867342, "link": "https://stackoverflow.com/questions/28867342/using-fstreams-and-stringstreams-trouble-getting-a-char-after-getting-the-strin", "title": "Using fstreams and stringstreams: Trouble getting a char after getting the string (C++)", "body": "<p>(C++) I want to display the first part, which works fine, then the dollar sign on another line, then the price. Here's what I have:</p>\n\n<pre><code>string mystring;\nofstream oFile( \"C:\\\\beer.txt\" );\noFile &lt;&lt; \"Heineken#$7.99\" &lt;&lt; endl;\n\nfstream File( \"C:\\\\beer.txt\" , ios :: in | ios :: out );\ngetline(File, mystring, '#');\nstringstream mystringstream;\nmystringstream.str(mystring);\ncout &lt;&lt; \"The list contains: \" &lt;&lt; mystring &lt;&lt; endl;\n\n/////////////////////////////////////////////////////////////////\n// Everything above this line works just fine\n// now I want to display the dollar sign\n\nstring mystring2;\ngetline (File, mystring2, '7');\nstringstream mystringstream2;\nmystringstream2.str(mystring2);\nchar dollar = mystring.at(mystring2.length()-1);\ncout &lt;&lt; \"The tender is: \" &lt;&lt; dollar &lt;&lt; endl ;\n// this does not work\n\n///////////////////////////////////////////////////////////\n//now, I want to display the price, in xx.xx format\n//I've been looking for proper functions, but nothing works. Any help \n//is greatly appreciated.\n</code></pre>\n"}, {"tags": ["c++", "optimization", "vector"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 5, "creation_date": 1425512556, "post_id": 28867267, "comment_id": 45999210, "body": "If the program correctly, please migrate this question to <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>."}, {"owner": {"reputation": 57830, "user_id": 2792531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/teNzk.gif?s=128&g=1", "display_name": "nhgrif", "link": "https://stackoverflow.com/users/2792531/nhgrif"}, "edited": false, "score": 0, "creation_date": 1425512646, "post_id": 28867267, "comment_id": 45999238, "body": "<code>const int POSSIBLE_COMBOS = NUMBERS * NUMBERS_PER_TICKET;</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425512790, "post_id": 28867267, "comment_id": 45999287, "body": "Why do you need to store all the possible combinations?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425512831, "post_id": 28867267, "comment_id": 45999306, "body": "You should look at <code>std::vector&lt;bool&gt;</code>.  Set a slot (bit) to true if the combination was found."}, {"owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425512993, "post_id": 28867267, "comment_id": 45999372, "body": "@ThomasMatthews Isn&#39;t the vector specialization of bool slow due to the extreme packing? It looks like his vector size limits are known at compile time, so he could be using <code>std::bitset</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "edited": false, "score": 0, "creation_date": 1425513230, "post_id": 28867267, "comment_id": 45999466, "body": "@RedAlert:  Since the vector size limits are known, the vector can be resized at the beginning.  The <code>std::bitset</code> may do extreme packing also.  A faster solution, if there is enough memory, is an array of <code>bool</code>; as long as it is not packed."}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 1, "creation_date": 1425514509, "post_id": 28867267, "comment_id": 45999846, "body": "Why are you generating all possible combos by calling createTicket(), which is randomly generates a ticket? Also why after checking matchfound, another call to createTicket() is pushed back to lottoCombos?"}, {"owner": {"reputation": 35, "user_id": 1941765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec6cda0c73c308c65bada08fade7e7e?s=128&d=identicon&r=PG", "display_name": "Ryan Mark Roger Staff", "link": "https://stackoverflow.com/users/1941765/ryan-mark-roger-staff"}, "reply_to_user": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1425514744, "post_id": 28867267, "comment_id": 45999928, "body": "@Tony J: Thank you for pointing the second call to creatTicket() when i push, i didnt realise i did that."}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1425514860, "post_id": 28867267, "comment_id": 45999965, "body": "Your code is essentially generating all 13million combos RANDOMLY. Are you sure that&#39;s what you want to do?"}, {"owner": {"reputation": 35, "user_id": 1941765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec6cda0c73c308c65bada08fade7e7e?s=128&d=identicon&r=PG", "display_name": "Ryan Mark Roger Staff", "link": "https://stackoverflow.com/users/1941765/ryan-mark-roger-staff"}, "edited": false, "score": 0, "creation_date": 1425515238, "post_id": 28867267, "comment_id": 46000087, "body": "I confess I am still learning and couldnt think of any other way of getting every possible combination other than generating the tickets at random and comparing them to the existing tickets. As for why I want all the combinations, there is no big reason. I needed a quick starter program to make and i thought it would be an good idea to generate all the combinations and maybe take the program further by generating the most common combinations, if i found time etc."}, {"owner": {"reputation": 35, "user_id": 1941765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec6cda0c73c308c65bada08fade7e7e?s=128&d=identicon&r=PG", "display_name": "Ryan Mark Roger Staff", "link": "https://stackoverflow.com/users/1941765/ryan-mark-roger-staff"}, "edited": false, "score": 0, "creation_date": 1425515426, "post_id": 28867267, "comment_id": 46000139, "body": "But yeah, like i say, i am still learning. So any tips or assistance is appreciated :)"}, {"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "reply_to_user": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1425516672, "post_id": 28867267, "comment_id": 46000549, "body": "As @TonyJ says - generating all 13 million combos randomly isn&#39;t a good idea - imagine you have already got 12999999 and are trying to get the last 1, the chances of generating it each time are 1 in 13 million so most likely your code will have to iterate a lot before hitting upon the final ticket. Why not generate each ticket by following a logical sequence?"}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1425516733, "post_id": 28867267, "comment_id": 46000559, "body": "If I&#39;m not mistaken, there are 49^6 possible combinations, aka almost 14 billion (with a b).  There aren&#39;t many computers that can fit that many values in RAM at once.... :)"}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "reply_to_user": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1425516781, "post_id": 28867267, "comment_id": 46000574, "body": "@JeremyFriesner, His algorithm is 49 choose 6, so 13million is correct."}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1425516857, "post_id": 28867267, "comment_id": 46000591, "body": "oh, I see ... duplicate numbers aren&#39;t allowed.  Nevermind :)"}], "answers": [{"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "is_accepted": true, "score": 1, "last_activity_date": 1425516296, "last_edit_date": 1425516296, "creation_date": 1425515982, "answer_id": 28867967, "question_id": 28867267, "link": "https://stackoverflow.com/questions/28867267/how-can-i-speed-my-c-program-up/28867967#28867967", "title": "How Can I Speed My C++ Program Up?", "body": "<p>The reason each lottery ticket is taking a second to generate is because you are misusing srand().  By calling srand(time(0)) every time createTicket() is called, you ensure that createTicket() returns the same numbers every time it is called, until the next time the value returned by time() changes, i.e. once per second.  So your reject-duplicates algorithm will almost always find a duplicate until the next second goes by.  You should move your srand(time(0)) call to the top of main() instead.</p>\n\n<p>That said, there are perhaps larger issues to confront here:  my first question would be, is it really necessary to generate and store every possible lottery ticket?  (and if so, why?)  IIRC real lotteries don't do that when issuing a ticket; they just generate some random numbers and print them out (and if there are multiple winning tickets printed with the same numbers, the owners of those tickets share the prize money).</p>\n\n<p>Assuming you do need to generate every possible lottery ticket for some reason, there are better ways to do it than randomly.  If you've ever watched the odometer increment while driving a car, you'll get the idea for how to do it linearly; just imagine an odometer with 6 wheels, where each wheel has 49 different possible positions it can be in (rather than the traditional 10).</p>\n\n<p>Finally, a vector has O(N) lookup time, and if you are doing a lookup in the vector for every value you generate, then your algorithm has O(N^2) time, which is to say, it's going to get really slow really quickly as you generate more tickets.  So if you have to store all known tickets in a data structure, you should definitely use a data structure with quicker lookup times, for example a std::map or a std::unordered_set, or even a std::bitset as suggested by @RedAlert.</p>\n"}], "owner": {"reputation": 35, "user_id": 1941765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec6cda0c73c308c65bada08fade7e7e?s=128&d=identicon&r=PG", "display_name": "Ryan Mark Roger Staff", "link": "https://stackoverflow.com/users/1941765/ryan-mark-roger-staff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 28867967, "answer_count": 1, "score": -2, "last_activity_date": 1425516296, "creation_date": 1425512348, "question_id": 28867267, "link": "https://stackoverflow.com/questions/28867267/how-can-i-speed-my-c-program-up", "title": "How Can I Speed My C++ Program Up?", "body": "<p>Basically I am relearning C++ and decided to create a lotto number generator.\nThe code creates the ticket and if that ticket does not already exist, it is added to a vector to store every possible combination.</p>\n\n<p>The program works, but its just far too slow, adding an entry roughly every second, and It will get slower as it finds it more difficult to add unique combinations out of over 13 million possible combinations.</p>\n\n<p>Anyway here is my code, any optimization tips would appreciated:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nvector&lt;string&gt; lottoCombos;\n\nconst int NUMBERS_PER_TICKET = 6;\nconst int NUMBERS = 49;\nconst int POSSIBLE_COMBOS = 13983816;\n\nstring createTicket();\nvoid startUp();\nvoid getAllCombinations();\n\nint main()\n{\n    lottoCombos.reserve(POSSIBLE_COMBOS);\n    cout&lt;&lt; \"Random Ticket: \"&lt;&lt; createTicket()&lt;&lt; endl;\n\n    getAllCombinations();\n\n    for (int i = 0; i &lt; POSSIBLE_COMBOS; i++)\n    {\n        cout &lt;&lt; endl &lt;&lt; lottoCombos[i];\n    }\n\n    system(\"PAUSE\");\n    return 0;\n}\n\nstring createTicket()\n{\n    srand(static_cast&lt;unsigned int&gt;(time(0)));\n    vector&lt;int&gt; ticket;\n    vector&lt;int&gt; numbers;\n    vector&lt;int&gt;::iterator numberIterator;\n\n    //ADD AVAILABLE NUMBERS TO VECTOR\n    for (int i = 0; i &lt; NUMBERS; i++)\n    {\n        numbers.push_back(i + 1);\n    }\n\n    for (int j = 0; j &lt; NUMBERS_PER_TICKET; j++)\n    {\n        int ticketNumber = rand() % numbers.size();\n        numberIterator = numbers.begin()+ ticketNumber;\n        int nm = *numberIterator;\n        numbers.erase(numberIterator);\n        ticket.push_back(nm);\n    }\n    sort(ticket.begin(), ticket.end());\n\n    string result;\n    ostringstream convert;\n    convert &lt;&lt; ticket[0] &lt;&lt; \", \" &lt;&lt; ticket[1] &lt;&lt; \", \" &lt;&lt; ticket[2] &lt;&lt; \", \" &lt;&lt; ticket[3] &lt;&lt; \", \" &lt;&lt; ticket[4] &lt;&lt; \", \" &lt;&lt; ticket[5];\n    result = convert.str();\n\n    return result;\n}\n\nvoid getAllCombinations()\n{\n    int i = 0;\n    cout &lt;&lt; \"Max Vector Size: \" &lt;&lt; lottoCombos.max_size() &lt;&lt; endl;\n    cout &lt;&lt; \"Creating Entries\" &lt;&lt; endl;\n\n    while ( i != POSSIBLE_COMBOS )\n    {\n        bool matchFound = true;\n        string newNumbers = createTicket();\n\n        for (int j = 0; j &lt; lottoCombos.size(); j++)\n        {\n            if ( newNumbers == lottoCombos[j] )\n            {\n                matchFound = false;\n                break;\n            }\n        }\n\n        if (matchFound != false)\n        {\n            lottoCombos.push_back(createTicket());\n            i++;\n            cout &lt;&lt; \"Entries: \"&lt;&lt; i &lt;&lt; endl;\n        }\n    }\n    sort(lottoCombos.begin(), lottoCombos.end());\n    cout &lt;&lt; \"\\nCombination generation complete!!!\\n\\n\";\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "macros"], "comments": [{"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1425513154, "post_id": 28867254, "comment_id": 45999437, "body": "F12 will go to a definition when the cursor is on the symbol. Does this not work in VS for macros?"}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 1161132, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gNKM0.jpg?s=128&g=1", "display_name": "bgura", "link": "https://stackoverflow.com/users/1161132/bgura"}, "edited": false, "score": 0, "creation_date": 1513024356, "post_id": 28867287, "comment_id": 82483076, "body": "Does the &quot;already defined at xxxx.nn&quot; output have to be enabled somehow? It seems with VS2015, it only prints an error &quot;macro redefinition&quot; and &quot;see previous definition of <code>__range</code>. Doesn&#39;t appear to give you any originating file"}], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": true, "score": 10, "last_activity_date": 1425513176, "last_edit_date": 1425513176, "creation_date": 1425512449, "answer_id": 28867287, "question_id": 28867254, "link": "https://stackoverflow.com/questions/28867254/how-to-know-where-a-certain-macro-is-defined-in-visual-studio/28867287#28867287", "title": "How to know where a certain macro is defined in Visual Studio", "body": "<p>my trick is to put </p>\n\n<pre><code>#define __range FOO\n</code></pre>\n\n<p>in my code, the preprocessor will then say</p>\n\n<pre><code>__range already defined at xxxx.nn\n</code></pre>\n"}], "owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1111, "favorite_count": 0, "accepted_answer_id": 28867287, "answer_count": 1, "score": 2, "last_activity_date": 1425513176, "creation_date": 1425512304, "question_id": 28867254, "link": "https://stackoverflow.com/questions/28867254/how-to-know-where-a-certain-macro-is-defined-in-visual-studio", "title": "How to know where a certain macro is defined in Visual Studio", "body": "<p>I currently have a visual studio project that uses DirectX. There are some macros in the code such as</p>\n\n<pre><code>__range(0, m_lBatchSize)  LONG  m_nBatched;\n__field_ecount_opt(m_lBatchSize) IMediaSample  **      m_ppSamples;\n</code></pre>\n\n<p>I wanted to know which files these macros are defined in.  Normally in Visual Studio I would click goto definition and it would take me to the definitio. It is not taking me anywhere in this case. Does that feature work for macros ? Is there any way for me to find out where this macro is defined ? </p>\n"}, {"tags": ["c++", "winapi", "windows-mui"], "answers": [{"comments": [{"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1425577603, "post_id": 28868247, "comment_id": 46029795, "body": "Ah, of course EnumResourceLanguages works perfectly.  Thanks!"}], "owner": {"reputation": 1205, "user_id": 2655905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b78614e85e3c08eed9e43ab7197a90f3?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/2655905/stuart"}, "is_accepted": true, "score": 1, "last_activity_date": 1425518832, "last_edit_date": 1425518832, "creation_date": 1425517690, "answer_id": 28868247, "question_id": 28867224, "link": "https://stackoverflow.com/questions/28867224/findresourceex-and-fallback-languages/28868247#28868247", "title": "FindResourceEx and fallback languages", "body": "<p>I would be astonished if you can't use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648035(v=vs.85).aspx\" rel=\"nofollow\">EnumResourceLanguages</a> without having MUI files. Of course, if all else fails, perhaps you can create a table with a default sub language for every primary language. Or your table could have a default for every primary/sub language pair. You can store this table in your code or in a custom resource.</p>\n"}], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 28868247, "answer_count": 1, "score": 2, "last_activity_date": 1599341329, "creation_date": 1425512159, "last_edit_date": 1599341329, "question_id": 28867224, "link": "https://stackoverflow.com/questions/28867224/findresourceex-and-fallback-languages", "title": "FindResourceEx and fallback languages", "body": "<p>I have all translations of a resource in a single executable.  Effectively:</p>\n\n<pre><code>STRINGTABLE\n  LANGUAGE LANG_ENGLISH, LANG_ENGLISH_US\nBEGIN\n  IDSTR_HELLO \"Hello\"\nEND\n\nSTRINGTABLE\n  LANGUAGE LANG_SPANISH, LANG_SPANISH_PANAMA\nBEGIN\n  IDSTR_HELLO \"Hola\"\nEND\n\n// ... more languages ...\n</code></pre>\n\n<p>I'm trying to find the (most) appropriate one using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648043(v=vs.85).aspx\" rel=\"nofollow\">FindResourceEx</a> given a LANGID.  A LANGID consists of both the language and a sublanguage.  For example, I might have resources for Spanish as spoken in Panama (<code>LANGUAGE_SPANISH, SUBLANG_SPANISH_PANAMA</code>) and Spanish as spoken in Mexico (<code>LANGUAGE_SPANISH, SUBLANG_SPANISH_MEXICAN</code>).  When there's an exact match between the desired langid and one of the resources, everything is fine.</p>\n\n<p>If I use FindResourceEx to try to find the resource for a third flavor of Spanish, say (<code>LANG_SPANISH, SUBLANG_SPANISH_COSTA_RICA</code>), the find will fail because I don't have a resource specifically for Costa Rica.  In such a case, I'd like to \"fall back\" to <em>any</em> flavor of primary language.</p>\n\n<p>I read something that suggested setting the sublanguage to <code>SUBLANG_NEUTRAL</code> should match any resource with the same primary language:</p>\n\n<pre><code>HRSRC handle = FindResourceEx(NULL, RT_STRING, MAKEINTRESOURCE(IDSTR_HELLO), langid);\nif (handle == NULL) {\n  fallback_langid = MAKELANGID(PRIMARYLANGID(langid), SUBLANG_NEUTRAL);\n  handle = FindResourceEx(NULL, RT_STRING, MAKEINTRESOURCE(IDSTR_HELLO), fallback_langid);\n}\n</code></pre>\n\n<p>Unfortunately that doesn't work.  Neither does setting the sublanguage to <code>SUBLANG_DEFAULT</code>.  (It seems the neutral and default sublanguages are only meaningful when the primary language is also neutral or default.)</p>\n\n<p>What are my options?  Is there a way to enumerate through the resources and do my own comparison of the primary language in the LANGID?  I've been looking at the assortment of EnumResource-like functions, but most of them seem specific to using MUI.  I'm intentionally not using MUI, for various reasons, including the requirement to have all of the translations in a single binary.</p>\n"}, {"tags": ["c++", "function", "return-value"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 2, "creation_date": 1425511936, "post_id": 28867157, "comment_id": 45999009, "body": "This might help: <a href=\"http://www.tutorialspoint.com/cplusplus/cpp_functions.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cplusplus/cpp_functions.htm</a>"}, {"owner": {"reputation": 42096, "user_id": 592323, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5df027e3c31ae3b8755c0ea377f951a0?s=128&d=identicon&r=PG", "display_name": "leemes", "link": "https://stackoverflow.com/users/592323/leemes"}, "edited": false, "score": 0, "creation_date": 1425511957, "post_id": 28867157, "comment_id": 45999020, "body": "You say you tried an &quot;int function&quot;. What you mean is that the function should <i>return</i> an <code>int</code>. This should be the way to go. Can you post your changed code you tried?"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1425511999, "post_id": 28867157, "comment_id": 45999032, "body": "<code>int variable = functionthatreturnsint(whatever);</code>?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1425512043, "post_id": 28867157, "comment_id": 45999047, "body": "You need to make <code>compute_sum</code> return the value it computes."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 4, "creation_date": 1425512191, "post_id": 28867157, "comment_id": 45999101, "body": "If you are learning from a human instructor, you will need to talk with the instructor.  Understanding writing and using functions is a prerequisite to this assignment. <b>If you do not understand the requirements, talk with the person who created the requirements before starting.</b>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4200417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmAhZVzT3ls/AAAAAAAAAAI/AAAAAAAAAFE/HxOYXmC1EDA/photo.jpg?sz=128", "display_name": "rattregoondoof", "link": "https://stackoverflow.com/users/4200417/rattregoondoof"}, "edited": false, "score": 0, "creation_date": 1425514101, "post_id": 28867385, "comment_id": 45999702, "body": "I changed it to have an int instead of void and to to return sum_to_limit in the function but I am not sure where to put the result = compute_sum(maxNumber) does that go after compute_sum(maxNumber?"}, {"owner": {"reputation": 1446, "user_id": 1947066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gR6Eb.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1947066/tom"}, "reply_to_user": {"reputation": 7, "user_id": 4200417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmAhZVzT3ls/AAAAAAAAAAI/AAAAAAAAAFE/HxOYXmC1EDA/photo.jpg?sz=128", "display_name": "rattregoondoof", "link": "https://stackoverflow.com/users/4200417/rattregoondoof"}, "edited": false, "score": 0, "creation_date": 1425514190, "post_id": 28867385, "comment_id": 45999729, "body": "You should replace <code>compute_sum(maxNumber)</code> with the line <code>int result = compute_sum(maxNumber)</code>. You need the new int variable to store the result of the function. You can then call <code>cout &lt;&lt; &quot;The sum of 1 to &quot; &lt;&lt; result;</code> That should work"}, {"owner": {"reputation": 7, "user_id": 4200417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmAhZVzT3ls/AAAAAAAAAAI/AAAAAAAAAFE/HxOYXmC1EDA/photo.jpg?sz=128", "display_name": "rattregoondoof", "link": "https://stackoverflow.com/users/4200417/rattregoondoof"}, "edited": false, "score": 0, "creation_date": 1425514765, "post_id": 28867385, "comment_id": 45999934, "body": "Thank you so much I know this was really a question I should already know but this was very helpful and I don&#39;t mean to use this as a quick answer to homework I genuinely don&#39;t know how to use functions that much."}, {"owner": {"reputation": 1446, "user_id": 1947066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gR6Eb.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1947066/tom"}, "reply_to_user": {"reputation": 7, "user_id": 4200417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmAhZVzT3ls/AAAAAAAAAAI/AAAAAAAAAFE/HxOYXmC1EDA/photo.jpg?sz=128", "display_name": "rattregoondoof", "link": "https://stackoverflow.com/users/4200417/rattregoondoof"}, "edited": false, "score": 0, "creation_date": 1425515437, "post_id": 28867385, "comment_id": 46000143, "body": "No problem! Functions are invaluable. I hope the explanation helped"}], "owner": {"reputation": 1446, "user_id": 1947066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gR6Eb.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1947066/tom"}, "is_accepted": true, "score": 2, "last_activity_date": 1425512952, "creation_date": 1425512952, "answer_id": 28867385, "question_id": 28867157, "link": "https://stackoverflow.com/questions/28867157/how-to-use-functions-in-c/28867385#28867385", "title": "How to use functions in c++?", "body": "<p>The part you're missing is the return type of the function, and then to actually return that value from the function.</p>\n\n<p>At the moment you have</p>\n\n<pre><code>void compute_sum(int limit) // compute_sum function\n{\n    int sum_to_limit;\n    sum_to_limit = limit * (limit + 1) / 2;\n}\n</code></pre>\n\n<p>A function prototype in C looks pretty much like this</p>\n\n<pre><code>&lt;return type&gt; &lt;name&gt; (&lt;parameters&gt;)\n{\n    // your logic here\n\n    return &lt;your_own_variable&gt; // Note: You can omit this if the return type is void (it means the function doesn't return anything)\n}\n</code></pre>\n\n<p>You want to modify your function so you are returning the integer value you're calculating inside of it</p>\n\n<pre><code>int compute_sum(int limit) // compute_sum function\n{\n    int sum_to_limit;\n    sum_to_limit = limit * (limit + 1) / 2;\n    return sum_to_limit;\n}\n</code></pre>\n\n<p>So what happens is after main runs, when the the point of execution hits </p>\n\n<pre><code>compute_sum(maxNumber);\n</code></pre>\n\n<p>The program flow jumps to that function and executes the code inside of it. When the function finishes, it returns the value back to where it was originally called from. So you also need to add this to store the value returned</p>\n\n<pre><code>int result = compute_sum(maxNumber);\n</code></pre>\n\n<p>and then make sure to output that value to the user.</p>\n\n<p>You can also make the <code>computer_sum</code> function a little more terse my not storing a temporary variable, you can just do this</p>\n\n<pre><code>int compute_sum(int limit) // compute_sum function\n{\n    return limit * (limit + 1) / 2;\n}\n</code></pre>\n\n<p>I hope that helps. There's a lot more going on behind the scenes but that's the basic idea. Good luck! :)</p>\n"}], "owner": {"reputation": 7, "user_id": 4200417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmAhZVzT3ls/AAAAAAAAAAI/AAAAAAAAAFE/HxOYXmC1EDA/photo.jpg?sz=128", "display_name": "rattregoondoof", "link": "https://stackoverflow.com/users/4200417/rattregoondoof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 28867385, "answer_count": 1, "score": -6, "last_activity_date": 1425512952, "creation_date": 1425511804, "question_id": 28867157, "link": "https://stackoverflow.com/questions/28867157/how-to-use-functions-in-c", "title": "How to use functions in c++?", "body": "<p>I am supposed to get the following code to display something along the lines of: \"The sum of 1 to 10 is 55.\" (The larger number can be any number that was just the example I got.) I was given this code to use.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n// Compute the sum of all of the numbers from 1 to n where n\n// is a natural number\n// use the formula: n(n+1)/2\nvoid compute_sum(int limit) // compute_sum function\n{\nint sum_to_limit;\nsum_to_limit = limit * (limit + 1) / 2;\n}\nint main()\n{\nint sum = 0;\nint maxNumber;\n// get the maxNumber for the function call\ncout &lt;&lt; \"Enter a whole number greater than 0\" &lt;&lt; endl;\ncin &gt;&gt; maxNumber;\n// call compute sum\ncompute_sum(maxNumber); // Call to compute_sum function\n// display the sum calculated by the compute_sum function\ncout &lt;&lt; \"The sum of 1 to \" &lt;&lt; maxNumber;\ncout &lt;&lt; \" is \" &lt;&lt; sum &lt;&lt; endl;\n\nreturn 0;\n} \n</code></pre>\n\n<p>I do not understand how funcctions work at all and do not have any idea how I would go about getting this to work. The only thing I know about this (and this is from the teacher) is that the change required is not major. \"Note: If you are making major changes to the main and compute_sum funtions you are probably\ndoing way too much work.\" I have tried changing the function to an int function with a return but I could not get it to work properly (most likely due to not knowing how functions work). So can someone please help me?</p>\n"}, {"tags": ["c++", "visual-studio-2012"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1425511920, "post_id": 28867120, "comment_id": 45999006, "body": "Um, no it isn&#39;t. You&#39;re missing a crucial part: of <code>#define VER_FILEVERSION_STR         &quot;3.10.349.0\\0&quot;</code> - see the NULL character terminating the string? You&#39;re missing it in all of your string values, BTW."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1425512169, "post_id": 28867120, "comment_id": 45999093, "body": "The string values were defined and generated by visual studio 2012. I&#39;ll add it to the constant though."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 2, "creation_date": 1425512224, "post_id": 28867120, "comment_id": 45999112, "body": "Now I see even more crucial problem. There&#39;s no ` = ` in <code>define</code>."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1425512300, "post_id": 28867120, "comment_id": 45999132, "body": "Your next to last paragraph says <b>that&#39;s exactly what microsoft does in their documentation</b>, and I pointed out that it isn&#39;t. Also, which line is line #58 (the one indicated in both error messages as being the problem line)? You&#39;ve definitely not included 58 lines of text, so it&#39;s impossible to count to identify it from here. But I think you&#39;re right - the <i>=</i> is in fact the culprit."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1425512474, "post_id": 28867120, "comment_id": 45999183, "body": "@KenWhite I&#39;m not sure why are you posting that bold text. I already said I see the difference, no need to shout at me - which is what bold text sounds like. I also specifically said that the error is thrown for the first occurrence of the constant - which probably happened due to both = character and missing terminating <code>\\0</code>."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1425513409, "post_id": 28867120, "comment_id": 45999519, "body": "I quoted back <i>exactly what you posted</i>; I wasn&#39;t shouting at you, and I apologize if it seemed that way. You emphasized it, and I provided the same emphasis.Once again, my apologies if I offended you."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 4578093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-4YywI8bGyPM/AAAAAAAAAAI/AAAAAAAAAD8/xsQhCcRqow8/photo.jpg?sz=128", "display_name": "user4578093", "link": "https://stackoverflow.com/users/4578093/user4578093"}, "edited": false, "score": 1, "creation_date": 1425605129, "post_id": 28868392, "comment_id": 46042746, "body": "did that actually help?"}], "owner": {"reputation": 221, "user_id": 4578093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-4YywI8bGyPM/AAAAAAAAAAI/AAAAAAAAAD8/xsQhCcRqow8/photo.jpg?sz=128", "display_name": "user4578093", "link": "https://stackoverflow.com/users/4578093/user4578093"}, "is_accepted": true, "score": 1, "last_activity_date": 1425518759, "creation_date": 1425518759, "answer_id": 28868392, "question_id": 28867120, "link": "https://stackoverflow.com/questions/28867120/why-can-i-not-use-predefined-constants-in-rc-file/28868392#28868392", "title": "Why can I not use predefined constants in .rc file?", "body": "<p>Assuming that the code you posted is exactly equal to the code you tried to compile, I would say it might be that you are two END statements short of complete scoping, also I have never seen an equals sign in a #define statement.</p>\n\n<p>To be sure though, I am no expert when it comes resource files.</p>\n"}, {"owner": {"reputation": 11, "user_id": 5704217, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f5f3f211412f8b904989d95c87831247?s=128&d=identicon&r=PG", "display_name": "Kirk", "link": "https://stackoverflow.com/users/5704217/kirk"}, "is_accepted": false, "score": 1, "last_activity_date": 1450716528, "creation_date": 1450716528, "answer_id": 34400591, "question_id": 28867120, "link": "https://stackoverflow.com/questions/28867120/why-can-i-not-use-predefined-constants-in-rc-file/34400591#34400591", "title": "Why can I not use predefined constants in .rc file?", "body": "<p>Its because you are using an assignment operator in your macro definition, remove the \"=\" from your defines:</p>\n\n<pre><code>#ifdef x64 \n  #define MY_PRODUCT_NAME \"My file 64bit\"\n#else\n  #define MY_PRODUCT_NAME \"My file 32bit\"\n#endif\n</code></pre>\n"}], "owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 0, "accepted_answer_id": 28868392, "answer_count": 2, "score": -1, "last_activity_date": 1450716528, "creation_date": 1425511663, "question_id": 28867120, "link": "https://stackoverflow.com/questions/28867120/why-can-i-not-use-predefined-constants-in-rc-file", "title": "Why can I not use predefined constants in .rc file?", "body": "<p>I want to make sure one cannot mix up 64 and 32 bit version of my DLL file. This is why I defined following preprocessor constant in the project properties:</p>\n\n<p><img src=\"https://i.stack.imgur.com/FwBrt.png\" alt=\"image description\"></p>\n\n<p>In my <code>.rc</code> file, I have these lines:</p>\n\n<pre><code>#ifdef x64 \n  #define MY_PRODUCT_NAME = \"My file 64bit\"\n#else\n  #define MY_PRODUCT_NAME = \"My file 32bit\"\n#endif\n</code></pre>\n\n<p>I want to use these constants in resource block below:</p>\n\n<pre><code>BEGIN\n    BLOCK \"StringFileInfo\"\n    BEGIN\n        BLOCK \"000904b0\"\n        BEGIN\n            VALUE \"CompanyName\", \"SOMENAME\"\n            VALUE \"FileDescription\", \"WHAT THIS FILE IS\"\n            VALUE \"FileVersion\", \"1.0.0.1\"\n            VALUE \"InternalName\", \"file.dll\"\n            VALUE \"LegalCopyright\", \"Don't sell it pls\"\n            VALUE \"ProductName\", MY_PRODUCT_NAME\n        END\n</code></pre>\n\n<p>On the line containing <code>MY_PRODUCT_NAME</code>, I get this compiler error:</p>\n\n<pre><code>1&gt;  \n1&gt;StopThat.rc(58): error RC2133: unexpected value in value data\n1&gt;  \n1&gt;  \n1&gt;StopThat.rc(58): error RC2132: expected VALUE, BLOCK, or END keyword\n1&gt;  \n</code></pre>\n\n<p>This makes me real angry, because that's <strong><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa381058%28v=vs.85%29.aspx#code-snippet-3\" rel=\"nofollow noreferrer\">exactly what microsoft does in their documentation</a></strong>.</p>\n\n<p>Am I doing something wrong? I guess I am, so what is it?</p>\n"}, {"tags": ["c++", "linux", "bash", "ubuntu"], "answers": [{"owner": {"reputation": 823, "user_id": 592892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/695b15f15ed8500b23eee2985c1719e8?s=128&d=identicon&r=PG", "display_name": "bubla", "link": "https://stackoverflow.com/users/592892/bubla"}, "is_accepted": false, "score": 0, "last_activity_date": 1425518717, "creation_date": 1425518717, "answer_id": 28868382, "question_id": 28866919, "link": "https://stackoverflow.com/questions/28866919/how-to-build-opensmile-in-ubuntu/28868382#28868382", "title": "How to build OpenSMILE in Ubuntu?", "body": "<p>Judging by the ~ in <code>... TM85:~$</code>, It looks like that you stand in your home directory. Try <code>cd /home/me/Desktop/openSMILE-2.1.0/</code> followed by <code>./buildStandalone.sh</code>.</p>\n"}], "owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1013, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425518717, "creation_date": 1425510650, "question_id": 28866919, "link": "https://stackoverflow.com/questions/28866919/how-to-build-opensmile-in-ubuntu", "title": "How to build OpenSMILE in Ubuntu?", "body": "<p>I downloaded openSMILE 2.1.0, and followed the instructions : </p>\n\n<blockquote>\n  <p>Build the core from source on Linux: run the script buildStandalone.sh\n  (requires automake and autoconf and build-essentials - gcc, g++, make,\n  libtool - to be installed),</p>\n</blockquote>\n\n<p>I installed the relevant packages, gave permission to <code>buildStandalone.sh</code> as executable, and executed it from the terminal. The output is : </p>\n\n<pre><code>me@me-EasyNote-TM85:~$ '/home/me/Desktop/openSMILE-2.1.0/buildStandalone.sh' \nchmod: cannot access \u2018configure\u2019: No such file or directory\nchmod: cannot access \u2018autogen.sh\u2019: No such file or directory\n/home/me/Desktop/openSMILE-2.1.0/buildStandalone.sh: line 33: ./autogen.sh: No such file or directory\n/home/me/Desktop/openSMILE-2.1.0/buildStandalone.sh: line 34: ./autogen.sh: No such file or directory\n./configure --prefix=/home/me/inst --enable-static --enable-shared=no\n/home/me/Desktop/openSMILE-2.1.0/buildStandalone.sh: line 46: ./configure: No such file or directory\nfailed to configure openSMILE!\n</code></pre>\n\n<p>What is the problem and how can I solve it to proceed building OpenSMILE?</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["c++", "pointers", "memory", "struct", "dynamic-memory-allocation"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1425510742, "post_id": 28866873, "comment_id": 45998606, "body": "You&#39;ve deleted the object that <code>obj.p</code> points to, it is now a dangling pointer pointing to unallocated (or potentially re-used) memory."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1425510857, "post_id": 28866873, "comment_id": 45998641, "body": "If you want to copy values (because you allocated <code>obj.p = new hub;</code> too), use more <code>*</code>. Ie. <code>obj.*p = *pi;</code>. And delete the second new-ed thing too sometimes."}], "answers": [{"owner": {"reputation": 100185, "user_id": 3234959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bb12ca0f93dfddb33880316f7e66c2?s=128&d=identicon&r=PG&f=1", "display_name": "chi", "link": "https://stackoverflow.com/users/3234959/chi"}, "is_accepted": true, "score": 0, "last_activity_date": 1425510796, "creation_date": 1425510796, "answer_id": 28866953, "question_id": 28866873, "link": "https://stackoverflow.com/questions/28866873/c-how-to-allocate-memory-to-a-pointer-of-a-struct-which-is-member-of-another-s/28866953#28866953", "title": "C++ how to allocate memory to a pointer of a struct which is member of another second struct?", "body": "<pre><code>obj.p = pi; // now obj.p should be identical to what pi points to right?\n</code></pre>\n\n<p>Yes, both pointers are now equal. As a consequence, <code>delete pi</code> is equivalent to <code>delete obj.p</code>. Once this is done, the statement</p>\n\n<pre><code>cout&lt;&lt;\"\\n\"&lt;&lt;obj.p-&gt;info&lt;&lt;\" \"&lt;&lt;obj.p-&gt;info2;//This shows random numbers,why ???\n</code></pre>\n\n<p>tries to access the memory which has just been freed. This results in undefined behavior.</p>\n\n<p>As a side note, be careful here:</p>\n\n<pre><code>obj.p = new hub; // allocate memory for obj.p\nobj.p = pi;\n</code></pre>\n\n<p>The second statement <em>overwrites</em> the pointer to the memory allocated by <code>new hub</code>. After that, such memory is no longer accessible, nor can be freed. This is a memory leak.</p>\n"}, {"owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1425511265, "creation_date": 1425511265, "answer_id": 28867045, "question_id": 28866873, "link": "https://stackoverflow.com/questions/28866873/c-how-to-allocate-memory-to-a-pointer-of-a-struct-which-is-member-of-another-s/28867045#28867045", "title": "C++ how to allocate memory to a pointer of a struct which is member of another second struct?", "body": "<p>obj.p = new hub; // Not necessary ,you can directly  write   obj.p = pi   </p>\n\n<p>delete pi; //After  this instruction,  pi  is  free (BUT NOT AUTOMATICALLY  TO NULL  ) pi points  now  to  a \"trash\" ,  it's  why you see  random  number.<br>\nSo  you have to reallocate  it again .</p>\n"}], "owner": {"reputation": 27, "user_id": 4634359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2887b0850baad6a16310e83d5ef9ef0f?s=128&d=identicon&r=PG&f=1", "display_name": "bitadept", "link": "https://stackoverflow.com/users/4634359/bitadept"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 28866953, "answer_count": 2, "score": 0, "last_activity_date": 1425519825, "creation_date": 1425510456, "question_id": 28866873, "link": "https://stackoverflow.com/questions/28866873/c-how-to-allocate-memory-to-a-pointer-of-a-struct-which-is-member-of-another-s", "title": "C++ how to allocate memory to a pointer of a struct which is member of another second struct?", "body": "<p>This is the code:</p>\n\n<pre><code># include&lt;iostream&gt;\n#include&lt;stdio.h&gt;\nusing namespace std;\n    struct hub\n    {\n        int info;\n        int info2;\n    };\n    struct hub2\n    {\n        hub *p;\n    };\n    int main()\n    {\n        hub *pi;\n        pi = new hub; // allocate memory for pi\n        pi-&gt;info = 30;\n        pi-&gt;info2 = 45;\n        cout&lt;&lt;pi-&gt;info&lt;&lt;\" \"&lt;&lt;pi-&gt;info2; // shows 30 and 45\n        hub2 obj; // declare a hub2 data type\n        obj.p = new hub; // allocate memory for obj.p\n        obj.p = pi; // now obj.p should be identical to what pi points to right?\n        cout&lt;&lt;\"\\n\"&lt;&lt;obj.p-&gt;info&lt;&lt;\" \"&lt;&lt;obj.p-&gt;info2; // This will show 30 and 45\n        cout&lt;&lt;endl;\n        delete pi;\n        cout&lt;&lt;\"\\n\"&lt;&lt;obj.p-&gt;info&lt;&lt;\" \"&lt;&lt;obj.p-&gt;info2;//This shows random numbers,why ???\n    }\n</code></pre>\n\n<p>Why doesn't obj.p allocate memory after I delete the memory allocated for pi pointer?\nI really need a solution to this.I have to finish a very important project and I am stuck here with at this memory allocating part :(</p>\n"}, {"tags": ["c++", "visual-studio-2010", "mfc"], "comments": [{"owner": {"reputation": 189, "user_id": 1793036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b6682abc63e6be83a7f796b9f4b64c?s=128&d=identicon&r=PG", "display_name": "user1793036", "link": "https://stackoverflow.com/users/1793036/user1793036"}, "edited": false, "score": 0, "creation_date": 1425531579, "post_id": 28866612, "comment_id": 46004344, "body": "If you are using MFC (as you are) I think you will need to roll your own (as I did) or find an existing library."}, {"owner": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "edited": false, "score": 0, "creation_date": 1425563330, "post_id": 28866612, "comment_id": 46020376, "body": "Have you thought about <a href=\"http://www.codeproject.com/Articles/6234/High-color-icons-for-CPropertySheet\" rel=\"nofollow noreferrer\">adding an &quot;X&quot; icon</a> to the property page tab?"}, {"owner": {"reputation": 111, "user_id": 4634326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c228f28a1292a365717cfeccd19f4de0?s=128&d=identicon&r=PG&f=1", "display_name": "DiceMaster1018", "link": "https://stackoverflow.com/users/4634326/dicemaster1018"}, "edited": false, "score": 0, "creation_date": 1425673065, "post_id": 28866612, "comment_id": 46073280, "body": "OP update:  Since I wasn&#39;t at liberty to switch to using CMFCTabCtrl, and since I didn&#39;t have a weak to hack together a solution, I used a button on the CPropertyPage-derived class.  Thanks for the input, it was quite helpful."}], "answers": [{"owner": {"reputation": 1863, "user_id": 1284927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/B4DBf.jpg?s=128&g=1", "display_name": "thomiel", "link": "https://stackoverflow.com/users/1284927/thomiel"}, "is_accepted": false, "score": 1, "last_activity_date": 1425563762, "creation_date": 1425563762, "answer_id": 28879509, "question_id": 28866612, "link": "https://stackoverflow.com/questions/28866612/how-can-i-add-an-x-to-close-pages-on-a-cpropertysheet/28879509#28879509", "title": "How can I add an x to close Pages on a CPropertySheet?", "body": "<p>.h:</p>\n\n<pre><code>CMFCTabCtrl m_wndTab;\n</code></pre>\n\n<p>.cpp:</p>\n\n<pre><code>m_wndTab.Create (CMFCTabCtrl::STYLE_3D, rectTab, this, 1, CMFCTabCtrl::LOCATION_TOP);   \nm_wndTab.EnableActiveTabCloseButton(); // &lt;-- this adds a X button to the tab\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 4634326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c228f28a1292a365717cfeccd19f4de0?s=128&d=identicon&r=PG&f=1", "display_name": "DiceMaster1018", "link": "https://stackoverflow.com/users/4634326/dicemaster1018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425563762, "creation_date": 1425509202, "last_edit_date": 1425510319, "question_id": 28866612, "link": "https://stackoverflow.com/questions/28866612/how-can-i-add-an-x-to-close-pages-on-a-cpropertysheet", "title": "How can I add an x to close Pages on a CPropertySheet?", "body": "<p>I have a resizable CPropertySheet which displays CPropertyPages in a tabbed view.  Clients have requested that the CPropertyPage tabs be closable by clicking an x on the tab (similar to google chrome, or Visual Studio itself).  Is there a relatively straightforward way to accomplish this?  I'm using VS2010, if that's pertinent.</p>\n\n<p>Various combinations of Google search terms failed to yield helpful results, and I haven't found an answer in the documentation.</p>\n"}, {"tags": ["c++", "algorithm", "matrix-multiplication", "eigen"], "answers": [{"comments": [{"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1425547542, "post_id": 28866650, "comment_id": 46010806, "body": "For the record, doing 120 multiplication of matrices of size 500^2 takes 0.5 second with the devel branch of Eigen without even using multithreading  (2.6GHz core i7)"}, {"owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425555715, "post_id": 28866650, "comment_id": 46015940, "body": "I was actually compiling my code as a single .cpp file (in codeblocks), then, to try your compiler options, i created a projet and added the .cpp file. Curiously, compiling the code as a projet made it x10 times faster, and I have no idea how or why (I&#39;m a beginner), the compiler options didn&#39;t make much difference. It&#39;s still not fast enough, but it is a good start. Any more recommendations ?"}, {"owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "reply_to_user": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1425556020, "post_id": 28866650, "comment_id": 46016096, "body": "@ggael Can you please elaborate ? What&#39;s the devel branch of Eigen ?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425563656, "post_id": 28866650, "comment_id": 46020563, "body": "@Naucle, the devel branch of Eigen is the development branch, i.e. the next to be version. When you compile your file as a project, the compiler probably inserts some optimization flags for you. Try compiling in Release mode. Also, I would try just compiling the file from the command line with the flags I told you."}, {"owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425570597, "post_id": 28866650, "comment_id": 46025263, "body": "@vsoftco I did actually, and I got run duration similar to the compiled project, but not with -fopenmp. This option compiles in command line but give longer run duration, and it brings out an error in codeblocks."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425571530, "post_id": 28866650, "comment_id": 46025853, "body": "@Naucle can you provide also the <code>example.txt</code> file that you use? I am curios how long it takes on my machine."}, {"owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425572366, "post_id": 28866650, "comment_id": 46026392, "body": "@vsoftco I&#39;m not using a exemple.txt, the algorithm generates it. In this case, it is a 500x500 matrix generated in 19 seconds, the txt is about 9mo big. Here is a 100x100 matrix exemple : <a href=\"http://pastebin.com/hCw1fKCm\" rel=\"nofollow noreferrer\">pastebin.com/hCw1fKCm</a> EDIT : You can try different matrix sizes by changing the first argument of globalMatrix(...) function in the main."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425573290, "post_id": 28866650, "comment_id": 46026987, "body": "@Naucle it runs on my end in about 6 seconds, for your original code (500 x 500 matrix). iMac core i5, 8GB RAM"}, {"owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425573680, "post_id": 28866650, "comment_id": 46027240, "body": "@vsoftco Sony Vaio i5, 4GB RAM and MinGW x64-4.9.2 here, what would the problem be ?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "edited": false, "score": 0, "creation_date": 1425576333, "post_id": 28866650, "comment_id": 46028951, "body": "@Naucle not sure, it shouldn&#39;t take so much time."}], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 3, "last_activity_date": 1425509423, "creation_date": 1425509423, "answer_id": 28866650, "question_id": 28866601, "link": "https://stackoverflow.com/questions/28866601/optimize-large-matrices-multiplication-in-eigen/28866650#28866650", "title": "Optimize large matrices multiplication in Eigen", "body": "<p>Make sure you compile with full optimizations, e.g. <code>g++ -O3 -DEIGEN_NO_DEBUG</code> if using g++. Also, turning on parallelization via OpenMP may help, use <code>-fopenmp</code> when compiling and linking.</p>\n\n<p>I use the following to compile most Eigen code (with g++):</p>\n\n<pre><code>g++ -I/path/to/eigen -O3 -DEIGEN_NO_DEBUG -fopenmp program.cpp\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 3557757, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVg8M.jpg?s=128&g=1", "display_name": "Naucle", "link": "https://stackoverflow.com/users/3557757/naucle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2131, "favorite_count": 0, "accepted_answer_id": 28866650, "answer_count": 1, "score": 1, "last_activity_date": 1425509423, "creation_date": 1425509174, "question_id": 28866601, "link": "https://stackoverflow.com/questions/28866601/optimize-large-matrices-multiplication-in-eigen", "title": "Optimize large matrices multiplication in Eigen", "body": "<p>I'm doing some large stochastic matrices (at least 1000x1000) calculation in C++, using the Eigen Library, my code consists of the following functions :</p>\n\n<blockquote>\n  <p>Eigen::VectorXd grid(...); initializes (element by element) a sorted vector of log-normally distributed values, using the quicksort algorithm and the ran1 algorithm, let's say of size N, all matrices are then of size NxN.</p>\n  \n  <p>Eigen::VectorXd conditionGrid(...); a loop that returns a vector containing the grid vector minus a time dependent value.</p>\n  \n  <p>Eigen::MatrixXd xjkMatrix(...); matrix constructed from the two vectors through a loop.</p>\n  \n  <p>Eigen::MatrixXd qzMatrix(...); uses the xjk matrix to construct a new one using a probability density function, element by element.</p>\n  \n  <p>Eigen::MatrixXd q1zMatrix(...); uses the xjk matrix too, to construct a new one using a probability density function, element by element.</p>\n  \n  <p>Eigen::MatrixXd qjkMatrix(...); combination of the qz and the grid, element by element loop.</p>\n  \n  <p>Eigen::MatrixXd q1jkMatrix(...); combination of the qz, q1z and the grid, element by element loop.</p>\n  \n  <p>Eigen::MatrixXd mjkMatrix(...); sums elements from qjk and q1jk, element by element loop.</p>\n  \n  <p>Eigen::MatrixXd globalMatrix(...); loops all the above functions (120 times generally) except the grid, which is fixed, and multiplies the 120 mjk matrices to obtain a global one.</p>\n</blockquote>\n\n<p>A global matrix 200x200 takes about 20 seconds of calculations, 500x500 is about 200 seconds. How can I make my code run faster, and optimize my matrix multiplications ? (I have tried sparse matrices, but it took even longer).</p>\n\n<p>I'm using MinGW64.</p>\n"}, {"tags": ["c++", "file", "stream"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1425509755, "post_id": 28866591, "comment_id": 45998226, "body": "Are you sure the file you&#39;re writing to is the same one you&#39;re looking at afterwards? You say the contents are there if read via ifstream -- by what other method are you independently checking the file contents?"}, {"owner": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1425511319, "post_id": 28866591, "comment_id": 45998827, "body": "Basically, I use ifstream class and file_name &gt;&gt; data to read the contents"}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "edited": false, "score": 0, "creation_date": 1425509856, "post_id": 28866691, "comment_id": 45998277, "body": "Sorry, I did not include that in my question but I actually did close it as you mentioned, here are the next few lines:                                                      cout &lt;&lt; &quot;Enter your age: &quot;;     cin &gt;&gt; data;     cin.ignore();          // again write inputted data into the file.     outfile &lt;&lt; data &lt;&lt; endl;          // close the opened file.     outfile.close();"}, {"owner": {"reputation": 404, "user_id": 1701302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5296a9447541c621c752a2c052026de?s=128&d=identicon&r=PG", "display_name": "Log_n", "link": "https://stackoverflow.com/users/1701302/log-n"}, "reply_to_user": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "edited": false, "score": 0, "creation_date": 1425510744, "post_id": 28866691, "comment_id": 45998607, "body": "That should work then, I just built and ran it to verify just in case.  I would follow Cameron&#39;s suggestion and double check that you are checking the right file.  Specifically before running your program delete the &quot;test.rtf&quot; that you are checking and make sure it is remade after running your program.  And/or use an absolute directory eg ~/usr/blahblah/test.rtf."}, {"owner": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "edited": false, "score": 0, "creation_date": 1425511077, "post_id": 28866691, "comment_id": 45998730, "body": "Thanks! If I am not specifying the directory, where would the file appear?"}, {"owner": {"reputation": 404, "user_id": 1701302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5296a9447541c621c752a2c052026de?s=128&d=identicon&r=PG", "display_name": "Log_n", "link": "https://stackoverflow.com/users/1701302/log-n"}, "reply_to_user": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "edited": false, "score": 0, "creation_date": 1425511233, "post_id": 28866691, "comment_id": 45998795, "body": "No problem, and have fun!  When you use relative links it defaults to the current working directory.  It&#39;s generally better to specify an absolute path to avoid confusion."}], "owner": {"reputation": 404, "user_id": 1701302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5296a9447541c621c752a2c052026de?s=128&d=identicon&r=PG", "display_name": "Log_n", "link": "https://stackoverflow.com/users/1701302/log-n"}, "is_accepted": false, "score": 3, "last_activity_date": 1425509605, "creation_date": 1425509605, "answer_id": 28866691, "question_id": 28866591, "link": "https://stackoverflow.com/questions/28866591/trying-to-manipulate-files-in-c/28866691#28866691", "title": "Trying to manipulate files in c++", "body": "<p>When you &lt;&lt; to your file you are just writing to a buffer, not actually \"flushing\" it to the file itself.  If you just close your file you should be fine.  </p>\n\n<p>So: </p>\n\n<pre><code>outfile.close()\n</code></pre>\n\n<p>Also in the future you can flush (actually write from buffer to the file) when you want to write to a file but not close it.  .close() flushes then closes for you automatically.  </p>\n"}], "owner": {"reputation": 203, "user_id": 4634361, "user_type": "registered", "accept_rate": 19, "profile_image": "https://graph.facebook.com/10206277550043976/picture?type=large", "display_name": "Eduard Kim", "link": "https://stackoverflow.com/users/4634361/eduard-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425509954, "creation_date": 1425509150, "last_edit_date": 1425509954, "question_id": 28866591, "link": "https://stackoverflow.com/questions/28866591/trying-to-manipulate-files-in-c", "title": "Trying to manipulate files in c++", "body": "<p>When using <code>&lt;fstream&gt;</code> library to open and add a stream to an existing file <code>test.rtf</code> and I use the following lines:</p>\n\n<pre><code>char data[100];\n\n// open a file in write mode.\nofstream outfile;\noutfile.open(\"test.rtf\");\nif (outfile.is_open()) { cout &lt;&lt; \"file is open\" &lt;&lt; endl; }\n\ncout &lt;&lt; \"Writing to the file\" &lt;&lt; endl;\ncout &lt;&lt; \"Enter your name: \";\ncin.getline(data, 100);\n\n// write inputted data into the file.\noutfile &lt;&lt; data &lt;&lt; endl;\n</code></pre>\n\n<p>And when reading it by using ifstream, the lines input are displayed correctly. The problem is the output file is not modified and lines I have added are not saved. The question might sound very stupid but it's a problem I could not resolve.</p>\n"}, {"tags": ["c++", "c++11", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 1018, "user_id": 1592377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/EIJfg.png?s=128&g=1", "display_name": "jplatte", "link": "https://stackoverflow.com/users/1592377/jplatte"}, "edited": false, "score": 0, "creation_date": 1425510592, "post_id": 28866571, "comment_id": 45998552, "body": "So you want a structure with unqiue keys but without sorting? How should that be possible? You need your container to be sorted to be able to efficiently check whether an element with a specific key already exists in the container. I think an unordered_map implementation is a good idea."}, {"owner": {"reputation": 1018, "user_id": 1592377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/EIJfg.png?s=128&g=1", "display_name": "jplatte", "link": "https://stackoverflow.com/users/1592377/jplatte"}, "edited": false, "score": 0, "creation_date": 1425510920, "post_id": 28866571, "comment_id": 45998667, "body": "Also, I didn&#39;t look into it in detail, but I noticed one thing: You created your own hashing struct that you passed to the unordered_map template instantiation as third parameter. You could also (partially, in your case) specialize std::hash instead. It&#39;s just an alternative though, I don&#39;t think it will make a difference in behaviour or performance. One thing that you should change though is the name of your namespace; names with two leading underscores are reserved for compiler- and standard-library-interal use: <a href=\"http://stackoverflow.com/q/228783/1592377\">stackoverflow.com/q/228783/1592377</a>"}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "reply_to_user": {"reputation": 1018, "user_id": 1592377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/EIJfg.png?s=128&g=1", "display_name": "jplatte", "link": "https://stackoverflow.com/users/1592377/jplatte"}, "edited": false, "score": 0, "creation_date": 1425596888, "post_id": 28866571, "comment_id": 46040100, "body": "@jPlatte: I&#39;m not asking for no sorting. I&#39;m just asking for no duplicate data stored. For example, the map could store pointers to key parts stored in lists. The map can sort the pointers as much as it likes. PS: I didn&#39;t know about the namespace naming convention. Thanks for the tip."}, {"owner": {"reputation": 1018, "user_id": 1592377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/EIJfg.png?s=128&g=1", "display_name": "jplatte", "link": "https://stackoverflow.com/users/1592377/jplatte"}, "edited": false, "score": 1, "creation_date": 1425597470, "post_id": 28866571, "comment_id": 46040304, "body": "I know you didn&#39;t specifically ask for no sorting, but you mentioned sorting as an overhead, which it isn&#39;t because like I said your container has to be sorted to provide key uniqueness efficiently. About the naming: That isn&#39;t a namespace naming convention, it applies to all names, variables, classes, functions and macros as well as namespaces."}], "answers": [{"comments": [{"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1425597267, "post_id": 28868151, "comment_id": 46040229, "body": "I was already considering that, but the drawback is that in this implementation I can&#39;t write a get function which I could use like this <code>for (auto&amp; p : mymap.get&lt;0&gt;() ) { ... }</code> to iterate over a particular property, without p being of a pointer or iterator type. Or can I add a list to my class storing references? Could I make it <code>std::forward_list&lt;std::ref&lt;T&gt;&gt;</code>?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1425603164, "post_id": 28868151, "comment_id": 46042178, "body": "@ivan or write an iterator dereferencing iterator?"}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1425609724, "post_id": 28868151, "comment_id": 46044043, "body": "Do you mean write a class for the get function to return, which would implement begin() and end() returning iterator like objects which derefence to references to T?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1425611669, "post_id": 28868151, "comment_id": 46044466, "body": "@ivanp sure, but the range portion is easy.  The hard part is iterators over a range of elements which are also iterators, that when you dereference the &quot;outer&quot; iterator it does a double-dereference."}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1425751470, "post_id": 28868151, "comment_id": 46093954, "body": "I finally <a href=\"https://github.com/ivankp/propmap_cpp11/blob/b9a2efc8ac29286fa45ab930fd5027c24a312b8c/propmap.hh\" rel=\"nofollow noreferrer\">implemented</a> it this way, except I still populate the lists directly with <code>prop_t</code>, the sets&#39; elements are <code>tuple&lt;hash_t,prop_t*&gt;</code>, and map key type is <code>tuple&lt; tuple&lt;hash_t,prop_t*&gt;* ...&gt;</code>. But similarly to in your scenario, I first find if a new property is already in the set, and if not, I push it into the list, and insert the respective a pointer with a hash into the set. The problem is that the new implementation is almost a factor of 2 slower. This perplexes me."}], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 3, "last_activity_date": 1425517114, "creation_date": 1425517114, "answer_id": 28868151, "question_id": 28866571, "link": "https://stackoverflow.com/questions/28866571/c-multi-index-map-implementation/28868151#28868151", "title": "C++ multi-index map implementation", "body": "<p>Have your map be from tuples of iterators to your prop containers.</p>\n\n<p>Write a hash the dereferences the iterators and combines the result.</p>\n\n<p>Replace the forward list prop containers with sets that first order on hash, then contents.</p>\n\n<p>Do lookup by first finding in set, then doing lookup in hash.</p>\n\n<p>If you need a different order for props, have another container of set iterators.</p>\n"}], "owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3862, "favorite_count": 2, "accepted_answer_id": 28868151, "answer_count": 1, "score": 5, "last_activity_date": 1425517114, "creation_date": 1425509030, "question_id": 28866571, "link": "https://stackoverflow.com/questions/28866571/c-multi-index-map-implementation", "title": "C++ multi-index map implementation", "body": "<p>I'm implementing a multi-index map in C++11, which I want to be optimized for specific features. The problem I'm currently trying to solve, is to not store key elements more then once. But let me explain.</p>\n\n<p>The problem arose from sorting histograms to overlay them in different combinations. The histograms had names, which could be split into tokens (properties).</p>\n\n<p>Here are the features I want my property map to have:</p>\n\n<ol>\n<li>Be able to loop over properties in any order;</li>\n<li>Be able to return container with unique values for each property;</li>\n<li>Accumulate properties' values in the order they arrive, but to be able to sort properties using a custom comparison operator after the map is filled;</li>\n</ol>\n\n<p>I have a <a href=\"https://github.com/ivankp/propmap_cpp11/blob/33a433aeb0e3c55d0e1e55513be404aa9a2f312e/propmap.hh\" rel=\"noreferrer\">working implementation</a> in C++11 using <code>std::unordered_map</code> with <code>std::tuple</code> as <code>key_type</code>. I'm accumulating property values as they arrive into a tuple of forward_lists. The intended use, is to iterate over the lists to compose keys.</p>\n\n<p>The optimization I would like to introduce, is to only store properties' value in the lists, and not store them in tuples used as keys in the map. I'd like to maintain ability to have functions returning const references to lists of property values, instead of lists of some wrappers.</p>\n\n<p>I know that <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/multi_index/doc/index.html\" rel=\"noreferrer\">boost::multi_index</a> has similar functionality, but I don't need the overhead of sorting as the keys arrive. I'd like to have new property values stored sequentially, and only be sortable postfactum. I've also looked at <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/flyweight/doc/index.html\" rel=\"noreferrer\">boost::flyweight</a>, but in the simplest approach, the lists will then be of <code>flyweight&lt;T&gt;</code> instead of <code>T</code>, and I'd like to not do that. (If that IS the best solution, I could definitely live with it.)</p>\n\n<p>I know that lists are stable, i.e. once an element is created, its pointer and iterator remain valid, even after invoking <code>list::sort()</code>. Knowing that, can something be done to the map, to eliminate redundant copies of tuple elements? Could a custom map allocator help here?</p>\n\n<p>Thanks for suggestions.</p>\n"}, {"tags": ["c++", "c++11", "variadic-templates"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 7, "creation_date": 1425509151, "post_id": 28866559, "comment_id": 45997976, "body": "Why not just <code>template &lt;typename ...Args&gt; X(Args ...args) : v({args...}) {}</code>?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 4, "creation_date": 1425509269, "post_id": 28866559, "comment_id": 45998024, "body": "Your class really should take a <code>std::initializer_list&lt;T&gt;</code> argument instead of having a variadic template constructor. That&#39;s idiomatic."}, {"owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "edited": false, "score": 2, "creation_date": 1425509305, "post_id": 28866559, "comment_id": 45998041, "body": "I&#39;m new in C++11, so still learning."}], "answers": [{"comments": [{"owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "edited": false, "score": 0, "creation_date": 1425510148, "post_id": 28866740, "comment_id": 45998398, "body": "Strange. I don&#39;t have compile errors (VS 2013). But yes, I understand where is the problem. Thanks."}], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 34, "last_activity_date": 1425509871, "creation_date": 1425509871, "answer_id": 28866740, "question_id": 28866559, "link": "https://stackoverflow.com/questions/28866559/writing-variadic-template-constructor/28866740#28866740", "title": "Writing variadic template constructor", "body": "<p>First, your code doesn't compile for me.</p>\n\n<pre><code>main.cpp:7:15: error: declaration of \u2018class T\u2019\n     template &lt;class T&gt;\n               ^\nmain.cpp:3:11: error:  shadows template parm \u2018class T\u2019\n template &lt;class T&gt;\n           ^\n</code></pre>\n\n<p>I changed the outer one to <code>U</code>.</p>\n\n<pre><code>template &lt;class U&gt;\nclass X{\npublic:\n    vector&lt;U&gt; v;\n    template &lt;class T&gt;\n    X(T n) {\n        v.push_back(n);\n    }\n    template &lt;class T, class... T2&gt;\n    X(T n, T2... rest) {\n        v.push_back(n);\n        X(rest...);\n    }\n};\n</code></pre>\n\n<p>You're correct that this causes the issue you gave in the question details...</p>\n\n<pre><code>X&lt;int&gt; obj(1, 2, 3);  // obj.v containts only 1\n</code></pre>\n\n<p>This is because the statement <code>X(rest...)</code> at the end of your constructor doesn't recursively call the constructor to continue initializing the same object; it creates a <em>new</em> <code>X</code> object and then throws it away. Once a constructor's <em>body</em> begins to execute, it's no longer possible to invoke another constructor on the same object. Delegation must occur in the <em>ctor-initializer</em>. So for example, you could do this:</p>\n\n<pre><code>template &lt;class T, class... T2&gt;\nX(T n, T2... rest): X(rest...) {\n    v.insert(v.begin(), n);\n}\n</code></pre>\n\n<p>That sucks though, because inserting at the beginning of a vector isn't efficient.</p>\n\n<p>Better to take a <code>std::initializer_list&lt;T&gt;</code> argument. This is what <code>std::vector</code> itself does.</p>\n\n<pre><code>X(std::initializer_list&lt;U&gt; il): v(il) {}\n// ...\nX&lt;int&gt; obj {1, 2, 3};\n</code></pre>\n"}, {"owner": {"reputation": 10759, "user_id": 343443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2dcf7b64ff07a02fbd78c27f50ce9631?s=128&d=identicon&r=PG", "display_name": "Abyx", "link": "https://stackoverflow.com/users/343443/abyx"}, "is_accepted": false, "score": 5, "last_activity_date": 1425587568, "creation_date": 1425587568, "answer_id": 28887182, "question_id": 28866559, "link": "https://stackoverflow.com/questions/28866559/writing-variadic-template-constructor/28887182#28887182", "title": "Writing variadic template constructor", "body": "<p>There is no need for recursion in the first place -<br>\nyou can use the \"temporary array\" idiom and write</p>\n\n<pre><code>template &lt;class... E&gt;\nX(E&amp;&amp;... e) {\n    int temp[] = {(v.push_back(e), 0)...};\n}\n</code></pre>\n\n<p>The proper (and more complicated) version of this approach looks like this:</p>\n\n<pre><code>template &lt;class... E&gt;\nX(E&amp;&amp;... e) {\n    (void)std::initializer_list&lt;int&gt;{(v.push_back(std::forward&lt;E&gt;(e)), void(), 0)...};\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/213db50feebc5889\" rel=\"noreferrer\">Live version</a></p>\n\n<p>Note, than the next version of C++ will probably have the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4295.html\" rel=\"noreferrer\">Fold Expressions</a><br>\n<code>(v.push_back(e), ...);</code></p>\n"}, {"owner": {"reputation": 2740, "user_id": 41789, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dd001572ef01005cf4a27107e971638a?s=128&d=identicon&r=PG", "display_name": "abigagli", "link": "https://stackoverflow.com/users/41789/abigagli"}, "is_accepted": false, "score": 8, "last_activity_date": 1425648588, "last_edit_date": 1425648588, "creation_date": 1425642383, "answer_id": 28898122, "question_id": 28866559, "link": "https://stackoverflow.com/questions/28866559/writing-variadic-template-constructor/28898122#28898122", "title": "Writing variadic template constructor", "body": "<p>Totally agree with Brian's answer, but even though the right approach is another (i.e. use initializer_list) please be aware (for the sake of doing this correctly in other circumstances) that variadic template recursion in this case could be much simpler just by noting that an empty pack is a valid template parameter pack, so that the variadic template constructor will be called one final time with the empty pack, which will lead to trying to call a default ctor, which just can be defaulted and terminate the recursion.</p>\n\n<p>IOW, the following would work and would be much cleaner IMO:</p>\n\n<pre><code>template &lt;class T&gt;\nstruct X\n{\n    std::vector&lt;T&gt; v;\n    X() = default; //Terminating recursion\n\n    template &lt;class U, class... Ts&gt;\n    X(U n, Ts... rest)  : X(rest...) { .. the recursive work ..}\n};\n</code></pre>\n\n<p>Again, I'm not saying templates and recursion are the right thing here, I'm just pointing out that would they be necessary, there would be a simpler way to use them.</p>\n"}, {"comments": [{"owner": {"reputation": 5225, "user_id": 1438038, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/2N2JQ.png?s=128&g=1", "display_name": "user1438038", "link": "https://stackoverflow.com/users/1438038/user1438038"}, "edited": false, "score": 3, "creation_date": 1501776036, "post_id": 45489189, "comment_id": 77939623, "body": "Welcome to StackOverflow. Though this might answer the question, please also provide a short explanation what your code actually does and how it solves the initial problem."}], "owner": {"reputation": 11, "user_id": 8412806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf465099e992db20b5a772d166c6e01?s=128&d=identicon&r=PG", "display_name": "fengzi", "link": "https://stackoverflow.com/users/8412806/fengzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1501775724, "creation_date": 1501775724, "answer_id": 45489189, "question_id": 28866559, "link": "https://stackoverflow.com/questions/28866559/writing-variadic-template-constructor/45489189#45489189", "title": "Writing variadic template constructor", "body": "<pre><code>template &lt;class T, class... Rest&gt;\n  X(T n, Rest... rest) {\n   add(rest...);\n }\n\n//Just another member function\ntemplate&lt;class T&gt;\n  void add(T n) {\n    v.push_back(n);\n }\n  template&lt;class T, class ... Rest&gt;\n   void add(T n, Rest... rest) {\n     v.push_back(n);\n     add(rest...);\n\n }\n</code></pre>\n"}], "owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28085, "favorite_count": 7, "accepted_answer_id": 28866740, "answer_count": 4, "score": 23, "last_activity_date": 1501775724, "creation_date": 1425508986, "last_edit_date": 1495540474, "question_id": 28866559, "link": "https://stackoverflow.com/questions/28866559/writing-variadic-template-constructor", "title": "Writing variadic template constructor", "body": "<p>Recently I asked <a href=\"https://stackoverflow.com/questions/28864200/how-to-set-the-same-type-for-all-arguments-in-this-example/28864581#28864581\">this</a> question but now I would like to expand it. I wrote the following class:</p>\n\n<pre><code>template &lt;class T&gt;\nclass X{\npublic:\n    vector&lt;T&gt; v;\n    template &lt;class T&gt;\n    X(T n) {\n        v.push_back(n);\n    }\n    template &lt;class T, class... T2&gt;\n    X(T n, T2... rest) {\n        v.push_back(n);\n        X(rest...);\n    }\n};\n</code></pre>\n\n<p>When creating an object using </p>\n\n<pre><code>X&lt;int&gt; obj(1, 2, 3);  // obj.v containts only 1\n</code></pre>\n\n<p>Vector only contains the first value, but not others. I've checked and saw that constructor is called 3 times, so I'm probably creating temp objects and filling their vectors with the rest of the arguments. How do I solve this problem?</p>\n"}, {"tags": ["c++", "linked-list", "postfix-notation"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1425508989, "post_id": 28866540, "comment_id": 45997908, "body": "<code>std::istringstream</code> is your friend for this."}, {"owner": {"reputation": 29, "user_id": 1900070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dfd52278b67481818ca996a72fe5eb?s=128&d=identicon&r=PG", "display_name": "Lithedreamer", "link": "https://stackoverflow.com/users/1900070/lithedreamer"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1425509299, "post_id": 28866540, "comment_id": 45998039, "body": "Ah! I meant to mention, it&#39;s homework: no stringstream or boost."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1425509425, "post_id": 28866540, "comment_id": 45998092, "body": "Oh. Well, then, read line by line, parse the strings character by character."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 1900070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dfd52278b67481818ca996a72fe5eb?s=128&d=identicon&r=PG", "display_name": "Lithedreamer", "link": "https://stackoverflow.com/users/1900070/lithedreamer"}, "edited": false, "score": 0, "creation_date": 1425516292, "post_id": 28866796, "comment_id": 46000416, "body": "Thanks! I swapped compare with isspace, that looks much better. I&#39;ve also casted my numbers with std::stod, as static casting was giving me errors. Finally, I&#39;ve replaced my static cast conditional (why did I think that was a good idea?) with isdigit and worked out a solution that successfully concatenates numbers. I appear to get a &#39;terminating with uncaught exception of type std::out_of_range:basic_string&#39; when my debugger gets to the &#39;+&#39; conditional, though."}], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": true, "score": 2, "last_activity_date": 1425510152, "creation_date": 1425510152, "answer_id": 28866796, "question_id": 28866540, "link": "https://stackoverflow.com/questions/28866540/creating-a-postfix-calculator-in-c/28866796#28866796", "title": "Creating a postfix calculator in C++?", "body": "<blockquote>\n  <p>My while loop should allow more than one line of input per the spec.</p>\n</blockquote>\n\n<p>You've already found <code>getline</code>. You can simply use that to read whole lines. That approach you've taken looks fine.</p>\n\n<blockquote>\n  <p>I'm trying to skip over spaces in my loop, but instead my conditional appears to skip over anything that isn't a space.</p>\n</blockquote>\n\n<p>That's right. You're checking the result of <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/compare\" rel=\"nofollow\"><code>string::compare</code></a>, but the result isn't a boolean, and non-zero doesn't mean the strings are equal, it means they <em>aren't</em> equal.</p>\n\n<p>The way you've performed the comparison is uncommon, BTW, and more usual would be to simply compare the character to <code>' '</code>, or to use <a href=\"http://en.cppreference.com/w/cpp/string/byte/isspace\" rel=\"nofollow\"><code>isspace</code></a> or maybe <a href=\"http://en.cppreference.com/w/cpp/string/byte/isblank\" rel=\"nofollow\"><code>isblank</code></a>.</p>\n\n<blockquote>\n  <p>Checking string subscripts means that I can only use numbers with one digit, which definitely isn't what I want.</p>\n</blockquote>\n\n<p>Right. When you see a digit, you can enter a nested loop to read all subsequent digits. The base case, a one-digit string, is trivially converted to a number. (But just a tad less trivial than you think, see the note below.) And if you know how to determine the value of an N-digit string (let's say <code>ABC</code>), you can determine the value of an N+1-digit string (let's say <code>ABCD</code>) by multiplying by 10, and adding the value of the next digit.</p>\n\n<p>Note: <code>static_cast&lt;int&gt;(input[i]) == input[i]</code> is always true. This doesn't mean what you think it means. Use your debugger to inspect the value of <code>static_cast&lt;int&gt;(input[i])</code> for some characters, and try to understand what this cast is doing. When you understand what this does, think about another check you could do instead, and how you can use that, after checking a character is a digit, to determine the numeric value of that digit.</p>\n"}], "owner": {"reputation": 29, "user_id": 1900070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43dfd52278b67481818ca996a72fe5eb?s=128&d=identicon&r=PG", "display_name": "Lithedreamer", "link": "https://stackoverflow.com/users/1900070/lithedreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2613, "favorite_count": 0, "accepted_answer_id": 28866796, "answer_count": 1, "score": -1, "last_activity_date": 1425510152, "creation_date": 1425508889, "question_id": 28866540, "link": "https://stackoverflow.com/questions/28866540/creating-a-postfix-calculator-in-c", "title": "Creating a postfix calculator in C++?", "body": "<p>I have an assignment where I need to create a postfix calculator. I'm running into some difficulties that previous questions regarding the subject on SO didn't cover adequately.</p>\n\n<p>Here's an example of input I want to handle: </p>\n\n<p>12 6 +</p>\n\n<p>2 *</p>\n\n<p>[Carriage return]</p>\n\n<p>Result: 36</p>\n\n<p>The description of the assignment:</p>\n\n<blockquote>\n  <p>The arithmetical expressions we normally use are infix expressions, meaning that the operator appears between its two operands, as in \"4 + 5\".  In postfix expressions, the operator appears after its operands, as in \"4 5 +\".  Here is a slightly more complex postfix expression: \"25 12 7 - 2 * /\".  The equivalent infix expression is: \"25 / ((12 - 7) * 2)\".  The result of that expression should be 2.5 (don't use integer division).  Postfix expressions don't require parentheses.</p>\n  \n  <p>Write a program that uses a stack to evaluate postfix expressions. \n  Each input expression should be entered on its own line, and the\n  program should terminate when the user enters a blank line.  The only\n  symbols in an expression will be +, -, *, /, digits and spaces.</p>\n  \n  <p>Hint: Read a postfix expression from left to right.  When you read a\n  number, push it on the stack.  When you read an operand, pop the top\n  two numbers off the stack, apply the operator to them, and push the\n  result on top of the stack.  At the end, the result of the expression\n  should be the only number on the stack.</p>\n</blockquote>\n\n<p>Here's my code so far:</p>\n\n<pre><code>#include &lt;list&gt; /* Linked Lists */\n#include &lt;stack&gt; /* Stacks */\n#include &lt;iostream&gt; /* cout cin */\n\n\nint main() {\n\n    std::stack&lt; double, std::list&lt;double&gt; &gt; postfixStack;\n    std::string input;\n\n    std::cout &lt;&lt; \"Enter a postfix expression: \";\n\n    std::getline(std::cin, input);\n\n    while (input != \"\") {\n        std::cout &lt;&lt; \"Input expression: \" &lt;&lt; input &lt;&lt; std::endl;\n        for (int i = 0; i&lt;input.length()-1; i++) {\n            if (input.compare(i, 1, \" \")) { // should ignore spaces, but doesn't\n                std::cout &lt;&lt; \"Skipping element \" &lt;&lt; i &lt;&lt; \" \\n\";\n            } else if (static_cast&lt;int&gt;(input[i]) == input[i]) { // push numbers onto the stack\n                postfixStack.push(static_cast&lt;double&gt;(input[i]));\n                std::cout &lt;&lt; \"Pushing \" &lt;&lt; input[i] &lt;&lt; \" onto the stack.\\n\";\n            } else if (input.compare(i, 1, \"+\")) { // pop two numbers off the stack (1), apply the operator to them (2), and push that onto the stack (3)\n                double operand1 = postfixStack.top();\n                postfixStack.pop();\n                double operand2 = postfixStack.top();\n                postfixStack.pop();\n                postfixStack.push(operand1 + operand2);\n                std::cout &lt;&lt; \"Adding \" &lt;&lt; operand1 &lt;&lt; \" and \" &lt;&lt; operand2 &lt;&lt; std::endl;\n            }\n        }\n        std::getline(std::cin, input);\n    }\n\n    if (!postfixStack.empty()) {\n        std::cout &lt;&lt; \"Result of expression: \" &lt;&lt; postfixStack.top() &lt;&lt; std::endl;\n    } else {\n        std::cout &lt;&lt; \"It appears that you did not enter an expression to evaluate.\\n\";\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/anonymous/b47f3a597f18bfefd346\" rel=\"nofollow\">Syntax highlighting and line numbers on Gist.</a></p>\n\n<p>Where I'm struggling:</p>\n\n<ul>\n<li><p>My while loop should allow more than one line of input per the spec. I was originally using cin instead of getline, but that presented the opposite problem: unlimited lines to enter anything whatsoever, even when checking for /r and the empty string.</p></li>\n<li><p>I'm trying to skip over spaces in my loop, but instead my conditional appears to skip over anything that isn't a space.</p></li>\n<li><p>Checking string subscripts means that I can only use numbers with one digit, which definitely isn't what I want. When I encounter a number: I think I could check the next element, if that's a number then I could concatenate them and bump up the loop counter. In theory, at least. I'd like to get basic functionality before I work on that.</p></li>\n</ul>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "compiler-errors"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1425508833, "post_id": 28866449, "comment_id": 45997850, "body": "It didn&#39;t occur to you to post the error messages?"}], "answers": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1425508794, "creation_date": 1425508794, "answer_id": 28866517, "question_id": 28866449, "link": "https://stackoverflow.com/questions/28866449/visual-studio-compilation-error-finding-file/28866517#28866517", "title": "Visual Studio compilation error finding file", "body": "<p>Your problem is that none of your variables is initalized but you try to pass them by value.  This would result in udnefined behaviour, and this is why Visual studio complains.  </p>\n\n<p>Just initialize each of your variabl (for example <code>=0</code>) before using it.</p>\n"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1425508864, "creation_date": 1425508864, "answer_id": 28866534, "question_id": 28866449, "link": "https://stackoverflow.com/questions/28866449/visual-studio-compilation-error-finding-file/28866534#28866534", "title": "Visual Studio compilation error finding file", "body": "<p>You need:</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n</code></pre>\n\n<p>to use <code>system</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4634297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1035733096444140/picture?type=large", "display_name": "Patrick Wheeler", "link": "https://stackoverflow.com/users/4634297/patrick-wheeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1425508864, "creation_date": 1425508473, "question_id": 28866449, "link": "https://stackoverflow.com/questions/28866449/visual-studio-compilation-error-finding-file", "title": "Visual Studio compilation error finding file", "body": "<p>I don't understand why my code won't compile. I saw another post that had the same issue, but their problem was not using #include  and not using namespace std, both of which I have. Anyone know why?? p.s. my code is NOT finished, but I want to make it work before I get any further.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\n//Function prototypes to warn main function\nvoid readData(int num);\nvoid oddTally(int num);\nvoid oddSum(int num);\nvoid oddAverage(double num);\nvoid evenTally(int num);\nvoid evenSum(int num);\nvoid evenAverage(double num);\nvoid displayNames(string name1, string name2);\n\nint main()\n{\nint inData, oTally, oSum, eTally, eSum;\ndouble oAverage, eAverage;\nstring name1, name2;\n\nifstream inFile;\nreadData(inData);\noddTally(oTally);\noddSum(oSum);\noddAverage(oAverage);\nevenTally(eTally);\nevenSum(eSum);\nevenAverage(eAverage);\n\nsystem(\"pause\");\nreturn 0;\n}\nvoid readData(int num)\n{\nifstream inFile;\ninFile.open(\"in.txt\");\nint inData;\n\n//Read the data.\nif (inFile)\n{\n    while (inFile &gt;&gt; inData)\n    {\n        cout &lt;&lt; inData &lt;&lt; '\\n';\n    }\n}\nelse\n{\n    //Displays error message.\n    cout &lt;&lt; \"Error opening the file. \\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 5, "creation_date": 1425508033, "post_id": 28866286, "comment_id": 45997495, "body": "Hint: the conversion function takes parameters"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1425508063, "post_id": 28866286, "comment_id": 45997510, "body": "That&#39;s not how functions work."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425508142, "post_id": 28866286, "comment_id": 45997548, "body": "@MooingDuck unfortunately that&#39;s not the only thing wrong with this code."}, {"owner": {"reputation": 1, "user_id": 4634276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced04fae0f7b5af29ef9d919fbf4706e?s=128&d=identicon&r=PG&f=1", "display_name": "WiseGuy", "link": "https://stackoverflow.com/users/4634276/wiseguy"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425508640, "post_id": 28866286, "comment_id": 45997787, "body": "@MooingDuck Thanks! Now I feel retarded. Like I said, I&#39;m just starting out haha. Thanks a ton for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 4, "creation_date": 1425508694, "post_id": 28866482, "comment_id": 45997805, "body": "While you&#39;re fixing code, might as well move the <code>fahrenheit</code> counter to the <code>for</code> loop.  Also, it&#39;s good to note exactly what the problem was and/or what you changed."}], "owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1425508645, "creation_date": 1425508645, "answer_id": 28866482, "question_id": 28866286, "link": "https://stackoverflow.com/questions/28866286/fahrenheit-to-celsius-converter-wont-output-the-correct-values-c/28866482#28866482", "title": "Fahrenheit to Celsius converter won&#39;t output the correct values? [C++]", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ndouble conversion( double fahrenheit) //needs only one argument\n{\n    double celsius = (fahrenheit - 32.0) * (5.0/9.0);\n    return celsius;\n}\n\nint main()\n{\n    double fahrenheit;\n\n    for ( fahrenheit = -40.0; fahrenheit &lt;= 220.0;fahrenheit = fahrenheit + 10.0;)\n    {\n        cout &lt;&lt; fahrenheit &lt;&lt; \"F = \" &lt;&lt; conversion(fahrenheit) &lt;&lt; \"C\" &lt;&lt; endl;\n\n    }\n    system( \"pause\" );\n    return 0;\n}\n</code></pre>\n"}, {"owner": {"reputation": 221, "user_id": 4578093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-4YywI8bGyPM/AAAAAAAAAAI/AAAAAAAAAD8/xsQhCcRqow8/photo.jpg?sz=128", "display_name": "user4578093", "link": "https://stackoverflow.com/users/4578093/user4578093"}, "is_accepted": false, "score": 0, "last_activity_date": 1425521009, "last_edit_date": 1425521009, "creation_date": 1425520618, "answer_id": 28868677, "question_id": 28866286, "link": "https://stackoverflow.com/questions/28866286/fahrenheit-to-celsius-converter-wont-output-the-correct-values-c/28868677#28868677", "title": "Fahrenheit to Celsius converter won&#39;t output the correct values? [C++]", "body": "<pre><code>double F2C(double fair){\n    double celc = (fair - 32.0) / 1.8;\n    return celc;\n}\n\ndouble C2F(double celc){\n    double fair = 1.8 * celc + 32\n    return fair;\n}\n</code></pre>\n\n<p>there you are</p>\n\n<p>also, here is a function mock up </p>\n\n<pre><code>&lt;type of value that is returned&gt; &lt;function name&gt; (&lt;parameters&gt;){\n    &lt;function body&gt;;\n    return &lt;value that is returned&gt;;\n}\n</code></pre>\n\n<p>and here is a function call</p>\n\n<pre><code>&lt;name of function&gt;(&lt;function's parameters&gt;);\n</code></pre>\n\n<p>C2F for instance, is called like this;</p>\n\n<pre><code>double myFahrenheitValue = C2F(22.0);\n</code></pre>\n\n<p>printing myFahrenheitValue with std::cout will output 71.6</p>\n"}, {"owner": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "is_accepted": false, "score": 2, "last_activity_date": 1425525010, "last_edit_date": 1425525010, "creation_date": 1425522173, "answer_id": 28868923, "question_id": 28866286, "link": "https://stackoverflow.com/questions/28866286/fahrenheit-to-celsius-converter-wont-output-the-correct-values-c/28868923#28868923", "title": "Fahrenheit to Celsius converter won&#39;t output the correct values? [C++]", "body": "<p>Since nobody else wants to explain their work, here goes...</p>\n\n<hr>\n\n<pre><code>double conversion( double&amp; fahrenheit, double celsius)\n</code></pre>\n\n<p>Okay, the problem here is your code's design is unclear. With this declaration, you're telling people that:</p>\n\n<ul>\n<li>It converts something, but who knows what? Remember that unlike other languages like Objective-C, the names <code>fahrenheit</code> and <code>celsius</code> don't appear at the point the function is called. <strong>FIX:</strong> Name it after what it does, e.g. <code>fahrenheit_to_celsius</code> or just <code>degF2degC</code>.</li>\n<li>It returns a <code>double</code>, apparently a celsius temperature. This is good.</li>\n<li>Its first parameter is a reference to a <code>double</code>. This means that you're probably going to change it. But why would it need to change <code>fahrenheit</code>, its input? <strong>FIX:</strong> It doesn't. Just pass it as a <code>double</code>, no reference.</li>\n<li>Its second parameter is a <code>double</code>, apparently a Celsius temperature. But why, though? If the caller could provide the Celsius temperature, it wouldn't need to call your function. <strong>FIX:</strong> You could change this to a <code>double&amp;</code> so the function could set the Celsius temperature. <em>But there is no reason to do that because it's already returning that temperature as the function's return code.</em> <strong>BETTER FIX:</strong> Get rid of the parameter.</li>\n</ul>\n\n<p>Thus the function's API should look more like:</p>\n\n<pre><code>double degF2degC(double fahrenheit)\n</code></pre>\n\n<p>Much simpler.</p>\n\n<hr>\n\n<pre><code>{\n    celsius = (fahrenheit - 32.0) * (5.0/9.0);\n    return celsius;\n}\n</code></pre>\n\n<p>This part is basically fine. But we got rid of the <code>double celsius</code> (which BTW was a <em>copy</em> of the parameter passed in, and thus changes in this function won't be seen by the caller), so we need to make sure it's declared:</p>\n\n<pre><code>{\n    double celsius = (fahrenheit - 32.0) * (5.0/9.0);\n    return celsius;\n}\n</code></pre>\n\n<p>But honestly, since you do nothing else with it, you should just eliminate the variable:</p>\n\n<pre><code>{\n    return (fahrenheit - 32.0) * (5.0/9.0);\n}\n</code></pre>\n\n<hr>\n\n<pre><code>for ( fahrenheit = -40.0; fahrenheit &lt;= 220.0;)\n{\n    cout &lt;&lt; fahrenheit &lt;&lt; \"F = \" &lt;&lt; conversion &lt;&lt; \"C\" &lt;&lt; endl;\n    fahrenheit = fahrenheit + 10.0;\n}\n</code></pre>\n\n<p>The fundamental problem here is that <code>conversion</code> (now <code>degF2degC</code>) by itself is a <em>function.</em> It doesn't call the function; to do that you have to add <code>(fahrenheit)</code>. Without that, if this compiles, it will be because C++ will convert <code>conversion</code> to a <em>function pointer,</em> which isn't really useful to you.</p>\n\n<p>That said, there are a few things that could be done better. First, the <code>for</code> statement is <code>for(initializer; condition; step-expression)</code> so the <code>fahrenheit = fahrenheit + 10.0;</code> should really be the step expression. Someone who hasn't read all the code could think this was an infinite loop.</p>\n\n<p>Second, since you only use <code>fahrenheit</code> (which, BTW, is <em>not</em> the same <code>fahrenheit</code> object as in the function) in the loop, you can declare it in the initializer and remove the separate <code>double fahrenheit;</code> line.</p>\n\n<p>Third, you can use the <code>+=</code> operator to avoid repeating <code>fahrenheit</code>.</p>\n\n<p>Putting all this together, you get:</p>\n\n<pre><code>int main()\n{\n    for (double fahrenheit = -40.0; fahrenheit &lt;= 220.0; fahrenheit += 10.0)\n    {\n        cout &lt;&lt; fahrenheit &lt;&lt; \"F = \" &lt;&lt; degF2degC(fahrenheit) &lt;&lt; \"C\" &lt;&lt; endl;\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>system( \"pause\" );\nreturn 0;\n</code></pre>\n\n<p>Unless you're running this in a window that closes immediately on program completion, you don't need <code>system( \"pause\" );</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4634276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced04fae0f7b5af29ef9d919fbf4706e?s=128&d=identicon&r=PG&f=1", "display_name": "WiseGuy", "link": "https://stackoverflow.com/users/4634276/wiseguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1425525010, "creation_date": 1425507901, "question_id": 28866286, "link": "https://stackoverflow.com/questions/28866286/fahrenheit-to-celsius-converter-wont-output-the-correct-values-c", "title": "Fahrenheit to Celsius converter won&#39;t output the correct values? [C++]", "body": "<p>Im new to C++ so I am trying to do small projects to help me learn. When I try to run my program, the fahrenheit values print properly, but the celsius value prints as a series of numbers and letters.\nHere is my code</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ndouble conversion( double&amp; fahrenheit, double celsius)\n{\n    celsius = (fahrenheit - 32.0) * (5.0/9.0);\n    return celsius;\n}\n\nint main()\n{\n    double fahrenheit;\n\n    for ( fahrenheit = -40.0; fahrenheit &lt;= 220.0;)\n    {\n        cout &lt;&lt; fahrenheit &lt;&lt; \"F = \" &lt;&lt; conversion &lt;&lt; \"C\" &lt;&lt; endl;\n        fahrenheit = fahrenheit + 10.0;\n    }\n    system( \"pause\" );\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["android", "c++", "xml", "cocos2d-x", "rapidshare"], "answers": [{"owner": {"reputation": 133, "user_id": 1559547, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7450e4a954606b2b82b116ec60d4b157?s=128&d=identicon&r=PG", "display_name": "TheDevilsFire", "link": "https://stackoverflow.com/users/1559547/thedevilsfire"}, "is_accepted": false, "score": 0, "last_activity_date": 1426049709, "creation_date": 1426049709, "answer_id": 28978840, "question_id": 28866108, "link": "https://stackoverflow.com/questions/28866108/cant-load-and-parse-xml-file-on-android-in-c/28978840#28978840", "title": "Can&#39;t load and parse xml file on android in c++", "body": "<p>I have used <a href=\"http://pugixml.org/\" rel=\"nofollow\">PugiXML</a> and it is relatively simple to use. A file is read as:</p>\n\n<pre><code>xml_document* doc = new xml_document;\nunsigned char* pBuffer = NULL;\nunsigned long bufferSize = 0;\n\nstd::string fullPath = CCFileUtils::sharedFileUtils()-&gt;fullPathFromRelativePath(filename);\n\npBuffer = CCFileUtils::sharedFileUtils()-&gt;getFileData(fullPath.c_str(), \"r\", &amp;bufferSize);\n\nif(bufferSize == 0)\n{\n    CCLog(\"file failed to open\");\n    delete doc;\n}\n\nxml_parse_result results = doc-&gt;load_buffer(pBuffer, bufferSize);\nCCLog(\"filename: %s | result: %s | status: %d\",filename, results.description(), results.status);\n\nif(pBuffer)\n{\n    delete [] pBuffer;\n    pBuffer = NULL;\n}\nxml_node mainNode = doc-&gt;child(\"main\");\n</code></pre>\n\n<p>mainNode then has contents of the parsed file.</p>\n"}], "owner": {"reputation": 51, "user_id": 4613731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoduZ.jpg?s=128&g=1", "display_name": "GLADIATORCOP", "link": "https://stackoverflow.com/users/4613731/gladiatorcop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426049709, "creation_date": 1425507255, "question_id": 28866108, "link": "https://stackoverflow.com/questions/28866108/cant-load-and-parse-xml-file-on-android-in-c", "title": "Can&#39;t load and parse xml file on android in c++", "body": "<p>I'm working on a Cocos2dx C++ project and I am trying to load a XMLfile and parse it with rapidxml.</p>\n\n<p>The Win32 build works great with this code.</p>\n\n<pre><code>rapidxml::file&lt;&gt; xmlFile(\"myxml.xml\"); \nxml_document&lt;&gt; doc; // character type defaults to char\ndoc.parse&lt;0&gt;(xmlFile.data());    // 0 means default parse flags\nxml_node&lt;&gt; *main = doc.first_node();  //Get the main node that contains everything\n</code></pre>\n\n<p>This does not work for the Android build. It's most likely because \"myxml.xml\" can't be found.\nSo my solution was to load the file in a different way.</p>\n\n<p>So I tried to replace the xmlFile.data() with this. The mobile could now locate and read the data but I was unable to parse it trough rapidxml.</p>\n\n<pre><code>const unsigned char* xmldata = CCFileUtils::sharedFileUtils()-&gt;getFileData(\"myxml.xml\", \"r\", &amp;tmpSize);\n</code></pre>\n\n<p>But then I have no idea how to parse it.</p>\n\n<p>This is another way of getting the data but still no idea how to parse with rapidxml.</p>\n\n<pre><code>std::string xmldata2 = CCFileUtils::sharedFileUtils()-&gt;getStringFromFile(\"myxml.xml\");\n</code></pre>\n\n<p>Any ideas how to parse this in rapidxml, or any other suggestions how to solve this?</p>\n\n<p>I'm new to c++ so any help is very much appreciated.</p>\n"}, {"tags": ["c++", "boost", "boost-asio"], "comments": [{"owner": {"reputation": 22823, "user_id": 283302, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35e8085aca1194489355ba078f4b9a0f?s=128&d=identicon&r=PG", "display_name": "Sam Miller", "link": "https://stackoverflow.com/users/283302/sam-miller"}, "edited": false, "score": 0, "creation_date": 1425538716, "post_id": 28866084, "comment_id": 46006725, "body": "How are you sending the bytes? Can you include a sscce?"}], "answers": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 0, "last_activity_date": 1425545965, "creation_date": 1425545965, "answer_id": 28873686, "question_id": 28866084, "link": "https://stackoverflow.com/questions/28866084/boost-asio-read-dynamic-size-message/28873686#28873686", "title": "boost asio read dynamic size message", "body": "<p>I suspect that <code>vec</code> might be too small.</p>\n\n<p>The <a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost_asio/reference/buffer/overload24.html\" rel=\"nofollow\">documentation states</a> (note the <code>min(...)</code>):</p>\n\n<blockquote>\n  <h3>Return Value</h3>\n  \n  <p>A <code>mutable_buffers_1</code> value equivalent to:</p>\n\n<pre><code>mutable_buffers_1(\n    data.size() ? &amp;data[0] : 0,\n    min(data.size() * sizeof(PodType), max_size_in_bytes));\n</code></pre>\n</blockquote>\n\n<p>So, if you have</p>\n\n<pre><code>std::vector&lt;char&gt; vec(4);\n</code></pre>\n\n<p>and use it with </p>\n\n<pre><code>boost::asio::read(socket, boost::asio::buffer(vec, len), boost::asio::transfer_exactly(len), error);\n</code></pre>\n\n<p>the buffer will actually be only 4 bytes, not <code>len</code>. This combined with</p>\n\n<blockquote>\n  <h3><a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost_asio/reference/read/overload3.html\" rel=\"nofollow\"><code>boost::asio::read</code></a></h3>\n\n<pre><code>template&lt;\n    typename SyncReadStream,\n    typename MutableBufferSequence,\n    typename CompletionCondition&gt;\nstd::size_t read(\n    SyncReadStream &amp; s,\n    const MutableBufferSequence &amp; buffers,\n    CompletionCondition completion_condition);\n</code></pre>\n  \n  <p>This function is used to read a certain number of bytes of data from a stream. The call will block until one of the following conditions is true: </p>\n  \n  <ul>\n  <li>The supplied buffers are full. That is, the bytes transferred is equal to the sum of the buffer sizes. </li>\n  <li>The completion_condition function object returns 0.</li>\n  </ul>\n</blockquote>\n\n<p>It will return early due to the first end condition</p>\n"}], "owner": {"reputation": 1787, "user_id": 2260380, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/eodNb.png?s=128&g=1", "display_name": "Puchacz", "link": "https://stackoverflow.com/users/2260380/puchacz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1527, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425545965, "creation_date": 1425507184, "question_id": 28866084, "link": "https://stackoverflow.com/questions/28866084/boost-asio-read-dynamic-size-message", "title": "boost asio read dynamic size message", "body": "<p>How to receive properly N bytes from socket using boost asio. I assumed that first 4 bytes are length of my message so I tried something like this:</p>\n\n<pre><code>            size_t len = 0;\n            boost::asio::read(socket, boost::asio::buffer(&amp;len, sizeof(size_t)));\n            std::cout&lt;&lt;\"READ SOMETHING: \"&lt;&lt; len &lt;&lt;std::endl;\n            boost::asio::read(socket, boost::asio::buffer(vec, len), boost::asio::transfer_exactly(len), error);\n            std::cout&lt;&lt;\"READ TO BUFFER END\"&lt;&lt;std::endl;\n</code></pre>\n\n<p>I expected that second read calling will block until <strong>len</strong> of bytes will receive but i looks like it's not working like that.</p>\n\n<p>My output looks like (2x int32 equals 4):</p>\n\n<pre><code> READ SOMETHING: 4\n READ TO BUFFER END\n READ SOMETHING: 4\n READ TO BUFFER END\n</code></pre>\n\n<p>I tried to send 8 bytes once or 2x 4bytes and it looks doesn't work correctly.</p>\n"}, {"tags": ["c++", "member-pointers"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 1, "creation_date": 1425507192, "post_id": 28866021, "comment_id": 45997073, "body": "Precedence <i>and</i> type mismatch too: <code>((this-&gt;*p_foo).foo_function)();</code>"}, {"owner": {"reputation": 5101, "user_id": 2672913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/swwCb.png?s=128&g=1", "display_name": "Nick L.", "link": "https://stackoverflow.com/users/2672913/nick-l"}, "edited": false, "score": 0, "creation_date": 1425507277, "post_id": 28866021, "comment_id": 45997121, "body": "Can you give us more info about the syntax error you get?"}, {"owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1425507291, "post_id": 28866021, "comment_id": 45997130, "body": "@TheParamagneticCroissant OH 2x (( )) Thanks, I tried with 1x () so I got confused tnx!"}, {"owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "reply_to_user": {"reputation": 5101, "user_id": 2672913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/swwCb.png?s=128&g=1", "display_name": "Nick L.", "link": "https://stackoverflow.com/users/2672913/nick-l"}, "edited": false, "score": 0, "creation_date": 1425507335, "post_id": 28866021, "comment_id": 45997150, "body": "@NickL. Syntax error is commented in the code above"}, {"owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "edited": false, "score": 0, "creation_date": 1425507495, "post_id": 28866021, "comment_id": 45997228, "body": "This is probably not a C++ question so somebody down voted me, what kind of questions are allowed then?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1425508051, "post_id": 28866021, "comment_id": 45997501, "body": "@codekiddy <i><code>p_foo blah = &amp;bar::foo_member;</code></i> In which way do you think that <code>&amp;bar::foo_member</code> provides a member function pointer actually?"}, {"owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1425508151, "post_id": 28866021, "comment_id": 45997553, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 As the title of question says: &quot;through pointer to class member&quot; nobody talks about member function pointers."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1425508403, "post_id": 28866021, "comment_id": 45997683, "body": "@codekiddy Seems to be in eye of the reader :-P But definitely <i><code>void bar_function(foo bar::*p_foo)</code></i> wants a member function pointer. So how can you say <i>we&#39;re not talking about member function pointers</i>??"}, {"owner": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "edited": false, "score": 2, "creation_date": 1425508595, "post_id": 28866021, "comment_id": 45997771, "body": "It wants a member pointer. <code>foo</code> is a class, not a function pointer typedef."}, {"owner": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "edited": false, "score": 0, "creation_date": 1425508669, "post_id": 28866021, "comment_id": 45997796, "body": "Basically, it looks to me like OP is trying to implement multiple dispatch in a non-standard way. Maybe C++ isn&#39;t the best language for the application?"}, {"owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "reply_to_user": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "edited": false, "score": 0, "creation_date": 1425509011, "post_id": 28866021, "comment_id": 45997918, "body": "@AustinMullins I have a situation where multiple class members of same type are arguments for one handler, for each class member handler behaves differently. I could also write multiple handlers that do the same thing, but that way the code will be much shorter."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1425510491, "post_id": 28866021, "comment_id": 45998514, "body": "@codekiddy Sorry. Yes, it&#39;s a member pointer, not a member <i>function</i> pointer."}], "answers": [{"owner": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "is_accepted": true, "score": 5, "last_activity_date": 1425508552, "creation_date": 1425508552, "answer_id": 28866462, "question_id": 28866021, "link": "https://stackoverflow.com/questions/28866021/call-function-through-pointer-to-class-member/28866462#28866462", "title": "Call function through pointer to class member", "body": "<p>This works in <a href=\"http://ideone.com/WVVOC9\" rel=\"noreferrer\">ideone</a>:</p>\n\n<pre><code>void bar_function(foo bar::*p_foo)\n{\n    (this-&gt;*p_foo).foo_function();\n}\n</code></pre>\n\n<p>It's all about having the right level of indirection. Since <code>p_foo</code> is a pointer to member, we need to dereference it before attempting to access it from <code>this</code>. At this point, you have the actual <code>foo_member</code> object, not a pointer to it, so you can call its <code>foo_function</code> by dot notation.</p>\n"}], "owner": {"reputation": 5217, "user_id": 1044776, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/305241cc24b038905de1d0ee5837ef98?s=128&d=identicon&r=PG", "display_name": "codekiddy", "link": "https://stackoverflow.com/users/1044776/codekiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 28866462, "answer_count": 1, "score": 3, "last_activity_date": 1425508979, "creation_date": 1425506940, "last_edit_date": 1425507192, "question_id": 28866021, "link": "https://stackoverflow.com/questions/28866021/call-function-through-pointer-to-class-member", "title": "Call function through pointer to class member", "body": "<p>In following code:</p>\n\n<pre><code>class foo\n{\npublic:\n    void foo_function() {};\n};\n\nclass bar\n{\npublic:\n    foo foo_member;\n\n    void bar_function(foo bar::*p_foo)\n    {\n        // what is the corrct sintax for following:\n        this-&gt;*p_foo-&gt;foo_function(); // expression must have a pointer type??\n    }\n};\n\n\nint main()\n{\n    foo foo_obj;\n    bar bar_obj;\n    typedef foo bar::*p_foo;\n    p_foo blah = &amp;bar::foo_member;\n    bar_obj.bar_function(blah);\n    return 0;\n}\n</code></pre>\n\n<p>What would be correct syntax to make <strong>bar::bar_function</strong> work?</p>\n"}, {"tags": ["c++", "inheritance", "dll"], "comments": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 1, "creation_date": 1425509158, "post_id": 28865977, "comment_id": 45997979, "body": "If  I understand well, you goal is to offer Stage as a DLL and user could import it and derive it further.  Is this your inted ?"}, {"owner": {"reputation": 31218, "user_id": 211160, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Z2fk7.png?s=128&g=1", "display_name": "HostileFork says dont trust SE", "link": "https://stackoverflow.com/users/211160/hostilefork-says-dont-trust-se"}, "edited": false, "score": 0, "creation_date": 1425509503, "post_id": 28865977, "comment_id": 45998132, "body": "It&#39;s not entirely clear what your question is.  But I&#39;ll point out the increasing popularity in &quot;data pipes&quot; to use <a href=\"http://zeromq.org/\" rel=\"nofollow noreferrer\">something like ZeroMQ</a>.  Compared to &quot;plugins&quot;, this lets you define things in a way that they can be in-process, out-of-process, or even have the pieces running at different network locations in different languages.  If you find you&#39;re designing a pipe interface and expecting different authors to wire things together, it might be worth a look for your purpose.  (But I don&#39;t know your purpose.)"}, {"owner": {"reputation": 3846, "user_id": 894402, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2cMMg.jpg?s=128&g=1", "display_name": "Patrick.SE", "link": "https://stackoverflow.com/users/894402/patrick-se"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425516477, "post_id": 28865977, "comment_id": 46000494, "body": "@Christophe Yes, indeed."}], "answers": [{"comments": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "reply_to_user": {"reputation": 3846, "user_id": 894402, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2cMMg.jpg?s=128&g=1", "display_name": "Patrick.SE", "link": "https://stackoverflow.com/users/894402/patrick-se"}, "edited": false, "score": 0, "creation_date": 1425540255, "post_id": 28866950, "comment_id": 46007271, "body": "@Pat Sorry, it was late in the night !  i&#39;ve edited and completed the infos."}], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 0, "last_activity_date": 1425571675, "last_edit_date": 1495542504, "creation_date": 1425510790, "answer_id": 28866950, "question_id": 28865977, "link": "https://stackoverflow.com/questions/28865977/loading-stages-from-external-code/28866950#28866950", "title": "Loading Stages from external code", "body": "<p>I understand you want to have stage in a DLL and have user users derive their work on your DLL.  </p>\n\n<p><strong>Scenario 1:  consumer and DLL build with same compiler and same standard library</strong></p>\n\n<p>If the consumer uses the same compiler, compatible compiling options, and both, sides use the same shared standard library (default with MSVC), then you solution <strong>should work as is</strong></p>\n\n<p><em>(See <a href=\"https://stackoverflow.com/questions/28648537/exposing-application-api-and-data-to-dll/28650695#28650695\">related SO question</a>.)</em>  </p>\n\n<p><strong>Scenario 2:  consumer and DLL build with same compiler but different libraries</strong></p>\n\n<p>If one side uses a different standard library or linking option thereof (for example if you use statically linked library for your DLL and shared library for consumer), then you have to make sure that all objects are ALWAYS created/released on the same side (because DLL and application would each use their own alloaction functions with different memory pools).  </p>\n\n<p>This will be very difficult because of: </p>\n\n<ul>\n<li>inheritance of data</li>\n<li>virtual destructor</li>\n<li>storage management of standard containers (which would be different in DLL and consumer, despite the impression the source code might give that it's the same) </li>\n</ul>\n\n<p>The first step in the right direction would then be to <strong>isolate all the data into the private section</strong> and ensure clean access via getters and setters.  Fortunately, this kind of design is a sound design approach for inheritance, so it's worth to use it even if you don't need it.  </p>\n\n<p><strong>Scenario 3: different compilers or incompatible compiling options</strong></p>\n\n<p>If you use different compilers, or incompatible compiling options then the real problems start: </p>\n\n<ul>\n<li>you can't rely on the assumption that both sides have the same understanding of memory layout. So the read/write of members might occur at different locations; a huge mess ! This is why so many DLL classes have no data member.  Many also use <a href=\"https://stackoverflow.com/questions/60570/why-should-the-pimpl-idiom-be-used\">PIMPL idiom</a> to hide a private memory layout. But PIMPL in this case of inheritance is very similar to using private data (<code>*this</code> would then be the implicit pointer to the private implementation)</li>\n<li>the compiler/linker use \"mangled\" function names.  Different compilers might use different mangling, and wouldn't understand each other's symbol definitions (i.e. the client would'nt find <code>SetOutputPipe()</code> despite it's there).  This is why most DLL put all member functions as virtual : the functions are called via an offset in a vtable, which uses fortunately the same layout accross compilers in practice.  </li>\n<li>finally, different compilers could use different calling conventions. But I think in practice on well established platforms, this shouldn't be a major risk </li>\n</ul>\n\n<p>In <a href=\"https://stackoverflow.com/a/28516674/3723423\">this answer</a> to a question about DLLs with different compilers (also without inheritance), I've provided some additional explanations and references that could be relevant for such a mixed scenario. </p>\n\n<p>Again using <code>private</code> member data isntead of protected would put you on a safer side.  Exposing getters/setters (whether protected or public) using an <code>extern \"C\"</code> linkage specifier would avoid name mangling issues for non virtual functions.    </p>\n\n<p><strong>Final remark:</strong> </p>\n\n<p>When exposing classes in libraries, extra-care should be taken to design the class, making data private.  This good practice is worth an extra thought, what ever scenario you're in.    </p>\n"}], "owner": {"reputation": 3846, "user_id": 894402, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2cMMg.jpg?s=128&g=1", "display_name": "Patrick.SE", "link": "https://stackoverflow.com/users/894402/patrick-se"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 28866950, "answer_count": 1, "score": 1, "last_activity_date": 1425571675, "creation_date": 1425506822, "last_edit_date": 1425537079, "question_id": 28865977, "link": "https://stackoverflow.com/questions/28865977/loading-stages-from-external-code", "title": "Loading Stages from external code", "body": "<p>I wrote a Pipe and Filter based architecture. To avoid confusion the Filter's are called \"Stages\" in my code. Here's the basic idea :</p>\n\n<p><img src=\"https://i.stack.imgur.com/GgGis.jpg\" alt=\"enter image description here\"></p>\n\n<p>I want other developers to have the possibility to implement their own Stage class and then I can add it into the list of Stages that already exist at run-time. </p>\n\n<p>I've been reading around for a while and it seems like their are restrictions to dynamic code loading. My current Stage class looks like this :</p>\n\n<pre><code>class Stage\n{\npublic:\n    void Process();\n    const uint16_t InputCount();\n    const uint16_t OutputCount();\n\n    void SetOutputPipe(size_t idx, Pipe&lt;AmplitudeVal&gt; *outputPipe);\n    void SetInputPipe(size_t idx, Pipe&lt;AmplitudeVal&gt; *inputPipe);\n\nprotected:\n    Stage(const uint16_t inputCount, const uint16_t outputCount);\n    virtual void init() {}; \n    virtual bool work() = 0;\n    virtual void finish() {};\n\nprotected:\n    const uint16_t mInputCount;\n    const uint16_t mOutputCount;\n    std::vector&lt; Pipe&lt;AmplitudeVal&gt;* &gt; mInputs;\n    std::vector&lt; Pipe&lt;AmplitudeVal&gt;* &gt; mOutputs;\n};\n</code></pre>\n\n<p>AmplitudeVal is simply an alias for float. This class only holds references to pipes it is connected to(mInputs and mOutputs), it doesn't deal with any algorithmic activity. I want to expose as little as I can for ease of use to external developers. Right now this class only relies on the Pipe header and some basic config file. Most examples dealing with loading DLL's propose a class with only pure virtual functions and barely any member variables. I'm not sure what I should do.</p>\n"}, {"tags": ["c++", "parsing"], "comments": [{"owner": {"reputation": 7964, "user_id": 1072468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cb56d2bf7341a5092975ce5c7af50b6e?s=128&d=identicon&r=PG", "display_name": "Nicu Stiurca", "link": "https://stackoverflow.com/users/1072468/nicu-stiurca"}, "edited": false, "score": 0, "creation_date": 1425506543, "post_id": 28865843, "comment_id": 45996727, "body": "Please think of a more descriptive title."}, {"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 0, "creation_date": 1425506602, "post_id": 28865843, "comment_id": 45996757, "body": "<code>std::system(&quot;awk &#39;{ \u2026 }&#39;&quot;);</code>"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 4, "creation_date": 1425506606, "post_id": 28865843, "comment_id": 45996760, "body": "sound like a token parsing problem."}, {"owner": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "edited": false, "score": 0, "creation_date": 1425506833, "post_id": 28865843, "comment_id": 45996881, "body": "Yeah,  I was trying to read it twice. Edited the code. Sorry."}, {"owner": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "edited": false, "score": 0, "creation_date": 1425506884, "post_id": 28865843, "comment_id": 45996898, "body": "I want to scan it character wise. I want to scan each string char-wise and identify the operands and the operator."}, {"owner": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "edited": false, "score": 0, "creation_date": 1425506899, "post_id": 28865843, "comment_id": 45996910, "body": "Not sure how to do that though."}], "answers": [{"comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1425507037, "post_id": 28866023, "comment_id": 45996986, "body": "One catch: are spaces always required between tokens? Maybe <code>12 + 56</code> could also legally be written <code>12+56</code>."}, {"owner": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "edited": false, "score": 0, "creation_date": 1425507053, "post_id": 28866023, "comment_id": 45996999, "body": "But, to compute the min and max, how do I then extract the operands?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1425507340, "post_id": 28866023, "comment_id": 45997152, "body": "@FredLarson: I assumed they were, otherwise it gets far harder for learners."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "edited": false, "score": 0, "creation_date": 1425507352, "post_id": 28866023, "comment_id": 45997162, "body": "@MattMilna: Added sample bodies"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1425512088, "post_id": 28866023, "comment_id": 45999060, "body": "I agree here. Although of course I&#39;d use Spirit for an adhoc job like this. I realize that only makes sense because I&#39;ve used it for far too many things before. +1"}], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": false, "score": 2, "last_activity_date": 1425507321, "last_edit_date": 1425507321, "creation_date": 1425506943, "answer_id": 28866023, "question_id": 28865843, "link": "https://stackoverflow.com/questions/28865843/how-do-i-read-in-lines-that-may-begin-with-string-or-number/28866023#28866023", "title": "How do I read in lines that may begin with string or number?", "body": "<p>I think the easiest thing to do is read in a string up to the first space, compare it to your commands, and if it matches none of thes, convert it to a number:</p>\n\n<pre><code>if (in1 &gt;&gt; firstthing) {\n    out &lt;&lt; firstthing &lt;&lt; \" \";\n\n    if (firstthing == \"Min\") {\n        result = compute_min(in1, out); //reads in \" of \" and then the numbers. Also writes.\n\n    } else if (firstthing == \"Max\") {\n        result = compute_max(in1, out); //reads in \" of \" and then the numbers. Also writes.\n\n    } else {\n        int first_operand = atoi(firstthing.c_str());\n        //reads in an operator, then the second operand. Also writes.\n        result = compute_expression(in1, out, first_operand);\n    }\n    out &lt;&lt; \" is \" &lt;&lt; result &lt;&lt; endl;\n}\n</code></pre>\n\n<p>The various function bodies are relatively simple:</p>\n\n<pre><code>int compute_min(std::istream&amp; in1, std::ofstream&amp; out) {\n   std::string ofstring;\n   int first_operand;\n   std::string andstring;\n   int second_operand;\n\n   in1 &gt;&gt; ofstring &gt;&gt; first_operand &gt;&gt; andstring &gt;&gt; second_operand;\n   out &lt;&lt; ofstring &lt;&lt; first_operand &lt;&lt; andstring &lt;&lt; second_operand;\n\n   return std::min(first_operand, second_operand);\n}\n\nint compute_expression(std::istream&amp; in1, std::ofstream&amp; out, int first_operand) {\n   std::string operation;\n   int second_operand;\n\n   in1 &gt;&gt; operation &gt;&gt; second_operand;\n   out &lt;&lt; operation &lt;&lt; second_operand;\n\n   if (operation==\"+\" || operation==\"plus\")\n       return first_operand + second_operand;\n   else if \n       //more\n\n   else\n       throw std::runtime_error(\"Invalid operation \"+operation);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 3, "creation_date": 1425509223, "post_id": 28866089, "comment_id": 45998004, "body": "<code>strtok</code> doesn&#39;t directly work with <code>std::string</code>, and there are <a href=\"http://stackoverflow.com/q/53849/10077\">better ways to tokenize a string</a>."}], "owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1425507194, "creation_date": 1425507194, "answer_id": 28866089, "question_id": 28865843, "link": "https://stackoverflow.com/questions/28865843/how-do-i-read-in-lines-that-may-begin-with-string-or-number/28866089#28866089", "title": "How do I read in lines that may begin with string or number?", "body": "<p>It appears that what you are looking for is something like <code>std::strtok</code>. Once you have read in your line, you can use std::strtok to parse it into a vector of strings. <a href=\"http://en.cppreference.com/w/cpp/string/byte/strtok\" rel=\"nofollow\">Here</a> is a link to a page describing that function, with an example of use. Once you have a vector of tokens, you can loop through them and inspect each individual element separately.</p>\n"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 2, "last_activity_date": 1425540900, "last_edit_date": 1425540900, "creation_date": 1425510523, "answer_id": 28866885, "question_id": 28865843, "link": "https://stackoverflow.com/questions/28865843/how-do-i-read-in-lines-that-may-begin-with-string-or-number/28866885#28866885", "title": "How do I read in lines that may begin with string or number?", "body": "<p>I was invited to slap the inevitable Boost Spirit approach on this.</p>\n\n<p>Here's the central section:</p>\n\n<pre><code>auto value_ = qi::create_parser&lt;V&gt;();\n\nstart = eval;\neval  = no_case [\n          as_string [ raw [ value_[_a=_1] &gt;&gt; ('+' |  lit(\"plus\"))               &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a+_b)     &lt;&lt; \"\\n\" ]\n        | as_string [ raw [ value_[_a=_1] &gt;&gt; ('-' |  lit(\"minus\"))              &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a-_b)     &lt;&lt; \"\\n\" ]\n        | as_string [ raw [ value_[_a=_1] &gt;&gt; ('/' |  lit(\"divided\") &gt;&gt; \"by\")    &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a/_b)     &lt;&lt; \"\\n\"]\n        | as_string [ raw [ value_[_a=_1] &gt;&gt; ('*' |  lit(\"multiplied\") &gt;&gt; \"by\") &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a*_b)     &lt;&lt; \"\\n\" ]\n        | as_string [ raw [ lit(\"min\") &gt;&gt; \"of\" &gt;&gt; value_[_a=_1] &gt;&gt; \"and\" &gt;&gt; value_[_b=_1] ] ]           [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; min_(_a,_b) &lt;&lt; \"\\n\" ]\n        | as_string [ raw [ lit(\"max\") &gt;&gt; \"of\" &gt;&gt; value_[_a=_1] &gt;&gt; \"and\" &gt;&gt; value_[_b=_1] ] ]           [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; max_(_a,_b) &lt;&lt; \"\\n\" ]\n        ]\n        ;\n</code></pre>\n\n<p>Note that the grammar is generic towards the value type, meaning you can use <code>double</code>, or even <code>cpp_dec_float</code> if you prefer. Even <code>std::complex&lt;T&gt;</code> would probably work.</p>\n\n<p>Same thing for source iterators. Here's the driver showing how to use it with direct <code>std::cin</code> stream iterators:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/4ab88577eced28ae\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>int main() {\n    using It = boost::spirit::istream_iterator;\n    It f(std::cin &gt;&gt; std::noskipws), l;\n\n    bool ok = qi::phrase_parse(f, l, verbiage&lt;It&gt;() % qi::eol, qi::blank);\n\n    std::cout &lt;&lt; \"Success: \" &lt;&lt; std::boolalpha &lt;&lt; ok &lt;&lt; \"; Remaining: '\" &lt;&lt; std::string(f,l) &lt;&lt; \"'\\n\";\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>12 + 56 is 68\n9 divided by -3 is -3\n45 minus 15 is 30\nMin of 2 and 1 is 1\nMax of 3 and 5 is 5\n34 plus 33 is 67\nSuccess: true; Remaining: '\n'\n</code></pre>\n\n<h2>Full Demo</h2>\n\n<pre><code>#include &lt;boost/spirit/include/qi.hpp&gt;\n#include &lt;boost/spirit/include/phoenix.hpp&gt;\n#include &lt;boost/phoenix/phoenix.hpp&gt;\n\nnamespace qi  = boost::spirit::qi;\nnamespace phx = boost::phoenix;\n\ntemplate &lt;typename It, typename V = long, typename Skipper = qi::blank_type&gt;\nstruct verbiage : qi::grammar&lt;It, Skipper&gt; {\n    verbiage() : verbiage::base_type(start) {\n        using namespace qi;\n\n        auto value_ = qi::create_parser&lt;V&gt;();\n\n        start = eval;\n        eval  = no_case [\n                 as_string [ raw [ value_[_a=_1] &gt;&gt; ('+' |  lit(\"plus\"))               &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a+_b)     &lt;&lt; \"\\n\" ]\n               | as_string [ raw [ value_[_a=_1] &gt;&gt; ('-' |  lit(\"minus\"))              &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a-_b)     &lt;&lt; \"\\n\" ]\n               | as_string [ raw [ value_[_a=_1] &gt;&gt; ('/' |  lit(\"divided\") &gt;&gt; \"by\")    &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a/_b)     &lt;&lt; \"\\n\"]\n               | as_string [ raw [ value_[_a=_1] &gt;&gt; ('*' |  lit(\"multiplied\") &gt;&gt; \"by\") &gt;&gt; value_[_b=_1] ] ] [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; (_a*_b)     &lt;&lt; \"\\n\" ]\n               | as_string [ raw [ lit(\"min\") &gt;&gt; \"of\" &gt;&gt; value_[_a=_1] &gt;&gt; \"and\" &gt;&gt; value_[_b=_1] ] ]           [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; min_(_a,_b) &lt;&lt; \"\\n\" ]\n               | as_string [ raw [ lit(\"max\") &gt;&gt; \"of\" &gt;&gt; value_[_a=_1] &gt;&gt; \"and\" &gt;&gt; value_[_b=_1] ] ]           [ std::cout &lt;&lt; _1 &lt;&lt; \" is \" &lt;&lt; max_(_a,_b) &lt;&lt; \"\\n\" ]\n              ]\n              ;\n    }\n  private:\n    struct min_f { \n        using result_type = V; \n        template &lt;typename A, typename B&gt; V operator()(A a, B b) const { return std::min(a,b); }\n    };\n    struct max_f { \n        using result_type = V; \n        template &lt;typename A, typename B&gt; V operator()(A a, B b) const { return std::max(a,b); }\n    };\n\n    phx::function&lt;min_f&gt; min_;\n    phx::function&lt;max_f&gt; max_;\n    qi::rule&lt;It, Skipper, qi::locals&lt;V,V&gt; &gt; eval;\n    qi::rule&lt;It, Skipper&gt; start;\n};\n\nint main() {\n    using It = boost::spirit::istream_iterator;\n    It f(std::cin &gt;&gt; std::noskipws), l;\n\n    bool ok = qi::phrase_parse(f, l, verbiage&lt;It&gt;() % qi::eol, qi::blank);\n\n    std::cout &lt;&lt; \"Success: \" &lt;&lt; std::boolalpha &lt;&lt; ok &lt;&lt; \"; Remaining: '\" &lt;&lt; std::string(f,l) &lt;&lt; \"'\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4581143, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/37b863f754b91a83ebeda316bcd60b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Milna", "link": "https://stackoverflow.com/users/4581143/matt-milna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1425540900, "creation_date": 1425506354, "last_edit_date": 1425540880, "question_id": 28865843, "link": "https://stackoverflow.com/questions/28865843/how-do-i-read-in-lines-that-may-begin-with-string-or-number", "title": "How do I read in lines that may begin with string or number?", "body": "<p>I have to read input from a file in this format:</p>\n\n<pre><code>12 + 56\n9 divided by -3\n45 minus 15\nMin of 2 and 1\nMax of 3 and 5\n34 plus 33\n</code></pre>\n\n<p>And I have to output to another file in this format:</p>\n\n<pre><code>12 + 56 is 68\n9 divided by -3 is -3\n45 minus 15 is 30\nMin of 2 and 1 is 1\nMax of 3 and 5 is 5\n34 plus 33 is 67\n</code></pre>\n\n<p>I have approached it in this way but got stuck at a point. I have each line read into a string but how do I access the operands in the string because they are at different positions in different stings?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint compute(string s) {\n    //Not sure how to do this\n    return 0;\n}\n\nint main() {\n    ifstream in;\n    ofstream out;\n    string s1 = \"Input.txt\";\n    string s2 = \"CalculationResults.txt\";\n    string s;\n    int operand1, operand2, result;\n\n    in.open(s1); \n    out.open(s2);\n\n    if (in) {\n        while (getline(in, s)) {\n            result = compute(s);\n            out &lt;&lt; s &lt;&lt; \" is \" &lt;&lt; result &lt;&lt; endl;\n        }\n        in.close();\n        out.close();\n    } else {\n        cout &lt;&lt; \"\\nCouldn't find the input file\\n\\n\";\n    }\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "xcode6", "googletest"], "answers": [{"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "is_accepted": true, "score": 1, "last_activity_date": 1425506548, "creation_date": 1425506548, "answer_id": 28865900, "question_id": 28865777, "link": "https://stackoverflow.com/questions/28865777/create-a-new-shell-tool-target-in-xcode-for-the-use-of-google-test/28865900#28865900", "title": "Create a new &quot;Shell Tool&quot; target in Xcode for the use of Google Test", "body": "<p>Create a new project. On the creation dialog, select \"Command Line Tool\" as your project type. This is what is probably meant by \"Shell Tool.\" It is available in Xcode 6.</p>\n"}], "owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 1, "accepted_answer_id": 28865900, "answer_count": 1, "score": 1, "last_activity_date": 1425577505, "creation_date": 1425506071, "last_edit_date": 1425577505, "question_id": 28865777, "link": "https://stackoverflow.com/questions/28865777/create-a-new-shell-tool-target-in-xcode-for-the-use-of-google-test", "title": "Create a new &quot;Shell Tool&quot; target in Xcode for the use of Google Test", "body": "<p>I am trying to add <a href=\"https://code.google.com/p/googletest/\" rel=\"nofollow\">googletest</a> framework to my existing C++ project. And I am following their <a href=\"https://code.google.com/p/googletest/wiki/XcodeGuide\" rel=\"nofollow\">XcodeGuide</a>. However, I cannot get over this following step. </p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Create a new \"Shell Tool\" target in your Xcode project called something like \"UnitTests\"</li>\n  </ol>\n</blockquote>\n\n<p><strong>So question: what is a shell tool target for a Xcode project. Is it still available in Xcode 6. If it is, where? If it is not, any workaround?</strong> </p>\n\n<p>Edit: I don't want to use <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/DeveloperTools/Conceptual/testing_with_xcode/Introduction/Introduction.html\" rel=\"nofollow\">XCTest</a> because (a) it is not cross platform (b) it supports well for Obj-C but not so well for C++. </p>\n"}, {"tags": ["c++", "maps"], "comments": [{"owner": {"reputation": 1972, "user_id": 2981535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qegDI.jpg?s=128&g=1", "display_name": "amahfouz", "link": "https://stackoverflow.com/users/2981535/amahfouz"}, "edited": false, "score": 0, "creation_date": 1425506060, "post_id": 28865687, "comment_id": 45996457, "body": "Check this post <a href=\"http://stackoverflow.com/questions/19842035/stdmap-how-to-sort-by-value-then-by-key\" title=\"stdmap how to sort by value then by key\">stackoverflow.com/questions/19842035/&hellip;</a>"}, {"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "reply_to_user": {"reputation": 1972, "user_id": 2981535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qegDI.jpg?s=128&g=1", "display_name": "amahfouz", "link": "https://stackoverflow.com/users/2981535/amahfouz"}, "edited": false, "score": 0, "creation_date": 1425506138, "post_id": 28865687, "comment_id": 45996499, "body": "I cant use boost.And my task is quite simply that&#39;s why i thought that making map and keeping track would be quite hard to implement.Is this the only way.Not something like LinkedHashMaps"}, {"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "reply_to_user": {"reputation": 1972, "user_id": 2981535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qegDI.jpg?s=128&g=1", "display_name": "amahfouz", "link": "https://stackoverflow.com/users/2981535/amahfouz"}, "edited": false, "score": 0, "creation_date": 1425506456, "post_id": 28865687, "comment_id": 45996681, "body": "@amahfouz i can&#39;t sort them.It will change the question&#39;s demand"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 3, "creation_date": 1425506723, "post_id": 28865687, "comment_id": 45996816, "body": "If you can&#39;t use boost or sort, then perhaps a <code>vector&lt; pair&lt; string, int&gt; &gt;</code> would be more appropriate."}, {"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "edited": false, "score": 0, "creation_date": 1425507136, "post_id": 28865687, "comment_id": 45997044, "body": "Not really getting it..maybe you would like to expand it sir,"}, {"owner": {"reputation": 143, "user_id": 3379943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd92c69005c554ee4fd9c37493032c4d?s=128&d=identicon&r=PG", "display_name": "guidotex", "link": "https://stackoverflow.com/users/3379943/guidotex"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1594309880, "post_id": 28865687, "comment_id": 111087879, "body": "@twalberg:  I know this question is way old... but +1 for a suggestion that uses existing capabilities to simply accomplish the purpose."}], "owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4561, "favorite_count": 0, "closed_date": 1425505782, "answer_count": 0, "score": 2, "last_activity_date": 1425505728, "creation_date": 1425505728, "question_id": 28865687, "link": "https://stackoverflow.com/questions/28865687/how-to-preserve-insertion-order-in-map", "closed_reason": "Duplicate", "title": "How to preserve insertion order in Map?", "body": "<p>I am trying to make a map of string and integer like this </p>\n\n<pre><code>map&lt;string,int&gt;m;\n</code></pre>\n\n<p>Insertion is going something like </p>\n\n<pre><code>m[\"sunday\"]=52;\nm[\"monday\"]=51;\n...\n...\n...\n</code></pre>\n\n<p><strong>But</strong> whenever i try to iterate it using iterator like this</p>\n\n<pre><code> map&lt;string,int&gt;::iterator it;\n\n for(it=m.begin();it!=m.end;it++)\n cout&lt;&lt;it-&gt;first&lt;&lt;\" \"&lt;&lt;it-&gt;second;\n</code></pre>\n\n<p>The output is not like the input inserted.I want to know how to maintain the insertion order in <strong>c++</strong> .I searched the web and i found same question but on java.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1181, "user_id": 2708904, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b7b059287e83e57ccf1ffd04ccbd6314?s=128&d=identicon&r=PG&f=1", "display_name": "Innot Kauker", "link": "https://stackoverflow.com/users/2708904/innot-kauker"}, "edited": false, "score": 1, "creation_date": 1425505907, "post_id": 28865683, "comment_id": 45996380, "body": "Well, you didn&#39;t link something to the program, and probably it&#39;s -lm."}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 2, "creation_date": 1425505950, "post_id": 28865683, "comment_id": 45996398, "body": "Is this the actual code you are running? if not, please post it here.  Since you did not initialize nc, the number value that will be given to it is unpredictable, but that is just the first thing I see.  There are multiple problems with this code."}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506053, "post_id": 28865683, "comment_id": 45996452, "body": "this is the code im using"}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506083, "post_id": 28865683, "comment_id": 45996469, "body": "i have all the needed headers but i forgot to copy team i guess thats no problem"}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1425506135, "post_id": 28865683, "comment_id": 45996497, "body": "are you <code>#include</code> - ing anything?"}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506181, "post_id": 28865683, "comment_id": 45996533, "body": "of course i include iostream, stdio and math"}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1425506343, "post_id": 28865683, "comment_id": 45996618, "body": "First thing is that you can&#39;t include iostream in C.  Please see: <a href=\"http://stackoverflow.com/questions/1844223/include-iostream-in-c\">stackoverflow.com/questions/1844223/include-iostream-in-c</a> . Please start with that."}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506418, "post_id": 28865683, "comment_id": 45996649, "body": "this is c++ actually"}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506439, "post_id": 28865683, "comment_id": 45996667, "body": "actually something between c and c++ but everything was working with iostrieam untill now"}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1425506491, "post_id": 28865683, "comment_id": 45996700, "body": "What are you using as a compiler?"}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1425506571, "post_id": 28865683, "comment_id": 45996744, "body": "This isn&#39;t the answer to your question, but I would recommend to choose better names for variables. The ones you have (c, nc, n1...) mean nothing, in fact you had to explain their meaning. Instead, give them better names, like: n -&gt; input, n1 -&gt; output (or reverted_digits), Nc -&gt; digits_number, and so on. It would make it a lot clearer for you too - imagine you have to modify this program one month from now, how long would it take you to understand how it works? If you used better names it would take much less."}, {"owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "edited": false, "score": 0, "creation_date": 1425506758, "post_id": 28865683, "comment_id": 45996836, "body": "thanks for your advice  but im used with those names cuz in my language cifra=digit so i always use c isntead cifra then stepen=exponent so i know s is stepen  in my bigger projects i use clear names but this is just a simple test-example"}], "answers": [{"owner": {"reputation": 221, "user_id": 4578093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-4YywI8bGyPM/AAAAAAAAAAI/AAAAAAAAAD8/xsQhCcRqow8/photo.jpg?sz=128", "display_name": "user4578093", "link": "https://stackoverflow.com/users/4578093/user4578093"}, "is_accepted": false, "score": 0, "last_activity_date": 1425521928, "creation_date": 1425521928, "answer_id": 28868872, "question_id": 28865683, "link": "https://stackoverflow.com/questions/28865683/problems-with-simple-c-program-id-returned-1-exit-status/28868872#28868872", "title": "Problems with simple c++ program-Id returned 1 exit status", "body": "<pre><code>int string2int(string input)\n/// converts a string into an integer\n{\n    int output = 0;\n    unsigned len = input.length();\n    for (unsigned i = 0; i &lt; len; i++)\n    {\n        char u = input[i]; // getting char from string\n        int y = int(u); y -= '0'; // using character subtraction to make int\n        output += y * pow(10, len - i - 1); // moving digit to appropriate spot\n    } // the len - i - 1 is what makes the output go in correct order\n    return output;\n}\n</code></pre>\n\n<p>it should be noted that pow is in this context a function of my creation, that simply uses a loop, if you wish to use standard pow, you should round the result, it should also be noted that this function uses strings.</p>\n\n<p>For the purposes of reading the user's input I would recommend using std::cin, which uses a similar syntax to std::cout and is really more convenient</p>\n"}], "owner": {"reputation": 13, "user_id": 4540518, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a14c631fb573565c2684ba28a03bf127?s=128&d=identicon&r=PG&f=1", "display_name": "Leko", "link": "https://stackoverflow.com/users/4540518/leko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1425521928, "creation_date": 1425505711, "question_id": 28865683, "link": "https://stackoverflow.com/questions/28865683/problems-with-simple-c-program-id-returned-1-exit-status", "title": "Problems with simple c++ program-Id returned 1 exit status", "body": "<p>So i am doing this for school and i dont know whats the problem\nThe task of program is to read the number inputed and then write it from back to start like 123 it will return it 321\nthe code i wrote seems all ok to me but only error its giving is Id returned 1 exit status. I have absolutely no idea what could be so wrong in such small code\nso here it is. to make it easier to understand Nc is digits number and s is multiplier.c is like a last digit i extract from n before i divide it by 10 in my while loop. n is inputed number n1 is wanted number.</p>\n\n<pre><code>    int main(int argc, char** argv) {\n int n,nc,n1,c,s;\n printf(\"Enter number: \\n\");\n scanf(\"%d\",&amp;n);\n while(n&gt;0){\n    n/=10;\n    nc+=1;\n }\n s=pow(10,nc);\n while(n&gt;0){\n    c=n%10;\n    n1+=c*s;\n    s/=10;\n    n/=10;\n\n }\nprintf(\"New number is %d\",n1);\n\nsystem(\"pause\");\nreturn 0;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "bmp", "alphablending"], "comments": [{"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 3, "creation_date": 1425505694, "post_id": 28865650, "comment_id": 45996259, "body": "Do you want to tell us the small error you&#39;re getting or is it a secret?"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425506463, "post_id": 28865650, "comment_id": 45996686, "body": "Why did you tag this as C++ when you&#39;re using malloc?  Why not &quot;mIn = new unsigned char[fsize];&quot; and &quot;delete [] mIn&quot; instead of free?"}, {"owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "reply_to_user": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 0, "creation_date": 1425576908, "post_id": 28865650, "comment_id": 46029325, "body": "Hi @Blastfurnace here is the &quot;small error&quot;: &lt;img src=\\&quot;<a href=\"http://expert.its.me/temporary/new_image.bmp\" rel=\"nofollow noreferrer\">expert.its.me/temporary/new_image.bmp</a>\\&quot; width=\\&quot;200\\&quot; height=\\&quot;150\\&quot; /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425576814, "post_id": 28866202, "comment_id": 46029262, "body": "I am still getting a wrong result. Here is my image: &lt;img src=\\&quot;<a href=\"http://expert.its.me/temporary/image.bmp\" rel=\"nofollow noreferrer\">expert.its.me/temporary/image.bmp</a>\\&quot; width=\\&quot;200\\&quot; height=\\&quot;150\\&quot; /&gt; Here is the watermark: &lt;img src=\\&quot;<a href=\"http://expert.its.me/temporary/watermark.bmp\" rel=\"nofollow noreferrer\">expert.its.me/temporary/watermark.bmp</a>\\&quot; width=\\&quot;75\\&quot; height=\\&quot;75\\&quot; /&gt; Here is the result from the solution suggested by the @TimeHorse: &lt;img src=\\&quot;<a href=\"http://expert.its.me/temporary/new_image.bmp\" rel=\"nofollow noreferrer\">expert.its.me/temporary/new_image.bmp</a>\\&quot; width=\\&quot;200\\&quot; height=\\&quot;150\\&quot; /&gt; While the correct result should be: &lt;img src=\\&quot;<a href=\"http://expert.its.me/temporary/new_img.bmp\" rel=\"nofollow noreferrer\">expert.its.me/temporary/new_img.bmp</a>\\&quot; width=\\&quot;200\\&quot; height=\\&quot;150\\&quot; /&gt; Please help!"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425584595, "post_id": 28866202, "comment_id": 46033903, "body": "I forget whether bmps store rows of columns (x rows, layered upon y columns) or columns of rows.  I&#39;m going to examine your results and will let you know when I have it modified but I&#39;m sure it&#39;s just a question of row vs. column."}, {"owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425585559, "post_id": 28866202, "comment_id": 46034436, "body": "Excellent news. I&#39;ll wait. Thank you."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425586437, "post_id": 28866202, "comment_id": 46034947, "body": "BTW, I jost noticed, though this doesn&#39;t fix it, that since mOut already contains a copy of mIn, we don&#39;t need mIn once it&#39;s copied.  So I&#39;ll change the code above."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425603517, "post_id": 28866202, "comment_id": 46042288, "body": "I had to move a lot of snow but I&#39;m getting closer.  It turns out you&#39;re not using the correct pixel offset either.  But it&#39;s still not quite right.  I&#39;m still investigating."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425607319, "post_id": 28866202, "comment_id": 46043415, "body": "There you are my friend, I&#39;ve fixed your code and it works exactly as per your request.  Please note all the bullet points because these outline what your code was missing.  Also, the reason I mention the upvote is because my last question was unfairly downvoted and I know how that feels when I see a legitimate question.  Good luck @expert.its.me and hope this helps!"}, {"owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425642442, "post_id": 28866202, "comment_id": 46055590, "body": "Excellent work @TimeHorse - the job is done! You earn an upvote (or few) my friend. I have reputation 6, so the system won&#39;t allow me to set an upvote. If there is a possibility for me to do something - please let me know. I&#39;ll be glad to help - the same way you did for me. Thank you so much. One more thing: as soon as I get reputation more than 15, rest assure that I&#39;ll provide an upvote. Best regards.."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425642679, "post_id": 28866202, "comment_id": 46055693, "body": "It was an interesting problem; glad to help!"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425642843, "post_id": 28866202, "comment_id": 46055773, "body": "@expert.its.me And don&#39;t forget to click the grey checkmark under the answer voting to say this is the officially working answer you were looking for.  Take care."}, {"owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "edited": false, "score": 0, "creation_date": 1425645904, "post_id": 28866202, "comment_id": 46057277, "body": "Sure thing @TimeHorse - you&#39;ve earned it. Regards!"}], "owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "is_accepted": true, "score": 3, "last_activity_date": 1425640702, "last_edit_date": 1425640702, "creation_date": 1425507550, "answer_id": 28866202, "question_id": 28865650, "link": "https://stackoverflow.com/questions/28865650/alpha-blend-watermark-bmp-in-image-bmp-in-c/28866202#28866202", "title": "Alpha blend watermark bmp in image bmp in c++", "body": "<p>The problem is in your loop over a 2-dimensional array of bitmap points.  Change your loop to be a double loop.  Also:</p>\n\n<ul>\n<li>You are not using the correct offset for the pixel range.</li>\n<li>You need to multiply width times 3 to copy all 3 component colors of a pixels</li>\n<li>You should use the rounded off row length to make sure you cover any padding.</li>\n<li>Your y is offset from the bottom of the picture, use trueY to have your offset from the top.</li>\n<li>It helps to have a different error text for each error to know which error is triggering; I've left it as an exercise to come up with more helpful text.</li>\n<li>I voted you up because I think this is an interesting question; I had to dig into the Wikipedia page for BMP files to come up with the final answer.</li>\n<li>You were only using half-alpha on the source, but to reproduce that image you shared in your comments, you need to take half-alpha for both the image and the watermark.</li>\n</ul>\n\n<p>Note also to reproduce the image you shared in the comments, x must be 125 and y must be 100.  All that said, this code looks like it works:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;algorithm&gt;\n\n#define BMP_SIGNATURE_0         0x42\n#define BMP_SIGNATURE_1         0x4D\n#define BMP_DEPTH               24\n#define BMP_HDR_SIZE            24\n\nint isValidBmp(unsigned char *header)\n{\n    if (header == NULL)\n        return -1;\n\n    if ((header[0] == BMP_SIGNATURE_0) &amp;&amp; (header[1] == BMP_SIGNATURE_1))\n        {\n            if (header[28] != BMP_DEPTH)\n                return -1;\n            else\n                return 0;\n        }\n    else\n        return -1;\n}\n\nunsigned long getBmpWidth(unsigned char *header)\n{\n    unsigned long width;\n\n    if (header == NULL)\n        return 0;\n\n    width = ((unsigned long)header[21] &lt;&lt; 24) |\n        ((unsigned long)header[20] &lt;&lt; 16) |\n        ((unsigned long)header[19] &lt;&lt; 8) |\n        (unsigned long)header[18];\n\n    return width;\n}\n\nunsigned long getBmpHeight(unsigned char *header)\n{\n    unsigned long height;\n\n    if (header == NULL)\n        return 0;\n\n    height = ((unsigned long)header[25] &lt;&lt; 24) |\n        ((unsigned long)header[24] &lt;&lt; 16) |\n        ((unsigned long)header[23] &lt;&lt; 8) |\n        (unsigned long)header[22];\n\n    return height;\n}\n\nunsigned long getPixelOffset(unsigned char *header)\n{\n    unsigned long offset;\n\n    if (header == NULL)\n        return 0;\n\n    offset = ((unsigned long)header[13] &lt;&lt; 24) |\n        ((unsigned long)header[12] &lt;&lt; 16) |\n        ((unsigned long)header[11] &lt;&lt; 8) |\n        (unsigned long)header[10];\n\n    return offset;\n}\n\nint main(int argc, char *argv[])    \n{\n    FILE *fIn, *fOut, *fWaterMark;\n    unsigned char *mIn, *mOut, *mWaterMark;\n    unsigned long fsize, zsize;\n    unsigned long fwidth, fheight, zwidth, zheight;\n    unsigned long foffset, frow, zoffset, zrow;\n\n    fIn = fopen(\"srcso.bmp\", \"rb\");\n    if (fIn == NULL)\n        {\n            printf(\"ERROR 1!\\n\\n\");\n            return 1;\n        }\n\n    fseek(fIn, 0, SEEK_END);\n    fsize = ftell(fIn);\n\n    mIn = (unsigned char *)malloc(fsize);\n    fseek(fIn, 0, SEEK_SET);\n    fread(mIn, sizeof(unsigned char), fsize, fIn);\n    fclose(fIn);\n\n    if (isValidBmp(mIn) == -1)\n        {\n            printf(\"ERROR 2!\\n\\n\");\n            free(mIn);\n            return 1;\n        }\n\n    fwidth = getBmpWidth(mIn);\n    fheight = getBmpHeight(mIn);\n    foffset = getPixelOffset(mIn);\n    frow = (BMP_DEPTH * fwidth + 31) / 32 * 4;\n\n    if ((fwidth == 0) || (fheight == 0))\n        {\n            printf(\"ERROR 3!\\n\\n\");\n            free(mIn);\n            return 1;\n        }\n\n    fWaterMark = fopen(\"wmso.bmp\", \"rb\");\n    if (fWaterMark == NULL)\n        {\n            free(mIn);\n            printf(\"ERROR 4!\\n\\n\");\n            return 1;\n        }\n\n    fseek(fWaterMark, 0, SEEK_END);\n    zsize = ftell(fWaterMark);\n\n    mWaterMark = (unsigned char *)malloc(zsize);\n    fseek(fWaterMark, 0, SEEK_SET);\n    fread(mWaterMark, sizeof(unsigned char), zsize, fWaterMark);\n    fclose(fWaterMark);\n\n    if (isValidBmp(mWaterMark) == -1)\n        {\n            printf(\"ERROR 5!\\n\\n\");\n            free(mIn);\n            free(mWaterMark);\n            return 1;\n        }\n\n    zwidth = getBmpWidth(mWaterMark);\n    zheight = getBmpHeight(mWaterMark);\n    zoffset = getPixelOffset(mWaterMark);\n    zrow = (BMP_DEPTH * zwidth + 31) / 32 * 4;\n\n    if ((zwidth == 0) || (zheight == 0))\n        {\n            printf(\"ERROR 6!\\n\\n\");\n            free(mIn);\n            free(mWaterMark);\n            return 1;\n        }\n\n    fOut = fopen(\"new_image.bmp\", \"wb\");\n    if (fOut == NULL)\n        {\n            free(mIn);\n            free(mWaterMark);\n            printf(\"ERROR 7!\\n\\n\");\n            return 1;\n        }\n\n    mOut = (unsigned char *)malloc(fsize);\n    fseek(fOut, 0, SEEK_SET);\n\n    double alpha = 0.5;    \n\n    std::copy(mIn, mIn + fsize, mOut);\n    ::free(mIn);\n    mIn = 0;\n    unsigned int index = BMP_HDR_SIZE;\n    unsigned int x = 200, y = 200;\n    unsigned int trueY = fheight - y - zheight;\n    for (unsigned int j = 0; j &lt; zheight; ++j) {\n        for (unsigned int i = 0; i &lt; zwidth*3; ++i) {\n            const size_t offset = foffset + (j + trueY) * frow + i + x*3;\n            unsigned char * const offOut = mOut + offset; \n            unsigned char * const offWM = mWaterMark + zoffset + j * zrow + i;\n            *offOut *= 1 - alpha;\n            *offWM *= 1 - alpha;\n            if ((unsigned int)*offOut + (unsigned int)*offWM &lt; 265)\n                *offOut += *offWM;\n            else\n                *offOut = 255;\n        }\n    }\n    fwrite(mOut, sizeof(unsigned char), fsize, fOut);\n    fclose(fOut);\n\n    ::free(mWaterMark);\n    ::free(mOut);\n\n    return 0;\n}\n</code></pre>\n\n<p>Note, the if you have an alpha less than .5, you will get strange color artifacts because the algorithm could ping say red but leave blue and green normal making the blue and green seem brighter than they should be.  Technically, when the else case happens for the pixel setting, it should really affect the other two pixels by adding more to them to compensate for this effect.</p>\n"}], "owner": {"reputation": 58, "user_id": 4634177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273296a1f8ffc799561c3f87285b81eb?s=128&d=identicon&r=PG&f=1", "display_name": "expert.its.me", "link": "https://stackoverflow.com/users/4634177/expert-its-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 28866202, "answer_count": 1, "score": 2, "last_activity_date": 1425938267, "creation_date": 1425505582, "last_edit_date": 1425938267, "question_id": 28865650, "link": "https://stackoverflow.com/questions/28865650/alpha-blend-watermark-bmp-in-image-bmp-in-c", "title": "Alpha blend watermark bmp in image bmp in c++", "body": "<p>I have a task at school to add watermark bmp image into some other bmp image. The task is called alpha blending. I have to insert watermark at specific coordinates which user will set through program parameters on start, as well as alpha value for watermark blending. I am almost succeed, but I am getting small error. Here is the code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\n#define BMP_SIGNATURE_0         0x42\n#define BMP_SIGNATURE_1         0x4D\n#define BMP_DEPTH               24\n#define BMP_HDR_SIZE            24\n\nint isValidBmp(unsigned char *header)\n{\n    if (header == NULL)\n    return -1;\n\n    if ((header[0] == BMP_SIGNATURE_0) &amp;&amp; (header[1] == BMP_SIGNATURE_1))\n    {\n        if (header[28] != BMP_DEPTH)\n            return -1;\n        else\n            return 0;\n    }\n    else\n        return -1;\n}\n\nunsigned long getBmpWidth(unsigned char *header)\n{\n    unsigned long width;\n\n    if (header == NULL)\n        return 0;\n\n    width = ((unsigned long)header[21] &lt;&lt; 24) |\n        ((unsigned long)header[20] &lt;&lt; 16) |\n        ((unsigned long)header[19] &lt;&lt; 8) |\n        (unsigned long)header[18];\n\n    return width;\n}\n\nunsigned long getBmpHeight(unsigned char *header)\n{\n    unsigned long height;\n\n    if (header == NULL)\n        return 0;\n\n    height = ((unsigned long)header[25] &lt;&lt; 24) |\n        ((unsigned long)header[24] &lt;&lt; 16) |\n        ((unsigned long)header[23] &lt;&lt; 8) |\n        (unsigned long)header[22];\n\n    return height;\n}\n\nint main(int argc, char *argv[])    \n{\n    FILE *fIn, *fOut, *fWaterMark;\n    unsigned char *mIn, *mOut, *mWaterMark;\n    unsigned long fsize, zsize;\n    unsigned long fwidth, fheight, zwidth, zheight;;\n\n    fIn = fopen(\"D:\\\\Downloads\\\\image.bmp\", \"rb\");\n    if (fIn == NULL)\n    {\n        printf(\"ERROR!\\n\\n\");\n        return 1;\n    }\n\n    fseek(fIn, 0, SEEK_END);\n    fsize = ftell(fIn);\n\n    mIn = (unsigned char *)malloc(fsize);\n    fseek(fIn, 0, SEEK_SET);\n    fread(mIn, sizeof(unsigned char), fsize, fIn);\n    fclose(fIn);\n\n    if (isValidBmp(mIn) == -1)\n    {\n        printf(\"ERROR!\\n\\n\");\n        free(mIn);\n        return 1;\n    }\n\n    fwidth = getBmpWidth(mIn);\n    fheight = getBmpHeight(mIn);\n\n    if ((fwidth == 0) || (fheight == 0))\n    {\n        printf(\"ERROR!\\n\\n\");\n        free(mIn);\n        return 1;\n    }\n\n    fWaterMark = fopen(\"D:\\\\Downloads\\\\watermark.bmp\", \"rb\");\n    if (fWaterMark == NULL)\n    {\n        free(mIn);\n        printf(\"ERROR!\\n\\n\");\n        return 1;\n    }\n\n    fseek(fWaterMark, 0, SEEK_END);\n    zsize = ftell(fWaterMark);\n\n    mWaterMark = (unsigned char *)malloc(zsize);\n    fseek(fWaterMark, 0, SEEK_SET);\n    fread(mWaterMark, sizeof(unsigned char), zsize, fWaterMark);\n    fclose(fWaterMark);\n\n    if (isValidBmp(mWaterMark) == -1)\n    {\n        printf(\"ERROR!\\n\\n\");\n        free(mIn);\n        free(mWaterMark);\n        return 1;\n    }\n\n    zwidth = getBmpWidth(mWaterMark);\n    zheight = getBmpHeight(mWaterMark);\n\n    if ((zwidth == 0) || (zheight == 0))\n    {\n        printf(\"ERROR!\\n\\n\");\n        free(mIn);\n        free(mWaterMark);\n        return 1;\n    }\n\n    fOut = fopen(\"D:\\\\Downloads\\\\new_image.bmp\", \"wb\");\n    if (fOut == NULL)\n    {\n        free(mIn);\n        free(mWaterMark);\n        printf(\"ERROR!\\n\\n\");\n        return 1;\n    }\n\n    mOut = (unsigned char *)malloc(fsize);\n    fseek(fOut, 0, SEEK_SET);\n\n    double alpha = 0.5;    \n\n    memcpy(mOut, mIn, fsize);\n    unsigned int index = BMP_HDR_SIZE;\n    unsigned int x = 200, y = 200;\n    for (unsigned int i = BMP_HDR_SIZE + x*y; i &lt; x*y + zsize; i++)\n    {\n        unsigned char v = ((1 - alpha) * mIn[i]) + mWaterMark[index++];\n        mOut[i] = v;\n    }\n    fwrite(mOut, sizeof(unsigned char), fsize, fOut);\n\n    free(mIn);\n    free(mOut);\n    fclose(fOut);\n\n    return 0;\n}\n</code></pre>\n\n<p>Sample BMP image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QY5FP.jpg\" alt=\"oh look it is actually a BMP!\"></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425505728, "post_id": 28865642, "comment_id": 45996278, "body": "the key thing is intention here... <i>why</i> do you want to access <code>claws</code>?"}, {"owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425505877, "post_id": 28865642, "comment_id": 45996362, "body": "It&#39;s for reporting purposes.  The virtual functions for each sub-class which I process in the loop are dependent on each sub-classes unique set of variables.  I&#39;d like to report these unique variables as well since they change during run-time."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425505915, "post_id": 28865642, "comment_id": 45996382, "body": "so do it from a virtual function - where you know which sub-class the object is."}, {"owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425506160, "post_id": 28865642, "comment_id": 45996519, "body": "That&#39;s my current strategy, but it clutters the code, I was hoping c++ had some hidden trick that would provide a cleaner way of doing this."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425544665, "post_id": 28865642, "comment_id": 46009287, "body": "it doesn&#39;t clutter. you don&#39;t need tricks. it&#39;s very clear - unless, of course, if you completely misunderstood the method. post code."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "edited": false, "score": 0, "creation_date": 1425601676, "post_id": 28867221, "comment_id": 46041769, "body": "I&#39;ll try implementing this tonight, looks like what I was hoping for."}], "owner": {"reputation": 1018, "user_id": 1592377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/EIJfg.png?s=128&g=1", "display_name": "jplatte", "link": "https://stackoverflow.com/users/1592377/jplatte"}, "is_accepted": true, "score": 0, "last_activity_date": 1425512148, "creation_date": 1425512148, "answer_id": 28867221, "question_id": 28865642, "link": "https://stackoverflow.com/questions/28865642/ho-can-i-report-sub-class-values-where-sub-classes-are-stored-in-a-stdvectorp/28867221#28867221", "title": "Ho can I report sub-class values where sub-classes are stored in a std::vector&lt;parent-class&gt;", "body": "<p>You can use <a href=\"http://en.cppreference.com/w/cpp/language/dynamic_cast\" rel=\"nofollow\"><code>dynamic_cast</code></a> or <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/pointer_cast\" rel=\"nofollow\"><code>std::dynamic_pointer_cast</code></a> for this, for example like this:</p>\n\n<pre><code>if(auto catPtr = std::dynamic_pointer_cast&lt;cat&gt;(animalPtr))\n{\n    // now you use catPtr.claws\n}\n</code></pre>\n\n<p>(assuming animalPtr is of type <code>std::shared_ptr&lt;animal&gt;</code>)</p>\n"}], "owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 28867221, "answer_count": 1, "score": 0, "last_activity_date": 1425514062, "creation_date": 1425505559, "last_edit_date": 1425514062, "question_id": 28865642, "link": "https://stackoverflow.com/questions/28865642/ho-can-i-report-sub-class-values-where-sub-classes-are-stored-in-a-stdvectorp", "title": "Ho can I report sub-class values where sub-classes are stored in a std::vector&lt;parent-class&gt;", "body": "<p>I have a std::vector of smart pointers to the parent class animals.</p>\n\n<pre><code>std::vector&lt;std::shared_ptr&lt;animal&gt;&gt; farm; \n</code></pre>\n\n<p>Sub-classes cat, dog, and mouse each have the parent class animal.\nOnly cat, dog, and mouse are pointed to in the vector. Like this</p>\n\n<pre><code>class cat : public animal {\npublic:\n    bool claws;\n};\n\nfarm.push_back(std::make_shared&lt;cat&gt;());\nfarm.push_back(std::make_shared&lt;dog&gt;());\nfarm.push_back(std::make_shared&lt;mouse&gt;());\n</code></pre>\n\n<p>Cat also has public member cat.claws (type bool). </p>\n\n<p>I know farm[0].claws won't work because claws isn't a virtual member of farm.  Is there a way to access claws when looping through farm without creating a separate virtual function?  In the actual problem I have many different sub-class variables I'd like to report to the user as the program loops over farm (indefinitely).</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1864610"}, "edited": false, "score": 0, "creation_date": 1425505802, "post_id": 28865627, "comment_id": 45996318, "body": "Floating point numbers are prone to errors of precision. Don&#39;t store currency values as dollars - store as cents and use integers for arithmetic, then convert to dollars for display."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4505409, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ff4a5632af165f2cbe68f0e2d6c2463?s=128&d=identicon&r=PG&f=1", "display_name": "TheMrDrake", "link": "https://stackoverflow.com/users/4505409/themrdrake"}, "edited": false, "score": 0, "creation_date": 1425505993, "post_id": 28865679, "comment_id": 45996422, "body": "Round still doesn&#39;t do what I want. Can you give me an example of what you mean? Because I looked at the reference for that function and it rounds to the nearest whole number and if my amount is 153.66 I will get a negitive number if I do amount - round(amound) * 100; I also looked at truncate and its doing the same thing."}, {"owner": {"reputation": 97299, "user_id": 41360, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7bd2e50770e937761cfc3811a332bccc?s=128&d=identicon&r=PG", "display_name": "Vilx-", "link": "https://stackoverflow.com/users/41360/vilx"}, "reply_to_user": {"reputation": 11, "user_id": 4505409, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ff4a5632af165f2cbe68f0e2d6c2463?s=128&d=identicon&r=PG&f=1", "display_name": "TheMrDrake", "link": "https://stackoverflow.com/users/4505409/themrdrake"}, "edited": false, "score": 0, "creation_date": 1425583321, "post_id": 28865679, "comment_id": 46033074, "body": "@TheMrDrake - still, @Christoph is right. Using a <code>long amountInCents;</code> would be better. Unless you actually need fractional cents."}], "owner": {"reputation": 97299, "user_id": 41360, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7bd2e50770e937761cfc3811a332bccc?s=128&d=identicon&r=PG", "display_name": "Vilx-", "link": "https://stackoverflow.com/users/41360/vilx"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505698, "creation_date": 1425505698, "answer_id": 28865679, "question_id": 28865627, "link": "https://stackoverflow.com/questions/28865627/getting-cents-from-math-c/28865679#28865679", "title": "Getting Cents from Math C++", "body": "<p>Use <a href=\"http://www.cplusplus.com/reference/cmath/round/\" rel=\"nofollow\"><code>round()</code></a> instead of <code>static_cast&lt;int&gt;</code>. The difference between the actual value and what fits inside your float is 0.0000000somethingsmall. Rounding will always give the correct answer.</p>\n\n<p>Also, round only <strong>after</strong> multiplying by 100.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4505409, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ff4a5632af165f2cbe68f0e2d6c2463?s=128&d=identicon&r=PG&f=1", "display_name": "TheMrDrake", "link": "https://stackoverflow.com/users/4505409/themrdrake"}, "edited": false, "score": 0, "creation_date": 1425506114, "post_id": 28865696, "comment_id": 45996489, "body": "What do you mean? Cents is an integer. I have dollar amounts stored as a double."}, {"owner": {"reputation": 7964, "user_id": 1072468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cb56d2bf7341a5092975ce5c7af50b6e?s=128&d=identicon&r=PG", "display_name": "Nicu Stiurca", "link": "https://stackoverflow.com/users/1072468/nicu-stiurca"}, "edited": false, "score": 1, "creation_date": 1425506215, "post_id": 28865696, "comment_id": 45996555, "body": "Yes, people mostly default to using floating point whenever they see a decimal point. However, the key strength of floating point format is that the decimal point can effectively <i>float</i> with changing magnitude, not simply that it has a decimal point. The floating behaviour has significant drawbacks such as rounding precision. If you know the magnitude ahead of time, it is often better to use more natural units such that the smallest quantity is 1 (eg, use cents instead of dollars), and then stick with integers."}, {"owner": {"reputation": 7964, "user_id": 1072468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cb56d2bf7341a5092975ce5c7af50b6e?s=128&d=identicon&r=PG", "display_name": "Nicu Stiurca", "link": "https://stackoverflow.com/users/1072468/nicu-stiurca"}, "edited": false, "score": 1, "creation_date": 1425506271, "post_id": 28865696, "comment_id": 45996581, "body": "Instead of saying something like <code>double dollarAmount = 3.14</code>, say instead <code>long centAmount = 314</code>."}], "owner": {"reputation": 404, "user_id": 4222362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f621c9b3adbe88dd2626917e7a54300e?s=128&d=identicon&r=PG&f=1", "display_name": "Lacuno", "link": "https://stackoverflow.com/users/4222362/lacuno"}, "is_accepted": false, "score": 4, "last_activity_date": 1425505759, "creation_date": 1425505759, "answer_id": 28865696, "question_id": 28865627, "link": "https://stackoverflow.com/questions/28865627/getting-cents-from-math-c/28865696#28865696", "title": "Getting Cents from Math C++", "body": "<p>Don't use floating point variables when rounding is important.\nJust use a long variable to store cents.</p>\n"}], "owner": {"reputation": 11, "user_id": 4505409, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ff4a5632af165f2cbe68f0e2d6c2463?s=128&d=identicon&r=PG&f=1", "display_name": "TheMrDrake", "link": "https://stackoverflow.com/users/4505409/themrdrake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425505759, "creation_date": 1425505492, "question_id": 28865627, "link": "https://stackoverflow.com/questions/28865627/getting-cents-from-math-c", "title": "Getting Cents from Math C++", "body": "<p>Right now my code works just that when I get I print out he cents i am off by one because of the the round error the compiler does when you take say 0.95 * 100 it gives me 94 or something that is not 95. I know how the math works to get it normally but with this rounding error I can't do it.</p>\n\n<p>Also don't worry about asking me why I am using C and C++ at the same time. Its because this is how my instructor wanted it.</p>\n\n<p>Here is the relevant code.</p>\n\n<pre><code>if (dollarAmount &lt; 10.00 &amp;&amp; dollarAmount &gt;= 1.00)\n{\n    cents = (dollarAmount - static_cast&lt;int&gt;(dollarAmount)) * 100;\n    digit = (((static_cast&lt;int&gt;(dollarAmount)/ 1)));\n\n    strcat(amountInWords, lookUp[digit]);\n    strcat(amountInWords, \" dollars and \");\n\n}\n</code></pre>\n\n<p>Whole project code: <a href=\"https://gist.github.com/anonymous/65c052277c67f03de643\" rel=\"nofollow\">https://gist.github.com/anonymous/65c052277c67f03de643</a></p>\n"}, {"tags": ["c++", "c", "gcc"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 8, "creation_date": 1425505287, "post_id": 28865530, "comment_id": 45996058, "body": "What is your outer problem? Why do you think you want to do this? What precisely is in your array? Are you sure it doesn&#39;t <i>require</i> 4-byte alignment on your platform?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1425514286, "post_id": 28865530, "comment_id": 45999769, "body": "It seems you consider this an error, fluke, mistake, oversight or bug. However, there are several good reasons to store array elements this way. Can you provide your reasons why it should not?"}], "answers": [{"owner": {"reputation": 107, "user_id": 4565423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pP6Oj.jpg?s=128&g=1", "display_name": "mrhpogie", "link": "https://stackoverflow.com/users/4565423/mrhpogie"}, "is_accepted": false, "score": 0, "last_activity_date": 1425506914, "creation_date": 1425506914, "answer_id": 28866008, "question_id": 28865530, "link": "https://stackoverflow.com/questions/28865530/how-to-avoid-padding-so-that-extra-bytes-are-not-used-by-a-structure/28866008#28866008", "title": "How to avoid padding so that extra bytes are not used by a structure", "body": "<p>Your platform may have the option 'packed' for sections. Sections having this are then aligned to byte</p>\n"}, {"owner": {"reputation": 1206, "user_id": 45679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa492aad65a8cf3202c55f64576fa23?s=128&d=identicon&r=PG", "display_name": "Gwyn Evans", "link": "https://stackoverflow.com/users/45679/gwyn-evans"}, "is_accepted": false, "score": 2, "last_activity_date": 1425507077, "creation_date": 1425507077, "answer_id": 28866059, "question_id": 28865530, "link": "https://stackoverflow.com/questions/28865530/how-to-avoid-padding-so-that-extra-bytes-are-not-used-by-a-structure/28866059#28866059", "title": "How to avoid padding so that extra bytes are not used by a structure", "body": "<p>You probably want to look at using <code>#pragma pack</code> around your structure. See <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Structure-Packing-Pragmas.html\" rel=\"nofollow\">https://gcc.gnu.org/onlinedocs/gcc/Structure-Packing-Pragmas.html</a> for some docs.</p>\n\n<p>Try <code>#pragma pack(1)</code> just before then <code>#pragma pack()</code> just after the structure definition.</p>\n"}], "owner": {"reputation": 75, "user_id": 4050257, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8376f094a1fc715b8e1f354b78c0d51f?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal", "link": "https://stackoverflow.com/users/4050257/kunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1425513720, "creation_date": 1425505166, "last_edit_date": 1425513720, "question_id": 28865530, "link": "https://stackoverflow.com/questions/28865530/how-to-avoid-padding-so-that-extra-bytes-are-not-used-by-a-structure", "title": "How to avoid padding so that extra bytes are not used by a structure", "body": "<p>One of my arrays takes 14 bytes but in a map file it shows as 16 bytes (i.e. next variable is allocated after 16 bytes of memory).\nI want it not to use more than 14 bytes, i.e padding space should not come in map file.</p>\n\n<p>What option do I have for same?</p>\n\n<p>Can it be done using any compiler option?</p>\n"}, {"tags": ["c++", "network-programming", "packet"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1425509629, "post_id": 28865453, "comment_id": 45998173, "body": "You&#39;ll need to pass both the buffer and the length to <code>onReceive().</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1425508042, "post_id": 28866068, "comment_id": 45997499, "body": "A pointer is not necessarily 4 bytes, but yes <code>sizeof(char *)</code> is the size of the pointer not the length of the data contained."}, {"owner": {"reputation": 177, "user_id": 3517454, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/379416409e937a4355de236acd663bb9?s=128&d=identicon&r=PG&f=1", "display_name": "user3517454", "link": "https://stackoverflow.com/users/3517454/user3517454"}, "edited": false, "score": 0, "creation_date": 1425508121, "post_id": 28866068, "comment_id": 45997539, "body": "Hm I changed that to be the actual size, and now it&#39;s not receiving 0.0.0.0 but it&#39;s still the wrong address."}], "owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "is_accepted": true, "score": 1, "last_activity_date": 1425507120, "creation_date": 1425507120, "answer_id": 28866068, "question_id": 28865453, "link": "https://stackoverflow.com/questions/28865453/how-to-read-send-packets-correctly/28866068#28866068", "title": "How to read/send packets correctly?", "body": "<p>You are sending sizeof(packet) bytes. But sizeof(packet) is 4, because packet is a pointer. You need a better way to keep track of the actual size you want to send.</p>\n"}], "owner": {"reputation": 177, "user_id": 3517454, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/379416409e937a4355de236acd663bb9?s=128&d=identicon&r=PG&f=1", "display_name": "user3517454", "link": "https://stackoverflow.com/users/3517454/user3517454"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 28866068, "answer_count": 1, "score": 1, "last_activity_date": 1425507120, "creation_date": 1425504884, "question_id": 28865453, "link": "https://stackoverflow.com/questions/28865453/how-to-read-send-packets-correctly", "title": "How to read/send packets correctly?", "body": "<p>I am trying to send packets via UDP, and I am not allowed to use SOCK_RAW (school project). \nThe packet I am sending has a header struct ip and a string data part. I put them into one char array (the packet itself is configured correctly). </p>\n\n<p>Here is how I send: </p>\n\n<pre><code>sendPacket(packet);\n</code></pre>\n\n<p>where packet is a char[] and </p>\n\n<p>where sendPacket is defined as:</p>\n\n<pre><code>void IPNode::sendPacket(char* packet){\n        //define socket, destSockAddr\n        int success = sendto(socket, packet, sizeof(packet), 0,\n                (struct sockaddr *) &amp;destSockAddr, sizeof(destSockAddr));\n    }\n}\n</code></pre>\n\n<p>The packet seems to be correct. \nHowever, this is how I read it in. </p>\n\n<pre><code>while (true) {\n    struct sockaddr_in remoteAddr;\n    socklen_t remoteAddrLen = sizeof(remoteAddr);\n    char buffer[BUF_SIZE];\n    int recvlen = recvfrom(myListenSocket, buffer, BUF_SIZE, 0, 0, 0);\n    onReceive(buffer);\n// other stuff\n\n}\n</code></pre>\n\n<p>where onReceive is:</p>\n\n<pre><code>void onReceive(char* packet) {\n    ip* ptr = (ip*)packet; //the struct ip is the beginning of the packet\n    struct ip ipCpy = *ptr;\n    struct in_addr inAddrCpy = ipCpy.ip_src;\n    char* ipString = inet_ntoa(inAddrCpy);\n    cout &lt;&lt; ipString &lt;&lt; endl;\n    return;\n}\n</code></pre>\n\n<p>However, the ipString that is printed is different from the ipString that was in the packet before being sent. Am I accessing the received packets wrongly? </p>\n"}, {"tags": ["c++", "pointers", "structure"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 2216718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/CxggZ.jpg?s=128&g=1", "display_name": "Mohit Shah", "link": "https://stackoverflow.com/users/2216718/mohit-shah"}, "edited": false, "score": 0, "creation_date": 1425505365, "post_id": 28865488, "comment_id": 45996092, "body": "can you explain about memory leaks please?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 759, "user_id": 2216718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/CxggZ.jpg?s=128&g=1", "display_name": "Mohit Shah", "link": "https://stackoverflow.com/users/2216718/mohit-shah"}, "edited": false, "score": 0, "creation_date": 1425506189, "post_id": 28865488, "comment_id": 45996537, "body": "For each call to <code>new</code> you have to match it with a call to <code>delete</code>, otherwise you&#39;ve leaked memory."}], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": true, "score": 3, "last_activity_date": 1425505012, "creation_date": 1425505012, "answer_id": 28865488, "question_id": 28865289, "link": "https://stackoverflow.com/questions/28865289/inconsistent-data-in-variable/28865488#28865488", "title": "Inconsistent Data in variable", "body": "<p>You are returning the address of a local variable, which is undefined behavior:</p>\n\n<pre><code>node* Create(int inum,int dnum)\n{\n    node A;\n    //...\n    return &amp;A;  // no good\n}\n</code></pre>\n\n<p>When the function returns, that address no longer points to a valid instance of <code>node</code>, since <code>A</code> is a local variable.</p>\n\n<p>You should dynamically allocate a new node, but then you have to manage your program to make sure you don't have memory leaks:</p>\n\n<pre><code>node* Create(int inum,int dnum)\n{\n    node* A = new node;\n    //...\n    return A;   \n}\n</code></pre>\n\n<p>Also, all of your <code>.</code> will become <code>-&gt;</code>, since <code>A</code> is now a pointer.</p>\n"}], "owner": {"reputation": 759, "user_id": 2216718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/CxggZ.jpg?s=128&g=1", "display_name": "Mohit Shah", "link": "https://stackoverflow.com/users/2216718/mohit-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28865488, "answer_count": 1, "score": 0, "last_activity_date": 1425505012, "creation_date": 1425504334, "question_id": 28865289, "link": "https://stackoverflow.com/questions/28865289/inconsistent-data-in-variable", "title": "Inconsistent Data in variable", "body": "<pre><code>#include&lt;iostream&gt;\n#include&lt;conio.h&gt;\nusing namespace std;\n\n\n    struct node\n{\n    node *next;\n    node *prev;\n    node *fnext;\n    node *fprev;\n\n    int device_number;\n    int inode_number;\n    int ref_count;\n    bool locked;\n\n};\n\nnode* Create(int inum,int dnum)\n{\n    node A;\n\n    A.next=A.prev=A.fnext=A.fprev=NULL;\n\n    A.inode_number=inum;\n    A.device_number=dnum;\n    A.ref_count=0;\n    A.locked=false;\n\n    return &amp;A;\n}\n\nclass Sample\n{\npublic:\n    Sample()\n    {\n        node*A= Create(0,0);\n\n            cout&lt;&lt;A-&gt;device_number&lt;&lt;A-&gt;inode_number;\n        Pass(A);\n    }\n\n    void Pass(node* A)\n    {\n        cout&lt;&lt;A-&gt;device_number&lt;&lt;A-&gt;inode_number;\n    }\n\n\n};\nint main()\n{\n    Sample S;\n\n\n    getch();\n    return 0;\n\n}\n</code></pre>\n\n<p>This is a small part of a big program. Here the focus is that i am getting garbage values like -868456546 in function Pass for node* A attribute values whereas in Constructor after using global function Create(int,int) for initializing node *A  I am getting correct values i.e 00. So this should not be happening as I am passing the same pointer to function Pass. What is the problem here ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 2, "creation_date": 1425504606, "post_id": 28865252, "comment_id": 45995730, "body": "Although you haven&#39;t shown the code for <code>taxAmount()</code>, my money&#39;s on the <code>marital</code>, <code>children</code>, <code>grossSalary</code> and <code>pension</code> values being referenced there. They are not in that function&#39;s scope."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1425504740, "post_id": 28865252, "comment_id": 45995794, "body": "I don&#39;t see a cause for the error that you describe.  <a href=\"http://ideone.com/wo19ge\" rel=\"nofollow noreferrer\">I also don&#39;t get any errors</a> when I compile this code."}, {"owner": {"reputation": 1, "user_id": 4612195, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/947727295239152/picture?type=large", "display_name": "Kelsey Calvert", "link": "https://stackoverflow.com/users/4612195/kelsey-calvert"}, "edited": false, "score": 0, "creation_date": 1425505034, "post_id": 28865252, "comment_id": 45995937, "body": "The last time I posted my full code on a question, someone told me not to post so much unnecessary, so that&#39;s why I removed it. Would you guys like me to post my full program?"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1425505598, "post_id": 28865252, "comment_id": 45996203, "body": "What line specifically is generating the error message? Also, you may have been told not to post so much code, but you still have to include the <b>relevant</b> code. Posting the <i>relevant</i> portions of the code is different from dumping <i>all of</i> the code."}, {"owner": {"reputation": 2474, "user_id": 3606363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NGUHv.jpg?s=128&g=1", "display_name": "notadam", "link": "https://stackoverflow.com/users/3606363/notadam"}, "edited": false, "score": 0, "creation_date": 1425509036, "post_id": 28865252, "comment_id": 45997932, "body": "I don&#39;t really see how this works. Looking at the code, you get the inputs back to <code>main</code> with no problem, but then you call <code>taxAmount</code>, passing an uninitialized <code>int</code> to it, ignoring all the input you received. I suspect you don&#39;t show your full code here. Please, have a <a href=\"http://en.wikipedia.org/wiki/Minimal_Working_Example\" rel=\"nofollow noreferrer\">read</a>"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425864150, "post_id": 28865252, "comment_id": 46123631, "body": "@KelseyCalvert I noticed you&#39;ve asked 4 questions and only accepted an answer once.  We here at StackOverflow often work hard to answer your questions and many third parties use these answers to solve their problems long after you&#39;ve moved on.  I accept that my solution may not be the solution you&#39;re looking for but please at least provide feedback on how I can fix it to your needs as I tried to describe a number of approaches you could use.  And if you did use one of my solutions, please have the decency to click the grey check mark so future visitors can benefit from this learning experience"}], "answers": [{"comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1425506233, "post_id": 28865724, "comment_id": 45996565, "body": "<code>static</code> at module scope in C doesn&#39;t change the storage class, but the visibility (publicness) of functions and variables.  <code>static</code> hides them.  Without <code>static</code> makes them public."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "reply_to_user": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 1, "creation_date": 1425507816, "post_id": 28865724, "comment_id": 45997397, "body": "Static means the variables are isolated at file scope.  If taxAmount is defined in the same file as main, then static is fine, but if taxAmount is a different file, then yes, you need external linkage and in that case a shared header.  The implication was this was all one file.  If not, declare the variables as extern in a header and define them in main.cpp.  So @wallyk, I believe we were saying the same thing above."}], "owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1425508674, "last_edit_date": 1425508674, "creation_date": 1425505855, "answer_id": 28865724, "question_id": 28865252, "link": "https://stackoverflow.com/questions/28865252/tax-calculator-c/28865724#28865724", "title": "Tax Calculator C++", "body": "<p>If you can change the function signature of <code>taxAmount</code> to:</p>\n\n<pre><code>int taxAmount(int amount, char marital, int children, int grossSalary, int pension)\n</code></pre>\n\n<p>then that would be the best way to get the parameters into your function; or to save typing make a class with all 4 values and just pass in a constant reference to your class:</p>\n\n<pre><code>struct TaxRecord {\n    char marital;\n    int children;\n    int grossSalary;\n    int pension;\n};\n</code></pre>\n\n<p>...</p>\n\n<pre><code>int taxAmount(int amount, const TaxRecord &amp;record);\n</code></pre>\n\n<p>On the other hand, if you can't change the function signature either, then I recommend you make your 4 values file-scope instead of at the functional scope of the <code>main</code> function:</p>\n\n<pre><code>static char marital;\nstatic int children;\nstatic int grossSalary;\nstatic int pension;\n\nint main(int argc, char *argv[]) {\n    // ...\n}\n</code></pre>\n\n<p>You need the static keyword in C++ because otherwise your variable default to external; if you're in C you can drop the static keyword because that's the default (though see @wallyk's note below).</p>\n\n<p>This assumes <code>main</code> and <code>taxAmount</code> are defined in the same <code>.c</code>/<code>.cpp</code> file.  If not, you would do something like this:</p>\n\n<p>tax.hpp:</p>\n\n<pre><code>extern char marital;\nextern int children;\nextern int grossSalary;\nextern int pension;\n</code></pre>\n\n<p>and in tax.cpp and only tax.cpp:</p>\n\n<pre><code>#include \"tax.hpp\"\n\nchar marital;\nint children;\nint grossSalary;\nint pension;\n</code></pre>\n\n<p>That way every translation unit (<code>cpp</code> file) will have access to those 4 variables.  But keeping them static at file scope is much cleaner since the names don't pollute your entire executable, just the one file.</p>\n"}], "owner": {"reputation": 1, "user_id": 4612195, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/947727295239152/picture?type=large", "display_name": "Kelsey Calvert", "link": "https://stackoverflow.com/users/4612195/kelsey-calvert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2726, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425508674, "creation_date": 1425504225, "question_id": 28865252, "link": "https://stackoverflow.com/questions/28865252/tax-calculator-c", "title": "Tax Calculator C++", "body": "<p>I am writing a program to calculate taxes based on marital status, number of children under the age of 14, gross salary, and percentage of gross salary contributed to a pension fund. Everything seems correct, but the marital status, number of children, gross salary, and pension fund percentage are not able to be seen in my function taxAmount. I thought that using an ampersand (&amp;) would make the values viewable by my other function. I cannot change the number of functions that I have, I must stick with the two I am currently working with. Does anyone have suggestions as to how I can fix my problem? The error message says that marital, children, grossSalary, and pension are not declared in the scope.</p>\n\n<p>The prototypes are:</p>\n\n<pre><code>void getData(char&amp;, int&amp;, int&amp;, int&amp;);\nint taxAmount(int);\n</code></pre>\n\n<p>My main function:</p>\n\n<pre><code>int main()\n{\n    char marital;\n    int children;\n    int grossSalary;\n    int pension;\n\n    int amount;\n\n    getData(marital, children, grossSalary, pension);\n\n    cout &lt;&lt; \"The tax amount is: $\" &lt;&lt; taxAmount(amount) &lt;&lt; endl;\n\n\n    _getch();\n    return 0;\n}\n</code></pre>\n\n<p>My function to get data:</p>\n\n<pre><code>void getData(char&amp; marital, int&amp; children, int&amp; grossSalary, int&amp; pension)\n{\n    cout &lt;&lt; \"Enter your marital status. Enter 'm' for married. Enter 's' for\";\n    cout &lt;&lt; \" single. \\n\";\n    cin &gt;&gt; marital;\n    cout &lt;&lt; endl;\n\n    cout &lt;&lt; \"Enter the number of children you have under the age of 14. \\n\";\n    cin &gt;&gt; children;\n    cout &lt;&lt; endl;\n\n    cout &lt;&lt; \"Enter your gross salary. If you are married, enter the combined\";\n    cout &lt;&lt; \" income of you and your spouse.\";\n    cin &gt;&gt; grossSalary;\n    cout &lt;&lt; endl;\n\n    cout &lt;&lt; \"Enter the number of the percentage (up to 6) of your gross\";\n    cout &lt;&lt; \" income contributed to a pension fund.\";\n    cin &gt;&gt; pension;\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>My function to calculate the amount (code removed):</p>\n\n<pre><code>int taxAmount(int amount)\n{\n...\n}\n</code></pre>\n"}, {"tags": ["c++", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 0, "creation_date": 1425504352, "post_id": 28865243, "comment_id": 45995577, "body": "This will also reverse the original string, so if that is not desired, it may be better to make this a helper function that is called by <code>reverse( string, int, int )</code>"}], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": true, "score": 1, "last_activity_date": 1425504793, "last_edit_date": 1425504793, "creation_date": 1425504179, "answer_id": 28865243, "question_id": 28865190, "link": "https://stackoverflow.com/questions/28865190/string-reversal-via-recursion-in-c/28865243#28865243", "title": "string reversal via recursion in c++", "body": "<p>You need to pass the string by reference, not by value in the <code>reverse</code> function:</p>\n\n<pre><code>string reverse(string&amp; s,int length,int start=0){\n</code></pre>\n\n<p>Live Example: <a href=\"http://ideone.com/pJ3G9l\" rel=\"nofollow\">http://ideone.com/pJ3G9l</a></p>\n\n<p>The reason why a reference works is that you are reversing the current string, not a temporary string.  </p>\n\n<p>As the comment suggested, if the desired effect is to not alter the original string, then a helper function that does the recursion would work.</p>\n\n<pre><code>string reverse_helper(string&amp; s,int length,int start)\n{\n    if (start&gt;=length)\n        return s;\n    else\n    {\n        char temp=s[length];\n        s[length]=s[start];\n        s[start]=temp;\n        reverse_helper(s,--length,++start);\n    }\n    return s;\n}\n\nstring reverse(string str, int length, int start=0)\n{\n    return reverse_helper(str, length, start);\n}\n</code></pre>\n\n<p>Live example of helper function:  <a href=\"http://ideone.com/RzY1Bu\" rel=\"nofollow\">http://ideone.com/RzY1Bu</a></p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 4634100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/812952880fb043635cc52aa5fe1347bc?s=128&d=identicon&r=PG&f=1", "display_name": "noobkid", "link": "https://stackoverflow.com/users/4634100/noobkid"}, "edited": false, "score": 0, "creation_date": 1425504666, "post_id": 28865249, "comment_id": 45995758, "body": "the return type is string. So how does it work with returning a string and 2 ints?"}, {"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "reply_to_user": {"reputation": 17, "user_id": 4634100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/812952880fb043635cc52aa5fe1347bc?s=128&d=identicon&r=PG&f=1", "display_name": "noobkid", "link": "https://stackoverflow.com/users/4634100/noobkid"}, "edited": false, "score": 0, "creation_date": 1425504810, "post_id": 28865249, "comment_id": 45995826, "body": "You are not returning a string and 2 ints, you are returning the value from the next call of <code>reverse()</code>. As you say, the return type of <code>reverse</code> is a string, so the type of <code>reverse( s, --length, ++start )</code> is string."}], "owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "is_accepted": false, "score": 3, "last_activity_date": 1425504213, "creation_date": 1425504213, "answer_id": 28865249, "question_id": 28865190, "link": "https://stackoverflow.com/questions/28865190/string-reversal-via-recursion-in-c/28865249#28865249", "title": "string reversal via recursion in c++", "body": "<p>Instead of returning <code>s</code>, which is a copy of the original string with the first and last characters switched, you need to return the next call to <code>reverse()</code>:</p>\n\n<pre><code>else{\n    //...\n    return reverse( s, --length, ++start );\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4634100, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/812952880fb043635cc52aa5fe1347bc?s=128&d=identicon&r=PG&f=1", "display_name": "noobkid", "link": "https://stackoverflow.com/users/4634100/noobkid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 28865243, "answer_count": 2, "score": 0, "last_activity_date": 1425504793, "creation_date": 1425503975, "question_id": 28865190, "link": "https://stackoverflow.com/questions/28865190/string-reversal-via-recursion-in-c", "title": "string reversal via recursion in c++", "body": "<p>i have tried my code after looking for some solutions online. There was one algorithm regarding string reversal via recursion and i tried my best to make my code according to that algorithm.\nunfortunately, my code only swaps the first and the last characters in the given string but not the characters second with second last and so on.\nany help would be appreciated\nhere's my code:</p>\n\n<pre><code>string reverse(string s,int length,int start=0){\n\n    if (start&gt;=length){\n        return s;\n    }\n    else{\n        char temp=s[length];\n        s[length]=s[start];\n        s[start]=temp;\n        reverse(s,--length,++start);\n    }return s;\n}\n\nint main(void) {\n\n    string a;cout&lt;&lt;\"enter a string:\";getline(cin,a);\n    cout&lt;&lt;reverse(a,a.length()-1,0);\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "ffmpeg"], "comments": [{"owner": {"reputation": 5989, "user_id": 2283946, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wvjew.png?s=128&g=1", "display_name": "GPPK", "link": "https://stackoverflow.com/users/2283946/gppk"}, "edited": false, "score": 0, "creation_date": 1425542393, "post_id": 28865154, "comment_id": 46008193, "body": "Have you tried this with a static path name, because -1 in your code means its not opening the file, not decoding it. (Don&#39;t forget to use \\&#41;"}, {"owner": {"reputation": 1527, "user_id": 2565010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5141ef226c93aa4275a442020f3bbd2?s=128&d=identicon&r=PG", "display_name": "user2565010", "link": "https://stackoverflow.com/users/2565010/user2565010"}, "reply_to_user": {"reputation": 5989, "user_id": 2283946, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wvjew.png?s=128&g=1", "display_name": "GPPK", "link": "https://stackoverflow.com/users/2283946/gppk"}, "edited": false, "score": 0, "creation_date": 1425560011, "post_id": 28865154, "comment_id": 46018355, "body": "It is opening the file. That is not the problem. I have tried inserting -1 at the codec argument when creating the videoWriter and it showed me 3 codecs nobody heard from and which were terrible. The file was opened and videos were created. The issue is that I am getting the error when I am trying to use a normal codec like divx, xvid or h264 it stops working."}], "owner": {"reputation": 1527, "user_id": 2565010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5141ef226c93aa4275a442020f3bbd2?s=128&d=identicon&r=PG", "display_name": "user2565010", "link": "https://stackoverflow.com/users/2565010/user2565010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1487, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1425503878, "creation_date": 1425503878, "question_id": 28865154, "link": "https://stackoverflow.com/questions/28865154/how-to-install-codecs-for-opencv", "title": "How to install codecs for opencv?", "body": "<p>I am trying to write a program that captures video from a webcam using this code: </p>\n\n<pre><code>#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, char** argv)\n{\n\n    Mat frame;\n    VideoCapture cap(1);\n    char key;\n    String outputName = \"output.avi\";\n\n    VideoWriter outputVideo;\n    Size size = Size(cap.get(CV_CAP_PROP_FRAME_WIDTH), cap.get(CV_CAP_PROP_FRAME_HEIGHT));\n\n\n\n    outputVideo.open(outputName, CV_FOURCC('D', 'I', 'V', 'X'), cap.get(CV_CAP_PROP_FPS), size, true);\n\n    if (!outputVideo.isOpened())\n    {\n        cout &lt;&lt; \"Could not open the output video for write: \" &lt;&lt; outputName &lt;&lt; endl;\n        return -1;\n    }\n    cout &lt;&lt; \"size \" &lt;&lt; size.width &lt;&lt; \" x \" &lt;&lt; size.height &lt;&lt; endl;\n\n    namedWindow(\"Display window\", WINDOW_AUTOSIZE); // Create a window for display.\n    cap.set(CV_CAP_PROP_EXPOSURE, -8);\n\n\n    while (true){\n        bool success = cap.read(frame);\n        if (!success){\n            cout &lt;&lt; \"Cannot read frame from file\" &lt;&lt; endl;\n            return -2;\n        }\n        outputVideo.write(frame);\n        imshow(\"Display window\", frame);\n        key = waitKey(1);\n        if (key == ' '){\n            cout &lt;&lt; \"Video ended due to key stroke\" &lt;&lt; endl;\n            return 1;\n        }\n    }\n\n\n    return 0;\n}\n</code></pre>\n\n<p>The program doesn't seem to be able to open outputVideo since it always returns -1. I thought that I might not have the codec divx installed, but I have installed it from k-lite codec pack and divx and it still does not work.</p>\n\n<p>Could anybody please tell me how to install codecs <strong>such that opencv recognizes them</strong>?</p>\n\n<p>I am using OpenCV 2.4.10 on Windows 7 with Visual studio 2013.</p>\n"}, {"tags": ["c++", "swift", "queue", "grand-central-dispatch", "porting"], "answers": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1425506415, "last_edit_date": 1425506415, "creation_date": 1425504364, "answer_id": 28865297, "question_id": 28865148, "link": "https://stackoverflow.com/questions/28865148/why-does-dispatch-queue-create-give-an-exc-bad-access-error-in-swift/28865297#28865297", "title": "Why does dispatch_queue_create give an EXC_BAD_ACCESS error in Swift?", "body": "<p>The second argument of <code>dispatch_queue_create()</code> has the type\n<code>dispatch_queue_attr_t</code>, which is declared as</p>\n\n<pre><code>typealias dispatch_queue_attr_t = NSObject\n</code></pre>\n\n<p>You have to pass <code>DISPATCH_QUEUE_SERIAL</code> or <code>nil</code> for a serial queue\n(or <code>DISPATCH_QUEUE_CONCURRENT</code> for a concurrent queue):</p>\n\n<pre><code>var thisQueue = dispatch_queue_create(\"com.myApp.mHitsUpdateQueue\", DISPATCH_QUEUE_SERIAL)\n</code></pre>\n\n<p>In C(++), <code>0</code> can be passed instead of a <code>NULL</code> pointer.</p>\n\n<p>The Swift compiler, however, wraps the integer <code>0</code> into an <code>NSNumber</code> object\nso that it can be passed to the function expecting an <code>NSObject</code>\nparameter. That causes the runtime exception because <code>NSNumber</code> is\nnot a valid attribute. So passing <code>0</code> or <code>nil</code> is \nsignificantly different in Swift.</p>\n"}], "owner": {"reputation": 547, "user_id": 859095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/27882d619b46129b9ca12496ce59dc84?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/859095/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 28865297, "answer_count": 1, "score": 3, "last_activity_date": 1579816894, "creation_date": 1425503847, "last_edit_date": 1579816894, "question_id": 28865148, "link": "https://stackoverflow.com/questions/28865148/why-does-dispatch-queue-create-give-an-exc-bad-access-error-in-swift", "title": "Why does dispatch_queue_create give an EXC_BAD_ACCESS error in Swift?", "body": "<p>I am porting some code from C++ to Swift that used Grand Central Dispatch, and I am finding a curious error with dispatch_queue_create seemingly not working at all.</p>\n\n<p>For instance, in my C++ base class header, I would declare</p>\n\n<pre><code>dispatch_queue_t m_WorkQ;\n</code></pre>\n\n<p>and in the initializer, put</p>\n\n<pre><code>m_ResultQ = dispatch_queue_create(\"com.myapp.mHitsUpdateQueue\", 0);\n</code></pre>\n\n<p>... and everything was glorious.</p>\n\n<hr>\n\n<p>I've tried this in Swift, in my class, declaring this at class level:</p>\n\n<pre><code>var resultQueue: dispatch_queue_t\n</code></pre>\n\n<p>... and in the initalizer, I have (among others) the line</p>\n\n<pre><code>resultQueue = dispatch_queue_create(\"com.myapp.mHitsUpdateQueue\", 0)\n</code></pre>\n\n<p>... and it compiles and starts up fine, but gives me an immediate runtime error of EXC_BAD_ACCESS (code=1, address = 0x37) on the above line</p>\n\n<p>To determine if it's anything else I've done, I created a command line tool application consisting only of the following code:</p>\n\n<pre><code>import Foundation\n\nvar thisQueue = dispatch_queue_create(\"com.myApp.mHitsUpdateQueue\", 0)\n\nprintln(thisQueue.description)\n</code></pre>\n\n<p>... and sure enough, I get the above error right on the \"thisQueue\" assignment line.  So I'm pretty sure there's something really obvious about Swift and GCD queue creation that I'm missing.</p>\n\n<p>Can anyone please help me out here?</p>\n"}, {"tags": ["c++", "eclipse", "settings"], "comments": [{"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1425521477, "post_id": 28865021, "comment_id": 46001907, "body": "Wait. It is? <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=439045\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=439045</a>"}, {"owner": {"reputation": 156, "user_id": 3214063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017423498/picture?type=large", "display_name": "Karthik Rocky", "link": "https://stackoverflow.com/users/3214063/karthik-rocky"}, "reply_to_user": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1425581597, "post_id": 28865021, "comment_id": 46032126, "body": "@nitind - It is still open. I think something fishy here. It doesn&#39;t sort in my case. I&#39;m using Kepler I even tried in Luna."}, {"owner": {"reputation": 156, "user_id": 3214063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017423498/picture?type=large", "display_name": "Karthik Rocky", "link": "https://stackoverflow.com/users/3214063/karthik-rocky"}, "edited": false, "score": 0, "creation_date": 1425581648, "post_id": 28865021, "comment_id": 46032154, "body": "@Brent212- in which perspective you are facing this problem???"}, {"owner": {"reputation": 1495, "user_id": 922577, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/0JXsE.jpg?s=128&g=1", "display_name": "Brent212", "link": "https://stackoverflow.com/users/922577/brent212"}, "edited": false, "score": 0, "creation_date": 1426876527, "post_id": 28865021, "comment_id": 46564966, "body": "C/C++ Perspective, Eclipse version is Luna."}], "owner": {"reputation": 1495, "user_id": 922577, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/0JXsE.jpg?s=128&g=1", "display_name": "Brent212", "link": "https://stackoverflow.com/users/922577/brent212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1426876557, "creation_date": 1425503460, "last_edit_date": 1426876557, "question_id": 28865021, "link": "https://stackoverflow.com/questions/28865021/in-eclipse-how-to-not-sort-open-file-list-alphabetically", "title": "In Eclipse, how to NOT sort open file list alphabetically?", "body": "<p>There's a little \"show list\" button in the upper right corner at the end of the document tabs row. When clicked, it displays a drop down list of all open files.</p>\n\n<p>In all my past experience with Eclipse, it's never sorted this drop down file list alphabetically. It's always displayed the open files in the order that their tabs appear horizontally. This made it easy for me to navigate, arranging related files near one another and knowing where they are located in the list. </p>\n\n<p>Recently something changed to make that drop down list always sort alphabetically. I really hate this and it's slowing down the speed at which I switch between files (mainly when I'm working on one file and need to jump to one that's far away in the list). </p>\n\n<p>Anyone know if there's some hidden setting that'll undo this sorting and revert it back to the default (unsorted)?</p>\n\n<p>Eclipse version is Luna. Perspective is C/C++.</p>\n"}, {"tags": ["c++", "visual-studio-2013"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1425502874, "post_id": 28864765, "comment_id": 45994703, "body": "<code>for (int i = 1; i &lt;= data.size(); i++){</code>  You are going out of bounds on the last iteration."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425503360, "post_id": 28864765, "comment_id": 45995012, "body": "Just to be sure, cv::Mat::zeros passes its two parameters by value, not by reference.  It&#39;s not the zeroes function that&#39;s changing them, right?  Also, you should avoid copying your entire array by value; consider &quot;const std::vector&lt;cv::Mat&gt; &amp;data&quot; so that the entire array is not copied but only a pointer to the array is passed to the method."}], "answers": [{"comments": [{"owner": {"reputation": 11132, "user_id": 648896, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/075bb9ae37f0660dd0333ed59503db11?s=128&d=identicon&r=PG", "display_name": "erogol", "link": "https://stackoverflow.com/users/648896/erogol"}, "edited": false, "score": 0, "creation_date": 1425507497, "post_id": 28864885, "comment_id": 45997230, "body": "yeag I see what you mean. It was an copy paste code and I realized by your call like the above one"}], "owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1425503027, "creation_date": 1425503027, "answer_id": 28864885, "question_id": 28864765, "link": "https://stackoverflow.com/questions/28864765/given-argument-values-are-changed-in-the-function-body-in-c/28864885#28864885", "title": "given argument values are changed in the function body in C++", "body": "<p>When parameters are overwritten it probably means you are writing over the boundaries of the stack. I don't know if it's causing the actual problem, but you're trying to access an invalid element of data, since i can become data.size(). The loop should be</p>\n\n<pre><code>for (int i = 1; i &lt;= data.size(); i++){\n...\n}\n</code></pre>\n\n<p>To analyse this specific problem, printf or cout the value of i together with the values of w and h and you should be able to see where it goes wrong.</p>\n"}, {"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1425503307, "post_id": 28864938, "comment_id": 45994978, "body": "how about using <code>for(auto &amp; e : data) Mean += e;</code> instead of <code>std::for_each()</code>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1425503394, "post_id": 28864938, "comment_id": 45995033, "body": "Yes, but that darn VS 2013 didn&#39;t implement all of C++ 11.  They got most of the lambda stuff ok, but not sure if <code>auto</code> works fully  (it does, but can&#39;t know for sure)."}, {"owner": {"reputation": 11132, "user_id": 648896, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/075bb9ae37f0660dd0333ed59503db11?s=128&d=identicon&r=PG", "display_name": "erogol", "link": "https://stackoverflow.com/users/648896/erogol"}, "edited": false, "score": 0, "creation_date": 1425507342, "post_id": 28864938, "comment_id": 45997154, "body": "this is copy paste code, I realized by your call :)"}], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1425503192, "creation_date": 1425503192, "answer_id": 28864938, "question_id": 28864765, "link": "https://stackoverflow.com/questions/28864765/given-argument-values-are-changed-in-the-function-body-in-c/28864938#28864938", "title": "given argument values are changed in the function body in C++", "body": "<p>One error right away that I see is this one:</p>\n\n<pre><code>for (int i = 1; i &lt;= data.size(); i++)\n                  ^^\n{\n    cv::Mat image = data[i];\n    Mean += image;\n}\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>for (int i = 1; i &lt; data.size(); i++)\n</code></pre>\n\n<p>Much safer, where you don't go out of bounds:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n//...\nstd::for_each(data.begin(), data.end(), [&amp;](cv::Mat&amp; m){Mean += m;});\n</code></pre>\n"}], "owner": {"reputation": 11132, "user_id": 648896, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/075bb9ae37f0660dd0333ed59503db11?s=128&d=identicon&r=PG", "display_name": "erogol", "link": "https://stackoverflow.com/users/648896/erogol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 28864885, "answer_count": 2, "score": -1, "last_activity_date": 1425503192, "creation_date": 1425502588, "question_id": 28864765, "link": "https://stackoverflow.com/questions/28864765/given-argument-values-are-changed-in-the-function-body-in-c", "title": "given argument values are changed in the function body in C++", "body": "<p>I have following header and function definition;</p>\n\n<p>blautil.hpp</p>\n\n<pre><code>namespace blautil{\n    ...\n    cv::Mat compute_mean_mat(std::vector&lt;cv::Mat&gt; data, const int w, const int h);\n    ...\n}\n</code></pre>\n\n<p>blautil.cpp</p>\n\n<pre><code>namespace blautil{\n...\n    cv::Mat compute_mean_mat(std::vector&lt;cv::Mat&gt; data, const int w, const int h){\n        cv::Mat Mean = cv::Mat::zeros(w, h, CV_32F);\n        for (int i = 1; i &lt;= data.size(); i++){\n            cv::Mat image = data[i];\n            Mean += image;\n        }\n        Mean = Mean / data.size();\n        Mean.convertTo(Mean, CV_8U);\n        return Mean;\n    }\n...\n}\n</code></pre>\n\n<p>I call it like here;</p>\n\n<pre><code>cv::Mat mean_img = blautils::compute_mean_mat(imageVector, width, height);\n</code></pre>\n\n<p>The problem is in the runtime these width and height values are 25 and 45 respectively but when code enters into the function body they are changes into different random large values.</p>\n\n<p>I am coding at VS2013 Win8. From these pbservations, what would you suggest to diagnose that interesting problem ?</p>\n\n<p>Edit:\nOnce I defined default values for w and h before and after one compilation I removed. This problem occurred after there. Same problem also appeared at another function as well, I solved it by changing the order of the function parameters but for now it does not work as well</p>\n"}, {"tags": ["c++", "arrays", "algorithm"], "comments": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425502564, "post_id": 28864575, "comment_id": 45994524, "body": "Funny question.  Explain me how in your code you&#39;ll pass the array you&#39;ve created in <code>create_array()</code> back to main ?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1425502607, "post_id": 28864575, "comment_id": 45994546, "body": "@George Gall There are many users with nick Stackoverflow. What user are you greeting?:)"}, {"owner": {"reputation": 35, "user_id": 4581893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205009645874228/picture?type=large", "display_name": "George Gall", "link": "https://stackoverflow.com/users/4581893/george-gall"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425502770, "post_id": 28864575, "comment_id": 45994654, "body": "@Christophe would it be possible to dereference it in the main?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1425503211, "post_id": 28864575, "comment_id": 45994920, "body": "What part of them is proving difficult?  How have you tried to solve the problem?"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425503614, "post_id": 28864575, "comment_id": 45995171, "body": "Ok !  Let&#39;s do some progress together:  start change the code, so to return the array pointer to main().  To verify that it works, call the print_array() from main.  Finally organise somehow that all these pointers will get freed when you leave main(). Once this basic stuff is done, I come bck to you"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1425606522, "post_id": 28864575, "comment_id": 46043168, "body": "srand should only be called once per program. That means calling <code>create_array</code> more than once in your program could cause problems."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4581893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205009645874228/picture?type=large", "display_name": "George Gall", "link": "https://stackoverflow.com/users/4581893/george-gall"}, "edited": false, "score": 0, "creation_date": 1425531789, "post_id": 28866347, "comment_id": 46004404, "body": "This is a very similar algorithm to the one I came up with on my own. Good answer! I will make a test program using this and see if it works."}, {"owner": {"reputation": 35, "user_id": 4581893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205009645874228/picture?type=large", "display_name": "George Gall", "link": "https://stackoverflow.com/users/4581893/george-gall"}, "edited": false, "score": 0, "creation_date": 1425590168, "post_id": 28866347, "comment_id": 46036938, "body": "it works great. Another question I have is what could I add to the print function that adds a &#39;0&#39; in front of single digit numbers?"}, {"owner": {"reputation": 96, "user_id": 4633789, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dwee5qnuX4s/AAAAAAAAAAI/AAAAAAAAAKU/UG9ZcrY8RyY/photo.jpg?sz=128", "display_name": "Zeeshan Ali Khan", "link": "https://stackoverflow.com/users/4633789/zeeshan-ali-khan"}, "reply_to_user": {"reputation": 35, "user_id": 4581893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205009645874228/picture?type=large", "display_name": "George Gall", "link": "https://stackoverflow.com/users/4581893/george-gall"}, "edited": false, "score": 0, "creation_date": 1425659999, "post_id": 28866347, "comment_id": 46066137, "body": "this question is related to the term called padding zeros ... following post will help you in doing so:  <a href=\"http://stackoverflow.com/questions/1714515/how-can-i-pad-an-int-with-leading-zeros-when-using-cout-operator\" title=\"how can i pad an int with leading zeros when using cout operator\">stackoverflow.com/questions/1714515/&hellip;</a>"}], "owner": {"reputation": 96, "user_id": 4633789, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dwee5qnuX4s/AAAAAAAAAAI/AAAAAAAAAKU/UG9ZcrY8RyY/photo.jpg?sz=128", "display_name": "Zeeshan Ali Khan", "link": "https://stackoverflow.com/users/4633789/zeeshan-ali-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1425538496, "last_edit_date": 1425538496, "creation_date": 1425508092, "answer_id": 28866347, "question_id": 28864575, "link": "https://stackoverflow.com/questions/28864575/finding-the-greatest-products-in-a-matrix-using-a-two-dimensional-arrays/28866347#28866347", "title": "&quot;Finding the Greatest Products in a Matrix, Using a Two-Dimensional Arrays&quot;", "body": "<p>This algorithm will give you the max product.But dry run this code and make an understanding of how this algorithm work. I haven't added the functionality to find row, col or direction(vertical,down etc). Think and update this algorithm to add these functionalities. </p>\n\n<pre><code>int find_greatest_product(int **newArray, int &amp;r, int &amp;c)\n{\n    int max_product=0, p1=0, p2=0, p3=0;\n    for(int i=0; i&lt; r-3; i++)\n    {\n        for(int j=0; j&lt;c-3; j++)\n        {\n            //down\n            max_product = newArray[i][j]*newArray[i+1][j]*newArray[i+2][j]*newArray[i+3][j];\n            //right_horizental\n            p1 = newArray[i][j]*newArray[i][j+1]*newArray[i][j+2]*newArray[i][j+3];\n            if(p1 &gt; max_product)\n                max_product = p1;\n            //diagonally_right_down\n            p2 = newArray[i][j]*newArray[i+1][j+1]*newArray[i+2][j+2]*newArray[i+3][j+3];\n            if(p2 &gt; max_product)\n                max_product = p2;\n            //box\n            p3 = newArray[i][j]*newArray[i][j+1]*newArray[i+1][j]*newArray[i+1][j+1];\n            if(p3 &gt; max_product)\n            max_product = p3;\n        }\n    }\n\n    return max_product;\n}\n</code></pre>\n\n<p>there was a bit of mistake in this. I have corrected it. Hope so it will work fine now. you can compare both code and see what my mistake was</p>\n\n<pre><code>int find_greatest_product(int **newArray, int &amp;r, int &amp;c)\n{\n    int max_product=0, p0 = 0, p1=0, p2=0, p3=0;\n    for(int i=0; i&lt; r; i++)\n    {\n        for(int j=0; j&lt;c; j++)\n        {\n            if(i &lt; r-3)\n            {\n                //down\n                p0 = newArray[i][j]*newArray[i+1][j]*newArray[i+2][j]*newArray[i+3][j];\n                if(p0 &gt; max_product)\n                    max_product = p0;\n            }\n            if(i &lt; r-3 &amp;&amp; j &lt; c-3 )\n            {\n                //diagonally_right_down\n                p2 = newArray[i][j]*newArray[i+1][j+1]*newArray[i+2][j+2]*newArray[i+3][j+3];\n                if(p2 &gt; max_product)\n                    max_product = p2;\n            }\n            if(j &lt; c-3)\n            {\n                //right_horizental\n                p1 = newArray[i][j]*newArray[i][j+1]*newArray[i][j+2]*newArray[i][j+3];\n                if(p1 &gt; max_product)\n                    max_product = p1;\n            }\n            if(i &lt; r-1 &amp;&amp; j &lt; c-1)\n            {\n                //box\n                p3 = newArray[i][j]*newArray[i][j+1]*newArray[i+1][j]*newArray[i+1][j+1];\n                if(p3 &gt; max_product)\n                    max_product = p3;\n            }\n        }\n    }\n\n    return max_product;\n}\n</code></pre>\n"}, {"owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "is_accepted": false, "score": 1, "last_activity_date": 1425539367, "last_edit_date": 1425539367, "creation_date": 1425508881, "answer_id": 28866539, "question_id": 28864575, "link": "https://stackoverflow.com/questions/28864575/finding-the-greatest-products-in-a-matrix-using-a-two-dimensional-arrays/28866539#28866539", "title": "&quot;Finding the Greatest Products in a Matrix, Using a Two-Dimensional Arrays&quot;", "body": "<pre><code>int find_greatest_product (int **newArray, int &amp;r, int &amp;c)\n{\n//find the greatest product of 4 adjacent numbers, in any direction.\n\n\n//greater Calc  deisgnes  the  attributes  of our  result ( the  coordonates , the sahp \"direction\"  and  the  current  multiplication  \"produit\")\ngreaterCalc maxP(0,0,0,\"none\");\n\nfor(int i = 0 ;  i  &lt;  r ;  i++)\n{\n    for(int j = 0; j &lt; c ;  j++)\n    {\n        long  produitHorizontal  = 1,produitVertical = 1, produitDiagonal=1;\n\n        //We  check here  the  4  horizontal  neighbours\n        if(c-j &gt;= 4)\n        {   \n            for(int l = j,k=0 ;   k &lt; 4 ;k++, l++)\n                produitHorizontal *= newArray[i][l];\n\n            //If the product  is  more than  our  MaxP,  we just update,  and  we  continue\n            if(produitHorizontal &gt; maxP.produit )\n                {  \n                    maxP.x=j;\n                    maxP.y=i;\n                    maxP.produit = produitHorizontal;\n                    maxP.direction = \"horizontal\";\n                }\n        }       \n\n\n        //We  check here  the  4  vertical  neighbours\n        if(r-i &gt;= 4)\n        {   for(int l = i, k=0 ;   k &lt; 4 ;k++,l++)\n                produitVertical *= newArray[l][j];\n\n        //If the product  is  more than  our  MaxP,  we just update,  and  we  continue\n        if(produitVertical &gt; maxP.produit )\n           {\n            maxP.x=j;\n            maxP.y=i;\n            maxP.produit = produitVertical;\n            maxP.direction = \"vertical\";\n\n           }\n        }\n\n        //We  check here  the  4  diagonal  neighbours\n        if(r-i &gt;= 4 &amp;&amp; c-j &gt;= 4 )\n        {       \n            for(int l = i,m = j, k=0 ;   k &lt; 4 ;k++,l++,m++)\n                    produitDiagonal *= newArray[l][m];\n\n            //If the product  is  more than  our  MaxP,  we just update,  and  we  continue\n            if(produitDiagonal &gt; maxP.produit )\n                    {\n                    maxP.x=j;\n                    maxP.y=i;\n                    maxP.produit = produitDiagonal;\n                    maxP.direction = \"diagonal\";\n                    }\n        }\n    }\n}\n\ncout&lt;&lt;endl&lt;&lt;endl &lt;&lt;\"Max Prod : \"&lt;&lt;maxP.produit   &lt;&lt;\"  Position : row\"&lt;&lt;maxP.y +1  &lt;&lt;\", col\" &lt;&lt;maxP.x +1  &lt;&lt;\" Shape : \"&lt;&lt;maxP.direction &lt;&lt;endl;\nreturn 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4581893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205009645874228/picture?type=large", "display_name": "George Gall", "link": "https://stackoverflow.com/users/4581893/george-gall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 28866347, "answer_count": 2, "score": 0, "last_activity_date": 1425605570, "creation_date": 1425501986, "question_id": 28864575, "link": "https://stackoverflow.com/questions/28864575/finding-the-greatest-products-in-a-matrix-using-a-two-dimensional-arrays", "title": "&quot;Finding the Greatest Products in a Matrix, Using a Two-Dimensional Arrays&quot;", "body": "<p><strong>Hello Stackoverflow! Today I have a question about getting started with an assignment I have.</strong> The objective of the assignment is to create a function, find_greatest_product(), that takes an array\nargument and returns the max product of four adjacent numbers that can be up, down,\nleft, right, diagonally, or in a box formation in the N \u00d7 M grid/matrix. </p>\n\n<p>What I already have posted is my exact code that creates an array and populates it with a random number from 0 to 50 for the sake of testing. What I don't know is how to create an algorithm that can scan the entire array for the objective. I have a method that can find the greatest product in a 2x2 box, but the straight and diagonal lines are proving difficult. Any help, input, or suggestions are very welcome. Here is my pre-exsisting code: </p>\n\n<pre><code>int find_greatest_product(int **newArray, int &amp;r, int &amp;c){\n    //find the greatest product of 4 adjacent numbers, in any direction.\n}\n\nint test_array(){\n    //error handling \n}\n\nint print_array(int **newArray, int &amp;r, int &amp;c){\n    for (int i = 0; i &lt; c; ++i)\n    {\n        for (int j = 0; j &lt; r; ++j)\n        {\n            cout &lt;&lt; newArray[i][j] &lt;&lt; ' ';\n        }\n        cout &lt;&lt; endl;\n    }\n}\n\nint create_array(int r, int c){\n    srand((unsigned)time(0));\n\n    int** newArray = new int*[r];\n    for (int i = 0; i &lt; r; ++i)\n    {\n        newArray[i] = new int[c];\n        for (int j = 0; j &lt; c; ++j)\n            newArray[i][j] = rand() % 50 + 1;\n    }\n\n    print_array(newArray, r, c);\n}\n\n\n\nint main(int argc, char* argv[]) {\n\n    int rows, col;\n\n    cout &lt;&lt; \"enter rows : \" &lt;&lt; endl;\n    cin &gt;&gt; rows;\n    cout &lt;&lt; \"enter cols : \" &lt;&lt; endl;\n    cin &gt;&gt; col;\n\n    create_array(rows, col);\n\n}\n</code></pre>\n\n<p>Also, for those interested, here is the original problem statement:</p>\n\n<p><img src=\"https://i.stack.imgur.com/YzR8t.png\" alt=\"Problem Statement\"></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "edited": false, "score": 0, "creation_date": 1425501961, "post_id": 28864495, "comment_id": 45994188, "body": "What line of code throws the <code>std::ios_base</code> conversion error? That&#39;s generally only relevant for doing console input/output."}, {"owner": {"reputation": 1050, "user_id": 2514756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9TPkc.jpg?s=128&g=1", "display_name": "Ra1nWarden", "link": "https://stackoverflow.com/users/2514756/ra1nwarden"}, "edited": false, "score": 0, "creation_date": 1425502075, "post_id": 28864495, "comment_id": 45994257, "body": "I think you made a mistake somewhere else."}, {"owner": {"reputation": 325, "user_id": 3713267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cbbd05af741b8ca9f9bb981a4d820e92?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyGat", "link": "https://stackoverflow.com/users/3713267/johnnygat"}, "edited": false, "score": 0, "creation_date": 1425502087, "post_id": 28864495, "comment_id": 45994261, "body": "dec=static_cast&lt;long int&gt;(dec2);"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425502195, "post_id": 28864495, "comment_id": 45994303, "body": "There&#39;s no <code>dec2</code> in this code"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425502237, "post_id": 28864495, "comment_id": 45994321, "body": "Throw that function away.  The base-2 human-readable representation of one hundred is &quot;01100100&quot; (a string), not 1100100.  Actually if you just write <code>100</code> in your program, it gets stored in binary already."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 1, "creation_date": 1425502288, "post_id": 28864495, "comment_id": 45994357, "body": "So, you show code that works, and ask a question about different code you don&#39;t show, which does not work? See any problem with that? :)"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1425502320, "post_id": 28864495, "comment_id": 45994379, "body": "So you get an error on <code>dec=static_cast&lt;long int&gt;(dec2);</code>, but you&#39;ve decided to show us some other code instead. Please update your question so it includes the actual code that you&#39;re feeding to the compiler."}], "answers": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1425502166, "creation_date": 1425502166, "answer_id": 28864626, "question_id": 28864495, "link": "https://stackoverflow.com/questions/28864495/converting-int-to-long-c/28864626#28864626", "title": "Converting int to long C++", "body": "<p>First of all, this function doesn't exactly \"convert decimal to binary\". Instead, it will convert a number such that if you print out the result in base 10, then it looks like the binary representation of the number.</p>\n\n<p>Secondly this function definition is invalid because you did not specify a return type.</p>\n\n<p>Of course, if you change <code>long</code> to <code>int</code> in the parameter list, and add <code>int</code> as return type (and your system has smaller <code>int</code>s than <code>long</code>s - some don't) then it will not work for as may numbers.  </p>\n\n<p>For example, if your system has 32-bit ints then <code>1111111111</code> is the largest output that will work, and that comes from input <code>1023</code>. </p>\n\n<p>I don't know what you're talking about with the static_cast and ios_base error, you must have done something unrelated to this function. </p>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 3713267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cbbd05af741b8ca9f9bb981a4d820e92?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyGat", "link": "https://stackoverflow.com/users/3713267/johnnygat"}, "edited": false, "score": 0, "creation_date": 1425503001, "post_id": 28864774, "comment_id": 45994788, "body": "Wow I&#39;m really sorry. Just like you said it was a problem with the type of method. Thank You !"}], "owner": {"reputation": 896, "user_id": 4152273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M6Cjv.png?s=128&g=1", "display_name": "Greg M", "link": "https://stackoverflow.com/users/4152273/greg-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1425502600, "creation_date": 1425502600, "answer_id": 28864774, "question_id": 28864495, "link": "https://stackoverflow.com/questions/28864495/converting-int-to-long-c/28864774#28864774", "title": "Converting int to long C++", "body": "<p>Make sure you define the type that the function is returning in the function definition, and make sure foo is taking a <strong>long int</strong> as an argument.</p>\n\n<pre><code>long int foo(long int) {\n\n    code...\n\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 3713267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cbbd05af741b8ca9f9bb981a4d820e92?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyGat", "link": "https://stackoverflow.com/users/3713267/johnnygat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1478, "favorite_count": 0, "accepted_answer_id": 28864774, "answer_count": 2, "score": -3, "last_activity_date": 1425502600, "creation_date": 1425501746, "question_id": 28864495, "link": "https://stackoverflow.com/questions/28864495/converting-int-to-long-c", "title": "Converting int to long C++", "body": "<p>This fuction convert Decimal number to Binary (I've founded it on Internet)</p>\n\n<pre><code>  foo(long dec)\n  {\n     long int rem,i=1,sum=0;\n     do\n     {\n         rem=dec%2;\n         sum=sum + (i*rem);\n         dec=dec/2;\n         i=i*10;\n     } while(dec&gt;0);\n    return sum;\n   }\n</code></pre>\n\n<p>As I found out, when I change type \"long\" to \"int\", the function doesn't work for number bigger than 1023. The problem is I have to run this function with integer argument (It has to be foo(int dec)). I have tried to use static_cast but I've failed.\n<code>error: cannot convert \u2018long int\u2019 to \u2018std::ios_base&amp;(std::ios_base&amp;)\u2019 in assignment|</code></p>\n\n<p>Is there any way to bypass that or maybe change this function somehow.\nThank you for you help.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 7, "creation_date": 1425501769, "post_id": 28864482, "comment_id": 45994095, "body": "You forgot to <code>#include &quot;Test.h&quot;</code> in the source that&#39;s giving you that error."}, {"owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "edited": false, "score": 2, "creation_date": 1425501903, "post_id": 28864482, "comment_id": 45994153, "body": "Why the offtopic close votes? Looks like programming to me."}], "answers": [{"owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "is_accepted": true, "score": 5, "last_activity_date": 1425501786, "creation_date": 1425501786, "answer_id": 28864508, "question_id": 28864482, "link": "https://stackoverflow.com/questions/28864482/my-class-isnt-defined-in-the-scope/28864508#28864508", "title": "My class isn&#39;t defined in the scope?", "body": "<pre><code>#include \"Test.h\"\n</code></pre>\n\n<p>in your main file also.</p>\n"}, {"comments": [{"owner": {"reputation": 2820, "user_id": 2562283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef4e835ba48416df3d5607ae1a89bbf?s=128&d=identicon&r=PG", "display_name": "E. Moffat", "link": "https://stackoverflow.com/users/2562283/e-moffat"}, "edited": false, "score": 0, "creation_date": 1425503003, "post_id": 28864555, "comment_id": 45994790, "body": "In the question, &#39;Test.cpp&#39; is including &#39;Test.h&#39; - not super important, but I&#39;m pretty sure the header isn&#39;t named &quot;Test.hpp&quot;"}, {"owner": {"reputation": 4040, "user_id": 1923699, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/iTCs2.jpg?s=128&g=1", "display_name": "Tyler Jandreau", "link": "https://stackoverflow.com/users/1923699/tyler-jandreau"}, "reply_to_user": {"reputation": 2820, "user_id": 2562283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef4e835ba48416df3d5607ae1a89bbf?s=128&d=identicon&r=PG", "display_name": "E. Moffat", "link": "https://stackoverflow.com/users/2562283/e-moffat"}, "edited": false, "score": 0, "creation_date": 1425567196, "post_id": 28864555, "comment_id": 46022806, "body": "@E.Moffat you&#39;re right, just force of habit to name all my headers *.hpp. Editing the response now."}], "owner": {"reputation": 4040, "user_id": 1923699, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/iTCs2.jpg?s=128&g=1", "display_name": "Tyler Jandreau", "link": "https://stackoverflow.com/users/1923699/tyler-jandreau"}, "is_accepted": false, "score": 1, "last_activity_date": 1425567203, "last_edit_date": 1425567203, "creation_date": 1425501926, "answer_id": 28864555, "question_id": 28864482, "link": "https://stackoverflow.com/questions/28864482/my-class-isnt-defined-in-the-scope/28864555#28864555", "title": "My class isn&#39;t defined in the scope?", "body": "<p>You forgot to include the header containing the <code>Test</code> class so the <code>main</code> can \"see\" it. Try this code instead:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Test.h\"\n\nint main()\n{\n    Test to;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 596, "user_id": 4379392, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/627c210cc69fd889aa62c9e2409fa933?s=128&d=identicon&r=PG", "display_name": "Rogue", "link": "https://stackoverflow.com/users/4379392/rogue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 28864508, "answer_count": 2, "score": 1, "last_activity_date": 1425567203, "creation_date": 1425501699, "last_edit_date": 1425502844, "question_id": 28864482, "link": "https://stackoverflow.com/questions/28864482/my-class-isnt-defined-in-the-scope", "title": "My class isn&#39;t defined in the scope?", "body": "<p>I'm just starting to learn C++ as an already-experienced programmer in several other languages. The issue I'm having is probably a very obvious error on my end.  </p>\n\n<p>I have a class called Test in its own file, and it also has the respective header file. However, when I try to create an instance of it in main, I get this error:  </p>\n\n<pre><code>Error: Test was not declared in this scope.  \nError: Expected ';' before 'to'\n</code></pre>\n\n<p>This is my main:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    Test to;\n    return 0;\n}\n</code></pre>\n\n<p>This is the Header for Test:</p>\n\n<pre><code>#ifndef TEST_H\n#define TEST_H\n\n\nclass Test\n{\n    public:\n        Test();\n};\n\n#endif // TEST_H\n</code></pre>\n\n<p>This is the Test Class:</p>\n\n<pre><code>#include \"Test.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nTest::Test()\n{\n\n}\n</code></pre>\n\n<p>As you can see it is a simple class with an empty constructor. I have no idea what I could possibly be doing wrong here, so any help is much appreciated.  </p>\n\n<p>Edit: Thanks for the help, I knew it would be something stupidly obvious :P</p>\n"}, {"tags": ["c++", "c", "data-structures", "linked-list", "nodes"], "comments": [{"owner": {"reputation": 5811, "user_id": 2726734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkA2E.jpg?s=128&g=1", "display_name": "ryanpattison", "link": "https://stackoverflow.com/users/2726734/ryanpattison"}, "edited": false, "score": 0, "creation_date": 1425501685, "post_id": 28864444, "comment_id": 45994049, "body": "just missing a semicolon at the end of you struct, <code>struct node { ..... };</code>"}, {"owner": {"reputation": 61, "user_id": 4634001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b00c8c4d96c2d74fd3ab3ef960da37?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil Claybon", "link": "https://stackoverflow.com/users/4634001/khalil-claybon"}, "reply_to_user": {"reputation": 5811, "user_id": 2726734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkA2E.jpg?s=128&g=1", "display_name": "ryanpattison", "link": "https://stackoverflow.com/users/2726734/ryanpattison"}, "edited": false, "score": 0, "creation_date": 1425502646, "post_id": 28864444, "comment_id": 45994567, "body": "okay so in C you must put semicolon at end of every struct?"}, {"owner": {"reputation": 5811, "user_id": 2726734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkA2E.jpg?s=128&g=1", "display_name": "ryanpattison", "link": "https://stackoverflow.com/users/2726734/ryanpattison"}, "edited": false, "score": 0, "creation_date": 1425503593, "post_id": 28864444, "comment_id": 45995155, "body": "yes pretty much. there are some contrived counter examples."}, {"owner": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "edited": false, "score": 0, "creation_date": 1425515788, "post_id": 28864444, "comment_id": 46000241, "body": "If this question is about C, please remove the C++ tag. Also the other way around."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "reply_to_user": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "edited": false, "score": 0, "creation_date": 1425545817, "post_id": 28864444, "comment_id": 46009879, "body": "@dfeuer, the same problem can arise in C or C++. I don&#39;t fully understand your complaint."}, {"owner": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "reply_to_user": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1425546076, "post_id": 28864444, "comment_id": 46010013, "body": "@LuisColorado, tagging a question with both C and C++ is strongly discouraged unless the question is specifically about both languages."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "reply_to_user": {"reputation": 44013, "user_id": 1477667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/trgKM.jpg?s=128&g=1", "display_name": "dfeuer", "link": "https://stackoverflow.com/users/1477667/dfeuer"}, "edited": false, "score": 0, "creation_date": 1425546691, "post_id": 28864444, "comment_id": 46010327, "body": "@dfeuer, I have had exactly the same problem with students in both languages with people who forget to put the semicolon in the last structure of a header file.  This is weird and far too common to illustrate on both languages, as the compiler error normally deals you to the next definition (out of the include file) where you don&#39;t see the problem."}], "answers": [{"owner": {"reputation": 46, "user_id": 4634038, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e9ac593171f405e2ea24869672722d6e?s=128&d=identicon&r=PG", "display_name": "user4634038", "link": "https://stackoverflow.com/users/4634038/user4634038"}, "is_accepted": true, "score": 3, "last_activity_date": 1425501870, "creation_date": 1425501870, "answer_id": 28864541, "question_id": 28864444, "link": "https://stackoverflow.com/questions/28864444/linked-list-in-c/28864541#28864541", "title": "Linked List in C", "body": "<p>Try putting a semicolon after the struct declaration</p>\n\n<pre><code>struct node{\n             int data;\n             struct node* next;\n           };\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4634001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b00c8c4d96c2d74fd3ab3ef960da37?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil Claybon", "link": "https://stackoverflow.com/users/4634001/khalil-claybon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 28864541, "answer_count": 1, "score": -1, "last_activity_date": 1425501870, "creation_date": 1425501521, "question_id": 28864444, "link": "https://stackoverflow.com/questions/28864444/linked-list-in-c", "title": "Linked List in C", "body": "<p>Heres a snippet from the code I am trying to complete for building a linked list. for some reason I keep getting the error \"error: expected \u2018;\u2019, identifier or \u2018(\u2019 before \u2018struct\u2019 \" when trying to compile the code. Can someone help me out.</p>\n\n<pre><code>struct node;\nstruct node* buildList(int x);\nvoid push(struct node** headRef, int data);\nint findLen(struct node** headRef);\n\nstruct node{\n  int data;\n  struct node* next;\n}\n\nstruct node* buildList(int x){\n   struct node* head = NULL;\n   head = malloc(sizeof(struct node));\n\n   head-&gt;data = x;\n   head-&gt;next = NULL;\n\n   return head;\n}\n</code></pre>\n"}, {"tags": ["c++", "iostream"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425501036, "post_id": 28864251, "comment_id": 45993642, "body": "If it read any number of bytes then the end of file condition hasn&#39;t yet occurred. The following read that returns 0 is an indication of failure."}], "answers": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": true, "score": 1, "last_activity_date": 1425504474, "creation_date": 1425504474, "answer_id": 28865338, "question_id": 28864251, "link": "https://stackoverflow.com/questions/28864251/streambufxsgetn-and-state-flags/28865338#28865338", "title": "streambuf::xsgetn and state flags", "body": "<p>This is what I found on libstdc++:</p>\n\n<pre><code>template&lt;typename _CharT, typename _Traits&gt;\nstreamsize basic_streambuf&lt;_CharT, _Traits&gt;::xsgetn(char_type* __s, streamsize __n) {\n    streamsize __ret = 0;\n    while (__ret &lt; __n) {\n        const streamsize __buf_len = this-&gt;egptr() - this-&gt;gptr();\n        if (__buf_len) {\n            const streamsize __remaining = __n - __ret;\n            const streamsize __len = std::min(__buf_len, __remaining);\n            traits_type::copy(__s, this-&gt;gptr(), __len);\n            __ret += __len;\n            __s += __len;\n            this-&gt;__safe_gbump(__len);\n        }\n\n        if (__ret &lt; __n) {\n            const int_type __c = this-&gt;uflow();\n            if (!traits_type::eq_int_type(__c, traits_type::eof())) {\n                traits_type::assign(*__s++, traits_type::to_char_type(__c));\n                ++__ret;\n            } else\n                break;\n        }\n    }\n    return __ret;\n}\n</code></pre>\n\n<p>When the characters extracted are less than the number of characters requested, this function calls <code>uflow()</code> to obtain more characters. If that function returns <code>Traits::eof()</code> then it will simply return whether or not 0 characters were extracted. The result of the function call is picked up by the higher-level stream operations that have access to the stream state, and will set it accordingly.</p>\n"}], "owner": {"reputation": 7675, "user_id": 2923952, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/71908bd318301d831c4b9eb6ca1c13a2?s=128&d=identicon&r=PG&f=1", "display_name": "Siler", "link": "https://stackoverflow.com/users/2923952/siler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 28865338, "answer_count": 1, "score": 0, "last_activity_date": 1425504474, "creation_date": 1425500853, "question_id": 28864251, "link": "https://stackoverflow.com/questions/28864251/streambufxsgetn-and-state-flags", "title": "streambuf::xsgetn and state flags", "body": "<p>The protected virtual member function <code>streambuf::xsgetn</code> enables I/O stream implementors to define a function which extracts <code>n</code> characters from an input stream and store them in a buffer.</p>\n\n<p>Normally, for most standard streams like <code>fstream</code>, this function simply call <code>sbumpc</code> in a loop until <code>eof</code> is returned.  But a custom stream class can override this function to do something more efficient, such as copy data in bulk into the output buffer.</p>\n\n<p>But what I don't understand, is how <code>xsgetn</code> get indicate that an EOF condition has been reached.  Suppose the user requests a read of 100 bytes, but only 50 bytes are left in the stream.  Presumably, <code>xsgetn</code> should read 50 bytes, return <code>50</code> and then set the internal stream state to <code>eof</code>.  </p>\n\n<p>Except <code>xsget</code> is a member function of <code>streambuf</code>, and it has no way to set the stream state.  And unlike <code>sbumpc</code>, which can return <code>EOF</code>, xsgetn has no way to indicate that an EOF condition occurred.  So how is <code>xsgetn</code> supposed to handle EOF conditions?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1425500937, "post_id": 28864228, "comment_id": 45993586, "body": "You can&#39;t do that in standard C++. Use <code>std::vector</code> (or possibly allocate using <code>new</code>)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425501525, "post_id": 28864228, "comment_id": 45993930, "body": "Don&#39;t use <code>char[255]</code>.  Use <code>std::string</code> instead."}, {"owner": {"reputation": 3704, "user_id": 2180870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1444648f4f3d00b9f7956b01c4b754?s=128&d=identicon&r=PG&f=1", "display_name": "Pawe\u0142 Stawarz", "link": "https://stackoverflow.com/users/2180870/pawe%c5%82-stawarz"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1425501533, "post_id": 28864228, "comment_id": 45993938, "body": "@MatsPetersson I&#39;m quite sure <i>&quot;can&#39;t do that in standard C++&quot;</i> is false. You&#39;ve said why in your own comment."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 3704, "user_id": 2180870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1444648f4f3d00b9f7956b01c4b754?s=128&d=identicon&r=PG&f=1", "display_name": "Pawe\u0142 Stawarz", "link": "https://stackoverflow.com/users/2180870/pawe%c5%82-stawarz"}, "edited": false, "score": 0, "creation_date": 1425502249, "post_id": 28864228, "comment_id": 45994331, "body": "@Pawe\u0142Stawarz: No, you can&#39;t use variable length arrays in C++. There are ALTERNATIVE solutions that solve the same problem."}, {"owner": {"reputation": 3704, "user_id": 2180870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1444648f4f3d00b9f7956b01c4b754?s=128&d=identicon&r=PG&f=1", "display_name": "Pawe\u0142 Stawarz", "link": "https://stackoverflow.com/users/2180870/pawe%c5%82-stawarz"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1425506850, "post_id": 28864228, "comment_id": 45996888, "body": "@MatsPetersson I can&#39;t agree with you. There&#39;s no mention about VLAs in the question itself, you&#39;re judging that&#39;s the case only because of how the author tried to implement it. The question is <i>&quot;I need to use that [user input] to define the size of the array.&quot;</i>, and the answer most certainly isn&#39;t &quot;can&#39;t do that&quot; :)"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1425507262, "post_id": 28864228, "comment_id": 45997108, "body": "I think your definition of &quot;can do&quot; and mine is different - you can not size an array in C++ with value that isn&#39;t a compile-time constant. There are OTHER ways to achieve that goal, but that involves dynamic allocation, which is not the same as a sizing an array at runtime."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425501619, "post_id": 28864425, "comment_id": 45994001, "body": "Remember to use <code>delete [] shop;</code> to deallocate the array."}, {"owner": {"reputation": 5, "user_id": 4123155, "user_type": "registered", "profile_image": "https://graph.facebook.com/599116434/picture?type=large", "display_name": "Aaron Havenar", "link": "https://stackoverflow.com/users/4123155/aaron-havenar"}, "edited": false, "score": 0, "creation_date": 1425501975, "post_id": 28864425, "comment_id": 45994195, "body": "@sexobert How would I change &quot;cin &gt;&gt; shop.pluCode;&quot; to adjust? It is giving me &quot;Error: expression must have class type&quot;."}, {"owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "edited": false, "score": 0, "creation_date": 1425502013, "post_id": 28864425, "comment_id": 45994222, "body": "Of course , don&#39;t forget  to  &quot; delete [] shop  &quot;   after using  your  array"}, {"owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "reply_to_user": {"reputation": 5, "user_id": 4123155, "user_type": "registered", "profile_image": "https://graph.facebook.com/599116434/picture?type=large", "display_name": "Aaron Havenar", "link": "https://stackoverflow.com/users/4123155/aaron-havenar"}, "edited": false, "score": 0, "creation_date": 1425502326, "post_id": 28864425, "comment_id": 45994389, "body": "@AaronHavenar ,  your  variable shop is  a  pointer  to a  shopList array. shop  is  an  array,  so  you  must  do some  thing like  that  shop[n].pluCode    (where  i is  a counter)     instead of  shop.pluCode;"}, {"owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "reply_to_user": {"reputation": 5, "user_id": 4123155, "user_type": "registered", "profile_image": "https://graph.facebook.com/599116434/picture?type=large", "display_name": "Aaron Havenar", "link": "https://stackoverflow.com/users/4123155/aaron-havenar"}, "edited": false, "score": 0, "creation_date": 1425502707, "post_id": 28864425, "comment_id": 45994606, "body": "@AaronHavenar  You have  to use  this syntax  everywhere  you  want to  use your  array. shop[n].&quot;witch  attributes  of  your shopList structure&quot;  ;"}], "owner": {"reputation": 642, "user_id": 4379700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wq7Ch.jpg?s=128&g=1", "display_name": "01axel01christian", "link": "https://stackoverflow.com/users/4379700/01axel01christian"}, "is_accepted": true, "score": 1, "last_activity_date": 1425501438, "creation_date": 1425501438, "answer_id": 28864425, "question_id": 28864228, "link": "https://stackoverflow.com/questions/28864228/using-user-input-to-define-array/28864425#28864425", "title": "Using user input to define array", "body": "<p>It's possible ,  you  just have  to change your  declaration like that;</p>\n\n<p>int  items = 0 ;\n cin >> items;</p>\n\n<pre><code>shopList *shop =  new  shopList [items];\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4123155, "user_type": "registered", "profile_image": "https://graph.facebook.com/599116434/picture?type=large", "display_name": "Aaron Havenar", "link": "https://stackoverflow.com/users/4123155/aaron-havenar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 28864425, "answer_count": 1, "score": 0, "last_activity_date": 1425501438, "creation_date": 1425500781, "question_id": 28864228, "link": "https://stackoverflow.com/questions/28864228/using-user-input-to-define-array", "title": "Using user input to define array", "body": "<p>I have a project where I need to create a shopping list with checkout functionality. I am trying to create an array using a users input. They supply how many products they are purchasing and I need to use that to define the size of the array.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nstruct shopList {\n    double pluCode;\n    string product;\n    int saleType; // 0 = per unit, 1 = per pound\n    double price;\n    double inventory;\n\n\n};\n\nint main(){\n\n    char line[255];\n    const int items = 0;\n    int n;\n\n    ofstream outfile;\n    outfile.open(\"products.txt\");\n\n    cout &lt;&lt; \"How many items in your checkout: \";\n    cin &gt;&gt; items;\n\n    shopList shop[items];\n\n    for (n = 0; n &lt; items; n++) {\n        cout &lt;&lt; \"Enter the PLU code: \";\n        cin &gt;&gt; shop.pluCode;\n        outfile &lt;&lt; shop.pluCode &lt;&lt; \" \";\n\n        cout &lt;&lt; \"Enter product name: \";\n        cin &gt;&gt; shop.product;\n        outfile &lt;&lt; shop.product &lt;&lt; \" \";\n\n        cout &lt;&lt; \"Enter the price type (0 for per unit, 1 for per pound): \";\n        cin &gt;&gt; shop.saleType;\n        outfile &lt;&lt; shop.saleType &lt;&lt; \" \";\n\n        cout &lt;&lt; \"Enter the price of the product: \";\n        cin &gt;&gt; shop.price;\n        outfile &lt;&lt; shop.price &lt;&lt; \" \";\n\n        cout &lt;&lt; \"How much will you purchase: \";\n        cin &gt;&gt; shop.inventory;\n        outfile &lt;&lt; shop.inventory &lt;&lt; \" \" &lt;&lt; \"\\n\";\n\n    }\n\n\n\n    outfile.close();\n\n    ifstream infile;\n    infile.open(\"products.txt\");\n    infile.getline(line, 255);\n    cout &lt;&lt; line &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "variadic-templates"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1425500847, "post_id": 28864200, "comment_id": 45993531, "body": "Your recursive calls already ensure that, in a roundabout way."}, {"owner": {"reputation": 6121, "user_id": 816116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0IoOR.jpg?s=128&g=1", "display_name": "Gasim", "link": "https://stackoverflow.com/users/816116/gasim"}, "edited": false, "score": 0, "creation_date": 1425501080, "post_id": 28864200, "comment_id": 45993664, "body": "I have an idea. Give me one moment"}, {"owner": {"reputation": 6121, "user_id": 816116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0IoOR.jpg?s=128&g=1", "display_name": "Gasim", "link": "https://stackoverflow.com/users/816116/gasim"}, "edited": false, "score": 0, "creation_date": 1425501681, "post_id": 28864200, "comment_id": 45994047, "body": "OK i remember what I was looking for. Have you thought of using initializer_list?"}, {"owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "reply_to_user": {"reputation": 6121, "user_id": 816116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0IoOR.jpg?s=128&g=1", "display_name": "Gasim", "link": "https://stackoverflow.com/users/816116/gasim"}, "edited": false, "score": 0, "creation_date": 1425502062, "post_id": 28864200, "comment_id": 45994248, "body": "@Gasim No. I was just trying to eliminate T or T2 here. I know that there are probably more then one workaround for this but somehow it&#39;s illogical for me to must use T an T2 if they are both the same. I just wanted to know if it is possible to eliminate one of those here."}, {"owner": {"reputation": 6121, "user_id": 816116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0IoOR.jpg?s=128&g=1", "display_name": "Gasim", "link": "https://stackoverflow.com/users/816116/gasim"}, "edited": false, "score": 0, "creation_date": 1425503130, "post_id": 28864200, "comment_id": 45994864, "body": "If you keep the vector variable outside the function, or if there is a function in C++ where you can extract the variable from a variadic one, you can achieve it using iteration"}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1425501333, "post_id": 28864312, "comment_id": 45993826, "body": "<code>std::is_same&lt;T,U&gt;::value</code>."}, {"owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "edited": false, "score": 0, "creation_date": 1425501680, "post_id": 28864312, "comment_id": 45994045, "body": "Ok. But I was wondering if declaring both T and T2 could have been avoided. Instead just declaring T or T2, to be visible from the declaration itself that only one type is used in template function."}], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1425501676, "last_edit_date": 1425501676, "creation_date": 1425501115, "answer_id": 28864312, "question_id": 28864200, "link": "https://stackoverflow.com/questions/28864200/how-to-set-the-same-type-for-all-arguments-in-this-example/28864312#28864312", "title": "How to set the same type for all arguments in this example?", "body": "<p>You can create a metafunction which ensures that all the types in the parameter pack <code>T2</code> are equal to <code>T</code>.</p>\n\n<pre><code>template &lt;typename T, typename ...Ts&gt;\nstruct AllSame : public std::false_type{};\n\ntemplate &lt;typename T&gt;\nstruct AllSame&lt;T&gt; : public std::true_type{};\n\ntemplate &lt;typename T, typename U, typename ...Ts&gt;\nstruct AllSame&lt;T, U, Ts...&gt; : public std::conditional_t&lt;std::is_same&lt;T,U&gt;::value, AllSame&lt;T, Ts...&gt;, std::false_type&gt;{};\n</code></pre>\n\n<p>Now use SFINAE on your return type:</p>\n\n<pre><code>template &lt;class T, class... T2&gt;\nauto add(vector&lt;T&gt; *v, T n, T2... rest)\n -&gt; std::enable_if_t&lt;AllSame&lt;T, T2...&gt;::value&gt;\n{\n    v-&gt;push_back(n);\n    add(v, rest...);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "edited": false, "score": 0, "creation_date": 1425502327, "post_id": 28864581, "comment_id": 45994390, "body": "Well, that was my question. If there is no way to avoid using both T and T2 in the declaration then there is nothing to be done but accept the current solution."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1425503494, "post_id": 28864581, "comment_id": 45995093, "body": "This is really clever! Couldn&#39;t you shorten it to just <code>std::is_same&lt;std::tuple&lt;T, T2...&gt;, std::tuple&lt;T2, T...&gt;&gt;</code>? Better still would be to have a more meaningful template name, say <code>typelist</code>, instead of using <code>std::tuple</code>."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1425503666, "post_id": 28864581, "comment_id": 45995199, "body": "@Pradhan You mean <code>&lt;T2..., T&gt;</code>? Sure, but I think having <code>is_same&lt;T, T2&gt;</code> in the condition is more self-documenting as to what&#39;s expected."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1425503885, "post_id": 28864581, "comment_id": 45995312, "body": "You would still have <code>is_same</code>. And assuming we have <code>template &lt;typename ... T&gt; typelist {}; </code> defined, <code>static_assert(std::is_same&lt;typelist&lt;T, T2...&gt;, typelist&lt;T2..., T&gt;&gt;::value, &quot;T2 must be all Ts&quot;);</code> looks clear. But of course, matter of taste. I am adding this trick to my arsenal. Thanks! :)"}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1425503978, "post_id": 28864581, "comment_id": 45995360, "body": "Scratch that. Yes, your form is indeed more self-documenting."}], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1425502008, "creation_date": 1425502008, "answer_id": 28864581, "question_id": 28864200, "link": "https://stackoverflow.com/questions/28864200/how-to-set-the-same-type-for-all-arguments-in-this-example/28864581#28864581", "title": "How to set the same type for all arguments in this example?", "body": "<p>The funny thing is that your current code already ensures that calls like</p>\n\n<pre><code>add(&amp;vI, 10, 10.f, 20); \n</code></pre>\n\n<p>doesn't compile. If an argument's type is different from the vector's value type, then eventually it will become the second argument in a call like</p>\n\n<pre><code>add(&amp;vI, 10.f, 20);\n</code></pre>\n\n<p>and then template argument deduction will fail because it deduces conflicting types for <code>T</code>.</p>\n\n<p>If you want to reduce the horrendous amount of error messages when the deduction failure happens deep in the recursion, SFINAE or <code>static_assert</code> can help. I personally prefer Columbo's trick:</p>\n\n<pre><code>template&lt;bool...&gt; class bool_pack;\ntemplate&lt;bool...b&gt;\nusing all_true = std::is_same&lt;bool_pack&lt;true, b...&gt;, bool_pack&lt;b..., true&gt;&gt;;\n\ntemplate &lt;class T, class... T2&gt;\nvoid add(vector&lt;T&gt; *v, T n, T2... rest)\n{\n    static_assert(all_true&lt;std::is_same&lt;T, T2&gt;{}...&gt;{}, \"T2 must be all Ts\");\n    v-&gt;push_back(n);\n    add(v, rest...);\n}\n</code></pre>\n\n<p>There is currently no way to avoid using both T and T2 (without modifying the call). The committee is considering potential improvements in this area, however, so something might make its way into the next standard.</p>\n"}], "owner": {"reputation": 2310, "user_id": 1659758, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/eb242bf0309ff23a833440458db2af25?s=128&d=identicon&r=PG&f=1", "display_name": "Tracer", "link": "https://stackoverflow.com/users/1659758/tracer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 1, "accepted_answer_id": 28864581, "answer_count": 2, "score": 1, "last_activity_date": 1425502008, "creation_date": 1425500710, "question_id": 28864200, "link": "https://stackoverflow.com/questions/28864200/how-to-set-the-same-type-for-all-arguments-in-this-example", "title": "How to set the same type for all arguments in this example?", "body": "<p>Just for practice I'm trying to write a variadic template that inputs some values into vector. I wrote the following:</p>\n\n<pre><code>template &lt;class T&gt;\nvoid add(vector&lt;T&gt; *v, T n){\n    v-&gt;push_back(n);\n}\ntemplate &lt;class T, class... T2&gt;\nvoid add(vector&lt;T&gt; *v, T n, T2... rest){\n    v-&gt;push_back(n);\n    add(v, rest...);\n}\n</code></pre>\n\n<p>To test these I use the following:</p>\n\n<pre><code>vector&lt;int&gt; vI;\nadd(&amp;vI, 10, 30, 25);\n\nfor (int i = 0; i &lt; vI.size(); i++)\n    cout &lt;&lt; vI[i] &lt;&lt; endl;\n</code></pre>\n\n<p>Everything works as expected, but I'm wondering if the second template could be written in a way that it uses only one type (T or T2) since vector (push_back) expects the same type for all arguments? In fact, I would like to ensure T = T2 all the way. </p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 3, "creation_date": 1425501060, "post_id": 28864183, "comment_id": 45993650, "body": "There&#39;s some discussion in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3465.pdf\" rel=\"nofollow noreferrer\">N3465</a>. One pointed noted there is a potential clash with<code>iterator erase(const_iterator position); </code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 2, "creation_date": 1442615921, "post_id": 28864183, "comment_id": 53170413, "body": "Note you can get an iterator, then erase at it, with basically no additional run-time overhead."}], "owner": {"reputation": 7675, "user_id": 2923952, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/71908bd318301d831c4b9eb6ca1c13a2?s=128&d=identicon&r=PG&f=1", "display_name": "Siler", "link": "https://stackoverflow.com/users/2923952/siler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1425500645, "creation_date": 1425500645, "question_id": 28864183, "link": "https://stackoverflow.com/questions/28864183/transparent-comparators-for-maperase", "title": "transparent comparators for map::erase", "body": "<p>The C++14 standard provided transparent comparators for <code>std::map::find</code>, <code>std::map::count</code>, <code>std::map::equal_range</code> and both the upper and lower bound functions: basically, all the functions where key lookup is performed.</p>\n\n<p>Is there some reason that <code>std::map::erase(const key_type&amp;)</code> doesn't have a similar overload for transparent comparators?  Was it left out on purpose, or is it simply an oversight?</p>\n"}, {"tags": ["c++", "floating-point", "floating-point-precision"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425500748, "post_id": 28864148, "comment_id": 45993471, "body": "C++ doesn&#39;t dictate floating point formats; it depends on the compiler, and also what architecture you&#39;re running on.  However, most everything uses IEEE 754, and you could figure out the answer for that format."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425500839, "post_id": 28864148, "comment_id": 45993525, "body": "Are you asking us to calculate the floating representation of that specific number, and what value that equates to, or did you want code that finds bounds somehow, or what are you asking us?  If you want an estimate, how tight does the estimate have to be?"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1425502287, "post_id": 28864148, "comment_id": 45994356, "body": "I seem to remember seeing in at least one compilers version of one of the include files macros or or inline functions that would return the next or previous sequential FP number. I highly suspect they&#39;re not very standard, though... even if IEEE-754 is..."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 2, "creation_date": 1425503071, "post_id": 28864148, "comment_id": 45994830, "body": "@twalberg: <a href=\"http://en.cppreference.com/w/cpp/numeric/math/nextafter\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/numeric/math/nextafter</a>"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425503187, "post_id": 28864148, "comment_id": 45994905, "body": "@MooingDuck Yeah... that&#39;s them. Requires C99 or C++11 or later... Might be present in some form in certain compilers before that, though, which would be the &quot;not very standard&quot; part..."}], "answers": [{"owner": {"reputation": 75299, "user_id": 139746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BhJLC.png?s=128&g=1", "display_name": "Pascal Cuoq", "link": "https://stackoverflow.com/users/139746/pascal-cuoq"}, "is_accepted": true, "score": 1, "last_activity_date": 1425551968, "last_edit_date": 1425551968, "creation_date": 1425506681, "answer_id": 28865936, "question_id": 28864148, "link": "https://stackoverflow.com/questions/28864148/how-to-round-float-to-the-upper-lower-representation/28865936#28865936", "title": "How to round float to the upper/lower representation", "body": "<p>You are lucky that you want it as a <code>float</code>. With most compilation platforms mapping <code>float</code> to IEEE 754 binary32 and <code>double</code> to IEEE 754 binary64, you can obtain the correct answer in an overwhelming majority of cases with, in C syntax:</p>\n\n<pre><code>double d = 1.123123123123;\n#pragma STDC FENV_ACCESS ON\nint save_round = fegetround();\nfesetround(FE_DOWNWARD); // should be checked ideally\nfloat f = d;\nfesetround(save_round);\n</code></pre>\n\n<p>If you wanted the same thing for a <code>double</code>, you might have used a <code>long double</code> for the intermediate value, as long as <code>long double</code> is wider than <code>double</code> on your platform, and remembering to write the constant as <code>long double ld = 1.123123123123L;</code></p>\n\n<p>There are very rare cases (most requiring the human crafting the decimal representation to be in obvious bad faith) for which the method above does not work. The reason it does not work in these cases is <a href=\"http://en.wikipedia.org/wiki/Rounding#Double_rounding\" rel=\"nofollow\">double-rounding</a>. The snippet below on the other hand works in all cases if your compilation platform goes very far in offering IEEE 754 formats and operations (conversion from decimal to binary is supposed to respect the rounding mode, according to the latter's principles):</p>\n\n<pre><code>#pragma STDC FENV_ACCESS ON\nint save_round = fegetround();\nfesetround(FE_DOWNWARD);\nfloat f = strtof(\"1.123123123123\");\nfesetround(save_round);\n</code></pre>\n\n<p>In pure theory, you may even not need to invoke <code>strtof</code>, but it is not entirely clear to me that the compiler should convert floating-point constants according to the dynamic rounding mode even with <code>#pragma STDC FENV_ACCESS ON</code>.</p>\n"}], "owner": {"reputation": 179, "user_id": 2443456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be56f87106077857ba099e5729e2197?s=128&d=identicon&r=PG", "display_name": "user2443456", "link": "https://stackoverflow.com/users/2443456/user2443456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 28865936, "answer_count": 1, "score": 3, "last_activity_date": 1425551968, "creation_date": 1425500542, "last_edit_date": 1425505921, "question_id": 28864148, "link": "https://stackoverflow.com/questions/28864148/how-to-round-float-to-the-upper-lower-representation", "title": "How to round float to the upper/lower representation", "body": "<p>When I compute :</p>\n\n<pre><code>float res = 1.123123123123;\n</code></pre>\n\n<p>I suppose that res variable would be approximated to the nearest possible float representation of 1.123123123123.</p>\n\n<p>Is it possible to approximate to the lower/upper possible float representation ?</p>\n"}, {"tags": ["c++", "auto", "c++14"], "comments": [{"owner": {"reputation": 734, "user_id": 170477, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e3b34f0605e6e2c9b5c5beb1a9c192f?s=128&d=identicon&r=PG", "display_name": "jxy", "link": "https://stackoverflow.com/users/170477/jxy"}, "edited": false, "score": 0, "creation_date": 1425500116, "post_id": 28864003, "comment_id": 45993102, "body": "The code also works without <code>x *</code> part in the function <code>mk</code>."}, {"owner": {"reputation": 374, "user_id": 3969433, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e936f3e480fa2a04554a63c33929ed9e?s=128&d=identicon&r=PG&f=1", "display_name": "new Objekt", "link": "https://stackoverflow.com/users/3969433/new-objekt"}, "edited": false, "score": 0, "creation_date": 1425500547, "post_id": 28864003, "comment_id": 45993351, "body": "This exact code compiled and ran fine with gcc c++11. It did warn me about the return type though."}, {"owner": {"reputation": 734, "user_id": 170477, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e3b34f0605e6e2c9b5c5beb1a9c192f?s=128&d=identicon&r=PG", "display_name": "jxy", "link": "https://stackoverflow.com/users/170477/jxy"}, "reply_to_user": {"reputation": 374, "user_id": 3969433, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e936f3e480fa2a04554a63c33929ed9e?s=128&d=identicon&r=PG&f=1", "display_name": "new Objekt", "link": "https://stackoverflow.com/users/3969433/new-objekt"}, "edited": false, "score": 0, "creation_date": 1425501007, "post_id": 28864003, "comment_id": 45993629, "body": "It does compile with g++ v4.9.2 with c++14, but not with c++11.  Without optimization, it prints out <code>32767</code>.  With <code>-O2</code> it does print out <code>3</code>.  Compiled with clang++ v3.5.1, it always segfaults."}], "answers": [{"comments": [{"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 2, "creation_date": 1425500749, "post_id": 28864112, "comment_id": 45993472, "body": "The output of <code>typeid(v).name()</code> is quite insightful here. I just tried it with gcc-4.9.2. For the <code>auto</code> version, it is <code>St5_ExprISt8_BinClosISt12__multipliesSt9_ConstantSt9_ValArra&zwnj;&#8203;yiiEiE1970481344</code>. For the one with the explicit return type, <code>St8valarrayIiE3</code>."}], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 6, "last_activity_date": 1425500812, "last_edit_date": 1425500812, "creation_date": 1425500417, "answer_id": 28864112, "question_id": 28864003, "link": "https://stackoverflow.com/questions/28864003/segfaults-when-declare-define-a-function-returning-a-valarray-with-auto-return-t/28864112#28864112", "title": "Segfaults when declare/define a function returning a valarray with auto return type", "body": "<p><code>std::valarray</code> uses expression templates.  Expression templates do not play well with return type deduction.</p>\n\n<p>In this case, <code>x*std::valarray&lt;int&gt;{1}</code> returns an expression that says \"multiply <code>x</code> by some <code>std::valarray&lt;int&gt;</code>.  By the time you use the object outside of <code>mk</code>, both <code>x</code> and the <code>std::valarray&lt;int&gt;</code> have fallen out of scope.</p>\n\n<p>It then tries to use those objects (after they have expired): which in your test, a segfault results.  Classic undefined behavior.</p>\n\n<p>It doesn't make a copy of its arguments, because expression templates are efficient by avoiding doing exactly that.  The cost is that they play poorly with <code>auto</code>.</p>\n\n<p>There are some proposals to add something equivalent to <code>operator auto</code> -- the type that should be deduced when you want to persistently store, or return, an instance of a type -- to make expression templates more transparent.  If such a proposal where to go forward, then the expression template would say \"store me a as a <code>valarray</code>\" somehow.  I do not know the current state of such proposals.</p>\n"}], "owner": {"reputation": 734, "user_id": 170477, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e3b34f0605e6e2c9b5c5beb1a9c192f?s=128&d=identicon&r=PG", "display_name": "jxy", "link": "https://stackoverflow.com/users/170477/jxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 28864112, "answer_count": 1, "score": 4, "last_activity_date": 1425500812, "creation_date": 1425500051, "question_id": 28864003, "link": "https://stackoverflow.com/questions/28864003/segfaults-when-declare-define-a-function-returning-a-valarray-with-auto-return-t", "title": "Segfaults when declare/define a function returning a valarray with auto return type", "body": "<p>Can somebody please help me to understand why the following code segfaults?  The code works if I declare/define <code>mk</code> to return <code>std::valarray&lt;int&gt;</code>.  I guess I am not quite sure what <code>auto</code> does here.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;valarray&gt;\nauto mk(int x)\n{\n    return x * std::valarray&lt;int&gt;{1};\n}\nint main()\n{\n    auto v = mk(3);\n    std::cout &lt;&lt; v[0] &lt;&lt; std::endl;\n    return EXIT_SUCCESS;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "static-members", "constexpr", "uniform-initialization"], "comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1425501035, "post_id": 28863982, "comment_id": 45993641, "body": "This has something to do with the template parameter: It works as expected if the type of the static data member is not dependent on the template parameter, like <code>static constexpr auto value = int{};</code>"}, {"owner": {"reputation": 273, "user_id": 4503990, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8ec49bc4cc9d990989fea2320f3e6cd?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Wozniak", "link": "https://stackoverflow.com/users/4503990/karol-wozniak"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1425501361, "post_id": 28863982, "comment_id": 45993839, "body": "this wrapper class is actually a replacement for c++14 variable template in gcc &lt; 5.0, so template parameter is a must"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1425502343, "post_id": 28863982, "comment_id": 45994398, "body": "Do you need to use <code>auto</code>?"}, {"owner": {"reputation": 273, "user_id": 4503990, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8ec49bc4cc9d990989fea2320f3e6cd?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Wozniak", "link": "https://stackoverflow.com/users/4503990/karol-wozniak"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1425502454, "post_id": 28863982, "comment_id": 45994460, "body": "@ShafikYaghmour <code>auto</code> is just part of uniform initialization, otherwise its like in original example <code>static constexpr Tp value{};</code>"}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 9349415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c66f9a1014ab3c32173cf528943c48?s=128&d=identicon&r=PG&f=1", "display_name": "svoltron", "link": "https://stackoverflow.com/users/9349415/svoltron"}, "edited": false, "score": 0, "creation_date": 1548330478, "post_id": 28865534, "comment_id": 95507276, "body": "Do you think GCC 4.8.5 has a bug in this case: <a href=\"https://stackoverflow.com/questions/54345310/conflicting-declaration-using-constexpr-and-auto-in-c11\" title=\"conflicting declaration using constexpr and auto in c11\">stackoverflow.com/questions/54345310/&hellip;</a> ?"}, {"owner": {"reputation": 1530, "user_id": 4562911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebc7b3d9f657ab929c232596182c861?s=128&d=identicon&r=PG&f=1", "display_name": "halfflat", "link": "https://stackoverflow.com/users/4562911/halfflat"}, "reply_to_user": {"reputation": 365, "user_id": 9349415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c66f9a1014ab3c32173cf528943c48?s=128&d=identicon&r=PG&f=1", "display_name": "svoltron", "link": "https://stackoverflow.com/users/9349415/svoltron"}, "edited": false, "score": 1, "creation_date": 1549968310, "post_id": 28865534, "comment_id": 96087694, "body": "I believe so, but given that this sort of behaviour seems present across so many gcc versions, and for the example in this quesation, clang as well, I am not confident in my interpretation at all."}, {"owner": {"reputation": 365, "user_id": 9349415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c66f9a1014ab3c32173cf528943c48?s=128&d=identicon&r=PG&f=1", "display_name": "svoltron", "link": "https://stackoverflow.com/users/9349415/svoltron"}, "edited": false, "score": 0, "creation_date": 1551090859, "post_id": 28865534, "comment_id": 96498944, "body": "that&#39;s so weird"}], "owner": {"reputation": 1530, "user_id": 4562911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebc7b3d9f657ab929c232596182c861?s=128&d=identicon&r=PG&f=1", "display_name": "halfflat", "link": "https://stackoverflow.com/users/4562911/halfflat"}, "is_accepted": false, "score": 1, "last_activity_date": 1425505173, "creation_date": 1425505173, "answer_id": 28865534, "question_id": 28863982, "link": "https://stackoverflow.com/questions/28863982/uniform-initialization-of-static-constexpr-member/28865534#28865534", "title": "uniform initialization of static constexpr member", "body": "<p>This may be my misunderstanding, but I would have regarded</p>\n\n<pre><code>struct wrapper {\n    static constexpr Tp value = Tp{};\n};\n</code></pre>\n\n<p>to be an example of uniform initialisation. Indeed, the first code example is also uniform initialisation. The standard itself just demands that these static constexpr members be initialised with a brace-or-assignment expression. This, as you've already seen, works fine.</p>\n\n<p>The problem seems to be with the type deduction from <code>auto</code> in a template context, and I suspect it is an implementation bug, though the standard is big, and I could easily have missed something.</p>\n\n<p>If the right hand size of the constexpr initialisation were an expression with a hard to pre-determine type, a workaround would be to use <code>decltype</code>, e.g.</p>\n\n<pre><code>template &lt;typename Tp&gt;\nstruct wrapper {\n    static constexpr decltype(complex-init-expr) value = complex-init-expr;\n};\n\ntemplate &lt;typename Tp&gt;\nstatic constexpr decltype(complex-init-expr) wrapper&lt;Tp&gt;::value;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>template &lt;typename Tp&gt;\nstruct wrapper {\n    typedef decltype(complex-init-expr) value_type;\n    static constexpr value_type value = complex-init-expr;\n};\n\ntemplate &lt;typename Tp&gt;\nstatic constexpr typename wrapper&lt;Tp&gt;::value_type wrapper&lt;Tp&gt;::value;\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 4503990, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8ec49bc4cc9d990989fea2320f3e6cd?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Wozniak", "link": "https://stackoverflow.com/users/4503990/karol-wozniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1425505173, "creation_date": 1425499977, "last_edit_date": 1495541571, "question_id": 28863982, "link": "https://stackoverflow.com/questions/28863982/uniform-initialization-of-static-constexpr-member", "title": "uniform initialization of static constexpr member", "body": "<p>According to:\n<a href=\"https://stackoverflow.com/questions/25830111/constexpr-static-data-member-giving-undefined-reference-error\">constexpr static data member giving undefined reference error</a>\nstatic constexpr class members must meet two requirements:</p>\n\n<pre><code>template &lt;typename Tp&gt;\nstruct wrapper {\n  static constexpr Tp value{}; // 1\n};\n\ntemplate&lt;typename Tp&gt;\nconstexpr Tp wrapper&lt;Tp&gt;::value; // 2 \n\nstruct foo {\n};\n\nint main() {\n  auto const&amp; x = wrapper&lt;foo&gt;::value;\n  (void)x;    \n}\n</code></pre>\n\n<ol>\n<li>Initialized inside the class definition (because it is constexpr)</li>\n<li>Defined outside the class definition (because it is static)</li>\n</ol>\n\n<p>If I change 1. to uniform initialization</p>\n\n<pre><code>template &lt;typename Tp&gt;\nstruct wrapper {\n  static constexpr auto value = Tp{}; // uniform initialization\n};\n\ntemplate&lt;typename Tp&gt;\nconstexpr Tp wrapper&lt;Tp&gt;::value;\n</code></pre>\n\n<p>compiler complains about conflicting declarations:</p>\n\n<pre><code>$ g++ prog.cc -Wall -Wextra -std=c++1z -pedantic\nprog.cc:7:31: error: conflicting declaration 'constexpr const Tp wrapper&lt;Tp&gt;::value' constexpr Tp wrapper&lt;Tp&gt;::value;\nprog.cc:3:29: note: previous declaration as 'constexpr const auto wrapper&lt;Tp&gt;::value' static constexpr auto value = Tp{};\n</code></pre>\n\n<p>and also about missing initializer:</p>\n\n<pre><code>prog.cc:7:31: error: declaration of 'constexpr const auto wrapper&lt;Tp&gt;::value' has no initializer\n</code></pre>\n\n<p>Removing conflicting 2. definition ends, as expected, with linker error:</p>\n\n<pre><code>In function `main': prog.cc:(.text+0x8): undefined reference to `wrapper&lt;foo&gt;::value'\n</code></pre>\n\n<p>Code example <a href=\"http://melpon.org/wandbox/permlink/mNBVAw3TuS6Gi8js\" rel=\"nofollow noreferrer\">online</a>.</p>\n\n<p>Is it possible/legal to use uniform initialization for static constexpr class members?</p>\n"}, {"tags": ["c++", "class", "pointers"], "comments": [{"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 2, "creation_date": 1425500051, "post_id": 28863935, "comment_id": 45993073, "body": "Your function <code>makeDeck</code> shows that you know the proper syntax for accessing the <code>cards</code> array declared as <code>Deck *cards[52]</code>. Why do you suddenly switch to some completely different and nonsensical syntax in <code>showName</code>???"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425500594, "post_id": 28863935, "comment_id": 45993394, "body": "You should remove the complexities of passing an array and use <code>std::vector</code>."}, {"owner": {"reputation": 51, "user_id": 4322222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aJFCq5P5_dk/AAAAAAAAAAI/AAAAAAAACCo/1SlYLhUbwDI/photo.jpg?sz=128", "display_name": "Xolin_", "link": "https://stackoverflow.com/users/4322222/xolin"}, "edited": false, "score": 0, "creation_date": 1425501530, "post_id": 28863935, "comment_id": 45993937, "body": "They were similar, but i made those changes to get my errors smaller... and vectors have not been covered yet (doing an assignment out of a book, looking ahead they will make me change it to a vector looks like...)"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4322222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aJFCq5P5_dk/AAAAAAAAAAI/AAAAAAAACCo/1SlYLhUbwDI/photo.jpg?sz=128", "display_name": "Xolin_", "link": "https://stackoverflow.com/users/4322222/xolin"}, "edited": false, "score": 0, "creation_date": 1425501093, "post_id": 28864132, "comment_id": 45993679, "body": "so i fixed the showName(); error by: [int q = cards[r]-&gt;faceNum;]  But isn&#39;t &quot;makeDeck(&amp;cards[52]);&quot; passing the whole array?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 51, "user_id": 4322222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aJFCq5P5_dk/AAAAAAAAAAI/AAAAAAAACCo/1SlYLhUbwDI/photo.jpg?sz=128", "display_name": "Xolin_", "link": "https://stackoverflow.com/users/4322222/xolin"}, "edited": false, "score": 0, "creation_date": 1425501951, "post_id": 28864132, "comment_id": 45994180, "body": "@Gamer_Xolin_: No!  It is passing the address past the end of the array.  Element <code>cards[52]</code> does not exist, and is only good for iteration in the begin/end style.  <code>for( Deck *it = &amp;cards[0], *end = &amp;cards[52]; it &lt; end; ++it )</code>"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425502107, "post_id": 28864132, "comment_id": 45994271, "body": "If you write <code>&amp;cards</code> you will get a pointer to the entire array, its type is pointer-to-array, which means your function would need to be <code>makeDeck( Deck (*cards)[52] )</code> -- the parentheses are important.  And you would use it as <code>(*cards)[x].suit</code>.  This is ugly and therefore you should just call <code>makeDeck(cards)</code> and write the function as <code>makeDeck( Deck* cards )</code>, and use <code>cards[x].suit</code>"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 51, "user_id": 4322222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aJFCq5P5_dk/AAAAAAAAAAI/AAAAAAAACCo/1SlYLhUbwDI/photo.jpg?sz=128", "display_name": "Xolin_", "link": "https://stackoverflow.com/users/4322222/xolin"}, "edited": false, "score": 0, "creation_date": 1425502187, "post_id": 28864132, "comment_id": 45994299, "body": "@Gamer_Xolin To pass the whole array you have to write  makeDeck( cards, 52 ); and function makeDeck has to be declared like makeDeck( Deck *, size_t n );"}], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 1, "last_activity_date": 1425500481, "creation_date": 1425500481, "answer_id": 28864132, "question_id": 28863935, "link": "https://stackoverflow.com/questions/28863935/error-request-for-member-x-in-y-which-is-of-non-class-type-class/28864132#28864132", "title": "error: request for member \u2018x\u2019 in \u2018y\u2019, which is of non-class type \u2018Class**\u2019", "body": "<p>The error messages are clear enough. For example in function showName parameter cards has type <code>Deck **</code> that is it is a pointer to pointer. Thus you may not use member access operator .</p>\n\n<pre><code>void showName(Deck *cards[52]) //displays name based on card.faceNum\n{\n  for(int c=0;c&lt;52;c++)\n  {\n    int q = cards.faceNum; ///error here\n    string s = cards.suit; ///error here\n</code></pre>\n\n<p>In function main you call function makeDeck supplying argument of type <code>Deck *</code> because <code>cards[52]</code> is an element of an array of type Deck with index 52 and expression &amp;cards[52] is its address while function makeDeck has parameter of type <code>Deck **</code></p>\n\n<pre><code>void makeDeck(Deck *cards[52])\n\n//...\n\nint main()\n{\n  int r;\n  int n=1;\n\n  Deck cards[52];\n\n  makeDeck(&amp;cards[52]); ///error here\n</code></pre>\n\n<p>So what you do is what you get.:)</p>\n"}], "owner": {"reputation": 51, "user_id": 4322222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aJFCq5P5_dk/AAAAAAAAAAI/AAAAAAAACCo/1SlYLhUbwDI/photo.jpg?sz=128", "display_name": "Xolin_", "link": "https://stackoverflow.com/users/4322222/xolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 28864132, "answer_count": 1, "score": 2, "last_activity_date": 1425500481, "creation_date": 1425499837, "question_id": 28863935, "link": "https://stackoverflow.com/questions/28863935/error-request-for-member-x-in-y-which-is-of-non-class-type-class", "title": "error: request for member \u2018x\u2019 in \u2018y\u2019, which is of non-class type \u2018Class**\u2019", "body": "<p>Im trying to create a game of \"war\" rigth now im just trying to get the deck setup, and im getting errors:</p>\n\n<pre><code>Running /home/ubuntu/workspace/Testing__.cc\n/home/ubuntu/workspace/Testing__.cc: In function \u2018void showName(Deck**)\u2019:\n/home/ubuntu/workspace/Testing__.cc:72:19: error: request for member \u2018faceNum\u2019 in \u2018cards\u2019, which is of non-class type \u2018Deck**\u2019\n     int q = cards.faceNum;\n                   ^\n/home/ubuntu/workspace/Testing__.cc:73:22: error: request for member \u2018suit\u2019 in \u2018cards\u2019, which is of non-class type \u2018Deck**\u2019\n     string s = cards.suit;\n                      ^\n/home/ubuntu/workspace/Testing__.cc: In function \u2018int main()\u2019:\n/home/ubuntu/workspace/Testing__.cc:94:22: error: cannot convert \u2018Deck*\u2019 to \u2018Deck**\u2019 for argument \u20181\u2019 to \u2018void makeDeck(Deck**)\u2019\n   makeDeck(&amp;cards[52]);\n                      ^\n/home/ubuntu/workspace/Testing__.cc:102:27: error: cannot convert \u2018Deck*\u2019 to \u2018Deck**\u2019 for argument \u20181\u2019 to \u2018void showName(Deck**)\u2019\n     showName(&amp;cards[(r-1)]);\n</code></pre>\n\n<p>Here's the code as i have it so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt; //system(\"PAUSE\");\n#include &lt;string&gt;\n#include &lt;stdio.h&gt;    //NULL\n#include &lt;stdlib.h&gt;   // srand, rand \n#include &lt;ctime&gt;     // time \nusing namespace std;\n\nclass Deck\n{\n  public:\n    int faceNum;\n    string suit;\n\n  friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const Deck&amp; cards);\n};\n\nostream&amp; operator&lt;&lt;(ostream&amp; os, const Deck&amp; cards)\n{\n    os &lt;&lt; cards.faceNum &lt;&lt; \" of \" &lt;&lt; cards.suit;\n    return os;\n}\n\n\nvoid makeDeck(Deck *cards[52])\n{\n  //creates the deck, Ace -&gt; King (1-13) of each suit\n  int n=1;\n  for (int x=0; x&lt;13; x++)\n  {\n    cards[x]-&gt;faceNum = n;\n    cards[x]-&gt;suit = \"Spades\";\n    n++;\n  }\n  n=1;\n  for (int x=13; x&lt;26; x++)\n  {\n    cards[x]-&gt;faceNum = n;\n    cards[x]-&gt;suit = \"Clubs\";\n    n++;\n  }\n  n=1;\n  for (int x=26; x&lt;39; x++)\n  {\n    cards[x]-&gt;faceNum = n;\n    cards[x]-&gt;suit = \"Diamonds\";\n    n++;\n  }\n  n=1;\n  for (int x=39; x&lt;52; x++)\n  {\n    cards[x]-&gt;faceNum = n;\n    cards[x]-&gt;suit = \"Hearts\";\n    n++;\n  }\n\n}\n\n/*\nvoid selectCard()\n{\n  //each player will use this\n}\n*/\n\nvoid showName(Deck *cards[52]) //displays name based on card.faceNum\n{\n  for(int c=0;c&lt;52;c++)\n  {\n    int q = cards.faceNum; ///error here\n    string s = cards.suit; ///error here\n    if(q == 1)\n      cout &lt;&lt; \"Ace of \" &lt;&lt; s;\n    else if(q &gt;= 2 &amp;&amp; q &lt;= 10)\n      cout &lt;&lt; q &lt;&lt; \" of \" &lt;&lt; s;\n    else if(q == 11)\n      cout &lt;&lt; \"Jack of \" &lt;&lt; s;\n    else if(q == 12)\n      cout &lt;&lt; \"Queen of \" &lt;&lt; s;\n    else if(q == 13)\n      cout &lt;&lt; \"King of \" &lt;&lt; s;\n  }\n}\n\nint main()\n{\n  int r;\n  int n=1;\n\n  Deck cards[52];\n\n  makeDeck(&amp;cards[52]); ///error here\n\n  //Show me \"this\" card.....\n  do\n  {\n    cout &lt;&lt; \"(99 will exit)\\nShow card (1-52): \";\n    cin &gt;&gt; r;\n    //cout &lt;&lt; cards[(r-1)] &lt;&lt; endl;\n    showName(&amp;cards[(r-1)]); ///error here\n\n  }while (r != 99);\n\n\n  //welcome!!\n  //srand((unsigned)time(NULL)); //rand cast based on time\n\n\n\n  //r = rand() % dtype + 1;\n\n  //create deck\n\n  //use selectCard() to randomly pull from pile\n}\n</code></pre>\n\n<p>(Using Cloud9 (c9.io))\nIts still early yet, so the whole program is incomplete, but i should be able to select a card (1-52) and have it display:</p>\n\n<pre><code>4 of Clubs\n</code></pre>\n\n<p>I've found (so far) from google searches is that there is an issue with my pointers... I think.... I had this all in the main() function and it worked, i split it into separate functions, minor code edits, and the errors appear.</p>\n\n<p>I'm trying to wrap my head around pointers, so any help/advice would be greatly appreciated. I'm sure this is an easy 3 second answer, but I am truly stumped....</p>\n\n<p>Thanks all!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1425500010, "post_id": 28863923, "comment_id": 45993054, "body": "The solution is to get out of using pointers and just use <code>std::vector&lt;Vertex&gt;</code>.  Otherwise, your Polygon() class needs a user defined copy constructor and assignment operator, plus needs to be thoroughly debugged to ensure you&#39;re using the pointers correctly.  So it&#39;s your choice -- either go the easy fix, or the more involved fix."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 1, "creation_date": 1425500348, "post_id": 28863923, "comment_id": 45993238, "body": "It seems that you don&#39;t initialize <code>maxSize</code> when you create a <code>Polygon</code> with an array. So when you add a new <code>Vertex</code> to the <code>Polygon</code> <code>maxSize</code> has a wrong value..."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 1, "creation_date": 1425500365, "post_id": 28863923, "comment_id": 45993250, "body": "Your <code>maxSize</code> member is uninitialized. All else flows from that."}, {"owner": {"reputation": 125, "user_id": 1497133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GPVcW.png?s=128&g=1", "display_name": "RazGo", "link": "https://stackoverflow.com/users/1497133/razgo"}, "edited": false, "score": 0, "creation_date": 1425501127, "post_id": 28863923, "comment_id": 45993695, "body": "Copy constructor and assignment operator, I haven&#39;t thought about that, good idea. But there must be a solution without using them as well? I think I&#39;m pretty close to a solution, it&#39;s just that I&#39;m new to C++ and can&#39;t see what I&#39;m doing wrong. What do you think, would calling delete[] on a dynamically allocated array produce this type of error?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425501210, "post_id": 28863923, "comment_id": 45993755, "body": "@user1497133 Right now, without the assignment op and copy constructor, the following program produces undefined behavior: <code>{Polygon p1; Polygon p2; p2 = p1;}</code>  The reason why is that <code>delete</code> will be called twice on the same pointer value."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 1497133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GPVcW.png?s=128&g=1", "display_name": "RazGo", "link": "https://stackoverflow.com/users/1497133/razgo"}, "edited": false, "score": 0, "creation_date": 1425501892, "post_id": 28864362, "comment_id": 45994148, "body": "You guys at Stackoverflow are so competent! I don&#39;t know how many hours I&#39;ve been sitting with this. Thank you very much for your help!"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 125, "user_id": 1497133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GPVcW.png?s=128&g=1", "display_name": "RazGo", "link": "https://stackoverflow.com/users/1497133/razgo"}, "edited": false, "score": 0, "creation_date": 1425502104, "post_id": 28864362, "comment_id": 45994265, "body": "@user1497133 - One other issue is that you&#39;re mixing up <code>double</code> and <code>int</code> for your vertices.  You pass <code>int</code> values when you initialize, but your vertex values are actually doubles."}], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": true, "score": 5, "last_activity_date": 1425501820, "last_edit_date": 1425501820, "creation_date": 1425501273, "answer_id": 28864362, "question_id": 28863923, "link": "https://stackoverflow.com/questions/28863923/memory-error-when-delete-calls-destructor/28864362#28864362", "title": "Memory error when delete[] calls destructor", "body": "<p>The error stems from not initializing <code>maxSize</code> during the construction of your <code>Polygon</code> class that takes an array:</p>\n\n<pre><code>Polygon::Polygon( Vertex * const v, const int newSize ) : \n                  size(newSize), maxSize(newSize) \n</code></pre>\n\n<p>There are other issues with your code that you should address.</p>\n\n<ol>\n<li><p>When you call <code>Polygon::add</code>, you prematurely increase <code>maxSize</code> by multiplying by 2, but you haven't issued a call to <code>new[]</code> to allocate the memory.  If <code>new[]</code> throws an exception, you've messed up your <code>maxSize</code> variable.  To overcome this, only change your member variables after you have allocated the memory successfully (and also, after you've cleared the hurdle of calling any <code>throwable</code> functions successfully).</p></li>\n<li><p>You should provide an assignment operator and copy constructor.  If you want to make your <code>Polygon</code> object have the correct copy semantics, these functions should be implemented.  Read up about the <a href=\"http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29\" rel=\"nofollow\">Rule of 3</a> (and <a href=\"http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29\" rel=\"nofollow\">Rule of 5</a>, and <a href=\"http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29\" rel=\"nofollow\">Rule of 0</a>).</p></li>\n</ol>\n"}], "owner": {"reputation": 125, "user_id": 1497133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GPVcW.png?s=128&g=1", "display_name": "RazGo", "link": "https://stackoverflow.com/users/1497133/razgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 28864362, "answer_count": 1, "score": 0, "last_activity_date": 1425501820, "creation_date": 1425499807, "last_edit_date": 1425500345, "question_id": 28863923, "link": "https://stackoverflow.com/questions/28863923/memory-error-when-delete-calls-destructor", "title": "Memory error when delete[] calls destructor", "body": "<p>I'm trying to make a program that can calculate the area of a closed polygonial chain. The program seems to output the correct results until... it reaches return 0; in the main function. </p>\n\n<p>The debugger reveals that upon exiting the main function, the programs calls the destructor of Vertex, on line 17 in polygon.h, and thats when everything turns into chaos! The destructor tries to free the dynamically allocated space pointed by Vertex *vertices. But it fails to do so, and is instead given a very long error message which I have pasted down below.</p>\n\n<p>After trying to figure this out for some time now I'm left with no other choice than to ask for help. Can someone tell what is wrong with my program?</p>\n\n<p>Thanks in advance</p>\n\n<blockquote>\n  <p>Error message</p>\n</blockquote>\n\n<pre><code>==9715== Conditional jump or move depends on uninitialised value(s)\n==9715==    at 0x400C8A: Polygon::add(Vertex const&amp;) (Polygon.cpp:25)\n==9715==    by 0x40147C: main (main.cpp:16)\n==9715== \n==9715== Invalid write of size 8\n==9715==    at 0x401198: Vertex::setX(int) (Vertex.h:12)\n==9715==    by 0x400E07: Polygon::add(Vertex const&amp;) (Polygon.cpp:42)\n==9715==    by 0x40147C: main (main.cpp:16)\n==9715==  Address 0x5959080 is 0 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \n==9715== Invalid write of size 8\n==9715==    at 0x4011B2: Vertex::setY(int) (Vertex.h:13)\n==9715==    by 0x400E2B: Polygon::add(Vertex const&amp;) (Polygon.cpp:43)\n==9715==    by 0x40147C: main (main.cpp:16)\n==9715==  Address 0x5959088 is 8 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \nnum:  5\n==9715== Invalid read of size 8\n==9715==    at 0x401174: Vertex::getY() const (Vertex.h:11)\n==9715==    by 0x400ED1: Polygon::area() const (Polygon.cpp:58)\n==9715==    by 0x4014C2: main (main.cpp:18)\n==9715==  Address 0x5959088 is 8 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \n==9715== Invalid read of size 8\n==9715==    at 0x40115A: Vertex::getX() const (Vertex.h:10)\n==9715==    by 0x400F08: Polygon::area() const (Polygon.cpp:59)\n==9715==    by 0x4014C2: main (main.cpp:18)\n==9715==  Address 0x5959080 is 0 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \n==9715== Invalid read of size 8\n==9715==    at 0x40115A: Vertex::getX() const (Vertex.h:10)\n==9715==    by 0x400F90: Polygon::area() const (Polygon.cpp:63)\n==9715==    by 0x4014C2: main (main.cpp:18)\n==9715==  Address 0x5959080 is 0 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \n==9715== Invalid read of size 8\n==9715==    at 0x401174: Vertex::getY() const (Vertex.h:11)\n==9715==    by 0x400FED: Polygon::area() const (Polygon.cpp:64)\n==9715==    by 0x4014C2: main (main.cpp:18)\n==9715==  Address 0x5959088 is 8 bytes after a block of size 64 alloc'd\n==9715==    at 0x4C28147: operator new[](unsigned long) (vg_replace_malloc.c:348)\n==9715==    by 0x400B5E: Polygon::Polygon(Vertex*, int) (Polygon.cpp:13)\n==9715==    by 0x401281: main (main.cpp:8)\n==9715== \narea:  39\nminx: -1\ntrianglearea: 4.5\n==9715== \n==9715== HEAP SUMMARY:\n==9715==     in use at exit: 0 bytes in 0 blocks\n==9715==   total heap usage: 4 allocs, 4 frees, 176 bytes allocated\n==9715== \n==9715== All heap blocks were freed -- no leaks are possible\n==9715== \n==9715== For counts of detected and suppressed errors, rerun with: -v\n==9715== Use --track-origins=yes to see where uninitialised values come from\n==9715== ERROR SUMMARY: 7 errors from 7 contexts (suppressed: 4 from 4)\n</code></pre>\n\n<blockquote>\n  <p>/* main.cpp */</p>\n</blockquote>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Polygon.h\"\nusing namespace std;\n\nint main() {\n  Vertex varr[] = { Vertex(0,0), Vertex(6,0),\n                    Vertex(6,6), Vertex(0,6) };\n  Polygon pol( varr, 4 );\n  cout &lt;&lt; \"num:  \" &lt;&lt;  pol.numVertices() &lt;&lt; endl;\n  cout &lt;&lt; \"area:  \" &lt;&lt;  pol.area() &lt;&lt; endl;\n  cout &lt;&lt; \"minx: \" &lt;&lt;  pol.minX() &lt;&lt; endl;\n  cout &lt;&lt; \"maxx: \" &lt;&lt;  pol.maxX() &lt;&lt; endl;\n  cout &lt;&lt; \"miny: \" &lt;&lt;  pol.minY() &lt;&lt; endl;\n  cout &lt;&lt; \"maxy: \" &lt;&lt;  pol.maxY() &lt;&lt; endl;\n\n  pol.add( Vertex(-1,3) );\n  cout &lt;&lt; \"num:  \" &lt;&lt;  pol.numVertices() &lt;&lt; endl;\n  cout &lt;&lt; \"area:  \" &lt;&lt;  pol.area() &lt;&lt; endl;\n  cout &lt;&lt; \"minx: \" &lt;&lt;  pol.minX() &lt;&lt; endl;\n\n  Polygon pol1;\n  pol1.add( Vertex(0,0) );\n  pol1.add( Vertex(3,3) );\n  pol1.add( Vertex(3,0) );\n\n  cout &lt;&lt; \"trianglearea: \" &lt;&lt; pol1.area() &lt;&lt; endl;\n\n  return 0;\n}\n</code></pre>\n\n<blockquote>\n  <p>/* Vertex.cpp */</p>\n</blockquote>\n\n<pre><code>#include \"Vertex.h\"\n\nVertex::Vertex(int newx, int newy) {\n  x = newx;\n  y = newy;\n}\n</code></pre>\n\n<blockquote>\n  <p>/* Vertex.h */</p>\n</blockquote>\n\n<pre><code>#ifndef VERTEX_H\n#define VERTEX_H\n\nclass Vertex {\n private:\n  double x, y;\n public:\n  Vertex() {x = 0; y = 0;};\n  Vertex(int newx, int newy);\n  double getX() const { return x; }\n  double getY() const { return y; }\n  void setX(const int newx) { x = newx; }\n    void setY(const int newy) { y = newy; }\n};\n</code></pre>\n\n<blockquote>\n  <p>/* Polygon.cpp */</p>\n</blockquote>\n\n<pre><code>#include \"Polygon.h\"\n#include &lt;cmath&gt; // For abs\n\n// Constructor sets array of v to be the vertices of polygon\nPolygon::Polygon( Vertex * const v, const int newSize ) : size(newSize) {\n\n  // Set first element to min and max\n  minx = maxx = (v[0]).getX();\n  miny = maxy = (v[0]).getY();\n\n  // Add vertices and set min/max\n  int x, y;\n  vertices = new Vertex[size];\n  for (int i = 0; i &lt; size; i++) {\n    x = v[i].getX();\n    y = v[i].getY();\n    (vertices[i]).setX(x);\n    (vertices[i]).setY(y);\n    if (i &gt; 0)\n      setMinMax(x, y);\n  }\n}\n\n/* Add a single vertex */\nvoid Polygon::add( const Vertex&amp; v ) {\n  if (size == maxSize) {\n    maxSize *= 2;\n    Vertex * tempPointer = new Vertex[maxSize];\n\n    // Copy elements of previous vertice array to new one\n    for (int i = 0; i &lt; size; i++) {\n      (tempPointer[i]).setX((vertices[i]).getX());\n      (tempPointer[i]).setY((vertices[i]).getY());\n    }\n\n    delete [] vertices;\n    vertices = tempPointer;\n    tempPointer = 0;\n  }\n\n  // Add single vertex to the end of vertices array\n  int x = v.getX();\n  int y = v.getY();\n  (vertices[size]).setX(x);\n  (vertices[size]).setY(y);\n  setMinMax(x, y);\n  size++;\n}\n\n/* Calculate area using formula on http://mathworld.wolfram.com/PolygonArea.html */\ndouble Polygon::area() const {\n  double area = 0, term1, term2;\n\n  // Area must be 0 if nbr of vertices is &lt; 3\n  if (size &lt; 3) {\n    return area;\n  }\n\n   // Sum initial terms in formula\n  int i;\n  for (i = 0; i &lt; size-1; i++) {\n    term1 = ( vertices[i].getX() * vertices[i+1].getY() ) / 2;\n    term2 = ( vertices[i+1].getX() * vertices[i].getY() ) / 2;\n    area += (term1 - term2);\n  }\n\n  // Sum last term in formula\n  term1 = (vertices[i].getX() * vertices[0].getY()) / 2;\n  term2 = (vertices[0].getX() * vertices[i].getY()) / 2;\n  area += (term1 - term2);\n  return fabs(area);\n}\n\nvoid Polygon::setMinMax(const int x, const int y) {\n  if (size == 0) {\n    minx = maxx = x;\n    miny = maxy = y;\n  }\n  else {\n    if (x &lt; minx) { minx = x; }\n    if (x &gt; maxx) { maxx = x; }\n    if (y &lt; miny) { miny = y; }\n    if (y &gt; maxy) { maxy = y; }\n  }\n}\n\n    #endif /* VERTEX_H */\n</code></pre>\n\n<blockquote>\n  <p>/* Polygon.h */</p>\n</blockquote>\n\n<pre><code>#ifndef POLYGON_H\n#define POLYGON_H\n\n#include \"Vertex.h\"\n\nclass Polygon {\n private:\n  int size, maxSize;\n  Vertex * vertices;\n  double minx, miny, maxx, maxy;\n  void setMinMax(const int x, const int y);\n public:\n Polygon() : size(0), maxSize(1), vertices(new Vertex[1]) {}\n  Polygon( Vertex * const v, const int newSize );\n  ~Polygon() { delete [] vertices; }\n  void add( const Vertex&amp; v );\n  double area() const;\n  double minX() const { return minx; }\n  double minY() const { return miny; }\n  double maxX() const { return maxx; }\n  double maxY() const { return maxy; }\n  int numVertices() const { return size; }\n};\n\n#endif /* POLYGON_H */\n</code></pre>\n"}, {"tags": ["c#", "c++", "ios", "exception", "ifstream"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1425499933, "post_id": 28863767, "comment_id": 45993012, "body": "For C++ only: streams throwing exceptions are bad (my opinion). For C++ interacting with c++/clr it becomes worse - you have to translate C++ exceptions to C++/clr exceptions, while crossing the boundary from C++ to C++/clr"}, {"owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "edited": false, "score": 0, "creation_date": 1425500131, "post_id": 28863767, "comment_id": 45993116, "body": "Thanks for your response! I&#39;m not using C++/clr. I just want to accomplish the same thing with C#."}, {"owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 1, "creation_date": 1425501809, "post_id": 28863767, "comment_id": 45994111, "body": "Are you trying to have FileStream throw exceptions on IO errors? Because that&#39;s the default behaviour. Both Read and Write methods will throw an IOException if an IO error occurs."}, {"owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "reply_to_user": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 0, "creation_date": 1425502304, "post_id": 28863767, "comment_id": 45994366, "body": "@pixelbadger That&#39;s exactly what I needed to know. Thank you!"}, {"owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "edited": false, "score": 0, "creation_date": 1425552383, "post_id": 28863767, "comment_id": 46013936, "body": "I&#39;ve expanded on my statement in an answer. If you found my comment useful, I would be grateful if you could mark this as the answer."}], "answers": [{"owner": {"reputation": 1463, "user_id": 1548997, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lBhvJ.png?s=128&g=1", "display_name": "pixelbadger", "link": "https://stackoverflow.com/users/1548997/pixelbadger"}, "is_accepted": true, "score": 1, "last_activity_date": 1425552347, "last_edit_date": 1495539805, "creation_date": 1425552347, "answer_id": 28875965, "question_id": 28863767, "link": "https://stackoverflow.com/questions/28863767/c-ifstream-exception-masks-for-c/28875965#28875965", "title": "C++ ifstream exception masks for C#", "body": "<p>Both <a href=\"https://msdn.microsoft.com/en-us/library/system.io.filestream.read%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\"><code>FileStream.Read</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/system.io.filestream.write(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>FileStream.Write</code></a> methods will throw an <a href=\"https://msdn.microsoft.com/en-us/library/system.io.ioexception(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>IOException</code></a> should any underlying I/O error occur. This is default behaviour.</p>\n\n<p>Unlike C++, exception throwing is the expected form of error handling in C#. Because exceptions were a part of .NET from the beginning, there is none of <a href=\"https://stackoverflow.com/questions/3180268/why-are-c-stl-iostreams-not-exception-friendly\">the contention</a> surrounding use of exceptions with streams as there is with C++.</p>\n\n<p>Most - if not all - of the .NET framework standard libraries will throw exceptions in exceptional states. The only exception I can think of is when using the <a href=\"https://msdn.microsoft.com/en-us/library/ms229009%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Try-Parse pattern</a>, which is pretty explicit about the expected behaviour.</p>\n"}], "owner": {"reputation": 1688, "user_id": 1378885, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DILv8.jpg?s=128&g=1", "display_name": "Eric after dark", "link": "https://stackoverflow.com/users/1378885/eric-after-dark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 28875965, "answer_count": 1, "score": 1, "last_activity_date": 1425552347, "creation_date": 1425499287, "question_id": 28863767, "link": "https://stackoverflow.com/questions/28863767/c-ifstream-exception-masks-for-c", "title": "C++ ifstream exception masks for C#", "body": "<p>How would I convert this line from C++ to C#?</p>\n\n<pre><code>std::ifstream in;\nin.exceptions(std::ios_base::badbit); //*THIS LINE*\n</code></pre>\n\n<p>According to <a href=\"http://www.cplusplus.com/reference/ios/ios/exceptions/\" rel=\"nofollow\">this page</a>, the previous line of code sets a new exception mask for the stream and clears any current error state flags. I'm also guessing that it is the \"second form\" of <code>std::ios::exceptions</code> from the page linked above. </p>\n\n<p>Because of my inexperience with C#'s <code>FileStream</code> class, I've been getting pretty confused due to the lack of anything similar. </p>\n"}, {"tags": ["c++", "algorithm", "graph-algorithm"], "comments": [{"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1425499771, "post_id": 28863619, "comment_id": 45992906, "body": "Any additional information? Is a path guaranteed to exist? Are certain ranges or combinations of domino blocks guaranteed to be in the input? A graph algorithm will handle all of these cases nicely. Using a less general-purpose algorithm usually assumes something about the input."}, {"owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "reply_to_user": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1425501766, "post_id": 28863619, "comment_id": 45994093, "body": "<i>Is a path guaranteed to exist</i> No. Input may contain also just a single point like this (0,3) - in that case output should be: NO PATH."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 4598879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0804833fc4f55c51b042eb05c6cb303a?s=128&d=identicon&r=PG&f=1", "display_name": "hakononakani", "link": "https://stackoverflow.com/users/4598879/hakononakani"}, "edited": false, "score": 0, "creation_date": 1425499164, "post_id": 28863649, "comment_id": 45992562, "body": "Dijkstra&#39;s not the only one that solves shortest path: <a href=\"http://en.wikipedia.org/wiki/Shortest_path_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shortest_path_problem</a> (Bellman Ford, A*, Warshall)"}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "reply_to_user": {"reputation": 195, "user_id": 4598879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0804833fc4f55c51b042eb05c6cb303a?s=128&d=identicon&r=PG&f=1", "display_name": "hakononakani", "link": "https://stackoverflow.com/users/4598879/hakononakani"}, "edited": false, "score": 0, "creation_date": 1425499291, "post_id": 28863649, "comment_id": 45992631, "body": "Thanks, @hakononakani, that is a good point to make. I have incorporated your link into my answer."}, {"owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425499374, "post_id": 28863649, "comment_id": 45992678, "body": "But can it be done without using the graph algorithm?"}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "reply_to_user": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425499513, "post_id": 28863649, "comment_id": 45992756, "body": "@kowal66b, this problem represents naturally as a graph problem and there is an extremely wide and complete theory to solving such problems using graphs. Unless you have specific reasons to avoiding a graph representation, it is probably best to embrace it. Are you suggesting there may be a &quot;trick&quot; that allows you to efficiently solve your problem without using a full graph algorithm?"}, {"owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425499625, "post_id": 28863649, "comment_id": 45992835, "body": "Someone suggested me that problem can be solved by using the Eight queens puzzle algorithm (or part of it)."}, {"owner": {"reputation": 41174, "user_id": 270287, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1GwpB.jpg?s=128&g=1", "display_name": "IVlad", "link": "https://stackoverflow.com/users/270287/ivlad"}, "edited": false, "score": 0, "creation_date": 1425500204, "post_id": 28863649, "comment_id": 45993153, "body": "This is overkill for this problem, since the graph is unweighted."}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "reply_to_user": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425501996, "post_id": 28863649, "comment_id": 45994209, "body": "@kowal66b, I am not personally sure how to use an Eight Queens approach here (there are many algorithms for solving that problem). A breadth-first search is likely to be the most simplistic thing you can do, and has a time complexity that is linear in the size of your input."}], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 2, "last_activity_date": 1425500328, "last_edit_date": 1425500328, "creation_date": 1425498928, "answer_id": 28863649, "question_id": 28863619, "link": "https://stackoverflow.com/questions/28863619/domino-path-algorithm/28863649#28863649", "title": "Domino path algorithm", "body": "<p>Yes. You should read up on <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow\">Dijkstra's algorithm</a> which runs in O(E+V log V) where <code>E</code> is the number of edges in your graph and <code>V</code> is the number of vertices. A <a href=\"https://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow\">breadth-first search</a> would also work, since the graph is unweighted. That would run in O(E+V) time.</p>\n\n<p>Though these are common ways of solving this problem, they are <a href=\"https://en.wikipedia.org/wiki/Shortest_path_problem\" rel=\"nofollow\">by no means the only ones</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425503163, "post_id": 28864201, "comment_id": 45994894, "body": "Which graph representation should I use for that? Numbers of nodes can be even 100 000."}, {"owner": {"reputation": 41174, "user_id": 270287, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1GwpB.jpg?s=128&g=1", "display_name": "IVlad", "link": "https://stackoverflow.com/users/270287/ivlad"}, "reply_to_user": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1425503296, "post_id": 28864201, "comment_id": 45994971, "body": "@kowal66b - adjacency list representation would work best in this case."}, {"owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "edited": false, "score": 0, "creation_date": 1426451250, "post_id": 28864201, "comment_id": 46367219, "body": "if I&#39;m having right now a tab with all information about distance how should I path back to get respond?  Right now I&#39;m having a struct like this:   <code>struct blocks {  int nose; int tail; int distance; }; </code> It&#39;s nicely filled in, so what should I do next?  EDIT: How to add /n to this code comment?!"}], "owner": {"reputation": 41174, "user_id": 270287, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1GwpB.jpg?s=128&g=1", "display_name": "IVlad", "link": "https://stackoverflow.com/users/270287/ivlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1425500711, "creation_date": 1425500711, "answer_id": 28864201, "question_id": 28863619, "link": "https://stackoverflow.com/questions/28863619/domino-path-algorithm/28864201#28864201", "title": "Domino path algorithm", "body": "<p>We can solve the problem in <code>O(n)</code> using a <a href=\"http://en.wikipedia.org/wiki/Queue_%28abstract_data_type%29\" rel=\"nofollow\">queue</a>, similar to a <a href=\"http://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow\">Breadth First Search</a>. You do not need Dijkstra's algorithm, but you do need to store your input as a graph.</p>\n\n<p>Pseudocode:</p>\n\n<pre><code>Q = a FIFO queue\nEnque all pairs (0, y)\nwhile Q not empty:\n  remove an element p from Q\n  Enque all unvisited nodes reachable from p\n  if you enqued a (x, 0) node, you have a solution\n</code></pre>\n\n<p>You can get the path back by keeping track of your distances for example. If <code>d[i] = cost to reach node i</code>, then find a node <code>k</code> connected to your solution node for which <code>d[k] + 1 = d[solution]</code>, then repeat the process for <code>k</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4633799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b389e7708ea6a2ff965c437ec935e?s=128&d=identicon&r=PG&f=1", "display_name": "kowal66b", "link": "https://stackoverflow.com/users/4633799/kowal66b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1425500711, "creation_date": 1425498819, "last_edit_date": 1425499530, "question_id": 28863619, "link": "https://stackoverflow.com/questions/28863619/domino-path-algorithm", "title": "Domino path algorithm", "body": "<p>I've got some (I hope) easy question about algorithm that can resolve the \"domino path\" problem. I'm looking for resolution that will resolved this problem in less then O(n^2) complexity. </p>\n\n<p>I've got a group of n-points (n in [1,100 000], every point is diffrent) with x and y coords:<code>\n(0,1)\n(1,3)\n(1,2)\n(2,4)\n(3,5)\n(4,2)\n(5,0)</code> </p>\n\n<p>I'm looking for the \"path\" from start point (0,y) to the end point (x,0) (the other point need to be sticked like domino block). In this example the path will be looking like this: <code>(0,1) &gt; (1,3) &gt; (3,5) &gt; (5,0)</code>. If the points will create more than one path - choose any of them. Could it be done is less than O(n^2)?</p>\n\n<p><strong>EDIT</strong>: Thanks for graph algorithm, but can it be done without it? I'm looking for some tricky recurrence algorith or something like this. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "edited": false, "score": 1, "creation_date": 1425500599, "post_id": 28863580, "comment_id": 45993400, "body": "Please include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, Verifiable Example</a> instead of your full code. Trim it down to exactly what causes the problem -- in this case, I doubt you need your actual math code, for example."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4612195, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/947727295239152/picture?type=large", "display_name": "Kelsey Calvert", "link": "https://stackoverflow.com/users/4612195/kelsey-calvert"}, "edited": false, "score": 0, "creation_date": 1425499784, "post_id": 28863628, "comment_id": 45992915, "body": "What should I do instead of returning n3 and d3? How do I solve this problem?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 1, "user_id": 4612195, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/947727295239152/picture?type=large", "display_name": "Kelsey Calvert", "link": "https://stackoverflow.com/users/4612195/kelsey-calvert"}, "edited": false, "score": 0, "creation_date": 1425499841, "post_id": 28863628, "comment_id": 45992947, "body": "You can change the function to <code>void subtract...(</code>, then change those last two parameters to be passed by reference as I showed above (by adding a <code>&amp;</code>)."}], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 2, "last_activity_date": 1425498851, "creation_date": 1425498851, "answer_id": 28863628, "question_id": 28863580, "link": "https://stackoverflow.com/questions/28863580/c-fraction-calculator/28863628#28863628", "title": "C++ Fraction Calculator", "body": "<p>You cannot do <code>return n3, d3;</code>. If you declare the function as <code>int foo(...</code> it must return a single <code>int</code>.</p>\n\n<p>If your first 4 parameters are inputs, and the last two are outputs, change the function to</p>\n\n<pre><code>int subtractFractions(int n1, int d1, int n2, int d2, int&amp; n3, int&amp; d3)\n</code></pre>\n\n<p>Notice the last two parameters are passed by reference instead of by value. So if they are modified within the function, the modified value will be reflected back outside of the function.</p>\n\n<p>Also if a function returns a value, you should use an assignment to get that variable back.</p>\n\n<pre><code>int menu()\n{\n    int oper;\n    // get operation from user\n    return oper\n}\n</code></pre>\n\n<p>Then later</p>\n\n<pre><code>int operation = menu();  // call the function and get return value\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4612195, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/947727295239152/picture?type=large", "display_name": "Kelsey Calvert", "link": "https://stackoverflow.com/users/4612195/kelsey-calvert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2176, "favorite_count": 0, "accepted_answer_id": 28863628, "answer_count": 1, "score": -1, "last_activity_date": 1425499505, "creation_date": 1425498711, "question_id": 28863580, "link": "https://stackoverflow.com/questions/28863580/c-fraction-calculator", "title": "C++ Fraction Calculator", "body": "<p>This is a C++ program to add, subtract, multiply, or divide fractions. My program has no error with the compiler, but when I run it, I enter a choice from the menu and immediately get the output \"The answer is: -2/1409189243.\" Can anyone tell me why this is happening? Any help is appreciated. I am a beginner.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint menu (int);\nint addFractions(int, int, int, int, int, int);\nint subtractFractions(int, int, int, int, int, int);\nint multiplyFractions(int, int, int, int, int, int);\nint divideFractions(int, int, int, int, int, int);\n\nint main()\n{\n    int operation;\n    int n1, d1, n2, d2, n3, d3;\n\n    menu(operation);\n\n    if (operation == 1)\n        addFractions(n1, d1, n2, d2, n3, d3);\n    if (operation == 2)\n        subtractFractions(n1, d1, n2, d2, n3, d3);\n    if (operation == 3)\n        multiplyFractions(n1, d1, n2, d2, n3, d3);\n    if (operation == 4)\n        divideFractions(n1, d1, n2, d2, n3, d3);\n\n\n    cout &lt;&lt; \"The answer is: \" &lt;&lt; n3 &lt;&lt; \"/\" &lt;&lt; d3;\n\n    _getch();\n    return 0;\n}\n\nint menu(int operation)\n{\n    cout &lt;&lt; \"This program allows the user to enter two fractions and perform\";\n    cout &lt;&lt; \" one of four \\n arithmetic operations: addition, subtraction, \";\n    cout &lt;&lt; \"multiplication, division. Please decide which operation you \";\n    cout &lt;&lt; \"would like to perform. Enter '1' to add, '2' to \\n subtract, '3' \";\n    cout &lt;&lt; \"to multiply, or '4' to divide. \\n\";\n    cin &gt;&gt; operation;\n    cout &lt;&lt; endl;\n\n    return operation;\n}\n\nint addFractions(int n1, int d1, int n2, int d2, int n3, int d3)\n{\n    cout &lt;&lt; \"Enter 2 fractions to be divided. Enter one integer at a time, \";\n    cout &lt;&lt; \"each divided by a space. First, enter numerator 1, then\";\n    cout &lt;&lt; \" denominator 1, followed by numerator 2, then denominator 2.\";\n    cin &gt;&gt; n1 &gt;&gt; d1 &gt;&gt; n2 &gt;&gt; d2;\n    cout &lt;&lt; endl;\n\n    n3 = ((n1*d2) + (n2*d1)) / (d1* d2);\n    d3 = d1 * d2;\n\n    return n3, d3;\n\n}\n\nint subtractFractions(int n1, int d1, int n2, int d2, int n3, int d3)\n{\n    cout &lt;&lt; \"Enter 2 fractions to be divided. Enter one integer at a time, \";\n    cout &lt;&lt; \"each divided by a space. First, enter numerator 1, then\";\n    cout &lt;&lt; \" denominator 1, followed by numerator 2, then denominator 2.\";\n    cin &gt;&gt; n1 &gt;&gt; d1 &gt;&gt; n2 &gt;&gt; d2;\n    cout &lt;&lt; endl;\n\n    n3 = (n1*d2) - (n2*d1);\n    d3 = d1 * d2;\n\n    return n3, d3;\n}\n\nint multiplyFractions(int n1, int d1, int n2, int d2, int n3, int d3)\n{\n    cout &lt;&lt; \"Enter 2 fractions to be divided. Enter one integer at a time, \";\n    cout &lt;&lt; \"each divided by a space. First, enter numerator 1, then\";\n    cout &lt;&lt; \" denominator 1, followed by numerator 2, then denominator 2.\";\n    cin &gt;&gt; n1 &gt;&gt; d1 &gt;&gt; n2 &gt;&gt; d2;\n    cout &lt;&lt; endl;\n\n    n3 = n1 * n2;\n    d3 = d1 * d2;\n\n    return n3, d3;\n}\n\nint divideFractions(int n1, int d1, int n2, int d2, int n3, int d3)\n{\n    cout &lt;&lt; \"Enter 2 fractions to be divided. Enter one integer at a time, \";\n    cout &lt;&lt; \"each divided by a space. First, enter numerator 1, then\";\n    cout &lt;&lt; \" denominator 1, followed by numerator 2, then denominator 2.\";\n    cin &gt;&gt; n1 &gt;&gt; d1 &gt;&gt; n2 &gt;&gt; d2;\n    cout &lt;&lt; endl;\n\n    n3 = n1 * d2;\n    d3 = n2 * d1;\n\n    return n3, d3;\n}\n</code></pre>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 6039, "user_id": 439599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b60ad58b64cdd58cd3bbc7ec30a0fe?s=128&d=identicon&r=PG", "display_name": "uesp", "link": "https://stackoverflow.com/users/439599/uesp"}, "edited": false, "score": 1, "creation_date": 1425499500, "post_id": 28863464, "comment_id": 45992747, "body": "It would help greatly if you had a proper <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. I cannot replicate your output using your supplied code as a base (it works as expected). Something else in your code that you haven&#39;t posted is likely causing the issue."}, {"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "reply_to_user": {"reputation": 6039, "user_id": 439599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b60ad58b64cdd58cd3bbc7ec30a0fe?s=128&d=identicon&r=PG", "display_name": "uesp", "link": "https://stackoverflow.com/users/439599/uesp"}, "edited": false, "score": 0, "creation_date": 1425500899, "post_id": 28863464, "comment_id": 45993561, "body": "Ah, I have not heard of MCVEs before. The program this is in is quite large and complex, I tried to include all the code relevant to the issue."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425500986, "post_id": 28863464, "comment_id": 45993619, "body": "@SoggyPancakes now you have heard of them, so try to make one. It may turn out that in the process of making one , you discover what the problem was.  As you can see from the answers posted so far,  it&#39;s difficult to debug a program when you can only see little bits and pieces of it."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425501198, "post_id": 28863464, "comment_id": 45993745, "body": "Add a function that does debug output of a triangle, instead of copy-pasting blocks of fprintf lines everywhere"}, {"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425501529, "post_id": 28863464, "comment_id": 45993934, "body": "That occurred to me as I was writing the question. It is quite annoying and obfuscates the meaning of the code."}, {"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425501551, "post_id": 28863464, "comment_id": 45993953, "body": "I am unable to right now, but I will try to make an MCVE later today for this problem."}, {"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1426190056, "post_id": 28863464, "comment_id": 46281949, "body": "I found the issue. After stepping through it statement by statement with the debugger and not understanding why the values changed between the end of the constructor and the calling context I printed out the memory locations for each member of the struct. Turns out there was a #pragma pack(2) in one header that was called after main file, but before the header for this class. Adding #pragma pack(8) fixed the problem. There wasn&#39;t enough information in my post to solve it."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425500791, "post_id": 28863523, "comment_id": 45993497, "body": "Sorry, this was a result of my summarizing my code. Each of these structs is defined in a different header file and have accompanying cpp file implementations. If this were the problem it would not compile and I would not be able to get any output at all."}], "owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "is_accepted": false, "score": 0, "last_activity_date": 1425498494, "creation_date": 1425498494, "answer_id": 28863523, "question_id": 28863464, "link": "https://stackoverflow.com/questions/28863464/c-why-are-my-struct-members-changing-values-with-the-context/28863523#28863523", "title": "C++ Why are my struct members changing values with the context?", "body": "<p>You are using the vectors before defining them. Definition of Vector2 and Vector4 should be before definition of ScreenTriangle. That may cause the problem</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425501376, "post_id": 28863675, "comment_id": 45993846, "body": "Changing that did not affect the output. Preventing memberwise copy.. I am afraid I do not understand what you mean. Do you mean to suggest something about Vector2 might make it so that when I do first.points[*] it does not properly copy to the scope where it is then trying to access the x member within the copied Vector2 struct?"}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425503264, "post_id": 28863675, "comment_id": 45994952, "body": "Your code creates a temporary instance of ScreenTriangle, then uses the default operator= method (since you have not provided one) which supposedly copies all the data members including Vector2 to the &quot;first&quot; instance.  My code constructs the &quot;first&quot; instance of ScreenTriangle directly, thus eliminating the copy part (which I thought might have been the problem).  Can you run the code in a debugger and see if it shows the same problem as the fprintf?"}, {"owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "edited": false, "score": 0, "creation_date": 1425508489, "post_id": 28863675, "comment_id": 45997713, "body": "It does indeed. I am quite confused. Stepping through it at the very end of the constructor it has the correct values, then when I step again out of the constructor and I check the ScreenTriangle the values are all messed up."}], "owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "is_accepted": false, "score": 0, "last_activity_date": 1425499017, "creation_date": 1425499017, "answer_id": 28863675, "question_id": 28863464, "link": "https://stackoverflow.com/questions/28863464/c-why-are-my-struct-members-changing-values-with-the-context/28863675#28863675", "title": "C++ Why are my struct members changing values with the context?", "body": "<p>Does it fix it if you change:</p>\n\n<pre><code>ScreenTriangle first = ScreenTriangle(triangle, m_cam[best_image], image_width, image_height);\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>ScreenTriangle first(triangle, m_cam[best_image], image_width, image_height);\n</code></pre>\n\n<p>Perhaps there is something in <code>Vector2</code> that prevent the memberwise copy of the structs from occurring properly (your original code).</p>\n"}], "owner": {"reputation": 67, "user_id": 1165636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b4860e917093b970f07d616d924b6ee?s=128&d=identicon&r=PG", "display_name": "SoggyPancakes", "link": "https://stackoverflow.com/users/1165636/soggypancakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1425499017, "creation_date": 1425498253, "question_id": 28863464, "link": "https://stackoverflow.com/questions/28863464/c-why-are-my-struct-members-changing-values-with-the-context", "title": "C++ Why are my struct members changing values with the context?", "body": "<p>I am running into some strange behavior and I am not sure what is causing it.</p>\n\n<p>Depending on the context in which I access the members of a struct I am getting very different values back.</p>\n\n<p>Here is the relevant code defining the structs:</p>\n\n<pre><code>struct ScreenTriangle\n{\n    int type;\n    Vector2 points[3];\n    Vector4 verts[3];\n    Vector4 norms[3];\n\n    ScreenTriangle() {}\n    ScreenTriangle(Triangle, Matrix, int, int);\n    bool split(ScreenTriangle&amp;);\n};\n\nstruct Vector2\n{\n    double x;\n    double y;\n    ... //Lots of functions\n};\n\nstruct Vector4\n{\n    double x;\n    double y;\n    double z;\n    double w;\n    ... //Lots of functions\n};\n</code></pre>\n\n<p>At the end of the constructor for the ScreenTriangle struct I added some debug code to print out the values:</p>\n\n<pre><code>ScreenTriangle::ScreenTriangle(Triangle triangle, Matrix matrix, int width, int height)\n{\n    ... //Initialization logic\n    //DEBUG\n    fprintf(stderr, \"\\tConstruct Triangle\\n\");\n    fprintf(stderr, \"\\t\\tpoints\\n\");\n    fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", points[0].x, points[0].y);\n    fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", points[1].x, points[1].y);\n    fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", points[2].x, points[2].y);\n}\n</code></pre>\n\n<p>This is the last thing done in the constructor, so I would think those would be the correct values. Here is the code that actually creates the ScreenTriangles:</p>\n\n<pre><code>...\nScreenTriangle first = ScreenTriangle(triangle, m_cam[best_image], image_width, image_height);\n//DEBUG\nfprintf(stderr, \"\\tScreenTriangle pre\\n\");\nfprintf(stderr, \"\\t\\tPoints\\n\");\nfprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[0].x, first.points[0].y);\nfprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[1].x, first.points[1].y);\nfprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[2].x, first.points[2].y);\n    if(first.type == OTHER_TRIANGLE)\n    {\n        ScreenTriangle second;\n        first.split(second); //Modifies the ScreenTriangle calling the function and instantiates a new ScreenTriangle on the passed reference\n        //DEBUG\n        fprintf(stderr, \"\\tScreenTriangle post top\\n\");\n        fprintf(stderr, \"\\t\\tPoints\\n\");\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[0].x, first.points[0].y);\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[1].x, first.points[1].y);\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", first.points[2].x, first.points[2].y);\n        fprintf(stderr, \"\\tScreenTriangle post bottom\\n\");\n        fprintf(stderr, \"\\t\\tPoints\\n\");\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", second.points[0].x, second.points[0].y);\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", second.points[1].x, second.points[1].y);\n        fprintf(stderr, \"\\t\\t\\t%f, %f\\n\", second.points[2].x, second.points[2].y);\n        ...\n</code></pre>\n\n<p>As you can see immediately after the constructor finishes I again print out the data. I would expect these to be the same, but they are definitely not. I thought maybe the data had been corrupted somehow so I added some output in the middle of the split method to output the values of the triangle before the split, and the values of the two triangles resulting from the split. I then also output these values from the main program just to sanity check the results. The results are far from sane.</p>\n\n<pre><code>//stderr, NOT CODE, couldn't figure out how to format it otherwise\nConstruct Triangle\n    points\n        470.142394, 436.976659\n        470.353823, 437.546349\n        470.366987, 440.896491\nScreenTriangle pre\n    Points\n        0.000776, 4734553876061397887934347591916838705351250000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        28381368350.827759, -19400122721264338832825401151226542897600390000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        0.000000, 0.000000\nSplit triangle\n    Original\n        points\n            470.142394, 436.976659\n            470.353823, 437.546349\n            470.366987, 440.896491\n        ...\n    new_point\n        470.175036, 437.546349\n    ...\n    Top Triangle\n        points\n            470.142394, 436.976659\n            470.175036, 437.546349\n            470.353823, 437.546349\n    Bot Triangle\n        points\n            470.175036, 437.546349\n            470.353823, 437.546349\n            470.366987, 440.896491\nScreenTriangle post top\n    Points\n        0.000776, 4734553876061397887934347591916838705351250000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        -29450462837259105633893654055197308700574950000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000, -19400122721262697099929384820740204292408740000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        28381368350.836658, -19400122721264338832825401151226542897600390000000000000000000000000000000000000000000000000000000000000000000000000000.000000\nScreenTriangle post bottom\n    Points\n        -29450456430284346305088130197738746199887030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000, -19400122721262697099929384820740204292408740000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        28381368350.836658, -19400122721264338832825401151226542897600390000000000000000000000000000000000000000000000000000000000000000000000000000.000000\n        0.000000, 0.000000\n</code></pre>\n\n<p>I am very confused as to what is happening. Why, when I check the values from within the ScreenTriangle struct are they one thing, are they then different when I check the values in the very next command from outside the struct?</p>\n\n<p>The values apparently have not changed since they show the original values when I check them again from a function within the ScreenTriangle struct, but when I check them again immediately afterwards, from outside the struct, I get these ridiculous results.</p>\n\n<p>I wondered if perhaps it had something to do with my system. I was compiling and running it through Cygwin on a Windows 7 machine, so I pulled the code to a machine running Fedora (v20 I think) and tried again but with the same strange results.</p>\n\n<p>What am I missing here? Why is it behaving like this?</p>\n"}, {"tags": ["c++", "class", "queue", "core", "fault"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1425499087, "post_id": 28863397, "comment_id": 45992509, "body": "Unrelated, Insta-Memory Leak: <code>Node *temp = new Node; temp = ...</code>. This isn&#39;t Java. Related: ` head = head-&gt;next;` followed by sending <code>head-&gt;data</code> to <code>cout</code> isn&#39;t going to end well when <code>head</code> <i>was</i> the last node in queue. <code>head-&gt;data</code> dereferences a null pointer, which invokes undefined behavior."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4518481, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KNyk4.png?s=128&g=1", "display_name": "lrogar", "link": "https://stackoverflow.com/users/4518481/lrogar"}, "edited": false, "score": 0, "creation_date": 1425505243, "post_id": 28864086, "comment_id": 45996033, "body": "Thank you so much! This was very helppul. Please see the edit?"}], "owner": {"reputation": 6039, "user_id": 439599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b60ad58b64cdd58cd3bbc7ec30a0fe?s=128&d=identicon&r=PG", "display_name": "uesp", "link": "https://stackoverflow.com/users/439599/uesp"}, "is_accepted": true, "score": 2, "last_activity_date": 1425561991, "last_edit_date": 1425561991, "creation_date": 1425500314, "answer_id": 28864086, "question_id": 28863397, "link": "https://stackoverflow.com/questions/28863397/segmentation-fault-core-dumped-when-trying-to-run-queue-program-c/28864086#28864086", "title": "Segmentation Fault (core dumped) when trying to run Queue program - C++", "body": "<p>Lots of problems:</p>\n\n<ol>\n<li>You have a double-linked <code>Node</code> but never update its <code>prev</code> member in the add/remove methods.</li>\n<li>You are keeping track of both the <code>Queue</code> head/tail but don't properly update them when you add/remove nodes.</li>\n<li><p>Both your forward and reverse loops in <code>printQueue()</code> are wrong and result in an infinite loop for any queue with 2 or more elements. Queue output should be just something like:</p>\n\n<pre><code>Node *p = head;\n\nwhile (p != NULL) \n{\n    cout &lt;&lt; p-&gt;data &lt;&lt; \" \";\n    p = p-&gt;next;\n}\n</code></pre></li>\n<li><p>Possible <code>null</code> pointer deference in <code>remove()</code> at <code>cout &lt;&lt; \"Removed: \" &lt;&lt; head-&gt;data &lt;&lt; endl;</code> since you've already moved the <code>head</code> pointer by this time. Move the <code>head</code> after the <code>cout</code>.</p></li>\n<li>Memory leak in <code>Queue::remove()</code> at <code>Node *temp = new Node;</code>. Just do <code>Node* temp = head;</code>.</li>\n<li>Memory leak in <code>Queue::printQueue()</code> at <code>Node *p = new Node;</code>. You don't need to allocate a node here.</li>\n<li>No return value in <code>remove()</code> for an empty queue.</li>\n</ol>\n\n<p><strong>Edit</strong></p>\n\n<p>Don't forget to initialize the <code>tail</code> when adding a node to an empty list:</p>\n\n<pre><code>if (isEmpty()) {\n    head = temp;\n    tail = temp;\n}\n</code></pre>\n\n<p>To remove a node from the head of a non-empty list it should be something like:</p>\n\n<pre><code>Node *temp = head;\nhead = head-&gt;next;\nif (head) head-&gt;prev = NULL;\nsize--;\ndelete temp;\nif (isEmpty()) tail = NULL;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4518481, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KNyk4.png?s=128&g=1", "display_name": "lrogar", "link": "https://stackoverflow.com/users/4518481/lrogar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 28864086, "answer_count": 1, "score": 0, "last_activity_date": 1425561991, "creation_date": 1425498054, "last_edit_date": 1425505219, "question_id": 28863397, "link": "https://stackoverflow.com/questions/28863397/segmentation-fault-core-dumped-when-trying-to-run-queue-program-c", "title": "Segmentation Fault (core dumped) when trying to run Queue program - C++", "body": "<p>I keep getting a Segmentation fault (core dumped) error every time I try to run my code with g++ on Linux. It compiles fine, but then that happens ... All the functions (remove, add and print) seem to have the same problem, I can't seem to figure out what's wrong... Please heeeelppp.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\n//Create a node struct\nstruct Node {\n  int data;\n  Node *next;\n  Node *prev;\n};\n\nclass Queue {\nprivate:\n  Node *head;\n  Node *tail;\n  int size;\npublic:\n  Queue();\n  ~Queue();\n  void add(int d);\n  int remove();\n  bool isEmpty();\n  void printQueue(bool o);\n};\n\n\n//set to NULL\nQueue::Queue() {\n\n  head = tail = NULL;\n  size = 0;\n\n}\n\n//destructor\n//call remove until empty\nQueue::~Queue() {\n\n  while (!isEmpty())\n    remove();\n}\n\n//adds a node with the given data at the back of the queue\nvoid Queue::add(int d) {\n\n  Node *temp = new Node();\n  temp-&gt;data = d;\n  temp-&gt;next = NULL;\n\n  if (isEmpty()) {\n\n    //add to head\n    head = temp;\n\n  } else {\n\n    //append\n    tail-&gt;next = temp;\n    tail = temp;\n\n    cout &lt;&lt; \"Added: \" &lt;&lt; tail-&gt;data &lt;&lt; endl;\n  }\n\n  size++;\n}\n\n//removes the node at the head of the queue and returns its data\nint Queue::remove() {\n\n  if (isEmpty()) {\n\n    cout &lt;&lt; \"The queue is empty.\" &lt;&lt; endl;\n\n  } else {\n\n    Node *temp = new Node;\n    temp = head;\n    int value = head-&gt;data;\n\n    //moves pointer to next node\n    head = head-&gt;next;\n\n    cout &lt;&lt; \"Removed: \" &lt;&lt; head-&gt;data &lt;&lt; endl;\n\n    size--;\n    delete temp;\n    return value;\n\n  }\n}\n\n//determines if the queue is empty\nbool Queue::isEmpty() {\n  return (size == 0);\n}\n\n//prints the contents of the queue from front to back, or front\n//to back, depending on the value of the parameter\nvoid Queue::printQueue(bool o) {\n\n  if (isEmpty()) {\n\n    cout &lt;&lt; \"The queue is empty.\" &lt;&lt; endl;\n\n  } else {\n\n    Node *p = new Node;\n\n    if (o == true) {\n\n      cout &lt;&lt; \"Printing in front to back:\" &lt;&lt; endl;\n\n      //print front to back\n      while(p != NULL) {\n        p = head;\n        cout &lt;&lt; p-&gt;data &lt;&lt; \" \";\n        p = p-&gt;next;\n      }\n\n    } else if (o == false) {\n\n      cout &lt;&lt; \"Printing in back to front:\" &lt;&lt; endl;\n\n      //print back to front\n      while (p != NULL) {\n        p = tail;\n        cout &lt;&lt; p-&gt;data &lt;&lt; \" \";\n        p = p-&gt;prev;\n      }\n    }\n  }\n}\n\nint main() {\n\n  Queue q;\n\n  q.add(8);\n\n  return 0;\n}\n</code></pre>\n\n<p>EDIT: I've made some changes to the code... But I'm still getting the same error. I assume I'm not updating the head and the tail and/or the next and prev nodes correctly... I don't know why it's wrong or what I'm missing, though.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstruct Node {\n  int data;\n  Node *next;\n  Node *prev;\n};\n\nclass Queue {\nprivate:\n  Node *head;\n  Node *tail;\n  int size;\npublic:\n  Queue();\n  ~Queue();\n  void add(int d);\n  int remove();\n  bool isEmpty();\n  void printQueue(bool o);\n};\n\nQueue::Queue() {\n\n  head = tail = NULL;\n  size = 0;\n\n}\n\nQueue::~Queue() {\n\n  while (!isEmpty())\n    remove();\n}\n\nvoid Queue::add(int d) {\n\n  Node *temp = new Node;\n  temp-&gt;data = d;\n  temp-&gt;next = NULL;\n  temp-&gt;prev = tail;\n\n  if (isEmpty()) {\n\n    //add to head\n    head = temp;\n\n  } else {\n\n    //append\n    tail-&gt;next = temp;\n    tail = temp;\n\n    cout &lt;&lt; \"Added: \" &lt;&lt; tail-&gt;data &lt;&lt; endl;\n  }\n  size++;\n}\n\nint Queue::remove() {\n\n  if (isEmpty()) {\n\n    cout &lt;&lt; \"The queue is empty.\" &lt;&lt; endl;\n\n    return 0;\n\n  } else {\n\n    Node *temp = head;\n    int value = head-&gt;data;\n\n    cout &lt;&lt; \"Removed: \" &lt;&lt; head-&gt;data &lt;&lt; endl;\n\n    //moves pointer to next node\n    head = head-&gt;next;\n    head-&gt;prev = NULL;\n\n    size--;\n    delete temp;\n    return value;\n  }\n}\n\nbool Queue::isEmpty() {\n  return (size == 0);\n}\n\nvoid Queue::printQueue(bool o) {\n\n  if (isEmpty()) {\n\n    cout &lt;&lt; \"The queue is empty.\" &lt;&lt; endl;\n\n  } else {\n\n    Node *p;\n\n    if (o == true) {\n\n      p = head;\n\n      cout &lt;&lt; \"Printing in front to back:\" &lt;&lt; endl;\n\n      //print front to back\n      while(p != NULL) {\n        cout &lt;&lt; p-&gt;data &lt;&lt; \" \";\n        p = p-&gt;next;\n      }\n\n    } else if (o == false) {\n\n      p = tail;\n\n      cout &lt;&lt; \"Printing in back to front:\" &lt;&lt; endl;\n\n      //print back to front\n      while (p != NULL) {\n        cout &lt;&lt; p-&gt;data &lt;&lt; \" \";\n        p = p-&gt;prev;\n      }\n    }\n  }\n}\n\nint main() {\n\n  Queue q;\n\n  q.add(9);\n  q.add(10);\n  q.add(11);\n  q.add(12);\n  q.add(13);\n  q.add(14);\n  q.add(15);\n  q.add(16);\n\n  q.remove();\n  q.remove();\n\n  q.printQueue(true);\n  q.printQueue(false);\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "casting"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1425498221, "post_id": 28863381, "comment_id": 45992031, "body": "Why would you use <code>malloc</code> in c++? It has a nice <code>new</code> keyword."}], "answers": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": false, "score": 5, "last_activity_date": 1425498998, "last_edit_date": 1425498998, "creation_date": 1425498231, "answer_id": 28863454, "question_id": 28863381, "link": "https://stackoverflow.com/questions/28863381/cast-result-of-malloc-in-c-library/28863454#28863454", "title": "Cast result of malloc in c library", "body": "<p>No. If it's C code, it should be compiled as C, not as C++, and thus the compiler will allow the implicit cast from <code>void*</code> to some other pointer. </p>\n\n<p>It is only when <code>malloc</code> is used in C++ code that you need to cast it - and it's in my view a \"bad smell\" - in other words, a sign that the code should be modernized to use <code>new</code> or <code>vector</code> or something along those lines. (Of course, there are valid reasons for doing this - for example, you could have some 10k lines of useful code, that you need to plumb into a C++ framework for something else - but typically, the best approach then is to write some C++ bindings that interface to those 10k lines and keep compiling that as C)</p>\n"}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": true, "score": 7, "last_activity_date": 1425498233, "creation_date": 1425498233, "answer_id": 28863455, "question_id": 28863381, "link": "https://stackoverflow.com/questions/28863381/cast-result-of-malloc-in-c-library/28863455#28863455", "title": "Cast result of malloc in c library", "body": "<blockquote>\n  <p>it appears that you should not cast the result in pure c code because it's potentially hides bugs and is redundant</p>\n</blockquote>\n\n<p>That is correct.</p>\n\n<blockquote>\n  <p>shouldn't all c libraries cast the result of malloc because they could realistically be used in a c++ project?</p>\n</blockquote>\n\n<p>No.  A C library can be used from within a C++ project but still be compiled as C.</p>\n"}], "owner": {"reputation": 1054, "user_id": 2930456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2Etu5.jpg?s=128&g=1", "display_name": "2trill2spill", "link": "https://stackoverflow.com/users/2930456/2trill2spill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 28863455, "answer_count": 2, "score": 1, "last_activity_date": 1425498998, "creation_date": 1425497991, "last_edit_date": 1495541191, "question_id": 28863381, "link": "https://stackoverflow.com/questions/28863381/cast-result-of-malloc-in-c-library", "title": "Cast result of malloc in c library", "body": "<p>I was looking at <a href=\"https://stackoverflow.com/questions/605845/do-i-cast-the-result-of-malloc\">Do I cast the result of malloc?</a> and it appears that you should not cast the result in pure c code because it's potentially hides bugs and is redundant. But I also see people saying that c++ requires the cast, so should all c libraries cast the result of malloc because they could realistically be used in a c++ project? </p>\n"}, {"tags": ["c++", "linux"], "comments": [{"owner": {"reputation": 185753, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1425497858, "post_id": 28863310, "comment_id": 45991827, "body": "The second argument of <code>ftok</code> isn&#39;t allowed to be zero."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1425498321, "post_id": 28863310, "comment_id": 45992097, "body": "Likely the segment you are trying to create already exists and this process doesn&#39;t have permission to access it."}, {"owner": {"reputation": 31, "user_id": 4015693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Veydan Wu", "link": "https://stackoverflow.com/users/4015693/veydan-wu"}, "edited": false, "score": 0, "creation_date": 1425500901, "post_id": 28863310, "comment_id": 45993562, "body": "The file associate with this segment (/home/veydan/code/cpshm) is in my own home directory, I suspect I have permission to access it. And it is a zero byte file so it should not conflict with anybody else. Is that correct?"}, {"owner": {"reputation": 31, "user_id": 4015693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Veydan Wu", "link": "https://stackoverflow.com/users/4015693/veydan-wu"}, "edited": false, "score": 0, "creation_date": 1425501220, "post_id": 28863310, "comment_id": 45993762, "body": "I set the second argument of ftok to an non zero number, but the problem still exists."}, {"owner": {"reputation": 31, "user_id": 4015693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Veydan Wu", "link": "https://stackoverflow.com/users/4015693/veydan-wu"}, "edited": false, "score": 0, "creation_date": 1425502900, "post_id": 28863310, "comment_id": 45994722, "body": "Thanks, the problem is solved. The shmget needs to have the right permission (listed in bits/shm.h)."}, {"owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "edited": false, "score": 0, "creation_date": 1425503215, "post_id": 28863310, "comment_id": 45994922, "body": "@VeydanWu instead of editing the question and marking it &quot;solved&quot; in the title, provide an answer to the question and mark that one as <a href=\"http://stackoverflow.com/help/accepted-answer\"><i>accepted</i></a>."}], "answers": [{"owner": {"reputation": 5175, "user_id": 4370109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcQgO.jpg?s=128&g=1", "display_name": "Brian Tompsett - \u6c64\u83b1\u6069", "link": "https://stackoverflow.com/users/4370109/brian-tompsett-%e6%b1%a4%e8%8e%b1%e6%81%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1430072802, "last_edit_date": 1490001382, "creation_date": 1430072802, "answer_id": 29881699, "question_id": 28863310, "link": "https://stackoverflow.com/questions/28863310/why-does-inter-process-shared-memory-require-sudo/29881699#29881699", "title": "Why does inter process shared memory require sudo?", "body": "<p>(<a href=\"https://meta.stackoverflow.com/questions/251597/question-with-no-answers-but-issue-solved-in-the-comments\">Answered in the comments - converted to a community Wiki Answer</a>)</p>\n\n<p>The OP wrote:</p>\n\n<blockquote>\n  <p>The <code>shmget</code> needs to have the right permission (listed in <code>bits/shm.h</code>).</p>\n</blockquote>\n"}], "owner": {"reputation": 31, "user_id": 4015693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Veydan Wu", "link": "https://stackoverflow.com/users/4015693/veydan-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430074377, "creation_date": 1425497728, "last_edit_date": 1430074377, "question_id": 28863310, "link": "https://stackoverflow.com/questions/28863310/why-does-inter-process-shared-memory-require-sudo", "title": "Why does inter process shared memory require sudo?", "body": "<p>I am learning the inter process communication via shared memory program and coded a very simple program. It works well except that it requires sudo to function correctly. </p>\n\n<p>If I don't type sudo, there is an error like this </p>\n\n<pre><code>\"shmat error: Permission denied \" \n</code></pre>\n\n<p>for the process that creates the shared memory, and there is an error like this</p>\n\n<pre><code>\"Segmentation fault (core dumped)\" \n</code></pre>\n\n<p>for the process that tries to read from the share memory. Does anybody know the reason that cause this or this type of program indeed requires root? Thanks.</p>\n\n<pre><code>/*\n *This is the process that creates the shared memory\n */\n#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\nvoid main(int argc, char** argv)\n{\n    int shm_id,i;\n    key_t key;\n    unsigned long *shmap;\n    char* name = \"/home/veydan/code/cpshm\"; // 0 size file\n    key = ftok(name,1234);\n    if ( key == -1 )\n       perror(\"ftok error\");\n    shm_id = shmget(key,20480000,IPC_CREAT);\n    if( shm_id == -1 ) {\n       perror(\"shmget error\");\n       return;\n    }\n    shmap = (unsigned long*)shmat(shm_id,NULL,0);\n    if(shmap==-1) {\n       perror(\"shmat error\");\n       return;\n    }\n    for ( i = 0; i &lt; 512; i++ )\n       *(shmap+i) = i;\n\n    if ( shmdt(shmap)==-1 )\n       perror(\" detach error \");\n}\n\n/*\n *This is the process that reads from the shared memory\n */\n#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n\nvoid main(int argc, char** argv)\n{\n   int shm_id,i;\n   key_t key;\n   unsigned long *shmap, tmp;\n   char* name = \"/home/veydan/code/cpshm\";\n   key = ftok(name,1234);\n   if ( key == -1 )\n      perror(\"ftok error\");\n   shm_id = shmget(key,20480000,IPC_CREAT);    \n   if ( shm_id == -1 ) {\n      perror(\"shmget error\");\n      return;\n   }     \n   shmap = (unsigned long*)shmat(shm_id,NULL,0);\n   for ( i = 0; i &lt; 512; i++ ) {\n      tmp = *(shmap+i);\n      printf(\"%lu \", tmp);\n      *(shmap+i) = tmp*2;\n   }    \n   if( shmdt(shmap) == -1 )\n      perror(\" detach error \");\n\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "nested", "parentheses", "repeat"], "comments": [{"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1425498517, "post_id": 28863236, "comment_id": 45992199, "body": "Note that doing this <i>with</i> regexes (at least by the classic CS definition of &quot;regular expression&quot;) is not feasible, as regular expressions (and the automatons they are implemented with)  are memory-less and thus can&#39;t do things like balancing brackets... With some of the things generically called &quot;regexes&quot; today, it might be possible, but that&#39;s because they are somewhat more than the name they claim would indicate..."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1425499217, "post_id": 28863236, "comment_id": 45992592, "body": "@twalberg Well look at that O.O C++ regexes don&#39;t support look behind. Well I&#39;ll just throw my Perl solution right out the window."}], "answers": [{"owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": false, "score": 5, "last_activity_date": 1425497763, "creation_date": 1425497763, "answer_id": 28863314, "question_id": 28863236, "link": "https://stackoverflow.com/questions/28863236/find-string-inside-outermost-parenthesis/28863314#28863314", "title": "Find String Inside Outermost Parenthesis", "body": "<p>Pseudo code:</p>\n\n<pre><code> iterate over chars\n if char is (\n   increment counter\n   store position of first ( only\n if char is )\n   decrement counter\n   if counter == 0\n      use index of current char and position of first ( to get substring\n</code></pre>\n"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 3, "last_activity_date": 1508296749, "last_edit_date": 1508296749, "creation_date": 1425499149, "answer_id": 28863720, "question_id": 28863236, "link": "https://stackoverflow.com/questions/28863236/find-string-inside-outermost-parenthesis/28863720#28863720", "title": "Find String Inside Outermost Parenthesis", "body": "<p>Lest pseudo code be the only answer I've taken it upon myself to answer this using standard algorithms. Given <code>const string foo{ \"this (is(maybe)) a test (and maybe not)\" }</code> <a href=\"/questions/tagged/c%2b%2b14\" class=\"post-tag\" title=\"show questions tagged &#39;c++14&#39;\" rel=\"tag\">c++14</a> can be used to solve like this:</p>\n\n<pre><code>const auto start = find(cbegin(foo), cend(foo), '(');\nconst auto finish = find_if(start, cend(foo), [count = 0](const char i) mutable {\n    if (i == '('){\n        count++;\n    }\n    else if (i == ')'){\n        count--;\n    }\n    return count &lt;= 0; });\n</code></pre>\n\n<p>From here, if both <code>start</code> and <code>finish</code> are not <code>cend(foo)</code> the string is valid and can be obtained from <code>string(next(start), finish)</code> (<a href=\"https://ideone.com/tyeY5f\" rel=\"nofollow noreferrer\">Live Example</a>).</p>\n\n<p>It's possible that this is as good a solution as there is in C++. I guess it is just wishful thinking that there's something out there to match parentheses and find the value.</p>\n"}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1548, "favorite_count": 0, "accepted_answer_id": 28863720, "answer_count": 2, "score": 0, "last_activity_date": 1508296749, "creation_date": 1425497499, "question_id": 28863236, "link": "https://stackoverflow.com/questions/28863236/find-string-inside-outermost-parenthesis", "title": "Find String Inside Outermost Parenthesis", "body": "<p>Say that I have a string which contains both multiple sets and nesting of parenthesis. I want to extract only the string in the first parenthesis encountered, including whatever nested parenthesis it contains.</p>\n\n<p>For example:</p>\n\n<blockquote>\n  <p>this (is(maybe)) a test (and maybe not)</p>\n</blockquote>\n\n<p>I want to extract:</p>\n\n<blockquote>\n  <p>is(maybe)</p>\n</blockquote>\n\n<p>I believe this can be accomplished without the use of regexes, by which I can easily do it.</p>\n\n<p>So my question is how can this be accomplished <em>without</em> regexes?</p>\n"}, {"tags": ["python", "c++", "c"], "comments": [{"owner": {"reputation": 5521, "user_id": 479230, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fK2jw.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/479230/jimmy"}, "edited": false, "score": 1, "creation_date": 1425498021, "post_id": 28863122, "comment_id": 45991906, "body": "have you checked out boost::python?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1425498024, "post_id": 28863122, "comment_id": 45991908, "body": "Unless you really want to do it on your own, consider <a href=\"http://www.swig.org/\" rel=\"nofollow noreferrer\">Swig</a> or <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/python/doc/\" rel=\"nofollow noreferrer\">Boost Python</a>."}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425499340, "post_id": 28863122, "comment_id": 45992660, "body": "I&#39;d love to use swig I just don&#39;t see how. Swig allows to access C/C++ libraries through python, but I want to do it the other way. I want to call hooks (functions) defined in python modules from C++."}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425499415, "post_id": 28863122, "comment_id": 45992700, "body": "Ok I will check boost::python maybe it can do this"}, {"owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "edited": false, "score": 0, "creation_date": 1425502318, "post_id": 28863122, "comment_id": 45994377, "body": "Note, I don&#39;t want to export functions defined in C/C++ library so that I can call them from python, I want it the other way, both SWIG and boost::python seem to make it only possible for python to access C++ not for C++ to access python"}], "owner": {"reputation": 12209, "user_id": 1514983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/953f9c2e14575db714293ea3dffebca8?s=128&d=identicon&r=PG", "display_name": "Petr", "link": "https://stackoverflow.com/users/1514983/petr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 696, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425497173, "creation_date": 1425497173, "question_id": 28863122, "link": "https://stackoverflow.com/questions/28863122/how-to-marshall-data-structures-from-c-c-into-python-and-back", "title": "How to marshall data structures from C/C++ into python and back", "body": "<p>I have a program that is written in C++ and can be extended with extensions that are written in python using python's C api, basically there is python interpreter in the program which can load python modules that contains some hooks to various events.</p>\n\n<p>I can pass simple data types from C to python, such as string or integer. I can do the same the other way, I can call internal C++ api's I created from the python modules. What I can't do, however is to marshall more complex data types, such as classes. For example I have this thing:</p>\n\n<pre><code>class X\n{\n    int a;\n    int b;\n};\n</code></pre>\n\n<p>I could call some python hook that would look like this:</p>\n\n<pre><code>def some_hook(a, b):\n  print(str(a + b))\n</code></pre>\n\n<p>but I would rather do</p>\n\n<pre><code>def some_hook(x):\n  print(str(x.a + x.b))\n</code></pre>\n\n<p>I know how to call a python function from C using <code>PyObject_CallObject</code> and how to give it some simple python vars as parameters (like integer or string). But I have no idea how to construct python classes from within C/C++, fill them up with data, and then pass them as parameters to <code>PyObject_CallObject</code>.</p>\n\n<p>My idea was to create some proxy classes like in SWIG (swig.org) that I would fill up with data from C++ class and then back. I created some .py file that contains the declaration of these classes, but still, I have no idea how would I instantiate them from within C/C++ and fill up? Neither how I would do it the other way - turn <code>PyObject</code> into C/C++ class?</p>\n\n<p><strong>In a nutshell:</strong> I want to be able to turn C++ class into a python class, call a python function with that class as a parameter, and then call some other function from python with this class that would be just a C++ API that would turn the python class into C++.</p>\n\n<p>Some background reading on how to call python from C: <a href=\"http://docs.python.org/3/extending/embedding.html\" rel=\"nofollow\">http://docs.python.org/3/extending/embedding.html</a></p>\n\n<p>Source code of my app C++ that loads and uses python extensions: <a href=\"https://github.com/huggle/huggle3-qt-lx/blob/master/huggle/pythonengine.cpp\" rel=\"nofollow\">https://github.com/huggle/huggle3-qt-lx/blob/master/huggle/pythonengine.cpp</a></p>\n"}, {"tags": ["c++", "get", "stringstream", "peek"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 1, "creation_date": 1425497226, "post_id": 28863071, "comment_id": 45991458, "body": "<code>ss.peek() == &#39;,&#39;</code> becomes true at the end of the first loop."}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425497291, "post_id": 28863071, "comment_id": 45991505, "body": "so do I have to reset it to false? how do I do that?"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 1, "creation_date": 1425497375, "post_id": 28863071, "comment_id": 45991544, "body": "Easy solution is to put <code>ss.ignore()</code> after the closing brace of each loop."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1425497387, "post_id": 28863071, "comment_id": 45991551, "body": "Common mistake: you use C++ streams wrong, if you do not check the state of an extraction"}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1425497764, "post_id": 28863071, "comment_id": 45991764, "body": "Easy solution is to do ss.ignore() at the end of each loop \u2013  0x499602D2         this works, but I meant to write a white space for one of the commas above. How to I do ss.peek () != &#39;,&#39; for white space? As in ss.peek () != &#39;(white space)&#39;?"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425498028, "post_id": 28863071, "comment_id": 45991912, "body": "@JCoder You don&#39;t do that, you simply use <code>ss &gt;&gt; Name &gt;&gt; car &gt;&gt; etc</code>. The extractor <code>&gt;&gt;</code> delimits by whitespace."}, {"owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "edited": false, "score": 0, "creation_date": 1425498773, "post_id": 28863071, "comment_id": 45992313, "body": "0x499602D2 I want to use while loops. I updated the code above to show what I mean. Instead of &quot;brown, blue&quot;, it now reads &quot;brown blue&quot;."}], "answers": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": false, "score": 0, "last_activity_date": 1425498073, "last_edit_date": 1425498073, "creation_date": 1425497645, "answer_id": 28863281, "question_id": 28863071, "link": "https://stackoverflow.com/questions/28863071/using-stringstream-only-working-for-first-value/28863281#28863281", "title": "Using stringstream: Only working for first value", "body": "<p><code>ss.peek() == ','</code> becomes true at the end of the first loop. Use <code>std::getline</code> so you won't have this problem:</p>\n\n<pre><code>if (getline(ss, Name) &amp;&amp; getline(ss, car) &amp;&amp; ss &gt;&gt; weight &amp;&amp; getline((ss &gt;&gt; std::ws).ignore(), hairColor))\n{\n    cout &lt;&lt; \"Name is: \" &lt;&lt; Name &lt;&lt; endl;\n    cout &lt;&lt; \"car is: \" &lt;&lt; car &lt;&lt; endl;\n    cout &lt;&lt; \"weight is: \" &lt;&lt; weight &lt;&lt; endl;\n    cout &lt;&lt; \"Hair color is: \" &lt;&lt; hairColor &lt;&lt; endl;\n    cout &lt;&lt; \"Eye color is: \" &lt;&lt; eyeColor &lt;&lt; endl;\n    cout &lt;&lt; \"Favorite color is: \" &lt;&lt; favoriteColor &lt;&lt; endl;\n}\n</code></pre>\n"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": false, "score": 1, "last_activity_date": 1425500350, "creation_date": 1425500350, "answer_id": 28864099, "question_id": 28863071, "link": "https://stackoverflow.com/questions/28863071/using-stringstream-only-working-for-first-value/28864099#28864099", "title": "Using stringstream: Only working for first value", "body": "<p>The immediate problem is that after the first loop the continuation condition is <code>false</code>, so none of the following loops, with the same continuation condition, do anything.</p>\n\n<p>However, the usual way to extract an item is to use the <code>getline</code> function, where you can specify an arbitrary delimiter character instead of newline.</p>\n\n<p>Doing this properly is a bit involved:</p>\n\n<pre><code>#include &lt;iomanip&gt;              // std::setw\n#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;            // std::runtime_error, std::exception\n#include &lt;stdlib.h&gt;             // EXIT_FAILURE, EXIT_SUCCESS\n#include &lt;sstream&gt;              // std::istringstream\nusing namespace std;\n\nauto fail( const string&amp; s ) -&gt; bool { throw runtime_error( s ); }\n\nauto get_string( istream&amp; stream, const char delimiter = ',' )\n    -&gt; string\n{\n    while( stream.peek() == ' ' )\n    {\n        stream.get();\n    }\n    string result;\n    getline( stream, result, delimiter )\n        || fail( \"get_string: failed to extract text\" );\n    return result;\n}\n\ntemplate&lt; class Type &gt;\nauto get( istream&amp; stream, const char delimiter = ',' )\n    -&gt; Type\n{\n    istringstream conversion_stream( get_string( stream, delimiter ) );\n    Type result;\n    conversion_stream &gt;&gt; result\n        || fail( \"get: failed to convert text to value\" );\n    return result;\n}\n\ntemplate&lt;&gt;\nauto get&lt;string&gt;( istream&amp; stream, const char delimiter )\n    -&gt; string\n{ return get_string( stream, delimiter ); }\n\ntemplate&lt; class Type &gt;\nvoid display( const char name[], const Type&amp; value )\n{\n    cout &lt;&lt; setw( 15 ) &lt;&lt; name &lt;&lt; \" = \" &lt;&lt; value &lt;&lt; endl;\n}\n\n#define DISPLAY( x ) display( #x, x )\nvoid cpp_main()\n{\n    istringstream data_stream( \"John Smith, Toyota, 160, brown, blue, orange\" );\n\n    const auto name             = get&lt;string&gt;( data_stream );\n    const auto car              = get&lt;string&gt;( data_stream );\n    const auto weight           = get&lt;int&gt;( data_stream );\n    const auto hairColor        = get&lt;string&gt;( data_stream );\n    const auto eyeColor         = get&lt;string&gt;( data_stream );\n    const auto favoriteColor    = get&lt;string&gt;( data_stream );\n\n    DISPLAY( name );\n    DISPLAY( car );\n    DISPLAY( weight );\n    DISPLAY( hairColor );\n    DISPLAY( eyeColor );\n    DISPLAY( favoriteColor );\n}\n\nauto main() -&gt; int\n{\n    try\n    {\n        cpp_main();\n        return EXIT_SUCCESS;\n    }\n    catch( const exception&amp; x )\n    {\n        cerr &lt;&lt; \"!\" &lt;&lt; x.what() &lt;&lt; endl;\n    }\n    return EXIT_FAILURE;\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4233869, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GmXnd.jpg?s=128&g=1", "display_name": "JCoder", "link": "https://stackoverflow.com/users/4233869/jcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425500350, "creation_date": 1425497017, "last_edit_date": 1425498703, "question_id": 28863071, "link": "https://stackoverflow.com/questions/28863071/using-stringstream-only-working-for-first-value", "title": "Using stringstream: Only working for first value", "body": "<p>I am trying to use stringstream with peek() and get(n). It is only working for the first value, Name, and then gives empty values for everything except weight, which gives 0 (when printing out with cout).</p>\n\n<pre><code>    stringstream ss;\n    ss.str(\"John Smith, Toyota, 160, brown blue, orange\");\n    //Extract into these variables:\n    string Name = \"\" ;\n    string car = \"\" ;\n    int weight = 0;\n    string hairColor = \"\";\n    string eyeColor = \"\";\n    string favoriteColor = \"\";\n\n\n\n\n\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            Name += temp;\n        }\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            car += temp;\n        }\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            weight += temp;\n        }\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            hairColor += temp;\n        }\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            eyeColor += temp;\n        }\nwhile (ss.peek () != ',')\n        {\n            char temp;\n            ss. get(temp);\n            favoriteColor += temp;\n        }\n\n\ncout &lt;&lt; \"Name is: \" &lt;&lt; Name &lt;&lt; endl;\ncout &lt;&lt; \"car is: \" &lt;&lt; car &lt;&lt; endl;\ncout &lt;&lt; \"weight is: \" &lt;&lt; weight &lt;&lt; endl;\ncout &lt;&lt; \"Hair color is: \" &lt;&lt; hairColor &lt;&lt; endl;\ncout &lt;&lt; \"Eye color is: \" &lt;&lt; eyeColor &lt;&lt; endl;\ncout &lt;&lt; \"Favorite color is: \" &lt;&lt; favoriteColor &lt;&lt; endl;\n</code></pre>\n\n<p>What is the problem here?</p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 3420, "user_id": 424632, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec99692fd9664c4f4558a6d0d020a058?s=128&d=identicon&r=PG", "display_name": "musiphil", "link": "https://stackoverflow.com/users/424632/musiphil"}, "edited": false, "score": 1, "creation_date": 1425496944, "post_id": 28862947, "comment_id": 45991300, "body": "I guess they wanted to support types that only has <code>+</code> but not <code>+=</code>, though I find it hard to recognize why one would not define <code>+</code> but not <code>+=</code> for a type."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1425497040, "post_id": 28862947, "comment_id": 45991355, "body": "It&#39;s a choice of a single interface: a + b sounds reasonable (having less requirements, it implies +=)."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425674849, "post_id": 28862947, "comment_id": 46074138, "body": "@DieterL&#252;cking While <code>a + b</code> has less requirements, <code>a = a + b</code> implies <code>a += b</code> is valid in any sane situation I can think of."}], "answers": [{"comments": [{"owner": {"reputation": 3420, "user_id": 424632, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec99692fd9664c4f4558a6d0d020a058?s=128&d=identicon&r=PG", "display_name": "musiphil", "link": "https://stackoverflow.com/users/424632/musiphil"}, "edited": false, "score": 0, "creation_date": 1425497150, "post_id": 28863042, "comment_id": 45991413, "body": "Can you think of an example where you would support <code>+</code> and <code>=</code> but not <code>+=</code>? (I&#39;ve even learned over the years that, under the hood, <code>+=</code> is a more fundamental operation and that you define <code>+</code> in terms of <code>+=</code>.)"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 3420, "user_id": 424632, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec99692fd9664c4f4558a6d0d020a058?s=128&d=identicon&r=PG", "display_name": "musiphil", "link": "https://stackoverflow.com/users/424632/musiphil"}, "edited": false, "score": 0, "creation_date": 1425497307, "post_id": 28863042, "comment_id": 45991511, "body": "@musiphil: I&#39;m not sure of examples where it really makes <i>sense</i>, but I&#39;ve seen a fair number that actually <i>did</i> support <code>+</code> and <code>=</code>, but not <code>+=</code>. I think in many (most?) cases it&#39;s a simple oversight, much like early code using iterators typically used <code>(*iterator).x</code> instead of <code>iterator-&gt;x</code>, because some (many?) early iterator implementations failed to provide working overloads of <code>-&gt;</code>."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1425500723, "post_id": 28863042, "comment_id": 45993459, "body": "It may be possible that for a given type <code>T</code>, an expression like <code>T+T</code> will not give a <code>T</code> value as a result... Such a type can have <code>+</code>and <code>=</code> both overloaded but not <code>+=</code>. Another possibility is like <code>*</code> for matrices, for which the product is a matrix but a necessary new matrix, it is not possible to define <code>*=</code> for a matrix..."}, {"owner": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "edited": false, "score": 2, "creation_date": 1425506169, "post_id": 28863042, "comment_id": 45996527, "body": "Maybe its a type that you cannot extend further and the only way is to apply the global <code>operator</code> function?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1425654662, "post_id": 28863042, "comment_id": 46062627, "body": "@Jean-BaptisteYun&#232;s However, we need <code>Y = Y*T</code> to be valid, but <code>Y *= T</code> to not be valid.  In both of those cases, <code>Y = Y*T</code> does not hold, so not defining <code>Y*=T</code> makes sense."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425657106, "post_id": 28863042, "comment_id": 46064251, "body": "@Yakk. I disagree. Y = Y<i>T is correct, it means that you want to store the result of Y</i>T into Y. But Y *= T means something more strong, changing Y, not replacing Y."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1425660011, "post_id": 28863042, "comment_id": 46066147, "body": "@Jean-BaptisteYun&#232;s Please give a concrete example where <code>Y=Y*T</code> is correct but <code>Y*=T</code> makes no sense for concrete types <code>Y</code> and <code>T</code> (for either <code>*</code> or <code>+</code>).  (Naturally <code>Y</code> is a logically mutable type, or you couldn&#39;t assign to it).  Matrices are not one -- if <code>T</code> is a matrix type such that <code>Y*T</code> is type compatible with assigning to <code>Y</code>, <code>Y*=T</code> makes perfect sense.  An example of such a type might exist, but I cannot think of one off the top of my head.  Can you?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "edited": false, "score": 0, "creation_date": 1425670072, "post_id": 28863042, "comment_id": 46071651, "body": "@Serthy then just write <code>X&amp;+=Y</code> instead of <code>X = X+Y</code>?  You could even write the first in terms of the second."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425675780, "post_id": 28863042, "comment_id": 46074543, "body": "@Yakk. Suppose you don&#39;t have operator overloading, would you naturally write a multiplyAndAssign function for matrices? Certainly not. Why using operator overloading would change something? This is exactly why, overwriting * and = don&#39;t provide you an automatic overloading of *=."}], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 10, "last_activity_date": 1425496898, "creation_date": 1425496898, "answer_id": 28863042, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op/28863042#28863042", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<p>It might be more efficient, and would clearly be less verbose.</p>\n\n<p>The usual reason for doing things this way is to minimize the requirements on the underlying type. If you used <code>+=</code>, then the underlying type would have to support <code>+=</code>. For something like <code>int</code> that's trivial and already present, but for a class you define, it's entirely possible would define <code>+</code> and <code>=</code>, but not the compound <code>+=</code> (in which case, code that used <code>+=</code> would obviously fail).</p>\n"}, {"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425497208, "post_id": 28863123, "comment_id": 45991443, "body": "An argument for <code>std::plus_assign</code> if I ever heard one"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1425497326, "post_id": 28863123, "comment_id": 45991516, "body": "@Yakk There is no such function in C++ Standard at list neither in C++ 2003 nor in C++ 2011. As an idea then it is a good idea."}], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1425497175, "creation_date": 1425497175, "answer_id": 28863123, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op/28863123#28863123", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<p>In my opinion the main reason is that you could use standard functional object <code>std::plus</code> and get the same result as with <code>operator +</code> the same way as using <code>operator &lt;</code> and standard functional object <code>std::less</code> in sorting algorithms like <code>std::sort</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425497248, "post_id": 28863128, "comment_id": 45991475, "body": "The <code>stl</code> does predate the standard, however.  If the pre-standard stl had <code>accumulate</code> and it was defined differently, then the standard (would probably) be different as well.  So the above answer is both definitive, and just kicking the can down the road."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425497797, "post_id": 28863128, "comment_id": 45991783, "body": "<i>nod</i>.  I suspect the real answer is something along the lines &quot;the idea that <code>+=</code> is a more fundamental operation than <code>+</code> is something that developed over the last 3 decades of C++ operator overloading, and was not nearly as obvious at the time <code>std::accumulate</code>&#39;s precursor was written as it would be today.  So it was written using the &quot;more simple&quot; <code>x = x + y;</code> formulation, and the legacy remains with us today&quot;, but I am too lazy to do the research myself.  :)"}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1425497988, "post_id": 28863128, "comment_id": 45991892, "body": "@Yakk: Yeah, one feels like a <a href=\"http://www.sgi.com/tech/stl/FAQ.html\" rel=\"nofollow noreferrer\">archaeologist</a>: &quot;Is the STL Y2K compliant?&quot; (FAQ entry). That being said, our short excavation of STL&#39;s tomb needs to be delayed till tomorrow :(."}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 2, "creation_date": 1425586771, "post_id": 28863128, "comment_id": 46035112, "body": "@Yakk: Allright. I wrote an email. To the wrong person, but at least I wrote one. Stroustrup himself would have used <code>+=</code>, so I <i>guess</i> it&#39;s most likely Stepanov&#39;s personal preference. I&#39;ll write him an email tomorrow."}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425653735, "post_id": 28863128, "comment_id": 46062012, "body": "So, what <b><i>I</i></b> personally learned from this: you can just ask the big ones some questions. However, I would never bother them with day-to-day questions \u2013 that&#39;s something for StackOverflow."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 2, "creation_date": 1425654577, "post_id": 28863128, "comment_id": 46062568, "body": "awesome!  I can only upvote this once, but I can upvote the question above as well.  It makes sense it was a seemingly random decision made years ago.  @Serthy made a great point below: if you have a type <code>T</code> with <code>int = int*T</code> and <code>int = T*int</code> overloaded, you can accumulate into an <code>int</code> without a <code>binop</code>.  There is, however, <i>no way to overload <code>int*=T</code></i>."}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425658651, "post_id": 28863128, "comment_id": 46065286, "body": "@Yakk: Err, isn&#39;t it possible to simply define <code>const int&amp; operator+=(int&amp;, const UserType&amp;)</code>? It compiles, but I don&#39;t have the standard at hand to check whether it&#39;s conform: <a href=\"http://coliru.stacked-crooked.com/a/1ef34fa28cfbcaf8\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/1ef34fa28cfbcaf8</a>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1425659844, "post_id": 28863128, "comment_id": 46066024, "body": "huh, I didn&#39;t know you could write a free <code>+=</code>.  Learn something new everyday!"}], "owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "is_accepted": true, "score": 15, "last_activity_date": 1425653669, "last_edit_date": 1425653669, "creation_date": 1425497194, "answer_id": 28863128, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op/28863128#28863128", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<h2>It is defined like this in the standard\u2026</h2>\n\n<p>The standard is defined in terms of <code>+</code>, not <code>+=</code>:</p>\n\n<blockquote>\n  <h3>26.7.2 Accumulate <code>[accumulate]</code></h3>\n\n<pre><code>template &lt;class InputIterator, class T&gt;\n  T accumulate(InputIterator first, InputIterator last, T init);\ntemplate &lt;class InputIterator, class T, class BinaryOperation&gt;\n  T accumulate(InputIterator first, InputIterator last, T init,\n               BinaryOperation binary_op);\n</code></pre>\n  \n  <p>Effects: Computes its result by initializing the accumulator <code>acc</code> with the initial value <code>init</code> and then modifies it with <code>acc = acc + *i</code> or a<code>cc = binary_op(acc, *i)</code> for every iterator <code>i</code> in the range\n  <code>[first,last)</code> in order.</p>\n</blockquote>\n\n<p>Same holds for other numerical algorithms. </p>\n\n<h2>\u2026and the standard is based on STL\u2026</h2>\n\n<p>But that's the reason why they're <em>implemented</em> like this nowadays. However, to learn about the original reason, one needs to <a href=\"http://www.sgi.com/tech/stl/accumulate.html\" rel=\"noreferrer\">go further down the rabbit hole</a>:</p>\n\n<blockquote>\n  <h3>Requirements on types</h3>\n  \n  <p>For the first version, the one that takes two arguments:</p>\n  \n  <ul>\n  <li><code>InputIterator</code> is a model of Input Iterator.</li>\n  <li><code>T</code> is a model of Assignable.</li>\n  <li>If <code>x</code> is an object of type <code>T</code> and <code>y</code> is an object of <code>InputIterator</code>'s <code>value</code> type, then <code>x + y</code> is defined.</li>\n  <li>The return type of <code>x + y</code> is convertible to <code>T</code>. </li>\n  </ul>\n</blockquote>\n\n<h2>\u2026and the STL has been created by\u2026?</h2>\n\n<p>So, why is that? Lets ask Alexander Stepanov, the mind behind STL:</p>\n\n<blockquote>\n  <p>[A] user has asked a [question] on StackOverflow two days ago concerning\n  the implementation and formulation of numerical algorithms like\n  <code>accumulate</code> or <code>inner_product</code>, which are defined in terms of <code>+</code>\n  instead of <code>+=</code> (section 26.7 in ISO C++11).</p>\n  \n  <p>I've tried to find some rationale behind the decision, but even the\n  version on SGI's page doesn't mention anything regarding this\n  particular choice of the operator.</p>\n  \n  <p>Was the choice of the operator (a = a + b instead of a += b) only\n  based on your personal preference, as some comments assume? Was a+b\n  the more natural way to write the operation back then? Or was it\n  simply a matter of symmetry between a = a +b and a = bin_op(a,b)?</p>\n  \n  <p>-- [Zeta]</p>\n</blockquote>\n\n<p>Now, before you read his answer, remember that he started to write a generic library about ~30 years ago, and his and Meng Lee's initial document <a href=\"http://www.stepanovpapers.com/STL/DOC.PDF\" rel=\"noreferrer\">The Standard Template Library</a> will have its twenty years anniversary this October. Without further ado, I present his answer:</p>\n\n<blockquote>\n  <p>I suspect that it was a matter of symmetry between a = a + b and a = bin_op(a,b), but I really do not remember. I should have written a rationale document stating all the reasoning between different design choices in STL, but I did not. Sorry.</p>\n</blockquote>\n\n<p><sup>(If Stepanov reads this by any chance: thanks again for your answer!)</sup></p>\n\n<p>I <em>personally</em> believe that the inspiration by Common Lisp's <code>reduce</code> has been another factor, but that's just speculation.</p>\n\n<h2>What can one learn from this?</h2>\n\n<p>Sometimes, decision in a standard are based on personal preference and elegance. For example, if Stroustrup had written the STL, he would have \"strongly prefer[ed] the use of a+=b as being a more direct expression of intent and typically faster than a=a+b\". However, I have to admit that the symmetry between a = a+b and a=bin_op(a,b) has its own beauty.</p>\n\n<p>That being said, this <code>a+=b</code> and <code>a=a+b</code> controversy will promote challenges:</p>\n\n<blockquote>\n  <p>This issue will become very important when we define standard concepts, and I do not know how it will be resolved. [Stroustrup; also thanks to him for answering my question!]</p>\n</blockquote>\n\n<p>That's all, I hope you've enjoyed the ride through a little bit of C++ history.</p>\n"}, {"comments": [{"owner": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 1, "creation_date": 1426189049, "post_id": 29011259, "comment_id": 46281416, "body": "Re (B): tried <code>std::accumulate</code> on a vector of <code>std::string</code>? Maybe compiler 30 years <i>from now</i> will be able to optimize that into code that is as efficient as a version using <code>+=</code>."}, {"owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "reply_to_user": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426195170, "post_id": 29011259, "comment_id": 46284399, "body": "@MarcMutz-mmutz Three problems: A. Why are you using strings in performance sensitive parts of your code? B. What&#39;s the accumulator? Are you sure in your case += is faster than +? C. If your accumulator is so hard to construct repeatedly that you have to resort to mutable states, then you could just do <code>for ( item : collection ) acc += item;</code> instead of reaching for functional stuff."}, {"owner": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426208473, "post_id": 29011259, "comment_id": 46289120, "body": "A) I didn&#39;t say this is performance-critical code. But even so, quadratic behaviour <i>will</i> be noticable. B) std::string (so accumulate concatenates all strings in the vector). And yes. (Big-)Oh yes. C) I&#39;m a disciple of Alex Stepanov and Sean Parent. I don&#39;t write Raw Loops..."}, {"owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "reply_to_user": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426220985, "post_id": 29011259, "comment_id": 46292323, "body": "@MarcMutz-mmutz As I understand it, &#39;raw loop&#39; means manual incrementation of loop counter, which is not what I wrote in the previous comment.  If however, you really want to use the functional style while still have mutable state, you can always pass in a lambda that closes over an external variable and achieve the same thing."}, {"owner": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426247622, "post_id": 29011259, "comment_id": 46303946, "body": "(Raw Loops) No, I use Sean Parent&#39;s definition: <a href=\"http://channel9.msdn.com/Events/GoingNative/2013/Cpp-Seasoning\" rel=\"nofollow noreferrer\">channel9.msdn.com/Events/GoingNative/2013/Cpp-Seasoning</a> (Mutable State) I think you misunderstand. This is not Haskell. <code>std::accumulate</code> doesn&#39;t recurse, it iterates, so it needs mutable state: the accumulator. The question here is <i>how</i> it mutates it: <code>acc = acc + next</code> or <code>acc += next</code>. Since <code>+</code> creates a tmp. <code>std::string</code> on each loop iteration, this is <i>O(N&#178;)</i> overall. For <code>+=</code>, the complexity is <i>O(N)</i>. The result should be identical, for regular additive types."}, {"owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "reply_to_user": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426250323, "post_id": 29011259, "comment_id": 46305714, "body": "And what does a Haskell compiler do other than transforming high level functional constructed into low level implementation details?  We are still running von neumann machines and there will be mutable state if you care to look down far enough.  The whole point is to move away from explicitly representing that mutable state whenever you can."}, {"owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "reply_to_user": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "edited": false, "score": 0, "creation_date": 1426255700, "post_id": 29011259, "comment_id": 46309520, "body": "If the authors had actually wanted mutable state, they should have let you pass the initial value by reference instead of by value.  Besides, this is defined in &lt;numeric&gt;, which implies that the operands are supposed to be lightweight values, not ugly reference types such as <code>std::string</code>."}], "owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426167320, "creation_date": 1426167320, "answer_id": 29011259, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op/29011259#29011259", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<p>There are plenty of reasons for using + instead of +=.</p>\n\n<p>A. Because it is the correct way.  <a href=\"http://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow\">Accumulate is fold</a>, a functor (a function that maps functions to functions) that operates on +, not +=.  Why + instead of +=?  Because += is not a mathematical function.</p>\n\n<p>B. It is more efficient (on modern compilers, on all primitive types and well-designed objects).  += might be faster for compilers 30 years ago, but + is faster now, unless what you are accumulating is a monstrous object with too much OO.  Object lifetime analysis is easier done on const objects rather than references.</p>\n\n<p>C. It is clearer.  This reason is really not substantially different from (A).  + is clearer than +=.  Clarity trumps verbosity.</p>\n"}, {"owner": {"reputation": 22733, "user_id": 134841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51b7f05de9889e7212f949f0fd975922?s=128&d=identicon&r=PG", "display_name": "Marc Mutz - mmutz", "link": "https://stackoverflow.com/users/134841/marc-mutz-mmutz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426189479, "creation_date": 1426189479, "answer_id": 29018909, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op/29018909#29018909", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<p>The truth, I guess, is reuse. The rest of the STL is using binary <em>operators</em> while <code>+=</code> is an <em>action</em>. So there's <code>plus</code>, <code>multiplies</code>, etc, but no <code>add_action</code> (say). Operators and actions are completely symmetric, but if you implement more than 90 algorithms, at some point you'll probably have to stop adding new concepts and Ship It.</p>\n\n<p>Alex has said that he never intended for his STL to be the end of all STL development, esp. since the standardized version contains only a fraction of what he originally proposed. This is an obvious extension.</p>\n"}], "owner": {"reputation": 6911, "user_id": 2970186, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Vo0Wc.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2970186/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 1, "accepted_answer_id": 28863128, "answer_count": 5, "score": 8, "last_activity_date": 1426189479, "creation_date": 1425496628, "last_edit_date": 1425724796, "question_id": 28862947, "link": "https://stackoverflow.com/questions/28862947/why-do-stl-numeric-algorithms-use-op-rather-than-op", "title": "Why do STL numeric algorithms use &#39;op&#39; rather than &#39;op=&#39;?", "body": "<p>Why do <code>std::numeric</code> algorithms seem to prefer <strong><em>op</em></strong> instead of <strong><em>op=</em></strong>? For example, here is the implementation of <code>std::accumulate</code> in LLVM:</p>\n\n<pre><code>template &lt;class _InputIterator, class _Tp&gt;\ninline _LIBCPP_INLINE_VISIBILITY\n_Tp\naccumulate(_InputIterator __first, _InputIterator __last, _Tp __init)\n{\n    for (; __first != __last; ++__first)\n        __init = __init + *__first;\n    return __init;\n}\n</code></pre>\n\n<p>Would this not be potentially more efficient/less verbose/better if implemented using the <code>+=</code> operator?</p>\n"}, {"tags": ["c++", "c++11", "random", "wolfram-mathematica", "random-sample"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1425497257, "post_id": 28862895, "comment_id": 45991481, "body": "What do you mean by &quot;with different seeds I never get the same&quot;? Why would you get the same total of a sum of random numbers if the random numbers are different in each case?"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1425497470, "post_id": 28862895, "comment_id": 45991598, "body": "Sorry that is missunderstanding, its never the same of course, but the results never match! (edit this)"}, {"owner": {"reputation": 70803, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 0, "creation_date": 1425498155, "post_id": 28862895, "comment_id": 45991991, "body": "With all the arbitrary constants and formulas going on here, it might take a while for people to sift through it and find the problem.  It would be better if you could simplify your code as much possible.  Maybe you made a simple typo in one of the numbers, and you would find it by simplifying."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425498692, "post_id": 28862895, "comment_id": 45992282, "body": "You are right, I am still looking at it, i simplified as much as possible, I am still trying to make it more simple, but thats what it boils down to..."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425498770, "post_id": 28862895, "comment_id": 45992312, "body": "Simplifed the C++ code,"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1425499039, "post_id": 28862895, "comment_id": 45992481, "body": "How is that anywhere near &quot;as much as possible&quot;.  Have you shown it does or does not happen with 2 intervals?  Even one interval?"}, {"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 3, "creation_date": 1425499121, "post_id": 28862895, "comment_id": 45992535, "body": "You should histogram the random numbers generated by your C++ code and compare them to the expected pdf. That can help to further diagnose what&#39;s going on."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425499244, "post_id": 28862895, "comment_id": 45992611, "body": "Jeah, may be, its is strange tough why Mathematica has such a huge difference compared to the C++ version (for me this is critical!)"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 3, "creation_date": 1425500021, "post_id": 28862895, "comment_id": 45993059, "body": "When I randomize the seed, your code gives results in the range 4.32788 kg - 4.33053 kg though, so you&#39;re right that there&#39;s a quirk somewhere.  <a href=\"http://coliru.stacked-crooked.com/a/80f1ed73907c6032\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/80f1ed73907c6032</a>  My money is on floating-point inaccuracy."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1425500469, "post_id": 28862895, "comment_id": 45993315, "body": "C++ piecewise_constant_distribution looks good to me: <a href=\"http://coliru.stacked-crooked.com/a/bbb514454ade1597\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/bbb514454ade1597</a> all ranges found within a fifth of a percent of expectation."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425501254, "post_id": 28862895, "comment_id": 45993790, "body": "I added some Reduction step, to sum up all values (it does not help)"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425501544, "post_id": 28862895, "comment_id": 45993950, "body": "@Mooing Duck: The test is good, but it seems there is some accuracy error in the standart library implementation of gcc"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425501771, "post_id": 28862895, "comment_id": 45994096, "body": "also <code>boost::random::piecewise_constant_distribution</code> gives the same <a href=\"http://coliru.stacked-crooked.com/a/bc44a501ccc0564d\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/bc44a501ccc0564d</a>"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425502481, "post_id": 28862895, "comment_id": 45994481, "body": "@Gabriel: That&#39;s pretty much proof right there that it&#39;s not the fault of piecewise_constant_distribution sampling and is entirely due to floating point rounding.  The problem is this line here: <code>mass += d*d*d&#47;3.0*M_PI_2*density;</code>"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425502687, "post_id": 28862895, "comment_id": 45994594, "body": "ok, but then how can mathematica be more precise (or unprecise who knows) , it also works with machine precision as set by the algorithm, that sucks :-)"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1425503117, "post_id": 28862895, "comment_id": 45994855, "body": "@Gabriel: Are you sure you didn&#39;t want <code>std::piecewise_linear_distribution</code> it approximates much closer to what Mathematica has"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425512676, "post_id": 28862895, "comment_id": 45999245, "body": "mathematica is correct: <a href=\"http://mathematica.stackexchange.com/questions/76444/random-numbers-in-c-and-mathematica-gives-wrong-results/76448#76448\" title=\"random numbers in c and mathematica gives wrong results\">mathematica.stackexchange.com/questions/76444/&hellip;</a>"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425512936, "post_id": 28862895, "comment_id": 45999349, "body": "@ AndyG:  piecewise_linear are linear functions , how can you moddel jumps with linear function, that does not work, I think piecewise_constant is the correct distribution"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425513197, "post_id": 28862895, "comment_id": 45999455, "body": "@ Mooing Duck: I also tried to do the accumulation with a reduction: <a href=\"http://coliru.stacked-crooked.com/a/727b6bc4d0118af2\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/727b6bc4d0118af2</a> which unfortunately did not help to increase accuracy"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425513304, "post_id": 28862895, "comment_id": 45999489, "body": "<code>long double</code> does not help : <a href=\"http://coliru.stacked-crooked.com/a/9a8131c4da0ee473\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/9a8131c4da0ee473</a>"}, {"owner": {"reputation": 14898, "user_id": 1133179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e3a760e170dcbd539461a86a397f1abe?s=128&d=identicon&r=PG", "display_name": "luk32", "link": "https://stackoverflow.com/users/1133179/luk32"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1425552810, "post_id": 28862895, "comment_id": 46014225, "body": "@Jongware What is <code>std</code>s random? <a href=\"http://en.cppreference.com/w/cpp/numeric/random/piecewise_constant_distribution\" rel=\"nofollow noreferrer\"><code>std::piecewise_constant_distribution</code></a>: &quot;<i>produces random floating-point numbers, which are uniformly distributed within each of the several subintervals</i>&quot;. And Mooing duck checked it looks ok."}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 1, "creation_date": 1425556356, "post_id": 28862895, "comment_id": 46016288, "body": "Surprised that no one asked which compiler and standard library was used and their versions."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425556775, "post_id": 28862895, "comment_id": 46016505, "body": "gcc, clang  on ubuntu (clang uses the gcc 4.8.2 standart library)"}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1425558668, "post_id": 28862895, "comment_id": 46017558, "body": "dump the c generated values to a file, read into mathematica and start generating histograms to validate the distribution. also let mathematica sum them up to see if the precision is the issue.  the difference is order 10^-7 per value, a bit big to pass off as a simple floading point problem."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425565086, "post_id": 28862895, "comment_id": 46021421, "body": "Read in the numbers (64bit doubles) generated from Mathematica into C++ -&gt; calculated the sum -&gt;  and it gives the same as Mathematica <b>Mass computed by reduction:                             4.52528010260687096888432279229</b> Next is the inverse, read in the numbers into Mathematica"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425569053, "post_id": 28862895, "comment_id": 46024146, "body": "OK Folks: <b>The densities are calculated wrongly in <code>std::piecewise_constant_distribution</code> or am I nuts!???</b> See here for a simple example: <a href=\"http://coliru.stacked-crooked.com/a/ca171bf600b5148f\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/ca171bf600b5148f</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "edited": false, "score": 0, "creation_date": 1425564762, "post_id": 28877288, "comment_id": 46021231, "body": "I am just doing a test if the random numbers generated form mathematica (64 bit doubles)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1425577896, "post_id": 28877288, "comment_id": 46029987, "body": "&quot;C++ uses IEEE 754 floating point numbers&quot; - no, it doesn&#39;t have to."}], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 2, "last_activity_date": 1502900609, "last_edit_date": 1502900609, "creation_date": 1425556466, "answer_id": 28877288, "question_id": 28862895, "link": "https://stackoverflow.com/questions/28862895/floating-point-math-rounding-weird-in-c-compared-to-mathematica/28877288#28877288", "title": "Floating point math rounding weird in C++ compared to mathematica", "body": "<p>[The following paragraph was edited for correctness. --Editor's note]</p>\n\n<p>Mathematica may or may not use IEEE 754 floating point numbers.  From the Wolfram documentation:</p>\n\n<blockquote>\n  <p>The Wolfram Language has sophisticated built-in automatic numerical precision and accuracy control. But for special-purpose optimization of numerical computations, or for studying numerical analysis, the Wolfram Language also allows detailed control over precision and accuracy.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The Wolfram Language handles both integers and real numbers with any number of digits, automatically tagging numerical precision when appropriate. The Wolfram Language internally uses several highly optimized number representations, but nevertheless provides a uniform interface for digit and precision manipulation, while allowing numerical analysts to study representation details when desired. </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425572443, "post_id": 28881509, "comment_id": 46026436, "body": "This is incorrect. The densities returned by <code>piecewise_constant_distribution::densities()</code> are scaled by the width of their corresponding intervals. Your calculations do not take this into account. In your example, the second interval should have a density four times that of the first, because its weight is twice the weight of the first&#39;s and the interval is half the width of the first. This relationship holds as expected for the densities returned by <code>piecewise_constant_distribution</code>, but it does not for your calculations."}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425575650, "post_id": 28881509, "comment_id": 46028524, "body": "Jason you should remove this comment, as it does not apply anymore to the post. Thanks for the very good input, maybee add it on top"}], "owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "is_accepted": false, "score": 2, "last_activity_date": 1425575543, "last_edit_date": 1425575543, "creation_date": 1425569222, "answer_id": 28881509, "question_id": 28862895, "link": "https://stackoverflow.com/questions/28862895/floating-point-math-rounding-weird-in-c-compared-to-mathematica/28881509#28881509", "title": "Floating point math rounding weird in C++ compared to mathematica", "body": "<p>It seems that the formula for the probabilities is wrongly written for  <code>std::piecewise_constant_distribution</code> on\n <a href=\"http://www.cplusplus.com/reference/random/piecewise_constant_distribution/\" rel=\"nofollow\">http://www.cplusplus.com/reference/random/piecewise_constant_distribution/</a></p>\n\n<p>The summation of the weights is done without the interval lengths multiplied!</p>\n\n<p><strong>The correct formula is:</strong> \n<a href=\"http://en.cppreference.com/w/cpp/numeric/random/piecewise_constant_distribution\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/numeric/random/piecewise_constant_distribution</a></p>\n\n<p>This solves every stupid quirk previously discovered as bug/floating point error and so on!</p>\n"}], "owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 6, "answer_count": 2, "score": 8, "last_activity_date": 1502900609, "creation_date": 1425496449, "last_edit_date": 1492088136, "question_id": 28862895, "link": "https://stackoverflow.com/questions/28862895/floating-point-math-rounding-weird-in-c-compared-to-mathematica", "title": "Floating point math rounding weird in C++ compared to mathematica", "body": "<p><strong>The following post is solved,the problem occurred because of miss interpretation of the formula on <a href=\"http://www.cplusplus.com/reference/random/piecewise_constant_distribution/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/reference/random/piecewise_constant_distribution/</a>  The reader is strongly encouraged to consider the page: <a href=\"http://en.cppreference.com/w/cpp/numeric/random/piecewise_constant_distribution\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/numeric/random/piecewise_constant_distribution</a></strong></p>\n\n<p>I have the following strange phenomenon which puzzles me!:</p>\n\n<p>I have a <strong>piecewise constant probability density</strong> given as</p>\n\n<pre><code>using RandomGenType = std::mt19937_64;\nRandomGenType gen(51651651651);\n\nusing PREC = long double;\nstd::array&lt;PREC,5&gt; intervals {0.59, 0.7, 0.85, 1, 1.18};\nstd::array&lt;PREC,4&gt; weights {1.36814, 1.99139, 0.29116, 0.039562};\n\n // integral over the pdf to normalize:\nPREC normalization =0;\nfor(unsigned int i=0;i&lt;4;i++){\n    normalization += weights[i]*(intervals[i+1]-intervals[i]);\n}\nstd::cout &lt;&lt; std::setprecision(30) &lt;&lt; \"Normalization: \" &lt;&lt; normalization &lt;&lt; std::endl;\n// normalize all weights (such that the integral gives 1)!\nfor(auto &amp; w : weights){\n    w /= normalization;\n}\n\nstd::piecewise_constant_distribution&lt;PREC&gt;\ndistribution (intervals.begin(),intervals.end(),weights.begin());\n</code></pre>\n\n<p>When I draw <code>n</code> random numbers (radius of sphere in millimeters) from this distribution and compute the mass of the sphere and sum them up like:</p>\n\n<pre><code>unsigned int n = 1000000;\ndouble density = 2400;\ndouble mass = 0;\n\nfor(int i=0;i&lt;n;i++){\n    auto d = 2* distribution(gen) * 1e-3;\n    mass += d*d*d/3.0*M_PI_2*density;\n}\n</code></pre>\n\n<p>I get <strong>mass = 4.3283 kg</strong>  (see LIVE <a href=\"http://coliru.stacked-crooked.com/a/6c9d062f5153ce9e\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Doing the EXACT identical thing in Mathematica like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gjekK.png\" alt=\"Graphic\"></p>\n\n<p>Gives the assumably correct value of <strong>4.5287 kg</strong>. (see <a href=\"https://mathematica.stackexchange.com/questions/76444/random-numbers-in-c-and-mathematica-gives-wrong-results/76448#76448\">mathematica</a>)</p>\n\n<p>Which is not the same, also with different seeds , C++ and Mathematica never match! ? Is that numeric inaccuracy, which I doubt it is...?\n<strong>Question : What the hack is wrong with the sampling in C++?</strong></p>\n\n<p><strong>Simple Mathematica Code:</strong></p>\n\n<pre><code>pdf[r_] = 2*Piecewise[{{0, r &lt; 0.59}, {1.36814, 0.59 &lt;= r &lt;= 0.7}, \n           {1.99139, Inequality[0.7, Less, r, LessEqual, 0.85]}, \n           {0.29116, Inequality[0.85, Less, r, LessEqual, 1]}, \n           {0.039562, Inequality[1, Less, r, LessEqual, 1.18]}, \n           {0, r &gt; 1.18}}];\n\npdfr[r_] = pdf[r] / Integrate[pdf[r], {r, 0, 3}];(*normalize*)\n\nPlot[pdf[r], {r, 0.4, 1.3}, Filling -&gt; Axis]\n\nPDFr = ProbabilityDistribution[pdfr[r], {r, 0, 1.18}]; \n(*if you put 1.18=2 then we dont get 4.52??*)\n\nSeedRandom[100, Method -&gt; \"MersenneTwister\"]\ndataR = RandomVariate[PDFr, 1000000, WorkingPrecision -&gt; MachinePrecision];\nFold[#1 + (2*#2*10^-3)^3  Pi/6 2400 &amp;, 0, dataR] \n\n(*Analytical Solution*)\n\nPDFr = ProbabilityDistribution[pdfr[r], {r, 0, 3}];\n1000000 Integrate[ 2400 (2 InverseCDF[PDFr, p] 10^-3)^3 Pi/6, {p, 0, 1}]\n</code></pre>\n\n<p><strong>Update</strong>:\nI did some analysis:</p>\n\n<ol>\n<li><p>Read in the numbers (64bit doubles) generated from Mathematica into\nC++ -> calculated the sum and it gives the same as Mathematica<br>\n<strong>Mass computed by reduction: 4.52528010260687096888432279229</strong></p></li>\n<li><p>Read in the numbers generated from C++ (64bit double) into Mathematica -> calculated the sum and it gives the same <strong>4.32402</strong></p></li>\n<li><p>I almost conclude the sampling with <code>std::piecewise_constant_distribution</code> is inaccurate (or as accurate as it gets with 64bit floats) or has a bug... OR there is something wrong with my weights?</p></li>\n<li><p>Densities are calculated wrongly <code>std::piecewise_constant_distribution</code> in <a href=\"http://coliru.stacked-crooked.com/a/ca171bf600b5148f\" rel=\"nofollow noreferrer\">http://coliru.stacked-crooked.com/a/ca171bf600b5148f</a> ===> It seems to be a bug!</p></li>\n</ol>\n\n<p><strong>Histogramm Plot of CPP Generated values compared to the wanted Distribution:</strong>\n    <img src=\"https://i.stack.imgur.com/6W7qf.png\" alt=\"Histogramm\"></p>\n\n<pre><code>file = NotebookDirectory[] &lt;&gt; \"numbersCpp.bin\";\ndataCPP = BinaryReadList[file, \"Real64\"];\nHpdf = HistogramDistribution[dataCPP];\nh = DiscretePlot[  PDF[ Hpdf, x], {x, 0.4, 1.2, 0.001}, \n   PlotStyle -&gt; Red];\nShow[h, p, PlotRange -&gt; All]\n</code></pre>\n\n<p>The file is generated here: <a href=\"http://coliru.stacked-crooked.com/a/8f39a37b8cec9116\" rel=\"nofollow noreferrer\">Number generation CPP</a></p>\n"}, {"tags": ["c++", "class", "templates", "static", "linkage"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425496897, "post_id": 28862878, "comment_id": 45991276, "body": "even if this is possible there&#39;s no practical use for it"}, {"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 0, "creation_date": 1425498154, "post_id": 28862878, "comment_id": 45991990, "body": "What do you want to accomplish by having a <b>member</b> function with C linkage? No other <code>extern C</code> member function of other class being able to share the same name?"}, {"owner": {"reputation": 6511, "user_id": 188108, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b091399da83212608f7ce92128d73030?s=128&d=identicon&r=PG", "display_name": "Torsten Bronger", "link": "https://stackoverflow.com/users/188108/torsten-bronger"}, "reply_to_user": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 0, "creation_date": 1425498390, "post_id": 28862878, "comment_id": 45992137, "body": "@Mondkin: It is about a library in C++.  I think (I maintain code of somebody else) the goal is to use the same library header file for C and C++ programs.  The C programs see <code>struct</code> and attributes, and the C++ programs see everything but with C linkage.  Well, and then, the template member fails."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425499062, "post_id": 28862878, "comment_id": 45992496, "body": "You can&#39;t have this inside the header file anyway, since C doesn&#39;t know what a template is.  And if you hide it from C using <code>#define</code>, you break the One Definition Rule."}, {"owner": {"reputation": 6511, "user_id": 188108, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b091399da83212608f7ce92128d73030?s=128&d=identicon&r=PG", "display_name": "Torsten Bronger", "link": "https://stackoverflow.com/users/188108/torsten-bronger"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425500557, "post_id": 28862878, "comment_id": 45993363, "body": "@BenVoigt: It is hidden from C with <code>#ifdef __cplusplus</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425501374, "post_id": 28862878, "comment_id": 45993845, "body": "@TorstenBronger: Then the type is different in C and in C++, but you are giving them the same name (with the same linkage) and (says the Standard) that is undefined behavior.  You can try to rely on standard-layout rules to make the data members line up and create two layout-compatible types, but then they are still separate types which require separate names."}, {"owner": {"reputation": 6511, "user_id": 188108, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b091399da83212608f7ce92128d73030?s=128&d=identicon&r=PG", "display_name": "Torsten Bronger", "link": "https://stackoverflow.com/users/188108/torsten-bronger"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425501650, "post_id": 28862878, "comment_id": 45994018, "body": "@BenVoigt, this may be true, however, this is another issue, which requires in-depth analysis that we cannot do in SO comments.  My code above is heavily simplified of course."}], "answers": [{"comments": [{"owner": {"reputation": 6290, "user_id": 3193867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yJeA.jpg?s=128&g=1", "display_name": "SMR", "link": "https://stackoverflow.com/users/3193867/smr"}, "edited": false, "score": 1, "creation_date": 1425541225, "post_id": 28862946, "comment_id": 46007672, "body": "while this codeblock might answer the question, please try to add relevant explanation."}], "owner": {"reputation": 4972, "user_id": 1964342, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce48e3381ac19802f017e34b80e0536c?s=128&d=identicon&r=PG", "display_name": "tohava", "link": "https://stackoverflow.com/users/1964342/tohava"}, "is_accepted": false, "score": 0, "last_activity_date": 1425496628, "creation_date": 1425496628, "answer_id": 28862946, "question_id": 28862878, "link": "https://stackoverflow.com/questions/28862878/can-a-c-static-template-function-be-in-a-struct-with-c-linkage/28862946#28862946", "title": "Can a C++ static template function be in a struct with C linkage?", "body": "<pre><code>// Inside header\nextern \"C\" { struct X; };\nstruct X {\n    template &lt;typename T&gt; static void f() {}\n};\n\n// Inside cpp\nint main() {\n    X::f&lt;int&gt;();\n}\n</code></pre>\n"}, {"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1425497927, "last_edit_date": 1495541192, "creation_date": 1425497927, "answer_id": 28863363, "question_id": 28862878, "link": "https://stackoverflow.com/questions/28862878/can-a-c-static-template-function-be-in-a-struct-with-c-linkage/28863363#28863363", "title": "Can a C++ static template function be in a struct with C linkage?", "body": "<p>I don't think it's possible.</p>\n\n<p>Check this other question and its answer:\n<a href=\"https://stackoverflow.com/questions/1041866/in-c-source-what-is-the-effect-of-extern-c\">In C++ source, what is the effect of extern &quot;C&quot;?</a></p>\n\n<p>The most important parts from there:</p>\n\n<ul>\n<li>extern \"C\" is ignored for class members</li>\n<li>at most one function with a particular name can have \"C\" linkage (regardless of namespace)</li>\n<li>'static' inside 'extern \"C\"' is valid; an entity so declared has internal linkage, and so does not have a language linkage</li>\n</ul>\n\n<p>The most important there is the one in the middle: when you instantiate your template you would have two functions with the same name, but different parameters, which is not directly supported by C. So the C++ compiler needs to mangle the name for templated functions.</p>\n\n<p>Also, when you declare your function outside the struct and you say it is <code>static</code> you are giving it internal linkage, so the <code>extern C</code> will be ignored (that's the reason why it compiles in that case). Have you used <code>objdump</code> to see the compiled name to make sure it is not being mangled?</p>\n"}], "owner": {"reputation": 6511, "user_id": 188108, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b091399da83212608f7ce92128d73030?s=128&d=identicon&r=PG", "display_name": "Torsten Bronger", "link": "https://stackoverflow.com/users/188108/torsten-bronger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425497927, "creation_date": 1425496372, "last_edit_date": 1425496604, "question_id": 28862878, "link": "https://stackoverflow.com/questions/28862878/can-a-c-static-template-function-be-in-a-struct-with-c-linkage", "title": "Can a C++ static template function be in a struct with C linkage?", "body": "<p>I have the following declaration in my header file:</p>\n\n<pre><code>extern \"C\" {\n    struct lfModifier {\n        template&lt;typename T&gt;\n        static void ModifyColor_Vignetting_PA (\n           void *data, float x, float y, T *rgb, int comp_role, int count);\n    }\n}\n</code></pre>\n\n<p>GCC probably rightfully complains \"error: template with C linkage\".  But the template is static after all.  I could easily move it out of the class into the cpp file.  I don't like to do that because having it in the struct increases code readability.</p>\n\n<p>Is there a way to have a static template in this context?</p>\n"}, {"tags": ["c++", "windows", "api", "wchar", "tchar"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1425496275, "post_id": 28862762, "comment_id": 45990918, "body": "It&#39;s the number of <code>wchar_t</code>s in the buffer that <code>wcstr</code> points to"}, {"owner": {"reputation": 84, "user_id": 2212087, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a159496048bcdaae530a5a144b07d30a?s=128&d=identicon&r=PG", "display_name": "HighExodus", "link": "https://stackoverflow.com/users/2212087/highexodus"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1425496575, "post_id": 28862762, "comment_id": 45991092, "body": "@Praetorian So it is essentially the length (in wide characters) of the buffer... seems like WORD was the wrong <i>word</i> choice to describe the parameter... If you post this as an answer I will accept it.  I do not have enough of a reputation to up-vote your comment at this time."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 2, "creation_date": 1425497022, "post_id": 28862762, "comment_id": 45991347, "body": "I agree, better wording would&#39;ve been exactly as you put it ... number of wide characters in the buffer. I suspect this is a case of Windows API terminology leaking into the docs, because WinAPI uses <code>WORD</code> as a typedef for a 16-bit unsigned int, and <code>wchar_t</code> is also 16-bit on Windows. Anyway, you already have an answer (although I disagree with his first sentence, and it digresses a bit from answering the actual question), I won&#39;t add another one because I don&#39;t really have any proof, if you will, that what I said is correct."}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 2212087, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a159496048bcdaae530a5a144b07d30a?s=128&d=identicon&r=PG", "display_name": "HighExodus", "link": "https://stackoverflow.com/users/2212087/highexodus"}, "edited": false, "score": 0, "creation_date": 1425504994, "post_id": 28862864, "comment_id": 45995912, "body": "Thanks for the suggestion.  I will give it a shot (or something very similar) and let you know how it goes."}], "owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1425496333, "creation_date": 1425496333, "answer_id": 28862864, "question_id": 28862762, "link": "https://stackoverflow.com/questions/28862762/what-is-the-size-of-a-word-in-the-context-of-the-mbstowcs-s-function-sizeinwords/28862864#28862864", "title": "What is the size of a Word in the context of the mbstowcs_s function SizeInWords parameter?", "body": "<p>Normally a word means 16 bits.</p>\n\n<p>To make sure, allocate a buffer of let's say 100 bytes, fill them all with 0xff. Then pass 16 for sizeInWords and an mbstr of at least 16 characters. In the debugger inspect wcstr when the call is done. If I'm right, the first 32 bytes of the buffer will have character values, the rest will still be 0xff. (of course this ignores the fact that some values of wcstr may be 0xff)</p>\n"}], "owner": {"reputation": 84, "user_id": 2212087, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a159496048bcdaae530a5a144b07d30a?s=128&d=identicon&r=PG", "display_name": "HighExodus", "link": "https://stackoverflow.com/users/2212087/highexodus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 28862864, "answer_count": 1, "score": 1, "last_activity_date": 1425496333, "creation_date": 1425495966, "question_id": 28862762, "link": "https://stackoverflow.com/questions/28862762/what-is-the-size-of-a-word-in-the-context-of-the-mbstowcs-s-function-sizeinwords", "title": "What is the size of a Word in the context of the mbstowcs_s function SizeInWords parameter?", "body": "<p>I am having difficulty determining what the exact size of a Word should be in the context of the Windows API function mbstowcs_s.  Here is the relevant information from the MSDN as well as the link.</p>\n\n<blockquote>\n  <p><strong>mbstowcs_s, _mbstowcs_s_l</strong></p>\n  \n  <p>Converts a sequence of multibyte characters to a corresponding sequence of wide characters. Versions of mbstowcs, _mbstowcs_l with security enhancements as described in Security Features in the CRT.</p>\n  \n  <p><strong>Parameters</strong></p>\n  \n  <p>[out] pReturnValue - The number of characters converted.</p>\n  \n  <p>[out] wcstr - Address of buffer for the resulting converted wide character string.</p>\n  \n  <p>[in] sizeInWords - The size of the wcstr buffer in words.</p>\n  \n  <p>[in] mbstr - The address of a sequence of null terminated multibyte characters.</p>\n  \n  <p>[in] count - The maximum number of wide characters to store in the wcstr buffer, not including the terminating null, or _TRUNCATE.</p>\n</blockquote>\n\n<p>Here is the link to the MSDN page: <a href=\"https://msdn.microsoft.com/en-us/library/eyktyxsx.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/eyktyxsx.aspx</a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c++", "windows", "visual-studio", "winapi", "visual-studio-2012"], "answers": [{"owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "is_accepted": true, "score": 7, "last_activity_date": 1425783389, "creation_date": 1425783389, "answer_id": 28922582, "question_id": 28862723, "link": "https://stackoverflow.com/questions/28862723/how-to-build-against-the-windows-8-1-sdk/28922582#28922582", "title": "How to build against the windows 8.1 SDK", "body": "<p><strong>What's going on</strong></p>\n\n<p>The <code>WindowsSdkDir</code> is a Visual Studio internal variable which is derived from registry keys based on the \"Platform Toolset\" project property (under \"Configuration Properties / General\"). For the \"Visual Studio 2012 (v110)\" platform toolset, registry keys such as:</p>\n\n<pre><code>HKLM\\SOFTWARE\\Microsoft\\Microsoft SDKs\\Windows\\v8.0\nHKCU\\SOFTWARE\\Microsoft\\Microsoft SDKs\\Windows\\v8.0\nHKLM\\SOFTWARE\\Wow6432Node\\Microsoft\\Microsoft SDKs\\Windows\\v8.0\nHKCU\\SOFTWARE\\Wow6432Node\\Microsoft\\Microsoft SDKs\\Windows\\v8.0\n</code></pre>\n\n<p>are used, irrespective of the <code>CurrentVersion</code> and <code>CurrentInstallFolder</code> keys.</p>\n\n<p><strong>How to build against Windows 8.1 SDK with Visual Studio 2012</strong></p>\n\n<p>As to described in <a href=\"http://blogs.msdn.com/b/chuckw/archive/2013/10/18/visual-studio-2013-and-windows-8-1-sdk-rtm-are-now-available.aspx\" rel=\"noreferrer\">this blog</a>:</p>\n\n<blockquote>\n  <p><strong>VS 2010/2012 users:</strong> You can use the property sheet technique for the Windows 8.1 SDK that was described in this <a href=\"http://blogs.msdn.com/b/vcblog/archive/2012/11/23/using-the-windows-8-sdk-with-visual-studio-2010-configuring-multiple-projects.aspx\" rel=\"noreferrer\">Visual C++ Team blog post</a> originally for VS 2010+Windows 8.0 SDK. For VS 2010, just change the part of the paths with \"8.0\"/\"win8\" to \"8.1\"/\"winv6.3\" but otherwise use all those instructions. For VS 2012, you can simplify all the paths to just add the 8.1 paths before the existing value for each variable. The updated .props are attached to this blog post. This should only be used for Win32 desktop application development. </p>\n</blockquote>\n\n<p>After making those changes, you should get a property sheet (which is also provided as an attachment to the <a href=\"http://blogs.msdn.com/b/chuckw/archive/2013/10/18/visual-studio-2013-and-windows-8-1-sdk-rtm-are-now-available.aspx\" rel=\"noreferrer\">same blog</a>) which for x86 looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n  &lt;ImportGroup Label=\"PropertySheets\" /&gt;\n  &lt;PropertyGroup Label=\"UserMacros\" /&gt;\n  &lt;PropertyGroup&gt;\n    &lt;ExecutablePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\bin\\x86;$(ExecutablePath)&lt;/ExecutablePath&gt;\n    &lt;IncludePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\um;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\shared;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\winrt;$(IncludePath)&lt;/IncludePath&gt;\n    &lt;LibraryPath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x86;$(LibraryPath)&lt;/LibraryPath&gt;\n    &lt;ExcludePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\um;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\shared;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\winrt;$(ExcludePath)&lt;/ExcludePath&gt;\n  &lt;/PropertyGroup&gt;\n&lt;ItemDefinitionGroup /&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>And similarly for x64:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n  &lt;ImportGroup Label=\"PropertySheets\" /&gt;\n  &lt;PropertyGroup Label=\"UserMacros\" /&gt;\n  &lt;PropertyGroup&gt;\n    &lt;ExecutablePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\bin\\x64;$(ExecutablePath)&lt;/ExecutablePath&gt;\n    &lt;IncludePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\um;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\shared;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\winrt;$(IncludePath)&lt;/IncludePath&gt;\n    &lt;LibraryPath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64;$(LibraryPath)&lt;/LibraryPath&gt;\n    &lt;ExcludePath&gt;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\um;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\shared;$(ProgramFiles)\\Windows Kits\\8.1\\Include\\winrt;$(ExcludePath)&lt;/ExcludePath&gt;\n  &lt;/PropertyGroup&gt;\n&lt;ItemDefinitionGroup /&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>A word of caution however. While this would define all the paths required to build against Windows 8.1 SDK, it does not change the <code>WindowSdkDir</code> and related macros which would still point to the Windows 8.0 SDK. This could potentially lead to build inconsistencies if you use those macros to define project properties.</p>\n\n<p>Finally, note that Visual Studio 2013 ships with Windows 8.1 SDK, and correspondingly it is the SDK used with the default \"Visual Studio 2013 (v120)\" platform toolset property. So if upgrading to VS2013 is an option, that might save you a bit of trouble.</p>\n"}], "owner": {"reputation": 233, "user_id": 114213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72baf4abe4701e545ef63d41ee40e26d?s=128&d=identicon&r=PG", "display_name": "PAK-9", "link": "https://stackoverflow.com/users/114213/pak-9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8875, "favorite_count": 2, "accepted_answer_id": 28922582, "answer_count": 1, "score": 7, "last_activity_date": 1425783389, "creation_date": 1425495815, "question_id": 28862723, "link": "https://stackoverflow.com/questions/28862723/how-to-build-against-the-windows-8-1-sdk", "title": "How to build against the windows 8.1 SDK", "body": "<p>My setup is the following:</p>\n\n<p>Windows 8.1, Microsoft Visual Studio 2012</p>\n\n<p>I wish to build against the Windows 8.1 SDK. My application is c++, no windows runtime components or anything like that.</p>\n\n<p>I have the windows 8.1 SDK installed but Visual Studio is building against the Windows 7 SDK, so to switch targets I modify my registry keys which point to the current SDK version:</p>\n\n<p>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Microsoft SDKs\\Windows\n<img src=\"https://i.stack.imgur.com/be3oM.png\" alt=\"Registry\"></p>\n\n<p>However when I check the macros in Visual Studio it is now building against windows SDK <strong>8.0</strong> instead of 8.1.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fuZLB.png\" alt=\"Visual Studio Macros\"></p>\n\n<p>Can anyone explain why this is happening? I have not been able to build against the windows 8.1 SDK with my setup, is it just not possible using Visual Studio 2012? I cannot find any conclusive information to tell me if it is supported or not.</p>\n"}, {"tags": ["c++", "c", "ide", "clion"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425499153, "post_id": 28862665, "comment_id": 45992552, "body": "Are you really using a lowercase <code>.c</code> extension for C++ source code?  Or it really is C code, but you want to run it through the more comprehensive C++ type checker?"}, {"owner": {"reputation": 31, "user_id": 4633459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e4c67ccb8f3770dd93f30f37ea2ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey  Nikitin", "link": "https://stackoverflow.com/users/4633459/alexey-nikitin"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1425554389, "post_id": 28862665, "comment_id": 46015205, "body": "Yes, lowercase .c extension is a heavy heritage of more than a decade of project which now contain C++ code."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4633459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e4c67ccb8f3770dd93f30f37ea2ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey  Nikitin", "link": "https://stackoverflow.com/users/4633459/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1425995658, "post_id": 28909359, "comment_id": 46182802, "body": "Of course, changing file extensions, this is the first that comes to mind, however, it will lead to changes in the build system project (by the way, we don&#39;t use cmake; CMakeLists.txt generate himself CLion) and in order to try a new IDE would not like to change the project. I.e., my question was whether in the CLion fine-tune the type of the source file. Nevertheless, thank you."}, {"owner": {"reputation": 3889, "user_id": 561422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwFD0.jpg?s=128&g=1", "display_name": "marco.m", "link": "https://stackoverflow.com/users/561422/marco-m"}, "reply_to_user": {"reputation": 31, "user_id": 4633459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e4c67ccb8f3770dd93f30f37ea2ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey  Nikitin", "link": "https://stackoverflow.com/users/4633459/alexey-nikitin"}, "edited": false, "score": 1, "creation_date": 1425998701, "post_id": 28909359, "comment_id": 46185061, "body": "@AlexeyNikitin: sure, I understand. What I wanted to suggest is too look at cmake generators, and then make the bold move to convert your build system to cmake :-) You will be happy, I assure you :-)"}], "owner": {"reputation": 3889, "user_id": 561422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwFD0.jpg?s=128&g=1", "display_name": "marco.m", "link": "https://stackoverflow.com/users/561422/marco-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1425718866, "last_edit_date": 1425718866, "creation_date": 1425684366, "answer_id": 28909359, "question_id": 28862665, "link": "https://stackoverflow.com/questions/28862665/how-to-make-clion-to-recognize-c-files-as-c-and-not-as-plain-c/28909359#28909359", "title": "How to make CLion to recognize .c files as c++ (and not as plain c)", "body": "<p>Rename the .c files to a proper suffix for C++, for example .cpp:</p>\n\n<pre><code>for i in `find . -name '*.c'`; do j=`echo $i | sed s/\\.c/\\.cpp/` ; mv $i $j; done\n</code></pre>\n\n<p>Seriously, if it is C++ code, it doesn't make sense to have it in .c files.</p>\n\n<p>Once you have a working CMakeLists.txt, there is no reason to preserve the .c extension, since you can use cmake to generate build configuration for almost any build system on earth :-) See the cmake documentation for \"generators\":  <a href=\"http://www.cmake.org/cmake/help/v3.2/manual/cmake-generators.7.html\" rel=\"nofollow\">http://www.cmake.org/cmake/help/v3.2/manual/cmake-generators.7.html</a></p>\n"}, {"owner": {"reputation": 76, "user_id": 4085441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Ulna.png?s=128&g=1", "display_name": "wataash", "link": "https://stackoverflow.com/users/4085441/wataash"}, "is_accepted": false, "score": 2, "last_activity_date": 1512297257, "creation_date": 1512297257, "answer_id": 47617514, "question_id": 28862665, "link": "https://stackoverflow.com/questions/28862665/how-to-make-clion-to-recognize-c-files-as-c-and-not-as-plain-c/47617514#47617514", "title": "How to make CLion to recognize .c files as c++ (and not as plain c)", "body": "<p>Put</p>\n\n<pre><code>SET_SOURCE_FILES_PROPERTIES(${SOURCE_FILES} PROPERTIES LANGUAGE CXX)\n</code></pre>\n\n<p>in your <code>CMakeLists.txt</code>.</p>\n\n<ul>\n<li><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/205822539/comments/205713325\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/205822539/comments/205713325</a></li>\n<li><a href=\"https://cmake.org/cmake/help/latest/command/set_source_files_properties.html\" rel=\"nofollow noreferrer\">https://cmake.org/cmake/help/latest/command/set_source_files_properties.html</a></li>\n<li><a href=\"https://cmake.org/cmake/help/latest/prop_sf/LANGUAGE.html\" rel=\"nofollow noreferrer\">https://cmake.org/cmake/help/latest/prop_sf/LANGUAGE.html</a></li>\n</ul>\n"}], "owner": {"reputation": 31, "user_id": 4633459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e4c67ccb8f3770dd93f30f37ea2ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey  Nikitin", "link": "https://stackoverflow.com/users/4633459/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1512297257, "creation_date": 1425495629, "last_edit_date": 1435603997, "question_id": 28862665, "link": "https://stackoverflow.com/questions/28862665/how-to-make-clion-to-recognize-c-files-as-c-and-not-as-plain-c", "title": "How to make CLion to recognize .c files as c++ (and not as plain c)", "body": "<p>By default CLion C and C++ files has united file type in Settings->Editor->File Types\nBut in inspect code .c file recognize as plain C (for example type bool requires the inclusion &lt; stdbool.h >) but actually it must be compiled as C++</p>\n\n<p>Help->About:\nCLion CL-140.2310.6\nBuild #CL-140.2310, built on February 12, 2015\n...</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4970, "user_id": 2140449, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97251fac343628ee1aad92cc3da39d99?s=128&d=identicon&r=PG", "display_name": "DarioP", "link": "https://stackoverflow.com/users/2140449/dariop"}, "edited": false, "score": 0, "creation_date": 1575030276, "post_id": 28862627, "comment_id": 104441322, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/8011984/c-forcing-method-override-in-concrete-class\">C++ Forcing Method Override In Concrete Class</a>"}], "answers": [{"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1425497345, "post_id": 28862750, "comment_id": 45991527, "body": "This answer assumes that the OP doesn&#39;t want to instantiate <code>B</code>. Of course, if you follow the rule that non-leaf classes should be abstract, it&#39;s all well."}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 4, "last_activity_date": 1425497615, "last_edit_date": 1425497615, "creation_date": 1425495924, "answer_id": 28862750, "question_id": 28862627, "link": "https://stackoverflow.com/questions/28862627/how-to-force-subclass-to-override-a-virtual-function/28862750#28862750", "title": "how to force subclass to override a virtual function", "body": "<p>Declare the virtual function in the intermediate class also as a pure virtual function. Remember that you may provide an implementation of the function in the intermediate class even when it is declared to be pure virtual.</p>\n\n<pre><code>class A\n{\n    virtual void foo() = 0;\n};\n\nclass B : public A\n{\n    virtual void foo() = 0;\n};\n\nvoid B::foo()\n{\n}\n\nclass C : public B\n{\n    // Now you must provide an implementation\n    // if you want to create an instance of C.\n};\n</code></pre>\n\n<p>This strategy works if you don't need to instantiate <code>B</code>. If you do need to instantiate <code>B</code>, a different strategy needs to be thought of. You also have to rethink your class hierarchy. All non-leaf classes should be abstract in a good design.</p>\n\n<p>Thanks to @AustinMullins for providing a link to <a href=\"http://ideone.com/yBjf3I\" rel=\"nofollow\">working code</a>.</p>\n"}], "owner": {"reputation": 8551, "user_id": 440403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1f6698434e6b31de0de985726bb87364?s=128&d=identicon&r=PG", "display_name": "camino", "link": "https://stackoverflow.com/users/440403/camino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "accepted_answer_id": 28862750, "answer_count": 1, "score": 4, "last_activity_date": 1425497615, "creation_date": 1425495543, "question_id": 28862627, "link": "https://stackoverflow.com/questions/28862627/how-to-force-subclass-to-override-a-virtual-function", "title": "how to force subclass to override a virtual function", "body": "<p>sometimes I would like to force subclass to override a function, for example:</p>\n\n<pre><code>class A\n{\n    virtual void foo() = 0;\n};\n\nclass B : public A\n{\n    virtual void foo() {...}\n};\n\nclass C : public B\n{\n    //people may forget to override function foo\n};\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4216, "user_id": 1319519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/803cd3bb1a24984d1eaff0a3d942ec49?s=128&d=identicon&r=PG", "display_name": "Joakim Ericsson", "link": "https://stackoverflow.com/users/1319519/joakim-ericsson"}, "edited": false, "score": 0, "creation_date": 1425495528, "post_id": 28862594, "comment_id": 45990452, "body": "can you post a description of the error?"}, {"owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "reply_to_user": {"reputation": 4216, "user_id": 1319519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/803cd3bb1a24984d1eaff0a3d942ec49?s=128&d=identicon&r=PG", "display_name": "Joakim Ericsson", "link": "https://stackoverflow.com/users/1319519/joakim-ericsson"}, "edited": false, "score": 0, "creation_date": 1425495636, "post_id": 28862594, "comment_id": 45990537, "body": "@JoakimE Here&#39;s the full error, minus the location since that has my name.  &#39;&quot;C:\\Users****\\Documents\\Visual Studio 2013\\daysInCurrentMonth\\Debug\\daysInCurrentMonth.exe&quot;&#39; is not recognized as an internal or external command, operable program or batch file. Press any key to continue . . .         <b>EDIT</b> That&#39;s all it says. It compiles, with an error about how localtime may be unsafe, and consider using localtime_s. I&#39;m going to add #define _CRT_SECURE_NO_WARNINGS. That may fix it, but not 100% sure."}, {"owner": {"reputation": 4216, "user_id": 1319519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/803cd3bb1a24984d1eaff0a3d942ec49?s=128&d=identicon&r=PG", "display_name": "Joakim Ericsson", "link": "https://stackoverflow.com/users/1319519/joakim-ericsson"}, "edited": false, "score": 0, "creation_date": 1425495766, "post_id": 28862594, "comment_id": 45990615, "body": "<a href=\"https://social.msdn.microsoft.com/Forums/en-US/3fb19d4c-fe6c-42fb-bdd6-89dc15bf6042/not-recognised-as-an-external-or-internal-command-operable-program-batch-file\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "reply_to_user": {"reputation": 4216, "user_id": 1319519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/803cd3bb1a24984d1eaff0a3d942ec49?s=128&d=identicon&r=PG", "display_name": "Joakim Ericsson", "link": "https://stackoverflow.com/users/1319519/joakim-ericsson"}, "edited": false, "score": 0, "creation_date": 1425496072, "post_id": 28862594, "comment_id": 45990788, "body": "@JoakimE I did what that said, and nothing. I&#39;ve pasted it in a new project, old projects, and nothing. Same error every time."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425496136, "post_id": 28862594, "comment_id": 45990827, "body": "@3ncrypt3d Please go to the directory where you created the program.  Do you see the EXE there?  If you do, please run it yourself, and not using the IDE.  Does the program run?"}, {"owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425496242, "post_id": 28862594, "comment_id": 45990896, "body": "@PaulMcKenzie I&#39;m pretty sure you meant me, but no, I don&#39;t. There&#39;s supposed to be on there, so I&#39;m guessing that&#39;s what my problem is? Any idea on how to get it back? Or should I just make a new program"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425496513, "post_id": 28862594, "comment_id": 45991051, "body": "@3ncrypt3d First, please ensure that the program did actually compile and link with no errors (see the log file).  Then ensure that you&#39;re looking for the file in the correct directory.  If the file is not there, then check if you have a virus checker program running that, for some reason, removes the EXE file that Visual Studio created.  Other than that, the executable should have been created."}, {"owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425665652, "post_id": 28862594, "comment_id": 46069342, "body": "@PaulMcKenzie The only error is the localtime may be unsafe. The log file (<a href=\"http://pastebin.com/Qvrwd8Ru\" rel=\"nofollow noreferrer\">pastebin.com/Qvrwd8Ru</a>) doesn&#39;t make much sense to me. From what I understand, the only error I&#39;m getting is localtime may be unsafe. I don&#39;t think it&#39;s my computer either, tried it on 2 other ones, all getting the same error. <b>EDIT</b> Tried it in a new file, same error still..."}, {"owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425666524, "post_id": 28862594, "comment_id": 46069744, "body": "@PaulMcKenzie Another thing, there&#39;s no .exe in the folder at all. For some reason with VS13, it&#39;s not making an exe file for this project. Other ones it does, but not this one..."}], "owner": {"reputation": 29, "user_id": 4147012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/966b5b027902810669b5e6e48efdd044?s=128&d=identicon&r=PG&f=1", "display_name": "3ncrypt3d", "link": "https://stackoverflow.com/users/4147012/3ncrypt3d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1838, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425495428, "creation_date": 1425495428, "question_id": 28862594, "link": "https://stackoverflow.com/questions/28862594/program-is-not-recognized-as-an-internal-or-external-command-operable-program", "title": "Program is not recognized as an internal or external command, operable program, or batch file", "body": "<p>Title says what is currently stumping me with a C++ program I've made. Visual Studio reports no errors, but when I try to run it it just gives me that error. \nThe program I'm doing is supposed to determine the days in a month for the user entered month, and whether or not it's a leap year. Code is below, any help is appreciated :)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n#include &lt;string&gt;\nusing namespace std;\n\n\nenum MONTH { JAN, FEB, MARCH, APR, MAY, JUNE, JULY, AUG, SEP, OCT, NOV, DEC };\nconst string NAME_OF_MONTH[] = { \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" };\nconst int DAYS_IN_MONTH[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\n\n\nvoid getInput(int &amp;month, int &amp;year)\n{\ncout &lt;&lt; \"Enter a month number (1-12) and a 4 digit year \" &lt;&lt; endl;\ncout &lt;&lt; \"separated by a space (or 0 0 to quit): \";\ncin &gt;&gt; month &gt;&gt; year;\n\nwhile (month &lt; 0 || month &gt; 12)\n    {\n        cout &lt;&lt; \"Month number must be between 1 and 12 (or 0 to quit)\" &lt;&lt; endl;\n        cout &lt;&lt; \"Please re-enter month: \";\n        cin &gt;&gt; month;\n    }\n}\n\nvoid getCurrMonAndYear(int &amp;month, int&amp;year)\n{\n    time_t epochSeconds = time(NULL);\n\n    tm * tm_ptr = localtime(&amp;epochSeconds);\n\n    month = tm_ptr-&gt;tm_mon;\n    year = tm_ptr-&gt;tm_year + 1900;\n}\n\nbool isLeapYear(int year)\n{\n    if (year % 100 == 0)\n        return (year % 400 == 0);\n    else\n        return (year % 4 == 0);\n}\n\nint numDaysInMonth(int month, int year)\n{\n    int numberOfDays = DAYS_IN_MONTH[month];\n\n    if (month == FEB &amp;&amp; isLeapYear(year))\n        numberOfDays++;\n\n    return numberOfDays;\n}\n\n\nint main() {\n\n    int month;\n    int year;\n\n    getInput(month, year);\n\n    while (month != 0)\n    {\n        month--;\n\n        cout &lt;&lt; numDaysInMonth(month, year) &lt;&lt; \"days.\" &lt;&lt; endl;\n\n        getInput(month, year);\n    }\n    cout &lt;&lt; endl;\n\n    getCurrMonAndYear(month, year);\n    cout &lt;&lt; \"The current month, \" &lt;&lt; NAME_OF_MONTH[month] &lt;&lt; \" \" &lt;&lt; year &lt;&lt; \",\";\n    cout &lt;&lt; \" has \" &lt;&lt; numDaysInMonth(month, year) &lt;&lt; \" days.\" &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 3, "creation_date": 1425495380, "post_id": 28862555, "comment_id": 45990369, "body": "<code>explicit operator bool() const { return m_ptr != nullptr; }</code>?"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425495541, "post_id": 28862555, "comment_id": 45990464, "body": "Thank you. Put it as a answer and I will mark it as correct. Or close as trivial I suppose."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 2, "creation_date": 1425495581, "post_id": 28862555, "comment_id": 45990496, "body": "@marsh You can&#39;t use explicit conversion operators before C++11, so lose the <code>explicit</code> and the code in the comment should work. You may also want to look into the <a href=\"https://en.wikibooks.org/wiki/More_C++_Idioms/Safe_bool\" rel=\"nofollow noreferrer\">safe bool idiom</a> to prevent undesirable implicit conversions."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1425495603, "post_id": 28862555, "comment_id": 45990511, "body": "@marsh I believe that only works for C++11. Do you have C++11 support? If so, why not use <code>std::unique_ptr</code>?"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1425495631, "post_id": 28862555, "comment_id": 45990533, "body": "Yes thank you Praetorian I got it working, As I said in my question I do not have c++11 support James."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1425495727, "post_id": 28862555, "comment_id": 45990587, "body": "@Praetorian is correct about the safe bool idiom here is another <a href=\"http://www.artima.com/cppsource/safebool.html\" rel=\"nofollow noreferrer\">useful link</a>."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1425495809, "post_id": 28862555, "comment_id": 45990630, "body": "@marsh Yes, you did state that in your question. :) My mistake."}, {"owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "edited": false, "score": 0, "creation_date": 1425497666, "post_id": 28862555, "comment_id": 45991697, "body": "@marsh: about you d-tor, <code>~AutoPtr(){delete m_ptr;}</code> is enough. <code>delete NULL</code> does nothing."}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1425498028, "post_id": 28862555, "comment_id": 45991913, "body": "I get that the if statement may not be needed but if you do not set the m_ptr to  NULL then how will someone who still has the pointer check if its valid or not?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425500664, "post_id": 28862555, "comment_id": 45993429, "body": "Your class doesn&#39;t follow the Rule of Three, so fix that before trying to use it"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1425500712, "post_id": 28862555, "comment_id": 45993454, "body": "@marsh the object is destroyed after the destructor is run, it is not possible to &quot;check it is valid&quot; on an object that does not exist"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1425500986, "post_id": 28862555, "comment_id": 45993618, "body": "Someone could have called Get on the class and be holding the pointer? Also I will implement the rule of three. Good advice."}], "answers": [{"comments": [{"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1425909812, "post_id": 28862856, "comment_id": 46141920, "body": "Do I still need the safe bool if I use the second example?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 1, "creation_date": 1425911487, "post_id": 28862856, "comment_id": 46143124, "body": "@marsh You may use the both operators."}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1425912046, "post_id": 28862856, "comment_id": 46143536, "body": "For anyone else reading, a slight downside of using operator const void *() const { return m_ptr; } in this case is that people can now call delete on my autoPtr class."}], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 2, "last_activity_date": 1425496724, "last_edit_date": 1425496724, "creation_date": 1425496287, "answer_id": 28862856, "question_id": 28862555, "link": "https://stackoverflow.com/questions/28862555/unique-pointer-nullptr-comparison/28862856#28862856", "title": "Unique Pointer nullptr comparison", "body": "<p>You can define the operator the following way</p>\n\n<pre><code>explicit operator bool() const { return m_ptr != NULL; } \n</code></pre>\n\n<p>If your compiler does not support specifier explicit then the other approach is to define operator </p>\n\n<pre><code>operator const void *() const { return m_ptr; }\n</code></pre>\n\n<p>In the last case you may use your class with <code>operator &lt;&lt;</code></p>\n\n<p>For example</p>\n\n<pre><code>std::cout &lt;&lt; AutoPtr() &lt;&lt; std::endl;\n</code></pre>\n"}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1425496891, "creation_date": 1425496891, "answer_id": 28863040, "question_id": 28862555, "link": "https://stackoverflow.com/questions/28862555/unique-pointer-nullptr-comparison/28863040#28863040", "title": "Unique Pointer nullptr comparison", "body": "<p>There is a known idiom for implementing safe bool operator: <a href=\"https://en.wikibooks.org/wiki/More_C++_Idioms/Safe_bool\" rel=\"nofollow\">https://en.wikibooks.org/wiki/More_C++_Idioms/Safe_bool</a></p>\n"}], "owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 28862856, "answer_count": 2, "score": 1, "last_activity_date": 1425497320, "creation_date": 1425495299, "last_edit_date": 1425497320, "question_id": 28862555, "link": "https://stackoverflow.com/questions/28862555/unique-pointer-nullptr-comparison", "title": "Unique Pointer nullptr comparison", "body": "<p>I have a simple AutoPtr class</p>\n\n<pre><code>template&lt;typename T&gt;\nclass AutoPtr\n{\npublic:\n    explicit AutoPtr(T* p = NULL):m_ptr(p){}\n    ~AutoPtr()\n    {\n        if(m_ptr)\n            delete m_ptr;\n        m_ptr = NULL;\n    }\n\n    T&amp;  operator*(){return *m_ptr;}\n    T*  operator-&gt;(){return m_ptr;}\n    T* Get()        { return m_ptr; }\n\nprivate:\n    T*    m_ptr;\n};\n</code></pre>\n\n<p>How would I make this class usable for operations such as:</p>\n\n<pre><code>AutoPtr&lt;MyClass&gt; ptr;\nif(ptr)\n{\n    // Do stuff!\n}\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code>bool operator==(const T&amp; other) { return m_ptr == other.m_ptr; }\nbool operator!=(const T&amp; other) { return !(*this == other);}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>template&lt;typename T&gt;\nbool operator==(const AutoPtr&lt;T&gt;&amp; x, void* y) {  return x.Get() == y; }\ntemplate&lt;typename T&gt;\nbool operator!=(const AutoPtr&lt;T&gt;&amp; x, void* y) {  return x.Get() != y; }\n</code></pre>\n\n<p>This is not homework, I may not use c++11 or boost.</p>\n"}, {"tags": ["c++", "concurrent.futures"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1425495426, "post_id": 28862501, "comment_id": 45990398, "body": "Can you please post the text of the error instead of just the error number?"}], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "edited": false, "score": 0, "creation_date": 1425563179, "post_id": 28862648, "comment_id": 46020293, "body": "So, are you saying that the error message should or could read &#39;attempting to reference a deleted function&#39; where function is the &#39;copy constructor&#39;? Where/how does t&#39;s copy ctor get deleted?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "edited": false, "score": 0, "creation_date": 1425570568, "post_id": 28862648, "comment_id": 46025242, "body": "@rtischer8277, Yes. The <a href=\"http://en.cppreference.com/w/cpp/thread/packaged_task/packaged_task\" rel=\"nofollow noreferrer\">documentation of <code>std::packaged_task</code></a> shows that the copy constructor is deleted."}, {"owner": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "edited": false, "score": 0, "creation_date": 1425583870, "post_id": 28862648, "comment_id": 46033433, "body": "the link to the documentation explaining there was no copy ctor helped my understanding considerably. There is, however, another problem. The code still does not compile unless I return a value instead of void. I figured this out using trial n error, but is this documented in the reference material somewhere?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "edited": false, "score": 0, "creation_date": 1425583948, "post_id": 28862648, "comment_id": 46033487, "body": "@rtischer8277, glad I was able to help you."}, {"owner": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "edited": false, "score": 0, "creation_date": 1425585454, "post_id": 28862648, "comment_id": 46034387, "body": "Maybe the whole idea of a packaged_task is to return a future and it doesn&#39;t make sense not to return a value. At any rate, just not asking for a future, but still returning a value seems to work. A better compiler error other than C2182 (: &#39;_Get_value&#39; : illegal use of type &#39;void&#39;) would be helpful for the unsuspecting."}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 5, "last_activity_date": 1425495590, "creation_date": 1425495590, "answer_id": 28862648, "question_id": 28862501, "link": "https://stackoverflow.com/questions/28862501/pushing-packaged-task-into-container-causes-c2280-error-in-vs2013/28862648#28862648", "title": "pushing packaged task into container causes C2280 error in VS2013", "body": "<p>Copy constructor of <code>packaged_task</code> is deleted. Use:</p>\n\n<pre><code>task_q.push_back( std::move(t) );\n</code></pre>\n"}], "owner": {"reputation": 410, "user_id": 2608530, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/4ctKm.png?s=128&g=1", "display_name": "rtischer8277", "link": "https://stackoverflow.com/users/2608530/rtischer8277"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 3, "accepted_answer_id": 28862648, "answer_count": 1, "score": 2, "last_activity_date": 1596646236, "creation_date": 1425495064, "last_edit_date": 1596646236, "question_id": 28862501, "link": "https://stackoverflow.com/questions/28862501/pushing-packaged-task-into-container-causes-c2280-error-in-vs2013", "title": "pushing packaged task into container causes C2280 error in VS2013", "body": "<p>I want to use packaged_tasks to add tasks to a container. I create a task, bind it to a number and try to push it into my deque. I get compiler error C2280 (VS2013) on the push_back. Here is the code:</p>\n<pre><code>void DoTask( int i )\n{\n  std::cout &lt;&lt; &quot;int value: &quot; &lt;&lt; i &lt;&lt; std::endl;\n}\n\nstd::deque&lt; std::packaged_task&lt; void() &gt; &gt; task_q;\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n  std::packaged_task&lt; void() &gt; t( std::bind( DoTask, 3 ) );\n  task_q.push_back( t ); // &lt;-- C2280 error\n\n  return 0;\n}\n</code></pre>\n<p>I got this sample code from a YouTube Bo Qian lecture called &quot;C++ Threading #9: packaged_task&quot;.\nHere is some error code text:</p>\n<pre><code>error C2280: \n    'std::packaged_task&lt;void (void)&gt;::packaged_task(const std::packaged_task&lt;void (void)&gt; &amp;)' : attempting to reference a deleted function... see declaration of 'std::packaged_task&lt;void (void)&gt;::packaged_task'...while compiling class template member function 'void std::allocator&lt;_Ty&gt;::construct(_Ty *,const _Ty &amp;)'\n    1&gt;          with\n    1&gt;          [\n    1&gt;              _Ty=std::packaged_task&lt;void (void)&gt;&quot;\n</code></pre>\n<p>Here is the code after two corrections (move task and non-void return value):</p>\n<pre><code>int DoTask( int i ) // non-void return value\n{\n  return i;\n}\n\nstd::deque&lt; std::packaged_task&lt; int() &gt; &gt; task_q; // bind eliminates need for arg (Bo Qian lecture)\n\nint _tmain( int argc, _TCHAR* argv[] )\n{\n  std::packaged_task&lt; int() &gt; t( std::bind( DoTask, 3 ) ); // bind eliminates need for arg\n  task_q.push_back( std::move( t ) ); // &lt;-- move not copy\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "path-finding"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 5, "creation_date": 1425495154, "post_id": 28862492, "comment_id": 45990252, "body": "Or maybe it does end, but it takes an incredibly long time before it ends."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425495231, "post_id": 28862492, "comment_id": 45990297, "body": "Please read <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this</a> and then come back with a specific question once you&#39;ve followed the recommendations there in."}, {"owner": {"reputation": 6849, "user_id": 1896761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e28ac3e5849a144937aa74efbc272e?s=128&d=identicon&r=PG", "display_name": "Austin Mullins", "link": "https://stackoverflow.com/users/1896761/austin-mullins"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1425495303, "post_id": 28862492, "comment_id": 45990329, "body": "@immibis Halting problem win!"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1425495630, "post_id": 28862492, "comment_id": 45990532, "body": "Considering that a <code>Pos</code> type has already been written in this code, it would be prudent to <i>use it</i> where it&#39;s applicable."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425496189, "post_id": 28862492, "comment_id": 45990857, "body": "When you used the debugger, which lines are giving the issues?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4629093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1236e1e9800437240c7eabc5bf2771?s=128&d=identicon&r=PG&f=1", "display_name": "Thirst For Knowledge", "link": "https://stackoverflow.com/users/4629093/thirst-for-knowledge"}, "edited": false, "score": 0, "creation_date": 1425495947, "post_id": 28862579, "comment_id": 45990713, "body": "Thanks. I changed it. One step forward. But it still doesn&#39;t work."}, {"owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "reply_to_user": {"reputation": 41, "user_id": 4629093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1236e1e9800437240c7eabc5bf2771?s=128&d=identicon&r=PG&f=1", "display_name": "Thirst For Knowledge", "link": "https://stackoverflow.com/users/4629093/thirst-for-knowledge"}, "edited": false, "score": 1, "creation_date": 1425496008, "post_id": 28862579, "comment_id": 45990746, "body": "Another step forward is to add tracing: add printf at every step to see what&#39;s happening."}], "owner": {"reputation": 5324, "user_id": 135702, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GoD88.png?s=128&g=1", "display_name": "Sebastiaan M", "link": "https://stackoverflow.com/users/135702/sebastiaan-m"}, "is_accepted": false, "score": 5, "last_activity_date": 1425495690, "last_edit_date": 1425495690, "creation_date": 1425495382, "answer_id": 28862579, "question_id": 28862492, "link": "https://stackoverflow.com/questions/28862492/simple-pathfinder-in-c/28862579#28862579", "title": "Simple Pathfinder in c++", "body": "<p>You're switching the order of X and Y in the recursive calls to SearchNext.</p>\n\n<p>In general you can analyze these kinds of problems in a debugger or by adding trace output. You would have found the problem on the second call to SearchNext: \"huh, why is X equal to 8 while I subtracting 1 from Y?\".</p>\n"}, {"comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425496909, "post_id": 28862736, "comment_id": 45991284, "body": "Or they could use any of the methods recommended in the <a href=\"http://stackoverflow.com/questions/28840102/pathfinding-for-2d-tile-map-for-multiple-goals/28840265#comment45950333_28840265\">last question they asked</a>"}, {"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425501541, "post_id": 28862736, "comment_id": 45993945, "body": "if you want to cheat, look at <a href=\"http://coliru.stacked-crooked.com/a/cedb4a0af0360dd1\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/cedb4a0af0360dd1</a>"}], "owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "is_accepted": true, "score": 3, "last_activity_date": 1558519514, "last_edit_date": 1558519514, "creation_date": 1425495869, "answer_id": 28862736, "question_id": 28862492, "link": "https://stackoverflow.com/questions/28862492/simple-pathfinder-in-c/28862736#28862736", "title": "Simple Pathfinder in c++", "body": "<p>Lets say there are at average 2.5 directions to choose from, then <br>\nyour algorithm will take 2.5<sup>n</sup> steps to complete, where n is the <br>\nnumber of squares. That will be an incredible large number, even <br>\nfor fairly small n. You need to look into <a href=\"http://en.wikipedia.org/wiki/Dijkstra&#39;s_algorithm\" rel=\"nofollow noreferrer\">Djikstra's algorithm</a></p>\n\n<p>This is assuming you eventually want to find the cheapest route to <br>\na goal, not just any route.</p>\n"}, {"owner": {"reputation": 37, "user_id": 3261176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873dd1c5d8d55f58cf3172077865ab1c?s=128&d=identicon&r=PG&f=1", "display_name": "maxim", "link": "https://stackoverflow.com/users/3261176/maxim"}, "is_accepted": false, "score": -2, "last_activity_date": 1600356497, "creation_date": 1600356497, "answer_id": 63941357, "question_id": 28862492, "link": "https://stackoverflow.com/questions/28862492/simple-pathfinder-in-c/63941357#63941357", "title": "Simple Pathfinder in c++", "body": "<p>Or maybe write 2 dimension map with availbe places to mow, and use straight line for direction, and then according to direction hide places what are far from that line. This way you will live with places availbe to go.</p>\n"}], "owner": {"reputation": 41, "user_id": 4629093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1236e1e9800437240c7eabc5bf2771?s=128&d=identicon&r=PG&f=1", "display_name": "Thirst For Knowledge", "link": "https://stackoverflow.com/users/4629093/thirst-for-knowledge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3687, "favorite_count": 0, "accepted_answer_id": 28862736, "answer_count": 3, "score": 1, "last_activity_date": 1600356497, "creation_date": 1425495033, "last_edit_date": 1425504243, "question_id": 28862492, "link": "https://stackoverflow.com/questions/28862492/simple-pathfinder-in-c", "title": "Simple Pathfinder in c++", "body": "<p>I'm working on a simple pathfinder. I've a small grid-based map.<br>\n'1' is a floor<br>\n'0' is a wall<br>\n'G' is one of the goals</p>\n\n<p>Features:<br>\n- there isn't diagonal movement<br>\n- path cost always equals 1<br>\n- there can be many goals</p>\n\n<p>My full code:  </p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int MapWidth = 10, MapHeight = 10;\n//       Y pos      X pos\nchar Map[MapHeight][MapWidth] = {\n    { '1', '1', 'G', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '0', '1', '1', '1', '1', '1', '0', 'G' },\n    { '1', '1', '0', '0', '1', '1', '1', '1', '0', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '0', '0', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '0', '1', '1' },\n    { '1', '1', '1', '0', '0', '1', '1', '0', '1', '1' },\n    { '1', '1', '0', '0', '0', '1', '1', '0', '0', '0' },\n    { '1', '1', '1', 'G', '0', '1', '1', '1', '1', '1' }\n};\n\nstruct Pos\n{\n    int X;\n    int Y;\n};\n\nbool PosIsUsed(vector &lt;Pos&gt; Position, int Y, int X)\n{\n    for (vector &lt;Pos&gt;::iterator it = Position.begin(); it != Position.end(); ++it)\n    {\n        if (it-&gt;X == X &amp;&amp; it-&gt;Y == Y)\n        {\n            return true;\n        }\n    }\n    return false;\n}\n\nvoid SearchNext(int Y, int X, vector &lt;Pos&gt; Position)\n{\n    Pos NewStep = { X, Y };\n    Position.push_back(NewStep);\n    //North\n    if (Y &gt;= 1 &amp;&amp; !PosIsUsed(Position, Y - 1, X))\n    {\n        vector &lt;Pos&gt; NewPosition = Position;\n        switch (Map[Y - 1][X])\n        {\n        case '1':\n            SearchNext(Y - 1, X, NewPosition);\n            break;\n        case 'G':\n            printf(\"Found!\\n\");\n            break;\n        }\n    }\n    //East\n    if (X + 1 &lt; MapWidth &amp;&amp; !PosIsUsed(Position, Y, X + 1))\n    {\n        vector &lt;Pos&gt; NewPosition = Position;\n        switch (Map[Y][X + 1])\n        {\n        case '1':\n            SearchNext(Y, X + 1, NewPosition);\n            break;\n        case 'G':\n            printf(\"Found!\\n\");\n            break;\n        }\n    }\n    //Soth\n    if (Y + 1 &lt; MapHeight &amp;&amp; !PosIsUsed(Position, Y + 1, X))\n    {\n        vector &lt;Pos&gt; NewPosition = Position;\n        switch (Map[Y + 1][X])\n        {\n        case '1':\n            SearchNext(Y + 1, X, NewPosition);\n            break;\n        case 'G':\n            printf(\"Found!\\n\");\n            break;\n        }\n    }\n    //West\n    if (X &gt;= 1 &amp;&amp; !PosIsUsed(Position, Y, X - 1))\n    {\n        vector &lt;Pos&gt; NewPosition = Position;\n        switch (Map[Y][X - 1])\n        {\n        case '1':\n            SearchNext(Y, X - 1, NewPosition);\n            break;\n        case 'G':\n            printf(\"Found!\\n\");\n            break;\n        }\n    }\n\n}\n\nint main()\n{\n    vector &lt;Pos&gt; Pos;\n    SearchNext(9, 9, Pos); //We start here (Pos [9][9])\n    printf(\"End\\n\");\n    system(\"PAUSE\");\n    return 0;\n}\n</code></pre>\n\n<p>There's a problem. It just never ends. Could you tell me, what I'm doing wrong?</p>\n\n<h1>Edit:</h1>\n\n<p>I switched X and Y params order in <em>SearchNext</em> function. After this change, program displays the infinity \"Found!\".</p>\n\n<p>Working code (not mine):</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\n\nconst char FLOOR = '1' ;\nconst char WALL  = '0' ;\nconst char GOAL  = 'G' ;\n\nconst int MapWidth = 10, MapHeight = 10;\n//       Y pos      X pos\nchar Map[MapHeight][MapWidth] = {\n    { '1', '1', 'G', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '0', '1', '1', '1', '1', '1', '0', 'G' },\n    { '1', '1', '0', '0', '1', '1', '1', '1', '0', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '1', '1', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '0', '0', '1' },\n    { '1', '1', '1', '1', '1', '1', '1', '0', '1', '1' },\n    { '1', '1', '1', '0', '0', '1', '1', '0', '1', '1' },\n    { '1', '1', '0', '0', '0', '1', '1', '0', '0', '0' },\n    { '1', '1', '1', 'G', '0', '1', '1', '1', '1', '1' }\n};\n\nstruct Pos\n{\n    short x,y;\n    Pos operator + ( Pos p ) const { return Pos(x+p.x,y+p.y); }\n    bool operator &lt; ( Pos p ) const { return ( y==p.y ) ? (x&lt;p.x) : (y&lt;p.y) ; }\n    bool operator != ( Pos p ) const { return ( y!=p.y ) || (x!=p.x) ; }\n    Pos(short x=0,short y=0) : x(x), y(y) {}\n};\n\nbool valid(Pos p) { return p.x&gt;=0 &amp;&amp; p.x&lt;MapWidth &amp;&amp; p.y&gt;=0 &amp;&amp; p.y&lt;MapHeight; }\n\nenum Dir { d_beg, d_up=d_beg, d_rg, d_dn, d_lf, d_end };\n\nPos deltas[d_end] = { {0,-1}, {+1,0}, {0,+1}, {-1,0} };\n\nDir&amp; operator ++ ( Dir&amp; d ) { d = (Dir) ( 1+(int)d ) ; return d; }\n\nDir other(Dir d)\n{\n    switch(d)\n    {\n    case d_up: return d_dn;\n    case d_rg: return d_lf;\n    case d_dn: return d_up;\n    case d_lf: return d_rg;\n    default: return d_end;\n    }\n}\n\nstruct SearchMapItem\n{\n    bool traversble;\n    bool goal;\n    bool visited;\n    int cost_here;\n    Dir came_from;\n    bool paths[d_end];\n};\n\nmap&lt;Pos,SearchMapItem&gt; search_map;\ntypedef map&lt;Pos,SearchMapItem&gt;::iterator SMII;\n\nvoid MakeMap()\n{\n    search_map.clear();\n    Pos p;\n    for(p.y=0;p.y&lt;MapHeight;++p.y) for(p.x=0;p.x&lt;MapWidth;++p.x) \n    {\n        SearchMapItem smi;\n        smi.visited = false;\n        smi.cost_here = -1;\n        smi.came_from = d_end;\n        if( Map[p.y][p.x] == WALL )\n        {\n            smi.traversble = false;\n        }\n        else if( Map[p.y][p.x] == GOAL )\n        {\n            smi.traversble = true;\n            smi.goal = true;\n        }\n        else if( Map[p.y][p.x] == FLOOR )\n        {\n            smi.traversble = true;\n            smi.goal = false;\n            for( Dir d = d_beg; d != d_end; ++d )\n            {\n                Pos p2 = p + deltas[d];\n                smi.paths[d] = valid(p2) &amp;&amp; (Map[p2.y][p2.x] != WALL) ;\n            }\n        }\n        search_map[p] = smi;\n    }\n}\n\nvoid FindGoalFrom( Pos start )\n{\n    vector&lt;SMII&gt; found;\n\n    {\n        SMII smii = search_map.find(start);\n\n        if(smii==search_map.end()) { cout &lt;&lt; \"starting outside map\\n\"; return; }\n        if(smii-&gt;second.goal) { cout &lt;&lt; \"already at target\\n\"; return; }\n        if(!smii-&gt;second.traversble) { cout &lt;&lt; \"starting in a wall\\n\"; return; }\n\n        smii-&gt;second.visited = true;\n        smii-&gt;second.cost_here = 0;\n        found.push_back(smii);\n    }\n\n    int cost_so_far = 0;\n    bool did_find = false;\n\n    while(!did_find)\n    {\n\n        vector&lt;SMII&gt; candidates;\n\n        for( SMII smii : found )\n        {\n            for( Dir d = d_beg; d != d_end; ++d )\n            {\n                if( ! smii-&gt;second.paths[d] ) continue;\n                Pos p = smii-&gt;first + deltas[d];\n                if(!valid(p)) continue;\n                SMII cand = search_map.find(p);\n                if(cand==search_map.end()) continue;\n                if(cand-&gt;second.visited) continue;\n                cand-&gt;second.came_from=d;\n                candidates.push_back(cand);\n            }\n        }\n\n        ++cost_so_far;\n\n        if( candidates.empty() ) break;\n\n        for( SMII smii : candidates )\n        {\n            smii-&gt;second.visited = true;\n            smii-&gt;second.cost_here = cost_so_far;\n            found.push_back(smii);\n            if( smii-&gt;second.goal ) { did_find = true; break; }\n        }\n\n    }\n\n    if( ! did_find ) { cout &lt;&lt; \"no goal reachable\\n\"; return; }\n\n    SMII pos = found.back();\n\n    vector&lt;Dir&gt; path;\n\n    while( pos-&gt;first != start )\n    {\n        Dir d = pos-&gt;second.came_from;\n        path.push_back(d);\n        Pos p = pos-&gt;first + deltas[ other(d) ];\n        pos = search_map.find(p);\n    }\n\n    for( auto itr = path.rbegin(); itr != path.rend(); ++itr )\n    {\n        const char* dir_names[] = { \"Up\", \"Right\", \"Down\", \"Left\" } ;\n        cout &lt;&lt; \"Walk \" &lt;&lt; dir_names[*itr] &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"Then you are at goal in total \" &lt;&lt; to_string(cost_so_far) &lt;&lt; \" steps\" &lt;&lt; endl;\n}\n\nint main()\n{\n    MakeMap();\n\n    FindGoalFrom( Pos(5,9) );\n\n    cout &lt;&lt; \"\\ndone\\n\";\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 1, "creation_date": 1425495012, "post_id": 28862461, "comment_id": 45990165, "body": "<code>typename BST&lt;T&gt;::template BSTNode&lt;U&gt;* BST&lt;T&gt;::BSTNode&lt;U&gt;::GetLeft()</code>"}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1425495109, "post_id": 28862461, "comment_id": 45990224, "body": "Also, you <i>must</i> implement templated methods in the header in which they are defined (not sure exactly what you meant by &#39;outside the class&#39;), they cannot go into a separate .cpp file."}, {"owner": {"reputation": 135, "user_id": 3380520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c401681454c90ce8446713771e08b91d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C", "link": "https://stackoverflow.com/users/3380520/daniel-c"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425495735, "post_id": 28862461, "comment_id": 45990592, "body": "@0x499602D2, You&#39;re the man! It works!@aruisdante, when I work with templates, I always put them in the same file."}], "owner": {"reputation": 135, "user_id": 3380520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c401681454c90ce8446713771e08b91d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel C", "link": "https://stackoverflow.com/users/3380520/daniel-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1425495020, "answer_count": 0, "score": 1, "last_activity_date": 1425494849, "creation_date": 1425494849, "question_id": 28862461, "link": "https://stackoverflow.com/questions/28862461/nested-template-class-inside-another-template-class", "closed_reason": "Duplicate", "title": "Nested template class inside another template class", "body": "<p>I want to create a templated binary search tree with a templated node definition inside the templated class, something like this:</p>\n\n<pre><code>template &lt;class T&gt;\nclass BST {\n    template &lt;class U&gt;\n    class BSTNode {\n        BSTNode&lt;U&gt;* _left;\n\n    public:\n        BSTNode&lt;U&gt;* GetLeft();\n    };\n};\n\ntemplate &lt;class T&gt;\ntemplate &lt;class U&gt;\nBST&lt;T&gt;::BSTNode&lt;U&gt;* BST&lt;T&gt;::BSTNode&lt;U&gt;::GetLeft() {\n    return _left;\n}\n</code></pre>\n\n<p>I want to define the method outside the class.\nWhen I try to compile this, I get a bunch of errors. What am I doing wrong here? Please help me, thank you very much!</p>\n"}, {"tags": ["c++", "qt", "qtablewidget"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425494962, "post_id": 28862398, "comment_id": 45990135, "body": "<code>y &lt; RowNumber</code> - if count is 5, last item has index 4 - how about that?"}, {"owner": {"reputation": 399, "user_id": 4628805, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1deef7f04e12d9c009a8f4fdd5200864?s=128&d=identicon&r=PG", "display_name": "Root0x", "link": "https://stackoverflow.com/users/4628805/root0x"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425495064, "post_id": 28862398, "comment_id": 45990201, "body": "its &lt;= so it will go through 0-5"}, {"owner": {"reputation": 399, "user_id": 4628805, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1deef7f04e12d9c009a8f4fdd5200864?s=128&d=identicon&r=PG", "display_name": "Root0x", "link": "https://stackoverflow.com/users/4628805/root0x"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425495148, "post_id": 28862398, "comment_id": 45990249, "body": "it was originally &lt;="}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425495177, "post_id": 28862398, "comment_id": 45990269, "body": "Yes, does it work with <code>&lt;</code> ?"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425495215, "post_id": 28862398, "comment_id": 45990288, "body": "&quot;but after it finishes the loop the program crashes&quot; - ok, it has to work"}, {"owner": {"reputation": 399, "user_id": 4628805, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1deef7f04e12d9c009a8f4fdd5200864?s=128&d=identicon&r=PG", "display_name": "Root0x", "link": "https://stackoverflow.com/users/4628805/root0x"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425495409, "post_id": 28862398, "comment_id": 45990388, "body": "What i did is i put a qDebug which tracked Y and then i read ui-&gt;tableWidget_Invoice-&gt;item(y, 0)-&gt;text(); into a Qstring which i printed to qDebug() my results were. x 0 String &quot;22&quot; x 1"}], "owner": {"reputation": 399, "user_id": 4628805, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1deef7f04e12d9c009a8f4fdd5200864?s=128&d=identicon&r=PG", "display_name": "Root0x", "link": "https://stackoverflow.com/users/4628805/root0x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425494657, "creation_date": 1425494657, "question_id": 28862398, "link": "https://stackoverflow.com/questions/28862398/read-multiple-qtablewidget-items", "title": "Read Multiple QTableWidget Item&#39;s", "body": "<p>I am trying to read in and store all of the rows in my table into a QVariant list but every time I run the program gets to storing the data it crashes. I know it stores the data because of qDebug() but after it finishes the loop the program crashes. My code is below.</p>\n\n<pre><code>int RowNumber = ui-&gt;tableWidget_Invoice-&gt;rowCount();\nfor(int y = 0; y&lt;=RowNumber; y++)\n        {\n            Qty &lt;&lt; ui-&gt;tableWidget_Invoice-&gt;item(y, 0)-&gt;text();\n            Description &lt;&lt; ui-&gt;tableWidget_Invoice-&gt;item(y, 1)-&gt;text();\n            Product_CODE &lt;&lt; ui-&gt;tableWidget_Invoice-&gt;item(y, 2)-&gt;text();\n            Unit_Price &lt;&lt; ui-&gt;tableWidget_Invoice-&gt;item(y, 3)-&gt;text();\n            Total_Price &lt;&lt; ui-&gt;tableWidget_Invoice-&gt;item(y, 4)-&gt;text();\n        }\n</code></pre>\n"}, {"tags": ["c++", "c++11", "functor", "standard-library"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1425494687, "post_id": 28862394, "comment_id": 45989955, "body": "Can&#39;t you present an MCVE? We don&#39;t even know what line that error was generated on..."}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1425494811, "post_id": 28862394, "comment_id": 45990029, "body": "@LightnessRacesinOrbit I&#39;ll try with vector. Will that do?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1425494838, "post_id": 28862394, "comment_id": 45990051, "body": "Will that do for <i>what</i>? You haven&#39;t told us what you&#39;re trying to do..."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1425494932, "post_id": 28862394, "comment_id": 45990110, "body": "Boost usage is not what&#39;s wrong with your test case, it&#39;s the lack of headers etc. A good test case would be one that allows us to copy-paste and compile as is, without having to guess what headers we might need to include."}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1425494939, "post_id": 28862394, "comment_id": 45990116, "body": "@LightnessRacesinOrbit I am trying to fill the contents of my container such with incrementing values"}, {"owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1425495135, "post_id": 28862394, "comment_id": 45990246, "body": "@Praetorian I added the headers"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1425495206, "post_id": 28862394, "comment_id": 45990284, "body": "The error tells everything already. The functor you pass must have no argument but your functor has 1 float argument"}], "answers": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 2, "last_activity_date": 1425494759, "creation_date": 1425494759, "answer_id": 28862432, "question_id": 28862394, "link": "https://stackoverflow.com/questions/28862394/functor-compile-time-error/28862432#28862432", "title": "Functor compile time error", "body": "<p>The signature of the functor you pass to <code>std::generate</code> must take zero arguments. </p>\n\n<p>This is stated in <a href=\"http://en.cppreference.com/w/cpp/algorithm/generate\" rel=\"nofollow\">documentation</a>.</p>\n\n<p>Unfortunately, you didn't tell us what you are trying to do, so I can't suggest a fix for you.</p>\n"}, {"owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495079, "creation_date": 1425495079, "answer_id": 28862505, "question_id": 28862394, "link": "https://stackoverflow.com/questions/28862394/functor-compile-time-error/28862505#28862505", "title": "Functor compile time error", "body": "<p>A possible fix would be to change:</p>\n\n<pre><code>  float operator()(float in) {\n        val = in + 1;\n        return val;\n    }\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>   float operator()( void ) {\n        float rv = val;\n        val = val + 1.0;\n        return rv;\n    }\n</code></pre>\n\n<p>If that does what you <em>want</em>, that is the question ...</p>\n"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495206, "creation_date": 1425495206, "answer_id": 28862531, "question_id": 28862394, "link": "https://stackoverflow.com/questions/28862394/functor-compile-time-error/28862531#28862531", "title": "Functor compile time error", "body": "<p>The function you're looking for is <code>std::transform</code>:</p>\n\n<pre><code>std::transform(m1.begin2(),\n               m1.begin2() + m1.size1() * m1.size2(),\n               m1.begin2(),\n               myFiller);\n</code></pre>\n"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1425495892, "creation_date": 1425495892, "answer_id": 28862744, "question_id": 28862394, "link": "https://stackoverflow.com/questions/28862394/functor-compile-time-error/28862744#28862744", "title": "Functor compile time error", "body": "<p>Based on the clarification in the comment (\"I am trying to fill the contents of my container such with incrementing values\") what you really want is <code>std::iota</code>. I haven't quite gotten straight what you're trying to do with your <code>matrix</code>, and how you want the values to increment (row-wise or column-wise), so I'll give a demo with a normal vector, and let you figure out how to apply it in your actual situation:</p>\n\n<pre><code>std::vector&lt;int&gt; v(10);\n\nstd::iota(v.begin(), v.end(), 22.2);\n\nfor (auto i : v)\n    std::cout &lt;&lt; i &lt;&lt; \" \";\n</code></pre>\n\n<p>Should produce: <code>22.2 23.2 24.2 25.2 26.2 27.2 28.2 29.2 30.2 31.2</code></p>\n"}], "owner": {"reputation": 2717, "user_id": 3670482, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c8eae23189a5c64f7bf9d1467cfd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Vivandiere", "link": "https://stackoverflow.com/users/3670482/the-vivandiere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 28862744, "answer_count": 4, "score": 0, "last_activity_date": 1425495892, "creation_date": 1425494644, "last_edit_date": 1425495062, "question_id": 28862394, "link": "https://stackoverflow.com/questions/28862394/functor-compile-time-error", "title": "Functor compile time error", "body": "<p>My code - </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\nusing namespace std;\n\n#include \"boost\\numeric\\ublas\\matrix.hpp\"\n\ntypedef boost::numeric::ublas::matrix&lt;float&gt; matrix;\n\n\nclass FillMat{  \npublic:\n    FillMat(float valIn) : val(valIn){}\n    float operator()(float in) {\n        val = in + 1;\n        return val;\n    }\nprivate:\n    float val;\n};\n\ntypedef boost::numeric::ublas::matrix&lt;float&gt; matrix;\nint main(){\n    matrix m1(10, 20);\n    float init = 22.2;\n    FillMat myFiller(init);\n\n    generate(m1.begin2(), m1.begin2() + m1.size1()*m1.size2(), myFiller);\n\n\n    return 0;\n}\n</code></pre>\n\n<p>When I try to compile the code, I get the following compile time error.</p>\n\n<pre><code>Error   3   error C2064: term does not evaluate to a function taking 0 arguments    \n</code></pre>\n\n<p>Can someone please tell me why?</p>\n\n<p>P.S. I added the headers. I am using Boost matrix for 2D array.</p>\n"}, {"tags": ["c++", "string", "algorithm", "expansion", "string-interpolation"], "comments": [{"owner": {"reputation": 3784, "user_id": 1086871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3b5ca501c8756c075f442808d148729?s=128&d=identicon&r=PG", "display_name": "G. Bach", "link": "https://stackoverflow.com/users/1086871/g-bach"}, "edited": false, "score": 0, "creation_date": 1425525737, "post_id": 28862347, "comment_id": 46002913, "body": "Build a DFA accepting the language of the regular expression, do a BFS and only output whenever you&#39;re in an accepting state. Store already output words, break off any branches of the BFS that repeat already output words."}, {"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 0, "creation_date": 1425568153, "post_id": 28862347, "comment_id": 46023479, "body": "Whatever solution you choose, don&#39;t run it on <code>a+</code>."}, {"owner": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "edited": false, "score": 0, "creation_date": 1425647877, "post_id": 28862347, "comment_id": 46058352, "body": "Thanks G.Bach and Sebastian.The problem has been resolved."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1425900918, "post_id": 28862347, "comment_id": 46136516, "body": "The comment: &quot;I have managed to partition the strings seperated by commas and run a recursive algorithm but the products get printed in reverse order.&quot; had been edited into the question by the OP. I have rolled that back and placed it here to make the question more clear for future readers."}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "edited": false, "score": 0, "creation_date": 1425495943, "post_id": 28862668, "comment_id": 45990709, "body": "Could you please give a pseudocode or elaborate step no. 3"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "edited": false, "score": 0, "creation_date": 1425496936, "post_id": 28862668, "comment_id": 45991296, "body": "@NilutpalBorgohain I&#39;ve expanded the answer a bit, but as mentioned, it will take a bit of work. This is a bad question because it&#39;s really asking someone else to do your work for you. If you have further questions I recommend beginning work on this, and when you have something to show ask how you could fix whatever problem you are running into as a new question."}, {"owner": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "edited": false, "score": 0, "creation_date": 1425647946, "post_id": 28862668, "comment_id": 46058407, "body": "Thanks Jonathan ,the problem has been resolved."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "edited": false, "score": 1, "creation_date": 1425650242, "post_id": 28862668, "comment_id": 46059855, "body": "@NilutpalBorgohain Great work man! That was a fun problem. We might get some (more) down votes for posting a solution to a question with no work attached, but I thought it might be helpful to you to look over my work. Let me know if you have questions. Also, If this answer solved your problem please click the check mark next to it."}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 4, "last_activity_date": 1426246014, "last_edit_date": 1495541774, "creation_date": 1425495637, "answer_id": 28862668, "question_id": 28862347, "link": "https://stackoverflow.com/questions/28862347/generate-all-possible-matches-of-a-regular-expression/28862668#28862668", "title": "Generate All Possible Matches of a Regular Expression", "body": "<p>Your steps are pretty straight forward though implementing them may take a bit of work:</p>\n\n<ol>\n<li>Create a recursive function which extracts the string between the first set of parenthesis it comes to: <a href=\"https://stackoverflow.com/a/28863720/2642059\">https://stackoverflow.com/a/28863720/2642059</a></li>\n<li>In the function split this strings on <code>','</code> into a <code>vector&lt;string&gt;</code> and return it: <a href=\"https://stackoverflow.com/a/28880605/2642059\">https://stackoverflow.com/a/28880605/2642059</a></li>\n<li>Before returning test if it is necessary to recurse because of a nested parenthesis, one string must be added to the return for each possible combination returned from recursed functions</li>\n</ol>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Say my input string was \"(bl(ah,eck,le),yap)\"</p>\n\n<ul>\n<li>The first function would extract the <code>string</code>: \"bl(ah,eck,le),yap\"</li>\n<li>Before returning it would search for nested parenthesis, this would cause it to recurse:\n\n<ul>\n<li>The second function would extract the <code>string</code>: \"ah,eck,le\"</li>\n<li>Before returning it would search for nested parenthesis and find none</li>\n<li>It would return an <code>vector&lt;string&gt;</code>: [\"ah\",\"eck\",\"le\"]</li>\n</ul></li>\n<li>The first function would now contain: \"bl[\"ah\",\"eck\",\"le\"],yap\"</li>\n<li>It would not find anymore parenthesis to extract, so it would go to expanding all internal combinations: \"[\"blah\",\"bleck\",\"blle\"],yap\"</li>\n<li>It could now split the string and return: [\"blah\",\"bleck\",\"blle\",\"yap\"]</li>\n</ul>\n\n<p>The return from your first function is your result.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Glad you solved it I wrote up a two state machine to solve it as well so I figured I could post it here for your comparison:</p>\n\n<pre><code>const char* extractParenthesis(const char* start, const char* finish){\n    int count = 0;\n\n    return find_if(start, finish, [&amp;](char i){\n        if (i == '('){\n            count++;\n        }\n        else if (i == ')'){\n            count--;\n        }\n        return count &lt;= 0; });\n}\n\nvector&lt;string&gt; split(const char* start, const char* finish){\n    const char delimiters[] = \",(\";\n    const char* it;\n    vector&lt;string&gt; result;\n\n    do{\n        for (it = find_first_of(start, finish, begin(delimiters), end(delimiters));\n            it != finish &amp;&amp; *it == '(';\n            it = find_first_of(extractParenthesis(it, finish) + 1, finish, begin(delimiters), end(delimiters)));\n        auto&amp;&amp; temp = interpolate(start, it);\n        result.insert(result.end(), temp.begin(), temp.end());\n        start = ++it;\n    } while (it &lt;= finish);\n    return result;\n}\n\nvector&lt;string&gt; interpolate(const char* start, const char* finish){\n    vector&lt;string&gt; result{ 1, string{ start, find(start, finish, '(') } };\n\n    for (auto it = start + result[0].size();\n        it != finish;\n        it = find(++start, finish, '('),\n        for_each(result.begin(), result.end(), [&amp;](string&amp; i){ i += string{ start, it }; })){\n        start = extractParenthesis(it, finish);\n\n        auto temp = split(next(it), start);\n        const auto size = result.size();\n\n        result.resize(size * temp.size());\n\n        for (int i = result.size() - 1; i &gt;= 0; --i){\n            result[i] = result[i % size] + temp[i / size];\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>Depending upon your compiler you'll need to forward declare these since they call each other. This will also crash fantastically if the input string is malformed. And it can't handle escaped control characters.</p>\n\n<p>Anyway you can call it like this:</p>\n\n<pre><code>const char test[] = \"((a,b,c)o(m,v)p,b)\";\nauto foo = interpolate(begin(test), end(test));\n\nfor (auto&amp; i : foo){\n    cout &lt;&lt; i &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 3915108, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002925100463/picture?type=large", "display_name": "Nilutpal Borgohain", "link": "https://stackoverflow.com/users/3915108/nilutpal-borgohain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 0, "closed_date": 1426595687, "accepted_answer_id": 28862668, "answer_count": 1, "score": -1, "last_activity_date": 1426246014, "creation_date": 1425494507, "last_edit_date": 1425900768, "question_id": 28862347, "link": "https://stackoverflow.com/questions/28862347/generate-all-possible-matches-of-a-regular-expression", "closed_reason": "Needs more focus", "title": "Generate All Possible Matches of a Regular Expression", "body": "<p>How can I derive all possible matches of a regular expression</p>\n\n<p>For example:</p>\n\n<blockquote>\n  <p>((a,b,c)o(m,v)p,b)</p>\n</blockquote>\n\n<p>The strings generated from above expression would be:</p>\n\n<blockquote>\n  <p>aomp</p>\n  \n  <p>bomp</p>\n  \n  <p>comp</p>\n  \n  <p>aovp</p>\n  \n  <p>bovp</p>\n  \n  <p>covp</p>\n  \n  <p>b</p>\n</blockquote>\n"}, {"tags": ["c++", "compiler-warnings", "default-arguments"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1425494309, "post_id": 28862203, "comment_id": 45989731, "body": "You should enable the &quot;code reviewer yells at you for adding default arguments&quot; warning :)"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1425494557, "post_id": 28862203, "comment_id": 45989879, "body": "There&#39;s no warning that I know of. Array-&gt;pointer-&gt;bool is a perfectly well-defined conversion sequence."}, {"owner": {"reputation": 147, "user_id": 3389120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd451b1db2f5d4a8aad88b258d1232a?s=128&d=identicon&r=PG&f=1", "display_name": "raovgarimella", "link": "https://stackoverflow.com/users/3389120/raovgarimella"}, "edited": false, "score": 0, "creation_date": 1425502821, "post_id": 28862203, "comment_id": 45994674, "body": "This is a highly simplified but representative example constructed from a much more complex code where if I avoided arguments with default values, I would have so many overloaded functions for all the variants that it would be quite unwieldy."}, {"owner": {"reputation": 147, "user_id": 3389120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd451b1db2f5d4a8aad88b258d1232a?s=128&d=identicon&r=PG&f=1", "display_name": "raovgarimella", "link": "https://stackoverflow.com/users/3389120/raovgarimella"}, "edited": false, "score": 0, "creation_date": 1425503163, "post_id": 28862203, "comment_id": 45994896, "body": "Is there any mechanism  to prevent an argument from undergoing implicit conversion. I am planning on using the method suggested by @Slava (i.e. to switch the order of arguments) but in the context of my larger code it would be semantically much clearer and cleaner, if I could keep the bool arguments with defaults before the pointer arguments with defaults and protect the pointer arguments from explicit conversion."}], "answers": [{"comments": [{"owner": {"reputation": 1574, "user_id": 1240825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54627be67b42424f6642a709a23b244d?s=128&d=identicon&r=PG", "display_name": "maxywb", "link": "https://stackoverflow.com/users/1240825/maxywb"}, "edited": false, "score": 0, "creation_date": 1425494180, "post_id": 28862234, "comment_id": 45989649, "body": "This is why default arguments are so horrifying."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1425494281, "post_id": 28862234, "comment_id": 45989713, "body": "Is there 2 conversions array -&gt; ponter -&gt; bool ?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1425494432, "post_id": 28862234, "comment_id": 45989804, "body": "@Slava, that&#39;s my understanding."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1425494511, "post_id": 28862234, "comment_id": 45989847, "body": "@Slava: an array decays to a pointer so I&#39;m not sure if that&#39;s consider that a conversion per se.  Then the pointer can be converted to a bool."}, {"owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1425494552, "post_id": 28862234, "comment_id": 45989872, "body": "That. The array is always considered as a pointer so there is indeed only one conversion pointer -&gt; bool involved."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 1574, "user_id": 1240825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54627be67b42424f6642a709a23b244d?s=128&d=identicon&r=PG", "display_name": "maxywb", "link": "https://stackoverflow.com/users/1240825/maxywb"}, "edited": false, "score": 0, "creation_date": 1425494590, "post_id": 28862234, "comment_id": 45989895, "body": "@maxywb no, it&#39;s not."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1425494593, "post_id": 28862234, "comment_id": 45989897, "body": "@NathanOliver, Yes, array-to-pointer is a conversion per the standard. It&#39;s called, unimaginatively, an array-to-pointer conversion."}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "reply_to_user": {"reputation": 1574, "user_id": 1240825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54627be67b42424f6642a709a23b244d?s=128&d=identicon&r=PG", "display_name": "maxywb", "link": "https://stackoverflow.com/users/1240825/maxywb"}, "edited": false, "score": 0, "creation_date": 1425494618, "post_id": 28862234, "comment_id": 45989910, "body": "@maxywb that is why pointer to bool conversions are so horrifying. Nothing wrong with default arguments per se."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1425494628, "post_id": 28862234, "comment_id": 45989915, "body": "@haavee, Arrays are not always considered pointers. The decay must happen, as stated."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1425494753, "post_id": 28862234, "comment_id": 45989996, "body": "@haavee: An array is never &quot;considered&quot; as a pointer. There is an implicit conversion from an array expression to a pointer (to the array&#39;s first element). That conversion happens in most, but not all, contexts. (If arrays were pointers, the conversion would not be necessary.)"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1425494754, "post_id": 28862234, "comment_id": 45989998, "body": "@RSahu then 2 implicit conversions should not happen, am I wrong?"}, {"owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1425494838, "post_id": 28862234, "comment_id": 45990052, "body": "According to what I just learned it depends on the context where the array is used. There are, indeed, I just learned, situations where the conversion is not automatic."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1425495077, "post_id": 28862234, "comment_id": 45990207, "body": "@Slava, any number of standard conversions can be applied. See the updated answer."}, {"owner": {"reputation": 1574, "user_id": 1240825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54627be67b42424f6642a709a23b244d?s=128&d=identicon&r=PG", "display_name": "maxywb", "link": "https://stackoverflow.com/users/1240825/maxywb"}, "reply_to_user": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1425495375, "post_id": 28862234, "comment_id": 45990364, "body": "@rubenvb I just happen to disagree with you. I hate default arguments for more reasons than should be explained in a comment."}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 14, "last_activity_date": 1425495036, "last_edit_date": 1425495036, "creation_date": 1425494100, "answer_id": 28862234, "question_id": 28862203, "link": "https://stackoverflow.com/questions/28862203/c-compiler-does-not-warn-about-missing-argument-before-end-of-default-argument/28862234#28862234", "title": "C++ compiler does not warn about missing argument before end of default arguments", "body": "<p>The compiler decays the array to a pointer and converts the pointer to a <code>bool</code> and proceeds.</p>\n\n<p><strong>Update</strong></p>\n\n<p>From the C++11 Standard:</p>\n\n<blockquote>\n  <p><strong>4 Standard conversions</strong> [conv]</p>\n  \n  <p>1 Standard conversions are implicit conversions with built-in meaning. Clause 4 enumerates the full set of such\n  conversions. <em>A standard conversion sequence</em> is a sequence of standard conversions in the following order:</p>\n  \n  <p>\u2014 Zero or one conversion from the following set: lvalue-to-rvalue conversion, array-to-pointer conversion,\n  and function-to-pointer conversion.</p>\n  \n  <p>\u2014 Zero or one conversion from the following set: integral promotions, floating point promotion, integral\n  conversions, floating point conversions, floating-integral conversions, pointer conversions, pointer to\n  member conversions, and boolean conversions.</p>\n  \n  <p>\u2014 Zero or one qualification conversion.</p>\n  \n  <p>[ <em>Note:</em> A standard conversion sequence can be empty, i.e., it can consist of no conversions. <em>\u2014end note</em> ]</p>\n  \n  <p>A standard conversion sequence will be applied to an expression if necessary to convert it to a required destination type.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1425497178, "post_id": 28862373, "comment_id": 45991430, "body": "If using 0 as a null pointer, you can at least get GCC to warn you that you should use <code>nullptr</code>."}], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495849, "last_edit_date": 1425495849, "creation_date": 1425494595, "answer_id": 28862373, "question_id": 28862203, "link": "https://stackoverflow.com/questions/28862203/c-compiler-does-not-warn-about-missing-argument-before-end-of-default-argument/28862373#28862373", "title": "C++ compiler does not warn about missing argument before end of default arguments", "body": "<p>In this particular case solution could be using different argument order:</p>\n\n<pre><code>void func(int const n, int *array=NULL, bool const flag=true ) {\n  /* print contents of array */\n}\n</code></pre>\n\n<p>If you ommit second parameter boolean value cannot be implicitly converted to a pointer (unless you have bad habbit of using 0 as <code>false</code>), so it will fail to compile (or at least provide warning). </p>\n\n<pre><code>void func(int const n, int *array = nullptr, bool const flag=true ) {\n      /* print contents of array */\n}\n\nint main()\n{\n    func( 0, false );\n}\n</code></pre>\n\n<blockquote>\n  <p>warning: converting 'false' to pointer type for argument 2 of 'void\n  func(int, int*, bool)' [-Wconversion-null]</p>\n</blockquote>\n\n<p>But in general it shows that you should use different technique. For example using <code>std::vector</code> instead of raw pointer.</p>\n\n<pre><code>typedef std::vector&lt;int&gt; int_vec;\nvoid func( bool const flag=true, const int_vec &amp;array = int_vec() ) {\n      /* print contents of array */\n}\n\nint main()\n{\n    int_vec array {1,2,3,4,5};\n    func( array );\n}\n</code></pre>\n\n<blockquote>\n  <p>error: cannot convert 'int_vec {aka std::vector}' to 'bool' for\n  argument '1' to 'void func( bool, int_vec)'</p>\n</blockquote>\n"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495076, "creation_date": 1425495076, "answer_id": 28862503, "question_id": 28862203, "link": "https://stackoverflow.com/questions/28862203/c-compiler-does-not-warn-about-missing-argument-before-end-of-default-argument/28862503#28862503", "title": "C++ compiler does not warn about missing argument before end of default arguments", "body": "<p>According to the C++ Standard (4 Standard conversions)</p>\n\n<blockquote>\n  <p>1 Standard conversions are implicit conversions with built-in meaning.\n  Clause 4 enumerates the full set of such conversions. A standard\n  conversion sequence is a sequence of standard conversions in the\n  following order:</p>\n  \n  <p>\u2014 Zero or one conversion from the following set:\n  lvalue-to-rvalue conversion, <strong>array-to-pointer conversion</strong>, and\n  function-to-pointer conversion.</p>\n  \n  <p>\u2014 Zero or one conversion from the following set: integral\n  promotions, floating point promotion, integral conversions, floating\n  point conversions, floating-integral conversions, pointer conversions,\n  pointer to member conversions, and <strong>boolean conversions</strong>.</p>\n  \n  <p>\u2014 Zero or one qualification conversion.</p>\n</blockquote>\n\n<p>And</p>\n\n<p>4.12 Boolean conversions</p>\n\n<blockquote>\n  <p>1 A prvalue of arithmetic, unscoped enumeration, <strong>pointer</strong>, or pointer\n  to member type can be converted to a prvalue of type bool. A zero\n  value, null pointer value, or null member pointer value is\n  converted to false; any other value is converted to true. For\n  direct-initialization (8.5), a prvalue of type std::nullptr_t can be\n  converted to a prvalue of type bool; the resulting value is false.</p>\n</blockquote>\n\n<p>So this function call</p>\n\n<pre><code>func(5,array);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>func(5,array, NULL);\n</code></pre>\n\n<p>the second argument at first was converted from array to pointer (array-to-pointer conversion) and then was converted to boolean true (boolean conversions).</p>\n\n<p>Thus this call is a valid call of the function. The compiler implicitly converts arguments to appropriate types.</p>\n"}, {"owner": {"reputation": 1374, "user_id": 1818292, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2badf225f7ad2f14f75c8afd1fe1c9b?s=128&d=identicon&r=PG", "display_name": "Satara", "link": "https://stackoverflow.com/users/1818292/satara"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495317, "creation_date": 1425495317, "answer_id": 28862558, "question_id": 28862203, "link": "https://stackoverflow.com/questions/28862203/c-compiler-does-not-warn-about-missing-argument-before-end-of-default-argument/28862558#28862558", "title": "C++ compiler does not warn about missing argument before end of default arguments", "body": "<p>There is an implicit casting to bool taking place.\nWith Visual C++ you would get a <a href=\"https://msdn.microsoft.com/en-us/library/b6801kcy.aspx\" rel=\"nofollow\">C4800</a> warning.\nIn gcc you can request specific warnings with options beginning with \u2018-W\u2019, for example <code>-Wimplicit</code> to request warnings on implicit declarations. See <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html\" rel=\"nofollow\">Options to Request or Suppress Warnings</a> for the full documentation.</p>\n"}], "owner": {"reputation": 147, "user_id": 3389120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd451b1db2f5d4a8aad88b258d1232a?s=128&d=identicon&r=PG&f=1", "display_name": "raovgarimella", "link": "https://stackoverflow.com/users/3389120/raovgarimella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 4, "score": 5, "last_activity_date": 1425495849, "creation_date": 1425494022, "question_id": 28862203, "link": "https://stackoverflow.com/questions/28862203/c-compiler-does-not-warn-about-missing-argument-before-end-of-default-argument", "title": "C++ compiler does not warn about missing argument before end of default arguments", "body": "<p>I declared a C++ function declaration with 3 arguments, two of which had defaults like so.</p>\n\n<pre><code>void func(int const n, bool const flag=true, int *array=NULL) {\n  /* print contents of array */\n}\n</code></pre>\n\n<p>When I invoked the function erroneously, omitting the second argument but including the third argument, like so</p>\n\n<pre><code>int array[5]={1,2,3,4,5};\nfunc(5,array);\n</code></pre>\n\n<p>neither gcc nor intel compilers (default ones on Ubuntu 14.04 LTS) complained that the last argument was specified without specifying the second last one. The code ran but sent in NULL for array (I expected the code to fail).</p>\n\n<p>My question is why didn't the compilers complain that it could not find a matching function since the signature of my invocation should have appeared as</p>\n\n<pre><code>funct(int const, int *)\n</code></pre>\n\n<p>What options can I turn on during compiling to trigger a warning about this erroneous usage?</p>\n"}, {"tags": ["c++", "variables", "initialization"], "comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1425493563, "post_id": 28861985, "comment_id": 45989321, "body": "They&#39;re the same for scalar types. In general they&#39;re different."}, {"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1425493776, "post_id": 28861985, "comment_id": 45989444, "body": "&quot;In general they&#39;re different&quot;..what do you mean by this statement?what are the situations they are different at?"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425493776, "post_id": 28861985, "comment_id": 45989445, "body": "So much hard to find on google."}, {"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1425493942, "post_id": 28861985, "comment_id": 45989534, "body": "@LogicStuff Actually i didn&#39;t  know what it is called thats why i asked here.I searched different ways of initialization but that doesn&#39;t helped me"}], "answers": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 4, "last_activity_date": 1425493647, "creation_date": 1425493647, "answer_id": 28862091, "question_id": 28861985, "link": "https://stackoverflow.com/questions/28861985/what-are-different-ways-of-initialization/28862091#28862091", "title": "What are different ways of initialization", "body": "<p>Strictly speaking, the first one is called \"copy initialization\" and the second one is called \"direct initialization\". For primitive types, there is no difference in code behavior.</p>\n\n<p>More details can be found at <a href=\"http://en.cppreference.com/w/cpp/language/initialization\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/initialization</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "edited": false, "score": 0, "creation_date": 1425494287, "post_id": 28862117, "comment_id": 45989719, "body": "That was pretty clear Mister..Thanks"}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "reply_to_user": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "edited": false, "score": 0, "creation_date": 1425494802, "post_id": 28862117, "comment_id": 45990022, "body": "@chotabheem You are welcome :)"}], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": true, "score": 6, "last_activity_date": 1425493701, "creation_date": 1425493701, "answer_id": 28862117, "question_id": 28861985, "link": "https://stackoverflow.com/questions/28861985/what-are-different-ways-of-initialization/28862117#28862117", "title": "What are different ways of initialization", "body": "<p><code>long long int flag = n-1</code> is <a href=\"http://en.cppreference.com/w/cpp/language/copy_initialization\">copy initialization</a>. For class types, this only considers non-explicit constructors and user-defined conversions.</p>\n\n<p><code>long long int flag(n-1)</code> is <a href=\"http://en.cppreference.com/w/cpp/language/direct_initialization\">direct initialization</a>. This considers all constructors and user-defined conversions.</p>\n\n<p>However, these differences only matter for class types. For fundamental types, there is no difference.</p>\n"}, {"owner": {"reputation": 3536, "user_id": 2242700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3wTVZ.gif?s=128&g=1", "display_name": "A. Duff", "link": "https://stackoverflow.com/users/2242700/a-duff"}, "is_accepted": false, "score": 0, "last_activity_date": 1425493799, "creation_date": 1425493799, "answer_id": 28862143, "question_id": 28861985, "link": "https://stackoverflow.com/questions/28861985/what-are-different-ways-of-initialization/28862143#28862143", "title": "What are different ways of initialization", "body": "<p>For built-in types like the ones you listed, there is no difference.</p>\n\n<p>But if you were dealing with objects, then the first would call the assignment operator, and the second would call the copy constructor.</p>\n\n<p>So if you had overloaded the assignment operator and copy constructor, then</p>\n\n<pre><code>operator=(const Object&amp; rhs)\n</code></pre>\n\n<p>would be called by the first, and</p>\n\n<pre><code>Object(const Object&amp; rhs)\n</code></pre>\n\n<p>would be called by the second.</p>\n\n<p>It's important to note this because of the differences in the way these functions behave. The copy constructor of a derived object will always call all the base objects' constructors. But creating an object will always automatically call its constructor anyway, and this will automatically call the base constructors also.</p>\n\n<p>So, for instance, if you created an object and then assigned it</p>\n\n<pre><code>Object o;\no = n - 1;\n</code></pre>\n\n<p>Then you would be calling the object's constructor, all of its base constructors, and then its assignment operator. This is why it's generally best to use the copy constructor for objects. For built-in types it doesn't matter.</p>\n"}], "owner": {"reputation": 311, "user_id": 4633485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77fe78d3d73db9cd768207c46671819b?s=128&d=identicon&r=PG&f=1", "display_name": "chota bheem", "link": "https://stackoverflow.com/users/4633485/chota-bheem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1425493963, "accepted_answer_id": 28862117, "answer_count": 3, "score": 0, "last_activity_date": 1425493799, "creation_date": 1425493349, "question_id": 28861985, "link": "https://stackoverflow.com/questions/28861985/what-are-different-ways-of-initialization", "closed_reason": "Duplicate", "title": "What are different ways of initialization", "body": "<p>What is the difference between:</p>\n\n<pre><code>long long int flag=n-1; and long long int flag(n-1);\n</code></pre>\n\n<p>Are these things same?I have seen the latter couple of time but have no proper idea about it.</p>\n"}, {"tags": ["c++", "dynamic"], "comments": [{"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "edited": false, "score": 0, "creation_date": 1425493904, "post_id": 28861984, "comment_id": 45989517, "body": "Thanks for the edit, Cyber =)"}, {"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "edited": false, "score": 0, "creation_date": 1425494886, "post_id": 28861984, "comment_id": 45990077, "body": "btw quick question, How long does it usually take for a question to be answered? I want to work on my program, but I can&#39;t until I know how to run code from a text file. Not complaining."}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425495536, "post_id": 28861984, "comment_id": 45990460, "body": "A programme that takes code from a text file and compiles it is called a compiler. If you want to interactively edit and run it, it&#39;s an ide. It&#39;s very ambitious and much to broad for here !"}, {"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1425496011, "post_id": 28861984, "comment_id": 45990750, "body": "there isn&#39;t some way to just have the program treat it as though the code in the text file is part of the program and compile and run it like it always does?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "edited": false, "score": 0, "creation_date": 1425498032, "post_id": 28862753, "comment_id": 45991916, "body": "Thank You. I now have more questions, but am on the right track =)"}], "owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "is_accepted": false, "score": 2, "last_activity_date": 1425495933, "creation_date": 1425495933, "answer_id": 28862753, "question_id": 28861984, "link": "https://stackoverflow.com/questions/28861984/c-running-code-from-a-text-file/28862753#28862753", "title": "C++ Running code from a text file", "body": "<p>The most basic solution is to invoke the C/C++ compiler to compile the text file each time it changes and before you call it.  But what you are probably looking for is an interpreter, not a compiler.  There are various C/C++ interpreters (which you can search for) that may meet your needs.  However, C/C++ is not traditionally interpreted.  More popular interpreted languages are Python, Lua, and JavaScript.  With those, it is possible to embed the source code of the interpreter into your C/C++ program and interact with it --- it is possible to call the interpreted language's functions from C/C++ and vice-versa.</p>\n"}], "owner": {"reputation": 21, "user_id": 3672749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/625684c35946852eafaefb6991eb55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kuroyuki", "link": "https://stackoverflow.com/users/3672749/kuroyuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425495933, "creation_date": 1425493343, "last_edit_date": 1495541571, "question_id": 28861984, "link": "https://stackoverflow.com/questions/28861984/c-running-code-from-a-text-file", "title": "C++ Running code from a text file", "body": "<p>I realize that this (<a href=\"https://stackoverflow.com/questions/826398/is-it-possible-to-dynamically-compile-and-execute-c-sharp-code-fragments\">Is it possible to dynamically compile and execute C# code fragments?</a>) is a similar question, But it is 5 years old, and also in C#. Basically what I would like to do is have a program take code from a text file, and then compile and run it. If C++ is not a good language for this a recommendation would be helpful. Here is my basic goal.</p>\n\n<blockquote>\n  <p>Have code that runs code from a text file(ex; Test0).<br>\n  Have the code from the file output 'Hello'<br>\n  Then make another file(Test1) and change the output to a mixing of those letters<br>\n  When it saves, it overwrites any previous file of the same name<br>\n  The Code from the text file then ends.<br>\n  The original program then makes Test0=Test1<br>\n  The program then loops or ends.  </p>\n</blockquote>\n\n<p>Sorry about the coloring, the only way I know how to make the enter key strokes to appear is the code exert thingy.</p>\n"}, {"tags": ["c++", "linked-list", "singly-linked-list"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4633501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35591dba63caf5720c31af3017fe68f?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy", "link": "https://stackoverflow.com/users/4633501/sammy"}, "edited": false, "score": 0, "creation_date": 1425557926, "post_id": 28862170, "comment_id": 46017169, "body": "Yea @haavee that&#39;s definitely not what I wanted to do. I&#39;ll re-read and redo this function and fix the errors necessary."}], "owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "is_accepted": false, "score": 0, "last_activity_date": 1425493906, "creation_date": 1425493906, "answer_id": 28862170, "question_id": 28861983, "link": "https://stackoverflow.com/questions/28861983/linked-list-insertion-issue/28862170#28862170", "title": "Linked List insertion issue", "body": "<p>At the beginning of your <code>void List::insertNode1(float p, float d)</code> function:</p>\n\n<pre><code>nodePtr = head;\nselectedNode = nodePtr;\nselectedNode-&gt;data = p;\n</code></pre>\n\n<p>Here, <code>selectedNode</code> points at the <code>head</code> of the list and you seem to overwrite the data of that node with the value of <code>p</code>, which I cannot help but feel is not what you meant to do.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4633501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35591dba63caf5720c31af3017fe68f?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy", "link": "https://stackoverflow.com/users/4633501/sammy"}, "edited": false, "score": 0, "creation_date": 1425557880, "post_id": 28862578, "comment_id": 46017150, "body": "Ohhhhh So that&#39;s why I keep getting this output. Thanks so much :D. I will fix the errors pointed out."}], "owner": {"reputation": 101, "user_id": 4612078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d84be21ed6acd01ed06f5c9e8d3deb?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4612078/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1425495380, "creation_date": 1425495380, "answer_id": 28862578, "question_id": 28861983, "link": "https://stackoverflow.com/questions/28861983/linked-list-insertion-issue/28862578#28862578", "title": "Linked List insertion issue", "body": "<p>There are a few issues inside <code>List::insertNode1</code>.</p>\n\n<pre><code>nodePtr = head;\nselectedNode = nodePtr;\nselectedNode-&gt;data = p;\n</code></pre>\n\n<p>Here <code>selectedNode</code> points at <code>head</code> but then you set the first data value to p.</p>\n\n<pre><code>if (head != NULL){\n    head = newNode;\n    newNode-&gt;next = NULL;\n}\n</code></pre>\n\n<p>This part only executes when <code>head</code> is not null. This means you get rid of the entire list every time this is run. This is why the last call to <code>list::displayList</code> only prints <code>5</code>.</p>\n\n<pre><code>if (selectedNode == NULL){\n    head = newNode;\n    selectedNode-&gt;next = NULL;\n}\n</code></pre>\n\n<p>Here <code>selectedNode</code> is <code>NULL</code>. first you set <code>head</code> to be a new node but this doesn't change selectedNode. If you ran this method on an empty list your program would segfault here. You should be setting the next of <code>head</code> or <code>newNode</code> to <code>NULL</code> here, not <code>selectedNode</code>.</p>\n\n<pre><code>else {\n    selectedNode-&gt;next = newNode;\n}\n</code></pre>\n\n<p>Here <code>selectedNode</code> still points to <code>head</code>. You change <code>nodePtr</code> but this doesn't also change <code>selectedNode</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4633501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35591dba63caf5720c31af3017fe68f?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy", "link": "https://stackoverflow.com/users/4633501/sammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425495380, "creation_date": 1425493336, "last_edit_date": 1425493447, "question_id": 28861983, "link": "https://stackoverflow.com/questions/28861983/linked-list-insertion-issue", "title": "Linked List insertion issue", "body": "<p>I was trying out Linked List and I have a bit of problem with my insertNode1 function. This function is supposed to insert a new node after the inputted node by the user. The result doesn't show what I wanted to show. I wanted the number 5 to be after 3, but it doesn't show how I wanted it.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass List {\n    struct node {\n        float data;\n        node* next;\n    };\n    node* head;\npublic:\n    void appendNode(float);\n    void insertNode(float);\n    void insertNode1(float,float);\n    void deleteNode(float);\n    void displayList();\n    List(){\n\n        head = NULL;\n    }\n    ~List(){\n        node *nodePtr, *nextNode;\n        nodePtr = head;\n        while (nodePtr != NULL){\n        nextNode = nodePtr-&gt;next;\n        delete nodePtr;\n        nodePtr = nextNode; \n        }\n    }\n};\n\n\nvoid List::appendNode(float d)\n{\n    node *newNode, *nodePtr;\n    newNode = new node; \n    newNode-&gt;data = d;\n    newNode-&gt;next = NULL;\n\n    if (!head){\n        head = newNode;\n    }\n    else {\n        nodePtr = head;\n        while (nodePtr-&gt;next){\n            nodePtr = nodePtr-&gt;next;\n        }\n        nodePtr-&gt;next = newNode;\n    }\n\n}\n\nvoid List::insertNode(float d){\n    node *newNode, *nodePtr, *prevNode=NULL;\n    newNode = new node;\n    newNode-&gt;data = d;\n    if (head== NULL)\n    {\n        head = newNode;\n        newNode-&gt;next = NULL;\n    }\n    else {\n        nodePtr = head;\n        while (nodePtr != NULL &amp;&amp; nodePtr-&gt;data &lt; d){\n            prevNode = nodePtr;\n            nodePtr = nodePtr-&gt;next;\n        }\n        if (prevNode == NULL){\n            head = newNode;\n            newNode-&gt;next = nodePtr;\n        }\n        else {\n            prevNode-&gt;next = newNode;\n            newNode-&gt;next = nodePtr;\n        }\n    }\n}\n\nvoid List::insertNode1(float p, float d){\n    node *newNode, *nodePtr, *selectedNode=NULL;\n    newNode = new node;\n    newNode-&gt;data = d;\n    nodePtr = head;\n    selectedNode = nodePtr;\n    selectedNode-&gt;data = p;\n\n    if (head != NULL){\n        head = newNode;\n        newNode-&gt;next = NULL;\n    }\n    else {\n        while (nodePtr-&gt;next != NULL &amp;&amp; nodePtr-&gt;data != p){\n            nodePtr = nodePtr-&gt;next;\n        }\n        if (selectedNode == NULL){\n            head = newNode;\n            selectedNode-&gt;next = NULL;\n        }\n        else {\n\n            selectedNode-&gt;next = newNode;\n\n        }\n    }\n}\n\nvoid List::deleteNode(float da){\n    node *nodePtr, *previousNode=NULL;\n    if (head == NULL){\n        return;\n    }\n    if (head -&gt;data == da){\n        nodePtr = head-&gt;next;\n        delete head;\n        head = nodePtr;\n    }\n    else{\n        nodePtr = head;\n        while (nodePtr != NULL &amp;&amp; nodePtr-&gt;data != da){\n            previousNode = nodePtr;\n            nodePtr = nodePtr-&gt;next;\n        }\n        previousNode-&gt;next = nodePtr-&gt;next;\n        delete nodePtr;\n    }\n\n}\n\nvoid List::displayList(){\n    node *nodePtr;\n    nodePtr = head;\n    while (nodePtr!= NULL){\n        cout &lt;&lt; nodePtr-&gt;data &lt;&lt; endl;\n        nodePtr = nodePtr-&gt;next;\n    }\n}\n\n\nint main(){\n    List lobj;\n    lobj.appendNode(3);\n    lobj.appendNode(6.4);\n    lobj.appendNode(4.5);\n    lobj.appendNode(7.8);\n    lobj.insertNode(1.5);\n    lobj.displayList();\n    cout &lt;&lt; \"after deleting and adding a new node\" &lt;&lt; endl;\n    lobj.deleteNode(6.4);\n    lobj.displayList();\n    lobj.insertNode1(3, 5);\n    lobj.displayList();\n    system(\"pause\");\n}\n</code></pre>\n"}, {"tags": ["c++", "vector", "maze"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425493448, "post_id": 28861869, "comment_id": 45989252, "body": "Please append your post to show declaration of <code>m_floor</code>."}, {"owner": {"reputation": 53, "user_id": 3010803, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/03231e3f8eee0bc71db15a9fc781ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "aishere", "link": "https://stackoverflow.com/users/3010803/aishere"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425493591, "post_id": 28861869, "comment_id": 45989343, "body": "Okay, I added the functions that are above populateMaze()."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425493705, "post_id": 28861869, "comment_id": 45989401, "body": "Let me clarify.  Please add the code where you define the type of <code>m_floor</code>, not the methods.  Is the variable a vector?  A vector of <i>what</i>?"}, {"owner": {"reputation": 53, "user_id": 3010803, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/03231e3f8eee0bc71db15a9fc781ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "aishere", "link": "https://stackoverflow.com/users/3010803/aishere"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1425494073, "post_id": 28861869, "comment_id": 45989606, "body": "Oh okay, sorry. Perhaps I&#39;m using it incorrectly, but I want to read in the floor and basically push the elements to a vector so players and ghosts can be pushed to the vector."}], "owner": {"reputation": 53, "user_id": 3010803, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/03231e3f8eee0bc71db15a9fc781ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "aishere", "link": "https://stackoverflow.com/users/3010803/aishere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425493992, "creation_date": 1425492974, "last_edit_date": 1425493992, "question_id": 28861869, "link": "https://stackoverflow.com/questions/28861869/how-to-search-floor-for-player-and-ghost-and-create-instance-to-pass-to-characte", "title": "How to search Floor for Player and Ghost and create instance to pass to characters", "body": "<p>Okay, so I'm having a lot of trouble grasping vectors and passing instances to vectors. So what I'm trying to do here is find the character 'P' in my maze, then create a player instance and push the instance into my characters vector. Then same for ghosts, but I'm sure the statements are similar. </p>\n\n<p>Here is what I have, but it obviously does not compile as it is incorrect. </p>\n\n<pre><code>void Game::populateMaze()\n{\nvector&lt;char&gt;::iterator p, g;\nwhile (!m_floor[0].eof()) //read in FloorA\n{\n    for (int rows = 0; rows &lt; sizeof (*m_floor); rows++)\n    { for (int columns = 0; columns &lt; sizeof (*m_floor); columns++)\n        {\n        characters.push_back(m_floor); //push to Floor constructor\n        }\n    }\n}\np = find (characters.begin(), characters.end(), 'P'); //search for 'P'\n    while (p != vector.end())\n        p = characters.push_back(Player[p]); //save location in characters as Player\ng = find (characters.begin(), characters.end(), 'G'); //search for 'G'\n    while (g != vector.end())\n        g = characters.push_back(Ghost[g]); //save location in characters as Ghost\n}\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Above my populateMaze() function, here is m_floor:</p>\n\n<pre><code>void Floor::Read (const char * filename)\n{\nsize_t row = 0;\nifstream input(filename);\n\nwhile (row &lt; ROWS &amp;&amp; input &gt;&gt; tiles[row++]);\n\n}\nvoid Game::readFloors()\n{\nm_floor[0].Read(\"FloorA.txt\");\nm_floor[1].Read(\"FloorB.txt\");\nm_floor[2].Read(\"FloorC.txt\");\n\n}\n</code></pre>\n\n<p>and header</p>\n\n<pre><code>class Floor {\n\nconst static int ROWS = 20;\nconst static int COLS = 30;\nchar tiles[ROWS][COLS];\npublic:\nFloor();\nvoid Read (const char * filename);\nvoid placePlayer();\nvoid Print() const;\nbool legal_move(int x, int y) const;\nistream eof();\n};\n\nclass Game {\nprivate:\nFloor m_floor [3];\nvector&lt;char&gt; characters;\npublic:\nvoid readFloors();\nvoid populateMaze();\nvoid leave_floor();\n};\n</code></pre>\n\n<p>I think my while loop is also incorrect but it's not giving me any errors. In my header I declared <code>istream eof();</code> and in Game I have <code>Floor m_floor[3]</code> because there are three separate floors to work with. Also <code>vector&lt;char&gt; characters</code> is in Game. </p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "c++", "windows", "gcc", "cython"], "answers": [{"owner": {"reputation": 83, "user_id": 3780691, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/edf2aa15c3a4a702b457e271b9437216?s=128&d=identicon&r=PG&f=1", "display_name": "user3780691", "link": "https://stackoverflow.com/users/3780691/user3780691"}, "is_accepted": false, "score": 0, "last_activity_date": 1432844377, "creation_date": 1432844377, "answer_id": 30516345, "question_id": 28861862, "link": "https://stackoverflow.com/questions/28861862/cython-import-works-once-and-then-gives-a-gcc-bat-error/30516345#30516345", "title": "Cython import works once - and then gives a gcc.bat error", "body": "<p>I think I found the problem (and hence, the solution): I need to tell the compiler I'm using <code>numpy</code>. I found the explanation here: <a href=\"https://github.com/cython/cython/wiki/InstallingOnWindows\" rel=\"nofollow\">https://github.com/cython/cython/wiki/InstallingOnWindows</a></p>\n\n<p>So the <code>py</code> file should be</p>\n\n<pre><code>import numpy\nimport pyximport\npyximport.install(\n    setup_args={\"script_args\":[\"--compiler=mingw32\"],\n    \"include_dirs\":numpy.get_include()},reload_support=True)\nimport testFunc\nx = testFunc.funcMatUtility(np.array([0.0,1.0,2.0]),np.array([0.0,1.0,2.0,3.0]))\n</code></pre>\n\n<p>The <code>'include_dirs'</code> part tells the compiler I'm using <code>numpy</code>. This works in Spyder, also in repeated runs.</p>\n"}], "owner": {"reputation": 83, "user_id": 3780691, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/edf2aa15c3a4a702b457e271b9437216?s=128&d=identicon&r=PG&f=1", "display_name": "user3780691", "link": "https://stackoverflow.com/users/3780691/user3780691"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432844377, "creation_date": 1425492963, "question_id": 28861862, "link": "https://stackoverflow.com/questions/28861862/cython-import-works-once-and-then-gives-a-gcc-bat-error", "title": "Cython import works once - and then gives a gcc.bat error", "body": "<p>I am writing a Python program in Anaconda/Spyder on a 64-bit Windows 8 machine. I'm getting all the know issues with gcc.bat (\"gcc.bat' failed with exit status 1\") and I have it fixed - almost. My pyx file (called <code>testFunc.pyx</code>) has the following code:</p>\n\n<pre><code>import numpy as np\ncimport numpy as np\n\ndef funcMatUtility(np.ndarray[np.float64_t, ndim=1] vecX,\n                   np.ndarray[np.float64_t, ndim=1] vecE):\n    cdef np.ndarray[np.float64_t, ndim=2] out = \\\n        np.zeros((len(vecX),len(vecE)),dtype=np.float64)\n    for iX, valX in enumerate(vecX):\n        for iE, valE in enumerate(vecE):\n            out[iX,iE] = valX + valE\n    return out\n</code></pre>\n\n<p>I call this function by running the following <code>py</code> file in Spyder:</p>\n\n<pre><code>import os\nimport numpy as np\n\nimport pyximport\nos.environ['CPATH'] = np.get_include()\nmingw_setup_args = { 'options': { 'build_ext': { 'compiler': 'mingw32' } } }\npyximport.install(setup_args=mingw_setup_args)\n\nimport testFunc\n\nx = testFunc.funcMatUtility(np.array([0.0,1.0,2.0]),np.array([0.0,1.0,2.0,3.0]))\n</code></pre>\n\n<p>Without the line <code>os.environ['CPATH'] = np.get_include()</code> I get the gcc.bat error message immediately. Without the setup arguments in <code>install()</code> I get another error message: <code>Unable to find vcvarsall.bat</code>.</p>\n\n<p>So with these lines I can compile my Cython code, which suggests that this is what I needed to run the <code>Cython</code> compiler on my Windows machine in the first place. The problem, however, is that I can only do this once. If want to import it again, for example because I am still developing my code and I only did a test run, I get the gcc.bat error message again (<code>gcc.bat failed with exit status 1</code>) unless I close and re-open Spyder. I tried the second import with just the <code>import</code> statement (i.e. not importing <code>pyximport</code> again), to no avail. What could be the reason that I can only compile the Cython code once?</p>\n"}, {"tags": ["java", "c++", "visual-studio-2010", "java-native-interface"], "comments": [{"owner": {"reputation": 487, "user_id": 1966940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6FjYL.jpg?s=128&g=1", "display_name": "Jamie Reid", "link": "https://stackoverflow.com/users/1966940/jamie-reid"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1425493072, "post_id": 28861827, "comment_id": 45989015, "body": "The error is hidden: Deleting file &quot;Debug\\CLibHelloWorld.unsuccessfulbuild&quot;... the DLL is never created"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1425494294, "post_id": 28861827, "comment_id": 45989724, "body": "@JamieReid So this file doesn&#39;t exist? <code>F:\\Work\\04-Companies\\DigitalARCSystems\\KlearKapture\\CameraIn&zwnj;&#8203;terface\\test\\test-jn&zwnj;&#8203;i\\Debug\\CLibHelloWor&zwnj;&#8203;ld.dll</code>"}, {"owner": {"reputation": 487, "user_id": 1966940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6FjYL.jpg?s=128&g=1", "display_name": "Jamie Reid", "link": "https://stackoverflow.com/users/1966940/jamie-reid"}, "edited": false, "score": 0, "creation_date": 1425494373, "post_id": 28861827, "comment_id": 45989774, "body": "No for some reason it seems it is created then deleted. That&#39;s all I can seem to work out from the info there."}, {"owner": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 2, "creation_date": 1425494690, "post_id": 28861827, "comment_id": 45989957, "body": "<code>CLibHelloWorld.unsuccessfulbuild</code> has nothing to do with your problem. This is a marker file used by MSBuild to check if build was ever killed or interrupted in the middle. If MSBuild finds this file before the build, it means the previous build seriously screwed up, and everything needs to be rebuilt. In other words, it is a mechanism to disable incremental builds if output file state is inconsistent."}, {"owner": {"reputation": 487, "user_id": 1966940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6FjYL.jpg?s=128&g=1", "display_name": "Jamie Reid", "link": "https://stackoverflow.com/users/1966940/jamie-reid"}, "reply_to_user": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 0, "creation_date": 1425494978, "post_id": 28861827, "comment_id": 45990147, "body": "@S.T. Thanks for clearing that up. But that leads me onto my next question, where exactly is the dll file as I can&#39;t find it anywhere. I think maybe I need to re-create the solution and change the settings, possibly the settings are pointing the output to a bizarre location but I did check that and it did look like it was the correct location."}, {"owner": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 1, "creation_date": 1425495648, "post_id": 28861827, "comment_id": 45990548, "body": "One way to investigate the problems with MSBuild is by looking at detailed logs. From VS command prompt, <code>cd</code> to directory of the project, then execute command <code>msbuild MyProject.vcxproj &#47;v:d</code>. This will build with detailed verbosity level. Search for linker command in the output, you should see something like ` ... \\link.exe ... /OUT:Mypath\\mybinary.dll ...`. The /OUT option of the linker is what you are after. If linker is not invoked at all, you have some setting that does not require producing binary for the project."}, {"owner": {"reputation": 487, "user_id": 1966940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6FjYL.jpg?s=128&g=1", "display_name": "Jamie Reid", "link": "https://stackoverflow.com/users/1966940/jamie-reid"}, "reply_to_user": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 0, "creation_date": 1425496819, "post_id": 28861827, "comment_id": 45991234, "body": "@S.T, thank you. Can you change your two points into an answer please. This has solved it. It was in a bizarre location. Now I just need to go through the project settings and resolve the project settings that are causing this bizarre location,.."}], "answers": [{"owner": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "is_accepted": true, "score": 1, "last_activity_date": 1425511926, "creation_date": 1425511926, "answer_id": 28867182, "question_id": 28861827, "link": "https://stackoverflow.com/questions/28861827/error-in-vs2010-when-trying-to-compile-basic-jni-test-code/28867182#28867182", "title": "Error in VS2010 when trying to compile basic JNI Test Code", "body": "<p>Converting a comment into an answer, since apparently it helped solve the problem.</p>\n\n<p>One way to investigate the problems with MSBuild is by looking at detailed logs. From VS command prompt, cd to directory of the project, then execute command <code>msbuild MyProject.vcxproj /v:d</code>. This will build with detailed verbosity level. Search for linker command in the output, you should see something like </p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\bin\\link.exe /OUT:\"c:\\my_output_path\\myfile.dll\" ...\n</code></pre>\n\n<p>The /OUT option of the linker is what you are after. If linker is not invoked at all, you have some setting that does not require producing binary for the project. </p>\n"}], "owner": {"reputation": 487, "user_id": 1966940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6FjYL.jpg?s=128&g=1", "display_name": "Jamie Reid", "link": "https://stackoverflow.com/users/1966940/jamie-reid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 1, "accepted_answer_id": 28867182, "answer_count": 1, "score": 1, "last_activity_date": 1425511926, "creation_date": 1425492864, "question_id": 28861827, "link": "https://stackoverflow.com/questions/28861827/error-in-vs2010-when-trying-to-compile-basic-jni-test-code", "title": "Error in VS2010 when trying to compile basic JNI Test Code", "body": "<p>I am trying to compile a basic JNI Test in preparation for a DLL (with headers and lib file) I am expecting to receive in the next few days that I will need to create a JNI interface for.</p>\n\n<p>I have tried pointing it to the x64/x86 lib of JNI.lib. I have tried not pointing it to the lib at all. I have tried pointing it to both x64/x86 versions of the include directories but it is always the same error as below.</p>\n\n<p>Visual Studio is giving me the following error and I have no idea why:</p>\n\n<pre><code>1&gt;------ Build started: Project: CLibHelloWorld, Configuration: Debug Win32 ------\n1&gt;Build started 04/03/2015 19:04:09.\n1&gt;InitializeBuildStatus:\n1&gt;  Creating \"Debug\\CLibHelloWorld.unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\n1&gt;ClCompile:\n1&gt;  CLibHelloWorld.c\n1&gt;Link:\n1&gt;     Creating library F:\\Work\\04-Companies\\DigitalARCSystems\\KlearKapture\\CameraInterface\\test\\test-jni\\Debug\\CLibHelloWorld.lib and object F:\\Work\\04-Companies\\DigitalARCSystems\\KlearKapture\\CameraInterface\\test\\test-jni\\Debug\\CLibHelloWorld.exp\n1&gt;  test-jni.vcxproj -&gt; F:\\Work\\04-Companies\\DigitalARCSystems\\KlearKapture\\CameraInterface\\test\\test-jni\\Debug\\CLibHelloWorld.dll\n1&gt;FinalizeBuildStatus:\n1&gt;  Deleting file \"Debug\\CLibHelloWorld.unsuccessfulbuild\".\n1&gt;  Touching \"Debug\\CLibHelloWorld.lastbuildstate\".\n1&gt;\n1&gt;Build succeeded.\n1&gt;\n1&gt;Time Elapsed 00:00:00.43\n========== Build: 1 succeeded, 0 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>HelloWorld.java (compiled with javac HelloWorld.java):</p>\n\n<pre><code>class HelloWorld {\n    public native void print();  //native method\n    static   //static initializer code\n    {\n        System.loadLibrary(\"CLibHelloWorld\");\n    } \n\n    public static void main(String[] args)\n    {\n        HelloWorld hw = new HelloWorld();\n        hw.print();\n    }\n}\n</code></pre>\n\n<p>HelloWorld.h (generated by javah -jni HelloWorld):</p>\n\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class HelloWorld */\n\n#ifndef _Included_HelloWorld\n#define _Included_HelloWorld\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n/*\n * Class:     HelloWorld\n * Method:    print\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_HelloWorld_print\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n\n<p>CLibHelloWorld.c:</p>\n\n<pre><code>#include \"HelloWorld.h\"\n#include \"jni.h\"\n#include  \"stdio.h\"\n\nJNIEXPORT void JNICALL Java_HelloWorld_print(JNIEnv *env, jobject obj)\n{\n    printf(\"Hello world\\n\");\n    return;\n}\n</code></pre>\n"}, {"tags": ["c++", "x86", "clang", "llvm"], "owner": {"reputation": 419, "user_id": 1658887, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a522ba1189a57ce1a935012336191582?s=128&d=identicon&r=PG", "display_name": "user1658887", "link": "https://stackoverflow.com/users/1658887/user1658887"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1425497644, "creation_date": 1425492808, "last_edit_date": 1425497644, "question_id": 28861815, "link": "https://stackoverflow.com/questions/28861815/inspect-x86-opcode-bytes-in-llvm-machine-function-pass", "title": "Inspect x86 opcode bytes in LLVM Machine Function Pass", "body": "<p>I have a basic machine function pass in this fashion:</p>\n\n<pre><code>bool Foo::runOnMachineFunction(MachineFunction &amp;Fn) {\n  for (auto &amp;BB : Fn) {\n    for (MachineBasicBlock::iterator I = BB.begin(), E = BB.end(); I != E;\n         ++I) {\n      if (I-&gt;isPseudo())\n        continue;\n      // inspect opcode of I here\n      }\n    }\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>Inside this loop I want to inspect the actual x86 opcodes (=array of bytes) for each instruction. <code>I-&gt;getOpcode()</code> only gives an integer which seems to be used internally by llvm.</p>\n\n<p>I've been browsing through the llvm source code for an hour without finding a solution. I think I need to somehow lower <code>I</code> from <code>MachineInstr</code> to <code>MCInst</code> in order for that to be established. I've also seen <code>void X86MCCodeEmitter::EncodeInstruction(...)</code> which might be of use. However, llvm is a pretty complex beast and I did not manage to connect the dots.</p>\n"}, {"tags": ["c++", "c++11", "gcc"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1425492811, "post_id": 28861760, "comment_id": 45988872, "body": "Not really useful for logging either, since the name can be a mangled name which doesn&#39;t really say much directly."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 5, "creation_date": 1425492975, "post_id": 28861760, "comment_id": 45988961, "body": "I doubt that anything explicitly marked as &quot;implementation defined&quot; without the most basic guarantee of equality should be used in production, even if it is 100% safe."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1425493000, "post_id": 28861760, "comment_id": 45988975, "body": "@JoachimPileborg Even the reference documentation mentions <code>c++filt</code>: <i>&quot;With compilers such as gcc and clang, the returned string can be piped through c++filt -t to be converted to human-readable form.&quot;</i>"}, {"owner": {"reputation": 94195, "user_id": 410767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c1dd4727d07c7dbb6ff8c3a83e400b5?s=128&d=identicon&r=PG", "display_name": "Tony Delroy", "link": "https://stackoverflow.com/users/410767/tony-delroy"}, "edited": false, "score": 0, "creation_date": 1425493490, "post_id": 28861760, "comment_id": 45989275, "body": "Is <code>type_index</code> guaranteed to be constant across runs, or different programs using some of the same libraries?  I doubt it.  If not, then <code>name()</code> may be convenient as an implementation defined (which does not mean univerally useless by the way - just non-portable and subject to pretty arbitrary but usually rare change / consult implementation docs) to differentiate types across programs/runs e.g. provide type discrimination text for serialisation / deserialisation / factory code.  If it happens to be &quot;legible&quot;, that could add to the appeal."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1425493801, "post_id": 28861760, "comment_id": 45989459, "body": "@JoachimPileborg Because it may be useless on <i>some</i> implementations, you wouldn&#39;t use it on <i>any</i> implementation?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 94195, "user_id": 410767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c1dd4727d07c7dbb6ff8c3a83e400b5?s=128&d=identicon&r=PG", "display_name": "Tony Delroy", "link": "https://stackoverflow.com/users/410767/tony-delroy"}, "edited": false, "score": 1, "creation_date": 1425493868, "post_id": 28861760, "comment_id": 45989500, "body": "@TonyD: You seem to be assuming that <code>name()</code> returns different things for each type, but that may not be the case."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425493972, "post_id": 28861760, "comment_id": 45989556, "body": "I had always assumed that compilers didn&#39;t actually embed the <code>type_info</code> data in your binary except for the types it&#39;s actually called for.  Is there evidence that this data is embedded for all types?  I don&#39;t think the <i>existance</i> of <code>type_info</code> affects binary size so much as the <i>usage</i>."}, {"owner": {"reputation": 94195, "user_id": 410767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c1dd4727d07c7dbb6ff8c3a83e400b5?s=128&d=identicon&r=PG", "display_name": "Tony Delroy", "link": "https://stackoverflow.com/users/410767/tony-delroy"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1425493979, "post_id": 28861760, "comment_id": 45989559, "body": "@MooingDuck: no I am not assuming that in general, but obviously the kind of usage I mentioned would only make sense on a particular implementation or set of implementations where that was true.  More generally - not addressed to MooingDuck specifically - I find it really annoying that so many C++ enthusiasts are deliberately obtuse about this distinction (then turn around and use error numbers, IPC libraries, boost facilities etc. that are either non-C++-Standard or far more likely to change)."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425494229, "post_id": 28861760, "comment_id": 45989681, "body": "@MooingDuck <i>&quot;I had always assumed that compilers didn&#39;t actually embed the name() strings in your code except for the types it&#39;s actually called for&quot;</i> Apparently it&#39;s not like this. My co-worker complained about ~12KB used fore these, and there&#39;s not a single call to <code>std::type_info::name()</code> anywhere."}, {"owner": {"reputation": 94195, "user_id": 410767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c1dd4727d07c7dbb6ff8c3a83e400b5?s=128&d=identicon&r=PG", "display_name": "Tony Delroy", "link": "https://stackoverflow.com/users/410767/tony-delroy"}, "edited": false, "score": 0, "creation_date": 1425494289, "post_id": 28861760, "comment_id": 45989722, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 and that 12KB was what percentage of the executable size?  If the text involved is contiguous in virtual address space, there&#39;s a fair chance it won&#39;t even be faulted from disk if unused...."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 94195, "user_id": 410767, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c1dd4727d07c7dbb6ff8c3a83e400b5?s=128&d=identicon&r=PG", "display_name": "Tony Delroy", "link": "https://stackoverflow.com/users/410767/tony-delroy"}, "edited": false, "score": 0, "creation_date": 1425494463, "post_id": 28861760, "comment_id": 45989818, "body": "@TonyD I think they have 256KB with keeping a fallback image in the flash, so their maximum executable size effectively is up to 127KB (could be 512/256 also), it&#39;s certainly significant."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425494724, "post_id": 28861760, "comment_id": 45989978, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Was it using <code>std::type_info</code> for anything else?"}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1425494932, "post_id": 28861760, "comment_id": 45990109, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6: If you&#39;re running on something that small, it seems like you would consider turning RTTI off."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1425495011, "post_id": 28861760, "comment_id": 45990164, "body": "@MooingDuck As far I understood the code doesn&#39;t use <code>std::type_info</code> directly anywhere. So as long it&#39;s not used from any other standard library functions or classes, the reasons for <code>std::type_info</code> instantiation is merely <code>dynamic_cast&lt;&gt;</code> usage and exception handling."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1425495108, "post_id": 28861760, "comment_id": 45990222, "body": "@DietrichEpp Of course, if you do that just at front. I mentioned, what were the reasons, I didn&#39;t just chase him away with this argument."}, {"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 5, "creation_date": 1425495743, "post_id": 28861760, "comment_id": 45990597, "body": "Regarding sub-question #1: for small embedded targets, this is often the problem domain where a linker script can help you. Essentially, if the literals get placed in a particular section in the binary (I&#39;m not sure where gcc puts them), you could exclude that section. Failing that, you could explicitly exclude symbol names that match a pattern; you may be able to devise a scheme to suppress the literals in the resulting binary (which would obviously fail at runtime if they were ever used)."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425495893, "post_id": 28861760, "comment_id": 45990676, "body": "@JasonR That&#39;s the 1st really useful hint on this question. Yes we discussed, if it&#39;s likely these strings are about in a designate linker section, and if it simply could be bailed out with the linker script."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1425496695, "post_id": 28861760, "comment_id": 45991164, "body": "Related:  <a href=\"http://stackoverflow.com/questions/11403136/is-it-possible-to-strip-type-names-from-executable-while-keeping-rtti-enabled/11423631#11423631\" title=\"is it possible to strip type names from executable while keeping rtti enabled\">stackoverflow.com/questions/11403136/&hellip;</a>  and <a href=\"http://stackoverflow.com/questions/14869639/remove-c-class-names-from-binary-dll-file\" title=\"remove c class names from binary dll file\">stackoverflow.com/questions/14869639/&hellip;</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1425497577, "post_id": 28861760, "comment_id": 45991653, "body": "@sehe THX for your efforts and contributions, unfortunately these links both refer to MSVC&#39;s implementation, while my question is clearly about GCC."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1425497637, "post_id": 28861760, "comment_id": 45991687, "body": "I&#39;m aware of that. Although your claim is not fully accurate (first one: &quot;Does any compiler provide such an option?&quot;). Comments are well suited for sharing potentially related sources. Also, all the answers converge to: look at obfuscation to hide the strings (!!!?! :()"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425502940, "post_id": 28861760, "comment_id": 45994747, "body": "If you don&#39;t need dynamic_cast, don&#39;t use it.  Static_cast is generally equivalent to C-casting so you can use either, and the referred to type doesn&#39;t change, just the reference type.  Really, I&#39;d like to hear from you if, when your colleague replaces all dynamic_casts with static or c-style casts and then explicitly removes RTTI will it compile and if it does, is the 12KB still there?  If it is, you know the exceptions are forcing it to generate.  If not, problem solved with no runtime segmentation faults possible, which you risk with linker stripping, very bad in embedded systems!"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425503048, "post_id": 28861760, "comment_id": 45994820, "body": "@TimeHorse Yeah, that&#39;s blatantly obvious, and I mentioned it in my question already. The point is, if they switch off RTTI, will exception handling still work properly in GCC?"}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425503568, "post_id": 28861760, "comment_id": 45995138, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I&#39;d suggest you try to compile it as I suggested and see if it&#39;s any bigger.  If it still overruns by 12KB, then yes, exception handling is forcing RTTI; if not, then you&#39;ve solved the problem.  BTW, is the program throwing types or immediates?  If all you want from exception handling is to get out quickly and don&#39;t care why, you could consider throwing integers which might also eliminate RTTI if exception handling is preserving it."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425504780, "post_id": 28861760, "comment_id": 45995813, "body": "@TimeHorse <i>&quot;I&#39;d suggest you try to compile it as I suggested and see if it&#39;s any bigger.&quot;</i> Well, that was what I&#39;ve suggested too, to get rid of the <code>dynamic_casts&lt;&gt;</code>, switch off RTTI, and see how enabling and using exceptions affects the footprint. <i>&quot; you could consider throwing integers&quot;</i>, no I think they want to use at least classes from the <code>std::exception</code> hierarchy. Anyway I&#39;d expect that generating RTTI info should be forced for exception types appearing in catch blocks solely (not for any type)."}, {"owner": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425505198, "post_id": 28861760, "comment_id": 45996008, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Please let us know when you have a result of the static_cast / no RTTI test.  I think the crux of this question hinges on if your particular gcc will respect your request to turn off RTTI despite having exception handling.  I agree it&#39;s likely typed exceptions may be forcing RTTI but maybe it&#39;s for the best your colleague bite the bullet and just convert the whole thing from throw-catch to return codes.  It&#39;s a nightmare to deal with but it will make your embedded product leaner and meaner."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 0, "creation_date": 1425505572, "post_id": 28861760, "comment_id": 45996192, "body": "@TimeHorse <i>&quot;but maybe it&#39;s for the best your colleague bite the bullet and just convert the whole thing from throw-catch to return codes&quot;</i> LOL, that&#39;s what we (different department, different code base), are actually doing. I never liked it as being a general part of the architecture, and still mumbling against it like Cicero. But that&#39;s the more interoperable and flexible approach, I have to admit in the end :-P ..."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 479, "user_id": 390628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2e6fa42386b4f245ce7dbceeaa8391c?s=128&d=identicon&r=PG", "display_name": "TimeHorse", "link": "https://stackoverflow.com/users/390628/timehorse"}, "edited": false, "score": 1, "creation_date": 1425505776, "post_id": 28861760, "comment_id": 45996306, "body": "@TimeHorse <i>&quot;Please let us know ...&quot;</i> Of course. It looks like my comrade and me have to provide an answer, with what we came up finally then."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1425505883, "post_id": 28861760, "comment_id": 45996368, "body": "@dasblinkenlight The point is, that my co-worker claims, <b>it isn&#39;t used</b> (directly) anywhere."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425582344, "post_id": 28861760, "comment_id": 46032513, "body": "@JasonR <i>&quot;Essentially, if the literals get placed in a particular section in the binary (I&#39;m not sure where gcc puts them), you could exclude that section.&quot;</i> To keep you informed: We found out that these string literals aren&#39;t placed in a special section, they&#39;re just strayed all over the ordinary text section. It&#39;ll be a hard job, to rip them out via linker script. Well, <code>-fno-rtti</code> and eliminating <code>dynamic_cast&lt;&gt;</code> works well so far, but there&#39;s still that (minor) open point, to avoid the literals being generated for the used exception types. So if you have any additional idea?"}, {"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425585598, "post_id": 28861760, "comment_id": 46034455, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6: Is there any pattern to the symbol names that it associates with the generated literals? You might be able to strip them from the binary based on that structure."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1425585747, "post_id": 28861760, "comment_id": 46034534, "body": "@JasonR <i>&quot;is there any pattern ...&quot;</i> Well, I didn&#39;t spot any reasonably usable one (but didn&#39;t look that deep to be honest) . We&#39;ll check that tomorrow."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1425589114, "post_id": 28861760, "comment_id": 46036348, "body": "See the comment at the top of GCC&#39;s <code>&lt;typeinfo&gt;</code>, which discusses using <code>strcmp</code> on the name to determine if two types are the same. I don&#39;t remember when string equality is used rather than pointer equality."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1425589264, "post_id": 28861760, "comment_id": 46036447, "body": "@JonathanWakely Sorry, I don&#39;t really get in which way this is relevant? We aren&#39;t using it. Did  you mean an actual implementation for <code>dynamic_cast&lt;&gt;</code>?"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1425589288, "post_id": 28861760, "comment_id": 46036457, "body": "The run-time can use it implicitly, even if you aren&#39;t using it."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1425590106, "post_id": 28861760, "comment_id": 46036909, "body": "@JonathanWakely What do you mean <i>implicitly</i>? There&#39;s no evidence from the linker maps, that stuff is actually used. Have a look at my footnote link, how to bail out the GCC standard implementation for uncaught exception unwinds used with <code>atexit()</code> (the <i>run-time</i>??)."}], "answers": [{"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1425509755, "post_id": 28866360, "comment_id": 45998228, "body": "Yeah, that&#39;s pretty definite about the doubts I had. I&#39;ll accept this answer (let&#39;s see what my co-worker will come up with tomorrow..) Also is there a chance that the overriden <code>__verbose_terminate_handler</code> doesn&#39;t use any exception related stuff anymore, will even bail out <code>std::type_info::name()</code> support for types used in exceptions? I&#39;m sure my co-worker would jump in triangles for pleasure, and show some somersaults in between :-)."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 3, "creation_date": 1425588681, "post_id": 28866360, "comment_id": 46036116, "body": "If you&#39;re targeting small devices then build GCC with <code>--disable-libstdcxx-verbose</code> to automatically get rid of the verbose terminate handler (and all its I/O dependencies)"}], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 16, "last_activity_date": 1425508143, "last_edit_date": 1495541434, "creation_date": 1425508143, "answer_id": 28866360, "question_id": 28861760, "link": "https://stackoverflow.com/questions/28861760/what-is-the-actual-purpose-of-stdtype-infoname/28866360#28866360", "title": "What is the actual purpose of std::type_info::name()?", "body": "<p>Isolating this bit:</p>\n\n<ul>\n<li>The point is, if they switch off RTTI, will exception handling still work properly in GCC? <a href=\"https://stackoverflow.com/questions/28861760/what-is-the-actual-purpose-of-stdtype-infoname#comment45994820_28861760\">\u2014 \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 1 hour ago</a></li>\n</ul>\n\n<p>The <a href=\"https://gcc.gnu.org/onlinedocs/gcc-4.4.4/gcc/C_002b_002b-Dialect-Options.html\" rel=\"nofollow noreferrer\">answer</a> is yes:</p>\n\n<blockquote>\n  <p><code>-fno-rtti</code></p>\n  \n  <p>Disable generation of information about every class with virtual functions for use by the C++ runtime type identification features (<code>dynamic_cast</code> and <code>typeid</code>). If you don't use those parts of the language, you can save some space by using this flag. <strong><em>Note that exception handling uses the same information, but it will generate it as needed</em></strong>. The <code>dynamic_cast</code> operator can still be used for casts that do not require runtime type information, i.e. casts to <code>void *</code> or to unambiguous base classes.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1442253078, "post_id": 28891059, "comment_id": 52996941, "body": "If the <code>type_info</code> are not the same, how can you say that the types are the same?"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1442254639, "post_id": 28891059, "comment_id": 52997828, "body": "Because the two <code>type_info</code> objects compare equal."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1442267050, "post_id": 28891059, "comment_id": 53003958, "body": "Then why don&#39;t the <code>name()</code> compare equal?"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 1, "creation_date": 1442267718, "post_id": 28891059, "comment_id": 53004233, "body": "I&#39;m not sure what you&#39;re asking, could you clarify? As I said above (<i>&quot;So the <code>name()</code> function is used to determine if two type_info objects refer to the same type.&quot;</i>), if they compare equal then the names do compare equal (either by pointer equality or by <code>strcmp</code>), so asking why the names don&#39;t compare equal makes no sense. What do you mean by &quot;not the same&quot;?"}], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 7, "last_activity_date": 1425606216, "creation_date": 1425606216, "answer_id": 28891059, "question_id": 28861760, "link": "https://stackoverflow.com/questions/28861760/what-is-the-actual-purpose-of-stdtype-infoname/28891059#28891059", "title": "What is the actual purpose of std::type_info::name()?", "body": "<blockquote>\n  <p>Are there real life, production code level use cases for <code>std::type_info::name()</code> other than logging?</p>\n</blockquote>\n\n<p>The Itanium ABI <a href=\"https://mentorembedded.github.io/cxx-abi/abi.html#typeid\" rel=\"noreferrer\">describes</a> how <code>operator==</code> for <code>std::type_info</code> objects can be easily implemented in terms of testing strings returned from <code>std::type_info::name()</code> for pointer equality.</p>\n\n<p>In a non-flat address space, where it might be possible to have multiple <code>type_info</code> objects for the same type (e.g. because a dynamic library has been loaded with <code>RTLD_LOCAL</code>) the implementation of <code>operator==</code> might need to use <code>strcmp</code> to determine if two types are the same.</p>\n\n<p>So the <code>name()</code> function is used to determine if  two <code>type_info</code> objects refer to the same type. For examples of real use cases, that's typically used in at least two places in the standard library, in <code>std::function&lt;F&gt;::target&lt;T&gt;()</code> and <code>std::get_deleter&lt;D&gt;(const std::shared_ptr&lt;T&gt;&amp;)</code>.</p>\n\n<p>If you're not using RTTI then all that's irrelevant, as you won't have any <code>type_info</code> objects anyway (and consequently in libstdc++ the <code>function::target</code> and <code>get_deleter</code> functions can't be used).</p>\n\n<p>I think GCC's exception-handling code uses the addresses of <code>type_info</code> objects themselves, not the addresses of the strings returned by <code>name()</code>, so if you use exceptions but no RTTI the <code>name()</code> strings aren't needed.</p>\n"}], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1541, "favorite_count": 9, "protected_date": 1425585880, "accepted_answer_id": 28866360, "answer_count": 2, "score": 25, "last_activity_date": 1425606216, "creation_date": 1425492624, "last_edit_date": 1495541902, "question_id": 28861760, "link": "https://stackoverflow.com/questions/28861760/what-is-the-actual-purpose-of-stdtype-infoname", "title": "What is the actual purpose of std::type_info::name()?", "body": "<p>Today a colleague of mine came and asked me the question as mentioned in the title.<br>\nHe's currently trying to reduce the binaries footprint of a codebase, that is also used on small targets (like Cortex M3 and alike). Apparently they have decided to compile with RTTI switched on (GCC actually), to support proper exception handling.</p>\n\n<p>Well, his major complaint was why <a href=\"http://en.cppreference.com/w/cpp/types/type_info/name\" rel=\"noreferrer\"><code>std::type_info::name()</code></a> is actually needed at all for support of RTTI, and asked, if I know a way to just suppress generation of the string literals needed to support this, or at least to shorten them.  </p>\n\n<blockquote>\n  <h3>std::type_info::name</h3>\n  \n  <p><code>const char* name() const;</code>\n  Returns an implementation defined null-terminated character string containing the name of the type. No guarantees are given, in particular, the returned string can be identical for several types and change between invocations of the same program.</p>\n</blockquote>\n\n<p>A ,- however compiler specific -, implementation of e.g. the <code>dynamic_cast&lt;&gt;</code> operator would not use this information, but rather something like a hash-tag for type determination (similar for <code>catch()</code> blocks with exception handling).<br>\nI think the latter is clearly expressed by the current standard definitions for </p>\n\n<ol>\n<li><a href=\"http://en.cppreference.com/w/cpp/types/type_info/hash_code\" rel=\"noreferrer\"><code>std::type_info::hash_code</code></a></li>\n<li><a href=\"http://en.cppreference.com/w/cpp/types/type_index\" rel=\"noreferrer\"><code>std::type_index</code></a></li>\n</ol>\n\n<p>I had to agree, that I also don't really see a point of using <code>std::type_info::name()</code>, other than for debugging (logging) purposes. I wasn't a 100% sure that exception handling will work just without RTTI with current versions of GCC (I think they're using 4.9.1), so I hesitated to recommend simply switching off RTTI.<br>\nAlso it's the case that <code>dynamic_casts&lt;&gt;</code> are used in their code base, but for  these, I just recommended not to use it, in favor of <code>static_cast</code> (they don't really have something like plugins, or need for runtime type detection other than assertions).</p>\n\n<hr>\n\n<h3>Question:</h3>\n\n<ul>\n<li>Are there real life, production code level use cases for <code>std::type_info::name()</code> other than logging?</li>\n</ul>\n\n<h3>Sub-Questions (more concrete):</h3>\n\n<ul>\n<li><p>Does anyone have an idea, how to overcome (work around) the generation of these useless string literals (under assumption they'll never be used)?</p></li>\n<li><p>Is RTTI really (still) needed to support exception handling with GCC?<br>\n(This part is well solved now by <a href=\"https://stackoverflow.com/a/28866360/1413395\">@Sehe's answer</a>, and I have accepted it. The other sub-question still remains for the left over generated <code>std::type_info</code> instances for any exceptions used in the code. We're pretty sure, that these literals are never used anywhere)</p></li>\n</ul>\n\n<hr>\n\n<p><sub>Bit of related: <strong><a href=\"https://stackoverflow.com/questions/18790966/strip-unused-runtime-functions-which-bloat-executable-gcc\">Strip unused runtime functions which bloat executable (GCC)</a></strong></sub></p>\n"}, {"tags": ["c++", "linux", "compiler-errors", "matlab-compiler", "g++4.8"], "comments": [{"owner": {"reputation": 4252, "user_id": 4024473, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-b-GZ3XweM6Y/AAAAAAAAAAI/AAAAAAAAAa8/sjVrj3-Rmz0/photo.jpg?sz=128", "display_name": "Michael Jaros", "link": "https://stackoverflow.com/users/4024473/michael-jaros"}, "edited": false, "score": 1, "creation_date": 1425499722, "post_id": 28861735, "comment_id": 45992885, "body": "What if you set <code>LD_LIBRARY_PATH</code> for your <code>g++</code> call only instead of exporting it? Like <code>LD_LIBRARY_PATH=&quot;path1:path2:path3&quot; g++ -Wall -pedantic [...]</code>"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 1, "creation_date": 1425507149, "post_id": 28861735, "comment_id": 45997051, "body": "Write a wrapper .sh script, which sets LD_LIBRARY_PATH before running a program, which requires custom libs. Alternatively, research <i>rpath</i>."}, {"owner": {"reputation": 310, "user_id": 2302911, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NDmaf.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2302911/dave"}, "edited": false, "score": 0, "creation_date": 1425507704, "post_id": 28861735, "comment_id": 45997337, "body": "Thanks for your suggestion I was right now investigating that possibility. But the problem is: I need the matlab function (called over engine) to be called from a C++ application which is going to be compiled with a CMakeLists.txt file. So the wrapper should be integrated in that file!"}, {"owner": {"reputation": 4133, "user_id": 836215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96343cdb1ae4d50aa89067f4427dccca?s=128&d=identicon&r=PG", "display_name": "ibre5041", "link": "https://stackoverflow.com/users/836215/ibre5041"}, "edited": false, "score": 0, "creation_date": 1425508897, "post_id": 28861735, "comment_id": 45997876, "body": "can you please also add an output from <code>ldd matlablib.so</code>. Generally if matlab libs were linked against particular version of libstdc++, you should also use the same version. As various versions might have different ABI. This might also apply to other libs."}, {"owner": {"reputation": 4133, "user_id": 836215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96343cdb1ae4d50aa89067f4427dccca?s=128&d=identicon&r=PG", "display_name": "ibre5041", "link": "https://stackoverflow.com/users/836215/ibre5041"}, "edited": false, "score": 1, "creation_date": 1425508989, "post_id": 28861735, "comment_id": 45997906, "body": "you can also use <code>-Wl,-rpath=...</code> to compile-in library search path into your binary."}, {"owner": {"reputation": 310, "user_id": 2302911, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NDmaf.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2302911/dave"}, "edited": false, "score": 0, "creation_date": 1425509425, "post_id": 28861735, "comment_id": 45998093, "body": "I cannot find it (I mean matlablib.so). From the command line it says: <code>ldd: .&#47;matlablib.so:  file or directory not found</code> A search in MATLAB/ didn&#39;t find anything with such a name"}, {"owner": {"reputation": 4133, "user_id": 836215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96343cdb1ae4d50aa89067f4427dccca?s=128&d=identicon&r=PG", "display_name": "ibre5041", "link": "https://stackoverflow.com/users/836215/ibre5041"}, "edited": false, "score": 0, "creation_date": 1425543837, "post_id": 28861735, "comment_id": 46008880, "body": "Those libs libeng libmat libut libmex are they all part of matlab instalation? I ment those."}, {"owner": {"reputation": 310, "user_id": 2302911, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NDmaf.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2302911/dave"}, "edited": false, "score": 0, "creation_date": 1425551573, "post_id": 28861735, "comment_id": 46013398, "body": "yes! They are in the right folder and I can &quot;see&quot; them"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5596669"}, "edited": false, "score": 0, "creation_date": 1448307943, "post_id": 28861735, "comment_id": 55524911, "body": "Here is what I did to make it work on Linux Mint 17.2 with MATLAB R2013a: <a href=\"https://www.youtube.com/watch?v=iuOTf7mTooE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=iuOTf7mTooE</a> Also, the answer here, about strace helped me out. <a href=\"http://stackoverflow.com/questions/1993865/connect-to-matlab-engine-from-c-in-linux\" title=\"connect to matlab engine from c in linux\">stackoverflow.com/questions/1993865/&hellip;</a>"}], "owner": {"reputation": 310, "user_id": 2302911, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NDmaf.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/2302911/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1056, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448307943, "creation_date": 1425492525, "last_edit_date": 1495540760, "question_id": 28861735, "link": "https://stackoverflow.com/questions/28861735/setting-the-ld-library-path-leads-to-conflicts-with-already-existing-program", "title": "Setting the LD_LIBRARY_PATH leads to conflicts with already existing program", "body": "<p>I'm having hard time trying to compile the following sample code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;engine.h&gt;\n\nint main(int argc, char **argv )\n{\n    Engine *m_pEngine;\n\n    if (!(m_pEngine = engOpen(\"\\0\"))) {\n        fprintf(stderr, \"\\nCan't start MATLAB engine\\n\");\n        return EXIT_FAILURE;\n    }\n\n    std::cout &lt;&lt; \"I'm alive!\" &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>which is suppose to call a <code>Matlab</code> function using the <a href=\"http://de.mathworks.com/help/matlab/matlab_external/introducing-matlab-engine.html\" rel=\"nofollow noreferrer\">engine</a> interface. Compiling it with the following compiler's options:</p>\n\n<pre><code>g++ -Wall -pedantic main.cpp -o main -I/usr/local/MATLAB/R2013a/extern/include -L/usr/local/MATLAB/R2013a/bin/glnxa64 -leng -lmat -lut -lmx -std=c++11\n</code></pre>\n\n<p>gives thousand error messages => <a href=\"http://pastebin.com/S1yh4BPV\" rel=\"nofollow noreferrer\">Link</a></p>\n\n<p>After reading and searching in internet and in this forum I found the following answers <a href=\"https://stackoverflow.com/questions/7757613/calling-matlab-from-c?answertab=oldest#tab-top\">#1</a>, <a href=\"https://stackoverflow.com/questions/9654965/how-do-i-use-matlab-engine-in-my-code-for-calling-engopensingleuse?rq=1\">#2</a>, <a href=\"https://stackoverflow.com/questions/19387054/error-linking-matlab-with-c?rq=1\">#3</a> helpful and I <strong>can</strong> compile the same program simply setting the <code>LD_LIBRARY_PATH</code> of my system like the following:</p>\n\n<pre><code>declare -x LD_LIBRARY_PATH=\"/home/lukas/workspace_ros/devel/lib:/home/lukas/workspace_ros/devel/lib/x86_64-linux-gnu:/opt/ros/indigo/lib:/opt/ros/indigo/lib/x86_64-linux-gnu:/usr/local/MATLAB/R2013a/bin/glnxa64\"\n</code></pre>\n\n<p><strong>BUT</strong> another program, which is sharing the same variable (<a href=\"http://www.ros.org/\" rel=\"nofollow noreferrer\">ROS</a>), is not working anymore and I get the following error message:</p>\n\n<pre><code>lukas@ubuntu:~$ roscore\nTraceback (most recent call last):\n  File \"/opt/ros/indigo/bin/roscore\", line 62, in &lt;module&gt;\n    import roslaunch\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/roslaunch/__init__.py\", line 48, in &lt;module&gt;\n    import rospkg\n  File \"/usr/lib/python2.7/dist-packages/rospkg/__init__.py\", line 43, in &lt;module&gt;\n    from .rospack import RosPack, RosStack, \\\n  File \"/usr/lib/python2.7/dist-packages/rospkg/rospack.py\", line 35, in &lt;module&gt;\n    from xml.etree.cElementTree import ElementTree\n  File \"/usr/lib/python2.7/xml/etree/cElementTree.py\", line 3, in &lt;module&gt;\n    from _elementtree import *\nImportError: PyCapsule_Import could not import module \"pyexpat\"\n</code></pre>\n\n<p>So I must set the environment variable back and log out-in again to work with ROS. </p>\n\n<p>So it seems to me that Matlab and ROS are not actually seeing and identifying their paths in that environment variable. Using one excludes the resource for the other one.\nHow can they coexist in the same system? How should I set this variable?</p>\n\n<p><strong>UPDATE #1:</strong>\naccording to Michael's suggestion I tried the following shell command:</p>\n\n<pre><code>LD_LIBRARY_PATH=\"/usr/local/MATLAB/R2013a/bin/glnxa64\" g++ -Wall -pedantic main.cpp -o main -I/usr/local/MATLAB/R2013a/extern/include -L/usr/local/MATLAB/R2013a/bin/glnxa64 -leng -lmat -lut -lmex -std=c++11\n</code></pre>\n\n<p>and <strong>it compiles!!!</strong> :) \nSo an upvote to Michael.</p>\n\n<p><strong>But</strong> the problem persists: if I try to run the program I get the following error message:</p>\n\n<pre><code>:~$ ./main\n./main: error while loading shared libraries: libeng.so: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>that's because the library are shared and should be found at running time.\nAny idea???</p>\n\n<p>Regards </p>\n"}, {"tags": ["c++", "linux", "windows", "makefile"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1425492461, "post_id": 28861623, "comment_id": 45988693, "body": "Why doesn&#39;t using <code>\\` in the target and prerequisite work? Are you sure you need the pathfix stuff at all? (Windows should handle </code>/` in paths just fine most places.)"}, {"owner": {"reputation": 183, "user_id": 2516280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f40543e23e3dc081c4e5a7b6ab68fc3f?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/2516280/clemens"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1425498465, "post_id": 28861623, "comment_id": 45992170, "body": "<b>most places</b>, yes, but not <code>mkdir</code>."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1425498620, "post_id": 28861623, "comment_id": 45992253, "body": "So just use <code>pathfix</code> for that command then (which MadScientist beat me to the punch to)."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 2516280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f40543e23e3dc081c4e5a7b6ab68fc3f?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/2516280/clemens"}, "edited": false, "score": 0, "creation_date": 1425498602, "post_id": 28861788, "comment_id": 45992242, "body": "Thanks, I removed the <code>pathfix</code> in most places except for the <code>mkdir</code>call (amongst other places). Then following the wildcard (<code>%</code>) approach is fine."}], "owner": {"reputation": 69991, "user_id": 939557, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3VPea.png?s=128&g=1", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/939557/madscientist"}, "is_accepted": true, "score": 1, "last_activity_date": 1425492699, "creation_date": 1425492699, "answer_id": 28861788, "question_id": 28861623, "link": "https://stackoverflow.com/questions/28861623/makefile-dealing-with-different-source-and-object-directories-under-windows-and/28861788#28861788", "title": "Makefile dealing with different source and object directories under Windows and Linux", "body": "<p>You should never use backslash separators in makefiles.  Almost all Windows tools support normal UNIX slash as directory separators. For those few that don't it's easier to convert them for that specific utility inside the recipe: in other words, put the calls to <code>$(pathfix ...)</code> inside the recipes only where they're needed.</p>\n\n<p>Note that almost without fail the commands that require backslashes will be Windows-specific (command.com) commands, which won't be portable to UNIX anyway.</p>\n"}], "owner": {"reputation": 183, "user_id": 2516280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f40543e23e3dc081c4e5a7b6ab68fc3f?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/2516280/clemens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 28861788, "answer_count": 1, "score": 0, "last_activity_date": 1425492699, "creation_date": 1425492181, "last_edit_date": 1495542504, "question_id": 28861623, "link": "https://stackoverflow.com/questions/28861623/makefile-dealing-with-different-source-and-object-directories-under-windows-and", "title": "Makefile dealing with different source and object directories under Windows and Linux", "body": "<p>I have a problem creating a Makefile for a project with source files scattered in different folders. As the source files might have the same names, I'd like to send the objects into different folders as well. With a single source and object file, I'm doing fine following rules like posted elsewhere (<a href=\"https://stackoverflow.com/questions/7453788/automatic-makefile-with-source-and-object-files-in-different-directories\">Automatic makefile with source and object files in different directories</a>). The Makefile has to be adequate to be used with Windows and Linux, which I solve by the <code>pathfix</code> definition (see code below). This part is doing fine, but I might overlook some detail.\nHere is a shortened version of the Makefile showing my approach:</p>\n\n<pre><code>CXX = g++\n\nCFLAGS = -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp\n\nFILES = main.cpp\nFILES_MINIME = minime_class.cpp fifo_class.cpp fit_fun.cpp funcs.cpp gabe_class.cpp minimizer_s.cpp random.cpp\n\n# check the OS\nifdef windir\n binfix = .exe\n pathfix = $(subst /,\\,$1)\n OSID = 1\nelse\n ifeq ($(shell uname), Linux)\n  binfix =\n  pathfix = $1\n  OSID = 0\n else\n  ifneq ($(shell uname), Linux)\n   $(error OS not identified)\n  endif\n endif\nendif\n\n# define the different paths of objects and sources\nODIR = obj\nSDIR = .\nMINIME_SDIR = $(call pathfix, ../minime_pp/src)\nMINIME_ODIR = $(call pathfix, obj/minime_pp)\n\n# create templates for the objects by replacing the cpp with an o\n_OBJECTS = $(patsubst %.cpp, %.o, $(FILES))\n_OBJECTS_MINIME = $(patsubst %.cpp, %.o, $(FILES_MINIME))\n\n# combine the source- and the file names\nSOURCE_MINIME = $(call pathfix, $(addprefix $(MINIME_SDIR)/, $(FILES_MINIME)))\n\n# now combine the object- and the file names\nOBJECTS = $(call pathfix, $(addprefix $(ODIR)/, $(_OBJECTS)))\nOBJECTS_MINIME = $(call pathfix, $(addprefix $(MINIME_ODIR)/, $(_OBJECTS_MINIME)))\n\n# add upp all the objects\nOBJECTS_ALL = $(OBJECTS) $(OBJECTS_MINIME)\n\n# define the rules\n$(PROJECT): $(OBJECTS_ALL)\n    $(CXX) -o $@$(binfix) $^\n\n$(OBJECTS): $(FILES) Makefile\n    $(CXX) $(CFLAGS) -c $&lt; -o $@\n\n$(OBJECTS_MINIME): $(SOURCE_MINIME)\n    $(CXX) $(CFLAGS) -c $&lt; -o $@\n\n# create the folders (if necessary)\n$(OBJECTS): | $(ODIR)\n\n$(OBJECTS_MINIME): | $(MINIME_ODIR)\n\n$(ODIR):\n    mkdir $(ODIR)\n\n$(MINIME_ODIR):\n    mkdir $(MINIME_ODIR)\n</code></pre>\n\n<p>The problem is easiest illustrated on the output. On Windows, <code>mingw32-make &gt; output.txt</code> reads</p>\n\n<pre><code>g++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c main.cpp -o obj\\main.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\minime_class.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\fifo_class.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\fit_fun.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\funcs.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\gabe_class.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\minimizer_s.o\ng++ -O0 -g -Wall -Wextra -pedantic -std=c++11 -fopenmp -c ..\\minime_pp\\src\\minime_class.cpp -o obj\\minime_pp\\random.o\n</code></pre>\n\n<p>The reason for this is the <code>-c $&lt;</code> syntax which takes only the first entry of the dependencies (in this case <code>..\\minime_pp\\src\\minime_class.cpp</code>).</p>\n\n<p>The solution for this might be to switch back to a definition like</p>\n\n<pre><code>$(MINIME_ODIR)/%.o: $(MINIME_SDIR)/%.cpp\n    $(CXX) $(CFLAGS) -c $&lt; -o $@\n</code></pre>\n\n<p>The problem now is the backslash - there is no requirement in <code>$(OBJECTS_ALL)</code> that will match this new definition and thus nothing happens. Using the <code>\\</code> in the definition won't work. So I thought you get rid of the backslash - forward slash conversion, but then the automatic directory creation won't work on Windows. Something like <code>-c $&lt;</code> but with <code>$&lt;</code> picking the 'matching' one from the list without <code>/%.cpp</code> is basically what I'm looking for.</p>\n\n<p>If someone knows an way around writing two Makefiles (Windows, Linux) thanks for a hint.</p>\n"}, {"tags": ["c++", "boost", "boost-propertytree"], "comments": [{"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 0, "creation_date": 1425492425, "post_id": 28861619, "comment_id": 45988669, "body": "Looking at the <a href=\"http://www.boost.org/doc/libs/1_55_0/boost/property_tree/ptree.hpp\" rel=\"nofollow noreferrer\">header</a>, I do not see an <code>ordered_end()</code>, but there is <code>&#47;** Returns the not-found iterator. Equivalent to end() in a real           associative container.          *&#47;         assoc_iterator not_found();</code>"}], "answers": [{"owner": {"reputation": 11187, "user_id": 1147772, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OAgfw.jpg?s=128&g=1", "display_name": "Drax", "link": "https://stackoverflow.com/users/1147772/drax"}, "is_accepted": true, "score": 2, "last_activity_date": 1425557074, "last_edit_date": 1425557074, "creation_date": 1425492866, "answer_id": 28861829, "question_id": 28861619, "link": "https://stackoverflow.com/questions/28861619/boostproperty-treeordered-end-missing/28861829#28861829", "title": "boost::property_tree::ordered_end() missing", "body": "<p><a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/boost/property_tree/basic_ptree.html#idp204050352-bb\" rel=\"nofollow\">The ptree documentation says</a>:</p>\n\n<blockquote>\n  <p><code>assoc_iterator ordered_begin();</code> </p>\n  \n  <p>Returns an iterator to the first child, in key order.</p>\n  \n  <p><code>const_assoc_iterator ordered_begin() const;</code> </p>\n  \n  <p>Returns an iterator to the first child, in key order.</p>\n  \n  <p><code>assoc_iterator not_found();</code> </p>\n  \n  <p>Returns the not-found iterator. Equivalent to end() in a real associative container.</p>\n  \n  <p><code>const_assoc_iterator not_found() const;</code></p>\n  \n  <p>Returns the not-found iterator. Equivalent to end() in a real associative container.</p>\n</blockquote>\n\n<p>So basically the<code>ordered_end</code> function is called <code>not_found</code></p>\n"}], "owner": {"reputation": 15008, "user_id": 16582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/febff21383acf755f8b375c322e36f2b?s=128&d=identicon&r=PG", "display_name": "ravenspoint", "link": "https://stackoverflow.com/users/16582/ravenspoint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 28861829, "answer_count": 1, "score": 3, "last_activity_date": 1425557074, "creation_date": 1425492161, "question_id": 28861619, "link": "https://stackoverflow.com/questions/28861619/boostproperty-treeordered-end-missing", "title": "boost::property_tree::ordered_end() missing", "body": "<p>I am trying to iterate over a boost property tree.  The <a href=\"http://www.boost.org/doc/libs/1_55_0/doc/html/boost_propertytree/container.html\" rel=\"nofollow\">docs</a> state that </p>\n\n<blockquote>\n  <p>You can get an ordered view of all children by using ordered_begin()\n  and ordered_end().</p>\n</blockquote>\n\n<p>However, when I write</p>\n\n<pre><code>for ( boost::property_tree::ptree::const_assoc_iterator it =\n            myPropTree.ordered_begin();\n    it != myPropTree.ordered_end();\n    it++ )\n</code></pre>\n\n<p>The compiler complains</p>\n\n<pre><code>error: 'boost::property_tree::ptree' has no member named 'ordered_end'\n</code></pre>\n\n<pre>\nboost v1.55\nmingw\ncode::blocks\n</pre>\n"}, {"tags": ["c++", "visual-studio-2012"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1425492181, "post_id": 28861529, "comment_id": 45988513, "body": "Have a look at the Version Information in your resource file, it has sections for different languages.  <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa381058(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1425492430, "post_id": 28861529, "comment_id": 45988676, "body": "This doesn&#39;t seem tu support the most important thing - DLL description. DLL description is also displayed by most DLL injection tools allowing the user to easily find what he&#39;s looking for."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425495306, "post_id": 28861529, "comment_id": 45990334, "body": "Adding properties is pretty simple, the hard problem to solve is to get Windows to display them.  Writing and debugging a property sheet extension handler is a couple of weeks of your life you&#39;ll never get back.  <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/cc144106%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Start here</a>."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425495814, "post_id": 28861529, "comment_id": 45990634, "body": "@HansPassant I think you have misunderstood. I&#39;m solely trying to add the information that is displayed in the tab on the screenshot. You&#39;re talking about modifying some system shell stuff."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1425496139, "post_id": 28861529, "comment_id": 45990831, "body": "Oh.  Well, just edit the VERSION resource and don&#39;t leave anything blank.  You can map it to the localized property names from there."}], "answers": [{"comments": [{"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425509288, "post_id": 28863887, "comment_id": 45998033, "body": "It throws error that <code>afxres.h</code> doesn&#39;t exist, whatever it is supposed to be. I get errors in that order: <a href=\"http://i.stack.imgur.com/lt498.png\" rel=\"nofollow noreferrer\">A</a>, <a href=\"http://i.stack.imgur.com/kdbvz.png\" rel=\"nofollow noreferrer\">B</a>. Final product is this: <a href=\"http://i.stack.imgur.com/9rCkg.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/9rCkg.png</a>"}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425513478, "post_id": 28863887, "comment_id": 45999541, "body": "Is your application MFC?  The afxres.h refers to an MFC include file.  If not, open your .rc file in Notepad and remove this reference, and try again.  But you can edit other resources in your project, right?"}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425514086, "post_id": 28863887, "comment_id": 45999697, "body": "I managed to remove that file refference and I also had to add include for <code>&lt;windows.h&gt;</code> to get it to compile. Otherwise it works perfectly, thanks! :)"}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425514122, "post_id": 28863887, "comment_id": 45999708, "body": "But for some reason, company name does not display in properties when I compile..."}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425570438, "post_id": 28863887, "comment_id": 46025151, "body": "You can open your .dll in Visual Studio and view its resources. Make sure the company name is in the version resource. Also the version resource can contain different info for different languages. Maybe Windows is showing a different language&#39;s version strings."}, {"owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425575824, "post_id": 28863887, "comment_id": 46028640, "body": "It&#39;s actually quite broken. I defined several languages (English, czech, french) but after compiling, only one adn the very same was visible on different locales (tested in Win7-Czech and WinXP-English). Company name displays properly in applications that want to display it but is not shown in properties. According to my googling, it just isn&#39;t designed to display there. Resource hacker displayed something that seemed rather broken and didn&#39;t correspond to what I&#39;ve seen in file properties."}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1425576242, "post_id": 28863887, "comment_id": 46028895, "body": "FWIW, Company Name doesn&#39;t show up for my apps either in US English.  That is OK because I put the company into the Copyright.  ;)"}], "owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "is_accepted": true, "score": 3, "last_activity_date": 1425499680, "creation_date": 1425499680, "answer_id": 28863887, "question_id": 28861529, "link": "https://stackoverflow.com/questions/28861529/how-to-add-properties-to-compiled-dll-file-in-visual-studio-2012/28863887#28863887", "title": "How to add properties to compiled dll file in Visual Studio 2012?", "body": "<p>In Visual Studio, select View | Resource View.  If your application does not have a Version resource, right click on your application.rc file in the tree and select Add Resource.  Select Version from the list that pops up.  Then you can edit it in a window similar to:</p>\n\n<p><img src=\"https://i.stack.imgur.com/a7Vtw.gif\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 41430, "user_id": 607407, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a061a72feb5b6580dadd5dcbc92d3b5?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Zato - Reinstate Monica", "link": "https://stackoverflow.com/users/607407/tom%c3%a1%c5%a1-zato-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3239, "favorite_count": 1, "accepted_answer_id": 28863887, "answer_count": 1, "score": 2, "last_activity_date": 1425499680, "creation_date": 1425491861, "question_id": 28861529, "link": "https://stackoverflow.com/questions/28861529/how-to-add-properties-to-compiled-dll-file-in-visual-studio-2012", "title": "How to add properties to compiled dll file in Visual Studio 2012?", "body": "<p>I'm compiling some <code>dll</code> file and I'd like to make it possible to see what the file is in the properties tab. Currently, it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/T4nk5.png\" alt=\"image description\"></p>\n\n<p>I translated some fields for clarity. I do often use this tab to try to find details about program or DLL file. So I'd like to add the following:</p>\n\n<ul>\n<li>Short description what it is (<strong><code>Popis souboru</code></strong> = <code>File description</code>)</li>\n<li>URL of the source code/project home</li>\n<li>Long description that can be seen in a text field?</li>\n</ul>\n\n<p>As I suppose this depends on compiler: I'm using the default bundled compiler for Visual Studio 2012.</p>\n"}, {"tags": ["c++", "class", "operator-overloading"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 7, "creation_date": 1425491843, "post_id": 28861496, "comment_id": 45988306, "body": "<code>x = x op y</code> isn&#39;t self-assignment. You&#39;re creating a new value with <code>x op y</code> that gets assigned to <code>x</code>."}, {"owner": {"reputation": 12923, "user_id": 1530508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fG8z0.png?s=128&g=1", "display_name": "ApproachingDarknessFish", "link": "https://stackoverflow.com/users/1530508/approachingdarknessfish"}, "edited": false, "score": 2, "creation_date": 1425491931, "post_id": 28861496, "comment_id": 45988360, "body": "So you&#39;re wanting <code>x = x + y</code> to be converted to <code>x += y</code> ?"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 3, "creation_date": 1425492205, "post_id": 28861496, "comment_id": 45988528, "body": "<code>x op y</code> can return a class with a conversion operator to x&#39;s type. The assignment operator can handle that class specially to optimize it. There&#39;s a term for this form of optimization which I unfortunately can&#39;t remember at the moment."}, {"owner": {"reputation": 79, "user_id": 4267310, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e754d30a9ca1b4b241990674f9c4bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Chase", "link": "https://stackoverflow.com/users/4267310/michael-chase"}, "edited": false, "score": 0, "creation_date": 1425492256, "post_id": 28861496, "comment_id": 45988555, "body": "@ 0x499602D2 That is precisely what I&#39;m hoping to avoid. @ Approaching Yes exactly, but op + must be able to detect it as well (i.e X += Y and X = X + Y should call the same function)"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1425492267, "post_id": 28861496, "comment_id": 45988566, "body": "@interjay: I think the problem arises from detecting the <i>value</i>, and not the <i>type</i>"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1425492367, "post_id": 28861496, "comment_id": 45988620, "body": "You can&#39;t do this. <code>operator=</code>, <code>operator+=</code>, and <code>operator+</code> are all independent. You&#39;ll have to overload them all one way or another if you want complete control over how <code>x = x + y</code> gets compiled."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1425492378, "post_id": 28861496, "comment_id": 45988628, "body": "You can write tool using lib clang."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1425492527, "post_id": 28861496, "comment_id": 45988732, "body": "@KarolyHorvath Detecting what value? In my proposed implementation, <code>x op y</code> would return a temporary class without performing the actual calculation. The calculation would be performed when assigning (which could be done in-place), or calling the conversion operator (not in-place)."}, {"owner": {"reputation": 79, "user_id": 4267310, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e754d30a9ca1b4b241990674f9c4bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Chase", "link": "https://stackoverflow.com/users/4267310/michael-chase"}, "edited": false, "score": 0, "creation_date": 1425492565, "post_id": 28861496, "comment_id": 45988754, "body": "I appreciate that they are distinct operators. What I want to know is if I can avoid generating the temporary variable in X = X + Y and rather just sum directly to X (e.g by calling op +=), i suppose the question boils down to: Is there a way to access the lvalue to determine it&#39;s identity in X = X op Y?"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1425492968, "post_id": 28861496, "comment_id": 45988952, "body": "@interjay: sry, I meant identity. But now I understand how your solution works. Why don&#39;t you post an answer (with an example)?"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1425493528, "post_id": 28861496, "comment_id": 45989299, "body": "@KarolyHorvath Done."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4267310, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e754d30a9ca1b4b241990674f9c4bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Chase", "link": "https://stackoverflow.com/users/4267310/michael-chase"}, "edited": false, "score": 0, "creation_date": 1425493955, "post_id": 28862031, "comment_id": 45989540, "body": "That is precisely what I was looking for! I should add ++ for the comment about chains! Brilliant."}], "owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "is_accepted": true, "score": 2, "last_activity_date": 1425496510, "last_edit_date": 1425496510, "creation_date": 1425493479, "answer_id": 28862031, "question_id": 28861496, "link": "https://stackoverflow.com/questions/28861496/detect-self-assignment-in-overloaded-c-operators/28862031#28862031", "title": "Detect self-assignment in overloaded C++ operators", "body": "<p>One way to do this is to have the operation for <code>A</code> op <code>A</code>  return a temporary object of another class <code>APlusA</code>, without performing the operation itself yet. This class has a conversion operator to <code>A</code> that performs the actual calculation when needed.</p>\n\n<p>The trick is that in class <code>A</code> you implement a version of <code>operator=</code> that takes the temporary object of <code>APlusA</code>. If it recognizes that it's operating on the same object, it can then perform the operation in-place, without creating a temporary <code>A</code> object. Here's an example (<a href=\"http://ideone.com/ixypdo\" rel=\"nofollow\">test on ideone</a>):</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct A {\n    struct APlusA {\n        APlusA(const A&amp;a_, const A&amp;b_) : a(a_), b(b_) {}\n        const A &amp;a;\n        const A &amp;b;\n\n        operator A() const { \n            std::cout &lt;&lt; \"Creating temporary A\" &lt;&lt; std::endl; \n            return A(a.val + b.val);\n        }\n    };\n\n    A(int val_) : val(val_) {}\n    friend APlusA operator+(const A&amp;a, const A&amp;b) { return APlusA(a,b); }\n    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;s, const A &amp;a) { return s &lt;&lt; a.val;}\n\n    A&amp; operator=(const APlusA &amp;apa) {\n        if (this == &amp;apa.a) {\n            std::cout &lt;&lt; \"Performing in-place operation\" &lt;&lt; std::endl;\n            val += apa.b.val;\n        }\n        else\n        {\n            *this = static_cast&lt;A&gt;(apa);\n        }\n        return *this;\n    }\n\n    int val;\n};\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>int main() {\n    A a(4), b(5), c(6);\n    std::cout &lt;&lt; a+b &lt;&lt; std::endl; //Temporary created\n    a = b+c;                       //Temporary created\n    a = a+b;                       //No temporary - inplace operation\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>It's also possible to optimize <code>a = b + c</code> to avoid creating a temporary, but I haven't done that here. Other possible optimizations are to handle a chain of operations to avoid creating a temporary at each step.</p>\n"}], "owner": {"reputation": 79, "user_id": 4267310, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e754d30a9ca1b4b241990674f9c4bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Chase", "link": "https://stackoverflow.com/users/4267310/michael-chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 2, "accepted_answer_id": 28862031, "answer_count": 1, "score": 3, "last_activity_date": 1425496510, "creation_date": 1425491766, "last_edit_date": 1425491895, "question_id": 28861496, "link": "https://stackoverflow.com/questions/28861496/detect-self-assignment-in-overloaded-c-operators", "title": "Detect self-assignment in overloaded C++ operators", "body": "<p>Forgive me if this is a duplicate; I searched but the correct vernacular may be outside my scope of comprehension.</p>\n\n<p>My goal for some arbitrary class and overloaded operator</p>\n\n<pre><code>x = x op y\n</code></pre>\n\n<p>would recognize it is being self-assigned and rather than generating a temporary variable just op= to x directly ( I don't just want to overload op=). Is there a way to do this?</p>\n"}, {"tags": ["c++", "eclipse"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 4605661, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/27d5e8575c09aab6a2441230f544520f?s=128&d=identicon&r=PG&f=1", "display_name": "studinstru", "link": "https://stackoverflow.com/users/4605661/studinstru"}, "edited": false, "score": 0, "creation_date": 1429704398, "post_id": 29797023, "comment_id": 47722155, "body": "Thanks user3476225 for your answer ."}], "owner": {"reputation": 220, "user_id": 3476225, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/5688f812fa8ea3d0fffd6c8363bba48c?s=128&d=identicon&r=PG&f=1", "display_name": "user3476225", "link": "https://stackoverflow.com/users/3476225/user3476225"}, "is_accepted": true, "score": 1, "last_activity_date": 1429704318, "creation_date": 1429704318, "answer_id": 29797023, "question_id": 28861492, "link": "https://stackoverflow.com/questions/28861492/eclipse-with-float-values-display-in-watch-window/29797023#29797023", "title": "Eclipse with float values display in watch window", "body": "<p>1) goto <code>Window-&gt;show View-&gt;Memory</code> .<br>\n2) Then click on <code>+</code> symbol.<br>\n3) Add the name of your variable .<br>\n4) Click on <code>Floating Point</code> option .</p>\n\n<p>This way you can see the floating point variable in memory .You can view the variable in 32 bit and 64 bit FP format .</p>\n"}], "owner": {"reputation": 111, "user_id": 4605661, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/27d5e8575c09aab6a2441230f544520f?s=128&d=identicon&r=PG&f=1", "display_name": "studinstru", "link": "https://stackoverflow.com/users/4605661/studinstru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 29797023, "answer_count": 1, "score": 0, "last_activity_date": 1429704318, "creation_date": 1425491761, "question_id": 28861492, "link": "https://stackoverflow.com/questions/28861492/eclipse-with-float-values-display-in-watch-window", "title": "Eclipse with float values display in watch window", "body": "<p>I want to see the float type of data type with its value in watch window of eclipse.<br>\n                                                                                     But I am not able to find the option for float variable in watch window .<br>\nCan anybody tell me How i can see this variable in watch window .<br>\nI am using Eclipse IDE for C/C++ Developers\nVersion: Luna Service Release 1 (4.4.1)</p>\n"}, {"tags": ["c++", "c", "c++11"], "comments": [{"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1425491817, "post_id": 28861475, "comment_id": 45988292, "body": "You can just cast constness but I don&#39;t know if that can be good."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 3, "creation_date": 1425491845, "post_id": 28861475, "comment_id": 45988308, "body": "Does it really say <code>conversation</code>? Please use the actual error strings. And fix the title."}, {"owner": {"reputation": 2863, "user_id": 415823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2c57689ce574b5988334b777e774bb3?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/415823/adam"}, "edited": false, "score": 0, "creation_date": 1425491864, "post_id": 28861475, "comment_id": 45988321, "body": "Not a strict duplicate, but this should have some helpful information: <a href=\"http://stackoverflow.com/questions/1704407/what-is-the-difference-between-char-s-and-char-s-in-c/1704433#1704433\" title=\"what is the difference between char s and char s in c\">stackoverflow.com/questions/1704407/&hellip;</a>"}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1425491915, "post_id": 28861475, "comment_id": 45988349, "body": "Yes please post the exact error message, copy and paste, it&#39;s not possible that it says <code>conversation</code>."}, {"owner": {"reputation": 3220, "user_id": 1779316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/oIJWt.jpg?s=128&g=1", "display_name": "thang", "link": "https://stackoverflow.com/users/1779316/thang"}, "edited": false, "score": 0, "creation_date": 1425492020, "post_id": 28861475, "comment_id": 45988419, "body": "I guess you can&#39;t talk about string literals and char* in c++11.  Freaken passive-aggressive language..."}, {"owner": {"reputation": 124, "user_id": 2824248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lxori.jpg?s=128&g=1", "display_name": "Masoud AMR", "link": "https://stackoverflow.com/users/2824248/masoud-amr"}, "edited": false, "score": 0, "creation_date": 1425492024, "post_id": 28861475, "comment_id": 45988426, "body": "is parameter 3 space?"}, {"owner": {"reputation": 668, "user_id": 1420893, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0b38dae882843ea0be91706a08e33569?s=128&d=identicon&r=PG", "display_name": "K17", "link": "https://stackoverflow.com/users/1420893/k17"}, "edited": false, "score": 0, "creation_date": 1425522677, "post_id": 28861475, "comment_id": 46002225, "body": "Oops.  one of those &quot;spell checkers&quot; got me again.  &quot;conversation&quot; should be conversion.   So the exact message is .... &quot;C++ 11 does not allow conversion from string literal to char *"}], "answers": [{"comments": [{"owner": {"reputation": 668, "user_id": 1420893, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0b38dae882843ea0be91706a08e33569?s=128&d=identicon&r=PG", "display_name": "K17", "link": "https://stackoverflow.com/users/1420893/k17"}, "edited": false, "score": 0, "creation_date": 1425522813, "post_id": 28861607, "comment_id": 46002254, "body": "Thank you.  This looks like the direction to go."}, {"owner": {"reputation": 668, "user_id": 1420893, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0b38dae882843ea0be91706a08e33569?s=128&d=identicon&r=PG", "display_name": "K17", "link": "https://stackoverflow.com/users/1420893/k17"}, "edited": false, "score": 0, "creation_date": 1425524390, "post_id": 28861607, "comment_id": 46002633, "body": "Creating the character string successfully removed the error."}], "owner": {"reputation": 37414, "user_id": 204883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba29060be0758fa6537ff3d768a91757?s=128&d=identicon&r=PG", "display_name": "Arkku", "link": "https://stackoverflow.com/users/204883/arkku"}, "is_accepted": false, "score": 6, "last_activity_date": 1425492107, "creation_date": 1425492107, "answer_id": 28861607, "question_id": 28861475, "link": "https://stackoverflow.com/questions/28861475/conversion-from-string-literal-to-char/28861607#28861607", "title": "Conversion from string literal to char *", "body": "<p>To be safe, you could create <code>char</code> arrays initialised to the same values, for example:</p>\n\n<pre><code>char dgeqrf[] = \"DGEQRF\";\nchar space[] = \" \";\n</code></pre>\n\n<p>Or you could check the source code of the function; if it doesn't actually modify the contents of those arrays you could change the arguments to <code>const char *</code>.</p>\n"}, {"owner": {"reputation": 827, "user_id": 2534793, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0852a47304b79991d99202c05eabe454?s=128&d=identicon&r=PG", "display_name": "senfen", "link": "https://stackoverflow.com/users/2534793/senfen"}, "is_accepted": false, "score": 5, "last_activity_date": 1425550580, "creation_date": 1425550580, "answer_id": 28875291, "question_id": 28861475, "link": "https://stackoverflow.com/questions/28861475/conversion-from-string-literal-to-char/28875291#28875291", "title": "Conversion from string literal to char *", "body": "<p>Your function takes \"char *\", not \"const char *\". String literals can be assigned only to \"const char *\".</p>\n"}, {"comments": [{"owner": {"reputation": 37414, "user_id": 204883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba29060be0758fa6537ff3d768a91757?s=128&d=identicon&r=PG", "display_name": "Arkku", "link": "https://stackoverflow.com/users/204883/arkku"}, "edited": false, "score": 0, "creation_date": 1510737245, "post_id": 47184459, "comment_id": 81557554, "body": "re. &quot;if you declare <code>formatString</code> as a <code>const char *</code> this won&#39;t work&quot; \u2013 the code shown here will work just fine with <code>const char *</code>, but the potential problem is that the function takes <code>char *</code> not <code>const char *</code> so we don&#39;t know if it is going to modify the contents of the string, and modifying the string literals is not permitted. Hence the need to have a modifiable array, either by conversion from <code>string</code> or as a <code>char</code> array instead of pointer (as per my answer). <i>Unless</i> you need to assign the contents dynamically (like in this answer), the array is simpler."}], "owner": {"reputation": 56, "user_id": 5779541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf4ddc81c4b7b066fd17a9c239aca17?s=128&d=identicon&r=PG&f=1", "display_name": "Albertus", "link": "https://stackoverflow.com/users/5779541/albertus"}, "is_accepted": true, "score": 1, "last_activity_date": 1510157415, "creation_date": 1510157415, "answer_id": 47184459, "question_id": 28861475, "link": "https://stackoverflow.com/questions/28861475/conversion-from-string-literal-to-char/47184459#47184459", "title": "Conversion from string literal to char *", "body": "<p>Sorry for being so late, I just bumped into this problem. You can try this, </p>\n\n<pre><code>string dgeqrf = \"DGEQRF\";\n</code></pre>\n\n<p>One problem with using \"const char *\" is code like this, </p>\n\n<pre><code>string formatString;\nswitch (format)\n{\n    case FORMAT_RGB:  formatString = \"RGB\"; break;\n    case FORMAT_RGBA: formatString = \"RGBA\"; break;\n    case FORMAT_TP10: formatString = \"TP10\"; break;\n    default:          formatString = \"Unsupported\"; break;\n}\n</code></pre>\n\n<p>If you declare formatString as a \"const char *\", this won't work. </p>\n"}], "owner": {"reputation": 668, "user_id": 1420893, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0b38dae882843ea0be91706a08e33569?s=128&d=identicon&r=PG", "display_name": "K17", "link": "https://stackoverflow.com/users/1420893/k17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7264, "favorite_count": 1, "accepted_answer_id": 47184459, "answer_count": 3, "score": 2, "last_activity_date": 1510157415, "creation_date": 1425491705, "last_edit_date": 1425492307, "question_id": 28861475, "link": "https://stackoverflow.com/questions/28861475/conversion-from-string-literal-to-char", "title": "Conversion from string literal to char *", "body": "<p>I am trying to make a c function work in some publicly available linear algebra code. </p>\n\n<p>the publicly available prototype is\u2026</p>\n\n<pre><code>int ilaenv_(int *, char *, char *, int *, int *,int *, int *);\n</code></pre>\n\n<p>The publicly available code has the function call\u2026</p>\n\n<pre><code>nb = ilaenv_(&amp;c__1, \"DGEQRF\", \" \", m, n, &amp;c_n1, &amp;c_n1); \n</code></pre>\n\n<p>where m, n, c_1, and c_n1 are integers,</p>\n\n<p>The error message is.<br>\n</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C++ 11 does not allow conversation from string literal to char *.\n</code></pre>\n\n<p>I did not create the code, but downloaded it from the LAPACK site. I hesitate to make too many changes to publicly available code that supposedly works, for fear of introducing errors.  However, this error is showing up on a number of functions in the program that I am working on.</p>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["c++", "pthreads", "mutex", "deadlock"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 1, "creation_date": 1425491832, "post_id": 28861465, "comment_id": 45988303, "body": "Why do you think there&#39;s a problem with that code? It looks more like it&#39;s supposed to be an example of how to avoid the described problem."}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "reply_to_user": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1425491984, "post_id": 28861465, "comment_id": 45988395, "body": "I think that the code is correct but I didn&#39;t understand what it says in sentences, his sentences are so complex, thus i thought that the code contains some problem."}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "reply_to_user": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1425492124, "post_id": 28861465, "comment_id": 45988479, "body": "#Mike Seymour , I didn&#39;t understand anything from this sentence : &quot;If the first pthread_mutex_lock is applied and the second pthread_mutex_lock fails due to another thread applying a mutex, the first mutex may eventually lock all other threads from accessing data including the thread which holds the second mutex. &quot;"}], "answers": [{"comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 1, "creation_date": 1425492493, "post_id": 28861532, "comment_id": 45988714, "body": "Assuming all threads always try to acquire the mutexes in the order <code>1</code> then <code>2</code> as your code shows, yes it should be safe from deadlocks."}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1425492614, "post_id": 28861532, "comment_id": 45988779, "body": "IN this example, more than one mutex are applied to a section of code. What the author means that by saying &quot;... and the second pthread_mutex_lock fails due to another thread applying a mutex ... &quot; Could you explain what this sentence means in simple words?"}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1425495246, "post_id": 28861532, "comment_id": 45990304, "body": "I think i understand, you explain a possible case of deadlock, more than one thread may cause deadlock in the figure you give. IN order to avoid this bad scenario, we should enforce using threads with an order. My example exactly did this, am i right? This task enforces locking mutex1, then mutex2, respectively.. Similarly, i can write a task which enforces locking mutex2, then mutex1 respectively. Then thread 1 executes task1, thread2 executes task2 with no possibility of deadlock."}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1425495705, "post_id": 28861532, "comment_id": 45990569, "body": "Sorry, my example &quot; This task enforces locking mutex1, then mutex2, respectively.. Similarly, i can write a task which enforces locking mutex2, then mutex1 respectively. &quot; causes deadlock. HOwever, if more than one thread executes one of these tasks, there will be no deadlock"}], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 1, "last_activity_date": 1425492428, "last_edit_date": 1425492428, "creation_date": 1425491879, "answer_id": 28861532, "question_id": 28861465, "link": "https://stackoverflow.com/questions/28861465/applying-two-or-more-mutexes-to-a-section-of-code/28861532#28861532", "title": "Applying two or more mutexes to a section of code", "body": "<p>Essentially if you need two mutexes to perform a task, <code>mutex_1</code> and <code>mutex_2</code>, if <code>thread_A</code> grabs <code>mutex_1</code> and <code>thread_B</code> grabs <code>mutex_2</code>, they are stuck in a deadlock because they are both waiting for the other mutex to become available, but they never will because the other is waiting too.</p>\n\n<p>That is why you typically enforce an order that mutexes can be acquired. For example, you must acquire <code>mutex_1</code> before attempting to acquire <code>mutex_2</code>. That way you can't have <code>mutex_2</code> without first having <code>mutex_1</code>, so there is no chance to cause a deadlock.</p>\n\n<pre><code>     Thread_A                Thread_B\n        |                       |\n        |                       |\n   lock(mutex_1)                |            // Thread_A got mutex_1\n        |                       |\n        |                  lock(mutex_2)     // Thread_B got mutex_2\n        |                       |\n        |                       |\n  trylock(mutex_2)              |            // Thread_A wants mutex_2\n        |                 trylock(mutex_1)   // Thread_B wants mutex_1\n        |                       |\n</code></pre>\n\n<p>Due to the timing, these threads are now at a deadlock. Both are waiting for a mutex that they will never get, because the other thread won't unlock the mutex it is holding until it finishes its work.</p>\n\n<p>In your code example, note that the first thing they do is lock <code>mutex_1</code>. They then spin on <code>mutex_2</code> until that comes available. This is enforcing the order <code>mutex_1</code> then <code>mutex_2</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1425493496, "post_id": 28861731, "comment_id": 45989281, "body": "Think that a similar situation, a thread locks mutex1, then locks mutex2. Then is it safe both of these : &quot;firstly unlock mutex1 then unlock mutex2&quot; and &quot;firstly unlock mutex2 then unlock mutex1&quot; ?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 2, "creation_date": 1425494224, "post_id": 28861731, "comment_id": 45989673, "body": "@metis Provided the initial order of mutex acquisition is correct, the order that you unlock the mutexes wouldn&#39;t matter."}], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": false, "score": 1, "last_activity_date": 1425492517, "creation_date": 1425492517, "answer_id": 28861731, "question_id": 28861465, "link": "https://stackoverflow.com/questions/28861465/applying-two-or-more-mutexes-to-a-section-of-code/28861731#28861731", "title": "Applying two or more mutexes to a section of code", "body": "<p>If you lock one mutex, then wait for the second, the first is still locked, so no-one else can get it while you wait. That's quite bad, so maybe unlock the first mutex while you wait. The code shows how to do that.</p>\n\n<p>If another thread has the mutex you're waiting for, and needs your mutex (which it shouldn't, unless the design is messed up), then that's very bad - both threads will wait for ever, causing a \"deadlock\" - and you'll definitely need to unlock the first while you wait.</p>\n\n<p>But in that case, you should fix it properly (as the next section describes) - always lock the two mutexes in a well-defined order.</p>\n"}], "owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 28861532, "answer_count": 2, "score": 1, "last_activity_date": 1425492517, "creation_date": 1425491676, "question_id": 28861465, "link": "https://stackoverflow.com/questions/28861465/applying-two-or-more-mutexes-to-a-section-of-code", "title": "Applying two or more mutexes to a section of code", "body": "<p>I'm studying mutexes and deadlocks in c++ pthreads from <a href=\"http://www.yolinux.com/TUTORIALS/LinuxTutorialPosixThreads.html\" rel=\"nofollow\">http://www.yolinux.com/TUTORIALS/LinuxTutorialPosixThreads.html</a></p>\n\n<p>I understood them but i stacked at a point. I didn't understand what is the problem of the below code. Can you explain it with simple and clear words please? I quoted from this site:</p>\n\n<p>Mutex Deadlock: ... Be careful when applying two or more mutexes to a section of code. If the first pthread_mutex_lock is applied and the second pthread_mutex_lock fails due to another thread applying a mutex, the first mutex may eventually lock all other threads from accessing data including the thread which holds the second mutex. The threads may wait indefinitely for the resource to become free causing a deadlock. It is best to test and if failure occurs, free the resources and stall before retrying.</p>\n\n<pre><code>01  ...\n02  pthread_mutex_lock(&amp;mutex_1);\n03  while ( pthread_mutex_trylock(&amp;mutex_2) )  /* Test if already locked   */\n04  {\n05     pthread_mutex_unlock(&amp;mutex_1);  /* Free resource to avoid deadlock */\n06         ...\n07     /* stall here   */\n08     ...\n09     pthread_mutex_lock(&amp;mutex_1);\n10  }\n11  count++;\n12  pthread_mutex_unlock(&amp;mutex_1);\n13  pthread_mutex_unlock(&amp;mutex_2);\n14  ...\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "linux", "eclipse", "debugging", "makefile"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1425491628, "post_id": 28861415, "comment_id": 45988175, "body": "Did you create a &quot;Makefile Project with Existing Code&quot;? That always works for me if there&#39;s a working makefile."}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 0, "creation_date": 1425491949, "post_id": 28861415, "comment_id": 45988380, "body": "An alternative approach would be to use gdb <a href=\"https://www.gnu.org/software/gdb/\" rel=\"nofollow noreferrer\">gnu.org/software/gdb</a>"}, {"owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "reply_to_user": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1425493059, "post_id": 28861415, "comment_id": 45989011, "body": "@MikeSeymour No I didn&#39;t, I found instructions on the web to create an empty project from the source directory. I will search for those instructions now, thanks!"}, {"owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "reply_to_user": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 0, "creation_date": 1425493193, "post_id": 28861415, "comment_id": 45989104, "body": "@RobKielty Can I run the webkitgtk executable and import the sources in some way? I think gdb should need the sources <b>and</b> debug symbols and I&#39;ve no idea how to generate debug symbols in Linux using the terminal. I&#39;m a Visual studio guy sadly."}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 0, "creation_date": 1425493471, "post_id": 28861415, "comment_id": 45989264, "body": "Symbol generation done at compile time so it is likely that the build process can enable/disable symbol generation."}, {"owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "reply_to_user": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 0, "creation_date": 1425493564, "post_id": 28861415, "comment_id": 45989324, "body": "@RobKielty so you&#39;re telling me there&#39;s a generic way to generate symbols using the make command? I&#39;ll search for that. Don&#39;t really know how to import them into gdb afterwards but I&#39;ll probably manage"}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 0, "creation_date": 1425493855, "post_id": 28861415, "comment_id": 45989493, "body": "Typically it is done via options on a compiler such as gcc"}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "reply_to_user": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "edited": false, "score": 0, "creation_date": 1425493961, "post_id": 28861415, "comment_id": 45989545, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/72255/discussion-between-rob-kielty-and-damieh\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "edited": false, "score": 1, "creation_date": 1425549020, "post_id": 28873642, "comment_id": 46011708, "body": "I&#39;ll look at getting this working in eclipse later it would handy to do your debugging there."}, {"owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "edited": false, "score": 1, "creation_date": 1425613325, "post_id": 28873642, "comment_id": 46044777, "body": "I can&#39;t believe you did all that!!! I can&#39;t thank you enough, really. I&#39;ll wait 14 hours from now to accept your answer so I can give you a bonus"}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "reply_to_user": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "edited": false, "score": 0, "creation_date": 1425643870, "post_id": 28873642, "comment_id": 46056264, "body": "It was fun, I enjoyed doing it \ud83d\ude0a I&#39;ve downloaded Eclipse for c/c++ and will figure out getting the debugger working in that. Should be doable."}, {"owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "edited": false, "score": 1, "creation_date": 1425680263, "post_id": 28873642, "comment_id": 46076573, "body": "It won&#39;t let me give you the bounty right now, apparently I have to wait 24 hours, I am about to try this, thanks!"}, {"owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "reply_to_user": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "edited": false, "score": 0, "creation_date": 1425685473, "post_id": 28873642, "comment_id": 46078256, "body": "Cool let me know how you get on."}], "owner": {"reputation": 7424, "user_id": 411902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPToi.jpg?s=128&g=1", "display_name": "Rob Kielty", "link": "https://stackoverflow.com/users/411902/rob-kielty"}, "is_accepted": true, "score": 1, "last_activity_date": 1425545826, "creation_date": 1425545826, "answer_id": 28873642, "question_id": 28861415, "link": "https://stackoverflow.com/questions/28861415/compiling-in-linuxeclipse-when-i-can-compile-from-terminal/28873642#28873642", "title": "Compiling in Linux&amp;Eclipse when I can compile from terminal", "body": "<p>Ok so I managed to compile and link the code so that it could be loaded into gdb with symbolic debugging info as follows :</p>\n\n<ol>\n<li>I downloaded and extracted <a href=\"http://webkitgtk.org/releases/webkitgtk-2.0.4.tar.xz\" rel=\"nofollow\">http://webkitgtk.org/releases/webkitgtk-2.0.4.tar.xz</a></li>\n<li>I ran ./configure and manually did <code>apt-get install</code> (or in the case of ICU downloaded and compiled) all required dependencies.</li>\n<li>I then made the following modifications to the <code>GNUmakefile</code> adding <code>-ggdb</code>\nto each of the vairable <code>global_cppflags</code>  <code>global_cflags</code> and <code>global_cxxflags</code> (In an effort to speed up the build I removed all warning flags from the cppflags, not sure it made a difference. You should probably reinstate these if you are to do development against this build)</li>\n</ol>\n\n<p>GNUmakefile</p>\n\n<pre><code>global_cppflags := -ggdb -fno-exceptions -DBUILDING_CAIRO__ -DBUILDING_GTK__ \\\n         $(am__append_1) $(am__append_2)\n#global_cppflags := -Wall -W -Wcast-align -Wchar-subscripts \\\n#       -Wreturn-type -Wformat -Wformat-security -Wno-format-y2k \\\n#       -Wundef -Wmissing-format-attribute -Wpointer-arith \\\n#       -Wwrite-strings -Wno-unused-parameter -Wno-parentheses \\\n#       -fno-exceptions -DBUILDING_CAIRO__ -DBUILDING_GTK__ \\\n#       $(am__append_1) $(am__append_2)\nglobal_cflags := -ggdb\nglobal_cxxflags := -ggdb -fno-rtti\n</code></pre>\n\n<p>Then to test that debugging symbols were include in the compiler and linker output I ran gdb as follows </p>\n\n<pre><code>~/dev/webkitgtk-2.0.4$ gdb ./Programs/MiniBrowser -d ./Tools/MiniBrowser/gtk/ \nGNU gdb (Ubuntu 7.8-1ubuntu4) 7.8.0.20141001-cvs\nCopyright (C) 2014 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from ./Programs/MiniBrowser...done.\n(gdb) l\n188                                                         \"WebKitSettings writable properties for default WebKitWebView\",\n189                                                         \"WebKitSettings properties\",\n190                                                         webkitSettings,\n191                                                         NULL);\n192     g_option_group_add_entries(webSettingsGroup, optionEntries);\n193     g_free(optionEntries);\n194 \n195     /* Option context takes ownership of the group. */\n196     g_option_context_add_group(context, webSettingsGroup);\n197 \n(gdb) l\n198     return TRUE;\n199 }\n200 \n201 int main(int argc, char *argv[])\n202 {\n203     gtk_init(&amp;argc, &amp;argv);\n204 \n205     GOptionContext *context = g_option_context_new(NULL);\n206     g_option_context_add_main_entries(context, commandLineOptions, 0);\n207     g_option_context_add_group(context, gtk_get_option_group(TRUE));\n(gdb) \n</code></pre>\n"}], "owner": {"reputation": 4304, "user_id": 1113636, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SuCW2.jpg?s=128&g=1", "display_name": "Gaspa79", "link": "https://stackoverflow.com/users/1113636/gaspa79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 1, "accepted_answer_id": 28873642, "answer_count": 1, "score": 1, "last_activity_date": 1425680216, "creation_date": 1425491512, "last_edit_date": 1425493596, "question_id": 28861415, "link": "https://stackoverflow.com/questions/28861415/compiling-in-linuxeclipse-when-i-can-compile-from-terminal", "title": "Compiling in Linux&amp;Eclipse when I can compile from terminal", "body": "<p>So I was finally able to download an old version of webkit and compile it (after fixing 100 errors) in the terminal using the classic:</p>\n\n<pre><code>./configure\nmake\n</code></pre>\n\n<p>Now since I have the source of the program, my goal is to debug it (setting breakpoints on the C++ code and stuff). Since I'm using Linux for the first time here I downloaded eclipse to have an intuitive GUI. However, when I import the project I can't seem to be able to compile it. Include errors are everywhere and I cannot solve them no matter how much I try.</p>\n\n<p>How can I compile it in eclipse when I can do it in the terminal? Also, is there another approach to debug the program?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1425491476, "post_id": 28861393, "comment_id": 45988097, "body": "Removed C# tag, The question has nothing to do with C#."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1425491561, "post_id": 28861393, "comment_id": 45988148, "body": "And with c, I guess.."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1425491626, "post_id": 28861393, "comment_id": 45988174, "body": "And the body looks like a question template."}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "reply_to_user": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1425491629, "post_id": 28861393, "comment_id": 45988177, "body": "@EugeneSh. Actually this isn&#39;t C++-CLI either, none of the tags are correct"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1425491669, "post_id": 28861393, "comment_id": 45988195, "body": "Fix your indentation please."}, {"owner": {"reputation": 1550, "user_id": 3281091, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UEtNT.png?s=128&g=1", "display_name": "mmathis", "link": "https://stackoverflow.com/users/3281091/mmathis"}, "edited": false, "score": 1, "creation_date": 1425492588, "post_id": 28861393, "comment_id": 45988766, "body": "What is the error you&#39;re getting? WHat inputs are you using?"}], "answers": [{"owner": {"reputation": 21474, "user_id": 718379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4810c6c963334e5dce573e6671d746ec?s=128&d=identicon&r=PG", "display_name": "timrau", "link": "https://stackoverflow.com/users/718379/timrau"}, "is_accepted": false, "score": 0, "last_activity_date": 1425491717, "creation_date": 1425491717, "answer_id": 28861481, "question_id": 28861393, "link": "https://stackoverflow.com/questions/28861393/code-showing-lvalue-error/28861481#28861481", "title": "code showing lvalue error", "body": "<pre><code>    str1++;   //is there any over here??\n</code></pre>\n\n<p>You may want <code>++i;</code> here instead.</p>\n\n<p><code>str1</code> is an array and itself cannot be increased.</p>\n"}, {"owner": {"reputation": 19499, "user_id": 3883560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ndXdL.jpg?s=128&g=1", "display_name": "Gopi", "link": "https://stackoverflow.com/users/3883560/gopi"}, "is_accepted": false, "score": 0, "last_activity_date": 1425491727, "creation_date": 1425491727, "answer_id": 28861482, "question_id": 28861393, "link": "https://stackoverflow.com/questions/28861393/code-showing-lvalue-error/28861482#28861482", "title": "code showing lvalue error", "body": "<p><code>str</code> is an array and array can't be an assignable lvalue</p>\n\n<pre><code>str1++;\n</code></pre>\n\n<p>is same as</p>\n\n<pre><code>str1 = str1 + 1;\n</code></pre>\n\n<p>So there is an error.</p>\n\n<p>PS: Arrays are not assignable. </p>\n"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1425491885, "creation_date": 1425491885, "answer_id": 28861537, "question_id": 28861393, "link": "https://stackoverflow.com/questions/28861393/code-showing-lvalue-error/28861537#28861537", "title": "code showing lvalue error", "body": "<pre><code> str1++;   //is there any over here??\n</code></pre>\n\n<p>is not right. This should be a compiler error.</p>\n\n<p>What you need is:</p>\n\n<pre><code>while(str1[i]!='\\n')\n{\n   if(str1[i]&gt;='A'&amp;&amp;str1[i]&lt;='Z') str1[i]=str1[i]+32;\n   if(str2[i]&gt;='A'&amp;&amp;str2[i]&lt;='Z') str2[i]=str2[i]+32;\n\n   // Just increment the array index.\n   ++i;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4358170, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-ZWu-M8nhRqI/AAAAAAAAAAI/AAAAAAAAAeE/aGfBwacxBGk/photo.jpg?sz=128", "display_name": "krishna kumar nokha", "link": "https://stackoverflow.com/users/4358170/krishna-kumar-nokha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1425491885, "creation_date": 1425491426, "last_edit_date": 1425491817, "question_id": 28861393, "link": "https://stackoverflow.com/questions/28861393/code-showing-lvalue-error", "title": "code showing lvalue error", "body": "<p>My code has an error</p>\n\n<blockquote>\n  <p><strong>prog.cpp</strong> <br><br>\n   To compare two given two string of same length and to<br>\n  give the required output to user for example if str1 is greater than the other string.</p>\n</blockquote>\n\n<pre><code>      #include&lt;iostream&gt;\n      #include&lt;cstring&gt;\n      using namespace std;\n\n   int main()\n\n     {    \n       int i=0;\n\n\n         char  str1[10],str2[10];\n\n          cin&gt;&gt;str1&gt;&gt;str2;\n\n          if(strlen(str1)!=strlen(str2)) return 0;\n\n         while(str1[i]!='\\n'){\n\n        if(str1[i]&gt;='A'&amp;&amp;str1[i]&lt;='Z') str1[i]=str1[i]+32;\n       if(str2[i]&gt;='A'&amp;&amp;str2[i]&lt;='Z') str2[i]=str2[i]+32;\n         str1++;   //is there any over here??\n          }\n\n        int result=strcmp(str1,str2);\n         if(result==0) cout&lt;&lt;\"0\";\n         else if(result&gt;0) cout&lt;&lt;\"1\";\n         else cout&lt;&lt;\"-1\";\n            // printing values..\n     return 0;\n\n         }\n</code></pre>\n"}, {"tags": ["javascript", "c++", "graphics", "glut", "embedding"], "comments": [{"owner": {"reputation": 2937, "user_id": 1937836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219b77f9d21de75e81851b6b886057c7?s=128&d=identicon&r=PG", "display_name": "Timothy Gu", "link": "https://stackoverflow.com/users/1937836/timothy-gu"}, "edited": false, "score": 0, "creation_date": 1425492492, "post_id": 28861335, "comment_id": 45988713, "body": "Might be a duplicate of <a href=\"http://stackoverflow.com/questions/2713289/how-to-execute-javascript-function-in-c\" title=\"how to execute javascript function in c\">stackoverflow.com/questions/2713289/&hellip;</a>"}, {"owner": {"reputation": 124, "user_id": 4633347, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/HYrAD.png?s=128&g=1", "display_name": "ArcaneEnforcer", "link": "https://stackoverflow.com/users/4633347/arcaneenforcer"}, "reply_to_user": {"reputation": 2937, "user_id": 1937836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219b77f9d21de75e81851b6b886057c7?s=128&d=identicon&r=PG", "display_name": "Timothy Gu", "link": "https://stackoverflow.com/users/1937836/timothy-gu"}, "edited": false, "score": 0, "creation_date": 1425494476, "post_id": 28861335, "comment_id": 45989828, "body": "This is not a duplicate.  My question is specifically based around javascript graphics displayed on a c++ window."}, {"owner": {"reputation": 544, "user_id": 5061163, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EigrD.jpg?s=128&g=1", "display_name": "Fabrice NEYRET", "link": "https://stackoverflow.com/users/5061163/fabrice-neyret"}, "edited": false, "score": 0, "creation_date": 1444062432, "post_id": 28861335, "comment_id": 53731396, "body": "I&#39;m not sure what you aim at, or what is you list of requirements (what is allowed or not for you), since there are plenty of possibility here. - having a navigator subwindow in you c++ application - having js doing everything but graphics - having a js doing graphics on a not-web way (nodejs+package) - ...  Here, somehow, you seem to want to have some part of graphics done in C++, and some part of graphics done in JS ? which doing what, split how ? (and expecting sharing a graphics context ?)"}], "owner": {"reputation": 124, "user_id": 4633347, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/HYrAD.png?s=128&g=1", "display_name": "ArcaneEnforcer", "link": "https://stackoverflow.com/users/4633347/arcaneenforcer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444054712, "creation_date": 1425491272, "last_edit_date": 1425491559, "question_id": 28861335, "link": "https://stackoverflow.com/questions/28861335/javascript-function-call-from-c-program", "title": "JavaScript function call from C++ Program", "body": "<p>I have seen a few questions pertaining to embedding JS in a c++ program or calling js functions from c++.  I was wondering if it was possible to call javascript functions that have graphics from a c++ program, specifically a GLUT program.  I have heard of V8 and other JS engines but I wasn't sure if they were able to display graphics on the screen of a c++ window(like a glut, glu, or sdl window).</p>\n"}, {"tags": ["c++", "memory", "cuda", "gpu"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2391134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b01e74a82fd68e7dad7525f954eaeb?s=128&d=identicon&r=PG", "display_name": "ramXTR", "link": "https://stackoverflow.com/users/2391134/ramxtr"}, "edited": false, "score": 0, "creation_date": 1425496387, "post_id": 28862422, "comment_id": 45990972, "body": "Thanks a bunch! Your answer works and clarified things for me. Much appreciated. Note that method 3- works too when using the trick you point out."}], "owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "is_accepted": true, "score": 2, "last_activity_date": 1425496479, "last_edit_date": 1425496479, "creation_date": 1425494730, "answer_id": 28862422, "question_id": 28861161, "link": "https://stackoverflow.com/questions/28861161/cuda-find-out-if-host-buffer-is-pinned-page-locked/28862422#28862422", "title": "CUDA: Find out if host buffer is pinned (page-locked)", "body": "<p>Your method 2 should work (I think method 3 should work also).  It's likely that you are getting confused by how to do proper CUDA error checking in this scenario.</p>\n\n<p>Since you have a runtime API call that is failing, if you do something like <code>cudaGetLastError</code> after the kernel call, it will show the runtime API failure that occurred <em>previously</em> on the <code>cudaPointerGetAttributes()</code> call.  This is not necessarily catastrophic, in your case.  What you want to do is to <em>clear out</em> that error, since you know it occurred and have handled it correctly.  You can do that with an extra call to <code>cudaGetLastError</code> (for this type of \"non-sticky\" API error, i.e. an API error that does not imply a corrupted CUDA context).</p>\n\n<p>Here's a fully worked example:</p>\n\n<pre><code>$ cat t642.cu\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define DSIZE 10\n#define nTPB 256\n\n#define cudaCheckErrors(msg) \\\n    do { \\\n        cudaError_t __err = cudaGetLastError(); \\\n        if (__err != cudaSuccess) { \\\n            fprintf(stderr, \"Fatal error: %s (%s at %s:%d)\\n\", \\\n                msg, cudaGetErrorString(__err), \\\n                __FILE__, __LINE__); \\\n            fprintf(stderr, \"*** FAILED - ABORTING\\n\"); \\\n            exit(1); \\\n        } \\\n    } while (0)\n\n__global__ void mykernel(int *data, int n){\n\n  int idx = threadIdx.x+blockDim.x*blockIdx.x;\n  if (idx &lt; n) data[idx] = idx;\n}\n\nint my_func(int *data, int n){\n\n  cudaPointerAttributes my_attr;\n  if (cudaPointerGetAttributes(&amp;my_attr, data) == cudaErrorInvalidValue) {\n    cudaGetLastError(); // clear out the previous API error\n    cudaHostRegister(data, n*sizeof(int), cudaHostRegisterPortable);\n    cudaCheckErrors(\"cudaHostRegister fail\");\n    }\n  int *d_data;\n  cudaMalloc(&amp;d_data, n*sizeof(int));\n  cudaCheckErrors(\"cudaMalloc fail\");\n  cudaMemset(d_data, 0, n*sizeof(int));\n  cudaCheckErrors(\"cudaMemset fail\");\n  mykernel&lt;&lt;&lt;(n+nTPB-1)/nTPB, nTPB&gt;&gt;&gt;(d_data, n);\n  cudaDeviceSynchronize();\n  cudaCheckErrors(\"kernel fail\");\n  cudaMemcpy(data, d_data, n*sizeof(int), cudaMemcpyDeviceToHost);\n  cudaCheckErrors(\"cudaMemcpy fail\");\n  int result = 1;\n  for (int i = 0; i &lt; n; i++) if (data[i] != i) result = 0;\n  return result;\n}\n\nint main(int argc, char *argv[]){\n\n  int *h_data;\n  int mysize = DSIZE*sizeof(int);\n  int use_pinned = 0;\n  if (argc &gt; 1) if (atoi(argv[1]) == 1) use_pinned = 1;\n  if (!use_pinned) h_data = (int *)malloc(mysize);\n  else {\n    cudaHostAlloc(&amp;h_data, mysize, cudaHostAllocDefault);\n    cudaCheckErrors(\"cudaHostAlloc fail\");}\n  if (!my_func(h_data, DSIZE)) {printf(\"fail!\\n\"); return 1;}\n  printf(\"success!\\n\");\n  return 0;\n}\n\n$ nvcc -o t642 t642.cu\n$ ./t642\nsuccess!\n$ ./t642 1\nsuccess!\n$\n</code></pre>\n\n<p>In your case, I believe you have not properly handled the API error as I have done on the line where I placed the comment:</p>\n\n<pre><code>// clear out the previous API error\n</code></pre>\n\n<p>If you omit this step (you can try commenting it out), then when you run the code in the case 0 (i.e. don't use pinned memory prior to the function call), then you will appear to get a \"spurious\" error on the next error check step (the next API call in my case, but may be after the kernel call in your case).</p>\n"}], "owner": {"reputation": 21, "user_id": 2391134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b01e74a82fd68e7dad7525f954eaeb?s=128&d=identicon&r=PG", "display_name": "ramXTR", "link": "https://stackoverflow.com/users/2391134/ramxtr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2176, "favorite_count": 1, "accepted_answer_id": 28862422, "answer_count": 1, "score": 1, "last_activity_date": 1425496479, "creation_date": 1425490722, "question_id": 28861161, "link": "https://stackoverflow.com/questions/28861161/cuda-find-out-if-host-buffer-is-pinned-page-locked", "title": "CUDA: Find out if host buffer is pinned (page-locked)", "body": "<p>A short description of my problem is as follows:</p>\n\n<p>I developed a function that calls a CUDA kernel. My function receives a pointer to the host data buffers (input and output of kernel), and has no control over the allocation of these buffers. </p>\n\n<p>--> It is possible that the host data was allocated with either of malloc or cudaHostAlloc. My function is not specifically told which allocation method was used.</p>\n\n<p>The question is: what is a feasible way for my function to figure out whether the host buffers are pinned/page-locked (cudaHostAlloc) or not (regular malloc)?</p>\n\n<p>The reason I am asking is that if they are not page-locked, I would like to use cudaHostRegister() to make them (the buffers) so, to make them amenable for streams.</p>\n\n<p>I have tried three ways which have failed:\n1- Always apply cudaHostRegister(): this way is not good if the host buffers are already pinned\n2- Run cudaPointerGetAttributes(), and if the return error is cudaSuccess, then the buffers are already pinned, nothing to do; else if cudaErrorInvalidValue, apply cudaHostRegister : for some reason this way results in the kernel execution returning an error\n3- Run cudaHostGetFlags(), and if return is not a success, then apply cudaHostRegister : same behavior as 2-.</p>\n\n<p>In the case of 2- and 3-, the error is \"invalid argumentn\"</p>\n\n<p>Note that my code currently is not using streams, rather always calls cudaMemcpy() for the entire host buffers. If I do not use any of the three above ways, my code runs to completion, regardless of whether the host buffer is pinned or not.</p>\n\n<p>Any advice? Many thanks in advance.</p>\n"}, {"tags": ["c++", "multithreading", "stl", "noncopyable", "private-constructor"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 2, "creation_date": 1425491183, "post_id": 28861123, "comment_id": 45987962, "body": "You&#39;d need your own container, which doesn&#39;t require copyable types and allows in-place construction (&quot;emplacement&quot;) like the C++11 containers. Or possibly add a level of indirection and store pointers to dynamic objects (carefully deleting them as appropriate, since you don&#39;t have any suitable smart pointers). <a href=\"http://www.boost.org/doc/libs/1_57_0/doc/html/container.html\" rel=\"nofollow noreferrer\">Boost</a> might help, if you really are stuck in the past."}], "answers": [{"owner": {"reputation": 19328, "user_id": 806299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/89bd8263f33f9185b51c408666f6ee47?s=128&d=identicon&r=PG", "display_name": "cppcoder", "link": "https://stackoverflow.com/users/806299/cppcoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1425551215, "creation_date": 1425551215, "answer_id": 28875544, "question_id": 28861123, "link": "https://stackoverflow.com/questions/28861123/how-to-use-vector-or-different-container-with-non-copyable-class/28875544#28875544", "title": "How to use vector (or different container) with non copyable class?", "body": "<p>You could store the pointer to the object.  </p>\n\n<pre><code>std::vector&lt;PrepareLogFileThread*&gt; v;  \n</code></pre>\n\n<p>You should be careful about the lifetime of the object.</p>\n"}, {"owner": {"reputation": 1818, "user_id": 4491408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb320866c604eaa67685a61e799719f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/4491408/rob"}, "is_accepted": true, "score": 1, "last_activity_date": 1425551490, "creation_date": 1425551490, "answer_id": 28875654, "question_id": 28861123, "link": "https://stackoverflow.com/questions/28861123/how-to-use-vector-or-different-container-with-non-copyable-class/28875654#28875654", "title": "How to use vector (or different container) with non copyable class?", "body": "<p>Standard containers assume their elements support value semantics (which includes, in your parlance, being \"copyable\" - among other things). </p>\n\n<p>One option is to create a container of your own that does not require such semantics.   That is difficult, for various reasons.</p>\n\n<p>Alternatively, have your container elements be something else which that does have value semantics, where the value uniquely identifies an instance of your  <code>PrepareLogFileThread</code> class.   An obvious choice for such a \"something\" is a pointer.  For example;</p>\n\n<pre><code>void f()\n{\n    std::vector&lt;PrepareLogFileThread *&gt; v;\n\n    for(int i = 0; i &lt; list.length(); ++i){\n\n    PrepareLogFileThread *a = new PrepareLogFileThread(  \n                list[i],\n                LOG_TEMPLATE);\n    a-&gt;start();\n    v.push_back( a );\n  }\n}\n</code></pre>\n\n<p>Keep in mind, however, that it is necessary to delete the elements of the vector <code>v</code> before it ceases to exist - objects created with operator <code>new</code> are not automatically destroyed up when done.   Failing to do this will result in a memory leak.</p>\n\n<p>Note also that <code>std::auto_ptr</code> does not support value semantics, so should not be stored in a standard container.</p>\n"}], "owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 28875654, "answer_count": 2, "score": 1, "last_activity_date": 1425551490, "creation_date": 1425490634, "last_edit_date": 1425548427, "question_id": 28861123, "link": "https://stackoverflow.com/questions/28861123/how-to-use-vector-or-different-container-with-non-copyable-class", "title": "How to use vector (or different container) with non copyable class?", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>void f(){\n  .....\n  std::vector&lt;PrepareLogFileThread&gt; v;\n\n  for(int i = 0; i &lt; list.length(); ++i){\n\n    PrepareLogFileThread a(  \n                list[i],\n                LOG_TEMPLATE);\n    a.start();\n    v.push_back( a );\n  }\n  ....\n}\n</code></pre>\n\n<p>class <code>PrepareLogFileThread</code> inherits from a <code>Thread</code> class that uses <code>pthread</code> (we use c++98 standard.... and I can use <code>auto_ptr</code>).</p>\n\n<p>The problem here is that <code>Thread</code>'s copy constructor is private so that is doesn't mess up the execution or something (I am not the author of this class).</p>\n\n<p>The idea here is that I create my <code>PrepareLogFileThread</code> objects, <code>push_back</code> to <code>v</code>, start them and then they all finish before <code>f</code> returns.</p>\n\n<p><code>PrepareLogFileThread</code> has in destructor call to <code>pthread_join</code> so that it finishes there.</p>\n\n<p>But I can't because I copy <code>a</code> in line with <code>push_back</code>.</p>\n\n<p>How can I do it without c++11 and changing <code>Thread</code>'s copy constructor?</p>\n\n<p>I am using gcc 4.4.6 and I can use <code>auto_ptr</code>.</p>\n"}, {"tags": ["c++", "hyperlink", "linked-list"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 2, "creation_date": 1425490528, "post_id": 28861031, "comment_id": 45987593, "body": "Sounds like you need to step through the code in a debugger. And fix the horrendous indentation so you can figure out whether it&#39;s properly structured."}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1425490547, "post_id": 28861031, "comment_id": 45987602, "body": "Yes, please, fix the indentation."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1425490609, "post_id": 28861031, "comment_id": 45987655, "body": "Done. It was making me dizzy. Regarding the endless loop, Note you never update the value of <code>Head</code> anywhere in your removal code. Consequently, it is effectively a <code>while(true)</code> loop, which you can expect is going nowhere fast."}, {"owner": {"reputation": 306, "user_id": 3508350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e8b4d87030697e2b69d6bdcf6c681c0?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/3508350/joe-sewell"}, "edited": false, "score": 0, "creation_date": 1425490973, "post_id": 28861031, "comment_id": 45987826, "body": "I almost feel like this is a class (no pun intended) assignment. Here&#39;s a hint: in <code>delete_and_show</code>, at what point does <code>Head</code> get modified in any way?"}, {"owner": {"reputation": 41, "user_id": 4381434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usE5l.jpg?s=128&g=1", "display_name": "ali gholami", "link": "https://stackoverflow.com/users/4381434/ali-gholami"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1425491429, "post_id": 28861031, "comment_id": 45988069, "body": "@WhozCraig I think deleting the elements (which is done in &lt;delete temp1&gt;) is like updating the Head.because Head itself should not be moved,im just removing the elements untill i reach a NULL."}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1425491682, "post_id": 28861031, "comment_id": 45988200, "body": "Inside your loop <code>Head</code> is never <code>NULL</code> because you never touch it. Also, your functions should only do one thing. If you want to delete your list, make a <code>delete_list</code> function and if you want to print call <code>show</code>."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1425493018, "post_id": 28861031, "comment_id": 45988988, "body": "@aligholami &quot;... is like updating the Head&quot; - Well, think again. Consider this: <code>int a = 5, b = a; b = 0;</code> What you&#39;re describing would have the expectation that <code>b = 0</code> also changes <code>a</code> to <code>0</code>. That the variables are pointers make no difference. The logic is flawed regardless."}, {"owner": {"reputation": 41, "user_id": 4381434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usE5l.jpg?s=128&g=1", "display_name": "ali gholami", "link": "https://stackoverflow.com/users/4381434/ali-gholami"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1425500328, "post_id": 28861031, "comment_id": 45993225, "body": "@WhozCraig Dear friend :)) I was totally aware of this mistake.i was talking about pointers.when you point to sth,obviously your are mentioning that(sth). this (sth) is Head here."}], "owner": {"reputation": 41, "user_id": 4381434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usE5l.jpg?s=128&g=1", "display_name": "ali gholami", "link": "https://stackoverflow.com/users/4381434/ali-gholami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425490538, "creation_date": 1425490368, "last_edit_date": 1425490538, "question_id": 28861031, "link": "https://stackoverflow.com/questions/28861031/link-list-initializing-deleting-and-showing", "title": "link list initializing,deleting and showing", "body": "<p>i wanted a code that initializes the link list from 1 to 10 ,then deletes the last node and shows the link list each time.\ni wrote this code but the first (WHILE) seems to be unlimited that it will the restricted area of RAM!</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\nusing namespace std;\n\n// function prototypes\nvoid add_one_to_ten();\nvoid delete_and_show();\n\n\nstruct node\n{\n    int dat;\n    node* nxt;\n};\n\nnode* Head = NULL;\n\nint main()\n{\n    add_one_to_ten();\n    delete_and_show();\n    _getch();\n    return 0;\n}\n\n\n//add_one_to_ten function body\nvoid add_one_to_ten()\n{\n    for (int i = 1; i &lt;= 10; i++)\n    {\n        node* temp = new node;\n        temp-&gt;dat = i;\n        temp-&gt;nxt = Head;\n        Head = temp;\n    }\n}\n\n//delete_and_show function body\nvoid delete_and_show()\n{\n    node *temp1 = NULL, *temp2 = NULL, *temp3 = NULL;\n    // this goes untill we reach a null LL\n    while  (Head != NULL)\n    {\n        //this will show the LL each time\n        temp3 = Head;\n        while (temp3 != NULL)\n        {\n            cout &lt;&lt; temp3-&gt;dat &lt;&lt; \"  \";\n            temp3 = temp3-&gt;nxt;\n        }\n        cout &lt;&lt; endl;\n        if (Head == NULL)\n            cout &lt;&lt; \"The list is empty.\\n\";\n        else\n        {\n            temp1 = Head;\n            while (temp1-&gt;nxt != NULL)\n            {\n                temp2 = temp1;\n                temp1 = temp1-&gt;nxt;\n            }\n            delete temp1;\n            temp2-&gt;nxt = NULL;\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "exception", "mfc"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1425493265, "post_id": 28860993, "comment_id": 45989137, "body": "This is likely an effect caused by an application running in your desktop, that installs a global hook or causes code to run in your process using other infrastructure. Inside the handler an exception is raised, and later caught (otherwise you&#39;d see a second-chance exception, together with an <i>uncaught exception</i> dialog). To solve this you&#39;d have to identify the faulting application, and remove it from your system. Other than that, there&#39;s nothing wrong with your code. Reading Prosise is the right way to learn MFC."}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "edited": false, "score": 0, "creation_date": 1425497010, "post_id": 28860993, "comment_id": 45991343, "body": "What are the exceptions that are thrown?  As IInspectable says, it could be caused by some type of code injection into your process; if so, you would be able to see that DLL on the call stack."}, {"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "edited": false, "score": 0, "creation_date": 1425502460, "post_id": 28860993, "comment_id": 45994468, "body": "The information in the output window is &quot;First-chance exception at 0x000007FEFD4B940D in MainWindowTest.exe: Microsoft C++ exception: Win32Util::Error at memory location 0x00000000025EF130.&quot; There are two identical lines like this."}, {"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "edited": false, "score": 0, "creation_date": 1425503280, "post_id": 28860993, "comment_id": 45994963, "body": "IInspectable - Any suggestions for how to identify the faulting application? Sysinternals autoruns shows hundreds of startups, and I&#39;m not sure terminating processes with Task Manager would remove the cause of the error."}, {"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "edited": false, "score": 0, "creation_date": 1425509825, "post_id": 28860993, "comment_id": 45998255, "body": "This is the stack at the time of the first-chance exception (break on C++ exceptions enabled):\tKernelBase.dll!000007fefd4b940d()\tUnknown  \tpmls64.dll!000000018007b7e6()\tUnknown  \tpmls64.dll!00000001800095b5()\tUnknown  \tpmls64.dll!000000018005af82()\tUnknown  \tpmls64.dll!000000018005f2c7()\tUnknown  \tpmls64.dll!000000018005fa11()\tUnknown  \tpmls64.dll!000000018007db7f()\tUnknown  \tpmls64.dll!000000018007dc33()\tUnknown  \t[External Code]"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1425584827, "post_id": 28860993, "comment_id": 46034046, "body": "The application can be identified by looking at the callstack of the faulting thread inside Visual Studio. Among other information it shows the module containing the code (<i>pmls64.dll</i>). Switching to the <i>Module</i> window (<i>Debug</i> -&gt; <i>Windows</i> -&gt; <i>Modules</i>) and looking for that module displays the <i>Path</i>. From there it should be trivial to figure out which application the module belongs to."}], "answers": [{"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "is_accepted": false, "score": 0, "last_activity_date": 1425533746, "creation_date": 1425533746, "answer_id": 28870769, "question_id": 28860993, "link": "https://stackoverflow.com/questions/28860993/create-cframewnd-gives-first-chance-exceptions-why/28870769#28870769", "title": "Create CFrameWnd gives first-chance exceptions--why?", "body": "<p>Thanks to the useful suggestions from @IInspectable and @David Ching, I was able to track down the cause of the problem. It was a piece of software called \"Premier Voice\", which was installed recently without my knowledge.</p>\n\n<p>I used Process Explorer to trace the usage of pmls64.dll, and Task Manager and autoruns to locate the executables. The program was installed in Programs(x86) in its own folder, and had an uninstall, which I used. I then had to manually delete the folder in Programs(x86), and delete several registry keys.</p>\n\n<p>In addition, this program installed an add-on to Firefox (again without permission), which I had to remove manually.</p>\n\n<p>Besides the exceptions it was causing in my own software, I suspect Premier Voice was what popped up a window today asking me for the date of birth and gender of each user of this computer.</p>\n"}], "owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1425533746, "creation_date": 1425490243, "question_id": 28860993, "link": "https://stackoverflow.com/questions/28860993/create-cframewnd-gives-first-chance-exceptions-why", "title": "Create CFrameWnd gives first-chance exceptions--why?", "body": "<p>I'm attempting to write a simple MFC app that draws in a scrollable window, using code based on CFrameWnd. The code below is adapted from Prosise \"Programming Windows with MFC\", 2nd ed, pp 89ff.</p>\n\n<p>When I run this in the debugger, I get two first-chance exceptions. If I ignore these, the window appears as expected, and I can draw in it. If I enable break on \"C++ exceptions\", I get a stack which is only \"internal\" code, for which I do not have the source. By stepping through the code, I find that the exceptions occur in CWnd::CreateEx, in the call to CreateWindowEx.</p>\n\n<p>What is wrong with this code? 64-bit Windows 7, Visual Studio 2013 update 4. This is a debug build, x64, using MFC in a static library, using multi-byte character set, with the multi-threaded debug runtime (/MTd).</p>\n\n<pre><code>// Viewer.h\n#include &lt;afxwin.h&gt;\n\n// Adapted from Prosise \"Programming Windows with MFC\", 2nd ed, pp 89ff.\nclass CViewerApp : public CWinApp\n{\npublic:\n    virtual BOOL InitInstance();\n\n};\n\nclass CMainWindow : public CFrameWnd\n{\npublic:\n    CMainWindow();\nprotected:\n    afx_msg void OnPaint();\n    afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);\n    afx_msg void OnSize(UINT nType, int cx, int cy);\n    afx_msg void OnHScroll(UINT nCode, UINT nPos, CScrollBar *pScrollBar);\n    afx_msg void OnVScroll(UINT nCode, UINT nPos, CScrollBar *pScrollBar);\n\npublic:\n\n    DECLARE_MESSAGE_MAP()\n};\n\n// Viewer.cpp: Display\n#include &lt;afxwin.h&gt;\n#include \"Viewer.h\"\n\nCViewerApp myApp;\n\nBOOL CViewerApp::InitInstance()\n{\n    m_pMainWnd = new CMainWindow;\n    m_pMainWnd-&gt;ShowWindow(SW_SHOW);\n    m_pMainWnd-&gt;UpdateWindow();\n\n    return TRUE;\n}\nBEGIN_MESSAGE_MAP(CMainWindow, CFrameWnd)\n    ON_WM_CREATE()\n    ON_WM_SIZE()\n    ON_WM_PAINT()\n    ON_WM_HSCROLL()\n    ON_WM_VSCROLL()\nEND_MESSAGE_MAP()\n\nCMainWindow::CMainWindow()\n{\n    Create(NULL, \"Viewer\", WS_OVERLAPPEDWINDOW | WS_HSCROLL | WS_VSCROLL | WS_MAXIMIZE);\n}\n\nint CMainWindow::OnCreate(LPCREATESTRUCT lpCreateStruct)\n{\n    if(CFrameWnd::OnCreate(lpCreateStruct) == -1)\n        return -1;\n\n    return 0;\n}\n\nvoid CMainWindow::OnPaint()\n{\n}\n\nvoid CMainWindow::OnSize(UINT nType, int cx, int cy)\n{\n    //TO DO\n}\nvoid CMainWindow::OnHScroll(UINT nCode, UINT nPos, CScrollBar *pScrollBar)\n{\n}\n\nvoid CMainWindow::OnVScroll(UINT nCode, UINT nPos, CScrollBar *pScrollBar)\n{\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "function"], "comments": [{"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "reply_to_user": {"reputation": 11800, "user_id": 1594913, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tLf29.jpg?s=128&g=1", "display_name": "JBL", "link": "https://stackoverflow.com/users/1594913/jbl"}, "edited": false, "score": 0, "creation_date": 1425490307, "post_id": 28860967, "comment_id": 45987445, "body": "How to pass the dynamic array to function like the method above"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1425490572, "post_id": 28860967, "comment_id": 45987623, "body": "<code>list_cities(number, p);</code>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1425490609, "post_id": 28860967, "comment_id": 45987654, "body": "BTW, prefer <code>std::vector</code>."}, {"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1425490660, "post_id": 28860967, "comment_id": 45987695, "body": "something easier? just help me out in sending the dynamic array to function"}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1425490858, "post_id": 28860967, "comment_id": 45987783, "body": "@FahadRana: What do you mean? There&#39;s nothing easier than <code>list_cities(number, p)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1494465476, "post_id": 28861110, "comment_id": 74843691, "body": "Followed a link here, arrays are <b>not</b> passed by reference, array to pointer conversion is performed. In this case, no array even exists, there is only a pointer."}], "owner": {"reputation": 8450, "user_id": 2842375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25280992c96f51e2b09f71beb360ef?s=128&d=identicon&r=PG&f=1", "display_name": "shauryachats", "link": "https://stackoverflow.com/users/2842375/shauryachats"}, "is_accepted": true, "score": 0, "last_activity_date": 1494520415, "last_edit_date": 1494520415, "creation_date": 1425490598, "answer_id": 28861110, "question_id": 28860967, "link": "https://stackoverflow.com/questions/28860967/pass-a-dynamic-array-of-objects-to-function/28861110#28861110", "title": "Pass a dynamic array of objects to function", "body": "<p>Arrays are <strong>by default</strong> converted to pointers, which are then passed as reference. So, there is no provision for <em>explicitly</em> passing arrays by reference. That is,</p>\n\n<pre><code>void list_cities(int number, City &amp;p[])\n</code></pre>\n\n<p>is not <code>p[]</code> being passed as reference, but makes <code>p[]</code> an array of references.</p>\n\n<p>Code:</p>\n\n<pre><code>void list_cities(int number, City p[])\n{\n    for(int i=0; i&lt;number; i++)\n    {\n        cout&lt;&lt;p[i].get_name()&lt;&lt;endl;\n    }\n}\n\nint main()\n{\n    City *p = new City[number];\n    list_cities(number,p);\n    delete[] p;\n}\n</code></pre>\n"}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": false, "score": 2, "last_activity_date": 1425490673, "creation_date": 1425490673, "answer_id": 28861140, "question_id": 28860967, "link": "https://stackoverflow.com/questions/28860967/pass-a-dynamic-array-of-objects-to-function/28861140#28861140", "title": "Pass a dynamic array of objects to function", "body": "<p>Confusingly, a function parameter that looks like an array <code>City p[]</code> is actually a pointer, equivalent to <code>City * p</code>. So you can just pass a pointer to your dynamic array:</p>\n\n<pre><code>list_cities(number, p);\n</code></pre>\n\n<p>That said, prefer friendly types like <code>std::vector&lt;City&gt;</code> so you don't have to juggle pointers and carefully avoid memory leaks and worse.</p>\n"}, {"comments": [{"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1425493039, "post_id": 28861351, "comment_id": 45989003, "body": "I have no idea about vectors and they might solve but the other answers solved the problem."}, {"owner": {"reputation": 1374, "user_id": 1818292, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2badf225f7ad2f14f75c8afd1fe1c9b?s=128&d=identicon&r=PG", "display_name": "Satara", "link": "https://stackoverflow.com/users/1818292/satara"}, "reply_to_user": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1425494036, "post_id": 28861351, "comment_id": 45989586, "body": "You should definitely read about it. It&#39;s a container from the c++ Standard Template Library, which is basically a very thin wrapper around the dynamic array. But in contrast to dynamic arrays it provides basic functions e.g. for insertion or removing of elements and can handle the size of the array for you."}], "owner": {"reputation": 1374, "user_id": 1818292, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f2badf225f7ad2f14f75c8afd1fe1c9b?s=128&d=identicon&r=PG", "display_name": "Satara", "link": "https://stackoverflow.com/users/1818292/satara"}, "is_accepted": false, "score": 1, "last_activity_date": 1425491309, "creation_date": 1425491309, "answer_id": 28861351, "question_id": 28860967, "link": "https://stackoverflow.com/questions/28860967/pass-a-dynamic-array-of-objects-to-function/28861351#28861351", "title": "Pass a dynamic array of objects to function", "body": "<p>Using <code>std::vector</code> you can also do the following:</p>\n\n<pre><code>void list_cities(std::vector&lt;City&gt; &amp;cities)\n{\n    for (size_t iCity = 0; iCity &lt; cities.size(); iCity++){\n        cout &lt;&lt; cities[iCity].get_name() &lt;&lt; endl;\n    }\n}\n\nstd::vector&lt;City&gt; cities;\n// fill list here\nlist_cities(cities);\n</code></pre>\n"}], "owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14420, "favorite_count": 2, "accepted_answer_id": 28861110, "answer_count": 3, "score": 3, "last_activity_date": 1494520415, "creation_date": 1425490145, "last_edit_date": 1425490234, "question_id": 28860967, "link": "https://stackoverflow.com/questions/28860967/pass-a-dynamic-array-of-objects-to-function", "title": "Pass a dynamic array of objects to function", "body": "<p>I am in the process of learning c++. So i know a method by which you send something to function and then work as if it was call by value but actually it is call by reference. For example  </p>\n\n<pre><code>void myFUNC(string&amp; x)\n</code></pre>\n\n<p>Now, I have a dynamically created array of objects. I want to pass the array to function like a method above. Here's the code snippets  </p>\n\n<pre><code>City *p = new City[number]; // pointer to dynamic array of class objects\n\n//function prototype\nvoid list_cities(int number, City p[]){\n    for(int i=0; i&lt;number; i++){\n        cout&lt;&lt;p[i].get_name()&lt;&lt;endl;\n    }\n}\n</code></pre>\n"}]